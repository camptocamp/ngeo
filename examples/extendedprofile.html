<!DOCTYPE html>
<html ng-app='app'>
  <head>
    <title>Extended profile example</title>
    <meta charset="utf-8">
    <meta name="viewport"
          content="initial-scale=1.0, user-scalable=no, width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="../node_modules/openlayers/css/ol.css" type="text/css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css" type="text/css">
    <style>

        #map {
          width: 100%;
          height: 200px;
        }
        .extended-profile {
          width: 100%;
          height: 250px;
          background-color: gray;
        }
        #classes {
          width: 800px;
          height: 100px;
          padding-left: 25px;
        } 
        #profileInfo {
          width: 800px;
          height: 50px;
          padding-left: 25px;
        }

    </style>
  </head>
  <body ng-controller="MainController as ctrl">
    <label for="coordinates">Demo coordinates:</label>
    <input type="text" id="coordinates" style="width: 600px;" value="{2528725.0,1195975.0},{2538725.0,1197975.0},{2538735.0,1197995.0}"></input>
            <br>
        <button onclick="ngeo.extendedProfile.utils.getPointsInProfileAsCSV(ngeo.extendedProfile.loader.profilePoints);">Export as CSV </button>
        <button onclick="ngeo.extendedProfile.utils.exportToImageFile('png');">Export as PNG</button>
        <button onclick="ngeo.extendedProfile.measure.startMeasure();">Start measure</button>
        <label for="demdsm"> Afficher le MNT/MNS:</label>
        <input style="width: 35px;" type="checkbox" id="demdsm">
        </input><label for="width"> Largeur:</label>
        <input style="width: 35px;" type="number" id="width" value=15></input>
        <label for="returnType"> Return type:</label>
        <select id="material" onchange="ngeo.extendedProfile.plot2canvas.changeStyle(this.value);">
            <option value="COLOR_PACKED">COLOR_PACKED</option>
            <option value="INTENSITY">INTENSITY</option>
            <option value="CLASSIFICATION" selected>CLASSIFICATION</option>
        </select>
        <br>
        <label for="attributes"> Attributes:</label>
        <input type="text" id="attributes" value="" style="width: 600px;"></input>
        <br>
    <div id="map" ngeo-map="ctrl.map"></div>
    <div class="extended-profile" ngeo-extended-profile="::ctrl.profileData"
         ngeo-extended-profile-options="::ctrl.profileOptions"
         ngeo-extended-profile-pois="::ctrl.profilePoisData"
         ngeo-extended-profile-highlight="ctrl.profileHighlight">
      <canvas id="profileCanvas"></canvas>
      <svg id="profileSVG" style="fill: #ffff00;position:absolute;z-index:1"></svg>
    </div>
    <div id="classes"></div>
    <div id="profileInfo"></div>

    <ul ng-show="ctrl.point != null">
      <li>Longitude: {{ctrl.point.x}}</li>
      <li>Latitude: {{ctrl.point.y}}</li>
      <li>Elevation: {{ctrl.point.values.mnt}}</li>
      <li>Distance: {{ctrl.point.dist}}</li>
    </ul>

    <p id="desc">This example shows how to use <code><a href="../apidoc/ngeo.extendedProfileDirective.html" title="Read our documentation">ngeo-extended-profile</a></code> to create a D3-based elevation profile graphic.</p>
    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script src="../node_modules/angular/angular.js"></script>
    <script src="../node_modules/angular-gettext/dist/angular-gettext.js"></script>
    <script src="../node_modules/d3/build/d3.js"></script>
    <script src="../node_modules/angular-ui-date/dist/date.js"></script>
    <script src="../node_modules/angular-float-thead/angular-floatThead.js"></script>
    <script src="../node_modules/floatthead/dist/jquery.floatThead.min.js"></script>
    <script src="../node_modules/proj4/dist/proj4.js"></script>
    <script src="/@?main=extendedprofile.js"></script>
    <script src="default.js"></script>
    <script src="../utils/watchwatchers.js"></script>
  </body>
</html>
