(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],[function(t,e,i){"use strict";i.d(e,"a",function(){return r});i.d(e,"c",function(){return a});i.d(e,"d",function(){return o});i.d(e,"e",function(){return s});i.d(e,"g",function(){return l});i.d(e,"h",function(){return c});i.d(e,"f",function(){return h});i.d(e,"s",function(){return f});i.d(e,"i",function(){return d});i.d(e,"j",function(){return p});i.d(e,"o",function(){return v});i.d(e,"m",function(){return g});i.d(e,"n",function(){return m});i.d(e,"l",function(){return y});i.d(e,"k",function(){return _});i.d(e,"q",function(){return b});i.d(e,"b",function(){return w});i.d(e,"p",function(){return O});i.d(e,"r",function(){return x});i.d(e,"t",function(){return S});i.d(e,"u",function(){return C});i.d(e,"v",function(){return E});var n=i(9);var r=document.implementation.createDocument("","",null);var a="http://www.w3.org/2001/XMLSchema-instance";function o(t,e){return r.createElementNS(t,e)}function s(t,e){return u(t,e,[]).join("")}function u(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE){if(e){i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,""))}else{i.push(t.nodeValue)}}else{var n=void 0;for(n=t.firstChild;n;n=n.nextSibling){u(n,e,i)}}return i}function l(t){return t instanceof Document}function c(t){return t instanceof Node}function h(t,e,i){return t.getAttributeNS(e,i)||""}function f(t){return(new DOMParser).parseFromString(t,"application/xml")}function d(t,e){return function(i,r){var a=t.call(e,i,r);if(a!==undefined){var o=r[r.length-1];Object(n["c"])(o,a)}}}function p(t,e){return function(i,n){var r=t.call(e!==undefined?e:this,i,n);if(r!==undefined){var a=n[n.length-1];a.push(r)}}}function v(t,e){return function(i,n){var r=t.call(e!==undefined?e:this,i,n);if(r!==undefined){n[n.length-1]=r}}}function g(t,e,i){return function(n,r){var a=t.call(i!==undefined?i:this,n,r);if(a!==undefined){var o=r[r.length-1];var s=e!==undefined?e:n.localName;var u=void 0;if(s in o){u=o[s]}else{u=o[s]=[]}u.push(a)}}}function m(t,e,i){return function(n,r){var a=t.call(i!==undefined?i:this,n,r);if(a!==undefined){var o=r[r.length-1];var s=e!==undefined?e:n.localName;o[s]=a}}}function y(t,e){return function(i,n,r){t.call(e!==undefined?e:this,i,n,r);var a=r[r.length-1];var o=a.node;o.appendChild(i)}}function _(t,e){var i=void 0,n=void 0;return function(e,r,a){if(i===undefined){i={};var o={};o[e.localName]=t;i[e.namespaceURI]=o;n=b(e.localName)}T(i,n,r,a)}}function b(t,e){var i=t;return function(t,n,r){var a=n[n.length-1];var s=a.node;var u=i;if(u===undefined){u=r}var l=e;if(e===undefined){l=s.namespaceURI}return o(l,u)}}var w=b();function O(t,e){var i=e.length;var n=new Array(i);for(var r=0;r<i;++r){n[r]=t[e[r]]}return n}function x(t,e,i){var n=i!==undefined?i:{};var r=void 0,a=void 0;for(r=0,a=t.length;r<a;++r){n[t[r]]=e}return n}function S(t,e,i,n){var r=void 0;for(r=e.firstElementChild;r;r=r.nextElementSibling){var a=t[r.namespaceURI];if(a!==undefined){var o=a[r.localName];if(o!==undefined){o.call(n,r,i)}}}}function C(t,e,i,n,r){n.push(t);S(e,i,n,r);return n.pop()}function T(t,e,i,n,r,a){var o=(r!==undefined?r:i).length;var s=void 0,u=void 0;for(var l=0;l<o;++l){s=i[l];if(s!==undefined){u=e.call(a,s,n,r!==undefined?r[l]:undefined);if(u!==undefined){t[u.namespaceURI][u.localName].call(a,u,s,n)}}}}function E(t,e,i,n,r,a,o){r.push(t);T(e,i,n,r,a,o);return r.pop()}},function(t,e,i){"use strict";var n=1;var r=770;var a=36064;var o=16384;var s=4;var u=5;var l=771;var c=34962;var h=34963;var f=35040;var d=35044;var p=35048;var v=2884;var g=3042;var m=2960;var y=2929;var _=3089;var b=5121;var w=5123;var O=5125;var x=5126;var S=6408;var C=35632;var T=35633;var E=35714;var M=9729;var j=10240;var k=10241;var R=10242;var A=10243;var I=3553;var P=33984;var D=33071;var N=35713;var $=36160;var L=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function F(t,e){var i=L.length;for(var n=0;n<i;++n){try{var r=t.getContext(L[n],e);if(r){return r}}catch(t){}}return null}i.d(e,"a",function(){return W});i.d(e,"b",function(){return V});i.d(e,"d",function(){return B});i.d(e,"c",function(){return K});var G=true;var U=void 0;var H=void 0;var W=false;if(typeof window!=="undefined"&&"WebGLRenderingContext"in window){try{var Y=document.createElement("CANVAS");var z=F(Y,{failIfMajorPerformanceCaveat:true});if(z){W=true;U=z.getParameter(z.MAX_TEXTURE_SIZE);H=z.getSupportedExtensions()}}catch(t){}}var V="v4.6.4";function B(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t}var q=0;function K(t){return t.ol_uid||(t.ol_uid=++q)}},function(t,e,i){"use strict";var n={};n.assert=function(t,e,i){return t};n.assertNumber=function(t,e,i){return t};n.assertString=function(t,e,i){return t};n.assertFunction=function(t,e,i){return t};n.assertObject=function(t,e,i){return t};n.assertArray=function(t,e,i){return t};n.assertBoolean=function(t,e,i){return t};n.assertElement=function(t,e,i){return t};n.assertInstanceof=function(t,e,i,n){return t};n.assertObjectPrototypeIsIntact=function(){};e["a"]=n},function(t,e,i){"use strict";i.d(e,"a",function(){return l});i.d(e,"b",function(){return c});i.d(e,"c",function(){return h});i.d(e,"e",function(){return f});i.d(e,"d",function(){return d});var n=i(11);function r(t){var e=function e(i){var n=t.listener;var r=t.bindTo||t.target;if(t.callOnce){f(t)}return n.call(r,i)};t.boundListener=e;return e}function a(t,e,i,n){var r=void 0;for(var a=0,o=t.length;a<o;++a){r=t[a];if(r.listener===e&&r.bindTo===i){if(n){r.deleteIndex=a}return r}}return undefined}function o(t,e){var i=t.ol_lm;return i?i[e]:undefined}function s(t){var e=t.ol_lm;if(!e){e=t.ol_lm={}}return e}function u(t,e){var i=o(t,e);if(i){for(var r=0,a=i.length;r<a;++r){t.removeEventListener(e,i[r].boundListener);Object(n["b"])(i[r])}i.length=0;var s=t.ol_lm;if(s){delete s[e];if(Object.keys(s).length===0){delete t.ol_lm}}}}function l(t,e,i,n,o){var u=s(t);var l=u[e];if(!l){l=u[e]=[]}var c=a(l,i,n,false);if(c){if(!o){c.callOnce=false}}else{c={bindTo:n,callOnce:!!o,listener:i,target:t,type:e};t.addEventListener(e,r(c));l.push(c)}return c}function c(t,e,i,n){return l(t,e,i,n,true)}function h(t,e,i,n){var r=o(t,e);if(r){var s=a(r,i,n,true);if(s){f(s)}}}function f(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);if(i!==-1){e.splice(i,1)}if(e.length===0){u(t.target,t.type)}}Object(n["b"])(t)}}function d(t){var e=s(t);for(var i in e){u(t,i)}}},function(t,e,i){"use strict";i.d(e,"b",function(){return o});i.d(e,"c",function(){return u});i.d(e,"d",function(){return l});i.d(e,"e",function(){return c});i.d(e,"f",function(){return h});i.d(e,"g",function(){return f});i.d(e,"h",function(){return d});i.d(e,"i",function(){return p});i.d(e,"j",function(){return v});i.d(e,"k",function(){return g});i.d(e,"l",function(){return m});i.d(e,"m",function(){return y});i.d(e,"n",function(){return _});i.d(e,"o",function(){return b});i.d(e,"p",function(){return O});i.d(e,"q",function(){return x});i.d(e,"r",function(){return S});i.d(e,"s",function(){return T});i.d(e,"t",function(){return j});i.d(e,"u",function(){return k});i.d(e,"v",function(){return R});i.d(e,"w",function(){return A});i.d(e,"x",function(){return I});i.d(e,"y",function(){return P});i.d(e,"z",function(){return N});i.d(e,"A",function(){return $});i.d(e,"B",function(){return F});i.d(e,"C",function(){return H});i.d(e,"D",function(){return W});i.d(e,"E",function(){return Y});i.d(e,"F",function(){return z});i.d(e,"H",function(){return V});i.d(e,"I",function(){return B});i.d(e,"J",function(){return q});i.d(e,"G",function(){return K});i.d(e,"a",function(){return X});var n=i(24);var r=i(216);var a=i(102);function o(t){var e=v();for(var i=0,n=t.length;i<n;++i){S(e,t[i])}return e}function s(t,e,i){var n=Math.min.apply(null,t);var r=Math.min.apply(null,e);var a=Math.max.apply(null,t);var o=Math.max.apply(null,e);return g(n,r,a,o,i)}function u(t,e,i){if(i){i[0]=t[0]-e;i[1]=t[1]-e;i[2]=t[2]+e;i[3]=t[3]+e;return i}else{return[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}}function l(t,e){if(e){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];return e}else{return t.slice()}}function c(t,e,i){var n=void 0,r=void 0;if(e<t[0]){n=t[0]-e}else if(t[2]<e){n=e-t[2]}else{n=0}if(i<t[1]){r=t[1]-i}else if(t[3]<i){r=i-t[3]}else{r=0}return n*n+r*r}function h(t,e){return d(t,e[0],e[1])}function f(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function p(t,e){var i=t[0];var n=t[1];var r=t[2];var o=t[3];var s=e[0];var u=e[1];var l=a["a"].UNKNOWN;if(s<i){l=l|a["a"].LEFT}else if(s>r){l=l|a["a"].RIGHT}if(u<n){l=l|a["a"].BELOW}else if(u>o){l=l|a["a"].ABOVE}if(l===a["a"].UNKNOWN){l=a["a"].INTERSECTING}return l}function v(){return[Infinity,Infinity,-Infinity,-Infinity]}function g(t,e,i,n,r){if(r){r[0]=t;r[1]=e;r[2]=i;r[3]=n;return r}else{return[t,e,i,n]}}function m(t){return g(Infinity,Infinity,-Infinity,-Infinity,t)}function y(t,e){var i=t[0];var n=t[1];return g(i,n,i,n,e)}function _(t,e){var i=m(e);return C(i,t)}function b(t,e,i,n,r){var a=m(r);return T(a,t,e,i,n)}function w(t,e){var i=m(e);return E(i,t)}function O(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function x(t,e){if(e[0]<t[0]){t[0]=e[0]}if(e[2]>t[2]){t[2]=e[2]}if(e[1]<t[1]){t[1]=e[1]}if(e[3]>t[3]){t[3]=e[3]}return t}function S(t,e){if(e[0]<t[0]){t[0]=e[0]}if(e[0]>t[2]){t[2]=e[0]}if(e[1]<t[1]){t[1]=e[1]}if(e[1]>t[3]){t[3]=e[1]}}function C(t,e){for(var i=0,n=e.length;i<n;++i){S(t,e[i])}return t}function T(t,e,i,n,r){for(;i<n;i+=r){M(t,e[i],e[i+1])}return t}function E(t,e){for(var i=0,n=e.length;i<n;++i){C(t,e[i])}return t}function M(t,e,i){t[0]=Math.min(t[0],e);t[1]=Math.min(t[1],i);t[2]=Math.max(t[2],e);t[3]=Math.max(t[3],i)}function j(t,e,i){var n=void 0;n=e.call(i,R(t));if(n){return n}n=e.call(i,A(t));if(n){return n}n=e.call(i,W(t));if(n){return n}n=e.call(i,H(t));if(n){return n}return false}function k(t){var e=0;if(!V(t)){e=Y(t)*$(t)}return e}function R(t){return[t[0],t[1]]}function A(t){return[t[2],t[1]]}function I(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function P(t,e){var i=void 0;if(e===r["a"].BOTTOM_LEFT){i=R(t)}else if(e===r["a"].BOTTOM_RIGHT){i=A(t)}else if(e===r["a"].TOP_LEFT){i=H(t)}else if(e===r["a"].TOP_RIGHT){i=W(t)}else{Object(n["a"])(false,13)}return i}function D(t,e){var i=Math.min(t[0],e[0]);var n=Math.min(t[1],e[1]);var r=Math.max(t[2],e[2]);var a=Math.max(t[3],e[3]);return(r-i)*(a-n)}function N(t,e,i,n,r){var a=e*n[0]/2;var o=e*n[1]/2;var s=Math.cos(i);var u=Math.sin(i);var l=a*s;var c=a*u;var h=o*s;var f=o*u;var d=t[0];var p=t[1];var v=d-l+f;var m=d-l-f;var y=d+l-f;var _=d+l+f;var b=p-c-h;var w=p-c+h;var O=p+c+h;var x=p+c-h;return g(Math.min(v,m,y,_),Math.min(b,w,O,x),Math.max(v,m,y,_),Math.max(b,w,O,x),r)}function $(t){return t[3]-t[1]}function L(t,e){var i=F(t,e);return k(i)}function F(t,e,i){var n=i?i:v();if(z(t,e)){if(t[0]>e[0]){n[0]=t[0]}else{n[0]=e[0]}if(t[1]>e[1]){n[1]=t[1]}else{n[1]=e[1]}if(t[2]<e[2]){n[2]=t[2]}else{n[2]=e[2]}if(t[3]<e[3]){n[3]=t[3]}else{n[3]=e[3]}}else{m(n)}return n}function G(t){return Y(t)+$(t)}function U(t){return[t[2]-t[0],t[3]-t[1]]}function H(t){return[t[0],t[3]]}function W(t){return[t[2],t[3]]}function Y(t){return t[2]-t[0]}function z(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function V(t){return t[2]<t[0]||t[3]<t[1]}function B(t,e){if(e){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];return e}else{return t}}function q(t,e){var i=(t[2]-t[0])/2*(e-1);var n=(t[3]-t[1])/2*(e-1);t[0]-=i;t[2]+=i;t[1]-=n;t[3]+=n}function K(t,e,i){var n=false;var r=p(t,e);var o=p(t,i);if(r===a["a"].INTERSECTING||o===a["a"].INTERSECTING){n=true}else{var s=t[0];var u=t[1];var l=t[2];var c=t[3];var h=e[0];var f=e[1];var d=i[0];var v=i[1];var g=(v-f)/(d-h);var m=void 0,y=void 0;if(!!(o&a["a"].ABOVE)&&!(r&a["a"].ABOVE)){m=d-(v-c)/g;n=m>=s&&m<=l}if(!n&&!!(o&a["a"].RIGHT)&&!(r&a["a"].RIGHT)){y=v-(d-l)*g;n=y>=u&&y<=c}if(!n&&!!(o&a["a"].BELOW)&&!(r&a["a"].BELOW)){m=d-(v-u)/g;n=m>=s&&m<=l}if(!n&&!!(o&a["a"].LEFT)&&!(r&a["a"].LEFT)){y=v-(d-s)*g;n=y>=u&&y<=c}}return n}function X(t,e,i){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(n,n,2);var r=[n[0],n[2],n[4],n[6]];var a=[n[1],n[3],n[5],n[7]];return s(r,a,i)}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});i.d(e,"b",function(){return o});i.d(e,"c",function(){return s});i.d(e,"d",function(){return u});i.d(e,"e",function(){return l});i.d(e,"f",function(){return c});i.d(e,"g",function(){return h});i.d(e,"h",function(){return f});i.d(e,"i",function(){return d});i.d(e,"j",function(){return p});i.d(e,"k",function(){return v});i.d(e,"l",function(){return g});i.d(e,"m",function(){return m});i.d(e,"n",function(){return y});var n=i(0);var r=i(128);function a(t){var e=Object(n["e"])(t,false);return o(e)}function o(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e){return e[1]!==undefined||false}else{return undefined}}function s(t){var e=Object(n["e"])(t,false);var i=Date.parse(e);return isNaN(i)?undefined:i/1e3}function u(t){var e=Object(n["e"])(t,false);return l(e)}function l(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e){return parseFloat(e[1])}else{return undefined}}function c(t){var e=Object(n["e"])(t,false);return h(e)}function h(t){var e=/^\s*(\d+)\s*$/.exec(t);if(e){return parseInt(e[1],10)}else{return undefined}}function f(t){return Object(n["e"])(t,false).trim()}function d(t,e){y(t,e?"1":"0")}function p(t,e){t.appendChild(n["a"].createCDATASection(e))}function v(t,e){var i=new Date(e*1e3);var a=i.getUTCFullYear()+"-"+Object(r["b"])(i.getUTCMonth()+1,2)+"-"+Object(r["b"])(i.getUTCDate(),2)+"T"+Object(r["b"])(i.getUTCHours(),2)+":"+Object(r["b"])(i.getUTCMinutes(),2)+":"+Object(r["b"])(i.getUTCSeconds(),2)+"Z";t.appendChild(n["a"].createTextNode(a))}function g(t,e){var i=e.toPrecision();t.appendChild(n["a"].createTextNode(i))}function m(t,e){var i=e.toString();t.appendChild(n["a"].createTextNode(i))}function y(t,e){t.appendChild(n["a"].createTextNode(e))}},function(t,e,i){"use strict";i.d(e,"c",function(){return a});i.d(e,"h",function(){return o});i.d(e,"i",function(){return s});i.d(e,"k",function(){return u});i.d(e,"m",function(){return l});i.d(e,"d",function(){return c});i.d(e,"j",function(){return h});i.d(e,"l",function(){return f});i.d(e,"e",function(){return d});i.d(e,"f",function(){return p});i.d(e,"g",function(){return v});i.d(e,"r",function(){return g});i.d(e,"p",function(){return m});i.d(e,"n",function(){return y});i.d(e,"o",function(){return _});i.d(e,"q",function(){return b});i.d(e,"s",function(){return w});i.d(e,"a",function(){return x});i.d(e,"b",function(){return S});i.d(e,"t",function(){return T});var n=i(63);var r=i(108);var a=/\d/;var o=/\d\d/;var s=/\d{3}/;var u=/\d{4}/;var l=/[+-]?\d{6}/;var c=/\d\d?/;var h=/\d\d\d\d?/;var f=/\d\d\d\d\d\d?/;var d=/\d{1,3}/;var p=/\d{1,4}/;var v=/[+-]?\d{1,6}/;var g=/\d+/;var m=/[+-]?\d+/;var y=/Z|[+-]\d\d:?\d\d/gi;var _=/Z|[+-]\d\d(?::?\d\d)?/gi;var b=/[+-]?\d+(\.\d{1,3})?/;var w=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;var O={};function x(t,e,i){O[t]=Object(r["a"])(e)?e:function(t,n){return t&&i?i:e}}function S(t,e){if(!Object(n["a"])(O,t)){return new RegExp(C(t))}return O[t](e._strict,e._locale)}function C(t){return T(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}function T(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},function(t,e,i){"use strict";var n=i(197);var r=i(4);var a=i(12);var o=i(1);var s=i(147);var u=i(80);var l=6378137;var c=Math.PI*l;var h=[-c,-c,c,c];var f=[-180,-85,180,85];function d(t){s["a"].call(this,{code:t,units:u["b"].METERS,extent:h,global:true,worldExtent:f,getPointResolution:function t(e,i){return e/Object(a["b"])(i[1]/l)}})}Object(o["d"])(d,s["a"]);var p=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("urn:ogc:def:crs:EPSG:6.18:3:3857"),new d("urn:ogc:def:crs:EPSG::3857"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function v(t,e,i){var n=t.length;var r=i>1?i:2;var a=e;if(a===undefined){if(r>2){a=t.slice()}else{a=new Array(n)}}var o=c;for(var s=0;s<n;s+=r){a[s]=o*t[s]/180;var u=l*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));if(u>o){u=o}else if(u<-o){u=-o}a[s+1]=u}return a}function g(t,e,i){var n=t.length;var r=i>1?i:2;var a=e;if(a===undefined){if(r>2){a=t.slice()}else{a=new Array(n)}}for(var o=0;o<n;o+=r){a[o]=180*t[o]/c;a[o+1]=360*Math.atan(Math.exp(t[o+1]/l))/Math.PI-90}return a}var m=6378137;var y=[-180,-90,180,90];var _=Math.PI*m/180;function b(t,e){s["a"].call(this,{code:t,units:u["b"].DEGREES,extent:y,axisOrientation:e,global:true,metersPerUnit:_,worldExtent:y})}Object(o["d"])(b,s["a"]);var w=[new b("CRS:84"),new b("EPSG:4326","neu"),new b("urn:ogc:def:crs:EPSG::4326","neu"),new b("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new b("urn:ogc:def:crs:OGC:1.3:CRS84"),new b("urn:ogc:def:crs:OGC:2:84"),new b("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new b("urn:x-ogc:def:crs:EPSG:4326","neu")];var O={};function x(){O={}}function S(t){return O[t]||null}function C(t,e){O[t]=e}var T=i(159);i.d(e,"l",function(){return M});i.d(e,"d",function(){return j});i.d(e,"h",function(){return R});i.d(e,"i",function(){return A});i.d(e,"c",function(){return I});i.d(e,"e",function(){return N});i.d(e,"b",function(){return L});i.d(e,"g",function(){return F});i.d(e,"m",function(){return G});i.d(e,"f",function(){return U});i.d(e,"k",function(){return H});i.d(e,"j",function(){return W});i.d(e,"n",function(){return Y});i.d(e,"o",function(){return z});i.d(e,"a",function(){return u["a"]});function E(t,e,i){var n=void 0;if(e!==undefined){for(var r=0,a=t.length;r<a;++r){e[r]=t[r]}n=e}else{n=t.slice()}return n}function M(t,e,i){if(e!==undefined&&t!==e){for(var n=0,r=t.length;n<r;++n){e[n]=t[n]}t=e}return t}function j(t){C(t.getCode(),t);Object(T["a"])(t,t,E)}function k(t){t.forEach(j)}function R(t){var e=null;if(t instanceof s["a"]){e=t}else if(typeof t==="string"){var i=t;e=S(i)}return e}function A(t,e,i,r){t=R(t);var a=void 0;var o=t.getPointResolutionFunc();if(o){a=o(e,i)}else{var s=t.getUnits();if(s==u["b"].DEGREES&&!r||r==u["b"].DEGREES){a=e}else{var l=H(t,R("EPSG:4326"));var c=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];c=l(c,c,2);var h=Object(n["b"])(c.slice(0,2),c.slice(2,4));var f=Object(n["b"])(c.slice(4,6),c.slice(6,8));a=(h+f)/2;var d=r?u["a"][r]:t.getMetersPerUnit();if(d!==undefined){a/=d}}}return a}function I(t){k(t);t.forEach(function(e){t.forEach(function(t){if(e!==t){Object(T["a"])(e,t,E)}})})}function P(t,e,i,n){t.forEach(function(t){e.forEach(function(e){Object(T["a"])(t,e,i);Object(T["a"])(e,t,n)})})}function D(){x();Object(T["b"])()}function N(t,e){if(!t){return R(e)}else if(typeof t==="string"){return R(t)}else{return t}}function $(t){return function(e,i,n){var r=e.length;var a=n!==undefined?n:2;var o=i!==undefined?i:new Array(r);var s=void 0,u=void 0,l=void 0;for(u=0;u<r;u+=a){s=t([e[u],e[u+1]]);o[u]=s[0];o[u+1]=s[1];for(l=a-1;l>=2;--l){o[u+l]=e[u+l]}}return o}}function L(t,e,i,n){var r=R(t);var a=R(e);Object(T["a"])(r,a,$(i));Object(T["a"])(a,r,$(n))}function F(t,e){return Y(t,"EPSG:4326",e!==undefined?e:"EPSG:3857")}function G(t,e){var i=Y(t,e!==undefined?e:"EPSG:3857","EPSG:4326");var n=i[0];if(n<-180||n>180){i[0]=Object(a["d"])(n+180,360)-180}return i}function U(t,e){if(t===e){return true}var i=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode()){return i}else{var n=H(t,e);return n===E&&i}}function H(t,e){var i=t.getCode();var n=e.getCode();var r=Object(T["c"])(i,n);if(!r){r=M}return r}function W(t,e){var i=R(t);var n=R(e);return H(i,n)}function Y(t,e,i){var n=W(e,i);return n(t,undefined,t.length)}function z(t,e,i){var n=W(e,i);return Object(r["a"])(t,n)}function V(t,e,i){var n=H(e,i);return n(t)}function B(){I(p);I(w);P(w,p,v,g)}B()},function(t,e,i){"use strict";e["a"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"i",function(){return r});i.d(e,"f",function(){return a});i.d(e,"h",function(){return o});i.d(e,"k",function(){return s});i.d(e,"c",function(){return u});i.d(e,"j",function(){return l});i.d(e,"d",function(){return c});i.d(e,"b",function(){return h});i.d(e,"l",function(){return f});i.d(e,"e",function(){return d});i.d(e,"g",function(){return p});function n(t,e,i){var n=void 0,a=void 0;var o=i||r;var s=0;var u=t.length;var l=false;while(s<u){n=s+(u-s>>1);a=+o(t[n],e);if(a<0){s=n+1}else{u=n;l=!a}}return l?s:~s}function r(t,e){return t>e?1:t<e?-1:0}function a(t,e){return t.indexOf(e)>=0}function o(t,e,i){var n=t.length;if(t[0]<=e){return 0}else if(e<=t[n-1]){return n-1}else{var r=void 0;if(i>0){for(r=1;r<n;++r){if(t[r]<e){return r-1}}}else if(i<0){for(r=1;r<n;++r){if(t[r]<=e){return r}}}else{for(r=1;r<n;++r){if(t[r]==e){return r}else if(t[r]<e){if(t[r-1]-e<e-t[r]){return r-1}else{return r}}}}return n-1}}function s(t,e,i){while(e<i){var n=t[e];t[e]=t[i];t[i]=n;++e;--i}}function u(t,e){var i=Array.isArray(e)?e:[e];var n=i.length;for(var r=0;r<n;r++){t[t.length]=i[r]}}function l(t,e){var i=t.indexOf(e);var n=i>-1;if(n){t.splice(i,1)}return n}function c(t,e){var i=t.length>>>0;var n=void 0;for(var r=0;r<i;r++){n=t[r];if(e(n,r,t)){return n}}return null}function h(t,e){var i=t.length;if(i!==e.length){return false}for(var n=0;n<i;n++){if(t[n]!==e[n]){return false}}return true}function f(t,e){var i=t.length;var n=Array(t.length);var r=void 0;for(r=0;r<i;r++){n[r]={index:r,value:t[r]}}n.sort(function(t,i){return e(t.value,i.value)||t.index-i.index});for(r=0;r<t.length;r++){t[r]=n[r].value}}function d(t,e){var i=void 0;var n=!t.every(function(n,r){i=r;return!e(n,r,t)});return n?i:-1}function p(t,e,i){var n=e||r;return t.every(function(e,r){if(r===0){return true}var a=n(t[r-1],e);return!(a>0||i&&a===0)})}},function(t,e,i){"use strict";e["a"]={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});i.d(e,"c",function(){return a});i.d(e,"d",function(){return o});var n=typeof Object.assign==="function"?Object.assign:function(t,e){if(t===undefined||t===null){throw new TypeError("Cannot convert undefined or null to object")}var i=Object(t);for(var n=1,r=arguments.length;n<r;++n){var a=arguments[n];if(a!==undefined&&a!==null){for(var o in a){if(a.hasOwnProperty(o)){i[o]=a[o]}}}}return i};function r(t){for(var e in t){delete t[e]}}function a(t){var e=[];for(var i in t){e.push(t[i])}return e}function o(t){var e=void 0;for(e in t){return false}return!e}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i.d(e,"b",function(){return a});i.d(e,"g",function(){return s});i.d(e,"f",function(){return u});i.d(e,"e",function(){return l});i.d(e,"h",function(){return c});i.d(e,"i",function(){return h});i.d(e,"d",function(){return f});i.d(e,"c",function(){return d});var n=i(24);function r(t,e,i){return Math.min(Math.max(t,e),i)}var a=function(){var t=void 0;if("cosh"in Math){t=Math.cosh}else{t=function t(e){var i=Math.exp(e);return(i+1/i)/2}}return t}();function o(t){Object(n["a"])(0<t,29);return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function s(t,e,i,n,r,a){var o=r-i;var s=a-n;if(o!==0||s!==0){var l=((t-i)*o+(e-n)*s)/(o*o+s*s);if(l>1){i=r;n=a}else if(l>0){i+=o*l;n+=s*l}}return u(t,e,i,n)}function u(t,e,i,n){var r=i-t;var a=n-e;return r*r+a*a}function l(t){var e=t.length;for(var i=0;i<e;i++){var n=i;var r=Math.abs(t[i][i]);for(var a=i+1;a<e;a++){var o=Math.abs(t[a][i]);if(o>r){r=o;n=a}}if(r===0){return null}var s=t[n];t[n]=t[i];t[i]=s;for(var u=i+1;u<e;u++){var l=-t[u][i]/t[i][i];for(var c=i;c<e+1;c++){if(i==c){t[u][c]=0}else{t[u][c]+=l*t[i][c]}}}}var h=new Array(e);for(var f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var d=f-1;d>=0;d--){t[d][e]-=t[d][f]*h[f]}}return h}function c(t){return t*180/Math.PI}function h(t){return t*Math.PI/180}function f(t,e){var i=t%e;return i*e<0?i+e:i}function d(t,e,i){return t+i*(e-t)}},function(t,e,i){"use strict";i.d(e,"d",function(){return l});i.d(e,"a",function(){return h});i.d(e,"b",function(){return f});var n=i(24);var r=i(8);var a=i(79);var o=i(41);var s=i(42);var u=function t(e){var i=e||{};this.geometry_=null;this.geometryFunction_=d;if(i.geometry!==undefined){this.setGeometry(i.geometry)}this.fill_=i.fill!==undefined?i.fill:null;this.image_=i.image!==undefined?i.image:null;this.renderer_=i.renderer!==undefined?i.renderer:null;this.stroke_=i.stroke!==undefined?i.stroke:null;this.text_=i.text!==undefined?i.text:null;this.zIndex_=i.zIndex};u.prototype.clone=function(){var t=this.getGeometry();if(t&&t.clone){t=t.clone()}return new u({geometry:t,fill:this.getFill()?this.getFill().clone():undefined,image:this.getImage()?this.getImage().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,text:this.getText()?this.getText().clone():undefined,zIndex:this.getZIndex()})};u.prototype.getRenderer=function(){return this.renderer_};u.prototype.setRenderer=function(t){this.renderer_=t};u.prototype.getGeometry=function(){return this.geometry_};u.prototype.getGeometryFunction=function(){return this.geometryFunction_};u.prototype.getFill=function(){return this.fill_};u.prototype.setFill=function(t){this.fill_=t};u.prototype.getImage=function(){return this.image_};u.prototype.setImage=function(t){this.image_=t};u.prototype.getStroke=function(){return this.stroke_};u.prototype.setStroke=function(t){this.stroke_=t};u.prototype.getText=function(){return this.text_};u.prototype.setText=function(t){this.text_=t};u.prototype.getZIndex=function(){return this.zIndex_};u.prototype.setGeometry=function(t){if(typeof t==="function"){this.geometryFunction_=t}else if(typeof t==="string"){this.geometryFunction_=function(e){return e.get(t)}}else if(!t){this.geometryFunction_=d}else if(t!==undefined){this.geometryFunction_=function(){return t}}this.geometry_=t};u.prototype.setZIndex=function(t){this.zIndex_=t};function l(t){var e=void 0;if(typeof t==="function"){e=t}else{var i=void 0;if(Array.isArray(t)){i=t}else{Object(n["a"])(t instanceof u,41);i=[t]}e=function t(){return i}}return e}var c=null;function h(t,e){if(!c){var i=new o["a"]({color:"rgba(255,255,255,0.4)"});var n=new s["a"]({color:"#3399CC",width:1.25});c=[new u({image:new a["a"]({fill:i,stroke:n,radius:5}),fill:i,stroke:n})]}return c}function f(){var t={};var e=[255,255,255,1];var i=[0,153,255,1];var n=3;t[r["a"].POLYGON]=[new u({fill:new o["a"]({color:[255,255,255,.5]})})];t[r["a"].MULTI_POLYGON]=t[r["a"].POLYGON];t[r["a"].LINE_STRING]=[new u({stroke:new s["a"]({color:e,width:n+2})}),new u({stroke:new s["a"]({color:i,width:n})})];t[r["a"].MULTI_LINE_STRING]=t[r["a"].LINE_STRING];t[r["a"].CIRCLE]=t[r["a"].POLYGON].concat(t[r["a"].LINE_STRING]);t[r["a"].POINT]=[new u({image:new a["a"]({radius:n*2,fill:new o["a"]({color:i}),stroke:new s["a"]({color:e,width:n/2})}),zIndex:Infinity})];t[r["a"].MULTI_POINT]=t[r["a"].POINT];t[r["a"].GEOMETRY_COLLECTION]=t[r["a"].POLYGON].concat(t[r["a"].LINE_STRING],t[r["a"].POINT]);return t}function d(t){return t.getGeometry()}e["c"]=u},function(t,e,i){"use strict";var n=i(24);var r=i(3);var a=i(10);var o=i(1);var s=i(30);var u=i(67);var l=i(13);var c=function t(e){s["a"].call(this);this.id_=undefined;this.geometryName_="geometry";this.style_=null;this.styleFunction_=undefined;this.geometryChangeKey_=null;Object(r["a"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this);if(e!==undefined){if(e instanceof u["a"]||!e){var i=e;this.setGeometry(i)}else{var n=e;this.setProperties(n)}}};Object(o["d"])(c,s["a"]);c.prototype.clone=function(){var t=new c(this.getProperties());t.setGeometryName(this.getGeometryName());var e=this.getGeometry();if(e){t.setGeometry(e.clone())}var i=this.getStyle();if(i){t.setStyle(i)}return t};c.prototype.getGeometry=function(){return this.get(this.geometryName_)};c.prototype.getId=function(){return this.id_};c.prototype.getGeometryName=function(){return this.geometryName_};c.prototype.getStyle=function(){return this.style_};c.prototype.getStyleFunction=function(){return this.styleFunction_};c.prototype.handleGeometryChange_=function(){this.changed()};c.prototype.handleGeometryChanged_=function(){if(this.geometryChangeKey_){Object(r["e"])(this.geometryChangeKey_);this.geometryChangeKey_=null}var t=this.getGeometry();if(t){this.geometryChangeKey_=Object(r["a"])(t,a["a"].CHANGE,this.handleGeometryChange_,this)}this.changed()};c.prototype.setGeometry=function(t){this.set(this.geometryName_,t)};c.prototype.setStyle=function(t){this.style_=t;this.styleFunction_=!t?undefined:h(t);this.changed()};c.prototype.setId=function(t){this.id_=t;this.changed()};c.prototype.setGeometryName=function(t){Object(r["c"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this);this.geometryName_=t;Object(r["a"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this);this.handleGeometryChanged_()};function h(t){if(typeof t==="function"){return t}else{var e=void 0;if(Array.isArray(t)){e=t}else{Object(n["a"])(t instanceof l["c"],41);e=[t]}return function(){return e}}}e["a"]=c},function(t,e,i){"use strict";i.d(e,"c",function(){return u});i.d(e,"b",function(){return l});i.d(e,"d",function(){return c});i.d(e,"e",function(){return h});i.d(e,"f",function(){return f});i.d(e,"g",function(){return d});i.d(e,"i",function(){return p});i.d(e,"k",function(){return v});i.d(e,"l",function(){return g});i.d(e,"m",function(){return m});i.d(e,"j",function(){return y});i.d(e,"h",function(){return _});i.d(e,"o",function(){return b});i.d(e,"a",function(){return S});i.d(e,"p",function(){return T});i.d(e,"q",function(){return E});i.d(e,"s",function(){return M});i.d(e,"r",function(){return j});i.d(e,"n",function(){return k});var n=i(58);var r=i(44);var a=i(11);var o=i(244);var s=i(37);var u="10px sans-serif";var l=[0,0,0,1];var c="round";var h=[];var f=0;var d="round";var p=10;var v=[0,0,0,1];var g="center";var m="middle";var y=[0,0,0,0];var _=1;var b=new o["a"];var w={};var O=null;var x={};var S=function(){var t=60;var e=w;var i="32px ";var r=["monospace","serif"];var o=r.length;var s="wmytzilWMYTZIL@#/&?$%10";var u=void 0,l=void 0;function c(t){var e=C();var n=true;for(var a=0;a<o;++a){var u=r[a];e.font=i+u;l=e.measureText(s).width;if(t!=u){e.font=i+t+","+u;var c=e.measureText(s).width;n=n&&c!=l}}return n}function h(){var i=true;for(var n in e){if(e[n]<t){if(c(n)){e[n]=t;Object(a["b"])(x);O=null;b.clear()}else{++e[n];i=false}}}if(i){clearInterval(u);u=undefined}}return function(i){var r=Object(n["g"])(i);if(!r){return}for(var a=0,o=r.length;a<o;++a){var s=r[a];if(!(s in e)){e[s]=t;if(!c(s)){e[s]=0;if(u===undefined){u=setInterval(h,32)}}}}}}();function C(){if(!O){O=Object(r["a"])(1,1)}return O}var T=function(){var t=void 0;var e=x;return function(i){var n=e[i];if(n==undefined){if(!t){t=document.createElement("span");t.textContent="M";t.style.margin=t.style.padding="0 !important";t.style.position="absolute !important";t.style.left="-99999px !important"}t.style.font=i;document.body.appendChild(t);n=e[i]=t.offsetHeight;document.body.removeChild(t)}return n}}();function E(t,e){var i=C();if(t!=i.font){i.font=t}return i.measureText(e).width}function M(t,e,i,n){if(e!==0){t.translate(i,n);t.rotate(e);t.translate(-i,-n)}}var j=Object(s["c"])();function k(t,e,i,n,r,a,o,s,u,l,c){var h=void 0;if(i!=1){h=t.globalAlpha;t.globalAlpha=h*i}if(e){t.setTransform.apply(t,e)}t.drawImage(n,r,a,o,s,u,l,o*c,s*c);if(h){t.globalAlpha=h}if(e){t.setTransform.apply(t,j)}}},function(t,e,i){"use strict";i.d(e,"i",function(){return n});i.d(e,"e",function(){return r});i.d(e,"a",function(){return a});i.d(e,"b",function(){return o});i.d(e,"d",function(){return s});i.d(e,"f",function(){return u});i.d(e,"c",function(){return l});i.d(e,"g",function(){return c});i.d(e,"h",function(){return h});var n=0;var r=1;var a=2;var o=3;var s=4;var u=5;var l=6;var c=7;var h=8},function(t,e,i){"use strict";var n=i(1);var r=i(124);var a=i(78);var o={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var s=i(11);var u=function t(e){var i=e?e:{};var n=Object(s["a"])({},i);delete n.preload;delete n.useInterimTilesOnError;a["a"].call(this,n);this.setPreload(i.preload!==undefined?i.preload:0);this.setUseInterimTilesOnError(i.useInterimTilesOnError!==undefined?i.useInterimTilesOnError:true);this.type=r["a"].TILE};Object(n["d"])(u,a["a"]);u.prototype.getPreload=function(){return this.get(o.PRELOAD)};u.prototype.getSource;u.prototype.setPreload=function(t){this.set(o.PRELOAD,t)};u.prototype.getUseInterimTilesOnError=function(){return this.get(o.USE_INTERIM_TILES_ON_ERROR)};u.prototype.setUseInterimTilesOnError=function(t){this.set(o.USE_INTERIM_TILES_ON_ERROR,t)};var l=e["a"]=u},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i.d(e,"b",function(){return a});var n;function r(){return n.apply(null,arguments)}function a(t){n=t}},function(t,e,i){"use strict";var n=i(1);var r=i(33);var a=i(76);var o=i(243);var s=i(57);var u=i(48);var l=i(111);var c=i(3);var h=i(85);var f={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var d=i(194);var p=i(149);var v=function t(e){var i={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};p["a"].call(this,e,i);this.pointerMap=e.pointerMap};Object(n["d"])(v,p["a"]);var g=["","unavailable","touch","pen","mouse"];v.prototype.prepareEvent_=function(t){var e=t;if(typeof t.pointerType==="number"){e=this.dispatcher.cloneEvent(t,t);e.pointerType=g[t.pointerType]}return e};v.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]};v.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)};v.prototype.msPointerMove=function(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)};v.prototype.msPointerUp=function(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t);this.cleanup(t.pointerId)};v.prototype.msPointerOut=function(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)};v.prototype.msPointerOver=function(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)};v.prototype.msPointerCancel=function(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t);this.cleanup(t.pointerId)};v.prototype.msLostPointerCapture=function(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)};v.prototype.msGotPointerCapture=function(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)};var m=v;var y=function t(e){var i={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};p["a"].call(this,e,i)};Object(n["d"])(y,p["a"]);y.prototype.pointerDown=function(t){this.dispatcher.fireNativeEvent(t)};y.prototype.pointerMove=function(t){this.dispatcher.fireNativeEvent(t)};y.prototype.pointerUp=function(t){this.dispatcher.fireNativeEvent(t)};y.prototype.pointerOut=function(t){this.dispatcher.fireNativeEvent(t)};y.prototype.pointerOver=function(t){this.dispatcher.fireNativeEvent(t)};y.prototype.pointerCancel=function(t){this.dispatcher.fireNativeEvent(t)};y.prototype.lostPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)};y.prototype.gotPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)};var _=y;var b=i(40);var w=function t(e,i,n){b["a"].call(this,e);this.originalEvent=i;var r=n?n:{};this.buttons=this.getButtons_(r);this.pressure=this.getPressure_(r,this.buttons);this.bubbles="bubbles"in r?r["bubbles"]:false;this.cancelable="cancelable"in r?r["cancelable"]:false;this.view="view"in r?r["view"]:null;this.detail="detail"in r?r["detail"]:null;this.screenX="screenX"in r?r["screenX"]:0;this.screenY="screenY"in r?r["screenY"]:0;this.clientX="clientX"in r?r["clientX"]:0;this.clientY="clientY"in r?r["clientY"]:0;this.ctrlKey="ctrlKey"in r?r["ctrlKey"]:false;this.altKey="altKey"in r?r["altKey"]:false;this.shiftKey="shiftKey"in r?r["shiftKey"]:false;this.metaKey="metaKey"in r?r["metaKey"]:false;this.button="button"in r?r["button"]:0;this.relatedTarget="relatedTarget"in r?r["relatedTarget"]:null;this.pointerId="pointerId"in r?r["pointerId"]:0;this.width="width"in r?r["width"]:0;this.height="height"in r?r["height"]:0;this.tiltX="tiltX"in r?r["tiltX"]:0;this.tiltY="tiltY"in r?r["tiltY"]:0;this.pointerType="pointerType"in r?r["pointerType"]:"";this.hwTimestamp="hwTimestamp"in r?r["hwTimestamp"]:0;this.isPrimary="isPrimary"in r?r["isPrimary"]:false;if(i.preventDefault){this.preventDefault=function(){i.preventDefault()}}};Object(n["d"])(w,b["a"]);var O=false;w.prototype.getButtons_=function(t){var e=void 0;if(t.buttons||O){e=t.buttons}else{switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}}return e};w.prototype.getPressure_=function(t,e){var i=0;if(t.pressure){i=t.pressure}else{i=e?.5:0}return i};(function(){try{var t=new MouseEvent("click",{buttons:1});O=t.buttons===1}catch(t){}})();var x=w;var S=i(9);var C=function t(e,i){var n={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};p["a"].call(this,e,n);this.pointerMap=e.pointerMap;this.mouseSource=i;this.firstTouchId_=undefined;this.clickCount_=0;this.resetId_=undefined;this.dedupTimeout_=2500};Object(n["d"])(C,p["a"]);var T=200;var E="touch";C.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier};C.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;if(e===0||e===1&&d["a"].toString()in this.pointerMap){this.firstTouchId_=t.identifier;this.cancelResetClickCount_()}};C.prototype.removePrimaryPointer_=function(t){if(t.isPrimary){this.firstTouchId_=undefined;this.resetClickCount_()}};C.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),T)};C.prototype.resetClickCountHandler_=function(){this.clickCount_=0;this.resetId_=undefined};C.prototype.cancelResetClickCount_=function(){if(this.resetId_!==undefined){clearTimeout(this.resetId_)}};C.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);i.pointerId=e.identifier+2;i.bubbles=true;i.cancelable=true;i.detail=this.clickCount_;i.button=0;i.buttons=1;i.width=e.webkitRadiusX||e.radiusX||0;i.height=e.webkitRadiusY||e.radiusY||0;i.pressure=e.webkitForce||e.force||.5;i.isPrimary=this.isPrimaryTouch_(e);i.pointerType=E;i.clientX=e.clientX;i.clientY=e.clientY;i.screenX=e.screenX;i.screenY=e.screenY;return i};C.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches);var n=i.length;function r(){t.preventDefault()}var a=void 0,o=void 0;for(a=0;a<n;++a){o=this.touchToPointer_(t,i[a]);o.preventDefault=r;e.call(this,t,o)}};C.prototype.findTouch_=function(t,e){var i=t.length;var n=void 0;for(var r=0;r<i;r++){n=t[r];if(n.identifier===e){return true}}return false};C.prototype.vacuumTouches_=function(t){var e=t.touches;var i=Object.keys(this.pointerMap);var n=i.length;if(n>=e.length){var r=[];var a=void 0,o=void 0,s=void 0;for(a=0;a<n;++a){o=i[a];s=this.pointerMap[o];if(o!=d["a"]&&!this.findTouch_(e,o-2)){r.push(s.out)}}for(a=0;a<r.length;++a){this.cancelOut_(t,r[a])}}};C.prototype.touchstart=function(t){this.vacuumTouches_(t);this.setPrimaryTouch_(t.changedTouches[0]);this.dedupSynthMouse_(t);this.clickCount_++;this.processTouches_(t,this.overDown_)};C.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target};this.dispatcher.over(e,t);this.dispatcher.enter(e,t);this.dispatcher.down(e,t)};C.prototype.touchmove=function(t){t.preventDefault();this.processTouches_(t,this.moveOverOut_)};C.prototype.moveOverOut_=function(t,e){var i=e;var n=this.pointerMap[i.pointerId];if(!n){return}var r=n.out;var a=n.outTarget;this.dispatcher.move(i,t);if(r&&a!==i.target){r.relatedTarget=i.target;i.relatedTarget=a;r.target=a;if(i.target){this.dispatcher.leaveOut(r,t);this.dispatcher.enterOver(i,t)}else{i.target=a;i.relatedTarget=null;this.cancelOut_(t,i)}}n.out=i;n.outTarget=i.target};C.prototype.touchend=function(t){this.dedupSynthMouse_(t);this.processTouches_(t,this.upOut_)};C.prototype.upOut_=function(t,e){this.dispatcher.up(e,t);this.dispatcher.out(e,t);this.dispatcher.leave(e,t);this.cleanUpPointer_(e)};C.prototype.touchcancel=function(t){this.processTouches_(t,this.cancelOut_)};C.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t);this.dispatcher.out(e,t);this.dispatcher.leave(e,t);this.cleanUpPointer_(e)};C.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId];this.removePrimaryPointer_(t)};C.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches;var i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var n=[i.clientX,i.clientY];e.push(n);setTimeout(function(){Object(S["j"])(e,n)},this.dedupTimeout_)}};var M=C;var j=function t(e){h["a"].call(this);this.element_=e;this.pointerMap={};this.eventMap_={};this.eventSourceList_=[];this.registerSources()};Object(n["d"])(j,h["a"]);var k=[["bubbles",false],["cancelable",false],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",false],["altKey",false],["shiftKey",false],["metaKey",false],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",false],["type",""],["target",null],["currentTarget",null],["which",0]];j.prototype.registerSources=function(){if(s["g"]){this.registerSource("native",new _(this))}else if(s["f"]){this.registerSource("ms",new m(this))}else{var t=new d["c"](this);this.registerSource("mouse",t);if(s["i"]){this.registerSource("touch",new M(this,t))}}this.register_()};j.prototype.registerSource=function(t,e){var i=e;var n=i.getEvents();if(n){n.forEach(function(t){var e=i.getHandlerForEvent(t);if(e){this.eventMap_[t]=e.bind(i)}}.bind(this));this.eventSourceList_.push(i)}};j.prototype.register_=function(){var t=this.eventSourceList_.length;var e=void 0;for(var i=0;i<t;i++){e=this.eventSourceList_[i];this.addEvents_(e.getEvents())}};j.prototype.unregister_=function(){var t=this.eventSourceList_.length;var e=void 0;for(var i=0;i<t;i++){e=this.eventSourceList_[i];this.removeEvents_(e.getEvents())}};j.prototype.eventHandler_=function(t){var e=t.type;var i=this.eventMap_[e];if(i){i(t)}};j.prototype.addEvents_=function(t){t.forEach(function(t){Object(c["a"])(this.element_,t,this.eventHandler_,this)}.bind(this))};j.prototype.removeEvents_=function(t){t.forEach(function(t){Object(c["c"])(this.element_,t,this.eventHandler_,this)}.bind(this))};j.prototype.cloneEvent=function(t,e){var i={};for(var n=0,r=k.length;n<r;n++){var a=k[n][0];i[a]=t[a]||e[a]||k[n][1]}return i};j.prototype.down=function(t,e){this.fireEvent(f.POINTERDOWN,t,e)};j.prototype.move=function(t,e){this.fireEvent(f.POINTERMOVE,t,e)};j.prototype.up=function(t,e){this.fireEvent(f.POINTERUP,t,e)};j.prototype.enter=function(t,e){t.bubbles=false;this.fireEvent(f.POINTERENTER,t,e)};j.prototype.leave=function(t,e){t.bubbles=false;this.fireEvent(f.POINTERLEAVE,t,e)};j.prototype.over=function(t,e){t.bubbles=true;this.fireEvent(f.POINTEROVER,t,e)};j.prototype.out=function(t,e){t.bubbles=true;this.fireEvent(f.POINTEROUT,t,e)};j.prototype.cancel=function(t,e){this.fireEvent(f.POINTERCANCEL,t,e)};j.prototype.leaveOut=function(t,e){this.out(t,e);if(!this.contains_(t.target,t.relatedTarget)){this.leave(t,e)}};j.prototype.enterOver=function(t,e){this.over(t,e);if(!this.contains_(t.target,t.relatedTarget)){this.enter(t,e)}};j.prototype.contains_=function(t,e){if(!t||!e){return false}return t.contains(e)};j.prototype.makeEvent=function(t,e,i){return new x(t,i,e)};j.prototype.fireEvent=function(t,e,i){var n=this.makeEvent(t,e,i);this.dispatchEvent(n)};j.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)};j.prototype.wrapMouseEvent=function(t,e){var i=this.makeEvent(t,d["c"].prepareEvent(e,this),e);return i};j.prototype.disposeInternal=function(){this.unregister_();h["a"].prototype.disposeInternal.call(this)};var R=j;var A=function t(e,i){h["a"].call(this);this.map_=e;this.clickTimeoutId_=0;this.dragging_=false;this.dragListenerKeys_=[];this.moveTolerance_=i?i*s["b"]:s["b"];this.down_=null;var n=this.map_.getViewport();this.activePointers_=0;this.trackedTouches_={};this.pointerEventHandler_=new R(n);this.documentPointerEventHandler_=null;this.pointerdownListenerKey_=Object(c["a"])(this.pointerEventHandler_,f.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=Object(c["a"])(this.pointerEventHandler_,f.POINTERMOVE,this.relayEvent_,this)};Object(n["d"])(A,h["a"]);A.prototype.emulateClick_=function(t){var e=new l["a"](u["a"].CLICK,this.map_,t);this.dispatchEvent(e);if(this.clickTimeoutId_!==0){clearTimeout(this.clickTimeoutId_);this.clickTimeoutId_=0;e=new l["a"](u["a"].DBLCLICK,this.map_,t);this.dispatchEvent(e)}else{this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var e=new l["a"](u["a"].SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)}};A.prototype.updateActivePointers_=function(t){var e=t;if(e.type==u["a"].POINTERUP||e.type==u["a"].POINTERCANCEL){delete this.trackedTouches_[e.pointerId]}else if(e.type==u["a"].POINTERDOWN){this.trackedTouches_[e.pointerId]=true}this.activePointers_=Object.keys(this.trackedTouches_).length};A.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new l["a"](u["a"].POINTERUP,this.map_,t);this.dispatchEvent(e);if(!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(t)){this.emulateClick_(this.down_)}if(this.activePointers_===0){this.dragListenerKeys_.forEach(c["e"]);this.dragListenerKeys_.length=0;this.dragging_=false;this.down_=null;this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}};A.prototype.isMouseActionButton_=function(t){return t.button===0};A.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new l["a"](u["a"].POINTERDOWN,this.map_,t);this.dispatchEvent(e);this.down_=t;if(this.dragListenerKeys_.length===0){this.documentPointerEventHandler_=new R(document);this.dragListenerKeys_.push(Object(c["a"])(this.documentPointerEventHandler_,u["a"].POINTERMOVE,this.handlePointerMove_,this),Object(c["a"])(this.documentPointerEventHandler_,u["a"].POINTERUP,this.handlePointerUp_,this),Object(c["a"])(this.pointerEventHandler_,u["a"].POINTERCANCEL,this.handlePointerUp_,this))}};A.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=true;var e=new l["a"](u["a"].POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()};A.prototype.relayEvent_=function(t){var e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new l["a"](t.type,this.map_,t,e))};A.prototype.isMoving_=function(t){return Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_};A.prototype.disposeInternal=function(){if(this.relayedListenerKey_){Object(c["e"])(this.relayedListenerKey_);this.relayedListenerKey_=null}if(this.pointerdownListenerKey_){Object(c["e"])(this.pointerdownListenerKey_);this.pointerdownListenerKey_=null}this.dragListenerKeys_.forEach(c["e"]);this.dragListenerKeys_.length=0;if(this.documentPointerEventHandler_){this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}if(this.pointerEventHandler_){this.pointerEventHandler_.dispose();this.pointerEventHandler_=null}h["a"].prototype.disposeInternal.call(this)};var I=A;var P=i(182);var D=i(170);var N={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var $=i(30);var L=i(148);var F=i(28);var G=i(10);var U=i(24);var H=i(11);var W=function t(e,i){this.priorityFunction_=e;this.keyFunction_=i;this.elements_=[];this.priorities_=[];this.queuedElements_={}};var Y=Infinity;W.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;Object(H["b"])(this.queuedElements_)};W.prototype.dequeue=function(){var t=this.elements_;var e=this.priorities_;var i=t[0];if(t.length==1){t.length=0;e.length=0}else{t[0]=t.pop();e[0]=e.pop();this.siftUp_(0)}var n=this.keyFunction_(i);delete this.queuedElements_[n];return i};W.prototype.enqueue=function(t){Object(U["a"])(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);if(e!=Y){this.elements_.push(t);this.priorities_.push(e);this.queuedElements_[this.keyFunction_(t)]=true;this.siftDown_(0,this.elements_.length-1);return true}return false};W.prototype.getCount=function(){return this.elements_.length};W.prototype.getLeftChildIndex_=function(t){return t*2+1};W.prototype.getRightChildIndex_=function(t){return t*2+2};W.prototype.getParentIndex_=function(t){return t-1>>1};W.prototype.heapify_=function(){var t=void 0;for(t=(this.elements_.length>>1)-1;t>=0;t--){this.siftUp_(t)}};W.prototype.isEmpty=function(){return this.elements_.length===0};W.prototype.isKeyQueued=function(t){return t in this.queuedElements_};W.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))};W.prototype.siftUp_=function(t){var e=this.elements_;var i=this.priorities_;var n=e.length;var r=e[t];var a=i[t];var o=t;while(t<n>>1){var s=this.getLeftChildIndex_(t);var u=this.getRightChildIndex_(t);var l=u<n&&i[u]<i[s]?u:s;e[t]=e[l];i[t]=i[l];t=l}e[t]=r;i[t]=a;this.siftDown_(o,t)};W.prototype.siftDown_=function(t,e){var i=this.elements_;var n=this.priorities_;var r=i[e];var a=n[e];while(e>t){var o=this.getParentIndex_(e);if(n[o]>a){i[e]=i[o];n[e]=n[o];e=o}else{break}}i[e]=r;n[e]=a};W.prototype.reprioritize=function(){var t=this.priorityFunction_;var e=this.elements_;var i=this.priorities_;var n=0;var r=e.length;var a=void 0,o=void 0,s=void 0;for(o=0;o<r;++o){a=e[o];s=t(a);if(s==Y){delete this.queuedElements_[this.keyFunction_(a)]}else{i[n]=s;e[n++]=a}}e.length=n;i.length=n;this.heapify_()};var z=W;var V=function t(e,i){z.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()});this.tileChangeCallback_=i;this.tilesLoading_=0;this.tilesLoadingKeys_={}};Object(n["d"])(V,z);V.prototype.enqueue=function(t){var e=z.prototype.enqueue.call(this,t);if(e){var i=t[0];Object(c["a"])(i,G["a"].CHANGE,this.handleTileChange,this)}return e};V.prototype.getTilesLoading=function(){return this.tilesLoading_};V.prototype.handleTileChange=function(t){var e=t.target;var i=e.getState();if(i===F["a"].LOADED||i===F["a"].ERROR||i===F["a"].EMPTY||i===F["a"].ABORT){Object(c["c"])(e,G["a"].CHANGE,this.handleTileChange,this);var n=e.getKey();if(n in this.tilesLoadingKeys_){delete this.tilesLoadingKeys_[n];--this.tilesLoading_}this.tileChangeCallback_()}};V.prototype.loadMoreTiles=function(t,e){var i=0;var n=false;var r=void 0,a=void 0,o=void 0;while(this.tilesLoading_<t&&i<e&&this.getCount()>0){a=this.dequeue()[0];o=a.getKey();r=a.getState();if(r===F["a"].ABORT){n=true}else if(r===F["a"].IDLE&&!(o in this.tilesLoadingKeys_)){this.tilesLoadingKeys_[o]=true;++this.tilesLoading_;++i;a.load()}}if(i===0&&n){this.tileChangeCallback_()}};var B=V;var q=i(26);var K=i(56);var X=i(44);var Z=i(4);var Q=i(20);var J=i(84);var tt=i(98);var et=i(37);var it=function t(e){$["a"].call(this);var i=nt(e);this.maxTilesLoading_=e.maxTilesLoading!==undefined?e.maxTilesLoading:16;this.loadTilesWhileAnimating_=e.loadTilesWhileAnimating!==undefined?e.loadTilesWhileAnimating:false;this.loadTilesWhileInteracting_=e.loadTilesWhileInteracting!==undefined?e.loadTilesWhileInteracting:false;this.pixelRatio_=e.pixelRatio!==undefined?e.pixelRatio:s["b"];this.animationDelayKey_;this.animationDelay_=function(){this.animationDelayKey_=undefined;this.renderFrame_.call(this,Date.now())}.bind(this);this.coordinateToPixelTransform_=Object(et["c"])();this.pixelToCoordinateTransform_=Object(et["c"])();this.frameIndex_=0;this.frameState_=null;this.previousExtent_=null;this.viewPropertyListenerKey_=null;this.viewChangeListenerKey_=null;this.layerGroupPropertyListenerKeys_=null;this.viewport_=document.createElement("DIV");this.viewport_.className="ol-viewport"+(s["i"]?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.viewport_.style.msTouchAction="none";this.viewport_.style.touchAction="none";this.overlayContainer_=document.createElement("DIV");this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("DIV");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";var n=[G["a"].CLICK,G["a"].DBLCLICK,G["a"].MOUSEDOWN,G["a"].TOUCHSTART,G["a"].MSPOINTERDOWN,u["a"].POINTERDOWN,G["a"].MOUSEWHEEL,G["a"].WHEEL];for(var o=0,l=n.length;o<l;++o){Object(c["a"])(this.overlayContainerStopEvent_,n[o],b["b"])}this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=new I(this,e.moveTolerance);for(var h in u["a"]){Object(c["a"])(this.mapBrowserEventHandler_,u["a"][h],this.handleMapBrowserEvent,this)}this.keyboardEventTarget_=i.keyboardEventTarget;this.keyHandlerKeys_=null;Object(c["a"])(this.viewport_,G["a"].CONTEXTMENU,this.handleBrowserEvent,this);Object(c["a"])(this.viewport_,G["a"].WHEEL,this.handleBrowserEvent,this);Object(c["a"])(this.viewport_,G["a"].MOUSEWHEEL,this.handleBrowserEvent,this);this.controls=i.controls||new r["b"];this.interactions=i.interactions||new r["b"];this.overlays_=i.overlays;this.overlayIdIndex_={};this.renderer_=this.createRenderer(this.viewport_,this);this.handleResize_;this.focus_=null;this.postRenderFunctions_=[];this.tileQueue_=new B(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.skippedFeatureUids_={};Object(c["a"])(this,Object($["b"])(N.LAYERGROUP),this.handleLayerGroupChanged_,this);Object(c["a"])(this,Object($["b"])(N.VIEW),this.handleViewChanged_,this);Object(c["a"])(this,Object($["b"])(N.SIZE),this.handleSizeChanged_,this);Object(c["a"])(this,Object($["b"])(N.TARGET),this.handleTargetChanged_,this);this.setProperties(i.values);this.controls.forEach(function(t){t.setMap(this)}.bind(this));Object(c["a"])(this.controls,a["a"].ADD,function(t){t.element.setMap(this)},this);Object(c["a"])(this.controls,a["a"].REMOVE,function(t){t.element.setMap(null)},this);this.interactions.forEach(function(t){t.setMap(this)}.bind(this));Object(c["a"])(this.interactions,a["a"].ADD,function(t){t.element.setMap(this)},this);Object(c["a"])(this.interactions,a["a"].REMOVE,function(t){t.element.setMap(null)},this);this.overlays_.forEach(this.addOverlayInternal_.bind(this));Object(c["a"])(this.overlays_,a["a"].ADD,function(t){this.addOverlayInternal_(t.element)},this);Object(c["a"])(this.overlays_,a["a"].REMOVE,function(t){var e=t.element;var i=e.getId();if(i!==undefined){delete this.overlayIdIndex_[i.toString()]}t.element.setMap(null)},this)};Object(n["d"])(it,$["a"]);it.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")};it.prototype.addControl=function(t){this.getControls().push(t)};it.prototype.addInteraction=function(t){this.getInteractions().push(t)};it.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)};it.prototype.addOverlay=function(t){this.getOverlays().push(t)};it.prototype.addOverlayInternal_=function(t){var e=t.getId();if(e!==undefined){this.overlayIdIndex_[e.toString()]=t}t.setMap(this)};it.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose();Object(c["c"])(this.viewport_,G["a"].CONTEXTMENU,this.handleBrowserEvent,this);Object(c["c"])(this.viewport_,G["a"].WHEEL,this.handleBrowserEvent,this);Object(c["c"])(this.viewport_,G["a"].MOUSEWHEEL,this.handleBrowserEvent,this);if(this.handleResize_!==undefined){removeEventListener(G["a"].RESIZE,this.handleResize_,false);this.handleResize_=undefined}if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_);this.animationDelayKey_=undefined}this.setTarget(null);$["a"].prototype.disposeInternal.call(this)};it.prototype.forEachFeatureAtPixel=function(t,e,i){if(!this.frameState_){return}var n=this.getCoordinateFromPixel(t);i=i!==undefined?i:{};var r=i.hitTolerance!==undefined?i.hitTolerance*this.frameState_.pixelRatio:0;var a=i.layerFilter!==undefined?i.layerFilter:Q["b"];return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,e,null,a,null)};it.prototype.getFeaturesAtPixel=function(t,e){var i=null;this.forEachFeatureAtPixel(t,function(t){if(!i){i=[]}i.push(t)},e);return i};it.prototype.forEachLayerAtPixel=function(t,e,i,n,r){if(!this.frameState_){return}var a=i!==undefined?i:null;var o=n!==undefined?n:Q["b"];var s=r!==undefined?r:null;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,e,a,o,s)};it.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_){return false}var i=this.getCoordinateFromPixel(t);e=e!==undefined?e:{};var n=e.layerFilter!==undefined?e.layerFilter:Q["b"];var r=e.hitTolerance!==undefined?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,n,null)};it.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))};it.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect();var i=t.changedTouches?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]};it.prototype.getTarget=function(){return this.get(N.TARGET)};it.prototype.getTargetElement=function(){var t=this.getTarget();if(t!==undefined){return typeof t==="string"?document.getElementById(t):t}else{return null}};it.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;if(!e){return null}else{return Object(et["a"])(e.pixelToCoordinateTransform,t.slice())}};it.prototype.getControls=function(){return this.controls};it.prototype.getOverlays=function(){return this.overlays_};it.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return e!==undefined?e:null};it.prototype.getInteractions=function(){return this.interactions};it.prototype.getLayerGroup=function(){return this.get(N.LAYERGROUP)};it.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t};it.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;if(!e){return null}else{return Object(et["a"])(e.coordinateToPixelTransform,t.slice(0,2))}};it.prototype.getRenderer=function(){return this.renderer_};it.prototype.getSize=function(){return this.get(N.SIZE)};it.prototype.getView=function(){return this.get(N.VIEW)};it.prototype.getViewport=function(){return this.viewport_};it.prototype.getOverlayContainer=function(){return this.overlayContainer_};it.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};it.prototype.getTilePriority=function(t,e,i,n){var r=this.frameState_;if(!r||!(e in r.wantedTiles)){return Y}if(!r.wantedTiles[e][t.getKey()]){return Y}var a=i[0]-r.focus[0];var o=i[1]-r.focus[1];return 65536*Math.log(n)+Math.sqrt(a*a+o*o)/n};it.prototype.handleBrowserEvent=function(t,e){var i=e||t.type;var n=new o["a"](i,this,t);this.handleMapBrowserEvent(n)};it.prototype.handleMapBrowserEvent=function(t){if(!this.frameState_){return}this.focus_=t.coordinate;t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(this.dispatchEvent(t)!==false){for(var i=e.length-1;i>=0;i--){var n=e[i];if(!n.getActive()){continue}var r=n.handleEvent(t);if(!r){break}}}};it.prototype.handlePostRender=function(){var t=this.frameState_;var e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_;var n=i;if(t){var r=t.viewHints;if(r[K["a"].ANIMATING]){i=this.loadTilesWhileAnimating_?8:0;n=2}if(r[K["a"].INTERACTING]){i=this.loadTilesWhileInteracting_?8:0;n=2}}if(e.getTilesLoading()<i){e.reprioritize();e.loadMoreTiles(i,n)}}var a=this.postRenderFunctions_;for(var o=0,s=a.length;o<s;++o){a[o](this,t)}a.length=0};it.prototype.handleSizeChanged_=function(){this.render()};it.prototype.handleTargetChanged_=function(){var t=void 0;if(this.getTarget()){t=this.getTargetElement()}if(this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e){Object(c["e"])(this.keyHandlerKeys_[e])}this.keyHandlerKeys_=null}if(!t){this.renderer_.removeLayerRenderers();Object(X["e"])(this.viewport_);if(this.handleResize_!==undefined){removeEventListener(G["a"].RESIZE,this.handleResize_,false);this.handleResize_=undefined}}else{t.appendChild(this.viewport_);var n=!this.keyboardEventTarget_?t:this.keyboardEventTarget_;this.keyHandlerKeys_=[Object(c["a"])(n,G["a"].KEYDOWN,this.handleBrowserEvent,this),Object(c["a"])(n,G["a"].KEYPRESS,this.handleBrowserEvent,this)];if(!this.handleResize_){this.handleResize_=this.updateSize.bind(this);addEventListener(G["a"].RESIZE,this.handleResize_,false)}}this.updateSize()};it.prototype.handleTileChange_=function(){this.render()};it.prototype.handleViewPropertyChanged_=function(){this.render()};it.prototype.handleViewChanged_=function(){if(this.viewPropertyListenerKey_){Object(c["e"])(this.viewPropertyListenerKey_);this.viewPropertyListenerKey_=null}if(this.viewChangeListenerKey_){Object(c["e"])(this.viewChangeListenerKey_);this.viewChangeListenerKey_=null}var t=this.getView();if(t){this.viewport_.setAttribute("data-view",Object(n["c"])(t));this.viewPropertyListenerKey_=Object(c["a"])(t,L["a"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this);this.viewChangeListenerKey_=Object(c["a"])(t,G["a"].CHANGE,this.handleViewPropertyChanged_,this)}this.render()};it.prototype.handleLayerGroupChanged_=function(){if(this.layerGroupPropertyListenerKeys_){this.layerGroupPropertyListenerKeys_.forEach(c["e"]);this.layerGroupPropertyListenerKeys_=null}var t=this.getLayerGroup();if(t){this.layerGroupPropertyListenerKeys_=[Object(c["a"])(t,L["a"].PROPERTYCHANGE,this.render,this),Object(c["a"])(t,G["a"].CHANGE,this.render,this)]}this.render()};it.prototype.isRendered=function(){return!!this.frameState_};it.prototype.renderSync=function(){if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_)}this.animationDelay_()};it.prototype.render=function(){if(this.animationDelayKey_===undefined){this.animationDelayKey_=requestAnimationFrame(this.animationDelay_)}};it.prototype.removeControl=function(t){return this.getControls().remove(t)};it.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)};it.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)};it.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)};it.prototype.renderFrame_=function(t){var e=void 0;var i=this.getSize();var r=this.getView();var a=Object(Z["j"])();var o=this.frameState_;var s=null;if(i!==undefined&&Object(tt["b"])(i)&&r&&r.isDef()){var u=r.getHints(this.frameState_?this.frameState_.viewHints:undefined);var l=this.getLayerGroup().getLayerStatesArray();var c={};for(var h=0,f=l.length;h<f;++h){c[Object(n["c"])(l[h].layer)]=l[h]}e=r.getState();var d=this.focus_;if(!d){d=e.center;var p=e.resolution/this.pixelRatio_;d[0]=Math.round(d[0]/p)*p;d[1]=Math.round(d[1]/p)*p}s={animate:false,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:a,focus:d,index:this.frameIndex_++,layerStates:c,layerStatesArray:l,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:u,wantedTiles:{}}}if(s){s.extent=Object(Z["z"])(e.center,e.resolution,e.rotation,s.size,a)}this.frameState_=s;this.renderer_.renderFrame(s);if(s){if(s.animate){this.render()}Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions);if(o){var v=!this.previousExtent_||!Object(Z["H"])(this.previousExtent_)&&!Object(Z["p"])(s.extent,this.previousExtent_);if(v){this.dispatchEvent(new P["a"](D["a"].MOVESTART,this,o));this.previousExtent_=Object(Z["l"])(this.previousExtent_)}}var g=this.previousExtent_&&!s.viewHints[K["a"].ANIMATING]&&!s.viewHints[K["a"].INTERACTING]&&!Object(Z["p"])(s.extent,this.previousExtent_);if(g){this.dispatchEvent(new P["a"](D["a"].MOVEEND,this,s));Object(Z["d"])(s.extent,this.previousExtent_)}}this.dispatchEvent(new P["a"](D["a"].POSTRENDER,this,s));setTimeout(this.handlePostRender.bind(this),0)};it.prototype.setLayerGroup=function(t){this.set(N.LAYERGROUP,t)};it.prototype.setSize=function(t){this.set(N.SIZE,t)};it.prototype.setTarget=function(t){this.set(N.TARGET,t)};it.prototype.setView=function(t){this.set(N.VIEW,t)};it.prototype.skipFeature=function(t){var e=Object(n["c"])(t).toString();this.skippedFeatureUids_[e]=true;this.render()};it.prototype.updateSize=function(){var t=this.getTargetElement();if(!t){this.setSize(undefined)}else{var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e["borderLeftWidth"])-parseFloat(e["paddingLeft"])-parseFloat(e["paddingRight"])-parseFloat(e["borderRightWidth"]),t.offsetHeight-parseFloat(e["borderTopWidth"])-parseFloat(e["paddingTop"])-parseFloat(e["paddingBottom"])-parseFloat(e["borderBottomWidth"])])}};it.prototype.unskipFeature=function(t){var e=Object(n["c"])(t).toString();delete this.skippedFeatureUids_[e];this.render()};function nt(t){var e=null;if(t.keyboardEventTarget!==undefined){e=typeof t.keyboardEventTarget==="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget}var i={};var n=t.layers instanceof J["a"]?t.layers:new J["a"]({layers:t.layers});i[N.LAYERGROUP]=n;i[N.TARGET]=t.target;i[N.VIEW]=t.view!==undefined?t.view:new q["a"];var a=void 0;if(t.controls!==undefined){if(Array.isArray(t.controls)){a=new r["b"](t.controls.slice())}else{Object(U["a"])(t.controls instanceof r["b"],47);a=t.controls}}var o=void 0;if(t.interactions!==undefined){if(Array.isArray(t.interactions)){o=new r["b"](t.interactions.slice())}else{Object(U["a"])(t.interactions instanceof r["b"],48);o=t.interactions}}var s=void 0;if(t.overlays!==undefined){if(Array.isArray(t.overlays)){s=new r["b"](t.overlays.slice())}else{Object(U["a"])(t.overlays instanceof r["b"],49);s=t.overlays}}else{s=new r["b"]}return{controls:a,interactions:o,keyboardEventTarget:e,overlays:s,values:i}}var rt=it;var at=i(59);var ot=i(58);var st=i(78);var ut=function t(e){var i=e?e:{};this.ulElement_=document.createElement("UL");this.collapsed_=i.collapsed!==undefined?i.collapsed:true;this.collapsible_=i.collapsible!==undefined?i.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var n=i.className!==undefined?i.className:"ol-attribution";var r=i.tipLabel!==undefined?i.tipLabel:"Attributions";var a=i.collapseLabel!==undefined?i.collapseLabel:"»";if(typeof a==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=a}else{this.collapseLabel_=a}var o=i.label!==undefined?i.label:"i";if(typeof o==="string"){this.label_=document.createElement("span");this.label_.textContent=o}else{this.label_=o}var s=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var u=document.createElement("button");u.setAttribute("type","button");u.title=r;u.appendChild(s);Object(c["a"])(u,G["a"].CLICK,this.handleClick_,this);var l=n+" "+ot["e"]+" "+ot["b"]+(this.collapsed_&&this.collapsible_?" "+ot["a"]:"")+(this.collapsible_?"":" ol-uncollapsible");var h=document.createElement("div");h.className=l;h.appendChild(this.ulElement_);h.appendChild(u);at["a"].call(this,{element:h,render:i.render||lt,target:i.target});this.renderedAttributions_=[];this.renderedVisible_=true};Object(n["d"])(ut,at["a"]);ut.prototype.getSourceAttributions_=function(t){var e={};var i=[];var n=t.layerStatesArray;var r=t.viewState.resolution;for(var a=0,o=n.length;a<o;++a){var s=n[a];if(!Object(st["b"])(s,r)){continue}var u=s.layer.getSource();if(!u){continue}var l=u.getAttributions();if(!l){continue}var c=l(t);if(!c){continue}if(Array.isArray(c)){for(var h=0,f=c.length;h<f;++h){if(!(c[h]in e)){i.push(c[h]);e[c[h]]=true}}}else{if(!(c in e)){i.push(c);e[c]=true}}}return i};function lt(t){this.updateElement_(t.frameState)}ut.prototype.updateElement_=function(t){if(!t){if(this.renderedVisible_){this.element.style.display="none";this.renderedVisible_=false}return}var e=this.getSourceAttributions_(t);if(Object(S["b"])(e,this.renderedAttributions_)){return}Object(X["d"])(this.ulElement_);for(var i=0,n=e.length;i<n;++i){var r=document.createElement("LI");r.innerHTML=e[i];this.ulElement_.appendChild(r)}var a=e.length>0;if(this.renderedVisible_!=a){this.element.style.display=a?"":"none";this.renderedVisible_=a}this.renderedAttributions_=e};ut.prototype.handleClick_=function(t){t.preventDefault();this.handleToggle_()};ut.prototype.handleToggle_=function(){this.element.classList.toggle(ot["a"]);if(this.collapsed_){Object(X["f"])(this.collapseLabel_,this.label_)}else{Object(X["f"])(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_};ut.prototype.getCollapsible=function(){return this.collapsible_};ut.prototype.setCollapsible=function(t){if(this.collapsible_===t){return}this.collapsible_=t;this.element.classList.toggle("ol-uncollapsible");if(!t&&this.collapsed_){this.handleToggle_()}};ut.prototype.setCollapsed=function(t){if(!this.collapsible_||this.collapsed_===t){return}this.handleToggle_()};ut.prototype.getCollapsed=function(){return this.collapsed_};var ct=ut;var ht=i(70);var ft=function t(e){var i=e?e:{};var n=i.className!==undefined?i.className:"ol-rotate";var r=i.label!==undefined?i.label:"⇧";this.label_=null;if(typeof r==="string"){this.label_=document.createElement("span");this.label_.className="ol-compass";this.label_.textContent=r}else{this.label_=r;this.label_.classList.add("ol-compass")}var a=i.tipLabel?i.tipLabel:"Reset rotation";var o=document.createElement("button");o.className=n+"-reset";o.setAttribute("type","button");o.title=a;o.appendChild(this.label_);Object(c["a"])(o,G["a"].CLICK,t.prototype.handleClick_,this);var s=n+" "+ot["e"]+" "+ot["b"];var u=document.createElement("div");u.className=s;u.appendChild(o);this.callResetNorth_=i.resetNorth?i.resetNorth:undefined;at["a"].call(this,{element:u,render:i.render||dt,target:i.target});this.duration_=i.duration!==undefined?i.duration:250;this.autoHide_=i.autoHide!==undefined?i.autoHide:true;this.rotation_=undefined;if(this.autoHide_){this.element.classList.add(ot["c"])}};Object(n["d"])(ft,at["a"]);ft.prototype.handleClick_=function(t){t.preventDefault();if(this.callResetNorth_!==undefined){this.callResetNorth_()}else{this.resetNorth_()}};ft.prototype.resetNorth_=function(){var t=this.getMap();var e=t.getView();if(!e){return}if(e.getRotation()!==undefined){if(this.duration_>0){e.animate({rotation:0,duration:this.duration_,easing:ht["b"]})}else{e.setRotation(0)}}};function dt(t){var e=t.frameState;if(!e){return}var i=e.viewState.rotation;if(i!=this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var r=this.element.classList.contains(ot["c"]);if(!r&&i===0){this.element.classList.add(ot["c"])}else if(r&&i!==0){this.element.classList.remove(ot["c"])}}this.label_.style.msTransform=n;this.label_.style.webkitTransform=n;this.label_.style.transform=n}this.rotation_=i}var pt=ft;var vt=function t(e){var i=e?e:{};var n=i.className!==undefined?i.className:"ol-zoom";var r=i.delta!==undefined?i.delta:1;var a=i.zoomInLabel!==undefined?i.zoomInLabel:"+";var o=i.zoomOutLabel!==undefined?i.zoomOutLabel:"−";var s=i.zoomInTipLabel!==undefined?i.zoomInTipLabel:"Zoom in";var u=i.zoomOutTipLabel!==undefined?i.zoomOutTipLabel:"Zoom out";var l=document.createElement("button");l.className=n+"-in";l.setAttribute("type","button");l.title=s;l.appendChild(typeof a==="string"?document.createTextNode(a):a);Object(c["a"])(l,G["a"].CLICK,t.prototype.handleClick_.bind(this,r));var h=document.createElement("button");h.className=n+"-out";h.setAttribute("type","button");h.title=u;h.appendChild(typeof o==="string"?document.createTextNode(o):o);Object(c["a"])(h,G["a"].CLICK,t.prototype.handleClick_.bind(this,-r));var f=n+" "+ot["e"]+" "+ot["b"];var d=document.createElement("div");d.className=f;d.appendChild(l);d.appendChild(h);at["a"].call(this,{element:d,target:i.target});this.duration_=i.duration!==undefined?i.duration:250};Object(n["d"])(vt,at["a"]);vt.prototype.handleClick_=function(t,e){e.preventDefault();this.zoomByDelta_(t)};vt.prototype.zoomByDelta_=function(t){var e=this.getMap();var i=e.getView();if(!i){return}var n=i.getResolution();if(n){var r=i.constrainResolution(n,t);if(this.duration_>0){if(i.getAnimating()){i.cancelAnimations()}i.animate({resolution:r,duration:this.duration_,easing:ht["b"]})}else{i.setResolution(r)}}};var gt=vt;var mt=function(){var t=void 0;return function(){if(!t){var e=document.body;if(e.webkitRequestFullscreen){t="webkitfullscreenchange"}else if(e.mozRequestFullScreen){t="mozfullscreenchange"}else if(e.msRequestFullscreen){t="MSFullscreenChange"}else if(e.requestFullscreen){t="fullscreenchange"}}return t}}();var yt=function t(e){var i=e?e:{};this.cssClassName_=i.className!==undefined?i.className:"ol-full-screen";var n=i.label!==undefined?i.label:"⤢";this.labelNode_=typeof n==="string"?document.createTextNode(n):n;var r=i.labelActive!==undefined?i.labelActive:"×";this.labelActiveNode_=typeof r==="string"?document.createTextNode(r):r;var a=i.tipLabel?i.tipLabel:"Toggle full-screen";var o=document.createElement("button");o.className=this.cssClassName_+"-"+bt();o.setAttribute("type","button");o.title=a;o.appendChild(this.labelNode_);Object(c["a"])(o,G["a"].CLICK,this.handleClick_,this);var s=this.cssClassName_+" "+ot["e"]+" "+ot["b"]+" "+(!_t()?ot["f"]:"");var u=document.createElement("div");u.className=s;u.appendChild(o);at["a"].call(this,{element:u,target:i.target});this.keys_=i.keys!==undefined?i.keys:false;this.source_=i.source};Object(n["d"])(yt,at["a"]);yt.prototype.handleClick_=function(t){t.preventDefault();this.handleFullScreen_()};yt.prototype.handleFullScreen_=function(){if(!_t()){return}var t=this.getMap();if(!t){return}if(bt()){xt()}else{var e=void 0;if(this.source_){e=typeof this.source_==="string"?document.getElementById(this.source_):this.source_}else{e=t.getTargetElement()}if(this.keys_){Ot(e)}else{wt(e)}}};yt.prototype.handleFullScreenChange_=function(){var t=this.element.firstElementChild;var e=this.getMap();if(bt()){t.className=this.cssClassName_+"-true";Object(X["f"])(this.labelActiveNode_,this.labelNode_)}else{t.className=this.cssClassName_+"-false";Object(X["f"])(this.labelNode_,this.labelActiveNode_)}if(e){e.updateSize()}};yt.prototype.setMap=function(t){at["a"].prototype.setMap.call(this,t);if(t){this.listenerKeys.push(Object(c["a"])(document,mt(),this.handleFullScreenChange_,this))}};function _t(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function bt(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function wt(t){if(t.requestFullscreen){t.requestFullscreen()}else if(t.msRequestFullscreen){t.msRequestFullscreen()}else if(t.mozRequestFullScreen){t.mozRequestFullScreen()}else if(t.webkitRequestFullscreen){t.webkitRequestFullscreen()}}function Ot(t){if(t.mozRequestFullScreenWithKeys){t.mozRequestFullScreenWithKeys()}else if(t.webkitRequestFullscreen){t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{wt(t)}}function xt(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}var St=yt;var Ct=i(150);var Tt=i(113);var Et=i(100);var Mt=i(22);var jt=.75;var kt=.1;var Rt=function t(e){var i=e?e:{};this.collapsed_=i.collapsed!==undefined?i.collapsed:true;this.collapsible_=i.collapsible!==undefined?i.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var n=i.className!==undefined?i.className:"ol-overviewmap";var a=i.tipLabel!==undefined?i.tipLabel:"Overview map";var o=i.collapseLabel!==undefined?i.collapseLabel:"«";if(typeof o==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=o}else{this.collapseLabel_=o}var s=i.label!==undefined?i.label:"»";if(typeof s==="string"){this.label_=document.createElement("span");this.label_.textContent=s}else{this.label_=s}var u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var l=document.createElement("button");l.setAttribute("type","button");l.title=a;l.appendChild(u);Object(c["a"])(l,G["a"].CLICK,this.handleClick_,this);this.ovmapDiv_=document.createElement("DIV");this.ovmapDiv_.className="ol-overviewmap-map";this.ovmap_=new Tr({controls:new r["b"],interactions:new r["b"],view:i.view});var h=this.ovmap_;if(i.layers){i.layers.forEach(function(t){h.addLayer(t)}.bind(this))}var f=document.createElement("DIV");f.className="ol-overviewmap-box";f.style.boxSizing="border-box";this.boxOverlay_=new Ct["a"]({position:[0,0],positioning:Tt["a"].BOTTOM_LEFT,element:f});this.ovmap_.addOverlay(this.boxOverlay_);var d=n+" "+ot["e"]+" "+ot["b"]+(this.collapsed_&&this.collapsible_?" "+ot["a"]:"")+(this.collapsible_?"":" ol-uncollapsible");var p=document.createElement("div");p.className=d;p.appendChild(this.ovmapDiv_);p.appendChild(l);at["a"].call(this,{element:p,render:i.render||At,target:i.target});var v=this;var g=this.boxOverlay_;var m=this.boxOverlay_.getElement();var y=function t(e){return{clientX:e.clientX-m.offsetWidth/2,clientY:e.clientY+m.offsetHeight/2}};var _=function t(e){var i=h.getEventCoordinate(y(e));g.setPosition(i)};var b=function t(e){var i=h.getEventCoordinate(e);v.getMap().getView().setCenter(i);window.removeEventListener("mousemove",_);window.removeEventListener("mouseup",t)};m.addEventListener("mousedown",function(){window.addEventListener("mousemove",_);window.addEventListener("mouseup",b)})};Object(n["d"])(Rt,at["a"]);Rt.prototype.setMap=function(t){var e=this.getMap();if(t===e){return}if(e){var i=e.getView();if(i){this.unbindView_(i)}this.ovmap_.setTarget(null)}at["a"].prototype.setMap.call(this,t);if(t){this.ovmap_.setTarget(this.ovmapDiv_);this.listenerKeys.push(Object(c["a"])(t,L["a"].PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(this.ovmap_.getLayers().getLength()===0){this.ovmap_.setLayerGroup(t.getLayerGroup())}var n=t.getView();if(n){this.bindView_(n);if(n.isDef()){this.ovmap_.updateSize();this.resetExtent_()}}}};Rt.prototype.handleMapPropertyChange_=function(t){if(t.key===N.VIEW){var e=t.oldValue;if(e){this.unbindView_(e)}var i=this.getMap().getView();this.bindView_(i)}};Rt.prototype.bindView_=function(t){Object(c["a"])(t,Object($["b"])(Et["a"].ROTATION),this.handleRotationChanged_,this)};Rt.prototype.unbindView_=function(t){Object(c["c"])(t,Object($["b"])(Et["a"].ROTATION),this.handleRotationChanged_,this)};Rt.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};function At(t){this.validateExtent_();this.updateBox_()}Rt.prototype.validateExtent_=function(){var t=this.getMap();var e=this.ovmap_;if(!t.isRendered()||!e.isRendered()){return}var i=t.getSize();var n=t.getView();var r=n.calculateExtent(i);var a=e.getSize();var o=e.getView();var s=o.calculateExtent(a);var u=e.getPixelFromCoordinate(Object(Z["C"])(r));var l=e.getPixelFromCoordinate(Object(Z["w"])(r));var c=Math.abs(u[0]-l[0]);var h=Math.abs(u[1]-l[1]);var f=a[0];var d=a[1];if(c<f*kt||h<d*kt||c>f*jt||h>d*jt){this.resetExtent_()}else if(!Object(Z["g"])(s,r)){this.recenter_()}};Rt.prototype.resetExtent_=function(){if(jt===0||kt===0){return}var t=this.getMap();var e=this.ovmap_;var i=t.getSize();var n=t.getView();var r=n.calculateExtent(i);var a=e.getView();var o=Math.log(jt/kt)/Math.LN2;var s=1/(Math.pow(2,o/2)*kt);Object(Z["J"])(r,s);a.fit(r)};Rt.prototype.recenter_=function(){var t=this.getMap();var e=this.ovmap_;var i=t.getView();var n=e.getView();n.setCenter(i.getCenter())};Rt.prototype.updateBox_=function(){var t=this.getMap();var e=this.ovmap_;if(!t.isRendered()||!e.isRendered()){return}var i=t.getSize();var n=t.getView();var r=e.getView();var a=n.getRotation();var o=this.boxOverlay_;var s=this.boxOverlay_.getElement();var u=n.calculateExtent(i);var l=r.getResolution();var c=Object(Z["v"])(u);var h=Object(Z["D"])(u);var f=this.calculateCoordinateRotate_(a,c);o.setPosition(f);if(s){s.style.width=Math.abs((c[0]-h[0])/l)+"px";s.style.height=Math.abs((h[1]-c[1])/l)+"px"}};Rt.prototype.calculateCoordinateRotate_=function(t,e){var i=void 0;var n=this.getMap();var r=n.getView();var a=r.getCenter();if(a){i=[e[0]-a[0],e[1]-a[1]];Object(Mt["f"])(i,t);Object(Mt["a"])(i,a)}return i};Rt.prototype.handleClick_=function(t){t.preventDefault();this.handleToggle_()};Rt.prototype.handleToggle_=function(){this.element.classList.toggle(ot["a"]);if(this.collapsed_){Object(X["f"])(this.collapseLabel_,this.label_)}else{Object(X["f"])(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_&&!t.isRendered()){t.updateSize();this.resetExtent_();Object(c["b"])(t,D["a"].POSTRENDER,function(t){this.updateBox_()},this)}};Rt.prototype.getCollapsible=function(){return this.collapsible_};Rt.prototype.setCollapsible=function(t){if(this.collapsible_===t){return}this.collapsible_=t;this.element.classList.toggle("ol-uncollapsible");if(!t&&this.collapsed_){this.handleToggle_()}};Rt.prototype.setCollapsed=function(t){if(!this.collapsible_||this.collapsed_===t){return}this.handleToggle_()};Rt.prototype.getCollapsed=function(){return this.collapsed_};Rt.prototype.getOverviewMap=function(){return this.ovmap_};var It=Rt;var Pt=i(247);var Dt=i(12);var Nt={VERTICAL:0,HORIZONTAL:1};var $t=function t(e){var i=e?e:{};this.currentResolution_=undefined;this.direction_=Nt.VERTICAL;this.dragging_;this.heightLimit_=0;this.widthLimit_=0;this.previousX_;this.previousY_;this.thumbSize_=null;this.sliderInitialized_=false;this.duration_=i.duration!==undefined?i.duration:200;var n=i.className!==undefined?i.className:"ol-zoomslider";var r=document.createElement("button");r.setAttribute("type","button");r.className=n+"-thumb "+ot["e"];var a=document.createElement("div");a.className=n+" "+ot["e"]+" "+ot["b"];a.appendChild(r);this.dragger_=new R(a);Object(c["a"])(this.dragger_,f.POINTERDOWN,this.handleDraggerStart_,this);Object(c["a"])(this.dragger_,f.POINTERMOVE,this.handleDraggerDrag_,this);Object(c["a"])(this.dragger_,f.POINTERUP,this.handleDraggerEnd_,this);Object(c["a"])(a,G["a"].CLICK,this.handleContainerClick_,this);Object(c["a"])(r,G["a"].CLICK,b["b"]);at["a"].call(this,{element:a,render:i.render||Lt})};Object(n["d"])($t,at["a"]);$t.prototype.disposeInternal=function(){this.dragger_.dispose();at["a"].prototype.disposeInternal.call(this)};$t.prototype.setMap=function(t){at["a"].prototype.setMap.call(this,t);if(t){t.render()}};$t.prototype.initSlider_=function(){var t=this.element;var e={width:t.offsetWidth,height:t.offsetHeight};var i=t.firstElementChild;var n=getComputedStyle(i);var r=i.offsetWidth+parseFloat(n["marginRight"])+parseFloat(n["marginLeft"]);var a=i.offsetHeight+parseFloat(n["marginTop"])+parseFloat(n["marginBottom"]);this.thumbSize_=[r,a];if(e.width>e.height){this.direction_=Nt.HORIZONTAL;this.widthLimit_=e.width-r}else{this.direction_=Nt.VERTICAL;this.heightLimit_=e.height-a}this.sliderInitialized_=true};function Lt(t){if(!t.frameState){return}if(!this.sliderInitialized_){this.initSlider_()}var e=t.frameState.viewState.resolution;if(e!==this.currentResolution_){this.currentResolution_=e;this.setThumbPosition_(e)}}$t.prototype.handleContainerClick_=function(t){var e=this.getMap().getView();var i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2);var n=this.getResolutionForPosition_(i);e.animate({resolution:e.constrainResolution(n),duration:this.duration_,easing:ht["b"]})};$t.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.originalEvent.target===this.element.firstElementChild){this.getMap().getView().setHint(K["a"].INTERACTING,1);this.previousX_=t.clientX;this.previousY_=t.clientY;this.dragging_=true}};$t.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild;var i=t.clientX-this.previousX_+parseInt(e.style.left,10);var n=t.clientY-this.previousY_+parseInt(e.style.top,10);var r=this.getRelativePosition_(i,n);this.currentResolution_=this.getResolutionForPosition_(r);this.getMap().getView().setResolution(this.currentResolution_);this.setThumbPosition_(this.currentResolution_);this.previousX_=t.clientX;this.previousY_=t.clientY}};$t.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.setHint(K["a"].INTERACTING,-1);e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ht["b"]});this.dragging_=false;this.previousX_=undefined;this.previousY_=undefined}};$t.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t);var i=this.element.firstElementChild;if(this.direction_==Nt.HORIZONTAL){i.style.left=this.widthLimit_*e+"px"}else{i.style.top=this.heightLimit_*e+"px"}};$t.prototype.getRelativePosition_=function(t,e){var i=void 0;if(this.direction_===Nt.HORIZONTAL){i=t/this.widthLimit_}else{i=e/this.heightLimit_}return Object(Dt["a"])(i,0,1)};$t.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView().getResolutionForValueFunction();return e(1-t)};$t.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return 1-e(t)};var Ft=$t;var Gt=function t(e){var i=e?e:{};this.extent=i.extent?i.extent:null;var n=i.className!==undefined?i.className:"ol-zoom-extent";var r=i.label!==undefined?i.label:"E";var a=i.tipLabel!==undefined?i.tipLabel:"Fit to extent";var o=document.createElement("button");o.setAttribute("type","button");o.title=a;o.appendChild(typeof r==="string"?document.createTextNode(r):r);Object(c["a"])(o,G["a"].CLICK,this.handleClick_,this);var s=n+" "+ot["e"]+" "+ot["b"];var u=document.createElement("div");u.className=s;u.appendChild(o);at["a"].call(this,{element:u,target:i.target})};Object(n["d"])(Gt,at["a"]);Gt.prototype.handleClick_=function(t){t.preventDefault();this.handleZoomToExtent()};Gt.prototype.handleZoomToExtent=function(){var t=this.getMap();var e=t.getView();var i=!this.extent?e.getProjection().getExtent():this.extent;e.fit(i)};var Ut=Gt;function Ht(t){var e=t?t:{};var i=new r["b"];var n=e.zoom!==undefined?e.zoom:true;if(n){i.push(new gt(e.zoomOptions))}var a=e.rotate!==undefined?e.rotate:true;if(a){i.push(new pt(e.rotateOptions))}var o=e.attribution!==undefined?e.attribution:true;if(o){i.push(new ct(e.attributionOptions))}return i}var Wt=function t(e,i,n){this.decay_=e;this.minVelocity_=i;this.delay_=n;this.points_=[];this.angle_=0;this.initialVelocity_=0};Wt.prototype.begin=function(){this.points_.length=0;this.angle_=0;this.initialVelocity_=0};Wt.prototype.update=function(t,e){this.points_.push(t,e,Date.now())};Wt.prototype.end=function(){if(this.points_.length<6){return false}var t=Date.now()-this.delay_;var e=this.points_.length-3;if(this.points_[e+2]<t){return false}var i=e-3;while(i>0&&this.points_[i+2]>t){i-=3}var n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60){return false}var r=this.points_[e]-this.points_[i];var a=this.points_[e+1]-this.points_[i+1];this.angle_=Math.atan2(a,r);this.initialVelocity_=Math.sqrt(r*r+a*a)/n;return this.initialVelocity_>this.minVelocity_};Wt.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};Wt.prototype.getAngle=function(){return this.angle_};var Yt=Wt;var zt=i(36);var Vt=function t(e){var i=e?e:{};this.delta_=i.delta?i.delta:1;zt["a"].call(this,{handleEvent:Bt});this.duration_=i.duration!==undefined?i.duration:250};Object(n["d"])(Vt,zt["a"]);function Bt(t){var e=false;var i=t.originalEvent;if(t.type==u["a"].DBLCLICK){var n=t.map;var r=t.coordinate;var a=i.shiftKey?-this.delta_:this.delta_;var o=n.getView();Object(zt["f"])(o,a,r,this.duration_);t.preventDefault();e=true}return!e}var qt=Vt;var Kt=i(49);var Xt=i(27);var Zt=function t(e){Xt["b"].call(this,{handleDownEvent:te,handleDragEvent:Qt,handleUpEvent:Jt});var i=e?e:{};this.kinetic_=i.kinetic;this.lastCentroid=null;this.lastPointersCount_;this.condition_=i.condition?i.condition:Kt["g"];this.noKinetic_=false};Object(n["d"])(Zt,Xt["b"]);function Qt(t){var e=this.targetPointers;var i=Object(Xt["a"])(e);if(e.length==this.lastPointersCount_){if(this.kinetic_){this.kinetic_.update(i[0],i[1])}if(this.lastCentroid){var n=this.lastCentroid[0]-i[0];var r=i[1]-this.lastCentroid[1];var a=t.map;var o=a.getView();var s=[n,r];Object(Mt["g"])(s,o.getResolution());Object(Mt["f"])(s,o.getRotation());Object(Mt["a"])(s,o.getCenter());s=o.constrainCenter(s);o.setCenter(s)}}else if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=i;this.lastPointersCount_=e.length}function Jt(t){var e=t.map;var i=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance();var r=this.kinetic_.getAngle();var a=i.getCenter();var o=e.getPixelFromCoordinate(a);var s=e.getCoordinateFromPixel([o[0]-n*Math.cos(r),o[1]-n*Math.sin(r)]);i.animate({center:i.constrainCenter(s),duration:500,easing:ht["b"]})}i.setHint(K["a"].INTERACTING,-1);return false}else{if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=null;return true}}function te(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map;var i=e.getView();this.lastCentroid=null;if(!this.handlingDownUpSequence){i.setHint(K["a"].INTERACTING,1)}if(i.getAnimating()){i.setCenter(t.frameState.viewState.center)}if(this.kinetic_){this.kinetic_.begin()}this.noKinetic_=this.targetPointers.length>1;return true}else{return false}}Zt.prototype.shouldStopEvent=Q["a"];var ee=Zt;var ie=i(153);var ne=function t(e){var i=e?e:{};Xt["b"].call(this,{handleDownEvent:oe,handleDragEvent:re,handleUpEvent:ae});this.condition_=i.condition?i.condition:Kt["b"];this.lastAngle_=undefined;this.duration_=i.duration!==undefined?i.duration:250};Object(n["d"])(ne,Xt["b"]);function re(t){if(!Object(Kt["e"])(t)){return}var e=t.map;var i=e.getView();if(i.getConstraints().rotation===ie["c"]){return}var n=e.getSize();var r=t.pixel;var a=Math.atan2(n[1]/2-r[1],r[0]-n[0]/2);if(this.lastAngle_!==undefined){var o=a-this.lastAngle_;var s=i.getRotation();Object(zt["d"])(i,s-o)}this.lastAngle_=a}function ae(t){if(!Object(Kt["e"])(t)){return true}var e=t.map;var i=e.getView();i.setHint(K["a"].INTERACTING,-1);var n=i.getRotation();Object(zt["c"])(i,n,undefined,this.duration_);return false}function oe(t){if(!Object(Kt["e"])(t)){return false}if(Object(Kt["d"])(t)&&this.condition_(t)){var e=t.map;e.getView().setHint(K["a"].INTERACTING,1);this.lastAngle_=undefined;return true}else{return false}}ne.prototype.shouldStopEvent=Q["a"];var se=ne;var ue=i(201);var le=function t(e){var i=e?e:{};var n=i.condition?i.condition:Kt["k"];this.duration_=i.duration!==undefined?i.duration:200;this.out_=i.out!==undefined?i.out:false;ue["a"].call(this,{condition:n,className:i.className||"ol-dragzoom"})};Object(n["d"])(le,ue["a"]);le.prototype.onBoxEnd=function(){var t=this.getMap();var e=t.getView();var i=t.getSize();var n=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(i);var a=Object(Z["n"])([t.getPixelFromCoordinate(Object(Z["v"])(n)),t.getPixelFromCoordinate(Object(Z["D"])(n))]);var o=e.getResolutionForExtent(a,i);Object(Z["J"])(r,1/o);n=r}var s=e.constrainResolution(e.getResolutionForExtent(n,i));var u=Object(Z["x"])(n);u=e.constrainCenter(u);e.animate({resolution:s,center:u,duration:this.duration_,easing:ht["b"]})};var ce=le;var he={LEFT:37,UP:38,RIGHT:39,DOWN:40};var fe=function t(e){zt["a"].call(this,{handleEvent:de});var i=e||{};this.defaultCondition_=function(t){return Object(Kt["g"])(t)&&Object(Kt["m"])(t)};this.condition_=i.condition!==undefined?i.condition:this.defaultCondition_;this.duration_=i.duration!==undefined?i.duration:100;this.pixelDelta_=i.pixelDelta!==undefined?i.pixelDelta:128};Object(n["d"])(fe,zt["a"]);function de(t){var e=false;if(t.type==G["a"].KEYDOWN){var i=t.originalEvent;var n=i.keyCode;if(this.condition_(t)&&(n==he.DOWN||n==he.LEFT||n==he.RIGHT||n==he.UP)){var r=t.map;var a=r.getView();var o=a.getResolution()*this.pixelDelta_;var s=0,u=0;if(n==he.DOWN){u=-o}else if(n==he.LEFT){s=-o}else if(n==he.RIGHT){s=o}else{u=o}var l=[s,u];Object(Mt["f"])(l,a.getRotation());Object(zt["b"])(a,l,this.duration_);t.preventDefault();e=true}}return!e}var pe=fe;var ve=function t(e){zt["a"].call(this,{handleEvent:ge});var i=e?e:{};this.condition_=i.condition?i.condition:Kt["m"];this.delta_=i.delta?i.delta:1;this.duration_=i.duration!==undefined?i.duration:100};Object(n["d"])(ve,zt["a"]);function ge(t){var e=false;if(t.type==G["a"].KEYDOWN||t.type==G["a"].KEYPRESS){var i=t.originalEvent;var n=i.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map;var a=n=="+".charCodeAt(0)?this.delta_:-this.delta_;var o=r.getView();Object(zt["f"])(o,a,undefined,this.duration_);t.preventDefault();e=true}}return!e}var me=ve;var ye=1;var _e={TRACKPAD:"trackpad",WHEEL:"wheel"};var be=function t(e){zt["a"].call(this,{handleEvent:we});var i=e||{};this.delta_=0;this.duration_=i.duration!==undefined?i.duration:250;this.timeout_=i.timeout!==undefined?i.timeout:80;this.useAnchor_=i.useAnchor!==undefined?i.useAnchor:true;this.constrainResolution_=i.constrainResolution||false;this.condition_=i.condition?i.condition:Kt["c"];this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined;this.mode_=undefined;this.trackpadEventGap_=400;this.trackpadTimeoutId_=undefined;this.trackpadDeltaPerZoom_=300;this.trackpadZoomBuffer_=1.5};Object(n["d"])(be,zt["a"]);function we(t){if(!this.condition_(t)){return true}var e=t.type;if(e!==G["a"].WHEEL&&e!==G["a"].MOUSEWHEEL){return true}t.preventDefault();var i=t.map;var n=t.originalEvent;if(this.useAnchor_){this.lastAnchor_=t.coordinate}var r=void 0;if(t.type==G["a"].WHEEL){r=n.deltaY;if(s["c"]&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL){r/=s["b"]}if(n.deltaMode===WheelEvent.DOM_DELTA_LINE){r*=40}}else if(t.type==G["a"].MOUSEWHEEL){r=-n.wheelDeltaY;if(s["h"]){r/=3}}if(r===0){return false}var a=Date.now();if(this.startTime_===undefined){this.startTime_=a}if(!this.mode_||a-this.startTime_>this.trackpadEventGap_){this.mode_=Math.abs(r)<4?_e.TRACKPAD:_e.WHEEL}if(this.mode_===_e.TRACKPAD){var o=i.getView();if(this.trackpadTimeoutId_){clearTimeout(this.trackpadTimeoutId_)}else{o.setHint(K["a"].INTERACTING,1)}this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var u=o.getResolution()*Math.pow(2,r/this.trackpadDeltaPerZoom_);var l=o.getMinResolution();var c=o.getMaxResolution();var h=0;if(u<l){u=Math.max(u,l/this.trackpadZoomBuffer_);h=1}else if(u>c){u=Math.min(u,c*this.trackpadZoomBuffer_);h=-1}if(this.lastAnchor_){var f=o.calculateCenterZoom(u,this.lastAnchor_);o.setCenter(o.constrainCenter(f))}o.setResolution(u);if(h===0&&this.constrainResolution_){o.animate({resolution:o.constrainResolution(u,r>0?-1:1),easing:ht["b"],anchor:this.lastAnchor_,duration:this.duration_})}if(h>0){o.animate({resolution:l,easing:ht["b"],anchor:this.lastAnchor_,duration:500})}else if(h<0){o.animate({resolution:c,easing:ht["b"],anchor:this.lastAnchor_,duration:500})}this.startTime_=a;return false}this.delta_+=r;var d=Math.max(this.timeout_-(a-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),d);return false}be.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=undefined;var t=this.getMap().getView();t.setHint(K["a"].INTERACTING,-1)};be.prototype.handleWheelZoom_=function(t){var e=t.getView();if(e.getAnimating()){e.cancelAnimations()}var i=ye;var n=Object(Dt["a"])(this.delta_,-i,i);Object(zt["f"])(e,-n,this.lastAnchor_,this.duration_);this.mode_=undefined;this.delta_=0;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined};be.prototype.setMouseAnchor=function(t){this.useAnchor_=t;if(!t){this.lastAnchor_=null}};var Oe=be;var xe=function t(e){Xt["b"].call(this,{handleDownEvent:Te,handleDragEvent:Se,handleUpEvent:Ce});var i=e||{};this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;this.threshold_=i.threshold!==undefined?i.threshold:.3;this.duration_=i.duration!==undefined?i.duration:250};Object(n["d"])(xe,Xt["b"]);function Se(t){var e=0;var i=this.targetPointers[0];var n=this.targetPointers[1];var r=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(this.lastAngle_!==undefined){var a=r-this.lastAngle_;this.rotationDelta_+=a;if(!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_){this.rotating_=true}e=a}this.lastAngle_=r;var o=t.map;var s=o.getView();if(s.getConstraints().rotation===ie["c"]){return}var u=o.getViewport().getBoundingClientRect();var l=Object(Xt["a"])(this.targetPointers);l[0]-=u.left;l[1]-=u.top;this.anchor_=o.getCoordinateFromPixel(l);if(this.rotating_){var c=s.getRotation();o.render();Object(zt["d"])(s,c+e,this.anchor_)}}function Ce(t){if(this.targetPointers.length<2){var e=t.map;var i=e.getView();i.setHint(K["a"].INTERACTING,-1);if(this.rotating_){var n=i.getRotation();Object(zt["c"])(i,n,this.anchor_,this.duration_)}return false}else{return true}}function Te(t){if(this.targetPointers.length>=2){var e=t.map;this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;if(!this.handlingDownUpSequence){e.getView().setHint(K["a"].INTERACTING,1)}return true}else{return false}}xe.prototype.shouldStopEvent=Q["a"];var Ee=xe;var Me=function t(e){Xt["b"].call(this,{handleDownEvent:Re,handleDragEvent:je,handleUpEvent:ke});var i=e?e:{};this.constrainResolution_=i.constrainResolution||false;this.anchor_=null;this.duration_=i.duration!==undefined?i.duration:400;this.lastDistance_=undefined;this.lastScaleDelta_=1};Object(n["d"])(Me,Xt["b"]);function je(t){var e=1;var i=this.targetPointers[0];var n=this.targetPointers[1];var r=i.clientX-n.clientX;var a=i.clientY-n.clientY;var o=Math.sqrt(r*r+a*a);if(this.lastDistance_!==undefined){e=this.lastDistance_/o}this.lastDistance_=o;var s=t.map;var u=s.getView();var l=u.getResolution();var c=u.getMaxResolution();var h=u.getMinResolution();var f=l*e;if(f>c){e=c/l;f=c}else if(f<h){e=h/l;f=h}if(e!=1){this.lastScaleDelta_=e}var d=s.getViewport().getBoundingClientRect();var p=Object(Xt["a"])(this.targetPointers);p[0]-=d.left;p[1]-=d.top;this.anchor_=s.getCoordinateFromPixel(p);s.render();Object(zt["g"])(u,f,this.anchor_)}function ke(t){if(this.targetPointers.length<2){var e=t.map;var i=e.getView();i.setHint(K["a"].INTERACTING,-1);var n=i.getResolution();if(this.constrainResolution_||n<i.getMinResolution()||n>i.getMaxResolution()){var r=this.lastScaleDelta_-1;Object(zt["e"])(i,n,this.anchor_,this.duration_,r)}return false}else{return true}}function Re(t){if(this.targetPointers.length>=2){var e=t.map;this.anchor_=null;this.lastDistance_=undefined;this.lastScaleDelta_=1;if(!this.handlingDownUpSequence){e.getView().setHint(K["a"].INTERACTING,1)}return true}else{return false}}Me.prototype.shouldStopEvent=Q["a"];var Ae=Me;var Ie=i(7);var Pe={ADD_FEATURES:"addfeatures"};var De=function t(e,i,n,r){b["a"].call(this,e);this.features=n;this.file=i;this.projection=r};Object(n["d"])(De,b["a"]);var Ne=function t(e){var i=e?e:{};zt["a"].call(this,{handleEvent:Q["b"]});this.formatConstructors_=i.formatConstructors?i.formatConstructors:[];this.projection_=i.projection?Object(Ie["h"])(i.projection):null;this.dropListenKeys_=null;this.source_=i.source||null;this.target=i.target?i.target:null};Object(n["d"])(Ne,zt["a"]);function $e(t){var e=t.dataTransfer.files;for(var i=0,n=e.length;i<n;++i){var r=e.item(i);var a=new FileReader;a.addEventListener(G["a"].LOAD,this.handleResult_.bind(this,r));a.readAsText(r)}}function Le(t){t.stopPropagation();t.preventDefault();t.dataTransfer.dropEffect="copy"}Ne.prototype.handleResult_=function(t,e){var i=e.target.result;var n=this.getMap();var r=this.projection_;if(!r){var a=n.getView();r=a.getProjection()}var o=this.formatConstructors_;var s=[];for(var u=0,l=o.length;u<l;++u){var c=o[u];var h=new c;s=this.tryReadFeatures_(h,i,{featureProjection:r});if(s&&s.length>0){break}}if(this.source_){this.source_.clear();this.source_.addFeatures(s)}this.dispatchEvent(new De(Pe.ADD_FEATURES,t,s,r))};Ne.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[Object(c["a"])(e,G["a"].DROP,$e,this),Object(c["a"])(e,G["a"].DRAGENTER,Le,this),Object(c["a"])(e,G["a"].DRAGOVER,Le,this),Object(c["a"])(e,G["a"].DROP,Le,this)]}};Ne.prototype.setActive=function(t){zt["a"].prototype.setActive.call(this,t);if(t){this.registerListeners_()}else{this.unregisterListeners_()}};Ne.prototype.setMap=function(t){this.unregisterListeners_();zt["a"].prototype.setMap.call(this,t);if(this.getActive()){this.registerListeners_()}};Ne.prototype.tryReadFeatures_=function(t,e,i){try{return t.readFeatures(e,i)}catch(t){return null}};Ne.prototype.unregisterListeners_=function(){if(this.dropListenKeys_){this.dropListenKeys_.forEach(c["e"]);this.dropListenKeys_=null}};var Fe=Ne;var Ge=function t(e){var i=e?e:{};Xt["b"].call(this,{handleDownEvent:We,handleDragEvent:Ue,handleUpEvent:He});this.condition_=i.condition?i.condition:Kt["k"];this.lastAngle_=undefined;this.lastMagnitude_=undefined;this.lastScaleDelta_=0;this.duration_=i.duration!==undefined?i.duration:400};Object(n["d"])(Ge,Xt["b"]);function Ue(t){if(!Object(Kt["e"])(t)){return}var e=t.map;var i=e.getSize();var n=t.pixel;var r=n[0]-i[0]/2;var a=i[1]/2-n[1];var o=Math.atan2(a,r);var s=Math.sqrt(r*r+a*a);var u=e.getView();if(u.getConstraints().rotation!==ie["c"]&&this.lastAngle_!==undefined){var l=o-this.lastAngle_;Object(zt["d"])(u,u.getRotation()-l)}this.lastAngle_=o;if(this.lastMagnitude_!==undefined){var c=this.lastMagnitude_*(u.getResolution()/s);Object(zt["g"])(u,c)}if(this.lastMagnitude_!==undefined){this.lastScaleDelta_=this.lastMagnitude_/s}this.lastMagnitude_=s}function He(t){if(!Object(Kt["e"])(t)){return true}var e=t.map;var i=e.getView();i.setHint(K["a"].INTERACTING,-1);var n=this.lastScaleDelta_-1;Object(zt["c"])(i,i.getRotation());Object(zt["e"])(i,i.getResolution(),undefined,this.duration_,n);this.lastScaleDelta_=0;return false}function We(t){if(!Object(Kt["e"])(t)){return false}if(this.condition_(t)){t.map.getView().setHint(K["a"].INTERACTING,1);this.lastAngle_=undefined;this.lastMagnitude_=undefined;return true}else{return false}}var Ye=Ge;var ze=i(74);var Ve=i(14);var Be=i(8);var qe=i(32);var Ke=i(29);var Xe=i(38);var Ze=i(34);var Qe=i(13);var Je={EXTENTCHANGED:"extentchanged"};var ti=function t(e){b["a"].call(this,Je.EXTENTCHANGED);this.extent=e};Object(n["d"])(ti,b["a"]);var ei=function t(e){var i=e||{};this.extent_=null;this.pointerHandler_=null;this.pixelTolerance_=i.pixelTolerance!==undefined?i.pixelTolerance:10;this.snappedToVertex_=false;this.extentFeature_=null;this.vertexFeature_=null;if(!e){e={}}Xt["b"].call(this,{handleDownEvent:ni,handleDragEvent:ri,handleEvent:ii,handleUpEvent:ai});this.extentOverlay_=new Xe["a"]({source:new Ze["b"]({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:oi(),updateWhileAnimating:true,updateWhileInteracting:true});this.vertexOverlay_=new Xe["a"]({source:new Ze["b"]({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:si(),updateWhileAnimating:true,updateWhileInteracting:true});if(e.extent){this.setExtent(e.extent)}};Object(n["d"])(ei,Xt["b"]);function ii(t){if(!(t instanceof l["a"])){return true}if(t.type==u["a"].POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(t)}Xt["c"].call(this,t);return false}function ni(t){var e=t.pixel;var i=t.map;var n=this.getExtent();var r=this.snapToVertex_(e,i);var a=function t(e){var i=null;var r=null;if(e[0]==n[0]){i=n[2]}else if(e[0]==n[2]){i=n[0]}if(e[1]==n[1]){r=n[3]}else if(e[1]==n[3]){r=n[1]}if(i!==null&&r!==null){return[i,r]}return null};if(r&&n){var o=r[0]==n[0]||r[0]==n[2]?r[0]:null;var s=r[1]==n[1]||r[1]==n[3]?r[1]:null;if(o!==null&&s!==null){this.pointerHandler_=ui(a(r))}else if(o!==null){this.pointerHandler_=li(a([o,n[1]]),a([o,n[3]]))}else if(s!==null){this.pointerHandler_=li(a([n[0],s]),a([n[2],s]))}}else{r=i.getCoordinateFromPixel(e);this.setExtent([r[0],r[1],r[0],r[1]]);this.pointerHandler_=ui(r)}return true}function ri(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e));this.createOrUpdatePointerFeature_(e)}return true}function ai(t){this.pointerHandler_=null;var e=this.getExtent();if(!e||Object(Z["u"])(e)===0){this.setExtent(null)}return false}function oi(){var t=Object(Qe["b"])();return function(e,i){return t[Be["a"].POLYGON]}}function si(){var t=Object(Qe["b"])();return function(e,i){return t[Be["a"].POINT]}}function ui(t){return function(e){return Object(Z["b"])([t,e])}}function li(t,e){if(t[0]==e[0]){return function(i){return Object(Z["b"])([t,[i[0],e[1]]])}}else if(t[1]==e[1]){return function(i){return Object(Z["b"])([t,[e[0],i[1]]])}}else{return null}}function ci(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}ei.prototype.snapToVertex_=function(t,e){var i=e.getCoordinateFromPixel(t);var n=function t(e,n){return Object(Mt["i"])(i,e)-Object(Mt["i"])(i,n)};var r=this.getExtent();if(r){var a=ci(r);a.sort(n);var o=a[0];var s=Object(Mt["c"])(i,o);var u=e.getPixelFromCoordinate(s);if(Object(Mt["d"])(t,u)<=this.pixelTolerance_){var l=e.getPixelFromCoordinate(o[0]);var c=e.getPixelFromCoordinate(o[1]);var h=Object(Mt["h"])(u,l);var f=Object(Mt["h"])(u,c);var d=Math.sqrt(Math.min(h,f));this.snappedToVertex_=d<=this.pixelTolerance_;if(this.snappedToVertex_){s=h>f?o[1]:o[0]}return s}}return null};ei.prototype.handlePointerMove_=function(t){var e=t.pixel;var i=t.map;var n=this.snapToVertex_(e,i);if(!n){n=i.getCoordinateFromPixel(e)}this.createOrUpdatePointerFeature_(n)};ei.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;if(!e){if(!t){e=new Ve["a"]({})}else{e=new Ve["a"](Object(Ke["d"])(t))}this.extentFeature_=e;this.extentOverlay_.getSource().addFeature(e)}else{if(!t){e.setGeometry(undefined)}else{e.setGeometry(Object(Ke["d"])(t))}}return e};ei.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;if(!e){e=new Ve["a"](new qe["a"](t));this.vertexFeature_=e;this.vertexOverlay_.getSource().addFeature(e)}else{var i=e.getGeometry();i.setCoordinates(t)}return e};ei.prototype.setMap=function(t){this.extentOverlay_.setMap(t);this.vertexOverlay_.setMap(t);Xt["b"].prototype.setMap.call(this,t)};ei.prototype.getExtent=function(){return this.extent_};ei.prototype.setExtent=function(t){this.extent_=t?t:null;this.createOrUpdateExtentFeature_(t);this.dispatchEvent(new ti(this.extent_))};var hi=ei;var fi=i(218);var di={SELECT:"select"};var pi=function t(e,i,n,r){b["a"].call(this,e);this.selected=i;this.deselected=n;this.mapBrowserEvent=r};Object(n["d"])(pi,b["a"]);var vi=function t(e){zt["a"].call(this,{handleEvent:gi});var i=e?e:{};this.condition_=i.condition?i.condition:Kt["l"];this.addCondition_=i.addCondition?i.addCondition:Kt["f"];this.removeCondition_=i.removeCondition?i.removeCondition:Kt["f"];this.toggleCondition_=i.toggleCondition?i.toggleCondition:Kt["k"];this.multi_=i.multi?i.multi:false;this.filter_=i.filter?i.filter:Q["b"];this.hitTolerance_=i.hitTolerance?i.hitTolerance:0;var n=new Xe["a"]({source:new Ze["b"]({useSpatialIndex:false,features:i.features,wrapX:i.wrapX}),style:i.style?i.style:mi(),updateWhileAnimating:true,updateWhileInteracting:true});this.featureOverlay_=n;var r=void 0;if(i.layers){if(typeof i.layers==="function"){r=i.layers}else{var o=i.layers;r=function t(e){return Object(S["f"])(o,e)}}}else{r=Q["b"]}this.layerFilter_=r;this.featureLayerAssociation_={};var s=this.featureOverlay_.getSource().getFeaturesCollection();Object(c["a"])(s,a["a"].ADD,this.addFeature_,this);Object(c["a"])(s,a["a"].REMOVE,this.removeFeature_,this)};Object(n["d"])(vi,zt["a"]);vi.prototype.addFeatureLayerAssociation_=function(t,e){var i=Object(n["c"])(t);this.featureLayerAssociation_[i]=e};vi.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()};vi.prototype.getHitTolerance=function(){return this.hitTolerance_};vi.prototype.getLayer=function(t){var e=Object(n["c"])(t);return this.featureLayerAssociation_[e]};function gi(t){if(!this.condition_(t)){return true}var e=this.addCondition_(t);var i=this.removeCondition_(t);var n=this.toggleCondition_(t);var r=!e&&!i&&!n;var a=t.map;var o=this.featureOverlay_.getSource().getFeaturesCollection();var s=[];var u=[];if(r){Object(H["b"])(this.featureLayerAssociation_);a.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e)){u.push(t);this.addFeatureLayerAssociation_(t,e);return!this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var l=o.getLength()-1;l>=0;--l){var c=o.item(l);var h=u.indexOf(c);if(h>-1){u.splice(h,1)}else{o.remove(c);s.push(c)}}if(u.length!==0){o.extend(u)}}else{a.forEachFeatureAtPixel(t.pixel,function(t,r){if(this.filter_(t,r)){if((e||n)&&!Object(S["f"])(o.getArray(),t)){u.push(t);this.addFeatureLayerAssociation_(t,r)}else if((i||n)&&Object(S["f"])(o.getArray(),t)){s.push(t);this.removeFeatureLayerAssociation_(t)}return!this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=s.length-1;f>=0;--f){o.remove(s[f])}o.extend(u)}if(u.length>0||s.length>0){this.dispatchEvent(new pi(di.SELECT,u,s,t))}return Object(Kt["i"])(t)}vi.prototype.setHitTolerance=function(t){this.hitTolerance_=t};vi.prototype.setMap=function(t){var e=this.getMap();var i=this.featureOverlay_.getSource().getFeaturesCollection();if(e){i.forEach(e.unskipFeature.bind(e))}zt["a"].prototype.setMap.call(this,t);this.featureOverlay_.setMap(t);if(t){i.forEach(t.skipFeature.bind(t))}};function mi(){var t=Object(Qe["b"])();Object(S["c"])(t[Be["a"].POLYGON],t[Be["a"].LINE_STRING]);Object(S["c"])(t[Be["a"].GEOMETRY_COLLECTION],t[Be["a"].LINE_STRING]);return function(e,i){if(!e.getGeometry()){return null}return t[e.getGeometry().getType()]}}vi.prototype.addFeature_=function(t){var e=this.getMap();if(e){e.skipFeature(t.element)}};vi.prototype.removeFeature_=function(t){var e=this.getMap();if(e){e.unskipFeature(t.element)}};vi.prototype.removeFeatureLayerAssociation_=function(t){var e=Object(n["c"])(t);delete this.featureLayerAssociation_[e]};var yi=vi;var _i=i(136);var bi=i(177);var wi=function t(e){Xt["b"].call(this,{handleEvent:Oi,handleDownEvent:Q["b"],handleUpEvent:xi});var i=e?e:{};this.source_=i.source?i.source:null;this.vertex_=i.vertex!==undefined?i.vertex:true;this.edge_=i.edge!==undefined?i.edge:true;this.features_=i.features?i.features:null;this.featuresListenerKeys_=[];this.featureChangeListenerKeys_={};this.indexedFeaturesExtents_={};this.pendingFeatures_={};this.pixelCoordinate_=null;this.pixelTolerance_=i.pixelTolerance!==undefined?i.pixelTolerance:10;this.sortByDistance_=Si.bind(this);this.rBush_=new bi["a"];this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}};Object(n["d"])(wi,Xt["b"]);wi.prototype.addFeature=function(t,e){var i=e!==undefined?e:true;var r=Object(n["c"])(t);var a=t.getGeometry();if(a){var o=this.SEGMENT_WRITERS_[a.getType()];if(o){this.indexedFeaturesExtents_[r]=a.getExtent(Object(Z["j"])());o.call(this,t,a)}}if(i){this.featureChangeListenerKeys_[r]=Object(c["a"])(t,G["a"].CHANGE,this.handleFeatureChange_,this)}};wi.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)};wi.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)};wi.prototype.getFeatures_=function(){var t=void 0;if(this.features_){t=this.features_}else if(this.source_){t=this.source_.getFeatures()}return t};wi.prototype.handleFeatureAdd_=function(t){var e=void 0;if(t instanceof Ze["a"]){e=t.feature}else if(t instanceof r["a"]){e=t.element}this.addFeature(e)};wi.prototype.handleFeatureRemove_=function(t){var e=void 0;if(t instanceof Ze["a"]){e=t.feature}else if(t instanceof r["a"]){e=t.element}this.removeFeature(e)};wi.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=Object(n["c"])(e);if(!(i in this.pendingFeatures_)){this.pendingFeatures_[i]=e}}else{this.updateFeature_(e)}};wi.prototype.removeFeature=function(t,e){var i=e!==undefined?e:true;var r=Object(n["c"])(t);var a=this.indexedFeaturesExtents_[r];if(a){var o=this.rBush_;var s=[];o.forEachInExtent(a,function(e){if(t===e.feature){s.push(e)}});for(var u=s.length-1;u>=0;--u){o.remove(s[u])}}if(i){Object(c["e"])(this.featureChangeListenerKeys_[r]);delete this.featureChangeListenerKeys_[r]}};wi.prototype.setMap=function(t){var e=this.getMap();var i=this.featuresListenerKeys_;var n=this.getFeatures_();if(e){i.forEach(c["e"]);i.length=0;n.forEach(this.forEachFeatureRemove_.bind(this))}Xt["b"].prototype.setMap.call(this,t);if(t){if(this.features_){i.push(Object(c["a"])(this.features_,a["a"].ADD,this.handleFeatureAdd_,this),Object(c["a"])(this.features_,a["a"].REMOVE,this.handleFeatureRemove_,this))}else if(this.source_){i.push(Object(c["a"])(this.source_,_i["a"].ADDFEATURE,this.handleFeatureAdd_,this),Object(c["a"])(this.source_,_i["a"].REMOVEFEATURE,this.handleFeatureRemove_,this))}n.forEach(this.forEachFeatureAdd_.bind(this))}};wi.prototype.shouldStopEvent=Q["a"];wi.prototype.snapTo=function(t,e,i){var n=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]);var r=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]);var a=Object(Z["b"])([n,r]);var o=this.rBush_.getInExtent(a);if(this.vertex_&&!this.edge_){o=o.filter(function(t){return t.feature.getGeometry().getType()!==Be["a"].CIRCLE})}var s=false;var u=false;var l=null;var c=null;var h=void 0,f=void 0,d=void 0,p=void 0,v=void 0;if(o.length>0){this.pixelCoordinate_=e;o.sort(this.sortByDistance_);var g=o[0].segment;var m=o[0].feature.getGeometry().getType()===Be["a"].CIRCLE;if(this.vertex_&&!this.edge_){f=i.getPixelFromCoordinate(g[0]);d=i.getPixelFromCoordinate(g[1]);p=Object(Mt["h"])(t,f);v=Object(Mt["h"])(t,d);h=Math.sqrt(Math.min(p,v));s=h<=this.pixelTolerance_;if(s){u=true;l=p>v?g[1]:g[0];c=i.getPixelFromCoordinate(l)}}else if(this.edge_){if(m){l=Object(Mt["b"])(e,o[0].feature.getGeometry())}else{l=Object(Mt["c"])(e,g)}c=i.getPixelFromCoordinate(l);if(Object(Mt["d"])(t,c)<=this.pixelTolerance_){u=true;if(this.vertex_&&!m){f=i.getPixelFromCoordinate(g[0]);d=i.getPixelFromCoordinate(g[1]);p=Object(Mt["h"])(c,f);v=Object(Mt["h"])(c,d);h=Math.sqrt(Math.min(p,v));s=h<=this.pixelTolerance_;if(s){l=p>v?g[1]:g[0];c=i.getPixelFromCoordinate(l)}}}}if(u){c=[Math.round(c[0]),Math.round(c[1])]}}return{snapped:u,vertex:l,vertexPixel:c}};wi.prototype.updateFeature_=function(t){this.removeFeature(t,false);this.addFeature(t,false)};wi.prototype.writeCircleGeometry_=function(t,e){var i=Object(Ke["c"])(e);var n=i.getCoordinates()[0];for(var r=0,a=n.length-1;r<a;++r){var o=n.slice(r,r+2);var s={feature:t,segment:o};this.rBush_.insert(Object(Z["b"])(o),s)}};wi.prototype.writeGeometryCollectionGeometry_=function(t,e){var i=e.getGeometriesArray();for(var n=0;n<i.length;++n){var r=this.SEGMENT_WRITERS_[i[n].getType()];if(r){r.call(this,t,i[n])}}};wi.prototype.writeLineStringGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length-1;n<r;++n){var a=i.slice(n,n+2);var o={feature:t,segment:a};this.rBush_.insert(Object(Z["b"])(a),o)}};wi.prototype.writeMultiLineStringGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length;n<r;++n){var a=i[n];for(var o=0,s=a.length-1;o<s;++o){var u=a.slice(o,o+2);var l={feature:t,segment:u};this.rBush_.insert(Object(Z["b"])(u),l)}}};wi.prototype.writeMultiPointGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length;n<r;++n){var a=i[n];var o={feature:t,segment:[a,a]};this.rBush_.insert(e.getExtent(),o)}};wi.prototype.writeMultiPolygonGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length;n<r;++n){var a=i[n];for(var o=0,s=a.length;o<s;++o){var u=a[o];for(var l=0,c=u.length-1;l<c;++l){var h=u.slice(l,l+2);var f={feature:t,segment:h};this.rBush_.insert(Object(Z["b"])(h),f)}}}};wi.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates();var n={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)};wi.prototype.writePolygonGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length;n<r;++n){var a=i[n];for(var o=0,s=a.length-1;o<s;++o){var u=a.slice(o,o+2);var l={feature:t,segment:u};this.rBush_.insert(Object(Z["b"])(u),l)}}};function Oi(t){var e=this.snapTo(t.pixel,t.coordinate,t.map);if(e.snapped){t.coordinate=e.vertex.slice(0,2);t.pixel=e.vertexPixel}return Xt["c"].call(this,t)}function xi(t){var e=Object(H["c"])(this.pendingFeatures_);if(e.length){e.forEach(this.updateFeature_.bind(this));this.pendingFeatures_={}}return false}function Si(t,e){var i=Object(Mt["i"])(this.pixelCoordinate_,t.segment);var n=Object(Mt["i"])(this.pixelCoordinate_,e.segment);return i-n}var Ci=wi;var Ti=i(204);function Ei(t){var e=t?t:{};var i=new r["b"];var n=new Yt(-.005,.05,100);var a=e.altShiftDragRotate!==undefined?e.altShiftDragRotate:true;if(a){i.push(new se)}var o=e.doubleClickZoom!==undefined?e.doubleClickZoom:true;if(o){i.push(new qt({delta:e.zoomDelta,duration:e.zoomDuration}))}var s=e.dragPan!==undefined?e.dragPan:true;if(s){i.push(new ee({kinetic:n}))}var u=e.pinchRotate!==undefined?e.pinchRotate:true;if(u){i.push(new Ee)}var l=e.pinchZoom!==undefined?e.pinchZoom:true;if(l){i.push(new Ae({constrainResolution:e.constrainResolution,duration:e.zoomDuration}))}var c=e.keyboard!==undefined?e.keyboard:true;if(c){i.push(new pe);i.push(new me({delta:e.zoomDelta,duration:e.zoomDuration}))}var h=e.mouseWheelZoom!==undefined?e.mouseWheelZoom:true;if(h){i.push(new Oe({constrainResolution:e.constrainResolution,duration:e.zoomDuration}))}var f=e.shiftDragZoom!==undefined?e.shiftDragZoom:true;if(f){i.push(new ce({duration:e.zoomDuration}))}return i}var Mi=i(112);var ji=i(172);var ki=i(43);var Ri=function t(e,i,n,r,a){this.loader_=a!==undefined?a:null;var o=a!==undefined?ki["a"].IDLE:ki["a"].LOADED;ji["a"].call(this,e,i,n,o);this.canvas_=r;this.error_=null};Object(n["d"])(Ri,ji["a"]);Ri.prototype.getError=function(){return this.error_};Ri.prototype.handleLoad_=function(t){if(t){this.error_=t;this.state=ki["a"].ERROR}else{this.state=ki["a"].LOADED}this.changed()};Ri.prototype.load=function(){if(this.state==ki["a"].IDLE){this.state=ki["a"].LOADING;this.changed();this.loader_(this.handleLoad_.bind(this))}};Ri.prototype.getImage=function(){return this.canvas_};var Ai=Ri;var Ii=i(124);var Pi=i(292);var Di=function t(e,i,n,r,a){b["a"].call(this,e);this.vectorContext=i;this.frameState=n;this.context=r;this.glContext=a};Object(n["d"])(Di,b["a"]);var Ni=Di;var $i=i(157);var Li=i(15);var Fi=i(134);var Gi=i(68);var Ui=i(131);var Hi=function t(){};Hi.prototype.drawCustom=function(t,e,i){};Hi.prototype.drawGeometry=function(t){};Hi.prototype.setStyle=function(t){};Hi.prototype.drawCircle=function(t,e){};Hi.prototype.drawFeature=function(t,e){};Hi.prototype.drawGeometryCollection=function(t,e){};Hi.prototype.drawLineString=function(t,e){};Hi.prototype.drawMultiLineString=function(t,e){};Hi.prototype.drawMultiPoint=function(t,e){};Hi.prototype.drawMultiPolygon=function(t,e){};Hi.prototype.drawPoint=function(t,e){};Hi.prototype.drawPolygon=function(t,e){};Hi.prototype.drawText=function(t,e){};Hi.prototype.setFillStrokeStyle=function(t,e){};Hi.prototype.setImageStyle=function(t,e){};Hi.prototype.setTextStyle=function(t,e){};var Wi=Hi;var Yi=function t(e,i,n,r,a){Wi.call(this);this.context_=e;this.pixelRatio_=i;this.extent_=n;this.transform_=r;this.viewRotation_=a;this.contextFillState_=null;this.contextStrokeState_=null;this.contextTextState_=null;this.fillState_=null;this.strokeState_=null;this.image_=null;this.imageAnchorX_=0;this.imageAnchorY_=0;this.imageHeight_=0;this.imageOpacity_=0;this.imageOriginX_=0;this.imageOriginY_=0;this.imageRotateWithView_=false;this.imageRotation_=0;this.imageScale_=0;this.imageSnapToPixel_=false;this.imageWidth_=0;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=false;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=Object(et["c"])()};Object(n["d"])(Yi,Wi);Yi.prototype.drawImages_=function(t,e,i,n){if(!this.image_){return}var r=Object(Ui["c"])(t,e,i,2,this.transform_,this.pixelCoordinates_);var a=this.context_;var o=this.tmpLocalTransform_;var s=a.globalAlpha;if(this.imageOpacity_!=1){a.globalAlpha=s*this.imageOpacity_}var u=this.imageRotation_;if(this.imageRotateWithView_){u+=this.viewRotation_}for(var l=0,c=r.length;l<c;l+=2){var h=r[l]-this.imageAnchorX_;var f=r[l+1]-this.imageAnchorY_;if(this.imageSnapToPixel_){h=Math.round(h);f=Math.round(f)}if(u!==0||this.imageScale_!=1){var d=h+this.imageAnchorX_;var p=f+this.imageAnchorY_;Object(et["b"])(o,d,p,this.imageScale_,this.imageScale_,u,-d,-p);a.setTransform.apply(a,o)}a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}if(u!==0||this.imageScale_!=1){a.setTransform(1,0,0,1,0,0)}if(this.imageOpacity_!=1){a.globalAlpha=s}};Yi.prototype.drawText_=function(t,e,i,n){if(!this.textState_||this.text_===""){return}if(this.textFillState_){this.setContextFillState_(this.textFillState_)}if(this.textStrokeState_){this.setContextStrokeState_(this.textStrokeState_)}this.setContextTextState_(this.textState_);var r=Object(Ui["c"])(t,e,i,n,this.transform_,this.pixelCoordinates_);var a=this.context_;var o=this.textRotation_;if(this.textRotateWithView_){o+=this.viewRotation_}for(;e<i;e+=n){var s=r[e]+this.textOffsetX_;var u=r[e+1]+this.textOffsetY_;if(o!==0||this.textScale_!=1){var l=Object(et["b"])(this.tmpLocalTransform_,s,u,this.textScale_,this.textScale_,o,-s,-u);a.setTransform.apply(a,l)}if(this.textStrokeState_){a.strokeText(this.text_,s,u)}if(this.textFillState_){a.fillText(this.text_,s,u)}}if(o!==0||this.textScale_!=1){a.setTransform(1,0,0,1,0,0)}};Yi.prototype.moveToLineTo_=function(t,e,i,n,r){var a=this.context_;var o=Object(Ui["c"])(t,e,i,n,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);var s=o.length;if(r){s-=2}for(var u=2;u<s;u+=2){a.lineTo(o[u],o[u+1])}if(r){a.closePath()}return i};Yi.prototype.drawRings_=function(t,e,i,n){for(var r=0,a=i.length;r<a;++r){e=this.moveToLineTo_(t,e,i[r],n,true)}return e};Yi.prototype.drawCircle=function(t){if(!Object(Z["F"])(this.extent_,t.getExtent())){return}if(this.fillState_||this.strokeState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var e=Object(Gi["b"])(t,this.transform_,this.pixelCoordinates_);var i=e[2]-e[0];var n=e[3]-e[1];var r=Math.sqrt(i*i+n*n);var a=this.context_;a.beginPath();a.arc(e[0],e[1],r,0,2*Math.PI);if(this.fillState_){a.fill()}if(this.strokeState_){a.stroke()}}if(this.text_!==""){this.drawText_(t.getCenter(),0,2,2)}};Yi.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke());this.setImageStyle(t.getImage());this.setTextStyle(t.getText())};Yi.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case Be["a"].POINT:this.drawPoint(t);break;case Be["a"].LINE_STRING:this.drawLineString(t);break;case Be["a"].POLYGON:this.drawPolygon(t);break;case Be["a"].MULTI_POINT:this.drawMultiPoint(t);break;case Be["a"].MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Be["a"].MULTI_POLYGON:this.drawMultiPolygon(t);break;case Be["a"].GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Be["a"].CIRCLE:this.drawCircle(t);break;default:}};Yi.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);if(!i||!Object(Z["F"])(this.extent_,i.getExtent())){return}this.setStyle(e);this.drawGeometry(i)};Yi.prototype.drawGeometryCollection=function(t){var e=t.getGeometriesArray();for(var i=0,n=e.length;i<n;++i){this.drawGeometry(e[i])}};Yi.prototype.drawPoint=function(t){var e=t.getFlatCoordinates();var i=t.getStride();if(this.image_){this.drawImages_(e,0,e.length,i)}if(this.text_!==""){this.drawText_(e,0,e.length,i)}};Yi.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates();var i=t.getStride();if(this.image_){this.drawImages_(e,0,e.length,i)}if(this.text_!==""){this.drawText_(e,0,e.length,i)}};Yi.prototype.drawLineString=function(t){if(!Object(Z["F"])(this.extent_,t.getExtent())){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_;var i=t.getFlatCoordinates();e.beginPath();this.moveToLineTo_(i,0,i.length,t.getStride(),false);e.stroke()}if(this.text_!==""){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}};Yi.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(!Object(Z["F"])(this.extent_,e)){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_;var n=t.getFlatCoordinates();var r=0;var a=t.getEnds();var o=t.getStride();i.beginPath();for(var s=0,u=a.length;s<u;++s){r=this.moveToLineTo_(n,r,a[s],o,false)}i.stroke()}if(this.text_!==""){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}};Yi.prototype.drawPolygon=function(t){if(!Object(Z["F"])(this.extent_,t.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var e=this.context_;e.beginPath();this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride());if(this.fillState_){e.fill()}if(this.strokeState_){e.stroke()}}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}};Yi.prototype.drawMultiPolygon=function(t){if(!Object(Z["F"])(this.extent_,t.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var e=this.context_;var i=t.getOrientedFlatCoordinates();var n=0;var r=t.getEndss();var a=t.getStride();e.beginPath();for(var o=0,s=r.length;o<s;++o){var u=r[o];n=this.drawRings_(i,n,u,a)}if(this.fillState_){e.fill()}if(this.strokeState_){e.stroke()}}if(this.text_!==""){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}};Yi.prototype.setContextFillState_=function(t){var e=this.context_;var i=this.contextFillState_;if(!i){e.fillStyle=t.fillStyle;this.contextFillState_={fillStyle:t.fillStyle}}else{if(i.fillStyle!=t.fillStyle){i.fillStyle=e.fillStyle=t.fillStyle}}};Yi.prototype.setContextStrokeState_=function(t){var e=this.context_;var i=this.contextStrokeState_;if(!i){e.lineCap=t.lineCap;if(s["a"]){e.setLineDash(t.lineDash);e.lineDashOffset=t.lineDashOffset}e.lineJoin=t.lineJoin;e.lineWidth=t.lineWidth;e.miterLimit=t.miterLimit;e.strokeStyle=t.strokeStyle;this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle}}else{if(i.lineCap!=t.lineCap){i.lineCap=e.lineCap=t.lineCap}if(s["a"]){if(!Object(S["b"])(i.lineDash,t.lineDash)){e.setLineDash(i.lineDash=t.lineDash)}if(i.lineDashOffset!=t.lineDashOffset){i.lineDashOffset=e.lineDashOffset=t.lineDashOffset}}if(i.lineJoin!=t.lineJoin){i.lineJoin=e.lineJoin=t.lineJoin}if(i.lineWidth!=t.lineWidth){i.lineWidth=e.lineWidth=t.lineWidth}if(i.miterLimit!=t.miterLimit){i.miterLimit=e.miterLimit=t.miterLimit}if(i.strokeStyle!=t.strokeStyle){i.strokeStyle=e.strokeStyle=t.strokeStyle}}};Yi.prototype.setContextTextState_=function(t){var e=this.context_;var i=this.contextTextState_;var n=t.textAlign?t.textAlign:Li["l"];if(!i){e.font=t.font;e.textAlign=n;e.textBaseline=t.textBaseline;this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline}}else{if(i.font!=t.font){i.font=e.font=t.font}if(i.textAlign!=n){i.textAlign=n}if(i.textBaseline!=t.textBaseline){i.textBaseline=e.textBaseline=t.textBaseline}}};Yi.prototype.setFillStrokeStyle=function(t,e){if(!t){this.fillState_=null}else{var i=t.getColor();this.fillState_={fillStyle:Object(Fi["a"])(i?i:Li["b"])}}if(!e){this.strokeState_=null}else{var n=e.getColor();var r=e.getLineCap();var a=e.getLineDash();var o=e.getLineDashOffset();var s=e.getLineJoin();var u=e.getWidth();var l=e.getMiterLimit();this.strokeState_={lineCap:r!==undefined?r:Li["d"],lineDash:a?a:Li["e"],lineDashOffset:o?o:Li["f"],lineJoin:s!==undefined?s:Li["g"],lineWidth:this.pixelRatio_*(u!==undefined?u:Li["h"]),miterLimit:l!==undefined?l:Li["i"],strokeStyle:Object(Fi["a"])(n?n:Li["k"])}}};Yi.prototype.setImageStyle=function(t){if(!t){this.image_=null}else{var e=t.getAnchor();var i=t.getImage(1);var n=t.getOrigin();var r=t.getSize();this.imageAnchorX_=e[0];this.imageAnchorY_=e[1];this.imageHeight_=r[1];this.image_=i;this.imageOpacity_=t.getOpacity();this.imageOriginX_=n[0];this.imageOriginY_=n[1];this.imageRotateWithView_=t.getRotateWithView();this.imageRotation_=t.getRotation();this.imageScale_=t.getScale()*this.pixelRatio_;this.imageSnapToPixel_=t.getSnapToPixel();this.imageWidth_=r[0]}};Yi.prototype.setTextStyle=function(t){if(!t){this.text_=""}else{var e=t.getFill();if(!e){this.textFillState_=null}else{var i=e.getColor();this.textFillState_={fillStyle:Object(Fi["a"])(i?i:Li["b"])}}var n=t.getStroke();if(!n){this.textStrokeState_=null}else{var r=n.getColor();var a=n.getLineCap();var o=n.getLineDash();var s=n.getLineDashOffset();var u=n.getLineJoin();var l=n.getWidth();var c=n.getMiterLimit();this.textStrokeState_={lineCap:a!==undefined?a:Li["d"],lineDash:o?o:Li["e"],lineDashOffset:s?s:Li["f"],lineJoin:u!==undefined?u:Li["g"],lineWidth:l!==undefined?l:Li["h"],miterLimit:c!==undefined?c:Li["i"],strokeStyle:Object(Fi["a"])(r?r:Li["k"])}}var h=t.getFont();var f=t.getOffsetX();var d=t.getOffsetY();var p=t.getRotateWithView();var v=t.getRotation();var g=t.getScale();var m=t.getText();var y=t.getTextAlign();var _=t.getTextBaseline();this.textState_={font:h!==undefined?h:Li["c"],textAlign:y!==undefined?y:Li["l"],textBaseline:_!==undefined?_:Li["m"]};this.text_=m!==undefined?m:"";this.textOffsetX_=f!==undefined?this.pixelRatio_*f:0;this.textOffsetY_=d!==undefined?this.pixelRatio_*d:0;this.textRotateWithView_=p!==undefined?p:false;this.textRotation_=v!==undefined?v:0;this.textScale_=this.pixelRatio_*(g!==undefined?g:1)}};var zi=Yi;var Vi=i(75);var Bi=i(142);var qi=function t(e){Vi["a"].call(this);this.layer_=e};Object(n["d"])(qi,Vi["a"]);qi.prototype.forEachFeatureAtCoordinate=Q["c"];qi.prototype.hasFeatureAtCoordinate=Q["a"];qi.prototype.createLoadedTileFinder=function(t,e,i){return function(n,r){function a(t){if(!i[n]){i[n]={}}i[n][t.tileCoord.toString()]=t}return t.forEachLoadedTile(e,n,r,a)}};qi.prototype.getLayer=function(){return this.layer_};qi.prototype.handleImageChange_=function(t){var e=t.target;if(e.getState()===ki["a"].LOADED){this.renderIfReadyAndVisible()}};qi.prototype.loadImage=function(t){var e=t.getState();if(e!=ki["a"].LOADED&&e!=ki["a"].ERROR){Object(c["a"])(t,G["a"].CHANGE,this.handleImageChange_,this)}if(e==ki["a"].IDLE){t.load();e=t.getState()}return e==ki["a"].LOADED};qi.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();if(t.getVisible()&&t.getSourceState()==Bi["a"].READY){this.changed()}};qi.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var r=Object(n["c"])(t).toString();if(r in i.usedTiles){t.expireCache(i.viewState.projection,i.usedTiles[r])}}.bind(null,e);t.postRenderFunctions.push(i)}};qi.prototype.updateUsedTiles=function(t,e,i,r){var a=Object(n["c"])(e).toString();var o=i.toString();if(a in t){if(o in t[a]){t[a][o].extend(r)}else{t[a][o]=r}}else{t[a]={};t[a][o]=r}};qi.prototype.manageTilePyramid=function(t,e,i,r,a,o,s,u,l,c){var h=Object(n["c"])(e).toString();if(!(h in t.wantedTiles)){t.wantedTiles[h]={}}var f=t.wantedTiles[h];var d=t.tileQueue;var p=i.getMinZoom();var v=void 0,g=void 0,m=void 0,y=void 0,_=void 0,b=void 0;for(b=p;b<=s;++b){g=i.getTileRangeForExtentAndZ(o,b,g);m=i.getResolution(b);for(y=g.minX;y<=g.maxX;++y){for(_=g.minY;_<=g.maxY;++_){if(s-b<=u){v=e.getTile(b,y,_,r,a);if(v.getState()==F["a"].IDLE){f[v.getKey()]=true;if(!d.isKeyQueued(v.getKey())){d.enqueue([v,h,i.getTileCoordCenter(v.tileCoord),m])}}if(l!==undefined){l.call(c,v)}}else{e.useTile(b,y,_,a)}}}}};var Ki=qi;var Xi=function t(e){Ki.call(this,e);this.renderedResolution;this.transform_=Object(et["c"])()};Object(n["d"])(Xi,Ki);Xi.prototype.clip=function(t,e,i){var n=e.pixelRatio;var r=e.size[0]*n;var a=e.size[1]*n;var o=e.viewState.rotation;var s=Object(Z["C"])(i);var u=Object(Z["D"])(i);var l=Object(Z["w"])(i);var c=Object(Z["v"])(i);Object(et["a"])(e.coordinateToPixelTransform,s);Object(et["a"])(e.coordinateToPixelTransform,u);Object(et["a"])(e.coordinateToPixelTransform,l);Object(et["a"])(e.coordinateToPixelTransform,c);t.save();Object(Li["s"])(t,-o,r/2,a/2);t.beginPath();t.moveTo(s[0]*n,s[1]*n);t.lineTo(u[0]*n,u[1]*n);t.lineTo(l[0]*n,l[1]*n);t.lineTo(c[0]*n,c[1]*n);t.clip();Object(Li["s"])(t,o,r/2,a/2)};Xi.prototype.dispatchComposeEvent_=function(t,e,i,n){var r=this.getLayer();if(r.hasListener(t)){var a=i.size[0]*i.pixelRatio;var o=i.size[1]*i.pixelRatio;var s=i.viewState.rotation;Object(Li["s"])(e,-s,a/2,o/2);var u=n!==undefined?n:this.getTransform(i,0);var l=new zi(e,i.pixelRatio,i.extent,u,i.viewState.rotation);var c=new Ni(t,l,i,e,null);r.dispatchEvent(c);Object(Li["s"])(e,s,a/2,o/2)}};Xi.prototype.forEachLayerAtCoordinate=function(t,e,i,n){var r=this.forEachFeatureAtCoordinate(t,e,0,Q["b"],this);if(r){return i.call(n,this.getLayer(),null)}else{return undefined}};Xi.prototype.postCompose=function(t,e,i,n){this.dispatchComposeEvent_($i["a"].POSTCOMPOSE,t,e,n)};Xi.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_($i["a"].PRECOMPOSE,t,e,i)};Xi.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_($i["a"].RENDER,t,e,i)};Xi.prototype.getTransform=function(t,e){var i=t.viewState;var n=t.pixelRatio;var r=n*t.size[0]/2;var a=n*t.size[1]/2;var o=n/i.resolution;var s=-o;var u=-i.rotation;var l=-i.center[0]+e;var c=-i.center[1];return Object(et["b"])(this.transform_,r,a,o,s,u,l,c)};Xi.prototype.composeFrame=function(t,e,i){};Xi.prototype.prepareFrame=function(t,e){};var Zi=Xi;var Qi=function t(e){Zi.call(this,e);this.coordinateToCanvasPixelTransform=Object(et["c"])();this.hitCanvasContext_=null};Object(n["d"])(Qi,Zi);Qi.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var n=this.getImage();if(n){var r=e.extent;var a=r!==undefined&&!Object(Z["g"])(r,t.extent)&&Object(Z["F"])(r,t.extent);if(a){this.clip(i,t,r)}var o=this.getImageTransform();var s=i.globalAlpha;i.globalAlpha=e.opacity;var u=o[4];var l=o[5];var c=n.width*o[0];var h=n.height*o[3];i.drawImage(n,0,0,+n.width,+n.height,Math.round(u),Math.round(l),Math.round(c),Math.round(h));i.globalAlpha=s;if(a){i.restore()}}this.postCompose(i,t,e)};Qi.prototype.getImage=function(){};Qi.prototype.getImageTransform=function(){};Qi.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var a=this.getLayer();var o=a.getSource();var s=e.viewState.resolution;var u=e.viewState.rotation;var l=e.skippedFeatureUids;return o.forEachFeatureAtCoordinate(t,s,u,i,l,function(t){return n.call(r,t,a)})};Qi.prototype.forEachLayerAtCoordinate=function(t,e,i,n){if(!this.getImage()){return undefined}if(this.getLayer().getSource().forEachFeatureAtCoordinate!==Q["c"]){return Zi.prototype.forEachLayerAtCoordinate.apply(this,arguments)}else{var r=Object(et["a"])(this.coordinateToCanvasPixelTransform,t.slice());Object(Mt["g"])(r,e.viewState.resolution/this.renderedResolution);if(!this.hitCanvasContext_){this.hitCanvasContext_=Object(X["a"])(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.getImage(),r[0],r[1],1,1,0,0,1,1);var a=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(a[3]>0){return i.call(n,this.getLayer(),a)}else{return undefined}}};var Ji=Qi;var tn=function t(e){Ji.call(this,e);this.image_=null;this.imageTransform_=Object(et["c"])();this.skippedFeatures_=[];this.vectorRenderer_=null};Object(n["d"])(tn,Ji);tn["handles"]=function(t){return t.getType()===Ii["a"].IMAGE||t.getType()===Ii["a"].VECTOR&&t.getRenderMode()===Pi["a"].IMAGE};tn["create"]=function(t,e){var i=new tn(e);if(e.getType()===Ii["a"].VECTOR){var n=t.getLayerRendererConstructors();for(var r=0,a=n.length;r<a;++r){var o=n[r];if(o!==tn&&o["handles"](e)){i.setVectorRenderer(o["create"](t,e));break}}}return i};tn.prototype.disposeInternal=function(){if(this.vectorRenderer_){this.vectorRenderer_.dispose()}Ji.prototype.disposeInternal.call(this)};tn.prototype.getImage=function(){return!this.image_?null:this.image_.getImage()};tn.prototype.getImageTransform=function(){return this.imageTransform_};tn.prototype.prepareFrame=function(t,e){var i=t.pixelRatio;var n=t.size;var r=t.viewState;var a=r.center;var o=r.resolution;var s=void 0;var u=this.getLayer();var l=u.getSource();var c=t.viewHints;var h=t.extent;if(e.extent!==undefined){h=Object(Z["B"])(h,e.extent)}if(!c[K["a"].ANIMATING]&&!c[K["a"].INTERACTING]&&!Object(Z["H"])(h)){var f=r.projection;if(!Mi["a"]){var d=l.getProjection();if(d){f=d}}var p=this.vectorRenderer_;if(p){var v=p.context;var g=Object(H["a"])({},t,{size:[Object(Z["E"])(h)/o,Object(Z["A"])(h)/o],viewState:Object(H["a"])({},t.viewState,{rotation:0})});var m=Object.keys(g.skippedFeatureUids).sort();if(p.prepareFrame(g,e)&&(p.replayGroupChanged||!Object(S["b"])(m,this.skippedFeatures_))){v.canvas.width=g.size[0]*i;v.canvas.height=g.size[1]*i;p.composeFrame(g,e,v);this.image_=new Ai(h,o,i,v.canvas);this.skippedFeatures_=m}}else{s=l.getImage(h,o,i,f);if(s){var y=this.loadImage(s);if(y){this.image_=s}}}}if(this.image_){s=this.image_;var _=s.getExtent();var b=s.getResolution();var w=s.getPixelRatio();var O=i*b/(o*w);var x=Object(et["b"])(this.imageTransform_,i*n[0]/2,i*n[1]/2,O,O,0,w*(_[0]-a[0])/b,w*(a[1]-_[3])/b);Object(et["b"])(this.coordinateToCanvasPixelTransform,i*n[0]/2-x[4],i*n[1]/2-x[5],i/o,-i/o,0,-a[0],-a[1]);this.renderedResolution=b*i/w}return!!this.image_};tn.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){if(this.vectorRenderer_){return this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,i,n,r)}else{return Ji.prototype.forEachFeatureAtCoordinate.call(this,t,e,i,n,r)}};tn.prototype.setVectorRenderer=function(t){if(this.vectorRenderer_){this.vectorRenderer_.dispose()}this.vectorRenderer_=t};var en=tn;var nn=i(198);var rn=i(242);var an=function t(e){nn["a"].call(this);this.map_=e;this.layerRenderers_={};this.layerRendererListeners_={};this.layerRendererConstructors_=[]};Object(n["d"])(an,nn["a"]);an.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)};an.prototype.getLayerRendererConstructors=function(){return this.layerRendererConstructors_};an.prototype.calculateMatrices2D=function(t){var e=t.viewState;var i=t.coordinateToPixelTransform;var n=t.pixelToCoordinateTransform;Object(et["b"])(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]);Object(et["d"])(Object(et["g"])(n,i))};an.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_){this.removeLayerRendererByKey_(t).dispose()}};function on(t,e){rn["a"].expire()}an.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a,o,s){var u=void 0;var l=e.viewState;var c=l.resolution;function h(t,i){var o=Object(n["c"])(t).toString();var s=e.layerStates[Object(n["c"])(i)].managed;if(!(o in e.skippedFeatureUids&&!s)){return r.call(a,t,s?i:null)}}var f=l.projection;var d=t;if(f.canWrapX()){var p=f.getExtent();var v=Object(Z["E"])(p);var g=t[0];if(g<p[0]||g>p[2]){var m=Math.ceil((p[0]-g)/v);d=[g+v*m,t[1]]}}var y=e.layerStatesArray;var _=y.length;var b=void 0;for(b=_-1;b>=0;--b){var w=y[b];var O=w.layer;if(Object(st["b"])(w,c)&&o.call(s,O)){var x=this.getLayerRenderer(O);if(O.getSource()){u=x.forEachFeatureAtCoordinate(O.getSource().getWrapX()?d:t,e,i,h,a)}if(u){return u}}}return undefined};an.prototype.forEachLayerAtPixel=function(t,e,i,n,r,a){};an.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r){var a=this.forEachFeatureAtCoordinate(t,e,i,Q["b"],this,n,r);return a!==undefined};an.prototype.getLayerRenderer=function(t){var e=Object(n["c"])(t).toString();if(e in this.layerRenderers_){return this.layerRenderers_[e]}else{var i=void 0;for(var r=0,a=this.layerRendererConstructors_.length;r<a;++r){var o=this.layerRendererConstructors_[r];if(o["handles"](t)){i=o["create"](this,t);break}}if(i){this.layerRenderers_[e]=i;this.layerRendererListeners_[e]=Object(c["a"])(i,G["a"].CHANGE,this.handleLayerRendererChange_,this)}else{throw new Error("Unable to create renderer for layer: "+t.getType())}return i}};an.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]};an.prototype.getLayerRenderers=function(){return this.layerRenderers_};an.prototype.getMap=function(){return this.map_};an.prototype.handleLayerRendererChange_=function(){this.map_.render()};an.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];delete this.layerRenderers_[t];Object(c["e"])(this.layerRendererListeners_[t]);delete this.layerRendererListeners_[t];return e};an.prototype.renderFrame=Q["c"];an.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_){if(!e||!(i in e.layerStates)){this.removeLayerRendererByKey_(i).dispose()}}};an.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(on)};an.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_){if(!(e in t.layerStates)){t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this));return}}};function sn(t,e){return t.zIndex-e.zIndex}var un=an;var ln=function t(e){un.call(this,e);var i=e.getViewport();this.context_=Object(X["a"])();this.canvas_=this.context_.canvas;this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ot["e"];i.insertBefore(this.canvas_,i.childNodes[0]||null);this.renderedVisible_=true;this.transform_=Object(et["c"])()};Object(n["d"])(ln,un);ln.prototype.dispatchComposeEvent_=function(t,e){var i=this.getMap();var n=this.context_;if(i.hasListener(t)){var r=e.extent;var a=e.pixelRatio;var o=e.viewState;var s=o.rotation;var u=this.getTransform(e);var l=new zi(n,a,r,u,s);var c=new Ni(t,l,e,n,null);i.dispatchEvent(c)}};ln.prototype.getTransform=function(t){var e=t.viewState;var i=this.canvas_.width/2;var n=this.canvas_.height/2;var r=t.pixelRatio/e.resolution;var a=-r;var o=-e.rotation;var s=-e.center[0];var u=-e.center[1];return Object(et["b"])(this.transform_,i,n,r,a,o,s,u)};ln.prototype.renderFrame=function(t){if(!t){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=false}return}var e=this.context_;var i=t.pixelRatio;var n=Math.round(t.size[0]*i);var r=Math.round(t.size[1]*i);if(this.canvas_.width!=n||this.canvas_.height!=r){this.canvas_.width=n;this.canvas_.height=r}else{e.clearRect(0,0,n,r)}var a=t.viewState.rotation;this.calculateMatrices2D(t);this.dispatchComposeEvent_($i["a"].PRECOMPOSE,t);var o=t.layerStatesArray;Object(S["l"])(o,sn);if(a){e.save();Object(Li["s"])(e,a,n/2,r/2)}var s=t.viewState.resolution;var u=void 0,l=void 0,c=void 0,h=void 0,f=void 0;for(u=0,l=o.length;u<l;++u){f=o[u];c=f.layer;h=this.getLayerRenderer(c);if(!Object(st["b"])(f,s)||f.sourceState!=Bi["a"].READY){continue}if(h.prepareFrame(t,f)){h.composeFrame(t,f,e)}}if(a){e.restore()}this.dispatchComposeEvent_($i["a"].POSTCOMPOSE,t);if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=true}this.scheduleRemoveUnusedLayerRenderers(t);this.scheduleExpireIconCache(t)};ln.prototype.forEachLayerAtPixel=function(t,e,i,n,r,a){var o=void 0;var s=e.viewState;var u=s.resolution;var l=e.layerStatesArray;var c=l.length;var h=Object(et["a"])(e.pixelToCoordinateTransform,t.slice());var f=void 0;for(f=c-1;f>=0;--f){var d=l[f];var p=d.layer;if(Object(st["b"])(d,u)&&r.call(a,p)){var v=this.getLayerRenderer(p);o=v.forEachLayerAtCoordinate(h,e,i,n);if(o){return o}}}return undefined};var cn=ln;var hn=i(214);var fn=function t(e){Ji.call(this,e);this.context=this.context===null?null:Object(X["a"])();this.oversampling_;this.renderedExtent_=null;this.renderedRevision;this.renderedTiles=[];this.tmpExtent=Object(Z["j"])();this.tmpTileRange_=new hn["b"](0,0,0,0);this.imageTransform_=Object(et["c"])();this.zDirection=0};Object(n["d"])(fn,Ji);fn["handles"]=function(t){return t.getType()===Ii["a"].TILE};fn["create"]=function(t,e){return new fn(e)};fn.prototype.isDrawableTile_=function(t){var e=t.getState();var i=this.getLayer().getUseInterimTilesOnError();return e==F["a"].LOADED||e==F["a"].EMPTY||e==F["a"].ERROR&&!i};fn.prototype.prepareFrame=function(t,e){var i=t.pixelRatio;var r=t.size;var a=t.viewState;var o=a.projection;var s=a.resolution;var u=a.center;var l=this.getLayer();var c=l.getSource();var h=c.getRevision();var f=c.getTileGridForProjection(o);var d=f.getZForResolution(s,this.zDirection);var p=f.getResolution(d);var v=Math.round(s/p)||1;var g=t.extent;if(e.extent!==undefined){g=Object(Z["B"])(g,e.extent)}if(Object(Z["H"])(g)){return false}var m=f.getTileRangeForExtentAndZ(g,d);var y=f.getTileRangeExtent(d,m);var _=c.getTilePixelRatio(i);var b={};b[d]={};var w=this.createLoadedTileFinder(c,o,b);var O=this.tmpExtent;var x=this.tmpTileRange_;var S=false;var C=void 0,T=void 0,E=void 0;for(T=m.minX;T<=m.maxX;++T){for(E=m.minY;E<=m.maxY;++E){C=c.getTile(d,T,E,i,o);if(C.getState()==F["a"].ERROR){if(!l.getUseInterimTilesOnError()){C.setState(F["a"].LOADED)}else if(l.getPreload()>0){S=true}}if(!this.isDrawableTile_(C)){C=C.getInterimTile()}if(this.isDrawableTile_(C)){var M=Object(n["c"])(this);if(C.getState()==F["a"].LOADED){b[d][C.tileCoord.toString()]=C;var j=C.inTransition(M);if(!S&&(j||this.renderedTiles.indexOf(C)===-1)){S=true}}if(C.getAlpha(M,t.time)===1){continue}}var k=f.getTileCoordChildTileRange(C.tileCoord,x,O);var R=false;if(k){R=w(d+1,k)}if(!R){f.forEachTileCoordParentTileRange(C.tileCoord,w,null,x,O)}}}var A=p*i/_*v;var I=t.viewHints;var P=I[K["a"].ANIMATING]||I[K["a"].INTERACTING];if(!(this.renderedResolution&&Date.now()-t.time>16&&P)&&(S||!(this.renderedExtent_&&Object(Z["g"])(this.renderedExtent_,g))||this.renderedRevision!=h||v!=this.oversampling_||!P&&A!=this.renderedResolution)){var D=this.context;if(D){var N=c.getTilePixelSize(d,i,o);var $=Math.round(m.getWidth()*N[0]/v);var L=Math.round(m.getHeight()*N[1]/v);var G=D.canvas;if(G.width!=$||G.height!=L){this.oversampling_=v;G.width=$;G.height=L}else{if(this.renderedExtent_&&!Object(Z["p"])(y,this.renderedExtent_)){D.clearRect(0,0,$,L)}v=this.oversampling_}}this.renderedTiles.length=0;var U=Object.keys(b).map(Number);U.sort(function(t,e){if(t===d){return 1}else if(e===d){return-1}else{return t>e?1:t<e?-1:0}});var H=void 0,W=void 0,Y=void 0,z=void 0,V=void 0,B=void 0;var q=void 0,X=void 0,Q=void 0,J=void 0,tt=void 0;for(V=0,B=U.length;V<B;++V){z=U[V];Y=c.getTilePixelSize(z,i,o);H=f.getResolution(z);W=H/p;X=_*c.getGutter(o);Q=b[z];for(var it in Q){C=Q[it];q=f.getTileCoordExtent(C.getTileCoord(),O);T=(q[0]-y[0])/p*_/v;E=(y[3]-q[3])/p*_/v;J=Y[0]*W/v;tt=Y[1]*W/v;this.drawTileImage(C,t,e,T,E,J,tt,X,d===z);this.renderedTiles.push(C)}}this.renderedRevision=h;this.renderedResolution=p*i/_*v;this.renderedExtent_=y}var nt=this.renderedResolution/s;var rt=Object(et["b"])(this.imageTransform_,i*r[0]/2,i*r[1]/2,nt,nt,0,(this.renderedExtent_[0]-u[0])/this.renderedResolution*i,(u[1]-this.renderedExtent_[3])/this.renderedResolution*i);Object(et["b"])(this.coordinateToCanvasPixelTransform,i*r[0]/2-rt[4],i*r[1]/2-rt[5],i/s,-i/s,0,-u[0],-u[1]);this.updateUsedTiles(t.usedTiles,c,d,m);this.manageTilePyramid(t,c,f,i,o,g,d,l.getPreload());this.scheduleExpireCache(t,c);return this.renderedTiles.length>0};fn.prototype.drawTileImage=function(t,e,i,r,a,o,s,u,l){var c=t.getImage(this.getLayer());if(!c){return}var h=Object(n["c"])(this);var f=l?t.getAlpha(h,e.time):1;if(f===1&&!this.getLayer().getSource().getOpaque(e.viewState.projection)){this.context.clearRect(r,a,o,s)}var d=f!==this.context.globalAlpha;if(d){this.context.save();this.context.globalAlpha=f}this.context.drawImage(c,u,u,c.width-2*u,c.height-2*u,r,a,o,s);if(d){this.context.restore()}if(f!==1){e.animate=true}else if(l){t.endTransition(h)}};fn.prototype.getImage=function(){var t=this.context;return t?t.canvas:null};fn.prototype.getLayer;fn.prototype.getImageTransform=function(){return this.imageTransform_};var dn=fn;var pn=i(227);var vn=i.n(pn);var gn=function t(){};gn.prototype.getReplay=function(t,e){};gn.prototype.isEmpty=function(){};var mn=gn;var yn={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};var _n=i(102);var bn=i(125);var wn=i(293);function On(t,e,i,n,r,a,o,s){var u=[];var l=t[e]>t[i-n];var c=r.length;var h=t[e];var f=t[e+1];e+=n;var d=t[e];var p=t[e+1];var v=0;var g=Math.sqrt(Math.pow(d-h,2)+Math.pow(p-f,2));var m="";var y=0;var _=void 0,b=void 0,w=void 0;for(var O=0;O<c;++O){b=l?c-O-1:O;var x=r.charAt(b);m=l?x+m:m+x;var S=a(m)-y;y+=S;var C=o+S/2;while(e<i-n&&v+g<C){h=d;f=p;e+=n;d=t[e];p=t[e+1];v+=g;g=Math.sqrt(Math.pow(d-h,2)+Math.pow(p-f,2))}var T=C-v;var E=Math.atan2(p-f,d-h);if(l){E+=E>0?-Math.PI:Math.PI}if(w!==undefined){var M=E-w;M+=M>Math.PI?-2*Math.PI:M<-Math.PI?2*Math.PI:0;if(Math.abs(M)>s){return null}}var j=T/g;var k=Object(Dt["c"])(h,d,j);var R=Object(Dt["c"])(f,p,j);if(w==E){if(l){_[0]=k;_[1]=R;_[2]=S/2}_[4]=m}else{m=x;y=S;_=[k,R,S/2,E,m];if(l){u.unshift(_)}else{u.push(_)}w=E}o+=S}return u}var xn={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};var Sn=[xn.FILL];var Cn=[xn.STROKE];var Tn=[xn.BEGIN_PATH];var En=[xn.CLOSE_PATH];var Mn=xn;var jn=[yn.POLYGON,yn.CIRCLE,yn.LINE_STRING,yn.IMAGE,yn.TEXT,yn.DEFAULT];var kn={};kn["left"]=0;kn["end"]=0;kn["center"]=.5;kn["right"]=1;kn["start"]=1;kn["top"]=0;kn["middle"]=.5;kn["hanging"]=.2;kn["alphabetic"]=.8;kn["ideographic"]=.8;kn["bottom"]=1;var Rn=function t(e,i,n,r,a,o){Wi.call(this);this.declutterTree=o;this.tolerance=e;this.maxExtent=i;this.overlaps=a;this.pixelRatio=r;this.maxLineWidth=0;this.resolution=n;this.fillOrigin_;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_=null;this.bufferedMaxExtent_=null;this.instructions=[];this.coordinates=[];this.coordinateCache_={};this.renderedTransform_=Object(et["c"])();this.hitDetectionInstructions=[];this.pixelCoordinates_=null;this.state={};this.viewRotation_=0};Object(n["d"])(Rn,Wi);var An=Object(Z["j"])();var In=Object(et["c"])();Rn.prototype.replayTextBackground_=function(t,e,i,n,r,a,o){t.beginPath();t.moveTo.apply(t,e);t.lineTo.apply(t,i);t.lineTo.apply(t,n);t.lineTo.apply(t,r);t.lineTo.apply(t,e);if(a){this.fillOrigin_=a[2];this.fill_(t)}if(o){this.setStrokeStyle_(t,o);t.stroke()}};Rn.prototype.replayImage_=function(t,e,i,n,r,a,o,s,u,l,c,h,f,d,p,v,g,m){var y=g||m;r*=f;a*=f;e-=r;i-=a;var _=p+l>n.width?n.width-l:p;var b=s+c>n.height?n.height-c:s;var w=v[3]+_*f+v[1];var O=v[0]+b*f+v[2];var x=e-v[3];var S=i-v[0];var C=void 0;var T=void 0;var E=void 0;var M=void 0;if(y||h!==0){C=[x,S];T=[x+w,S];E=[x+w,S+O];M=[x,S+O]}var j=null;if(h!==0){var k=e+r;var R=i+a;j=Object(et["b"])(In,k,R,1,1,h,-k,-R);Object(Z["l"])(An);Object(Z["r"])(An,Object(et["a"])(In,C));Object(Z["r"])(An,Object(et["a"])(In,T));Object(Z["r"])(An,Object(et["a"])(In,E));Object(Z["r"])(An,Object(et["a"])(In,M))}else{Object(Z["k"])(x,S,x+w,S+O,An)}var A=t.canvas;var I=m?m[2]*f/2:0;var P=An[0]-I<=A.width&&An[2]+I>=0&&An[1]-I<=A.height&&An[3]+I>=0;if(d){e=Math.round(e);i=Math.round(i)}if(o){if(!P&&o[4]==1){return}Object(Z["q"])(o,An);var D=P?[t,j?j.slice(0):null,u,n,l,c,_,b,e,i,f]:null;if(D&&y){D.push(g,m,C,T,E,M)}o.push(D)}else if(P){if(y){this.replayTextBackground_(t,C,T,E,M,g,m)}Object(Li["n"])(t,j,u,n,l,c,_,b,e,i,f)}};Rn.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return e==1?t:t.map(function(t){return t*e})};Rn.prototype.appendFlatCoordinates=function(t,e,i,n,r,a){var o=this.coordinates.length;var s=this.getBufferedMaxExtent();if(a){e+=n}var u=[t[e],t[e+1]];var l=[NaN,NaN];var c=true;var h=void 0,f=void 0,d=void 0;for(h=e+n;h<i;h+=n){l[0]=t[h];l[1]=t[h+1];d=Object(Z["i"])(s,l);if(d!==f){if(c){this.coordinates[o++]=u[0];this.coordinates[o++]=u[1]}this.coordinates[o++]=l[0];this.coordinates[o++]=l[1];c=false}else if(d===_n["a"].INTERSECTING){this.coordinates[o++]=l[0];this.coordinates[o++]=l[1];c=false}else{c=true}u[0]=l[0];u[1]=l[1];f=d}if(r&&c||h===e+n){this.coordinates[o++]=u[0];this.coordinates[o++]=u[1]}return o};Rn.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var a=0,o=i.length;a<o;++a){var s=i[a];var u=this.appendFlatCoordinates(t,e,s,n,false,false);r.push(u);e=s}return e};Rn.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n=t.getType();var r=t.getStride();var a=this.coordinates.length;var o=void 0,s=void 0,u=void 0,l=void 0;var c=void 0;if(n==Be["a"].MULTI_POLYGON){t=t;o=t.getOrientedFlatCoordinates();l=[];var h=t.getEndss();c=0;for(var f=0,d=h.length;f<d;++f){var p=[];c=this.drawCustomCoordinates_(o,c,h[f],r,p);l.push(p)}this.instructions.push([Mn.CUSTOM,a,l,t,i,bn["c"]])}else if(n==Be["a"].POLYGON||n==Be["a"].MULTI_LINE_STRING){u=[];o=n==Be["a"].POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates();c=this.drawCustomCoordinates_(o,0,t.getEnds(),r,u);this.instructions.push([Mn.CUSTOM,a,u,t,i,bn["b"]])}else if(n==Be["a"].LINE_STRING||n==Be["a"].MULTI_POINT){o=t.getFlatCoordinates();s=this.appendFlatCoordinates(o,0,o.length,r,false,false);this.instructions.push([Mn.CUSTOM,a,s,t,i,bn["a"]])}else if(n==Be["a"].POINT){o=t.getFlatCoordinates();this.coordinates.push(o[0],o[1]);s=this.coordinates.length;this.instructions.push([Mn.CUSTOM,a,s,t,i])}this.endGeometry(t,e)};Rn.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Mn.BEGIN_GEOMETRY,e,0];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[Mn.BEGIN_GEOMETRY,e,0];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};Rn.prototype.fill_=function(t){if(this.fillOrigin_){var e=Object(et["a"])(this.renderedTransform_,this.fillOrigin_.slice());t.translate(e[0],e[1]);t.rotate(this.viewRotation_)}t.fill();if(this.fillOrigin_){t.setTransform.apply(t,Li["r"])}};Rn.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1];t.lineWidth=e[2];t.lineCap=e[3];t.lineJoin=e[4];t.miterLimit=e[5];if(s["a"]){t.lineDashOffset=e[7];t.setLineDash(e[6])}};Rn.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(i==1||i==t.length-5){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(n)){this.declutterTree.insert(n);for(var r=5,a=t.length;r<a;++r){var o=t[r];if(o){if(o.length>11){this.replayTextBackground_(o[0],o[13],o[14],o[15],o[16],o[11],o[12])}Li["n"].apply(undefined,o)}}}t.length=5;Object(Z["l"])(t)}}};Rn.prototype.replay_=function(t,e,i,r,a,o){var s=void 0;if(this.pixelCoordinates_&&Object(S["b"])(e,this.renderedTransform_)){s=this.pixelCoordinates_}else{if(!this.pixelCoordinates_){this.pixelCoordinates_=[]}s=Object(Ui["c"])(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_);Object(et["g"])(this.renderedTransform_,e)}var u=!Object(H["d"])(i);var l=0;var c=r.length;var h=0;var f=void 0;var d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,_=void 0,b=void 0;var w=0;var O=0;var x=null;var C=null;var T=this.coordinateCache_;var E=this.viewRotation_;var M={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:E};var j=this.instructions!=r||this.overlaps?0:200;var k=void 0;var R=void 0,A=void 0;while(l<c){var I=r[l];var P=I[0];switch(P){case Mn.BEGIN_GEOMETRY:k=I[1];if(u&&i[Object(n["c"])(k).toString()]||!k.getGeometry()){l=I[2]}else if(o!==undefined&&!Object(Z["F"])(o,k.getGeometry().getExtent())){l=I[2]+1}else{++l}break;case Mn.BEGIN_PATH:if(w>j){this.fill_(t);w=0}if(O>j){t.stroke();O=0}if(!w&&!O){t.beginPath();v=g=NaN}++l;break;case Mn.CIRCLE:h=I[1];var D=s[h];var N=s[h+1];var $=s[h+2];var L=s[h+3];var F=$-D;var G=L-N;var U=Math.sqrt(F*F+G*G);t.moveTo(D+U,N);t.arc(D,N,U,0,2*Math.PI,true);++l;break;case Mn.CLOSE_PATH:t.closePath();++l;break;case Mn.CUSTOM:h=I[1];f=I[2];var W=I[3];var Y=I[4];var z=I.length==6?I[5]:undefined;M.geometry=W;M.feature=k;if(!(l in T)){T[l]=[]}var V=T[l];if(z){z(s,h,f,2,V)}else{V[0]=s[h];V[1]=s[h+1];V.length=2}Y(V,M);++l;break;case Mn.DRAW_IMAGE:h=I[1];f=I[2];b=I[3];d=I[4];p=I[5];_=a?null:I[6];var B=I[7];var q=I[8];var K=I[9];var X=I[10];var Q=I[11];var J=I[12];var tt=I[13];var it=I[14];var nt=I[15];var rt=void 0,at=void 0,ot=void 0;if(I.length>16){rt=I[16];at=I[17];ot=I[18]}else{rt=Li["j"];at=ot=false}if(Q){J+=E}for(;h<f;h+=2){this.replayImage_(t,s[h],s[h+1],b,d,p,_,B,q,K,X,J,tt,it,nt,rt,at?x:null,ot?C:null)}this.renderDeclutter_(_,k);++l;break;case Mn.DRAW_CHARS:var st=I[1];var ut=I[2];var lt=I[3];_=a?null:I[4];var ct=I[5];var ht=I[6];var ft=I[7];var dt=I[8];var pt=I[9];var vt=I[10];var gt=I[11];var mt=I[12];var yt=I[13];var _t=I[14];var bt=Object(wn["a"])(s,st,ut,2);var wt=dt(mt);if(ct||wt<=bt){var Ot=this.textStates[yt].textAlign;var xt=(bt-wt)*kn[Ot];var St=On(s,st,ut,2,mt,dt,xt,ft);if(St){var Ct=void 0,Tt=void 0,Et=void 0,Mt=void 0,jt=void 0;if(vt){for(Ct=0,Tt=St.length;Ct<Tt;++Ct){jt=St[Ct];Et=jt[4];Mt=this.getImage(Et,yt,"",vt);d=jt[2]+gt;p=lt*Mt.height+(.5-lt)*2*gt-pt;this.replayImage_(t,jt[0],jt[1],Mt,d,p,_,Mt.height,1,0,0,jt[3],_t,false,Mt.width,Li["j"],null,null)}}if(ht){for(Ct=0,Tt=St.length;Ct<Tt;++Ct){jt=St[Ct];Et=jt[4];Mt=this.getImage(Et,yt,ht,"");d=jt[2];p=lt*Mt.height-pt;this.replayImage_(t,jt[0],jt[1],Mt,d,p,_,Mt.height,1,0,0,jt[3],_t,false,Mt.width,Li["j"],null,null)}}}}this.renderDeclutter_(_,k);++l;break;case Mn.END_GEOMETRY:if(a!==undefined){k=I[1];var kt=a(k);if(kt){return kt}}++l;break;case Mn.FILL:if(j){w++}else{this.fill_(t)}++l;break;case Mn.MOVE_TO_LINE_TO:h=I[1];f=I[2];R=s[h];A=s[h+1];m=R+.5|0;y=A+.5|0;if(m!==v||y!==g){t.moveTo(R,A);v=m;g=y}for(h+=2;h<f;h+=2){R=s[h];A=s[h+1];m=R+.5|0;y=A+.5|0;if(h==f-2||m!==v||y!==g){t.lineTo(R,A);v=m;g=y}}++l;break;case Mn.SET_FILL_STYLE:x=I;this.fillOrigin_=I[2];if(w){this.fill_(t);w=0;if(O){t.stroke();O=0}}t.fillStyle=I[1];++l;break;case Mn.SET_STROKE_STYLE:C=I;if(O){t.stroke();O=0}this.setStrokeStyle_(t,I);++l;break;case Mn.STROKE:if(j){O++}else{t.stroke()}++l;break;default:++l;break}}if(w){this.fill_(t)}if(O){t.stroke()}return undefined};Rn.prototype.replay=function(t,e,i,n){this.viewRotation_=i;this.replay_(t,e,n,this.instructions,undefined,undefined)};Rn.prototype.replayHitDetection=function(t,e,i,n,r,a){this.viewRotation_=i;return this.replay_(t,e,n,this.hitDetectionInstructions,r,a)};Rn.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e=void 0;var i=t.length;var n=void 0;var r=void 0;var a=-1;for(e=0;e<i;++e){n=t[e];r=n[0];if(r==Mn.END_GEOMETRY){a=e}else if(r==Mn.BEGIN_GEOMETRY){n[2]=e;Object(S["k"])(this.hitDetectionInstructions,a,e);a=-1}}};Rn.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=Object(Fi["a"])(n?n:Li["b"])}else{i.fillStyle=undefined}if(e){var r=e.getColor();i.strokeStyle=Object(Fi["a"])(r?r:Li["k"]);var a=e.getLineCap();i.lineCap=a!==undefined?a:Li["d"];var o=e.getLineDash();i.lineDash=o?o.slice():Li["e"];var s=e.getLineDashOffset();i.lineDashOffset=s?s:Li["f"];var u=e.getLineJoin();i.lineJoin=u!==undefined?u:Li["g"];var l=e.getWidth();i.lineWidth=l!==undefined?l:Li["h"];var c=e.getMiterLimit();i.miterLimit=c!==undefined?c:Li["i"];if(i.lineWidth>this.maxLineWidth){this.maxLineWidth=i.lineWidth;this.bufferedMaxExtent_=null}}else{i.strokeStyle=undefined;i.lineCap=undefined;i.lineDash=null;i.lineDashOffset=undefined;i.lineJoin=undefined;i.lineWidth=undefined;i.miterLimit=undefined}};Rn.prototype.createFill=function(t,e){var i=t.fillStyle;var n=[Mn.SET_FILL_STYLE,i];if(typeof i!=="string"){var r=e.getExtent();n.push([r[0],r[3]])}return n};Rn.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))};Rn.prototype.createStroke=function(t){return[Mn.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]};Rn.prototype.updateFillStyle=function(t,e,i){var n=t.fillStyle;if(typeof n!=="string"||t.currentFillStyle!=n){if(n!==undefined){this.instructions.push(e.call(this,t,i))}t.currentFillStyle=n}};Rn.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle;var n=t.lineCap;var r=t.lineDash;var a=t.lineDashOffset;var o=t.lineJoin;var s=t.lineWidth;var u=t.miterLimit;if(t.currentStrokeStyle!=i||t.currentLineCap!=n||r!=t.currentLineDash&&!Object(S["b"])(t.currentLineDash,r)||t.currentLineDashOffset!=a||t.currentLineJoin!=o||t.currentLineWidth!=s||t.currentMiterLimit!=u){if(i!==undefined){e.call(this,t)}t.currentStrokeStyle=i;t.currentLineCap=n;t.currentLineDash=r;t.currentLineDashOffset=a;t.currentLineJoin=o;t.currentLineWidth=s;t.currentMiterLimit=u}};Rn.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;var i=[Mn.END_GEOMETRY,e];this.instructions.push(i);this.hitDetectionInstructions.push(i)};Rn.prototype.finish=Q["c"];Rn.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=Object(Z["d"])(this.maxExtent);if(this.maxLineWidth>0){var t=this.resolution*(this.maxLineWidth+1)/2;Object(Z["c"])(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};var Pn=Rn;var Dn=function t(e,i,n,r,a,o){Pn.call(this,e,i,n,r,a,o);this.declutterGroup_=null;this.hitDetectionImage_=null;this.image_=null;this.anchorX_=undefined;this.anchorY_=undefined;this.height_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.snapToPixel_=undefined;this.width_=undefined};Object(n["d"])(Dn,Pn);Dn.prototype.drawCoordinates_=function(t,e,i,n){return this.appendFlatCoordinates(t,e,i,n,false,false)};Dn.prototype.drawPoint=function(t,e){if(!this.image_){return}this.beginGeometry(t,e);var i=t.getFlatCoordinates();var n=t.getStride();var r=this.coordinates.length;var a=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([Mn.DRAW_IMAGE,r,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([Mn.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(t,e)};Dn.prototype.drawMultiPoint=function(t,e){if(!this.image_){return}this.beginGeometry(t,e);var i=t.getFlatCoordinates();var n=t.getStride();var r=this.coordinates.length;var a=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([Mn.DRAW_IMAGE,r,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([Mn.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(t,e)};Dn.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorX_=undefined;this.anchorY_=undefined;this.hitDetectionImage_=null;this.image_=null;this.height_=undefined;this.scale_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.snapToPixel_=undefined;this.width_=undefined};Dn.prototype.setImageStyle=function(t,e){var i=t.getAnchor();var n=t.getSize();var r=t.getHitDetectionImage(1);var a=t.getImage(1);var o=t.getOrigin();this.anchorX_=i[0];this.anchorY_=i[1];this.declutterGroup_=e;this.hitDetectionImage_=r;this.image_=a;this.height_=n[1];this.opacity_=t.getOpacity();this.originX_=o[0];this.originY_=o[1];this.rotateWithView_=t.getRotateWithView();this.rotation_=t.getRotation();this.scale_=t.getScale();this.snapToPixel_=t.getSnapToPixel();this.width_=n[0]};var Nn=Dn;var $n=function t(e,i,n,r,a,o){Pn.call(this,e,i,n,r,a,o)};Object(n["d"])($n,Pn);$n.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length;var a=this.appendFlatCoordinates(t,e,i,n,false,false);var o=[Mn.MOVE_TO_LINE_TO,r,a];this.instructions.push(o);this.hitDetectionInstructions.push(o);return i};$n.prototype.drawLineString=function(t,e){var i=this.state;var n=i.strokeStyle;var r=i.lineWidth;if(n===undefined||r===undefined){return}this.updateStrokeStyle(i,this.applyStroke);this.beginGeometry(t,e);this.hitDetectionInstructions.push([Mn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Tn);var a=t.getFlatCoordinates();var o=t.getStride();this.drawFlatCoordinates_(a,0,a.length,o);this.hitDetectionInstructions.push(Cn);this.endGeometry(t,e)};$n.prototype.drawMultiLineString=function(t,e){var i=this.state;var n=i.strokeStyle;var r=i.lineWidth;if(n===undefined||r===undefined){return}this.updateStrokeStyle(i,this.applyStroke);this.beginGeometry(t,e);this.hitDetectionInstructions.push([Mn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Tn);var a=t.getEnds();var o=t.getFlatCoordinates();var s=t.getStride();var u=0;for(var l=0,c=a.length;l<c;++l){u=this.drawFlatCoordinates_(o,u,a[l],s)}this.hitDetectionInstructions.push(Cn);this.endGeometry(t,e)};$n.prototype.finish=function(){var t=this.state;if(t.lastStroke!=undefined&&t.lastStroke!=this.coordinates.length){this.instructions.push(Cn)}this.reverseHitDetectionInstructions();this.state=null};$n.prototype.applyStroke=function(t){if(t.lastStroke!=undefined&&t.lastStroke!=this.coordinates.length){this.instructions.push(Cn);t.lastStroke=this.coordinates.length}t.lastStroke=0;Pn.prototype.applyStroke.call(this,t);this.instructions.push(Tn)};var Ln=$n;var Fn=i(82);var Gn=i(143);var Un=function t(e,i,n,r,a,o){Pn.call(this,e,i,n,r,a,o)};Object(n["d"])(Un,Pn);Un.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state;var a=r.fillStyle!==undefined;var o=r.strokeStyle!=undefined;var s=i.length;this.instructions.push(Tn);this.hitDetectionInstructions.push(Tn);for(var u=0;u<s;++u){var l=i[u];var c=this.coordinates.length;var h=this.appendFlatCoordinates(t,e,l,n,true,!o);var f=[Mn.MOVE_TO_LINE_TO,c,h];this.instructions.push(f);this.hitDetectionInstructions.push(f);if(o){this.instructions.push(En);this.hitDetectionInstructions.push(En)}e=l}this.hitDetectionInstructions.push(Sn);if(a){this.instructions.push(Sn)}if(o){this.instructions.push(Cn);this.hitDetectionInstructions.push(Cn)}return e};Un.prototype.drawCircle=function(t,e){var i=this.state;var n=i.fillStyle;var r=i.strokeStyle;if(n===undefined&&r===undefined){return}this.setFillStrokeStyles_(t);this.beginGeometry(t,e);this.hitDetectionInstructions.push([Mn.SET_FILL_STYLE,Object(Fn["b"])(Li["b"])]);if(i.strokeStyle!==undefined){this.hitDetectionInstructions.push([Mn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset])}var a=t.getFlatCoordinates();var o=t.getStride();var s=this.coordinates.length;this.appendFlatCoordinates(a,0,a.length,o,false,false);var u=[Mn.CIRCLE,s];this.instructions.push(Tn,u);this.hitDetectionInstructions.push(Tn,u);this.hitDetectionInstructions.push(Sn);if(i.fillStyle!==undefined){this.instructions.push(Sn)}if(i.strokeStyle!==undefined){this.instructions.push(Cn);this.hitDetectionInstructions.push(Cn)}this.endGeometry(t,e)};Un.prototype.drawPolygon=function(t,e){var i=this.state;this.setFillStrokeStyles_(t);this.beginGeometry(t,e);this.hitDetectionInstructions.push([Mn.SET_FILL_STYLE,Object(Fn["b"])(Li["b"])]);if(i.strokeStyle!==undefined){this.hitDetectionInstructions.push([Mn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset])}var n=t.getEnds();var r=t.getOrientedFlatCoordinates();var a=t.getStride();this.drawFlatCoordinatess_(r,0,n,a);this.endGeometry(t,e)};Un.prototype.drawMultiPolygon=function(t,e){var i=this.state;var n=i.fillStyle;var r=i.strokeStyle;if(n===undefined&&r===undefined){return}this.setFillStrokeStyles_(t);this.beginGeometry(t,e);this.hitDetectionInstructions.push([Mn.SET_FILL_STYLE,Object(Fn["b"])(Li["b"])]);if(i.strokeStyle!==undefined){this.hitDetectionInstructions.push([Mn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset])}var a=t.getEndss();var o=t.getOrientedFlatCoordinates();var s=t.getStride();var u=0;for(var l=0,c=a.length;l<c;++l){u=this.drawFlatCoordinatess_(o,u,a[l],s)}this.endGeometry(t,e)};Un.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var t=this.tolerance;if(t!==0){var e=this.coordinates;for(var i=0,n=e.length;i<n;++i){e[i]=Object(Gn["e"])(e[i],t)}}};Un.prototype.setFillStrokeStyles_=function(t){var e=this.state;var i=e.fillStyle;if(i!==undefined){this.updateFillStyle(e,this.createFill,t)}if(e.strokeStyle!==undefined){this.updateStrokeStyle(e,this.applyStroke)}};var Hn=Un;function Wn(t,e,i,n,r){var a=i;var o=i;var s=0;var u=0;var l=i;var c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,_=void 0;for(h=i;h<n;h+=r){var b=e[h];var w=e[h+1];if(p!==undefined){y=b-p;_=w-v;d=Math.sqrt(y*y+_*_);if(g!==undefined){u+=f;c=Math.acos((g*y+m*_)/(f*d));if(c>t){if(u>s){s=u;a=l;o=h}u=0;l=h-r}}f=d;g=y;m=_}p=b;v=w}u+=d;return u>s?[l,h]:[a,o]}var Yn=i(290);var zn=function t(e,i,n,r,a,o){Pn.call(this,e,i,n,r,a,o);this.declutterGroup_;this.labels_=null;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=undefined;this.textRotation_=0;this.textFillState_=null;this.fillStates={};this.textStrokeState_=null;this.strokeStates={};this.textState_={};this.textStates={};this.textKey_="";this.fillKey_="";this.strokeKey_="";this.widths_={};Li["o"].prune()};Object(n["d"])(zn,Pn);function Vn(t,e,i){var n=e.length;var r=0;for(var a=0;a<n;++a){var o=Object(Li["q"])(t,e[a]);r=Math.max(r,o);i.push(o)}return r}zn.prototype.drawText=function(t,e){var i=this.textFillState_;var n=this.textStrokeState_;var r=this.textState_;if(this.text_===""||!r||!i&&!n){return}var a=this.coordinates.length;var o=t.getType();var s=null;var u=2;var l=2;var c=void 0,h=void 0;if(r.placement===Yn["a"].LINE){if(!Object(Z["F"])(this.getBufferedMaxExtent(),t.getExtent())){return}var f=void 0;s=t.getFlatCoordinates();l=t.getStride();if(o==Be["a"].LINE_STRING){f=[s.length]}else if(o==Be["a"].MULTI_LINE_STRING){f=t.getEnds()}else if(o==Be["a"].POLYGON){f=t.getEnds().slice(0,1)}else if(o==Be["a"].MULTI_POLYGON){var d=t.getEndss();f=[];for(c=0,h=d.length;c<h;++c){f.push(d[c][0])}}this.beginGeometry(t,e);var p=r.textAlign;var v=0;var g=void 0;for(var m=0,y=f.length;m<y;++m){if(p==undefined){var _=Wn(r.maxAngle,s,v,f[m],l);v=_[0];g=_[1]}else{g=f[m]}for(c=v;c<g;c+=l){this.coordinates.push(s[c],s[c+1])}u=this.coordinates.length;v=f[m];this.drawChars_(a,u,this.declutterGroup_);a=u}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_);var w=b.width/this.pixelRatio;switch(o){case Be["a"].POINT:case Be["a"].MULTI_POINT:s=t.getFlatCoordinates();u=s.length;break;case Be["a"].LINE_STRING:s=t.getFlatMidpoint();break;case Be["a"].CIRCLE:s=t.getCenter();break;case Be["a"].MULTI_LINE_STRING:s=t.getFlatMidpoints();u=s.length;break;case Be["a"].POLYGON:s=t.getFlatInteriorPoint();if(!r.overflow&&s[2]/this.resolution<w){return}l=3;break;case Be["a"].MULTI_POLYGON:var O=t.getFlatInteriorPoints();s=[];for(c=0,h=O.length;c<h;c+=3){if(r.overflow||O[c+2]/this.resolution>=w){s.push(O[c],O[c+1])}}u=s.length;if(u==0){return}break;default:}u=this.appendFlatCoordinates(s,0,u,l,false,false);this.beginGeometry(t,e);if(r.backgroundFill||r.backgroundStroke){this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke);this.updateFillStyle(this.state,this.createFill,t);this.hitDetectionInstructions.push(this.createFill(this.state,t));this.updateStrokeStyle(this.state,this.applyStroke);this.hitDetectionInstructions.push(this.createStroke(this.state))}this.drawTextImage_(b,a,u);this.endGeometry(t,e)}};zn.prototype.getImage=function(t,e,i,n){var r=void 0;var a=n+e+t+i+this.pixelRatio;if(!Li["o"].containsKey(a)){var o=n?this.strokeStates[n]||this.textStrokeState_:null;var u=i?this.fillStates[i]||this.textFillState_:null;var l=this.textStates[e]||this.textState_;var c=this.pixelRatio;var h=l.scale*c;var f=kn[l.textAlign||Li["l"]];var d=n&&o.lineWidth?o.lineWidth:0;var p=t.split("\n");var v=p.length;var g=[];var m=Vn(l.font,p,g);var y=Object(Li["p"])(l.font);var _=y*v;var b=m+d;var w=Object(X["a"])(Math.ceil(b*h),Math.ceil((_+d)*h));r=w.canvas;Li["o"].set(a,r);if(h!=1){w.scale(h,h)}w.font=l.font;if(n){w.strokeStyle=o.strokeStyle;w.lineWidth=d*(s["h"]?h:1);w.lineCap=o.lineCap;w.lineJoin=o.lineJoin;w.miterLimit=o.miterLimit;if(s["a"]&&o.lineDash.length){w.setLineDash(o.lineDash);w.lineDashOffset=o.lineDashOffset}}if(i){w.fillStyle=u.fillStyle}w.textBaseline="middle";w.textAlign="center";var O=.5-f;var x=f*r.width/h+O*d;var S=void 0;if(n){for(S=0;S<v;++S){w.strokeText(p[S],x+O*g[S],.5*(d+y)+S*y)}}if(i){for(S=0;S<v;++S){w.fillText(p[S],x+O*g[S],.5*(d+y)+S*y)}}}return Li["o"].get(a)};zn.prototype.drawTextImage_=function(t,e,i){var n=this.textState_;var r=this.textStrokeState_;var a=this.pixelRatio;var o=kn[n.textAlign||Li["l"]];var s=kn[n.textBaseline];var u=r&&r.lineWidth?r.lineWidth:0;var l=o*t.width/a+2*(.5-o)*u;var c=s*t.height/a+2*(.5-s)*u;this.instructions.push([Mn.DRAW_IMAGE,e,i,t,(l-this.textOffsetX_)*a,(c-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,true,t.width,n.padding==Li["j"]?Li["j"]:n.padding.map(function(t){return t*a}),!!n.backgroundFill,!!n.backgroundStroke]);this.hitDetectionInstructions.push([Mn.DRAW_IMAGE,e,i,t,(l-this.textOffsetX_)*a,(c-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/a,true,t.width,n.padding,!!n.backgroundFill,!!n.backgroundStroke])};zn.prototype.drawChars_=function(t,e,i){var n=this.textStrokeState_;var r=this.textState_;var a=this.textFillState_;var o=this.strokeKey_;if(n){if(!(o in this.strokeStates)){this.strokeStates[o]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}}}var s=this.textKey_;if(!(this.textKey_ in this.textStates)){this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||Li["l"],scale:r.scale}}var u=this.fillKey_;if(a){if(!(u in this.fillStates)){this.fillStates[u]={fillStyle:a.fillStyle}}}var l=this.pixelRatio;var c=kn[r.textBaseline];var h=this.textOffsetY_*l;var f=this.text_;var d=r.font;var p=r.scale;var v=n?n.lineWidth*p/2:0;var g=this.widths_[d];if(!g){this.widths_[d]=g={}}this.instructions.push([Mn.DRAW_CHARS,t,e,c,i,r.overflow,u,r.maxAngle,function(t){var e=g[t];if(!e){e=g[t]=Object(Li["q"])(d,t)}return e*p*l},h,o,v*l,f,s,1]);this.hitDetectionInstructions.push([Mn.DRAW_CHARS,t,e,c,i,r.overflow,u,r.maxAngle,function(t){var e=g[t];if(!e){e=g[t]=Object(Li["q"])(d,t)}return e*p},h,o,v,f,s,1/l])};zn.prototype.setTextStyle=function(t,e){var i=void 0,r=void 0,a=void 0;if(!t){this.text_=""}else{this.declutterGroup_=e;var o=t.getFill();if(!o){r=this.textFillState_=null}else{r=this.textFillState_;if(!r){r=this.textFillState_={}}r.fillStyle=Object(Fi["a"])(o.getColor()||Li["b"])}var s=t.getStroke();if(!s){a=this.textStrokeState_=null}else{a=this.textStrokeState_;if(!a){a=this.textStrokeState_={}}var u=s.getLineDash();var l=s.getLineDashOffset();var c=s.getWidth();var h=s.getMiterLimit();a.lineCap=s.getLineCap()||Li["d"];a.lineDash=u?u.slice():Li["e"];a.lineDashOffset=l===undefined?Li["f"]:l;a.lineJoin=s.getLineJoin()||Li["g"];a.lineWidth=c===undefined?Li["h"]:c;a.miterLimit=h===undefined?Li["i"]:h;a.strokeStyle=Object(Fi["a"])(s.getColor()||Li["k"])}i=this.textState_;var f=t.getFont()||Li["c"];Object(Li["a"])(f);var d=t.getScale();i.overflow=t.getOverflow();i.font=f;i.maxAngle=t.getMaxAngle();i.placement=t.getPlacement();i.textAlign=t.getTextAlign();i.textBaseline=t.getTextBaseline()||Li["m"];i.backgroundFill=t.getBackgroundFill();i.backgroundStroke=t.getBackgroundStroke();i.padding=t.getPadding()||Li["j"];i.scale=d===undefined?1:d;var p=t.getOffsetX();var v=t.getOffsetY();var g=t.getRotateWithView();var m=t.getRotation();this.text_=t.getText()||"";this.textOffsetX_=p===undefined?0:p;this.textOffsetY_=v===undefined?0:v;this.textRotateWithView_=g===undefined?false:g;this.textRotation_=m===undefined?0:m;this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:Object(n["c"])(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"";this.textKey_=i.font+i.scale+(i.textAlign||"?");this.fillKey_=r?typeof r.fillStyle=="string"?r.fillStyle:"|"+Object(n["c"])(r.fillStyle):""}};var Bn=zn;var qn={Circle:Hn,Default:Pn,Image:Nn,LineString:Ln,Polygon:Hn,Text:Bn};var Kn=function t(e,i,n,r,a,o,s){mn.call(this);this.declutterTree_=o;this.declutterGroup_=null;this.tolerance_=e;this.maxExtent_=i;this.overlaps_=a;this.pixelRatio_=r;this.resolution_=n;this.renderBuffer_=s;this.replaysByZIndex_={};this.hitDetectionContext_=Object(X["a"])(1,1);this.hitDetectionTransform_=Object(et["c"])()};Object(n["d"])(Kn,mn);var Xn={0:[[true]]};function Zn(t,e,i){var n=void 0;var r=Math.floor(t.length/2);if(e>=r){for(n=r;n<e;n++){t[n][i]=true}}else if(e<r){for(n=e+1;n<r;n++){t[n][i]=true}}}function Qn(t){if(Xn[t]!==undefined){return Xn[t]}var e=t*2+1;var i=new Array(e);for(var n=0;n<e;n++){i[n]=new Array(e)}var r=t;var a=0;var o=0;while(r>=a){Zn(i,t+r,t+a);Zn(i,t+a,t+r);Zn(i,t-a,t+r);Zn(i,t-r,t+a);Zn(i,t-r,t-a);Zn(i,t-a,t-r);Zn(i,t+a,t-r);Zn(i,t+r,t-a);a++;o+=1+2*a;if(2*(o-r)+1>0){r-=1;o+=1-2*r}}Xn[t]=i;return i}function Jn(t,e,i){var n=Object.keys(t).map(Number).sort(S["i"]);var r={};for(var a=0,o=n.length;a<o;++a){var s=t[n[a].toString()];for(var u=0,l=s.length;u<l;){var c=s[u++];var h=s[u++];c.replay(e,h,i,r)}}}Kn.prototype.addDeclutter=function(t){var e=null;if(this.declutterTree_){if(t){e=this.declutterGroup_;e[4]++}else{e=this.declutterGroup_=Object(Z["j"])();e.push(1)}}return e};Kn.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath();t.moveTo(i[0],i[1]);t.lineTo(i[2],i[3]);t.lineTo(i[4],i[5]);t.lineTo(i[6],i[7]);t.clip()};Kn.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_){var i=this.replaysByZIndex_[e];for(var n=0,r=t.length;n<r;++n){if(t[n]in i){return true}}}return false};Kn.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e){e[i].finish()}}};Kn.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,a,o){n=Math.round(n);var s=n*2+1;var u=Object(et["b"])(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]);var l=this.hitDetectionContext_;if(l.canvas.width!==s||l.canvas.height!==s){l.canvas.width=s;l.canvas.height=s}else{l.clearRect(0,0,s,s)}var c=void 0;if(this.renderBuffer_!==undefined){c=Object(Z["j"])();Object(Z["r"])(c,t);Object(Z["c"])(c,e*(this.renderBuffer_+n),c)}var h=Qn(n);var f=void 0;if(this.declutterTree_){f=this.declutterTree_.all().map(function(t){return t.value})}var d=void 0;function p(t){var e=l.getImageData(0,0,s,s).data;for(var i=0;i<s;i++){for(var n=0;n<s;n++){if(h[i][n]){if(e[(n*s+i)*4+3]>0){var r=void 0;if(!(f&&(d==yn.IMAGE||d==yn.TEXT))||f.indexOf(t)!==-1){r=a(t)}if(r){return r}else{l.clearRect(0,0,s,s);return undefined}}}}}}var v=Object.keys(this.replaysByZIndex_).map(Number);v.sort(S["i"]);var g=void 0,m=void 0,y=void 0,_=void 0,b=void 0;for(g=v.length-1;g>=0;--g){var w=v[g].toString();y=this.replaysByZIndex_[w];for(m=jn.length-1;m>=0;--m){d=jn[m];_=y[d];if(_!==undefined){if(o&&(d==yn.IMAGE||d==yn.TEXT)){var O=o[w];if(!O){o[w]=[_,u.slice(0)]}else{O.push(_,u.slice(0))}}else{b=_.replayHitDetection(l,u,i,r,p,c);if(b){return b}}}}}return undefined};Kn.prototype.getClipCoords=function(t){var e=this.maxExtent_;var i=e[0];var n=e[1];var r=e[2];var a=e[3];var o=[i,n,i,a,r,a,r,n];Object(Ui["c"])(o,0,8,2,t,o);return o};Kn.prototype.getReplay=function(t,e){var i=t!==undefined?t.toString():"0";var n=this.replaysByZIndex_[i];if(n===undefined){n={};this.replaysByZIndex_[i]=n}var r=n[e];if(r===undefined){var a=qn[e];r=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_);n[e]=r}return r};Kn.prototype.getReplays=function(){return this.replaysByZIndex_};Kn.prototype.isEmpty=function(){return Object(H["d"])(this.replaysByZIndex_)};Kn.prototype.replay=function(t,e,i,n,r,a){var o=Object.keys(this.replaysByZIndex_).map(Number);o.sort(S["i"]);t.save();this.clip(t,e);var s=r?r:jn;var u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0;for(u=0,l=o.length;u<l;++u){var p=o[u].toString();f=this.replaysByZIndex_[p];for(c=0,h=s.length;c<h;++c){var v=s[c];d=f[v];if(d!==undefined){if(a&&(v==yn.IMAGE||v==yn.TEXT)){var g=a[p];if(!g){a[p]=[d,e.slice(0)]}else{g.push(d,e.slice(0))}}else{d.replay(t,e,i,n)}}}}t.restore()};var tr=Kn;var er=.5;var ir={Point:pr,LineString:hr,Polygon:gr,MultiPoint:vr,MultiLineString:fr,MultiPolygon:dr,GeometryCollection:cr,Circle:or};function nr(t,e){return Object(n["c"])(t)-Object(n["c"])(e)}function rr(t,e){var i=ar(t,e);return i*i}function ar(t,e){return er*t/e}function or(t,e,i,n){var r=i.getFill();var a=i.getStroke();if(r||a){var o=t.getReplay(i.getZIndex(),yn.CIRCLE);o.setFillStrokeStyle(r,a);o.drawCircle(e,n)}var s=i.getText();if(s){var u=t.getReplay(i.getZIndex(),yn.TEXT);u.setTextStyle(s,t.addDeclutter(false));u.drawText(e,n)}}function sr(t,e,i,n,r,a){var o=false;var s=i.getImage();if(s){var u=s.getImageState();if(u==ki["a"].LOADED||u==ki["a"].ERROR){s.unlistenImageChange(r,a)}else{if(u==ki["a"].IDLE){s.load()}u=s.getImageState();s.listenImageChange(r,a);o=true}}ur(t,e,i,n);return o}function ur(t,e,i,n){var r=i.getGeometryFunction()(e);if(!r){return}var a=r.getSimplifiedGeometry(n);var o=i.getRenderer();if(o){lr(t,a,i,e)}else{var s=ir[a.getType()];s(t,a,i,e)}}function lr(t,e,i,n){if(e.getType()==Be["a"].GEOMETRY_COLLECTION){var r=e.getGeometries();for(var a=0,o=r.length;a<o;++a){lr(t,r[a],i,n)}return}var s=t.getReplay(i.getZIndex(),yn.DEFAULT);s.drawCustom(e,n,i.getRenderer())}function cr(t,e,i,n){var r=e.getGeometriesArray();var a=void 0,o=void 0;for(a=0,o=r.length;a<o;++a){var s=ir[r[a].getType()];s(t,r[a],i,n)}}function hr(t,e,i,n){var r=i.getStroke();if(r){var a=t.getReplay(i.getZIndex(),yn.LINE_STRING);a.setFillStrokeStyle(null,r);a.drawLineString(e,n)}var o=i.getText();if(o){var s=t.getReplay(i.getZIndex(),yn.TEXT);s.setTextStyle(o,t.addDeclutter(false));s.drawText(e,n)}}function fr(t,e,i,n){var r=i.getStroke();if(r){var a=t.getReplay(i.getZIndex(),yn.LINE_STRING);a.setFillStrokeStyle(null,r);a.drawMultiLineString(e,n)}var o=i.getText();if(o){var s=t.getReplay(i.getZIndex(),yn.TEXT);s.setTextStyle(o,t.addDeclutter(false));s.drawText(e,n)}}function dr(t,e,i,n){var r=i.getFill();var a=i.getStroke();if(a||r){var o=t.getReplay(i.getZIndex(),yn.POLYGON);o.setFillStrokeStyle(r,a);o.drawMultiPolygon(e,n)}var s=i.getText();if(s){var u=t.getReplay(i.getZIndex(),yn.TEXT);u.setTextStyle(s,t.addDeclutter(false));u.drawText(e,n)}}function pr(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=ki["a"].LOADED){return}var a=t.getReplay(i.getZIndex(),yn.IMAGE);a.setImageStyle(r,t.addDeclutter(false));a.drawPoint(e,n)}var o=i.getText();if(o){var s=t.getReplay(i.getZIndex(),yn.TEXT);s.setTextStyle(o,t.addDeclutter(!!r));s.drawText(e,n)}}function vr(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=ki["a"].LOADED){return}var a=t.getReplay(i.getZIndex(),yn.IMAGE);a.setImageStyle(r,t.addDeclutter(false));a.drawMultiPoint(e,n)}var o=i.getText();if(o){var s=t.getReplay(i.getZIndex(),yn.TEXT);s.setTextStyle(o,t.addDeclutter(!!r));s.drawText(e,n)}}function gr(t,e,i,n){var r=i.getFill();var a=i.getStroke();if(r||a){var o=t.getReplay(i.getZIndex(),yn.POLYGON);o.setFillStrokeStyle(r,a);o.drawPolygon(e,n)}var s=i.getText();if(s){var u=t.getReplay(i.getZIndex(),yn.TEXT);u.setTextStyle(s,t.addDeclutter(false));u.drawText(e,n)}}var mr=function t(e){Zi.call(this,e);this.declutterTree_=e.getDeclutter()?vn()(9):null;this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=Object(Z["j"])();this.renderedRenderOrder_=null;this.replayGroup_=null;this.replayGroupChanged=true;this.context=Object(X["a"])();Object(c["a"])(Li["o"],G["a"].CLEAR,this.handleFontsChanged_,this)};Object(n["d"])(mr,Zi);mr["handles"]=function(t){return t.getType()===Ii["a"].VECTOR};mr["create"]=function(t,e){return new mr(e)};mr.prototype.disposeInternal=function(){Object(c["c"])(Li["o"],G["a"].CLEAR,this.handleFontsChanged_,this);Zi.prototype.disposeInternal.call(this)};mr.prototype.composeFrame=function(t,e,i){var n=t.extent;var r=t.pixelRatio;var a=e.managed?t.skippedFeatureUids:{};var o=t.viewState;var s=o.projection;var u=o.rotation;var l=s.getExtent();var c=this.getLayer().getSource();var h=this.getTransform(t,0);this.preCompose(i,t,h);var f=e.extent;var d=f!==undefined;if(d){this.clip(i,t,f)}var p=this.replayGroup_;if(p&&!p.isEmpty()){if(this.declutterTree_){this.declutterTree_.clear()}var v=this.getLayer();var g=0;var m=0;var y=void 0;var _=e.opacity!==1;var b=v.hasListener($i["a"].RENDER);if(_||b){var w=i.canvas.width;var O=i.canvas.height;if(u){var x=Math.round(Math.sqrt(w*w+O*O));g=(x-w)/2;m=(x-O)/2;w=O=x}this.context.canvas.width=w;this.context.canvas.height=O;y=this.context}else{y=i}var S=y.globalAlpha;if(!_){y.globalAlpha=e.opacity}if(y!=i){y.translate(g,m)}var C=t.size[0]*r;var T=t.size[1]*r;Object(Li["s"])(y,-u,C/2,T/2);p.replay(y,h,u,a);if(c.getWrapX()&&s.canWrapX()&&!Object(Z["g"])(l,n)){var E=n[0];var M=Object(Z["E"])(l);var j=0;var k=void 0;while(E<l[0]){--j;k=M*j;h=this.getTransform(t,k);p.replay(y,h,u,a);E+=M}j=0;E=n[2];while(E>l[2]){++j;k=M*j;h=this.getTransform(t,k);p.replay(y,h,u,a);E-=M}h=this.getTransform(t,0)}Object(Li["s"])(y,u,C/2,T/2);if(y!=i){if(b){this.dispatchRenderEvent(y,t,h)}if(_){var R=i.globalAlpha;i.globalAlpha=e.opacity;i.drawImage(y.canvas,-g,-m);i.globalAlpha=R}else{i.drawImage(y.canvas,-g,-m)}y.translate(-g,-m)}if(!_){y.globalAlpha=S}}if(d){i.restore()}this.postCompose(i,t,e,h)};mr.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a){if(!this.replayGroup_){return undefined}else{var o=e.viewState.resolution;var s=e.viewState.rotation;var u=this.getLayer();var l={};var c=this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,i,{},function(t){var e=Object(n["c"])(t).toString();if(!(e in l)){l[e]=true;return r.call(a,t,u)}},null);return c}};mr.prototype.handleFontsChanged_=function(t){var e=this.getLayer();if(e.getVisible()&&this.replayGroup_){e.changed()}};mr.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()};mr.prototype.prepareFrame=function(t,e){var i=this.getLayer();var n=i.getSource();var r=t.viewHints[K["a"].ANIMATING];var a=t.viewHints[K["a"].INTERACTING];var o=i.getUpdateWhileAnimating();var s=i.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!s&&a){return true}var u=t.extent;var l=t.viewState;var c=l.projection;var h=l.resolution;var f=t.pixelRatio;var d=i.getRevision();var p=i.getRenderBuffer();var v=i.getRenderOrder();if(v===undefined){v=nr}var g=Object(Z["c"])(u,p*h);var m=l.projection.getExtent();if(n.getWrapX()&&l.projection.canWrapX()&&!Object(Z["g"])(m,t.extent)){var y=Object(Z["E"])(m);var _=Math.max(Object(Z["E"])(g)/2,y);g[0]=m[0]-_;g[2]=m[2]+_}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==d&&this.renderedRenderOrder_==v&&Object(Z["g"])(this.renderedExtent_,g)){this.replayGroupChanged=false;return true}this.replayGroup_=null;this.dirty_=false;var b=new tr(ar(h,f),g,h,f,n.getOverlaps(),this.declutterTree_,i.getRenderBuffer());n.loadFeatures(g,h,c);var w=function(t){var e=void 0;var n=t.getStyleFunction()||i.getStyleFunction();if(n){e=n(t,h)}if(e){var r=this.renderFeature(t,h,f,e,b);this.dirty_=this.dirty_||r}}.bind(this);if(v){var O=[];n.forEachFeatureInExtent(g,function(t){O.push(t)},this);O.sort(v);for(var x=0,S=O.length;x<S;++x){w(O[x])}}else{n.forEachFeatureInExtent(g,w,this)}b.finish();this.renderedResolution_=h;this.renderedRevision_=d;this.renderedRenderOrder_=v;this.renderedExtent_=g;this.replayGroup_=b;this.replayGroupChanged=true;return true};mr.prototype.renderFeature=function(t,e,i,n,r){if(!n){return false}var a=false;if(Array.isArray(n)){for(var o=0,s=n.length;o<s;++o){a=sr(r,t,n[o],rr(e,i),this.handleStyleImageChange_,this)||a}}else{a=sr(r,t,n,rr(e,i),this.handleStyleImageChange_,this)}return a};var yr=mr;var _r={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var br=i(80);var wr={image:[yn.POLYGON,yn.CIRCLE,yn.LINE_STRING,yn.IMAGE,yn.TEXT],hybrid:[yn.POLYGON,yn.LINE_STRING]};var Or={image:[yn.DEFAULT],hybrid:[yn.IMAGE,yn.TEXT,yn.DEFAULT],vector:jn};var xr=function t(e){this.context=null;dn.call(this,e);this.declutterTree_=e.getDeclutter()?vn()(9):null;this.dirty_=false;this.renderedLayerRevision_;this.tmpTransform_=Object(et["c"])();this.zDirection=e.getRenderMode()==_r.VECTOR?1:0;Object(c["a"])(Li["o"],G["a"].CLEAR,this.handleFontsChanged_,this)};Object(n["d"])(xr,dn);xr["handles"]=function(t){return t.getType()===Ii["a"].VECTOR_TILE};xr["create"]=function(t,e){return new xr(e)};xr.prototype.disposeInternal=function(){Object(c["c"])(Li["o"],G["a"].CLEAR,this.handleFontsChanged_,this);dn.prototype.disposeInternal.call(this)};xr.prototype.prepareFrame=function(t,e){var i=this.getLayer();var n=i.getRevision();if(this.renderedLayerRevision_!=n){this.renderedTiles.length=0;var r=i.getRenderMode();if(!this.context&&r!=_r.VECTOR){this.context=Object(X["a"])()}if(this.context&&r==_r.VECTOR){this.context=null}}this.renderedLayerRevision_=n;return dn.prototype.prepareFrame.apply(this,arguments)};xr.prototype.createReplayGroup_=function(t,e){var i=this;var n=this.getLayer();var r=e.pixelRatio;var a=e.viewState.projection;var o=n.getRevision();var s=n.getRenderOrder()||null;var u=t.getReplayState(n);if(!u.dirty&&u.renderedRevision==o&&u.renderedRenderOrder==s){return}var l=n.getSource();var c=l.getTileGrid();var h=l.getTileGridForProjection(a);var f=h.getResolution(t.tileCoord[0]);var d=h.getTileCoordExtent(t.wrappedTileCoord);var p={};var v=function e(o,h){var v=t.getTile(t.tileKeys[o]);if(v.getState()!=F["a"].LOADED){return"continue"}var g=v.tileCoord;var m=c.getTileCoordExtent(g);var y=Object(Z["B"])(d,m);var _=Object(Z["p"])(m,y)?null:Object(Z["c"])(y,n.getRenderBuffer()*f,i.tmpExtent);var b=v.getProjection();var w=false;if(!Object(Ie["f"])(a,b)){w=true;v.setProjection(a)}u.dirty=false;var O=new tr(0,y,f,r,l.getOverlaps(),i.declutterTree_,n.getRenderBuffer());var x=rr(f,r);var S=function t(e){var i=void 0;var r=e.getStyleFunction()||n.getStyleFunction();if(r){i=r(e,f)}if(i){var a=this.renderFeature(e,x,i,O);this.dirty_=this.dirty_||a;u.dirty=u.dirty||a}};var C=v.getFeatures();if(s&&s!==u.renderedRenderOrder){C.sort(s)}for(var T=0,E=C.length;T<E;++T){var M=C[T];if(w){if(b.getUnits()==br["b"].TILE_PIXELS){b.setWorldExtent(m);b.setExtent(v.getExtent())}M.getGeometry().transform(b,a)}if(!_||Object(Z["F"])(_,M.getGeometry().getExtent())){S.call(i,M)}}O.finish();for(var j in O.getReplays()){p[j]=true}v.setReplayGroup(n,t.tileCoord.toString(),O)};for(var g=0,m=t.tileKeys.length;g<m;++g){var y=v(g,m);if(y==="continue")continue}u.renderedRevision=o;u.renderedRenderOrder=s};xr.prototype.drawTileImage=function(t,e,i,n,r,a,o,s,u){var l=t;this.createReplayGroup_(l,e);if(this.context){this.renderTileImage_(l,e,i);dn.prototype.drawTileImage.apply(this,arguments)}};xr.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a){var o=e.viewState.resolution;var s=e.viewState.rotation;i=i==undefined?0:i;var u=this.getLayer();var l={};var c=this.renderedTiles;var h=u.getSource();var f=h.getTileGridForProjection(e.viewState.projection);var d=void 0,p=void 0;var v=void 0,g=void 0,m=void 0;var y=void 0,_=void 0,b=void 0;for(v=0,g=c.length;v<g;++v){y=c[v];_=y.wrappedTileCoord;b=f.getTileCoordExtent(_,this.tmpExtent);d=Object(Z["c"])(b,i*o,d);if(!Object(Z["f"])(d,t)){continue}for(var w=0,O=y.tileKeys.length;w<O;++w){var x=y.getTile(y.tileKeys[w]);if(x.getState()!=F["a"].LOADED){continue}m=x.getReplayGroup(u,y.tileCoord.toString());p=p||m.forEachFeatureAtCoordinate(t,o,s,i,{},function(t){var e=Object(n["c"])(t).toString();if(!(e in l)){l[e]=true;return r.call(a,t,u)}},null)}}return p};xr.prototype.getReplayTransform_=function(t,e){var i=this.getLayer();var n=i.getSource();var r=n.getTileGrid();var a=t.tileCoord;var o=r.getResolution(a[0]);var s=e.viewState;var u=e.pixelRatio;var l=s.resolution/u;var c=r.getTileCoordExtent(a,this.tmpExtent);var h=s.center;var f=Object(Z["C"])(c);var d=e.size;var p=Math.round(u*d[0]/2);var v=Math.round(u*d[1]/2);return Object(et["b"])(this.tmpTransform_,p,v,o/l,o/l,s.rotation,(f[0]-h[0])/o,(h[1]-f[1])/o)};xr.prototype.handleFontsChanged_=function(t){var e=this.getLayer();if(e.getVisible()&&this.renderedLayerRevision_!==undefined){e.changed()}};xr.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()};xr.prototype.postCompose=function(t,e,i){var n=this.getLayer();var r=n.getDeclutter()?{}:null;var a=n.getSource();var o=n.getRenderMode();var s=Or[o];var u=e.pixelRatio;var l=e.viewState.rotation;var c=e.size;var h=void 0,f=void 0;if(l){h=Math.round(u*c[0]/2);f=Math.round(u*c[1]/2);Object(Li["s"])(t,-l,h,f)}if(r){this.declutterTree_.clear()}var d=this.renderedTiles;var p=a.getTileGridForProjection(e.viewState.projection);var v=[];var g=[];for(var m=d.length-1;m>=0;--m){var y=d[m];if(y.getState()==F["a"].ABORT){continue}var _=y.tileCoord;var b=p.getTileCoordExtent(_,this.tmpExtent)[0]-p.getTileCoordExtent(y.wrappedTileCoord,this.tmpExtent)[0];var w=undefined;for(var O=0,x=y.tileKeys.length;O<x;++O){var S=y.getTile(y.tileKeys[O]);if(S.getState()!=F["a"].LOADED){continue}var C=S.getReplayGroup(n,_.toString());if(o!=_r.VECTOR&&!C.hasReplays(s)){continue}if(!w){w=this.getTransform(e,b)}var T=S.tileCoord[0];var E=C.getClipCoords(w);t.save();t.globalAlpha=i.opacity;for(var M=0,j=v.length;M<j;++M){var k=v[M];if(T<g[M]){t.beginPath();t.moveTo(E[0],E[1]);t.lineTo(E[2],E[3]);t.lineTo(E[4],E[5]);t.lineTo(E[6],E[7]);t.moveTo(k[6],k[7]);t.lineTo(k[4],k[5]);t.lineTo(k[2],k[3]);t.lineTo(k[0],k[1]);t.clip()}}C.replay(t,w,l,{},s,r);t.restore();v.push(E);g.push(T)}}if(r){Jn(r,t,l)}if(l){Object(Li["s"])(t,l,h,f)}dn.prototype.postCompose.apply(this,arguments)};xr.prototype.renderFeature=function(t,e,i,n){if(!i){return false}var r=false;if(Array.isArray(i)){for(var a=0,o=i.length;a<o;++a){r=sr(n,t,i[a],e,this.handleStyleImageChange_,this)||r}}else{r=sr(n,t,i,e,this.handleStyleImageChange_,this)}return r};xr.prototype.renderTileImage_=function(t,e,i){var n=this.getLayer();var r=t.getReplayState(n);var a=n.getRevision();var o=wr[n.getRenderMode()];if(o&&r.renderedTileRevision!==a){r.renderedTileRevision=a;var s=t.wrappedTileCoord;var u=s[0];var l=e.pixelRatio;var c=n.getSource();var h=c.getTileGridForProjection(e.viewState.projection);var f=h.getResolution(u);var d=t.getContext(n);var p=c.getTilePixelSize(u,l,e.viewState.projection);d.canvas.width=p[0];d.canvas.height=p[1];var v=h.getTileCoordExtent(s,this.tmpExtent);for(var g=0,m=t.tileKeys.length;g<m;++g){var y=t.getTile(t.tileKeys[g]);if(y.getState()!=F["a"].LOADED){continue}var _=l/f;var b=Object(et["e"])(this.tmpTransform_);Object(et["f"])(b,_,-_);Object(et["h"])(b,-v[0],-v[3]);var w=y.getReplayGroup(n,t.tileCoord.toString());w.replay(d,b,0,{},o)}}};var Sr=xr;var Cr=function t(e){e=Object(H["a"])({},e);if(!e.controls){e.controls=Ht()}if(!e.interactions){e.interactions=Ei()}rt.call(this,e)};Object(n["d"])(Cr,rt);Cr.prototype.createRenderer=function(){var t=new cn(this);t.registerLayerRenderers([en,dn,yr,Sr]);return t};var Tr=e["a"]=Cr},function(t,e,i){"use strict";i.d(e,"b",function(){return n});i.d(e,"a",function(){return r});i.d(e,"c",function(){return a});function n(){return true}function r(){return false}function a(){}},function(t,e,i){"use strict";e["a"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});i.d(e,"b",function(){return o});i.d(e,"c",function(){return s});i.d(e,"e",function(){return h});i.d(e,"f",function(){return f});i.d(e,"g",function(){return d});i.d(e,"h",function(){return p});i.d(e,"d",function(){return v});i.d(e,"i",function(){return g});i.d(e,"j",function(){return y});var n=i(12);var r=i(128);function a(t,e){t[0]+=e[0];t[1]+=e[1];return t}function o(t,e){var i=e.getRadius();var n=e.getCenter();var r=n[0];var a=n[1];var o=t[0];var s=t[1];var u=o-r;var l=s-a;if(u===0&&l===0){u=1}var c=Math.sqrt(u*u+l*l);var h=r+i*u/c;var f=a+i*l/c;return[h,f]}function s(t,e){var i=t[0];var n=t[1];var r=e[0];var a=e[1];var o=r[0];var s=r[1];var u=a[0];var l=a[1];var c=u-o;var h=l-s;var f=c===0&&h===0?0:(c*(i-o)+h*(n-s))/(c*c+h*h||0);var d=void 0,p=void 0;if(f<=0){d=o;p=s}else if(f>=1){d=u;p=l}else{d=o+f*c;p=s+f*h}return[d,p]}function u(t){return function(e){return y(e,t)}}function l(t,e,i){var a=Object(n["d"])(e+180,360)-180;var o=Math.abs(3600*a);var s=i||0;var u=Math.pow(10,s);var l=Math.floor(o/3600);var c=Math.floor((o-l*3600)/60);var h=o-l*3600-c*60;h=Math.ceil(h*u)/u;if(h>=60){h=0;c+=1}if(c>=60){c=0;l+=1}return l+"° "+Object(r["b"])(c,2)+"′ "+Object(r["b"])(h,2,s)+"″"+(a==0?"":" "+t.charAt(a<0?1:0))}function c(t,e,i){if(t){return e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i))}else{return""}}function h(t,e){var i=true;for(var n=t.length-1;n>=0;--n){if(t[n]!=e[n]){i=false;break}}return i}function f(t,e){var i=Math.cos(e);var n=Math.sin(e);var r=t[0]*i-t[1]*n;var a=t[1]*i+t[0]*n;t[0]=r;t[1]=a;return t}function d(t,e){t[0]*=e;t[1]*=e;return t}function p(t,e){var i=t[0]-e[0];var n=t[1]-e[1];return i*i+n*n}function v(t,e){return Math.sqrt(p(t,e))}function g(t,e){return p(t,s(t,e))}function m(t,e){if(t){return l("NS",t[1],e)+" "+l("EW",t[0],e)}else{return""}}function y(t,e){return c(t,"{x}, {y}",e)}},function(t,e,i){"use strict";var n=i(268);var r=i(2);var a=i(3);var o=i(19);var s=angular.module("ngeoMap",[]);s.directive_=function(t){return{restrict:"A",link:function e(i,n,s){var u="ngeoMap";var l=s[u];var c=i.$eval(l);r["a"].assertInstanceof(c,o["a"]);c.setTarget(n[0]);var h="ngeoMapManageResize";var f=s[h];var d=i.$eval(f);if(d){var p="ngeoMapResizeTransition";var v=s[p];var g=i.$eval(v);a["a"](t,"resize",function(){if(g){var e=Date.now();var i=true;var n=function n(){c.updateSize();c.renderSync();if(i){t.requestAnimationFrame(n)}if(Date.now()-e>g){i=false}};n()}else{c.updateSize()}})}}}};s.directive_.$inject=["$window"];s.directive("ngeoMap",s.directive_);var u=s;var l=i(162);var c=i(326);var h=angular.module("ngeoResizemap",[]);h.directive_=function(t){var e=1e3;return{restrict:"A",link:function i(n,a,s){var u="ngeoResizemap";var l=s[u];var c=n.$eval(l);r["a"].assertInstanceof(c,o["a"]);var h=s["ngeoResizemapState"];r["a"].assert(h!==undefined);var f=void 0;var d=void 0;var p=function i(){c.updateSize();c.renderSync();if(Date.now()-f<e){d=t.requestAnimationFrame(i)}};a.on("transitionend",function(){c.updateSize();c.renderSync()});n.$watch(h,function(e,i){if(e!=i){f=Date.now();t.cancelAnimationFrame(d);d=t.requestAnimationFrame(p)}})}}};h.directive_.$inject=["$window"];h.directive("ngeoResizemap",h.directive_);var f=h;var d=i(9);var p=i(443);var v=angular.module("ngeoScaleselector",[]);v.value("ngeoScaleselectorTemplateUrl",function(t,e){var i=e["ngeoScaleselectorTemplateurl"];return i!==undefined?i:"ngeo/map/scaleselector"});v.run(["$templateCache",function(t){t.put("ngeo/map/scaleselector",i(442))}]);var g=function t(e){return{restrict:"A",scope:true,controller:"NgeoScaleselectorController",templateUrl:e}};g.$inject=["ngeoScaleselectorTemplateUrl"];g.$inject=["ngeoScaleselectorTemplateUrl"];v.directive("ngeoScaleselector",g);var m=function t(e,i,n){var s=this;var u=n["ngeoScaleselector"];this.scales=e.$eval(u);r["a"].assert(this.scales!==undefined);this.zoomLevels;e.$watch(function(){return Object.keys(s.scales).length},function(t){s.zoomLevels=Object.keys(s.scales).map(Number);s.zoomLevels.sort(d["i"])});var l=n["ngeoScaleselectorMap"];this.map_=e.$eval(l);r["a"].assertInstanceof(this.map_,o["a"]);var c=n["ngeoScaleselectorOptions"];var h=e.$eval(c);this.options=t.getOptions_(h);this.$scope_=e;this.resolutionChangeKey_=null;this.currentScale=undefined;var f=this.map_.getView();if(f!==null){var p=this.map_.getView().getZoom();if(p!==undefined){this.currentScale=this.getScale(p)}}a["a"](this.map_,"change:view",this.handleViewChange_,this);this.registerResolutionChangeListener_();e["scaleselectorCtrl"]=this};m.$inject=["$scope","$element","$attrs"];m.$inject=["$scope","$element","$attrs"];m.getOptions_=function(t){var e=false;if(t!==undefined){e=t["dropup"]==true}return{dropup:e}};m.prototype.getScale=function(t){return this.scales[t]};m.prototype.changeZoom=function(t){this.map_.getView().setZoom(t)};m.prototype.handleResolutionChange_=function(t){var e=this;var i=this.map_.getView();var n=this.scales[i.getZoom()];if(n!==undefined){this.$scope_.$applyAsync(function(){e.currentScale=n})}};m.prototype.handleViewChange_=function(t){this.registerResolutionChangeListener_();this.handleResolutionChange_(null)};m.prototype.registerResolutionChangeListener_=function(){if(this.resolutionChangeKey_!==null){a["e"](this.resolutionChangeKey_)}var t=this.map_.getView();this.resolutionChangeKey_=a["a"](t,"change:resolution",this.handleResolutionChange_,this)};v.controller("NgeoScaleselectorController",m);var y=v;var _=angular.module("ngeoMapModule",[n["a"].module.name,u.name,l["a"].module.name,c["a"].name,f.name,y.name]);var b=e["a"]=_},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(297);function r(t,e){if(!t){throw new n["a"](e)}}},function(t,e,i){"use strict";i.d(e,"e",function(){return a});i.d(e,"d",function(){return u});i.d(e,"a",function(){return l});i.d(e,"c",function(){return f});i.d(e,"b",function(){return d});var n=i(154);var r=i(108);var a=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var o=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var s={};var u={};function l(t,e,i,r){var a=r;if(typeof r==="string"){a=function(){return this[r]()}}if(t){u[t]=a}if(e){u[e[0]]=function(){return Object(n["a"])(a.apply(this,arguments),e[1],e[2])}}if(i){u[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)}}}function c(t){if(t.match(/\[[\s\S]/)){return t.replace(/^\[|\]$/g,"")}return t.replace(/\\/g,"")}function h(t){var e=t.match(a),i,n;for(i=0,n=e.length;i<n;i++){if(u[e[i]]){e[i]=u[e[i]]}else{e[i]=c(e[i])}}return function(i){var a="",o;for(o=0;o<n;o++){a+=Object(r["a"])(e[o])?e[o].call(i,t):e[o]}return a}}function f(t,e){if(!t.isValid()){return t.localeData().invalidDate()}e=d(e,t.localeData());s[e]=s[e]||h(e);return s[e](t)}function d(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}o.lastIndex=0;while(i>=0&&o.test(t)){t=t.replace(o,n);o.lastIndex=0;i-=1}return t}},function(t,e,i){"use strict";var n=i(211);var r=i(1);var a=i(20);var o=i(12);function s(t){return function(e){if(e){return[Object(o["a"])(e[0],t[0],t[2]),Object(o["a"])(e[1],t[1],t[3])]}else{return undefined}}}function u(t){return t}var l=i(30);var c=i(9);function h(t){return function(e,i,n){if(e!==undefined){var r=Object(c["h"])(t,e,n);r=Object(o["a"])(r+i,0,t.length-1);var a=Math.floor(r);if(r!=a&&a<t.length-1){var s=t[a]/t[a+1];return t[a]/Math.pow(s,r-a)}else{return t[a]}}else{return undefined}}}function f(t,e,i){return function(n,r,a){if(n!==undefined){var o=-a/2+.5;var s=Math.floor(Math.log(e/n)/Math.log(t)+o);var u=Math.max(s+r,0);if(i!==undefined){u=Math.min(u,i)}return e/Math.pow(t,u)}else{return undefined}}}var d=i(153);var p=i(56);var v=i(100);var g=i(24);var m=i(22);var y=i(70);var _=i(4);var b=i(8);var w=i(29);var O=i(68);var x=i(11);var S=i(7);var C=i(80);var T=0;var E=function t(e){l["a"].call(this);var i=Object(x["a"])({},e);this.hints_=[0,0];this.animations_=[];this.updateAnimationKey_;this.updateAnimations_=this.updateAnimations_.bind(this);this.projection_=Object(S["e"])(i.projection,"EPSG:3857");this.applyOptions_(i)};Object(r["d"])(E,l["a"]);E.prototype.applyOptions_=function(t){var e={};e[v["a"].CENTER]=t.center!==undefined?t.center:null;var i=j(t);this.maxResolution_=i.maxResolution;this.minResolution_=i.minResolution;this.zoomFactor_=i.zoomFactor;this.resolutions_=t.resolutions;this.minZoom_=i.minZoom;var n=M(t);var r=i.constraint;var a=k(t);this.constraints_={center:n,resolution:r,rotation:a};if(t.resolution!==undefined){e[v["a"].RESOLUTION]=t.resolution}else if(t.zoom!==undefined){e[v["a"].RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_);if(this.resolutions_){e[v["a"].RESOLUTION]=Object(o["a"])(Number(this.getResolution()||e[v["a"].RESOLUTION]),this.minResolution_,this.maxResolution_)}}e[v["a"].ROTATION]=t.rotation!==undefined?t.rotation:0;this.setProperties(e);this.options_=t};E.prototype.getUpdatedOptions_=function(t){var e=Object(x["a"])({},this.options_);if(e.resolution!==undefined){e.resolution=this.getResolution()}else{e.zoom=this.getZoom()}e.center=this.getCenter();e.rotation=this.getRotation();return Object(x["a"])({},e,t)};E.prototype.animate=function(t){var e=arguments.length;var i=void 0;if(e>1&&typeof arguments[e-1]==="function"){i=arguments[e-1];--e}if(!this.isDef()){var n=arguments[e-1];if(n.center){this.setCenter(n.center)}if(n.zoom!==undefined){this.setZoom(n.zoom)}if(n.rotation!==undefined){this.setRotation(n.rotation)}if(i){setTimeout(function(){i(true)},0)}return}var r=Date.now();var a=this.getCenter().slice();var s=this.getResolution();var u=this.getRotation();var l=[];for(var c=0;c<e;++c){var h=arguments[c];var f={start:r,complete:false,anchor:h.anchor,duration:h.duration!==undefined?h.duration:1e3,easing:h.easing||y["c"]};if(h.center){f.sourceCenter=a;f.targetCenter=h.center;a=f.targetCenter}if(h.zoom!==undefined){f.sourceResolution=s;f.targetResolution=this.constrainResolution(this.maxResolution_,h.zoom-this.minZoom_,0);s=f.targetResolution}else if(h.resolution){f.sourceResolution=s;f.targetResolution=h.resolution;s=f.targetResolution}if(h.rotation!==undefined){f.sourceRotation=u;var d=Object(o["d"])(h.rotation-u+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=u+d;u=f.targetRotation}f.callback=i;if(R(f)){f.complete=true}else{r+=f.duration}l.push(f)}this.animations_.push(l);this.setHint(p["a"].ANIMATING,1);this.updateAnimations_()};E.prototype.getAnimating=function(){return this.hints_[p["a"].ANIMATING]>0};E.prototype.getInteracting=function(){return this.hints_[p["a"].INTERACTING]>0};E.prototype.cancelAnimations=function(){this.setHint(p["a"].ANIMATING,-this.hints_[p["a"].ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];if(i[0].callback){i[0].callback(false)}}this.animations_.length=0};E.prototype.updateAnimations_=function(){var t=this;if(this.updateAnimationKey_!==undefined){cancelAnimationFrame(this.updateAnimationKey_);this.updateAnimationKey_=undefined}if(!this.getAnimating()){return}var e=Date.now();var i=false;for(var n=this.animations_.length-1;n>=0;--n){var r=this.animations_[n];var a=true;for(var s=0,u=r.length;s<u;++s){var l=r[s];if(l.complete){continue}var c=e-l.start;var h=l.duration>0?c/l.duration:1;if(h>=1){l.complete=true;h=1}else{a=false}var f=l.easing(h);if(l.sourceCenter){var d=l.sourceCenter[0];var g=l.sourceCenter[1];var m=l.targetCenter[0];var y=l.targetCenter[1];var _=d+f*(m-d);var b=g+f*(y-g);this.set(v["a"].CENTER,[_,b])}if(l.sourceResolution&&l.targetResolution){var w=f===1?l.targetResolution:l.sourceResolution+f*(l.targetResolution-l.sourceResolution);if(l.anchor){this.set(v["a"].CENTER,this.calculateCenterZoom(w,l.anchor))}this.set(v["a"].RESOLUTION,w)}if(l.sourceRotation!==undefined&&l.targetRotation!==undefined){var O=f===1?Object(o["d"])(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+f*(l.targetRotation-l.sourceRotation);if(l.anchor){this.set(v["a"].CENTER,this.calculateCenterRotate(O,l.anchor))}this.set(v["a"].ROTATION,O)}i=true;if(!l.complete){break}}if(a){(function(){t.animations_[n]=null;t.setHint(p["a"].ANIMATING,-1);var e=r[0].callback;if(e){setTimeout(function(){e(true)},0)}})()}}this.animations_=this.animations_.filter(Boolean);if(i&&this.updateAnimationKey_===undefined){this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_)}};E.prototype.calculateCenterRotate=function(t,e){var i=void 0;var n=this.getCenter();if(n!==undefined){i=[n[0]-e[0],n[1]-e[1]];Object(m["f"])(i,t-this.getRotation());Object(m["a"])(i,e)}return i};E.prototype.calculateCenterZoom=function(t,e){var i=void 0;var n=this.getCenter();var r=this.getResolution();if(n!==undefined&&r!==undefined){var a=e[0]-t*(e[0]-n[0])/r;var o=e[1]-t*(e[1]-n[1])/r;i=[a,o]}return i};E.prototype.getSizeFromViewport_=function(){var t=[100,100];var e='.ol-viewport[data-view="'+Object(r["c"])(this)+'"]';var i=document.querySelector(e);if(i){var n=getComputedStyle(i);t[0]=parseInt(n.width,10);t[1]=parseInt(n.height,10)}return t};E.prototype.constrainCenter=function(t){return this.constraints_.center(t)};E.prototype.constrainResolution=function(t,e,i){var n=e||0;var r=i||0;return this.constraints_.resolution(t,n,r)};E.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)};E.prototype.getCenter=function(){return this.get(v["a"].CENTER)};E.prototype.getConstraints=function(){return this.constraints_};E.prototype.getHints=function(t){if(t!==undefined){t[0]=this.hints_[0];t[1]=this.hints_[1];return t}else{return this.hints_.slice()}};E.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_();var i=this.getCenter();Object(g["a"])(i,1);var n=this.getResolution();Object(g["a"])(n!==undefined,2);var r=this.getRotation();Object(g["a"])(r!==undefined,3);return Object(_["z"])(i,n,r,e)};E.prototype.getMaxResolution=function(){return this.maxResolution_};E.prototype.getMinResolution=function(){return this.minResolution_};E.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};E.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))};E.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};E.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))};E.prototype.getProjection=function(){return this.projection_};E.prototype.getResolution=function(){return this.get(v["a"].RESOLUTION)};E.prototype.getResolutions=function(){return this.resolutions_};E.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_();var n=Object(_["E"])(t)/i[0];var r=Object(_["A"])(t)/i[1];return Math.max(n,r)};E.prototype.getResolutionForValueFunction=function(t){var e=t||2;var i=this.maxResolution_;var n=this.minResolution_;var r=Math.log(i/n)/Math.log(e);return function(t){var n=i/Math.pow(e,t*r);return n}};E.prototype.getRotation=function(){return this.get(v["a"].ROTATION)};E.prototype.getValueForResolutionFunction=function(t){var e=t||2;var i=this.maxResolution_;var n=this.minResolution_;var r=Math.log(i/n)/Math.log(e);return function(t){var n=Math.log(i/t)/Math.log(e)/r;return n}};E.prototype.getState=function(){var t=this.getCenter();var e=this.getProjection();var i=this.getResolution();var n=this.getRotation();return{center:t.slice(),projection:e!==undefined?e:null,resolution:i,rotation:n,zoom:this.getZoom()}};E.prototype.getZoom=function(){var t=void 0;var e=this.getResolution();if(e!==undefined){t=this.getZoomForResolution(e)}return t};E.prototype.getZoomForResolution=function(t){var e=this.minZoom_||0;var i=void 0,n=void 0;if(this.resolutions_){var r=Object(c["h"])(this.resolutions_,t,1);e=r;i=this.resolutions_[r];if(r==this.resolutions_.length-1){n=2}else{n=i/this.resolutions_[r+1]}}else{i=this.maxResolution_;n=this.zoomFactor_}return e+Math.log(i/t)/Math.log(n)};E.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)};E.prototype.fit=function(t,e){var i=e||{};var n=i.size;if(!n){n=this.getSizeFromViewport_()}var r=void 0;if(!(t instanceof O["a"])){Object(g["a"])(Array.isArray(t),24);Object(g["a"])(!Object(_["H"])(t),25);r=Object(w["d"])(t)}else if(t.getType()===b["a"].CIRCLE){t=t.getExtent();r=Object(w["d"])(t);r.rotate(this.getRotation(),Object(_["x"])(t))}else{r=t}var o=i.padding!==undefined?i.padding:[0,0,0,0];var s=i.constrainResolution!==undefined?i.constrainResolution:true;var u=i.nearest!==undefined?i.nearest:false;var l=void 0;if(i.minResolution!==undefined){l=i.minResolution}else if(i.maxZoom!==undefined){l=this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0)}else{l=0}var c=r.getFlatCoordinates();var h=this.getRotation();var f=Math.cos(-h);var d=Math.sin(-h);var p=+Infinity;var v=+Infinity;var m=-Infinity;var y=-Infinity;var x=r.getStride();for(var S=0,C=c.length;S<C;S+=x){var T=c[S]*f-c[S+1]*d;var E=c[S]*d+c[S+1]*f;p=Math.min(p,T);v=Math.min(v,E);m=Math.max(m,T);y=Math.max(y,E)}var M=this.getResolutionForExtent([p,v,m,y],[n[0]-o[1]-o[3],n[1]-o[0]-o[2]]);M=isNaN(M)?l:Math.max(M,l);if(s){var j=this.constrainResolution(M,0,0);if(!u&&j<M){j=this.constrainResolution(j,-1,0)}M=j}d=-d;var k=(p+m)/2;var R=(v+y)/2;k+=(o[1]-o[3])/2*M;R+=(o[0]-o[2])/2*M;var A=k*f-R*d;var I=R*f+k*d;var P=[A,I];var D=i.callback?i.callback:a["c"];if(i.duration!==undefined){this.animate({resolution:M,center:P,duration:i.duration,easing:i.easing},D)}else{this.setResolution(M);this.setCenter(P);setTimeout(D.bind(undefined,true),0)}};E.prototype.centerOn=function(t,e,i){var n=this.getRotation();var r=Math.cos(-n);var a=Math.sin(-n);var o=t[0]*r-t[1]*a;var s=t[1]*r+t[0]*a;var u=this.getResolution();o+=(e[0]/2-i[0])*u;s+=(i[1]-e[1]/2)*u;a=-a;var l=o*r-s*a;var c=s*r+o*a;this.setCenter([l,c])};E.prototype.isDef=function(){return!!this.getCenter()&&this.getResolution()!==undefined};E.prototype.rotate=function(t,e){if(e!==undefined){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)};E.prototype.setCenter=function(t){this.set(v["a"].CENTER,t);if(this.getAnimating()){this.cancelAnimations()}};E.prototype.setHint=function(t,e){this.hints_[t]+=e;this.changed();return this.hints_[t]};E.prototype.setResolution=function(t){this.set(v["a"].RESOLUTION,t);if(this.getAnimating()){this.cancelAnimations()}};E.prototype.setRotation=function(t){this.set(v["a"].ROTATION,t);if(this.getAnimating()){this.cancelAnimations()}};E.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))};function M(t){if(t.extent!==undefined){return s(t.extent)}else{return u}}function j(t){var e=void 0;var i=void 0;var r=void 0;var a=28;var o=2;var s=t.minZoom!==undefined?t.minZoom:T;var u=t.maxZoom!==undefined?t.maxZoom:a;var l=t.zoomFactor!==undefined?t.zoomFactor:o;if(t.resolutions!==undefined){var c=t.resolutions;i=c[s];r=c[u]!==undefined?c[u]:c[c.length-1];e=h(c)}else{var d=Object(S["e"])(t.projection,"EPSG:3857");var p=d.getExtent();var v=!p?360*S["a"][C["b"].DEGREES]/d.getMetersPerUnit():Math.max(Object(_["E"])(p),Object(_["A"])(p));var g=v/n["b"]/Math.pow(o,T);var m=g/Math.pow(o,a-T);i=t.maxResolution;if(i!==undefined){s=0}else{i=g/Math.pow(l,s)}r=t.minResolution;if(r===undefined){if(t.maxZoom!==undefined){if(t.maxResolution!==undefined){r=i/Math.pow(l,u)}else{r=g/Math.pow(l,u)}}else{r=m}}u=s+Math.floor(Math.log(i/r)/Math.log(l));r=i/Math.pow(l,u-s);e=f(l,i,u-s)}return{constraint:e,maxResolution:i,minResolution:r,minZoom:s,zoomFactor:l}}function k(t){var e=t.enableRotation!==undefined?t.enableRotation:true;if(e){var i=t.constrainRotation;if(i===undefined||i===true){return Object(d["b"])()}else if(i===false){return d["d"]}else if(typeof i==="number"){return Object(d["a"])(i)}else{return d["d"]}}else{return d["c"]}}function R(t){if(t.sourceCenter&&t.targetCenter){if(!Object(m["e"])(t.sourceCenter,t.targetCenter)){return false}}if(t.sourceResolution!==t.targetResolution){return false}if(t.sourceRotation!==t.targetRotation){return false}return true}var A=e["a"]=E},function(t,e,i){"use strict";i.d(e,"a",function(){return p});i.d(e,"c",function(){return g});var n=i(1);var r=i(20);var a=i(48);var o=i(111);var s=i(36);var u=i(11);var l=r["c"];var c=r["a"];var h=r["a"];var f=r["c"];var d=function t(e){var i=e?e:{};s["a"].call(this,{handleEvent:i.handleEvent||g});this.handleDownEvent_=i.handleDownEvent?i.handleDownEvent:h;this.handleDragEvent_=i.handleDragEvent?i.handleDragEvent:l;this.handleMoveEvent_=i.handleMoveEvent?i.handleMoveEvent:f;this.handleUpEvent_=i.handleUpEvent?i.handleUpEvent:c;this.handlingDownUpSequence=false;this.trackedPointers_={};this.targetPointers=[]};Object(n["d"])(d,s["a"]);function p(t){var e=t.length;var i=0;var n=0;for(var r=0;r<e;r++){i+=t[r].clientX;n+=t[r].clientY}return[i/e,n/e]}function v(t){var e=t.type;return e===a["a"].POINTERDOWN||e===a["a"].POINTERDRAG||e===a["a"].POINTERUP}d.prototype.updateTrackedPointers_=function(t){if(v(t)){var e=t.pointerEvent;var i=e.pointerId.toString();if(t.type==a["a"].POINTERUP){delete this.trackedPointers_[i]}else if(t.type==a["a"].POINTERDOWN){this.trackedPointers_[i]=e}else if(i in this.trackedPointers_){this.trackedPointers_[i]=e}this.targetPointers=Object(u["c"])(this.trackedPointers_)}};function g(t){if(!(t instanceof o["a"])){return true}var e=false;this.updateTrackedPointers_(t);if(this.handlingDownUpSequence){if(t.type==a["a"].POINTERDRAG){this.handleDragEvent_(t)}else if(t.type==a["a"].POINTERUP){var i=this.handleUpEvent_(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else{if(t.type==a["a"].POINTERDOWN){var n=this.handleDownEvent_(t);this.handlingDownUpSequence=n;e=this.shouldStopEvent(n)}else if(t.type==a["a"].POINTERMOVE){this.handleMoveEvent_(t)}}return!e}d.prototype.shouldStopEvent=function(t){return t};e["b"]=d},function(t,e,i){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,i){"use strict";i.d(e,"a",function(){return x});i.d(e,"d",function(){return S});i.d(e,"c",function(){return C});i.d(e,"e",function(){return T});var n=i(1);var r=i(9);var a=i(4);var o=i(21);var s=i(8);var u=i(246);var l=i(32);var c=i(68);var h=i(197);var f=i(229);var d=i(130);var p=i(152);var v=i(121);var g=i(125);var m=i(296);var y=i(192);var _=i(199);var b=i(143);var w=i(12);var O=function t(e,i){c["a"].call(this);this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(e,i)};Object(n["d"])(O,c["a"]);O.prototype.appendLinearRing=function(t){if(!this.flatCoordinates){this.flatCoordinates=t.getFlatCoordinates().slice()}else{Object(r["c"])(this.flatCoordinates,t.getFlatCoordinates())}this.ends_.push(this.flatCoordinates.length);this.changed()};O.prototype.clone=function(){var t=new O(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return t};O.prototype.closestPointXY=function(t,e,i,n){if(n<Object(a["e"])(this.getExtent(),t,e)){return n}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(d["a"])(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(d["b"])(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,true,t,e,i,n)};O.prototype.containsXY=function(t,e){return Object(p["c"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)};O.prototype.getArea=function(){return Object(f["b"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};O.prototype.getCoordinates=function(t){var e=void 0;if(t!==undefined){e=this.getOrientedFlatCoordinates().slice();Object(_["c"])(e,0,this.ends_,this.stride,t)}else{e=this.flatCoordinates}return Object(g["b"])(e,0,this.ends_,this.stride)};O.prototype.getEnds=function(){return this.ends_};O.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(a["x"])(this.getExtent());this.flatInteriorPoint_=Object(m["a"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};O.prototype.getInteriorPoint=function(){return new l["a"](this.getFlatInteriorPoint(),o["a"].XYM)};O.prototype.getLinearRingCount=function(){return this.ends_.length};O.prototype.getLinearRing=function(t){if(t<0||this.ends_.length<=t){return null}var e=new u["a"](null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]));return e};O.prototype.getLinearRings=function(){var t=this.layout;var e=this.flatCoordinates;var i=this.ends_;var n=[];var r=0;for(var a=0,o=i.length;a<o;++a){var s=i[a];var l=new u["a"](null);l.setFlatCoordinates(t,e.slice(r,s));n.push(l);r=s}return n};O.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;if(Object(_["a"])(t,0,this.ends_,this.stride)){this.orientedFlatCoordinates_=t}else{this.orientedFlatCoordinates_=t.slice();this.orientedFlatCoordinates_.length=Object(_["c"])(this.orientedFlatCoordinates_,0,this.ends_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};O.prototype.getSimplifiedGeometryInternal=function(t){var e=[];var i=[];e.length=Object(b["c"])(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i);var n=new O(null);n.setFlatCoordinates(o["a"].XY,e,i);return n};O.prototype.getType=function(){return s["a"].POLYGON};O.prototype.intersectsExtent=function(t){return Object(y["c"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)};O.prototype.setCoordinates=function(t,e){if(!t){this.setFlatCoordinates(o["a"].XY,null,this.ends_)}else{this.setLayout(e,t,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var i=Object(v["c"])(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1];this.changed()}};O.prototype.setFlatCoordinates=function(t,e,i){this.setFlatCoordinatesInternal(t,e);this.ends_=i;this.changed()};e["b"]=O;function x(t,e,i,n){var a=i?i:32;var s=[];for(var u=0;u<a;++u){Object(r["c"])(s,Object(h["c"])(t,e,2*Math.PI*u/a,n))}s.push(s[0],s[1]);var l=new O(null);l.setFlatCoordinates(o["a"].XY,s,[s.length]);return l}function S(t){var e=t[0];var i=t[1];var n=t[2];var r=t[3];var a=[e,i,e,r,n,r,n,i,e,i];var s=new O(null);s.setFlatCoordinates(o["a"].XY,a,[a.length]);return s}function C(t,e,i){var n=e?e:32;var r=t.getStride();var a=t.getLayout();var o=new O(null,a);var s=r*(n+1);var u=new Array(s);for(var l=0;l<s;l++){u[l]=0}var c=[u.length];o.setFlatCoordinates(a,u,c);T(o,t.getCenter(),t.getRadius(),i);return o}function T(t,e,i,n){var r=t.getFlatCoordinates();var a=t.getLayout();var o=t.getStride();var s=t.getEnds();var u=r.length/o-1;var l=n?n:0;for(var c=0;c<=u;++c){var h=c*o;var f=l+Object(w["d"])(c,u)*2*Math.PI/u;r[h]=e[0]+i*Math.cos(f);r[h+1]=e[1]+i*Math.sin(f)}t.setFlatCoordinates(a,r,s)}},function(t,e,i){"use strict";i.d(e,"b",function(){return h});var n=i(1);var r=i(148);var a=i(75);var o=i(40);var s=i(11);var u=function t(e,i,n){o["a"].call(this,e);this.key=i;this.oldValue=n};Object(n["d"])(u,o["a"]);var l=function t(e){a["a"].call(this);Object(n["c"])(this);this.values_={};if(e!==undefined){this.setProperties(e)}};Object(n["d"])(l,a["a"]);var c={};function h(t){return c.hasOwnProperty(t)?c[t]:c[t]="change:"+t}l.prototype.get=function(t){var e=void 0;if(this.values_.hasOwnProperty(t)){e=this.values_[t]}return e};l.prototype.getKeys=function(){return Object.keys(this.values_)};l.prototype.getProperties=function(){return Object(s["a"])({},this.values_)};l.prototype.notify=function(t,e){var i=void 0;i=h(t);this.dispatchEvent(new u(i,t,e));i=r["a"].PROPERTYCHANGE;this.dispatchEvent(new u(i,t,e))};l.prototype.set=function(t,e,i){if(i){this.values_[t]=e}else{var n=this.values_[t];this.values_[t]=e;if(n!==e){this.notify(t,n)}}};l.prototype.setProperties=function(t,e){for(var i in t){this.set(i,t[i],e)}};l.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t];if(!e){this.notify(t,i)}}};e["a"]=l},function(t,e,i){"use strict";var n={CIRCLE:"Circle",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",MULTI_POINT:"MultiPoint",MULTI_POLYGON:"MultiPolygon",POINT:"Point",POLYGON:"Polygon",RECTANGLE:"Rectangle",TEXT:"Text"};e["a"]=n},function(t,e,i){"use strict";var n=i(1);var r=i(4);var a=i(21);var o=i(8);var s=i(68);var u=i(121);var l=i(12);var c=function t(e,i){s["a"].call(this);this.setCoordinates(e,i)};Object(n["d"])(c,s["a"]);c.prototype.clone=function(){var t=new c(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return t};c.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates;var a=Object(l["f"])(t,e,r[0],r[1]);if(a<n){var o=this.stride;for(var s=0;s<o;++s){i[s]=r[s]}i.length=o;return a}else{return n}};c.prototype.getCoordinates=function(){return!this.flatCoordinates?[]:this.flatCoordinates.slice()};c.prototype.computeExtent=function(t){return Object(r["m"])(this.flatCoordinates,t)};c.prototype.getType=function(){return o["a"].POINT};c.prototype.intersectsExtent=function(t){return Object(r["h"])(t,this.flatCoordinates[0],this.flatCoordinates[1])};c.prototype.setCoordinates=function(t,e){if(!t){this.setFlatCoordinates(a["a"].XY,null)}else{this.setLayout(e,t,0);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=Object(u["a"])(this.flatCoordinates,0,t,this.stride);this.changed()}};c.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e);this.changed()};e["a"]=c},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(1);var r=i(297);var a=i(76);var o=i(30);var s=i(40);var u={LENGTH:"length"};var l=function t(e,i){s["a"].call(this,e);this.element=i};Object(n["d"])(l,s["a"]);var c=function t(e,i){o["a"].call(this);var n=i||{};this.unique_=!!n.unique;this.array_=e?e:[];if(this.unique_){for(var r=0,a=this.array_.length;r<a;++r){this.assertUnique_(this.array_[r],r)}}this.updateLength_()};Object(n["d"])(c,o["a"]);c.prototype.clear=function(){while(this.getLength()>0){this.pop()}};c.prototype.extend=function(t){var e=void 0,i=void 0;for(e=0,i=t.length;e<i;++e){this.push(t[e])}return this};c.prototype.forEach=function(t){var e=this.array_;for(var i=0,n=e.length;i<n;++i){t(e[i],i,e)}};c.prototype.getArray=function(){return this.array_};c.prototype.item=function(t){return this.array_[t]};c.prototype.getLength=function(){return this.get(u.LENGTH)};c.prototype.insertAt=function(t,e){if(this.unique_){this.assertUnique_(e)}this.array_.splice(t,0,e);this.updateLength_();this.dispatchEvent(new l(a["a"].ADD,e))};c.prototype.pop=function(){return this.removeAt(this.getLength()-1)};c.prototype.push=function(t){if(this.unique_){this.assertUnique_(t)}var e=this.getLength();this.insertAt(e,t);return this.getLength()};c.prototype.remove=function(t){var e=this.array_;var i=void 0,n=void 0;for(i=0,n=e.length;i<n;++i){if(e[i]===t){return this.removeAt(i)}}return undefined};c.prototype.removeAt=function(t){var e=this.array_[t];this.array_.splice(t,1);this.updateLength_();this.dispatchEvent(new l(a["a"].REMOVE,e));return e};c.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){if(this.unique_){this.assertUnique_(e,t)}var n=this.array_[t];this.array_[t]=e;this.dispatchEvent(new l(a["a"].REMOVE,n));this.dispatchEvent(new l(a["a"].ADD,e))}else{var r=void 0;for(r=i;r<t;++r){this.insertAt(r,undefined)}this.insertAt(t,e)}};c.prototype.updateLength_=function(){this.set(u.LENGTH,this.array_.length)};c.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i){if(this.array_[i]===t&&i!==e){throw new r["a"](58)}}};e["b"]=c},function(t,e,i){"use strict";var n=i(1);var r=i(33);var a=i(76);var o=i(148);var s=i(9);var u=i(24);var l=i(3);var c=i(40);var h=i(10);var f=i(4);var d=i(20);var p=i(151);function v(t,e,i,n){return function(r,a,o){var s=new XMLHttpRequest;s.open("GET",typeof t==="function"?t(r,a,o):t,true);if(e.getType()==p["a"].ARRAY_BUFFER){s.responseType="arraybuffer"}s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType();var a=void 0;if(r==p["a"].JSON||r==p["a"].TEXT){a=s.responseText}else if(r==p["a"].XML){a=s.responseXML;if(!a){a=(new DOMParser).parseFromString(s.responseText,"application/xml")}}else if(r==p["a"].ARRAY_BUFFER){a=s.response}if(a){i.call(this,e.readFeatures(a,{featureProjection:o}),e.readProjection(a),e.getLastExtent())}else{n.call(this)}}else{n.call(this)}}.bind(this);s.onerror=function(){n.call(this)}.bind(this);s.send()}}function g(t,e){return v(t,e,function(t,e){this.addFeatures(t)},d["c"])}function m(t,e){return[[-Infinity,-Infinity,Infinity,Infinity]]}function y(t,e){return[t]}function _(t){return function(e,i){var n=t.getZForResolution(i);var r=t.getTileRangeForExtentAndZ(e,n);var a=[];var o=[n,0,0];for(o[1]=r.minX;o[1]<=r.maxX;++o[1]){for(o[2]=r.minY;o[2]<=r.maxY;++o[2]){a.push(t.getTileCoordExtent(o))}}return a}}var b=i(11);var w=i(179);var O=i(142);var x=i(136);var S=i(177);i.d(e,"a",function(){return C});var C=function t(e,i){c["a"].call(this,e);this.feature=i};Object(n["d"])(C,c["a"]);var T=function t(e){var i=e||{};w["a"].call(this,{attributions:i.attributions,projection:undefined,state:O["a"].READY,wrapX:i.wrapX!==undefined?i.wrapX:true});this.loader_=d["c"];this.format_=i.format;this.overlaps_=i.overlaps==undefined?true:i.overlaps;this.url_=i.url;if(i.loader!==undefined){this.loader_=i.loader}else if(this.url_!==undefined){Object(u["a"])(this.format_,7);this.loader_=g(this.url_,this.format_)}this.strategy_=i.strategy!==undefined?i.strategy:m;var n=i.useSpatialIndex!==undefined?i.useSpatialIndex:true;this.featuresRtree_=n?new S["a"]:null;this.loadedExtentsRtree_=new S["a"];this.nullGeometryFeatures_={};this.idIndex_={};this.undefIdIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;var a=void 0,o=void 0;if(i.features instanceof r["b"]){a=i.features;o=a.getArray()}else if(Array.isArray(i.features)){o=i.features}if(!n&&a===undefined){a=new r["b"](o)}if(o!==undefined){this.addFeaturesInternal(o)}if(a!==undefined){this.bindFeaturesCollection_(a)}};Object(n["d"])(T,w["a"]);T.prototype.addFeature=function(t){this.addFeatureInternal(t);this.changed()};T.prototype.addFeatureInternal=function(t){var e=Object(n["c"])(t).toString();if(!this.addToIndex_(e,t)){return}this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var r=i.getExtent();if(this.featuresRtree_){this.featuresRtree_.insert(r,t)}}else{this.nullGeometryFeatures_[e]=t}this.dispatchEvent(new C(x["a"].ADDFEATURE,t))};T.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(l["a"])(e,h["a"].CHANGE,this.handleFeatureChange_,this),Object(l["a"])(e,o["a"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};T.prototype.addToIndex_=function(t,e){var i=true;var n=e.getId();if(n!==undefined){if(!(n.toString()in this.idIndex_)){this.idIndex_[n.toString()]=e}else{i=false}}else{Object(u["a"])(!(t in this.undefIdIndex_),30);this.undefIdIndex_[t]=e}return i};T.prototype.addFeatures=function(t){this.addFeaturesInternal(t);this.changed()};T.prototype.addFeaturesInternal=function(t){var e=[];var i=[];var r=[];for(var a=0,o=t.length;a<o;a++){var s=t[a];var u=Object(n["c"])(s).toString();if(this.addToIndex_(u,s)){i.push(s)}}for(var l=0,c=i.length;l<c;l++){var h=i[l];var f=Object(n["c"])(h).toString();this.setupChangeEvents_(f,h);var d=h.getGeometry();if(d){var p=d.getExtent();e.push(p);r.push(h)}else{this.nullGeometryFeatures_[f]=h}}if(this.featuresRtree_){this.featuresRtree_.load(e,r)}for(var v=0,g=i.length;v<g;v++){this.dispatchEvent(new C(x["a"].ADDFEATURE,i[v]))}};T.prototype.bindFeaturesCollection_=function(t){var e=false;Object(l["a"])(this,x["a"].ADDFEATURE,function(i){if(!e){e=true;t.push(i.feature);e=false}});Object(l["a"])(this,x["a"].REMOVEFEATURE,function(i){if(!e){e=true;t.remove(i.feature);e=false}});Object(l["a"])(t,a["a"].ADD,function(t){if(!e){e=true;this.addFeature(t.element);e=false}},this);Object(l["a"])(t,a["a"].REMOVE,function(t){if(!e){e=true;this.removeFeature(t.element);e=false}},this);this.featuresCollection_=t};T.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var i=this.featureChangeKeys_[e];i.forEach(l["e"])}if(!this.featuresCollection_){this.featureChangeKeys_={};this.idIndex_={};this.undefIdIndex_={}}}else{if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var n in this.nullGeometryFeatures_){this.removeFeatureInternal(this.nullGeometryFeatures_[n])}}}if(this.featuresCollection_){this.featuresCollection_.clear()}if(this.featuresRtree_){this.featuresRtree_.clear()}this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_={};var r=new C(x["a"].CLEAR);this.dispatchEvent(r);this.changed()};T.prototype.forEachFeature=function(t){if(this.featuresRtree_){return this.featuresRtree_.forEach(t)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(t)}};T.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(i){var n=i.getGeometry();if(n.intersectsCoordinate(t)){return e(i)}else{return undefined}})};T.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_){return this.featuresRtree_.forEachInExtent(t,e)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(e)}};T.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){var n=i.getGeometry();if(n.intersectsExtent(t)){var r=e(i);if(r){return r}}})};T.prototype.getFeaturesCollection=function(){return this.featuresCollection_};T.prototype.getFeatures=function(){var t=void 0;if(this.featuresCollection_){t=this.featuresCollection_.getArray()}else if(this.featuresRtree_){t=this.featuresRtree_.getAll();if(!Object(b["d"])(this.nullGeometryFeatures_)){Object(s["c"])(t,Object(b["c"])(this.nullGeometryFeatures_))}}return t};T.prototype.getFeaturesAtCoordinate=function(t){var e=[];this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)});return e};T.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)};T.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0];var n=t[1];var r=null;var a=[NaN,NaN];var o=Infinity;var s=[-Infinity,-Infinity,Infinity,Infinity];var u=e?e:d["b"];this.featuresRtree_.forEachInExtent(s,function(t){if(u(t)){var e=t.getGeometry();var l=o;o=e.closestPointXY(i,n,a,o);if(o<l){r=t;var c=Math.sqrt(o);s[0]=i-c;s[1]=n-c;s[2]=i+c;s[3]=n+c}}});return r};T.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)};T.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return e!==undefined?e:null};T.prototype.getFormat=function(){return this.format_};T.prototype.getOverlaps=function(){return this.overlaps_};T.prototype.getResolutions=function(){};T.prototype.getUrl=function(){return this.url_};T.prototype.handleFeatureChange_=function(t){var e=t.target;var i=Object(n["c"])(e).toString();var r=e.getGeometry();if(!r){if(!(i in this.nullGeometryFeatures_)){if(this.featuresRtree_){this.featuresRtree_.remove(e)}this.nullGeometryFeatures_[i]=e}}else{var a=r.getExtent();if(i in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[i];if(this.featuresRtree_){this.featuresRtree_.insert(a,e)}}else{if(this.featuresRtree_){this.featuresRtree_.update(a,e)}}}var o=e.getId();if(o!==undefined){var s=o.toString();if(i in this.undefIdIndex_){delete this.undefIdIndex_[i];this.idIndex_[s]=e}else{if(this.idIndex_[s]!==e){this.removeFromIdIndex_(e);this.idIndex_[s]=e}}}else{if(!(i in this.undefIdIndex_)){this.removeFromIdIndex_(e);this.undefIdIndex_[i]=e}}this.changed();this.dispatchEvent(new C(x["a"].CHANGEFEATURE,e))};T.prototype.hasFeature=function(t){var e=t.getId();if(e!==undefined){return e in this.idIndex_}else{var i=Object(n["c"])(t).toString();return i in this.undefIdIndex_}};T.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(b["d"])(this.nullGeometryFeatures_)};T.prototype.loadFeatures=function(t,e,i){var n=this;var r=this.loadedExtentsRtree_;var a=this.strategy_(t,e);var o=function t(o,s){var u=a[o];var l=r.forEachInExtent(u,function(t){return Object(f["g"])(t.extent,u)});if(!l){n.loader_.call(n,u,e,i);r.insert(u,{extent:u.slice()})}};for(var s=0,u=a.length;s<u;++s){o(s,u)}};T.prototype.removeLoadedExtent=function(t){var e=this.loadedExtentsRtree_;var i=void 0;e.forEachInExtent(t,function(e){if(Object(f["p"])(e.extent,t)){i=e;return true}});if(i){e.remove(i)}};T.prototype.removeFeature=function(t){var e=Object(n["c"])(t).toString();if(e in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[e]}else{if(this.featuresRtree_){this.featuresRtree_.remove(t)}}this.removeFeatureInternal(t);this.changed()};T.prototype.removeFeatureInternal=function(t){var e=Object(n["c"])(t).toString();this.featureChangeKeys_[e].forEach(l["e"]);delete this.featureChangeKeys_[e];var i=t.getId();if(i!==undefined){delete this.idIndex_[i.toString()]}else{delete this.undefIdIndex_[e]}this.dispatchEvent(new C(x["a"].REMOVEFEATURE,t))};T.prototype.removeFromIdIndex_=function(t){var e=false;for(var i in this.idIndex_){if(this.idIndex_[i]===t){delete this.idIndex_[i];e=true;break}}return e};T.prototype.setLoader=function(t){this.loader_=t};var E=e["b"]=T},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(1);var r=i(230);var a="&copy; "+'<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> '+"contributors.";var o=function t(e){var i=e||{};var n=void 0;if(i.attributions!==undefined){n=i.attributions}else{n=[a]}var o=i.crossOrigin!==undefined?i.crossOrigin:"anonymous";var s=i.url!==undefined?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";r["a"].call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:o,opaque:i.opaque!==undefined?i.opaque:true,maxZoom:i.maxZoom!==undefined?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:s,wrapX:i.wrapX})};Object(n["d"])(o,r["a"]);e["b"]=o},function(t,e,i){"use strict";i.d(e,"b",function(){return l});i.d(e,"c",function(){return c});i.d(e,"d",function(){return h});i.d(e,"e",function(){return f});i.d(e,"f",function(){return d});i.d(e,"g",function(){return p});var n=i(1);var r=i(30);var a=i(70);var o=i(208);var s=i(12);var u=function t(e){r["a"].call(this);this.map_=null;this.setActive(true);this.handleEvent=e.handleEvent};Object(n["d"])(u,r["a"]);u.prototype.getActive=function(){return this.get(o["a"].ACTIVE)};u.prototype.getMap=function(){return this.map_};u.prototype.setActive=function(t){this.set(o["a"].ACTIVE,t)};u.prototype.setMap=function(t){this.map_=t};function l(t,e,i){var n=t.getCenter();if(n){var r=t.constrainCenter([n[0]+e[0],n[1]+e[1]]);if(i){t.animate({duration:i,easing:a["d"],center:r})}else{t.setCenter(r)}}}function c(t,e,i,n){e=t.constrainRotation(e,0);h(t,e,i,n)}function h(t,e,i,n){if(e!==undefined){var r=t.getRotation();var o=t.getCenter();if(r!==undefined&&o&&n>0){t.animate({rotation:e,anchor:i,duration:n,easing:a["b"]})}else{t.rotate(e,i)}}}function f(t,e,i,n,r){e=t.constrainResolution(e,0,r);p(t,e,i,n)}function d(t,e,i,n){var r=t.getResolution();var a=t.constrainResolution(r,e,0);if(a!==undefined){var o=t.getResolutions();a=Object(s["a"])(a,t.getMinResolution()||o[o.length-1],t.getMaxResolution()||o[0])}if(i&&a!==undefined&&a!==r){var u=t.getCenter();var l=t.calculateCenterZoom(a,i);l=t.constrainCenter(l);i=[(a*u[0]-r*l[0])/(a-r),(a*u[1]-r*l[1])/(a-r)]}p(t,a,i,n)}function p(t,e,i,n){if(e){var r=t.getResolution();var o=t.getCenter();if(r!==undefined&&o&&e!==r&&n){t.animate({resolution:e,anchor:i,duration:n,easing:a["b"]})}else{if(i){var s=t.calculateCenterZoom(e,i);t.setCenter(s)}t.setResolution(e)}}}e["a"]=u},function(t,e,i){"use strict";i.d(e,"c",function(){return a});i.d(e,"e",function(){return o});i.d(e,"g",function(){return l});i.d(e,"a",function(){return c});i.d(e,"f",function(){return f});i.d(e,"h",function(){return d});i.d(e,"b",function(){return p});i.d(e,"d",function(){return v});var n=i(24);var r=new Array(6);function a(){return[1,0,0,1,0,0]}function o(t){return u(t,1,0,0,1,0,0)}function s(t,e){var i=t[0];var n=t[1];var r=t[2];var a=t[3];var o=t[4];var s=t[5];var u=e[0];var l=e[1];var c=e[2];var h=e[3];var f=e[4];var d=e[5];t[0]=i*u+r*l;t[1]=n*u+a*l;t[2]=i*c+r*h;t[3]=n*c+a*h;t[4]=i*f+r*d+o;t[5]=n*f+a*d+s;return t}function u(t,e,i,n,r,a,o){t[0]=e;t[1]=i;t[2]=n;t[3]=r;t[4]=a;t[5]=o;return t}function l(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];return t}function c(t,e){var i=e[0];var n=e[1];e[0]=t[0]*i+t[2]*n+t[4];e[1]=t[1]*i+t[3]*n+t[5];return e}function h(t,e){var i=Math.cos(e);var n=Math.sin(e);return s(t,u(r,i,n,-n,i,0,0))}function f(t,e,i){return s(t,u(r,e,0,0,i,0,0))}function d(t,e,i){return s(t,u(r,1,0,0,1,e,i))}function p(t,e,i,n,r,a,o,s){var u=Math.sin(a);var l=Math.cos(a);t[0]=n*l;t[1]=r*u;t[2]=-n*u;t[3]=r*l;t[4]=o*n*l-s*n*u+e;t[5]=o*r*u+s*r*l+i;return t}function v(t){var e=g(t);Object(n["a"])(e!==0,32);var i=t[0];var r=t[1];var a=t[2];var o=t[3];var s=t[4];var u=t[5];t[0]=o/e;t[1]=-r/e;t[2]=-a/e;t[3]=i/e;t[4]=(a*u-o*s)/e;t[5]=-(i*u-r*s)/e;return t}function g(t){return t[0]*t[3]-t[1]*t[2]}},function(t,e,i){"use strict";var n=i(1);var r=i(124);var a=i(78);var o=i(292);var s=i(11);var u=i(13);var l={IMAGE:"image",VECTOR:"vector"};var c={RENDER_ORDER:"renderOrder"};var h=function t(e){var i=e?e:{};var n=Object(s["a"])({},i);delete n.style;delete n.renderBuffer;delete n.updateWhileAnimating;delete n.updateWhileInteracting;a["a"].call(this,n);this.declutter_=i.declutter!==undefined?i.declutter:false;this.renderBuffer_=i.renderBuffer!==undefined?i.renderBuffer:100;this.style_=null;this.styleFunction_=undefined;this.setStyle(i.style);this.updateWhileAnimating_=i.updateWhileAnimating!==undefined?i.updateWhileAnimating:false;this.updateWhileInteracting_=i.updateWhileInteracting!==undefined?i.updateWhileInteracting:false;this.renderMode_=i.renderMode||o["a"].VECTOR;this.type=r["a"].VECTOR};Object(n["d"])(h,a["a"]);h.prototype.getDeclutter=function(){return this.declutter_};h.prototype.setDeclutter=function(t){this.declutter_=t};h.prototype.getRenderBuffer=function(){return this.renderBuffer_};h.prototype.getRenderOrder=function(){return this.get(c.RENDER_ORDER)};h.prototype.getSource;h.prototype.getStyle=function(){return this.style_};h.prototype.getStyleFunction=function(){return this.styleFunction_};h.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};h.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};h.prototype.setRenderOrder=function(t){this.set(c.RENDER_ORDER,t)};h.prototype.setStyle=function(t){this.style_=t!==undefined?t:u["a"];this.styleFunction_=t===null?undefined:Object(u["d"])(this.style_);this.changed()};h.prototype.getRenderMode=function(){return this.renderMode_};e["a"]=h},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(117);function r(t){var e=+t,i=0;if(e!==0&&isFinite(e)){i=Object(n["a"])(e)}return i}},function(t,e,i){"use strict";i.d(e,"b",function(){return r});var n=function t(e){this.propagationStopped;this.type=e;this.target=null};n.prototype.preventDefault=n.prototype.stopPropagation=function(){this.propagationStopped=true};function r(t){t.stopPropagation()}function a(t){t.preventDefault()}e["a"]=n},function(t,e,i){"use strict";var n=i(1);var r=i(82);var a=function t(e){var i=e||{};this.color_=i.color!==undefined?i.color:null;this.checksum_=undefined};a.prototype.clone=function(){var t=this.getColor();return new a({color:t&&t.slice?t.slice():t||undefined})};a.prototype.getColor=function(){return this.color_};a.prototype.setColor=function(t){this.color_=t;this.checksum_=undefined};a.prototype.getChecksum=function(){if(this.checksum_===undefined){if(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient){this.checksum_=Object(n["c"])(this.color_).toString()}else{this.checksum_="f"+(this.color_?Object(r["b"])(this.color_):"-")}}return this.checksum_};e["a"]=a},function(t,e,i){"use strict";var n=i(1);var r=function t(e){var i=e||{};this.color_=i.color!==undefined?i.color:null;this.lineCap_=i.lineCap;this.lineDash_=i.lineDash!==undefined?i.lineDash:null;this.lineDashOffset_=i.lineDashOffset;this.lineJoin_=i.lineJoin;this.miterLimit_=i.miterLimit;this.width_=i.width;this.checksum_=undefined};r.prototype.clone=function(){var t=this.getColor();return new r({color:t&&t.slice?t.slice():t||undefined,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():undefined,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};r.prototype.getColor=function(){return this.color_};r.prototype.getLineCap=function(){return this.lineCap_};r.prototype.getLineDash=function(){return this.lineDash_};r.prototype.getLineDashOffset=function(){return this.lineDashOffset_};r.prototype.getLineJoin=function(){return this.lineJoin_};r.prototype.getMiterLimit=function(){return this.miterLimit_};r.prototype.getWidth=function(){return this.width_};r.prototype.setColor=function(t){this.color_=t;this.checksum_=undefined};r.prototype.setLineCap=function(t){this.lineCap_=t;this.checksum_=undefined};r.prototype.setLineDash=function(t){this.lineDash_=t;this.checksum_=undefined};r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t;this.checksum_=undefined};r.prototype.setLineJoin=function(t){this.lineJoin_=t;this.checksum_=undefined};r.prototype.setMiterLimit=function(t){this.miterLimit_=t;this.checksum_=undefined};r.prototype.setWidth=function(t){this.width_=t;this.checksum_=undefined};r.prototype.getChecksum=function(){if(this.checksum_===undefined){this.checksum_="s";if(this.color_){if(typeof this.color_==="string"){this.checksum_+=this.color_}else{this.checksum_+=Object(n["c"])(this.color_).toString()}}else{this.checksum_+="-"}this.checksum_+=","+(this.lineCap_!==undefined?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(this.lineDashOffset_!==undefined?this.lineDashOffset_:"-")+","+(this.lineJoin_!==undefined?this.lineJoin_:"-")+","+(this.miterLimit_!==undefined?this.miterLimit_.toString():"-")+","+(this.width_!==undefined?this.width_.toString():"-")}return this.checksum_};e["a"]=r},function(t,e,i){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"c",function(){return r});i.d(e,"b",function(){return a});i.d(e,"f",function(){return o});i.d(e,"e",function(){return s});i.d(e,"d",function(){return u});function n(t,e){var i=document.createElement("CANVAS");if(t){i.width=t}if(e){i.height=e}return i.getContext("2d")}function r(t){var e=t.offsetWidth;var i=getComputedStyle(t);e+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10);return e}function a(t){var e=t.offsetHeight;var i=getComputedStyle(t);e+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10);return e}function o(t,e){var i=e.parentNode;if(i){i.replaceChild(t,e)}}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function u(t){while(t.lastChild){t.removeChild(t.lastChild)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});i.d(e,"c",function(){return o});i.d(e,"b",function(){return s});var n=i(63);var r={};function a(t,e){var i=t.toLowerCase();r[i]=r[i+"s"]=r[e]=t}function o(t){return typeof t==="string"?r[t]||r[t.toLowerCase()]:undefined}function s(t){var e={},i,r;for(r in t){if(Object(n["a"])(t,r)){i=o(r);if(i){e[i]=t[r]}}}return e}},function(t,e,i){"use strict";var n=i(1);var r=i(9);var a=i(4);var o=i(21);var s=i(8);var u=i(68);var l=i(130);var c=i(121);var h=i(125);var f=i(233);var d=i(192);var p=i(293);var v=i(295);var g=i(143);var m=function t(e,i){u["a"].call(this);this.flatMidpoint_=null;this.flatMidpointRevision_=-1;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,i)};Object(n["d"])(m,u["a"]);m.prototype.appendCoordinate=function(t){if(!this.flatCoordinates){this.flatCoordinates=t.slice()}else{Object(r["c"])(this.flatCoordinates,t)}this.changed()};m.prototype.clone=function(){var t=new m(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return t};m.prototype.closestPointXY=function(t,e,i,n){if(n<Object(a["e"])(this.getExtent(),t,e)){return n}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(l["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(l["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,false,t,e,i,n)};m.prototype.forEachSegment=function(t){return Object(v["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)};m.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o["a"].XYM&&this.layout!=o["a"].XYZM){return null}var i=e!==undefined?e:false;return Object(f["b"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)};m.prototype.getCoordinates=function(){return Object(h["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};m.prototype.getCoordinateAt=function(t,e){return Object(f["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)};m.prototype.getLength=function(){return Object(p["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};m.prototype.getFlatMidpoint=function(){if(this.flatMidpointRevision_!=this.getRevision()){this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_);this.flatMidpointRevision_=this.getRevision()}return this.flatMidpoint_};m.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=Object(g["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var i=new m(null);i.setFlatCoordinates(o["a"].XY,e);return i};m.prototype.getType=function(){return s["a"].LINE_STRING};m.prototype.intersectsExtent=function(t){return Object(d["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)};m.prototype.setCoordinates=function(t,e){if(!t){this.setFlatCoordinates(o["a"].XY,null)}else{this.setLayout(e,t,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=Object(c["b"])(this.flatCoordinates,0,t,this.stride);this.changed()}};m.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e);this.changed()};e["a"]=m},function(t,e,i){"use strict";i.d(e,"a",function(){return r});function n(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function r(t){if(t._pf==null){t._pf=n()}return t._pf}},function(t,e,i){"use strict";var n=i(10);e["a"]={SINGLECLICK:"singleclick",CLICK:n["a"].CLICK,DBLCLICK:n["a"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});i.d(e,"b",function(){return u});i.d(e,"c",function(){return c});i.d(e,"d",function(){return f});i.d(e,"f",function(){return d});i.d(e,"i",function(){return p});i.d(e,"l",function(){return v});i.d(e,"g",function(){return m});i.d(e,"h",function(){return y});i.d(e,"k",function(){return _});i.d(e,"m",function(){return b});i.d(e,"e",function(){return w});i.d(e,"j",function(){return O});var n=i(48);var r=i(24);var a=i(20);var o=i(57);var s=function t(e){var i=e.originalEvent;return i.altKey&&!(i.metaKey||i.ctrlKey)&&!i.shiftKey};var u=function t(e){var i=e.originalEvent;return i.altKey&&!(i.metaKey||i.ctrlKey)&&i.shiftKey};var l=function t(e){return e.target.getTargetElement()===document.activeElement};var c=a["b"];var h=function t(e){return e.type==n["a"].CLICK};var f=function t(e){var i=e.originalEvent;return i.button==0&&!(o["j"]&&o["e"]&&i.ctrlKey)};var d=a["a"];var p=function t(e){return e.type=="pointermove"};var v=function t(e){return e.type==n["a"].SINGLECLICK};var g=function t(e){return e.type==n["a"].DBLCLICK};var m=function t(e){var i=e.originalEvent;return!i.altKey&&!(i.metaKey||i.ctrlKey)&&!i.shiftKey};var y=function t(e){var i=e.originalEvent;return!i.altKey&&(o["e"]?i.metaKey:i.ctrlKey)&&!i.shiftKey};var _=function t(e){var i=e.originalEvent;return!i.altKey&&!(i.metaKey||i.ctrlKey)&&i.shiftKey};var b=function t(e){var i=e.originalEvent.target;var n=i.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"};var w=function t(e){Object(r["a"])(e.pointerEvent,56);return e.pointerEvent.pointerType=="mouse"};var O=function t(e){var i=e.pointerEvent;return i.isPrimary&&i.button===0}},function(t,e,i){"use strict";var n={BOOLEAN:"boolean",DATE:"date",DATETIME:"datetime",TIME:"time",GEOMETRY:"geometry",NUMBER:"number",SELECT:"select",TEXT:"text"};e["a"]=n},function(t,e,i){var n,r;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
(function(e,i){"use strict";if(typeof t==="object"&&typeof t.exports==="object"){t.exports=e.document?i(e,true):function(t){if(!t.document){throw new Error("jQuery requires a window with a document")}return i(t)}}else{i(e)}})(typeof window!=="undefined"?window:this,function(i,a){"use strict";var o=[];var s=i.document;var u=Object.getPrototypeOf;var l=o.slice;var c=o.concat;var h=o.push;var f=o.indexOf;var d={};var p=d.toString;var v=d.hasOwnProperty;var g=v.toString;var m=g.call(Object);var y={};var _=function t(e){return typeof e==="function"&&typeof e.nodeType!=="number"};var b=function t(e){return e!=null&&e===e.window};var w={type:true,src:true,noModule:true};function O(t,e,i){e=e||s;var n,r=e.createElement("script");r.text=t;if(i){for(n in w){if(i[n]){r[n]=i[n]}}}e.head.appendChild(r).parentNode.removeChild(r)}function x(t){if(t==null){return t+""}return typeof t==="object"||typeof t==="function"?d[p.call(t)]||"object":typeof t}var S="3.3.1",C=function(t,e){return new C.fn.init(t,e)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.fn=C.prototype={jquery:S,constructor:C,length:0,toArray:function(){return l.call(this)},get:function(t){if(t==null){return l.call(this)}return t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);e.prevObject=this;return e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:o.sort,splice:o.splice};C.extend=C.fn.extend=function(){var t,e,i,n,r,a,o=arguments[0]||{},s=1,u=arguments.length,l=false;if(typeof o==="boolean"){l=o;o=arguments[s]||{};s++}if(typeof o!=="object"&&!_(o)){o={}}if(s===u){o=this;s--}for(;s<u;s++){if((t=arguments[s])!=null){for(e in t){i=o[e];n=t[e];if(o===n){continue}if(l&&n&&(C.isPlainObject(n)||(r=Array.isArray(n)))){if(r){r=false;a=i&&Array.isArray(i)?i:[]}else{a=i&&C.isPlainObject(i)?i:{}}o[e]=C.extend(l,a,n)}else if(n!==undefined){o[e]=n}}}}return o};C.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:true,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;if(!t||p.call(t)!=="[object Object]"){return false}e=u(t);if(!e){return true}i=v.call(e,"constructor")&&e.constructor;return typeof i==="function"&&g.call(i)===m},isEmptyObject:function(t){var e;for(e in t){return false}return true},globalEval:function(t){O(t)},each:function(t,e){var i,n=0;if(E(t)){i=t.length;for(;n<i;n++){if(e.call(t[n],n,t[n])===false){break}}}else{for(n in t){if(e.call(t[n],n,t[n])===false){break}}}return t},trim:function(t){return t==null?"":(t+"").replace(T,"")},makeArray:function(t,e){var i=e||[];if(t!=null){if(E(Object(t))){C.merge(i,typeof t==="string"?[t]:t)}else{h.call(i,t)}}return i},inArray:function(t,e,i){return e==null?-1:f.call(e,t,i)},merge:function(t,e){var i=+e.length,n=0,r=t.length;for(;n<i;n++){t[r++]=e[n]}t.length=r;return t},grep:function(t,e,i){var n,r=[],a=0,o=t.length,s=!i;for(;a<o;a++){n=!e(t[a],a);if(n!==s){r.push(t[a])}}return r},map:function(t,e,i){var n,r,a=0,o=[];if(E(t)){n=t.length;for(;a<n;a++){r=e(t[a],a,i);if(r!=null){o.push(r)}}}else{for(a in t){r=e(t[a],a,i);if(r!=null){o.push(r)}}}return c.apply([],o)},guid:1,support:y});if(typeof Symbol==="function"){C.fn[Symbol.iterator]=o[Symbol.iterator]}C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});function E(t){var e=!!t&&"length"in t&&t.length,i=x(t);if(_(t)||b(t)){return false}return i==="array"||e===0||typeof e==="number"&&e>0&&e-1 in t}var M=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,i,n,r,a,o,s,u,l,c,h,f,d,p,v,g,m,y,_,b="sizzle"+1*new Date,w=t.document,O=0,x=0,S=ot(),C=ot(),T=ot(),E=function(t,e){if(t===e){h=true}return 0},M={}.hasOwnProperty,j=[],k=j.pop,R=j.push,A=j.push,I=j.slice,P=function(t,e){var i=0,n=t.length;for(;i<n;i++){if(t[i]===e){return i}}return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",L="\\["+N+"*("+$+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+N+"*\\]",F=":("+$+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|"+".*"+")\\)|)",G=new RegExp(N+"+","g"),U=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),W=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),Y=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),z=new RegExp(F),V=new RegExp("^"+$+"$"),B={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){if(e){if(t==="\0"){return"�"}return t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" "}return"\\"+t},nt=function(){f()},rt=yt(function(t){return t.disabled===true&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{A.apply(j=I.call(w.childNodes),w.childNodes);j[w.childNodes.length].nodeType}catch(t){A={apply:j.length?function(t,e){R.apply(t,I.call(e))}:function(t,e){var i=t.length,n=0;while(t[i++]=e[n++]){}t.length=i-1}}}function at(t,e,n,r){var a,s,l,c,h,p,m,y=e&&e.ownerDocument,O=e?e.nodeType:9;n=n||[];if(typeof t!=="string"||!t||O!==1&&O!==9&&O!==11){return n}if(!r){if((e?e.ownerDocument||e:w)!==d){f(e)}e=e||d;if(v){if(O!==11&&(h=Z.exec(t))){if(a=h[1]){if(O===9){if(l=e.getElementById(a)){if(l.id===a){n.push(l);return n}}else{return n}}else{if(y&&(l=y.getElementById(a))&&_(e,l)&&l.id===a){n.push(l);return n}}}else if(h[2]){A.apply(n,e.getElementsByTagName(t));return n}else if((a=h[3])&&i.getElementsByClassName&&e.getElementsByClassName){A.apply(n,e.getElementsByClassName(a));return n}}if(i.qsa&&!T[t+" "]&&(!g||!g.test(t))){if(O!==1){y=e;m=t}else if(e.nodeName.toLowerCase()!=="object"){if(c=e.getAttribute("id")){c=c.replace(et,it)}else{e.setAttribute("id",c=b)}p=o(t);s=p.length;while(s--){p[s]="#"+c+" "+mt(p[s])}m=p.join(",");y=Q.test(t)&&vt(e.parentNode)||e}if(m){try{A.apply(n,y.querySelectorAll(m));return n}catch(t){}finally{if(c===b){e.removeAttribute("id")}}}}}}return u(t.replace(U,"$1"),e,n,r)}function ot(){var t=[];function e(i,r){if(t.push(i+" ")>n.cacheLength){delete e[t.shift()]}return e[i+" "]=r}return e}function st(t){t[b]=true;return t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return false}finally{if(e.parentNode){e.parentNode.removeChild(e)}e=null}}function lt(t,e){var i=t.split("|"),r=i.length;while(r--){n.attrHandle[i[r]]=e}}function ct(t,e){var i=e&&t,n=i&&t.nodeType===1&&e.nodeType===1&&t.sourceIndex-e.sourceIndex;if(n){return n}if(i){while(i=i.nextSibling){if(i===e){return-1}}}return t?1:-1}function ht(t){return function(e){var i=e.nodeName.toLowerCase();return i==="input"&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return(i==="input"||i==="button")&&e.type===t}}function dt(t){return function(e){if("form"in e){if(e.parentNode&&e.disabled===false){if("label"in e){if("label"in e.parentNode){return e.parentNode.disabled===t}else{return e.disabled===t}}return e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t}return e.disabled===t}else if("label"in e){return e.disabled===t}return false}}function pt(t){return st(function(e){e=+e;return st(function(i,n){var r,a=t([],i.length,e),o=a.length;while(o--){if(i[r=a[o]]){i[r]=!(n[r]=i[r])}}})})}function vt(t){return t&&typeof t.getElementsByTagName!=="undefined"&&t}i=at.support={};a=at.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?e.nodeName!=="HTML":false};f=at.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:w;if(o===d||o.nodeType!==9||!o.documentElement){return d}d=o;p=d.documentElement;v=!a(d);if(w!==d&&(r=d.defaultView)&&r.top!==r){if(r.addEventListener){r.addEventListener("unload",nt,false)}else if(r.attachEvent){r.attachEvent("onunload",nt)}}i.attributes=ut(function(t){t.className="i";return!t.getAttribute("className")});i.getElementsByTagName=ut(function(t){t.appendChild(d.createComment(""));return!t.getElementsByTagName("*").length});i.getElementsByClassName=X.test(d.getElementsByClassName);i.getById=ut(function(t){p.appendChild(t).id=b;return!d.getElementsByName||!d.getElementsByName(b).length});if(i.getById){n.filter["ID"]=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}};n.find["ID"]=function(t,e){if(typeof e.getElementById!=="undefined"&&v){var i=e.getElementById(t);return i?[i]:[]}}}else{n.filter["ID"]=function(t){var e=t.replace(J,tt);return function(t){var i=typeof t.getAttributeNode!=="undefined"&&t.getAttributeNode("id");return i&&i.value===e}};n.find["ID"]=function(t,e){if(typeof e.getElementById!=="undefined"&&v){var i,n,r,a=e.getElementById(t);if(a){i=a.getAttributeNode("id");if(i&&i.value===t){return[a]}r=e.getElementsByName(t);n=0;while(a=r[n++]){i=a.getAttributeNode("id");if(i&&i.value===t){return[a]}}}return[]}}}n.find["TAG"]=i.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName(t)}else if(i.qsa){return e.querySelectorAll(t)}}:function(t,e){var i,n=[],r=0,a=e.getElementsByTagName(t);if(t==="*"){while(i=a[r++]){if(i.nodeType===1){n.push(i)}}return n}return a};n.find["CLASS"]=i.getElementsByClassName&&function(t,e){if(typeof e.getElementsByClassName!=="undefined"&&v){return e.getElementsByClassName(t)}};m=[];g=[];if(i.qsa=X.test(d.querySelectorAll)){ut(function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a>"+"<select id='"+b+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(t.querySelectorAll("[msallowcapture^='']").length){g.push("[*^$]="+N+"*(?:''|\"\")")}if(!t.querySelectorAll("[selected]").length){g.push("\\["+N+"*(?:value|"+D+")")}if(!t.querySelectorAll("[id~="+b+"-]").length){g.push("~=")}if(!t.querySelectorAll(":checked").length){g.push(":checked")}if(!t.querySelectorAll("a#"+b+"+*").length){g.push(".#.+[+~]")}});ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden");t.appendChild(e).setAttribute("name","D");if(t.querySelectorAll("[name=d]").length){g.push("name"+N+"*[*^$|!~]?=")}if(t.querySelectorAll(":enabled").length!==2){g.push(":enabled",":disabled")}p.appendChild(t).disabled=true;if(t.querySelectorAll(":disabled").length!==2){g.push(":enabled",":disabled")}t.querySelectorAll("*,:x");g.push(",.*:")})}if(i.matchesSelector=X.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector)){ut(function(t){i.disconnectedMatch=y.call(t,"*");y.call(t,"[s!='']:x");m.push("!=",F)})}g=g.length&&new RegExp(g.join("|"));m=m.length&&new RegExp(m.join("|"));e=X.test(p.compareDocumentPosition);_=e||X.test(p.contains)?function(t,e){var i=t.nodeType===9?t.documentElement:t,n=e&&e.parentNode;return t===n||!!(n&&n.nodeType===1&&(i.contains?i.contains(n):t.compareDocumentPosition&&t.compareDocumentPosition(n)&16))}:function(t,e){if(e){while(e=e.parentNode){if(e===t){return true}}}return false};E=e?function(t,e){if(t===e){h=true;return 0}var n=!t.compareDocumentPosition-!e.compareDocumentPosition;if(n){return n}n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1;if(n&1||!i.sortDetached&&e.compareDocumentPosition(t)===n){if(t===d||t.ownerDocument===w&&_(w,t)){return-1}if(e===d||e.ownerDocument===w&&_(w,e)){return 1}return c?P(c,t)-P(c,e):0}return n&4?-1:1}:function(t,e){if(t===e){h=true;return 0}var i,n=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a){return t===d?-1:e===d?1:r?-1:a?1:c?P(c,t)-P(c,e):0}else if(r===a){return ct(t,e)}i=t;while(i=i.parentNode){o.unshift(i)}i=e;while(i=i.parentNode){s.unshift(i)}while(o[n]===s[n]){n++}return n?ct(o[n],s[n]):o[n]===w?-1:s[n]===w?1:0};return d};at.matches=function(t,e){return at(t,null,null,e)};at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d){f(t)}e=e.replace(Y,"='$1']");if(i.matchesSelector&&v&&!T[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e))){try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&t.document.nodeType!==11){return n}}catch(t){}}return at(e,d,null,[t]).length>0};at.contains=function(t,e){if((t.ownerDocument||t)!==d){f(t)}return _(t,e)};at.attr=function(t,e){if((t.ownerDocument||t)!==d){f(t)}var r=n.attrHandle[e.toLowerCase()],a=r&&M.call(n.attrHandle,e.toLowerCase())?r(t,e,!v):undefined;return a!==undefined?a:i.attributes||!v?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null};at.escape=function(t){return(t+"").replace(et,it)};at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};at.uniqueSort=function(t){var e,n=[],r=0,a=0;h=!i.detectDuplicates;c=!i.sortStable&&t.slice(0);t.sort(E);if(h){while(e=t[a++]){if(e===t[a]){r=n.push(a)}}while(r--){t.splice(n[r],1)}}c=null;return t};r=at.getText=function(t){var e,i="",n=0,a=t.nodeType;if(!a){while(e=t[n++]){i+=r(e)}}else if(a===1||a===9||a===11){if(typeof t.textContent==="string"){return t.textContent}else{for(t=t.firstChild;t;t=t.nextSibling){i+=r(t)}}}else if(a===3||a===4){return t.nodeValue}return i};n=at.selectors={cacheLength:50,createPseudo:st,match:B,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){t[1]=t[1].replace(J,tt);t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt);if(t[2]==="~="){t[3]=" "+t[3]+" "}return t.slice(0,4)},CHILD:function(t){t[1]=t[1].toLowerCase();if(t[1].slice(0,3)==="nth"){if(!t[3]){at.error(t[0])}t[4]=+(t[4]?t[5]+(t[6]||1):2*(t[3]==="even"||t[3]==="odd"));t[5]=+(t[7]+t[8]||t[3]==="odd")}else if(t[3]){at.error(t[0])}return t},PSEUDO:function(t){var e,i=!t[6]&&t[2];if(B["CHILD"].test(t[0])){return null}if(t[3]){t[2]=t[4]||t[5]||""}else if(i&&z.test(i)&&(e=o(i,true))&&(e=i.indexOf(")",i.length-e)-i.length)){t[0]=t[0].slice(0,e);t[2]=i.slice(0,e)}return t.slice(0,3)}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return t==="*"?function(){return true}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+N+")"+t+"("+N+"|$)"))&&S(t,function(t){return e.test(typeof t.className==="string"&&t.className||typeof t.getAttribute!=="undefined"&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=at.attr(n,t);if(r==null){return e==="!="}if(!e){return true}r+="";return e==="="?r===i:e==="!="?r!==i:e==="^="?i&&r.indexOf(i)===0:e==="*="?i&&r.indexOf(i)>-1:e==="$="?i&&r.slice(-i.length)===i:e==="~="?(" "+r.replace(G," ")+" ").indexOf(i)>-1:e==="|="?r===i||r.slice(0,i.length+1)===i+"-":false}},CHILD:function(t,e,i,n,r){var a=t.slice(0,3)!=="nth",o=t.slice(-4)!=="last",s=e==="of-type";return n===1&&r===0?function(t){return!!t.parentNode}:function(e,i,u){var l,c,h,f,d,p,v=a!==o?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s,_=false;if(g){if(a){while(v){f=e;while(f=f[v]){if(s?f.nodeName.toLowerCase()===m:f.nodeType===1){return false}}p=v=t==="only"&&!p&&"nextSibling"}return true}p=[o?g.firstChild:g.lastChild];if(o&&y){f=g;h=f[b]||(f[b]={});c=h[f.uniqueID]||(h[f.uniqueID]={});l=c[t]||[];d=l[0]===O&&l[1];_=d&&l[2];f=d&&g.childNodes[d];while(f=++d&&f&&f[v]||(_=d=0)||p.pop()){if(f.nodeType===1&&++_&&f===e){c[t]=[O,d,_];break}}}else{if(y){f=e;h=f[b]||(f[b]={});c=h[f.uniqueID]||(h[f.uniqueID]={});l=c[t]||[];d=l[0]===O&&l[1];_=d}if(_===false){while(f=++d&&f&&f[v]||(_=d=0)||p.pop()){if((s?f.nodeName.toLowerCase()===m:f.nodeType===1)&&++_){if(y){h=f[b]||(f[b]={});c=h[f.uniqueID]||(h[f.uniqueID]={});c[t]=[O,_]}if(f===e){break}}}}}_-=r;return _===n||_%n===0&&_/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);if(r[b]){return r(e)}if(r.length>1){i=[t,t,"",e];return n.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,i){var n,a=r(t,e),o=a.length;while(o--){n=P(t,a[o]);t[n]=!(i[n]=a[o])}}):function(t){return r(t,0,i)}}return r}},pseudos:{not:st(function(t){var e=[],i=[],n=s(t.replace(U,"$1"));return n[b]?st(function(t,e,i,r){var a,o=n(t,null,r,[]),s=t.length;while(s--){if(a=o[s]){t[s]=!(e[s]=a)}}}):function(t,r,a){e[0]=t;n(e,null,a,i);e[0]=null;return!i.pop()}}),has:st(function(t){return function(e){return at(t,e).length>0}}),contains:st(function(t){t=t.replace(J,tt);return function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){if(!V.test(t||"")){at.error("unsupported lang: "+t)}t=t.replace(J,tt).toLowerCase();return function(e){var i;do{if(i=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang")){i=i.toLowerCase();return i===t||i.indexOf(t+"-")===0}}while((e=e.parentNode)&&e.nodeType===1);return false}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(false),disabled:dt(true),checked:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&!!t.checked||e==="option"&&!!t.selected},selected:function(t){if(t.parentNode){t.parentNode.selectedIndex}return t.selected===true},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling){if(t.nodeType<6){return false}}return true},parent:function(t){return!n.pseudos["empty"](t)},header:function(t){return K.test(t.nodeName)},input:function(t){return q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&t.type==="button"||e==="button"},text:function(t){var e;return t.nodeName.toLowerCase()==="input"&&t.type==="text"&&((e=t.getAttribute("type"))==null||e.toLowerCase()==="text")},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,i){return[i<0?i+e:i]}),even:pt(function(t,e){var i=0;for(;i<e;i+=2){t.push(i)}return t}),odd:pt(function(t,e){var i=1;for(;i<e;i+=2){t.push(i)}return t}),lt:pt(function(t,e,i){var n=i<0?i+e:i;for(;--n>=0;){t.push(n)}return t}),gt:pt(function(t,e,i){var n=i<0?i+e:i;for(;++n<e;){t.push(n)}return t})}};n.pseudos["nth"]=n.pseudos["eq"];for(e in{radio:true,checkbox:true,file:true,password:true,image:true}){n.pseudos[e]=ht(e)}for(e in{submit:true,reset:true}){n.pseudos[e]=ft(e)}function gt(){}gt.prototype=n.filters=n.pseudos;n.setFilters=new gt;o=at.tokenize=function(t,e){var i,r,a,o,s,u,l,c=C[t+" "];if(c){return e?0:c.slice(0)}s=t;u=[];l=n.preFilter;while(s){if(!i||(r=H.exec(s))){if(r){s=s.slice(r[0].length)||s}u.push(a=[])}i=false;if(r=W.exec(s)){i=r.shift();a.push({value:i,type:r[0].replace(U," ")});s=s.slice(i.length)}for(o in n.filter){if((r=B[o].exec(s))&&(!l[o]||(r=l[o](r)))){i=r.shift();a.push({value:i,type:o,matches:r});s=s.slice(i.length)}}if(!i){break}}return e?s.length:s?at.error(t):C(t,u).slice(0)};function mt(t){var e=0,i=t.length,n="";for(;e<i;e++){n+=t[e].value}return n}function yt(t,e,i){var n=e.dir,r=e.next,a=r||n,o=i&&a==="parentNode",s=x++;return e.first?function(e,i,r){while(e=e[n]){if(e.nodeType===1||o){return t(e,i,r)}}return false}:function(e,i,u){var l,c,h,f=[O,s];if(u){while(e=e[n]){if(e.nodeType===1||o){if(t(e,i,u)){return true}}}}else{while(e=e[n]){if(e.nodeType===1||o){h=e[b]||(e[b]={});c=h[e.uniqueID]||(h[e.uniqueID]={});if(r&&r===e.nodeName.toLowerCase()){e=e[n]||e}else if((l=c[a])&&l[0]===O&&l[1]===s){return f[2]=l[2]}else{c[a]=f;if(f[2]=t(e,i,u)){return true}}}}}return false}}function _t(t){return t.length>1?function(e,i,n){var r=t.length;while(r--){if(!t[r](e,i,n)){return false}}return true}:t[0]}function bt(t,e,i){var n=0,r=e.length;for(;n<r;n++){at(t,e[n],i)}return i}function wt(t,e,i,n,r){var a,o=[],s=0,u=t.length,l=e!=null;for(;s<u;s++){if(a=t[s]){if(!i||i(a,n,r)){o.push(a);if(l){e.push(s)}}}}return o}function Ot(t,e,i,n,r,a){if(n&&!n[b]){n=Ot(n)}if(r&&!r[b]){r=Ot(r,a)}return st(function(a,o,s,u){var l,c,h,f=[],d=[],p=o.length,v=a||bt(e||"*",s.nodeType?[s]:s,[]),g=t&&(a||!e)?wt(v,f,t,s,u):v,m=i?r||(a?t:p||n)?[]:o:g;if(i){i(g,m,s,u)}if(n){l=wt(m,d);n(l,[],s,u);c=l.length;while(c--){if(h=l[c]){m[d[c]]=!(g[d[c]]=h)}}}if(a){if(r||t){if(r){l=[];c=m.length;while(c--){if(h=m[c]){l.push(g[c]=h)}}r(null,m=[],l,u)}c=m.length;while(c--){if((h=m[c])&&(l=r?P(a,h):f[c])>-1){a[l]=!(o[l]=h)}}}}else{m=wt(m===o?m.splice(p,m.length):m);if(r){r(null,o,m,u)}else{A.apply(o,m)}}})}function xt(t){var e,i,r,a=t.length,o=n.relative[t[0].type],s=o||n.relative[" "],u=o?1:0,c=yt(function(t){return t===e},s,true),h=yt(function(t){return P(e,t)>-1},s,true),f=[function(t,i,n){var r=!o&&(n||i!==l)||((e=i).nodeType?c(t,i,n):h(t,i,n));e=null;return r}];for(;u<a;u++){if(i=n.relative[t[u].type]){f=[yt(_t(f),i)]}else{i=n.filter[t[u].type].apply(null,t[u].matches);if(i[b]){r=++u;for(;r<a;r++){if(n.relative[t[r].type]){break}}return Ot(u>1&&_t(f),u>1&&mt(t.slice(0,u-1).concat({value:t[u-2].type===" "?"*":""})).replace(U,"$1"),i,u<r&&xt(t.slice(u,r)),r<a&&xt(t=t.slice(r)),r<a&&mt(t))}f.push(i)}}return _t(f)}function St(t,e){var i=e.length>0,r=t.length>0,a=function(a,o,s,u,c){var h,p,g,m=0,y="0",_=a&&[],b=[],w=l,x=a||r&&n.find["TAG"]("*",c),S=O+=w==null?1:Math.random()||.1,C=x.length;if(c){l=o===d||o||c}for(;y!==C&&(h=x[y])!=null;y++){if(r&&h){p=0;if(!o&&h.ownerDocument!==d){f(h);s=!v}while(g=t[p++]){if(g(h,o||d,s)){u.push(h);break}}if(c){O=S}}if(i){if(h=!g&&h){m--}if(a){_.push(h)}}}m+=y;if(i&&y!==m){p=0;while(g=e[p++]){g(_,b,o,s)}if(a){if(m>0){while(y--){if(!(_[y]||b[y])){b[y]=k.call(u)}}}b=wt(b)}A.apply(u,b);if(c&&!a&&b.length>0&&m+e.length>1){at.uniqueSort(u)}}if(c){O=S;l=w}return _};return i?st(a):a}s=at.compile=function(t,e){var i,n=[],r=[],a=T[t+" "];if(!a){if(!e){e=o(t)}i=e.length;while(i--){a=xt(e[i]);if(a[b]){n.push(a)}else{r.push(a)}}a=T(t,St(r,n));a.selector=t}return a};u=at.select=function(t,e,i,r){var a,u,l,c,h,f=typeof t==="function"&&t,d=!r&&o(t=f.selector||t);i=i||[];if(d.length===1){u=d[0]=d[0].slice(0);if(u.length>2&&(l=u[0]).type==="ID"&&e.nodeType===9&&v&&n.relative[u[1].type]){e=(n.find["ID"](l.matches[0].replace(J,tt),e)||[])[0];if(!e){return i}else if(f){e=e.parentNode}t=t.slice(u.shift().value.length)}a=B["needsContext"].test(t)?0:u.length;while(a--){l=u[a];if(n.relative[c=l.type]){break}if(h=n.find[c]){if(r=h(l.matches[0].replace(J,tt),Q.test(u[0].type)&&vt(e.parentNode)||e)){u.splice(a,1);t=r.length&&mt(u);if(!t){A.apply(i,r);return i}break}}}}(f||s(t,d))(r,e,!v,i,!e||Q.test(t)&&vt(e.parentNode)||e);return i};i.sortStable=b.split("").sort(E).join("")===b;i.detectDuplicates=!!h;f();i.sortDetached=ut(function(t){return t.compareDocumentPosition(d.createElement("fieldset"))&1});if(!ut(function(t){t.innerHTML="<a href='#'></a>";return t.firstChild.getAttribute("href")==="#"})){lt("type|href|height|width",function(t,e,i){if(!i){return t.getAttribute(e,e.toLowerCase()==="type"?1:2)}})}if(!i.attributes||!ut(function(t){t.innerHTML="<input/>";t.firstChild.setAttribute("value","");return t.firstChild.getAttribute("value")===""})){lt("value",function(t,e,i){if(!i&&t.nodeName.toLowerCase()==="input"){return t.defaultValue}})}if(!ut(function(t){return t.getAttribute("disabled")==null})){lt(D,function(t,e,i){var n;if(!i){return t[e]===true?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}})}return at}(i);C.find=M;C.expr=M.selectors;C.expr[":"]=C.expr.pseudos;C.uniqueSort=C.unique=M.uniqueSort;C.text=M.getText;C.isXMLDoc=M.isXML;C.contains=M.contains;C.escapeSelector=M.escape;var j=function(t,e,i){var n=[],r=i!==undefined;while((t=t[e])&&t.nodeType!==9){if(t.nodeType===1){if(r&&C(t).is(i)){break}n.push(t)}}return n};var k=function(t,e){var i=[];for(;t;t=t.nextSibling){if(t.nodeType===1&&t!==e){i.push(t)}}return i};var R=C.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,i){if(_(e)){return C.grep(t,function(t,n){return!!e.call(t,n,t)!==i})}if(e.nodeType){return C.grep(t,function(t){return t===e!==i})}if(typeof e!=="string"){return C.grep(t,function(t){return f.call(e,t)>-1!==i})}return C.filter(e,t,i)}C.filter=function(t,e,i){var n=e[0];if(i){t=":not("+t+")"}if(e.length===1&&n.nodeType===1){return C.find.matchesSelector(n,t)?[n]:[]}return C.find.matches(t,C.grep(e,function(t){return t.nodeType===1}))};C.fn.extend({find:function(t){var e,i,n=this.length,r=this;if(typeof t!=="string"){return this.pushStack(C(t).filter(function(){for(e=0;e<n;e++){if(C.contains(r[e],this)){return true}}}))}i=this.pushStack([]);for(e=0;e<n;e++){C.find(t,r[e],i)}return n>1?C.uniqueSort(i):i},filter:function(t){return this.pushStack(P(this,t||[],false))},not:function(t){return this.pushStack(P(this,t||[],true))},is:function(t){return!!P(this,typeof t==="string"&&R.test(t)?C(t):t||[],false).length}});var D,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,$=C.fn.init=function(t,e,i){var n,r;if(!t){return this}i=i||D;if(typeof t==="string"){if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3){n=[null,t,null]}else{n=N.exec(t)}if(n&&(n[1]||!e)){if(n[1]){e=e instanceof C?e[0]:e;C.merge(this,C.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:s,true));if(I.test(n[1])&&C.isPlainObject(e)){for(n in e){if(_(this[n])){this[n](e[n])}else{this.attr(n,e[n])}}}return this}else{r=s.getElementById(n[2]);if(r){this[0]=r;this.length=1}return this}}else if(!e||e.jquery){return(e||i).find(t)}else{return this.constructor(e).find(t)}}else if(t.nodeType){this[0]=t;this.length=1;return this}else if(_(t)){return i.ready!==undefined?i.ready(t):t(C)}return C.makeArray(t,this)};$.prototype=C.fn;D=C(s);var L=/^(?:parents|prev(?:Until|All))/,F={children:true,contents:true,next:true,prev:true};C.fn.extend({has:function(t){var e=C(t,this),i=e.length;return this.filter(function(){var t=0;for(;t<i;t++){if(C.contains(this,e[t])){return true}}})},closest:function(t,e){var i,n=0,r=this.length,a=[],o=typeof t!=="string"&&C(t);if(!R.test(t)){for(;n<r;n++){for(i=this[n];i&&i!==e;i=i.parentNode){if(i.nodeType<11&&(o?o.index(i)>-1:i.nodeType===1&&C.find.matchesSelector(i,t))){a.push(i);break}}}}return this.pushStack(a.length>1?C.uniqueSort(a):a)},index:function(t){if(!t){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof t==="string"){return f.call(C(t),this[0])}return f.call(this,t.jquery?t[0]:t)},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function G(t,e){while((t=t[e])&&t.nodeType!==1){}return t}C.each({parent:function(t){var e=t.parentNode;return e&&e.nodeType!==11?e:null},parents:function(t){return j(t,"parentNode")},parentsUntil:function(t,e,i){return j(t,"parentNode",i)},next:function(t){return G(t,"nextSibling")},prev:function(t){return G(t,"previousSibling")},nextAll:function(t){return j(t,"nextSibling")},prevAll:function(t){return j(t,"previousSibling")},nextUntil:function(t,e,i){return j(t,"nextSibling",i)},prevUntil:function(t,e,i){return j(t,"previousSibling",i)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){if(A(t,"iframe")){return t.contentDocument}if(A(t,"template")){t=t.content||t}return C.merge([],t.childNodes)}},function(t,e){C.fn[t]=function(i,n){var r=C.map(this,e,i);if(t.slice(-5)!=="Until"){n=i}if(n&&typeof n==="string"){r=C.filter(n,r)}if(this.length>1){if(!F[t]){C.uniqueSort(r)}if(L.test(t)){r.reverse()}}return this.pushStack(r)}});var U=/[^\x20\t\r\n\f]+/g;function H(t){var e={};C.each(t.match(U)||[],function(t,i){e[i]=true});return e}C.Callbacks=function(t){t=typeof t==="string"?H(t):C.extend({},t);var e,i,n,r,a=[],o=[],s=-1,u=function(){r=r||t.once;n=e=true;for(;o.length;s=-1){i=o.shift();while(++s<a.length){if(a[s].apply(i[0],i[1])===false&&t.stopOnFalse){s=a.length;i=false}}}if(!t.memory){i=false}e=false;if(r){if(i){a=[]}else{a=""}}},l={add:function(){if(a){if(i&&!e){s=a.length-1;o.push(i)}(function e(i){C.each(i,function(i,n){if(_(n)){if(!t.unique||!l.has(n)){a.push(n)}}else if(n&&n.length&&x(n)!=="string"){e(n)}})})(arguments);if(i&&!e){u()}}return this},remove:function(){C.each(arguments,function(t,e){var i;while((i=C.inArray(e,a,i))>-1){a.splice(i,1);if(i<=s){s--}}});return this},has:function(t){return t?C.inArray(t,a)>-1:a.length>0},empty:function(){if(a){a=[]}return this},disable:function(){r=o=[];a=i="";return this},disabled:function(){return!a},lock:function(){r=o=[];if(!i&&!e){a=i=""}return this},locked:function(){return!!r},fireWith:function(t,i){if(!r){i=i||[];i=[t,i.slice?i.slice():i];o.push(i);if(!e){u()}}return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!n}};return l};function W(t){return t}function Y(t){throw t}function z(t,e,i,n){var r;try{if(t&&_(r=t.promise)){r.call(t).done(e).fail(i)}else if(t&&_(r=t.then)){r.call(t,e,i)}else{e.apply(undefined,[t].slice(n))}}catch(t){i.apply(undefined,[t])}}C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){a.done(arguments).fail(arguments);return this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return C.Deferred(function(i){C.each(e,function(e,n){var r=_(t[n[4]])&&t[n[4]];a[n[1]](function(){var t=r&&r.apply(this,arguments);if(t&&_(t.promise)){t.promise().progress(i.notify).done(i.resolve).fail(i.reject)}else{i[n[0]+"With"](this,r?[t]:arguments)}})});t=null}).promise()},then:function(t,n,r){var a=0;function o(t,e,n,r){return function(){var s=this,u=arguments,l=function(){var i,l;if(t<a){return}i=n.apply(s,u);if(i===e.promise()){throw new TypeError("Thenable self-resolution")}l=i&&(typeof i==="object"||typeof i==="function")&&i.then;if(_(l)){if(r){l.call(i,o(a,e,W,r),o(a,e,Y,r))}else{a++;l.call(i,o(a,e,W,r),o(a,e,Y,r),o(a,e,W,e.notifyWith))}}else{if(n!==W){s=undefined;u=[i]}(r||e.resolveWith)(s,u)}},c=r?l:function(){try{l()}catch(i){if(C.Deferred.exceptionHook){C.Deferred.exceptionHook(i,c.stackTrace)}if(t+1>=a){if(n!==Y){s=undefined;u=[i]}e.rejectWith(s,u)}}};if(t){c()}else{if(C.Deferred.getStackHook){c.stackTrace=C.Deferred.getStackHook()}i.setTimeout(c)}}}return C.Deferred(function(i){e[0][3].add(o(0,i,_(r)?r:W,i.notifyWith));e[1][3].add(o(0,i,_(t)?t:W));e[2][3].add(o(0,i,_(n)?n:Y))}).promise()},promise:function(t){return t!=null?C.extend(t,r):r}},a={};C.each(e,function(t,i){var o=i[2],s=i[5];r[i[1]]=o.add;if(s){o.add(function(){n=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock)}o.add(i[3].fire);a[i[0]]=function(){a[i[0]+"With"](this===a?undefined:this,arguments);return this};a[i[0]+"With"]=o.fireWith});r.promise(a);if(t){t.call(a,a)}return a},when:function(t){var e=arguments.length,i=e,n=Array(i),r=l.call(arguments),a=C.Deferred(),o=function(t){return function(i){n[t]=this;r[t]=arguments.length>1?l.call(arguments):i;if(!--e){a.resolveWith(n,r)}}};if(e<=1){z(t,a.done(o(i)).resolve,a.reject,!e);if(a.state()==="pending"||_(r[i]&&r[i].then)){return a.then()}}while(i--){z(r[i],o(i),a.reject)}return a.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){if(i.console&&i.console.warn&&t&&V.test(t.name)){i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)}};C.readyException=function(t){i.setTimeout(function(){throw t})};var B=C.Deferred();C.fn.ready=function(t){B.then(t).catch(function(t){C.readyException(t)});return this};C.extend({isReady:false,readyWait:1,ready:function(t){if(t===true?--C.readyWait:C.isReady){return}C.isReady=true;if(t!==true&&--C.readyWait>0){return}B.resolveWith(s,[C])}});C.ready.then=B.then;function q(){s.removeEventListener("DOMContentLoaded",q);i.removeEventListener("load",q);C.ready()}if(s.readyState==="complete"||s.readyState!=="loading"&&!s.documentElement.doScroll){i.setTimeout(C.ready)}else{s.addEventListener("DOMContentLoaded",q);i.addEventListener("load",q)}var K=function(t,e,i,n,r,a,o){var s=0,u=t.length,l=i==null;if(x(i)==="object"){r=true;for(s in i){K(t,e,s,i[s],true,a,o)}}else if(n!==undefined){r=true;if(!_(n)){o=true}if(l){if(o){e.call(t,n);e=null}else{l=e;e=function(t,e,i){return l.call(C(t),i)}}}if(e){for(;s<u;s++){e(t[s],i,o?n:n.call(t[s],s,e(t[s],i)))}}}if(r){return t}if(l){return e.call(t)}return u?e(t[0],i):a};var X=/^-ms-/,Z=/-([a-z])/g;function Q(t,e){return e.toUpperCase()}function J(t){return t.replace(X,"ms-").replace(Z,Q)}var tt=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function et(){this.expando=C.expando+et.uid++}et.uid=1;et.prototype={cache:function(t){var e=t[this.expando];if(!e){e={};if(tt(t)){if(t.nodeType){t[this.expando]=e}else{Object.defineProperty(t,this.expando,{value:e,configurable:true})}}}return e},set:function(t,e,i){var n,r=this.cache(t);if(typeof e==="string"){r[J(e)]=i}else{for(n in e){r[J(n)]=e[n]}}return r},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][J(e)]},access:function(t,e,i){if(e===undefined||e&&typeof e==="string"&&i===undefined){return this.get(t,e)}this.set(t,e,i);return i!==undefined?i:e},remove:function(t,e){var i,n=t[this.expando];if(n===undefined){return}if(e!==undefined){if(Array.isArray(e)){e=e.map(J)}else{e=J(e);e=e in n?[e]:e.match(U)||[]}i=e.length;while(i--){delete n[e[i]]}}if(e===undefined||C.isEmptyObject(n)){if(t.nodeType){t[this.expando]=undefined}else{delete t[this.expando]}}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!C.isEmptyObject(e)}};var it=new et;var nt=new et;var rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,at=/[A-Z]/g;function ot(t){if(t==="true"){return true}if(t==="false"){return false}if(t==="null"){return null}if(t===+t+""){return+t}if(rt.test(t)){return JSON.parse(t)}return t}function st(t,e,i){var n;if(i===undefined&&t.nodeType===1){n="data-"+e.replace(at,"-$&").toLowerCase();i=t.getAttribute(n);if(typeof i==="string"){try{i=ot(i)}catch(t){}nt.set(t,e,i)}else{i=undefined}}return i}C.extend({hasData:function(t){return nt.hasData(t)||it.hasData(t)},data:function(t,e,i){return nt.access(t,e,i)},removeData:function(t,e){nt.remove(t,e)},_data:function(t,e,i){return it.access(t,e,i)},_removeData:function(t,e){it.remove(t,e)}});C.fn.extend({data:function(t,e){var i,n,r,a=this[0],o=a&&a.attributes;if(t===undefined){if(this.length){r=nt.get(a);if(a.nodeType===1&&!it.get(a,"hasDataAttrs")){i=o.length;while(i--){if(o[i]){n=o[i].name;if(n.indexOf("data-")===0){n=J(n.slice(5));st(a,n,r[n])}}}it.set(a,"hasDataAttrs",true)}}return r}if(typeof t==="object"){return this.each(function(){nt.set(this,t)})}return K(this,function(e){var i;if(a&&e===undefined){i=nt.get(a,t);if(i!==undefined){return i}i=st(a,t);if(i!==undefined){return i}return}this.each(function(){nt.set(this,t,e)})},null,e,arguments.length>1,null,true)},removeData:function(t){return this.each(function(){nt.remove(this,t)})}});C.extend({queue:function(t,e,i){var n;if(t){e=(e||"fx")+"queue";n=it.get(t,e);if(i){if(!n||Array.isArray(i)){n=it.access(t,e,C.makeArray(i))}else{n.push(i)}}return n||[]}},dequeue:function(t,e){e=e||"fx";var i=C.queue(t,e),n=i.length,r=i.shift(),a=C._queueHooks(t,e),o=function(){C.dequeue(t,e)};if(r==="inprogress"){r=i.shift();n--}if(r){if(e==="fx"){i.unshift("inprogress")}delete a.stop;r.call(t,o,a)}if(!n&&a){a.empty.fire()}},_queueHooks:function(t,e){var i=e+"queueHooks";return it.get(t,i)||it.access(t,i,{empty:C.Callbacks("once memory").add(function(){it.remove(t,[e+"queue",i])})})}});C.fn.extend({queue:function(t,e){var i=2;if(typeof t!=="string"){e=t;t="fx";i--}if(arguments.length<i){return C.queue(this[0],t)}return e===undefined?this:this.each(function(){var i=C.queue(this,t,e);C._queueHooks(this,t);if(t==="fx"&&i[0]!=="inprogress"){C.dequeue(this,t)}})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=C.Deferred(),a=this,o=this.length,s=function(){if(!--n){r.resolveWith(a,[a])}};if(typeof t!=="string"){e=t;t=undefined}t=t||"fx";while(o--){i=it.get(a[o],t+"queueHooks");if(i&&i.empty){n++;i.empty.add(s)}}s();return r.promise(e)}});var ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var lt=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i");var ct=["Top","Right","Bottom","Left"];var ht=function(t,e){t=e||t;return t.style.display==="none"||t.style.display===""&&C.contains(t.ownerDocument,t)&&C.css(t,"display")==="none"};var ft=function(t,e,i,n){var r,a,o={};for(a in e){o[a]=t.style[a];t.style[a]=e[a]}r=i.apply(t,n||[]);for(a in e){t.style[a]=o[a]}return r};function dt(t,e,i,n){var r,a,o=20,s=n?function(){return n.cur()}:function(){return C.css(t,e,"")},u=s(),l=i&&i[3]||(C.cssNumber[e]?"":"px"),c=(C.cssNumber[e]||l!=="px"&&+u)&&lt.exec(C.css(t,e));if(c&&c[3]!==l){u=u/2;l=l||c[3];c=+u||1;while(o--){C.style(t,e,c+l);if((1-a)*(1-(a=s()/u||.5))<=0){o=0}c=c/a}c=c*2;C.style(t,e,c+l);i=i||[]}if(i){c=+c||+u||0;r=i[1]?c+(i[1]+1)*i[2]:+i[2];if(n){n.unit=l;n.start=c;n.end=r}}return r}var pt={};function vt(t){var e,i=t.ownerDocument,n=t.nodeName,r=pt[n];if(r){return r}e=i.body.appendChild(i.createElement(n));r=C.css(e,"display");e.parentNode.removeChild(e);if(r==="none"){r="block"}pt[n]=r;return r}function gt(t,e){var i,n,r=[],a=0,o=t.length;for(;a<o;a++){n=t[a];if(!n.style){continue}i=n.style.display;if(e){if(i==="none"){r[a]=it.get(n,"display")||null;if(!r[a]){n.style.display=""}}if(n.style.display===""&&ht(n)){r[a]=vt(n)}}else{if(i!=="none"){r[a]="none";it.set(n,"display",i)}}}for(a=0;a<o;a++){if(r[a]!=null){t[a].style.display=r[a]}}return t}C.fn.extend({show:function(){return gt(this,true)},hide:function(){return gt(this)},toggle:function(t){if(typeof t==="boolean"){return t?this.show():this.hide()}return this.each(function(){if(ht(this)){C(this).show()}else{C(this).hide()}})}});var mt=/^(?:checkbox|radio)$/i;var yt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;var _t=/^$|^module$|\/(?:java|ecma)script/i;var bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};bt.optgroup=bt.option;bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead;bt.th=bt.td;function wt(t,e){var i;if(typeof t.getElementsByTagName!=="undefined"){i=t.getElementsByTagName(e||"*")}else if(typeof t.querySelectorAll!=="undefined"){i=t.querySelectorAll(e||"*")}else{i=[]}if(e===undefined||e&&A(t,e)){return C.merge([t],i)}return i}function Ot(t,e){var i=0,n=t.length;for(;i<n;i++){it.set(t[i],"globalEval",!e||it.get(e[i],"globalEval"))}}var xt=/<|&#?\w+;/;function St(t,e,i,n,r){var a,o,s,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;for(;d<p;d++){a=t[d];if(a||a===0){if(x(a)==="object"){C.merge(f,a.nodeType?[a]:a)}else if(!xt.test(a)){f.push(e.createTextNode(a))}else{o=o||h.appendChild(e.createElement("div"));s=(yt.exec(a)||["",""])[1].toLowerCase();u=bt[s]||bt._default;o.innerHTML=u[1]+C.htmlPrefilter(a)+u[2];c=u[0];while(c--){o=o.lastChild}C.merge(f,o.childNodes);o=h.firstChild;o.textContent=""}}}h.textContent="";d=0;while(a=f[d++]){if(n&&C.inArray(a,n)>-1){if(r){r.push(a)}continue}l=C.contains(a.ownerDocument,a);o=wt(h.appendChild(a),"script");if(l){Ot(o)}if(i){c=0;while(a=o[c++]){if(_t.test(a.type||"")){i.push(a)}}}}return h}(function(){var t=s.createDocumentFragment(),e=t.appendChild(s.createElement("div")),i=s.createElement("input");i.setAttribute("type","radio");i.setAttribute("checked","checked");i.setAttribute("name","t");e.appendChild(i);y.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;e.innerHTML="<textarea>x</textarea>";y.noCloneChecked=!!e.cloneNode(true).lastChild.defaultValue})();var Ct=s.documentElement;var Tt=/^key/,Et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Mt=/^([^.]*)(?:\.(.+)|)/;function jt(){return true}function kt(){return false}function Rt(){try{return s.activeElement}catch(t){}}function At(t,e,i,n,r,a){var o,s;if(typeof e==="object"){if(typeof i!=="string"){n=n||i;i=undefined}for(s in e){At(t,s,i,n,e[s],a)}return t}if(n==null&&r==null){r=i;n=i=undefined}else if(r==null){if(typeof i==="string"){r=n;n=undefined}else{r=n;n=i;i=undefined}}if(r===false){r=kt}else if(!r){return t}if(a===1){o=r;r=function(t){C().off(t);return o.apply(this,arguments)};r.guid=o.guid||(o.guid=C.guid++)}return t.each(function(){C.event.add(this,e,r,n,i)})}C.event={global:{},add:function(t,e,i,n,r){var a,o,s,u,l,c,h,f,d,p,v,g=it.get(t);if(!g){return}if(i.handler){a=i;i=a.handler;r=a.selector}if(r){C.find.matchesSelector(Ct,r)}if(!i.guid){i.guid=C.guid++}if(!(u=g.events)){u=g.events={}}if(!(o=g.handle)){o=g.handle=function(e){return typeof C!=="undefined"&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):undefined}}e=(e||"").match(U)||[""];l=e.length;while(l--){s=Mt.exec(e[l])||[];d=v=s[1];p=(s[2]||"").split(".").sort();if(!d){continue}h=C.event.special[d]||{};d=(r?h.delegateType:h.bindType)||d;h=C.event.special[d]||{};c=C.extend({type:d,origType:v,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},a);if(!(f=u[d])){f=u[d]=[];f.delegateCount=0;if(!h.setup||h.setup.call(t,n,p,o)===false){if(t.addEventListener){t.addEventListener(d,o)}}}if(h.add){h.add.call(t,c);if(!c.handler.guid){c.handler.guid=i.guid}}if(r){f.splice(f.delegateCount++,0,c)}else{f.push(c)}C.event.global[d]=true}},remove:function(t,e,i,n,r){var a,o,s,u,l,c,h,f,d,p,v,g=it.hasData(t)&&it.get(t);if(!g||!(u=g.events)){return}e=(e||"").match(U)||[""];l=e.length;while(l--){s=Mt.exec(e[l])||[];d=v=s[1];p=(s[2]||"").split(".").sort();if(!d){for(d in u){C.event.remove(t,d+e[l],i,n,true)}continue}h=C.event.special[d]||{};d=(n?h.delegateType:h.bindType)||d;f=u[d]||[];s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");o=a=f.length;while(a--){c=f[a];if((r||v===c.origType)&&(!i||i.guid===c.guid)&&(!s||s.test(c.namespace))&&(!n||n===c.selector||n==="**"&&c.selector)){f.splice(a,1);if(c.selector){f.delegateCount--}if(h.remove){h.remove.call(t,c)}}}if(o&&!f.length){if(!h.teardown||h.teardown.call(t,p,g.handle)===false){C.removeEvent(t,d,g.handle)}delete u[d]}}if(C.isEmptyObject(u)){it.remove(t,"handle events")}},dispatch:function(t){var e=C.event.fix(t);var i,n,r,a,o,s,u=new Array(arguments.length),l=(it.get(this,"events")||{})[e.type]||[],c=C.event.special[e.type]||{};u[0]=e;for(i=1;i<arguments.length;i++){u[i]=arguments[i]}e.delegateTarget=this;if(c.preDispatch&&c.preDispatch.call(this,e)===false){return}s=C.event.handlers.call(this,e,l);i=0;while((a=s[i++])&&!e.isPropagationStopped()){e.currentTarget=a.elem;n=0;while((o=a.handlers[n++])&&!e.isImmediatePropagationStopped()){if(!e.rnamespace||e.rnamespace.test(o.namespace)){e.handleObj=o;e.data=o.data;r=((C.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,u);if(r!==undefined){if((e.result=r)===false){e.preventDefault();e.stopPropagation()}}}}}if(c.postDispatch){c.postDispatch.call(this,e)}return e.result},handlers:function(t,e){var i,n,r,a,o,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!(t.type==="click"&&t.button>=1)){for(;l!==this;l=l.parentNode||this){if(l.nodeType===1&&!(t.type==="click"&&l.disabled===true)){a=[];o={};for(i=0;i<u;i++){n=e[i];r=n.selector+" ";if(o[r]===undefined){o[r]=n.needsContext?C(r,this).index(l)>-1:C.find(r,this,null,[l]).length}if(o[r]){a.push(n)}}if(a.length){s.push({elem:l,handlers:a})}}}}l=this;if(u<e.length){s.push({elem:l,handlers:e.slice(u)})}return s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:true,configurable:true,get:_(e)?function(){if(this.originalEvent){return e(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[t]}},set:function(e){Object.defineProperty(this,t,{enumerable:true,configurable:true,writable:true,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==Rt()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===Rt()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&A(this,"input")){this.click();return false}},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){if(t.result!==undefined&&t.originalEvent){t.originalEvent.returnValue=t.result}}}}};C.removeEvent=function(t,e,i){if(t.removeEventListener){t.removeEventListener(e,i)}};C.Event=function(t,e){if(!(this instanceof C.Event)){return new C.Event(t,e)}if(t&&t.type){this.originalEvent=t;this.type=t.type;this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&t.returnValue===false?jt:kt;this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target;this.currentTarget=t.currentTarget;this.relatedTarget=t.relatedTarget}else{this.type=t}if(e){C.extend(this,e)}this.timeStamp=t&&t.timeStamp||Date.now();this[C.expando]=true};C.Event.prototype={constructor:C.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:false,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=jt;if(t&&!this.isSimulated){t.preventDefault()}},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=jt;if(t&&!this.isSimulated){t.stopPropagation()}},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=jt;if(t&&!this.isSimulated){t.stopImmediatePropagation()}this.stopPropagation()}};C.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,char:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(t){var e=t.button;if(t.which==null&&Tt.test(t.type)){return t.charCode!=null?t.charCode:t.keyCode}if(!t.which&&e!==undefined&&Et.test(t.type)){if(e&1){return 1}if(e&2){return 3}if(e&4){return 2}return 0}return t.which}},C.event.addProp);C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,a=t.handleObj;if(!r||r!==n&&!C.contains(n,r)){t.type=a.origType;i=a.handler.apply(this,arguments);t.type=e}return i}}});C.fn.extend({on:function(t,e,i,n){return At(this,t,e,i,n)},one:function(t,e,i,n){return At(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj){n=t.handleObj;C(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler);return this}if(typeof t==="object"){for(r in t){this.off(r,e,t[r])}return this}if(e===false||typeof e==="function"){i=e;e=undefined}if(i===false){i=kt}return this.each(function(){C.event.remove(this,t,i,e)})}});var It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function $t(t,e){if(A(t,"table")&&A(e.nodeType!==11?e:e.firstChild,"tr")){return C(t).children("tbody")[0]||t}return t}function Lt(t){t.type=(t.getAttribute("type")!==null)+"/"+t.type;return t}function Ft(t){if((t.type||"").slice(0,5)==="true/"){t.type=t.type.slice(5)}else{t.removeAttribute("type")}return t}function Gt(t,e){var i,n,r,a,o,s,u,l;if(e.nodeType!==1){return}if(it.hasData(t)){a=it.access(t);o=it.set(e,a);l=a.events;if(l){delete o.handle;o.events={};for(r in l){for(i=0,n=l[r].length;i<n;i++){C.event.add(e,r,l[r][i])}}}}if(nt.hasData(t)){s=nt.access(t);u=C.extend({},s);nt.set(e,u)}}function Ut(t,e){var i=e.nodeName.toLowerCase();if(i==="input"&&mt.test(t.type)){e.checked=t.checked}else if(i==="input"||i==="textarea"){e.defaultValue=t.defaultValue}}function Ht(t,e,i,n){e=c.apply([],e);var r,a,o,s,u,l,h=0,f=t.length,d=f-1,p=e[0],v=_(p);if(v||f>1&&typeof p==="string"&&!y.checkClone&&Dt.test(p)){return t.each(function(r){var a=t.eq(r);if(v){e[0]=p.call(this,r,a.html())}Ht(a,e,i,n)})}if(f){r=St(e,t[0].ownerDocument,false,t,n);a=r.firstChild;if(r.childNodes.length===1){r=a}if(a||n){o=C.map(wt(r,"script"),Lt);s=o.length;for(;h<f;h++){u=r;if(h!==d){u=C.clone(u,true,true);if(s){C.merge(o,wt(u,"script"))}}i.call(t[h],u,h)}if(s){l=o[o.length-1].ownerDocument;C.map(o,Ft);for(h=0;h<s;h++){u=o[h];if(_t.test(u.type||"")&&!it.access(u,"globalEval")&&C.contains(l,u)){if(u.src&&(u.type||"").toLowerCase()!=="module"){if(C._evalUrl){C._evalUrl(u.src)}}else{O(u.textContent.replace(Nt,""),l,u)}}}}}}return t}function Wt(t,e,i){var n,r=e?C.filter(e,t):t,a=0;for(;(n=r[a])!=null;a++){if(!i&&n.nodeType===1){C.cleanData(wt(n))}if(n.parentNode){if(i&&C.contains(n.ownerDocument,n)){Ot(wt(n,"script"))}n.parentNode.removeChild(n)}}return t}C.extend({htmlPrefilter:function(t){return t.replace(It,"<$1></$2>")},clone:function(t,e,i){var n,r,a,o,s=t.cloneNode(true),u=C.contains(t.ownerDocument,t);if(!y.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!C.isXMLDoc(t)){o=wt(s);a=wt(t);for(n=0,r=a.length;n<r;n++){Ut(a[n],o[n])}}if(e){if(i){a=a||wt(t);o=o||wt(s);for(n=0,r=a.length;n<r;n++){Gt(a[n],o[n])}}else{Gt(t,s)}}o=wt(s,"script");if(o.length>0){Ot(o,!u&&wt(t,"script"))}return s},cleanData:function(t){var e,i,n,r=C.event.special,a=0;for(;(i=t[a])!==undefined;a++){if(tt(i)){if(e=i[it.expando]){if(e.events){for(n in e.events){if(r[n]){C.event.remove(i,n)}else{C.removeEvent(i,n,e.handle)}}}i[it.expando]=undefined}if(i[nt.expando]){i[nt.expando]=undefined}}}}});C.fn.extend({detach:function(t){return Wt(this,t,true)},remove:function(t){return Wt(this,t)},text:function(t){return K(this,function(t){return t===undefined?C.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=t}})},null,t,arguments.length)},append:function(){return Ht(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=$t(this,t);e.appendChild(t)}})},prepend:function(){return Ht(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=$t(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ht(this,arguments,function(t){if(this.parentNode){this.parentNode.insertBefore(t,this)}})},after:function(){return Ht(this,arguments,function(t){if(this.parentNode){this.parentNode.insertBefore(t,this.nextSibling)}})},empty:function(){var t,e=0;for(;(t=this[e])!=null;e++){if(t.nodeType===1){C.cleanData(wt(t,false));t.textContent=""}}return this},clone:function(t,e){t=t==null?false:t;e=e==null?t:e;return this.map(function(){return C.clone(this,t,e)})},html:function(t){return K(this,function(t){var e=this[0]||{},i=0,n=this.length;if(t===undefined&&e.nodeType===1){return e.innerHTML}if(typeof t==="string"&&!Pt.test(t)&&!bt[(yt.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;i<n;i++){e=this[i]||{};if(e.nodeType===1){C.cleanData(wt(e,false));e.innerHTML=t}}e=0}catch(t){}}if(e){this.empty().append(t)}},null,t,arguments.length)},replaceWith:function(){var t=[];return Ht(this,arguments,function(e){var i=this.parentNode;if(C.inArray(this,t)<0){C.cleanData(wt(this));if(i){i.replaceChild(e,this)}}},t)}});C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){C.fn[t]=function(t){var i,n=[],r=C(t),a=r.length-1,o=0;for(;o<=a;o++){i=o===a?this:this.clone(true);C(r[o])[e](i);h.apply(n,i.get())}return this.pushStack(n)}});var Yt=new RegExp("^("+ut+")(?!px)[a-z%]+$","i");var zt=function(t){var e=t.ownerDocument.defaultView;if(!e||!e.opener){e=i}return e.getComputedStyle(t)};var Vt=new RegExp(ct.join("|"),"i");(function(){function t(){if(!c){return}l.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";Ct.appendChild(l).appendChild(c);var t=i.getComputedStyle(c);n=t.top!=="1%";u=e(t.marginLeft)===12;c.style.right="60%";o=e(t.right)===36;r=e(t.width)===36;c.style.position="absolute";a=c.offsetWidth===36||"absolute";Ct.removeChild(l);c=null}function e(t){return Math.round(parseFloat(t))}var n,r,a,o,u,l=s.createElement("div"),c=s.createElement("div");if(!c.style){return}c.style.backgroundClip="content-box";c.cloneNode(true).style.backgroundClip="";y.clearCloneStyle=c.style.backgroundClip==="content-box";C.extend(y,{boxSizingReliable:function(){t();return r},pixelBoxStyles:function(){t();return o},pixelPosition:function(){t();return n},reliableMarginLeft:function(){t();return u},scrollboxSize:function(){t();return a}})})();function Bt(t,e,i){var n,r,a,o,s=t.style;i=i||zt(t);if(i){o=i.getPropertyValue(e)||i[e];if(o===""&&!C.contains(t.ownerDocument,t)){o=C.style(t,e)}if(!y.pixelBoxStyles()&&Yt.test(o)&&Vt.test(e)){n=s.width;r=s.minWidth;a=s.maxWidth;s.minWidth=s.maxWidth=s.width=o;o=i.width;s.width=n;s.minWidth=r;s.maxWidth=a}}return o!==undefined?o+"":o}function qt(t,e){return{get:function(){if(t()){delete this.get;return}return(this.get=e).apply(this,arguments)}}}var Kt=/^(none|table(?!-c[ea]).+)/,Xt=/^--/,Zt={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:"0",fontWeight:"400"},Jt=["Webkit","Moz","ms"],te=s.createElement("div").style;function ee(t){if(t in te){return t}var e=t[0].toUpperCase()+t.slice(1),i=Jt.length;while(i--){t=Jt[i]+e;if(t in te){return t}}}function ie(t){var e=C.cssProps[t];if(!e){e=C.cssProps[t]=ee(t)||t}return e}function ne(t,e,i){var n=lt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function re(t,e,i,n,r,a){var o=e==="width"?1:0,s=0,u=0;if(i===(n?"border":"content")){return 0}for(;o<4;o+=2){if(i==="margin"){u+=C.css(t,i+ct[o],true,r)}if(!n){u+=C.css(t,"padding"+ct[o],true,r);if(i!=="padding"){u+=C.css(t,"border"+ct[o]+"Width",true,r)}else{s+=C.css(t,"border"+ct[o]+"Width",true,r)}}else{if(i==="content"){u-=C.css(t,"padding"+ct[o],true,r)}if(i!=="margin"){u-=C.css(t,"border"+ct[o]+"Width",true,r)}}}if(!n&&a>=0){u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-u-s-.5))}return u}function ae(t,e,i){var n=zt(t),r=Bt(t,e,n),a=C.css(t,"boxSizing",false,n)==="border-box",o=a;if(Yt.test(r)){if(!i){return r}r="auto"}o=o&&(y.boxSizingReliable()||r===t.style[e]);if(r==="auto"||!parseFloat(r)&&C.css(t,"display",false,n)==="inline"){r=t["offset"+e[0].toUpperCase()+e.slice(1)];o=true}r=parseFloat(r)||0;return r+re(t,e,i||(a?"border":"content"),o,n,r)+"px"}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Bt(t,"opacity");return i===""?"1":i}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{},style:function(t,e,i,n){if(!t||t.nodeType===3||t.nodeType===8||!t.style){return}var r,a,o,s=J(e),u=Xt.test(e),l=t.style;if(!u){e=ie(s)}o=C.cssHooks[e]||C.cssHooks[s];if(i!==undefined){a=typeof i;if(a==="string"&&(r=lt.exec(i))&&r[1]){i=dt(t,e,r);a="number"}if(i==null||i!==i){return}if(a==="number"){i+=r&&r[3]||(C.cssNumber[s]?"":"px")}if(!y.clearCloneStyle&&i===""&&e.indexOf("background")===0){l[e]="inherit"}if(!o||!("set"in o)||(i=o.set(t,i,n))!==undefined){if(u){l.setProperty(e,i)}else{l[e]=i}}}else{if(o&&"get"in o&&(r=o.get(t,false,n))!==undefined){return r}return l[e]}},css:function(t,e,i,n){var r,a,o,s=J(e),u=Xt.test(e);if(!u){e=ie(s)}o=C.cssHooks[e]||C.cssHooks[s];if(o&&"get"in o){r=o.get(t,true,i)}if(r===undefined){r=Bt(t,e,n)}if(r==="normal"&&e in Qt){r=Qt[e]}if(i===""||i){a=parseFloat(r);return i===true||isFinite(a)?a||0:r}return r}});C.each(["height","width"],function(t,e){C.cssHooks[e]={get:function(t,i,n){if(i){return Kt.test(C.css(t,"display"))&&(!t.getClientRects().length||!t.getBoundingClientRect().width)?ft(t,Zt,function(){return ae(t,e,n)}):ae(t,e,n)}},set:function(t,i,n){var r,a=zt(t),o=C.css(t,"boxSizing",false,a)==="border-box",s=n&&re(t,e,n,o,a);if(o&&y.scrollboxSize()===a.position){s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-re(t,e,"border",false,a)-.5)}if(s&&(r=lt.exec(i))&&(r[3]||"px")!=="px"){t.style[e]=i;i=C.css(t,e)}return ne(t,i,s)}}});C.cssHooks.marginLeft=qt(y.reliableMarginLeft,function(t,e){if(e){return(parseFloat(Bt(t,"marginLeft"))||t.getBoundingClientRect().left-ft(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}});C.each({margin:"",padding:"",border:"Width"},function(t,e){C.cssHooks[t+e]={expand:function(i){var n=0,r={},a=typeof i==="string"?i.split(" "):[i];for(;n<4;n++){r[t+ct[n]+e]=a[n]||a[n-2]||a[0]}return r}};if(t!=="margin"){C.cssHooks[t+e].set=ne}});C.fn.extend({css:function(t,e){return K(this,function(t,e,i){var n,r,a={},o=0;if(Array.isArray(e)){n=zt(t);r=e.length;for(;o<r;o++){a[e[o]]=C.css(t,e[o],false,n)}return a}return i!==undefined?C.style(t,e,i):C.css(t,e)},t,e,arguments.length>1)}});function oe(t,e,i,n,r){return new oe.prototype.init(t,e,i,n,r)}C.Tween=oe;oe.prototype={constructor:oe,init:function(t,e,i,n,r,a){this.elem=t;this.prop=i;this.easing=r||C.easing._default;this.options=e;this.start=this.now=this.cur();this.end=n;this.unit=a||(C.cssNumber[i]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,i=oe.propHooks[this.prop];if(this.options.duration){this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration)}else{this.pos=e=t}this.now=(this.end-this.start)*e+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(i&&i.set){i.set(this)}else{oe.propHooks._default.set(this)}return this}};oe.prototype.init.prototype=oe.prototype;oe.propHooks={_default:{get:function(t){var e;if(t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null){return t.elem[t.prop]}e=C.css(t.elem,t.prop,"");return!e||e==="auto"?0:e},set:function(t){if(C.fx.step[t.prop]){C.fx.step[t.prop](t)}else if(t.elem.nodeType===1&&(t.elem.style[C.cssProps[t.prop]]!=null||C.cssHooks[t.prop])){C.style(t.elem,t.prop,t.now+t.unit)}else{t.elem[t.prop]=t.now}}}};oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){if(t.elem.nodeType&&t.elem.parentNode){t.elem[t.prop]=t.now}}};C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"};C.fx=oe.prototype.init;C.fx.step={};var se,ue,le=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function he(){if(ue){if(s.hidden===false&&i.requestAnimationFrame){i.requestAnimationFrame(he)}else{i.setTimeout(he,C.fx.interval)}C.fx.tick()}}function fe(){i.setTimeout(function(){se=undefined});return se=Date.now()}function de(t,e){var i,n=0,r={height:t};e=e?1:0;for(;n<4;n+=2-e){i=ct[n];r["margin"+i]=r["padding"+i]=t}if(e){r.opacity=r.width=t}return r}function pe(t,e,i){var n,r=(me.tweeners[e]||[]).concat(me.tweeners["*"]),a=0,o=r.length;for(;a<o;a++){if(n=r[a].call(i,e,t)){return n}}}function ve(t,e,i){var n,r,a,o,s,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,v=t.nodeType&&ht(t),g=it.get(t,"fxshow");if(!i.queue){o=C._queueHooks(t,"fx");if(o.unqueued==null){o.unqueued=0;s=o.empty.fire;o.empty.fire=function(){if(!o.unqueued){s()}}}o.unqueued++;f.always(function(){f.always(function(){o.unqueued--;if(!C.queue(t,"fx").length){o.empty.fire()}})})}for(n in e){r=e[n];if(le.test(r)){delete e[n];a=a||r==="toggle";if(r===(v?"hide":"show")){if(r==="show"&&g&&g[n]!==undefined){v=true}else{continue}}d[n]=g&&g[n]||C.style(t,n)}}u=!C.isEmptyObject(e);if(!u&&C.isEmptyObject(d)){return}if(h&&t.nodeType===1){i.overflow=[p.overflow,p.overflowX,p.overflowY];l=g&&g.display;if(l==null){l=it.get(t,"display")}c=C.css(t,"display");if(c==="none"){if(l){c=l}else{gt([t],true);l=t.style.display||l;c=C.css(t,"display");gt([t])}}if(c==="inline"||c==="inline-block"&&l!=null){if(C.css(t,"float")==="none"){if(!u){f.done(function(){p.display=l});if(l==null){c=p.display;l=c==="none"?"":c}}p.display="inline-block"}}}if(i.overflow){p.overflow="hidden";f.always(function(){p.overflow=i.overflow[0];p.overflowX=i.overflow[1];p.overflowY=i.overflow[2]})}u=false;for(n in d){if(!u){if(g){if("hidden"in g){v=g.hidden}}else{g=it.access(t,"fxshow",{display:l})}if(a){g.hidden=!v}if(v){gt([t],true)}f.done(function(){if(!v){gt([t])}it.remove(t,"fxshow");for(n in d){C.style(t,n,d[n])}})}u=pe(v?g[n]:0,n,f);if(!(n in g)){g[n]=u.start;if(v){u.end=u.start;u.start=0}}}}function ge(t,e){var i,n,r,a,o;for(i in t){n=J(i);r=e[n];a=t[i];if(Array.isArray(a)){r=a[1];a=t[i]=a[0]}if(i!==n){t[n]=a;delete t[i]}o=C.cssHooks[n];if(o&&"expand"in o){a=o.expand(a);delete t[n];for(i in a){if(!(i in t)){t[i]=a[i];e[i]=r}}}else{e[n]=r}}}function me(t,e,i){var n,r,a=0,o=me.prefilters.length,s=C.Deferred().always(function(){delete u.elem}),u=function(){if(r){return false}var e=se||fe(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,a=1-n,o=0,u=l.tweens.length;for(;o<u;o++){l.tweens[o].run(a)}s.notifyWith(t,[l,a,i]);if(a<1&&u){return i}if(!u){s.notifyWith(t,[l,1,0])}s.resolveWith(t,[l]);return false},l=s.promise({elem:t,props:C.extend({},e),opts:C.extend(true,{specialEasing:{},easing:C.easing._default},i),originalProperties:e,originalOptions:i,startTime:se||fe(),duration:i.duration,tweens:[],createTween:function(e,i){var n=C.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);l.tweens.push(n);return n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r){return this}r=true;for(;i<n;i++){l.tweens[i].run(1)}if(e){s.notifyWith(t,[l,1,0]);s.resolveWith(t,[l,e])}else{s.rejectWith(t,[l,e])}return this}}),c=l.props;ge(c,l.opts.specialEasing);for(;a<o;a++){n=me.prefilters[a].call(l,t,c,l.opts);if(n){if(_(n.stop)){C._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)}return n}}C.map(c,pe,l);if(_(l.opts.start)){l.opts.start.call(t,l)}l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always);C.fx.timer(C.extend(u,{elem:t,anim:l,queue:l.opts.queue}));return l}C.Animation=C.extend(me,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);dt(i.elem,t,lt.exec(e),i);return i}]},tweener:function(t,e){if(_(t)){e=t;t=["*"]}else{t=t.match(U)}var i,n=0,r=t.length;for(;n<r;n++){i=t[n];me.tweeners[i]=me.tweeners[i]||[];me.tweeners[i].unshift(e)}},prefilters:[ve],prefilter:function(t,e){if(e){me.prefilters.unshift(t)}else{me.prefilters.push(t)}}});C.speed=function(t,e,i){var n=t&&typeof t==="object"?C.extend({},t):{complete:i||!i&&e||_(t)&&t,duration:t,easing:i&&e||e&&!_(e)&&e};if(C.fx.off){n.duration=0}else{if(typeof n.duration!=="number"){if(n.duration in C.fx.speeds){n.duration=C.fx.speeds[n.duration]}else{n.duration=C.fx.speeds._default}}}if(n.queue==null||n.queue===true){n.queue="fx"}n.old=n.complete;n.complete=function(){if(_(n.old)){n.old.call(this)}if(n.queue){C.dequeue(this,n.queue)}};return n};C.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ht).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=C.isEmptyObject(t),a=C.speed(e,i,n),o=function(){var e=me(this,C.extend({},t),a);if(r||it.get(this,"finish")){e.stop(true)}};o.finish=o;return r||a.queue===false?this.each(o):this.queue(a.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop;e(i)};if(typeof t!=="string"){i=e;e=t;t=undefined}if(e&&t!==false){this.queue(t||"fx",[])}return this.each(function(){var e=true,r=t!=null&&t+"queueHooks",a=C.timers,o=it.get(this);if(r){if(o[r]&&o[r].stop){n(o[r])}}else{for(r in o){if(o[r]&&o[r].stop&&ce.test(r)){n(o[r])}}}for(r=a.length;r--;){if(a[r].elem===this&&(t==null||a[r].queue===t)){a[r].anim.stop(i);e=false;a.splice(r,1)}}if(e||!i){C.dequeue(this,t)}})},finish:function(t){if(t!==false){t=t||"fx"}return this.each(function(){var e,i=it.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],a=C.timers,o=n?n.length:0;i.finish=true;C.queue(this,t,[]);if(r&&r.stop){r.stop.call(this,true)}for(e=a.length;e--;){if(a[e].elem===this&&a[e].queue===t){a[e].anim.stop(true);a.splice(e,1)}}for(e=0;e<o;e++){if(n[e]&&n[e].finish){n[e].finish.call(this)}}delete i.finish})}});C.each(["toggle","show","hide"],function(t,e){var i=C.fn[e];C.fn[e]=function(t,n,r){return t==null||typeof t==="boolean"?i.apply(this,arguments):this.animate(de(e,true),t,n,r)}});C.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){C.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}});C.timers=[];C.fx.tick=function(){var t,e=0,i=C.timers;se=Date.now();for(;e<i.length;e++){t=i[e];if(!t()&&i[e]===t){i.splice(e--,1)}}if(!i.length){C.fx.stop()}se=undefined};C.fx.timer=function(t){C.timers.push(t);C.fx.start()};C.fx.interval=13;C.fx.start=function(){if(ue){return}ue=true;he()};C.fx.stop=function(){ue=null};C.fx.speeds={slow:600,fast:200,_default:400};C.fn.delay=function(t,e){t=C.fx?C.fx.speeds[t]||t:t;e=e||"fx";return this.queue(e,function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})};(function(){var t=s.createElement("input"),e=s.createElement("select"),i=e.appendChild(s.createElement("option"));t.type="checkbox";y.checkOn=t.value!=="";y.optSelected=i.selected;t=s.createElement("input");t.value="t";t.type="radio";y.radioValue=t.value==="t"})();var ye,_e=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return K(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}});C.extend({attr:function(t,e,i){var n,r,a=t.nodeType;if(a===3||a===8||a===2){return}if(typeof t.getAttribute==="undefined"){return C.prop(t,e,i)}if(a!==1||!C.isXMLDoc(t)){r=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ye:undefined)}if(i!==undefined){if(i===null){C.removeAttr(t,e);return}if(r&&"set"in r&&(n=r.set(t,i,e))!==undefined){return n}t.setAttribute(e,i+"");return i}if(r&&"get"in r&&(n=r.get(t,e))!==null){return n}n=C.find.attr(t,e);return n==null?undefined:n},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&e==="radio"&&A(t,"input")){var i=t.value;t.setAttribute("type",e);if(i){t.value=i}return e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(U);if(r&&t.nodeType===1){while(i=r[n++]){t.removeAttribute(i)}}}});ye={set:function(t,e,i){if(e===false){C.removeAttr(t,i)}else{t.setAttribute(i,i)}return i}};C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var i=_e[e]||C.find.attr;_e[e]=function(t,e,n){var r,a,o=e.toLowerCase();if(!n){a=_e[o];_e[o]=r;r=i(t,e,n)!=null?o:null;_e[o]=a}return r}});var be=/^(?:input|select|textarea|button)$/i,we=/^(?:a|area)$/i;C.fn.extend({prop:function(t,e){return K(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}});C.extend({prop:function(t,e,i){var n,r,a=t.nodeType;if(a===3||a===8||a===2){return}if(a!==1||!C.isXMLDoc(t)){e=C.propFix[e]||e;r=C.propHooks[e]}if(i!==undefined){if(r&&"set"in r&&(n=r.set(t,i,e))!==undefined){return n}return t[e]=i}if(r&&"get"in r&&(n=r.get(t,e))!==null){return n}return t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");if(e){return parseInt(e,10)}if(be.test(t.nodeName)||we.test(t.nodeName)&&t.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!y.optSelected){C.propHooks.selected={get:function(t){var e=t.parentNode;if(e&&e.parentNode){e.parentNode.selectedIndex}return null},set:function(t){var e=t.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}}}}C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});function Oe(t){var e=t.match(U)||[];return e.join(" ")}function xe(t){return t.getAttribute&&t.getAttribute("class")||""}function Se(t){if(Array.isArray(t)){return t}if(typeof t==="string"){return t.match(U)||[]}return[]}C.fn.extend({addClass:function(t){var e,i,n,r,a,o,s,u=0;if(_(t)){return this.each(function(e){C(this).addClass(t.call(this,e,xe(this)))})}e=Se(t);if(e.length){while(i=this[u++]){r=xe(i);n=i.nodeType===1&&" "+Oe(r)+" ";if(n){o=0;while(a=e[o++]){if(n.indexOf(" "+a+" ")<0){n+=a+" "}}s=Oe(n);if(r!==s){i.setAttribute("class",s)}}}}return this},removeClass:function(t){var e,i,n,r,a,o,s,u=0;if(_(t)){return this.each(function(e){C(this).removeClass(t.call(this,e,xe(this)))})}if(!arguments.length){return this.attr("class","")}e=Se(t);if(e.length){while(i=this[u++]){r=xe(i);n=i.nodeType===1&&" "+Oe(r)+" ";if(n){o=0;while(a=e[o++]){while(n.indexOf(" "+a+" ")>-1){n=n.replace(" "+a+" "," ")}}s=Oe(n);if(r!==s){i.setAttribute("class",s)}}}}return this},toggleClass:function(t,e){var i=typeof t,n=i==="string"||Array.isArray(t);if(typeof e==="boolean"&&n){return e?this.addClass(t):this.removeClass(t)}if(_(t)){return this.each(function(i){C(this).toggleClass(t.call(this,i,xe(this),e),e)})}return this.each(function(){var e,r,a,o;if(n){r=0;a=C(this);o=Se(t);while(e=o[r++]){if(a.hasClass(e)){a.removeClass(e)}else{a.addClass(e)}}}else if(t===undefined||i==="boolean"){e=xe(this);if(e){it.set(this,"__className__",e)}if(this.setAttribute){this.setAttribute("class",e||t===false?"":it.get(this,"__className__")||"")}}})},hasClass:function(t){var e,i,n=0;e=" "+t+" ";while(i=this[n++]){if(i.nodeType===1&&(" "+Oe(xe(i))+" ").indexOf(e)>-1){return true}}return false}});var Ce=/\r/g;C.fn.extend({val:function(t){var e,i,n,r=this[0];if(!arguments.length){if(r){e=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()];if(e&&"get"in e&&(i=e.get(r,"value"))!==undefined){return i}i=r.value;if(typeof i==="string"){return i.replace(Ce,"")}return i==null?"":i}return}n=_(t);return this.each(function(i){var r;if(this.nodeType!==1){return}if(n){r=t.call(this,i,C(this).val())}else{r=t}if(r==null){r=""}else if(typeof r==="number"){r+=""}else if(Array.isArray(r)){r=C.map(r,function(t){return t==null?"":t+""})}e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()];if(!e||!("set"in e)||e.set(this,r,"value")===undefined){this.value=r}})}});C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return e!=null?e:Oe(C.text(t))}},select:{get:function(t){var e,i,n,r=t.options,a=t.selectedIndex,o=t.type==="select-one",s=o?null:[],u=o?a+1:r.length;if(a<0){n=u}else{n=o?a:0}for(;n<u;n++){i=r[n];if((i.selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){e=C(i).val();if(o){return e}s.push(e)}}return s},set:function(t,e){var i,n,r=t.options,a=C.makeArray(e),o=r.length;while(o--){n=r[o];if(n.selected=C.inArray(C.valHooks.option.get(n),a)>-1){i=true}}if(!i){t.selectedIndex=-1}return a}}}});C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e)){return t.checked=C.inArray(C(t).val(),e)>-1}}};if(!y.checkOn){C.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value}}});y.focusin="onfocusin"in i;var Te=/^(?:focusinfocus|focusoutblur)$/,Ee=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,n,r){var a,o,u,l,c,h,f,d,p=[n||s],g=v.call(t,"type")?t.type:t,m=v.call(t,"namespace")?t.namespace.split("."):[];o=d=u=n=n||s;if(n.nodeType===3||n.nodeType===8){return}if(Te.test(g+C.event.triggered)){return}if(g.indexOf(".")>-1){m=g.split(".");g=m.shift();m.sort()}c=g.indexOf(":")<0&&"on"+g;t=t[C.expando]?t:new C.Event(g,typeof t==="object"&&t);t.isTrigger=r?2:3;t.namespace=m.join(".");t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=undefined;if(!t.target){t.target=n}e=e==null?[t]:C.makeArray(e,[t]);f=C.event.special[g]||{};if(!r&&f.trigger&&f.trigger.apply(n,e)===false){return}if(!r&&!f.noBubble&&!b(n)){l=f.delegateType||g;if(!Te.test(l+g)){o=o.parentNode}for(;o;o=o.parentNode){p.push(o);u=o}if(u===(n.ownerDocument||s)){p.push(u.defaultView||u.parentWindow||i)}}a=0;while((o=p[a++])&&!t.isPropagationStopped()){d=o;t.type=a>1?l:f.bindType||g;h=(it.get(o,"events")||{})[t.type]&&it.get(o,"handle");if(h){h.apply(o,e)}h=c&&o[c];if(h&&h.apply&&tt(o)){t.result=h.apply(o,e);if(t.result===false){t.preventDefault()}}}t.type=g;if(!r&&!t.isDefaultPrevented()){if((!f._default||f._default.apply(p.pop(),e)===false)&&tt(n)){if(c&&_(n[g])&&!b(n)){u=n[c];if(u){n[c]=null}C.event.triggered=g;if(t.isPropagationStopped()){d.addEventListener(g,Ee)}n[g]();if(t.isPropagationStopped()){d.removeEventListener(g,Ee)}C.event.triggered=undefined;if(u){n[c]=u}}}}return t.result},simulate:function(t,e,i){var n=C.extend(new C.Event,i,{type:t,isSimulated:true});C.event.trigger(n,null,e)}});C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i){return C.event.trigger(t,e,i,true)}}});if(!y.focusin){C.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=it.access(n,e);if(!r){n.addEventListener(t,i,true)}it.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=it.access(n,e)-1;if(!r){n.removeEventListener(t,i,true);it.remove(n,e)}else{it.access(n,e,r)}}}})}var Me=i.location;var je=Date.now();var ke=/\?/;C.parseXML=function(t){var e;if(!t||typeof t!=="string"){return null}try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=undefined}if(!e||e.getElementsByTagName("parsererror").length){C.error("Invalid XML: "+t)}return e};var Re=/\[\]$/,Ae=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;function De(t,e,i,n){var r;if(Array.isArray(e)){C.each(e,function(e,r){if(i||Re.test(t)){n(t,r)}else{De(t+"["+(typeof r==="object"&&r!=null?e:"")+"]",r,i,n)}})}else if(!i&&x(e)==="object"){for(r in e){De(t+"["+r+"]",e[r],i,n)}}else{n(t,e)}}C.param=function(t,e){var i,n=[],r=function(t,e){var i=_(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(i==null?"":i)};if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t)){C.each(t,function(){r(this.name,this.value)})}else{for(i in t){De(i,t[i],e,r)}}return n.join("&")};C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Pe.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!mt.test(t))}).map(function(t,e){var i=C(this).val();if(i==null){return null}if(Array.isArray(i)){return C.map(i,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}})}return{name:e.name,value:i.replace(Ae,"\r\n")}}).get()}});var Ne=/%20/g,$e=/#.*$/,Le=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ge=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,He=/^\/\//,We={},Ye={},ze="*/".concat("*"),Ve=s.createElement("a");Ve.href=Me.href;function Be(t){return function(e,i){if(typeof e!=="string"){i=e;e="*"}var n,r=0,a=e.toLowerCase().match(U)||[];if(_(i)){while(n=a[r++]){if(n[0]==="+"){n=n.slice(1)||"*";(t[n]=t[n]||[]).unshift(i)}else{(t[n]=t[n]||[]).push(i)}}}}}function qe(t,e,i,n){var r={},a=t===Ye;function o(s){var u;r[s]=true;C.each(t[s]||[],function(t,s){var l=s(e,i,n);if(typeof l==="string"&&!a&&!r[l]){e.dataTypes.unshift(l);o(l);return false}else if(a){return!(u=l)}});return u}return o(e.dataTypes[0])||!r["*"]&&o("*")}function Ke(t,e){var i,n,r=C.ajaxSettings.flatOptions||{};for(i in e){if(e[i]!==undefined){(r[i]?t:n||(n={}))[i]=e[i]}}if(n){C.extend(true,t,n)}return t}function Xe(t,e,i){var n,r,a,o,s=t.contents,u=t.dataTypes;while(u[0]==="*"){u.shift();if(n===undefined){n=t.mimeType||e.getResponseHeader("Content-Type")}}if(n){for(r in s){if(s[r]&&s[r].test(n)){u.unshift(r);break}}}if(u[0]in i){a=u[0]}else{for(r in i){if(!u[0]||t.converters[r+" "+u[0]]){a=r;break}if(!o){o=r}}a=a||o}if(a){if(a!==u[0]){u.unshift(a)}return i[a]}}function Ze(t,e,i,n){var r,a,o,s,u,l={},c=t.dataTypes.slice();if(c[1]){for(o in t.converters){l[o.toLowerCase()]=t.converters[o]}}a=c.shift();while(a){if(t.responseFields[a]){i[t.responseFields[a]]=e}if(!u&&n&&t.dataFilter){e=t.dataFilter(e,t.dataType)}u=a;a=c.shift();if(a){if(a==="*"){a=u}else if(u!=="*"&&u!==a){o=l[u+" "+a]||l["* "+a];if(!o){for(r in l){s=r.split(" ");if(s[1]===a){o=l[u+" "+s[0]]||l["* "+s[0]];if(o){if(o===true){o=l[r]}else if(l[r]!==true){a=s[0];c.unshift(s[1])}break}}}}if(o!==true){if(o&&t.throws){e=o(e)}else{try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+u+" to "+a}}}}}}}return{state:"success",data:e}}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me.href,type:"GET",isLocal:Ge.test(Me.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(t,e){return e?Ke(Ke(t,C.ajaxSettings),e):Ke(C.ajaxSettings,t)},ajaxPrefilter:Be(We),ajaxTransport:Be(Ye),ajax:function(t,e){if(typeof t==="object"){e=t;t=undefined}e=e||{};var n,r,a,o,u,l,c,h,f,d,p=C.ajaxSetup({},e),v=p.context||p,g=p.context&&(v.nodeType||v.jquery)?C(v):C.event,m=C.Deferred(),y=C.Callbacks("once memory"),_=p.statusCode||{},b={},w={},O="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o){o={};while(e=Fe.exec(a)){o[e[1].toLowerCase()]=e[2]}}e=o[t.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){if(c==null){t=w[t.toLowerCase()]=w[t.toLowerCase()]||t;b[t]=e}return this},overrideMimeType:function(t){if(c==null){p.mimeType=t}return this},statusCode:function(t){var e;if(t){if(c){x.always(t[x.status])}else{for(e in t){_[e]=[_[e],t[e]]}}}return this},abort:function(t){var e=t||O;if(n){n.abort(e)}S(0,e);return this}};m.promise(x);p.url=((t||p.url||Me.href)+"").replace(He,Me.protocol+"//");p.type=e.method||e.type||p.method||p.type;p.dataTypes=(p.dataType||"*").toLowerCase().match(U)||[""];if(p.crossDomain==null){l=s.createElement("a");try{l.href=p.url;l.href=l.href;p.crossDomain=Ve.protocol+"//"+Ve.host!==l.protocol+"//"+l.host}catch(t){p.crossDomain=true}}if(p.data&&p.processData&&typeof p.data!=="string"){p.data=C.param(p.data,p.traditional)}qe(We,p,e,x);if(c){return x}h=C.event&&p.global;if(h&&C.active++===0){C.event.trigger("ajaxStart")}p.type=p.type.toUpperCase();p.hasContent=!Ue.test(p.type);r=p.url.replace($e,"");if(!p.hasContent){d=p.url.slice(r.length);if(p.data&&(p.processData||typeof p.data==="string")){r+=(ke.test(r)?"&":"?")+p.data;delete p.data}if(p.cache===false){r=r.replace(Le,"$1");d=(ke.test(r)?"&":"?")+"_="+je+++d}p.url=r+d}else if(p.data&&p.processData&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0){p.data=p.data.replace(Ne,"+")}if(p.ifModified){if(C.lastModified[r]){x.setRequestHeader("If-Modified-Since",C.lastModified[r])}if(C.etag[r]){x.setRequestHeader("If-None-Match",C.etag[r])}}if(p.data&&p.hasContent&&p.contentType!==false||e.contentType){x.setRequestHeader("Content-Type",p.contentType)}x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(p.dataTypes[0]!=="*"?", "+ze+"; q=0.01":""):p.accepts["*"]);for(f in p.headers){x.setRequestHeader(f,p.headers[f])}if(p.beforeSend&&(p.beforeSend.call(v,x,p)===false||c)){return x.abort()}O="abort";y.add(p.complete);x.done(p.success);x.fail(p.error);n=qe(Ye,p,e,x);if(!n){S(-1,"No Transport")}else{x.readyState=1;if(h){g.trigger("ajaxSend",[x,p])}if(c){return x}if(p.async&&p.timeout>0){u=i.setTimeout(function(){x.abort("timeout")},p.timeout)}try{c=false;n.send(b,S)}catch(t){if(c){throw t}S(-1,t)}}function S(t,e,o,s){var l,f,d,b,w,O=e;if(c){return}c=true;if(u){i.clearTimeout(u)}n=undefined;a=s||"";x.readyState=t>0?4:0;l=t>=200&&t<300||t===304;if(o){b=Xe(p,x,o)}b=Ze(p,b,x,l);if(l){if(p.ifModified){w=x.getResponseHeader("Last-Modified");if(w){C.lastModified[r]=w}w=x.getResponseHeader("etag");if(w){C.etag[r]=w}}if(t===204||p.type==="HEAD"){O="nocontent"}else if(t===304){O="notmodified"}else{O=b.state;f=b.data;d=b.error;l=!d}}else{d=O;if(t||!O){O="error";if(t<0){t=0}}}x.status=t;x.statusText=(e||O)+"";if(l){m.resolveWith(v,[f,O,x])}else{m.rejectWith(v,[x,O,d])}x.statusCode(_);_=undefined;if(h){g.trigger(l?"ajaxSuccess":"ajaxError",[x,p,l?f:d])}y.fireWith(v,[x,O]);if(h){g.trigger("ajaxComplete",[x,p]);if(!--C.active){C.event.trigger("ajaxStop")}}}return x},getJSON:function(t,e,i){return C.get(t,e,i,"json")},getScript:function(t,e){return C.get(t,undefined,e,"script")}});C.each(["get","post"],function(t,e){C[e]=function(t,i,n,r){if(_(i)){r=r||n;n=i;i=undefined}return C.ajax(C.extend({url:t,type:e,dataType:r,data:i,success:n},C.isPlainObject(t)&&t))}});C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",cache:true,async:false,global:false,throws:true})};C.fn.extend({wrapAll:function(t){var e;if(this[0]){if(_(t)){t=t.call(this[0])}e=C(t,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){e.insertBefore(this[0])}e.map(function(){var t=this;while(t.firstElementChild){t=t.firstElementChild}return t}).append(this)}return this},wrapInner:function(t){if(_(t)){return this.each(function(e){C(this).wrapInner(t.call(this,e))})}return this.each(function(){var e=C(this),i=e.contents();if(i.length){i.wrapAll(t)}else{e.append(t)}})},wrap:function(t){var e=_(t);return this.each(function(i){C(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)});return this}});C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)};C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)};C.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Qe={0:200,1223:204},Je=C.ajaxSettings.xhr();y.cors=!!Je&&"withCredentials"in Je;y.ajax=Je=!!Je;C.ajaxTransport(function(t){var e,n;if(y.cors||Je&&!t.crossDomain){return{send:function(r,a){var o,s=t.xhr();s.open(t.type,t.url,t.async,t.username,t.password);if(t.xhrFields){for(o in t.xhrFields){s[o]=t.xhrFields[o]}}if(t.mimeType&&s.overrideMimeType){s.overrideMimeType(t.mimeType)}if(!t.crossDomain&&!r["X-Requested-With"]){r["X-Requested-With"]="XMLHttpRequest"}for(o in r){s.setRequestHeader(o,r[o])}e=function(t){return function(){if(e){e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null;if(t==="abort"){s.abort()}else if(t==="error"){if(typeof s.status!=="number"){a(0,"error")}else{a(s.status,s.statusText)}}else{a(Qe[s.status]||s.status,s.statusText,(s.responseType||"text")!=="text"||typeof s.responseText!=="string"?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders())}}}};s.onload=e();n=s.onerror=s.ontimeout=e("error");if(s.onabort!==undefined){s.onabort=n}else{s.onreadystatechange=function(){if(s.readyState===4){i.setTimeout(function(){if(e){n()}})}}}e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e){throw t}}},abort:function(){if(e){e()}}}}});C.ajaxPrefilter(function(t){if(t.crossDomain){t.contents.script=false}});C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){C.globalEval(t);return t}}});C.ajaxPrefilter("script",function(t){if(t.cache===undefined){t.cache=false}if(t.crossDomain){t.type="GET"}});C.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=C("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove();i=null;if(t){r(t.type==="error"?404:200,t.type)}});s.head.appendChild(e[0])},abort:function(){if(i){i()}}}}});var ti=[],ei=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ti.pop()||C.expando+"_"+je++;this[t]=true;return t}});C.ajaxPrefilter("json jsonp",function(t,e,n){var r,a,o,s=t.jsonp!==false&&(ei.test(t.url)?"url":typeof t.data==="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ei.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp"){r=t.jsonpCallback=_(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(s){t[s]=t[s].replace(ei,"$1"+r)}else if(t.jsonp!==false){t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+r}t.converters["script json"]=function(){if(!o){C.error(r+" was not called")}return o[0]};t.dataTypes[0]="json";a=i[r];i[r]=function(){o=arguments};n.always(function(){if(a===undefined){C(i).removeProp(r)}else{i[r]=a}if(t[r]){t.jsonpCallback=e.jsonpCallback;ti.push(r)}if(o&&_(a)){a(o[0])}o=a=undefined});return"script"}});y.createHTMLDocument=function(){var t=s.implementation.createHTMLDocument("").body;t.innerHTML="<form></form><form></form>";return t.childNodes.length===2}();C.parseHTML=function(t,e,i){if(typeof t!=="string"){return[]}if(typeof e==="boolean"){i=e;e=false}var n,r,a;if(!e){if(y.createHTMLDocument){e=s.implementation.createHTMLDocument("");n=e.createElement("base");n.href=s.location.href;e.head.appendChild(n)}else{e=s}}r=I.exec(t);a=!i&&[];if(r){return[e.createElement(r[1])]}r=St([t],e,a);if(a&&a.length){C(a).remove()}return C.merge([],r.childNodes)};C.fn.load=function(t,e,i){var n,r,a,o=this,s=t.indexOf(" ");if(s>-1){n=Oe(t.slice(s));t=t.slice(0,s)}if(_(e)){i=e;e=undefined}else if(e&&typeof e==="object"){r="POST"}if(o.length>0){C.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments;o.html(n?C("<div>").append(C.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,a||[t.responseText,e,t])})})}return this};C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}});C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length};C.offset={setOffset:function(t,e,i){var n,r,a,o,s,u,l,c=C.css(t,"position"),h=C(t),f={};if(c==="static"){t.style.position="relative"}s=h.offset();a=C.css(t,"top");u=C.css(t,"left");l=(c==="absolute"||c==="fixed")&&(a+u).indexOf("auto")>-1;if(l){n=h.position();o=n.top;r=n.left}else{o=parseFloat(a)||0;r=parseFloat(u)||0}if(_(e)){e=e.call(t,i,C.extend({},s))}if(e.top!=null){f.top=e.top-s.top+o}if(e.left!=null){f.left=e.left-s.left+r}if("using"in e){e.using.call(t,f)}else{h.css(f)}}};C.fn.extend({offset:function(t){if(arguments.length){return t===undefined?this:this.each(function(e){C.offset.setOffset(this,t,e)})}var e,i,n=this[0];if(!n){return}if(!n.getClientRects().length){return{top:0,left:0}}e=n.getBoundingClientRect();i=n.ownerDocument.defaultView;return{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}},position:function(){if(!this[0]){return}var t,e,i,n=this[0],r={top:0,left:0};if(C.css(n,"position")==="fixed"){e=n.getBoundingClientRect()}else{e=this.offset();i=n.ownerDocument;t=n.offsetParent||i.documentElement;while(t&&(t===i.body||t===i.documentElement)&&C.css(t,"position")==="static"){t=t.parentNode}if(t&&t!==n&&t.nodeType===1){r=C(t).offset();r.top+=C.css(t,"borderTopWidth",true);r.left+=C.css(t,"borderLeftWidth",true)}}return{top:e.top-r.top-C.css(n,"marginTop",true),left:e.left-r.left-C.css(n,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var t=this.offsetParent;while(t&&C.css(t,"position")==="static"){t=t.offsetParent}return t||Ct})}});C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;C.fn[t]=function(n){return K(this,function(t,n,r){var a;if(b(t)){a=t}else if(t.nodeType===9){a=t.defaultView}if(r===undefined){return a?a[e]:t[n]}if(a){a.scrollTo(!i?r:a.pageXOffset,i?r:a.pageYOffset)}else{t[n]=r}},t,n,arguments.length)}});C.each(["top","left"],function(t,e){C.cssHooks[e]=qt(y.pixelPosition,function(t,i){if(i){i=Bt(t,e);return Yt.test(i)?C(t).position()[e]+"px":i}})});C.each({Height:"height",Width:"width"},function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){C.fn[n]=function(r,a){var o=arguments.length&&(i||typeof r!=="boolean"),s=i||(r===true||a===true?"margin":"border");return K(this,function(e,i,r){var a;if(b(e)){return n.indexOf("outer")===0?e["inner"+t]:e.document.documentElement["client"+t]}if(e.nodeType===9){a=e.documentElement;return Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])}return r===undefined?C.css(e,i,s):C.style(e,i,r,s)},e,o?r:undefined,o)}})});C.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(t,e){C.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}});C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});C.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return arguments.length===1?this.off(t,"**"):this.off(e,t||"**",i)}});C.proxy=function(t,e){var i,n,r;if(typeof e==="string"){i=t[e];e=t;t=i}if(!_(t)){return undefined}n=l.call(arguments,2);r=function(){return t.apply(e||this,n.concat(l.call(arguments)))};r.guid=t.guid=t.guid||C.guid++;return r};C.holdReady=function(t){if(t){C.readyWait++}else{C.ready(true)}};C.isArray=Array.isArray;C.parseJSON=JSON.parse;C.nodeName=A;C.isFunction=_;C.isWindow=b;C.camelCase=J;C.type=x;C.now=Date.now;C.isNumeric=function(t){var e=C.type(t);return(e==="number"||e==="string")&&!isNaN(t-parseFloat(t))};if(true){!(n=[],r=function(){return C}.apply(e,n),r!==undefined&&(t.exports=r))}var ii=i.jQuery,ni=i.$;C.noConflict=function(t){if(i.$===C){i.$=ni}if(t&&i.jQuery===C){i.jQuery=ii}return C};if(!a){i.jQuery=i.$=C}return C})},function(t,e,i){"use strict";i.d(e,"a",function(){return s});i.d(e,"c",function(){return u});i.d(e,"b",function(){return l});var n=i(63);var r=i(145);var a=i(39);var o={};function s(t,e){var i,n=e;if(typeof t==="string"){t=[t]}if(Object(r["a"])(e)){n=function(t,i){i[e]=Object(a["a"])(t)}}for(i=0;i<t.length;i++){o[t[i]]=n}}function u(t,e){s(t,function(t,i,n,r){n._w=n._w||{};e(t,n._w,n,r)})}function l(t,e,i){if(e!=null&&Object(n["a"])(o,t)){o[t](e,i._a,i,t)}}},function(t,e,i){"use strict";i.r(e);var n=i(51);var r=i.n(n);var a=i(317);var o=i.n(a);var s=i(466);var u=i.n(s);var l=i(560);var c=i.n(l);var h=i(558);var f=i.n(h);if(window.location.protocol==="http:"&&window.location.hostname!=="localhost"){var d=window.location.href.substr(5);window.location="https:"+d}},function(t,e,i){"use strict";var n=i(2);var r=i(3);var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}return function(e,i,n){if(i)t(e.prototype,i);if(n)t(e,n);return e}}();function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function t(e){o(this,t);this.active_=e.active===true;this.expression=e.expression!==undefined?e.expression:null;this.lowerBoundary_=e.lowerBoundary!==undefined?e.lowerBoundary:null;this.operator_=e.operator||null;this.upperBoundary_=e.upperBoundary!==undefined?e.upperBoundary:null;this.isCustom_=e.isCustom!==false;this.name_=e.name;this.operators_=e.operators||null;this.propertyName_=e.propertyName;this.type_=n["a"].assert(e.type);this.listenerKeys=[]}t.prototype.getExpression=function t(){return this.expression};t.prototype.setExpression=function t(e){this.expression=e};t.prototype.reset=function t(){if(this.getExpression()!==null){this.setExpression(null)}if(this.lowerBoundary!==null){this.lowerBoundary=null}if(this.upperBoundary!==null){this.upperBoundary=null}};t.prototype.destroy=function t(){this.listenerKeys.forEach(r["e"]);this.listenerKeys.length=0};a(t,[{key:"active",get:function t(){return this.active_},set:function t(e){this.active_=e}},{key:"lowerBoundary",get:function t(){return this.lowerBoundary_},set:function t(e){this.lowerBoundary_=e}},{key:"operator",get:function t(){return this.operator_},set:function t(e){this.operator_=e}},{key:"upperBoundary",get:function t(){return this.upperBoundary_},set:function t(e){this.upperBoundary_=e}},{key:"isCustom",get:function t(){return this.isCustom_}},{key:"name",get:function t(){return this.name_}},{key:"operators",get:function t(){return this.operators_}},{key:"propertyName",get:function t(){return this.propertyName_}},{key:"type",get:function t(){return this.type_}},{key:"value",get:function e(){var i=null;var n=this.getExpression();var r=this.lowerBoundary;var a=this.operator;var o=this.propertyName;var s=this.upperBoundary;if(a){if(a===t.OperatorType.BETWEEN||a===t.TemporalOperatorType.DURING){if(r!==null&&s!==null){i={operator:a,lowerBoundary:r,propertyName:o,upperBoundary:s}}}else{if(n!==null){i={expression:n,operator:a,propertyName:o}}}}return i}}]);return t}();s.OperatorType={BETWEEN:"..",EQUAL_TO:"=",GREATER_THAN:">",GREATER_THAN_OR_EQUAL_TO:">=",LESSER_THAN:"<",LESSER_THAN_OR_EQUAL_TO:"<=",LIKE:"~",NOT_EQUAL_TO:"!="};s.SpatialOperatorType={CONTAINS:"contains",INTERSECTS:"intersects",WITHIN:"within"};s.TemporalOperatorType={BEGINS:"time_start",DURING:"time_during",ENDS:"time_end",EQUALS:"time_equal"};e["a"]=s},function(t,e,i){"use strict";i.r(e);var n=i(164);var r=i(251);var a=angular.module("ngeoDatasourceModule",[n["a"].module.name,r["a"].module.name]);var o=a;var s=i(228);var u=function t(e,i){this.gettextCatalog_=i;this.encoding_=e.has("ngeoCsvEncoding")?e.get("ngeoCsvEncoding"):"utf-8";this.extension_=e.has("ngeoCsvExtension")?e.get("ngeoCsvExtension"):".csv";this.includeHeader_=e.has("ngeoCsvIncludeHeader")?e.get("ngeoCsvIncludeHeader"):true;this.quote_=e.has("ngeoCsvQuote")?e.get("ngeoCsvQuote"):'"';this.separator_=e.has("ngeoCsvSeparator")?e.get("ngeoCsvSeparator"):",";this.download_=e.get("ngeoDownload")};u.$inject=["$injector","gettextCatalog"];u.$inject=["$injector","gettextCatalog"];u.prototype.generateCsv=function(t,e){var i=this;if(t.length==0||e.length==0){return""}var n=e.map(function(t){return i.gettextCatalog_.getString(t.name)});var r=this.getRow_(n);var a=t.map(function(t){var n=e.map(function(e){return t[e.name]});return i.getRow_(n)});return this.includeHeader_?r+a.join(""):a.join("")};u.prototype.getRow_=function(t){var e=this;var i=new RegExp(this.quote_,"g");var n=this.quote_+this.quote_;var r=t.map(function(t){if(t!==undefined&&t!==null){t=""+t;return e.quote_+t.replace(i,n)+e.quote_}else{return""}});return r.join(this.separator_)+"\n"};u.prototype.startDownload=function(t,e,i){var n=this.generateCsv(t,e);this.download_(n,i,"text/csv;charset="+this.encoding_)};u.module=angular.module("ngeoCsvDownload",[s["a"].name]);u.module.service("ngeoCsvDownload",u);var l=u;var c=angular.module("ngeoDownloadModule",[l.module.name,s["a"].name]);var h=c;var f=i(284);var d=i(274);var p=i(272);var v=i(2);var g=i(86);var m=i(1);var y=i(3);var _=i(14);var b=i(20);var w=i(146);var O=i(29);var x=i(36);var S=function t(e){this.angle_=e.angle!==undefined?e.angle:0;this.radius_=e.radius;this.sides_=e.sides!==undefined?e.sides:3;this.listenerKeys_=[];x["a"].call(this,{handleEvent:b["b"]})};m["d"](S,x["a"]);S.prototype.setActive=function(t){x["a"].prototype.setActive.call(this,t);if(this.getMap()){if(t){this.enable_()}else{this.disable_()}}};S.prototype.setMap=function(t){var e=this.getActive();var i=this.getMap();if(i&&e){this.disable_()}x["a"].prototype.setMap.call(this,t);if(t&&e){this.enable_()}};S.prototype.enable_=function(){var t=this.getMap();v["a"].assert(t,"Map should be set.");this.listenerKeys_.push(y["a"](t,"click",this.handleMapClick_,this))};S.prototype.disable_=function(){var t=this.getMap();v["a"].assert(t,"Map should be set.");this.listenerKeys_.forEach(y["e"]);this.listenerKeys_.length=0};S.prototype.handleMapClick_=function(t){var e=t.coordinate;var i=Object(O["c"])(new w["a"](e),this.sides_);Object(O["e"])(i,e,this.radius_,this.angle_);var n=new g["a"]("drawend",{feature:new _["a"](i)});this.dispatchEvent(n)};var C=S;var T=angular.module("ngeoCreateregularpolygonfromclick",[]);T.directive_=function(){return{controller:"ngeoCreateregularpolygonfromclickController",bindToController:true,scope:{active:"=ngeoCreateregularpolygonfromclickActive",angle:"<?ngeoCreateregularpolygonfromclickAngle",features:"=ngeoCreateregularpolygonfromclickFeatures",map:"=ngeoCreateregularpolygonfromclickMap",radius:"<ngeoCreateregularpolygonfromclickRadius",sides:"<?ngeoCreateregularpolygonfromclickSides"}}};T.directive("ngeoCreateregularpolygonfromclick",T.directive_);T.Controller_=function(t){var e=this;this.active=false;t.$watch(function(){return e.active},function(t){e.interaction_.setActive(t)});this.angle;this.features;this.map;this.radius;this.sides;this.interaction_;this.interactionListenerKey_;t.$on("$destroy",this.handleDestroy_.bind(this))};T.Controller_.$inject=["$scope"];T.Controller_.prototype.$onInit=function(){this.interaction_=new C({angle:this.angle,radius:this.radius,sides:this.sides});this.interaction_.setActive(this.active);this.interactionListenerKey_=y["a"](this.interaction_,"drawend",this.handleDrawEnd_,this);this.map.addInteraction(this.interaction_)};T.Controller_.prototype.handleDrawEnd_=function(t){var e=new _["a"](t.detail.feature.getGeometry());this.features.push(e)};T.Controller_.prototype.handleDestroy_=function(){y["e"](this.interactionListenerKey_);this.interaction_.setActive(false);this.map.removeInteraction(this.interaction_)};T.controller("ngeoCreateregularpolygonfromclickController",T.Controller_);var E=T;var M=angular.module("ngeoEditingModule",[d["a"].name,p["a"].name,E.name]);var j=M;var k=i(187);var R=i(158);var A=i(327);var I=i(283);var P=i(184);var D=i(50);var N=i(31);var $=i(65);var L=i(61);var F=i(271);var G=i(270);var U=i(33);var H=i(218);var W=function t(e){v["a"].assert(e.features);this.features_=e.features;this.listenerKeys_=[];this.interactions_=[];this.otherFeatures_=new U["b"];this.interactions_.push(new H["a"]({deleteCondition:$["b"].deleteCondition,features:this.otherFeatures_,pixelTolerance:e.pixelTolerance,style:e.style,wrapX:e.wrapX}));this.circleFeatures_=new U["b"];this.interactions_.push(new F["a"]({features:this.circleFeatures_,pixelTolerance:e.pixelTolerance,style:e.style,wrapX:e.wrapX}));this.rectangleFeatures_=new U["b"];this.interactions_.push(new G["a"]({features:this.rectangleFeatures_,pixelTolerance:e.pixelTolerance,style:e.style,wrapX:e.wrapX}));x["a"].call(this,{handleEvent:b["b"]})};m["d"](W,x["a"]);W.prototype.setActive=function(t){x["a"].prototype.setActive.call(this,t);this.setState_()};W.prototype.setMap=function(t){var e=this.interactions_;var i=this.getMap();if(i){e.forEach(function(t){i.removeInteraction(t)})}x["a"].prototype.setMap.call(this,t);if(t){e.forEach(function(e){t.addInteraction(e)})}this.setState_()};W.prototype.setState_=function(){var t=this;var e=this.getMap();var i=this.getActive();var n=this.interactions_;var r=this.listenerKeys_;n.forEach(function(t){t.setActive(i&&!!e)});if(i&&e){this.features_.forEach(function(e){return t.addFeature_(e)});r.push(y["a"](this.features_,"add",this.handleFeaturesAdd_,this),y["a"](this.features_,"remove",this.handleFeaturesRemove_,this))}else{r.forEach(y["e"]);r.length=0;this.features_.forEach(function(e){return t.removeFeature_(e)})}};W.prototype.handleFeaturesAdd_=function(t){var e=t.element;v["a"].assertInstanceof(e,_["a"],"feature should be an ol.Feature");this.addFeature_(e)};W.prototype.handleFeaturesRemove_=function(t){var e=t.element;this.removeFeature_(e)};W.prototype.addFeature_=function(t){var e=this.getFeatureCollection_(t);e.push(t)};W.prototype.removeFeature_=function(t){var e=this.getFeatureCollection_(t);e.remove(t)};W.prototype.getFeatureCollection_=function(t){var e=void 0;var i=t.get(L["a"].IS_CIRCLE);var n=t.get(L["a"].IS_RECTANGLE);if(i===true||i==="true"){e=this.circleFeatures_}else if(n===true||n==="true"){e=this.rectangleFeatures_}else{e=this.otherFeatures_}return e};var Y=W;var z=i(269);var V=i(4);var B=i(67);var q=i(46);var K=i(32);var X=i(204);var Z=i(38);var Q=i(34);var J=function t(e){this.listenerKeys_=[];this.featureListenerKeys_={};this.keyPressListenerKey_=null;this.myFeatures_=e.features!==undefined?e.features:null;this.vectorSource_=new Q["b"]({useSpatialIndex:false});this.vectorLayer_=new Z["a"]({source:this.vectorSource_,style:e.style,updateWhileAnimating:true,updateWhileInteracting:true});this.centerFeatures_={};X["a"].call(this,e)};m["d"](J,X["a"]);J.prototype.setActive=function(t){if(this.keyPressListenerKey_){y["e"](this.keyPressListenerKey_);this.keyPressListenerKey_=null}X["a"].prototype.setActive.call(this,t);if(t){this.keyPressListenerKey_=y["a"](document,"keyup",this.handleKeyUp_,this)}this.setState_()};J.prototype.setMap=function(t){var e=this.getMap();if(e){this.vectorLayer_.setMap(null)}X["a"].prototype.setMap.call(this,t);if(t){this.vectorLayer_.setMap(t)}this.setState_()};J.prototype.setState_=function(){var t=this;var e=this.getMap();var i=this.getActive();var n=this.myFeatures_;var r=this.listenerKeys_;if(e&&i&&n){n.forEach(function(e){return t.addFeature_(e)});r.push(y["a"](n,"add",this.handleFeaturesAdd_,this),y["a"](n,"remove",this.handleFeaturesRemove_,this))}else{if(e){var a=e.getTargetElement();a.style.cursor="default"}r.forEach(y["e"]);r.length=0;n.forEach(function(e){return t.removeFeature_(e)})}};J.prototype.handleFeaturesAdd_=function(t){var e=t.element;v["a"].assertInstanceof(e,_["a"],"feature should be an ol.Feature");this.addFeature_(e)};J.prototype.handleFeaturesRemove_=function(t){var e=t.element;this.removeFeature_(e)};J.prototype.addFeature_=function(t){var e=m["c"](t);var i=t.getGeometry();v["a"].assertInstanceof(i,B["a"]);this.featureListenerKeys_[e]=y["a"](i,"change",this.handleGeometryChange_.bind(this,t),this);var n=this.getGeometryCenterPoint_(i);var r=new _["a"](n);this.centerFeatures_[e]=r;this.vectorSource_.addFeature(r)};J.prototype.removeFeature_=function(t){var e=m["c"](t);if(this.featureListenerKeys_[e]){y["e"](this.featureListenerKeys_[e]);delete this.featureListenerKeys_[e];this.vectorSource_.removeFeature(this.centerFeatures_[e]);delete this.centerFeatures_[e]}};J.prototype.handleGeometryChange_=function(t,e){var i=e.target;v["a"].assertInstanceof(i,B["a"]);var n=this.getGeometryCenterPoint_(i);var r=m["c"](t);this.centerFeatures_[r].setGeometry(n)};J.prototype.getGeometryCenterPoint_=function(t){var e=void 0;var i=void 0;if(t instanceof O["b"]){i=t.getInteriorPoint()}else if(t instanceof q["a"]){e=t.getCoordinateAt(.5)}else{var n=t.getExtent();e=V["x"](n)}if(!i&&e){i=new K["a"](e)}v["a"].assert(i,"Point should be thruthy");return i};J.prototype.handleKeyUp_=function(t){if(!$["a"].mousedown&&t.keyCode===27){this.setActive(false)}};var tt=J;var et=i(203);var it=i(225);var nt=i(97);var rt=i(183);var at=i(81);var ot=i(133);var st=i(54);var ut=i(101);var lt=i(181);var ct=i(9);var ht=i(13);var ft=i(123);var dt=i(41);var pt=i(522);function vt(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var gt=angular.module("ngeoRule",[I["a"].name,P["a"].module.name,et["a"].module.name,it["a"].name,rt["a"].module.name,ot["a"].module.name]);gt.run(["$templateCache",function(t){t.put("ngeo/filter/rulecomponent",i(451))}]);gt.value("ngeoRuleTemplateUrl",function(t){var e=t["ngeoRuleTemplateUrl"];return e!==undefined?e:"ngeo/filter/rulecomponent"});mt.$inject=["$attrs","ngeoRuleTemplateUrl"];function mt(t,e){return e(t)}gt.RuleController_=function(){t.$inject=["gettextCatalog","$scope","$timeout","ngeoFeatureHelper","ngeoRuleHelper","ngeoToolActivateMgr"];function t(e,i,n,r,a,o){var s,u;vt(this,t);this.featureOverlay;this.map;this.rule;this.toolGroup;this.gettextCatalog_=e;this.scope_=i;this.timeout_=n;this.ngeoFeatureHelper_=r;this.ngeoRuleHelper_=a;this.ngeoToolActivateMgr_=o;this.clone;var l=st["a"].OperatorType;var c=st["a"].SpatialOperatorType;var h=st["a"].TemporalOperatorType;this.operators=(s={},s[l.EQUAL_TO]=e.getString("Is equal to"),s[l.GREATER_THAN]=e.getString("Is greater than"),s[l.GREATER_THAN_OR_EQUAL_TO]=e.getString("Is greater than or equal to"),s[l.LESSER_THAN]=e.getString("Is lesser than"),s[l.LESSER_THAN_OR_EQUAL_TO]=e.getString("Is lesser than or equal to"),s[l.NOT_EQUAL_TO]=e.getString("Is not equal to"),s[l.LIKE]=e.getString("Contains"),s[c.CONTAINS]=e.getString("Contains"),s[c.INTERSECTS]=e.getString("Intersects"),s[c.WITHIN]=e.getString("Is inside of"),s[h.BEGINS]=e.getString("Begins at"),s[h.DURING]=e.getString("During"),s[h.ENDS]=e.getString("Ends at"),s[h.EQUALS]=e.getString("Is equal to"),s);this.operatorsShortFormat=(u={},u[l.EQUAL_TO]="=",u[l.GREATER_THAN]=">",u[l.GREATER_THAN_OR_EQUAL_TO]=">=",u[l.LESSER_THAN]="<",u[l.LESSER_THAN_OR_EQUAL_TO]="<=",u[l.NOT_EQUAL_TO]="!=",u[l.LIKE]="~",u[h.BEGINS]=">=",u[h.ENDS]="<=",u[h.EQUALS]="=",u);this.timeRangeMode={widget:"datepicker",maxValue:null,minValue:null,maxDefValue:this.createDate_(),minDefValue:this.createWeekAgoDate_(),mode:"range",interval:[0,1,0,0]};this.timeValueMode={widget:"datepicker",maxValue:null,minValue:null,maxDefValue:this.createDate_(),minDefValue:this.createDate_(),mode:"value",interval:[0,1,0,0]};this.toolActivate_;this.unlisteners_=[];this.drawActive=false;this.drawToolActivate=new at["a"](this,"drawActive");this.drawnFeatures=new U["b"];this.menu_=null;this.selectedFeatures=new U["b"];this.interactions_=new U["b"];this.modify_=new Y({features:this.selectedFeatures,style:r.getVertexStyle(false)});this.interactions_.push(this.modify_);this.rotate_=new z["a"]({features:this.selectedFeatures,style:new ht["c"]({text:new ft["a"]({text:"",font:"normal 18px FontAwesome",fill:new dt["a"]({color:"#7a7a7a"})})})});this.interactions_.push(this.rotate_);this.translate_=new tt({features:this.selectedFeatures,style:new ht["c"]({text:new ft["a"]({text:"",font:"normal 18px FontAwesome",fill:new dt["a"]({color:"#7a7a7a"})})})});this.interactions_.push(this.translate_);this.listenerKeys_=[];this.initializeInteractions_();this.modifyToolActivate=new at["a"](this.modify_,"active");this.rotateToolActivate=new at["a"](this.rotate_,"active");this.translateToolActivate=new at["a"](this.translate_,"active");this.geomType=null}t.prototype.$onInit=function t(){var e=this;this.clone=this.ngeoRuleHelper_.cloneRule(this.rule);this.toolActivate_=new at["a"](this.rule,"active");this.ngeoToolActivateMgr_.registerTool(this.toolGroup,this.toolActivate_);this.scope_.$watch(function(){return e.rule.active},this.handleActiveChange_.bind(this));if(this.clone.type===D["a"].DATE||this.clone.type===D["a"].DATETIME){this.unlisteners_.push(this.scope_.$watch(function(){return e.clone.getExpression()},function(t){e.timeValueMode.minDefValue=t||e.createDate_()}));this.unlisteners_.push(this.scope_.$watch(function(){return e.clone.lowerBoundary},function(t){e.timeRangeMode.minDefValue=t||e.createWeekAgoDate_()}));this.unlisteners_.push(this.scope_.$watch(function(){return e.clone.upperBoundary},function(t){e.timeRangeMode.maxDefValue=t||e.createDate_()}))}else if(this.clone.type===D["a"].GEOMETRY){this.unlisteners_.push(this.scope_.$watch(function(){return e.clone.operator},function(t){if(t&&t===st["a"].SpatialOperatorType.CONTAINS){var i=v["a"].assertInstanceof(e.clone,ut["a"]);var n=i.feature.getGeometry();if(n){var r=e.ngeoFeatureHelper_.getType(i.feature);var a=[N["a"].CIRCLE,N["a"].POLYGON,N["a"].RECTANGLE];if(!ct["f"](a,r)){e.clone.setExpression(null)}}}}));this.unlisteners_.push(this.scope_.$watch(function(){return e.clone.expression},function(t){if(t){var i=v["a"].assertInstanceof(e.clone,ut["a"]);e.geomType=e.ngeoFeatureHelper_.getType(i.feature)}else{e.geomType=null}}));this.unlisteners_.push(this.scope_.$watch(function(){var t=e.clone.getExpression()!==null;var i=e.rule.active===true;var n=e.modify_.getActive()||e.rotate_.getActive()||e.translate_.getActive();return t&&i&&n},function(t){if(t){var i=v["a"].assertInstanceof(e.clone,ut["a"]);e.selectedFeatures.push(i.feature)}else{e.selectedFeatures.clear()}}))}};t.prototype.$onDestroy=function t(){if(this.rule.active){this.rule.active=false;this.handleActiveChange_(false,true)}this.ngeoToolActivateMgr_.unregisterTool(this.toolGroup,this.toolActivate_);for(var e=0,i=this.unlisteners_.length;e<i;e++){this.unlisteners_[e]()}this.unlisteners_.length=0;this.clone.destroy()};t.prototype.toggle=function t(){if(this.rule.active){this.cancel()}else{this.rule.active=true}};t.prototype.apply=function t(){this.ngeoRuleHelper_.extendRule(this.clone,this.rule);this.rule.active=false};t.prototype.cancel=function t(){this.ngeoRuleHelper_.extendRule(this.rule,this.clone);this.rule.active=false};t.prototype.reset=function t(){this.clone.reset();this.rule.reset()};t.prototype.toggleChoiceSelection=function t(e){var i=v["a"].assertInstanceof(this.clone,lt["a"]);var n=i.getExpression()?i.getExpression().split(","):[];var r=n.indexOf(e);if(r>-1){n.splice(r,1)}else{n.push(e)}i.setExpression(n.length?n.join(","):null)};t.prototype.onDateSelected=function t(e){this.clone.setExpression(e["start"])};t.prototype.onDateRangeSelected=function t(e){this.clone.lowerBoundary=e["start"];this.clone.upperBoundary=e["end"]};t.prototype.createDate_=function t(e){var i=new Date;if(e!==undefined){var n=i.getTime()-e;i.setTime(n)}return i.toISOString()};t.prototype.createWeekAgoDate_=function t(){return this.createDate_(1e3*60*60*24*7)};t.prototype.timeToDate=function t(e){var i=new Date(e);return i.toLocaleDateString()};t.prototype.handleActiveChange_=function t(e,i){if(!(this.rule instanceof ut["a"])||!(this.clone instanceof ut["a"])||e===i){return}var n=this.listenerKeys_;var r=["ngeo-rule-",m["c"](this)].join("-");var a=this.ngeoToolActivateMgr_;var o=this.rule.feature;var s=this.clone.feature;var u=this.map.getViewport();v["a"].assertElement(u);if(e){n.push(y["a"](this.drawnFeatures,"add",this.handleFeaturesAdd_,this));n.push(y["a"](u,"contextmenu",this.handleMapContextMenu_,this));n.push(y["a"](this.translate_,"translateend",this.handleTranslateEnd_,this));n.push(y["a"](this.rotate_,"rotateend",this.handleRotateEnd_,this));this.featureOverlay.removeFeature(o);this.featureOverlay.addFeature(s);this.registerInteractions_();a.registerTool(r,this.drawToolActivate,false);a.registerTool(r,this.modifyToolActivate,true);a.registerTool(r,this.rotateToolActivate,false);a.registerTool(r,this.translateToolActivate,false);this.modify_.setActive(true);if(s.getGeometry()){this.ngeoFeatureHelper_.setStyle(s,true)}}else{s.setStyle(null);n.forEach(y["e"]);n.length=0;this.drawActive=false;a.unregisterTool(r,this.drawToolActivate);a.unregisterTool(r,this.modifyToolActivate);a.unregisterTool(r,this.rotateToolActivate);a.unregisterTool(r,this.translateToolActivate);this.modify_.setActive(false);this.unregisterInteractions_();if(this.selectedFeatures.getLength()){this.featureOverlay.removeFeature(s)}this.featureOverlay.addFeature(o);this.selectedFeatures.clear()}};t.prototype.initializeInteractions_=function t(){this.interactions_.forEach(function(t){t.setActive(false);nt["a"].interaction(t)})};t.prototype.registerInteractions_=function t(){var e=this;this.interactions_.forEach(function(t){e.map.addInteraction(t)})};t.prototype.unregisterInteractions_=function t(){var e=this;this.interactions_.forEach(function(t){e.map.removeInteraction(t)})};t.prototype.handleFeaturesAdd_=function t(e){var i=this;this.timeout_(function(){var t=v["a"].assertInstanceof(i.clone,ut["a"]);var n=t.feature;var r=v["a"].assertInstanceof(e.element,_["a"]);var a=v["a"].assertInstanceof(r.getGeometry(),B["a"]);t.geometry=a;i.drawActive=false;var o=i.ngeoFeatureHelper_.getNonSpatialProperties(r);i.ngeoFeatureHelper_.clearNonSpatialProperties(n);n.setProperties(o);i.ngeoFeatureHelper_.setStyle(n,true);i.scope_.$apply()})};t.prototype.getRuleGeometryType=function t(){var e=v["a"].assertInstanceof(this.rule,ut["a"]);return this.ngeoFeatureHelper_.getType(e.feature)};t.prototype.handleMapContextMenu_=function t(e){var i=this;this.removeMenu_();var n=this.map.getEventPixel(e);var r=this.map.getCoordinateFromPixel(n);var a=this.map.forEachFeatureAtPixel(n,function(t){var e=false;if(ct["f"](i.selectedFeatures.getArray(),t)){e=t}return e});a=a?a:null;var o=[];if(a){var s=this.ngeoFeatureHelper_.getType(a);var u=this.gettextCatalog_;if(s==N["a"].CIRCLE||s==N["a"].LINE_STRING||s==N["a"].POLYGON||s==N["a"].RECTANGLE){o.push({cls:"fa fa-arrows",label:u.getString("Move"),name:"move"})}if(s==N["a"].LINE_STRING||s==N["a"].POLYGON||s==N["a"].RECTANGLE){o.push({cls:"fa fa-rotate-right",label:u.getString("Rotate"),name:"rotate"})}}if(o.length){this.menu_=new A["a"]({actions:o});y["a"](this.menu_,"actionclick",this.handleMenuActionClick_,this);this.map.addOverlay(this.menu_);this.menu_.open(r);e.preventDefault();e.stopPropagation();this.scope_.$apply()}};t.prototype.removeMenu_=function t(){if(this.menu_){y["c"](this.menu_,"actionclick",this.handleMenuActionClick_,this);this.map.removeOverlay(this.menu_);this.menu_=null}};t.prototype.handleMenuActionClick_=function t(e){var i=e.detail.action;switch(i){case"move":this.translate_.setActive(true);this.scope_.$apply();break;case"rotate":this.rotate_.setActive(true);this.scope_.$apply();break;default:console.log("FIXME - support: "+i);break}};t.prototype.handleRotateEnd_=function t(e){this.rotate_.setActive(false);this.scope_.$apply()};t.prototype.handleTranslateEnd_=function t(e){this.translate_.setActive(false);this.scope_.$apply()};return t}();gt.component("ngeoRule",{bindings:{featureOverlay:"<",map:"<",rule:"<",toolGroup:"<"},controller:gt.RuleController_,templateUrl:mt});var yt=gt;function _t(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var bt=angular.module("ngeoFilter",[P["a"].module.name,yt.name,et["a"].module.name,k["a"].module.name]);bt.run(["$templateCache",function(t){t.put("ngeo/filter",i(450))}]);bt.value("ngeoFilterTemplateUrl",function(t){var e=t["ngeoFilterTemplateUrl"];return e!==undefined?e:"ngeo/filter"});wt.$inject=["$attrs","ngeoFilterTemplateUrl"];function wt(t,e){return e(t)}bt.component("ngeoFilter",{bindings:{aRuleIsActive:"=",customRules:"<",datasource:"<",directedRules:"<",featureOverlay:"<",map:"<",toolGroup:"<"},controller:"ngeoFilterController",templateUrl:wt});bt.FilterController_=function(){t.$inject=["gettextCatalog","$scope","$timeout","ngeoMapQuerent","ngeoRuleHelper"];function t(e,i,n,r,a){_t(this,t);this.aRuleIsActive;this.customRules;this.datasource;this.directedRules;this.featureOverlay;this.map;this.toolGroup;this.gettextCatalog_=e;this.scope_=i;this.timeout_=n;this.ngeoMapQuerent_=r;this.ngeoRuleHelper_=a;this.conditions=[{text:e.getString("All"),value:R["a"].AND},{text:e.getString("At least one"),value:R["a"].OR},{text:e.getString("None"),value:R["a"].NOT}];this.geometryAttributes=[];this.otherAttributes=[];this.ruleUnlisteners_={}}t.prototype.$onInit=function t(){var e=this;this.scope_.$watch(function(){return e.aRuleIsActive},this.handleARuleIsActiveChange_.bind(this));var i=v["a"].assert(this.datasource.attributes);for(var n=i,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var s=o;if(s.type===D["a"].GEOMETRY){this.geometryAttributes.push(s)}else{this.otherAttributes.push(s)}}var u=[].concat(this.customRules,this.directedRules);for(var l=u,c=Array.isArray(l),h=0,l=c?l:l[Symbol.iterator]();;){var f;if(c){if(h>=l.length)break;f=l[h++]}else{h=l.next();if(h.done)break;f=h.value}var d=f;this.registerRule_(d)}this.apply()};t.prototype.$onDestroy=function t(){if(this.datasource.filterRules!==null){this.datasource.filterRules=null}this.featureOverlay.clear()};t.prototype.hasARule=function t(){return[].concat(this.customRules,this.directedRules).length>0};t.prototype.apply=function t(){var e=this;this.datasource.filterRules=null;this.timeout_(function(){var t=e.getRulesWithValue_();if(t.length){e.datasource.filterRules=t;e.ngeoMapQuerent_.clear()}})};t.prototype.getData=function t(){var e=this.getRulesWithValue_();if(!e.length){return}var i=this.datasource;var n=1e3;var r=this.map;var a=r.getView().getProjection().getCode();var o=this.ngeoRuleHelper_.createFilter({dataSource:i,filterRules:e,srsName:a});v["a"].assert(o);this.ngeoMapQuerent_.issue({dataSources:[i],filter:o,limit:n,map:r})};t.prototype.getRulesWithValue_=function t(){var e=[];var i=[].concat(this.customRules,this.directedRules);for(var n=i,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var s=o;if(s.value){e.push(s)}}return e};t.prototype.createAndAddCustomRule=function t(e){var i=this.ngeoRuleHelper_.createRuleFromAttribute(e,true);this.registerRule_(i);this.customRules.push(i);this.timeout_(function(){i.active=true},1)};t.prototype.setCondition=function t(e){if(this.datasource.filterCondition!==e.value){this.datasource.filterCondition=e.value}};t.prototype.removeCustomRule=function t(e){var i=this;e.active=false;this.timeout_(function(){ct["j"](i.customRules,e);i.unregisterRule_(e);e.destroy()})};t.prototype.registerRule_=function t(e){var i=m["c"](e);this.ruleUnlisteners_[i]=this.scope_.$watch(function(){return e.active},this.handleRuleActiveChange_.bind(this));if(e instanceof ut["a"]){this.featureOverlay.addFeature(e.feature)}};t.prototype.unregisterRule_=function t(e){var i=m["c"](e);var n=this.ruleUnlisteners_[i];v["a"].assert(n);n();delete this.ruleUnlisteners_[i];if(e instanceof ut["a"]){this.featureOverlay.removeFeature(e.feature)}};t.prototype.handleRuleActiveChange_=function t(){var e=false;var i=[].concat(this.customRules,this.directedRules);for(var n=i,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var s=o;if(s.active){e=true;break}}this.aRuleIsActive=e};t.prototype.handleARuleIsActiveChange_=function t(){if(this.aRuleIsActive){return}var e=[].concat(this.customRules,this.directedRules);for(var i=e,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{r=i.next();if(r.done)break;a=r.value}var o=a;if(o.active){o.active=false;break}}};return t}();bt.controller("ngeoFilterController",bt.FilterController_);var Ot=bt;var xt=angular.module("ngeoFilterModule",[Ot.name,P["a"].module.name,yt.name]);var St=xt;var Ct=i(248);var Tt=i(254);var Et=i(255);var Mt=i(23);var jt=i(224);var kt=i(277);var Rt=i(276);var At=i(275);var It=angular.module("ngeoMeasureModule",[kt["a"].name,Rt["a"].name,At["a"].name]);var Pt=It;var Dt=i(252);var Nt=i(267);var $t=angular.module("ngeoPrintModule",[Dt["a"].module.name,Nt["a"].module.name]);var Lt=$t;var Ft=i(256);var Gt=angular.module("ngeoProfileModule",[Ft["a"].name]);var Ut=Gt;var Ht=i(253);var Wt=i(219);var Yt=i(262);var zt=i(64);var Vt=i(191);var Bt=function t(e,i,n){var r=this;var a=n;this.url_=a.url;this.maxFeatures_=a.maxFeatures!==undefined?a.maxFeatures:50;this.wfsTypes_={};v["a"].assertArray(a.wfsTypes,"wfsTypes is not correctly set");a.wfsTypes.forEach(function(t){r.wfsTypes_[t.featureType]=t});this.defaultFeatureNS_=a.defaultFeatureNS;this.defaultFeaturePrefix_=a.defaultFeaturePrefix;this.pointRecenterZoom_=a.pointRecenterZoom;this.$http_=e;this.result_=i};Bt.$inject=["$http","ngeoQueryResult","ngeoWfsPermalinkOptions"];Bt.$inject=["$http","ngeoQueryResult","ngeoWfsPermalinkOptions"];Bt.prototype.clear=function(){this.clearResult_()};Bt.prototype.issue=function(t,e){v["a"].assert(this.url_,"url is not set. to use the wfs permalink service, "+"set the value `ngeoWfsPermalinkOptions`");this.clearResult_();var i=t.wfsType;if(!this.wfsTypes_.hasOwnProperty(i)){return}var n=this.wfsTypes_[i];var r=this.createFilters_(t.filterGroups);if(r===null){return}this.issueRequest_(n,r,e,t.showFeatures)};Bt.prototype.issueRequest_=function(t,e,i,n){var r=this;var a=new Vt["a"];var o=a.writeGetFeature({srsName:i.getView().getProjection().getCode(),featureNS:t.featureNS!==undefined?t.featureNS:this.defaultFeatureNS_,featurePrefix:t.featurePrefix!==undefined?t.featurePrefix:this.defaultFeaturePrefix_,featureTypes:[t.featureType],outputFormat:"GML3",filter:e,maxFeatures:this.maxFeatures_});var s=(new XMLSerializer).serializeToString(o);var u={headers:{"Content-Type":"text/xml; charset=UTF-8"}};this.$http_.post(this.url_,s,u).then(function(e){var o=a.readFeatures(e.data);if(o.length==0){return}var s=i.getSize();if(s!==undefined){var u=r.pointRecenterZoom_;var l=[10,10,10,10];i.getView().fit(r.getExtent_(o),{size:s,maxZoom:u,padding:l})}if(n){var c={features:o,id:t.featureType,identifierAttributeField:t.label,label:t.featureType,pending:false};r.result_.sources.push(c);r.result_.total=o.length}})};Bt.prototype.getExtent_=function(t){return t.reduce(function(t,e){return V["q"](t,e.getGeometry().getExtent())},V["j"]())};Bt.prototype.createFilters_=function(t){if(t.length==0){return null}var e=zt;var i=function t(i){var n=i.filters.map(function(t){var i=t.condition;if(Array.isArray(i)){return Bt.or_(i.map(function(i){return e.equalTo(t.property,i)}))}else{return e.equalTo(t.property,t.condition)}});return Bt.and_(n)};return Bt.or_(t.map(i))};Bt.and_=function(t){return Bt.joinFilters_(t,zt["and"])};Bt.or_=function(t){return Bt.joinFilters_(t,zt["or"])};Bt.joinFilters_=function(t,e){return t.reduce(function(t,i){if(t===null){return i}else{v["a"].assert(i!==null);return e(t,i)}},null)};Bt.prototype.clearResult_=function(){this.result_.total=0;this.result_.sources.forEach(function(t){t.features.length=0})};Bt.module=angular.module("ngeoWfsPermalink",[]);Bt.module.value("ngeoWfsPermalinkOptions",{url:"",wfsTypes:[],defaultFeatureNS:"",defaultFeaturePrefix:""});Bt.module.service("ngeoWfsPermalink",Bt);var qt=Bt;var Kt=i(7);var Xt=function t(){};Xt.prototype.stringToCoordinates=function(t){var e=t.match(/([\d\.']+)[\s,]+([\d\.']+)/);if(e){var i=parseFloat(e[1].replace("'",""));var n=parseFloat(e[2].replace("'",""));if(!isNaN(i)&&!isNaN(n)){return[i,n]}}return null};Xt.prototype.getProjectionList=function(t){var e=void 0,i=void 0;var n=[];t.forEach(function(t){e=t.toUpperCase();if(e.substr(0,5)!="EPSG:"){e="EPSG:"+e}i=Kt["h"](e);if(i!==null){n.push(i)}else{console.error("The projection "+e+" is not defined in ol.proj.")}});return n};Xt.prototype.tryProjections=function(t,e,i,n){var r=void 0;if(n===undefined){n=[i]}n.some(function(n){try{r=Kt["n"](t,n,i);if(V["f"](e,r)){return true}}catch(t){}r=null});return r};Xt.prototype.tryProjectionsWithInversion=function(t,e,i,n){var r=this.tryProjections(t,e,i,n);if(r===null){r=this.tryProjections(t.reverse(),e,i,n)}return r};Xt.module=angular.module("ngeoAutoProjection",[]);Xt.module.service("ngeoAutoProjection",Xt);var Zt=Xt;var Qt=i(120);var Jt=i(260);var te=i(132);var ee=i(188);var ie=function t(e,i,n){var r=void 0,a=void 0;this.isValidFileSize=function(t){return!(t>2e7)};this.isWmsGetCap=function(t){return/<(WMT_MS_Capabilities|WMS_Capabilities)/.test(t)};this.isWmtsGetCap=function(t){return/<Capabilities/.test(t)};this.isKml=function(t){return/<kml/.test(t)&&/<\/kml>/.test(t)};this.isGpx=function(t){return/<gpx/.test(t)&&/<\/gpx>/.test(t)};this.read=function(t){var i=e.defer();if(r&&r.readyState===FileReader.LOADING){r.abort()}r=new FileReader;r.onload=function(t){i.resolve(t.target.result)};r.onerror=function(t){var e=t.target.error;console.error("Reading file failed: ",e);i.reject({message:e.code==20?n("Operation canceled"):n("Read failed"),reason:e.message})};r.onprogress=function(t){i.notify(t)};r.readAsText(t);return i.promise};this.load=function(t,r){if(a){a.resolve()}a=r||e.defer();var o=e.defer();i.get(t,{timeout:a.promise}).then(function(t){o.resolve(t.data)},function(t){console.error("Uploading file failed: ",t);o.reject({message:n("Upload failed"),reason:t})});return o.promise}};ie.$inject=["$q","$http","gettext"];ie.$inject=["$q","$http","gettext"];ie.module=angular.module("ngeoFile",[]);ie.module.service("ngeoFile",ie);var ne=ie;var re=i(259);var ae=i(106);var oe=angular.module("ngeoGetBrowserLanguage",[]);oe.factory_=function(t){return function(e){var i=t.navigator;var n=i.languages||i.language||i.browserLanguage||i.systemLanguage||i.userLanguage;if(!Array.isArray(n)){n=[n]}n=n.map(function(t){return t.substring(0,2)});n=n.filter(function(t,e,i){return i.indexOf(t)==e});var r=n.filter(function(t){return e.indexOf(t)!=-1});return r[0]}};oe.factory_.$inject=["$window"];oe.factory("ngeoGetBrowserLanguage",oe.factory_);var se=oe;var ue=i(258);var le=i(169);var ce=i(226);var he=angular.module("ngeoMiscExtraModule",[Zt.module.name,Qt["a"].name,Jt["a"].name,it["a"].name,te["a"].name,ee["a"].module.name,rt["a"].module.name,ne.module.name,re["a"].name,ae["a"].name,se.name,ue["a"].name,le["a"].module.name,ot["a"].module.name,ce["a"].module.name]);var fe=he;var de=angular.module("ngeo",[o.name,h.name,f["a"].name,j.name,St.name,Ct["a"].name,Tt["a"].name,Et["a"].name,Mt["a"].name,jt["a"].module.name,Pt.name,Lt.name,Ut.name,Ht["a"].name,Wt["a"].name,Yt["a"].name,qt.module.name,fe.name]);var pe=e["default"]=de},function(t,e,i){"use strict";e["a"]={ANIMATING:0,INTERACTING:1}},function(t,e,i){"use strict";i.d(e,"c",function(){return a});i.d(e,"h",function(){return o});i.d(e,"j",function(){return s});i.d(e,"e",function(){return u});i.d(e,"b",function(){return l});i.d(e,"a",function(){return c});i.d(e,"d",function(){return h});i.d(e,"i",function(){return f});i.d(e,"g",function(){return d});i.d(e,"f",function(){return p});var n=i(1);var r=typeof navigator!=="undefined"?navigator.userAgent.toLowerCase():"";var a=r.indexOf("firefox")!==-1;var o=r.indexOf("safari")!==-1&&r.indexOf("chrom")==-1;var s=r.indexOf("webkit")!==-1&&r.indexOf("edge")==-1;var u=r.indexOf("macintosh")!==-1;var l=window.devicePixelRatio||1;var c=function(){var t=false;try{t=!!document.createElement("CANVAS").getContext("2d").setLineDash}catch(t){}return t}();var h="geolocation"in navigator;var f="ontouchstart"in window;var d="PointerEvent"in window;var p=!!navigator.msPointerEnabled;var v=n["a"]},function(t,e,i){"use strict";i.d(e,"c",function(){return n});i.d(e,"d",function(){return r});i.d(e,"e",function(){return a});i.d(e,"f",function(){return o});i.d(e,"b",function(){return s});i.d(e,"a",function(){return u});i.d(e,"g",function(){return l});var n="ol-hidden";var r="ol-selectable";var a="ol-unselectable";var o="ol-unsupported";var s="ol-control";var u="ol-collapsed";var l=function(){var t=void 0;var e={};return function(i){if(!t){t=document.createElement("div").style}if(!(i in e)){t.font=i;var n=t.fontFamily;t.font="";if(!n){return null}e[i]=n.split(/,\s?/)}return e[i]}}()},function(t,e,i){"use strict";var n=i(1);var r=i(20);var a=i(170);var o=i(30);var s=i(44);var u=i(3);var l=function t(e){o["a"].call(this);this.element=e.element?e.element:null;this.target_=null;this.map_=null;this.listenerKeys=[];this.render=e.render?e.render:r["c"];if(e.target){this.setTarget(e.target)}};Object(n["d"])(l,o["a"]);l.prototype.disposeInternal=function(){Object(s["e"])(this.element);o["a"].prototype.disposeInternal.call(this)};l.prototype.getMap=function(){return this.map_};l.prototype.setMap=function(t){if(this.map_){Object(s["e"])(this.element)}for(var e=0,i=this.listenerKeys.length;e<i;++e){Object(u["e"])(this.listenerKeys[e])}this.listenerKeys.length=0;this.map_=t;if(this.map_){var n=this.target_?this.target_:t.getOverlayContainerStopEvent();n.appendChild(this.element);if(this.render!==r["c"]){this.listenerKeys.push(Object(u["a"])(t,a["a"].POSTRENDER,this.render,this))}t.render()}};l.prototype.setTarget=function(t){this.target_=typeof t==="string"?document.getElementById(t):t};e["a"]=l},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(221);function r(t,e,i,r){return Object(n["a"])(t,e,i,r,false)}},function(t,e,i){"use strict";var n={ANGLE:"a",COLOR:"c",IS_CIRCLE:"l",IS_RECTANGLE:"r",IS_TEXT:"t",NAME:"n",SHOW_LABEL:"b",OPACITY:"o",AZIMUT:"z",SHOW_MEASURE:"m",SIZE:"s",STROKE:"k"};e["a"]=n},function(t,e,i){"use strict";i.d(e,"a",function(){return _});var n=i(1);var r=i(9);var a=i(14);var o=i(69);var s=i(129);var u=i(21);var l=i(46);var c=i(246);var h=i(94);var f=i(109);var d=i(107);var p=i(32);var v=i(29);var g=i(11);var m=i(7);var y=i(0);var _="http://www.opengis.net/gml";var b=function t(e){var i=e?e:{};this.featureType=i.featureType;this.featureNS=i.featureNS;this.srsName=i.srsName;this.schemaLocation="";this.FEATURE_COLLECTION_PARSERS={};this.FEATURE_COLLECTION_PARSERS[_]={featureMember:Object(y["o"])(t.prototype.readFeaturesInternal),featureMembers:Object(y["o"])(t.prototype.readFeaturesInternal)};s["a"].call(this)};Object(n["d"])(b,s["a"]);var w=/^[\s\xa0]*$/;b.prototype.readFeaturesInternal=function(t,e){var i=t.localName;var n=null;if(i=="FeatureCollection"){if(t.namespaceURI==="http://www.opengis.net/wfs"){n=Object(y["u"])([],this.FEATURE_COLLECTION_PARSERS,t,e,this)}else{n=Object(y["u"])(null,this.FEATURE_COLLECTION_PARSERS,t,e,this)}}else if(i=="featureMembers"||i=="featureMember"){var r=e[0];var a=r["featureType"];var o=r["featureNS"];var s="p";var u="p0";if(!a&&t.childNodes){a=[],o={};for(var l=0,c=t.childNodes.length;l<c;++l){var h=t.childNodes[l];if(h.nodeType===1){var f=h.nodeName.split(":").pop();if(a.indexOf(f)===-1){var d="";var p=0;var v=h.namespaceURI;for(var g in o){if(o[g]===v){d=g;break}++p}if(!d){d=s+p;o[d]=v}a.push(d+":"+f)}}}if(i!="featureMember"){r["featureType"]=a;r["featureNS"]=o}}if(typeof o==="string"){var m=o;o={};o[u]=m}var _={};var b=Array.isArray(a)?a:[a];for(var w in o){var O={};for(var x=0,S=b.length;x<S;++x){var C=b[x].indexOf(":")===-1?u:b[x].split(":")[0];if(C===w){O[b[x].split(":").pop()]=i=="featureMembers"?Object(y["j"])(this.readFeatureElement,this):Object(y["o"])(this.readFeatureElement,this)}}_[o[w]]=O}if(i=="featureMember"){n=Object(y["u"])(undefined,_,t,e)}else{n=Object(y["u"])([],_,t,e)}}if(n===null){n=[]}return n};b.prototype.readGeometryElement=function(t,e){var i=e[0];i["srsName"]=t.firstElementChild.getAttribute("srsName");i["srsDimension"]=t.firstElementChild.getAttribute("srsDimension");var n=Object(y["u"])(null,this.GEOMETRY_PARSERS_,t,e,this);if(n){return Object(o["b"])(n,false,i)}else{return undefined}};b.prototype.readFeatureElement=function(t,e){var i=void 0;var n=t.getAttribute("fid")||Object(y["f"])(t,_,"id");var r={};var o=void 0;for(i=t.firstElementChild;i;i=i.nextElementSibling){var s=i.localName;if(i.childNodes.length===0||i.childNodes.length===1&&(i.firstChild.nodeType===3||i.firstChild.nodeType===4)){var u=Object(y["e"])(i,false);if(w.test(u)){u=undefined}r[s]=u}else{if(s!=="boundedBy"){o=s}r[s]=this.readGeometryElement(i,e)}}var l=new a["a"](r);if(o){l.setGeometryName(o)}if(n){l.setId(n)}return l};b.prototype.readPoint=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i){var n=new p["a"](null);n.setFlatCoordinates(u["a"].XYZ,i);return n}};b.prototype.readMultiPoint=function(t,e){var i=Object(y["u"])([],this.MULTIPOINT_PARSERS_,t,e,this);if(i){return new f["a"](i)}else{return undefined}};b.prototype.readMultiLineString=function(t,e){var i=Object(y["u"])([],this.MULTILINESTRING_PARSERS_,t,e,this);if(i){var n=new h["a"](null);n.setLineStrings(i);return n}else{return undefined}};b.prototype.readMultiPolygon=function(t,e){var i=Object(y["u"])([],this.MULTIPOLYGON_PARSERS_,t,e,this);if(i){var n=new d["a"](null);n.setPolygons(i);return n}else{return undefined}};b.prototype.pointMemberParser_=function(t,e){Object(y["t"])(this.POINTMEMBER_PARSERS_,t,e,this)};b.prototype.lineStringMemberParser_=function(t,e){Object(y["t"])(this.LINESTRINGMEMBER_PARSERS_,t,e,this)};b.prototype.polygonMemberParser_=function(t,e){Object(y["t"])(this.POLYGONMEMBER_PARSERS_,t,e,this)};b.prototype.readLineString=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i){var n=new l["a"](null);n.setFlatCoordinates(u["a"].XYZ,i);return n}else{return undefined}};b.prototype.readFlatLinearRing_=function(t,e){var i=Object(y["u"])(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,t,e,this);if(i){return i}else{return undefined}};b.prototype.readLinearRing=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i){var n=new c["a"](null);n.setFlatCoordinates(u["a"].XYZ,i);return n}else{return undefined}};b.prototype.readPolygon=function(t,e){var i=Object(y["u"])([null],this.FLAT_LINEAR_RINGS_PARSERS_,t,e,this);if(i&&i[0]){var n=new v["b"](null);var a=i[0];var o=[a.length];var s=void 0,l=void 0;for(s=1,l=i.length;s<l;++s){Object(r["c"])(a,i[s]);o.push(a.length)}n.setFlatCoordinates(u["a"].XYZ,a,o);return n}else{return undefined}};b.prototype.readFlatCoordinatesFromNode_=function(t,e){return Object(y["u"])(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,t,e,this)};b.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:Object(y["j"])(b.prototype.pointMemberParser_),pointMembers:Object(y["j"])(b.prototype.pointMemberParser_)}};b.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:Object(y["j"])(b.prototype.lineStringMemberParser_),lineStringMembers:Object(y["j"])(b.prototype.lineStringMemberParser_)}};b.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:Object(y["j"])(b.prototype.polygonMemberParser_),polygonMembers:Object(y["j"])(b.prototype.polygonMemberParser_)}};b.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:Object(y["j"])(b.prototype.readFlatCoordinatesFromNode_)}};b.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(y["j"])(b.prototype.readLineString)}};b.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(y["j"])(b.prototype.readPolygon)}};b.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Object(y["o"])(b.prototype.readFlatLinearRing_)}};b.prototype.readGeometryFromNode=function(t,e){var i=this.readGeometryElement(t,[this.getReadOptions(t,e?e:{})]);return i?i:null};b.prototype.readFeatures;b.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};if(e){Object(g["a"])(i,this.getReadOptions(t,e))}var n=this.readFeaturesInternal(t,[i]);return n||[]};b.prototype.readProjectionFromNode=function(t){return Object(m["h"])(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))};e["b"]=b},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},function(t,e,i){"use strict";i.r(e);var n=i(1);var r=i(24);var a=function t(e){this.tagName_=e};a.prototype.getTagName=function(){return this.tagName_};var o=a;var s=function t(e,i){o.call(this,e);this.conditions=Array.prototype.slice.call(arguments,1);Object(r["a"])(this.conditions.length>=2,57)};Object(n["d"])(s,o);var u=s;var l=function t(e){var i=["And"].concat(Array.prototype.slice.call(arguments));u.apply(this,i)};Object(n["d"])(l,u);var c=l;var h=function t(e,i,n){o.call(this,"BBOX");this.geometryName=e;this.extent=i;this.srsName=n};Object(n["d"])(h,o);var f=h;var d=function t(e,i,n,r){o.call(this,e);this.geometryName=i||"the_geom";this.geometry=n;this.srsName=r};Object(n["d"])(d,o);var p=d;var v=function t(e,i,n){p.call(this,"Contains",e,i,n)};Object(n["d"])(v,p);var g=v;var m=function t(e,i){o.call(this,e);this.propertyName=i};Object(n["d"])(m,o);var y=m;var _=function t(e,i,n){y.call(this,"During",e);this.begin=i;this.end=n};Object(n["d"])(_,y);var b=_;var w=function t(e,i,n,r){y.call(this,e,i);this.expression=n;this.matchCase=r};Object(n["d"])(w,y);var O=w;var x=function t(e,i,n){O.call(this,"PropertyIsEqualTo",e,i,n)};Object(n["d"])(x,O);var S=x;var C=function t(e,i){O.call(this,"PropertyIsGreaterThan",e,i)};Object(n["d"])(C,O);var T=C;var E=function t(e,i){O.call(this,"PropertyIsGreaterThanOrEqualTo",e,i)};Object(n["d"])(E,O);var M=E;var j=function t(e,i,n){p.call(this,"Intersects",e,i,n)};Object(n["d"])(j,p);var k=j;var R=function t(e,i,n){y.call(this,"PropertyIsBetween",e);this.lowerBoundary=i;this.upperBoundary=n};Object(n["d"])(R,y);var A=R;var I=function t(e,i,n,r,a,o){y.call(this,"PropertyIsLike",e);this.pattern=i;this.wildCard=n!==undefined?n:"*";this.singleChar=r!==undefined?r:".";this.escapeChar=a!==undefined?a:"!";this.matchCase=o};Object(n["d"])(I,y);var P=I;var D=function t(e){y.call(this,"PropertyIsNull",e)};Object(n["d"])(D,y);var N=D;var $=function t(e,i){O.call(this,"PropertyIsLessThan",e,i)};Object(n["d"])($,O);var L=$;var F=function t(e,i){O.call(this,"PropertyIsLessThanOrEqualTo",e,i)};Object(n["d"])(F,O);var G=F;var U=function t(e){o.call(this,"Not");this.condition=e};Object(n["d"])(U,o);var H=U;var W=function t(e,i,n){O.call(this,"PropertyIsNotEqualTo",e,i,n)};Object(n["d"])(W,O);var Y=W;var z=function t(e){var i=["Or"].concat(Array.prototype.slice.call(arguments));u.apply(this,i)};Object(n["d"])(z,u);var V=z;var B=function t(e,i,n){p.call(this,"Within",e,i,n)};Object(n["d"])(B,p);var q=B;i.d(e,"and",function(){return K});i.d(e,"or",function(){return X});i.d(e,"not",function(){return Z});i.d(e,"bbox",function(){return Q});i.d(e,"contains",function(){return J});i.d(e,"intersects",function(){return tt});i.d(e,"within",function(){return et});i.d(e,"equalTo",function(){return it});i.d(e,"notEqualTo",function(){return nt});i.d(e,"lessThan",function(){return rt});i.d(e,"lessThanOrEqualTo",function(){return at});i.d(e,"greaterThan",function(){return ot});i.d(e,"greaterThanOrEqualTo",function(){return st});i.d(e,"isNull",function(){return ut});i.d(e,"between",function(){return lt});i.d(e,"like",function(){return ct});i.d(e,"during",function(){return ht});function K(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(c,e))}function X(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(V,e))}function Z(t){return new H(t)}function Q(t,e,i){return new f(t,e,i)}function J(t,e,i){return new g(t,e,i)}function tt(t,e,i){return new k(t,e,i)}function et(t,e,i){return new q(t,e,i)}function it(t,e,i){return new S(t,e,i)}function nt(t,e,i){return new Y(t,e,i)}function rt(t,e){return new L(t,e)}function at(t,e){return new G(t,e)}function ot(t,e){return new T(t,e)}function st(t,e){return new M(t,e)}function ut(t){return new N(t)}function lt(t,e,i){return new A(t,e,i)}function ct(t,e,i,n,r,a){return new P(t,e,i,n,r,a)}function ht(t,e,i){return new b(t,e,i)}},function(t,e,i){"use strict";i.d(e,"c",function(){return f});i.d(e,"a",function(){return d});var n=i(49);var r=i(46);var a=i(109);var o=i(94);var s=i(107);var u=i(32);var l=i(29);var c=i(4);var h={};h.toMulti=function(t){var e=void 0;if(t instanceof u["a"]){e=new a["a"]([]);e.appendPoint(t)}else if(t instanceof r["a"]){e=new o["a"]([]);e.appendLineString(t)}else if(t instanceof l["b"]){e=new s["a"]([]);e.appendPolygon(t)}else{e=t}return e};h.isSafari=function(){return navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1};h.colorZeroPadding=function(t){return t.length==1?"0"+t:t};h.rgbArrayToHex=function(t){var e=t[0];var i=t[1];var n=t[2];if(e!=(e&255)||i!=(i&255)||n!=(n&255)){throw Error('"('+e+","+i+","+n+')" is not a valid RGB color')}var r=h.colorZeroPadding(e.toString(16));var a=h.colorZeroPadding(i.toString(16));var o=h.colorZeroPadding(n.toString(16));return"#"+r+a+o};h.decodeQueryString=function(t){var e={};if(t){var i=t.substring(1).split("&");for(var n=i,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var s=o;var u=s.indexOf("=");if(u>=0){var l=s.substring(0,u);var c=s.substring(u+1);e[decodeURIComponent(l)]=decodeURIComponent(c)}else{e[s]=""}}}return e};h.encodeQueryString=function(t){var e=[];for(var i in t){var n=t[i];e.push(encodeURIComponent(i)+"="+encodeURIComponent(n))}return e.join("&")};h.deleteCondition=function(t){return n["g"](t)&&n["l"](t)};function f(t){return[Object(c["C"])(t),Object(c["D"])(t),Object(c["w"])(t),Object(c["v"])(t),Object(c["C"])(t)]}var d={mousedown:false};document.addEventListener("mousedown",function(t){d.mousedown=true});document.addEventListener("mouseup",function(t){d.mousedown=false});e["b"]=h},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i.d(e,"b",function(){return a});var n={};function r(t,e){n[t]=e}function a(t){var e=[];for(var i in t){e.push({unit:i,priority:n[i]})}e.sort(function(t,e){return t.priority-e.priority});return e}},function(t,e,i){"use strict";var n=i(1);var r=i(30);var a=i(4);var o=i(20);var s=i(131);var u=i(7);var l=i(80);var c=i(37);var h=function t(){r["a"].call(this);this.extent_=Object(a["j"])();this.extentRevision_=-1;this.simplifiedGeometryCache={};this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=0};Object(n["d"])(h,r["a"]);var f=Object(c["c"])();h.prototype.clone=function(){};h.prototype.closestPointXY=function(t,e,i,n){};h.prototype.getClosestPoint=function(t,e){var i=e?e:[NaN,NaN];this.closestPointXY(t[0],t[1],i,Infinity);return i};h.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])};h.prototype.computeExtent=function(t){};h.prototype.containsXY=o["a"];h.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){this.extent_=this.computeExtent(this.extent_);this.extentRevision_=this.getRevision()}return Object(a["I"])(this.extent_,t)};h.prototype.rotate=function(t,e){};h.prototype.scale=function(t,e,i){};h.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)};h.prototype.getSimplifiedGeometry=function(t){};h.prototype.getType=function(){};h.prototype.applyTransform=function(t){};h.prototype.intersectsExtent=function(t){};h.prototype.translate=function(t,e){};h.prototype.transform=function(t,e){t=Object(u["h"])(t);var i=t.getUnits()==l["b"].TILE_PIXELS?function(i,n,r){var o=t.getExtent();var l=t.getWorldExtent();var h=Object(a["A"])(l)/Object(a["A"])(o);Object(c["b"])(f,l[0],l[3],h,-h,0,0,0);Object(s["c"])(i,0,i.length,r,f,n);return Object(u["j"])(t,e)(i,n,r)}:Object(u["j"])(t,e);this.applyTransform(i);return this};e["a"]=h},function(t,e,i){"use strict";i.d(e,"b",function(){return d});var n=i(1);var r=i(20);var a=i(4);var o=i(67);var s=i(21);var u=i(131);var l=i(11);var c=function t(){o["a"].call(this);this.layout=s["a"].XY;this.stride=2;this.flatCoordinates=null};Object(n["d"])(c,o["a"]);function h(t){var e=void 0;if(t==2){e=s["a"].XY}else if(t==3){e=s["a"].XYZ}else if(t==4){e=s["a"].XYZM}return e}function f(t){var e=void 0;if(t==s["a"].XY){e=2}else if(t==s["a"].XYZ||t==s["a"].XYM){e=3}else if(t==s["a"].XYZM){e=4}return e}c.prototype.containsXY=r["a"];c.prototype.computeExtent=function(t){return Object(a["o"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)};c.prototype.getCoordinates=function(){};c.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};c.prototype.getFlatCoordinates=function(){return this.flatCoordinates};c.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};c.prototype.getLayout=function(){return this.layout};c.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()){Object(l["b"])(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance){return this}var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e)){return this.simplifiedGeometryCache[e]}else{var i=this.getSimplifiedGeometryInternal(t);var n=i.getFlatCoordinates();if(n.length<this.flatCoordinates.length){this.simplifiedGeometryCache[e]=i;return i}else{this.simplifiedGeometryMaxMinSquaredTolerance=t;return this}}};c.prototype.getSimplifiedGeometryInternal=function(t){return this};c.prototype.getStride=function(){return this.stride};c.prototype.setFlatCoordinatesInternal=function(t,e){this.stride=f(t);this.layout=t;this.flatCoordinates=e};c.prototype.setCoordinates=function(t,e){};c.prototype.setLayout=function(t,e,i){var n=void 0;if(t){n=f(t)}else{for(var r=0;r<i;++r){if(e.length===0){this.layout=s["a"].XY;this.stride=2;return}else{e=e[0]}}n=e.length;t=h(n)}this.layout=t;this.stride=n};c.prototype.applyTransform=function(t){if(this.flatCoordinates){t(this.flatCoordinates,this.flatCoordinates,this.stride);this.changed()}};c.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();Object(u["a"])(i,0,i.length,n,t,e,i);this.changed()}};c.prototype.scale=function(t,e,i){var n=e;if(n===undefined){n=t}var r=i;if(!r){r=Object(a["x"])(this.getExtent())}var o=this.getFlatCoordinates();if(o){var s=this.getStride();Object(u["b"])(o,0,o.length,s,t,n,r,o);this.changed()}};c.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();Object(u["d"])(i,0,i.length,n,t,e,i);this.changed()}};function d(t,e,i){var n=t.getFlatCoordinates();if(!n){return null}else{var r=t.getStride();return Object(u["c"])(n,0,n.length,r,e,i)}}e["a"]=c},function(t,e,i){"use strict";i.d(e,"b",function(){return s});var n=i(67);var r=i(11);var a=i(7);var o=function t(){this.defaultDataProjection=null;this.defaultFeatureProjection=null};o.prototype.getReadOptions=function(t,e){var i=void 0;if(e){i={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}}return this.adaptOptions(i)};o.prototype.adaptOptions=function(t){return Object(r["a"])({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},t)};o.prototype.getLastExtent=function(){return null};o.prototype.getType=function(){};o.prototype.readFeature=function(t,e){};o.prototype.readFeatures=function(t,e){};o.prototype.readGeometry=function(t,e){};o.prototype.readProjection=function(t){};o.prototype.writeFeature=function(t,e){};o.prototype.writeFeatures=function(t,e){};o.prototype.writeGeometry=function(t,e){};e["a"]=o;function s(t,e,i){var r=i?Object(a["h"])(i.featureProjection):null;var o=i?Object(a["h"])(i.dataProjection):null;var s=void 0;if(r&&o&&!Object(a["f"])(r,o)){if(t instanceof n["a"]){s=(e?t.clone():t).transform(e?r:o,e?o:r)}else{s=Object(a["o"])(t,o,r)}}else{s=t}if(e&&i&&i.decimals!==undefined){var u=Math.pow(10,i.decimals);var l=function t(e){for(var i=0,n=e.length;i<n;++i){e[i]=Math.round(e[i]*u)/u}return e};if(s===t){s=s.clone()}s.applyTransform(l)}return s}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});i.d(e,"c",function(){return a});i.d(e,"d",function(){return o});function n(t){return Math.pow(t,3)}function r(t){return 1-n(1-t)}function a(t){return 3*t*t-2*t*t*t}function o(t){return t}function s(t){if(t<.5){return a(2*t)}else{return 1-a(2*(t-.5))}}},function(t,e,i){"use strict";var n=i(70);var r=i(2);var a=i(17);var o=i(77);var s=i(7);var u=i(72);var l=i(155);var c=i(96);var h=i(165);var f=i(139);var d=function t(e,i){var n=this;this.source_=e;this.projection_=null;this.fallbackProj_=i||null;this.ready_=false;this.credit_=null;this.tilingScheme_=null;this.rectangle_=null;var r=this.source_.get("olcs.proxy");if(r){if(typeof r==="function"){this.proxy_={getURL:r}}else if(typeof r==="string"){this.proxy_=new Cesium.DefaultProxy(r)}}this.errorEvent_=new Cesium.Event;this.emptyCanvas_=document.createElement("canvas");this.emptyCanvas_.width=1;this.emptyCanvas_.height=1;this.source_.on("change",function(t){n.handleSourceChanged_()});this.handleSourceChanged_()};Object.defineProperties(d.prototype,{ready:{get:function t(){return this.ready_}},rectangle:{get:function t(){return this.rectangle_}},tileWidth:{get:function t(){var e=this.source_.getTileGrid();return e?Array.isArray(e.getTileSize(0))?e.getTileSize(0)[0]:e.getTileSize(0):256}},tileHeight:{get:function t(){var e=this.source_.getTileGrid();return e?Array.isArray(e.getTileSize(0))?e.getTileSize(0)[1]:e.getTileSize(0):256}},maximumLevel:{get:function t(){var e=this.source_.getTileGrid();return e?e.getMaxZoom():18}},minimumLevel:{get:function t(){return 0}},tilingScheme:{get:function t(){return this.tilingScheme_}},tileDiscardPolicy:{get:function t(){return undefined}},errorEvent:{get:function t(){return this.errorEvent_}},credit:{get:function t(){return this.credit_}},proxy:{get:function t(){return this.proxy_}},hasAlphaChannel:{get:function t(){return true}},pickFeatures:{get:function t(){return undefined}}});d.prototype.handleSourceChanged_=function(){if(!this.ready_&&this.source_.getState()=="ready"){this.projection_=f["a"].getSourceProjection(this.source_)||this.fallbackProj_;if(this.projection_==s["h"]("EPSG:4326")){this.tilingScheme_=new Cesium.GeographicTilingScheme}else if(this.projection_==s["h"]("EPSG:3857")){this.tilingScheme_=new Cesium.WebMercatorTilingScheme}else{return}this.rectangle_=this.tilingScheme_.rectangle;this.credit_=d.createCreditForSource(this.source_);this.ready_=true}};d.createCreditForSource=function(t){var e="";var i=t.getAttributions();if(typeof i==="function"){i=i()}if(i){i.forEach(function(t){var i=typeof t==="string"?t:t.getHTML();e+=i})}return e.length>0?new Cesium.Credit(e,true):null};d.prototype.getTileCredits=function(t,e,i){return undefined};d.prototype.requestImage=function(t,e,i){var n=this.source_.getTileUrlFunction();if(n&&this.projection_){var r=this.tilingScheme_ instanceof Cesium.GeographicTilingScheme?i+1:i;var a=-e-1;var o=n.call(this.source_,[r,t,a],1,this.projection_);if(this.proxy_){o=this.proxy_.getURL(o)}return o?Cesium.ImageryProvider.loadImage(this,o):this.emptyCanvas_}else{return this.emptyCanvas_}};var p=d;var v={};v.computePixelSizeAtCoordinate=function(t,e){var i=t.camera;var n=t.canvas;var r=i.frustum;var a=Cesium.Cartesian3.magnitude(Cesium.Cartesian3.subtract(i.position,e,new Cesium.Cartesian3));var o=new Cesium.Cartesian2;return r.getPixelDimensions(n.clientWidth,n.clientHeight,a,o)};v.computeBoundingBoxAtTarget=function(t,e,i){var n=v.computePixelSizeAtCoordinate(t,e);var r=Cesium.Transforms.eastNorthUpToFixedFrame(e);var a=Cesium.Matrix4.multiplyByPoint(r,new Cesium.Cartesian3(-n.x*i,-n.y*i,0),new Cesium.Cartesian3);var o=Cesium.Matrix4.multiplyByPoint(r,new Cesium.Cartesian3(n.x*i,n.y*i,0),new Cesium.Cartesian3);return Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray([a,o])};v.applyHeightOffsetToGeometry=function(t,e){t.applyTransform(function(t,i,n){r["a"].assert(t===i);if(n!==undefined&&n>=3){for(var a=0;a<i.length;a+=n){i[a+2]=i[a+2]+e}}return i})};v.createMatrixAtCoordinates=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Cesium.Cartesian3.ZERO;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new Cesium.Cartesian3(1,1,1);var r=v.ol4326CoordinateToCesiumCartesian(t);var a=Cesium.Transforms.eastNorthUpToFixedFrame(r);var o=Cesium.Quaternion.fromAxisAngle(Cesium.Cartesian3.UNIT_Z,-e);var s=Cesium.Matrix4.fromTranslationQuaternionRotationScale(i,o,n);return Cesium.Matrix4.multiply(a,s,new Cesium.Matrix4)};v.rotateAroundAxis=function(t,e,i,a,o){var s=Cesium.Math.clamp;var u=Cesium.defaultValue;var l=o||{};var c=u(l.duration,500);var h=u(l.easing,n["d"]);var f=l.callback;var d=0;var p=new Cesium.Matrix4;var v=Date.now();var g=function n(){var o=Date.now();var u=o-v;var l=h(s(u/c,0,1));r["a"].assert(l>=d);t.transform.clone(p);var g=(l-d)*e;d=l;t.lookAtTransform(a);t.rotate(i,g);t.lookAtTransform(p);if(l<1){window.requestAnimationFrame(n)}else{if(f){f()}}};window.requestAnimationFrame(g)};v.setHeadingUsingBottomCenter=function(t,e,i,n){var r=t.camera;var a=v.computeAngleToZenith(t,i);var o=r.right;var s=Cesium.Quaternion.fromAxisAngle(o,a);var u=Cesium.Matrix3.fromQuaternion(s);var l=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(r.position,i,l);var c=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(u,l,c);Cesium.Cartesian3.add(c,i,c);var h=Cesium.Matrix4.fromTranslation(c);var f=v.rotateAroundAxis;f(r,e,c,h,n)};v.pickOnTerrainOrEllipsoid=function(t,e){var i=t.camera.getPickRay(e);var n=t.globe.pick(i,t);return n||t.camera.pickEllipsoid(e)};v.pickBottomPoint=function(t){var e=t.canvas;var i=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight);return v.pickOnTerrainOrEllipsoid(t,i)};v.pickCenterPoint=function(t){var e=t.canvas;var i=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight/2);return v.pickOnTerrainOrEllipsoid(t,i)};v.computeSignedTiltAngleOnGlobe=function(t){var e=t.camera;var i=new Cesium.Ray(e.position,e.direction);var n=t.globe.pick(i,t);if(!n){var r=Cesium.Ellipsoid.WGS84;var a=Cesium.IntersectionTests.rayEllipsoid(i,r);if(a){n=Cesium.Ray.getPoint(i,a.start)}}if(!n){return undefined}var o=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(n,o);var s=v.signedAngleBetween;var u=s(e.direction,o,e.right)-Math.PI;return Cesium.Math.convertLongitudeRange(u)};v.bottomFovRay=function(t){var e=t.camera;var i=e.frustum.fovy/2;var n=e.direction;var r=Cesium.Quaternion.fromAxisAngle(e.right,i);var a=Cesium.Matrix3.fromQuaternion(r);var o=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(a,n,o);return new Cesium.Ray(e.position,o)};v.signedAngleBetween=function(t,e,i){var n=new Cesium.Cartesian3;var r=new Cesium.Cartesian3;var a=new Cesium.Cartesian3;Cesium.Cartesian3.normalize(t,n);Cesium.Cartesian3.normalize(e,r);Cesium.Cartesian3.cross(n,r,a);var o=Cesium.Cartesian3.dot(n,r);var s=Cesium.Cartesian3.magnitude(a);var u=Cesium.Cartesian3.dot(i,a);var l=Math.atan2(s,o);return u>=0?l:-l};v.computeAngleToZenith=function(t,e){var i=t.camera;var n=i.frustum.fovy/2;var r=v.bottomFovRay(t);var a=Cesium.Cartesian3.clone(r.direction);Cesium.Cartesian3.negate(a,a);var o=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(e,o);var s=new Cesium.Cartesian3;Cesium.Cartesian3.negate(i.right,s);var u=v.signedAngleBetween(o,a,s);return u+n};v.extentToRectangle=function(t,e){if(t&&e){var i=s["o"](t,e,"EPSG:4326");return Cesium.Rectangle.fromDegrees(i[0],i[1],i[2],i[3])}else{return null}};v.tileLayerToImageryLayer=function(t,e){if(!(t instanceof a["a"])&&!(t instanceof o["a"])){return null}var i=null;var n=t.getSource();if(n instanceof u["a"]&&n.getUrl()&&n.getImageLoadFunction()===h["b"]){var r={"olcs.proxy":n.get("olcs.proxy"),"olcs.extent":n.get("olcs.extent"),"olcs.projection":n.get("olcs.projection"),"olcs.imagesource":n};n=new c["a"]({url:n.getUrl(),attributions:n.getAttributions(),projection:n.getProjection(),params:n.getParams()});n.setProperties(r)}if(n instanceof l["a"]){var s=f["a"].getSourceProjection(n);if(!s){s=e}if(v.isCesiumProjection(s)){i=new p(n,e)}else{return null}}else{return null}var d={};var g=t.get("olcs.extent");var m=g||t.getExtent();if(m){d.rectangle=v.extentToRectangle(m,e)}var y=new Cesium.ImageryLayer(i,d);return y};v.updateCesiumLayerProperties=function(t,e){var i=1;var n=true;[t.layer].concat(t.parents).forEach(function(t){var e=t.getOpacity();if(e!==undefined){i*=e}var r=t.getVisible();if(r!==undefined){n&=r}});e.alpha=i;e.show=n};v.ol4326CoordinateToCesiumCartesian=function(t){var e=t;return e.length>2?Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]):Cesium.Cartesian3.fromDegrees(e[0],e[1])};v.ol4326CoordinateArrayToCsCartesians=function(t){r["a"].assert(t!==null);var e=v.ol4326CoordinateToCesiumCartesian;var i=[];for(var n=0;n<t.length;++n){i.push(e(t[n]))}return i};v.olGeometryCloneTo4326=function(t,e){r["a"].assert(e);var i=s["h"]("EPSG:4326");var n=s["h"](e);if(n!==i){var a=t.getProperties();t=t.clone();t.transform(n,i);t.setProperties(a)}return t};v.convertColorToCesium=function(t){t=t||"black";if(Array.isArray(t)){return new Cesium.Color(Cesium.Color.byteToFloat(t[0]),Cesium.Color.byteToFloat(t[1]),Cesium.Color.byteToFloat(t[2]),t[3])}else if(typeof t=="string"){return Cesium.Color.fromCssColorString(t)}r["a"].fail("impossible")};v.convertUrlToCesium=function(t){var e="";var i=/\{(\d|[a-z])-(\d|[a-z])\}/;var n=i.exec(t);if(n){t=t.replace(i,"{s}");var r=n[1].charCodeAt(0);var a=n[2].charCodeAt(0);var o=void 0;for(o=r;o<=a;++o){e+=String.fromCharCode(o)}}return{url:t,subdomains:e}};v.resetToNorthZenith=function(t,e){return new Promise(function(i,n){var r=e.camera;var a=v.pickBottomPoint(e);if(!a){n("Could not get bottom pivot");return}var o=t.getView().getRotation();if(o===undefined){n("The view is not initialized");return}var s=v.computeAngleToZenith(e,a);v.setHeadingUsingBottomCenter(e,o,a);var u=Cesium.Matrix4.fromTranslation(a);var l=r.right;var c={callback:function e(){var n=t.getView();v.normalizeView(n);i()}};v.rotateAroundAxis(r,-s,l,u,c)})};v.rotateAroundBottomCenter=function(t,e){return new Promise(function(i,n){var r=t.camera;var a=v.pickBottomPoint(t);if(!a){n("could not get bottom pivot");return}var o={callback:i};var s=Cesium.Matrix4.fromTranslation(a);var u=r.right;var l=v.rotateAroundAxis;l(r,-e,u,s,o)})};v.normalizeView=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=t.getResolution();t.setRotation(e);t.setResolution(t.constrainResolution(i))};v.isCesiumProjection=function(t){var e=t===s["h"]("EPSG:3857");var i=t===s["h"]("EPSG:4326");return e||i};var g=e["a"]=v},function(t,e,i){"use strict";var n=i(200);var r=i(1);var a=i(172);var o=i(43);var s=i(3);var u=i(10);var l=i(4);var c=function t(e,i,n,r,s,u){a["a"].call(this,e,i,n,o["a"].IDLE);this.src_=r;this.image_=new Image;if(s!==null){this.image_.crossOrigin=s}this.imageListenerKeys_=null;this.state=o["a"].IDLE;this.imageLoadFunction_=u};Object(r["d"])(c,a["a"]);c.prototype.getImage=function(){return this.image_};c.prototype.handleImageError_=function(){this.state=o["a"].ERROR;this.unlistenImage_();this.changed()};c.prototype.handleImageLoad_=function(){if(this.resolution===undefined){this.resolution=Object(l["A"])(this.extent)/this.image_.height}this.state=o["a"].LOADED;this.unlistenImage_();this.changed()};c.prototype.load=function(){if(this.state==o["a"].IDLE||this.state==o["a"].ERROR){this.state=o["a"].LOADING;this.changed();this.imageListenerKeys_=[Object(s["b"])(this.image_,u["a"].ERROR,this.handleImageError_,this),Object(s["b"])(this.image_,u["a"].LOAD,this.handleImageLoad_,this)];this.imageLoadFunction_(this,this.src_)}};c.prototype.setImage=function(t){this.image_=t};c.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s["e"]);this.imageListenerKeys_=null};var h=c;var f=i(24);var d=i(11);var p=i(7);var v=i(167);var g=i(165);var m=i(174);var y=i(128);var _=i(144);var b=function t(e){var i=e||{};g["a"].call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions});this.crossOrigin_=i.crossOrigin!==undefined?i.crossOrigin:null;this.url_=i.url;this.imageLoadFunction_=i.imageLoadFunction!==undefined?i.imageLoadFunction:g["b"];this.params_=i.params||{};this.v13_=true;this.updateV13_();this.serverType_=i.serverType;this.hidpi_=i.hidpi!==undefined?i.hidpi:true;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=i.ratio!==undefined?i.ratio:1.5};Object(r["d"])(b,g["a"]);var w=[101,101];b.prototype.getGetFeatureInfoUrl=function(t,e,i,r){if(this.url_===undefined){return undefined}var a=Object(p["h"])(i);var o=this.getProjection();if(o&&o!==a){e=Object(v["a"])(o,a,t,e);t=Object(p["n"])(t,a,o)}var s=Object(l["z"])(t,e,0,w);var u={SERVICE:"WMS",VERSION:n["a"],REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};Object(d["a"])(u,this.params_,r);var c=Math.floor((t[0]-s[0])/e);var h=Math.floor((s[3]-t[1])/e);u[this.v13_?"I":"X"]=c;u[this.v13_?"J":"Y"]=h;return this.getRequestUrl_(s,w,1,o||a,u)};b.prototype.getParams=function(){return this.params_};b.prototype.getImageInternal=function(t,e,i,r){if(this.url_===undefined){return null}e=this.findNearestResolution(e);if(i!=1&&(!this.hidpi_||this.serverType_===undefined)){i=1}var a=e/i;var o=Object(l["x"])(t);var c=Math.ceil(Object(l["E"])(t)/a);var f=Math.ceil(Object(l["A"])(t)/a);var p=Object(l["z"])(o,a,0,[c,f]);var v=Math.ceil(this.ratio_*Object(l["E"])(t)/a);var g=Math.ceil(this.ratio_*Object(l["A"])(t)/a);var m=Object(l["z"])(o,a,0,[v,g]);var y=this.image_;if(y&&this.renderedRevision_==this.getRevision()&&y.getResolution()==e&&y.getPixelRatio()==i&&Object(l["g"])(y.getExtent(),p)){return y}var _={SERVICE:"WMS",VERSION:n["a"],REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};Object(d["a"])(_,this.params_);this.imageSize_[0]=Math.round(Object(l["E"])(m)/a);this.imageSize_[1]=Math.round(Object(l["A"])(m)/a);var b=this.getRequestUrl_(m,this.imageSize_,i,r,_);this.image_=new h(m,e,i,b,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();Object(s["a"])(this.image_,u["a"].CHANGE,this.handleImageChange,this);return this.image_};b.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};b.prototype.getRequestUrl_=function(t,e,i,n,r){Object(f["a"])(this.url_!==undefined,9);r[this.v13_?"CRS":"SRS"]=n.getCode();if(!("STYLES"in this.params_)){r["STYLES"]=""}if(i!=1){switch(this.serverType_){case m["a"].GEOSERVER:var a=90*i+.5|0;if("FORMAT_OPTIONS"in r){r["FORMAT_OPTIONS"]+=";dpi:"+a}else{r["FORMAT_OPTIONS"]="dpi:"+a}break;case m["a"].MAPSERVER:r["MAP_RESOLUTION"]=90*i;break;case m["a"].CARMENTA_SERVER:case m["a"].QGIS:r["DPI"]=90*i;break;default:Object(f["a"])(false,8);break}}r["WIDTH"]=e[0];r["HEIGHT"]=e[1];var o=n.getAxisOrientation();var s=void 0;if(this.v13_&&o.substr(0,2)=="ne"){s=[t[1],t[0],t[3],t[2]]}else{s=t}r["BBOX"]=s.join(",");return Object(_["a"])(this.url_,r)};b.prototype.getUrl=function(){return this.url_};b.prototype.setImageLoadFunction=function(t){this.image_=null;this.imageLoadFunction_=t;this.changed()};b.prototype.setUrl=function(t){if(t!=this.url_){this.url_=t;this.image_=null;this.changed()}};b.prototype.updateParams=function(t){Object(d["a"])(this.params_,t);this.updateV13_();this.image_=null;this.changed()};b.prototype.updateV13_=function(){var t=this.params_["VERSION"]||n["a"];this.v13_=Object(y["a"])(t,"1.3")>=0};var O=e["a"]=b},function(t,e,i){"use strict";var n=function t(){};n.prototype.showMessage=function(t){};n.prototype.show=function(t){var e=this.getMessageObjects(t);e.forEach(this.showMessage,this)};n.prototype.error=function(t){this.show(this.getMessageObjects(t,n.Type.ERROR))};n.prototype.info=function(t){this.show(this.getMessageObjects(t,n.Type.INFORMATION))};n.prototype.success=function(t){this.show(this.getMessageObjects(t,n.Type.SUCCESS))};n.prototype.warn=function(t){this.show(this.getMessageObjects(t,n.Type.WARNING))};n.prototype.getMessageObjects=function(t,e){var i=[];var r=null;var a=n.Type.INFORMATION;if(typeof t==="string"){i.push({msg:t,type:e!==undefined?e:a})}else if(Array.isArray(t)){t.forEach(function(n){if(typeof t==="string"){r={msg:n,type:e!==undefined?e:a}}else{r=n;if(e!==undefined){r.type=e}}i.push(r)},this)}else{r=t;if(e!==undefined){r.type=e}if(r.type===undefined){r.type=a}i.push(r)}return i};n.Type={ERROR:"error",INFORMATION:"information",SUCCESS:"success",WARNING:"warning"};e["a"]=n},function(t,e,i){"use strict";var n=i(1);var r=i(10);var a=i(14);var o=i(48);var s=i(111);var u=i(30);var l=i(22);var c=i(3);var h=i(40);var f=i(49);var d=i(4);var p=i(20);var v=i(146);var g=i(8);var m=i(46);var y=i(94);var _=i(109);var b=i(107);var w=i(194);var O=i(32);var x=i(29);var S=i(27);var C=i(208);var T=i(38);var E=i(34);var M=i(13);var j={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"};var k={DRAWSTART:"drawstart",DRAWEND:"drawend"};var R=function t(e,i){h["a"].call(this,e);this.feature=i};Object(n["d"])(R,h["a"]);var A=function t(e){S["b"].call(this,{handleDownEvent:D,handleEvent:P,handleUpEvent:N});this.shouldHandle_=false;this.downPx_=null;this.downTimeout_;this.lastDragTime_;this.freehand_=false;this.source_=e.source?e.source:null;this.features_=e.features?e.features:null;this.snapTolerance_=e.snapTolerance?e.snapTolerance:12;this.type_=e.type;this.mode_=F(this.type_);this.stopClick_=!!e.stopClick;this.minPoints_=e.minPoints?e.minPoints:this.mode_===j.POLYGON?3:2;this.maxPoints_=e.maxPoints?e.maxPoints:Infinity;this.finishCondition_=e.finishCondition?e.finishCondition:p["b"];var i=e.geometryFunction;if(!i){if(this.type_===g["a"].CIRCLE){i=function t(e,i){var n=i?i:new v["a"]([NaN,NaN]);var r=Object(l["h"])(e[0],e[1]);n.setCenterAndRadius(e[0],Math.sqrt(r));return n}}else{var n=void 0;var r=this.mode_;if(r===j.POINT){n=O["a"]}else if(r===j.LINE_STRING){n=m["a"]}else if(r===j.POLYGON){n=x["b"]}i=function t(e,i){var a=i;if(a){if(r===j.POLYGON){if(e[0].length){a.setCoordinates([e[0].concat([e[0][0]])])}else{a.setCoordinates([])}}else{a.setCoordinates(e)}}else{a=new n(e)}return a}}}this.geometryFunction_=i;this.dragVertexDelay_=e.dragVertexDelay!==undefined?e.dragVertexDelay:500;this.finishCoordinate_=null;this.sketchFeature_=null;this.sketchPoint_=null;this.sketchCoords_=null;this.sketchLine_=null;this.sketchLineCoords_=null;this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36;this.overlay_=new T["a"]({source:new E["b"]({useSpatialIndex:false,wrapX:e.wrapX?e.wrapX:false}),style:e.style?e.style:I(),updateWhileInteracting:true});this.geometryName_=e.geometryName;this.condition_=e.condition?e.condition:f["g"];this.freehandCondition_;if(e.freehand){this.freehandCondition_=f["c"]}else{this.freehandCondition_=e.freehandCondition?e.freehandCondition:f["k"]}Object(c["a"])(this,Object(u["b"])(C["a"].ACTIVE),this.updateState_,this)};Object(n["d"])(A,S["b"]);function I(){var t=Object(M["b"])();return function(e,i){return t[e.getGeometry().getType()]}}A.prototype.setMap=function(t){S["b"].prototype.setMap.call(this,t);this.updateState_()};function P(t){if(t.originalEvent.type===r["a"].CONTEXTMENU){t.preventDefault()}this.freehand_=this.mode_!==j.POINT&&this.freehandCondition_(t);var e=t.type===o["a"].POINTERMOVE;var i=true;if(this.lastDragTime_&&t.type===o["a"].POINTERDRAG){var n=Date.now();if(n-this.lastDragTime_>=this.dragVertexDelay_){this.downPx_=t.pixel;this.shouldHandle_=!this.freehand_;e=true}else{this.lastDragTime_=undefined}if(this.shouldHandle_&&this.downTimeout_){clearTimeout(this.downTimeout_);this.downTimeout_=undefined}}if(this.freehand_&&t.type===o["a"].POINTERDRAG&&this.sketchFeature_!==null){this.addToDrawing_(t);i=false}else if(this.freehand_&&t.type===o["a"].POINTERDOWN){i=false}else if(e){i=t.type===o["a"].POINTERMOVE;if(i&&this.freehand_){i=this.handlePointerMove_(t)}else if(t.pointerEvent.pointerType==w["b"]||t.type===o["a"].POINTERDRAG&&!this.downTimeout_){this.handlePointerMove_(t)}}else if(t.type===o["a"].DBLCLICK){i=false}return S["c"].call(this,t)&&i}function D(t){this.shouldHandle_=!this.freehand_;if(this.freehand_){this.downPx_=t.pixel;if(!this.finishCoordinate_){this.startDrawing_(t)}return true}else if(this.condition_(t)){this.lastDragTime_=Date.now();this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new s["a"](o["a"].POINTERMOVE,t.map,t.pointerEvent,t.frameState))}.bind(this),this.dragVertexDelay_);this.downPx_=t.pixel;return true}else{return false}}function N(t){var e=true;if(this.downTimeout_){clearTimeout(this.downTimeout_);this.downTimeout_=undefined}this.handlePointerMove_(t);var i=this.mode_===j.CIRCLE;if(this.shouldHandle_){if(!this.finishCoordinate_){this.startDrawing_(t);if(this.mode_===j.POINT){this.finishDrawing()}}else if(this.freehand_||i){this.finishDrawing()}else if(this.atFinish_(t)){if(this.finishCondition_(t)){this.finishDrawing()}}else{this.addToDrawing_(t)}e=false}else if(this.freehand_){this.finishCoordinate_=null;this.abortDrawing_()}if(!e&&this.stopClick_){t.stopPropagation()}return e}A.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_;var i=t.pixel;var n=e[0]-i[0];var r=e[1]-i[1];var a=n*n+r*r;this.shouldHandle_=this.freehand_?a>this.squaredClickTolerance_:a<=this.squaredClickTolerance_;if(!this.shouldHandle_){return true}}if(this.finishCoordinate_){this.modifyDrawing_(t)}else{this.createOrUpdateSketchPoint_(t)}return true};A.prototype.atFinish_=function(t){var e=false;if(this.sketchFeature_){var i=false;var n=[this.finishCoordinate_];if(this.mode_===j.LINE_STRING){i=this.sketchCoords_.length>this.minPoints_}else if(this.mode_===j.POLYGON){i=this.sketchCoords_[0].length>this.minPoints_;n=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]}if(i){var r=t.map;for(var a=0,o=n.length;a<o;a++){var s=n[a];var u=r.getPixelFromCoordinate(s);var l=t.pixel;var c=l[0]-u[0];var h=l[1]-u[1];var f=this.freehand_?1:this.snapTolerance_;e=Math.sqrt(c*c+h*h)<=f;if(e){this.finishCoordinate_=s;break}}}}return e};A.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();if(!this.sketchPoint_){this.sketchPoint_=new a["a"](new O["a"](e));this.updateSketchFeatures_()}else{var i=this.sketchPoint_.getGeometry();i.setCoordinates(e)}};A.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e;if(this.mode_===j.POINT){this.sketchCoords_=e.slice()}else if(this.mode_===j.POLYGON){this.sketchCoords_=[[e.slice(),e.slice()]];this.sketchLineCoords_=this.sketchCoords_[0]}else{this.sketchCoords_=[e.slice(),e.slice()]}if(this.sketchLineCoords_){this.sketchLine_=new a["a"](new m["a"](this.sketchLineCoords_))}var i=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new a["a"];if(this.geometryName_){this.sketchFeature_.setGeometryName(this.geometryName_)}this.sketchFeature_.setGeometry(i);this.updateSketchFeatures_();this.dispatchEvent(new R(k.DRAWSTART,this.sketchFeature_))};A.prototype.modifyDrawing_=function(t){var e=t.coordinate;var i=this.sketchFeature_.getGeometry();var n=void 0,r=void 0;if(this.mode_===j.POINT){r=this.sketchCoords_}else if(this.mode_===j.POLYGON){n=this.sketchCoords_[0];r=n[n.length-1];if(this.atFinish_(t)){e=this.finishCoordinate_.slice()}}else{n=this.sketchCoords_;r=n[n.length-1]}r[0]=e[0];r[1]=e[1];this.geometryFunction_(this.sketchCoords_,i);if(this.sketchPoint_){var o=this.sketchPoint_.getGeometry();o.setCoordinates(e)}var s=void 0;if(i instanceof x["b"]&&this.mode_!==j.POLYGON){if(!this.sketchLine_){this.sketchLine_=new a["a"](new m["a"](null))}var u=i.getLinearRing(0);s=this.sketchLine_.getGeometry();s.setFlatCoordinates(u.getLayout(),u.getFlatCoordinates())}else if(this.sketchLineCoords_){s=this.sketchLine_.getGeometry();s.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()};A.prototype.addToDrawing_=function(t){var e=t.coordinate;var i=this.sketchFeature_.getGeometry();var n=void 0;var r=void 0;if(this.mode_===j.LINE_STRING){this.finishCoordinate_=e.slice();r=this.sketchCoords_;if(r.length>=this.maxPoints_){if(this.freehand_){r.pop()}else{n=true}}r.push(e.slice());this.geometryFunction_(r,i)}else if(this.mode_===j.POLYGON){r=this.sketchCoords_[0];if(r.length>=this.maxPoints_){if(this.freehand_){r.pop()}else{n=true}}r.push(e.slice());if(n){this.finishCoordinate_=r[0]}this.geometryFunction_(this.sketchCoords_,i)}this.updateSketchFeatures_();if(n){this.finishDrawing()}};A.prototype.removeLastPoint=function(){if(!this.sketchFeature_){return}var t=this.sketchFeature_.getGeometry();var e=void 0,i=void 0;if(this.mode_===j.LINE_STRING){e=this.sketchCoords_;e.splice(-2,1);this.geometryFunction_(e,t);if(e.length>=2){this.finishCoordinate_=e[e.length-2].slice()}}else if(this.mode_===j.POLYGON){e=this.sketchCoords_[0];e.splice(-2,1);i=this.sketchLine_.getGeometry();i.setCoordinates(e);this.geometryFunction_(this.sketchCoords_,t)}if(e.length===0){this.finishCoordinate_=null}this.updateSketchFeatures_()};A.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!t){return}var e=this.sketchCoords_;var i=t.getGeometry();if(this.mode_===j.LINE_STRING){e.pop();this.geometryFunction_(e,i)}else if(this.mode_===j.POLYGON){e[0].pop();this.geometryFunction_(e,i);e=i.getCoordinates()}if(this.type_===g["a"].MULTI_POINT){t.setGeometry(new _["a"]([e]))}else if(this.type_===g["a"].MULTI_LINE_STRING){t.setGeometry(new y["a"]([e]))}else if(this.type_===g["a"].MULTI_POLYGON){t.setGeometry(new b["a"]([e]))}this.dispatchEvent(new R(k.DRAWEND,t));if(this.features_){this.features_.push(t)}if(this.source_){this.source_.addFeature(t)}};A.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;if(t){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLine_=null;this.overlay_.getSource().clear(true)}return t};A.prototype.extend=function(t){var e=t.getGeometry();var i=e;this.sketchFeature_=t;this.sketchCoords_=i.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice();this.sketchCoords_.push(n.slice());this.updateSketchFeatures_();this.dispatchEvent(new R(k.DRAWSTART,this.sketchFeature_))};A.prototype.shouldStopEvent=p["a"];A.prototype.updateSketchFeatures_=function(){var t=[];if(this.sketchFeature_){t.push(this.sketchFeature_)}if(this.sketchLine_){t.push(this.sketchLine_)}if(this.sketchPoint_){t.push(this.sketchPoint_)}var e=this.overlay_.getSource();e.clear(true);e.addFeatures(t)};A.prototype.updateState_=function(){var t=this.getMap();var e=this.getActive();if(!t||!e){this.abortDrawing_()}this.overlay_.setMap(e?t:null)};function $(t,e){return function(i,n){var r=i[0];var a=i[1];var o=Math.sqrt(Object(l["h"])(r,a));var s=n?n:Object(x["c"])(new v["a"](r),t);var u=e?e:Math.atan((a[1]-r[1])/(a[0]-r[0]));Object(x["e"])(s,r,o,u);return s}}function L(){return function(t,e){var i=Object(d["b"])(t);var n=e||new x["b"](null);n.setCoordinates([[Object(d["v"])(i),Object(d["w"])(i),Object(d["D"])(i),Object(d["C"])(i),Object(d["v"])(i)]]);return n}}function F(t){var e=void 0;if(t===g["a"].POINT||t===g["a"].MULTI_POINT){e=j.POINT}else if(t===g["a"].LINE_STRING||t===g["a"].MULTI_LINE_STRING){e=j.LINE_STRING}else if(t===g["a"].POLYGON||t===g["a"].MULTI_POLYGON){e=j.POLYGON}else if(t===g["a"].CIRCLE){e=j.CIRCLE}return e}e["a"]=A},function(t,e,i){"use strict";i.d(e,"b",function(){return u});var n=i(1);var r=i(3);var a=i(85);var o=i(10);var s=function t(){a["a"].call(this);this.revision_=0};Object(n["d"])(s,a["a"]);function u(t){if(Array.isArray(t)){for(var e=0,i=t.length;e<i;++e){Object(r["e"])(t[e])}}else{Object(r["e"])(t)}}s.prototype.changed=function(){++this.revision_;this.dispatchEvent(o["a"].CHANGE)};s.prototype.dispatchEvent;s.prototype.getRevision=function(){return this.revision_};s.prototype.on=function(t,e){if(Array.isArray(t)){var i=t.length;var n=new Array(i);for(var a=0;a<i;++a){n[a]=Object(r["a"])(this,t[a],e)}return n}else{return Object(r["a"])(this,t,e)}};s.prototype.once=function(t,e){if(Array.isArray(t)){var i=t.length;var n=new Array(i);for(var a=0;a<i;++a){n[a]=Object(r["b"])(this,t[a],e)}return n}else{return Object(r["b"])(this,t,e)}};s.prototype.un=function(t,e){if(Array.isArray(t)){for(var i=0,n=t.length;i<n;++i){Object(r["c"])(this,t[i],e)}return}else{Object(r["c"])(this,t,e)}};e["a"]=s},function(t,e,i){"use strict";e["a"]={ADD:"add",REMOVE:"remove"}},function(t,e,i){"use strict";var n=i(1);var r=i(124);var a=i(78);var o=function t(e){var i=e?e:{};a["a"].call(this,i);this.type=r["a"].IMAGE};Object(n["d"])(o,a["a"]);o.prototype.getSource;e["a"]=o},function(t,e,i){"use strict";i.d(e,"b",function(){return d});var n=i(3);var r=i(10);var a=i(1);var o=i(30);var s=i(196);var u=i(91);var l=i(11);var c=i(157);var h=i(142);var f=function t(e){var i=Object(l["a"])({},e);delete i.source;s["a"].call(this,i);this.mapPrecomposeKey_=null;this.mapRenderKey_=null;this.sourceChangeKey_=null;if(e.map){this.setMap(e.map)}Object(n["a"])(this,Object(o["b"])(u["a"].SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)};Object(a["d"])(f,s["a"]);function d(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}f.prototype.getLayersArray=function(t){var e=t?t:[];e.push(this);return e};f.prototype.getLayerStatesArray=function(t){var e=t?t:[];e.push(this.getLayerState());return e};f.prototype.getSource=function(){var t=this.get(u["a"].SOURCE);return t||null};f.prototype.getSourceState=function(){var t=this.getSource();return!t?h["a"].UNDEFINED:t.getState()};f.prototype.handleSourceChange_=function(){this.changed()};f.prototype.handleSourcePropertyChange_=function(){if(this.sourceChangeKey_){Object(n["e"])(this.sourceChangeKey_);this.sourceChangeKey_=null}var t=this.getSource();if(t){this.sourceChangeKey_=Object(n["a"])(t,r["a"].CHANGE,this.handleSourceChange_,this)}this.changed()};f.prototype.setMap=function(t){if(this.mapPrecomposeKey_){Object(n["e"])(this.mapPrecomposeKey_);this.mapPrecomposeKey_=null}if(!t){this.changed()}if(this.mapRenderKey_){Object(n["e"])(this.mapRenderKey_);this.mapRenderKey_=null}if(t){this.mapPrecomposeKey_=Object(n["a"])(t,c["a"].PRECOMPOSE,function(t){var e=this.getLayerState();e.managed=false;e.zIndex=Infinity;t.frameState.layerStatesArray.push(e);t.frameState.layerStates[Object(a["c"])(this)]=e},this);this.mapRenderKey_=Object(n["a"])(this,r["a"].CHANGE,t.render,t);this.changed()}};f.prototype.setSource=function(t){this.set(u["a"].SOURCE,t)};e["a"]=f},function(t,e,i){"use strict";var n=i(1);var r=i(209);var a=function t(e){var i=e||{};r["a"].call(this,{points:Infinity,fill:i.fill,radius:i.radius,snapToPixel:i.snapToPixel,stroke:i.stroke,atlasManager:i.atlasManager})};Object(n["d"])(a,r["a"]);a.prototype.clone=function(){var t=new a({fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});t.setOpacity(this.getOpacity());t.setScale(this.getScale());return t};a.prototype.setRadius=function(t){this.radius_=t;this.render_(this.atlasManager_)};e["a"]=a},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var r={};r[n.DEGREES]=2*Math.PI*6370997/360;r[n.FEET]=.3048;r[n.METERS]=1;r[n.USFEET]=1200/3937;e["b"]=n},function(t,e,i){"use strict";var n=function t(e,i){this.getActive=function(){return e[i]};this.setActive=function(t){e[i]=t}};e["a"]=n},function(t,e,i){"use strict";i.d(e,"b",function(){return s});i.d(e,"c",function(){return l});i.d(e,"a",function(){return c});i.d(e,"d",function(){return d});var n=i(24);var r=i(12);var a=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;var o=/^([a-z]*)$/i;function s(t){if(typeof t==="string"){return t}else{return d(t)}}function u(t){var e=document.createElement("div");e.style.color=t;if(e.style.color!==""){document.body.appendChild(e);var i=getComputedStyle(e).color;document.body.removeChild(e);return i}else{return""}}var l=function(){var t=1024;var e={};var i=0;return function(n){var r=void 0;if(e.hasOwnProperty(n)){r=e[n]}else{if(i>=t){var a=0;for(var o in e){if((a++&3)===0){delete e[o];--i}}}r=h(n);e[n]=r;++i}return r}}();function c(t){if(Array.isArray(t)){return t}else{return l(t)}}function h(t){var e=void 0,i=void 0,r=void 0,s=void 0,l=void 0;if(o.exec(t)){t=u(t)}if(a.exec(t)){var c=t.length-1;var h=void 0;if(c<=4){h=1}else{h=2}var d=c===4||c===8;e=parseInt(t.substr(1+0*h,h),16);i=parseInt(t.substr(1+1*h,h),16);r=parseInt(t.substr(1+2*h,h),16);if(d){s=parseInt(t.substr(1+3*h,h),16)}else{s=255}if(h==1){e=(e<<4)+e;i=(i<<4)+i;r=(r<<4)+r;if(d){s=(s<<4)+s}}l=[e,i,r,s/255]}else if(t.indexOf("rgba(")==0){l=t.slice(5,-1).split(",").map(Number);f(l)}else if(t.indexOf("rgb(")==0){l=t.slice(4,-1).split(",").map(Number);l.push(1);f(l)}else{Object(n["a"])(false,14)}return l}function f(t){t[0]=Object(r["a"])(t[0]+.5|0,0,255);t[1]=Object(r["a"])(t[1]+.5|0,0,255);t[2]=Object(r["a"])(t[2]+.5|0,0,255);t[3]=Object(r["a"])(t[3],0,1);return t}function d(t){var e=t[0];if(e!=(e|0)){e=e+.5|0}var i=t[1];if(i!=(i|0)){i=i+.5|0}var n=t[2];if(n!=(n|0)){n=n+.5|0}var r=t[3]===undefined?1:t[3];return"rgba("+e+","+i+","+n+","+r+")"}},function(t,e,i){"use strict";i.d(e,"b",function(){return u});i.d(e,"a",function(){return c});i.d(e,"c",function(){return h});var n=i(18);var r=i(63);var a=i(89);var o=i(47);var s=n["a"].momentProperties=[];function u(t,e){var i,n,r;if(!Object(a["a"])(e._isAMomentObject)){t._isAMomentObject=e._isAMomentObject}if(!Object(a["a"])(e._i)){t._i=e._i}if(!Object(a["a"])(e._f)){t._f=e._f}if(!Object(a["a"])(e._l)){t._l=e._l}if(!Object(a["a"])(e._strict)){t._strict=e._strict}if(!Object(a["a"])(e._tzm)){t._tzm=e._tzm}if(!Object(a["a"])(e._isUTC)){t._isUTC=e._isUTC}if(!Object(a["a"])(e._offset)){t._offset=e._offset}if(!Object(a["a"])(e._pf)){t._pf=Object(o["a"])(e)}if(!Object(a["a"])(e._locale)){t._locale=e._locale}if(s.length>0){for(i=0;i<s.length;i++){n=s[i];r=e[n];if(!Object(a["a"])(r)){t[n]=r}}}return t}var l=false;function c(t){u(this,t);this._d=new Date(t._d!=null?t._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(l===false){l=true;n["a"].updateOffset(this);l=false}}function h(t){return t instanceof c||t!=null&&t._isAMomentObject!=null}},function(t,e,i){"use strict";var n=i(1);var r=i(33);var a=i(76);var o=i(30);var s=i(148);var u=i(24);var l=i(3);var c=i(10);var h=i(4);var f=i(196);var d=i(11);var p=i(142);var v={LAYERS:"layers"};var g=function t(e){var i=e||{};var n=Object(d["a"])({},i);delete n.layers;var a=i.layers;f["a"].call(this,n);this.layersListenerKeys_=[];this.listenerKeys_={};Object(l["a"])(this,Object(o["b"])(v.LAYERS),this.handleLayersChanged_,this);if(a){if(Array.isArray(a)){a=new r["b"](a.slice(),{unique:true})}else{Object(u["a"])(a instanceof r["b"],43);a=a}}else{a=new r["b"](undefined,{unique:true})}this.setLayers(a)};Object(n["d"])(g,f["a"]);g.prototype.handleLayerChange_=function(){this.changed()};g.prototype.handleLayersChanged_=function(t){this.layersListenerKeys_.forEach(l["e"]);this.layersListenerKeys_.length=0;var e=this.getLayers();this.layersListenerKeys_.push(Object(l["a"])(e,a["a"].ADD,this.handleLayersAdd_,this),Object(l["a"])(e,a["a"].REMOVE,this.handleLayersRemove_,this));for(var i in this.listenerKeys_){this.listenerKeys_[i].forEach(l["e"])}Object(d["b"])(this.listenerKeys_);var r=e.getArray();for(var o=0,u=r.length;o<u;o++){var h=r[o];this.listenerKeys_[Object(n["c"])(h).toString()]=[Object(l["a"])(h,s["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(l["a"])(h,c["a"].CHANGE,this.handleLayerChange_,this)]}this.changed()};g.prototype.handleLayersAdd_=function(t){var e=t.element;var i=Object(n["c"])(e).toString();this.listenerKeys_[i]=[Object(l["a"])(e,s["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(l["a"])(e,c["a"].CHANGE,this.handleLayerChange_,this)];this.changed()};g.prototype.handleLayersRemove_=function(t){var e=t.element;var i=Object(n["c"])(e).toString();this.listenerKeys_[i].forEach(l["e"]);delete this.listenerKeys_[i];this.changed()};g.prototype.getLayers=function(){return this.get(v.LAYERS)};g.prototype.setLayers=function(t){this.set(v.LAYERS,t)};g.prototype.getLayersArray=function(t){var e=t!==undefined?t:[];this.getLayers().forEach(function(t){t.getLayersArray(e)});return e};g.prototype.getLayerStatesArray=function(t){var e=t!==undefined?t:[];var i=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});var n=this.getLayerState();for(var r=i,a=e.length;r<a;r++){var o=e[r];o.opacity*=n.opacity;o.visible=o.visible&&n.visible;o.maxResolution=Math.min(o.maxResolution,n.maxResolution);o.minResolution=Math.max(o.minResolution,n.minResolution);if(n.extent!==undefined){if(o.extent!==undefined){o.extent=Object(h["B"])(o.extent,n.extent)}else{o.extent=n.extent}}}return e};g.prototype.getSourceState=function(){return p["a"].READY};e["a"]=g},function(t,e,i){"use strict";var n=i(1);var r=i(198);var a=i(3);var o=i(20);var s=i(40);var u=function t(){r["a"].call(this);this.pendingRemovals_={};this.dispatching_={};this.listeners_={}};Object(n["d"])(u,r["a"]);u.prototype.addEventListener=function(t,e){var i=this.listeners_[t];if(!i){i=this.listeners_[t]=[]}if(i.indexOf(e)===-1){i.push(e)}};u.prototype.dispatchEvent=function(t){var e=typeof t==="string"?new s["a"](t):t;var i=e.type;e.target=this;var n=this.listeners_[i];var r=void 0;if(n){if(!(i in this.dispatching_)){this.dispatching_[i]=0;this.pendingRemovals_[i]=0}++this.dispatching_[i];for(var a=0,u=n.length;a<u;++a){if(n[a].call(this,e)===false||e.propagationStopped){r=false;break}}--this.dispatching_[i];if(this.dispatching_[i]===0){var l=this.pendingRemovals_[i];delete this.pendingRemovals_[i];while(l--){this.removeEventListener(i,o["c"])}delete this.dispatching_[i]}return r}};u.prototype.disposeInternal=function(){Object(a["d"])(this)};u.prototype.getListeners=function(t){return this.listeners_[t]};u.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0};u.prototype.removeEventListener=function(t,e){var i=this.listeners_[t];if(i){var n=i.indexOf(e);if(t in this.pendingRemovals_){i[n]=o["c"];++this.pendingRemovals_[t]}else{i.splice(n,1);if(i.length===0){delete this.listeners_[t]}}}};e["a"]=u},function(t,e,i){"use strict";var n=i(1);var r=i(40);var a=function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};r["a"].call(this,e);this.detail=i};n["d"](a,r["a"]);e["a"]=a},function(t,e,i){"use strict";var n=i(93);var r=i(63);var a=i(25);var o=i(45);var s=i(66);var u=i(6);var l=i(52);var c=i(18);var h=i(16);var f=i(39);var d=i(126);var p=i(145);function v(t,e){return(t%e+e)%e}var g=i(90);var m=i(122);var y=i(47);var _=i(115);i.d(e,"a",function(){return b});i.d(e,"b",function(){return O});i.d(e,"f",function(){return x});i.d(e,"c",function(){return S});i.d(e,"h",function(){return C});i.d(e,"g",function(){return E});i.d(e,"k",function(){return M});i.d(e,"e",function(){return j});i.d(e,"d",function(){return k});i.d(e,"j",function(){return A});i.d(e,"i",function(){return P});function b(t,e){if(isNaN(t)||isNaN(e)){return NaN}var i=v(e,12);t+=(e-i)/12;return i===1?Object(_["d"])(t)?29:28:31-i%7%2}Object(a["a"])("M",["MM",2],"Mo",function(){return this.month()+1});Object(a["a"])("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Object(a["a"])("MMMM",0,0,function(t){return this.localeData().months(this,t)});Object(o["a"])("month","M");Object(s["a"])("month",8);Object(u["a"])("M",u["d"]);Object(u["a"])("MM",u["d"],u["h"]);Object(u["a"])("MMM",function(t,e){return e.monthsShortRegex(t)});Object(u["a"])("MMMM",function(t,e){return e.monthsRegex(t)});Object(l["a"])(["M","MM"],function(t,e){e[h["e"]]=Object(f["a"])(t)-1});Object(l["a"])(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);if(r!=null){e[h["e"]]=r}else{Object(y["a"])(i).invalidMonth=t}});var w=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var O="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function x(t,e){if(!t){return Object(d["a"])(this._months)?this._months:this._months["standalone"]}return Object(d["a"])(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||w).test(e)?"format":"standalone"][t.month()]}var S="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function C(t,e){if(!t){return Object(d["a"])(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return Object(d["a"])(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[w.test(e)?"format":"standalone"][t.month()]}function T(t,e,i){var n,r,a,o=t.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(n=0;n<12;++n){a=Object(m["a"])([2e3,n]);this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase();this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase()}}if(i){if(e==="MMM"){r=g["a"].call(this._shortMonthsParse,o);return r!==-1?r:null}else{r=g["a"].call(this._longMonthsParse,o);return r!==-1?r:null}}else{if(e==="MMM"){r=g["a"].call(this._shortMonthsParse,o);if(r!==-1){return r}r=g["a"].call(this._longMonthsParse,o);return r!==-1?r:null}else{r=g["a"].call(this._longMonthsParse,o);if(r!==-1){return r}r=g["a"].call(this._shortMonthsParse,o);return r!==-1?r:null}}}function E(t,e,i){var n,r,a;if(this._monthsParseExact){return T.call(this,t,e,i)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(n=0;n<12;n++){r=Object(m["a"])([2e3,n]);if(i&&!this._longMonthsParse[n]){this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i");this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[n]){a="^"+this.months(r,"")+"|^"+this.monthsShort(r,"");this._monthsParse[n]=new RegExp(a.replace(".",""),"i")}if(i&&e==="MMMM"&&this._longMonthsParse[n].test(t)){return n}else if(i&&e==="MMM"&&this._shortMonthsParse[n].test(t)){return n}else if(!i&&this._monthsParse[n].test(t)){return n}}}function M(t,e){var i;if(!t.isValid()){return t}if(typeof e==="string"){if(/^\d+$/.test(e)){e=Object(f["a"])(e)}else{e=t.localeData().monthsParse(e);if(!Object(p["a"])(e)){return t}}}i=Math.min(t.date(),b(t.year(),e));t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i);return t}function j(t){if(t!=null){M(this,t);c["a"].updateOffset(this,true);return this}else{return Object(n["a"])(this,"Month")}}function k(){return b(this.year(),this.month())}var R=u["s"];function A(t){if(this._monthsParseExact){if(!Object(r["a"])(this,"_monthsRegex")){D.call(this)}if(t){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!Object(r["a"])(this,"_monthsShortRegex")){this._monthsShortRegex=R}return this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}}var I=u["s"];function P(t){if(this._monthsParseExact){if(!Object(r["a"])(this,"_monthsRegex")){D.call(this)}if(t){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!Object(r["a"])(this,"_monthsRegex")){this._monthsRegex=I}return this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}}function D(){function t(t,e){return e.length-t.length}var e=[],i=[],n=[],r,a;for(r=0;r<12;r++){a=Object(m["a"])([2e3,r]);e.push(this.monthsShort(a,""));i.push(this.months(a,""));n.push(this.months(a,""));n.push(this.monthsShort(a,""))}e.sort(t);i.sort(t);n.sort(t);for(r=0;r<12;r++){e[r]=Object(u["t"])(e[r]);i[r]=Object(u["t"])(i[r])}for(r=0;r<24;r++){n[r]=Object(u["t"])(n[r])}this._monthsRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});i.d(e,"b",function(){return l});var n=i(138);var r=i(18);var a=i(89);function o(t){if(r["a"].suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+t)}}function s(t,e){var i=true;return Object(n["a"])(function(){if(r["a"].deprecationHandler!=null){r["a"].deprecationHandler(null,t)}if(i){var n=[];var a;for(var s=0;s<arguments.length;s++){a="";if(typeof arguments[s]==="object"){a+="\n["+s+"] ";for(var u in arguments[0]){a+=u+": "+arguments[0][u]+", "}a=a.slice(0,-2)}else{a=arguments[s]}n.push(a)}o(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack);i=false}return e.apply(this,arguments)},e)}var u={};function l(t,e){if(r["a"].deprecationHandler!=null){r["a"].deprecationHandler(t,e)}if(!u[t]){o(e);u[t]=true}}r["a"].suppressDeprecationWarnings=false;r["a"].deprecationHandler=null},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t){return t===void 0}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n;if(Array.prototype.indexOf){n=Array.prototype.indexOf}else{n=function(t){var e;for(e=0;e<this.length;++e){if(this[e]===t){return e}}return-1}}},function(t,e,i){"use strict";e["a"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,i){"use strict";var n=i(7);var r=i(159);var a=i(147);function o(t){var e=Object.keys(t.defs);var i=e.length;var o=void 0,s=void 0;for(o=0;o<i;++o){var u=e[o];if(!Object(n["h"])(u)){var l=t.defs(u);Object(n["d"])(new a["a"]({code:u,axisOrientation:l.axis,metersPerUnit:l.to_meter,units:l.units}))}}for(o=0;o<i;++o){var c=e[o];var h=Object(n["h"])(c);for(s=0;s<i;++s){var f=e[s];var d=Object(n["h"])(f);if(!Object(r["c"])(c,f)){if(t.defs[c]===t.defs[f]){Object(n["c"])([h,d])}else{var p=t(c,f);Object(n["b"])(h,d,p.forward,p.inverse)}}}}}var s=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");t.WGS84=t["EPSG:4326"];t["EPSG:3785"]=t["EPSG:3857"];t.GOOGLE=t["EPSG:3857"];t["EPSG:900913"]=t["EPSG:3857"];t["EPSG:102113"]=t["EPSG:3857"]};var u=1;var l=2;var c=4;var h=5;var f=484813681109536e-20;var d=Math.PI/2;var p=.16666666666666666;var v=.04722222222222222;var g=.022156084656084655;var m=1e-10;var y=.017453292519943295;var _=57.29577951308232;var b=Math.PI/4;var w=Math.PI*2;var O=3.14159265359;var x={};x.greenwich=0;x.lisbon=-9.131906111111;x.paris=2.337229166667;x.bogota=-74.080916666667;x.madrid=-3.687938888889;x.rome=12.452333333333;x.bern=7.439583333333;x.jakarta=106.807719444444;x.ferro=-17.666666666667;x.brussels=4.367975;x.stockholm=18.058277777778;x.athens=23.7163375;x.oslo=10.722916666667;var S={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var C=/[\s_\-\/\(\)]/g;function T(t,e){if(t[e]){return t[e]}var i=Object.keys(t);var n=e.toLowerCase().replace(C,"");var r=-1;var a,o;while(++r<i.length){a=i[r];o=a.toLowerCase().replace(C,"");if(o===n){return t[a]}}}var E=function(t){var e={};var i=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");i.push(true);t[i[0].toLowerCase()]=i[1];return t},{});var n,r,a;var o={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*y},lat_1:function(t){e.lat1=t*y},lat_2:function(t){e.lat2=t*y},lat_ts:function(t){e.lat_ts=t*y},lon_0:function(t){e.long0=t*y},lon_1:function(t){e.long1=t*y},lon_2:function(t){e.long2=t*y},alpha:function(t){e.alpha=parseFloat(t)*y},lonc:function(t){e.longc=t*y},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=true},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=true},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t;var i=T(S,t);if(i){e.to_meter=i.to_meter}},from_greenwich:function(t){e.from_greenwich=t*y},pm:function(t){var i=T(x,t);e.from_greenwich=(i?i:parseFloat(t))*y},nadgrids:function(t){if(t==="@null"){e.datumCode="none"}else{e.nadgrids=t}},axis:function(t){var i="ewnsud";if(t.length===3&&i.indexOf(t.substr(0,1))!==-1&&i.indexOf(t.substr(1,1))!==-1&&i.indexOf(t.substr(2,1))!==-1){e.axis=t}}};for(n in i){r=i[n];if(n in o){a=o[n];if(typeof a==="function"){a(r)}else{e[a]=r}}else{e[n]=r}}if(typeof e.datumCode==="string"&&e.datumCode!=="WGS84"){e.datumCode=e.datumCode.toLowerCase()}return e};var M=i(263);var j=i.n(M);function k(t){var e=this;if(arguments.length===2){var i=arguments[1];if(typeof i==="string"){if(i.charAt(0)==="+"){k[t]=E(arguments[1])}else{k[t]=j()(arguments[1])}}else{k[t]=i}}else if(arguments.length===1){if(Array.isArray(t)){return t.map(function(t){if(Array.isArray(t)){k.apply(e,t)}else{k(t)}})}else if(typeof t==="string"){if(t in k){return k[t]}}else if("EPSG"in t){k["EPSG:"+t.EPSG]=t}else if("ESRI"in t){k["ESRI:"+t.ESRI]=t}else if("IAU2000"in t){k["IAU2000:"+t.IAU2000]=t}else{console.log(t)}return}}s(k);var R=k;function A(t){return typeof t==="string"}function I(t){return t in R}var P=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function D(t){return P.some(function(e){return t.indexOf(e)>-1})}function N(t){return t[0]==="+"}function $(t){if(A(t)){if(I(t)){return R[t]}if(D(t)){return j()(t)}if(N(t)){return E(t)}}else{return t}}var L=$;var F=function(t,e){t=t||{};var i,n;if(!e){return t}for(n in e){i=e[n];if(i!==undefined){t[n]=i}}return t};var G=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)};var U=function(t){return t<0?-1:1};var H=function(t){return Math.abs(t)<=O?t:t-U(t)*w};var W=function(t,e,i){var n=t*i;var r=.5*t;n=Math.pow((1-n)/(1+n),r);return Math.tan(.5*(d-e))/n};var Y=function(t,e){var i=.5*t;var n,r;var a=d-2*Math.atan(e);for(var o=0;o<=15;o++){n=t*Math.sin(a);r=d-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-a;a+=r;if(Math.abs(r)<=1e-10){return a}}return-9999};function z(){var t=this.b/this.a;this.es=1-t*t;if(!("x0"in this)){this.x0=0}if(!("y0"in this)){this.y0=0}this.e=Math.sqrt(this.es);if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}else{if(!this.k0){if(this.k){this.k0=this.k}else{this.k0=1}}}}function V(t){var e=t.x;var i=t.y;if(i*_>90&&i*_<-90&&e*_>180&&e*_<-180){return null}var n,r;if(Math.abs(Math.abs(i)-d)<=m){return null}else{if(this.sphere){n=this.x0+this.a*this.k0*H(e-this.long0);r=this.y0+this.a*this.k0*Math.log(Math.tan(b+.5*i))}else{var a=Math.sin(i);var o=W(this.e,i,a);n=this.x0+this.a*this.k0*H(e-this.long0);r=this.y0-this.a*this.k0*Math.log(o)}t.x=n;t.y=r;return t}}function B(t){var e=t.x-this.x0;var i=t.y-this.y0;var n,r;if(this.sphere){r=d-2*Math.atan(Math.exp(-i/(this.a*this.k0)))}else{var a=Math.exp(-i/(this.a*this.k0));r=Y(this.e,a);if(r===-9999){return null}}n=H(this.long0+e/(this.a*this.k0));t.x=n;t.y=r;return t}var q=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];var K={init:z,forward:V,inverse:B,names:q};function X(){}function Z(t){return t}var Q=["longlat","identity"];var J={init:X,forward:Z,inverse:Z,names:Q};var tt=[K,J];var et={};var it=[];function nt(t,e){var i=it.length;if(!t.names){console.log(e);return true}it[i]=t;t.names.forEach(function(t){et[t.toLowerCase()]=i});return this}function rt(t){if(!t){return false}var e=t.toLowerCase();if(typeof et[e]!=="undefined"&&it[et[e]]){return it[et[e]]}}function at(){tt.forEach(nt)}var ot={start:at,add:nt,get:rt};var st={};st.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};st.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};st.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};st.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};st.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"};st.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};st.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};st.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"};st.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};st.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};st.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};st.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"};st.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};st.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"};st.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."};st.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"};st.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};st.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};st.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"};st.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"};st.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"};st.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"};st.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"};st.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};st.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};st.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};st.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};st.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};st.hough={a:6378270,rf:297,ellipseName:"Hough"};st.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};st.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};st.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};st.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};st.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"};st.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};st.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};st.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"};st.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"};st.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};st.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};st.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var ut=st.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};st.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function lt(t,e,i,n){var r=t*t;var a=e*e;var o=(r-a)/r;var s=0;if(n){t*=1-o*(p+o*(v+o*g));r=t*t;o=0}else{s=Math.sqrt(o)}var u=(r-a)/a;return{es:o,e:s,ep2:u}}function ct(t,e,i,n,r){if(!t){var a=T(st,n);if(!a){a=ut}t=a.a;e=a.b;i=a.rf}if(i&&!e){e=(1-1/i)*t}if(i===0||Math.abs(t-e)<m){r=true;e=t}return{a:t,b:e,rf:i,sphere:r}}var ht={};ht.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};ht.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};ht.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};ht.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};ht.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};ht.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};ht.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};ht.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"};ht.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};ht.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};ht.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};ht.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};ht.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};ht.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};ht.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};ht.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};ht.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function ft(t,e,i,n,r,a){var o={};if(t===undefined||t==="none"){o.datum_type=h}else{o.datum_type=c}if(e){o.datum_params=e.map(parseFloat);if(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0){o.datum_type=u}if(o.datum_params.length>3){if(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0){o.datum_type=l;o.datum_params[3]*=f;o.datum_params[4]*=f;o.datum_params[5]*=f;o.datum_params[6]=o.datum_params[6]/1e6+1}}}o.a=i;o.b=n;o.es=r;o.ep2=a;return o}var dt=ft;function pt(t,e){if(!(this instanceof pt)){return new pt(t)}e=e||function(t){if(t){throw t}};var i=L(t);if(typeof i!=="object"){e(t);return}var n=pt.projections.get(i.projName);if(!n){e(t);return}if(i.datumCode&&i.datumCode!=="none"){var r=T(ht,i.datumCode);if(r){i.datum_params=r.towgs84?r.towgs84.split(","):null;i.ellps=r.ellipse;i.datumName=r.datumName?r.datumName:i.datumCode}}i.k0=i.k0||1;i.axis=i.axis||"enu";i.ellps=i.ellps||"wgs84";var a=ct(i.a,i.b,i.rf,i.ellps,i.sphere);var o=lt(a.a,a.b,a.rf,i.R_A);var s=i.datum||dt(i.datumCode,i.datum_params,a.a,a.b,o.es,o.ep2);F(this,i);F(this,n);this.a=a.a;this.b=a.b;this.rf=a.rf;this.sphere=a.sphere;this.es=o.es;this.e=o.e;this.ep2=o.ep2;this.datum=s;this.init();e(null,this)}pt.projections=ot;pt.projections.start();var vt=pt;function gt(t,e){if(t.datum_type!==e.datum_type){return false}else if(t.a!==e.a||Math.abs(t.es-e.es)>5e-11){return false}else if(t.datum_type===u){return t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]}else if(t.datum_type===l){return t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]}else{return true}}function mt(t,e,i){var n=t.x;var r=t.y;var a=t.z?t.z:0;var o;var s;var u;var l;if(r<-d&&r>-1.001*d){r=-d}else if(r>d&&r<1.001*d){r=d}else if(r<-d||r>d){return null}if(n>Math.PI){n-=2*Math.PI}s=Math.sin(r);l=Math.cos(r);u=s*s;o=i/Math.sqrt(1-e*u);return{x:(o+a)*l*Math.cos(n),y:(o+a)*l*Math.sin(n),z:(o*(1-e)+a)*s}}function yt(t,e,i,n){var r=1e-12;var a=r*r;var o=30;var s;var u;var l;var c;var h;var f;var p;var v;var g;var m;var y;var _;var b;var w=t.x;var O=t.y;var x=t.z?t.z:0;var S;var C;var T;s=Math.sqrt(w*w+O*O);u=Math.sqrt(w*w+O*O+x*x);if(s/i<r){S=0;if(u/i<r){C=d;T=-n;return{x:t.x,y:t.y,z:t.z}}}else{S=Math.atan2(O,w)}l=x/u;c=s/u;h=1/Math.sqrt(1-e*(2-e)*c*c);v=c*(1-e)*h;g=l*h;b=0;do{b++;p=i/Math.sqrt(1-e*g*g);T=s*v+x*g-p*(1-e*g*g);f=e*p/(p+T);h=1/Math.sqrt(1-f*(2-f)*c*c);m=c*(1-f)*h;y=l*h;_=y*v-m*g;v=m;g=y}while(_*_>a&&b<o);C=Math.atan(y/Math.abs(m));return{x:S,y:C,z:T}}function _t(t,e,i){if(e===u){return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]}}else if(e===l){var n=i[0];var r=i[1];var a=i[2];var o=i[3];var s=i[4];var c=i[5];var h=i[6];return{x:h*(t.x-c*t.y+s*t.z)+n,y:h*(c*t.x+t.y-o*t.z)+r,z:h*(-s*t.x+o*t.y+t.z)+a}}}function bt(t,e,i){if(e===u){return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]}}else if(e===l){var n=i[0];var r=i[1];var a=i[2];var o=i[3];var s=i[4];var c=i[5];var h=i[6];var f=(t.x-n)/h;var d=(t.y-r)/h;var p=(t.z-a)/h;return{x:f+c*d-s*p,y:-c*f+d+o*p,z:s*f-o*d+p}}}function wt(t){return t===u||t===l}var Ot=function(t,e,i){if(gt(t,e)){return i}if(t.datum_type===h||e.datum_type===h){return i}if(t.es===e.es&&t.a===e.a&&!wt(t.datum_type)&&!wt(e.datum_type)){return i}i=mt(i,t.es,t.a);if(wt(t.datum_type)){i=_t(i,t.datum_type,t.datum_params)}if(wt(e.datum_type)){i=bt(i,e.datum_type,e.datum_params)}return yt(i,e.es,e.a,e.b)};var xt=function(t,e,i){var n=i.x,r=i.y,a=i.z||0;var o,s,u;var l={};for(u=0;u<3;u++){if(e&&u===2&&i.z===undefined){continue}if(u===0){o=n;s="x"}else if(u===1){o=r;s="y"}else{o=a;s="z"}switch(t.axis[u]){case"e":l[s]=o;break;case"w":l[s]=-o;break;case"n":l[s]=o;break;case"s":l[s]=-o;break;case"u":if(i[s]!==undefined){l.z=o}break;case"d":if(i[s]!==undefined){l.z=-o}break;default:return null}}return l};var St=function(t){var e={x:t[0],y:t[1]};if(t.length>2){e.z=t[2]}if(t.length>3){e.m=t[3]}return e};var Ct=function(t){Tt(t.x);Tt(t.y)};function Tt(t){if(typeof Number.isFinite==="function"){if(Number.isFinite(t)){return}throw new TypeError("coordinates must be finite numbers")}if(typeof t!=="number"||t!==t||!isFinite(t)){throw new TypeError("coordinates must be finite numbers")}}function Et(t,e){return(t.datum.datum_type===u||t.datum.datum_type===l)&&e.datumCode!=="WGS84"||(e.datum.datum_type===u||e.datum.datum_type===l)&&t.datumCode!=="WGS84"}function Mt(t,e,i){var n;if(Array.isArray(i)){i=St(i)}Ct(i);if(t.datum&&e.datum&&Et(t,e)){n=new vt("WGS84");i=Mt(t,n,i);t=n}if(t.axis!=="enu"){i=xt(t,false,i)}if(t.projName==="longlat"){i={x:i.x*y,y:i.y*y}}else{if(t.to_meter){i={x:i.x*t.to_meter,y:i.y*t.to_meter}}i=t.inverse(i)}if(t.from_greenwich){i.x+=t.from_greenwich}i=Ot(t.datum,e.datum,i);if(e.from_greenwich){i={x:i.x-e.from_greenwich,y:i.y}}if(e.projName==="longlat"){i={x:i.x*_,y:i.y*_}}else{i=e.forward(i);if(e.to_meter){i={x:i.x/e.to_meter,y:i.y/e.to_meter}}}if(e.axis!=="enu"){return xt(e,true,i)}return i}var jt=vt("WGS84");function kt(t,e,i){var n,r,a;if(Array.isArray(i)){n=Mt(t,e,i);if(i.length===3){return[n.x,n.y,n.z]}else{return[n.x,n.y]}}else{r=Mt(t,e,i);a=Object.keys(i);if(a.length===2){return r}a.forEach(function(t){if(t==="x"||t==="y"){return}r[t]=i[t]});return r}}function Rt(t){if(t instanceof vt){return t}if(t.oProj){return t.oProj}return vt(t)}function At(t,e,i){t=Rt(t);var n=false;var r;if(typeof e==="undefined"){e=t;t=jt;n=true}else if(typeof e.x!=="undefined"||Array.isArray(e)){i=e;e=t;t=jt;n=true}e=Rt(e);if(i){return kt(t,e,i)}else{r={forward:function(i){return kt(t,e,i)},inverse:function(i){return kt(e,t,i)}};if(n){r.oProj=e}return r}}var It=At;var Pt=i(237);var Dt=i.n(Pt);function Nt(t,e,i){if(!(this instanceof Nt)){return new Nt(t,e,i)}if(Array.isArray(t)){this.x=t[0];this.y=t[1];this.z=t[2]||0}else if(typeof t==="object"){this.x=t.x;this.y=t.y;this.z=t.z||0}else if(typeof t==="string"&&typeof e==="undefined"){var n=t.split(",");this.x=parseFloat(n[0],10);this.y=parseFloat(n[1],10);this.z=parseFloat(n[2],10)||0}else{this.x=t;this.y=e;this.z=i||0}console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Nt.fromMGRS=function(t){return new Nt(Object(Pt["toPoint"])(t))};Nt.prototype.toMGRS=function(t){return Object(Pt["forward"])([this.x,this.y],t)};var $t=Nt;var Lt=i(314);var Ft=1;var Gt=.25;var Ut=.046875;var Ht=.01953125;var Wt=.01068115234375;var Yt=.75;var zt=.46875;var Vt=.013020833333333334;var Bt=.007120768229166667;var qt=.3645833333333333;var Kt=.005696614583333333;var Xt=.3076171875;var Zt=function(t){var e=[];e[0]=Ft-t*(Gt+t*(Ut+t*(Ht+t*Wt)));e[1]=t*(Yt-t*(Ut+t*(Ht+t*Wt)));var i=t*t;e[2]=i*(zt-t*(Vt+t*Bt));i*=t;e[3]=i*(qt-t*Kt);e[4]=i*t*Xt;return e};var Qt=function(t,e,i,n){i*=e;e*=e;return n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))};var Jt=20;var te=function(t,e,i){var n=1/(1-e);var r=t;for(var a=Jt;a;--a){var o=Math.sin(r);var s=1-e*o*o;s=(Qt(r,o,Math.cos(r),i)-t)*(s*Math.sqrt(s))*n;r-=s;if(Math.abs(s)<m){return r}}return r};function ee(){this.x0=this.x0!==undefined?this.x0:0;this.y0=this.y0!==undefined?this.y0:0;this.long0=this.long0!==undefined?this.long0:0;this.lat0=this.lat0!==undefined?this.lat0:0;if(this.es){this.en=Zt(this.es);this.ml0=Qt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en)}}function ie(t){var e=t.x;var i=t.y;var n=H(e-this.long0);var r;var a,o;var s=Math.sin(i);var u=Math.cos(i);if(!this.es){var l=u*Math.sin(n);if(Math.abs(Math.abs(l)-1)<m){return 93}else{a=.5*this.a*this.k0*Math.log((1+l)/(1-l))+this.x0;o=u*Math.cos(n)/Math.sqrt(1-Math.pow(l,2));l=Math.abs(o);if(l>=1){if(l-1>m){return 93}else{o=0}}else{o=Math.acos(o)}if(i<0){o=-o}o=this.a*this.k0*(o-this.lat0)+this.y0}}else{var c=u*n;var h=Math.pow(c,2);var f=this.ep2*Math.pow(u,2);var d=Math.pow(f,2);var p=Math.abs(u)>m?Math.tan(i):0;var v=Math.pow(p,2);var g=Math.pow(v,2);r=1-this.es*Math.pow(s,2);c=c/Math.sqrt(r);var y=Qt(i,s,u,this.en);a=this.a*(this.k0*c*(1+h/6*(1-v+f+h/20*(5-18*v+g+14*f-58*v*f+h/42*(61+179*g-g*v-479*v)))))+this.x0;o=this.a*(this.k0*(y-this.ml0+s*n*c/2*(1+h/12*(5-v+9*f+4*d+h/30*(61+g-58*v+270*f-330*v*f+h/56*(1385+543*g-g*v-3111*v))))))+this.y0}t.x=a;t.y=o;return t}function ne(t){var e,i;var n,r;var a=(t.x-this.x0)*(1/this.a);var o=(t.y-this.y0)*(1/this.a);if(!this.es){var s=Math.exp(a/this.k0);var u=.5*(s-1/s);var l=this.lat0+o/this.k0;var c=Math.cos(l);e=Math.sqrt((1-Math.pow(c,2))/(1+Math.pow(u,2)));n=Math.asin(e);if(o<0){n=-n}if(u===0&&c===0){r=0}else{r=H(Math.atan2(u,c)+this.long0)}}else{e=this.ml0+o/this.k0;i=te(e,this.es,this.en);if(Math.abs(i)<d){var h=Math.sin(i);var f=Math.cos(i);var p=Math.abs(f)>m?Math.tan(i):0;var v=this.ep2*Math.pow(f,2);var g=Math.pow(v,2);var y=Math.pow(p,2);var _=Math.pow(y,2);e=1-this.es*Math.pow(h,2);var b=a*Math.sqrt(e)/this.k0;var w=Math.pow(b,2);e=e*p;n=i-e*w/(1-this.es)*.5*(1-w/12*(5+3*y-9*v*y+v-4*g-w/30*(61+90*y-252*v*y+45*_+46*v-w/56*(1385+3633*y+4095*_+1574*_*y))));r=H(this.long0+b*(1-w/6*(1+2*y+v-w/20*(5+28*y+24*_+8*v*y+6*v-w/42*(61+662*y+1320*_+720*_*y))))/f)}else{n=d*U(o);r=0}}t.x=r;t.y=n;return t}var re=["Transverse_Mercator","Transverse Mercator","tmerc"];var ae={init:ee,forward:ie,inverse:ne,names:re};var oe=function(t){var e=Math.exp(t);e=(e-1/e)/2;return e};var se=function(t,e){t=Math.abs(t);e=Math.abs(e);var i=Math.max(t,e);var n=Math.min(t,e)/(i?i:1);return i*Math.sqrt(1+Math.pow(n,2))};var ue=function(t){var e=1+t;var i=e-1;return i===0?t:t*Math.log(e)/i};var le=function(t){var e=Math.abs(t);e=ue(e*(1+e/(se(1,e)+1)));return t<0?-e:e};var ce=function(t,e){var i=2*Math.cos(2*e);var n=t.length-1;var r=t[n];var a=0;var o;while(--n>=0){o=-a+i*r+t[n];a=r;r=o}return e+o*Math.sin(2*e)};var he=function(t,e){var i=2*Math.cos(e);var n=t.length-1;var r=t[n];var a=0;var o;while(--n>=0){o=-a+i*r+t[n];a=r;r=o}return Math.sin(e)*o};var fe=function(t){var e=Math.exp(t);e=(e+1/e)/2;return e};var de=function(t,e,i){var n=Math.sin(e);var r=Math.cos(e);var a=oe(i);var o=fe(i);var s=2*r*o;var u=-2*n*a;var l=t.length-1;var c=t[l];var h=0;var f=0;var d=0;var p;var v;while(--l>=0){p=f;v=h;f=c;h=d;c=-p+s*f-u*h+t[l];d=-v+u*f+s*h}s=n*o;u=r*a;return[s*c-u*d,s*d+u*c]};function pe(){if(this.es===undefined||this.es<=0){throw new Error("incorrect elliptical usage")}this.x0=this.x0!==undefined?this.x0:0;this.y0=this.y0!==undefined?this.y0:0;this.long0=this.long0!==undefined?this.long0:0;this.lat0=this.lat0!==undefined?this.lat0:0;this.cgb=[];this.cbg=[];this.utg=[];this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es));var e=t/(2-t);var i=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675))))));this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725))))));i=i*e;this.cgb[1]=i*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945)))));this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945)))));i=i*e;this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835))));this.cbg[2]=i*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835))));i=i*e;this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175)));this.cbg[3]=i*(1237/630+e*(-12/5+e*(-24832/14175)));i=i*e;this.cgb[4]=i*(4174/315+e*(-144838/6237));this.cbg[4]=i*(-734/315+e*(109598/31185));i=i*e;this.cgb[5]=i*(601676/22275);this.cbg[5]=i*(444337/155925);i=Math.pow(e,2);this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256)));this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800))))));this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800))))));this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720)))));this.gtu[1]=i*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360)))));i=i*e;this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720))));this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440))));i=i*e;this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600)));this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600)));i=i*e;this.utg[4]=i*(-4583/161280+e*(108847/3991680));this.gtu[4]=i*(34729/80640+e*(-3418889/1995840));i=i*e;this.utg[5]=i*(-20648693/638668800);this.gtu[5]=i*(212378941/319334400);var n=ce(this.cbg,this.lat0);this.Zb=-this.Qn*(n+he(this.gtu,2*n))}function ve(t){var e=H(t.x-this.long0);var i=t.y;i=ce(this.cbg,i);var n=Math.sin(i);var r=Math.cos(i);var a=Math.sin(e);var o=Math.cos(e);i=Math.atan2(n,o*r);e=Math.atan2(a*r,se(n,r*o));e=le(Math.tan(e));var s=de(this.gtu,2*i,2*e);i=i+s[0];e=e+s[1];var u;var l;if(Math.abs(e)<=2.623395162778){u=this.a*(this.Qn*e)+this.x0;l=this.a*(this.Qn*i+this.Zb)+this.y0}else{u=Infinity;l=Infinity}t.x=u;t.y=l;return t}function ge(t){var e=(t.x-this.x0)*(1/this.a);var i=(t.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn;e=e/this.Qn;var n;var r;if(Math.abs(e)<=2.623395162778){var a=de(this.utg,2*i,2*e);i=i+a[0];e=e+a[1];e=Math.atan(oe(e));var o=Math.sin(i);var s=Math.cos(i);var u=Math.sin(e);var l=Math.cos(e);i=Math.atan2(o*l,se(u,l*s));e=Math.atan2(u,l*s);n=H(e+this.long0);r=ce(this.cgb,i)}else{n=Infinity;r=Infinity}t.x=n;t.y=r;return t}var me=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"];var ye={init:pe,forward:ve,inverse:ge,names:me};var _e=function(t,e){if(t===undefined){t=Math.floor((H(e)+Math.PI)*30/Math.PI)+1;if(t<0){return 0}else if(t>60){return 60}}return t};var be="etmerc";function we(){var t=_e(this.zone,this.long0);if(t===undefined){throw new Error("unknown utm zone")}this.lat0=0;this.long0=(6*Math.abs(t)-183)*y;this.x0=5e5;this.y0=this.utmSouth?1e7:0;this.k0=.9996;ye.init.apply(this);this.forward=ye.forward;this.inverse=ye.inverse}var Oe=["Universal Transverse Mercator System","utm"];var xe={init:we,names:Oe,dependsOn:be};var Se=function(t,e){return Math.pow((1-t)/(1+t),e)};var Ce=20;function Te(){var t=Math.sin(this.lat0);var e=Math.cos(this.lat0);e*=e;this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t);this.C=Math.sqrt(1+this.es*e*e/(1-this.es));this.phic0=Math.asin(t/this.C);this.ratexp=.5*this.C*this.e;this.K=Math.tan(.5*this.phic0+b)/(Math.pow(Math.tan(.5*this.lat0+b),this.C)*Se(this.e*t,this.ratexp))}function Ee(t){var e=t.x;var i=t.y;t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+b),this.C)*Se(this.e*Math.sin(i),this.ratexp))-d;t.x=this.C*e;return t}function Me(t){var e=1e-14;var i=t.x/this.C;var n=t.y;var r=Math.pow(Math.tan(.5*n+b)/this.K,1/this.C);for(var a=Ce;a>0;--a){n=2*Math.atan(r*Se(this.e*Math.sin(t.y),-.5*this.e))-d;if(Math.abs(n-t.y)<e){break}t.y=n}if(!a){return null}t.x=i;t.y=n;return t}var je=["gauss"];var ke={init:Te,forward:Ee,inverse:Me,names:je};function Re(){ke.init.apply(this);if(!this.rc){return}this.sinc0=Math.sin(this.phic0);this.cosc0=Math.cos(this.phic0);this.R2=2*this.rc;if(!this.title){this.title="Oblique Stereographic Alternative"}}function Ae(t){var e,i,n,r;t.x=H(t.x-this.long0);ke.forward.apply(this,[t]);e=Math.sin(t.y);i=Math.cos(t.y);n=Math.cos(t.x);r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n);t.x=r*i*Math.sin(t.x);t.y=r*(this.cosc0*e-this.sinc0*i*n);t.x=this.a*t.x+this.x0;t.y=this.a*t.y+this.y0;return t}function Ie(t){var e,i,n,r,a;t.x=(t.x-this.x0)/this.a;t.y=(t.y-this.y0)/this.a;t.x/=this.k0;t.y/=this.k0;if(a=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(a,this.R2);e=Math.sin(o);i=Math.cos(o);r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a);n=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else{r=this.phic0;n=0}t.x=n;t.y=r;ke.inverse.apply(this,[t]);t.x=H(t.x+this.long0);return t}var Pe=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"];var De={init:Re,forward:Ae,inverse:Ie,names:Pe};function Ne(t,e,i){e*=i;return Math.tan(.5*(d+t))*Math.pow((1-e)/(1+e),.5*i)}function $e(){this.coslat0=Math.cos(this.lat0);this.sinlat0=Math.sin(this.lat0);if(this.sphere){if(this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=m){this.k0=.5*(1+U(this.lat0)*Math.sin(this.lat_ts))}}else{if(Math.abs(this.coslat0)<=m){if(this.lat0>0){this.con=1}else{this.con=-1}}this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e));if(this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=m){this.k0=.5*this.cons*G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/W(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))}this.ms1=G(this.e,this.sinlat0,this.coslat0);this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-d;this.cosX0=Math.cos(this.X0);this.sinX0=Math.sin(this.X0)}}function Le(t){var e=t.x;var i=t.y;var n=Math.sin(i);var r=Math.cos(i);var a,o,s,u,l,c;var h=H(e-this.long0);if(Math.abs(Math.abs(e-this.long0)-Math.PI)<=m&&Math.abs(i+this.lat0)<=m){t.x=NaN;t.y=NaN;return t}if(this.sphere){a=2*this.k0/(1+this.sinlat0*n+this.coslat0*r*Math.cos(h));t.x=this.a*a*r*Math.sin(h)+this.x0;t.y=this.a*a*(this.coslat0*n-this.sinlat0*r*Math.cos(h))+this.y0;return t}else{o=2*Math.atan(this.ssfn_(i,n,this.e))-d;u=Math.cos(o);s=Math.sin(o);if(Math.abs(this.coslat0)<=m){l=W(this.e,i*this.con,this.con*n);c=2*this.a*this.k0*l/this.cons;t.x=this.x0+c*Math.sin(e-this.long0);t.y=this.y0-this.con*c*Math.cos(e-this.long0);return t}else if(Math.abs(this.sinlat0)<m){a=2*this.a*this.k0/(1+u*Math.cos(h));t.y=a*s}else{a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*u*Math.cos(h)));t.y=a*(this.cosX0*s-this.sinX0*u*Math.cos(h))+this.y0}t.x=a*u*Math.sin(h)+this.x0}return t}function Fe(t){t.x-=this.x0;t.y-=this.y0;var e,i,n,r,a;var o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(.5*this.a*this.k0));e=this.long0;i=this.lat0;if(o<=m){t.x=e;t.y=i;return t}i=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o);if(Math.abs(this.coslat0)<m){if(this.lat0>0){e=H(this.long0+Math.atan2(t.x,-1*t.y))}else{e=H(this.long0+Math.atan2(t.x,t.y))}}else{e=H(this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s)))}t.x=e;t.y=i;return t}else{if(Math.abs(this.coslat0)<=m){if(o<=m){i=this.lat0;e=this.long0;t.x=e;t.y=i;return t}t.x*=this.con;t.y*=this.con;n=o*this.cons/(2*this.a*this.k0);i=this.con*Y(this.e,n);e=this.con*H(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else{r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1));e=this.long0;if(o<=m){a=this.X0}else{a=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/o);e=H(this.long0+Math.atan2(t.x*Math.sin(r),o*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))}i=-1*Y(this.e,Math.tan(.5*(d+a)))}}t.x=e;t.y=i;return t}var Ge=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];var Ue={init:$e,forward:Le,inverse:Fe,names:Ge,ssfn_:Ne};function He(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t);var i=this.a;var n=this.rf;var r=1/n;var a=2*r-Math.pow(r,2);var o=this.e=Math.sqrt(a);this.R=this.k0*i*Math.sqrt(1-a)/(1-a*Math.pow(e,2));this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4));this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2));var u=Math.log(Math.tan(Math.PI/4+t/2));var l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*u+this.alpha*o/2*l}function We(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2));var i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y)));var n=-this.alpha*(e+i)+this.K;var r=2*(Math.atan(Math.exp(n))-Math.PI/4);var a=this.alpha*(t.x-this.lambda0);var o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(a)));var s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(a));t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0;t.x=this.R*o+this.x0;return t}function Ye(t){var e=t.x-this.x0;var i=t.y-this.y0;var n=e/this.R;var r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4);var a=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n));var o=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r)));var s=this.lambda0+o/this.alpha;var u=0;var l=a;var c=-1e3;var h=0;while(Math.abs(l-c)>1e-7){if(++h>20){return}u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2));c=l;l=2*Math.atan(Math.exp(u))-Math.PI/2}t.x=s;t.y=l;return t}var ze=["somerc"];var Ve={init:He,forward:We,inverse:Ye,names:ze};function Be(){this.no_off=this.no_off||false;this.no_rot=this.no_rot||false;if(isNaN(this.k0)){this.k0=1}var t=Math.sin(this.lat0);var e=Math.cos(this.lat0);var i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4));this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var n=W(this.e,this.lat0,t);var r=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(r*r<1){r=1}var a;var o;if(!isNaN(this.longc)){if(this.lat0>=0){a=r+Math.sqrt(r*r-1)}else{a=r-Math.sqrt(r*r-1)}this.el=a*Math.pow(n,this.bl);o=.5*(a-1/a);this.gamma0=Math.asin(Math.sin(this.alpha)/r);this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl}else{var s=W(this.e,this.lat1,Math.sin(this.lat1));var u=W(this.e,this.lat2,Math.sin(this.lat2));if(this.lat0>=0){this.el=(r+Math.sqrt(r*r-1))*Math.pow(n,this.bl)}else{this.el=(r-Math.sqrt(r*r-1))*Math.pow(n,this.bl)}var l=Math.pow(s,this.bl);var c=Math.pow(u,this.bl);a=this.el/l;o=.5*(a-1/a);var h=(this.el*this.el-c*l)/(this.el*this.el+c*l);var f=(c-l)/(c+l);var d=H(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*d)/f)/this.bl;this.long0=H(this.long0);var p=H(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/o);this.alpha=Math.asin(r*Math.sin(this.gamma0))}if(this.no_off){this.uc=0}else{if(this.lat0>=0){this.uc=this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))}else{this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))}}}function qe(t){var e=t.x;var i=t.y;var n=H(e-this.long0);var r,a;var o;if(Math.abs(Math.abs(i)-d)<=m){if(i>0){o=-1}else{o=1}a=this.al/this.bl*Math.log(Math.tan(b+o*this.gamma0*.5));r=-1*o*d*this.al/this.bl}else{var s=W(this.e,i,Math.sin(i));var u=this.el/Math.pow(s,this.bl);var l=.5*(u-1/u);var c=.5*(u+1/u);var h=Math.sin(this.bl*n);var f=(l*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;if(Math.abs(Math.abs(f)-1)<=m){a=Number.POSITIVE_INFINITY}else{a=.5*this.al*Math.log((1-f)/(1+f))/this.bl}if(Math.abs(Math.cos(this.bl*n))<=m){r=this.al*this.bl*n}else{r=this.al*Math.atan2(l*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*n))/this.bl}}if(this.no_rot){t.x=this.x0+r;t.y=this.y0+a}else{r-=this.uc;t.x=this.x0+a*Math.cos(this.alpha)+r*Math.sin(this.alpha);t.y=this.y0+r*Math.cos(this.alpha)-a*Math.sin(this.alpha)}return t}function Ke(t){var e,i;if(this.no_rot){i=t.y-this.y0;e=t.x-this.x0}else{i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha);e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha);e+=this.uc}var n=Math.exp(-1*this.bl*i/this.al);var r=.5*(n-1/n);var a=.5*(n+1/n);var o=Math.sin(this.bl*e/this.al);var s=(o*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/a;var u=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);if(Math.abs(s-1)<m){t.x=this.long0;t.y=d}else if(Math.abs(s+1)<m){t.x=this.long0;t.y=-1*d}else{t.y=Y(this.e,u);t.x=H(this.long0-Math.atan2(r*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)}return t}var Xe=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];var Ze={init:Be,forward:qe,inverse:Ke,names:Xe};function Qe(){if(!this.lat2){this.lat2=this.lat1}if(!this.k0){this.k0=1}this.x0=this.x0||0;this.y0=this.y0||0;if(Math.abs(this.lat1+this.lat2)<m){return}var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1);var i=Math.cos(this.lat1);var n=G(this.e,e,i);var r=W(this.e,this.lat1,e);var a=Math.sin(this.lat2);var o=Math.cos(this.lat2);var s=G(this.e,a,o);var u=W(this.e,this.lat2,a);var l=W(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1-this.lat2)>m){this.ns=Math.log(n/s)/Math.log(r/u)}else{this.ns=e}if(isNaN(this.ns)){this.ns=e}this.f0=n/(this.ns*Math.pow(r,this.ns));this.rh=this.a*this.f0*Math.pow(l,this.ns);if(!this.title){this.title="Lambert Conformal Conic"}}function Je(t){var e=t.x;var i=t.y;if(Math.abs(2*Math.abs(i)-Math.PI)<=m){i=U(i)*(d-2*m)}var n=Math.abs(Math.abs(i)-d);var r,a;if(n>m){r=W(this.e,i,Math.sin(i));a=this.a*this.f0*Math.pow(r,this.ns)}else{n=i*this.ns;if(n<=0){return null}a=0}var o=this.ns*H(e-this.long0);t.x=this.k0*(a*Math.sin(o))+this.x0;t.y=this.k0*(this.rh-a*Math.cos(o))+this.y0;return t}function ti(t){var e,i,n;var r,a;var o=(t.x-this.x0)/this.k0;var s=this.rh-(t.y-this.y0)/this.k0;if(this.ns>0){e=Math.sqrt(o*o+s*s);i=1}else{e=-Math.sqrt(o*o+s*s);i=-1}var u=0;if(e!==0){u=Math.atan2(i*o,i*s)}if(e!==0||this.ns>0){i=1/this.ns;n=Math.pow(e/(this.a*this.f0),i);r=Y(this.e,n);if(r===-9999){return null}}else{r=-d}a=H(u/this.ns+this.long0);t.x=a;t.y=r;return t}var ei=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];var ii={init:Qe,forward:Je,inverse:ti,names:ei};function ni(){this.a=6377397.155;this.es=.006674372230614;this.e=Math.sqrt(this.es);if(!this.lat0){this.lat0=.863937979737193}if(!this.long0){this.long0=.7417649320975901-.308341501185665}if(!this.k0){this.k0=.9999}this.s45=.785398163397448;this.s90=2*this.s45;this.fi0=this.lat0;this.e2=this.es;this.e=Math.sqrt(this.e2);this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2));this.uq=1.04216856380474;this.u0=Math.asin(Math.sin(this.fi0)/this.alfa);this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2);this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g;this.k1=this.k0;this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2));this.s0=1.37008346281555;this.n=Math.sin(this.s0);this.ro0=this.k1*this.n0/Math.tan(this.s0);this.ad=this.s90-this.uq}function ri(t){var e,i,n,r,a,o,s;var u=t.x;var l=t.y;var c=H(u-this.long0);e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2);i=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45);n=-c*this.alfa;r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n));a=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r));o=this.n*a;s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n);t.y=s*Math.cos(o)/1;t.x=s*Math.sin(o)/1;if(!this.czech){t.y*=-1;t.x*=-1}return t}function ai(t){var e,i,n,r,a,o,s;var u;var l=t.x;t.x=t.y;t.y=l;if(!this.czech){t.y*=-1;t.x*=-1}o=Math.sqrt(t.x*t.x+t.y*t.y);a=Math.atan2(t.y,t.x);r=a/Math.sin(this.s0);n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45);e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r));i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e));t.x=this.long0-i/this.alfa;s=e;u=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45);if(Math.abs(s-t.y)<1e-10){u=1}s=t.y;c+=1}while(u===0&&c<15);if(c>=15){return null}return t}var oi=["Krovak","krovak"];var si={init:ni,forward:ri,inverse:ai,names:oi};var ui=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)};var li=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))};var ci=function(t){return.375*t*(1+.25*t*(1+.46875*t))};var hi=function(t){return.05859375*t*t*(1+.75*t)};var fi=function(t){return t*t*t*(35/3072)};var di=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)};var pi=function(t){return Math.abs(t)<d?t:t-U(t)*Math.PI};var vi=function(t,e,i,n,r){var a;var o;a=t/e;for(var s=0;s<15;s++){o=(t-(e*a-i*Math.sin(2*a)+n*Math.sin(4*a)-r*Math.sin(6*a)))/(e-2*i*Math.cos(2*a)+4*n*Math.cos(4*a)-6*r*Math.cos(6*a));a+=o;if(Math.abs(o)<=1e-10){return a}}return NaN};function gi(){if(!this.sphere){this.e0=li(this.es);this.e1=ci(this.es);this.e2=hi(this.es);this.e3=fi(this.es);this.ml0=this.a*ui(this.e0,this.e1,this.e2,this.e3,this.lat0)}}function mi(t){var e,i;var n=t.x;var r=t.y;n=H(n-this.long0);if(this.sphere){e=this.a*Math.asin(Math.cos(r)*Math.sin(n));i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0)}else{var a=Math.sin(r);var o=Math.cos(r);var s=di(this.a,this.e,a);var u=Math.tan(r)*Math.tan(r);var l=n*Math.cos(r);var c=l*l;var h=this.es*o*o/(1-this.es);var f=this.a*ui(this.e0,this.e1,this.e2,this.e3,r);e=s*l*(1-c*u*(1/6-(8-u+8*h)*c/120));i=f-this.ml0+s*a/o*c*(.5+(5-u+6*h)*c/24)}t.x=e+this.x0;t.y=i+this.y0;return t}function yi(t){t.x-=this.x0;t.y-=this.y0;var e=t.x/this.a;var i=t.y/this.a;var n,r;if(this.sphere){var a=i+this.lat0;n=Math.asin(Math.sin(a)*Math.cos(e));r=Math.atan2(Math.tan(e),Math.cos(a))}else{var o=this.ml0/this.a+i;var s=vi(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-d)<=m){t.x=this.long0;t.y=d;if(i<0){t.y*=-1}return t}var u=di(this.a,this.e,Math.sin(s));var l=u*u*u/this.a/this.a*(1-this.es);var c=Math.pow(Math.tan(s),2);var h=e*this.a/u;var f=h*h;n=s-u*Math.tan(s)/l*h*h*(.5-(1+3*c)*h*h/24);r=h*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}t.x=H(r+this.long0);t.y=pi(n);return t}var _i=["Cassini","Cassini_Soldner","cass"];var bi={init:gi,forward:mi,inverse:yi,names:_i};var wi=function(t,e){var i;if(t>1e-7){i=t*e;return(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))}else{return 2*e}};var Oi=1;var xi=2;var Si=3;var Ci=4;function Ti(){var t=Math.abs(this.lat0);if(Math.abs(t-d)<m){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else if(Math.abs(t)<m){this.mode=this.EQUIT}else{this.mode=this.OBLIQ}if(this.es>0){var e;this.qp=wi(this.e,1);this.mmf=.5/(1-this.es);this.apa=Di(this.es);switch(this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp);e=Math.sin(this.lat0);this.sinb1=wi(this.e,e)/this.qp;this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1);this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1);this.ymf=(this.xmf=this.rq)/this.dd;this.xmf*=this.dd;break}}else{if(this.mode===this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0)}}}function Ei(t){var e,i,n,r,a,o,s,u,l,c;var h=t.x;var f=t.y;h=H(h-this.long0);if(this.sphere){a=Math.sin(f);c=Math.cos(f);n=Math.cos(h);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){i=this.mode===this.EQUIT?1+c*n:1+this.sinph0*a+this.cosph0*c*n;if(i<=m){return null}i=Math.sqrt(2/i);e=i*c*Math.sin(h);i*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*c*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE){n=-n}if(Math.abs(f+this.phi0)<m){return null}i=b-f*.5;i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i));e=i*Math.sin(h);i*=n}}else{s=0;u=0;l=0;n=Math.cos(h);r=Math.sin(h);a=Math.sin(f);o=wi(this.e,a);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){s=o/this.qp;u=Math.sqrt(1-s*s)}switch(this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*u*n;break;case this.EQUIT:l=1+u*n;break;case this.N_POLE:l=d+f;o=this.qp-o;break;case this.S_POLE:l=f-d;o=this.qp+o;break}if(Math.abs(l)<m){return null}switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l);if(this.mode===this.OBLIQ){i=this.ymf*l*(this.cosb1*s-this.sinb1*u*n)}else{i=(l=Math.sqrt(2/(1+u*n)))*s*this.ymf}e=this.xmf*l*u*r;break;case this.N_POLE:case this.S_POLE:if(o>=0){e=(l=Math.sqrt(o))*r;i=n*(this.mode===this.S_POLE?l:-l)}else{e=i=0}break}}t.x=this.a*e+this.x0;t.y=this.a*i+this.y0;return t}function Mi(t){t.x-=this.x0;t.y-=this.y0;var e=t.x/this.a;var i=t.y/this.a;var n,r,a,o,s,u,l;if(this.sphere){var c=0,h,f=0;h=Math.sqrt(e*e+i*i);r=h*.5;if(r>1){return null}r=2*Math.asin(r);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){f=Math.sin(r);c=Math.cos(r)}switch(this.mode){case this.EQUIT:r=Math.abs(h)<=m?0:Math.asin(i*f/h);e*=f;i=c*h;break;case this.OBLIQ:r=Math.abs(h)<=m?this.phi0:Math.asin(c*this.sinph0+i*f*this.cosph0/h);e*=f*this.cosph0;i=(c-Math.sin(r)*this.sinph0)*h;break;case this.N_POLE:i=-i;r=d-r;break;case this.S_POLE:r-=d;break}n=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,i)}else{l=0;if(this.mode===this.OBLIQ||this.mode===this.EQUIT){e/=this.dd;i*=this.dd;u=Math.sqrt(e*e+i*i);if(u<m){t.x=0;t.y=this.phi0;return t}o=2*Math.asin(.5*u/this.rq);a=Math.cos(o);e*=o=Math.sin(o);if(this.mode===this.OBLIQ){l=a*this.sinb1+i*o*this.cosb1/u;s=this.qp*l;i=u*this.cosb1*a-i*this.sinb1*o}else{l=i*o/u;s=this.qp*l;i=u*a}}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE){i=-i}s=e*e+i*i;if(!s){t.x=0;t.y=this.phi0;return t}l=1-s/this.qp;if(this.mode===this.S_POLE){l=-l}}n=Math.atan2(e,i);r=Ni(Math.asin(l),this.apa)}t.x=H(this.long0+n);t.y=r;return t}var ji=.3333333333333333;var ki=.17222222222222222;var Ri=.10257936507936508;var Ai=.06388888888888888;var Ii=.0664021164021164;var Pi=.016415012942191543;function Di(t){var e;var i=[];i[0]=t*ji;e=t*t;i[0]+=e*ki;i[1]=e*Ai;e*=t;i[0]+=e*Ri;i[1]+=e*Ii;i[2]=e*Pi;return i}function Ni(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}var $i=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];var Li={init:Ti,forward:Ei,inverse:Mi,names:$i,S_POLE:Oi,N_POLE:xi,EQUIT:Si,OBLIQ:Ci};var Fi=function(t){if(Math.abs(t)>1){t=t>1?1:-1}return Math.asin(t)};function Gi(){if(Math.abs(this.lat1+this.lat2)<m){return}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e3=Math.sqrt(this.es);this.sin_po=Math.sin(this.lat1);this.cos_po=Math.cos(this.lat1);this.t1=this.sin_po;this.con=this.sin_po;this.ms1=G(this.e3,this.sin_po,this.cos_po);this.qs1=wi(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat2);this.cos_po=Math.cos(this.lat2);this.t2=this.sin_po;this.ms2=G(this.e3,this.sin_po,this.cos_po);this.qs2=wi(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat0);this.cos_po=Math.cos(this.lat0);this.t3=this.sin_po;this.qs0=wi(this.e3,this.sin_po,this.cos_po);if(Math.abs(this.lat1-this.lat2)>m){this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1)}else{this.ns0=this.con}this.c=this.ms1*this.ms1+this.ns0*this.qs1;this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0}function Ui(t){var e=t.x;var i=t.y;this.sin_phi=Math.sin(i);this.cos_phi=Math.cos(i);var n=wi(this.e3,this.sin_phi,this.cos_phi);var r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0;var a=this.ns0*H(e-this.long0);var o=r*Math.sin(a)+this.x0;var s=this.rh-r*Math.cos(a)+this.y0;t.x=o;t.y=s;return t}function Hi(t){var e,i,n,r,a,o;t.x-=this.x0;t.y=this.rh-t.y+this.y0;if(this.ns0>=0){e=Math.sqrt(t.x*t.x+t.y*t.y);n=1}else{e=-Math.sqrt(t.x*t.x+t.y*t.y);n=-1}r=0;if(e!==0){r=Math.atan2(n*t.x,n*t.y)}n=e*this.ns0/this.a;if(this.sphere){o=Math.asin((this.c-n*n)/(2*this.ns0))}else{i=(this.c-n*n)/this.ns0;o=this.phi1z(this.e3,i)}a=H(r/this.ns0+this.long0);t.x=a;t.y=o;return t}function Wi(t,e){var i,n,r,a,o;var s=Fi(.5*e);if(t<m){return s}var u=t*t;for(var l=1;l<=25;l++){i=Math.sin(s);n=Math.cos(s);r=t*i;a=1-r*r;o=.5*a*a/n*(e/(1-u)-i/a+.5/t*Math.log((1-r)/(1+r)));s=s+o;if(Math.abs(o)<=1e-7){return s}}return null}var Yi=["Albers_Conic_Equal_Area","Albers","aea"];var zi={init:Gi,forward:Ui,inverse:Hi,names:Yi,phi1z:Wi};function Vi(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1e3*this.a;this.rc=1}function Bi(t){var e,i;var n;var r;var a;var o;var s,u;var l=t.x;var c=t.y;n=H(l-this.long0);e=Math.sin(c);i=Math.cos(c);r=Math.cos(n);o=this.sin_p14*e+this.cos_p14*i*r;a=1;if(o>0||Math.abs(o)<=m){s=this.x0+this.a*a*i*Math.sin(n)/o;u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*r)/o}else{s=this.x0+this.infinity_dist*i*Math.sin(n);u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)}t.x=s;t.y=u;return t}function qi(t){var e;var i,n;var r;var a,o;t.x=(t.x-this.x0)/this.a;t.y=(t.y-this.y0)/this.a;t.x/=this.k0;t.y/=this.k0;if(e=Math.sqrt(t.x*t.x+t.y*t.y)){r=Math.atan2(e,this.rc);i=Math.sin(r);n=Math.cos(r);o=Fi(n*this.sin_p14+t.y*i*this.cos_p14/e);a=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i);a=H(this.long0+a)}else{o=this.phic0;a=0}t.x=a;t.y=o;return t}var Ki=["gnom"];var Xi={init:Vi,forward:Bi,inverse:qi,names:Ki};var Zi=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6){if(e<0){return-1*d}else{return d}}var n=Math.asin(.5*e);var r;var a;var o;var s;for(var u=0;u<30;u++){a=Math.sin(n);o=Math.cos(n);s=t*a;r=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-a/(1-s*s)+.5/t*Math.log((1-s)/(1+s)));n+=r;if(Math.abs(r)<=1e-10){return n}}return NaN};function Qi(){if(!this.sphere){this.k0=G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}function Ji(t){var e=t.x;var i=t.y;var n,r;var a=H(e-this.long0);if(this.sphere){n=this.x0+this.a*a*Math.cos(this.lat_ts);r=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts)}else{var o=wi(this.e,Math.sin(i));n=this.x0+this.a*this.k0*a;r=this.y0+this.a*o*.5/this.k0}t.x=n;t.y=r;return t}function tn(t){t.x-=this.x0;t.y-=this.y0;var e,i;if(this.sphere){e=H(this.long0+t.x/this.a/Math.cos(this.lat_ts));i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))}else{i=Zi(this.e,2*t.y*this.k0/this.a);e=H(this.long0+t.x/(this.a*this.k0))}t.x=e;t.y=i;return t}var en=["cea"];var nn={init:Qi,forward:Ji,inverse:tn,names:en};function rn(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_ts||0;this.title=this.title||"Equidistant Cylindrical (Plate Carre)";this.rc=Math.cos(this.lat_ts)}function an(t){var e=t.x;var i=t.y;var n=H(e-this.long0);var r=pi(i-this.lat0);t.x=this.x0+this.a*n*this.rc;t.y=this.y0+this.a*r;return t}function on(t){var e=t.x;var i=t.y;t.x=H(this.long0+(e-this.x0)/(this.a*this.rc));t.y=pi(this.lat0+(i-this.y0)/this.a);return t}var sn=["Equirectangular","Equidistant_Cylindrical","eqc"];var un={init:rn,forward:an,inverse:on,names:sn};var ln=20;function cn(){this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=li(this.es);this.e1=ci(this.es);this.e2=hi(this.es);this.e3=fi(this.es);this.ml0=this.a*ui(this.e0,this.e1,this.e2,this.e3,this.lat0)}function hn(t){var e=t.x;var i=t.y;var n,r,a;var o=H(e-this.long0);a=o*Math.sin(i);if(this.sphere){if(Math.abs(i)<=m){n=this.a*o;r=-1*this.a*this.lat0}else{n=this.a*Math.sin(a)/Math.tan(i);r=this.a*(pi(i-this.lat0)+(1-Math.cos(a))/Math.tan(i))}}else{if(Math.abs(i)<=m){n=this.a*o;r=-1*this.ml0}else{var s=di(this.a,this.e,Math.sin(i))/Math.tan(i);n=s*Math.sin(a);r=this.a*ui(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*(1-Math.cos(a))}}t.x=n+this.x0;t.y=r+this.y0;return t}function fn(t){var e,i,n,r,a;var o,s;var u,l;n=t.x-this.x0;r=t.y-this.y0;if(this.sphere){if(Math.abs(r+this.a*this.lat0)<=m){e=H(n/this.a+this.long0);i=0}else{o=this.lat0+r/this.a;s=n*n/this.a/this.a+o*o;u=o;var c;for(a=ln;a;--a){c=Math.tan(u);l=-1*(o*(u*c+1)-u-.5*(u*u+s)*c)/((u-o)/c-1);u+=l;if(Math.abs(l)<=m){i=u;break}}e=H(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(i))}}else{if(Math.abs(r+this.ml0)<=m){i=0;e=H(this.long0+n/this.a)}else{o=(this.ml0+r)/this.a;s=n*n/this.a/this.a+o*o;u=o;var h,f,d,p;var v;for(a=ln;a;--a){v=this.e*Math.sin(u);h=Math.sqrt(1-v*v)*Math.tan(u);f=this.a*ui(this.e0,this.e1,this.e2,this.e3,u);d=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u);p=f/this.a;l=(o*(h*p+1)-p-.5*h*(p*p+s))/(this.es*Math.sin(2*u)*(p*p+s-2*o*p)/(4*h)+(o-p)*(h*d-2/Math.sin(2*u))-d);u-=l;if(Math.abs(l)<=m){i=u;break}}h=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i);e=H(this.long0+Math.asin(n*h/this.a)/Math.sin(i))}}t.x=e;t.y=i;return t}var dn=["Polyconic","poly"];var pn={init:cn,forward:hn,inverse:fn,names:dn};var vn=1;function gn(){this.A=[];this.A[1]=.6399175073;this.A[2]=-.1358797613;this.A[3]=.063294409;this.A[4]=-.02526853;this.A[5]=.0117879;this.A[6]=-.0055161;this.A[7]=.0026906;this.A[8]=-.001333;this.A[9]=67e-5;this.A[10]=-34e-5;this.B_re=[];this.B_im=[];this.B_re[1]=.7557853228;this.B_im[1]=0;this.B_re[2]=.249204646;this.B_im[2]=.003371507;this.B_re[3]=-.001541739;this.B_im[3]=.04105856;this.B_re[4]=-.10162907;this.B_im[4]=.01727609;this.B_re[5]=-.26623489;this.B_im[5]=-.36249218;this.B_re[6]=-.6870983;this.B_im[6]=-1.1651967;this.C_re=[];this.C_im=[];this.C_re[1]=1.3231270439;this.C_im[1]=0;this.C_re[2]=-.577245789;this.C_im[2]=-.007809598;this.C_re[3]=.508307513;this.C_im[3]=-.112208952;this.C_re[4]=-.15094762;this.C_im[4]=.18200602;this.C_re[5]=1.01418179;this.C_im[5]=1.64497696;this.C_re[6]=1.9660549;this.C_im[6]=2.5127645;this.D=[];this.D[1]=1.5627014243;this.D[2]=.5185406398;this.D[3]=-.03333098;this.D[4]=-.1052906;this.D[5]=-.0368594;this.D[6]=.007317;this.D[7]=.0122;this.D[8]=.00394;this.D[9]=-.0013}function mn(t){var e;var i=t.x;var n=t.y;var r=n-this.lat0;var a=i-this.long0;var o=r/f*1e-5;var s=a;var u=1;var l=0;for(e=1;e<=10;e++){u=u*o;l=l+this.A[e]*u}var c=l;var h=s;var d=1;var p=0;var v;var g;var m=0;var y=0;for(e=1;e<=6;e++){v=d*c-p*h;g=p*c+d*h;d=v;p=g;m=m+this.B_re[e]*d-this.B_im[e]*p;y=y+this.B_im[e]*d+this.B_re[e]*p}t.x=y*this.a+this.x0;t.y=m*this.a+this.y0;return t}function yn(t){var e;var i=t.x;var n=t.y;var r=i-this.x0;var a=n-this.y0;var o=a/this.a;var s=r/this.a;var u=1;var l=0;var c;var h;var d=0;var p=0;for(e=1;e<=6;e++){c=u*o-l*s;h=l*o+u*s;u=c;l=h;d=d+this.C_re[e]*u-this.C_im[e]*l;p=p+this.C_im[e]*u+this.C_re[e]*l}for(var v=0;v<this.iterations;v++){var g=d;var m=p;var y;var _;var b=o;var w=s;for(e=2;e<=6;e++){y=g*d-m*p;_=m*d+g*p;g=y;m=_;b=b+(e-1)*(this.B_re[e]*g-this.B_im[e]*m);w=w+(e-1)*(this.B_im[e]*g+this.B_re[e]*m)}g=1;m=0;var O=this.B_re[1];var x=this.B_im[1];for(e=2;e<=6;e++){y=g*d-m*p;_=m*d+g*p;g=y;m=_;O=O+e*(this.B_re[e]*g-this.B_im[e]*m);x=x+e*(this.B_im[e]*g+this.B_re[e]*m)}var S=O*O+x*x;d=(b*O+w*x)/S;p=(w*O-b*x)/S}var C=d;var T=p;var E=1;var M=0;for(e=1;e<=9;e++){E=E*C;M=M+this.D[e]*E}var j=this.lat0+M*f*1e5;var k=this.long0+T;t.x=k;t.y=j;return t}var _n=["New_Zealand_Map_Grid","nzmg"];var bn={init:gn,forward:mn,inverse:yn,names:_n};function wn(){}function On(t){var e=t.x;var i=t.y;var n=H(e-this.long0);var r=this.x0+this.a*n;var a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;t.x=r;t.y=a;return t}function xn(t){t.x-=this.x0;t.y-=this.y0;var e=H(this.long0+t.x/this.a);var i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);t.x=e;t.y=i;return t}var Sn=["Miller_Cylindrical","mill"];var Cn={init:wn,forward:On,inverse:xn,names:Sn};var Tn=20;function En(){if(!this.sphere){this.en=Zt(this.es)}else{this.n=1;this.m=0;this.es=0;this.C_y=Math.sqrt((this.m+1)/this.n);this.C_x=this.C_y/(this.m+1)}}function Mn(t){var e,i;var n=t.x;var r=t.y;n=H(n-this.long0);if(this.sphere){if(!this.m){r=this.n!==1?Math.asin(this.n*Math.sin(r)):r}else{var a=this.n*Math.sin(r);for(var o=Tn;o;--o){var s=(this.m*r+Math.sin(r)-a)/(this.m+Math.cos(r));r-=s;if(Math.abs(s)<m){break}}}e=this.a*this.C_x*n*(this.m+Math.cos(r));i=this.a*this.C_y*r}else{var u=Math.sin(r);var l=Math.cos(r);i=this.a*Qt(r,u,l,this.en);e=this.a*n*l/Math.sqrt(1-this.es*u*u)}t.x=e;t.y=i;return t}function jn(t){var e,i,n,r;t.x-=this.x0;n=t.x/this.a;t.y-=this.y0;e=t.y/this.a;if(this.sphere){e/=this.C_y;n=n/(this.C_x*(this.m+Math.cos(e)));if(this.m){e=Fi((this.m*e+Math.sin(e))/this.n)}else if(this.n!==1){e=Fi(Math.sin(e)/this.n)}n=H(n+this.long0);e=pi(e)}else{e=te(t.y/this.a,this.es,this.en);r=Math.abs(e);if(r<d){r=Math.sin(e);i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e));n=H(i)}else if(r-m<d){n=this.long0}}t.x=n;t.y=e;return t}var kn=["Sinusoidal","sinu"];var Rn={init:En,forward:Mn,inverse:jn,names:kn};function An(){}function In(t){var e=t.x;var i=t.y;var n=H(e-this.long0);var r=i;var a=Math.PI*Math.sin(i);while(true){var o=-(r+Math.sin(r)-a)/(1+Math.cos(r));r+=o;if(Math.abs(o)<m){break}}r/=2;if(Math.PI/2-Math.abs(i)<m){n=0}var s=.900316316158*this.a*n*Math.cos(r)+this.x0;var u=1.4142135623731*this.a*Math.sin(r)+this.y0;t.x=s;t.y=u;return t}function Pn(t){var e;var i;t.x-=this.x0;t.y-=this.y0;i=t.y/(1.4142135623731*this.a);if(Math.abs(i)>.999999999999){i=.999999999999}e=Math.asin(i);var n=H(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));if(n<-Math.PI){n=-Math.PI}if(n>Math.PI){n=Math.PI}i=(2*e+Math.sin(2*e))/Math.PI;if(Math.abs(i)>1){i=1}var r=Math.asin(i);t.x=n;t.y=r;return t}var Dn=["Mollweide","moll"];var Nn={init:An,forward:In,inverse:Pn,names:Dn};function $n(){if(Math.abs(this.lat1+this.lat2)<m){return}this.lat2=this.lat2||this.lat1;this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=li(this.es);this.e1=ci(this.es);this.e2=hi(this.es);this.e3=fi(this.es);this.sinphi=Math.sin(this.lat1);this.cosphi=Math.cos(this.lat1);this.ms1=G(this.e,this.sinphi,this.cosphi);this.ml1=ui(this.e0,this.e1,this.e2,this.e3,this.lat1);if(Math.abs(this.lat1-this.lat2)<m){this.ns=this.sinphi}else{this.sinphi=Math.sin(this.lat2);this.cosphi=Math.cos(this.lat2);this.ms2=G(this.e,this.sinphi,this.cosphi);this.ml2=ui(this.e0,this.e1,this.e2,this.e3,this.lat2);this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)}this.g=this.ml1+this.ms1/this.ns;this.ml0=ui(this.e0,this.e1,this.e2,this.e3,this.lat0);this.rh=this.a*(this.g-this.ml0)}function Ln(t){var e=t.x;var i=t.y;var n;if(this.sphere){n=this.a*(this.g-i)}else{var r=ui(this.e0,this.e1,this.e2,this.e3,i);n=this.a*(this.g-r)}var a=this.ns*H(e-this.long0);var o=this.x0+n*Math.sin(a);var s=this.y0+this.rh-n*Math.cos(a);t.x=o;t.y=s;return t}function Fn(t){t.x-=this.x0;t.y=this.rh-t.y+this.y0;var e,i,n,r;if(this.ns>=0){i=Math.sqrt(t.x*t.x+t.y*t.y);e=1}else{i=-Math.sqrt(t.x*t.x+t.y*t.y);e=-1}var a=0;if(i!==0){a=Math.atan2(e*t.x,e*t.y)}if(this.sphere){r=H(this.long0+a/this.ns);n=pi(this.g-i/this.a);t.x=r;t.y=n;return t}else{var o=this.g-i/this.a;n=vi(o,this.e0,this.e1,this.e2,this.e3);r=H(this.long0+a/this.ns);t.x=r;t.y=n;return t}}var Gn=["Equidistant_Conic","eqdc"];var Un={init:$n,forward:Ln,inverse:Fn,names:Gn};function Hn(){this.R=this.a}function Wn(t){var e=t.x;var i=t.y;var n=H(e-this.long0);var r,a;if(Math.abs(i)<=m){r=this.x0+this.R*n;a=this.y0}var o=Fi(2*Math.abs(i/Math.PI));if(Math.abs(n)<=m||Math.abs(Math.abs(i)-d)<=m){r=this.x0;if(i>=0){a=this.y0+Math.PI*this.R*Math.tan(.5*o)}else{a=this.y0+Math.PI*this.R*-Math.tan(.5*o)}}var s=.5*Math.abs(Math.PI/n-n/Math.PI);var u=s*s;var l=Math.sin(o);var c=Math.cos(o);var h=c/(l+c-1);var f=h*h;var p=h*(2/l-1);var v=p*p;var g=Math.PI*this.R*(s*(h-v)+Math.sqrt(u*(h-v)*(h-v)-(v+u)*(f-v)))/(v+u);if(n<0){g=-g}r=this.x0+g;var y=u+h;g=Math.PI*this.R*(p*y-s*Math.sqrt((v+u)*(u+1)-y*y))/(v+u);if(i>=0){a=this.y0+g}else{a=this.y0-g}t.x=r;t.y=a;return t}function Yn(t){var e,i;var n,r,a,o,s,u;var l;var c;var h;var f;var d;t.x-=this.x0;t.y-=this.y0;h=Math.PI*this.R;n=t.x/h;r=t.y/h;a=n*n+r*r;o=-Math.abs(r)*(1+a);s=o-2*r*r+n*n;u=-2*o+1+2*r*r+a*a;d=r*r/u+(2*s*s*s/u/u/u-9*o*s/u/u)/27;l=(o-s*s/3/u)/u;c=2*Math.sqrt(-l/3);h=3*d/l/c;if(Math.abs(h)>1){if(h>=0){h=1}else{h=-1}}f=Math.acos(h)/3;if(t.y>=0){i=(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI}else{i=-(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI}if(Math.abs(n)<m){e=this.long0}else{e=H(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-r*r)+a*a))/2/n)}t.x=e;t.y=i;return t}var zn=["Van_der_Grinten_I","VanDerGrinten","vandg"];var Vn={init:Hn,forward:Wn,inverse:Yn,names:zn};function Bn(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0)}function qn(t){var e=t.x;var i=t.y;var n=Math.sin(t.y);var r=Math.cos(t.y);var a=H(e-this.long0);var o,s,u,l,c,h,f,p,v,g,y,_,b,w,O,x,S,C,T,E,M,j,k;if(this.sphere){if(Math.abs(this.sin_p12-1)<=m){t.x=this.x0+this.a*(d-i)*Math.sin(a);t.y=this.y0-this.a*(d-i)*Math.cos(a);return t}else if(Math.abs(this.sin_p12+1)<=m){t.x=this.x0+this.a*(d+i)*Math.sin(a);t.y=this.y0+this.a*(d+i)*Math.cos(a);return t}else{C=this.sin_p12*n+this.cos_p12*r*Math.cos(a);x=Math.acos(C);S=x/Math.sin(x);t.x=this.x0+this.a*S*r*Math.sin(a);t.y=this.y0+this.a*S*(this.cos_p12*n-this.sin_p12*r*Math.cos(a));return t}}else{o=li(this.es);s=ci(this.es);u=hi(this.es);l=fi(this.es);if(Math.abs(this.sin_p12-1)<=m){c=this.a*ui(o,s,u,l,d);h=this.a*ui(o,s,u,l,i);t.x=this.x0+(c-h)*Math.sin(a);t.y=this.y0-(c-h)*Math.cos(a);return t}else if(Math.abs(this.sin_p12+1)<=m){c=this.a*ui(o,s,u,l,d);h=this.a*ui(o,s,u,l,i);t.x=this.x0+(c+h)*Math.sin(a);t.y=this.y0+(c+h)*Math.cos(a);return t}else{f=n/r;p=di(this.a,this.e,this.sin_p12);v=di(this.a,this.e,n);g=Math.atan((1-this.es)*f+this.es*p*this.sin_p12/(v*r));y=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(g)-this.sin_p12*Math.cos(a));if(y===0){T=Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g))}else if(Math.abs(Math.abs(y)-Math.PI)<=m){T=-Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g))}else{T=Math.asin(Math.sin(a)*Math.cos(g)/Math.sin(y))}_=this.e*this.sin_p12/Math.sqrt(1-this.es);b=this.e*this.cos_p12*Math.cos(y)/Math.sqrt(1-this.es);w=_*b;O=b*b;E=T*T;M=E*T;j=M*T;k=j*T;x=p*T*(1-E*O*(1-O)/6+M/8*w*(1-2*O)+j/120*(O*(4-7*O)-3*_*_*(1-7*O))-k/48*w);t.x=this.x0+x*Math.sin(y);t.y=this.y0+x*Math.cos(y);return t}}}function Kn(t){t.x-=this.x0;t.y-=this.y0;var e,i,n,r,a,o,s,u,l,c,h,f,p,v,g,y,_,b,w,O,x,S,C;if(this.sphere){e=Math.sqrt(t.x*t.x+t.y*t.y);if(e>2*d*this.a){return}i=e/this.a;n=Math.sin(i);r=Math.cos(i);a=this.long0;if(Math.abs(e)<=m){o=this.lat0}else{o=Fi(r*this.sin_p12+t.y*n*this.cos_p12/e);s=Math.abs(this.lat0)-d;if(Math.abs(s)<=m){if(this.lat0>=0){a=H(this.long0+Math.atan2(t.x,-t.y))}else{a=H(this.long0-Math.atan2(-t.x,t.y))}}else{a=H(this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n))}}t.x=a;t.y=o;return t}else{u=li(this.es);l=ci(this.es);c=hi(this.es);h=fi(this.es);if(Math.abs(this.sin_p12-1)<=m){f=this.a*ui(u,l,c,h,d);e=Math.sqrt(t.x*t.x+t.y*t.y);p=f-e;o=vi(p/this.a,u,l,c,h);a=H(this.long0+Math.atan2(t.x,-1*t.y));t.x=a;t.y=o;return t}else if(Math.abs(this.sin_p12+1)<=m){f=this.a*ui(u,l,c,h,d);e=Math.sqrt(t.x*t.x+t.y*t.y);p=e-f;o=vi(p/this.a,u,l,c,h);a=H(this.long0+Math.atan2(t.x,t.y));t.x=a;t.y=o;return t}else{e=Math.sqrt(t.x*t.x+t.y*t.y);y=Math.atan2(t.x,t.y);v=di(this.a,this.e,this.sin_p12);_=Math.cos(y);b=this.e*this.cos_p12*_;w=-b*b/(1-this.es);O=3*this.es*(1-w)*this.sin_p12*this.cos_p12*_/(1-this.es);x=e/v;S=x-w*(1+w)*Math.pow(x,3)/6-O*(1+3*w)*Math.pow(x,4)/24;C=1-w*S*S/2-x*S*S*S/6;g=Math.asin(this.sin_p12*Math.cos(S)+this.cos_p12*Math.sin(S)*_);a=H(this.long0+Math.asin(Math.sin(y)*Math.sin(S)/Math.cos(g)));o=Math.atan((1-this.es*C*this.sin_p12/Math.sin(g))*Math.tan(g)/(1-this.es));t.x=a;t.y=o;return t}}}var Xn=["Azimuthal_Equidistant","aeqd"];var Zn={init:Bn,forward:qn,inverse:Kn,names:Xn};function Qn(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0)}function Jn(t){var e,i;var n;var r;var a;var o,s,u;var l=t.x;var c=t.y;n=H(l-this.long0);e=Math.sin(c);i=Math.cos(c);r=Math.cos(n);o=this.sin_p14*e+this.cos_p14*i*r;a=1;if(o>0||Math.abs(o)<=m){s=this.a*a*i*Math.sin(n);u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*r)}t.x=s;t.y=u;return t}function tr(t){var e;var i;var n,r;var a;var o,s;t.x-=this.x0;t.y-=this.y0;e=Math.sqrt(t.x*t.x+t.y*t.y);i=Fi(e/this.a);n=Math.sin(i);r=Math.cos(i);o=this.long0;if(Math.abs(e)<=m){s=this.lat0;t.x=o;t.y=s;return t}s=Fi(r*this.sin_p14+t.y*n*this.cos_p14/e);a=Math.abs(this.lat0)-d;if(Math.abs(a)<=m){if(this.lat0>=0){o=H(this.long0+Math.atan2(t.x,-t.y))}else{o=H(this.long0-Math.atan2(-t.x,t.y))}t.x=o;t.y=s;return t}o=H(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n));t.x=o;t.y=s;return t}var er=["ortho"];var ir={init:Qn,forward:Jn,inverse:tr,names:er};var nr={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6};var rr={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function ar(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_ts||0;this.title=this.title||"Quadrilateralized Spherical Cube";if(this.lat0>=d-b/2){this.face=nr.TOP}else if(this.lat0<=-(d-b/2)){this.face=nr.BOTTOM}else if(Math.abs(this.long0)<=b){this.face=nr.FRONT}else if(Math.abs(this.long0)<=d+b){this.face=this.long0>0?nr.RIGHT:nr.LEFT}else{this.face=nr.BACK}if(this.es!==0){this.one_minus_f=1-(this.a-this.b)/this.a;this.one_minus_f_squared=this.one_minus_f*this.one_minus_f}}function or(t){var e={x:0,y:0};var i,n;var r,a;var o,s;var u={value:0};t.x-=this.long0;if(this.es!==0){i=Math.atan(this.one_minus_f_squared*Math.tan(t.y))}else{i=t.y}n=t.x;if(this.face===nr.TOP){a=d-i;if(n>=b&&n<=d+b){u.value=rr.AREA_0;r=n-d}else if(n>d+b||n<=-(d+b)){u.value=rr.AREA_1;r=n>0?n-O:n+O}else if(n>-(d+b)&&n<=-b){u.value=rr.AREA_2;r=n+d}else{u.value=rr.AREA_3;r=n}}else if(this.face===nr.BOTTOM){a=d+i;if(n>=b&&n<=d+b){u.value=rr.AREA_0;r=-n+d}else if(n<b&&n>=-b){u.value=rr.AREA_1;r=-n}else if(n<-b&&n>=-(d+b)){u.value=rr.AREA_2;r=-n-d}else{u.value=rr.AREA_3;r=n>0?-n+O:-n-O}}else{var l,c,h;var f,p;var v,g;if(this.face===nr.RIGHT){n=lr(n,+d)}else if(this.face===nr.BACK){n=lr(n,+O)}else if(this.face===nr.LEFT){n=lr(n,-d)}f=Math.sin(i);p=Math.cos(i);v=Math.sin(n);g=Math.cos(n);l=p*g;c=p*v;h=f;if(this.face===nr.FRONT){a=Math.acos(l);r=ur(a,h,c,u)}else if(this.face===nr.RIGHT){a=Math.acos(c);r=ur(a,h,-l,u)}else if(this.face===nr.BACK){a=Math.acos(-l);r=ur(a,h,-c,u)}else if(this.face===nr.LEFT){a=Math.acos(-c);r=ur(a,h,l,u)}else{a=r=0;u.value=rr.AREA_0}}s=Math.atan(12/O*(r+Math.acos(Math.sin(r)*Math.cos(b))-d));o=Math.sqrt((1-Math.cos(a))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r)))));if(u.value===rr.AREA_1){s+=d}else if(u.value===rr.AREA_2){s+=O}else if(u.value===rr.AREA_3){s+=1.5*O}e.x=o*Math.cos(s);e.y=o*Math.sin(s);e.x=e.x*this.a+this.x0;e.y=e.y*this.a+this.y0;t.x=e.x;t.y=e.y;return t}function sr(t){var e={lam:0,phi:0};var i,n,r,a;var o,s,u,l;var c;var h={value:0};t.x=(t.x-this.x0)/this.a;t.y=(t.y-this.y0)/this.a;n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y));i=Math.atan2(t.y,t.x);if(t.x>=0&&t.x>=Math.abs(t.y)){h.value=rr.AREA_0}else if(t.y>=0&&t.y>=Math.abs(t.x)){h.value=rr.AREA_1;i-=d}else if(t.x<0&&-t.x>=Math.abs(t.y)){h.value=rr.AREA_2;i=i<0?i+O:i-O}else{h.value=rr.AREA_3;i+=d}c=O/12*Math.tan(i);o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2));s=Math.atan(o);r=Math.cos(i);a=Math.tan(n);u=1-r*r*a*a*(1-Math.cos(Math.atan(1/Math.cos(s))));if(u<-1){u=-1}else if(u>+1){u=+1}if(this.face===nr.TOP){l=Math.acos(u);e.phi=d-l;if(h.value===rr.AREA_0){e.lam=s+d}else if(h.value===rr.AREA_1){e.lam=s<0?s+O:s-O}else if(h.value===rr.AREA_2){e.lam=s-d}else{e.lam=s}}else if(this.face===nr.BOTTOM){l=Math.acos(u);e.phi=l-d;if(h.value===rr.AREA_0){e.lam=-s+d}else if(h.value===rr.AREA_1){e.lam=-s}else if(h.value===rr.AREA_2){e.lam=-s-d}else{e.lam=s<0?-s-O:-s+O}}else{var f,p,v;f=u;c=f*f;if(c>=1){v=0}else{v=Math.sqrt(1-c)*Math.sin(s)}c+=v*v;if(c>=1){p=0}else{p=Math.sqrt(1-c)}if(h.value===rr.AREA_1){c=p;p=-v;v=c}else if(h.value===rr.AREA_2){p=-p;v=-v}else if(h.value===rr.AREA_3){c=p;p=v;v=-c}if(this.face===nr.RIGHT){c=f;f=-p;p=c}else if(this.face===nr.BACK){f=-f;p=-p}else if(this.face===nr.LEFT){c=f;f=p;p=-c}e.phi=Math.acos(-v)-d;e.lam=Math.atan2(p,f);if(this.face===nr.RIGHT){e.lam=lr(e.lam,-d)}else if(this.face===nr.BACK){e.lam=lr(e.lam,-O)}else if(this.face===nr.LEFT){e.lam=lr(e.lam,+d)}}if(this.es!==0){var g;var m,y;g=e.phi<0?1:0;m=Math.tan(e.phi);y=this.b/Math.sqrt(m*m+this.one_minus_f_squared);e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y));if(g){e.phi=-e.phi}}e.lam+=this.long0;t.x=e.lam;t.y=e.phi;return t}function ur(t,e,i,n){var r;if(t<m){n.value=rr.AREA_0;r=0}else{r=Math.atan2(e,i);if(Math.abs(r)<=b){n.value=rr.AREA_0}else if(r>b&&r<=d+b){n.value=rr.AREA_1;r-=d}else if(r>d+b||r<=-(d+b)){n.value=rr.AREA_2;r=r>=0?r-O:r+O}else{n.value=rr.AREA_3;r+=d}}return r}function lr(t,e){var i=t+e;if(i<-O){i+=w}else if(i>+O){i-=w}return i}var cr=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];var hr={init:ar,forward:or,inverse:sr,names:cr};var fr=function(t){t.Proj.projections.add(ae);t.Proj.projections.add(ye);t.Proj.projections.add(xe);t.Proj.projections.add(De);t.Proj.projections.add(Ue);t.Proj.projections.add(Ve);t.Proj.projections.add(Ze);t.Proj.projections.add(ii);t.Proj.projections.add(si);t.Proj.projections.add(bi);t.Proj.projections.add(Li);t.Proj.projections.add(zi);t.Proj.projections.add(Xi);t.Proj.projections.add(nn);t.Proj.projections.add(un);t.Proj.projections.add(pn);t.Proj.projections.add(bn);t.Proj.projections.add(Cn);t.Proj.projections.add(Rn);t.Proj.projections.add(Nn);t.Proj.projections.add(Un);t.Proj.projections.add(Vn);t.Proj.projections.add(Zn);t.Proj.projections.add(ir);t.Proj.projections.add(hr)};It.defaultDatum="WGS84";It.Proj=vt;It.WGS84=new It.Proj("WGS84");It.Point=$t;It.toPoint=St;It.defs=R;It.transform=Mt;It.mgrs=Dt.a;It.version=Lt["a"];fr(It);var dr=It;dr.Proj.projections.add(Ve);var pr="somerc";var vr=pr;var gr=["+proj="+vr,"+lat_0=46.95240555555556","+lon_0=7.439583333333333","+k_0=1","+x_0=600000","+y_0=200000","+ellps=bessel","+towgs84=674.374,15.056,405.346,0,0,0,0","+units=m","+no_defs"].join(" ");var mr=[42e4,3e4,9e5,35e4];dr.defs("EPSG:21781",gr);o(dr);n["h"]("EPSG:21781").setExtent(mr);var yr="EPSG:21781";var _r=e["a"]=yr},function(t,e,i){"use strict";i.d(e,"b",function(){return l});i.d(e,"a",function(){return c});i.d(e,"c",function(){return h});i.d(e,"d",function(){return f});i.d(e,"e",function(){return d});var n=i(45);var r=i(66);var a=i(18);var o=i(108);var s=i(87);var u=i(115);function l(t,e){return function(i){if(i!=null){h(this,t,i);a["a"].updateOffset(this,e);return this}else{return c(this,t)}}}function c(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function h(t,e,i){if(t.isValid()&&!isNaN(i)){if(e==="FullYear"&&Object(u["d"])(t.year())&&t.month()===1&&t.date()===29){t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),Object(s["a"])(i,t.month()))}else{t._d["set"+(t._isUTC?"UTC":"")+e](i)}}}function f(t){t=Object(n["c"])(t);if(Object(o["a"])(this[t])){return this[t]()}return this}function d(t,e){if(typeof t==="object"){t=Object(n["b"])(t);var i=Object(r["b"])(t);for(var a=0;a<i.length;a++){this[i[a].unit](t[i[a].unit])}}else{t=Object(n["c"])(t);if(Object(o["a"])(this[t])){return this[t](e)}}return this}},function(t,e,i){"use strict";var n=i(1);var r=i(9);var a=i(4);var o=i(21);var s=i(8);var u=i(46);var l=i(68);var c=i(130);var h=i(121);var f=i(125);var d=i(233);var p=i(192);var v=i(143);var g=function t(e,i){l["a"].call(this);this.ends_=[];this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,i)};Object(n["d"])(g,l["a"]);g.prototype.appendLineString=function(t){if(!this.flatCoordinates){this.flatCoordinates=t.getFlatCoordinates().slice()}else{Object(r["c"])(this.flatCoordinates,t.getFlatCoordinates().slice())}this.ends_.push(this.flatCoordinates.length);this.changed()};g.prototype.clone=function(){var t=new g(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return t};g.prototype.closestPointXY=function(t,e,i,n){if(n<Object(a["e"])(this.getExtent(),t,e)){return n}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(c["a"])(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(c["b"])(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,false,t,e,i,n)};g.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=o["a"].XYM&&this.layout!=o["a"].XYZM||this.flatCoordinates.length===0){return null}var n=e!==undefined?e:false;var r=i!==undefined?i:false;return Object(d["c"])(this.flatCoordinates,0,this.ends_,this.stride,t,n,r)};g.prototype.getCoordinates=function(){return Object(f["b"])(this.flatCoordinates,0,this.ends_,this.stride)};g.prototype.getEnds=function(){return this.ends_};g.prototype.getLineString=function(t){if(t<0||this.ends_.length<=t){return null}var e=new u["a"](null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]));return e};g.prototype.getLineStrings=function(){var t=this.flatCoordinates;var e=this.ends_;var i=this.layout;var n=[];var r=0;for(var a=0,o=e.length;a<o;++a){var s=e[a];var l=new u["a"](null);l.setFlatCoordinates(i,t.slice(r,s));n.push(l);r=s}return n};g.prototype.getFlatMidpoints=function(){var t=[];var e=this.flatCoordinates;var i=0;var n=this.ends_;var a=this.stride;for(var o=0,s=n.length;o<s;++o){var u=n[o];var l=Object(d["a"])(e,i,u,a,.5);Object(r["c"])(t,l);i=u}return t};g.prototype.getSimplifiedGeometryInternal=function(t){var e=[];var i=[];e.length=Object(v["b"])(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i);var n=new g(null);n.setFlatCoordinates(o["a"].XY,e,i);return n};g.prototype.getType=function(){return s["a"].MULTI_LINE_STRING};g.prototype.intersectsExtent=function(t){return Object(p["b"])(this.flatCoordinates,0,this.ends_,this.stride,t)};g.prototype.setCoordinates=function(t,e){if(!t){this.setFlatCoordinates(o["a"].XY,null,this.ends_)}else{this.setLayout(e,t,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var i=Object(h["c"])(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1];this.changed()}};g.prototype.setFlatCoordinates=function(t,e,i){this.setFlatCoordinatesInternal(t,e);this.ends_=i;this.changed()};g.prototype.setLineStrings=function(t){var e=this.getLayout();var i=[];var n=[];for(var a=0,o=t.length;a<o;++a){var s=t[a];if(a===0){e=s.getLayout()}Object(r["c"])(i,s.getFlatCoordinates());n.push(i.length)}this.setFlatCoordinates(e,i,n)};e["a"]=g},function(t,e,i){(function(t,n){true?n(e,i(140)):undefined})(this,function(t,e){"use strict";function i(t,e,i,n,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*i+(1+3*t+3*a-3*o)*n+o*r)/6}function n(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],o=t[r+1],s=r>0?t[r-1]:2*a-o,u=r<e-1?t[r+2]:2*o-a;return i((n-r/e)*e,s,a,o,u)}}function r(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],u=t[(r+2)%e];return i((n-r/e)*e,a,o,s,u)}}function a(t){return function(){return t}}function o(t,e){return function(i){return t+i*e}}function s(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}function u(t,e){var i=e-t;return i?o(t,i>180||i<-180?i-360*Math.round(i/360):i):a(isNaN(t)?e:t)}function l(t){return(t=+t)===1?c:function(e,i){return i-e?s(e,i,t):a(isNaN(e)?i:e)}}function c(t,e){var i=e-t;return i?o(t,i):a(isNaN(t)?e:t)}var h=function t(i){var n=l(i);function r(t,i){var r=n((t=e.rgb(t)).r,(i=e.rgb(i)).r),a=n(t.g,i.g),o=n(t.b,i.b),s=c(t.opacity,i.opacity);return function(e){t.r=r(e);t.g=a(e);t.b=o(e);t.opacity=s(e);return t+""}}r.gamma=t;return r}(1);function f(t){return function(i){var n=i.length,r=new Array(n),a=new Array(n),o=new Array(n),s,u;for(s=0;s<n;++s){u=e.rgb(i[s]);r[s]=u.r||0;a[s]=u.g||0;o[s]=u.b||0}r=t(r);a=t(a);o=t(o);u.opacity=1;return function(t){u.r=r(t);u.g=a(t);u.b=o(t);return u+""}}}var d=f(n);var p=f(r);function v(t,e){if(!e)e=[];var i=t?Math.min(e.length,t.length):0,n=e.slice(),r;return function(a){for(r=0;r<i;++r)n[r]=t[r]*(1-a)+e[r]*a;return n}}function g(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function m(t,e){return(g(e)?v:y)(t,e)}function y(t,e){var i=e?e.length:0,n=t?Math.min(i,t.length):0,r=new Array(n),a=new Array(i),o;for(o=0;o<n;++o)r[o]=E(t[o],e[o]);for(;o<i;++o)a[o]=e[o];return function(t){for(o=0;o<n;++o)a[o]=r[o](t);return a}}function _(t,e){var i=new Date;return t=+t,e=+e,function(n){return i.setTime(t*(1-n)+e*n),i}}function b(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function w(t,e){var i={},n={},r;if(t===null||typeof t!=="object")t={};if(e===null||typeof e!=="object")e={};for(r in e){if(r in t){i[r]=E(t[r],e[r])}else{n[r]=e[r]}}return function(t){for(r in i)n[r]=i[r](t);return n}}var O=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(O.source,"g");function S(t){return function(){return t}}function C(t){return function(e){return t(e)+""}}function T(t,e){var i=O.lastIndex=x.lastIndex=0,n,r,a,o=-1,s=[],u=[];t=t+"",e=e+"";while((n=O.exec(t))&&(r=x.exec(e))){if((a=r.index)>i){a=e.slice(i,a);if(s[o])s[o]+=a;else s[++o]=a}if((n=n[0])===(r=r[0])){if(s[o])s[o]+=r;else s[++o]=r}else{s[++o]=null;u.push({i:o,x:b(n,r)})}i=x.lastIndex}if(i<e.length){a=e.slice(i);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?C(u[0].x):S(e):(e=u.length,function(t){for(var i=0,n;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function E(t,i){var n=typeof i,r;return i==null||n==="boolean"?a(i):(n==="number"?b:n==="string"?(r=e.color(i))?(i=r,h):T:i instanceof e.color?h:i instanceof Date?_:g(i)?v:Array.isArray(i)?y:typeof i.valueOf!=="function"&&typeof i.toString!=="function"||isNaN(i)?w:b)(t,i)}function M(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}function j(t,e){var i=u(+t,+e);return function(t){var e=i(t);return e-360*Math.floor(e/360)}}function k(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var R=180/Math.PI;var A={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function I(t,e,i,n,r,a){var o,s,u;if(o=Math.sqrt(t*t+e*e))t/=o,e/=o;if(u=t*i+e*n)i-=t*u,n-=e*u;if(s=Math.sqrt(i*i+n*n))i/=s,n/=s,u/=s;if(t*n<e*i)t=-t,e=-e,u=-u,o=-o;return{translateX:r,translateY:a,rotate:Math.atan2(e,t)*R,skewX:Math.atan(u)*R,scaleX:o,scaleY:s}}var P,D,N,$;function L(t){if(t==="none")return A;if(!P)P=document.createElement("DIV"),D=document.documentElement,N=document.defaultView;P.style.transform=t;t=N.getComputedStyle(D.appendChild(P),null).getPropertyValue("transform");D.removeChild(P);t=t.slice(7,-1).split(",");return I(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])}function F(t){if(t==null)return A;if(!$)$=document.createElementNS("http://www.w3.org/2000/svg","g");$.setAttribute("transform",t);if(!(t=$.transform.baseVal.consolidate()))return A;t=t.matrix;return I(t.a,t.b,t.c,t.d,t.e,t.f)}function G(t,e,i,n){function r(t){return t.length?t.pop()+" ":""}function a(t,n,r,a,o,s){if(t!==r||n!==a){var u=o.push("translate(",null,e,null,i);s.push({i:u-4,x:b(t,r)},{i:u-2,x:b(n,a)})}else if(r||a){o.push("translate("+r+e+a+i)}}function o(t,e,i,a){if(t!==e){if(t-e>180)e+=360;else if(e-t>180)t+=360;a.push({i:i.push(r(i)+"rotate(",null,n)-2,x:b(t,e)})}else if(e){i.push(r(i)+"rotate("+e+n)}}function s(t,e,i,a){if(t!==e){a.push({i:i.push(r(i)+"skewX(",null,n)-2,x:b(t,e)})}else if(e){i.push(r(i)+"skewX("+e+n)}}function u(t,e,i,n,a,o){if(t!==i||e!==n){var s=a.push(r(a)+"scale(",null,",",null,")");o.push({i:s-4,x:b(t,i)},{i:s-2,x:b(e,n)})}else if(i!==1||n!==1){a.push(r(a)+"scale("+i+","+n+")")}}return function(e,i){var n=[],r=[];e=t(e),i=t(i);a(e.translateX,e.translateY,i.translateX,i.translateY,n,r);o(e.rotate,i.rotate,n,r);s(e.skewX,i.skewX,n,r);u(e.scaleX,e.scaleY,i.scaleX,i.scaleY,n,r);e=i=null;return function(t){var e=-1,i=r.length,a;while(++e<i)n[(a=r[e]).i]=a.x(t);return n.join("")}}}var U=G(L,"px, ","px)","deg)");var H=G(F,", ",")",")");var W=Math.SQRT2,Y=2,z=4,V=1e-12;function B(t){return((t=Math.exp(t))+1/t)/2}function q(t){return((t=Math.exp(t))-1/t)/2}function K(t){return((t=Math.exp(2*t))-1)/(t+1)}function X(t,e){var i=t[0],n=t[1],r=t[2],a=e[0],o=e[1],s=e[2],u=a-i,l=o-n,c=u*u+l*l,h,f;if(c<V){f=Math.log(s/r)/W;h=function(t){return[i+t*u,n+t*l,r*Math.exp(W*t*f)]}}else{var d=Math.sqrt(c),p=(s*s-r*r+z*c)/(2*r*Y*d),v=(s*s-r*r-z*c)/(2*s*Y*d),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);f=(m-g)/W;h=function(t){var e=t*f,a=B(g),o=r/(Y*d)*(a*K(W*e+g)-q(g));return[i+o*u,n+o*l,r*a/B(W*e+g)]}}h.duration=f*1e3;return h}function Z(t){return function(i,n){var r=t((i=e.hsl(i)).h,(n=e.hsl(n)).h),a=c(i.s,n.s),o=c(i.l,n.l),s=c(i.opacity,n.opacity);return function(t){i.h=r(t);i.s=a(t);i.l=o(t);i.opacity=s(t);return i+""}}}var Q=Z(u);var J=Z(c);function tt(t,i){var n=c((t=e.lab(t)).l,(i=e.lab(i)).l),r=c(t.a,i.a),a=c(t.b,i.b),o=c(t.opacity,i.opacity);return function(e){t.l=n(e);t.a=r(e);t.b=a(e);t.opacity=o(e);return t+""}}function et(t){return function(i,n){var r=t((i=e.hcl(i)).h,(n=e.hcl(n)).h),a=c(i.c,n.c),o=c(i.l,n.l),s=c(i.opacity,n.opacity);return function(t){i.h=r(t);i.c=a(t);i.l=o(t);i.opacity=s(t);return i+""}}}var it=et(u);var nt=et(c);function rt(t){return function i(n){n=+n;function r(i,r){var a=t((i=e.cubehelix(i)).h,(r=e.cubehelix(r)).h),o=c(i.s,r.s),s=c(i.l,r.l),u=c(i.opacity,r.opacity);return function(t){i.h=a(t);i.s=o(t);i.l=s(Math.pow(t,n));i.opacity=u(t);return i+""}}r.gamma=i;return r}(1)}var at=rt(u);var ot=rt(c);function st(t,e){var i=0,n=e.length-1,r=e[0],a=new Array(n<0?0:n);while(i<n)a[i]=t(r,r=e[++i]);return function(t){var e=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return a[e](t-e)}}function ut(t,e){var i=new Array(e);for(var n=0;n<e;++n)i[n]=t(n/(e-1));return i}t.interpolate=E;t.interpolateArray=m;t.interpolateBasis=n;t.interpolateBasisClosed=r;t.interpolateCubehelix=at;t.interpolateCubehelixLong=ot;t.interpolateDate=_;t.interpolateDiscrete=M;t.interpolateHcl=it;t.interpolateHclLong=nt;t.interpolateHsl=Q;t.interpolateHslLong=J;t.interpolateHue=j;t.interpolateLab=tt;t.interpolateNumber=b;t.interpolateNumberArray=v;t.interpolateObject=w;t.interpolateRgb=h;t.interpolateRgbBasis=d;t.interpolateRgbBasisClosed=p;t.interpolateRound=k;t.interpolateString=T;t.interpolateTransformCss=U;t.interpolateTransformSvg=H;t.interpolateZoom=X;t.piecewise=st;t.quantize=ut;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";var n=i(200);var r=i(1);var a=i(24);var o=i(4);var s=i(11);var u=i(12);var l=i(7);var c=i(167);var h=i(98);var f=i(155);var d=i(174);var p=i(110);var v=i(128);var g=i(144);var m=function t(e){var i=e||{};var n=i.params||{};var r="TRANSPARENT"in n?n["TRANSPARENT"]:true;f["a"].call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:!r,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==undefined?i.wrapX:true,transition:i.transition});this.gutter_=i.gutter!==undefined?i.gutter:0;this.params_=n;this.v13_=true;this.serverType_=i.serverType;this.hidpi_=i.hidpi!==undefined?i.hidpi:true;this.tmpExtent_=Object(o["j"])();this.updateV13_();this.setKey(this.getKeyForParams_())};Object(r["d"])(m,f["a"]);m.prototype.getGetFeatureInfoUrl=function(t,e,i,r){var a=Object(l["h"])(i);var u=this.getProjection();var f=this.getTileGrid();if(!f){f=this.getTileGridForProjection(a)}var d=f.getTileCoordForCoordAndResolution(t,e);if(f.getResolutions().length<=d[0]){return undefined}var p=f.getResolution(d[0]);var v=f.getTileCoordExtent(d,this.tmpExtent_);var g=Object(h["d"])(f.getTileSize(d[0]),this.tmpSize);var m=this.gutter_;if(m!==0){g=Object(h["a"])(g,m,this.tmpSize);v=Object(o["c"])(v,p*m,v)}if(u&&u!==a){p=Object(c["a"])(u,a,t,p);v=Object(l["o"])(v,a,u);t=Object(l["n"])(t,a,u)}var y={SERVICE:"WMS",VERSION:n["a"],REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};Object(s["a"])(y,this.params_,r);var _=Math.floor((t[0]-v[0])/p);var b=Math.floor((v[3]-t[1])/p);y[this.v13_?"I":"X"]=_;y[this.v13_?"J":"Y"]=b;return this.getRequestUrl_(d,g,v,1,u||a,y)};m.prototype.getGutterInternal=function(){return this.gutter_};m.prototype.getParams=function(){return this.params_};m.prototype.getRequestUrl_=function(t,e,i,n,r,o){var s=this.urls;if(!s){return undefined}o["WIDTH"]=e[0];o["HEIGHT"]=e[1];o[this.v13_?"CRS":"SRS"]=r.getCode();if(!("STYLES"in this.params_)){o["STYLES"]=""}if(n!=1){switch(this.serverType_){case d["a"].GEOSERVER:var l=90*n+.5|0;if("FORMAT_OPTIONS"in o){o["FORMAT_OPTIONS"]+=";dpi:"+l}else{o["FORMAT_OPTIONS"]="dpi:"+l}break;case d["a"].MAPSERVER:o["MAP_RESOLUTION"]=90*n;break;case d["a"].CARMENTA_SERVER:case d["a"].QGIS:o["DPI"]=90*n;break;default:Object(a["a"])(false,52);break}}var c=r.getAxisOrientation();var h=i;if(this.v13_&&c.substr(0,2)=="ne"){var f=void 0;f=i[0];h[0]=i[1];h[1]=f;f=i[2];h[2]=i[3];h[3]=f}o["BBOX"]=h.join(",");var v=void 0;if(s.length==1){v=s[0]}else{var m=Object(u["d"])(Object(p["e"])(t),s.length);v=s[m]}return Object(g["a"])(v,o)};m.prototype.getTilePixelRatio=function(t){return!this.hidpi_||this.serverType_===undefined?1:t};m.prototype.getKeyForParams_=function(){var t=0;var e=[];for(var i in this.params_){e[t++]=i+"-"+this.params_[i]}return e.join("/")};m.prototype.fixedTileUrlFunction=function(t,e,i){var r=this.getTileGrid();if(!r){r=this.getTileGridForProjection(i)}if(r.getResolutions().length<=t[0]){return undefined}if(e!=1&&(!this.hidpi_||this.serverType_===undefined)){e=1}var a=r.getResolution(t[0]);var u=r.getTileCoordExtent(t,this.tmpExtent_);var l=Object(h["d"])(r.getTileSize(t[0]),this.tmpSize);var c=this.gutter_;if(c!==0){l=Object(h["a"])(l,c,this.tmpSize);u=Object(o["c"])(u,a*c,u)}if(e!=1){l=Object(h["c"])(l,e,this.tmpSize)}var f={SERVICE:"WMS",VERSION:n["a"],REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};Object(s["a"])(f,this.params_);return this.getRequestUrl_(t,l,u,e,i,f)};m.prototype.updateParams=function(t){Object(s["a"])(this.params_,t);this.updateV13_();this.setKey(this.getKeyForParams_())};m.prototype.updateV13_=function(){var t=this.params_["VERSION"]||n["a"];this.v13_=Object(v["a"])(t,"1.3")>=0};e["a"]=m},function(t,e,i){"use strict";var n=i(2);var r=i(36);var a=i(196);var o=i(84);var s=i(78);var u=i(165);var l=i(232);var c={};c.interaction=function(t){n["a"].assertInstanceof(t,r["a"]);Object.defineProperty(t,"active",{get:function e(){return t.getActive()},set:function e(i){t.setActive(i)}})};c.layer=function(t){n["a"].assertInstanceof(t,a["a"]);Object.defineProperty(t,"visible",{configurable:true,get:function e(){return t.getVisible()},set:function e(i){t.setVisible(i)}});Object.defineProperty(t,"opacity",{configurable:true,get:function e(){return t.getOpacity()},set:function e(i){t.setOpacity(i)}})};c.layerLoading=function(t,e){var i=void 0;var r=null;var a=null;var c=f;var h=d;t.set("load_count",0,true);if(t instanceof o["a"]){t.getLayers().on("add",function(e){var i=e.element;i.set("parent_group",t)})}if(t instanceof s["a"]){i=t.getSource();if(i===null){return}else if(i instanceof l["b"]){r=["tileloadstart"];a=["tileloadend","tileloaderror"]}else if(i instanceof u["a"]){r=["imageloadstart"];a=["imageloadend","imageloaderror"]}else{n["a"].fail("unsupported source type")}i.on(r,function(){c(t);e.$applyAsync()});i.on(a,function(){h(t);e.$applyAsync()})}Object.defineProperty(t,"loading",{configurable:true,get:function e(){return t.get("load_count")>0}});function f(t){var e=t.get("load_count");var i=t.get("parent_group");t.set("load_count",++e,true);if(i){f(i)}}function d(t){var e=t.get("load_count");var i=t.get("parent_group");t.set("load_count",--e,true);if(i){d(i)}}};e["a"]=c},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});i.d(e,"c",function(){return a});i.d(e,"d",function(){return o});function n(t,e,i){if(i===undefined){i=[0,0]}i[0]=t[0]+2*e;i[1]=t[1]+2*e;return i}function r(t){return t[0]>0&&t[1]>0}function a(t,e,i){if(i===undefined){i=[0,0]}i[0]=t[0]*e+.5|0;i[1]=t[1]*e+.5|0;return i}function o(t,e){if(Array.isArray(t)){return t}else{if(e===undefined){e=[t,t]}else{e[0]=e[1]=t}return e}}},function(t,e,i){"use strict";e["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,i){"use strict";e["a"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},function(t,e,i){"use strict";var n=i(2);var r=i(50);var a=i(54);var o=i(3);var s=i(14);var u=i(160);var l=i(67);var c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}return function(e,i,n){if(i)t(e.prototype,i);if(n)t(e,n);return e}}();function h(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function f(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function d(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var p=function(t){d(e,t);function e(i){h(this,e);i.type=r["a"].GEOMETRY;var n=f(this,t.call(this,i));var a=i.featureProperties||{};n.feature_=new s["a"](a);n.format_=new u["a"];n.updatingExpression_=false;n.updatingGeometry_=false;n.geometryChangeListenerKey_=null;n.listenerKeys.push(o["a"](n.feature_,"change:"+n.feature.getGeometryName(),n.handleFeatureGeometryChange_,n));n.setGeometryFromExpression_();return n}e.prototype.setExpression=function e(i){this.updatingExpression_=true;t.prototype.setExpression.call(this,i);if(!this.updatingGeometry_){this.setGeometryFromExpression_()}this.registerGeometryChange_();this.updatingExpression_=false};e.prototype.handleFeatureGeometryChange_=function t(){if(this.updatingExpression_){return}this.updatingGeometry_=true;var e=this.feature_.getGeometry();if(e){this.expression=this.format_.writeGeometry(e)}else{this.expression=null}this.registerGeometryChange_();this.updatingGeometry_=false};e.prototype.handleGeometryChange_=function t(e){var i=n["a"].assertInstanceof(e.target,l["a"]);this.updatingGeometry_=true;this.expression=this.format_.writeGeometry(i);this.updatingGeometry_=false};e.prototype.setGeometryFromExpression_=function t(){var e=null;if(this.expression){var i=n["a"].assertString(this.expression);e=this.format_.readGeometry(i)}this.geometry=e};e.prototype.registerGeometryChange_=function t(){if(this.geometryChangeListenerKey_!==null){o["e"](this.geometryChangeListenerKey_);this.geometryChangeListenerKey_=null}var e=this.feature_.getGeometry();if(e){this.geometryChangeListenerKey_=o["a"](e,"change",this.handleGeometryChange_,this)}};c(e,[{key:"feature",get:function t(){return this.feature_}},{key:"geometry",get:function t(){return this.feature_.getGeometry()||null},set:function t(e){this.feature_.setGeometry(e)}}]);return e}(a["a"]);e["a"]=p},function(t,e,i){"use strict";e["a"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,i){"use strict";(function(t){i.d(e,"c",function(){return _});i.d(e,"a",function(){return b});i.d(e,"e",function(){return w});i.d(e,"b",function(){return O});i.d(e,"d",function(){return x});var n=i(126);var r=i(63);var a=i(89);var o=i(289);var s=i(88);var u=i(241);var l=i(240);var c=i(329);var h=i(305);var f;var d={};var p={};var v;function g(t){return t?t.toLowerCase().replace("_","-"):t}function m(t){var e=0,i,n,r,a;while(e<t.length){a=g(t[e]).split("-");i=a.length;n=g(t[e+1]);n=n?n.split("-"):null;while(i>0){r=y(a.slice(0,i).join("-"));if(r){return r}if(n&&n.length>=i&&Object(o["a"])(a,n,true)>=i-1){break}i--}e++}return v}function y(e){var i=null;if(!d[e]&&typeof t!=="undefined"&&t&&t.exports){try{i=v._abbr;var n=f;!function t(){var e=new Error('Cannot find module "undefined"');e.code="MODULE_NOT_FOUND";throw e}();_(i)}catch(t){}}return d[e]}function _(t,e){var i;if(t){if(Object(a["a"])(e)){i=O(t)}else{i=b(t,e)}if(i){v=i}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+t+" not found. Did you forget to load it?")}}}return v._abbr}function b(t,e){if(e!==null){var i,n=h["a"];e.abbr=t;if(d[t]!=null){Object(s["b"])("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");n=d[t]._config}else if(e.parentLocale!=null){if(d[e.parentLocale]!=null){n=d[e.parentLocale]._config}else{i=y(e.parentLocale);if(i!=null){n=i._config}else{if(!p[e.parentLocale]){p[e.parentLocale]=[]}p[e.parentLocale].push({name:t,config:e});return null}}}d[t]=new l["a"](Object(u["a"])(n,e));if(p[t]){p[t].forEach(function(t){b(t.name,t.config)})}_(t);return d[t]}else{delete d[t];return null}}function w(t,e){if(e!=null){var i,n,r=h["a"];n=y(t);if(n!=null){r=n._config}e=Object(u["a"])(r,e);i=new l["a"](e);i.parentLocale=d[t];d[t]=i;_(t)}else{if(d[t]!=null){if(d[t].parentLocale!=null){d[t]=d[t].parentLocale}else if(d[t]!=null){delete d[t]}}}return d[t]}function O(t){var e;if(t&&t._locale&&t._locale._abbr){t=t._locale._abbr}if(!t){return v}if(!Object(n["a"])(t)){e=y(t);if(e){return e}t=[t]}return m(t)}function x(){return Object(c["a"])(d)}}).call(this,i(461)(t))},function(t,e,i){"use strict";i.d(e,"a",function(){return g});i.d(e,"g",function(){return m});i.d(e,"c",function(){return y});i.d(e,"j",function(){return _});i.d(e,"b",function(){return b});i.d(e,"h",function(){return w});i.d(e,"i",function(){return x});i.d(e,"d",function(){return S});i.d(e,"f",function(){return C});i.d(e,"e",function(){return T});i.d(e,"l",function(){return M});i.d(e,"m",function(){return k});i.d(e,"k",function(){return A});var n=i(25);var r=i(45);var a=i(66);var o=i(6);var s=i(52);var u=i(39);var l=i(126);var c=i(90);var h=i(63);var f=i(122);var d=i(47);Object(n["a"])("d",0,"do","day");Object(n["a"])("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Object(n["a"])("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Object(n["a"])("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Object(n["a"])("e",0,0,"weekday");Object(n["a"])("E",0,0,"isoWeekday");Object(r["a"])("day","d");Object(r["a"])("weekday","e");Object(r["a"])("isoWeekday","E");Object(a["a"])("day",11);Object(a["a"])("weekday",11);Object(a["a"])("isoWeekday",11);Object(o["a"])("d",o["d"]);Object(o["a"])("e",o["d"]);Object(o["a"])("E",o["d"]);Object(o["a"])("dd",function(t,e){return e.weekdaysMinRegex(t)});Object(o["a"])("ddd",function(t,e){return e.weekdaysShortRegex(t)});Object(o["a"])("dddd",function(t,e){return e.weekdaysRegex(t)});Object(s["c"])(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);if(r!=null){e.d=r}else{Object(d["a"])(i).invalidWeekday=t}});Object(s["c"])(["d","e","E"],function(t,e,i,n){e[n]=Object(u["a"])(t)});function p(t,e){if(typeof t!=="string"){return t}if(!isNaN(t)){return parseInt(t,10)}t=e.weekdaysParse(t);if(typeof t==="number"){return t}return null}function v(t,e){if(typeof t==="string"){return e.weekdaysParse(t)%7||7}return isNaN(t)?null:t}var g="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function m(t,e){if(!t){return Object(l["a"])(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return Object(l["a"])(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}var y="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function _(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}var b="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function w(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function O(t,e,i){var n,r,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(n=0;n<7;++n){a=Object(f["a"])([2e3,1]).day(n);this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase();this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase();this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase()}}if(i){if(e==="dddd"){r=c["a"].call(this._weekdaysParse,o);return r!==-1?r:null}else if(e==="ddd"){r=c["a"].call(this._shortWeekdaysParse,o);return r!==-1?r:null}else{r=c["a"].call(this._minWeekdaysParse,o);return r!==-1?r:null}}else{if(e==="dddd"){r=c["a"].call(this._weekdaysParse,o);if(r!==-1){return r}r=c["a"].call(this._shortWeekdaysParse,o);if(r!==-1){return r}r=c["a"].call(this._minWeekdaysParse,o);return r!==-1?r:null}else if(e==="ddd"){r=c["a"].call(this._shortWeekdaysParse,o);if(r!==-1){return r}r=c["a"].call(this._weekdaysParse,o);if(r!==-1){return r}r=c["a"].call(this._minWeekdaysParse,o);return r!==-1?r:null}else{r=c["a"].call(this._minWeekdaysParse,o);if(r!==-1){return r}r=c["a"].call(this._weekdaysParse,o);if(r!==-1){return r}r=c["a"].call(this._shortWeekdaysParse,o);return r!==-1?r:null}}}function x(t,e,i){var n,r,a;if(this._weekdaysParseExact){return O.call(this,t,e,i)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(n=0;n<7;n++){r=Object(f["a"])([2e3,1]).day(n);if(i&&!this._fullWeekdaysParse[n]){this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i");this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[n]){a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,"");this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")}if(i&&e==="dddd"&&this._fullWeekdaysParse[n].test(t)){return n}else if(i&&e==="ddd"&&this._shortWeekdaysParse[n].test(t)){return n}else if(i&&e==="dd"&&this._minWeekdaysParse[n].test(t)){return n}else if(!i&&this._weekdaysParse[n].test(t)){return n}}}function S(t){if(!this.isValid()){return t!=null?this:NaN}var e=this._isUTC?this._d.getUTCDay():this._d.getDay();if(t!=null){t=p(t,this.localeData());return this.add(t-e,"d")}else{return e}}function C(t){if(!this.isValid()){return t!=null?this:NaN}var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function T(t){if(!this.isValid()){return t!=null?this:NaN}if(t!=null){var e=v(t,this.localeData());return this.day(this.day()%7?e:e-7)}else{return this.day()||7}}var E=o["s"];function M(t){if(this._weekdaysParseExact){if(!Object(h["a"])(this,"_weekdaysRegex")){I.call(this)}if(t){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!Object(h["a"])(this,"_weekdaysRegex")){this._weekdaysRegex=E}return this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}}var j=o["s"];function k(t){if(this._weekdaysParseExact){if(!Object(h["a"])(this,"_weekdaysRegex")){I.call(this)}if(t){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!Object(h["a"])(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=j}return this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var R=o["s"];function A(t){if(this._weekdaysParseExact){if(!Object(h["a"])(this,"_weekdaysRegex")){I.call(this)}if(t){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!Object(h["a"])(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=R}return this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function I(){function t(t,e){return e.length-t.length}var e=[],i=[],n=[],r=[],a,s,u,l,c;for(a=0;a<7;a++){s=Object(f["a"])([2e3,1]).day(a);u=this.weekdaysMin(s,"");l=this.weekdaysShort(s,"");c=this.weekdays(s,"");e.push(u);i.push(l);n.push(c);r.push(u);r.push(l);r.push(c)}e.sort(t);i.sort(t);n.sort(t);r.sort(t);for(a=0;a<7;a++){i[a]=Object(o["t"])(i[a]);n[a]=Object(o["t"])(n[a]);r[a]=Object(o["t"])(r[a])}this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";var e=new Date,i=new Date;function n(t,r,a,o){function s(e){return t(e=arguments.length===0?new Date:new Date(+e)),e}s.floor=function(e){return t(e=new Date(+e)),e};s.ceil=function(e){return t(e=new Date(e-1)),r(e,1),t(e),e};s.round=function(t){var e=s(t),i=s.ceil(t);return t-e<i-t?e:i};s.offset=function(t,e){return r(t=new Date(+t),e==null?1:Math.floor(e)),t};s.range=function(e,i,n){var a=[],o;e=s.ceil(e);n=n==null?1:Math.floor(n);if(!(e<i)||!(n>0))return a;do{a.push(o=new Date(+e)),r(e,n),t(e)}while(o<e&&e<i);return a};s.filter=function(e){return n(function(i){if(i>=i)while(t(i),!e(i))i.setTime(i-1)},function(t,i){if(t>=t){if(i<0)while(++i<=0){while(r(t,-1),!e(t)){}}else while(--i>=0){while(r(t,+1),!e(t)){}}}})};if(a){s.count=function(n,r){e.setTime(+n),i.setTime(+r);t(e),t(i);return Math.floor(a(e,i))};s.every=function(t){t=Math.floor(t);return!isFinite(t)||!(t>0)?null:!(t>1)?s:s.filter(o?function(e){return o(e)%t===0}:function(e){return s.count(0,e)%t===0})}}return s}var r=n(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});r.every=function(t){t=Math.floor(t);if(!isFinite(t)||!(t>0))return null;if(!(t>1))return r;return n(function(e){e.setTime(Math.floor(e/t)*t)},function(e,i){e.setTime(+e+i*t)},function(e,i){return(i-e)/t})};var a=r.range;var o=1e3;var s=6e4;var u=36e5;var l=864e5;var c=6048e5;var h=n(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*o)},function(t,e){return(e-t)/o},function(t){return t.getUTCSeconds()});var f=h.range;var d=n(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*o)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getMinutes()});var p=d.range;var v=n(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*o-t.getMinutes()*s)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getHours()});var g=v.range;var m=n(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/l},function(t){return t.getDate()-1});var y=m.range;function _(t){return n(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7);e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e*7)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/c})}var b=_(0);var w=_(1);var O=_(2);var x=_(3);var S=_(4);var C=_(5);var T=_(6);var E=b.range;var M=w.range;var j=O.range;var k=x.range;var R=S.range;var A=C.range;var I=T.range;var P=n(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});var D=P.range;var N=n(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});N.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:n(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t);e.setMonth(0,1);e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i*t)})};var $=N.range;var L=n(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getUTCMinutes()});var F=L.range;var G=n(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCHours()});var U=G.range;var H=n(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/l},function(t){return t.getUTCDate()-1});var W=H.range;function Y(t){return n(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7);e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e*7)},function(t,e){return(e-t)/c})}var z=Y(0);var V=Y(1);var B=Y(2);var q=Y(3);var K=Y(4);var X=Y(5);var Z=Y(6);var Q=z.range;var J=V.range;var tt=B.range;var et=q.range;var it=K.range;var nt=X.range;var rt=Z.range;var at=n(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});var ot=at.range;var st=n(function(t){t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});st.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:n(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t);e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*t)})};var ut=st.range;t.timeDay=m;t.timeDays=y;t.timeFriday=C;t.timeFridays=A;t.timeHour=v;t.timeHours=g;t.timeInterval=n;t.timeMillisecond=r;t.timeMilliseconds=a;t.timeMinute=d;t.timeMinutes=p;t.timeMonday=w;t.timeMondays=M;t.timeMonth=P;t.timeMonths=D;t.timeSaturday=T;t.timeSaturdays=I;t.timeSecond=h;t.timeSeconds=f;t.timeSunday=b;t.timeSundays=E;t.timeThursday=S;t.timeThursdays=R;t.timeTuesday=O;t.timeTuesdays=j;t.timeWednesday=x;t.timeWednesdays=k;t.timeWeek=b;t.timeWeeks=E;t.timeYear=N;t.timeYears=$;t.utcDay=H;t.utcDays=W;t.utcFriday=X;t.utcFridays=nt;t.utcHour=G;t.utcHours=U;t.utcMillisecond=r;t.utcMilliseconds=a;t.utcMinute=L;t.utcMinutes=F;t.utcMonday=V;t.utcMondays=J;t.utcMonth=at;t.utcMonths=ot;t.utcSaturday=Z;t.utcSaturdays=rt;t.utcSecond=h;t.utcSeconds=f;t.utcSunday=z;t.utcSundays=Q;t.utcThursday=K;t.utcThursdays=it;t.utcTuesday=B;t.utcTuesdays=tt;t.utcWednesday=q;t.utcWednesdays=et;t.utcWeek=z;t.utcWeeks=Q;t.utcYear=st;t.utcYears=ut;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";var n=i(12);var r=i(128);var a=angular.module("ngeoAngularFilters",[]);a.Scalify=function(t){var e=t("number");var i=function t(i){var n=e(i,0);return n?"1 : "+n:""};i["$stateful"]=true;return i};a.Scalify.$inject=["$filter"];a.filter("ngeoScalify",a.Scalify);a.Number=function(t){var e=t.NUMBER_FORMATS;var i=function t(i,n){var r=e.GROUP_SEP;var a=e.DECIMAL_SEP;if(n===undefined){n=3}if(i===Infinity){return"∞"}else if(i===-Infinity){return"-∞"}else if(i===0){return"0"}var o=i<0;i=Math.abs(i);var s=n-Math.floor(Math.log(i)/Math.log(10))-1;var u=Math.pow(10,s);i=Math.round(i*u);var l="";var c=Math.floor(i/u);if(s>0){var h=""+i;while(h.length<s){h="0"+h}l=h.substring(h.length-s);while(l[l.length-1]==="0"){l=l.substring(0,l.length-1)}}var f=[];var d=""+c;while(d.length>3){var p=d.length-3;f.unshift(d.substring(p));d=d.substring(0,p)}f.unshift(d);return(o?"-":"")+f.join(r)+(l.length===0?"":a+l)};return i};a.Number.$inject=["$locale"];a.filter("ngeoNumber",a.Number);a.UnitPrefix=function(t){var e=t("ngeoNumber");var i=["","k","M","G","T","P"];var n=["","Ki","Mi","Gi","Ti","Pi"];var r=function t(r,a,o,s){if(a===undefined){a=""}var u=1e3;var l=i;if(o==="square"){u=1e6}else if(o==="binary"){u=1024;l=n}var c=0;var h=l.length-1;while(r>=u&&c<h){r=r/u;c++}var f=l[c]+a;var d=f.length==0?"":" ";return e(r,s)+d+f};return r};a.UnitPrefix.$inject=["$filter"];a.filter("ngeoUnitPrefix",a.UnitPrefix);a.NumberCoordinates=function(t){var e=function e(i,n,r){var a=r?r:"{x} {y}";var o=i[0];var s=i[1];var u=parseInt(n,10)|0;o=t("number")(o,u);s=t("number")(s,u);return a.replace("{x}",o).replace("{y}",s)};return e};a.NumberCoordinates.$inject=["$filter"];a.filter("ngeoNumberCoordinates",a.NumberCoordinates);a.DMSCoordinates=function(){var t=function t(e,i,a){var o=n["d"](e+180,360)-180;var s=Math.abs(3600*o);var u=Math.floor(s/3600);var l=Math.floor(s/60%60);var c=s%60;return u+"° "+r["b"](l,2)+"′ "+r["b"](c,2,a)+"″ "+i.charAt(o<0?1:0)};var e=function e(i,n,r){var a=parseInt(n,10)|0;var o=r?r:"{x} {y}";var s=t(i[0],"EW",a);var u=t(i[1],"NS",a);return o.replace("{x}",s).replace("{y}",u)};return e};a.filter("ngeoDMSCoordinates",a.DMSCoordinates);a.trustHtmlFilter=function(t){return function(e){if(e!==undefined&&e!==null){return t.trustAsHtml(""+e)}else{return t.trustAsHtml("&nbsp;")}}};a.trustHtmlFilter.$inject=["$sce"];a.filter("ngeoTrustHtml",a.trustHtmlFilter);a.Duration=function(t){var e=Object.freeze({SECONDS:Symbol("seconds"),MINUTES:Symbol("minutes"),HOURS:Symbol("hours"),DAYS:Symbol("days")});var i=function i(n,r){var a="";switch(r){case e.SECONDS:a=t.getPlural(n,"second","seconds");break;case e.MINUTES:a=t.getPlural(n,"minute","minutes");break;case e.HOURS:a=t.getPlural(n,"hour","hours");break;case e.DAYS:a=t.getPlural(n,"day","days");break;default:break}return n+" "+a};var n=function t(n){n=Math.round(n);var r=void 0;if(n<60){return i(n,e.SECONDS)}var a=n%60;n=Math.floor(n/60);if(n<60){r=i(n,e.MINUTES);if(a>0){r+=" "+i(a,e.SECONDS)}return r}a=n%60;n=Math.floor(n/60);if(n<24){r=i(n,e.HOURS);if(a>0){r+=" "+i(a,e.MINUTES)}return r}a=n%24;n=Math.floor(n/24);r=i(n,e.DAYS);if(a>0){r+=" "+i(a,e.HOURS)}return r};return n};a.Duration.$inject=["gettextCatalog"];a.filter("ngeoDuration",a.Duration);var o=function t(){return function(t){if(t){return t.replace(/<!\[CDATA\[(.*)\]\]>/,"$1")}}};a.filter("removeCDATA",o);e["a"]=a},function(t,e,i){"use strict";var n=i(1);var r=i(9);var a=i(4);var o=i(21);var s=i(8);var u=i(109);var l=i(29);var c=i(68);var h=i(229);function f(t,e,i,n){var r=[];var o=Object(a["j"])();for(var s=0,u=i.length;s<u;++s){var l=i[s];o=Object(a["o"])(t,e,l[0],n);r.push((o[0]+o[2])/2,(o[1]+o[3])/2);e=l[l.length-1]}return r}var d=i(130);var p=i(152);var v=i(121);var g=i(125);var m=i(296);var y=i(192);var _=i(199);var b=i(143);var w=function t(e,i){c["a"].call(this);this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(e,i)};Object(n["d"])(w,c["a"]);w.prototype.appendPolygon=function(t){var e=void 0;if(!this.flatCoordinates){this.flatCoordinates=t.getFlatCoordinates().slice();e=t.getEnds().slice();this.endss_.push()}else{var i=this.flatCoordinates.length;Object(r["c"])(this.flatCoordinates,t.getFlatCoordinates());e=t.getEnds().slice();for(var n=0,a=e.length;n<a;++n){e[n]+=i}}this.endss_.push(e);this.changed()};w.prototype.clone=function(){var t=new w(null);var e=this.endss_.length;var i=new Array(e);for(var n=0;n<e;++n){i[n]=this.endss_[n].slice()}t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),i);return t};w.prototype.closestPointXY=function(t,e,i,n){if(n<Object(a["e"])(this.getExtent(),t,e)){return n}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(d["f"])(this.flatCoordinates,0,this.endss_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(d["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,true,t,e,i,n)};w.prototype.containsXY=function(t,e){return Object(p["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)};w.prototype.getArea=function(){return Object(h["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};w.prototype.getCoordinates=function(t){var e=void 0;if(t!==undefined){e=this.getOrientedFlatCoordinates().slice();Object(_["d"])(e,0,this.endss_,this.stride,t)}else{e=this.flatCoordinates}return Object(g["c"])(e,0,this.endss_,this.stride)};w.prototype.getEndss=function(){return this.endss_};w.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=f(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(m["b"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};w.prototype.getInteriorPoints=function(){var t=new u["a"](null);t.setFlatCoordinates(o["a"].XYM,this.getFlatInteriorPoints().slice());return t};w.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;if(Object(_["b"])(t,0,this.endss_,this.stride)){this.orientedFlatCoordinates_=t}else{this.orientedFlatCoordinates_=t.slice();this.orientedFlatCoordinates_.length=Object(_["d"])(this.orientedFlatCoordinates_,0,this.endss_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};w.prototype.getSimplifiedGeometryInternal=function(t){var e=[];var i=[];e.length=Object(b["d"])(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i);var n=new w(null);n.setFlatCoordinates(o["a"].XY,e,i);return n};w.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t){return null}var e=void 0;if(t===0){e=0}else{var i=this.endss_[t-1];e=i[i.length-1]}var n=this.endss_[t].slice();var r=n[n.length-1];if(e!==0){for(var a=0,o=n.length;a<o;++a){n[a]-=e}}var s=new l["b"](null);s.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e,r),n);return s};w.prototype.getPolygons=function(){var t=this.layout;var e=this.flatCoordinates;var i=this.endss_;var n=[];var r=0;for(var a=0,o=i.length;a<o;++a){var s=i[a].slice();var u=s[s.length-1];if(r!==0){for(var c=0,h=s.length;c<h;++c){s[c]-=r}}var f=new l["b"](null);f.setFlatCoordinates(t,e.slice(r,u),s);n.push(f);r=u}return n};w.prototype.getType=function(){return s["a"].MULTI_POLYGON};w.prototype.intersectsExtent=function(t){return Object(y["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)};w.prototype.setCoordinates=function(t,e){if(!t){this.setFlatCoordinates(o["a"].XY,null,this.endss_)}else{this.setLayout(e,t,3);if(!this.flatCoordinates){this.flatCoordinates=[]}var i=Object(v["d"])(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0){this.flatCoordinates.length=0}else{var n=i[i.length-1];this.flatCoordinates.length=n.length===0?0:n[n.length-1]}this.changed()}};w.prototype.setFlatCoordinates=function(t,e,i){this.setFlatCoordinatesInternal(t,e);this.endss_=i;this.changed()};w.prototype.setPolygons=function(t){var e=this.getLayout();var i=[];var n=[];for(var a=0,o=t.length;a<o;++a){var s=t[a];if(a===0){e=s.getLayout()}var u=i.length;var l=s.getEnds();for(var c=0,h=l.length;c<h;++c){l[c]+=u}Object(r["c"])(i,s.getFlatCoordinates());n.push(l)}this.setFlatCoordinates(e,i,n)};var O=e["a"]=w},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t){return t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}},function(t,e,i){"use strict";var n=i(1);var r=i(9);var a=i(4);var o=i(21);var s=i(8);var u=i(32);var l=i(68);var c=i(121);var h=i(125);var f=i(12);var d=function t(e,i){l["a"].call(this);this.setCoordinates(e,i)};Object(n["d"])(d,l["a"]);d.prototype.appendPoint=function(t){if(!this.flatCoordinates){this.flatCoordinates=t.getFlatCoordinates().slice()}else{Object(r["c"])(this.flatCoordinates,t.getFlatCoordinates())}this.changed()};d.prototype.clone=function(){var t=new d(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return t};d.prototype.closestPointXY=function(t,e,i,n){if(n<Object(a["e"])(this.getExtent(),t,e)){return n}var r=this.flatCoordinates;var o=this.stride;for(var s=0,u=r.length;s<u;s+=o){var l=Object(f["f"])(t,e,r[s],r[s+1]);if(l<n){n=l;for(var c=0;c<o;++c){i[c]=r[s+c]}i.length=o}}return n};d.prototype.getCoordinates=function(){return Object(h["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getPoint=function(t){var e=!this.flatCoordinates?0:this.flatCoordinates.length/this.stride;if(t<0||e<=t){return null}var i=new u["a"](null);i.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride));return i};d.prototype.getPoints=function(){var t=this.flatCoordinates;var e=this.layout;var i=this.stride;var n=[];for(var r=0,a=t.length;r<a;r+=i){var o=new u["a"](null);o.setFlatCoordinates(e,t.slice(r,r+i));n.push(o)}return n};d.prototype.getType=function(){return s["a"].MULTI_POINT};d.prototype.intersectsExtent=function(t){var e=this.flatCoordinates;var i=this.stride;for(var n=0,r=e.length;n<r;n+=i){var o=e[n];var s=e[n+1];if(Object(a["h"])(t,o,s)){return true}}return false};d.prototype.setCoordinates=function(t,e){if(!t){this.setFlatCoordinates(o["a"].XY,null)}else{this.setLayout(e,t,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=Object(c["b"])(this.flatCoordinates,0,t,this.stride);this.changed()}};d.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e);this.changed()};e["a"]=d},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"d",function(){return r});i.d(e,"c",function(){return a});i.d(e,"b",function(){return o});i.d(e,"e",function(){return s});i.d(e,"f",function(){return l});function n(t,e,i,n){if(n!==undefined){n[0]=t;n[1]=e;n[2]=i;return n}else{return[t,e,i]}}function r(t,e,i){return t+"/"+e+"/"+i}function a(t){return r(t[0],t[1],t[2])}function o(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function u(t){var e=t[0];var i=new Array(e);var n=1<<e-1;var r=void 0,a=void 0;for(r=0;r<e;++r){a=48;if(t[1]&n){a+=1}if(t[2]&n){a+=2}i[r]=String.fromCharCode(a);n>>=1}return i.join("")}function l(t,e){var i=t[0];var n=t[1];var r=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom()){return false}var a=e.getExtent();var o=void 0;if(!a){o=e.getFullTileRange(i)}else{o=e.getTileRangeForExtentAndZ(a,i)}if(!o){return true}else{return o.containsXY(n,r)}}},function(t,e,i){"use strict";var n=i(1);var r=i(243);var a=function t(e,i,n,a,o){r["a"].call(this,e,i,n.originalEvent,a,o);this.pointerEvent=n};Object(n["d"])(a,r["a"]);e["a"]=a},function(t,e,i){"use strict";i.d(e,"b",function(){return n});i.d(e,"a",function(){return r});var n=.5;var r=true},function(t,e,i){"use strict";e["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(51)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.ui=t.ui||{};return t.ui.version="1.12.1"})},function(t,e,i){"use strict";i.d(e,"a",function(){return f});i.d(e,"d",function(){return d});i.d(e,"c",function(){return p});i.d(e,"b",function(){return v});var n=i(93);var r=i(25);var a=i(45);var o=i(66);var s=i(6);var u=i(52);var l=i(18);var c=i(16);var h=i(39);Object(r["a"])("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t});Object(r["a"])(0,["YY",2],0,function(){return this.year()%100});Object(r["a"])(0,["YYYY",4],0,"year");Object(r["a"])(0,["YYYYY",5],0,"year");Object(r["a"])(0,["YYYYYY",6,true],0,"year");Object(a["a"])("year","y");Object(o["a"])("year",1);Object(s["a"])("Y",s["p"]);Object(s["a"])("YY",s["d"],s["h"]);Object(s["a"])("YYYY",s["f"],s["k"]);Object(s["a"])("YYYYY",s["g"],s["m"]);Object(s["a"])("YYYYYY",s["g"],s["m"]);Object(u["a"])(["YYYYY","YYYYYY"],c["i"]);Object(u["a"])("YYYY",function(t,e){e[c["i"]]=t.length===2?l["a"].parseTwoDigitYear(t):Object(h["a"])(t)});Object(u["a"])("YY",function(t,e){e[c["i"]]=l["a"].parseTwoDigitYear(t)});Object(u["a"])("Y",function(t,e){e[c["i"]]=parseInt(t,10)});function f(t){return d(t)?366:365}function d(t){return t%4===0&&t%100!==0||t%400===0}l["a"].parseTwoDigitYear=function(t){return Object(h["a"])(t)+(Object(h["a"])(t)>68?1900:2e3)};var p=Object(n["b"])("FullYear",true);function v(){return d(this.year())}},function(t,e,i){"use strict";var n=i(1);var r=i(173);var a=i(9);var o=i(4);var s=i(11);var u=i(7);var l=i(155);var c={KVP:"KVP",REST:"REST"};var h=i(186);var f=i(144);i.d(e,"b",function(){return p});var d=function t(e){this.version_=e.version!==undefined?e.version:"1.0.0";this.format_=e.format!==undefined?e.format:"image/jpeg";this.dimensions_=e.dimensions!==undefined?e.dimensions:{};this.layer_=e.layer;this.matrixSet_=e.matrixSet;this.style_=e.style;var i=e.urls;if(i===undefined&&e.url!==undefined){i=Object(r["c"])(e.url)}this.requestEncoding_=e.requestEncoding!==undefined?e.requestEncoding:c.KVP;var n=this.requestEncoding_;var a=e.tileGrid;var o={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};if(n==c.KVP){Object(s["a"])(o,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_})}var u=this.dimensions_;this.createFromWMTSTemplate_=function(t){t=n==c.KVP?Object(f["a"])(t,o):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in o?o[e.toLowerCase()]:t});return function(e,i,r){if(!e){return undefined}else{var o={TileMatrix:a.getMatrixId(e[0]),TileCol:e[1],TileRow:-e[2]-1};Object(s["a"])(o,u);var l=t;if(n==c.KVP){l=Object(f["a"])(l,o)}else{l=l.replace(/\{(\w+?)\}/g,function(t,e){return o[e]})}return l}}};var h=i&&i.length>0?Object(r["b"])(i.map(this.createFromWMTSTemplate_)):r["d"];l["a"].call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:a,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:h,urls:i,wrapX:e.wrapX!==undefined?e.wrapX:false,transition:e.transition});this.setKey(this.getKeyForDimensions_())};Object(n["d"])(d,l["a"]);d.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):Object(r["b"])(t.map(this.createFromWMTSTemplate_.bind(this))),e)};d.prototype.getDimensions=function(){return this.dimensions_};d.prototype.getFormat=function(){return this.format_};d.prototype.getLayer=function(){return this.layer_};d.prototype.getMatrixSet=function(){return this.matrixSet_};d.prototype.getRequestEncoding=function(){return this.requestEncoding_};d.prototype.getStyle=function(){return this.style_};d.prototype.getVersion=function(){return this.version_};d.prototype.getKeyForDimensions_=function(){var t=0;var e=[];for(var i in this.dimensions_){e[t++]=i+"-"+this.dimensions_[i]}return e.join("/")};d.prototype.updateDimensions=function(t){Object(s["a"])(this.dimensions_,t);this.setKey(this.getKeyForDimensions_())};function p(t,e){var i=t["Contents"]["Layer"];var n=Object(a["d"])(i,function(t,i,n){return t["Identifier"]==e["layer"]});if(n===null){return null}var r=t["Contents"]["TileMatrixSet"];var s=void 0;if(n["TileMatrixSetLink"].length>1){if("projection"in e){s=Object(a["e"])(n["TileMatrixSetLink"],function(t,i,n){var o=Object(a["d"])(r,function(e){return e["Identifier"]==t["TileMatrixSet"]});var s=o["SupportedCRS"];var l=Object(u["h"])(s.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(u["h"])(s);var c=Object(u["h"])(e["projection"]);if(l&&c){return Object(u["f"])(l,c)}else{return s==e["projection"]}})}else{s=Object(a["e"])(n["TileMatrixSetLink"],function(t,i,n){return t["TileMatrixSet"]==e["matrixSet"]})}}else{s=0}if(s<0){s=0}var l=n["TileMatrixSetLink"][s]["TileMatrixSet"];var f=n["TileMatrixSetLink"][s]["TileMatrixSetLimits"];var d=n["Format"][0];if("format"in e){d=e["format"]}s=Object(a["e"])(n["Style"],function(t,i,n){if("style"in e){return t["Title"]==e["style"]}else{return t["isDefault"]}});if(s<0){s=0}var p=n["Style"][s]["Identifier"];var v={};if("Dimension"in n){n["Dimension"].forEach(function(t,e,i){var n=t["Identifier"];var r=t["Default"];if(r===undefined){r=t["Value"][0]}v[n]=r})}var g=t["Contents"]["TileMatrixSet"];var m=Object(a["d"])(g,function(t,e,i){return t["Identifier"]==l});var y=void 0;var _=m["SupportedCRS"];if(_){y=Object(u["h"])(_.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(u["h"])(_)}if("projection"in e){var b=Object(u["h"])(e["projection"]);if(b){if(!y||Object(u["f"])(b,y)){y=b}}}var w=n["WGS84BoundingBox"];var O=void 0,x=void 0;if(w!==undefined){var S=Object(u["h"])("EPSG:4326").getExtent();x=w[0]==S[0]&&w[2]==S[2];O=Object(u["o"])(w,"EPSG:4326",y);var C=y.getExtent();if(C){if(!Object(o["g"])(C,O)){O=undefined}}}var T=Object(h["a"])(m,O,f);var E=[];var M=e["requestEncoding"];M=M!==undefined?M:"";if("OperationsMetadata"in t&&"GetTile"in t["OperationsMetadata"]){var j=t["OperationsMetadata"]["GetTile"]["DCP"]["HTTP"]["Get"];for(var k=0,R=j.length;k<R;++k){if(j[k]["Constraint"]){var A=Object(a["d"])(j[k]["Constraint"],function(t){return t["name"]=="GetEncoding"});var I=A["AllowedValues"]["Value"];if(M===""){M=I[0]}if(M===c.KVP){if(Object(a["f"])(I,c.KVP)){E.push(j[k]["href"])}}else{break}}else if(j[k]["href"]){M=c.KVP;E.push(j[k]["href"])}}}if(E.length===0){M=c.REST;n["ResourceURL"].forEach(function(t){if(t["resourceType"]==="tile"){d=t["format"];E.push(t["template"])}})}return{urls:E,layer:e["layer"],matrixSet:l,format:d,projection:y,requestEncoding:M,tileGrid:T,style:p,dimensions:v,wrapX:x,crossOrigin:e["crossOrigin"]}}var v=e["a"]=d},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t){if(t<0){return Math.ceil(t)||0}else{return Math.floor(t)}}},function(t,e,i){"use strict";var n=i(2);var r=i(86);var a=i(65);var o=i(1);var s=i(44);var u=i(7);var l=i(150);var c=i(197);var h=i(3);var f=i(36);var d=i(38);var p=i(34);var v=i(41);var g=i(42);var m=i(13);var y=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};f["a"].call(this,{handleEvent:t.handleEvent_});this.helpTooltipElement_=null;this.helpTooltipOverlay_=null;this.measureTooltipElement_=null;this.measureTooltipOverlay_=null;this.measureTooltipOverlayCoord_=null;this.sketchFeature=null;this.continueMsg=null;this.decimals=e.decimals;this.precision=e.precision;this.displayHelpTooltip_=e.displayHelpTooltip!==undefined?e.displayHelpTooltip:true;this.startMsg;if(e.startMsg!==undefined){this.startMsg=e.startMsg}else{this.startMsg=document.createElement("span");this.startMsg.textContent="Click to start drawing."}this.changeEventKey_=null;this.postcomposeEventKey_=null;var i=e.style!==undefined?e.style:[new m["c"]({fill:new v["a"]({color:"rgba(255, 255, 255, 0.2)"})}),new m["c"]({stroke:new g["a"]({color:"white",width:5})}),new m["c"]({stroke:new g["a"]({color:"#ffcc33",width:3})})];this.vectorLayer_=new d["a"]({source:new p["b"],style:i});this.drawInteraction_=this.createDrawInteraction(e.sketchStyle,this.vectorLayer_.getSource());this.shouldHandleDrawInteractionActiveChange_=true;h["a"](this.drawInteraction_,"change:active",this.handleDrawInteractionActiveChange_,this);h["a"](this.drawInteraction_,"drawstart",this.onDrawStart_,this);h["a"](this.drawInteraction_,"drawend",this.onDrawEnd_,this);h["a"](this,"change:active",this.updateState_,this)};o["d"](y,f["a"]);y.getFormattedArea=function(t,e,i,n){var r=t.clone().transform(e,"EPSG:4326");var a=Math.abs(c["a"](r,{projection:"EPSG:4326"}));return n(a,"m²","square",i)};y.getFormattedCircleArea=function(t,e,i){var n=Math.PI*Math.pow(t.getRadius(),2);return i(n,"m²","square",e)};y.getFormattedLength=function(t,e,i,n){var r=0;var a=t.getCoordinates();for(var o=0,s=a.length-1;o<s;++o){var l=u["n"](a[o],e,"EPSG:4326");var h=u["n"](a[o+1],e,"EPSG:4326");r+=c["b"](l,h)}return n(r,"m","unit",i)};y.getFormattedPoint=function(t,e,i,n){return i(t.getCoordinates(),e,n)};y.handleEvent_=function(t){if(t.type!="pointermove"||t.dragging){return true}var e=this.sketchFeature===null?this.startMsg:this.continueMsg;if(this.displayHelpTooltip_){s["d"](this.helpTooltipElement_);this.helpTooltipElement_.appendChild(e);this.helpTooltipOverlay_.setPosition(t.coordinate)}return true};y.prototype.getDrawInteraction=function(){return this.drawInteraction_};y.prototype.createDrawInteraction=function(t,e){};y.prototype.setMap=function(t){f["a"].prototype.setMap.call(this,t);this.vectorLayer_.setMap(t);var e=this.drawInteraction_.getMap();if(e!==null){e.removeInteraction(this.drawInteraction_)}if(t!==null){t.addInteraction(this.drawInteraction_)}};y.prototype.onDrawStart_=function(t){var e=this;this.sketchFeature=t.feature||t.detail.feature;this.vectorLayer_.getSource().clear(true);this.createMeasureTooltip_();var i=this.sketchFeature.getGeometry();n["a"].assert(i!==undefined);this.changeEventKey_=h["a"](i,"change",function(){e.handleMeasure(function(t,i){if(i!==null){e.measureTooltipElement_.innerHTML=t;e.measureTooltipOverlayCoord_=i}})});this.cancelEventKey_=h["a"](document.body,"keydown",function(t){e.handleEscapeKeyDown_(t)});this.postcomposeEventKey_=h["a"](this.getMap(),"postcompose",function(){e.measureTooltipOverlay_.setPosition(e.measureTooltipOverlayCoord_)})};y.prototype.onDrawEnd_=function(t){this.measureTooltipElement_.classList.add("ngeo-tooltip-static");this.measureTooltipOverlay_.setOffset([0,-7]);var e=new r["a"]("measureend",{feature:this.sketchFeature});this.dispatchEvent(e);this.sketchFeature=null;this.unlistenerEvent_()};y.prototype.unlistenerEvent_=function(){if(this.changeEventKey_!==null&&this.postcomposeEventKey_!==null){h["e"](this.changeEventKey_);h["e"](this.postcomposeEventKey_);h["e"](this.cancelEventKey_);this.changeEventKey_=null;this.postcomposeEventKey_=null;this.cancelEventKey_=null}};y.prototype.createHelpTooltip_=function(){this.removeHelpTooltip_();if(this.displayHelpTooltip_){this.helpTooltipElement_=document.createElement("div");this.helpTooltipElement_.classList.add("tooltip");this.helpTooltipOverlay_=new l["a"]({element:this.helpTooltipElement_,offset:[15,0],positioning:"center-left"});this.getMap().addOverlay(this.helpTooltipOverlay_)}};y.prototype.removeHelpTooltip_=function(){if(this.displayHelpTooltip_){this.getMap().removeOverlay(this.helpTooltipOverlay_);if(this.helpTooltipElement_!==null){this.helpTooltipElement_.parentNode.removeChild(this.helpTooltipElement_)}this.helpTooltipElement_=null;this.helpTooltipOverlay_=null}};y.prototype.createMeasureTooltip_=function(){this.removeMeasureTooltip_();this.measureTooltipElement_=document.createElement("div");this.measureTooltipElement_.classList.add("tooltip");this.measureTooltipElement_.classList.add("ngeo-tooltip-measure");this.measureTooltipOverlay_=new l["a"]({element:this.measureTooltipElement_,offset:[0,-15],positioning:"bottom-center",stopEvent:false});this.getMap().addOverlay(this.measureTooltipOverlay_)};y.prototype.removeMeasureTooltip_=function(){if(this.measureTooltipElement_!==null){this.measureTooltipElement_.parentNode.removeChild(this.measureTooltipElement_);this.measureTooltipElement_=null;this.measureTooltipOverlay_=null;this.measureTooltipOverlayCoord_=null}};y.prototype.updateState_=function(){var t=this.getActive();this.shouldHandleDrawInteractionActiveChange_=false;this.drawInteraction_.setActive(t);this.shouldHandleDrawInteractionActiveChange_=true;if(!this.getMap()){return}if(t){if(!this.measureTooltipOverlay_){this.createMeasureTooltip_();this.createHelpTooltip_()}}else{this.vectorLayer_.getSource().clear(true);this.getMap().removeOverlay(this.measureTooltipOverlay_);this.removeMeasureTooltip_();this.removeHelpTooltip_();this.unlistenerEvent_()}};y.prototype.handleMeasure=function(t){};y.prototype.getTooltipElement=function(){return this.measureTooltipElement_};y.prototype.handleDrawInteractionActiveChange_=function(){if(this.shouldHandleDrawInteractionActiveChange_){this.setActive(this.drawInteraction_.getActive())}};y.prototype.handleEscapeKeyDown_=function(t){var e=t.keyCode===27;if(!a["a"].mousedown&&this.drawInteraction_.getActive()&&e){this.drawInteraction_.setActive(false);this.drawInteraction_.setActive(true)}};e["a"]=y},function(t,e,i){"use strict";e["a"]={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,i){"use strict";var n=angular.module("ngeoBtnComponent",[]);n.btnGroupComponent_=function(t){return{restrict:"A",controller:"ngeoBtnGroupController",link:function e(i,n,r,a){var o=t(r["ngeoBtnGroupActive"]).assign;if(o){i.$watch(function(){return a.buttons_.some(function(t){return t(i)===true})},function(t){o(i,t)})}}}};n.btnGroupComponent_.$inject=["$parse"];n.directive("ngeoBtnGroup",n.btnGroupComponent_);n.BtnGroupController=function(t){this.buttons_=[];this.scope_=t};n.BtnGroupController.$inject=["$scope"];n.BtnGroupController.prototype.activate=function(t){var e=this;this.buttons_.forEach(function(i,n){if(n!=t){i.assign(e.scope_,false)}})};n.BtnGroupController.prototype.addButton=function(t){this.buttons_.push(t);return this.buttons_.length-1};n.controller("ngeoBtnGroupController",n.BtnGroupController);n.btnComponent_=function(t){return{require:["?^ngeoBtnGroup","ngModel"],restrict:"A",link:function e(i,n,r,a){var o=a[0];var s=a[1];var u=-1;var l=t(r["ngModel"]);var c=l.assign;if(l(i)===undefined){c(i,false)}if(o!==null){u=o.addButton(l)}n.on("click",function(){i.$apply(function(){s.$setViewValue(!s.$viewValue);s.$render()})});s.$render=function(){if(s.$viewValue&&o!==null){o.activate(u)}n.toggleClass("active",s.$viewValue)}}}};n.btnComponent_.$inject=["$parse"];n.directive("ngeoBtn",n.btnComponent_);e["a"]=n},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});i.d(e,"c",function(){return a});i.d(e,"d",function(){return o});function n(t,e,i,n){for(var r=0,a=i.length;r<a;++r){t[e++]=i[r]}return e}function r(t,e,i,n){for(var r=0,a=i.length;r<a;++r){var o=i[r];for(var s=0;s<n;++s){t[e++]=o[s]}}return e}function a(t,e,i,n,a){var o=a?a:[];var s=0;for(var u=0,l=i.length;u<l;++u){var c=r(t,e,i[u],n);o[s++]=c;e=c}o.length=s;return o}function o(t,e,i,n,r){var o=r?r:[];var s=0;for(var u=0,l=i.length;u<l;++u){var c=a(t,e,i[u],n,o[s]);o[s++]=c;e=c[c.length-1]}o.length=s;return o}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(221);function r(t,e,i,r){return Object(n["a"])(t,e,i,r,true).utc()}},function(t,e,i){"use strict";var n=i(41);var r=i(290);var a="#333";var o=function t(e){var i=e||{};this.font_=i.font;this.rotation_=i.rotation;this.rotateWithView_=i.rotateWithView;this.scale_=i.scale;this.text_=i.text;this.textAlign_=i.textAlign;this.textBaseline_=i.textBaseline;this.fill_=i.fill!==undefined?i.fill:new n["a"]({color:a});this.maxAngle_=i.maxAngle!==undefined?i.maxAngle:Math.PI/4;this.placement_=i.placement!==undefined?i.placement:r["a"].POINT;this.overflow_=!!i.overflow;this.stroke_=i.stroke!==undefined?i.stroke:null;this.offsetX_=i.offsetX!==undefined?i.offsetX:0;this.offsetY_=i.offsetY!==undefined?i.offsetY:0;this.backgroundFill_=i.backgroundFill?i.backgroundFill:null;this.backgroundStroke_=i.backgroundStroke?i.backgroundStroke:null;this.padding_=i.padding===undefined?null:i.padding};o.prototype.clone=function(){return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():undefined,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():undefined})};o.prototype.getOverflow=function(){return this.overflow_};o.prototype.getFont=function(){return this.font_};o.prototype.getMaxAngle=function(){return this.maxAngle_};o.prototype.getPlacement=function(){return this.placement_};o.prototype.getOffsetX=function(){return this.offsetX_};o.prototype.getOffsetY=function(){return this.offsetY_};o.prototype.getFill=function(){return this.fill_};o.prototype.getRotateWithView=function(){return this.rotateWithView_};o.prototype.getRotation=function(){return this.rotation_};o.prototype.getScale=function(){return this.scale_};o.prototype.getStroke=function(){return this.stroke_};o.prototype.getText=function(){return this.text_};o.prototype.getTextAlign=function(){return this.textAlign_};o.prototype.getTextBaseline=function(){return this.textBaseline_};o.prototype.getBackgroundFill=function(){return this.backgroundFill_};o.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};o.prototype.getPadding=function(){return this.padding_};o.prototype.setOverflow=function(t){this.overflow_=t};o.prototype.setFont=function(t){this.font_=t};o.prototype.setMaxAngle=function(t){this.maxAngle_=t};o.prototype.setOffsetX=function(t){this.offsetX_=t};o.prototype.setOffsetY=function(t){this.offsetY_=t};o.prototype.setPlacement=function(t){this.placement_=t};o.prototype.setFill=function(t){this.fill_=t};o.prototype.setRotation=function(t){this.rotation_=t};o.prototype.setScale=function(t){this.scale_=t};o.prototype.setStroke=function(t){this.stroke_=t};o.prototype.setText=function(t){this.text_=t};o.prototype.setTextAlign=function(t){this.textAlign_=t};o.prototype.setTextBaseline=function(t){this.textBaseline_=t};o.prototype.setBackgroundFill=function(t){this.backgroundFill_=t};o.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t};o.prototype.setPadding=function(t){this.padding_=t};e["a"]=o},function(t,e,i){"use strict";e["a"]={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});i.d(e,"c",function(){return a});function n(t,e,i,n,r){var a=r!==undefined?r:[];var o=0;for(var s=e;s<i;s+=n){a[o++]=t.slice(s,s+n)}a.length=o;return a}function r(t,e,i,r,a){var o=a!==undefined?a:[];var s=0;for(var u=0,l=i.length;u<l;++u){var c=i[u];o[s++]=n(t,e,c,r,o[s]);e=c}o.length=s;return o}function a(t,e,i,n,a){var o=a!==undefined?a:[];var s=0;for(var u=0,l=i.length;u<l;++u){var c=i[u];o[s++]=r(t,e,c,n,o[s]);e=c[c.length-1]}o.length=s;return o}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}},function(t,e,i){"use strict";var n=i(0);var r=function t(){};r.prototype.read=function(t){if(Object(n["g"])(t)){return this.readFromDocument(t)}else if(Object(n["h"])(t)){return this.readFromNode(t)}else if(typeof t==="string"){var e=Object(n["s"])(t);return this.readFromDocument(e)}else{return null}};r.prototype.readFromDocument=function(t){};r.prototype.readFromNode=function(t){};e["a"]=r},function(t,e,i){"use strict";i.d(e,"b",function(){return n});i.d(e,"a",function(){return r});function n(t,e,i){var n=i!==undefined?t.toFixed(i):""+t;var r=n.indexOf(".");r=r===-1?n.length:r;return r>e?n:new Array(1+e-r).join("0")+n}function r(t,e){var i=(""+t).split(".");var n=(""+e).split(".");for(var r=0;r<Math.max(i.length,n.length);r++){var a=parseInt(i[r]||"0",10);var o=parseInt(n[r]||"0",10);if(a>o){return 1}if(o>a){return-1}}return 0}},function(t,e,i){"use strict";var n=i(1);var r=i(9);var a=i(69);var o=i(151);var s=i(0);var u=function t(){this.xmlSerializer_=new XMLSerializer;a["a"].call(this)};Object(n["d"])(u,a["a"]);u.prototype.getType=function(){return o["a"].XML};u.prototype.readFeature=function(t,e){if(Object(s["g"])(t)){return this.readFeatureFromDocument(t,e)}else if(Object(s["h"])(t)){return this.readFeatureFromNode(t,e)}else if(typeof t==="string"){var i=Object(s["s"])(t);return this.readFeatureFromDocument(i,e)}else{return null}};u.prototype.readFeatureFromDocument=function(t,e){var i=this.readFeaturesFromDocument(t,e);if(i.length>0){return i[0]}else{return null}};u.prototype.readFeatureFromNode=function(t,e){return null};u.prototype.readFeatures=function(t,e){if(Object(s["g"])(t)){return this.readFeaturesFromDocument(t,e)}else if(Object(s["h"])(t)){return this.readFeaturesFromNode(t,e)}else if(typeof t==="string"){var i=Object(s["s"])(t);return this.readFeaturesFromDocument(i,e)}else{return[]}};u.prototype.readFeaturesFromDocument=function(t,e){var i=[];for(var n=t.firstChild;n;n=n.nextSibling){if(n.nodeType==Node.ELEMENT_NODE){Object(r["c"])(i,this.readFeaturesFromNode(n,e))}}return i};u.prototype.readFeaturesFromNode=function(t,e){};u.prototype.readGeometry=function(t,e){if(Object(s["g"])(t)){return this.readGeometryFromDocument(t,e)}else if(Object(s["h"])(t)){return this.readGeometryFromNode(t,e)}else if(typeof t==="string"){var i=Object(s["s"])(t);return this.readGeometryFromDocument(i,e)}else{return null}};u.prototype.readGeometryFromDocument=function(t,e){return null};u.prototype.readGeometryFromNode=function(t,e){return null};u.prototype.readProjection=function(t){if(Object(s["g"])(t)){return this.readProjectionFromDocument(t)}else if(Object(s["h"])(t)){return this.readProjectionFromNode(t)}else if(typeof t==="string"){var e=Object(s["s"])(t);return this.readProjectionFromDocument(e)}else{return null}};u.prototype.readProjectionFromDocument=function(t){return this.defaultDataProjection};u.prototype.readProjectionFromNode=function(t){return this.defaultDataProjection};u.prototype.writeFeature=function(t,e){var i=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(i)};u.prototype.writeFeatureNode=function(t,e){return null};u.prototype.writeFeatures=function(t,e){var i=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(i)};u.prototype.writeFeaturesNode=function(t,e){return null};u.prototype.writeGeometry=function(t,e){var i=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(i)};u.prototype.writeGeometryNode=function(t,e){return null};e["a"]=u},function(t,e,i){"use strict";i.d(e,"e",function(){return a});i.d(e,"a",function(){return o});i.d(e,"f",function(){return s});i.d(e,"d",function(){return u});i.d(e,"b",function(){return l});i.d(e,"c",function(){return c});var n=i(12);function r(t,e,i,r,a,o,s){var u=t[e];var l=t[e+1];var c=t[i]-u;var h=t[i+1]-l;var f=void 0;if(c===0&&h===0){f=e}else{var d=((a-u)*c+(o-l)*h)/(c*c+h*h);if(d>1){f=i}else if(d>0){for(var p=0;p<r;++p){s[p]=Object(n["c"])(t[e+p],t[i+p],d)}s.length=r;return}else{f=e}}for(var v=0;v<r;++v){s[v]=t[f+v]}s.length=r}function a(t,e,i,r,a){var o=t[e];var s=t[e+1];for(e+=r;e<i;e+=r){var u=t[e];var l=t[e+1];var c=Object(n["f"])(o,s,u,l);if(c>a){a=c}o=u;s=l}return a}function o(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var u=i[o];r=a(t,e,u,n,r);e=u}return r}function s(t,e,i,n,r){for(var a=0,s=i.length;a<s;++a){var u=i[a];r=o(t,e,u,n,r);e=u[u.length-1]}return r}function u(t,e,i,a,o,s,u,l,c,h,f){if(e==i){return h}var d=void 0,p=void 0;if(o===0){p=Object(n["f"])(u,l,t[e],t[e+1]);if(p<h){for(d=0;d<a;++d){c[d]=t[e+d]}c.length=a;return p}else{return h}}var v=f?f:[NaN,NaN];var g=e+a;while(g<i){r(t,g-a,g,a,u,l,v);p=Object(n["f"])(u,l,v[0],v[1]);if(p<h){h=p;for(d=0;d<a;++d){c[d]=v[d]}c.length=a;g+=a}else{g+=a*Math.max((Math.sqrt(p)-Math.sqrt(h))/o|0,1)}}if(s){r(t,i-a,e,a,u,l,v);p=Object(n["f"])(u,l,v[0],v[1]);if(p<h){h=p;for(d=0;d<a;++d){c[d]=v[d]}c.length=a}}return h}function l(t,e,i,n,r,a,o,s,l,c,h){var f=h?h:[NaN,NaN];for(var d=0,p=i.length;d<p;++d){var v=i[d];c=u(t,e,v,n,r,a,o,s,l,c,f);e=v}return c}function c(t,e,i,n,r,a,o,s,u,c,h){var f=h?h:[NaN,NaN];for(var d=0,p=i.length;d<p;++d){var v=i[d];c=l(t,e,v,n,r,a,o,s,u,c,f);e=v[v.length-1]}return c}},function(t,e,i){"use strict";i.d(e,"c",function(){return n});i.d(e,"a",function(){return r});i.d(e,"b",function(){return a});i.d(e,"d",function(){return o});function n(t,e,i,n,r,a){var o=a?a:[];var s=0;for(var u=e;u<i;u+=n){var l=t[u];var c=t[u+1];o[s++]=r[0]*l+r[2]*c+r[4];o[s++]=r[1]*l+r[3]*c+r[5]}if(a&&o.length!=s){o.length=s}return o}function r(t,e,i,n,r,a,o){var s=o?o:[];var u=Math.cos(r);var l=Math.sin(r);var c=a[0];var h=a[1];var f=0;for(var d=e;d<i;d+=n){var p=t[d]-c;var v=t[d+1]-h;s[f++]=c+p*u-v*l;s[f++]=h+p*l+v*u;for(var g=d+2;g<d+n;++g){s[f++]=t[g]}}if(o&&s.length!=f){s.length=f}return s}function a(t,e,i,n,r,a,o,s){var u=s?s:[];var l=o[0];var c=o[1];var h=0;for(var f=e;f<i;f+=n){var d=t[f]-l;var p=t[f+1]-c;u[h++]=l+r*d;u[h++]=c+a*p;for(var v=f+2;v<f+n;++v){u[h++]=t[v]}}if(s&&u.length!=h){u.length=h}return u}function o(t,e,i,n,r,a,o){var s=o?o:[];var u=0;for(var l=e;l<i;l+=n){s[u++]=t[l]+r;s[u++]=t[l+1]+a;for(var c=l+2;c<l+n;++c){s[u++]=t[c]}}if(o&&s.length!=u){s.length=u}return s}},function(t,e,i){"use strict";var n=angular.module("ngeoDebounce",[]);n.factory_=function(t){return function(e,i,n){var r=null;return function(){for(var a=arguments.length,o=Array(a),s=0;s<a;s++){o[s]=arguments[s]}var u=this;var l=function t(){r=null;e.apply(u,o)};if(r!==null){t.cancel(r)}r=t(l,i,n)}}};n.factory_.$inject=["$timeout"];n.factory("ngeoDebounce",n.factory_);e["a"]=n},function(t,e,i){"use strict";var n=i(2);var r=function t(e){this.groups_={};this.scope_=e};r.$inject=["$rootScope"];r.$inject=["$rootScope"];r.prototype.registerTool=function(t,e,i){var r=this;var a=this.groups_[t];if(!a){a=this.groups_[t]=[]}var o=this.scope_.$watch(e.getActive,function(i,n){if(i===n){return}if(i){r.deactivateTools_(t,e)}else{r.activateDefault_(t)}});a.push({tool:e,defaultTool:i||false,unlisten:o});if(n["a"].ENABLE_ASSERTS){var s=0;a.forEach(function(t){if(t.defaultTool){s++}});n["a"].assert(s<=1,"more than one default tool in group "+t)}};r.prototype.unregisterTool=function(t,e){var i=this.groups_[t];if(i){for(var n=0;n<i.length;n++){if(i[n].tool==e){i[n].unlisten();i.splice(n,1);break}}}};r.prototype.unregisterGroup=function(t){var e=this.groups_[t];if(e){for(var i=0;i<e.length;i++){e[i].unlisten()}delete this.groups_[t]}};r.prototype.activateTool=function(t){t.setActive(true)};r.prototype.deactivateTool=function(t){t.setActive(false)};r.prototype.deactivateTools_=function(t,e){var i=this.groups_[t];for(var n=0;n<i.length;n++){if(e!=i[n].tool){i[n].tool.setActive(false)}}};r.prototype.activateDefault_=function(t){var e=this.groups_[t];var i=null;var n=false;for(var r=0;r<e.length;r++){n=n||e[r].tool.getActive();if(e[r].defaultTool){i=e[r].tool}}if(!n&&i!==null){i.setActive(true)}};r.module=angular.module("ngeoToolActivateMgr",[]);r.module.service("ngeoToolActivateMgr",r);e["a"]=r},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(82);function r(t){if(a(t)){return t}else{return Object(n["d"])(t)}}function a(t){return typeof t==="string"||t instanceof CanvasPattern||t instanceof CanvasGradient}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});i.d(e,"b",function(){return u});i.d(e,"c",function(){return l});var n=i(115);var r=i(60);var a=i(141);function o(t,e,i){var n=7+e-i,r=(7+Object(a["b"])(t,0,n).getUTCDay()-e)%7;return-r+n-1}function s(t,e,i,r,a){var s=(7+i-r)%7,u=o(t,r,a),l=1+7*(e-1)+s+u,c,h;if(l<=0){c=t-1;h=Object(n["a"])(c)+l}else if(l>Object(n["a"])(t)){c=t+1;h=l-Object(n["a"])(t)}else{c=t;h=l}return{year:c,dayOfYear:h}}function u(t,e,i){var n=o(t.year(),e,i),r=Math.floor((t.dayOfYear()-n-1)/7)+1,a,s;if(r<1){s=t.year()-1;a=r+l(s,e,i)}else if(r>l(t.year(),e,i)){a=r-l(t.year(),e,i);s=t.year()+1}else{s=t.year();a=r}return{week:a,year:s}}function l(t,e,i){var r=o(t,e,i),a=o(t+1,e,i);return(Object(n["a"])(t)-r+a)/7}},function(t,e,i){"use strict";e["a"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,i){"use strict";var n=i(138);var r=i(122);var a=i(47);var o;if(Array.prototype.some){o=Array.prototype.some}else{o=function(t){var e=Object(this);var i=e.length>>>0;for(var n=0;n<i;n++){if(n in e&&t.call(this,e[n],n,e)){return true}}return false}}i.d(e,"b",function(){return s});i.d(e,"a",function(){return u});function s(t){if(t._isValid==null){var e=Object(a["a"])(t);var i=o.call(e.parsedDateParts,function(t){return t!=null});var n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict){n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(t)){t._isValid=n}else{return n}}return t._isValid}function u(t){var e=Object(r["a"])(NaN);if(t!=null){Object(n["a"])(Object(a["a"])(e),t)}else{Object(a["a"])(e).userInvalidated=true}return e}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(63);function r(t,e){for(var i in e){if(Object(n["a"])(e,i)){t[i]=e[i]}}if(Object(n["a"])(e,"toString")){t.toString=e.toString}if(Object(n["a"])(e,"valueOf")){t.valueOf=e.valueOf}return t}},function(t,e,i){"use strict";var n={};n.obj=function(t){return t};n.supportsImageRenderingPixelatedResult_=undefined;n.imageRenderingValueResult_=undefined;n.supportsImageRenderingPixelated=function(){if(n.supportsImageRenderingPixelatedResult_===undefined){var t=document.createElement("canvas");t.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: pixelated;");var e=t.style["imageRendering"];n.supportsImageRenderingPixelatedResult_=!!e;if(n.supportsImageRenderingPixelatedResult_){n.imageRenderingValueResult_=e}}return n.supportsImageRenderingPixelatedResult_};n.imageRenderingValue=function(){n.supportsImageRenderingPixelated();return n.imageRenderingValueResult_||""};n.getSourceProjection=function(t){return t.get("olcs.projection")||t.getProjection()};e["a"]=n},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";function e(t,e,i){t.prototype=e.prototype=i;i.constructor=t}function i(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function n(){}var r=.7;var a=1/r;var o="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),h=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),f=new RegExp("^rgba\\("+[o,o,o,s]+"\\)$"),d=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),p=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),v=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$");var g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e(n,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:y,formatRgb:_,toString:_});function m(){return this.rgb().formatHex()}function y(){return k(this).formatHsl()}function _(){return this.rgb().formatRgb()}function b(t){var e,i;t=(t+"").trim().toLowerCase();return(e=l.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?w(e):i===3?new C(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?O(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?O(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=c.exec(t))?new C(e[1],e[2],e[3],1):(e=h.exec(t))?new C(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=f.exec(t))?O(e[1],e[2],e[3],e[4]):(e=d.exec(t))?O(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=p.exec(t))?j(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?j(e[1],e[2]/100,e[3]/100,e[4]):g.hasOwnProperty(t)?w(g[t]):t==="transparent"?new C(NaN,NaN,NaN,0):null}function w(t){return new C(t>>16&255,t>>8&255,t&255,1)}function O(t,e,i,n){if(n<=0)t=e=i=NaN;return new C(t,e,i,n)}function x(t){if(!(t instanceof n))t=b(t);if(!t)return new C;t=t.rgb();return new C(t.r,t.g,t.b,t.opacity)}function S(t,e,i,n){return arguments.length===1?x(t):new C(t,e,i,n==null?1:n)}function C(t,e,i,n){this.r=+t;this.g=+e;this.b=+i;this.opacity=+n}e(C,S,i(n,{brighter:function(t){t=t==null?a:Math.pow(a,t);return new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=t==null?r:Math.pow(r,t);return new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&(-.5<=this.g&&this.g<255.5)&&(-.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:T,formatHex:T,formatRgb:E,toString:E}));function T(){return"#"+M(this.r)+M(this.g)+M(this.b)}function E(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function M(t){t=Math.max(0,Math.min(255,Math.round(t)||0));return(t<16?"0":"")+t.toString(16)}function j(t,e,i,n){if(n<=0)t=e=i=NaN;else if(i<=0||i>=1)t=e=NaN;else if(e<=0)t=NaN;return new A(t,e,i,n)}function k(t){if(t instanceof A)return new A(t.h,t.s,t.l,t.opacity);if(!(t instanceof n))t=b(t);if(!t)return new A;if(t instanceof A)return t;t=t.rgb();var e=t.r/255,i=t.g/255,r=t.b/255,a=Math.min(e,i,r),o=Math.max(e,i,r),s=NaN,u=o-a,l=(o+a)/2;if(u){if(e===o)s=(i-r)/u+(i<r)*6;else if(i===o)s=(r-e)/u+2;else s=(e-i)/u+4;u/=l<.5?o+a:2-o-a;s*=60}else{u=l>0&&l<1?0:s}return new A(s,u,l,t.opacity)}function R(t,e,i,n){return arguments.length===1?k(t):new A(t,e,i,n==null?1:n)}function A(t,e,i,n){this.h=+t;this.s=+e;this.l=+i;this.opacity=+n}e(A,R,i(n,{brighter:function(t){t=t==null?a:Math.pow(a,t);return new A(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?r:Math.pow(r,t);return new A(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new C(I(t>=240?t-240:t+120,r,n),I(t,r,n),I(t<120?t+240:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl:function(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function I(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}var P=Math.PI/180;var D=180/Math.PI;var N=18,$=.96422,L=1,F=.82521,G=4/29,U=6/29,H=3*U*U,W=U*U*U;function Y(t){if(t instanceof B)return new B(t.l,t.a,t.b,t.opacity);if(t instanceof et)return it(t);if(!(t instanceof C))t=x(t);var e=Z(t.r),i=Z(t.g),n=Z(t.b),r=q((.2225045*e+.7168786*i+.0606169*n)/L),a,o;if(e===i&&i===n)a=o=r;else{a=q((.4360747*e+.3850649*i+.1430804*n)/$);o=q((.0139322*e+.0971045*i+.7141733*n)/F)}return new B(116*r-16,500*(a-r),200*(r-o),t.opacity)}function z(t,e){return new B(t,0,0,e==null?1:e)}function V(t,e,i,n){return arguments.length===1?Y(t):new B(t,e,i,n==null?1:n)}function B(t,e,i,n){this.l=+t;this.a=+e;this.b=+i;this.opacity=+n}e(B,V,i(n,{brighter:function(t){return new B(this.l+N*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new B(this.l-N*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;e=$*K(e);t=L*K(t);i=F*K(i);return new C(X(3.1338561*e-1.6168667*t-.4906146*i),X(-.9787684*e+1.9161415*t+.033454*i),X(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}}));function q(t){return t>W?Math.pow(t,1/3):t/H+G}function K(t){return t>U?t*t*t:H*(t-G)}function X(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Z(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Q(t){if(t instanceof et)return new et(t.h,t.c,t.l,t.opacity);if(!(t instanceof B))t=Y(t);if(t.a===0&&t.b===0)return new et(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*D;return new et(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function J(t,e,i,n){return arguments.length===1?Q(t):new et(i,e,t,n==null?1:n)}function tt(t,e,i,n){return arguments.length===1?Q(t):new et(t,e,i,n==null?1:n)}function et(t,e,i,n){this.h=+t;this.c=+e;this.l=+i;this.opacity=+n}function it(t){if(isNaN(t.h))return new B(t.l,0,0,t.opacity);var e=t.h*P;return new B(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}e(et,tt,i(n,{brighter:function(t){return new et(this.h,this.c,this.l+N*(t==null?1:t),this.opacity)},darker:function(t){return new et(this.h,this.c,this.l-N*(t==null?1:t),this.opacity)},rgb:function(){return it(this).rgb()}}));var nt=-.14861,rt=+1.78277,at=-.29227,ot=-.90649,st=+1.97294,ut=st*ot,lt=st*rt,ct=rt*at-ot*nt;function ht(t){if(t instanceof dt)return new dt(t.h,t.s,t.l,t.opacity);if(!(t instanceof C))t=x(t);var e=t.r/255,i=t.g/255,n=t.b/255,r=(ct*n+ut*e-lt*i)/(ct+ut-lt),a=n-r,o=(st*(i-r)-at*a)/ot,s=Math.sqrt(o*o+a*a)/(st*r*(1-r)),u=s?Math.atan2(o,a)*D-120:NaN;return new dt(u<0?u+360:u,s,r,t.opacity)}function ft(t,e,i,n){return arguments.length===1?ht(t):new dt(t,e,i,n==null?1:n)}function dt(t,e,i,n){this.h=+t;this.s=+e;this.l=+i;this.opacity=+n}e(dt,ft,i(n,{brighter:function(t){t=t==null?a:Math.pow(a,t);return new dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?r:Math.pow(r,t);return new dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*P,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),r=Math.sin(t);return new C(255*(e+i*(nt*n+rt*r)),255*(e+i*(at*n+ot*r)),255*(e+i*(st*n)),this.opacity)}}));t.color=b;t.cubehelix=ft;t.gray=z;t.hcl=tt;t.hsl=R;t.lab=V;t.lch=J;t.rgb=S;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});function n(t,e,i,n,r,a,o){var s=new Date(t,e,i,n,r,a,o);if(t<100&&t>=0&&isFinite(s.getFullYear())){s.setFullYear(t)}return s}function r(t){var e=new Date(Date.UTC.apply(null,arguments));if(t<100&&t>=0&&isFinite(e.getUTCFullYear())){e.setUTCFullYear(t)}return e}},function(t,e,i){"use strict";e["a"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});i.d(e,"b",function(){return o});i.d(e,"e",function(){return l});i.d(e,"c",function(){return h});i.d(e,"d",function(){return f});var n=i(12);function r(t,e,i,n,r,o,s){var l=s!==undefined?s:[];if(!o){i=u(t,e,i,n,r,l,0);t=l;e=0;n=2}l.length=a(t,e,i,n,r,l,0);return l}function a(t,e,i,r,a,o,s){var u=(i-e)/r;if(u<3){for(;e<i;e+=r){o[s++]=t[e];o[s++]=t[e+1]}return s}var l=new Array(u);l[0]=1;l[u-1]=1;var c=[e,i-r];var h=0;while(c.length>0){var f=c.pop();var d=c.pop();var p=0;var v=t[d];var g=t[d+1];var m=t[f];var y=t[f+1];for(var _=d+r;_<f;_+=r){var b=t[_];var w=t[_+1];var O=Object(n["g"])(b,w,v,g,m,y);if(O>p){h=_;p=O}}if(p>a){l[(h-e)/r]=1;if(d+r<h){c.push(d,h)}if(h+r<f){c.push(h,f)}}}for(var x=0;x<u;++x){if(l[x]){o[s++]=t[e+x*r];o[s++]=t[e+x*r+1]}}return s}function o(t,e,i,n,r,o,s,u){for(var l=0,c=i.length;l<c;++l){var h=i[l];s=a(t,e,h,n,r,o,s);u.push(s);e=h}return s}function s(t,e,i,n,r,a,s,u){for(var l=0,c=i.length;l<c;++l){var h=i[l];var f=[];s=o(t,e,h,n,r,a,s,f);u.push(f);e=h[h.length-1]}return s}function u(t,e,i,r,a,o,s){if(i<=e+r){for(;e<i;e+=r){o[s++]=t[e];o[s++]=t[e+1]}return s}var u=t[e];var l=t[e+1];o[s++]=u;o[s++]=l;var c=u;var h=l;for(e+=r;e<i;e+=r){c=t[e];h=t[e+1];if(Object(n["f"])(u,l,c,h)>a){o[s++]=c;o[s++]=h;u=c;l=h}}if(c!=u||h!=l){o[s++]=c;o[s++]=h}return s}function l(t,e){return e*Math.round(t/e)}function c(t,e,i,n,r,a,o){if(e==i){return o}var s=l(t[e],r);var u=l(t[e+1],r);e+=n;a[o++]=s;a[o++]=u;var c=void 0,h=void 0;do{c=l(t[e],r);h=l(t[e+1],r);e+=n;if(e==i){a[o++]=c;a[o++]=h;return o}}while(c==s&&h==u);while(e<i){var f=l(t[e],r);var d=l(t[e+1],r);e+=n;if(f==c&&d==h){continue}var p=c-s;var v=h-u;var g=f-s;var m=d-u;if(p*m==v*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(v<0&&m<v||v==m||v>0&&m>v)){c=f;h=d;continue}a[o++]=c;a[o++]=h;s=c;u=h;c=f;h=d}a[o++]=c;a[o++]=h;return o}function h(t,e,i,n,r,a,o,s){for(var u=0,l=i.length;u<l;++u){var h=i[u];o=c(t,e,h,n,r,a,o);s.push(o);e=h}return o}function f(t,e,i,n,r,a,o,s){for(var u=0,l=i.length;u<l;++u){var c=i[u];var f=[];o=h(t,e,c,n,r,a,o,f);s.push(f);e=c[c.length-1]}return o}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t,e){var i=[];Object.keys(e).forEach(function(t){if(e[t]!==null&&e[t]!==undefined){i.push(t+"="+encodeURIComponent(e[t]))}});var n=i.join("&");t=t.replace(/[?&]$/,"");t=t.indexOf("?")===-1?t+"?":t+"&";return t+n}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t){return typeof t==="number"||Object.prototype.toString.call(t)==="[object Number]"}},function(t,e,i){"use strict";var n=i(1);var r=i(4);var a=i(21);var o=i(8);var s=i(68);var u=i(121);var l=function t(e,i,n){s["a"].call(this);var r=i?i:0;this.setCenterAndRadius(e,r,n)};Object(n["d"])(l,s["a"]);l.prototype.clone=function(){var t=new l(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return t};l.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates;var a=t-r[0];var o=e-r[1];var s=a*a+o*o;if(s<n){if(s===0){for(var u=0;u<this.stride;++u){i[u]=r[u]}}else{var l=this.getRadius()/Math.sqrt(s);i[0]=r[0]+l*a;i[1]=r[1]+l*o;for(var c=2;c<this.stride;++c){i[c]=r[c]}}i.length=this.stride;return s}else{return n}};l.prototype.containsXY=function(t,e){var i=this.flatCoordinates;var n=t-i[0];var r=e-i[1];return n*n+r*r<=this.getRadiusSquared_()};l.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};l.prototype.computeExtent=function(t){var e=this.flatCoordinates;var i=e[this.stride]-e[0];return Object(r["k"])(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)};l.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};l.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0];var e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e};l.prototype.getType=function(){return o["a"].CIRCLE};l.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(r["F"])(t,e)){var i=this.getCenter();if(t[0]<=i[0]&&t[2]>=i[0]){return true}if(t[1]<=i[1]&&t[3]>=i[1]){return true}return Object(r["t"])(t,this.intersectsCoordinate,this)}return false};l.prototype.setCenter=function(t){var e=this.stride;var i=this.flatCoordinates[e]-this.flatCoordinates[0];var n=t.slice();n[e]=n[0]+i;for(var r=1;r<e;++r){n[e+r]=t[r]}this.setFlatCoordinates(this.layout,n)};l.prototype.setCenterAndRadius=function(t,e,i){if(!t){this.setFlatCoordinates(a["a"].XY,null)}else{this.setLayout(i,t,0);if(!this.flatCoordinates){this.flatCoordinates=[]}var n=this.flatCoordinates;var r=Object(u["a"])(n,0,t,this.stride);n[r++]=n[0]+e;for(var o=1,s=this.stride;o<s;++o){n[r++]=n[o]}n.length=r;this.changed()}};l.prototype.getCoordinates=function(){};l.prototype.setCoordinates=function(t,e){};l.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e);this.changed()};l.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t;this.changed()};l.prototype.transform;e["a"]=l},function(t,e,i){"use strict";var n=i(80);var r=function t(e){this.code_=e.code;this.units_=e.units;this.extent_=e.extent!==undefined?e.extent:null;this.worldExtent_=e.worldExtent!==undefined?e.worldExtent:null;this.axisOrientation_=e.axisOrientation!==undefined?e.axisOrientation:"enu";this.global_=e.global!==undefined?e.global:false;this.canWrapX_=!!(this.global_&&this.extent_);this.getPointResolutionFunc_=e.getPointResolution;this.defaultTileGrid_=null;this.metersPerUnit_=e.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_};r.prototype.getCode=function(){return this.code_};r.prototype.getExtent=function(){return this.extent_};r.prototype.getUnits=function(){return this.units_};r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n["a"][this.units_]};r.prototype.getWorldExtent=function(){return this.worldExtent_};r.prototype.getAxisOrientation=function(){return this.axisOrientation_};r.prototype.isGlobal=function(){return this.global_};r.prototype.setGlobal=function(t){this.global_=t;this.canWrapX_=!!(t&&this.extent_)};r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t};r.prototype.setExtent=function(t){this.extent_=t;this.canWrapX_=!!(this.global_&&t)};r.prototype.setWorldExtent=function(t){this.worldExtent_=t};r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t};r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};e["a"]=r},function(t,e,i){"use strict";e["a"]={PROPERTYCHANGE:"propertychange"}},function(t,e,i){"use strict";var n=function t(e,i){this.dispatcher=e;this.mapping_=i};n.prototype.getEvents=function(){return Object.keys(this.mapping_)};n.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};e["a"]=n},function(t,e,i){"use strict";var n=i(1);var r=i(170);var a=i(30);var o=i(113);var s=i(58);var u=i(44);var l=i(3);var c=i(4);var h={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};var f=function t(e){a["a"].call(this);this.options=e;this.id=e.id;this.insertFirst=e.insertFirst!==undefined?e.insertFirst:true;this.stopEvent=e.stopEvent!==undefined?e.stopEvent:true;this.element=document.createElement("DIV");this.element.className=e.className!==undefined?e.className:"ol-overlay-container "+s["d"];this.element.style.position="absolute";this.autoPan=e.autoPan!==undefined?e.autoPan:false;this.autoPanAnimation=e.autoPanAnimation||{};this.autoPanMargin=e.autoPanMargin!==undefined?e.autoPanMargin:20;this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:true};this.mapPostrenderListenerKey=null;Object(l["a"])(this,Object(a["b"])(h.ELEMENT),this.handleElementChanged,this);Object(l["a"])(this,Object(a["b"])(h.MAP),this.handleMapChanged,this);Object(l["a"])(this,Object(a["b"])(h.OFFSET),this.handleOffsetChanged,this);Object(l["a"])(this,Object(a["b"])(h.POSITION),this.handlePositionChanged,this);Object(l["a"])(this,Object(a["b"])(h.POSITIONING),this.handlePositioningChanged,this);if(e.element!==undefined){this.setElement(e.element)}this.setOffset(e.offset!==undefined?e.offset:[0,0]);this.setPositioning(e.positioning!==undefined?e.positioning:o["a"].TOP_LEFT);if(e.position!==undefined){this.setPosition(e.position)}};Object(n["d"])(f,a["a"]);f.prototype.getElement=function(){return this.get(h.ELEMENT)};f.prototype.getId=function(){return this.id};f.prototype.getMap=function(){return this.get(h.MAP)};f.prototype.getOffset=function(){return this.get(h.OFFSET)};f.prototype.getPosition=function(){return this.get(h.POSITION)};f.prototype.getPositioning=function(){return this.get(h.POSITIONING)};f.prototype.handleElementChanged=function(){Object(u["d"])(this.element);var t=this.getElement();if(t){this.element.appendChild(t)}};f.prototype.handleMapChanged=function(){if(this.mapPostrenderListenerKey){Object(u["e"])(this.element);Object(l["e"])(this.mapPostrenderListenerKey);this.mapPostrenderListenerKey=null}var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(l["a"])(t,r["a"].POSTRENDER,this.render,this);this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();if(this.insertFirst){e.insertBefore(this.element,e.childNodes[0]||null)}else{e.appendChild(this.element)}}};f.prototype.render=function(){this.updatePixelPosition()};f.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};f.prototype.handlePositionChanged=function(){this.updatePixelPosition();if(this.get(h.POSITION)&&this.autoPan){this.panIntoView()}};f.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};f.prototype.setElement=function(t){this.set(h.ELEMENT,t)};f.prototype.setMap=function(t){this.set(h.MAP,t)};f.prototype.setOffset=function(t){this.set(h.OFFSET,t)};f.prototype.setPosition=function(t){this.set(h.POSITION,t)};f.prototype.panIntoView=function(){var t=this.getMap();if(!t||!t.getTargetElement()){return}var e=this.getRect(t.getTargetElement(),t.getSize());var i=this.getElement();var n=this.getRect(i,[Object(u["c"])(i),Object(u["b"])(i)]);var r=this.autoPanMargin;if(!Object(c["g"])(e,n)){var a=n[0]-e[0];var o=e[2]-n[2];var s=n[1]-e[1];var l=e[3]-n[3];var h=[0,0];if(a<0){h[0]=a-r}else if(o<0){h[0]=Math.abs(o)+r}if(s<0){h[1]=s-r}else if(l<0){h[1]=Math.abs(l)+r}if(h[0]!==0||h[1]!==0){var f=t.getView().getCenter();var d=t.getPixelFromCoordinate(f);var p=[d[0]+h[0],d[1]+h[1]];t.getView().animate({center:t.getCoordinateFromPixel(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}};f.prototype.getRect=function(t,e){var i=t.getBoundingClientRect();var n=i.left+window.pageXOffset;var r=i.top+window.pageYOffset;return[n,r,n+e[0],r+e[1]]};f.prototype.setPositioning=function(t){this.set(h.POSITIONING,t)};f.prototype.setVisible=function(t){if(this.rendered.visible!==t){this.element.style.display=t?"":"none";this.rendered.visible=t}};f.prototype.updatePixelPosition=function(){var t=this.getMap();var e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(false);return}var i=t.getPixelFromCoordinate(e);var n=t.getSize();this.updateRenderedPosition(i,n)};f.prototype.updateRenderedPosition=function(t,e){var i=this.element.style;var n=this.getOffset();var r=this.getPositioning();this.setVisible(true);var a=n[0];var s=n[1];if(r==o["a"].BOTTOM_RIGHT||r==o["a"].CENTER_RIGHT||r==o["a"].TOP_RIGHT){if(this.rendered.left_!==""){this.rendered.left_=i.left=""}var u=Math.round(e[0]-t[0]-a)+"px";if(this.rendered.right_!=u){this.rendered.right_=i.right=u}}else{if(this.rendered.right_!==""){this.rendered.right_=i.right=""}if(r==o["a"].BOTTOM_CENTER||r==o["a"].CENTER_CENTER||r==o["a"].TOP_CENTER){a-=this.element.offsetWidth/2}var l=Math.round(t[0]+a)+"px";if(this.rendered.left_!=l){this.rendered.left_=i.left=l}}if(r==o["a"].BOTTOM_LEFT||r==o["a"].BOTTOM_CENTER||r==o["a"].BOTTOM_RIGHT){if(this.rendered.top_!==""){this.rendered.top_=i.top=""}var c=Math.round(e[1]-t[1]-s)+"px";if(this.rendered.bottom_!=c){this.rendered.bottom_=i.bottom=c}}else{if(this.rendered.bottom_!==""){this.rendered.bottom_=i.bottom=""}if(r==o["a"].CENTER_LEFT||r==o["a"].CENTER_CENTER||r==o["a"].CENTER_RIGHT){s-=this.element.offsetHeight/2}var h=Math.round(t[1]+s)+"px";if(this.rendered.top_!=h){this.rendered.top_=i.top=h}}};f.prototype.getOptions=function(){return this.options};e["a"]=f},function(t,e,i){"use strict";e["a"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i.d(e,"b",function(){return a});i.d(e,"c",function(){return o});i.d(e,"d",function(){return s});var n=i(4);function r(t,e,i,r,o){var s=Object(n["t"])(o,function(n){return!a(t,e,i,r,n[0],n[1])});return!s}function a(t,e,i,n,r,a){var o=0;var s=t[i-n];var u=t[i-n+1];for(;e<i;e+=n){var l=t[e];var c=t[e+1];if(u<=a){if(c>a&&(l-s)*(a-u)-(r-s)*(c-u)>0){o++}}else if(c<=a&&(l-s)*(a-u)-(r-s)*(c-u)<0){o--}s=l;u=c}return o!==0}function o(t,e,i,n,r,o){if(i.length===0){return false}if(!a(t,e,i[0],n,r,o)){return false}for(var s=1,u=i.length;s<u;++s){if(a(t,i[s-1],i[s],n,r,o)){return false}}return true}function s(t,e,i,n,r,a){if(i.length===0){return false}for(var s=0,u=i.length;s<u;++s){var l=i[s];if(o(t,e,l,n,r,a)){return true}e=l[l.length-1]}return false}},function(t,e,i){"use strict";i.d(e,"c",function(){return r});i.d(e,"d",function(){return a});i.d(e,"a",function(){return o});i.d(e,"b",function(){return s});var n=i(12);function r(t,e){if(t!==undefined){return 0}else{return undefined}}function a(t,e){if(t!==undefined){return t+e}else{return undefined}}function o(t){var e=2*Math.PI/t;return function(t,i){if(t!==undefined){t=Math.floor((t+i)/e+.5)*e;return t}else{return undefined}}}function s(t){var e=t||Object(n["i"])(5);return function(t,i){if(t!==undefined){if(Math.abs(t+i)<=e){return 0}else{return t+i}}else{return undefined}}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t,e,i){var n=""+Math.abs(t),r=e-n.length,a=t>=0;return(a?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}},function(t,e,i){"use strict";var n=i(112);var r=i(1);var a=i(28);var o=i(70);var s=i(85);var u=i(10);var l=function t(e,i,n){s["a"].call(this);var r=n?n:{};this.tileCoord=e;this.state=i;this.interimTile=null;this.key="";this.transition_=r.transition===undefined?250:r.transition;this.transitionStarts_={}};Object(r["d"])(l,s["a"]);l.prototype.changed=function(){this.dispatchEvent(u["a"].CHANGE)};l.prototype.getKey=function(){return this.key+"/"+this.tileCoord};l.prototype.getInterimTile=function(){if(!this.interimTile){return this}var t=this.interimTile;do{if(t.getState()==a["a"].LOADED){return t}t=t.interimTile}while(t);return this};l.prototype.refreshInterimChain=function(){if(!this.interimTile){return}var t=this.interimTile;var e=this;do{if(t.getState()==a["a"].LOADED){t.interimTile=null;break}else if(t.getState()==a["a"].LOADING){e=t}else if(t.getState()==a["a"].IDLE){e.interimTile=t.interimTile}else{e=t}t=e.interimTile}while(t)};l.prototype.getTileCoord=function(){return this.tileCoord};l.prototype.getState=function(){return this.state};l.prototype.setState=function(t){this.state=t;this.changed()};l.prototype.load=function(){};l.prototype.getAlpha=function(t,e){if(!this.transition_){return 1}var i=this.transitionStarts_[t];if(!i){i=e;this.transitionStarts_[t]=i}else if(i===-1){return 1}var n=e-i+1e3/60;if(n>=this.transition_){return 1}return Object(o["a"])(n/this.transition_)};l.prototype.inTransition=function(t){if(!this.transition_){return false}return this.transitionStarts_[t]!==-1};l.prototype.endTransition=function(t){if(this.transition_){this.transitionStarts_[t]=-1}};var c=l;var h=i(44);var f=i(3);var d=function t(e,i,n,r,a,o){c.call(this,e,i,o);this.crossOrigin_=r;this.src_=n;this.image_=new Image;if(r!==null){this.image_.crossOrigin=r}this.imageListenerKeys_=null;this.tileLoadFunction_=a};Object(r["d"])(d,c);d.prototype.disposeInternal=function(){if(this.state==a["a"].LOADING){this.unlistenImage_();this.image_=p()}if(this.interimTile){this.interimTile.dispose()}this.state=a["a"].ABORT;this.changed();c.prototype.disposeInternal.call(this)};d.prototype.getImage=function(){return this.image_};d.prototype.getKey=function(){return this.src_};d.prototype.handleImageError_=function(){this.state=a["a"].ERROR;this.unlistenImage_();this.image_=p();this.changed()};d.prototype.handleImageLoad_=function(){if(this.image_.naturalWidth&&this.image_.naturalHeight){this.state=a["a"].LOADED}else{this.state=a["a"].EMPTY}this.unlistenImage_();this.changed()};d.prototype.load=function(){if(this.state==a["a"].ERROR){this.state=a["a"].IDLE;this.image_=new Image;if(this.crossOrigin_!==null){this.image_.crossOrigin=this.crossOrigin_}}if(this.state==a["a"].IDLE){this.state=a["a"].LOADING;this.changed();this.imageListenerKeys_=[Object(f["b"])(this.image_,u["a"].ERROR,this.handleImageError_,this),Object(f["b"])(this.image_,u["a"].LOAD,this.handleImageLoad_,this)];this.tileLoadFunction_(this,this.src_)}};d.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(f["e"]);this.imageListenerKeys_=null};function p(){var t=Object(h["a"])(1,1);t.fillStyle="rgba(0,0,0,0)";t.fillRect(0,0,1,1);return t.canvas}var v=d;var g=i(281);var m=i(7);var y=i(4);var _=i(12);var b=i(167);var w=i(285);var O=function t(e,i,r,o,s,u,l,h,f,d,p){c.call(this,s,a["a"].IDLE);this.renderEdges_=p!==undefined?p:false;this.pixelRatio_=l;this.gutter_=h;this.canvas_=null;this.sourceTileGrid_=i;this.targetTileGrid_=o;this.wrappedTileCoord_=u?u:s;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;var v=o.getTileCoordExtent(this.wrappedTileCoord_);var g=this.targetTileGrid_.getExtent();var m=this.sourceTileGrid_.getExtent();var O=g?Object(y["B"])(v,g):v;if(Object(y["u"])(O)===0){this.state=a["a"].EMPTY;return}var x=e.getExtent();if(x){if(!m){m=x}else{m=Object(y["B"])(m,x)}}var S=o.getResolution(this.wrappedTileCoord_[0]);var C=Object(y["x"])(O);var T=Object(b["a"])(e,r,C,S);if(!isFinite(T)||T<=0){this.state=a["a"].EMPTY;return}var E=d!==undefined?d:n["b"];this.triangulation_=new w["a"](e,r,O,m,T*E);if(this.triangulation_.getTriangles().length===0){this.state=a["a"].EMPTY;return}this.sourceZ_=i.getZForResolution(T);var M=this.triangulation_.calculateSourceExtent();if(m){if(e.canWrapX()){M[1]=Object(_["a"])(M[1],m[1],m[3]);M[3]=Object(_["a"])(M[3],m[1],m[3])}else{M=Object(y["B"])(M,m)}}if(!Object(y["u"])(M)){this.state=a["a"].EMPTY}else{var j=i.getTileRangeForExtentAndZ(M,this.sourceZ_);for(var k=j.minX;k<=j.maxX;k++){for(var R=j.minY;R<=j.maxY;R++){var A=f(this.sourceZ_,k,R,l);if(A){this.sourceTiles_.push(A)}}}if(this.sourceTiles_.length===0){this.state=a["a"].EMPTY}}};Object(r["d"])(O,c);O.prototype.disposeInternal=function(){if(this.state==a["a"].LOADING){this.unlistenSources_()}c.prototype.disposeInternal.call(this)};O.prototype.getImage=function(){return this.canvas_};O.prototype.reproject_=function(){var t=[];this.sourceTiles_.forEach(function(e,i,n){if(e&&e.getState()==a["a"].LOADED){t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}}.bind(this));this.sourceTiles_.length=0;if(t.length===0){this.state=a["a"].ERROR}else{var e=this.wrappedTileCoord_[0];var i=this.targetTileGrid_.getTileSize(e);var n=typeof i==="number"?i:i[0];var r=typeof i==="number"?i:i[1];var o=this.targetTileGrid_.getResolution(e);var s=this.sourceTileGrid_.getResolution(this.sourceZ_);var u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(b["b"])(n,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,u,this.triangulation_,t,this.gutter_,this.renderEdges_);this.state=a["a"].LOADED}this.changed()};O.prototype.load=function(){if(this.state==a["a"].IDLE){this.state=a["a"].LOADING;this.changed();var t=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(e,i,n){var r=e.getState();if(r==a["a"].IDLE||r==a["a"].LOADING){t++;var o=Object(f["a"])(e,u["a"].CHANGE,function(i){var n=e.getState();if(n==a["a"].LOADED||n==a["a"].ERROR||n==a["a"].EMPTY){Object(f["e"])(o);t--;if(t===0){this.unlistenSources_();this.reproject_()}}},this);this.sourcesListenerKeys_.push(o)}}.bind(this));this.sourceTiles_.forEach(function(t,e,i){var n=t.getState();if(n==a["a"].IDLE){t.load()}});if(t===0){setTimeout(this.reproject_.bind(this),0)}}};O.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(f["e"]);this.sourcesListenerKeys_=null};var x=O;var S=i(173);var C=i(232);var T={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var E=i(110);var M=function t(e){C["b"].call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition});this.tileLoadFunction=e.tileLoadFunction;this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):S["d"];this.urls=null;if(e.urls){this.setUrls(e.urls)}else if(e.url){this.setUrl(e.url)}if(e.tileUrlFunction){this.setTileUrlFunction(e.tileUrlFunction)}this.tileLoadingKeys_={}};Object(r["d"])(M,C["b"]);M.prototype.fixedTileUrlFunction;M.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};M.prototype.getTileUrlFunction=function(){return this.tileUrlFunction};M.prototype.getUrls=function(){return this.urls};M.prototype.handleTileChange=function(t){var e=t.target;var i=Object(r["c"])(e);var n=e.getState();var o=void 0;if(n==a["a"].LOADING){this.tileLoadingKeys_[i]=true;o=T.TILELOADSTART}else if(i in this.tileLoadingKeys_){delete this.tileLoadingKeys_[i];o=n==a["a"].ERROR?T.TILELOADERROR:n==a["a"].LOADED||n==a["a"].ABORT?T.TILELOADEND:undefined}if(o!=undefined){this.dispatchEvent(new C["a"](o,e))}};M.prototype.setTileLoadFunction=function(t){this.tileCache.clear();this.tileLoadFunction=t;this.changed()};M.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t;this.tileCache.pruneExceptNewestZ();if(typeof e!=="undefined"){this.setKey(e)}else{this.changed()}};M.prototype.setUrl=function(t){var e=this.urls=Object(S["c"])(t);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):Object(S["a"])(e,this.tileGrid),t)};M.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):Object(S["a"])(t,this.tileGrid),e)};M.prototype.useTile=function(t,e,i){var n=Object(E["d"])(t,e,i);if(this.tileCache.containsKey(n)){this.tileCache.get(n)}};var j=M;var k=i(166);var R=function t(e){j.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:A,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition});this.crossOrigin=e.crossOrigin!==undefined?e.crossOrigin:null;this.tileClass=e.tileClass!==undefined?e.tileClass:v;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold;this.renderReprojectionEdges_=false};Object(r["d"])(R,j);R.prototype.canExpireCache=function(){if(!n["a"]){return j.prototype.canExpireCache.call(this)}if(this.tileCache.canExpireCache()){return true}else{for(var t in this.tileCacheForProjection){if(this.tileCacheForProjection[t].canExpireCache()){return true}}}return false};R.prototype.expireCache=function(t,e){if(!n["a"]){j.prototype.expireCache.call(this,t,e);return}var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(var r in this.tileCacheForProjection){var a=this.tileCacheForProjection[r];a.expireCache(a==i?e:{})}};R.prototype.getGutter=function(t){if(n["a"]&&this.getProjection()&&t&&!Object(m["f"])(this.getProjection(),t)){return 0}else{return this.getGutterInternal()}};R.prototype.getGutterInternal=function(){return 0};R.prototype.getOpaque=function(t){if(n["a"]&&this.getProjection()&&t&&!Object(m["f"])(this.getProjection(),t)){return false}else{return j.prototype.getOpaque.call(this,t)}};R.prototype.getTileGridForProjection=function(t){if(!n["a"]){return j.prototype.getTileGridForProjection.call(this,t)}var e=this.getProjection();if(this.tileGrid&&(!e||Object(m["f"])(e,t))){return this.tileGrid}else{var i=Object(r["c"])(t).toString();if(!(i in this.tileGridForProjection)){this.tileGridForProjection[i]=Object(k["d"])(t)}return this.tileGridForProjection[i]}};R.prototype.getTileCacheForProjection=function(t){if(!n["a"]){return j.prototype.getTileCacheForProjection.call(this,t)}var e=this.getProjection();if(!e||Object(m["f"])(e,t)){return this.tileCache}else{var i=Object(r["c"])(t).toString();if(!(i in this.tileCacheForProjection)){this.tileCacheForProjection[i]=new g["a"](this.tileCache.highWaterMark)}return this.tileCacheForProjection[i]}};R.prototype.createTile_=function(t,e,i,n,r,o){var s=[t,e,i];var l=this.getTileCoordForTileUrlFunction(s,r);var c=l?this.tileUrlFunction(l,n,r):undefined;var h=new this.tileClass(s,c!==undefined?a["a"].IDLE:a["a"].EMPTY,c!==undefined?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);h.key=o;Object(f["a"])(h,u["a"].CHANGE,this.handleTileChange,this);return h};R.prototype.getTile=function(t,e,i,r,a){var o=this.getProjection();if(!n["a"]||!o||!a||Object(m["f"])(o,a)){return this.getTileInternal(t,e,i,r,o||a)}else{var s=this.getTileCacheForProjection(a);var u=[t,e,i];var l=void 0;var c=Object(E["c"])(u);if(s.containsKey(c)){l=s.get(c)}var h=this.getKey();if(l&&l.key==h){return l}else{var f=this.getTileGridForProjection(o);var d=this.getTileGridForProjection(a);var p=this.getTileCoordForTileUrlFunction(u,a);var v=new x(o,f,a,d,u,p,this.getTilePixelRatio(r),this.getGutterInternal(),function(t,e,i,n){return this.getTileInternal(t,e,i,n,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);v.key=h;if(l){v.interimTile=l;v.refreshInterimChain();s.replace(c,v)}else{s.set(c,v)}return v}}};R.prototype.getTileInternal=function(t,e,i,n,r){var o=null;var s=Object(E["d"])(t,e,i);var u=this.getKey();if(!this.tileCache.containsKey(s)){o=this.createTile_(t,e,i,n,r,u);this.tileCache.set(s,o)}else{o=this.tileCache.get(s);if(o.key!=u){var l=o;o=this.createTile_(t,e,i,n,r,u);if(l.getState()==a["a"].IDLE){o.interimTile=l.interimTile}else{o.interimTile=l}o.refreshInterimChain();this.tileCache.replace(s,o)}}return o};R.prototype.setRenderReprojectionEdges=function(t){if(!n["a"]||this.renderReprojectionEdges_==t){return}this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection){this.tileCacheForProjection[e].clear()}this.changed()};R.prototype.setTileGridForProjection=function(t,e){if(n["a"]){var i=Object(m["h"])(t);if(i){var a=Object(r["c"])(i).toString();if(!(a in this.tileGridForProjection)){this.tileGridForProjection[a]=e}}}};function A(t,e){t.getImage().src=e}var I=e["a"]=R},function(t,e,i){"use strict";var n=i(1);var r=i(3);var a=i(10);var o=i(4);var s=i(67);var u=i(8);var l=i(11);var c=function t(e){s["a"].call(this);this.geometries_=e?e:null;this.listenGeometriesChange_()};Object(n["d"])(c,s["a"]);function h(t){var e=[];for(var i=0,n=t.length;i<n;++i){e.push(t[i].clone())}return e}c.prototype.unlistenGeometriesChange_=function(){if(!this.geometries_){return}for(var t=0,e=this.geometries_.length;t<e;++t){Object(r["c"])(this.geometries_[t],a["a"].CHANGE,this.changed,this)}};c.prototype.listenGeometriesChange_=function(){if(!this.geometries_){return}for(var t=0,e=this.geometries_.length;t<e;++t){Object(r["a"])(this.geometries_[t],a["a"].CHANGE,this.changed,this)}};c.prototype.clone=function(){var t=new c(null);t.setGeometries(this.geometries_);return t};c.prototype.closestPointXY=function(t,e,i,n){if(n<Object(o["e"])(this.getExtent(),t,e)){return n}var r=this.geometries_;for(var a=0,s=r.length;a<s;++a){n=r[a].closestPointXY(t,e,i,n)}return n};c.prototype.containsXY=function(t,e){var i=this.geometries_;for(var n=0,r=i.length;n<r;++n){if(i[n].containsXY(t,e)){return true}}return false};c.prototype.computeExtent=function(t){Object(o["l"])(t);var e=this.geometries_;for(var i=0,n=e.length;i<n;++i){Object(o["q"])(t,e[i].getExtent())}return t};c.prototype.getGeometries=function(){return h(this.geometries_)};c.prototype.getGeometriesArray=function(){return this.geometries_};c.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()){Object(l["b"])(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance){return this}var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e)){return this.simplifiedGeometryCache[e]}else{var i=[];var n=this.geometries_;var r=false;for(var a=0,o=n.length;a<o;++a){var s=n[a];var u=s.getSimplifiedGeometry(t);i.push(u);if(u!==s){r=true}}if(r){var h=new c(null);h.setGeometriesArray(i);this.simplifiedGeometryCache[e]=h;return h}else{this.simplifiedGeometryMaxMinSquaredTolerance=t;return this}}};c.prototype.getType=function(){return u["a"].GEOMETRY_COLLECTION};c.prototype.intersectsExtent=function(t){var e=this.geometries_;for(var i=0,n=e.length;i<n;++i){if(e[i].intersectsExtent(t)){return true}}return false};c.prototype.isEmpty=function(){return this.geometries_.length===0};c.prototype.rotate=function(t,e){var i=this.geometries_;for(var n=0,r=i.length;n<r;++n){i[n].rotate(t,e)}this.changed()};c.prototype.scale=function(t,e,i){var n=i;if(!n){n=Object(o["x"])(this.getExtent())}var r=this.geometries_;for(var a=0,s=r.length;a<s;++a){r[a].scale(t,e,n)}this.changed()};c.prototype.setGeometries=function(t){this.setGeometriesArray(h(t))};c.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_();this.geometries_=t;this.listenGeometriesChange_();this.changed()};c.prototype.applyTransform=function(t){var e=this.geometries_;for(var i=0,n=e.length;i<n;++i){e[i].applyTransform(t)}this.changed()};c.prototype.translate=function(t,e){var i=this.geometries_;for(var n=0,r=i.length;n<r;++n){i[n].translate(t,e)}this.changed()};c.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();s["a"].prototype.disposeInternal.call(this)};e["a"]=c},function(t,e,i){"use strict";e["a"]={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"}},function(t,e,i){"use strict";var n={AND:"&&",NOT:"!",OR:"||"};e["a"]=n},function(t,e,i){"use strict";i.d(e,"b",function(){return a});i.d(e,"a",function(){return o});i.d(e,"c",function(){return u});var n=i(11);var r={};function a(){r={}}function o(t,e,i){var n=t.getCode();var a=e.getCode();if(!(n in r)){r[n]={}}r[n][a]=i}function s(t,e){var i=t.getCode();var a=e.getCode();var o=r[i][a];delete r[i][a];if(Object(n["d"])(r[i])){delete r[i]}return o}function u(t,e){var i=void 0;if(t in r&&e in r[t]){i=r[t][e]}return i}},function(t,e,i){"use strict";var n=i(1);var r=i(24);var a=i(14);var o=i(69);var s=i(151);var u=function t(){o["a"].call(this)};Object(n["d"])(u,o["a"]);function l(t){if(typeof t==="string"){var e=JSON.parse(t);return e?e:null}else if(t!==null){return t}else{return null}}u.prototype.getType=function(){return s["a"].JSON};u.prototype.readFeature=function(t,e){return this.readFeatureFromObject(l(t),this.getReadOptions(t,e))};u.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,e))};u.prototype.readFeatureFromObject=function(t,e){};u.prototype.readFeaturesFromObject=function(t,e){};u.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(l(t),this.getReadOptions(t,e))};u.prototype.readGeometryFromObject=function(t,e){};u.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))};u.prototype.readProjectionFromObject=function(t){};u.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))};u.prototype.writeFeatureObject=function(t,e){};u.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))};u.prototype.writeFeaturesObject=function(t,e){};u.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))};u.prototype.writeGeometryObject=function(t,e){};var c=u;var h=i(156);var f=i(46);var d=i(94);var p=i(109);var v=i(107);var g=i(32);var m=i(29);var y=i(11);var _=i(7);var b=function t(e){var i=e?e:{};c.call(this);this.defaultDataProjection=Object(_["h"])(i.defaultDataProjection?i.defaultDataProjection:"EPSG:4326");if(i.featureProjection){this.defaultFeatureProjection=Object(_["h"])(i.featureProjection)}this.geometryName_=i.geometryName;this.extractGeometryName_=i.extractGeometryName};Object(n["d"])(b,c);var w={Point:C,LineString:T,Polygon:k,MultiPoint:M,MultiLineString:E,MultiPolygon:j,GeometryCollection:S};var O={Point:L,LineString:P,Polygon:F,MultiPoint:N,MultiLineString:D,MultiPolygon:$,GeometryCollection:I,Circle:A};function x(t,e){if(!t){return null}var i=w[t.type];return Object(o["b"])(i(t),false,e)}function S(t,e){var i=t.geometries.map(function(t){return x(t,e)});return new h["a"](i)}function C(t){return new g["a"](t.coordinates)}function T(t){return new f["a"](t.coordinates)}function E(t){return new d["a"](t.coordinates)}function M(t){return new p["a"](t.coordinates)}function j(t){return new v["a"](t.coordinates)}function k(t){return new m["b"](t.coordinates)}function R(t,e){var i=O[t.getType()];return i(Object(o["b"])(t,true,e),e)}function A(t){return{type:"GeometryCollection",geometries:[]}}function I(t,e){var i=t.getGeometriesArray().map(function(t){var i=Object(y["a"])({},e);delete i.featureProjection;return R(t,i)});return{type:"GeometryCollection",geometries:i}}function P(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function D(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function N(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function $(t,e){var i=void 0;if(e){i=e.rightHanded}return{type:"MultiPolygon",coordinates:t.getCoordinates(i)}}function L(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function F(t,e){var i=void 0;if(e){i=e.rightHanded}return{type:"Polygon",coordinates:t.getCoordinates(i)}}b.prototype.readFeature;b.prototype.readFeatures;b.prototype.readFeatureFromObject=function(t,e){var i=null;if(t.type==="Feature"){i=t}else{i={type:"Feature",geometry:t}}var n=x(i.geometry,e);var r=new a["a"];if(this.geometryName_){r.setGeometryName(this.geometryName_)}else if(this.extractGeometryName_&&i.geometry_name!==undefined){r.setGeometryName(i.geometry_name)}r.setGeometry(n);if(i.id!==undefined){r.setId(i.id)}if(i.properties){r.setProperties(i.properties)}return r};b.prototype.readFeaturesFromObject=function(t,e){var i=t;var n=null;if(i.type==="FeatureCollection"){var r=t;n=[];var a=r.features;for(var o=0,s=a.length;o<s;++o){n.push(this.readFeatureFromObject(a[o],e))}}else{n=[this.readFeatureFromObject(t,e)]}return n};b.prototype.readGeometry;b.prototype.readGeometryFromObject=function(t,e){return x(t,e)};b.prototype.readProjection;b.prototype.readProjectionFromObject=function(t){var e=t;var i=e.crs;var n=void 0;if(i){if(i.type=="name"){n=Object(_["h"])(i.properties.name)}else{Object(r["a"])(false,36)}}else{n=this.defaultDataProjection}return n};b.prototype.writeFeature;b.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature"};var n=t.getId();if(n!==undefined){i.id=n}var r=t.getGeometry();if(r){i.geometry=R(r,e)}else{i.geometry=null}var a=t.getProperties();delete a[t.getGeometryName()];if(!Object(y["d"])(a)){i.properties=a}else{i.properties=null}return i};b.prototype.writeFeatures;b.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);var i=[];for(var n=0,r=t.length;n<r;++n){i.push(this.writeFeatureObject(t[n],e))}return{type:"FeatureCollection",features:i}};b.prototype.writeGeometry;b.prototype.writeGeometryObject=function(t,e){return R(t,this.adaptOptions(e))};var G=e["a"]=b},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";var e=Math.PI,i=2*e,n=1e-6,r=i-n;function a(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function o(){return new a}a.prototype=o.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,i,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(t,e,i,n,r,a){this._+="C"+ +t+","+ +e+","+ +i+","+ +n+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,i,r,a,o){t=+t,i=+i,r=+r,a=+a,o=+o;var s=this._x1,u=this._y1,l=r-t,c=a-i,h=s-t,f=u-i,d=h*h+f*f;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null){this._+="M"+(this._x1=t)+","+(this._y1=i)}else if(!(d>n));else if(!(Math.abs(f*l-c*h)>n)||!o){this._+="L"+(this._x1=t)+","+(this._y1=i)}else{var p=r-s,v=a-u,g=l*l+c*c,m=p*p+v*v,y=Math.sqrt(g),_=Math.sqrt(d),b=o*Math.tan((e-Math.acos((g+d-m)/(2*y*_)))/2),w=b/_,O=b/y;if(Math.abs(w-1)>n){this._+="L"+(t+w*h)+","+(i+w*f)}this._+="A"+o+","+o+",0,0,"+ +(f*p>h*v)+","+(this._x1=t+O*l)+","+(this._y1=i+O*c)}},arc:function(t,a,o,s,u,l){t=+t,a=+a,o=+o,l=!!l;var c=o*Math.cos(s),h=o*Math.sin(s),f=t+c,d=a+h,p=1^l,v=l?s-u:u-s;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null){this._+="M"+f+","+d}else if(Math.abs(this._x1-f)>n||Math.abs(this._y1-d)>n){this._+="L"+f+","+d}if(!o)return;if(v<0)v=v%i+i;if(v>r){this._+="A"+o+","+o+",0,1,"+p+","+(t-c)+","+(a-h)+"A"+o+","+o+",0,1,"+p+","+(this._x1=f)+","+(this._y1=d)}else if(v>n){this._+="A"+o+","+o+",0,"+ +(v>=e)+","+p+","+(this._x1=t+o*Math.cos(u))+","+(this._y1=a+o*Math.sin(u))}},rect:function(t,e,i,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}};t.path=o;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";var n=i(2);var r=i(203);var a=i(1);var o=i(38);var s=i(11);var u=i(34);var l=i(13);var c=function t(){this.featureUidToGroupIndex_={};this.groups_=[];this.source_=new u["b"]({useSpatialIndex:false});this.layer_=new o["a"]({source:this.source_,style:this.styleFunction_.bind(this),updateWhileAnimating:true,updateWhileInteracting:true})};c.prototype.addFeature=function(t,e){n["a"].assert(e>=0);n["a"].assert(e<this.groups_.length);var i=a["c"](t).toString();this.featureUidToGroupIndex_[i]=e;this.groups_[e].features[i]=t;this.source_.addFeature(t)};c.prototype.removeFeature=function(t,e){n["a"].assert(e>=0);n["a"].assert(e<this.groups_.length);var i=a["c"](t).toString();delete this.featureUidToGroupIndex_[i];delete this.groups_[e].features[i];this.source_.removeFeature(t)};c.prototype.clear=function(t){n["a"].assert(t>=0);n["a"].assert(t<this.groups_.length);var e=this.groups_[t];for(var i in e.features){this.removeFeature(e.features[i],t)}n["a"].assert(s["d"](e.features))};c.prototype.getLayer=function(){return this.layer_};c.prototype.getFeatureOverlay=function(){var t=this.groups_.length;this.groups_.push({styleFunction:l["a"],features:{}});return new r["a"](this,t)};c.prototype.init=function(t){this.layer_.setMap(t)};c.prototype.setStyle=function(t,e){n["a"].assert(e>=0);n["a"].assert(e<this.groups_.length);this.groups_[e].styleFunction=t===null?l["c"].defaultFunction:Object(l["d"])(t)};c.prototype.styleFunction_=function(t,e){var i=a["c"](t).toString();n["a"].assert(i in this.featureUidToGroupIndex_);var r=this.featureUidToGroupIndex_[i];var o=this.groups_[r];return o.styleFunction(t,e)};c.module=angular.module("ngeoFeatureOverlayMgr",[r["a"].module.name]);c.module.service("ngeoFeatureOverlayMgr",c);e["a"]=c},function(t,e,i){"use strict";var n=i(2);var r=i(282);var a=i(61);var o=i(31);var s=i(120);var u=i(97);var l=i(188);var c=i(183);var h=i(65);var f=i(14);var d=i(1);var p=i(3);var v=function t(e,i,n,r,a,o){var s=this;this.active;if(this.active===undefined){this.active=false}this.features;this.map;this.showMeasure;this.gettextCatalog_=n;n.getString("Point");n.getString("LineString");n.getString("Polygon");n.getString("Circle");n.getString("Rectangle");n.getString("Text");this.featureHelper_=r;this.ngeoFeatures_=o;this.interactions_=[];this.drawPoint;this.measureLength;this.measureArea;this.measureAzimut;this.drawRectangle;this.drawText;this.ngeoEventHelper_=a;e.$watch(function(){return s.active},function(t){if(t===false){s.interactions_.forEach(function(t){t.setActive(false)})}})};v.$inject=["$scope","$sce","gettextCatalog","ngeoFeatureHelper","ngeoEventHelper","ngeoFeatures"];v.$inject=["$scope","$sce","gettextCatalog","ngeoFeatureHelper","ngeoEventHelper","ngeoFeatures"];v.prototype.handleEscapeKeyDown_=function(t){var e=t.keyCode===27;if(!h["a"].mousedown&&e&&this.interaction_.getActive()){var i=this.interaction_;i.setActive(false);i.setActive(true)}};v.prototype.registerInteraction=function(t){this.interactions_.push(t);t.setActive(false);u["a"].interaction(t);this.map.addInteraction(t)};v.prototype.handleActiveChange=function(t){this.active=this.interactions_.some(function(t){return t.getActive()},this);this.interaction_=this.interactions_.find(function(t){return t.getActive()===true});var e=Object(d["c"])(this);if(this.interaction_){this.ngeoEventHelper_.addListenerKey(e,Object(p["a"])(document.body,"keydown",this.handleEscapeKeyDown_,this))}else{this.ngeoEventHelper_.clearListenerKey(e)}};v.prototype.handleDrawEnd=function(t,e){var i=void 0;if(e.feature){i=e.feature}else{i=e.detail.feature}n["a"].assert(i);var r=i.get("azimut");var s=this.features||this.ngeoFeatures_;var u=new f["a"](i.getGeometry());var l=a["a"];switch(t){case o["a"].CIRCLE:u.set(l.IS_CIRCLE,true);if(r!==undefined){u.set(l.AZIMUT,r)}break;case o["a"].TEXT:u.set(l.IS_TEXT,true);break;case o["a"].RECTANGLE:u.set(l.IS_RECTANGLE,true);break;default:break}var c=this.gettextCatalog_.getString(t);u.set(l.NAME,c+" "+(s.getLength()+1));var h=t!==o["a"].TEXT?"#DB4436":"#000000";u.set(l.COLOR,h);u.set(l.ANGLE,0);u.set(l.OPACITY,.2);u.set(l.SHOW_MEASURE,this.showMeasure?true:false);u.set(l.SHOW_LABEL,false);u.set(l.SIZE,10);u.set(l.STROKE,2);this.featureHelper_.setStyle(u);s.push(u)};v.module=angular.module("ngeoDrawfeatureController",[r["a"].name,s["a"].name,c["a"].module.name,l["a"].module.name]);v.module.controller("ngeoDrawfeatureController",v);e["a"]=v},function(t,e,i){"use strict";var n=i(2);var r=i(212);var a=i(33);var o=i(3);var s=i(26);var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}return function(e,i,n){if(i)t(e.prototype,i);if(n)t(e,n);return e}}();function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var c=function(){function t(){l(this,t);this.collection_=new a["b"];this.map_=null;this.listenerKeys_=[];o["a"](this.collection_,"add",this.handleDataSourcesAdd_,this)}t.prototype.bindMap_=function t(e){var i=e.getView();this.listenerKeys_.push(o["a"](i,"change:resolution",this.handleViewResolutionChange_,this));var r=i.getResolution();n["a"].assertNumber(r);this.syncDataSourcesToResolution_(r)};t.prototype.unbindMap_=function t(e){this.listenerKeys_.forEach(o["e"]);this.listenerKeys_=[]};t.prototype.handleViewResolutionChange_=function t(e){var i=e.target;n["a"].assertInstanceof(i,s["a"]);var r=i.getResolution();n["a"].assertNumber(r);this.syncDataSourcesToResolution_(r)};t.prototype.syncDataSourcesToResolution_=function t(e){var i=this;this.collection_.forEach(function(t){i.syncDataSourceToResolution_(t,e)})};t.prototype.syncDataSourceToResolution_=function t(e,i){if(!e.supportsDynamicInRange){return}var n=e.maxResolution;var r=e.minResolution;var a=r===null||r===undefined||i>=r;var o=n===null||n===undefined||i<=n;var s=a&&o;e.inRange=s};t.prototype.handleDataSourcesAdd_=function t(e){var i=n["a"].assertInstanceof(e.element,r["a"]);if(this.map_){var a=this.map_.getView().getResolution();n["a"].assertNumber(a);this.syncDataSourceToResolution_(i,a)}};u(t,[{key:"map",set:function t(e){if(this.map_===e){return}if(this.map_){this.unbindMap_(this.map_)}this.map_=e;if(e){this.bindMap_(e)}}},{key:"collection",get:function t(){return this.collection_}}]);return t}();c.module=angular.module("ngeoDataSources",[]);c.module.service("ngeoDataSources",c);e["a"]=c},function(t,e,i){"use strict";var n=i(112);var r=i(1);var a=i(43);var o=i(9);var s=i(40);var u=i(4);var l=i(7);var c=i(172);var h=i(3);var f=i(10);var d=i(167);var p=i(285);var v=function t(e,i,r,o,s,l){this.targetProj_=i;this.maxSourceExtent_=e.getExtent();var h=i.getExtent();var f=h?Object(u["B"])(r,h):r;var v=Object(u["x"])(f);var g=Object(d["a"])(e,i,v,o);var m=n["b"];this.triangulation_=new p["a"](e,i,f,this.maxSourceExtent_,g*m);this.targetResolution_=o;this.targetExtent_=r;var y=this.triangulation_.calculateSourceExtent();this.sourceImage_=l(y,g,s);this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1;this.canvas_=null;this.sourceListenerKey_=null;var _=a["a"].LOADED;if(this.sourceImage_){_=a["a"].IDLE}c["a"].call(this,r,o,this.sourcePixelRatio_,_)};Object(r["d"])(v,c["a"]);v.prototype.disposeInternal=function(){if(this.state==a["a"].LOADING){this.unlistenSource_()}c["a"].prototype.disposeInternal.call(this)};v.prototype.getImage=function(){return this.canvas_};v.prototype.getProjection=function(){return this.targetProj_};v.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==a["a"].LOADED){var e=Object(u["E"])(this.targetExtent_)/this.targetResolution_;var i=Object(u["A"])(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(d["b"])(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t;this.changed()};v.prototype.load=function(){if(this.state==a["a"].IDLE){this.state=a["a"].LOADING;this.changed();var t=this.sourceImage_.getState();if(t==a["a"].LOADED||t==a["a"].ERROR){this.reproject_()}else{this.sourceListenerKey_=Object(h["a"])(this.sourceImage_,f["a"].CHANGE,function(t){var e=this.sourceImage_.getState();if(e==a["a"].LOADED||e==a["a"].ERROR){this.unlistenSource_();this.reproject_()}},this);this.sourceImage_.load()}}};v.prototype.unlistenSource_=function(){Object(h["e"])(this.sourceListenerKey_);this.sourceListenerKey_=null};var g=v;var m=i(179);i.d(e,"b",function(){return w});var y={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};var _=function t(e,i){s["a"].call(this,e);this.image=i};Object(r["d"])(_,s["a"]);var b=function t(e){m["a"].call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,state:e.state});this.resolutions_=e.resolutions!==undefined?e.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0};Object(r["d"])(b,m["a"]);b.prototype.getResolutions=function(){return this.resolutions_};b.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(o["h"])(this.resolutions_,t,0);t=this.resolutions_[e]}return t};b.prototype.getImage=function(t,e,i,r){var a=this.getProjection();if(!n["a"]||!a||!r||Object(l["f"])(a,r)){if(a){r=a}return this.getImageInternal(t,e,i,r)}else{if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(l["f"])(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&Object(u["p"])(this.reprojectedImage_.getExtent(),t)){return this.reprojectedImage_}this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new g(a,r,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,a)}.bind(this));this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}};b.prototype.getImageInternal=function(t,e,i,n){};b.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case a["a"].LOADING:this.dispatchEvent(new _(y.IMAGELOADSTART,e));break;case a["a"].LOADED:this.dispatchEvent(new _(y.IMAGELOADEND,e));break;case a["a"].ERROR:this.dispatchEvent(new _(y.IMAGELOADERROR,e));break;default:}};function w(t,e){t.getImage().src=e}var O=e["a"]=b},function(t,e,i){"use strict";i.d(e,"d",function(){return h});i.d(e,"e",function(){return f});i.d(e,"b",function(){return p});i.d(e,"a",function(){return g});i.d(e,"c",function(){return m});var n=i(211);var r=i(98);var a=i(4);var o=i(216);var s=i(11);var u=i(7);var l=i(80);var c=i(195);function h(t){var e=t.getDefaultTileGrid();if(!e){e=g(t);t.setDefaultTileGrid(e)}return e}function f(t,e,i){var n=e[0];var r=t.getTileCoordCenter(e);var o=m(i);if(!Object(a["f"])(o,r)){var s=Object(a["E"])(o);var u=Math.ceil((o[0]-r[0])/s);r[0]+=s*u;return t.getTileCoordForCoordAndZ(r,n)}else{return e}}function d(t,e,i,n){var r=n!==undefined?n:o["a"].TOP_LEFT;var s=v(t,e,i);return new c["a"]({extent:t,origin:Object(a["y"])(t,r),resolutions:s,tileSize:i})}function p(t){var e={};Object(s["a"])(e,t!==undefined?t:{});if(e.extent===undefined){e.extent=Object(u["h"])("EPSG:3857").getExtent()}e.resolutions=v(e.extent,e.maxZoom,e.tileSize);delete e.maxZoom;return new c["a"](e)}function v(t,e,i){var o=e!==undefined?e:n["a"];var s=Object(a["A"])(t);var u=Object(a["E"])(t);var l=Object(r["d"])(i!==undefined?i:n["b"]);var c=Math.max(u/l[0],s/l[1]);var h=o+1;var f=new Array(h);for(var d=0;d<h;++d){f[d]=c/Math.pow(2,d)}return f}function g(t,e,i,n){var r=m(t);return d(r,e,i,n)}function m(t){t=Object(u["h"])(t);var e=t.getExtent();if(!e){var i=180*u["a"][l["b"].DEGREES]/t.getMetersPerUnit();e=Object(a["k"])(-i,-i,i,i)}return e}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});i.d(e,"b",function(){return l});var n=i(44);var r=i(4);var a=i(12);var o=i(7);function s(t,e,i,n){var a=Object(o["n"])(i,e,t);var s=Object(o["i"])(e,n,i);var u=e.getMetersPerUnit();if(u!==undefined){s*=u}var l=t.getMetersPerUnit();if(l!==undefined){s/=l}var c=t.getExtent();if(!c||Object(r["f"])(c,a)){var h=Object(o["i"])(t,s,a)/s;if(isFinite(h)&&h>0){s/=h}}return s}function u(t,e,i,n){var r=i-t;var a=n-e;var o=Math.sqrt(r*r+a*a);return[Math.round(i+r/o),Math.round(n+a/o)]}function l(t,e,i,o,s,l,c,h,f,d,p){var v=Object(n["a"])(Math.round(i*t),Math.round(i*e));if(f.length===0){return v.canvas}v.scale(i,i);var g=Object(r["j"])();f.forEach(function(t,e,i){Object(r["q"])(g,t.extent)});var m=Object(r["E"])(g);var y=Object(r["A"])(g);var _=Object(n["a"])(Math.round(i*m/o),Math.round(i*y/o));var b=i/o;f.forEach(function(t,e,i){var n=t.extent[0]-g[0];var a=-(t.extent[3]-g[3]);var o=Object(r["E"])(t.extent);var s=Object(r["A"])(t.extent);_.drawImage(t.image,d,d,t.image.width-2*d,t.image.height-2*d,n*b,a*b,o*b,s*b)});var w=Object(r["C"])(c);h.getTriangles().forEach(function(t,e,n){var r=t.source;var s=t.target;var c=r[0][0],h=r[0][1];var f=r[1][0],d=r[1][1];var p=r[2][0],m=r[2][1];var y=(s[0][0]-w[0])/l;var b=-(s[0][1]-w[1])/l;var O=(s[1][0]-w[0])/l;var x=-(s[1][1]-w[1])/l;var S=(s[2][0]-w[0])/l;var C=-(s[2][1]-w[1])/l;var T=c;var E=h;c=0;h=0;f-=T;d-=E;p-=T;m-=E;var M=[[f,d,0,0,O-y],[p,m,0,0,S-y],[0,0,f,d,x-b],[0,0,p,m,C-b]];var j=Object(a["e"])(M);if(!j){return}v.save();v.beginPath();var k=(y+O+S)/3;var R=(b+x+C)/3;var A=u(k,R,y,b);var I=u(k,R,O,x);var P=u(k,R,S,C);v.moveTo(I[0],I[1]);v.lineTo(A[0],A[1]);v.lineTo(P[0],P[1]);v.clip();v.transform(j[0],j[2],j[1],j[3],y,b);v.translate(g[0]-T,g[3]-E);v.scale(o/i,-o/i);v.drawImage(_.canvas,0,0);v.restore()});if(p){v.save();v.strokeStyle="black";v.lineWidth=1;h.getTriangles().forEach(function(t,e,i){var n=t.target;var r=(n[0][0]-w[0])/l;var a=-(n[0][1]-w[1])/l;var o=(n[1][0]-w[0])/l;var s=-(n[1][1]-w[1])/l;var u=(n[2][0]-w[0])/l;var c=-(n[2][1]-w[1])/l;v.beginPath();v.moveTo(o,s);v.lineTo(r,a);v.lineTo(u,c);v.closePath();v.stroke()});v.restore()}return v.canvas}},function(t,e,i){"use strict";i.d(e,"f",function(){return h});i.d(e,"a",function(){return f});i.d(e,"d",function(){return d});i.d(e,"e",function(){return p});i.d(e,"c",function(){return v});i.d(e,"b",function(){return g});var n=i(25);var r=i(45);var a=i(66);var o=i(6);var s=i(52);var u=i(39);var l=i(60);var c=i(135);Object(n["a"])("w",["ww",2],"wo","week");Object(n["a"])("W",["WW",2],"Wo","isoWeek");Object(r["a"])("week","w");Object(r["a"])("isoWeek","W");Object(a["a"])("week",5);Object(a["a"])("isoWeek",5);Object(o["a"])("w",o["d"]);Object(o["a"])("ww",o["d"],o["h"]);Object(o["a"])("W",o["d"]);Object(o["a"])("WW",o["d"],o["h"]);Object(s["c"])(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=Object(u["a"])(t)});function h(t){return Object(c["b"])(t,this._week.dow,this._week.doy).week}var f={dow:0,doy:6};function d(){return this._week.dow}function p(){return this._week.doy}function v(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function g(t){var e=Object(c["b"])(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}},function(t,e,i){"use strict";var n=function t(){};n.prototype.createDate=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return t!==null?new Date(t):e};n.prototype.getTime=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return t?t.getTime():e};n.prototype.getOptions=function(t){var e=this.createDate(t.minValue);var i=this.createDate(t.maxValue);var n=this.createDate(t.minDefValue,e);var r=this.createDate(t.maxDefValue,i);var a=t.mode==="range"?[this.getTime(n),this.getTime(r)]:this.getTime(n);return{minDate:this.getTime(e),maxDate:this.getTime(i),values:a}};n.prototype.getUTCDate=function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())};n.module=angular.module("ngeoTime",[]);n.module.service("ngeoTime",n);e["a"]=n},function(t,e,i){"use strict";e["a"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,i){"use strict";var n=i(2);var r=i(212);var a=i(158);var o=i(50);var s=i(210);var u=i(175);var l=i(191);var c=i(1);var h=i(9);var f=i(129);var d=i(11);var p=i(0);var v=function t(e){var i=e?e:{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver";this.gmlFormat_=new s["a"];this.layers_=i.layers?i.layers:null;f["a"].call(this)};Object(c["d"])(v,f["a"]);var g="_feature";var m="_layer";v.prototype.getLayers=function(){return this.layers_};v.prototype.setLayers=function(t){this.layers_=t};v.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var i=t.localName;var n=[];if(t.childNodes.length===0){return n}if(i=="msGMLOutput"){for(var r=0,a=t.childNodes.length;r<a;r++){var o=t.childNodes[r];if(o.nodeType!==Node.ELEMENT_NODE){continue}var s=e[0];var u=m;var l=o.localName.replace(u,"");if(this.layers_&&!Object(h["f"])(this.layers_,l)){continue}var c=l+g;s["featureType"]=c;s["featureNS"]=this.featureNS_;var f={};f[c]=Object(p["j"])(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var d=Object(p["r"])([s["featureNS"],null],f);o.setAttribute("namespaceURI",this.featureNS_);var v=Object(p["u"])([],d,o,e,this.gmlFormat_);if(v){Object(h["c"])(n,v)}}}if(i=="FeatureCollection"){var y=Object(p["u"])([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);if(y){n=y}}return n};v.prototype.readFeatures;v.prototype.readFeaturesFromNode=function(t,e){var i={};if(e){Object(d["a"])(i,this.getReadOptions(t,e))}return this.readFeatures_(t,[i])};v.prototype.writeFeatureNode=function(t,e){};v.prototype.writeFeaturesNode=function(t,e){};v.prototype.writeGeometryNode=function(t,e){};var y=v;var _=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}return function(e,i,n){if(i)t(e.prototype,i);if(n)t(e,n);return e}}();function b(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function w(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function O(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var x=function(t){O(e,t);function e(i){b(this,e);var r=w(this,t.call(this,i));r.dimensionsConfig_=i.dimensionsConfig||null;r.dimensionsFiltersConfig_=i.dimensionsFiltersConfig||null;r.filterCondition_=i.filterCondition||a["a"].AND;r.filterRules_=i.filterRules||null;r.filtrable_=i.filtrable||null;r.copyable_=i.copyable===true;r.dimensions_=i.dimensions||null;r.geometryName_=i.geometryName||e.DEFAULT_GEOMETRY_NAME_;r.ogcImageType_=i.ogcImageType||"image/png";r.ogcLayers_=i.ogcLayers||null;r.ogcServerType_=i.ogcServerType||e.ServerType.MAPSERVER;r.ogcType_=i.ogcType||e.Type.WMS;r.snappable_=i.snappable===true;r.snappingToEdges_=i.snappingToEdges!==false;r.snappingToVertice_=i.snappingToVertice!==false;r.snappingTolerance_=i.snappingTolerance!==undefined?i.snappingTolerance:10;r.timeAttributeName_=i.timeAttributeName;r.timeLowerValue_=i.timeLowerValue;r.timeProperty_=i.timeProperty!==undefined?i.timeProperty:null;r.timeUpperValue_=i.timeUpperValue;r.wfsFeatureNS_=i.wfsFeatureNS||e.WFSFeatureNS[r.ogcServerType_];r.wfsFeaturePrefix_=i.wfsFeaturePrefix||e.WFSFeaturePrefix.FEATURE;r.wfsOutputFormat_=i.wfsOutputFormat||e.WFSOutputFormat.GML3;r.wfsUrl_=i.wfsUrl;r.wmsInfoFormat_=i.wmsInfoFormat||e.WMSInfoFormat.GML;r.wmsIsSingleTile_=i.wmsIsSingleTile===true;r.wmsUrl_=i.wmsUrl;r.wmtsLayer_=i.wmtsLayer;r.wmtsUrl_=i.wmtsUrl;var o=[];if(r.queryable&&r.ogcLayers){for(var c=r.ogcLayers,h=Array.isArray(c),f=0,c=h?c:c[Symbol.iterator]();;){var d;if(h){if(f>=c.length)break;d=c[f++]}else{f=c.next();if(f.done)break;d=f.value}var p=d;if(p.queryable){o.push(p.name)}}}var v=null;if(r.supportsWFS&&o.length){var g=undefined;if(r.wfsOutputFormat_===e.WFSOutputFormat.GML3){g=new u["a"]}else if(r.wfsOutputFormat_===e.WFSOutputFormat.GML2){g=new s["a"]}n["a"].assert(g);v=new l["a"]({featureNS:r.wfsFeatureNS,featureType:o,gmlFormat:g})}r.wfsFormat_=v;var m=null;if(r.supportsWMS&&o.length){if(r.wmsInfoFormat===e.WMSInfoFormat.GML){m=new y({layers:o})}}r.wmsFormat_=m;return r}e.prototype.getAttributes=function e(){return t.prototype.attributes};e.prototype.setAttributes=function e(i){t.prototype.setAttributes.call(this,i);this.updateGeometryNameFromAttributes_()};e.prototype.combinableWithDataSourceForWFS=function t(e){return this.combinableForWFS&&e.combinableForWFS&&this.supportsWFS&&e.supportsWFS&&this.queryable&&e.queryable&&this.wfsUrl===e.wfsUrl&&this.haveTheSameActiveDimensions(e)};e.prototype.combinableWithDataSourceForWMS=function t(e){return this.combinableForWMS&&e.combinableForWMS&&this.supportsWMS&&e.supportsWMS&&this.queryable&&e.queryable&&this.wmsUrl===e.wmsUrl&&this.haveTheSameActiveDimensions(e)};e.prototype.isAnyOGCLayerInRange=function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return!!this.getInRangeOGCLayerNames(e,i).length};e.prototype.getInRangeOGCLayerNames=function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=[];if(this.ogcLayers){for(var r=this.ogcLayers,a=Array.isArray(r),o=0,r=a?r:r[Symbol.iterator]();;){var s;if(a){if(o>=r.length)break;s=r[o++]}else{o=r.next();if(o.done)break;s=o.value}var u=s;var l=u.maxResolution;var c=u.minResolution;var h=c===undefined||e>=c;var f=l===undefined||e<=l;var d=h&&f;if(d&&(!i||u.queryable)){n.push(u.name)}}}return n};e.prototype.getOGCLayerNames=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var i=[];if(this.ogcLayers){for(var n=this.ogcLayers,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var s=o;if(!e||s.queryable){i.push(s.name)}}}return i};e.prototype.getFiltrableOGCLayerName=function t(){n["a"].assert(this.filtrable);var e=this.getOGCLayerNames();n["a"].assert(e.length===1);return e[0]};e.prototype.updateGeometryNameFromAttributes_=function t(){var i=e.DEFAULT_GEOMETRY_NAME_;if(this.attributes){for(var n=this.attributes,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var s;if(r){if(a>=n.length)break;s=n[a++]}else{a=n.next();if(a.done)break;s=a.value}var u=s;if(u.type===o["a"].GEOMETRY){i=u.name;break}}}this.geometryName_=i};e.prototype.haveTheSameActiveDimensions=function t(e){var i=true;var n=this.activeDimensions;var r=e.activeDimensions;for(var a in n){if(n[a]!==r[a]){i=false;break}}if(i){for(var o in r){if(r[o]!==n[o]){i=false;break}}}return i};_(e,[{key:"dimensions",get:function t(){return this.dimensions_}},{key:"dimensionsConfig",get:function t(){return this.dimensionsConfig_},set:function t(e){this.dimensionsConfig_=e}},{key:"dimensionsFiltersConfig",get:function t(){return this.dimensionsFiltersConfig_},set:function t(e){this.dimensionsFiltersConfig_=e}},{key:"filterCondition",get:function t(){return this.filterCondition_},set:function t(e){this.filterCondition_=e}},{key:"filterRules",get:function t(){return this.filterRules_},set:function t(e){this.filterRules_=e}},{key:"timeLowerValue",get:function t(){return this.timeLowerValue_},set:function t(e){this.timeLowerValue_=e}},{key:"timeRangeValue",get:function t(){var e=null;var i=this.timeLowerValue;var n=this.timeUpperValue;if(i!==undefined){e={end:n,start:i}}return e},set:function t(e){if(e){this.timeUpperValue=e.end;this.timeLowerValue=e.start}else{this.timeUpperValue=undefined;this.timeLowerValue=undefined}}},{key:"timeUpperValue",get:function t(){return this.timeUpperValue_},set:function t(e){this.timeUpperValue_=e}},{key:"copyable",get:function t(){return this.copyable_}},{key:"filtrable",get:function t(){return this.filtrable_},set:function t(e){this.filtrable_=e}},{key:"geometryName",get:function t(){return this.geometryName_}},{key:"ogcImageType",get:function t(){return this.ogcImageType_}},{key:"ogcLayers",get:function t(){return this.ogcLayers_}},{key:"ogcServerType",get:function t(){return this.ogcServerType_}},{key:"ogcType",get:function t(){return this.ogcType_}},{key:"snappable",get:function t(){return this.snappable_}},{key:"snappingToEdges",get:function t(){return this.snappingToEdges_}},{key:"snappingToVertice",get:function t(){return this.snappingToVertice_}},{key:"snappingTolerance",get:function t(){return this.snappingTolerance_}},{key:"timeAttributeName",get:function t(){return this.timeAttributeName_}},{key:"timeProperty",get:function t(){return this.timeProperty_}},{key:"wfsFeatureNS",get:function t(){return this.wfsFeatureNS_}},{key:"wfsFeaturePrefix",get:function t(){return this.wfsFeaturePrefix_}},{key:"wfsOutputFormat",get:function t(){return this.wfsOutputFormat_}},{key:"wfsUrl",get:function t(){return this.wfsUrl_}},{key:"wmsInfoFormat",get:function t(){return this.wmsInfoFormat_}},{key:"wmsIsSingleTile",get:function t(){return this.wmsIsSingleTile_}},{key:"wmsUrl",get:function t(){return this.wmsUrl_}},{key:"wmtsLayer",get:function t(){return this.wmtsLayer_}},{key:"wmtsUrl",get:function t(){return this.wmtsUrl_}},{key:"activeDimensions",get:function t(){var e={};var i=this.dimensions_||{};var n=this.dimensionsConfig||{};for(var r in n){if(n[r]===null){if(i[r]!==undefined&&i[r]!==null){e[r]=i[r]}}else{e[r]=n[r]}}return e}},{key:"combinableForWFS",get:function t(){return this.filterRules_===null&&this.timeRangeValue===null}},{key:"combinableForWMS",get:function t(){return this.filterRules_===null&&this.timeRangeValue===null}},{key:"queryable",get:function t(){var e=false;var i=this.supportsWMS||this.supportsWFS;if(i&&this.ogcLayers){for(var n=this.ogcLayers,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var s=o;if(s.queryable===true){e=true;break}}}return e}},{key:"supportsWFS",get:function t(){return this.wfsUrl!==undefined}},{key:"supportsAttributes",get:function t(){return this.attributes!==null||this.supportsWFS&&this.ogcLayers!==null&&this.ogcLayers.length===1&&this.ogcLayers[0].queryable===true}},{key:"supportsWMS",get:function t(){return this.wmsUrl!==undefined}},{key:"supportsWMTS",get:function t(){return this.wmtsUrl!==undefined}},{key:"wfsFormat",get:function t(){return this.wfsFormat_}},{key:"wmsFormat",get:function t(){return this.wmsFormat_}}]);return e}(r["a"]);x.guessServiceTypeByUrl=function(t){var e=void 0;if(/(wmts)/i.test(t)){e=x.Type.WMTS}else{e=x.Type.WMS}return e};x.DEFAULT_GEOMETRY_NAME_="the_geom";x.ServerType={GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGISSERVER:"qgisserver"};x.Type={WMS:"WMS",WMTS:"WMTS"};x.WFSFeatureNS={geoserver:"http://www.opengis.net/gml/3.2",mapserver:"http://mapserver.gis.umn.edu/mapserver",qgisserver:"http://www.qgis.org/gml"};x.WFSFeaturePrefix={FEATURE:"feature"};x.WFSOutputFormat={GML2:"GML2",GML3:"GML3"};x.WMSInfoFormat={GML:"application/vnd.ogc.gml"};var S=e["a"]=x},function(t,e,i){"use strict";var n=i(1);var r=i(85);var a=i(10);var o=function t(e,i,n,a){r["a"].call(this);this.extent=e;this.pixelRatio_=n;this.resolution=i;this.state=a};Object(n["d"])(o,r["a"]);o.prototype.changed=function(){this.dispatchEvent(a["a"].CHANGE)};o.prototype.getExtent=function(){return this.extent};o.prototype.getImage=function(){};o.prototype.getPixelRatio=function(){return this.pixelRatio_};o.prototype.getResolution=function(){return this.resolution};o.prototype.getState=function(){return this.state};o.prototype.load=function(){};e["a"]=o},function(t,e,i){"use strict";i.d(e,"a",function(){return s});i.d(e,"b",function(){return u});i.d(e,"d",function(){return l});i.d(e,"c",function(){return c});var n=i(24);var r=i(12);var a=i(110);function o(t,e){var i=/\{z\}/g;var r=/\{x\}/g;var a=/\{y\}/g;var o=/\{-y\}/g;return function(s,u,l){if(!s){return undefined}else{return t.replace(i,s[0].toString()).replace(r,s[1].toString()).replace(a,function(){var t=-s[2]-1;return t.toString()}).replace(o,function(){var t=s[0];var i=e.getFullTileRange(t);Object(n["a"])(i,55);var r=i.getHeight()+s[2];return r.toString()})}}}function s(t,e){var i=t.length;var n=new Array(i);for(var r=0;r<i;++r){n[r]=o(t[r],e)}return u(n)}function u(t){if(t.length===1){return t[0]}return function(e,i,n){if(!e){return undefined}else{var o=Object(a["e"])(e);var s=Object(r["d"])(o,t.length);return t[s](e,i,n)}}}function l(t,e,i){return undefined}function c(t){var e=[];var i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n=i[1].charCodeAt(0);var r=i[2].charCodeAt(0);var a=void 0;for(a=n;a<=r;++a){e.push(t.replace(i[0],String.fromCharCode(a)))}return e}i=i=/\{(\d+)-(\d+)\}/.exec(t);if(i){var o=parseInt(i[2],10);for(var s=parseInt(i[1],10);s<=o;s++){e.push(t.replace(i[0],s.toString()))}return e}e.push(t);return e}},function(t,e,i){"use strict";e["a"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},function(t,e,i){"use strict";var n=i(1);var r=i(9);var a=i(4);var o=i(69);var s=i(62);var u=i(5);var l=i(67);var c=i(21);var h=i(46);var f=i(94);var d=i(107);var p=i(29);var v=i(11);var g=i(7);var m=i(0);var y=s["a"]+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/"+"1.0.0/gmlsf.xsd";var _=function t(e){var i=e?e:{};s["b"].call(this,i);this.surface_=i.surface!==undefined?i.surface:false;this.curve_=i.curve!==undefined?i.curve:false;this.multiCurve_=i.multiCurve!==undefined?i.multiCurve:true;this.multiSurface_=i.multiSurface!==undefined?i.multiSurface:true;this.schemaLocation=i.schemaLocation?i.schemaLocation:y;this.hasZ=i.hasZ!==undefined?i.hasZ:false};Object(n["d"])(_,s["b"]);_.prototype.readMultiCurve_=function(t,e){var i=Object(m["u"])([],this.MULTICURVE_PARSERS_,t,e,this);if(i){var n=new f["a"](null);n.setLineStrings(i);return n}else{return undefined}};_.prototype.readMultiSurface_=function(t,e){var i=Object(m["u"])([],this.MULTISURFACE_PARSERS_,t,e,this);if(i){var n=new d["a"](null);n.setPolygons(i);return n}else{return undefined}};_.prototype.curveMemberParser_=function(t,e){Object(m["t"])(this.CURVEMEMBER_PARSERS_,t,e,this)};_.prototype.surfaceMemberParser_=function(t,e){Object(m["t"])(this.SURFACEMEMBER_PARSERS_,t,e,this)};_.prototype.readPatch_=function(t,e){return Object(m["u"])([null],this.PATCHES_PARSERS_,t,e,this)};_.prototype.readSegment_=function(t,e){return Object(m["u"])([null],this.SEGMENTS_PARSERS_,t,e,this)};_.prototype.readPolygonPatch_=function(t,e){return Object(m["u"])([null],this.FLAT_LINEAR_RINGS_PARSERS_,t,e,this)};_.prototype.readLineStringSegment_=function(t,e){return Object(m["u"])([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,t,e,this)};_.prototype.interiorParser_=function(t,e){var i=Object(m["u"])(undefined,this.RING_PARSERS,t,e,this);if(i){var n=e[e.length-1];n.push(i)}};_.prototype.exteriorParser_=function(t,e){var i=Object(m["u"])(undefined,this.RING_PARSERS,t,e,this);if(i){var n=e[e.length-1];n[0]=i}};_.prototype.readSurface_=function(t,e){var i=Object(m["u"])([null],this.SURFACE_PARSERS_,t,e,this);if(i&&i[0]){var n=new p["b"](null);var a=i[0];var o=[a.length];var s=void 0,u=void 0;for(s=1,u=i.length;s<u;++s){Object(r["c"])(a,i[s]);o.push(a.length)}n.setFlatCoordinates(c["a"].XYZ,a,o);return n}else{return undefined}};_.prototype.readCurve_=function(t,e){var i=Object(m["u"])([null],this.CURVE_PARSERS_,t,e,this);if(i){var n=new h["a"](null);n.setFlatCoordinates(c["a"].XYZ,i);return n}else{return undefined}};_.prototype.readEnvelope_=function(t,e){var i=Object(m["u"])([null],this.ENVELOPE_PARSERS_,t,e,this);return Object(a["k"])(i[1][0],i[1][1],i[2][0],i[2][1])};_.prototype.readFlatPos_=function(t,e){var i=Object(m["e"])(t,false);var n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;var r=[];var a=void 0;while(a=n.exec(i)){r.push(parseFloat(a[1]));i=i.substr(a[0].length)}if(i!==""){return undefined}var o=e[0];var s=o["srsName"];var u="enu";if(s){var l=Object(g["h"])(s);u=l.getAxisOrientation()}if(u==="neu"){var c=void 0,h=void 0;for(c=0,h=r.length;c<h;c+=3){var f=r[c];var d=r[c+1];r[c]=d;r[c+1]=f}}var p=r.length;if(p==2){r.push(0)}if(p===0){return undefined}return r};_.prototype.readFlatPosList_=function(t,e){var i=Object(m["e"])(t,false).replace(/^\s*|\s*$/g,"");var n=e[0];var r=n["srsName"];var a=n["srsDimension"];var o="enu";if(r){var s=Object(g["h"])(r);o=s.getAxisOrientation()}var l=i.split(/\s+/);var c=2;if(t.getAttribute("srsDimension")){c=Object(u["g"])(t.getAttribute("srsDimension"))}else if(t.getAttribute("dimension")){c=Object(u["g"])(t.getAttribute("dimension"))}else if(t.parentNode.getAttribute("srsDimension")){c=Object(u["g"])(t.parentNode.getAttribute("srsDimension"))}else if(a){c=Object(u["g"])(a)}var h=void 0,f=void 0,d=void 0;var p=[];for(var v=0,y=l.length;v<y;v+=c){h=parseFloat(l[v]);f=parseFloat(l[v+1]);d=c===3?parseFloat(l[v+2]):0;if(o.substr(0,2)==="en"){p.push(h,f,d)}else{p.push(f,h,d)}}return p};_.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:Object(m["o"])(_.prototype.readFlatPos_),posList:Object(m["o"])(_.prototype.readFlatPosList_)}};_.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:_.prototype.interiorParser_,exterior:_.prototype.exteriorParser_}};_.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:Object(m["o"])(s["b"].prototype.readPoint),MultiPoint:Object(m["o"])(s["b"].prototype.readMultiPoint),LineString:Object(m["o"])(s["b"].prototype.readLineString),MultiLineString:Object(m["o"])(s["b"].prototype.readMultiLineString),LinearRing:Object(m["o"])(s["b"].prototype.readLinearRing),Polygon:Object(m["o"])(s["b"].prototype.readPolygon),MultiPolygon:Object(m["o"])(s["b"].prototype.readMultiPolygon),Surface:Object(m["o"])(_.prototype.readSurface_),MultiSurface:Object(m["o"])(_.prototype.readMultiSurface_),Curve:Object(m["o"])(_.prototype.readCurve_),MultiCurve:Object(m["o"])(_.prototype.readMultiCurve_),Envelope:Object(m["o"])(_.prototype.readEnvelope_)}};_.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:Object(m["j"])(_.prototype.curveMemberParser_),curveMembers:Object(m["j"])(_.prototype.curveMemberParser_)}};_.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:Object(m["j"])(_.prototype.surfaceMemberParser_),surfaceMembers:Object(m["j"])(_.prototype.surfaceMemberParser_)}};_.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(m["j"])(s["b"].prototype.readLineString),Curve:Object(m["j"])(_.prototype.readCurve_)}};_.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(m["j"])(s["b"].prototype.readPolygon),Surface:Object(m["j"])(_.prototype.readSurface_)}};_.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:Object(m["o"])(_.prototype.readPatch_)}};_.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:Object(m["o"])(_.prototype.readSegment_)}};_.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:Object(m["j"])(_.prototype.readFlatPosList_),upperCorner:Object(m["j"])(_.prototype.readFlatPosList_)}};_.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:Object(m["o"])(_.prototype.readPolygonPatch_)}};_.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:Object(m["o"])(_.prototype.readLineStringSegment_)}};_.prototype.writePos_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=r?3:2;t.setAttribute("srsDimension",a);var o=n["srsName"];var s="enu";if(o){s=Object(g["h"])(o).getAxisOrientation()}var l=e.getCoordinates();var c=void 0;if(s.substr(0,2)==="en"){c=l[0]+" "+l[1]}else{c=l[1]+" "+l[0]}if(r){var h=l[2]||0;c+=" "+h}Object(u["n"])(t,c)};_.prototype.getCoords_=function(t,e,i){var n="enu";if(e){n=Object(g["h"])(e).getAxisOrientation()}var r=n.substr(0,2)==="en"?t[0]+" "+t[1]:t[1]+" "+t[0];if(i){var a=t[2]||0;r+=" "+a}return r};_.prototype.writePosList_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=r?3:2;t.setAttribute("srsDimension",a);var o=n["srsName"];var s=e.getCoordinates();var l=s.length;var c=new Array(l);var h=void 0;for(var f=0;f<l;++f){h=s[f];c[f]=this.getCoords_(h,o,r)}Object(u["n"])(t,c.join(" "))};_.prototype.writePoint_=function(t,e,i){var n=i[i.length-1];var r=n["srsName"];if(r){t.setAttribute("srsName",r)}var a=Object(m["d"])(t.namespaceURI,"pos");t.appendChild(a);this.writePos_(a,e,i)};_.prototype.writeEnvelope=function(t,e,i){var n=i[i.length-1];var r=n["srsName"];if(r){t.setAttribute("srsName",r)}var a=["lowerCorner","upperCorner"];var o=[e[0]+" "+e[1],e[2]+" "+e[3]];Object(m["v"])({node:t},this.ENVELOPE_SERIALIZERS_,m["b"],o,i,a,this)};_.prototype.writeLinearRing_=function(t,e,i){var n=i[i.length-1];var r=n["srsName"];if(r){t.setAttribute("srsName",r)}var a=Object(m["d"])(t.namespaceURI,"posList");t.appendChild(a);this.writePosList_(a,e,i)};_.prototype.RING_NODE_FACTORY_=function(t,e,i){var n=e[e.length-1];var r=n.node;var a=n["exteriorWritten"];if(a===undefined){n["exteriorWritten"]=true}return Object(m["d"])(r.namespaceURI,a!==undefined?"interior":"exterior")};_.prototype.writeSurfaceOrPolygon_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];if(t.nodeName!=="PolygonPatch"&&a){t.setAttribute("srsName",a)}if(t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var o=e.getLinearRings();Object(m["v"])({node:t,hasZ:r,srsName:a},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,o,i,undefined,this)}else if(t.nodeName==="Surface"){var s=Object(m["d"])(t.namespaceURI,"patches");t.appendChild(s);this.writeSurfacePatches_(s,e,i)}};_.prototype.writeCurveOrLineString_=function(t,e,i){var n=i[i.length-1];var r=n["srsName"];if(t.nodeName!=="LineStringSegment"&&r){t.setAttribute("srsName",r)}if(t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var a=Object(m["d"])(t.namespaceURI,"posList");t.appendChild(a);this.writePosList_(a,e,i)}else if(t.nodeName==="Curve"){var o=Object(m["d"])(t.namespaceURI,"segments");t.appendChild(o);this.writeCurveSegments_(o,e,i)}};_.prototype.writeMultiSurfaceOrPolygon_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];var o=n["surface"];if(a){t.setAttribute("srsName",a)}var s=e.getPolygons();Object(m["v"])({node:t,hasZ:r,srsName:a,surface:o},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,undefined,this)};_.prototype.writeMultiPoint_=function(t,e,i){var n=i[i.length-1];var r=n["srsName"];var a=n["hasZ"];if(r){t.setAttribute("srsName",r)}var o=e.getPoints();Object(m["v"])({node:t,hasZ:a,srsName:r},this.POINTMEMBER_SERIALIZERS_,Object(m["q"])("pointMember"),o,i,undefined,this)};_.prototype.writeMultiCurveOrLineString_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];var o=n["curve"];if(a){t.setAttribute("srsName",a)}var s=e.getLineStrings();Object(m["v"])({node:t,hasZ:r,srsName:a,curve:o},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,undefined,this)};_.prototype.writeRing_=function(t,e,i){var n=Object(m["d"])(t.namespaceURI,"LinearRing");t.appendChild(n);this.writeLinearRing_(n,e,i)};_.prototype.writeSurfaceOrPolygonMember_=function(t,e,i){var n=this.GEOMETRY_NODE_FACTORY_(e,i);if(n){t.appendChild(n);this.writeSurfaceOrPolygon_(n,e,i)}};_.prototype.writePointMember_=function(t,e,i){var n=Object(m["d"])(t.namespaceURI,"Point");t.appendChild(n);this.writePoint_(n,e,i)};_.prototype.writeLineStringOrCurveMember_=function(t,e,i){var n=this.GEOMETRY_NODE_FACTORY_(e,i);if(n){t.appendChild(n);this.writeCurveOrLineString_(n,e,i)}};_.prototype.writeSurfacePatches_=function(t,e,i){var n=Object(m["d"])(t.namespaceURI,"PolygonPatch");t.appendChild(n);this.writeSurfaceOrPolygon_(n,e,i)};_.prototype.writeCurveSegments_=function(t,e,i){var n=Object(m["d"])(t.namespaceURI,"LineStringSegment");t.appendChild(n);this.writeCurveOrLineString_(n,e,i)};_.prototype.writeGeometryElement=function(t,e,i){var n=i[i.length-1];var r=Object(v["a"])({},n);r.node=t;var a=void 0;if(Array.isArray(e)){if(n.dataProjection){a=Object(g["o"])(e,n.featureProjection,n.dataProjection)}else{a=e}}else{a=Object(o["b"])(e,true,n)}Object(m["v"])(r,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[a],i,undefined,this)};_.prototype.writeFeatureElement=function(t,e,i){var n=e.getId();if(n){t.setAttribute("fid",n)}var r=i[i.length-1];var a=r["featureNS"];var o=e.getGeometryName();if(!r.serializers){r.serializers={};r.serializers[a]={}}var s=e.getProperties();var c=[];var h=[];for(var f in s){var d=s[f];if(d!==null){c.push(f);h.push(d);if(f==o||d instanceof l["a"]){if(!(f in r.serializers[a])){r.serializers[a][f]=Object(m["l"])(this.writeGeometryElement,this)}}else{if(!(f in r.serializers[a])){r.serializers[a][f]=Object(m["l"])(u["n"])}}}}var p=Object(v["a"])({},r);p.node=t;Object(m["v"])(p,r.serializers,Object(m["q"])(undefined,a),h,i,c)};_.prototype.writeFeatureMembers_=function(t,e,i){var n=i[i.length-1];var r=n["featureType"];var a=n["featureNS"];var o={};o[a]={};o[a][r]=Object(m["l"])(this.writeFeatureElement,this);var s=Object(v["a"])({},n);s.node=t;Object(m["v"])(s,o,Object(m["q"])(r,a),e,i)};var b={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};_.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var n=e[e.length-1].node;return Object(m["d"])("http://www.opengis.net/gml",b[n.nodeName])};_.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var n=e[e.length-1];var r=n["multiSurface"];var a=n["surface"];var o=n["curve"];var s=n["multiCurve"];var u=void 0;if(!Array.isArray(t)){u=t.getType();if(u==="MultiPolygon"&&r===true){u="MultiSurface"}else if(u==="Polygon"&&a===true){u="Surface"}else if(u==="LineString"&&o===true){u="Curve"}else if(u==="MultiLineString"&&s===true){u="MultiCurve"}}else{u="Envelope"}return Object(m["d"])("http://www.opengis.net/gml",u)};_.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var i=Object(m["d"])("http://www.opengis.net/gml","geom");var n={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};if(e){Object(v["a"])(n,e)}this.writeGeometryElement(i,t,[n]);return i};_.prototype.writeFeatures;_.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Object(m["d"])("http://www.opengis.net/gml","featureMembers");i.setAttributeNS(m["c"],"xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};if(e){Object(v["a"])(n,e)}this.writeFeatureMembers_(i,t,[n]);return i};_.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:Object(m["l"])(_.prototype.writeRing_),interior:Object(m["l"])(_.prototype.writeRing_)}};_.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(m["l"])(u["n"]),upperCorner:Object(m["l"])(u["n"])}};_.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(m["l"])(_.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(m["l"])(_.prototype.writeSurfaceOrPolygonMember_)}};_.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(m["l"])(_.prototype.writePointMember_)}};_.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(m["l"])(_.prototype.writeLineStringOrCurveMember_),curveMember:Object(m["l"])(_.prototype.writeLineStringOrCurveMember_)}};_.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(m["l"])(_.prototype.writeCurveOrLineString_),MultiCurve:Object(m["l"])(_.prototype.writeMultiCurveOrLineString_),Point:Object(m["l"])(_.prototype.writePoint_),MultiPoint:Object(m["l"])(_.prototype.writeMultiPoint_),LineString:Object(m["l"])(_.prototype.writeCurveOrLineString_),MultiLineString:Object(m["l"])(_.prototype.writeMultiCurveOrLineString_),LinearRing:Object(m["l"])(_.prototype.writeLinearRing_),Polygon:Object(m["l"])(_.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(m["l"])(_.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(m["l"])(_.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(m["l"])(_.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(m["l"])(_.prototype.writeEnvelope)}};e["a"]=_},function(t,e,i){"use strict";var n=i(2);var r=i(190);var a=i(86);var o=i(1);var s=i(14);var u=i(3);var l=i(20);var c=i(146);var h=i(156);var f=i(46);var d=i(32);var p=i(27);var v=i(38);var g=i(34);var m=function t(e){p["b"].call(this,{handleDownEvent:t.handleDownEvent_,handleEvent:t.handleEvent_,handleUpEvent:t.handleUpEvent_});this.downPx_=null;this.source_=e.source!==undefined?e.source:null;this.started_=false;this.sketchFeature_=null;this.sketchPoint_=null;this.squaredClickTolerance_=4;this.sketchLayer_=new v["a"]({source:new g["b"]({useSpatialIndex:false,wrapX:false}),style:e.style||r["a"].getDefaultDrawStyleFunction()});u["a"](this,"change:active",this.updateState_,this)};o["d"](m,p["b"]);m.handleDownEvent_=function(t){this.downPx_=t.pixel;return true};m.handleUpEvent_=function(t){var e=this.downPx_;var i=t.pixel;var n=e[0]-i[0];var r=e[1]-i[1];var a=n*n+r*r;var o=true;if(a<=this.squaredClickTolerance_){this.handlePointerMove_(t);if(!this.started_){this.startDrawing_(t)}else{this.finishDrawing_()}o=false}return o};m.handleEvent_=function(t){var e=true;if(t.type==="pointermove"){e=this.handlePointerMove_(t)}else if(t.type==="dblclick"){e=false}return p["c"].call(this,t)&&e};m.prototype.handlePointerMove_=function(t){if(this.started_){this.modifyDrawing_(t)}else{this.createOrUpdateSketchPoint_(t)}return true};m.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();if(this.sketchPoint_===null){this.sketchPoint_=new s["a"](new d["a"](e));this.updateSketchFeatures_()}else{var i=this.sketchPoint_.getGeometry();n["a"].assertInstanceof(i,d["a"]);i.setCoordinates(e)}};m.prototype.updateSketchFeatures_=function(){var t=[];if(this.sketchFeature_!==null){t.push(this.sketchFeature_)}if(this.sketchPoint_!==null){t.push(this.sketchPoint_)}var e=this.sketchLayer_.getSource();e.clear(true);e.addFeatures(t)};m.prototype.startDrawing_=function(t){var e=t.coordinate;this.started_=true;var i=new f["a"]([e.slice(),e.slice()]);var r=new c["a"](e,0);var o=new h["a"]([i,r]);n["a"].assert(o!==undefined);this.sketchFeature_=new s["a"];this.sketchFeature_.setGeometry(o);this.updateSketchFeatures_();var u=new a["a"]("drawstart",{feature:this.sketchFeature_});this.dispatchEvent(u)};m.prototype.modifyDrawing_=function(t){var e=t.coordinate;var i=n["a"].assertInstanceof(this.sketchFeature_.getGeometry(),h["a"]);var r=i.getGeometriesArray();var a=r[0];n["a"].assertInstanceof(a,f["a"]);var o=a.getCoordinates();var s=this.sketchPoint_.getGeometry();n["a"].assertInstanceof(s,d["a"]);s.setCoordinates(e);var u=o[o.length-1];u[0]=e[0];u[1]=e[1];n["a"].assertInstanceof(a,f["a"]);a.setCoordinates(o);var l=n["a"].assertInstanceof(r[1],c["a"]);l.setRadius(a.getLength());this.updateSketchFeatures_()};m.prototype.abortDrawing_=function(){this.started_=false;var t=this.sketchFeature_;if(t!==null){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLayer_.getSource().clear(true)}return t};m.prototype.shouldStopEvent=l["a"];m.prototype.updateState_=function(){var t=this.getMap();var e=this.getActive();if(t===null||!e){this.abortDrawing_()}this.sketchLayer_.setMap(e?t:null)};m.prototype.finishDrawing_=function(){var t=this.abortDrawing_();n["a"].assert(t!==null);if(this.source_!==null){this.source_.addFeature(t)}var e=new a["a"]("drawend",{feature:this.sketchFeature_});this.dispatchEvent(e)};m.prototype.setMap=function(t){p["b"].prototype.setMap.call(this,t);this.updateState_()};var y=m;var _=i(118);var b=i(147);var w=function t(e,i){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_["a"].call(this,r);this.continueMsg;if(r.continueMsg!==undefined){this.continueMsg=r.continueMsg}else{this.continueMsg=document.createElement("span");this.continueMsg.textContent="Click to finish."}this.numberFormat=n["a"].assert(i);this.unitPrefixFormat=n["a"].assert(e)};o["d"](w,_["a"]);w.prototype.createDrawInteraction=function(t,e){return new y({source:e,style:t})};w.prototype.handleMeasure=function(t){var e=n["a"].assertInstanceof(this.sketchFeature.getGeometry(),h["a"]);var i=n["a"].assertInstanceof(e.getGeometries()[0],f["a"]);var r=w.getFormattedAzimutRadius(i,n["a"].assertInstanceof(this.getMap().getView().getProjection(),b["a"]),this.decimals,this.precision,this.unitPrefixFormat,this.numberFormat);t(r,i.getLastCoordinate())};w.getFormattedAzimutRadius=function(t,e,i,n,r,a){var o=w.getFormattedAzimut(t,i,a);o+=", "+_["a"].getFormattedLength(t,e,n,r);return o};w.getFormattedAzimut=function(t,e,i){var n=w.getAzimut(t);return i(n,e)+"°"};w.getAzimut=function(t){var e=t.getCoordinates();var i=e[1][0]-e[0][0];var n=e[1][1]-e[0][1];var r=Math.acos(n/Math.sqrt(i*i+n*n));var a=i>0?1:-1;return a*r*180/Math.PI%360};var O=e["a"]=w},function(t,e,i){"use strict";var n=i(1);var r=i(227);var a=i.n(r);var o=i(4);var s=i(11);var u=function t(e){this.rbush_=a()(e);this.items_={}};u.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i);this.items_[Object(n["c"])(e)]=i};u.prototype.load=function(t,e){var i=new Array(e.length);for(var r=0,a=e.length;r<a;r++){var o=t[r];var s=e[r];var u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};i[r]=u;this.items_[Object(n["c"])(s)]=u}this.rbush_.load(i)};u.prototype.remove=function(t){var e=Object(n["c"])(t);var i=this.items_[e];delete this.items_[e];return this.rbush_.remove(i)!==null};u.prototype.update=function(t,e){var i=this.items_[Object(n["c"])(e)];var r=[i.minX,i.minY,i.maxX,i.maxY];if(!Object(o["p"])(r,t)){this.remove(e);this.insert(t,e)}};u.prototype.getAll=function(){var t=this.rbush_.all();return t.map(function(t){return t.value})};u.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};var i=this.rbush_.search(e);return i.map(function(t){return t.value})};u.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)};u.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)};u.prototype.forEach_=function(t,e,i){var n=void 0;for(var r=0,a=t.length;r<a;r++){n=e.call(i,t[r]);if(n){return n}}return n};u.prototype.isEmpty=function(){return Object(s["d"])(this.items_)};u.prototype.clear=function(){this.rbush_.clear();this.items_={}};u.prototype.getExtent=function(t){var e=this.rbush_.data;return Object(o["k"])(e.minX,e.minY,e.maxX,e.maxY,t)};u.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var e in t.items_){this.items_[e|0]=t.items_[e|0]}};e["a"]=u},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n="http://www.w3.org/1999/xlink";function r(t){return t.getAttributeNS(n,"href")}},function(t,e,i){"use strict";var n=i(1);var r=i(20);var a=i(30);var o=i(7);var s=i(142);var u=function t(e){a["a"].call(this);this.projection_=Object(o["h"])(e.projection);this.attributions_=this.adaptAttributions_(e.attributions);this.state_=e.state!==undefined?e.state:s["a"].READY;this.wrapX_=e.wrapX!==undefined?e.wrapX:false};Object(n["d"])(u,a["a"]);u.prototype.adaptAttributions_=function(t){if(!t){return null}if(Array.isArray(t)){return function(e){return t}}if(typeof t==="function"){return t}return function(e){return[t]}};u.prototype.forEachFeatureAtCoordinate=r["c"];u.prototype.getAttributions=function(){return this.attributions_};u.prototype.getProjection=function(){return this.projection_};u.prototype.getResolutions=function(){};u.prototype.getState=function(){return this.state_};u.prototype.getWrapX=function(){return this.wrapX_};u.prototype.refresh=function(){this.changed()};u.prototype.setAttributions=function(t){this.attributions_=this.adaptAttributions_(t);this.changed()};u.prototype.setState=function(t){this.state_=t;this.changed()};e["a"]=u},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";function e(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]}function i(t){return t=e(Math.abs(t)),t?t[1]:NaN}function n(t,e){return function(i,n){var r=i.length,a=[],o=0,s=t[0],u=0;while(r>0&&s>0){if(u+s+1>n)s=Math.max(1,n-u);a.push(i.substring(r-=s,r+s));if((u+=s+1)>n)break;s=t[o=(o+1)%t.length]}return a.reverse().join(e)}}function r(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}var a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(t){if(!(e=a.exec(t)))throw new Error("invalid format: "+t);var e;return new s({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}o.prototype=s.prototype;function s(t){this.fill=t.fill===undefined?" ":t.fill+"";this.align=t.align===undefined?">":t.align+"";this.sign=t.sign===undefined?"-":t.sign+"";this.symbol=t.symbol===undefined?"":t.symbol+"";this.zero=!!t.zero;this.width=t.width===undefined?undefined:+t.width;this.comma=!!t.comma;this.precision=t.precision===undefined?undefined:+t.precision;this.trim=!!t.trim;this.type=t.type===undefined?"":t.type+""}s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u(t){t:for(var e=t.length,i=1,n=-1,r;i<e;++i){switch(t[i]){case".":n=r=i;break;case"0":if(n===0)n=i;r=i;break;default:if(!+t[i])break t;if(n>0)n=0;break}}return n>0?t.slice(0,n)+t.slice(r+1):t}var l;function c(t,i){var n=e(t,i);if(!n)return t+"";var r=n[0],a=n[1],o=a-(l=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+e(t,Math.max(0,i+o-1))[0]}function h(t,i){var n=e(t,i);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var f={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return h(t*100,e)},r:h,s:c,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function d(t){return t}var p=Array.prototype.map,v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function g(t){var e=t.grouping===undefined||t.thousands===undefined?d:n(p.call(t.grouping,Number),t.thousands+""),a=t.currency===undefined?"":t.currency[0]+"",s=t.currency===undefined?"":t.currency[1]+"",c=t.decimal===undefined?".":t.decimal+"",h=t.numerals===undefined?d:r(p.call(t.numerals,String)),g=t.percent===undefined?"%":t.percent+"",m=t.minus===undefined?"-":t.minus+"",y=t.nan===undefined?"NaN":t.nan+"";function _(t){t=o(t);var i=t.fill,n=t.align,r=t.sign,d=t.symbol,p=t.zero,_=t.width,b=t.comma,w=t.precision,O=t.trim,x=t.type;if(x==="n")b=true,x="g";else if(!f[x])w===undefined&&(w=12),O=true,x="g";if(p||i==="0"&&n==="=")p=true,i="0",n="=";var S=d==="$"?a:d==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",C=d==="$"?s:/[%p]/.test(x)?g:"";var T=f[x],E=/[defgprs%]/.test(x);w=w===undefined?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(t){var a=S,o=C,s,f,d;if(x==="c"){o=T(t)+o;t=""}else{t=+t;var g=t<0||1/t<0;t=isNaN(t)?y:T(Math.abs(t),w);if(O)t=u(t);if(g&&+t===0&&r!=="+")g=false;a=(g?r==="("?r:m:r==="-"||r==="("?"":r)+a;o=(x==="s"?v[8+l/3]:"")+o+(g&&r==="("?")":"");if(E){s=-1,f=t.length;while(++s<f){if(d=t.charCodeAt(s),48>d||d>57){o=(d===46?c+t.slice(s+1):t.slice(s))+o;t=t.slice(0,s);break}}}}if(b&&!p)t=e(t,Infinity);var M=a.length+t.length+o.length,j=M<_?new Array(_-M+1).join(i):"";if(b&&p)t=e(j+t,j.length?_-o.length:Infinity),j="";switch(n){case"<":t=a+t+o+j;break;case"=":t=a+j+t+o;break;case"^":t=j.slice(0,M=j.length>>1)+a+t+o+j.slice(M);break;default:t=j+a+t+o;break}return h(t)}M.toString=function(){return t+""};return M}function b(t,e){var n=_((t=o(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(i(e)/3)))*3,a=Math.pow(10,-r),s=v[8+r/3];return function(t){return n(a*t)+s}}return{format:_,formatPrefix:b}}var m;y({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function y(e){m=g(e);t.format=m.format;t.formatPrefix=m.formatPrefix;return m}function _(t){return Math.max(0,-i(Math.abs(t)))}function b(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(i(e)/3)))*3-i(Math.abs(t)))}function w(t,e){t=Math.abs(t),e=Math.abs(e)-t;return Math.max(0,i(e)-i(t))+1}t.FormatSpecifier=s;t.formatDefaultLocale=y;t.formatLocale=g;t.formatSpecifier=o;t.precisionFixed=_;t.precisionPrefix=b;t.precisionRound=w;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";var n=i(50);var r=i(54);var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}return function(e,i,n){if(i)t(e.prototype,i);if(n)t(e,n);return e}}();function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function s(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var l=function(t){u(e,t);function e(i){o(this,e);i.operator=r["a"].OperatorType.EQUAL_TO;i.type=n["a"].SELECT;var a=s(this,t.call(this,i));a.choices_=i.choices;return a}a(e,[{key:"choices",get:function t(){return this.choices_}},{key:"selectedChoices",get:function t(){var e=void 0;if(this.expression){var i=String(this.expression);e=i.split(",")}else{e=[]}return e}}]);return e}(r["a"]);e["a"]=l},function(t,e,i){"use strict";var n=i(1);var r=i(40);var a=function t(e,i,n){r["a"].call(this,e);this.map=i;this.frameState=n!==undefined?n:null};Object(n["d"])(a,r["a"]);e["a"]=a},function(t,e,i){"use strict";var n=i(2);var r=i(106);var a=i(228);var o=i(61);var s=i(31);var u=i(118);var l=i(176);var c=i(9);var h=i(82);var f=i(4);var d=i(14);var p=i(46);var v=i(94);var g=i(109);var m=i(32);var y=i(29);var _=i(107);var b=i(1);var w=i(69);var O=i(129);var x=i(5);var S=i(21);var C=i(7);var T=i(0);var E=function t(e){var i=e?e:{};O["a"].call(this);this.defaultDataProjection=Object(C["h"])("EPSG:4326");this.readExtensions_=i.readExtensions};Object(b["d"])(E,O["a"]);var M=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];var j="http://www.topografix.com/GPX/1/1 "+"http://www.topografix.com/GPX/1/1/gpx.xsd";var k={rte:ot,trk:st,wpt:ut};var R=Object(T["r"])(M,{rte:Object(T["j"])(ot),trk:Object(T["j"])(st),wpt:Object(T["j"])(ut)});var A=Object(T["r"])(M,{text:Object(T["n"])(x["h"],"linkText"),type:Object(T["n"])(x["h"],"linkType")});var I=Object(T["r"])(M,{name:Object(T["n"])(x["h"]),cmt:Object(T["n"])(x["h"]),desc:Object(T["n"])(x["h"]),src:Object(T["n"])(x["h"]),link:et,number:Object(T["n"])(x["f"]),extensions:it,type:Object(T["n"])(x["h"]),rtept:nt});var P=Object(T["r"])(M,{ele:Object(T["n"])(x["d"]),time:Object(T["n"])(x["c"])});var D=Object(T["r"])(M,{name:Object(T["n"])(x["h"]),cmt:Object(T["n"])(x["h"]),desc:Object(T["n"])(x["h"]),src:Object(T["n"])(x["h"]),link:et,number:Object(T["n"])(x["f"]),type:Object(T["n"])(x["h"]),extensions:it,trkseg:at});var N=Object(T["r"])(M,{trkpt:rt});var $=Object(T["r"])(M,{ele:Object(T["n"])(x["d"]),time:Object(T["n"])(x["c"])});var L=Object(T["r"])(M,{ele:Object(T["n"])(x["d"]),time:Object(T["n"])(x["c"]),magvar:Object(T["n"])(x["d"]),geoidheight:Object(T["n"])(x["d"]),name:Object(T["n"])(x["h"]),cmt:Object(T["n"])(x["h"]),desc:Object(T["n"])(x["h"]),src:Object(T["n"])(x["h"]),link:et,sym:Object(T["n"])(x["h"]),type:Object(T["n"])(x["h"]),fix:Object(T["n"])(x["h"]),sat:Object(T["n"])(x["f"]),hdop:Object(T["n"])(x["d"]),vdop:Object(T["n"])(x["d"]),pdop:Object(T["n"])(x["d"]),ageofdgpsdata:Object(T["n"])(x["d"]),dgpsid:Object(T["n"])(x["f"]),extensions:it});var F=["text","type"];var G=Object(T["r"])(M,{text:Object(T["l"])(x["n"]),type:Object(T["l"])(x["n"])});var U=Object(T["r"])(M,["name","cmt","desc","src","link","number","type","rtept"]);var H=Object(T["r"])(M,{name:Object(T["l"])(x["n"]),cmt:Object(T["l"])(x["n"]),desc:Object(T["l"])(x["n"]),src:Object(T["l"])(x["n"]),link:Object(T["l"])(lt),number:Object(T["l"])(x["m"]),type:Object(T["l"])(x["n"]),rtept:Object(T["k"])(Object(T["l"])(ct))});var W=Object(T["r"])(M,["ele","time"]);var Y=Object(T["r"])(M,["name","cmt","desc","src","link","number","type","trkseg"]);var z=Object(T["r"])(M,{name:Object(T["l"])(x["n"]),cmt:Object(T["l"])(x["n"]),desc:Object(T["l"])(x["n"]),src:Object(T["l"])(x["n"]),link:Object(T["l"])(lt),number:Object(T["l"])(x["m"]),type:Object(T["l"])(x["n"]),trkseg:Object(T["k"])(Object(T["l"])(dt))});var V=Object(T["q"])("trkpt");var B=Object(T["r"])(M,{trkpt:Object(T["l"])(ct)});var q=Object(T["r"])(M,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]);var K=Object(T["r"])(M,{ele:Object(T["l"])(x["l"]),time:Object(T["l"])(x["k"]),magvar:Object(T["l"])(x["l"]),geoidheight:Object(T["l"])(x["l"]),name:Object(T["l"])(x["n"]),cmt:Object(T["l"])(x["n"]),desc:Object(T["l"])(x["n"]),src:Object(T["l"])(x["n"]),link:Object(T["l"])(lt),sym:Object(T["l"])(x["n"]),type:Object(T["l"])(x["n"]),fix:Object(T["l"])(x["n"]),sat:Object(T["l"])(x["m"]),hdop:Object(T["l"])(x["l"]),vdop:Object(T["l"])(x["l"]),pdop:Object(T["l"])(x["l"]),ageofdgpsdata:Object(T["l"])(x["l"]),dgpsid:Object(T["l"])(x["m"])});var X={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Z(t,e,i){var n=t.getGeometry();if(n){var r=X[n.getType()];if(r){var a=e[e.length-1].node;return Object(T["d"])(a.namespaceURI,r)}}}var Q=Object(T["r"])(M,{rte:Object(T["l"])(ht),trk:Object(T["l"])(ft),wpt:Object(T["l"])(pt)});function J(t,e,i,n){t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat")));if("ele"in n){t.push(n["ele"]);delete n["ele"];e.hasZ=true}else{t.push(0)}if("time"in n){t.push(n["time"]);delete n["time"];e.hasM=true}else{t.push(0)}return t}function tt(t,e,i){var n=S["a"].XY;var r=2;if(t.hasZ&&t.hasM){n=S["a"].XYZM;r=4}else if(t.hasZ){n=S["a"].XYZ;r=3}else if(t.hasM){n=S["a"].XYM;r=3}if(r!==4){for(var a=0,o=e.length/4;a<o;a++){e[a*r]=e[a*4];e[a*r+1]=e[a*4+1];if(t.hasZ){e[a*r+2]=e[a*4+2]}if(t.hasM){e[a*r+2]=e[a*4+3]}}e.length=e.length/4*r;if(i){for(var s=0,u=i.length;s<u;s++){i[s]=i[s]/4*r}}}return n}function et(t,e){var i=e[e.length-1];var n=t.getAttribute("href");if(n!==null){i["link"]=n}Object(T["t"])(A,t,e)}function it(t,e){var i=e[e.length-1];i["extensionsNode_"]=t}function nt(t,e){var i=Object(T["u"])({},P,t,e);if(i){var n=e[e.length-1];var r=n["flatCoordinates"];var a=n["layoutOptions"];J(r,a,t,i)}}function rt(t,e){var i=Object(T["u"])({},$,t,e);if(i){var n=e[e.length-1];var r=n["flatCoordinates"];var a=n["layoutOptions"];J(r,a,t,i)}}function at(t,e){var i=e[e.length-1];Object(T["t"])(N,t,e);var n=i["flatCoordinates"];var r=i["ends"];r.push(n.length)}function ot(t,e){var i=e[0];var n=Object(T["u"])({flatCoordinates:[],layoutOptions:{}},I,t,e);if(!n){return undefined}var r=n["flatCoordinates"];delete n["flatCoordinates"];var a=n["layoutOptions"];delete n["layoutOptions"];var o=tt(a,r);var s=new p["a"](null);s.setFlatCoordinates(o,r);Object(w["b"])(s,false,i);var u=new d["a"](s);u.setProperties(n);return u}function st(t,e){var i=e[0];var n=Object(T["u"])({flatCoordinates:[],ends:[],layoutOptions:{}},D,t,e);if(!n){return undefined}var r=n["flatCoordinates"];delete n["flatCoordinates"];var a=n["ends"];delete n["ends"];var o=n["layoutOptions"];delete n["layoutOptions"];var s=tt(o,r,a);var u=new v["a"](null);u.setFlatCoordinates(s,r,a);Object(w["b"])(u,false,i);var l=new d["a"](u);l.setProperties(n);return l}function ut(t,e){var i=e[0];var n=Object(T["u"])({},L,t,e);if(!n){return undefined}var r={};var a=J([],r,t,n);var o=tt(r,a);var s=new m["a"](a,o);Object(w["b"])(s,false,i);var u=new d["a"](s);u.setProperties(n);return u}E.prototype.handleReadExtensions_=function(t){if(!t){t=[]}for(var e=0,i=t.length;e<i;++e){var n=t[e];if(this.readExtensions_){var r=n.get("extensionsNode_")||null;this.readExtensions_(n,r)}n.set("extensionsNode_",undefined)}};E.prototype.readFeature;E.prototype.readFeatureFromNode=function(t,e){if(!Object(c["f"])(M,t.namespaceURI)){return null}var i=k[t.localName];if(!i){return null}var n=i(t,[this.getReadOptions(t,e)]);if(!n){return null}this.handleReadExtensions_([n]);return n};E.prototype.readFeatures;E.prototype.readFeaturesFromNode=function(t,e){if(!Object(c["f"])(M,t.namespaceURI)){return[]}if(t.localName=="gpx"){var i=Object(T["u"])([],R,t,[this.getReadOptions(t,e)]);if(i){this.handleReadExtensions_(i);return i}else{return[]}}return[]};E.prototype.readProjection;function lt(t,e,i){t.setAttribute("href",e);var n=i[i.length-1];var r=n["properties"];var a=[r["linkText"],r["linkType"]];Object(T["v"])({node:t},G,T["b"],a,i,F)}function ct(t,e,i){var n=i[i.length-1];var r=n.node;var a=r.namespaceURI;var o=n["properties"];t.setAttributeNS(null,"lat",e[1]);t.setAttributeNS(null,"lon",e[0]);var s=n["geometryLayout"];switch(s){case S["a"].XYZM:if(e[3]!==0){o["time"]=e[3]}case S["a"].XYZ:if(e[2]!==0){o["ele"]=e[2]}break;case S["a"].XYM:if(e[2]!==0){o["time"]=e[2]}break;default:}var u=t.nodeName=="rtept"?W[a]:q[a];var l=Object(T["p"])(o,u);Object(T["v"])({node:t,properties:o},K,T["b"],l,i,u)}function ht(t,e,i){var n=i[0];var r=e.getProperties();var a={node:t,properties:r};var o=e.getGeometry();if(o){o=Object(w["b"])(o,true,n);a["geometryLayout"]=o.getLayout();r["rtept"]=o.getCoordinates()}var s=i[i.length-1].node;var u=U[s.namespaceURI];var l=Object(T["p"])(r,u);Object(T["v"])(a,H,T["b"],l,i,u)}function ft(t,e,i){var n=i[0];var r=e.getProperties();var a={node:t,properties:r};var o=e.getGeometry();if(o){o=Object(w["b"])(o,true,n);r["trkseg"]=o.getLineStrings()}var s=i[i.length-1].node;var u=Y[s.namespaceURI];var l=Object(T["p"])(r,u);Object(T["v"])(a,z,T["b"],l,i,u)}function dt(t,e,i){var n={node:t,geometryLayout:e.getLayout(),properties:{}};Object(T["v"])(n,B,V,e.getCoordinates(),i)}function pt(t,e,i){var n=i[0];var r=i[i.length-1];r["properties"]=e.getProperties();var a=e.getGeometry();if(a){a=Object(w["b"])(a,true,n);r["geometryLayout"]=a.getLayout();ct(t,a.getCoordinates(),i)}}E.prototype.writeFeatures;E.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Object(T["d"])("http://www.topografix.com/GPX/1/1","gpx");var n="http://www.w3.org/2000/xmlns/";i.setAttributeNS(n,"xmlns:xsi",T["c"]);i.setAttributeNS(T["c"],"xsi:schemaLocation",j);i.setAttribute("version","1.1");i.setAttribute("creator","OpenLayers");Object(T["v"])({node:i},Q,Z,t,[e]);return i};var vt=E;var gt=i(291);var mt=i(79);var yt=i(41);var _t=i(209);var bt=i(42);var wt=i(13);var Ot=i(123);var xt=function t(e,i){this.$filter_=i;this.decimals_=undefined;if(e.has("ngeoMeasureDecimals")){this.decimals_=e.get("ngeoMeasureDecimals")}this.precision_=undefined;if(e.has("ngeoMeasurePrecision")){this.precision_=e.get("ngeoMeasurePrecision")}this.numberFormat_=i("number");this.unitPrefixFormat_=i("ngeoUnitPrefix");this.ngeoNumberCoordinates_=i("ngeoNumberCoordinates");this.pointFilterFn_=null;this.pointFilterArgs_=[];if(e.has("ngeoPointfilter")){var r=e.get("ngeoPointfilter").split(":");var a=r.shift();var o=this.$filter_(a);n["a"].assertFunction(o);this.pointFilterFn_=o;this.pointFilterArgs_=r}else{this.pointFilterFn_=null}this.projection_;this.download_=e.get("ngeoDownload")};xt.$inject=["$injector","$filter"];xt.$inject=["$injector","$filter"];xt.prototype.setProjection=function(t){this.projection_=t};xt.prototype.setStyle=function(t,e){var i=this.getStyle(t);if(e){if(this.supportsVertex_(t)){i.push(this.getVertexStyle())}i.unshift(this.getHaloStyle_(t))}t.setStyle(i)};xt.prototype.getStyle=function(t){var e=this.getType(t);var i=void 0;switch(e){case s["a"].LINE_STRING:i=this.getLineStringStyle_(t);break;case s["a"].POINT:i=this.getPointStyle_(t);break;case s["a"].CIRCLE:case s["a"].POLYGON:case s["a"].RECTANGLE:i=this.getPolygonStyle_(t);break;case s["a"].TEXT:i=this.getTextStyle_(t);break;default:break}n["a"].assert(i,"Style should be thruthy");var r=void 0;if(i.constructor===Array){r=i}else{r=[i]}return r};xt.prototype.getLineStringStyle_=function(t){var e=this.getStrokeProperty(t);var i=this.getShowLabelProperty(t);var n=this.getShowMeasureProperty(t);var r=this.getRGBAColorProperty(t);var a=[new wt["c"]({stroke:new bt["a"]({color:r,width:e})})];var o=[];if(n){o.push(this.getMeasure(t))}if(i){o.push(this.getNameProperty(t))}if(i||n){var s=o.join("\n");a.push(new wt["c"]({text:this.createTextStyle_({text:s})}))}return a};xt.prototype.getPointStyle_=function(t){var e=this.getSizeProperty(t);var i=this.getRGBAColorProperty(t);var n=this.getShowLabelProperty(t);var r=this.getShowMeasureProperty(t);var a=[new wt["c"]({image:new mt["a"]({radius:e,fill:new yt["a"]({color:i})})})];var o=[];if(r){o.push(this.getMeasure(t))}if(n){o.push(this.getNameProperty(t))}if(n||r){var s=o.join("\n");var u=10;var l=1.3;a.push(new wt["c"]({text:this.createTextStyle_({text:s,size:u,offsetY:-(e+u/2*o.length*l+4)})}))}return a};xt.prototype.optNumber=function(t,e){var i=t.get(e);if(i!==undefined){if(typeof i=="string"){return+i}else{return n["a"].assertNumber(i)}}else{return undefined}};xt.prototype.getNumber=function(t,e){var i=t.get(e);if(typeof i=="string"){return+i}else{return n["a"].assertNumber(i)}};xt.prototype.getPolygonStyle_=function(t){var e=this.getStrokeProperty(t);var i=this.getOpacityProperty(t);var n=this.getRGBAColorProperty(t);var r=this.getShowLabelProperty(t);var a=this.getShowMeasureProperty(t);var s=n.slice();s[3]=i;var l=this.optNumber(t,o["a"].AZIMUT);var c=[new wt["c"]({fill:new yt["a"]({color:s}),stroke:new bt["a"]({color:n,width:e})})];if(a||r){if(a&&l!==undefined){var h=this.getRadiusLine(t,l);var f=u["a"].getFormattedLength(h,this.projection_,this.precision_,this.unitPrefixFormat_);c.push(new wt["c"]({geometry:h,fill:new yt["a"]({color:s}),stroke:new bt["a"]({color:n,width:e}),text:this.createTextStyle_({text:f,angle:(l%180+180)%180-90})}));c.push(new wt["c"]({geometry:new m["a"](h.getLastCoordinate()),text:this.createTextStyle_({text:this.numberFormat_(l,this.decimals_)+"°",size:10,offsetX:Math.cos((l-90)*Math.PI/180)*20,offsetY:Math.sin((l-90)*Math.PI/180)*20})}));if(r){c.push(new wt["c"]({text:this.createTextStyle_({text:this.getNameProperty(t),offsetY:-8,exceedLength:true})}))}}else{var d=[];if(a){d.push(this.getMeasure(t))}if(r){d.push(this.getNameProperty(t))}if(r||a){var p=d.join("\n");c.push(new wt["c"]({text:this.createTextStyle_({text:p,exceedLength:true})}))}}}return c};xt.prototype.getTextStyle_=function(t){return new wt["c"]({text:this.createTextStyle_({text:this.getNameProperty(t),size:this.getSizeProperty(t),angle:this.getAngleProperty(t),color:this.getRGBAColorProperty(t),width:this.getStrokeProperty(t)})})};xt.prototype.createEditingStyles=function(t){var e=[255,255,255,1];var i=[0,153,255,1];var n=3;var r=[];var a=t.getGeometry();console.assert(a);var o=a.getType();if(o==="Point"){r.push(new wt["c"]({image:new mt["a"]({radius:n*2,fill:new yt["a"]({color:i}),stroke:new bt["a"]({color:e,width:n/2})}),zIndex:Infinity}))}else{if(o==="LineString"){r.push(new wt["c"]({stroke:new bt["a"]({color:e,width:n+2})}));r.push(new wt["c"]({stroke:new bt["a"]({color:i,width:n})}))}else{r.push(new wt["c"]({stroke:new bt["a"]({color:i,width:n/2}),fill:new yt["a"]({color:[255,255,255,.5]})}))}r.push(this.getVertexStyle(true))}return r};xt.prototype.getVertexStyle=function(t){var e=t!==undefined?t:true;var i={image:new _t["a"]({radius:6,points:4,angle:Math.PI/4,fill:new yt["a"]({color:[255,255,255,.5]}),stroke:new bt["a"]({color:[0,0,0,1]})})};if(e){i.geometry=function(t){var e=t.getGeometry();if(e.getType()=="Point"){return}var i=void 0;var n=[];var r=[];var a=void 0,o=void 0;if(e instanceof p["a"]){r=e.getCoordinates()}else if(e instanceof v["a"]){n=e.getCoordinates()}else if(e instanceof y["b"]){r=e.getCoordinates()[0]}else if(e instanceof _["a"]){i=e.getCoordinates()}if(i){for(a=0,o=i.length;a<o;a++){n=n.concat(i[a])}}for(a=0,o=n.length;a<o;a++){r=r.concat(n[a])}if(r.length){return new g["a"](r)}else{return e}}}return new wt["c"](i)};xt.prototype.supportsVertex_=function(t){var e=[s["a"].LINE_STRING,s["a"].POLYGON,s["a"].RECTANGLE];var i=this.getType(t);return c["f"](e,i)};xt.prototype.getHaloStyle_=function(t){var e=this.getType(t);var i=void 0;var r=3;switch(e){case s["a"].POINT:var a=this.getSizeProperty(t);i=new wt["c"]({image:new mt["a"]({radius:a+r,fill:new yt["a"]({color:[255,255,255,1]})})});break;case s["a"].LINE_STRING:case s["a"].CIRCLE:case s["a"].POLYGON:case s["a"].RECTANGLE:var o=this.getStrokeProperty(t);i=new wt["c"]({stroke:new bt["a"]({color:[255,255,255,1],width:o+r*2})});break;case s["a"].TEXT:i=new wt["c"]({text:this.createTextStyle_({text:this.getNameProperty(t),size:this.getSizeProperty(t),angle:this.getAngleProperty(t),width:r*3})});break;default:break}n["a"].assert(i,"Style should be thruthy");return i};xt.getFilteredFeatureValues=function(t){var e=t.getProperties();delete e["boundedBy"];delete e[t.getGeometryName()];delete e["ngeo_feature_type_"];return e};xt.prototype.getAngleProperty=function(t){var e=+t.get(o["a"].ANGLE);n["a"].assertNumber(e);return e};xt.prototype.getColorProperty=function(t){var e=n["a"].assertString(t.get(o["a"].COLOR));n["a"].assertString(e);return e};xt.prototype.getRGBAColorProperty=function(t){return h["c"](this.getColorProperty(t))};xt.prototype.getNameProperty=function(t){var e=n["a"].assertString(t.get(o["a"].NAME));n["a"].assertString(e);return e};xt.prototype.getOpacityProperty=function(t){return this.getNumber(t,o["a"].OPACITY)};xt.prototype.getShowMeasureProperty=function(t){var e=t.get(o["a"].SHOW_MEASURE);if(e===undefined){e=false}else if(typeof e==="string"){e=e==="true"?true:false}return n["a"].assertBoolean(e)};xt.prototype.getShowLabelProperty=function(t){var e=t.get(o["a"].SHOW_LABEL);if(e===undefined){e=false}else if(typeof e==="string"){e=e==="true"?true:false}return n["a"].assertBoolean(e)};xt.prototype.getSizeProperty=function(t){return this.getNumber(t,o["a"].SIZE)};xt.prototype.getStrokeProperty=function(t){return this.getNumber(t,o["a"].STROKE)};xt.prototype.export=function(t,e){switch(e){case xt.FormatType.GPX:this.exportGPX(t);break;case xt.FormatType.KML:this.exportKML(t);break;default:break}};xt.prototype.exportGPX=function(t){var e=new vt;var i="application/gpx+xml";var n="export.gpx";this.export_(t,e,n,i)};xt.prototype.exportKML=function(t){var e=new gt["a"];var i="application/vnd.google-earth.kml+xml";var n="export.kml";this.export_(t,e,n,i)};xt.prototype.export_=function(t,e,i,n){var r=this;var a=n!==undefined?n:"text/plain";var o=[];var s=void 0;t.forEach(function(t){s=new d["a"](t.getProperties());r.setStyle(s,false);o.push(s)});var u=this.projection_?{dataProjection:"EPSG:4326",featureProjection:this.projection_}:{};var l=e.writeFeatures(o,u);this.download_(l,i,a+";charset=utf-8")};xt.prototype.createTextStyle_=function(t){if(t.angle){var e=t.angle!==undefined?t.angle:0;var i=e*Math.PI/180;t.rotation=i;delete t.angle}t.font=["normal",(t.size||10)+"pt","Arial"].join(" ");if(t.color){t.fill=new yt["a"]({color:t.color||[0,0,0,1]});delete t.color}t.stroke=new bt["a"]({color:[255,255,255,1],width:t.width||3});delete t.width;return new Ot["a"](t)};xt.prototype.getMeasure=function(t){var e=t.getGeometry();n["a"].assert(e,"Geometry should be truthy");var i="";if(e instanceof y["b"]){if(this.getType(t)===s["a"].CIRCLE){var r=this.optNumber(t,o["a"].AZIMUT);n["a"].assertNumber(r);var a=this.getRadiusLine(t,r);i=l["a"].getFormattedAzimutRadius(a,this.projection_,this.decimals_,this.precision_,this.unitPrefixFormat_,this.numberFormat_)}else{i=u["a"].getFormattedArea(e,this.projection_,this.precision_,this.unitPrefixFormat_)}}else if(e instanceof p["a"]){i=u["a"].getFormattedLength(e,this.projection_,this.precision_,this.unitPrefixFormat_)}else if(e instanceof m["a"]){if(this.pointFilterFn_===null){i=u["a"].getFormattedPoint(e,this.decimals_,this.ngeoNumberCoordinates_)}else{var c=e.getCoordinates();var h=this.pointFilterArgs_.slice(0);h.unshift(c);i=this.pointFilterFn_.apply(this,h)}}return i};xt.prototype.getType=function(t){var e=t.getGeometry();n["a"].assert(e,"Geometry should be thruthy");var i=void 0;if(e instanceof m["a"]){if(t.get(o["a"].IS_TEXT)){i=s["a"].TEXT}else{i=s["a"].POINT}}else if(e instanceof g["a"]){i=s["a"].MULTI_POINT}else if(e instanceof y["b"]){if(t.get(o["a"].IS_CIRCLE)){i=s["a"].CIRCLE}else if(t.get(o["a"].IS_RECTANGLE)){i=s["a"].RECTANGLE}else{i=s["a"].POLYGON}}else if(e instanceof _["a"]){i=s["a"].MULTI_POLYGON}else if(e instanceof p["a"]){i=s["a"].LINE_STRING}else if(e instanceof v["a"]){i=s["a"].MULTI_LINE_STRING}n["a"].assert(i,"Type should be thruthy");return i};xt.prototype.panMapToFeature=function(t,e,i){var r=i!==undefined?i:250;var a=e.getSize();n["a"].assertArray(a);var o=e.getView();var s=o.calculateExtent(a);var u=t.getGeometry();if(!u.intersectsExtent(s)){var l=o.getCenter();n["a"].assertArray(l);var c=void 0;if(u instanceof p["a"]){c=u.getCoordinateAt(.5)}else if(u instanceof y["b"]){c=u.getInteriorPoint().getCoordinates()}else if(u instanceof m["a"]){c=u.getCoordinates()}else{c=f["x"](u.getExtent())}o.animate({center:l,duration:r},{center:c,duration:r})}};xt.prototype.getRadiusLine=function(t,e){var i=t.getGeometry();var n=i.getExtent();var r=(n[3]-n[1])/2;var a=f["x"](i.getExtent());var o=Math.cos((e-90)*Math.PI/180)*r;var s=-Math.sin((e-90)*Math.PI/180)*r;var u=[o+a[0],s+a[1]];return new p["a"]([a,u])};xt.prototype.getNonSpatialProperties=function(t){var e=t.getGeometryName();var i={};var n=t.getProperties();for(var r in n){if(r!==e){i[r]=n[r]}}return i};xt.prototype.clearNonSpatialProperties=function(t){var e=t.getGeometryName();var i=t.getProperties();for(var n in i){if(n!==e){t.set(n,undefined)}}};xt.FormatType={GPX:"GPX",KML:"KML"};xt.module=angular.module("ngeoFeatureHelper",[a["a"].name,r["a"].name]);xt.module.service("ngeoFeatureHelper",xt);var St=e["a"]=xt},function(t,e,i){"use strict";var n=i(2);var r=i(158);var a=i(50);var o=i(183);var s=i(226);var u=i(54);function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function c(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(i){l(this,e);i.type=i.type||a["a"].DATE;return c(this,t.call(this,i))}return e}(u["a"]);var d=f;var p=i(101);var v=i(181);function g(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function m(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function y(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var _=function(t){y(e,t);function e(i){g(this,e);i.operator=i.operator||u["a"].OperatorType.LIKE;i.type=a["a"].TEXT;return m(this,t.call(this,i))}return e}(u["a"]);var b=_;var w=i(191);var O=i(64);var x=i(9);var S=i(18);var C=i(60);var T=i(122);var E=i(137);var M=i(83);var j=i(88);var k=i(126);var R=Object(j["a"])("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=C["a"].apply(null,arguments);if(this.isValid()&&t.isValid()){return t<this?this:t}else{return Object(E["a"])()}});var A=Object(j["a"])("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=C["a"].apply(null,arguments);if(this.isValid()&&t.isValid()){return t>this?this:t}else{return Object(E["a"])()}});function I(t,e){var i,n;if(e.length===1&&Object(k["a"])(e[0])){e=e[0]}if(!e.length){return Object(C["a"])()}i=e[0];for(n=1;n<e.length;++n){if(!e[n].isValid()||e[n][t](i)){i=e[n]}}return i}function P(){var t=[].slice.call(arguments,0);return I("isBefore",t)}function D(){var t=[].slice.call(arguments,0);return I("isAfter",t)}var N=function(){return Date.now?Date.now():+new Date};var $=i(93);var L=i(87);var F=i(45);var G=i(103);var U=i(39);var H=i(90);var W=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Y(t){for(var e in t){if(!(H["a"].call(W,e)!==-1&&(t[e]==null||!isNaN(t[e])))){return false}}var i=false;for(var n=0;n<W.length;++n){if(t[W[n]]){if(i){return false}if(parseFloat(t[W[n]])!==Object(U["a"])(t[W[n]])){i=true}}}return true}function z(){return this._isValid}function V(){return Ct(NaN)}function B(t){var e=Object(F["b"])(t),i=e.year||0,n=e.quarter||0,r=e.month||0,a=e.week||0,o=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=Y(e);this._milliseconds=+c+l*1e3+u*6e4+s*1e3*60*60;this._days=+o+a*7;this._months=+r+n*3+i*12;this._data={};this._locale=Object(G["b"])();this._bubble()}function q(t){return t instanceof B}var K=i(145);function X(t){if(t<0){return Math.round(-1*t)*-1}else{return Math.round(t)}}var Z=i(63);var Q=i(16);var J=i(154);var tt=i(25);var et=i(6);var it=i(52);var nt=i(221);var rt=i(207);var at=i(89);var ot=i(289);function st(t,e){Object(tt["a"])(t,0,0,function(){var t=this.utcOffset();var i="+";if(t<0){t=-t;i="-"}return i+Object(J["a"])(~~(t/60),2)+e+Object(J["a"])(~~t%60,2)})}st("Z",":");st("ZZ","");Object(et["a"])("Z",et["o"]);Object(et["a"])("ZZ",et["o"]);Object(it["a"])(["Z","ZZ"],function(t,e,i){i._useUTC=true;i._tzm=lt(et["o"],t)});var ut=/([\+\-]|\d\d)/gi;function lt(t,e){var i=(e||"").match(t);if(i===null){return null}var n=i[i.length-1]||[];var r=(n+"").match(ut)||["-",0,0];var a=+(r[1]*60)+Object(U["a"])(r[2]);return a===0?0:r[0]==="+"?a:-a}function ct(t,e){var i,n;if(e._isUTC){i=e.clone();n=(Object(M["c"])(t)||Object(rt["a"])(t)?t.valueOf():Object(C["a"])(t).valueOf())-i.valueOf();i._d.setTime(i._d.valueOf()+n);S["a"].updateOffset(i,false);return i}else{return Object(C["a"])(t).local()}}function ht(t){return-Math.round(t._d.getTimezoneOffset()/15)*15}S["a"].updateOffset=function(){};function ft(t,e,i){var n=this._offset||0,r;if(!this.isValid()){return t!=null?this:NaN}if(t!=null){if(typeof t==="string"){t=lt(et["o"],t);if(t===null){return this}}else if(Math.abs(t)<16&&!i){t=t*60}if(!this._isUTC&&e){r=ht(this)}this._offset=t;this._isUTC=true;if(r!=null){this.add(r,"m")}if(n!==t){if(!e||this._changeInProgress){kt(this,Ct(t-n,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;S["a"].updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?n:ht(this)}}function dt(t,e){if(t!=null){if(typeof t!=="string"){t=-t}this.utcOffset(t,e);return this}else{return-this.utcOffset()}}function pt(t){return this.utcOffset(0,t)}function vt(t){if(this._isUTC){this.utcOffset(0,t);this._isUTC=false;if(t){this.subtract(ht(this),"m")}}return this}function gt(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var t=lt(et["n"],this._i);if(t!=null){this.utcOffset(t)}else{this.utcOffset(0,true)}}return this}function mt(t){if(!this.isValid()){return false}t=t?Object(C["a"])(t).utcOffset():0;return(this.utcOffset()-t)%60===0}function yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _t(){if(!Object(at["a"])(this._isDSTShifted)){return this._isDSTShifted}var t={};Object(M["b"])(t,this);t=Object(nt["b"])(t);if(t._a){var e=t._isUTC?Object(T["a"])(t._a):Object(C["a"])(t._a);this._isDSTShifted=this.isValid()&&Object(ot["a"])(t._a,e.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function bt(){return this.isValid()?!this._isUTC:false}function wt(){return this.isValid()?this._isUTC:false}function Ot(){return this.isValid()?this._isUTC&&this._offset===0:false}var xt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var St=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ct(t,e){var i=t,n=null,r,a,o;if(q(t)){i={ms:t._milliseconds,d:t._days,M:t._months}}else if(Object(K["a"])(t)){i={};if(e){i[e]=t}else{i.milliseconds=t}}else if(!!(n=xt.exec(t))){r=n[1]==="-"?-1:1;i={y:0,d:Object(U["a"])(n[Q["a"]])*r,h:Object(U["a"])(n[Q["b"]])*r,m:Object(U["a"])(n[Q["d"]])*r,s:Object(U["a"])(n[Q["f"]])*r,ms:Object(U["a"])(X(n[Q["c"]]*1e3))*r}}else if(!!(n=St.exec(t))){r=n[1]==="-"?-1:n[1]==="+"?1:1;i={y:Tt(n[2],r),M:Tt(n[3],r),w:Tt(n[4],r),d:Tt(n[5],r),h:Tt(n[6],r),m:Tt(n[7],r),s:Tt(n[8],r)}}else if(i==null){i={}}else if(typeof i==="object"&&("from"in i||"to"in i)){o=Mt(Object(C["a"])(i.from),Object(C["a"])(i.to));i={};i.ms=o.milliseconds;i.M=o.months}a=new B(i);if(q(t)&&Object(Z["a"])(t,"_locale")){a._locale=t._locale}return a}Ct.fn=B.prototype;Ct.invalid=V;function Tt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Et(t,e){var i={milliseconds:0,months:0};i.months=e.month()-t.month()+(e.year()-t.year())*12;if(t.clone().add(i.months,"M").isAfter(e)){--i.months}i.milliseconds=+e-+t.clone().add(i.months,"M");return i}function Mt(t,e){var i;if(!(t.isValid()&&e.isValid())){return{milliseconds:0,months:0}}e=ct(e,t);if(t.isBefore(e)){i=Et(t,e)}else{i=Et(e,t);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function jt(t,e){return function(i,n){var r,a;if(n!==null&&!isNaN(+n)){Object(j["b"])(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");a=i;i=n;n=a}i=typeof i==="string"?+i:i;r=Ct(i,n);kt(this,r,t);return this}}function kt(t,e,i,n){var r=e._milliseconds,a=X(e._days),o=X(e._months);if(!t.isValid()){return}n=n==null?true:n;if(o){Object(L["k"])(t,Object($["a"])(t,"Month")+o*i)}if(a){Object($["c"])(t,"Date",Object($["a"])(t,"Date")+a*i)}if(r){t._d.setTime(t._d.valueOf()+r*i)}if(n){S["a"].updateOffset(t,a||o)}}var Rt=jt(1,"add");var At=jt(-1,"subtract");var It=i(108);function Pt(t,e){var i=t.diff(e,"days",true);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Dt(t,e){var i=t||Object(C["a"])(),n=ct(i,this).startOf("day"),r=S["a"].calendarFormat(this,n)||"sameElse";var a=e&&(Object(It["a"])(e[r])?e[r].call(this,i):e[r]);return this.format(a||this.localeData().calendar(r,this,Object(C["a"])(i)))}function Nt(){return new M["a"](this)}function $t(t,e){var i=Object(M["c"])(t)?t:Object(C["a"])(t);if(!(this.isValid()&&i.isValid())){return false}e=Object(F["c"])(!Object(at["a"])(e)?e:"millisecond");if(e==="millisecond"){return this.valueOf()>i.valueOf()}else{return i.valueOf()<this.clone().startOf(e).valueOf()}}function Lt(t,e){var i=Object(M["c"])(t)?t:Object(C["a"])(t);if(!(this.isValid()&&i.isValid())){return false}e=Object(F["c"])(!Object(at["a"])(e)?e:"millisecond");if(e==="millisecond"){return this.valueOf()<i.valueOf()}else{return this.clone().endOf(e).valueOf()<i.valueOf()}}function Ft(t,e,i,n){n=n||"()";return(n[0]==="("?this.isAfter(t,i):!this.isBefore(t,i))&&(n[1]===")"?this.isBefore(e,i):!this.isAfter(e,i))}function Gt(t,e){var i=Object(M["c"])(t)?t:Object(C["a"])(t),n;if(!(this.isValid()&&i.isValid())){return false}e=Object(F["c"])(e||"millisecond");if(e==="millisecond"){return this.valueOf()===i.valueOf()}else{n=i.valueOf();return this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()}}function Ut(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Ht(t,e){return this.isSame(t,e)||this.isBefore(t,e)}var Wt=i(117);function Yt(t,e,i){var n,r,a,o;if(!this.isValid()){return NaN}n=ct(t,this);if(!n.isValid()){return NaN}r=(n.utcOffset()-this.utcOffset())*6e4;e=Object(F["c"])(e);switch(e){case"year":o=zt(this,n)/12;break;case"month":o=zt(this,n);break;case"quarter":o=zt(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return i?o:Object(Wt["a"])(o)}function zt(t,e){var i=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(i,"months"),r,a;if(e-n<0){r=t.clone().add(i-1,"months");a=(e-n)/(n-r)}else{r=t.clone().add(i+1,"months");a=(e-n)/(r-n)}return-(i+a)||0}S["a"].defaultFormat="YYYY-MM-DDTHH:mm:ssZ";S["a"].defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Vt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Bt(t){if(!this.isValid()){return null}var e=t!==true;var i=e?this.clone().utc():this;if(i.year()<0||i.year()>9999){return Object(tt["c"])(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(Object(It["a"])(Date.prototype.toISOString)){if(e){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Object(tt["c"])(i,"Z"))}}return Object(tt["c"])(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function qt(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var t="moment";var e="";if(!this.isLocal()){t=this.utcOffset()===0?"moment.utc":"moment.parseZone";e="Z"}var i="["+t+'("]';var n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var r="-MM-DD[T]HH:mm:ss.SSS";var a=e+'[")]';return this.format(i+n+r+a)}function Kt(t){if(!t){t=this.isUtc()?S["a"].defaultFormatUtc:S["a"].defaultFormat}var e=Object(tt["c"])(this,t);return this.localeData().postformat(e)}function Xt(t,e){if(this.isValid()&&(Object(M["c"])(t)&&t.isValid()||Object(C["a"])(t).isValid())){return Ct({to:this,from:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function Zt(t){return this.from(Object(C["a"])(),t)}function Qt(t,e){if(this.isValid()&&(Object(M["c"])(t)&&t.isValid()||Object(C["a"])(t).isValid())){return Ct({from:this,to:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function Jt(t){return this.to(Object(C["a"])(),t)}function te(t){var e;if(t===undefined){return this._locale._abbr}else{e=Object(G["b"])(t);if(e!=null){this._locale=e}return this}}var ee=Object(j["a"])("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){if(t===undefined){return this.localeData()}else{return this.locale(t)}});function ie(){return this._locale}function ne(t){t=Object(F["c"])(t);switch(t){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(t==="week"){this.weekday(0)}if(t==="isoWeek"){this.isoWeekday(1)}if(t==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function re(t){t=Object(F["c"])(t);if(t===undefined||t==="millisecond"){return this}if(t==="date"){t="day"}return this.startOf(t).add(1,t==="isoWeek"?"week":t).subtract(1,"ms")}function ae(){return this._d.valueOf()-(this._offset||0)*6e4}function oe(){return Math.floor(this.valueOf()/1e3)}function se(){return new Date(this.valueOf())}function ue(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function le(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function ce(){return this.isValid()?this.toISOString():null}var he=i(138);var fe=i(47);function de(){return Object(E["b"])(this)}function pe(){return Object(he["a"])({},Object(fe["a"])(this))}function ve(){return Object(fe["a"])(this).overflow}function ge(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}var me=i(115);var ye=i(66);var _e=i(135);var be=i(141);Object(tt["a"])(0,["gg",2],0,function(){return this.weekYear()%100});Object(tt["a"])(0,["GG",2],0,function(){return this.isoWeekYear()%100});function we(t,e){Object(tt["a"])(0,[t,t.length],0,e)}we("gggg","weekYear");we("ggggg","weekYear");we("GGGG","isoWeekYear");we("GGGGG","isoWeekYear");Object(F["a"])("weekYear","gg");Object(F["a"])("isoWeekYear","GG");Object(ye["a"])("weekYear",1);Object(ye["a"])("isoWeekYear",1);Object(et["a"])("G",et["p"]);Object(et["a"])("g",et["p"]);Object(et["a"])("GG",et["d"],et["h"]);Object(et["a"])("gg",et["d"],et["h"]);Object(et["a"])("GGGG",et["f"],et["k"]);Object(et["a"])("gggg",et["f"],et["k"]);Object(et["a"])("GGGGG",et["g"],et["m"]);Object(et["a"])("ggggg",et["g"],et["m"]);Object(it["c"])(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=Object(U["a"])(t)});Object(it["c"])(["gg","GG"],function(t,e,i,n){e[n]=S["a"].parseTwoDigitYear(t)});function Oe(t){return Te.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function xe(t){return Te.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Se(){return Object(_e["c"])(this.year(),1,4)}function Ce(){var t=this.localeData()._week;return Object(_e["c"])(this.year(),t.dow,t.doy)}function Te(t,e,i,n,r){var a;if(t==null){return Object(_e["b"])(this,n,r).year}else{a=Object(_e["c"])(t,n,r);if(e>a){e=a}return Ee.call(this,t,e,i,n,r)}}function Ee(t,e,i,n,r){var a=Object(_e["a"])(t,e,i,n,r),o=Object(be["b"])(a.year,0,a.dayOfYear);this.year(o.getUTCFullYear());this.month(o.getUTCMonth());this.date(o.getUTCDate());return this}Object(tt["a"])("Q",0,"Qo","quarter");Object(F["a"])("quarter","Q");Object(ye["a"])("quarter",7);Object(et["a"])("Q",et["c"]);Object(it["a"])("Q",function(t,e){e[Q["e"]]=(Object(U["a"])(t)-1)*3});function Me(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}var je=i(168);Object(tt["a"])("D",["DD",2],"Do","date");Object(F["a"])("date","D");Object(ye["a"])("date",9);Object(et["a"])("D",et["d"]);Object(et["a"])("DD",et["d"],et["h"]);Object(et["a"])("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Object(it["a"])(["D","DD"],Q["a"]);Object(it["a"])("Do",function(t,e){e[Q["a"]]=Object(U["a"])(t.match(et["d"])[0])});var ke=Object($["b"])("Date",true);var Re=i(104);Object(tt["a"])("DDD",["DDDD",3],"DDDo","dayOfYear");Object(F["a"])("dayOfYear","DDD");Object(ye["a"])("dayOfYear",4);Object(et["a"])("DDD",et["e"]);Object(et["a"])("DDDD",et["i"]);Object(it["a"])(["DDD","DDDD"],function(t,e,i){i._dayOfYear=Object(U["a"])(t)});function Ae(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}var Ie=i(189);Object(tt["a"])("m",["mm",2],0,"minute");Object(F["a"])("minute","m");Object(ye["a"])("minute",14);Object(et["a"])("m",et["d"]);Object(et["a"])("mm",et["d"],et["h"]);Object(it["a"])(["m","mm"],Q["d"]);var Pe=Object($["b"])("Minutes",false);Object(tt["a"])("s",["ss",2],0,"second");Object(F["a"])("second","s");Object(ye["a"])("second",15);Object(et["a"])("s",et["d"]);Object(et["a"])("ss",et["d"],et["h"]);Object(it["a"])(["s","ss"],Q["f"]);var De=Object($["b"])("Seconds",false);Object(tt["a"])("S",0,0,function(){return~~(this.millisecond()/100)});Object(tt["a"])(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Object(tt["a"])(0,["SSS",3],0,"millisecond");Object(tt["a"])(0,["SSSS",4],0,function(){return this.millisecond()*10});Object(tt["a"])(0,["SSSSS",5],0,function(){return this.millisecond()*100});Object(tt["a"])(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Object(tt["a"])(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Object(tt["a"])(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Object(tt["a"])(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Object(F["a"])("millisecond","ms");Object(ye["a"])("millisecond",16);Object(et["a"])("S",et["e"],et["c"]);Object(et["a"])("SS",et["e"],et["h"]);Object(et["a"])("SSS",et["e"],et["i"]);var Ne;for(Ne="SSSS";Ne.length<=9;Ne+="S"){Object(et["a"])(Ne,et["r"])}function $e(t,e){e[Q["c"]]=Object(U["a"])(("0."+t)*1e3)}for(Ne="S";Ne.length<=9;Ne+="S"){Object(it["a"])(Ne,$e)}var Le=Object($["b"])("Milliseconds",false);Object(tt["a"])("z",0,0,"zoneAbbr");Object(tt["a"])("zz",0,0,"zoneName");function Fe(){return this._isUTC?"UTC":""}function Ge(){return this._isUTC?"Coordinated Universal Time":""}var Ue=M["a"].prototype;Ue.add=Rt;Ue.calendar=Dt;Ue.clone=Nt;Ue.diff=Yt;Ue.endOf=re;Ue.format=Kt;Ue.from=Xt;Ue.fromNow=Zt;Ue.to=Qt;Ue.toNow=Jt;Ue.get=$["d"];Ue.invalidAt=ve;Ue.isAfter=$t;Ue.isBefore=Lt;Ue.isBetween=Ft;Ue.isSame=Gt;Ue.isSameOrAfter=Ut;Ue.isSameOrBefore=Ht;Ue.isValid=de;Ue.lang=ee;Ue.locale=te;Ue.localeData=ie;Ue.max=A;Ue.min=R;Ue.parsingFlags=pe;Ue.set=$["e"];Ue.startOf=ne;Ue.subtract=At;Ue.toArray=ue;Ue.toObject=le;Ue.toDate=se;Ue.toISOString=Bt;Ue.inspect=qt;Ue.toJSON=ce;Ue.toString=Vt;Ue.unix=oe;Ue.valueOf=ae;Ue.creationData=ge;Ue.year=me["c"];Ue.isLeapYear=me["b"];Ue.weekYear=Oe;Ue.isoWeekYear=xe;Ue.quarter=Ue.quarters=Me;Ue.month=L["e"];Ue.daysInMonth=L["d"];Ue.week=Ue.weeks=je["c"];Ue.isoWeek=Ue.isoWeeks=je["b"];Ue.weeksInYear=Ce;Ue.isoWeeksInYear=Se;Ue.date=ke;Ue.day=Ue.days=Re["d"];Ue.weekday=Re["f"];Ue.isoWeekday=Re["e"];Ue.dayOfYear=Ae;Ue.hour=Ue.hours=Ie["b"];Ue.minute=Ue.minutes=Pe;Ue.second=Ue.seconds=De;Ue.millisecond=Ue.milliseconds=Le;Ue.utcOffset=ft;Ue.utc=pt;Ue.local=vt;Ue.parseZone=gt;Ue.hasAlignedHourOffset=mt;Ue.isDST=yt;Ue.isLocal=bt;Ue.isUtcOffset=wt;Ue.isUtc=Ot;Ue.isUTC=Ot;Ue.zoneAbbr=Fe;Ue.zoneName=Ge;Ue.dates=Object(j["a"])("dates accessor is deprecated. Use date instead.",ke);Ue.months=Object(j["a"])("months accessor is deprecated. Use month instead",L["e"]);Ue.years=Object(j["a"])("years accessor is deprecated. Use year instead",me["c"]);Ue.zone=Object(j["a"])("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",dt);Ue.isDSTShifted=Object(j["a"])("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_t);var He=Ue;function We(t){return Object(C["a"])(t*1e3)}function Ye(){return C["a"].apply(null,arguments).parseZone()}var ze=i(240);var Ve=i(288);var Be=i(287);var qe=i(286);var Ke=i(239);function Xe(t){return t}var Ze=i(238);var Qe=i(241);var Je=ze["a"].prototype;Je.calendar=Ve["a"];Je.longDateFormat=Be["b"];Je.invalidDate=qe["b"];Je.ordinal=Ke["c"];Je.preparse=Xe;Je.postformat=Xe;Je.relativeTime=Ze["c"];Je.pastFuture=Ze["b"];Je.set=Qe["b"];Je.months=L["f"];Je.monthsShort=L["h"];Je.monthsParse=L["g"];Je.monthsRegex=L["i"];Je.monthsShortRegex=L["j"];Je.week=je["f"];Je.firstDayOfYear=je["e"];Je.firstDayOfWeek=je["d"];Je.weekdays=Re["g"];Je.weekdaysMin=Re["h"];Je.weekdaysShort=Re["j"];Je.weekdaysParse=Re["i"];Je.weekdaysRegex=Re["l"];Je.weekdaysShortRegex=Re["m"];Je.weekdaysMinRegex=Re["k"];Je.isPM=Ie["c"];Je.meridiem=Ie["d"];function ti(t,e,i,n){var r=Object(G["b"])();var a=Object(T["a"])().set(n,e);return r[i](a,t)}function ei(t,e,i){if(Object(K["a"])(t)){e=t;t=undefined}t=t||"";if(e!=null){return ti(t,e,i,"month")}var n;var r=[];for(n=0;n<12;n++){r[n]=ti(t,n,i,"month")}return r}function ii(t,e,i,n){if(typeof t==="boolean"){if(Object(K["a"])(e)){i=e;e=undefined}e=e||""}else{e=t;i=e;t=false;if(Object(K["a"])(e)){i=e;e=undefined}e=e||""}var r=Object(G["b"])(),a=t?r._week.dow:0;if(i!=null){return ti(e,(i+a)%7,n,"day")}var o;var s=[];for(o=0;o<7;o++){s[o]=ti(e,(o+a)%7,n,"day")}return s}function ni(t,e){return ei(t,e,"months")}function ri(t,e){return ei(t,e,"monthsShort")}function ai(t,e,i){return ii(t,e,i,"weekdays")}function oi(t,e,i){return ii(t,e,i,"weekdaysShort")}function si(t,e,i){return ii(t,e,i,"weekdaysMin")}Object(G["c"])("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=Object(U["a"])(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+i}});S["a"].lang=Object(j["a"])("moment.lang is deprecated. Use moment.locale instead.",G["c"]);S["a"].langData=Object(j["a"])("moment.langData is deprecated. Use moment.localeData instead.",G["b"]);var ui=Math.abs;function li(){var t=this._data;this._milliseconds=ui(this._milliseconds);this._days=ui(this._days);this._months=ui(this._months);t.milliseconds=ui(t.milliseconds);t.seconds=ui(t.seconds);t.minutes=ui(t.minutes);t.hours=ui(t.hours);t.months=ui(t.months);t.years=ui(t.years);return this}function ci(t,e,i,n){var r=Ct(e,i);t._milliseconds+=n*r._milliseconds;t._days+=n*r._days;t._months+=n*r._months;return t._bubble()}function hi(t,e){return ci(this,t,e,1)}function fi(t,e){return ci(this,t,e,-1)}function di(t){if(t<0){return Math.floor(t)}else{return Math.ceil(t)}}function pi(){var t=this._milliseconds;var e=this._days;var i=this._months;var n=this._data;var r,a,o,s,u;if(!(t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0)){t+=di(gi(i)+e)*864e5;e=0;i=0}n.milliseconds=t%1e3;r=Object(Wt["a"])(t/1e3);n.seconds=r%60;a=Object(Wt["a"])(r/60);n.minutes=a%60;o=Object(Wt["a"])(a/60);n.hours=o%24;e+=Object(Wt["a"])(o/24);u=Object(Wt["a"])(vi(e));i+=u;e-=di(gi(u));s=Object(Wt["a"])(i/12);i%=12;n.days=e;n.months=i;n.years=s;return this}function vi(t){return t*4800/146097}function gi(t){return t*146097/4800}function mi(t){if(!this.isValid()){return NaN}var e;var i;var n=this._milliseconds;t=Object(F["c"])(t);if(t==="month"||t==="year"){e=this._days+n/864e5;i=this._months+vi(e);return t==="month"?i:i/12}else{e=this._days+Math.round(gi(this._months));switch(t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}}function yi(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+Object(U["a"])(this._months/12)*31536e6}function _i(t){return function(){return this.as(t)}}var bi=_i("ms");var wi=_i("s");var Oi=_i("m");var xi=_i("h");var Si=_i("d");var Ci=_i("w");var Ti=_i("M");var Ei=_i("y");function Mi(){return Ct(this)}function ji(t){t=Object(F["c"])(t);return this.isValid()?this[t+"s"]():NaN}function ki(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ri=ki("milliseconds");var Ai=ki("seconds");var Ii=ki("minutes");var Pi=ki("hours");var Di=ki("days");var Ni=ki("months");var $i=ki("years");function Li(){return Object(Wt["a"])(this.days()/7)}var Fi=Math.round;var Gi={ss:44,s:45,m:45,h:22,d:26,M:11};function Ui(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function Hi(t,e,i){var n=Ct(t).abs();var r=Fi(n.as("s"));var a=Fi(n.as("m"));var o=Fi(n.as("h"));var s=Fi(n.as("d"));var u=Fi(n.as("M"));var l=Fi(n.as("y"));var c=r<=Gi.ss&&["s",r]||r<Gi.s&&["ss",r]||a<=1&&["m"]||a<Gi.m&&["mm",a]||o<=1&&["h"]||o<Gi.h&&["hh",o]||s<=1&&["d"]||s<Gi.d&&["dd",s]||u<=1&&["M"]||u<Gi.M&&["MM",u]||l<=1&&["y"]||["yy",l];c[2]=e;c[3]=+t>0;c[4]=i;return Ui.apply(null,c)}function Wi(t){if(t===undefined){return Fi}if(typeof t==="function"){Fi=t;return true}return false}function Yi(t,e){if(Gi[t]===undefined){return false}if(e===undefined){return Gi[t]}Gi[t]=e;if(t==="s"){Gi.ss=e-1}return true}function zi(t){if(!this.isValid()){return this.localeData().invalidDate()}var e=this.localeData();var i=Hi(this,!t,e);if(t){i=e.pastFuture(+this,i)}return e.postformat(i)}var Vi=Math.abs;function Bi(t){return(t>0)-(t<0)||+t}function qi(){if(!this.isValid()){return this.localeData().invalidDate()}var t=Vi(this._milliseconds)/1e3;var e=Vi(this._days);var i=Vi(this._months);var n,r,a;n=Object(Wt["a"])(t/60);r=Object(Wt["a"])(n/60);t%=60;n%=60;a=Object(Wt["a"])(i/12);i%=12;var o=a;var s=i;var u=e;var l=r;var c=n;var h=t?t.toFixed(3).replace(/\.?0+$/,""):"";var f=this.asSeconds();if(!f){return"P0D"}var d=f<0?"-":"";var p=Bi(this._months)!==Bi(f)?"-":"";var v=Bi(this._days)!==Bi(f)?"-":"";var g=Bi(this._milliseconds)!==Bi(f)?"-":"";return d+"P"+(o?p+o+"Y":"")+(s?p+s+"M":"")+(u?v+u+"D":"")+(l||c||h?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(h?g+h+"S":"")}var Ki=B.prototype;Ki.isValid=z;Ki.abs=li;Ki.add=hi;Ki.subtract=fi;Ki.as=mi;Ki.asMilliseconds=bi;Ki.asSeconds=wi;Ki.asMinutes=Oi;Ki.asHours=xi;Ki.asDays=Si;Ki.asWeeks=Ci;Ki.asMonths=Ti;Ki.asYears=Ei;Ki.valueOf=yi;Ki._bubble=pi;Ki.clone=Mi;Ki.get=ji;Ki.milliseconds=Ri;Ki.seconds=Ai;Ki.minutes=Ii;Ki.hours=Pi;Ki.days=Di;Ki.weeks=Li;Ki.months=Ni;Ki.years=$i;Ki.humanize=zi;Ki.toISOString=qi;Ki.toString=qi;Ki.toJSON=qi;Ki.locale=te;Ki.localeData=ie;Ki.toIsoString=Object(j["a"])("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qi);Ki.lang=ee;Object(tt["a"])("X",0,0,"unix");Object(tt["a"])("x",0,0,"valueOf");Object(et["a"])("x",et["p"]);Object(et["a"])("X",et["q"]);Object(it["a"])("X",function(t,e,i){i._d=new Date(parseFloat(t,10)*1e3)});Object(it["a"])("x",function(t,e,i){i._d=new Date(Object(U["a"])(t))});
//! moment.js
//! version : 2.22.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
S["a"].version="2.22.1";Object(S["b"])(C["a"]);S["a"].fn=He;S["a"].min=P;S["a"].max=D;S["a"].now=N;S["a"].utc=T["a"];S["a"].unix=We;S["a"].months=ni;S["a"].isDate=rt["a"];S["a"].locale=G["c"];S["a"].invalid=E["a"];S["a"].duration=Ct;S["a"].isMoment=M["c"];S["a"].weekdays=ai;S["a"].parseZone=Ye;S["a"].localeData=G["b"];S["a"].isDuration=q;S["a"].monthsShort=ri;S["a"].weekdaysMin=si;S["a"].defineLocale=G["a"];S["a"].updateLocale=G["e"];S["a"].locales=G["d"];S["a"].weekdaysShort=oi;S["a"].normalizeUnits=F["c"];S["a"].relativeTimeRounding=Wi;S["a"].relativeTimeThreshold=Yi;S["a"].calendarFormat=Pt;S["a"].prototype=He;S["a"].HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"};var Xi=S["a"];function Zi(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Qi=function(){t.$inject=["gettextCatalog","ngeoFeatureHelper","ngeoWMSTime"];function t(e,i,n){Zi(this,t);this.gettextCatalog_=e;this.ngeoFeatureHelper_=i;this.ngeoWMSTime_=n}t.prototype.createRulesFromAttributes=function t(e,i){var n=[];for(var r=e,a=Array.isArray(r),o=0,r=a?r:r[Symbol.iterator]();;){var s;if(a){if(o>=r.length)break;s=r[o++]}else{o=r.next();if(o.done)break;s=o.value}var u=s;n.push(this.createRuleFromAttribute(u,i))}return n};t.prototype.createRuleFromAttribute=function t(e,i){var r=void 0;var o=i===true;var s=this.gettextCatalog_.getString(e.name);switch(e.type){case a["a"].DATE:case a["a"].DATETIME:if(o){r=new d({name:s,operator:u["a"].TemporalOperatorType.EQUALS,operators:[u["a"].TemporalOperatorType.EQUALS,u["a"].TemporalOperatorType.BEGINS,u["a"].TemporalOperatorType.ENDS],propertyName:e.name,type:e.type})}else{r=new d({name:s,operator:u["a"].TemporalOperatorType.DURING,propertyName:e.name,type:e.type})}break;case a["a"].GEOMETRY:r=new p["a"]({name:s,operator:u["a"].SpatialOperatorType.WITHIN,operators:[u["a"].SpatialOperatorType.CONTAINS,u["a"].SpatialOperatorType.INTERSECTS,u["a"].SpatialOperatorType.WITHIN],propertyName:e.name,type:e.type});break;case a["a"].NUMBER:if(o){r=new u["a"]({name:s,operator:u["a"].OperatorType.EQUAL_TO,operators:[u["a"].OperatorType.EQUAL_TO,u["a"].OperatorType.GREATER_THAN,u["a"].OperatorType.GREATER_THAN_OR_EQUAL_TO,u["a"].OperatorType.LESSER_THAN,u["a"].OperatorType.LESSER_THAN_OR_EQUAL_TO,u["a"].OperatorType.NOT_EQUAL_TO],propertyName:e.name,type:a["a"].NUMBER})}else{r=new u["a"]({name:s,operator:u["a"].OperatorType.BETWEEN,propertyName:e.name,type:a["a"].NUMBER})}break;case a["a"].SELECT:r=new v["a"]({choices:n["a"].assert(e.choices),name:s,propertyName:e.name});break;default:if(o){r=new b({name:s,operator:u["a"].OperatorType.LIKE,operators:[u["a"].OperatorType.LIKE,u["a"].OperatorType.EQUAL_TO,u["a"].OperatorType.NOT_EQUAL_TO],propertyName:e.name})}else{r=new b({name:s,operator:u["a"].OperatorType.LIKE,propertyName:e.name})}break}return r};t.prototype.createRules=function t(e){var i=[];for(var n=e,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var s=o;i.push(this.createRule(s))}return i};t.prototype.createRule=function t(e){var i=void 0;switch(e.type){case a["a"].DATE:case a["a"].DATETIME:i=new d(e);break;case a["a"].GEOMETRY:i=new p["a"](e);break;case a["a"].SELECT:var r=e;n["a"].assert(r.choices);i=new v["a"](r);break;default:i=new b(e);break}return i};t.prototype.cloneRule=function t(e){var i=void 0;var n=e.getExpression();if(n===null){n=undefined}var r=e.isCustom;var a=e.lowerBoundary!==null?e.lowerBoundary:undefined;var o=e.name;var s=e.operator!==null?e.operator:undefined;var l=e.operators?e.operators.slice(0):undefined;var c=e.propertyName;var h=e.type!==null?e.type:undefined;var f=e.upperBoundary!==null?e.upperBoundary:undefined;var g={expression:n,isCustom:r,lowerBoundary:a,name:o,operator:s,operators:l,propertyName:c,type:h,upperBoundary:f};if(e instanceof d){i=new d(g)}else if(e instanceof p["a"]){i=new p["a"](g);i.feature.setProperties(this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature))}else if(e instanceof v["a"]){g.choices=e.choices.slice(0);i=new v["a"](g)}else if(e instanceof b){i=new b(g)}else{i=new u["a"](g)}return i};t.prototype.extendRule=function t(e,i){if(i.getExpression()!==e.getExpression()){i.setExpression(e.getExpression())}if(i.lowerBoundary!==e.lowerBoundary){i.lowerBoundary=e.lowerBoundary}if(i.operator!==e.operator){i.operator=e.operator}if(i.upperBoundary!==e.upperBoundary){i.upperBoundary=e.upperBoundary}if(e instanceof p["a"]&&i instanceof p["a"]){this.ngeoFeatureHelper_.clearNonSpatialProperties(i.feature);i.feature.setProperties(this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature))}};t.prototype.serializeRules=function t(e){var i=this;return e.map(function(t){var e=i.serializeRule(t);return e})};t.prototype.serializeRule=function t(e){var i={name:e.name,propertyName:e.propertyName,type:e.type};if(e.expression!==null){i.expression=e.expression}if(e.lowerBoundary!==null){i.lowerBoundary=e.lowerBoundary}if(e.operator!==null){i.operator=e.operator}if(e.operators!==null){i.operators=e.operators.slice(0)}if(e.upperBoundary!==null){i.upperBoundary=e.upperBoundary}if(e instanceof p["a"]){i.featureProperties=this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature)}if(e instanceof v["a"]){i.choices=e.choices}return i};t.prototype.createFilter=function t(e){var i=e.dataSource;var n=null;if(e.filter){n=e.filter}else{var a=e.filterRules||i.filterRules;var o=[];if(a&&a.length){for(var s=a,u=Array.isArray(s),l=0,s=u?s:s[Symbol.iterator]();;){var c;if(u){if(l>=s.length)break;c=s[l++]}else{l=s.next();if(l.done)break;c=l.value}var h=c;var f=this.createFilterFromRule_(h,i,e.srsName);if(f){o.push(f)}}}var d=i.filterCondition;if(o.length===1){n=o[0]}else if(o.length>=2){if(d===r["a"].AND){n=O["and"].apply(null,o)}else if(d===r["a"].OR||d===r["a"].NOT){n=O["or"].apply(null,o)}}if(n&&d===r["a"].NOT){n=O["not"](n)}}if(e.incTime){var p=this.createTimeFilterFromDataSource_(i);if(p){if(n){n=O["and"].apply(null,[n,p])}else{n=p}}}if(e.incDimensions){var v=this.createDimensionsFilterFromDataSource_(i);if(v){if(n){n=O["and"].apply(null,[n,v])}else{n=v}}}return n};t.prototype.createFilterString=function t(e){var i=null;var n=this.createFilter(e);if(n){var r=Object(w["b"])(n);var a=new XMLSerializer;i=a.serializeToString(r)}return i};t.prototype.createFilterFromRule_=function t(e,i,r){var a=null;var o=e.value;if(!o){return null}var s=o.expression;var l=o.lowerBoundary;var c=o.operator;var h=o.propertyName;var f=o.upperBoundary;var g=u["a"].OperatorType;var m=u["a"].SpatialOperatorType;var y=u["a"].TemporalOperatorType;var _=[m.CONTAINS,m.INTERSECTS,m.WITHIN];var b=[g.GREATER_THAN,g.GREATER_THAN_OR_EQUAL_TO,g.LESSER_THAN,g.LESSER_THAN_OR_EQUAL_TO];if(e instanceof d){var w=void 0;var S=void 0;if(c===y.DURING){w=Xi(l).format("YYYY-MM-DD");S=Xi(f).format("YYYY-MM-DD")}else if(c===y.EQUALS){w=Xi(s).format("YYYY-MM-DD");S=w}else if(c===y.BEGINS){w=Xi(s).format("YYYY-MM-DD");S=Xi(s).add(30,"years").format("YYYY-MM-DD")}else if(c===y.ENDS){w="1970-01-01";S=Xi(s).format("YYYY-MM-DD")}if(w&&S){a=O["during"](h,w,S)}}else if(e instanceof v["a"]){var C=e.selectedChoices;if(C.length===1){a=O["equalTo"](h,C[0])}else if(C.length>=2){var T=[];for(var E=C,M=Array.isArray(E),j=0,E=M?E:E[Symbol.iterator]();;){var k;if(M){if(j>=E.length)break;k=E[j++]}else{j=E.next();if(j.done)break;k=j.value}var R=k;T.push(O["equalTo"](h,R))}a=O["or"].apply(null,T)}}else if(x["f"](_,c)){var A=i.geometryName;n["a"].assertInstanceof(e,p["a"]);var I=n["a"].assert(e.geometry);if(c===m.CONTAINS){a=O["contains"](A,I,r)}else if(c===m.INTERSECTS){a=O["intersects"](A,I,r)}else if(c===m.WITHIN){a=O["within"](A,I,r)}}else if(x["f"](b,c)){var P=n["a"].assertNumber(s);if(c===g.GREATER_THAN){a=O["greaterThan"](h,P)}else if(c===g.GREATER_THAN_OR_EQUAL_TO){a=O["greaterThanOrEqualTo"](h,P)}else if(c===g.LESSER_THAN){a=O["lessThan"](h,P)}else if(c===g.LESSER_THAN_OR_EQUAL_TO){a=O["lessThanOrEqualTo"](h,P)}}else if(c===g.BETWEEN){a=O["between"](h,l,f)}else if(c===g.EQUAL_TO){a=O["equalTo"](h,s)}else if(c===g.LIKE){var D=String(s).replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*");a=O["like"](h,"*"+D+"*","*",".","!",false)}else if(c===g.NOT_EQUAL_TO){a=O["notEqualTo"](h,s)}return a};t.prototype.createDimensionsFilterFromDataSource_=function t(e){var i=e.dimensionsFiltersConfig;var n=e.dimensions;var r=[];for(var a in i){var o=i[a].value;if(o===null){if(n[a]!==undefined&&n[a]!==null){o=n[a]}}if(o!==null){r.push(O["equalTo"](i[a].field,o,true))}}if(r.length===1){return r[0]}else if(r.length>=2){return O["and"].apply(null,r)}return null};t.prototype.createTimeFilterFromDataSource_=function t(e){var i=null;var n=e.timeRangeValue;var r=e.timeProperty;var a=e.timeAttributeName;if(n&&r&&a){if(n.end!==undefined){var o=this.ngeoWMSTime_.formatWMSTimeParam(r,n).split("/");i=O["during"](a,o[0],o[1])}else{var s=r.resolution||"seconds";var u=this.ngeoWMSTime_.formatWMSTimeParam(r,n);var l=void 0;switch(s){case"year":l=Xi(u).add(1,"years").subtract(1,"seconds");break;case"month":l=Xi(u).add(1,"months").subtract(1,"seconds");break;case"day":l=Xi(u).add(1,"days").subtract(1,"seconds");break;default:}if(l){var c=Xi(u).utc().format("YYYY-MM-DD HH:mm:ss");var h=l.utc().format("YYYY-MM-DD HH:mm:ss");i=O["during"](a,c,h)}}}return i};return t}();Qi.module=angular.module("ngeoRuleHelper",[o["a"].module.name,s["a"].module.name]);Qi.module.service("ngeoRuleHelper",Qi);var Ji=e["a"]=Qi},function(t,e,i){"use strict";var n=i(116);var r=i(186);function a(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function o(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function s(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var u=[4e3,3750,3500,3250,3e3,2750,2500,2250,2e3,1750,1500,1250,1e3,750,650,500,250,100,50,20,10,5,2.5,2,1.5,1,.5];var l=new r["b"]({extent:[42e4,3e4,9e5,35e4],resolutions:u,matrixIds:u.map(function(t,e){return""+e})});var c=function(t){s(e,t);function e(i){a(this,e);return o(this,t.call(this,{attributions:"géodonnées &copy; Etat de Vaud & &copy; contributeurs OpenStreetMap",url:"https://ows{1-4}.asitvd.ch/wmts/1.0.0/{Layer}/default/default/0/"+"21781/{TileMatrix}/{TileRow}/{TileCol}.png",projection:"EPSG:21781",requestEncoding:"REST",layer:i.layer,style:"default",matrixSet:"21781",format:"image/png",tileGrid:l}))}return e}(n["a"]);e["a"]=c},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i(1);var r=i(9);var a=i(7);var o=i(195);var s=function t(e){this.matrixIds_=e.matrixIds;o["a"].call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})};Object(n["d"])(s,o["a"]);s.prototype.getMatrixId=function(t){return this.matrixIds_[t]};s.prototype.getMatrixIds=function(){return this.matrixIds_};e["b"]=s;function u(t,e,i){var n=[];var o=[];var u=[];var l=[];var c=[];var h=i!==undefined?i:[];var f="SupportedCRS";var d="TileMatrix";var p="Identifier";var v="ScaleDenominator";var g="TopLeftCorner";var m="TileWidth";var y="TileHeight";var _=t[f];var b=Object(a["h"])(_.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(a["h"])(_);var w=b.getMetersPerUnit();var O=b.getAxisOrientation().substr(0,2)=="ne";t[d].sort(function(t,e){return e[v]-t[v]});t[d].forEach(function(e){var i=void 0;if(h.length>0){i=Object(r["d"])(h,function(i){if(e[p]==i[d]){return true}if(e[p].indexOf(":")===-1){return t[p]+":"+e[p]===i[d]}return false})}else{i=true}if(i){o.push(e[p]);var a=e[v]*28e-5/w;var s=e[m];var f=e[y];if(O){u.push([e[g][1],e[g][0]])}else{u.push(e[g])}n.push(a);l.push(s==f?s:[s,f]);c.push([e["MatrixWidth"],-e["MatrixHeight"]])}});return new s({extent:e,origins:u,resolutions:n,matrixIds:o,tileSizes:l,sizes:c})}},function(t,e,i){"use strict";var n=i(2);var r=i(220);var a=i(164);var o=i(251);var s=i(11);function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var l=function(){t.$inject=["$injector","ngeoDataSources","ngeoDataSourcesHelper","ngeoQuerent","ngeoQueryResult"];function t(e,i,n,r,a){u(this,t);var o=e.has("ngeoQueryOptions")?e.get("ngeoQueryOptions"):{};this.dataSources_=i.collection;this.ngeoDataSourcesHelper_=n;this.ngeoQuerent_=r;this.result_=a;this.limit_=o.limit!==undefined?o.limit:50;this.queryCountFirst_=o.queryCountFirst!==undefined?o.queryCountFirst:false;this.tolerancePx_=o.tolerance!==undefined?o.tolerance:3;this.bboxAsGETParam_=o.bboxAsGETParam||false;this.dataSourceNames_={}}t.prototype.issue=function t(e){this.clear();var i=void 0;if(e.dataSources===undefined&&e.queryableDataSources===undefined){i=this.ngeoQuerent_.getQueryableDataSources(this.dataSources_.getArray(),e.map)}var n=e.limit!==undefined?e.limit:this.limit_;s["a"](e,{queryableDataSources:i,limit:n,tolerancePx:this.tolerancePx_,wfsCount:this.queryCountFirst_,bboxAsGETParam:this.bboxAsGETParam_});this.result_.pending=true;this.ngeoQuerent_.issue(e).then(this.handleResult_.bind(this))};t.prototype.clear=function t(){this.result_.total=0;for(var e=this.result_.sources,i=Array.isArray(e),n=0,e=i?e:e[Symbol.iterator]();;){var r;if(i){if(n>=e.length)break;r=e[n++]}else{n=e.next();if(n.done)break;r=n.value}var a=r;a.features.length=0;a.pending=false;a.queried=false;a.tooManyResults=false;a.totalFeatureCount=undefined}this.result_.sources.length=0;this.result_.pending=false};t.prototype.handleResult_=function t(e){var i=this;var r=0;var a=function t(a){var o=Number(a);var s=i.ngeoDataSourcesHelper_.getDataSource(o);var u=s.name;n["a"].assert(s);var l=e[o];var c=l.features;var h=l.limit;var f=l.tooManyFeatures===true;var d=l.totalFeatureCount;var p={};c.forEach(function(t){var e=n["a"].assertString(t.get("ngeo_feature_type_"));if(!p[e]){p[e]=[]}if(s.attributes&&s.attributes.length){var i=t.getProperties();var r={};s.attributes.forEach(function(e){if(e.alias){r[e.alias]=i[e.name];t.unset(e.name,true)}else{r[e.name]=i[e.name]}});t.setProperties(r,true)}p[e].push(t)});for(var v in p){u=v?v:u;var g=p[v];i.result_.sources.push({features:g,id:o,label:u,limit:h,pending:false,queried:true,tooManyResults:f,totalFeatureCount:d});r+=c.length}};for(var o in e){a(o)}this.result_.total=r;this.result_.pending=false};return t}();l.module=angular.module("ngeoMapQuerent",[a["a"].module.name,o["a"].module.name,r["a"].module.name]);l.module.service("ngeoMapQuerent",l);l.module.value("ngeoQueryResult",{sources:[],total:0,pending:false});e["a"]=l},function(t,e,i){"use strict";var n=i(3);var r=function t(){this.listenerKeys_={}};r.prototype.addListenerKey=function(t,e){if(!this.listenerKeys_[t]){this.initListenerKey_(t)}this.listenerKeys_[t].push(e)};r.prototype.clearListenerKey=function(t){this.initListenerKey_(t)};r.prototype.initListenerKey_=function(t){if(!this.listenerKeys_[t]){this.listenerKeys_[t]=[]}else{if(this.listenerKeys_[t].length){this.listenerKeys_[t].forEach(n["e"]);this.listenerKeys_[t].length=0}}};r.module=angular.module("ngeoEventHelper",[]);r.module.service("ngeoEventHelper",r);e["a"]=r},function(t,e,i){"use strict";i.d(e,"c",function(){return m});i.d(e,"a",function(){return y});i.d(e,"d",function(){return _});i.d(e,"b",function(){return b});var n=i(93);var r=i(25);var a=i(45);var o=i(66);var s=i(6);var u=i(52);var l=i(16);var c=i(39);var h=i(154);var f=i(47);function d(){return this.hours()%12||12}function p(){return this.hours()||24}Object(r["a"])("H",["HH",2],0,"hour");Object(r["a"])("h",["hh",2],0,d);Object(r["a"])("k",["kk",2],0,p);Object(r["a"])("hmm",0,0,function(){return""+d.apply(this)+Object(h["a"])(this.minutes(),2)});Object(r["a"])("hmmss",0,0,function(){return""+d.apply(this)+Object(h["a"])(this.minutes(),2)+Object(h["a"])(this.seconds(),2)});Object(r["a"])("Hmm",0,0,function(){return""+this.hours()+Object(h["a"])(this.minutes(),2)});Object(r["a"])("Hmmss",0,0,function(){return""+this.hours()+Object(h["a"])(this.minutes(),2)+Object(h["a"])(this.seconds(),2)});function v(t,e){Object(r["a"])(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}v("a",true);v("A",false);Object(a["a"])("hour","h");Object(o["a"])("hour",13);function g(t,e){return e._meridiemParse}Object(s["a"])("a",g);Object(s["a"])("A",g);Object(s["a"])("H",s["d"]);Object(s["a"])("h",s["d"]);Object(s["a"])("k",s["d"]);Object(s["a"])("HH",s["d"],s["h"]);Object(s["a"])("hh",s["d"],s["h"]);Object(s["a"])("kk",s["d"],s["h"]);Object(s["a"])("hmm",s["j"]);Object(s["a"])("hmmss",s["l"]);Object(s["a"])("Hmm",s["j"]);Object(s["a"])("Hmmss",s["l"]);Object(u["a"])(["H","HH"],l["b"]);Object(u["a"])(["k","kk"],function(t,e,i){var n=Object(c["a"])(t);e[l["b"]]=n===24?0:n});Object(u["a"])(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t);i._meridiem=t});Object(u["a"])(["h","hh"],function(t,e,i){e[l["b"]]=Object(c["a"])(t);Object(f["a"])(i).bigHour=true});Object(u["a"])("hmm",function(t,e,i){var n=t.length-2;e[l["b"]]=Object(c["a"])(t.substr(0,n));e[l["d"]]=Object(c["a"])(t.substr(n));Object(f["a"])(i).bigHour=true});Object(u["a"])("hmmss",function(t,e,i){var n=t.length-4;var r=t.length-2;e[l["b"]]=Object(c["a"])(t.substr(0,n));e[l["d"]]=Object(c["a"])(t.substr(n,2));e[l["f"]]=Object(c["a"])(t.substr(r));Object(f["a"])(i).bigHour=true});Object(u["a"])("Hmm",function(t,e,i){var n=t.length-2;e[l["b"]]=Object(c["a"])(t.substr(0,n));e[l["d"]]=Object(c["a"])(t.substr(n))});Object(u["a"])("Hmmss",function(t,e,i){var n=t.length-4;var r=t.length-2;e[l["b"]]=Object(c["a"])(t.substr(0,n));e[l["d"]]=Object(c["a"])(t.substr(n,2));e[l["f"]]=Object(c["a"])(t.substr(r))});function m(t){return(t+"").toLowerCase().charAt(0)==="p"}var y=/[ap]\.?m?\.?/i;function _(t,e,i){if(t>11){return i?"pm":"PM"}else{return i?"am":"AM"}}var b=Object(n["b"])("Hours",true)},function(t,e,i){"use strict";var n=i(13);var r={};r.getDefaultDrawStyleFunction=function(){var t=Object(n["b"])();return function(e,i){return t[e.getGeometry().getType()]}};r.getDefaultModifyStyleFunction=function(){var t=Object(n["b"])();return function(e,i){return t["Point"]}};e["a"]=r},function(t,e,i){"use strict";i.d(e,"b",function(){return rt});var n=i(1);var r=i(24);var a=i(210);var o=i(175);var s=i(62);var u=i(64);var l=i(129);var c=i(5);var h=i(67);var f=i(11);var d=i(7);var p=i(0);var v="feature";var g="http://www.w3.org/2000/xmlns/";var m="http://www.opengis.net/ogc";var y="http://www.opengis.net/wfs";var _="http://www.opengis.net/fes";var b={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};var w="1.1.0";var O=function t(e){var i=e?e:{};this.featureType_=i.featureType;this.featureNS_=i.featureNS;this.gmlFormat_=i.gmlFormat?i.gmlFormat:new o["a"];this.schemaLocation_=i.schemaLocation?i.schemaLocation:b[w];l["a"].call(this)};Object(n["d"])(O,l["a"]);O.prototype.getFeatureType=function(){return this.featureType_};O.prototype.setFeatureType=function(t){this.featureType_=t};O.prototype.readFeatures;O.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType_,featureNS:this.featureNS_};Object(f["a"])(i,this.getReadOptions(t,e?e:{}));var n=[i];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[s["a"]]["featureMember"]=Object(p["j"])(s["b"].prototype.readFeaturesInternal);var r=Object(p["u"])([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,n,this.gmlFormat_);if(!r){r=[]}return r};O.prototype.readTransactionResponse=function(t){if(Object(p["g"])(t)){return this.readTransactionResponseFromDocument(t)}else if(Object(p["h"])(t)){return this.readTransactionResponseFromNode(t)}else if(typeof t==="string"){var e=Object(p["s"])(t);return this.readTransactionResponseFromDocument(e)}else{return undefined}};O.prototype.readFeatureCollectionMetadata=function(t){if(Object(p["g"])(t)){return this.readFeatureCollectionMetadataFromDocument(t)}else if(Object(p["h"])(t)){return this.readFeatureCollectionMetadataFromNode(t)}else if(typeof t==="string"){var e=Object(p["s"])(t);return this.readFeatureCollectionMetadataFromDocument(e)}else{return undefined}};O.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readFeatureCollectionMetadataFromNode(e)}}return undefined};var x={"http://www.opengis.net/gml":{boundedBy:Object(p["n"])(s["b"].prototype.readGeometryElement,"bounds")}};O.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={};var i=Object(c["g"])(t.getAttribute("numberOfFeatures"));e["numberOfFeatures"]=i;return Object(p["u"])(e,x,t,[],this.gmlFormat_)};var S={"http://www.opengis.net/wfs":{totalInserted:Object(p["n"])(c["f"]),totalUpdated:Object(p["n"])(c["f"]),totalDeleted:Object(p["n"])(c["f"])}};function C(t,e){return Object(p["u"])({},S,t,e)}var T={"http://www.opengis.net/ogc":{FeatureId:Object(p["j"])(function(t,e){return t.getAttribute("fid")})}};function E(t,e){Object(p["t"])(T,t,e)}var M={"http://www.opengis.net/wfs":{Feature:E}};function j(t,e){return Object(p["u"])([],M,t,e)}var k={"http://www.opengis.net/wfs":{TransactionSummary:Object(p["n"])(C,"transactionSummary"),InsertResults:Object(p["n"])(j,"insertIds")}};O.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readTransactionResponseFromNode(e)}}return undefined};O.prototype.readTransactionResponseFromNode=function(t){return Object(p["u"])({},k,t,[])};var R={"http://www.opengis.net/wfs":{PropertyName:Object(p["l"])(c["n"])}};function A(t,e,i){var n=i[i.length-1];var r=n["featureType"];var s=n["featureNS"];var u=n["gmlVersion"];var l=Object(p["d"])(s,r);t.appendChild(l);if(u===2){a["a"].prototype.writeFeatureElement(l,e,i)}else{o["a"].prototype.writeFeatureElement(l,e,i)}}function I(t,e,i){var n=Object(p["d"])(m,"Filter");var r=Object(p["d"])(m,"FeatureId");n.appendChild(r);r.setAttribute("fid",e);t.appendChild(n)}function P(t,e){t=t?t:v;var i=t+":";if(e.indexOf(i)===0){return e}else{return i+e}}function D(t,e,i){var n=i[i.length-1];Object(r["a"])(e.getId()!==undefined,26);var a=n["featureType"];var o=n["featurePrefix"];var s=n["featureNS"];var u=P(o,a);t.setAttribute("typeName",u);t.setAttributeNS(g,"xmlns:"+o,s);var l=e.getId();if(l!==undefined){I(t,l,i)}}var N={"http://www.opengis.net/wfs":{Insert:Object(p["l"])(A),Update:Object(p["l"])($),Delete:Object(p["l"])(D),Property:Object(p["l"])(L),Native:Object(p["l"])(F)}};function $(t,e,i){var n=i[i.length-1];Object(r["a"])(e.getId()!==undefined,27);var a=n["featureType"];var o=n["featurePrefix"];var s=n["featureNS"];var u=P(o,a);var l=e.getGeometryName();t.setAttribute("typeName",u);t.setAttributeNS(g,"xmlns:"+o,s);var c=e.getId();if(c!==undefined){var f=e.getKeys();var d=[];for(var v=0,m=f.length;v<m;v++){var y=e.get(f[v]);if(y!==undefined){var _=f[v];if(y instanceof h["a"]){_=l}d.push({name:_,value:y})}}Object(p["v"])({gmlVersion:n["gmlVersion"],node:t,hasZ:n["hasZ"],srsName:n["srsName"]},N,Object(p["q"])("Property"),d,i);I(t,c,i)}}function L(t,e,i){var n=Object(p["d"])(y,"Name");var r=i[i.length-1];var s=r["gmlVersion"];t.appendChild(n);Object(c["n"])(n,e.name);if(e.value!==undefined&&e.value!==null){var u=Object(p["d"])(y,"Value");t.appendChild(u);if(e.value instanceof h["a"]){if(s===2){a["a"].prototype.writeGeometryElement(u,e.value,i)}else{o["a"].prototype.writeGeometryElement(u,e.value,i)}}else{Object(c["n"])(u,e.value)}}}function F(t,e,i){if(e.vendorId){t.setAttribute("vendorId",e.vendorId)}if(e.safeToIgnore!==undefined){t.setAttribute("safeToIgnore",e.safeToIgnore)}if(e.value!==undefined){Object(c["n"])(t,e.value)}}var G={"http://www.opengis.net/wfs":{Query:Object(p["l"])(U)},"http://www.opengis.net/ogc":{During:Object(p["l"])(B),And:Object(p["l"])(q),Or:Object(p["l"])(q),Not:Object(p["l"])(K),BBOX:Object(p["l"])(W),Contains:Object(p["l"])(Y),Intersects:Object(p["l"])(z),Within:Object(p["l"])(V),PropertyIsEqualTo:Object(p["l"])(X),PropertyIsNotEqualTo:Object(p["l"])(X),PropertyIsLessThan:Object(p["l"])(X),PropertyIsLessThanOrEqualTo:Object(p["l"])(X),PropertyIsGreaterThan:Object(p["l"])(X),PropertyIsGreaterThanOrEqualTo:Object(p["l"])(X),PropertyIsNull:Object(p["l"])(Z),PropertyIsBetween:Object(p["l"])(Q),PropertyIsLike:Object(p["l"])(J)}};function U(t,e,i){var n=i[i.length-1];var r=n["featurePrefix"];var a=n["featureNS"];var o=n["propertyNames"];var s=n["srsName"];var u=void 0;if(r){u=P(r,e)}else{u=e}t.setAttribute("typeName",u);if(s){t.setAttribute("srsName",s)}if(a){t.setAttributeNS(g,"xmlns:"+r,a)}var l=Object(f["a"])({},n);l.node=t;Object(p["v"])(l,R,Object(p["q"])("PropertyName"),o,i);var c=n["filter"];if(c){var h=Object(p["d"])(m,"Filter");t.appendChild(h);H(h,c,i)}}function H(t,e,i){var n={node:t};Object(p["v"])(n,G,Object(p["q"])(e.getTagName()),[e],i)}function W(t,e,i){var n=i[i.length-1];n["srsName"]=e.srsName;et(t,e.geometryName);o["a"].prototype.writeGeometryElement(t,e.extent,i)}function Y(t,e,i){var n=i[i.length-1];n["srsName"]=e.srsName;et(t,e.geometryName);o["a"].prototype.writeGeometryElement(t,e.geometry,i)}function z(t,e,i){var n=i[i.length-1];n["srsName"]=e.srsName;et(t,e.geometryName);o["a"].prototype.writeGeometryElement(t,e.geometry,i)}function V(t,e,i){var n=i[i.length-1];n["srsName"]=e.srsName;et(t,e.geometryName);o["a"].prototype.writeGeometryElement(t,e.geometry,i)}function B(t,e,i){var n=Object(p["d"])(_,"ValueReference");Object(c["n"])(n,e.propertyName);t.appendChild(n);var r=Object(p["d"])(s["a"],"TimePeriod");t.appendChild(r);var a=Object(p["d"])(s["a"],"begin");r.appendChild(a);nt(a,e.begin);var o=Object(p["d"])(s["a"],"end");r.appendChild(o);nt(o,e.end)}function q(t,e,i){var n={node:t};var r=e.conditions;for(var a=0,o=r.length;a<o;++a){var s=r[a];Object(p["v"])(n,G,Object(p["q"])(s.getTagName()),[s],i)}}function K(t,e,i){var n={node:t};var r=e.condition;Object(p["v"])(n,G,Object(p["q"])(r.getTagName()),[r],i)}function X(t,e,i){if(e.matchCase!==undefined){t.setAttribute("matchCase",e.matchCase.toString())}et(t,e.propertyName);it(t,""+e.expression)}function Z(t,e,i){et(t,e.propertyName)}function Q(t,e,i){et(t,e.propertyName);var n=Object(p["d"])(m,"LowerBoundary");t.appendChild(n);it(n,""+e.lowerBoundary);var r=Object(p["d"])(m,"UpperBoundary");t.appendChild(r);it(r,""+e.upperBoundary)}function J(t,e,i){t.setAttribute("wildCard",e.wildCard);t.setAttribute("singleChar",e.singleChar);t.setAttribute("escapeChar",e.escapeChar);if(e.matchCase!==undefined){t.setAttribute("matchCase",e.matchCase.toString())}et(t,e.propertyName);it(t,""+e.pattern)}function tt(t,e,i){var n=Object(p["d"])(m,t);Object(c["n"])(n,i);e.appendChild(n)}function et(t,e){tt("PropertyName",t,e)}function it(t,e){tt("Literal",t,e)}function nt(t,e){var i=Object(p["d"])(s["a"],"TimeInstant");t.appendChild(i);var n=Object(p["d"])(s["a"],"timePosition");i.appendChild(n);Object(c["n"])(n,e)}function rt(t){var e=Object(p["d"])(m,"Filter");H(e,t,[]);return e}function at(t,e,i){var n=i[i.length-1];var r=Object(f["a"])({},n);r.node=t;Object(p["v"])(r,G,Object(p["q"])("Query"),e,i)}O.prototype.writeGetFeature=function(t){var e=Object(p["d"])(y,"GetFeature");e.setAttribute("service","WFS");e.setAttribute("version","1.1.0");var i=void 0;if(t){if(t.handle){e.setAttribute("handle",t.handle)}if(t.outputFormat){e.setAttribute("outputFormat",t.outputFormat)}if(t.maxFeatures!==undefined){e.setAttribute("maxFeatures",t.maxFeatures)}if(t.resultType){e.setAttribute("resultType",t.resultType)}if(t.startIndex!==undefined){e.setAttribute("startIndex",t.startIndex)}if(t.count!==undefined){e.setAttribute("count",t.count)}i=t.filter;if(t.bbox){Object(r["a"])(t.geometryName,12);var n=Object(u["bbox"])(t.geometryName,t.bbox,t.srsName);if(i){i=Object(u["and"])(i,n)}else{i=n}}}e.setAttributeNS(p["c"],"xsi:schemaLocation",this.schemaLocation_);var a={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:i,propertyNames:t.propertyNames?t.propertyNames:[]};Object(r["a"])(Array.isArray(t.featureTypes),11);at(e,t.featureTypes,[a]);return e};O.prototype.writeTransaction=function(t,e,i,n){var r=[];var a=Object(p["d"])(y,"Transaction");var o=n.version?n.version:w;var s=o==="1.0.0"?2:3;a.setAttribute("service","WFS");a.setAttribute("version",o);var u=void 0;var l=void 0;if(n){u=n.gmlOptions?n.gmlOptions:{};if(n.handle){a.setAttribute("handle",n.handle)}}var c=b[o];a.setAttributeNS(p["c"],"xsi:schemaLocation",c);var h=n.featurePrefix?n.featurePrefix:v;if(t){l={node:a,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:s,hasZ:n.hasZ,srsName:n.srsName};Object(f["a"])(l,u);Object(p["v"])(l,N,Object(p["q"])("Insert"),t,r)}if(e){l={node:a,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:s,hasZ:n.hasZ,srsName:n.srsName};Object(f["a"])(l,u);Object(p["v"])(l,N,Object(p["q"])("Update"),e,r)}if(i){Object(p["v"])({node:a,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:s,srsName:n.srsName},N,Object(p["q"])("Delete"),i,r)}if(n.nativeElements){Object(p["v"])({node:a,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:s,srsName:n.srsName},N,Object(p["q"])("Native"),n.nativeElements,r)}return a};O.prototype.readProjection;O.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readProjectionFromNode(e)}}return null};O.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling){if(!(e.childNodes.length===0||e.childNodes.length===1&&e.firstChild.nodeType===3)){var i=[{}];this.gmlFormat_.readGeometryElement(e,i);return Object(d["h"])(i.pop().srsName)}}}return null};e["a"]=O},function(t,e,i){"use strict";i.d(e,"a",function(){return o});i.d(e,"b",function(){return s});i.d(e,"c",function(){return l});i.d(e,"d",function(){return c});var n=i(4);var r=i(152);var a=i(295);function o(t,e,i,r,o){var s=Object(n["s"])(Object(n["j"])(),t,e,i,r);if(!Object(n["F"])(o,s)){return false}if(Object(n["g"])(o,s)){return true}if(s[0]>=o[0]&&s[2]<=o[2]){return true}if(s[1]>=o[1]&&s[3]<=o[3]){return true}return Object(a["a"])(t,e,i,r,function(t,e){return Object(n["G"])(o,t,e)})}function s(t,e,i,n,r){for(var a=0,s=i.length;a<s;++a){if(o(t,e,i[a],n,r)){return true}e=i[a]}return false}function u(t,e,i,n,a){if(o(t,e,i,n,a)){return true}if(Object(r["b"])(t,e,i,n,a[0],a[1])){return true}if(Object(r["b"])(t,e,i,n,a[0],a[3])){return true}if(Object(r["b"])(t,e,i,n,a[2],a[1])){return true}if(Object(r["b"])(t,e,i,n,a[2],a[3])){return true}return false}function l(t,e,i,n,a){if(!u(t,e,i[0],n,a)){return false}if(i.length===1){return true}for(var o=1,s=i.length;o<s;++o){if(Object(r["a"])(t,i[o-1],i[o],n,a)){return false}}return true}function c(t,e,i,n,r){for(var a=0,o=i.length;a<o;++a){var s=i[a];if(l(t,e,s,n,r)){return true}e=s[s.length-1]}return false}},function(t,e,i){"use strict";var n=i(1);var r=i(43);var a=i(24);var o=i(82);var s=i(3);var u=i(10);var l=i(119);var c=i(44);var h=i(85);var f=i(242);var d=function t(e,i,n,a,o,s){h["a"].call(this);this.hitDetectionImage_=null;this.image_=!e?new Image:e;if(a!==null){this.image_.crossOrigin=a}this.canvas_=s?document.createElement("CANVAS"):null;this.color_=s;this.imageListenerKeys_=null;this.imageState_=o;this.size_=n;this.src_=i;this.tainting_=false;if(this.imageState_==r["a"].LOADED){this.determineTainting_()}};Object(n["d"])(d,h["a"]);function p(t,e,i,n,r,a){var o=f["a"].get(e,n,a);if(!o){o=new d(t,e,i,n,r,a);f["a"].set(e,n,a,o)}return o}d.prototype.determineTainting_=function(){var t=Object(c["a"])(1,1);try{t.drawImage(this.image_,0,0);t.getImageData(0,0,1,1)}catch(t){this.tainting_=true}};d.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(u["a"].CHANGE)};d.prototype.handleImageError_=function(){this.imageState_=r["a"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};d.prototype.handleImageLoad_=function(){this.imageState_=r["a"].LOADED;if(this.size_){this.image_.width=this.size_[0];this.image_.height=this.size_[1]}this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.determineTainting_();this.replaceColor_();this.dispatchChangeEvent_()};d.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_};d.prototype.getImageState=function(){return this.imageState_};d.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_){if(this.tainting_){var e=this.size_[0];var i=this.size_[1];var n=Object(c["a"])(e,i);n.fillRect(0,0,e,i);this.hitDetectionImage_=n.canvas}else{this.hitDetectionImage_=this.image_}}return this.hitDetectionImage_};d.prototype.getSize=function(){return this.size_};d.prototype.getSrc=function(){return this.src_};d.prototype.load=function(){if(this.imageState_==r["a"].IDLE){this.imageState_=r["a"].LOADING;this.imageListenerKeys_=[Object(s["b"])(this.image_,u["a"].ERROR,this.handleImageError_,this),Object(s["b"])(this.image_,u["a"].LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}};d.prototype.replaceColor_=function(){if(this.tainting_||this.color_===null){return}this.canvas_.width=this.image_.width;this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);var e=t.getImageData(0,0,this.image_.width,this.image_.height);var i=e.data;var n=this.color_[0]/255;var r=this.color_[1]/255;var a=this.color_[2]/255;for(var o=0,s=i.length;o<s;o+=4){i[o]*=n;i[o+1]*=r;i[o+2]*=a}t.putImageData(e,0,0)};d.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s["e"]);this.imageListenerKeys_=null};var v=d;var g=i(99);var m=i(234);var y=function t(e){var i=e||{};this.anchor_=i.anchor!==undefined?i.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=i.anchorOrigin!==undefined?i.anchorOrigin:g["a"].TOP_LEFT;this.anchorXUnits_=i.anchorXUnits!==undefined?i.anchorXUnits:l["a"].FRACTION;this.anchorYUnits_=i.anchorYUnits!==undefined?i.anchorYUnits:l["a"].FRACTION;this.crossOrigin_=i.crossOrigin!==undefined?i.crossOrigin:null;var s=i.img!==undefined?i.img:null;var u=i.imgSize!==undefined?i.imgSize:null;var c=i.src;Object(a["a"])(!(c!==undefined&&s),4);Object(a["a"])(!s||s&&u,5);if((c===undefined||c.length===0)&&s){c=s.src||Object(n["c"])(s).toString()}Object(a["a"])(c!==undefined&&c.length>0,6);var h=i.src!==undefined?r["a"].IDLE:r["a"].LOADED;this.color_=i.color!==undefined?Object(o["a"])(i.color):null;this.iconImage_=p(s,c,u,this.crossOrigin_,h,this.color_);this.offset_=i.offset!==undefined?i.offset:[0,0];this.offsetOrigin_=i.offsetOrigin!==undefined?i.offsetOrigin:g["a"].TOP_LEFT;this.origin_=null;this.size_=i.size!==undefined?i.size:null;var f=i.opacity!==undefined?i.opacity:1;var d=i.rotateWithView!==undefined?i.rotateWithView:false;var v=i.rotation!==undefined?i.rotation:0;var y=i.scale!==undefined?i.scale:1;var _=i.snapToPixel!==undefined?i.snapToPixel:true;m["a"].call(this,{opacity:f,rotation:v,scale:y,snapToPixel:_,rotateWithView:d})};Object(n["d"])(y,m["a"]);y.prototype.clone=function(){return new y({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||undefined,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():undefined,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};y.prototype.getAnchor=function(){if(this.normalizedAnchor_){return this.normalizedAnchor_}var t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==l["a"].FRACTION||this.anchorYUnits_==l["a"].FRACTION){if(!e){return null}t=this.anchor_.slice();if(this.anchorXUnits_==l["a"].FRACTION){t[0]*=e[0]}if(this.anchorYUnits_==l["a"].FRACTION){t[1]*=e[1]}}if(this.anchorOrigin_!=g["a"].TOP_LEFT){if(!e){return null}if(t===this.anchor_){t=this.anchor_.slice()}if(this.anchorOrigin_==g["a"].TOP_RIGHT||this.anchorOrigin_==g["a"].BOTTOM_RIGHT){t[0]=-t[0]+e[0]}if(this.anchorOrigin_==g["a"].BOTTOM_LEFT||this.anchorOrigin_==g["a"].BOTTOM_RIGHT){t[1]=-t[1]+e[1]}}this.normalizedAnchor_=t;return this.normalizedAnchor_};y.prototype.getColor=function(){return this.color_};y.prototype.getImage=function(t){return this.iconImage_.getImage(t)};y.prototype.getImageSize=function(){return this.iconImage_.getSize()};y.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};y.prototype.getImageState=function(){return this.iconImage_.getImageState()};y.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)};y.prototype.getOrigin=function(){if(this.origin_){return this.origin_}var t=this.offset_;if(this.offsetOrigin_!=g["a"].TOP_LEFT){var e=this.getSize();var i=this.iconImage_.getSize();if(!e||!i){return null}t=t.slice();if(this.offsetOrigin_==g["a"].TOP_RIGHT||this.offsetOrigin_==g["a"].BOTTOM_RIGHT){t[0]=i[0]-e[0]-t[0]}if(this.offsetOrigin_==g["a"].BOTTOM_LEFT||this.offsetOrigin_==g["a"].BOTTOM_RIGHT){t[1]=i[1]-e[1]-t[1]}}this.origin_=t;return this.origin_};y.prototype.getSrc=function(){return this.iconImage_.getSrc()};y.prototype.getSize=function(){return!this.size_?this.iconImage_.getSize():this.size_};y.prototype.listenImageChange=function(t,e){return Object(s["a"])(this.iconImage_,u["a"].CHANGE,t,e)};y.prototype.load=function(){this.iconImage_.load()};y.prototype.unlistenImageChange=function(t,e){Object(s["c"])(this.iconImage_,u["a"].CHANGE,t,e)};var _=e["a"]=y},function(t,e,i){"use strict";i.d(e,"a",function(){return o});i.d(e,"b",function(){return s});var n=i(1);var r=i(149);var a=function t(e){var i={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};r["a"].call(this,e,i);this.pointerMap=e.pointerMap;this.lastTouches=[]};Object(n["d"])(a,r["a"]);var o=1;var s="mouse";var u=25;a.prototype.isEventSimulatedFromTouch_=function(t){var e=this.lastTouches;var i=t.clientX;var n=t.clientY;for(var r=0,a=e.length,o;r<a&&(o=e[r]);r++){var s=Math.abs(i-o[0]);var l=Math.abs(n-o[1]);if(s<=u&&l<=u){return true}}return false};function l(t,e){var i=e.cloneEvent(t,t);var n=i.preventDefault;i.preventDefault=function(){t.preventDefault();n()};i.pointerId=o;i.isPrimary=true;i.pointerType=s;return i}a.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){if(o.toString()in this.pointerMap){this.cancel(t)}var e=l(t,this.dispatcher);this.pointerMap[o.toString()]=t;this.dispatcher.down(e,t)}};a.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=l(t,this.dispatcher);this.dispatcher.move(e,t)}};a.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[o.toString()];if(e&&e.button===t.button){var i=l(t,this.dispatcher);this.dispatcher.up(i,t);this.cleanupMouse()}}};a.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=l(t,this.dispatcher);this.dispatcher.enterOver(e,t)}};a.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=l(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}};a.prototype.cancel=function(t){var e=l(t,this.dispatcher);this.dispatcher.cancel(e,t);this.cleanupMouse()};a.prototype.cleanupMouse=function(){delete this.pointerMap[o.toString()]};e["c"]=a},function(t,e,i){"use strict";var n=i(211);var r=i(24);var a=i(214);var o=i(9);var s=i(4);var u=i(12);var l=i(98);var c=i(110);var h=function t(e){this.minZoom=e.minZoom!==undefined?e.minZoom:0;this.resolutions_=e.resolutions;Object(r["a"])(Object(o["g"])(this.resolutions_,function(t,e){return e-t},true),17);var i=void 0;if(!e.origins){for(var u=0,l=this.resolutions_.length-1;u<l;++u){if(!i){i=this.resolutions_[u]/this.resolutions_[u+1]}else{if(this.resolutions_[u]/this.resolutions_[u+1]!==i){i=undefined;break}}}}this.zoomFactor_=i;this.maxZoom=this.resolutions_.length-1;this.origin_=e.origin!==undefined?e.origin:null;this.origins_=null;if(e.origins!==undefined){this.origins_=e.origins;Object(r["a"])(this.origins_.length==this.resolutions_.length,20)}var c=e.extent;if(c!==undefined&&!this.origin_&&!this.origins_){this.origin_=Object(s["C"])(c)}Object(r["a"])(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;if(e.tileSizes!==undefined){this.tileSizes_=e.tileSizes;Object(r["a"])(this.tileSizes_.length==this.resolutions_.length,19)}this.tileSize_=e.tileSize!==undefined?e.tileSize:!this.tileSizes_?n["b"]:null;Object(r["a"])(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=c!==undefined?c:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];if(e.sizes!==undefined){this.fullTileRanges_=e.sizes.map(function(t,e){var i=new a["b"](Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));return i},this)}else if(c){this.calculateTileRanges_(c)}};var f=[0,0,0];h.prototype.forEachTileCoord=function(t,e,i){var n=this.getTileRangeForExtentAndZ(t,e);for(var r=n.minX,a=n.maxX;r<=a;++r){for(var o=n.minY,s=n.maxY;o<=s;++o){i([e,r,o])}}};h.prototype.forEachTileCoordParentTileRange=function(t,e,i,n,r){var o=void 0,s=void 0,u=void 0;var l=null;var c=t[0]-1;if(this.zoomFactor_===2){s=t[1];u=t[2]}else{l=this.getTileCoordExtent(t,r)}while(c>=this.minZoom){if(this.zoomFactor_===2){s=Math.floor(s/2);u=Math.floor(u/2);o=Object(a["a"])(s,s,u,u,n)}else{o=this.getTileRangeForExtentAndZ(l,c,n)}if(e.call(i,c,o)){return true}--c}return false};h.prototype.getExtent=function(){return this.extent_};h.prototype.getMaxZoom=function(){return this.maxZoom};h.prototype.getMinZoom=function(){return this.minZoom};h.prototype.getOrigin=function(t){if(this.origin_){return this.origin_}else{return this.origins_[t]}};h.prototype.getResolution=function(t){return this.resolutions_[t]};h.prototype.getResolutions=function(){return this.resolutions_};h.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var n=t[1]*2;var r=t[2]*2;return Object(a["a"])(n,n+1,r,r+1,e)}var o=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null};h.prototype.getTileRangeExtent=function(t,e,i){var n=this.getOrigin(t);var r=this.getResolution(t);var a=Object(l["d"])(this.getTileSize(t),this.tmpSize_);var o=n[0]+e.minX*a[0]*r;var u=n[0]+(e.maxX+1)*a[0]*r;var c=n[1]+e.minY*a[1]*r;var h=n[1]+(e.maxY+1)*a[1]*r;return Object(s["k"])(o,c,u,h,i)};h.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=f;this.getTileCoordForXYAndZ_(t[0],t[1],e,false,n);var r=n[1];var o=n[2];this.getTileCoordForXYAndZ_(t[2],t[3],e,true,n);return Object(a["a"])(r,n[1],o,n[2],i)};h.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]);var i=this.getResolution(t[0]);var n=Object(l["d"])(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]+(t[2]+.5)*n[1]*i]};h.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]);var n=this.getResolution(t[0]);var r=Object(l["d"])(this.getTileSize(t[0]),this.tmpSize_);var a=i[0]+t[1]*r[0]*n;var o=i[1]+t[2]*r[1]*n;var u=a+r[0]*n;var c=o+r[1]*n;return Object(s["k"])(a,o,u,c,e)};h.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,false,i)};h.prototype.getTileCoordForXYAndResolution_=function(t,e,i,n,r){var a=this.getZForResolution(i);var o=i/this.getResolution(a);var s=this.getOrigin(a);var u=Object(l["d"])(this.getTileSize(a),this.tmpSize_);var h=n?.5:0;var f=n?0:.5;var d=Math.floor((t-s[0])/i+h);var p=Math.floor((e-s[1])/i+f);var v=o*d/u[0];var g=o*p/u[1];if(n){v=Math.ceil(v)-1;g=Math.ceil(g)-1}else{v=Math.floor(v);g=Math.floor(g)}return Object(c["a"])(a,v,g,r)};h.prototype.getTileCoordForXYAndZ_=function(t,e,i,n,r){var a=this.getOrigin(i);var o=this.getResolution(i);var s=Object(l["d"])(this.getTileSize(i),this.tmpSize_);var u=n?.5:0;var h=n?0:.5;var f=Math.floor((t-a[0])/o+u);var d=Math.floor((e-a[1])/o+h);var p=f/s[0];var v=d/s[1];if(n){p=Math.ceil(p)-1;v=Math.ceil(v)-1}else{p=Math.floor(p);v=Math.floor(v)}return Object(c["a"])(i,p,v,r)};h.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,false,i)};h.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]};h.prototype.getTileSize=function(t){if(this.tileSize_){return this.tileSize_}else{return this.tileSizes_[t]}};h.prototype.getFullTileRange=function(t){if(!this.fullTileRanges_){return null}else{return this.fullTileRanges_[t]}};h.prototype.getZForResolution=function(t,e){var i=Object(o["h"])(this.resolutions_,t,e||0);return Object(u["a"])(i,this.minZoom,this.maxZoom)};h.prototype.calculateTileRanges_=function(t){var e=this.resolutions_.length;var i=new Array(e);for(var n=this.minZoom;n<e;++n){i[n]=this.getTileRangeForExtentAndZ(t,n)}this.fullTileRanges_=i};e["a"]=h},function(t,e,i){"use strict";var n=i(1);var r=i(30);var a=i(91);var o=i(12);var s=i(11);var u=function t(e){r["a"].call(this);var i=Object(s["a"])({},e);i[a["a"].OPACITY]=e.opacity!==undefined?e.opacity:1;i[a["a"].VISIBLE]=e.visible!==undefined?e.visible:true;i[a["a"].Z_INDEX]=e.zIndex!==undefined?e.zIndex:0;i[a["a"].MAX_RESOLUTION]=e.maxResolution!==undefined?e.maxResolution:Infinity;i[a["a"].MIN_RESOLUTION]=e.minResolution!==undefined?e.minResolution:0;this.setProperties(i);this.state_={layer:this,managed:true};this.type};Object(n["d"])(u,r["a"]);u.prototype.getType=function(){return this.type};u.prototype.getLayerState=function(){this.state_.opacity=Object(o["a"])(this.getOpacity(),0,1);this.state_.sourceState=this.getSourceState();this.state_.visible=this.getVisible();this.state_.extent=this.getExtent();this.state_.zIndex=this.getZIndex();this.state_.maxResolution=this.getMaxResolution();this.state_.minResolution=Math.max(this.getMinResolution(),0);return this.state_};u.prototype.getLayersArray=function(t){};u.prototype.getLayerStatesArray=function(t){};u.prototype.getExtent=function(){return this.get(a["a"].EXTENT)};u.prototype.getMaxResolution=function(){return this.get(a["a"].MAX_RESOLUTION)};u.prototype.getMinResolution=function(){return this.get(a["a"].MIN_RESOLUTION)};u.prototype.getOpacity=function(){return this.get(a["a"].OPACITY)};u.prototype.getSourceState=function(){};u.prototype.getVisible=function(){return this.get(a["a"].VISIBLE)};u.prototype.getZIndex=function(){return this.get(a["a"].Z_INDEX)};u.prototype.setExtent=function(t){this.set(a["a"].EXTENT,t)};u.prototype.setMaxResolution=function(t){this.set(a["a"].MAX_RESOLUTION,t)};u.prototype.setMinResolution=function(t){this.set(a["a"].MIN_RESOLUTION,t)};u.prototype.setOpacity=function(t){this.set(a["a"].OPACITY,t)};u.prototype.setVisible=function(t){this.set(a["a"].VISIBLE,t)};u.prototype.setZIndex=function(t){this.set(a["a"].Z_INDEX,t)};e["a"]=u},function(t,e,i){"use strict";i.d(e,"b",function(){return o});i.d(e,"a",function(){return c});i.d(e,"c",function(){return h});var n=i(12);var r=i(8);
/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */var a=6371008.8;function o(t,e,i){var r=i||a;var o=Object(n["i"])(t[1]);var s=Object(n["i"])(e[1]);var u=(s-o)/2;var l=Object(n["i"])(e[0]-t[0])/2;var c=Math.sin(u)*Math.sin(u)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(s);return 2*r*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e){var i=0;for(var n=0,r=t.length;n<r-1;++n){i+=o(t[n],t[n+1],e)}return i}function u(t,e){var i=e||{};var n=i.radius||a;var o=i.projection||"EPSG:3857";var l=t.getType();if(l!==r["a"].GEOMETRY_COLLECTION){t=t.clone().transform(o,"EPSG:4326")}var c=0;var h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0;switch(l){case r["a"].POINT:case r["a"].MULTI_POINT:{break}case r["a"].LINE_STRING:case r["a"].LINEAR_RING:{h=t.getCoordinates();c=s(h,n);break}case r["a"].MULTI_LINE_STRING:case r["a"].POLYGON:{h=t.getCoordinates();for(d=0,p=h.length;d<p;++d){c+=s(h[d],n)}break}case r["a"].MULTI_POLYGON:{h=t.getCoordinates();for(d=0,p=h.length;d<p;++d){f=h[d];for(v=0,g=f.length;v<g;++v){c+=s(f[v],n)}}break}case r["a"].GEOMETRY_COLLECTION:{var m=t.getGeometries();for(d=0,p=m.length;d<p;++d){c+=u(m[d],e)}break}default:{throw new Error("Unsupported geometry type: "+l)}}return c}function l(t,e){var i=0;var r=t.length;var a=t[r-1][0];var o=t[r-1][1];for(var s=0;s<r;s++){var u=t[s][0];var l=t[s][1];i+=Object(n["i"])(u-a)*(2+Math.sin(Object(n["i"])(o))+Math.sin(Object(n["i"])(l)));a=u;o=l}return i*e*e/2}function c(t,e){var i=e||{};var n=i.radius||a;var o=i.projection||"EPSG:3857";var s=t.getType();if(s!==r["a"].GEOMETRY_COLLECTION){t=t.clone().transform(o,"EPSG:4326")}var u=0;var h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0;switch(s){case r["a"].POINT:case r["a"].MULTI_POINT:case r["a"].LINE_STRING:case r["a"].MULTI_LINE_STRING:case r["a"].LINEAR_RING:{break}case r["a"].POLYGON:{h=t.getCoordinates();u=Math.abs(l(h[0],n));for(d=1,p=h.length;d<p;++d){u-=Math.abs(l(h[d],n))}break}case r["a"].MULTI_POLYGON:{h=t.getCoordinates();for(d=0,p=h.length;d<p;++d){f=h[d];u+=Math.abs(l(f[0],n));for(v=1,g=f.length;v<g;++v){u-=Math.abs(l(f[v],n))}}break}case r["a"].GEOMETRY_COLLECTION:{var m=t.getGeometries();for(d=0,p=m.length;d<p;++d){u+=c(m[d],e)}break}default:{throw new Error("Unsupported geometry type: "+s)}}return u}function h(t,e,i,r){var o=r||a;var s=Object(n["i"])(t[1]);var u=Object(n["i"])(t[0]);var l=e/o;var c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(i));var h=u+Math.atan2(Math.sin(i)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c));return[Object(n["h"])(h),Object(n["h"])(c)]}},function(t,e,i){"use strict";var n=i(20);var r=function t(){};r.prototype.disposed_=false;r.prototype.dispose=function(){if(!this.disposed_){this.disposed_=true;this.disposeInternal()}};r.prototype.disposeInternal=n["c"];e["a"]=r},function(t,e,i){"use strict";function n(t,e,i,n){while(e<i-n){for(var r=0;r<n;++r){var a=t[e+r];t[e+r]=t[i-n+r];t[i-n+r]=a}e+=n;i-=n}}i.d(e,"a",function(){return a});i.d(e,"b",function(){return o});i.d(e,"c",function(){return s});i.d(e,"d",function(){return u});function r(t,e,i,n){var r=0;var a=t[i-n];var o=t[i-n+1];for(;e<i;e+=n){var s=t[e];var u=t[e+1];r+=(s-a)*(u+o);a=s;o=u}return r>0}function a(t,e,i,n,a){var o=a!==undefined?a:false;for(var s=0,u=i.length;s<u;++s){var l=i[s];var c=r(t,e,l,n);if(s===0){if(o&&c||!o&&!c){return false}}else{if(o&&!c||!o&&c){return false}}e=l}return true}function o(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){if(!a(t,e,i[o],n,r)){return false}}return true}function s(t,e,i,a,o){var s=o!==undefined?o:false;for(var u=0,l=i.length;u<l;++u){var c=i[u];var h=r(t,e,c,a);var f=u===0?s&&h||!s&&!h:s&&!h||!s&&h;if(f){n(t,e,c,a)}e=c}return e}function u(t,e,i,n,r){for(var a=0,o=i.length;a<o;++a){e=s(t,e,i[a],n,r)}return e}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n="1.3.0"},function(t,e,i){"use strict";var n=i(40);var r=i(1);var a=i(49);var o=i(20);var s=i(27);var u=i(198);var l=i(29);var c=function t(e){this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.className="ol-box "+e;this.map_=null;this.startPixel_=null;this.endPixel_=null};Object(r["d"])(c,u["a"]);c.prototype.disposeInternal=function(){this.setMap(null)};c.prototype.render_=function(){var t=this.startPixel_;var e=this.endPixel_;var i="px";var n=this.element_.style;n.left=Math.min(t[0],e[0])+i;n.top=Math.min(t[1],e[1])+i;n.width=Math.abs(e[0]-t[0])+i;n.height=Math.abs(e[1]-t[1])+i};c.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t;if(this.map_){this.map_.getOverlayContainer().appendChild(this.element_)}};c.prototype.setPixels=function(t,e){this.startPixel_=t;this.endPixel_=e;this.createOrUpdateGeometry();this.render_()};c.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_;var e=this.endPixel_;var i=[t,[t[0],e[1]],e,[e[0],t[1]]];var n=i.map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice();if(!this.geometry_){this.geometry_=new l["b"]([n])}else{this.geometry_.setCoordinates([n])}};c.prototype.getGeometry=function(){return this.geometry_};var h=c;var f={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"};var d=function t(e,i,r){n["a"].call(this,e);this.coordinate=i;this.mapBrowserEvent=r};Object(r["d"])(d,n["a"]);var p=function t(e){s["b"].call(this,{handleDownEvent:y,handleDragEvent:g,handleUpEvent:m});var i=e?e:{};this.box_=new h(i.className||"ol-dragbox");this.minArea_=i.minArea!==undefined?i.minArea:64;this.startPixel_=null;this.condition_=i.condition?i.condition:a["c"];this.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:v};Object(r["d"])(p,s["b"]);function v(t,e,i){var n=i[0]-e[0];var r=i[1]-e[1];return n*n+r*r>=this.minArea_}function g(t){if(!Object(a["e"])(t)){return}this.box_.setPixels(this.startPixel_,t.pixel);this.dispatchEvent(new d(f.BOXDRAG,t.coordinate,t))}p.prototype.getGeometry=function(){return this.box_.getGeometry()};p.prototype.onBoxEnd=o["c"];function m(t){if(!Object(a["e"])(t)){return true}this.box_.setMap(null);if(this.boxEndCondition_(t,this.startPixel_,t.pixel)){this.onBoxEnd(t);this.dispatchEvent(new d(f.BOXEND,t.coordinate,t))}return false}function y(t){if(!Object(a["e"])(t)){return false}if(Object(a["d"])(t)&&this.condition_(t)){this.startPixel_=t.pixel;this.box_.setMap(t.map);this.box_.setPixels(this.startPixel_,this.startPixel_);this.dispatchEvent(new d(f.BOXSTART,t.coordinate,t));return true}else{return false}}var _=e["a"]=p},function(t,e,i){"use strict";var n=i(2);var r=i(299);var a=angular.module("ngeoPopup",["ngSanitize"]);a.value("ngeoPopupTemplateUrl",function(t,e){var i=e["ngeoPopupTemplateurl"];return i!==undefined?i:"ngeo/message/popupcomponent"});a.run(["$templateCache",function(t){t.put("ngeo/message/popupcomponent",i(406))}]);a.directive_=function(t){return{restrict:"A",templateUrl:t,link:function t(e,i,n){i.addClass("popover");e.close=function(t){if(t){t.stopPropagation();t.preventDefault()}i.addClass("hidden")};e.$watch("open",function(t,e){i.css("display",t?"block":"none")})}}};a.directive_.$inject=["ngeoPopupTemplateUrl"];a.directive("ngeoPopup",a.directive_);var o=a;var s=function t(e,i,n,r){var a=this;this.scope=i.$new(true);this.scope.$watch(function(){return a.scope["open"]},function(t){if(!t&&a.autoDestroy_){a.timeout_(function(){a.destroy()})}});this.sce_=n;this.timeout_=r;this.element_=angular.element("<div ngeo-popup></div>");this.autoDestroy_=false;e(this.element_)(this.scope);angular.element(document.body).append(this.element_)};s.prototype.getOpen=function(){return this.scope["open"]};s.prototype.setOpen=function(t){this.scope["open"]=t};s.prototype.destroy=function(){this.scope.$destroy();this.element_.remove()};s.prototype.setTitle=function(t){var e=this.sce_.trustAsHtml(t);this.scope["title"]=e};s.prototype.setContent=function(t,e){this.scope["content"]=e?this.sce_.trustAsHtml(t):t};s.prototype.setUrl=function(t){var e=this.sce_.trustAsHtml('<iframe src="'+t+'" width="100%" height="100%"></iframe>');this.setContent(e)};s.prototype.setWidth=function(t){this.element_.width(t)};s.prototype.setHeight=function(t){this.element_.height(t)};s.prototype.setSize=function(t,e){this.setWidth(t);this.setHeight(e)};s.prototype.setAutoDestroy=function(t){this.autoDestroy_=t};s.prototype.addClass=function(t){this.element_.addClass(t)};s.prototype.open=function(t){if(t.url){this.setUrl(t.url)}else if(t.content){this.setContent(t.content)}else{n["a"].fail('ngeo.message.Popup options requirest "url" or "content".')}if(t.autoDestroy!==undefined){this.setAutoDestroy(t.autoDestroy)}if(t.cls!==undefined){this.addClass(t.cls)}if(t.height!==undefined){this.setHeight(t.height)}if(t.title!==undefined){this.setTitle(t.title)}if(t.width!==undefined){this.setWidth(t.width)}this.setOpen(true)};s.Factory=function(t,e,i,n){return function(){return new s(t,e,i,n)}};s.Factory.$inject=["$compile","$rootScope","$sce","$timeout"];s.module=angular.module("ngeoCreatePopup",[o.name]);s.module.factory("ngeoCreatePopup",s.Factory);var u=e["a"]=s},function(t,e,i){"use strict";var n=i(3);var r=function t(e,i){this.manager_=e;this.features_=null;this.index_=i};r.prototype.addFeature=function(t){this.manager_.addFeature(t,this.index_)};r.prototype.removeFeature=function(t){this.manager_.removeFeature(t,this.index_)};r.prototype.clear=function(){this.manager_.clear(this.index_)};r.prototype.setFeatures=function(t){var e=this;if(this.features_!==null){this.features_.clear();n["c"](this.features_,"add",this.handleFeatureAdd_,this);n["c"](this.features_,"remove",this.handleFeatureRemove_,this)}if(t!==null){t.forEach(function(t){e.addFeature(t)});n["a"](t,"add",this.handleFeatureAdd_,this);n["a"](t,"remove",this.handleFeatureRemove_,this)}this.features_=t};r.prototype.setStyle=function(t){this.manager_.setStyle(t,this.index_)};r.prototype.handleFeatureAdd_=function(t){var e=t.element;this.addFeature(e)};r.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature(e)};r.module=angular.module("ngeoFeatureOverlay",[]);e["a"]=r},function(t,e,i){"use strict";var n=i(1);var r=i(33);var a=i(30);var o=i(3);var s=i(40);var u=i(20);var l=i(9);var c=i(27);var h=i(208);var f={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};var d=function t(e,i,n){s["a"].call(this,e);this.features=i;this.coordinate=n};Object(n["d"])(d,s["a"]);var p=function t(e){c["b"].call(this,{handleDownEvent:v,handleDragEvent:m,handleMoveEvent:y,handleUpEvent:g});var i=e?e:{};this.lastCoordinate_=null;this.features_=i.features!==undefined?i.features:null;var n=void 0;if(i.layers){if(typeof i.layers==="function"){n=i.layers}else{var r=i.layers;n=function t(e){return Object(l["f"])(r,e)}}}else{n=u["b"]}this.layerFilter_=n;this.hitTolerance_=i.hitTolerance?i.hitTolerance:0;this.lastFeature_=null;Object(o["a"])(this,Object(a["b"])(h["a"].ACTIVE),this.handleActiveChanged_,this)};Object(n["d"])(p,c["b"]);function v(t){this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate;y.call(this,t);var e=this.features_||new r["b"]([this.lastFeature_]);this.dispatchEvent(new d(f.TRANSLATESTART,e,t.coordinate));return true}return false}function g(t){if(this.lastCoordinate_){this.lastCoordinate_=null;y.call(this,t);var e=this.features_||new r["b"]([this.lastFeature_]);this.dispatchEvent(new d(f.TRANSLATEEND,e,t.coordinate));return true}return false}function m(t){if(this.lastCoordinate_){var e=t.coordinate;var i=e[0]-this.lastCoordinate_[0];var n=e[1]-this.lastCoordinate_[1];var a=this.features_||new r["b"]([this.lastFeature_]);a.forEach(function(t){var e=t.getGeometry();e.translate(i,n);t.setGeometry(e)});this.lastCoordinate_=e;this.dispatchEvent(new d(f.TRANSLATING,a,e))}}function y(t){var e=t.map.getViewport();if(this.featuresAtPixel_(t.pixel,t.map)){e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing");e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")}else{e.classList.remove("ol-grab","ol-grabbing")}}p.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||Object(l["f"])(this.features_.getArray(),t)){return t}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};p.prototype.getHitTolerance=function(){return this.hitTolerance_};p.prototype.setHitTolerance=function(t){this.hitTolerance_=t};p.prototype.setMap=function(t){var e=this.getMap();c["b"].prototype.setMap.call(this,t);this.updateState_(e)};p.prototype.handleActiveChanged_=function(){this.updateState_(null)};p.prototype.updateState_=function(t){var e=this.getMap();var i=this.getActive();if(!e||!i){e=e||t;if(e){var n=e.getViewport();n.classList.remove("ol-grab","ol-grabbing")}}};e["a"]=p},function(t,e,i){"use strict";var n=i(2);var r=i(118);var a=i(1);var o=i(46);var s=i(74);var u=i(22);var l=i(4);var c=undefined;var h=function t(e,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};r["a"].call(this,n);if(c===undefined){c=false;document.body.addEventListener("keydown",function(t){var e=!!t.metaKey;var i=t.keyCode===17;c=e||i});document.body.addEventListener("keyup",function(){c=false})}if(n.continueMsg!==undefined){this.continueMsg=n.continueMsg}else{this.continueMsg=document.createElement("span");this.continueMsg.textContent=i.getString("Click to continue drawing the line.");var a=document.createElement("br");a.textContent=i.getString("Double-click or click last point to finish.");this.continueMsg.appendChild(a)}this.format=e;this.tolerance=n.tolerance;this.source=n.source};a["d"](h,r["a"]);h.prototype.createDrawInteraction=function(t,e){return new s["a"]({type:"LineString",geometryFunction:this.linestringGeometryFunction.bind(this),condition:function t(){return true},style:t,source:e})};h.prototype.linestringGeometryFunction=function(t,e){var i=this;if(c){var n=this.getMap().getView().getRotation();var r=Math.PI/4;var a=t[t.length-2];var s=t[t.length-1];var h=a[0]-s[0];var f=a[1]-s[1];var d=Object(u["d"])(a,s);var p=n+Math.round((Math.atan2(f,h)-n)/r)*r;s[0]=a[0]-d*Math.cos(p);s[1]=a[1]-d*Math.sin(p);if(this.tolerance!==undefined&&this.source!==undefined){var v=this.getMap().getView().getResolution()*this.tolerance;var g=[s[0]-v,s[1]-v,s[0]+v,s[1]+v];var m=this.source;var y=m.getFeaturesInExtent(g);y.forEach(function(t){var e=[];var n=[];var r=Infinity;var o=Object(u["d"])(a,s);var c=a[0];var h=a[1];var f=s[0];var d=s[1];var p=[(f-c)/o,(d-h)/o];var m=[c+(o+v)*p[0],h+(o+v)*p[1]];t.getGeometry().forEachSegment(function(t,o){e=i.computeLineSegmentIntersection(a,m,t,o);if(e!==undefined&&Object(l["h"])(g,e[0],e[1])){var c=Object(u["d"])(s,e);if(c<r){r=c;n=e}}});if(n){s[0]=n[0]||s[0];s[1]=n[1]||s[1]}})}}var _=e;if(_){_.setCoordinates(t);return _}return new o["a"](t)};h.prototype.handleMeasure=function(t){var e=n["a"].assertInstanceof(this.sketchFeature.getGeometry(),o["a"]);var i=this.getMap().getView().getProjection();n["a"].assert(i);var a=r["a"].getFormattedLength(e,i,this.precision,this.format);var s=e.getLastCoordinate();t(a,s)};h.prototype.computeLineSegmentIntersection=function(t,e,i,n){var r=(n[0]-i[0])*(t[1]-i[1])-(n[1]-i[1])*(t[0]-i[0]);var a=(e[0]-t[0])*(t[1]-i[1])-(e[1]-t[1])*(t[0]-i[0]);var o=(n[1]-i[1])*(e[0]-t[0])-(n[0]-i[0])*(e[1]-t[1]);if(o===0){return}var s=r/o;var u=a/o;if(s>=0&&s<=1&&u>=0&&u<=1){var l=[];l[0]=t[0]+s*(e[0]-t[0]);l[1]=t[1]+s*(e[1]-t[1]);return l}};e["a"]=h},function(t,e,i){"use strict";var n=i(2);var r=i(118);var a=i(1);var o=i(29);var s=i(74);var u=function t(e,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};r["a"].call(this,n);this.continueMsg;if(n.continueMsg!==undefined){this.continueMsg=n.continueMsg}else{this.continueMsg=document.createElement("span");this.continueMsg.textContent=i.getString("Click to continue drawing the polygon.");var a=document.createElement("br");a.textContent=i.getString("Double-click or click starting point to finish.");this.continueMsg.appendChild(a)}this.format=e};a["d"](u,r["a"]);u.prototype.createDrawInteraction=function(t,e){return new s["a"]({type:"Polygon",source:e,style:t})};u.prototype.handleMeasure=function(t){var e=n["a"].assertInstanceof(this.sketchFeature.getGeometry(),o["b"]);var i=this.getMap().getView().getProjection();n["a"].assert(i);var a=r["a"].getFormattedArea(e,i,this.precision,this.format);var s=e.getCoordinates()[0].length;var u=null;if(s>3){u=e.getInteriorPoint().getCoordinates()}t(a,u)};e["a"]=u},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}},function(t,e,i){"use strict";e["a"]={ACTIVE:"active"}},function(t,e,i){"use strict";var n=i(1);var r=i(134);var a=i(44);var o=i(57);var s=i(43);var u=i(15);var l=i(234);var c=function t(e){this.checksums_=null;this.canvas_=null;this.hitDetectionCanvas_=null;this.fill_=e.fill!==undefined?e.fill:null;this.origin_=[0,0];this.points_=e.points;this.radius_=e.radius!==undefined?e.radius:e.radius1;this.radius2_=e.radius2;this.angle_=e.angle!==undefined?e.angle:0;this.stroke_=e.stroke!==undefined?e.stroke:null;this.anchor_=null;this.size_=null;this.imageSize_=null;this.hitDetectionImageSize_=null;this.atlasManager_=e.atlasManager;this.render_(this.atlasManager_);var i=e.snapToPixel!==undefined?e.snapToPixel:true;var n=e.rotateWithView!==undefined?e.rotateWithView:false;l["a"].call(this,{opacity:1,rotateWithView:n,rotation:e.rotation!==undefined?e.rotation:0,scale:1,snapToPixel:i})};Object(n["d"])(c,l["a"]);c.prototype.clone=function(){var t=new c({fill:this.getFill()?this.getFill().clone():undefined,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():undefined,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});t.setOpacity(this.getOpacity());t.setScale(this.getScale());return t};c.prototype.getAnchor=function(){return this.anchor_};c.prototype.getAngle=function(){return this.angle_};c.prototype.getFill=function(){return this.fill_};c.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_};c.prototype.getImage=function(t){return this.canvas_};c.prototype.getImageSize=function(){return this.imageSize_};c.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};c.prototype.getImageState=function(){return s["a"].LOADED};c.prototype.getOrigin=function(){return this.origin_};c.prototype.getPoints=function(){return this.points_};c.prototype.getRadius=function(){return this.radius_};c.prototype.getRadius2=function(){return this.radius2_};c.prototype.getSize=function(){return this.size_};c.prototype.getStroke=function(){return this.stroke_};c.prototype.listenImageChange=function(t,e){};c.prototype.load=function(){};c.prototype.unlistenImageChange=function(t,e){};c.prototype.render_=function(t){var e=void 0;var i="";var n="";var s=0;var l=null;var c=0;var h=void 0;var f=0;if(this.stroke_){h=this.stroke_.getColor();if(h===null){h=u["k"]}h=Object(r["a"])(h);f=this.stroke_.getWidth();if(f===undefined){f=u["h"]}l=this.stroke_.getLineDash();c=this.stroke_.getLineDashOffset();if(!o["a"]){l=null;c=0}n=this.stroke_.getLineJoin();if(n===undefined){n=u["g"]}i=this.stroke_.getLineCap();if(i===undefined){i=u["d"]}s=this.stroke_.getMiterLimit();if(s===undefined){s=u["i"]}}var d=2*(this.radius_+f)+1;var p={strokeStyle:h,strokeWidth:f,size:d,lineCap:i,lineDash:l,lineDashOffset:c,lineJoin:n,miterLimit:s};if(t===undefined){var v=Object(a["a"])(d,d);this.canvas_=v.canvas;d=this.canvas_.width;e=d;this.draw_(p,v,0,0);this.createHitDetectionCanvas_(p)}else{d=Math.round(d);var g=!this.fill_;var m=void 0;if(g){m=this.drawHitDetectionCanvas_.bind(this,p)}var y=this.getChecksum();var _=t.add(y,d,d,this.draw_.bind(this,p),m);this.canvas_=_.image;this.origin_=[_.offsetX,_.offsetY];e=_.image.width;if(g){this.hitDetectionCanvas_=_.hitImage;this.hitDetectionImageSize_=[_.hitImage.width,_.hitImage.height]}else{this.hitDetectionCanvas_=this.canvas_;this.hitDetectionImageSize_=[e,e]}}this.anchor_=[d/2,d/2];this.size_=[d,d];this.imageSize_=[e,e]};c.prototype.draw_=function(t,e,i,n){var a=void 0,o=void 0,s=void 0;e.setTransform(1,0,0,1,0,0);e.translate(i,n);e.beginPath();var l=this.points_;if(l===Infinity){e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,true)}else{var c=this.radius2_!==undefined?this.radius2_:this.radius_;if(c!==this.radius_){l=2*l}for(a=0;a<=l;a++){o=a*2*Math.PI/l-Math.PI/2+this.angle_;s=a%2===0?this.radius_:c;e.lineTo(t.size/2+s*Math.cos(o),t.size/2+s*Math.sin(o))}}if(this.fill_){var h=this.fill_.getColor();if(h===null){h=u["b"]}e.fillStyle=Object(r["a"])(h);e.fill()}if(this.stroke_){e.strokeStyle=t.strokeStyle;e.lineWidth=t.strokeWidth;if(t.lineDash){e.setLineDash(t.lineDash);e.lineDashOffset=t.lineDashOffset}e.lineCap=t.lineCap;e.lineJoin=t.lineJoin;e.miterLimit=t.miterLimit;e.stroke()}e.closePath()};c.prototype.createHitDetectionCanvas_=function(t){this.hitDetectionImageSize_=[t.size,t.size];if(this.fill_){this.hitDetectionCanvas_=this.canvas_;return}var e=Object(a["a"])(t.size,t.size);this.hitDetectionCanvas_=e.canvas;this.drawHitDetectionCanvas_(t,e,0,0)};c.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.setTransform(1,0,0,1,0,0);e.translate(i,n);e.beginPath();var r=this.points_;if(r===Infinity){e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,true)}else{var a=this.radius2_!==undefined?this.radius2_:this.radius_;if(a!==this.radius_){r=2*r}var o=void 0,s=void 0,l=void 0;for(o=0;o<=r;o++){l=o*2*Math.PI/r-Math.PI/2+this.angle_;s=o%2===0?this.radius_:a;e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}}e.fillStyle=u["b"];e.fill();if(this.stroke_){e.strokeStyle=t.strokeStyle;e.lineWidth=t.strokeWidth;if(t.lineDash){e.setLineDash(t.lineDash);e.lineDashOffset=t.lineDashOffset}e.stroke()}e.closePath()};c.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-";var e=this.fill_?this.fill_.getChecksum():"-";var i=!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6];if(i){var n="r"+t+e+(this.radius_!==undefined?this.radius_.toString():"-")+(this.radius2_!==undefined?this.radius2_.toString():"-")+(this.angle_!==undefined?this.angle_.toString():"-")+(this.points_!==undefined?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};e["a"]=c},function(t,e,i){"use strict";var n=i(1);var r=i(4);var a=i(69);var o=i(62);var s=i(5);var u=i(67);var l=i(11);var c=i(7);var h=i(0);var f=o["a"]+" http://schemas.opengis.net/gml/2.1.2/feature.xsd";var d=function t(e){var i=e?e:{};o["b"].call(this,i);this.FEATURE_COLLECTION_PARSERS[o["a"]]["featureMember"]=Object(h["j"])(o["b"].prototype.readFeaturesInternal);this.schemaLocation=i.schemaLocation?i.schemaLocation:f};Object(n["d"])(d,o["b"]);d.prototype.readFlatCoordinates_=function(t,e){var i=Object(h["e"])(t,false).replace(/^\s*|\s*$/g,"");var n=e[0];var r=n["srsName"];var a="enu";if(r){var o=Object(c["h"])(r);if(o){a=o.getAxisOrientation()}}var s=i.trim().split(/\s+/);var u=[];for(var l=0,f=s.length;l<f;l++){var d=s[l].split(/,+/);var p=parseFloat(d[0]);var v=parseFloat(d[1]);var g=d.length===3?parseFloat(d[2]):0;if(a.substr(0,2)==="en"){u.push(p,v,g)}else{u.push(v,p,g)}}return u};d.prototype.readBox_=function(t,e){var i=Object(h["u"])([null],this.BOX_PARSERS_,t,e,this);return Object(r["k"])(i[1][0],i[1][1],i[1][3],i[1][4])};d.prototype.innerBoundaryIsParser_=function(t,e){var i=Object(h["u"])(undefined,this.RING_PARSERS,t,e,this);if(i){var n=e[e.length-1];n.push(i)}};d.prototype.outerBoundaryIsParser_=function(t,e){var i=Object(h["u"])(undefined,this.RING_PARSERS,t,e,this);if(i){var n=e[e.length-1];n[0]=i}};d.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var n=e[e.length-1];var r=n["multiSurface"];var a=n["surface"];var o=n["multiCurve"];var s=void 0;if(!Array.isArray(t)){s=t.getType();if(s==="MultiPolygon"&&r===true){s="MultiSurface"}else if(s==="Polygon"&&a===true){s="Surface"}else if(s==="MultiLineString"&&o===true){s="MultiCurve"}}else{s="Envelope"}return Object(h["d"])("http://www.opengis.net/gml",s)};d.prototype.writeFeatureElement=function(t,e,i){var n=e.getId();if(n){t.setAttribute("fid",n)}var r=i[i.length-1];var a=r["featureNS"];var o=e.getGeometryName();if(!r.serializers){r.serializers={};r.serializers[a]={}}var c=e.getProperties();var f=[];var d=[];for(var p in c){var v=c[p];if(v!==null){f.push(p);d.push(v);if(p==o||v instanceof u["a"]){if(!(p in r.serializers[a])){r.serializers[a][p]=Object(h["l"])(this.writeGeometryElement,this)}}else{if(!(p in r.serializers[a])){r.serializers[a][p]=Object(h["l"])(s["n"])}}}}var g=Object(l["a"])({},r);g.node=t;Object(h["v"])(g,r.serializers,Object(h["q"])(undefined,a),d,i,f)};d.prototype.writeCurveOrLineString_=function(t,e,i){var n=i[i.length-1];var r=n["srsName"];if(t.nodeName!=="LineStringSegment"&&r){t.setAttribute("srsName",r)}if(t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);this.writeCoordinates_(a,e,i)}else if(t.nodeName==="Curve"){var o=Object(h["d"])(t.namespaceURI,"segments");t.appendChild(o);this.writeCurveSegments_(o,e,i)}};d.prototype.writeLineStringOrCurveMember_=function(t,e,i){var n=this.GEOMETRY_NODE_FACTORY_(e,i);if(n){t.appendChild(n);this.writeCurveOrLineString_(n,e,i)}};d.prototype.writeMultiCurveOrLineString_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];var o=n["curve"];if(a){t.setAttribute("srsName",a)}var s=e.getLineStrings();Object(h["v"])({node:t,hasZ:r,srsName:a,curve:o},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,undefined,this)};d.prototype.writeGeometryElement=function(t,e,i){var n=i[i.length-1];var r=Object(l["a"])({},n);r.node=t;var o=void 0;if(Array.isArray(e)){if(n.dataProjection){o=Object(c["o"])(e,n.featureProjection,n.dataProjection)}else{o=e}}else{o=Object(a["b"])(e,true,n)}Object(h["v"])(r,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[o],i,undefined,this)};d.prototype.createCoordinatesNode_=function(t){var e=Object(h["d"])(t,"coordinates");e.setAttribute("decimal",".");e.setAttribute("cs",",");e.setAttribute("ts"," ");return e};d.prototype.writeCoordinates_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];var o=e.getCoordinates();var u=o.length;var l=new Array(u);for(var c=0;c<u;++c){var h=o[c];l[c]=this.getCoords_(h,a,r)}Object(s["n"])(t,l.join(" "))};d.prototype.writeCurveSegments_=function(t,e,i){var n=Object(h["d"])(t.namespaceURI,"LineStringSegment");t.appendChild(n);this.writeCurveOrLineString_(n,e,i)};d.prototype.writeSurfaceOrPolygon_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];if(t.nodeName!=="PolygonPatch"&&a){t.setAttribute("srsName",a)}if(t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var o=e.getLinearRings();Object(h["v"])({node:t,hasZ:r,srsName:a},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,o,i,undefined,this)}else if(t.nodeName==="Surface"){var s=Object(h["d"])(t.namespaceURI,"patches");t.appendChild(s);this.writeSurfacePatches_(s,e,i)}};d.prototype.RING_NODE_FACTORY_=function(t,e,i){var n=e[e.length-1];var r=n.node;var a=n["exteriorWritten"];if(a===undefined){n["exteriorWritten"]=true}return Object(h["d"])(r.namespaceURI,a!==undefined?"innerBoundaryIs":"outerBoundaryIs")};d.prototype.writeSurfacePatches_=function(t,e,i){var n=Object(h["d"])(t.namespaceURI,"PolygonPatch");t.appendChild(n);this.writeSurfaceOrPolygon_(n,e,i)};d.prototype.writeRing_=function(t,e,i){var n=Object(h["d"])(t.namespaceURI,"LinearRing");t.appendChild(n);this.writeLinearRing_(n,e,i)};d.prototype.getCoords_=function(t,e,i){var n="enu";if(e){n=Object(c["h"])(e).getAxisOrientation()}var r=n.substr(0,2)==="en"?t[0]+","+t[1]:t[1]+","+t[0];if(i){var a=t[2]||0;r+=","+a}return r};d.prototype.writePoint_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];if(a){t.setAttribute("srsName",a)}var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o);var u=e.getCoordinates();var l=this.getCoords_(u,a,r);Object(s["n"])(o,l)};d.prototype.writeMultiPoint_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];if(a){t.setAttribute("srsName",a)}var o=e.getPoints();Object(h["v"])({node:t,hasZ:r,srsName:a},this.POINTMEMBER_SERIALIZERS_,Object(h["q"])("pointMember"),o,i,undefined,this)};d.prototype.writePointMember_=function(t,e,i){var n=Object(h["d"])(t.namespaceURI,"Point");t.appendChild(n);this.writePoint_(n,e,i)};d.prototype.writeLinearRing_=function(t,e,i){var n=i[i.length-1];var r=n["srsName"];if(r){t.setAttribute("srsName",r)}var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);this.writeCoordinates_(a,e,i)};d.prototype.writeMultiSurfaceOrPolygon_=function(t,e,i){var n=i[i.length-1];var r=n["hasZ"];var a=n["srsName"];var o=n["surface"];if(a){t.setAttribute("srsName",a)}var s=e.getPolygons();Object(h["v"])({node:t,hasZ:r,srsName:a,surface:o},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,undefined,this)};d.prototype.writeSurfaceOrPolygonMember_=function(t,e,i){var n=this.GEOMETRY_NODE_FACTORY_(e,i);if(n){t.appendChild(n);this.writeSurfaceOrPolygon_(n,e,i)}};d.prototype.writeEnvelope=function(t,e,i){var n=i[i.length-1];var r=n["srsName"];if(r){t.setAttribute("srsName",r)}var a=["lowerCorner","upperCorner"];var o=[e[0]+" "+e[1],e[2]+" "+e[3]];Object(h["v"])({node:t},this.ENVELOPE_SERIALIZERS_,h["b"],o,i,a,this)};var p={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};d.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var n=e[e.length-1].node;return Object(h["d"])("http://www.opengis.net/gml",p[n.nodeName])};d.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:Object(h["o"])(d.prototype.readFlatCoordinates_)}};d.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:d.prototype.innerBoundaryIsParser_,outerBoundaryIs:d.prototype.outerBoundaryIsParser_}};d.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Object(h["j"])(d.prototype.readFlatCoordinates_)}};d.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:Object(h["o"])(o["b"].prototype.readPoint),MultiPoint:Object(h["o"])(o["b"].prototype.readMultiPoint),LineString:Object(h["o"])(o["b"].prototype.readLineString),MultiLineString:Object(h["o"])(o["b"].prototype.readMultiLineString),LinearRing:Object(h["o"])(o["b"].prototype.readLinearRing),Polygon:Object(h["o"])(o["b"].prototype.readPolygon),MultiPolygon:Object(h["o"])(o["b"].prototype.readMultiPolygon),Box:Object(h["o"])(d.prototype.readBox_)}};d.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(h["l"])(d.prototype.writeCurveOrLineString_),MultiCurve:Object(h["l"])(d.prototype.writeMultiCurveOrLineString_),Point:Object(h["l"])(d.prototype.writePoint_),MultiPoint:Object(h["l"])(d.prototype.writeMultiPoint_),LineString:Object(h["l"])(d.prototype.writeCurveOrLineString_),MultiLineString:Object(h["l"])(d.prototype.writeMultiCurveOrLineString_),LinearRing:Object(h["l"])(d.prototype.writeLinearRing_),Polygon:Object(h["l"])(d.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(h["l"])(d.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(h["l"])(d.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(h["l"])(d.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(h["l"])(d.prototype.writeEnvelope)}};d.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(h["l"])(d.prototype.writeLineStringOrCurveMember_),curveMember:Object(h["l"])(d.prototype.writeLineStringOrCurveMember_)}};d.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:Object(h["l"])(d.prototype.writeRing_),innerBoundaryIs:Object(h["l"])(d.prototype.writeRing_)}};d.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(h["l"])(d.prototype.writePointMember_)}};d.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(h["l"])(d.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(h["l"])(d.prototype.writeSurfaceOrPolygonMember_)}};d.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(h["l"])(s["n"]),upperCorner:Object(h["l"])(s["n"])}};e["a"]=d},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});var n=42;var r=256},function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}return function(e,i,n){if(i)t(e.prototype,i);if(n)t(e,n);return e}}();function r(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(e){r(this,t);this.inRange_=e.inRange!==false;this.visible_=e.visible===true;this.attributes=e.attributes||null;this.id_=e.id;this.identifierAttribute_=e.identifierAttribute;this.maxResolution_=e.maxResolution;this.minResolution_=e.minResolution;this.name_=e.name}t.prototype.getAttributes=function t(){return this.attributes};t.prototype.setAttributes=function t(e){this.attributes=e};n(t,[{key:"inRange",get:function t(){return this.inRange_},set:function t(e){this.inRange_=e}},{key:"visible",get:function t(){return this.visible_},set:function t(e){this.visible_=e}},{key:"id",get:function t(){return this.id_}},{key:"identifierAttribute",get:function t(){return this.identifierAttribute_}},{key:"maxResolution",get:function t(){return this.maxResolution_}},{key:"minResolution",get:function t(){return this.minResolution_}},{key:"name",get:function t(){return this.name_}},{key:"queryable",get:function t(){return false}},{key:"supportsDynamicInRange",get:function t(){return this.maxResolution!==null||this.minResolution!==null}}]);return t}();e["a"]=a},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";var e=0,i=0,n=0,r=1e3,a,o,s=0,u=0,l=0,c=typeof performance==="object"&&performance.now?performance:Date,h=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return u||(h(d),u=c.now()+l)}function d(){u=0}function p(){this._call=this._time=this._next=null}p.prototype=v.prototype={constructor:p,restart:function(t,e,i){if(typeof t!=="function")throw new TypeError("callback is not a function");i=(i==null?f():+i)+(e==null?0:+e);if(!this._next&&o!==this){if(o)o._next=this;else a=this;o=this}this._call=t;this._time=i;b()},stop:function(){if(this._call){this._call=null;this._time=Infinity;b()}}};function v(t,e,i){var n=new p;n.restart(t,e,i);return n}function g(){f();++e;var t=a,i;while(t){if((i=u-t._time)>=0)t._call.call(null,i);t=t._next}--e}function m(){u=(s=c.now())+l;e=i=0;try{g()}finally{e=0;_();u=0}}function y(){var t=c.now(),e=t-s;if(e>r)l-=e,s=t}function _(){var t,e=a,i,n=Infinity;while(e){if(e._call){if(n>e._time)n=e._time;t=e,e=e._next}else{i=e._next,e._next=null;e=t?t._next=i:a=i}}o=t;b(n)}function b(t){if(e)return;if(i)i=clearTimeout(i);var a=t-u;if(a>24){if(t<Infinity)i=setTimeout(m,t-c.now()-l);if(n)n=clearInterval(n)}else{if(!n)s=c.now(),n=setInterval(y,r);e=1,h(m)}}function w(t,e,i){var n=new p;e=e==null?0:+e;n.restart(function(i){n.stop();t(i+e)},e,i);return n}function O(t,e,i){var n=new p,r=e;if(e==null)return n.restart(t,e,i),n;e=+e,i=i==null?f():+i;n.restart(function a(o){o+=r;n.restart(a,r+=e,i);t(o)},e,i);return n}t.interval=O;t.now=f;t.timeout=w;t.timer=v;t.timerFlush=g;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=function t(e,i,n,r){this.minX=e;this.maxX=i;this.minY=n;this.maxY=r};function r(t,e,i,r,a){if(a!==undefined){a.minX=t;a.maxX=e;a.minY=i;a.maxY=r;return a}else{return new n(t,e,i,r)}}n.prototype.contains=function(t){return this.containsXY(t[1],t[2])};n.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY};n.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY};n.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY};n.prototype.extend=function(t){if(t.minX<this.minX){this.minX=t.minX}if(t.maxX>this.maxX){this.maxX=t.maxX}if(t.minY<this.minY){this.minY=t.minY}if(t.maxY>this.maxY){this.maxY=t.maxY}};n.prototype.getHeight=function(){return this.maxY-this.minY+1};n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};n.prototype.getWidth=function(){return this.maxX-this.minX+1};n.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};e["b"]=n},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}},function(t,e,i){"use strict";e["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){var e=0;var i=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,a;for(a=0;(r=i[a])!=null;a++){try{n=t._data(r,"events");if(n&&n.remove){t(r).triggerHandler("remove")}}catch(t){}}e(i)}}(t.cleanData);t.widget=function(e,i,n){var r,a,o;var s={};var u=e.split(".")[0];e=e.split(".")[1];var l=u+"-"+e;if(!n){n=i;i=t.Widget}if(t.isArray(n)){n=t.extend.apply(null,[{}].concat(n))}t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)};t[u]=t[u]||{};r=t[u][e];a=t[u][e]=function(t,e){if(!this._createWidget){return new a(t,e)}if(arguments.length){this._createWidget(t,e)}};t.extend(a,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]});o=new i;o.options=t.widget.extend({},o.options);t.each(n,function(e,n){if(!t.isFunction(n)){s[e]=n;return}s[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e=this._super;var i=this._superApply;var a;this._super=t;this._superApply=r;a=n.apply(this,arguments);this._super=e;this._superApply=i;return a}}()});a.prototype=t.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||e:e},s,{constructor:a,namespace:u,widgetName:e,widgetFullName:l});if(r){t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)});delete r._childConstructors}else{i._childConstructors.push(a)}t.widget.bridge(e,a);return a};t.widget.extend=function(e){var n=i.call(arguments,1);var r=0;var a=n.length;var o;var s;for(;r<a;r++){for(o in n[r]){s=n[r][o];if(n[r].hasOwnProperty(o)&&s!==undefined){if(t.isPlainObject(s)){e[o]=t.isPlainObject(e[o])?t.widget.extend({},e[o],s):t.widget.extend({},s)}else{e[o]=s}}}}return e};t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(a){var o=typeof a==="string";var s=i.call(arguments,1);var u=this;if(o){if(!this.length&&a==="instance"){u=undefined}else{this.each(function(){var i;var n=t.data(this,r);if(a==="instance"){u=n;return false}if(!n){return t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+a+"'")}if(!t.isFunction(n[a])||a.charAt(0)==="_"){return t.error("no such method '"+a+"' for "+e+" widget instance")}i=n[a].apply(n,s);if(i!==n&&i!==undefined){u=i&&i.jquery?u.pushStack(i.get()):i;return false}})}}else{if(s.length){a=t.widget.extend.apply(null,[a].concat(s))}this.each(function(){var e=t.data(this,r);if(e){e.option(a||{});if(e._init){e._init()}}else{t.data(this,r,new n(a,this))}})}return u}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0];this.element=t(n);this.uuid=e++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=t();this.hoverable=t();this.focusable=t();this.classesElementLookup={};if(n!==this){t.data(n,this.widgetFullName,this);this._on(true,this.element,{remove:function(t){if(t.target===n){this.destroy()}}});this.document=t(n.style?n.ownerDocument:n.document||n);this.window=t(this.document[0].defaultView||this.document[0].parentWindow)}this.options=t.widget.extend({},this.options,this._getCreateOptions(),i);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy();t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n=e;var r;var a;var o;if(arguments.length===0){return t.widget.extend({},this.options)}if(typeof e==="string"){n={};r=e.split(".");e=r.shift();if(r.length){a=n[e]=t.widget.extend({},this.options[e]);for(o=0;o<r.length-1;o++){a[r[o]]=a[r[o]]||{};a=a[r[o]]}e=r.pop();if(arguments.length===1){return a[e]===undefined?null:a[e]}a[e]=i}else{if(arguments.length===1){return this.options[e]===undefined?null:this.options[e]}n[e]=i}}this._setOptions(n);return this},_setOptions:function(t){var e;for(e in t){this._setOption(e,t[e])}return this},_setOption:function(t,e){if(t==="classes"){this._setOptionClasses(e)}this.options[t]=e;if(t==="disabled"){this._setOptionDisabled(e)}return this},_setOptionClasses:function(e){var i,n,r;for(i in e){r=this.classesElementLookup[i];if(e[i]===this.options.classes[i]||!r||!r.length){continue}n=t(r.get());this._removeClass(r,i);n.addClass(this._classes({element:n,keys:i,classes:e,add:true}))}},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t);if(t){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(e){var i=[];var n=this;e=t.extend({element:this.element,classes:this.options.classes||{}},e);function r(r,a){var o,s;for(s=0;s<r.length;s++){o=n.classesElementLookup[r[s]]||t();if(e.add){o=t(t.unique(o.get().concat(e.element.get())))}else{o=t(o.not(e.element).get())}n.classesElementLookup[r[s]]=o;i.push(r[s]);if(a&&e.classes[r[s]]){i.push(e.classes[r[s]])}}}this._on(e.element,{remove:"_untrackClassesElement"});if(e.keys){r(e.keys.match(/\S+/g)||[],true)}if(e.extra){r(e.extra.match(/\S+/g)||[])}return i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){if(t.inArray(e.target,r)!==-1){i.classesElementLookup[n]=t(r.not(e.target).get())}})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,false)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,true)},_toggleClass:function(t,e,i,n){n=typeof n==="boolean"?n:i;var r=typeof t==="string"||t===null,a={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};a.element.toggleClass(this._classes(a),n);return this},_on:function(e,i,n){var r;var a=this;if(typeof e!=="boolean"){n=i;i=e;e=false}if(!n){n=i;i=this.element;r=this.widget()}else{i=r=t(i);this.bindings=this.bindings.add(i)}t.each(n,function(n,o){function s(){if(!e&&(a.options.disabled===true||t(this).hasClass("ui-state-disabled"))){return}return(typeof o==="string"?a[o]:o).apply(a,arguments)}if(typeof o!=="string"){s.guid=o.guid=o.guid||s.guid||t.guid++}var u=n.match(/^([\w:-]*)\s*(.*)$/);var l=u[1]+a.eventNamespace;var c=u[2];if(c){r.on(l,c,s)}else{i.on(l,s)}})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.off(i).off(i);this.bindings=t(this.bindings.not(e).get());this.focusable=t(this.focusable.not(e).get());this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return(typeof t==="string"?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,a;var o=this.options[e];n=n||{};i=t.Event(i);i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();i.target=this.element[0];a=i.originalEvent;if(a){for(r in a){if(!(r in i)){i[r]=a[r]}}}this.element.trigger(i,n);return!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===false||i.isDefaultPrevented())}};t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,a){if(typeof r==="string"){r={effect:r}}var o;var s=!r?e:r===true||typeof r==="number"?i:r.effect||i;r=r||{};if(typeof r==="number"){r={duration:r}}o=!t.isEmptyObject(r);r.complete=a;if(r.delay){n.delay(r.delay)}if(o&&t.effects&&t.effects.effect[s]){n[e](r)}else if(s!==e&&n[s]){n[s](r.duration,r.easing,a)}else{n.queue(function(i){t(this)[e]();if(a){a.call(n[0])}i()})}}});return t.widget})},function(t,e,i){"use strict";var n=i(1);var r=i(33);var a=i(76);var o=i(14);var s=i(48);var u=i(111);var l=i(9);var c=i(22);var h=i(3);var f=i(40);var d=i(10);var p=i(49);var v=i(4);var g=i(8);var m=i(32);var y=i(27);var _=i(38);var b=i(34);var w=i(136);var O=i(177);var x=i(13);var S={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};var C=function t(e,i,n){f["a"].call(this,e);this.features=i;this.mapBrowserEvent=n};Object(n["d"])(C,f["a"]);var T=function t(e){y["b"].call(this,{handleDownEvent:k,handleDragEvent:R,handleEvent:I,handleUpEvent:A});this.condition_=e.condition?e.condition:p["j"];this.defaultDeleteCondition_=function(t){return Object(p["a"])(t)&&Object(p["l"])(t)};this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_;this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:p["c"];this.vertexFeature_=null;this.vertexSegments_=null;this.lastPixel_=[0,0];this.ignoreNextSingleClick_=false;this.modified_=false;this.rBush_=new O["a"];this.pixelTolerance_=e.pixelTolerance!==undefined?e.pixelTolerance:10;this.snappedToVertex_=false;this.changingFeature_=false;this.dragSegments_=[];this.overlay_=new _["a"]({source:new b["b"]({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.style?e.style:N(),updateWhileAnimating:true,updateWhileInteracting:true});this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_};this.source_=null;var i=void 0;if(e.source){this.source_=e.source;i=new r["b"](this.source_.getFeatures());Object(h["a"])(this.source_,w["a"].ADDFEATURE,this.handleSourceAdd_,this);Object(h["a"])(this.source_,w["a"].REMOVEFEATURE,this.handleSourceRemove_,this)}else{i=e.features}if(!i){throw new Error("The modify interaction requires features or a source")}this.features_=i;this.features_.forEach(this.addFeature_.bind(this));Object(h["a"])(this.features_,a["a"].ADD,this.handleFeatureAdd_,this);Object(h["a"])(this.features_,a["a"].REMOVE,this.handleFeatureRemove_,this);this.lastPointerEvent_=null};Object(n["d"])(T,y["b"]);var E=0;var M=1;T.prototype.addFeature_=function(t){var e=t.getGeometry();if(e&&e.getType()in this.SEGMENT_WRITERS_){this.SEGMENT_WRITERS_[e.getType()].call(this,t,e)}var i=this.getMap();if(i&&i.isRendered()&&this.getActive()){this.handlePointerAtPixel_(this.lastPixel_,i)}Object(h["a"])(t,d["a"].CHANGE,this.handleFeatureChange_,this)};T.prototype.willModifyFeatures_=function(t){if(!this.modified_){this.modified_=true;this.dispatchEvent(new C(S.MODIFYSTART,this.features_,t))}};T.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t);if(this.vertexFeature_&&this.features_.getLength()===0){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}Object(h["c"])(t,d["a"].CHANGE,this.handleFeatureChange_,this)};T.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_;var i=[];e.forEach(function(e){if(t===e.feature){i.push(e)}});for(var n=i.length-1;n>=0;--n){e.remove(i[n])}};T.prototype.setActive=function(t){if(this.vertexFeature_&&!t){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}y["b"].prototype.setActive.call(this,t)};T.prototype.setMap=function(t){this.overlay_.setMap(t);y["b"].prototype.setMap.call(this,t)};T.prototype.handleSourceAdd_=function(t){if(t.feature){this.features_.push(t.feature)}};T.prototype.handleSourceRemove_=function(t){if(t.feature){this.features_.remove(t.feature)}};T.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)};T.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e);this.addFeature_(e)}};T.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)};T.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates();var n={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)};T.prototype.writeMultiPointGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length;n<r;++n){var a=i[n];var o={feature:t,geometry:e,depth:[n],index:n,segment:[a,a]};this.rBush_.insert(e.getExtent(),o)}};T.prototype.writeLineStringGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length-1;n<r;++n){var a=i.slice(n,n+2);var o={feature:t,geometry:e,index:n,segment:a};this.rBush_.insert(Object(v["b"])(a),o)}};T.prototype.writeMultiLineStringGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length;n<r;++n){var a=i[n];for(var o=0,s=a.length-1;o<s;++o){var u=a.slice(o,o+2);var l={feature:t,geometry:e,depth:[n],index:o,segment:u};this.rBush_.insert(Object(v["b"])(u),l)}}};T.prototype.writePolygonGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length;n<r;++n){var a=i[n];for(var o=0,s=a.length-1;o<s;++o){var u=a.slice(o,o+2);var l={feature:t,geometry:e,depth:[n],index:o,segment:u};this.rBush_.insert(Object(v["b"])(u),l)}}};T.prototype.writeMultiPolygonGeometry_=function(t,e){var i=e.getCoordinates();for(var n=0,r=i.length;n<r;++n){var a=i[n];for(var o=0,s=a.length;o<s;++o){var u=a[o];for(var l=0,c=u.length-1;l<c;++l){var h=u.slice(l,l+2);var f={feature:t,geometry:e,depth:[o,n],index:l,segment:h};this.rBush_.insert(Object(v["b"])(h),f)}}}};T.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter();var n={feature:t,geometry:e,index:E,segment:[i,i]};var r={feature:t,geometry:e,index:M,segment:[i,i]};var a=[n,r];n.featureSegments=r.featureSegments=a;this.rBush_.insert(Object(v["m"])(i),n);this.rBush_.insert(e.getExtent(),r)};T.prototype.writeGeometryCollectionGeometry_=function(t,e){var i=e.getGeometriesArray();for(var n=0;n<i.length;++n){this.SEGMENT_WRITERS_[i[n].getType()].call(this,t,i[n])}};T.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;if(!e){e=new o["a"](new m["a"](t));this.vertexFeature_=e;this.overlay_.getSource().addFeature(e)}else{var i=e.getGeometry();i.setCoordinates(t)}return e};function j(t,e){return t.index-e.index}function k(t){if(!this.condition_(t)){return false}this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0;this.modified_=false;var i=this.vertexFeature_;if(i){var r=[];var a=i.getGeometry();var o=a.getCoordinates();var s=Object(v["b"])([o]);var u=this.rBush_.getInExtent(s);var l={};u.sort(j);for(var h=0,f=u.length;h<f;++h){var d=u[h];var p=d.segment;var m=Object(n["c"])(d.feature);var y=d.depth;if(y){m+="-"+y.join("-")}if(!l[m]){l[m]=new Array(2)}if(d.geometry.getType()===g["a"].CIRCLE&&d.index===M){var _=D(e,d);if(Object(c["e"])(_,o)&&!l[m][0]){this.dragSegments_.push([d,0]);l[m][0]=d}}else if(Object(c["e"])(p[0],o)&&!l[m][0]){this.dragSegments_.push([d,0]);l[m][0]=d}else if(Object(c["e"])(p[1],o)&&!l[m][1]){if((d.geometry.getType()===g["a"].LINE_STRING||d.geometry.getType()===g["a"].MULTI_LINE_STRING)&&l[m][0]&&l[m][0].index===0){continue}this.dragSegments_.push([d,1]);l[m][1]=d}else if(this.insertVertexCondition_(t)&&Object(n["c"])(p)in this.vertexSegments_&&!l[m][0]&&!l[m][1]){r.push([d,o])}}if(r.length){this.willModifyFeatures_(t)}for(var b=r.length-1;b>=0;--b){this.insertVertex_.apply(this,r[b])}}return!!this.vertexFeature_}function R(t){this.ignoreNextSingleClick_=false;this.willModifyFeatures_(t);var e=t.coordinate;for(var i=0,n=this.dragSegments_.length;i<n;++i){var r=this.dragSegments_[i];var a=r[0];var o=a.depth;var s=a.geometry;var u=void 0;var l=a.segment;var h=r[1];while(e.length<s.getStride()){e.push(l[h][e.length])}switch(s.getType()){case g["a"].POINT:u=e;l[0]=l[1]=e;break;case g["a"].MULTI_POINT:u=s.getCoordinates();u[a.index]=e;l[0]=l[1]=e;break;case g["a"].LINE_STRING:u=s.getCoordinates();u[a.index+h]=e;l[h]=e;break;case g["a"].MULTI_LINE_STRING:u=s.getCoordinates();u[o[0]][a.index+h]=e;l[h]=e;break;case g["a"].POLYGON:u=s.getCoordinates();u[o[0]][a.index+h]=e;l[h]=e;break;case g["a"].MULTI_POLYGON:u=s.getCoordinates();u[o[1]][o[0]][a.index+h]=e;l[h]=e;break;case g["a"].CIRCLE:l[0]=l[1]=e;if(a.index===E){this.changingFeature_=true;s.setCenter(e);this.changingFeature_=false}else{this.changingFeature_=true;s.setRadius(Object(c["d"])(s.getCenter(),e));this.changingFeature_=false}break;default:}if(u){this.setGeometryCoordinates_(s,u)}}this.createOrUpdateVertexFeature_(e)}function A(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var i=this.dragSegments_[e][0];var n=i.geometry;if(n.getType()===g["a"].CIRCLE){var r=n.getCenter();var a=i.featureSegments[0];var o=i.featureSegments[1];a.segment[0]=a.segment[1]=r;o.segment[0]=o.segment[1]=r;this.rBush_.update(Object(v["m"])(r),a);this.rBush_.update(n.getExtent(),o)}else{this.rBush_.update(Object(v["b"])(i.segment),i)}}if(this.modified_){this.dispatchEvent(new C(S.MODIFYEND,this.features_,t));this.modified_=false}return false}function I(t){if(!(t instanceof u["a"])){return true}this.lastPointerEvent_=t;var e=void 0;if(!t.map.getView().getInteracting()&&t.type==s["a"].POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(t)}if(this.vertexFeature_&&this.deleteCondition_(t)){if(t.type!=s["a"].SINGLECLICK||!this.ignoreNextSingleClick_){e=this.removePoint()}else{e=true}}if(t.type==s["a"].SINGLECLICK){this.ignoreNextSingleClick_=false}return y["c"].call(this,t)&&!e}T.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel;this.handlePointerAtPixel_(t.pixel,t.map)};T.prototype.handlePointerAtPixel_=function(t,e){var i=e.getCoordinateFromPixel(t);var r=function t(e,n){return P(i,e)-P(i,n)};var a=Object(v["c"])(Object(v["m"])(i),e.getView().getResolution()*this.pixelTolerance_);var o=this.rBush_;var s=o.getInExtent(a);if(s.length>0){s.sort(r);var u=s[0];var l=u.segment;var h=D(i,u);var f=e.getPixelFromCoordinate(h);var d=Object(c["d"])(t,f);if(d<=this.pixelTolerance_){var p={};if(u.geometry.getType()===g["a"].CIRCLE&&u.index===M){this.snappedToVertex_=true;this.createOrUpdateVertexFeature_(h)}else{var m=e.getPixelFromCoordinate(l[0]);var y=e.getPixelFromCoordinate(l[1]);var _=Object(c["h"])(f,m);var b=Object(c["h"])(f,y);d=Math.sqrt(Math.min(_,b));this.snappedToVertex_=d<=this.pixelTolerance_;if(this.snappedToVertex_){h=_>b?l[1]:l[0]}this.createOrUpdateVertexFeature_(h);for(var w=1,O=s.length;w<O;++w){var x=s[w].segment;if(Object(c["e"])(l[0],x[0])&&Object(c["e"])(l[1],x[1])||Object(c["e"])(l[0],x[1])&&Object(c["e"])(l[1],x[0])){p[Object(n["c"])(x)]=true}else{break}}}p[Object(n["c"])(l)]=true;this.vertexSegments_=p;return}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};function P(t,e){var i=e.geometry;if(i.getType()===g["a"].CIRCLE){var n=i;if(e.index===M){var r=Object(c["h"])(n.getCenter(),t);var a=Math.sqrt(r)-n.getRadius();return a*a}}return Object(c["i"])(t,e.segment)}function D(t,e){var i=e.geometry;if(i.getType()===g["a"].CIRCLE&&e.index===M){return i.getClosestPoint(t)}return Object(c["c"])(t,e.segment)}T.prototype.insertVertex_=function(t,e){var i=t.segment;var n=t.feature;var r=t.geometry;var a=t.depth;var o=t.index;var s=void 0;while(e.length<r.getStride()){e.push(0)}switch(r.getType()){case g["a"].MULTI_LINE_STRING:s=r.getCoordinates();s[a[0]].splice(o+1,0,e);break;case g["a"].POLYGON:s=r.getCoordinates();s[a[0]].splice(o+1,0,e);break;case g["a"].MULTI_POLYGON:s=r.getCoordinates();s[a[1]][a[0]].splice(o+1,0,e);break;case g["a"].LINE_STRING:s=r.getCoordinates();s.splice(o+1,0,e);break;default:return}this.setGeometryCoordinates_(r,s);var u=this.rBush_;u.remove(t);this.updateSegmentIndices_(r,o,a,1);var l={segment:[i[0],e],feature:n,geometry:r,depth:a,index:o};u.insert(Object(v["b"])(l.segment),l);this.dragSegments_.push([l,1]);var c={segment:[e,i[1]],feature:n,geometry:r,depth:a,index:o+1};u.insert(Object(v["b"])(c.segment),c);this.dragSegments_.push([c,0]);this.ignoreNextSingleClick_=true};T.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s["a"].POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t);this.removeVertex_();this.dispatchEvent(new C(S.MODIFYEND,this.features_,t));this.modified_=false;return true}return false};T.prototype.removeVertex_=function(){var t=this.dragSegments_;var e={};var i=false;var r=void 0,a=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0;var h=void 0,f=void 0,d=void 0,p=void 0;for(u=t.length-1;u>=0;--u){o=t[u];d=o[0];p=Object(n["c"])(d.feature);if(d.depth){p+="-"+d.depth.join("-")}if(!(p in e)){e[p]={}}if(o[1]===0){e[p].right=d;e[p].index=d.index}else if(o[1]==1){e[p].left=d;e[p].index=d.index+1}}for(p in e){f=e[p].right;c=e[p].left;l=e[p].index;h=l-1;if(c!==undefined){d=c}else{d=f}if(h<0){h=0}s=d.geometry;a=s.getCoordinates();r=a;i=false;switch(s.getType()){case g["a"].MULTI_LINE_STRING:if(a[d.depth[0]].length>2){a[d.depth[0]].splice(l,1);i=true}break;case g["a"].LINE_STRING:if(a.length>2){a.splice(l,1);i=true}break;case g["a"].MULTI_POLYGON:r=r[d.depth[1]];case g["a"].POLYGON:r=r[d.depth[0]];if(r.length>4){if(l==r.length-1){l=0}r.splice(l,1);i=true;if(l===0){r.pop();r.push(r[0]);h=r.length-1}}break;default:}if(i){this.setGeometryCoordinates_(s,a);var m=[];if(c!==undefined){this.rBush_.remove(c);m.push(c.segment[0])}if(f!==undefined){this.rBush_.remove(f);m.push(f.segment[1])}if(c!==undefined&&f!==undefined){var y={depth:d.depth,feature:d.feature,geometry:d.geometry,index:h,segment:m};this.rBush_.insert(Object(v["b"])(y.segment),y)}this.updateSegmentIndices_(s,l,d.depth,-1);if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}t.length=0}}return i};T.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=true;t.setCoordinates(e);this.changingFeature_=false};T.prototype.updateSegmentIndices_=function(t,e,i,n){this.rBush_.forEachInExtent(t.getExtent(),function(r){if(r.geometry===t&&(i===undefined||r.depth===undefined||Object(l["b"])(r.depth,i))&&r.index>e){r.index+=n}})};function N(){var t=Object(x["b"])();return function(e,i){return t[g["a"].POINT]}}e["a"]=T},function(t,e,i){"use strict";var n=i(264);var r=i(160);var a=i(11);var o=i(315);var s=function t(e,i,n,o,s,u){var l=new r["a"];var c={remote:{url:e,prepare:function t(e,i){i.url=i.url.replace("%QUERY",e);return i},transform:function t(e){var r=e;if(i!==undefined){r={type:"FeatureCollection",features:r.features.filter(i)}}return l.readFeatures(r,{featureProjection:n,dataProjection:o})}},datumTokenizer:function t(){},queryTokenizer:Bloodhound.tokenizers.whitespace};var h=a["a"]({},s||{});var f=a["a"]({},u||{});if(h.remote){a["a"](f,h.remote);delete h.remote}a["a"](c,h);a["a"](c.remote,f);return new Bloodhound(c)};s.module=angular.module("ngeoSearchCreategeojsonbloodhound",[]);s.module.value("ngeoSearchCreateGeoJSONBloodhound",s);s.Function;var u=s;var l=i(7);var c=i(92);var h=i(32);var f=i(14);var d=function t(e){var i=e||{};var n=l["h"](c["a"]);var r=i.targetProjection;var o=function t(e){var i=/BOX\((.*?) (.*?),(.*?) (.*?)\)/g;var n=i.exec(e);if(n!==null){return[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[4])]}else{return null}};var s=function t(e){return e.replace(/<\/?[ib]>/g,"")};var u=function t(e){var i=/<b>(.*?)<\/b>/g;var n=i.exec(e);if(n!==null){return n[1]}else{return e}};var d={remote:{url:"https://api3.geo.admin.ch/rest/services/api/SearchServer?type=locations&searchText=%QUERY",prepare:function t(e,n){n.url=n.url.replace("%QUERY",e);if(i.limit!==undefined){n.url+="&limit="+i.limit}if(i.origins!==undefined){n.url+="&origins="+i.origins}return i.prepare!==undefined?i.prepare(e,n):n},transform:function t(e){var i=e.results.map(function(t){var e=t.attrs;var i=new h["a"]([e.y,e.x]);var a=o(e.geom_st_box2d);if(r!==undefined){i.transform(n,r);if(a!==null){a=l["o"](a,n,r)}}e["geometry"]=i;e["bbox"]=a;var c=e.label;e["label_no_html"]=s(c);e["label_simple"]=u(c);var d=new f["a"](e);d.setId(e.featureId);return d});return i}},datumTokenizer:function t(){},queryTokenizer:Bloodhound.tokenizers.whitespace};var p=a["a"]({},i.options||{});var v=a["a"]({},i.remoteOptions||{});if(p.remote){a["a"](v,p.remote);delete p.remote}a["a"](d,p);a["a"](d.remote,v);return new Bloodhound(d)};d.module=angular.module("ngeoCreateLocationSearchBloodhound",[]);d.module.value("ngeoCreateLocationSearchBloodhound",d);d.Function;var p=d;var v=angular.module("ngeoSearchModule",[n["a"].module.name,u.module.name,p.module.name]);var g=e["a"]=v},function(t,e,i){"use strict";var n=i(2);var r=i(171);var a=i(184);var o=i(226);var s=i(191);var u=i(1);var l=i(127);var c=i(0);var h=function t(){l["a"].call(this)};u["d"](h,l["a"]);h.prototype.read;h.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readFromNode(e)}}return null};h.prototype.readFromNode=function(t){var e={};e=c["u"](e,h.PARSERS_,t,[]);return e};h.readElement_=function(t,e){var i={};for(var n=0,r=t.attributes.length;n<r;n++){var a=t.attributes.item(n);i[a.name]=a.value}if(e.length===1){i["type"]=i["type"].split(":").pop()}return i};h.readComplexType_=function(t,e){var i=t.getAttribute("name");var n=c["u"]({name:i},h.COMPLEX_TYPE_PARSERS_,t,e);n["complexContent"]=n["complexContent"]["extension"]["sequence"]["element"];return n};h.readComplexContent_=function(t,e){return c["u"]({},h.COMPLEX_CONTENT_PARSERS_,t,e)};h.readExtension_=function(t,e){return c["u"]({},h.EXTENSION_PARSERS_,t,e)};h.readSequence_=function(t,e){return c["u"]({},h.SEQUENCE_PARSERS_,t,e)};h.NAMESPACE_URIS_=[null,"http://www.w3.org/2001/XMLSchema"];h.PARSERS_=n["a"].assert(c["r"](h.NAMESPACE_URIS_,{element:c["m"](h.readElement_),complexType:c["m"](h.readComplexType_)}));h.COMPLEX_TYPE_PARSERS_=n["a"].assert(c["r"](h.NAMESPACE_URIS_,{complexContent:c["n"](h.readComplexContent_)}));h.COMPLEX_CONTENT_PARSERS_=n["a"].assert(c["r"](h.NAMESPACE_URIS_,{extension:c["n"](h.readExtension_)}));h.EXTENSION_PARSERS_=n["a"].assert(c["r"](h.NAMESPACE_URIS_,{sequence:c["n"](h.readSequence_)}));h.SEQUENCE_PARSERS_=n["a"].assert(c["r"](h.NAMESPACE_URIS_,{element:c["m"](h.readElement_)}));var f=h;var d=i(178);var p=i(5);var v=function t(){l["a"].call(this);this.version=undefined};Object(u["d"])(v,l["a"]);var g=[null,"http://www.opengis.net/wms"];var m=Object(c["r"])(g,{Service:Object(c["n"])(L),Capability:Object(c["n"])($)});var y=Object(c["r"])(g,{Request:Object(c["n"])(B),Exception:Object(c["n"])(H),Layer:Object(c["n"])(W)});var _=Object(c["r"])(g,{Name:Object(c["n"])(p["h"]),Title:Object(c["n"])(p["h"]),Abstract:Object(c["n"])(p["h"]),KeywordList:Object(c["n"])(et),OnlineResource:Object(c["n"])(d["a"]),ContactInformation:Object(c["n"])(F),Fees:Object(c["n"])(p["h"]),AccessConstraints:Object(c["n"])(p["h"]),LayerLimit:Object(c["n"])(p["f"]),MaxWidth:Object(c["n"])(p["f"]),MaxHeight:Object(c["n"])(p["f"])});var b=Object(c["r"])(g,{ContactPersonPrimary:Object(c["n"])(G),ContactPosition:Object(c["n"])(p["h"]),ContactAddress:Object(c["n"])(U),ContactVoiceTelephone:Object(c["n"])(p["h"]),ContactFacsimileTelephone:Object(c["n"])(p["h"]),ContactElectronicMailAddress:Object(c["n"])(p["h"])});var w=Object(c["r"])(g,{ContactPerson:Object(c["n"])(p["h"]),ContactOrganization:Object(c["n"])(p["h"])});var O=Object(c["r"])(g,{AddressType:Object(c["n"])(p["h"]),Address:Object(c["n"])(p["h"]),City:Object(c["n"])(p["h"]),StateOrProvince:Object(c["n"])(p["h"]),PostCode:Object(c["n"])(p["h"]),Country:Object(c["n"])(p["h"])});var x=Object(c["r"])(g,{Format:Object(c["j"])(p["h"])});var S=Object(c["r"])(g,{Name:Object(c["n"])(p["h"]),Title:Object(c["n"])(p["h"]),Abstract:Object(c["n"])(p["h"]),KeywordList:Object(c["n"])(et),CRS:Object(c["m"])(p["h"]),EX_GeographicBoundingBox:Object(c["n"])(N),BoundingBox:Object(c["m"])(D),Dimension:Object(c["m"])(z),Attribution:Object(c["n"])(P),AuthorityURL:Object(c["m"])(Q),Identifier:Object(c["m"])(p["h"]),MetadataURL:Object(c["m"])(J),DataURL:Object(c["m"])(V),FeatureListURL:Object(c["m"])(V),Style:Object(c["m"])(tt),MinScaleDenominator:Object(c["n"])(p["d"]),MaxScaleDenominator:Object(c["n"])(p["d"]),Layer:Object(c["m"])(Y)});var C=Object(c["r"])(g,{Title:Object(c["n"])(p["h"]),OnlineResource:Object(c["n"])(d["a"]),LogoURL:Object(c["n"])(Z)});var T=Object(c["r"])(g,{westBoundLongitude:Object(c["n"])(p["d"]),eastBoundLongitude:Object(c["n"])(p["d"]),southBoundLatitude:Object(c["n"])(p["d"]),northBoundLatitude:Object(c["n"])(p["d"])});var E=Object(c["r"])(g,{GetCapabilities:Object(c["n"])(X),GetMap:Object(c["n"])(X),GetFeatureInfo:Object(c["n"])(X)});var M=Object(c["r"])(g,{Format:Object(c["m"])(p["h"]),DCPType:Object(c["m"])(q)});var j=Object(c["r"])(g,{HTTP:Object(c["n"])(K)});var k=Object(c["r"])(g,{Get:Object(c["n"])(V),Post:Object(c["n"])(V)});var R=Object(c["r"])(g,{Name:Object(c["n"])(p["h"]),Title:Object(c["n"])(p["h"]),Abstract:Object(c["n"])(p["h"]),LegendURL:Object(c["m"])(Z),StyleSheetURL:Object(c["n"])(V),StyleURL:Object(c["n"])(V)});var A=Object(c["r"])(g,{Format:Object(c["n"])(p["h"]),OnlineResource:Object(c["n"])(d["a"])});var I=Object(c["r"])(g,{Keyword:Object(c["j"])(p["h"])});v.prototype.read;v.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readFromNode(e)}}return null};v.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=Object(c["u"])({version:this.version},m,t,[]);return e?e:null};function P(t,e){return Object(c["u"])({},C,t,e)}function D(t,e){var i=[Object(p["e"])(t.getAttribute("minx")),Object(p["e"])(t.getAttribute("miny")),Object(p["e"])(t.getAttribute("maxx")),Object(p["e"])(t.getAttribute("maxy"))];var n=[Object(p["e"])(t.getAttribute("resx")),Object(p["e"])(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:i,res:n}}function N(t,e){var i=Object(c["u"])({},T,t,e);if(!i){return undefined}var n=i["westBoundLongitude"];var r=i["southBoundLatitude"];var a=i["eastBoundLongitude"];var o=i["northBoundLatitude"];if(n===undefined||r===undefined||a===undefined||o===undefined){return undefined}return[n,r,a,o]}function $(t,e){return Object(c["u"])({},y,t,e)}function L(t,e){return Object(c["u"])({},_,t,e)}function F(t,e){return Object(c["u"])({},b,t,e)}function G(t,e){return Object(c["u"])({},w,t,e)}function U(t,e){return Object(c["u"])({},O,t,e)}function H(t,e){return Object(c["u"])([],x,t,e)}function W(t,e){return Object(c["u"])({},S,t,e)}function Y(t,e){var i=e[e.length-1];var n=Object(c["u"])({},S,t,e);if(!n){return undefined}var r=Object(p["b"])(t.getAttribute("queryable"));if(r===undefined){r=i["queryable"]}n["queryable"]=r!==undefined?r:false;var a=Object(p["g"])(t.getAttribute("cascaded"));if(a===undefined){a=i["cascaded"]}n["cascaded"]=a;var o=Object(p["b"])(t.getAttribute("opaque"));if(o===undefined){o=i["opaque"]}n["opaque"]=o!==undefined?o:false;var s=Object(p["b"])(t.getAttribute("noSubsets"));if(s===undefined){s=i["noSubsets"]}n["noSubsets"]=s!==undefined?s:false;var u=Object(p["e"])(t.getAttribute("fixedWidth"));if(!u){u=i["fixedWidth"]}n["fixedWidth"]=u;var l=Object(p["e"])(t.getAttribute("fixedHeight"));if(!l){l=i["fixedHeight"]}n["fixedHeight"]=l;var h=["Style","CRS","AuthorityURL"];h.forEach(function(t){if(t in i){var e=n[t]||[];n[t]=e.concat(i[t])}});var f=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];f.forEach(function(t){if(!(t in n)){var e=i[t];n[t]=e}});return n}function z(t,e){var i={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Object(p["b"])(t.getAttribute("multipleValues")),nearestValue:Object(p["b"])(t.getAttribute("nearestValue")),current:Object(p["b"])(t.getAttribute("current")),values:Object(p["h"])(t)};return i}function V(t,e){return Object(c["u"])({},A,t,e)}function B(t,e){return Object(c["u"])({},E,t,e)}function q(t,e){return Object(c["u"])({},j,t,e)}function K(t,e){return Object(c["u"])({},k,t,e)}function X(t,e){return Object(c["u"])({},M,t,e)}function Z(t,e){var i=V(t,e);if(i){var n=[Object(p["g"])(t.getAttribute("width")),Object(p["g"])(t.getAttribute("height"))];i["size"]=n;return i}return undefined}function Q(t,e){var i=V(t,e);if(i){i["name"]=t.getAttribute("name");return i}return undefined}function J(t,e){var i=V(t,e);if(i){i["type"]=t.getAttribute("type");return i}return undefined}function tt(t,e){return Object(c["u"])({},R,t,e)}function et(t,e){return Object(c["u"])([],I,t,e)}var it=v;var nt=i(249);var rt=i(11);var at=i(144);var ot=i(4);var st=i(72);function ut(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var lt=function(){t.$inject=["$http","$q","ngeoRuleHelper","ngeoWMSTime"];function t(e,i,n,r){ut(this,t);this.http_=e;this.q_=i;this.ngeoRuleHelper_=n;this.ngeoWMSTime_=r;this.requestCancelers_=[];this.wmsGetCapabilitiesPromises_={};this.wmtsGetCapabilitiesPromises_={}}t.prototype.issue=function t(e){var i=[];var r=e.map;this.cancelStillRunningRequests_();var a=void 0;if(e.queryableDataSources){a=e.queryableDataSources}else{var o=e.dataSources;n["a"].assert(o,"DataSources should be set");a=this.getQueryableDataSources(o,r)}var s=this.getCombinableWFSDataSources_(a.wfs);i.push(this.issueCombinedWFS_(s,e));var u=e.coordinate;if(u){var l=this.getCombinableWMSDataSources_(a.wms);i.push(this.issueCombinedWMS_(l,e))}return this.q_.all(i).then(this.handleCombinedQueryResult_.bind(this))};t.prototype.getQueryableDataSources=function t(e,i){var a={wfs:[],wms:[]};var o=n["a"].assertNumber(i.getView().getResolution());for(var s=e,u=Array.isArray(s),l=0,s=u?s:s[Symbol.iterator]();;){var c;if(u){if(l>=s.length)break;c=s[l++]}else{l=s.next();if(l.done)break;c=l.value}var h=c;if(!this.isDataSourceQueryable_(h,o)){continue}if(h instanceof r["a"]){if(h.supportsWFS){a.wfs.push(h)}else{a.wms.push(h)}}}return a};t.prototype.wfsDescribeFeatureType=function t(e){n["a"].assert(e.supportsAttributes,"The data source must support WFS, have a single OGCLayer that\n      is queryable in order to issue WFS DescribeFeatureType requests");var i=e.getOGCLayerNames();var r=at["a"](n["a"].assertString(e.wfsUrl),{REQUEST:"DescribeFeatureType",SERVICE:"WFS",VERSION:"2.0.0",TYPENAME:i});return this.http_.get(r).then(function(t){var e=new f;return e.read(t.data)})};t.prototype.wmsFindLayerCapability=function t(e,i){var n=null;for(var r=e,a=Array.isArray(r),o=0,r=a?r:r[Symbol.iterator]();;){var s;if(a){if(o>=r.length)break;s=r[o++]}else{o=r.next();if(o.done)break;s=o.value}var u=s;if(u["Name"]===i){n=u;break}else if(u["Layer"]){n=this.wmsFindLayerCapability(u["Layer"],i);if(n){break}}}return n};t.prototype.wmsGetCapabilities=function t(e,i){var r=i!==false;var a={REQUEST:"GetCapabilities",SERVICE:"WMS",VERSION:"1.3.0"};var o=at["a"](e,a);var s=void 0;if(!r||!this.wmsGetCapabilitiesPromises_[e]){s=this.http_.get(o).then(function(t){var e=new it;return e.read(t.data)})}else if(r&&this.wmsGetCapabilitiesPromises_[e]){s=this.wmsGetCapabilitiesPromises_[e]}n["a"].assert(s);if(r&&!this.wmsGetCapabilitiesPromises_[e]){this.wmsGetCapabilitiesPromises_[e]=s}return s};t.prototype.wmtsFindLayerCapability=function t(e,i){var n=null;for(var r=e,a=Array.isArray(r),o=0,r=a?r:r[Symbol.iterator]();;){var s;if(a){if(o>=r.length)break;s=r[o++]}else{o=r.next();if(o.done)break;s=o.value}var u=s;if(u["Identifier"]===i){n=u;break}}return n};t.prototype.wmtsGetCapabilities=function t(e,i){var r=i!==false;var a=void 0;if(!r||!this.wmtsGetCapabilitiesPromises_[e]){a=this.http_.get(e).then(function(t){var e=new nt["a"];return e.read(t.data)})}else if(r&&this.wmtsGetCapabilitiesPromises_[e]){a=this.wmtsGetCapabilitiesPromises_[e]}n["a"].assert(a);if(r&&!this.wmtsGetCapabilitiesPromises_[e]){this.wmtsGetCapabilitiesPromises_[e]=a}return a};t.prototype.handleCombinedQueryResult_=function t(e){var i={};for(var n=e,r=Array.isArray(n),a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var s=o;for(var u in s){var l=Number(u);i[l]=s[l]}}return i};t.prototype.handleQueryResult_=function t(e,i,n,a){var o={};for(var s=e,u=Array.isArray(s),l=0,s=u?s:s[Symbol.iterator]();;){var c;if(u){if(l>=s.length)break;c=s[l++]}else{l=s.next();if(l.done)break;c=l.value}var h=c;var f=void 0;var d=void 0;var p=void 0;if(typeof a==="number"){f=[];d=true;p=a}else{if(h instanceof r["a"]){f=this.readAndTypeFeatures_(h,a.data,n)}else{f=[]}}var v=h.id;this.setUniqueIds_(f,h.id);o[v]={features:f,limit:i,tooManyFeatures:d,totalFeatureCount:p}}return o};t.prototype.readAndTypeFeatures_=function t(e,i,n){var r=this;var a=[];var o=void 0;var s=this.getSetOlFormatTypes_(e,n).slice();s.forEach(function(t){r.getSetOlFormatTypes_(e,n,[t]);if(n){o=e.wfsFormat.readFeatures(i)}else{o=e.wmsFormat.readFeatures(i)}if(o.length>0){o.forEach(function(e){e.set("ngeo_feature_type_",t);a.push(e)})}});this.getSetOlFormatTypes_(e,n,s);return a};t.prototype.getSetOlFormatTypes_=function t(e,i,n){var r=void 0;if(i){if(n){e.wfsFormat.setFeatureType(n)}r=e.wfsFormat.getFeatureType()}else{if(n){e.wmsFormat.setLayers(n)}r=e.wmsFormat.getLayers()}if(!r){return[]}return Array.isArray(r)?r:[r]};t.prototype.issueCombinedWFS_=function t(e,i){var r=this;var a=[];var o=n["a"].assertNumber(i.limit);var u=i.map;var l=u.getView();var c=n["a"].assertNumber(l.getResolution());var h=l.getProjection();var f=h.getCode();var d=i.wfsCount===true;var p=void 0;var v=i.coordinate;if(v){var g=i.tolerancePx;n["a"].assert(g);var m=g*c;p=ot["c"](ot["m"](v),m)}else{p=i.extent}var y=new s["a"];var _=new XMLSerializer;var b=function t(e){var s=void 0;var u=void 0;var l=[];var h=void 0;var v={};if(i.bboxAsGETParam&&p){v["bbox"]=p.join(",")}for(var g=e,m=Array.isArray(g),b=0,g=m?g:g[Symbol.iterator]();;){var w;if(m){if(b>=g.length)break;w=g[b++]}else{b=g.next();if(b.done)break;w=b.value}var O=w;if(!s){u=O.wfsFeatureNS;var x=O.wfsFeaturePrefix;var S=O.geometryName;var C=O.wfsOutputFormat;s={bbox:p,featureNS:u,featurePrefix:x,geometryName:S,outputFormat:C,srsName:f};h=O.wfsUrl;rt["a"](v,O.activeDimensions)}l=l.concat(O.getInRangeOGCLayerNames(c,true));var T=void 0;if(i.filter){T=r.ngeoRuleHelper_.createFilter({dataSource:O,filter:i.filter,incDimensions:true,incTime:true})}else if(O.filterRules&&O.filterRules.length||O.timeRangeValue||O.dimensionsFiltersConfig&&Object.keys(O.dimensionsFiltersConfig).length>0){n["a"].assert(e.length===1,"A data source having filterRules or timeRangeValue should issue\n            a single query, alone.");T=r.ngeoRuleHelper_.createFilter({dataSource:O,incDimensions:true,incTime:true,srsName:f})}if(T){s["filter"]=T}}n["a"].assert(s);s.featureTypes=l;n["a"].assert(h);var E=r.q_.defer();a.push(E.promise.then(r.handleQueryResult_.bind(r,e,o,true)));var M=void 0;if(d){var j=rt["a"]({resultType:"hits"},s);var k=y.writeGetFeature(j);var R=_.serializeToString(k);var A=r.registerCanceler_();M=r.http_.post(h,R,{params:v,headers:{"Content-Type":"text/xml; charset=UTF-8"},timeout:A.promise}).then(function(t){var i=e[0].wfsFormat.readFeatureCollectionMetadata(t.data);return i["numberOfFeatures"]}.bind(r))}else{M=r.q_.resolve()}M.then(function(t){if(t===undefined||t<o){var e=rt["a"]({maxFeatures:o},s);var i=y.writeGetFeature(e);var a=_.serializeToString(i);n["a"].assertString(h);var u=r.registerCanceler_();r.http_.post(h,a,{params:v,headers:{"Content-Type":"text/xml; charset=UTF-8"},timeout:u.promise}).then(function(t){E.resolve(t)})}else{E.resolve(t)}})};for(var w=e,O=Array.isArray(w),x=0,w=O?w:w[Symbol.iterator]();;){var S;if(O){if(x>=w.length)break;S=w[x++]}else{x=w.next();if(x.done)break;S=x.value}var C=S;b(C)}return this.q_.all(a).then(this.handleCombinedQueryResult_.bind(this))};t.prototype.issueCombinedWMS_=function t(e,i){var r=[];var a=n["a"].assertNumber(i.limit);var o=i.map;var s=o.getView();var u=n["a"].assertNumber(s.getResolution());var l=s.getProjection();var c=l.getCode();var h=i.coordinate;n["a"].assert(h);for(var f=e,d=Array.isArray(f),p=0,f=d?f:f[Symbol.iterator]();;){var v;if(d){if(p>=f.length)break;v=f[p++]}else{p=f.next();if(p.done)break;v=p.value}var g=v;var m=void 0;var y=[];var _=void 0;var b=false;var w={};var O=null;var x=null;for(var S=g,C=Array.isArray(S),T=0,S=C?S:S[Symbol.iterator]();;){var E;if(C){if(T>=S.length)break;E=S[T++]}else{T=S.next();if(T.done)break;E=T.value}var M=E;if(!_){_=M.wmsInfoFormat;m=M.wmsUrl}y=y.concat(M.getInRangeOGCLayerNames(u,true));if(!b){rt["a"](w,M.activeDimensions);b=true}if(M.filterRules&&M.filterRules.length){n["a"].assert(g.length===1);x=M.getFiltrableOGCLayerName();O=this.ngeoRuleHelper_.createFilterString({dataSource:M,srsName:c})}if(M.timeRangeValue!==null&&M.timeProperty){n["a"].assert(g.length===1);w["TIME"]=this.ngeoWMSTime_.formatWMSTimeParam(M.timeProperty,M.timeRangeValue)}}w["LAYERS"]=y;w["QUERY_LAYERS"]=y;if(O&&x){var j=null;if(y.length===1){j=O}else{var k=[];for(var R=0,A=y.length;R<A;R++){if(y[R]===x){k.push("("+O+")")}else{k.push("()")}}j=k.join("")}w["FILTER"]=j}n["a"].assert(m);var I=new st["a"]({params:w,url:m});var P=n["a"].assertString(I.getGetFeatureInfoUrl(h,u,c,{FEATURE_COUNT:a,INFO_FORMAT:_}));var D=this.registerCanceler_();r.push(this.http_.get(P,{timeout:D.promise}).then(this.handleQueryResult_.bind(this,g,a,false)))}return this.q_.all(r).then(this.handleCombinedQueryResult_.bind(this))};t.prototype.getCombinableWFSDataSources_=function t(e){var i=[];var n=[];for(var r=e,a=Array.isArray(r),o=0,r=a?r:r[Symbol.iterator]();;){var s;if(a){if(o>=r.length)break;s=r[o++]}else{o=r.next();if(o.done)break;s=o.value}var u=s;if(u.combinableForWFS){var l=false;for(var c=i,h=Array.isArray(c),f=0,c=h?c:c[Symbol.iterator]();;){var d;if(h){if(f>=c.length)break;d=c[f++]}else{f=c.next();if(f.done)break;d=f.value}var p=d;if(u.combinableWithDataSourceForWFS(p[0])){p.push(u);l=true}}if(!l){i.push([u])}}else{n.push([u])}}return i.concat(n)};t.prototype.getCombinableWMSDataSources_=function t(e){var i=[];var n=[];for(var r=e,a=Array.isArray(r),o=0,r=a?r:r[Symbol.iterator]();;){var s;if(a){if(o>=r.length)break;s=r[o++]}else{o=r.next();if(o.done)break;s=o.value}var u=s;if(u.combinableForWMS){var l=false;for(var c=i,h=Array.isArray(c),f=0,c=h?c:c[Symbol.iterator]();;){var d;if(h){if(f>=c.length)break;d=c[f++]}else{f=c.next();if(f.done)break;d=f.value}var p=d;if(u.combinableWithDataSourceForWMS(p[0])){p.push(u);l=true}}if(!l){i.push([u])}}else{n.push([u])}}return i.concat(n)};t.prototype.isDataSourceQueryable_=function t(e,i){var n=e.visible&&e.inRange&&e.queryable;if(n&&e instanceof r["a"]){var a=e;n=a.isAnyOGCLayerInRange(i,true)}return n};t.prototype.setUniqueIds_=function t(e,i){e.forEach(function(t){if(t.getId()!==undefined){var e=i+"_"+t.getId();t.setId(e)}})};t.prototype.registerCanceler_=function t(){var e=this.q_.defer();this.requestCancelers_.push(e);return e};t.prototype.cancelStillRunningRequests_=function t(){for(var e=this.requestCancelers_,i=Array.isArray(e),n=0,e=i?e:e[Symbol.iterator]();;){var r;if(i){if(n>=e.length)break;r=e[n++]}else{n=e.next();if(n.done)break;r=n.value}var a=r;a.resolve()}this.requestCancelers_.length=0};return t}();lt.CombinedDataSources;lt.module=angular.module("ngeoQuerent",[a["a"].module.name,o["a"].module.name]);lt.module.service("ngeoQuerent",lt);var ct=e["a"]=lt},function(t,e,i){"use strict";var n=i(126);var r=i(215);function a(t){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(t).length===0}else{var e;for(e in t){if(t.hasOwnProperty(e)){return false}}return true}}var o=i(89);var s=i(145);var u=i(207);function l(t,e){var i=[],n;for(n=0;n<t.length;++n){i.push(e(t[n],n))}return i}var c=i(137);var h=i(83);var f=i(103);var d=i(18);var p=i(87);var v=i(16);var g=i(47);function m(t){var e;var i=t._a;if(i&&Object(g["a"])(t).overflow===-2){e=i[v["e"]]<0||i[v["e"]]>11?v["e"]:i[v["a"]]<1||i[v["a"]]>Object(p["a"])(i[v["i"]],i[v["e"]])?v["a"]:i[v["b"]]<0||i[v["b"]]>24||i[v["b"]]===24&&(i[v["d"]]!==0||i[v["f"]]!==0||i[v["c"]]!==0)?v["b"]:i[v["d"]]<0||i[v["d"]]>59?v["d"]:i[v["f"]]<0||i[v["f"]]>59?v["f"]:i[v["c"]]<0||i[v["c"]]>999?v["c"]:-1;if(Object(g["a"])(t)._overflowDayOfYear&&(e<v["i"]||e>v["a"])){e=v["a"]}if(Object(g["a"])(t)._overflowWeeks&&e===-1){e=v["g"]}if(Object(g["a"])(t)._overflowWeekday&&e===-1){e=v["h"]}Object(g["a"])(t).overflow=e}return t}var y=i(141);var _=i(115);var b=i(135);var w=i(60);function O(t,e,i){if(t!=null){return t}if(e!=null){return e}return i}function x(t){var e=new Date(d["a"].now());if(t._useUTC){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]}return[e.getFullYear(),e.getMonth(),e.getDate()]}function S(t){var e,i,n=[],r,a,o;if(t._d){return}r=x(t);if(t._w&&t._a[v["a"]]==null&&t._a[v["e"]]==null){C(t)}if(t._dayOfYear!=null){o=O(t._a[v["i"]],r[v["i"]]);if(t._dayOfYear>Object(_["a"])(o)||t._dayOfYear===0){Object(g["a"])(t)._overflowDayOfYear=true}i=Object(y["b"])(o,0,t._dayOfYear);t._a[v["e"]]=i.getUTCMonth();t._a[v["a"]]=i.getUTCDate()}for(e=0;e<3&&t._a[e]==null;++e){t._a[e]=n[e]=r[e]}for(;e<7;e++){t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e]}if(t._a[v["b"]]===24&&t._a[v["d"]]===0&&t._a[v["f"]]===0&&t._a[v["c"]]===0){t._nextDay=true;t._a[v["b"]]=0}t._d=(t._useUTC?y["b"]:y["a"]).apply(null,n);a=t._useUTC?t._d.getUTCDay():t._d.getDay();if(t._tzm!=null){t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm)}if(t._nextDay){t._a[v["b"]]=24}if(t._w&&typeof t._w.d!=="undefined"&&t._w.d!==a){Object(g["a"])(t).weekdayMismatch=true}}function C(t){var e,i,n,r,a,o,s,u;e=t._w;if(e.GG!=null||e.W!=null||e.E!=null){a=1;o=4;i=O(e.GG,t._a[v["i"]],Object(b["b"])(Object(w["a"])(),1,4).year);n=O(e.W,1);r=O(e.E,1);if(r<1||r>7){u=true}}else{a=t._locale._week.dow;o=t._locale._week.doy;var l=Object(b["b"])(Object(w["a"])(),a,o);i=O(e.gg,t._a[v["i"]],l.year);n=O(e.w,l.week);if(e.d!=null){r=e.d;if(r<0||r>6){u=true}}else if(e.e!=null){r=e.e+a;if(e.e<0||e.e>6){u=true}}else{r=a}}if(n<1||n>Object(b["c"])(i,a,o)){Object(g["a"])(t)._overflowWeeks=true}else if(u!=null){Object(g["a"])(t)._overflowWeekday=true}else{s=Object(b["a"])(i,n,r,a,o);t._a[v["i"]]=s.year;t._dayOfYear=s.dayOfYear}}var T=i(88);var E=i(104);var M=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var j=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var k=/Z|[+-]\d\d(?::?\d\d)?/;var R=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var A=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var I=/^\/?Date\((\-?\d+)/i;function P(t){var e,i,n=t._i,r=M.exec(n)||j.exec(n),a,o,s,u;if(r){Object(g["a"])(t).iso=true;for(e=0,i=R.length;e<i;e++){if(R[e][1].exec(r[1])){o=R[e][0];a=R[e][2]!==false;break}}if(o==null){t._isValid=false;return}if(r[3]){for(e=0,i=A.length;e<i;e++){if(A[e][1].exec(r[3])){s=(r[2]||" ")+A[e][0];break}}if(s==null){t._isValid=false;return}}if(!a&&s!=null){t._isValid=false;return}if(r[4]){if(k.exec(r[4])){u="Z"}else{t._isValid=false;return}}t._f=o+(s||"")+(u||"");B(t)}else{t._isValid=false}}var D=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function N(t,e,i,n,r,a){var o=[$(t),p["c"].indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)];if(a){o.push(parseInt(a,10))}return o}function $(t){var e=parseInt(t,10);if(e<=49){return 2e3+e}else if(e<=999){return 1900+e}return e}function L(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function F(t,e,i){if(t){var n=E["c"].indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(n!==r){Object(g["a"])(i).weekdayMismatch=true;i._isValid=false;return false}}return true}var G={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function U(t,e,i){if(t){return G[t]}else if(e){return 0}else{var n=parseInt(i,10);var r=n%100,a=(n-r)/100;return a*60+r}}function H(t){var e=D.exec(L(t._i));if(e){var i=N(e[4],e[3],e[2],e[5],e[6],e[7]);if(!F(e[1],i,t)){return}t._a=i;t._tzm=U(e[8],e[9],e[10]);t._d=y["b"].apply(null,t._a);t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm);Object(g["a"])(t).rfc2822=true}else{t._isValid=false}}function W(t){var e=I.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}P(t);if(t._isValid===false){delete t._isValid}else{return}H(t);if(t._isValid===false){delete t._isValid}else{return}d["a"].createFromInputFallback(t)}d["a"].createFromInputFallback=Object(T["a"])("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});var Y=i(6);var z=i(52);var V=i(25);d["a"].ISO_8601=function(){};d["a"].RFC_2822=function(){};function B(t){if(t._f===d["a"].ISO_8601){P(t);return}if(t._f===d["a"].RFC_2822){H(t);return}t._a=[];Object(g["a"])(t).empty=true;var e=""+t._i,i,n,r,a,o,s=e.length,u=0;r=Object(V["b"])(t._f,t._locale).match(V["e"])||[];for(i=0;i<r.length;i++){a=r[i];n=(e.match(Object(Y["b"])(a,t))||[])[0];if(n){o=e.substr(0,e.indexOf(n));if(o.length>0){Object(g["a"])(t).unusedInput.push(o)}e=e.slice(e.indexOf(n)+n.length);u+=n.length}if(V["d"][a]){if(n){Object(g["a"])(t).empty=false}else{Object(g["a"])(t).unusedTokens.push(a)}Object(z["b"])(a,n,t)}else if(t._strict&&!n){Object(g["a"])(t).unusedTokens.push(a)}}Object(g["a"])(t).charsLeftOver=s-u;if(e.length>0){Object(g["a"])(t).unusedInput.push(e)}if(t._a[v["b"]]<=12&&Object(g["a"])(t).bigHour===true&&t._a[v["b"]]>0){Object(g["a"])(t).bigHour=undefined}Object(g["a"])(t).parsedDateParts=t._a.slice(0);Object(g["a"])(t).meridiem=t._meridiem;t._a[v["b"]]=q(t._locale,t._a[v["b"]],t._meridiem);S(t);m(t)}function q(t,e,i){var n;if(i==null){return e}if(t.meridiemHour!=null){return t.meridiemHour(e,i)}else if(t.isPM!=null){n=t.isPM(i);if(n&&e<12){e+=12}if(!n&&e===12){e=0}return e}else{return e}}var K=i(138);function X(t){var e,i,n,r,a;if(t._f.length===0){Object(g["a"])(t).invalidFormat=true;t._d=new Date(NaN);return}for(r=0;r<t._f.length;r++){a=0;e=Object(h["b"])({},t);if(t._useUTC!=null){e._useUTC=t._useUTC}e._f=t._f[r];B(e);if(!Object(c["b"])(e)){continue}a+=Object(g["a"])(e).charsLeftOver;a+=Object(g["a"])(e).unusedTokens.length*10;Object(g["a"])(e).score=a;if(n==null||a<n){n=a;i=e}}Object(K["a"])(t,i||e)}var Z=i(45);function Q(t){if(t._d){return}var e=Object(Z["b"])(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)});S(t)}i.d(e,"b",function(){return tt});i.d(e,"a",function(){return it});function J(t){var e=new h["a"](m(tt(t)));if(e._nextDay){e.add(1,"d");e._nextDay=undefined}return e}function tt(t){var e=t._i,i=t._f;t._locale=t._locale||Object(f["b"])(t._l);if(e===null||i===undefined&&e===""){return Object(c["a"])({nullInput:true})}if(typeof e==="string"){t._i=e=t._locale.preparse(e)}if(Object(h["c"])(e)){return new h["a"](m(e))}else if(Object(u["a"])(e)){t._d=e}else if(Object(n["a"])(i)){X(t)}else if(i){B(t)}else{et(t)}if(!Object(c["b"])(t)){t._d=null}return t}function et(t){var e=t._i;if(Object(o["a"])(e)){t._d=new Date(d["a"].now())}else if(Object(u["a"])(e)){t._d=new Date(e.valueOf())}else if(typeof e==="string"){W(t)}else if(Object(n["a"])(e)){t._a=l(e.slice(0),function(t){return parseInt(t,10)});S(t)}else if(Object(r["a"])(e)){Q(t)}else if(Object(s["a"])(e)){t._d=new Date(e)}else{d["a"].createFromInputFallback(t)}}function it(t,e,i,o,s){var u={};if(i===true||i===false){o=i;i=undefined}if(Object(r["a"])(t)&&a(t)||Object(n["a"])(t)&&t.length===0){t=undefined}u._isAMomentObject=true;u._useUTC=u._isUTC=s;u._l=i;u._i=t;u._f=e;u._strict=o;return J(u)}},function(t,e,i){"use strict";var n=i(309);var r=i.n(n);var a=i(2);var o=i(73);var s=i(1);var u=function t(e){o["a"].call(this);this.timeout_=e;var i=angular.element('<div class="ngeo-notification"></div>');angular.element(document.body).append(i);this.container_=i;this.cache_={}};u.$inject=["$timeout"];u.$inject=["$timeout"];s["d"](u,o["a"]);u.DEFAULT_DELAY_=7e3;u.prototype.notify=function(t){this.show(t)};u.prototype.clear=function(){for(var t in this.cache_){this.clearMessageByCacheItem_(this.cache_[parseInt(t,10)])}};u.prototype.showMessage=function(t){var e=this;var i=t.type;a["a"].assertString(i,"Type should be set.");var n=["alert","fade"];switch(i){case o["a"].Type.ERROR:n.push("alert-danger");break;case o["a"].Type.INFORMATION:n.push("alert-info");break;case o["a"].Type.SUCCESS:n.push("alert-success");break;case o["a"].Type.WARNING:n.push("alert-warning");break;default:break}var r=angular.element('<div class="'+n.join(" ")+'"></div>');var l=void 0;if(t.target){l=angular.element(t.target)}else{l=this.container_}l.append(r);r.html(t.msg).addClass("in");var c=t.delay!==undefined?t.delay:u.DEFAULT_DELAY_;var h={el:r};var f=s["c"](r);h.promise=this.timeout_(function(){r.alert("close");delete e.cache_[f]},c);this.cache_[f]=h};u.prototype.clearMessageByCacheItem_=function(t){var e=t.el;var i=t.promise;var n=s["c"](e);e.alert("close");this.timeout_.cancel(i);delete this.cache_[n]};u.CacheItem;u.module=angular.module("ngeoNotification",[]);u.module.service("ngeoNotification",u);e["a"]=u},function(t,e,i){"use strict";var n=i(2);var r=i(65);var a=function t(e,i){this.history_=i;this.schema_=e.protocol.substring(0,e.protocol.length-1);this.domain_=e.hostname;this.port_=e.port?parseInt(e.port,10):undefined;this.path_=e.pathname;this.queryData_=r["b"].decodeQueryString(e.search);this.fragment_=r["b"].decodeQueryString(e.hash)};a.replaceState=function(t,e){try{t.replaceState(null,"",e)}catch(t){}};a.prototype.getPath=function(){return this.path_};a.prototype.getUriString=function(){var t=[];if(this.schema_){t.push(this.schema_,":")}if(this.domain_||this.schema_==="file"){t.push("//");t.push(this.domain_);if(this.port_!==undefined){t.push(":",String(this.port_))}}if(this.path_){if(this.domain_&&this.path_.charAt(0)!=="/"){t.push("/")}t.push(this.path_)}var e=r["b"].encodeQueryString(this.queryData_);if(e.length>0){t.push("?",e)}var i=r["b"].encodeQueryString(this.fragment_);if(i.length>0){t.push("#",i)}return t.join("")};a.prototype.hasParam=function(t){return t in this.queryData_};a.prototype.hasFragmentParam=function(t){return t in this.fragment_};a.prototype.getParam=function(t){return this.queryData_[t]};a.prototype.getFragmentParam=function(t){return this.fragment_[t]};a.prototype.getParamAsInt=function(t){var e=this.getParam(t);if(e===undefined){return undefined}n["a"].assertString(e);var i=parseInt(e,10);return isNaN(i)?undefined:i};a.prototype.getParamAsFloat=function(t){var e=this.getParam(t);if(e===undefined){return undefined}n["a"].assertString(e);var i=parseFloat(e);return isNaN(i)?undefined:i};a.prototype.getFragmentParamAsInt=function(t){var e=this.getFragmentParam(t);if(e===undefined){return undefined}n["a"].assertString(e);var i=parseInt(e,10);return isNaN(i)?undefined:i};a.prototype.getParamKeys=function(){var t=[];for(var e in this.queryData_){t.push(e)}return t};a.prototype.getFragmentParamKeys=function(){var t=[];for(var e in this.fragment_){t.push(e)}return t};a.prototype.getParamKeysWithPrefix=function(t){var e=[];for(var i in this.queryData_){if(i.indexOf(t)==0){e.push(i)}}return e};a.prototype.getFragmentParamKeysWithPrefix=function(t){var e=[];for(var i in this.fragment_){if(i.indexOf(t)==0){e.push(i)}}return e};a.prototype.updateParams=function(t){for(var e in t){this.queryData_[e]=t[e]}};a.prototype.updateFragmentParams=function(t){for(var e in t){this.fragment_[e]=t[e]}};a.prototype.deleteParam=function(t){delete this.queryData_[t]};a.prototype.deleteFragmentParam=function(t){delete this.fragment_[t]};a.prototype.refresh=function(){a.replaceState(this.history_,this.getUriString())};a.prototype.setPath=function(t){this.path_=t};a.LocationFactory=function(t,e){var i=e.history;var n=new a(e.location,e.history);var r=n.getUriString();t.$watch(function(){var e=n.getUriString();if(r!==e){t.$evalAsync(function(){r=e;if(i!==undefined&&i.replaceState!==undefined){a.replaceState(i,e)}t.$broadcast("ngeoLocationChange")})}});return n};a.LocationFactory.$inject=["$rootScope","$window"];a.MockProvider=function(t){t["$get"]=function(){var t={absUrl:function t(){return""},hash:function t(e){return e!==undefined?this:""},host:function t(){return""},path:function t(e){return e!==undefined?this:""},port:function t(){return 0},protocol:function t(){return""},replace:function t(){},search:function t(e,i){return e!==undefined?this:{}},url:function t(e){return""}};return t}};a.MockProvider.$inject=["$locationProvider"];a.module=angular.module("ngeoLocation",[]);a.module.factory("ngeoLocation",a.LocationFactory);e["a"]=a},function(t,e,i){"use strict";var n=i(2);var r=i(9);var a=i(249);var o=i(84);var s=i(77);var u=i(17);var l=i(11);var c=i(72);var h=i(96);var f=i(116);var d=i(144);var p=function t(e,i,n){this.$q_=e;this.$http_=i;this.tilesPreloadingLimit_=n};p.$inject=["$q","$http","ngeoTilesPreloadingLimit"];p.$inject=["$q","$http","ngeoTilesPreloadingLimit"];p.GROUP_KEY="groupName";p.REFRESH_PARAM="random";p.prototype.createBasicWMSLayer=function(t,e,i,n,r,a,o,u,l){var h={FORMAT:i,LAYERS:e};var f=void 0;if(r){h["TIME"]=r}if(n){h["SERVERTYPE"]=n;f=n.replace("qgisserver","qgis")}var d=Object.assign({},u,{url:t,params:h,serverType:f,crossOrigin:o});var p=new c["a"](d);if(a){p.updateParams(a)}var v=Object.assign({},l,{source:p});return new s["a"](v)};p.prototype.createBasicWMSLayerFromDataSource=function(t,e){var i=t.wmsUrl;n["a"].assert(i);var r=t.getOGCLayerNames().join(",");var a=t.ogcServerType;var o=t.ogcImageType;var s=this.createBasicWMSLayer(i,r,o,a,undefined,undefined,e);s.setVisible(t.visible);s.set("querySourceIds",[t.id]);return s};p.prototype.createWMTSLayerFromCapabilitites=function(t,e,i,n,o){var s=new a["a"];var c=new u["a"]({preload:this.tilesPreloadingLimit_});var h=this.$q_;return this.$http_.get(t,{cache:true}).then(function(a){var u=void 0;if(a.data){u=s.read(a.data)}if(u){var d=Object.assign({},o,Object(f["b"])(u,{matrixSet:i,crossOrigin:"anonymous",layer:e}));var p=new f["a"](d);if(n&&!l["d"](n)){p.updateDimensions(n)}c.setSource(p);var v=u["Contents"]["Layer"];var g=r["d"](v,function(t,i,n){return t["Identifier"]==e});c.set("capabilitiesStyles",g["Style"]);return h.resolve(c)}return h.reject("Failed to get WMTS capabilities from "+t)})};p.prototype.createWMTSLayerFromCapabilititesObj=function(t,e,i){var r=Object(f["b"])(t,{crossOrigin:"anonymous",layer:e["Identifier"]});n["a"].assert(r);var a=new f["a"](r);if(i&&!l["d"](i)){a.updateDimensions(i)}return new u["a"]({capabilitiesStyles:e["Style"],preload:Infinity,source:a})};p.prototype.createBasicGroup=function(t){var e=new o["a"];if(t){e.setLayers(t)}return e};p.prototype.getGroupFromMap=function(t,e){var i=t.getLayerGroup().getLayers();var n=void 0;i.getArray().some(function(t){if(t.get(p.GROUP_KEY)===e){n=t;return true}else{return false}});if(!n){n=this.createBasicGroup();n.set(p.GROUP_KEY,e);t.addLayer(n)}return n};p.prototype.getFlatLayers=function(t){if(t instanceof o["a"]){var e=t.getLayers().getArray();var i=e.some(function(t){return t instanceof o["a"]});if(!i){return e.slice()}}return this.getFlatLayers_(t,[],undefined)};p.prototype.getFlatLayers_=function(t,e,i){var n=this;var r=t.getOpacity();if(i!==undefined){i*=r}else{i=r}if(t instanceof o["a"]){var a=t.getLayers();a.forEach(function(t){n.getFlatLayers_(t,e,i)})}else{if(e.indexOf(t)<0){t.set("inheritedOpacity",i,true);e.push(t)}}return e};p.prototype.getLayerByName=function(t,e){var i=this;var n=null;e.some(function(e){if(e instanceof o["a"]){var r=e.getLayers().getArray();n=i.getLayerByName(t,r)}else if(e.get("layerNodeName")===t){n=e}return!!n});return n};p.prototype.getWMTSLegendURL=function(t){var e=void 0;var i=t.get("capabilitiesStyles");if(i!==undefined){var n=i[0]["legendURL"];if(n!==undefined){e=n[0]["href"]}}return e};p.prototype.getWMSLegendURL=function(t,e,i,n,r,a,o,s,u,l,c){if(!t){return undefined}var h={FORMAT:"image/png",TRANSPARENT:true,SERVICE:"WMS",VERSION:"1.1.1",REQUEST:"GetLegendGraphic",LAYER:e};if(i!==undefined){h["SCALE"]=i}if(n!==undefined){h["RULE"]=n;if(r!==undefined){h["WIDTH"]=r}if(a!==undefined){h["HEIGHT"]=a}}if(o=="qgis"){if(s!=undefined){h["DPI"]=s}if(u!=undefined&&l!=undefined&&i!=undefined&&s!=undefined&&n==undefined){h["BBOX"]=u.join(",");h["SRS"]=l;h["WIDTH"]=Math.round((u[2]-u[0])/i*39.37*s);h["HEIGHT"]=Math.round((u[3]-u[1])/i*39.37*s)}}if(c){Object.assign(h,c)}return d["a"](t,h)};p.prototype.isLayerVisible=function(t,e){if(!t.getVisible()){return false}var i=e.getView().getResolution();return i>t.getMinResolution()&&i<t.getMaxResolution()};p.prototype.refreshWMSLayer=function(t){var e=t.getSource();n["a"].assert(e instanceof c["a"]||e instanceof h["a"]);var i=e;var r=i.getParams();r[p.REFRESH_PARAM]=Math.random();i.updateParams(r)};p.prototype.setZIndexToFirstLevelChildren=function(t,e){if(!(t instanceof o["a"])){return}var i=t.getLayers();i.forEach(function(t){return t.setZIndex(e)})};p.prototype.updateWMSLayerState=function(t,e,i){if(e.length<=0){t.setVisible(false)}else{t.setVisible(true);var n=t.getSource();if(i){n.updateParams({LAYERS:e,TIME:i})}else{n.updateParams({LAYERS:e})}}};p.prototype.getQuerySourceIds=function(t){return t.get("querySourceIds")};p.module=angular.module("ngeoLayerHelper",[]).service("ngeoLayerHelper",p).value("ngeoTilesPreloadingLimit",Infinity);e["a"]=p},function(t,e,i){"use strict";(function(t){var n=i(2);var r=i(169);var a=i(457);var o=i.n(a);var s=i(550);var u=i.n(s);var l=i(456);var c=i.n(l);var h=i(455);var f=i.n(h);var d=i(454);var p=i.n(d);var v=i(453);var g=i.n(v);var m=angular.module("ngeoDatePicker",[r["a"].module.name,"ui.date"]);m.value("ngeoDatePickerTemplateUrl",function(t,e){var i=e["ngeoDatePickerTemplateUrl"];return i!==undefined?i:"ngeo/misc/datepickerComponent"});m.run(["$templateCache",function(t){t.put("ngeo/misc/datepickerComponent",i(452))}]);m.component_=function(e,i){return{scope:{onDateSelected:"&",time:"="},bindToController:true,controller:"ngeoDatePickerController as datepickerCtrl",restrict:"AE",templateUrl:e,link:function e(n,r,a,o){o.init();var s=o.gettextCatalog_.getCurrentLanguage();t["datepicker"]["setDefaults"](t["datepicker"]["regional"][s]);o.sdateOptions=angular.extend({},o.sdateOptions,{minDate:o.initialMinDate,maxDate:o.initialMaxDate,onClose:function e(i){if(i){t(r[0]).find('input[name="edate"]').datepicker("option","minDate",i)}}});o.edateOptions=angular.extend({},o.edateOptions,{minDate:o.initialMinDate,maxDate:o.initialMaxDate,onClose:function e(i){if(i){t(r[0]).find('input[name="sdate"]').datepicker("option","maxDate",i)}}});angular.element("body").on("hidden.bs.popover",function(){var e=angular.element("#ui-datepicker-div");if(e&&e.css("display")==="block"){t(r[0]).find('input[name$="date"]').datepicker("hide")}});i(function(){angular.element("#ui-datepicker-div").on("mousedown",function(t){t.stopPropagation()})})}}};m.component_.$inject=["ngeoDatePickerTemplateUrl","$timeout"];m.directive("ngeoDatePicker",m.component_);m.Controller_=function(t,e,i,n){var r=this;this.ngeoTime_=i;this.time;this.gettextCatalog_=n;this.isModeRange;this.onDateSelected;this.initialMinDate;this.initialMaxDate;this.edateOptions={changeMonth:true,changeYear:true};this.sdateOptions={changeMonth:true,changeYear:true};this.sdate;this.edate;t.$watchGroup(["datepickerCtrl.sdate","datepickerCtrl.edate"],function(t,e){var i=t[0];var n=t[1];if(angular.isDate(i)&&(!r.isModeRange||angular.isDate(n))){r.onDateSelected({time:{start:r.ngeoTime_.getTime(i),end:r.ngeoTime_.getTime(n)}})}})};m.Controller_.$inject=["$scope","$injector","ngeoTime","gettextCatalog"];m.Controller_.prototype.init=function(){var t=this.ngeoTime_.getOptions(this.time);this.initialMinDate=this.ngeoTime_.createDate(t.minDate);this.initialMaxDate=this.ngeoTime_.createDate(t.maxDate);this.isModeRange=this.time.mode==="range";if(this.isModeRange){n["a"].assertArray(t.values);this.sdate=this.ngeoTime_.createDate(t.values[0]);this.edate=this.ngeoTime_.createDate(t.values[1])}else{n["a"].assertNumber(t.values);this.sdate=this.ngeoTime_.createDate(t.values)}};m.controller("ngeoDatePickerController",m.Controller_);e["a"]=m}).call(this,i(51))},function(t,e,i){"use strict";var n=i(2);var r=i(169);var a=i(1);var o=function t(e,i){this.$filter_=e;this.gettextCatalog_=i;r["a"].call(this)};o.$inject=["$filter","gettextCatalog"];o.$inject=["$filter","gettextCatalog"];a["d"](o,r["a"]);o.prototype.formatTimeValue=function(t,e,i,n){var r=new Date(t);var a=n?"UTC":undefined;var o="yyyy";var s="yyyy-MM";var u="yyyy-MM-dd";var l=undefined;if(!i){var c=this.gettextCatalog_;o=c.getString("yyyy");s=c.getString("M/yyyy");u=c.getString("M/d/yyyy");l=c.getString("M/d/yyyy HH:MM:ss")}switch(e){case"year":return this.$filter_("date")(r,o,a);case"month":return this.$filter_("date")(r,s,a);case"day":return this.$filter_("date")(r,u,a);case"second":if(l){return this.$filter_("date")(r,l,a)}else{return r.toISOString().replace(/\.\d{3}/,"")}default:return r.toISOString().replace(/\.\d{3}/,"")}};o.prototype.formatWMSTimeParam=function(t,e,i){n["a"].assert(t.resolution!==undefined);if(t.mode==="range"){n["a"].assert(e.end!==undefined);return this.formatTimeValue(e.start,t.resolution,true,i)+"/"+this.formatTimeValue(e.end,t.resolution,true,i)}else{return this.formatTimeValue(e.start,t.resolution,true,i)}};o.module=angular.module("ngeoWMSTime",[r["a"].module.name]);o.module.service("ngeoWMSTime",o);e["a"]=o},function(t,e,i){"use strict";t.exports=r;t.exports.default=r;var n=i(462);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4));if(e){this._initFormat(e)}this.clear()}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!g(t,e))return i;var r=[],a,o,s,u;while(e){for(a=0,o=e.children.length;a<o;a++){s=e.children[a];u=e.leaf?n(s):s;if(g(t,u)){if(e.leaf)i.push(s);else if(v(t,u))this._all(s,i);else r.push(s)}}e=r.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!g(t,e))return false;var n=[],r,a,o,s;while(e){for(r=0,a=e.children.length;r<a;r++){o=e.children[r];s=e.leaf?i(o):o;if(g(t,s)){if(e.leaf||v(t,s))return true;n.push(o)}}e=n.pop()}return false},load:function(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++){this.insert(t[e])}return this}var n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length){this.data=n}else if(this.data.height===n.height){this._splitRoot(this.data,n)}else{if(this.data.height<n.height){var r=this.data;this.data=n;n=r}this._insert(n,this.data.height-n.height-1,true)}return this},insert:function(t){if(t)this._insert(t,this.data.height-1);return this},clear:function(){this.data=m([]);return this},remove:function(t,e){if(!t)return this;var i=this.data,n=this.toBBox(t),r=[],o=[],s,u,l,c;while(i||r.length){if(!i){i=r.pop();u=r[r.length-1];s=o.pop();c=true}if(i.leaf){l=a(t,i.children,e);if(l!==-1){i.children.splice(l,1);r.push(i);this._condense(r);return this}}if(!c&&!i.leaf&&v(i,n)){r.push(i);o.push(s);s=0;u=i;i=i.children[0]}else if(u){s++;i=u.children[s];c=false}else i=null}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){this.data=t;return this},_all:function(t,e){var i=[];while(t){if(t.leaf)e.push.apply(e,t.children);else i.push.apply(i,t.children);t=i.pop()}return e},_build:function(t,e,i,n){var r=i-e+1,a=this._maxEntries,s;if(r<=a){s=m(t.slice(e,i+1));o(s,this.toBBox);return s}if(!n){n=Math.ceil(Math.log(r)/Math.log(a));a=Math.ceil(r/Math.pow(a,n-1))}s=m([]);s.leaf=false;s.height=n;var u=Math.ceil(r/a),l=u*Math.ceil(Math.sqrt(a)),c,h,f,d;y(t,e,i,l,this.compareMinX);for(c=e;c<=i;c+=l){f=Math.min(c+l-1,i);y(t,c,f,u,this.compareMinY);for(h=c;h<=f;h+=u){d=Math.min(h+u-1,f);s.children.push(this._build(t,h,d,n-1))}}o(s,this.toBBox);return s},_chooseSubtree:function(t,e,i,n){var r,a,o,s,u,l,c,f;while(true){n.push(e);if(e.leaf||n.length-1===i)break;c=f=Infinity;for(r=0,a=e.children.length;r<a;r++){o=e.children[r];u=h(o);l=d(t,o)-u;if(l<f){f=l;c=u<c?u:c;s=o}else if(l===f){if(u<c){c=u;s=o}}}e=s||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),a=[];var o=this._chooseSubtree(r,this.data,e,a);o.children.push(t);u(o,r);while(e>=0){if(a[e].children.length>this._maxEntries){this._split(a,e);e--}else break}this._adjustParentBBoxes(r,a,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n);var s=m(i.children.splice(a,i.children.length-a));s.height=i.height;s.leaf=i.leaf;o(i,this.toBBox);o(s,this.toBBox);if(e)t[e-1].children.push(s);else this._splitRoot(i,s)},_splitRoot:function(t,e){this.data=m([t,e]);this.data.height=t.height+1;this.data.leaf=false;o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,a,o,u,l,c,f;l=c=Infinity;for(n=e;n<=i-e;n++){r=s(t,0,n,this.toBBox);a=s(t,n,i,this.toBBox);o=p(r,a);u=h(r)+h(a);if(o<l){l=o;f=n;c=u<c?u:c}else if(o===l){if(u<c){c=u;f=n}}}return f},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c,a=this._allDistMargin(t,e,i,n),o=this._allDistMargin(t,e,i,r);if(a<o)t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r=this.toBBox,a=s(t,0,e,r),o=s(t,i-e,i,r),l=f(a)+f(o),c,h;for(c=e;c<i-e;c++){h=t.children[c];u(a,t.leaf?r(h):h);l+=f(a)}for(c=i-e-1;c>=e;c--){h=t.children[c];u(o,t.leaf?r(h):h);l+=f(o)}return l},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--){u(e[n],t)}},_condense:function(t){for(var e=t.length-1,i;e>=0;e--){if(t[e].children.length===0){if(e>0){i=t[e-1].children;i.splice(i.indexOf(t[e]),1)}else this.clear()}else o(t[e],this.toBBox)}},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0]));this.compareMinY=new Function("a","b",e.join(t[1]));this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};function a(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++){if(i(t,e[n]))return n}return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,r){if(!r)r=m(null);r.minX=Infinity;r.minY=Infinity;r.maxX=-Infinity;r.maxY=-Infinity;for(var a=e,o;a<i;a++){o=t.children[a];u(r,t.leaf?n(o):o)}return r}function u(t,e){t.minX=Math.min(t.minX,e.minX);t.minY=Math.min(t.minY,e.minY);t.maxX=Math.max(t.maxX,e.maxX);t.maxY=Math.max(t.maxY,e.maxY);return t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),a=Math.min(t.maxY,e.maxY);return Math.max(0,r-i)*Math.max(0,a-n)}function v(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:true,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function y(t,e,i,r,a){var o=[e,i],s;while(o.length){i=o.pop();e=o.pop();if(i-e<=r)continue;s=e+Math.ceil((i-e)/r/2)*r;n(t,s,e,i,a);o.push(e,s,s,i)}}},function(t,e,i){"use strict";var n=i(65);var r=i(330);var a=i.n(r);var o=angular.module("ngeoDownload",[]);o.factory_=function(){function t(t,e,i){var a=i!==undefined&&!n["b"].isSafari()?i:"text/plain;charset=utf-8";var o=new Blob([t],{type:a});Object(r["saveAs"])(o,e)}return t};o.factory("ngeoDownload",o.factory_);e["a"]=o},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});i.d(e,"c",function(){return a});function n(t,e,i,n){var r=0;var a=t[i-n];var o=t[i-n+1];for(;e<i;e+=n){var s=t[e];var u=t[e+1];r+=o*s-a*u;a=s;o=u}return r/2}function r(t,e,i,r){var a=0;for(var o=0,s=i.length;o<s;++o){var u=i[o];a+=n(t,e,u,r);e=u}return a}function a(t,e,i,n){var a=0;for(var o=0,s=i.length;o<s;++o){var u=i[o];a+=r(t,e,u,n);e=u[u.length-1]}return a}},function(t,e,i){"use strict";var n=i(1);var r=i(155);var a=i(166);var o=function t(e){var i=e||{};var n=i.projection!==undefined?i.projection:"EPSG:3857";var o=i.tileGrid!==undefined?i.tileGrid:Object(a["b"])({extent:Object(a["c"])(n),maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});r["a"].call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:i.opaque,projection:n,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==undefined?i.wrapX:true,transition:i.transition})};Object(n["d"])(o,r["a"]);e["a"]=o},function(t,e,i){"use strict";var n=i(1);var r=function t(e,i){this.data=e;this.columnDefs=i;this.selectedRows={}};r.getRowUid=function(t){return""+n["c"](t)};r.prototype.isRowSelected=function(t){return!!this.selectedRows[r.getRowUid(t)]};r.prototype.getSelectedCount=function(){return Object.keys(this.selectedRows).length};r.prototype.getSelectedRows=function(){var t=this;return this.data.filter(function(e){return t.isRowSelected(e)})};r.prototype.selectRow=function(t){var e=r.getRowUid(t);this.selectedRows[e]=t};r.prototype.toggleRow=function(t){var e=r.getRowUid(t);var i=this.isRowSelected(t);if(i){delete this.selectedRows[e]}else{this.selectedRows[e]=t}};r.prototype.selectAll=function(){var t=this;this.data.forEach(function(e){t.selectRow(e)})};r.prototype.unselectAll=function(){for(var t in this.selectedRows){delete this.selectedRows[t]}};r.prototype.invertSelection=function(){var t=this;this.data.forEach(function(e){t.toggleRow(e)})};r.module=angular.module("ngeoGridConfig",[]);e["a"]=r},function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i(1);var r=i(20);var a=i(281);var o=i(28);var s=i(40);var u=i(7);var l=i(98);var c=i(179);var h=i(110);var f=i(166);var d=function t(e){c["a"].call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,state:e.state,wrapX:e.wrapX});this.opaque_=e.opaque!==undefined?e.opaque:false;this.tilePixelRatio_=e.tilePixelRatio!==undefined?e.tilePixelRatio:1;this.tileGrid=e.tileGrid!==undefined?e.tileGrid:null;this.tileCache=new a["a"](e.cacheSize);this.tmpSize=[0,0];this.key_="";this.tileOptions={transition:e.transition}};Object(n["d"])(d,c["a"]);d.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};d.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);if(i){i.expireCache(e)}};d.prototype.forEachLoadedTile=function(t,e,i,n){var r=this.getTileCacheForProjection(t);if(!r){return false}var a=true;var s=void 0,u=void 0,l=void 0;for(var c=i.minX;c<=i.maxX;++c){for(var f=i.minY;f<=i.maxY;++f){u=Object(h["d"])(e,c,f);l=false;if(r.containsKey(u)){s=r.get(u);l=s.getState()===o["a"].LOADED;if(l){l=n(s)!==false}}if(!l){a=false}}}return a};d.prototype.getGutter=function(t){return 0};d.prototype.getKey=function(){return this.key_};d.prototype.setKey=function(t){if(this.key_!==t){this.key_=t;this.changed()}};d.prototype.getOpaque=function(t){return this.opaque_};d.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};d.prototype.getTile=function(t,e,i,n,r){};d.prototype.getTileGrid=function(){return this.tileGrid};d.prototype.getTileGridForProjection=function(t){if(!this.tileGrid){return Object(f["d"])(t)}else{return this.tileGrid}};d.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(e&&!Object(u["f"])(e,t)){return null}else{return this.tileCache}};d.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_};d.prototype.getTilePixelSize=function(t,e,i){var n=this.getTileGridForProjection(i);var r=this.getTilePixelRatio(e);var a=Object(l["d"])(n.getTileSize(t),this.tmpSize);if(r==1){return a}else{return Object(l["c"])(a,r,this.tmpSize)}};d.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=e!==undefined?e:this.getProjection();var n=this.getTileGridForProjection(i);if(this.getWrapX()&&i.isGlobal()){t=Object(f["e"])(n,t,i)}return Object(h["f"])(t,n)?t:null};d.prototype.refresh=function(){this.tileCache.clear();this.changed()};d.prototype.useTile=r["c"];var p=function t(e,i){s["a"].call(this,e);this.tile=i};Object(n["d"])(p,s["a"]);e["b"]=d},function(t,e,i){"use strict";i.d(e,"a",function(){return a});i.d(e,"b",function(){return o});i.d(e,"c",function(){return s});var n=i(9);var r=i(12);function a(t,e,i,a,o,s){var u=NaN;var l=NaN;var c=(i-e)/a;if(c===1){u=t[e];l=t[e+1]}else if(c==2){u=(1-o)*t[e]+o*t[e+a];l=(1-o)*t[e+1]+o*t[e+a+1]}else if(c!==0){var h=t[e];var f=t[e+1];var d=0;var p=[0];for(var v=e+a;v<i;v+=a){var g=t[v];var m=t[v+1];d+=Math.sqrt((g-h)*(g-h)+(m-f)*(m-f));p.push(d);h=g;f=m}var y=o*d;var _=Object(n["a"])(p,y);if(_<0){var b=(y-p[-_-2])/(p[-_-1]-p[-_-2]);var w=e+(-_-2)*a;u=Object(r["c"])(t[w],t[w+a],b);l=Object(r["c"])(t[w+1],t[w+a+1],b)}else{u=t[e+_*a];l=t[e+_*a+1]}}if(s){s[0]=u;s[1]=l;return s}else{return[u,l]}}function o(t,e,i,n,a,o){if(i==e){return null}var s=void 0;if(a<t[e+n-1]){if(o){s=t.slice(e,e+n);s[n-1]=a;return s}else{return null}}else if(t[i-1]<a){if(o){s=t.slice(i-n,i);s[n-1]=a;return s}else{return null}}if(a==t[e+n-1]){return t.slice(e,e+n)}var u=e/n;var l=i/n;while(u<l){var c=u+l>>1;if(a<t[(c+1)*n-1]){l=c}else{u=c+1}}var h=t[u*n-1];if(a==h){return t.slice((u-1)*n,(u-1)*n+n)}var f=t[(u+1)*n-1];var d=(a-h)/(f-h);s=[];for(var p=0;p<n-1;++p){s.push(Object(r["c"])(t[(u-1)*n+p],t[u*n+p],d))}s.push(a);return s}function s(t,e,i,n,r,a,s){if(s){return o(t,e,i[i.length-1],n,r,a)}var u=void 0;if(r<t[n-1]){if(a){u=t.slice(0,n);u[n-1]=r;return u}else{return null}}if(t[t.length-1]<r){if(a){u=t.slice(t.length-n);u[n-1]=r;return u}else{return null}}for(var l=0,c=i.length;l<c;++l){var h=i[l];if(e==h){continue}if(r<t[e+n-1]){return null}else if(r<=t[h-1]){return o(t,e,h,n,r,false)}e=h}return null}},function(t,e,i){"use strict";var n=function t(e){this.opacity_=e.opacity;this.rotateWithView_=e.rotateWithView;this.rotation_=e.rotation;this.scale_=e.scale;this.snapToPixel_=e.snapToPixel};n.prototype.getOpacity=function(){return this.opacity_};n.prototype.getRotateWithView=function(){return this.rotateWithView_};n.prototype.getRotation=function(){return this.rotation_};n.prototype.getScale=function(){return this.scale_};n.prototype.getSnapToPixel=function(){return this.snapToPixel_};n.prototype.getAnchor=function(){};n.prototype.getImage=function(t){};n.prototype.getHitDetectionImage=function(t){};n.prototype.getImageState=function(){};n.prototype.getImageSize=function(){};n.prototype.getHitDetectionImageSize=function(){};n.prototype.getOrigin=function(){};n.prototype.getSize=function(){};n.prototype.setOpacity=function(t){this.opacity_=t};n.prototype.setRotateWithView=function(t){this.rotateWithView_=t};n.prototype.setRotation=function(t){this.rotation_=t};n.prototype.setScale=function(t){this.scale_=t};n.prototype.setSnapToPixel=function(t){this.snapToPixel_=t};n.prototype.listenImageChange=function(t,e){};n.prototype.load=function(){};n.prototype.unlistenImageChange=function(t,e){};e["a"]=n},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(114),i(316)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.extend(t.ui,{datepicker:{version:"1.12.1"}});var e;function i(t){var e,i;while(t.length&&t[0]!==document){e=t.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){i=parseInt(t.css("zIndex"),10);if(!isNaN(i)&&i!==0){return i}}t=t.parent()}return 0}function n(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};t.extend(this._defaults,this.regional[""]);this.regional.en=t.extend(true,{},this.regional[""]);this.regional["en-US"]=t.extend(true,{},this.regional.en);this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){o(this._defaults,t||{});return this},_attachDatepicker:function(e,i){var n,r,a;n=e.nodeName.toLowerCase();r=n==="div"||n==="span";if(!e.id){this.uuid+=1;e.id="dp"+this.uuid}a=this._newInst(t(e),r);a.settings=t.extend({},i||{});if(n==="input"){this._connectDatepicker(e,a)}else if(r){this._inlineDatepicker(e,a)}},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:!i?this.dpDiv:r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]);i.trigger=t([]);if(n.hasClass(this.markerClassName)){return}this._attachments(n,i);n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(i);t.data(e,"datepicker",i);if(i.settings.disabled){this._disableDatepicker(e)}},_attachments:function(e,i){var n,r,a,o=this._get(i,"appendText"),s=this._get(i,"isRTL");if(i.append){i.append.remove()}if(o){i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>");e[s?"before":"after"](i.append)}e.off("focus",this._showDatepicker);if(i.trigger){i.trigger.remove()}n=this._get(i,"showOn");if(n==="focus"||n==="both"){e.on("focus",this._showDatepicker)}if(n==="button"||n==="both"){r=this._get(i,"buttonText");a=this._get(i,"buttonImage");i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(!a?r:t("<img/>").attr({src:a,alt:r,title:r})));e[s?"before":"after"](i.trigger);i.trigger.on("click",function(){if(t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]){t.datepicker._hideDatepicker()}else if(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]){t.datepicker._hideDatepicker();t.datepicker._showDatepicker(e[0])}else{t.datepicker._showDatepicker(e[0])}return false})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,a=new Date(2009,12-1,20),o=this._get(t,"dateFormat");if(o.match(/[DM]/)){e=function(t){i=0;n=0;for(r=0;r<t.length;r++){if(t[r].length>i){i=t[r].length;n=r}}return n};a.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort")));a.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())}t.input.attr("size",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,i){var n=t(e);if(n.hasClass(this.markerClassName)){return}n.addClass(this.markerClassName).append(i.dpDiv);t.data(e,"datepicker",i);this._setDate(i,this._getDefaultDate(i),true);this._updateDatepicker(i);this._updateAlternate(i);if(i.settings.disabled){this._disableDatepicker(e)}i.dpDiv.css("display","block")},_dialogDatepicker:function(e,i,n,r,a){var s,u,l,c,h,f=this._dialogInst;if(!f){this.uuid+=1;s="dp"+this.uuid;this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);t("body").append(this._dialogInput);f=this._dialogInst=this._newInst(this._dialogInput,false);f.settings={};t.data(this._dialogInput[0],"datepicker",f)}o(f.settings,r||{});i=i&&i.constructor===Date?this._formatDate(f,i):i;this._dialogInput.val(i);this._pos=a?a.length?a:[a.pageX,a.pageY]:null;if(!this._pos){u=document.documentElement.clientWidth;l=document.documentElement.clientHeight;c=document.documentElement.scrollLeft||document.body.scrollLeft;h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[u/2-100+c,l/2-150+h]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");f.settings.onSelect=n;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(t.blockUI){t.blockUI(this.dpDiv)}t.data(this._dialogInput[0],"datepicker",f);return this},_destroyDatepicker:function(i){var n,r=t(i),a=t.data(i,"datepicker");if(!r.hasClass(this.markerClassName)){return}n=i.nodeName.toLowerCase();t.removeData(i,"datepicker");if(n==="input"){a.append.remove();a.trigger.remove();r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)}else if(n==="div"||n==="span"){r.removeClass(this.markerClassName).empty()}if(e===a){e=null}},_enableDatepicker:function(e){var i,n,r=t(e),a=t.data(e,"datepicker");if(!r.hasClass(this.markerClassName)){return}i=e.nodeName.toLowerCase();if(i==="input"){e.disabled=false;a.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(i==="div"||i==="span"){n=r.children("."+this._inlineClass);n.children().removeClass("ui-state-disabled");n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t})},_disableDatepicker:function(e){var i,n,r=t(e),a=t.data(e,"datepicker");if(!r.hasClass(this.markerClassName)){return}i=e.nodeName.toLowerCase();if(i==="input"){e.disabled=true;a.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(i==="div"||i==="span"){n=r.children("."+this._inlineClass);n.children().addClass("ui-state-disabled");n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t});this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(t){if(!t){return false}for(var e=0;e<this._disabledInputs.length;e++){if(this._disabledInputs[e]===t){return true}}return false},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,a,s,u,l=this._getInst(e);if(arguments.length===2&&typeof i==="string"){return i==="defaults"?t.extend({},t.datepicker._defaults):l?i==="all"?t.extend({},l.settings):this._get(l,i):null}r=i||{};if(typeof i==="string"){r={};r[i]=n}if(l){if(this._curInst===l){this._hideDatepicker()}a=this._getDateDatepicker(e,true);s=this._getMinMaxDate(l,"min");u=this._getMinMaxDate(l,"max");o(l.settings,r);if(s!==null&&r.dateFormat!==undefined&&r.minDate===undefined){l.settings.minDate=this._formatDate(l,s)}if(u!==null&&r.dateFormat!==undefined&&r.maxDate===undefined){l.settings.maxDate=this._formatDate(l,u)}if("disabled"in r){if(r.disabled){this._disableDatepicker(e)}else{this._enableDatepicker(e)}}this._attachments(t(e),l);this._autoSize(l);this._setDate(l,a);this._updateAlternate(l);this._updateDatepicker(l)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);if(e){this._updateDatepicker(e)}},_setDateDatepicker:function(t,e){var i=this._getInst(t);if(i){this._setDate(i,e);this._updateDatepicker(i);this._updateAlternate(i)}},_getDateDatepicker:function(t,e){var i=this._getInst(t);if(i&&!i.inline){this._setDateFromField(i,e)}return i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,a=t.datepicker._getInst(e.target),o=true,s=a.dpDiv.is(".ui-datepicker-rtl");a._keyEvent=true;if(t.datepicker._datepickerShowing){switch(e.keyCode){case 9:t.datepicker._hideDatepicker();o=false;break;case 13:r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv);if(r[0]){t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,r[0])}i=t.datepicker._get(a,"onSelect");if(i){n=t.datepicker._formatDate(a);i.apply(a.input?a.input[0]:null,[n,a])}else{t.datepicker._hideDatepicker()}return false;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 35:if(e.ctrlKey||e.metaKey){t.datepicker._clearDate(e.target)}o=e.ctrlKey||e.metaKey;break;case 36:if(e.ctrlKey||e.metaKey){t.datepicker._gotoToday(e.target)}o=e.ctrlKey||e.metaKey;break;case 37:if(e.ctrlKey||e.metaKey){t.datepicker._adjustDate(e.target,s?+1:-1,"D")}o=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey){t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M")}break;case 38:if(e.ctrlKey||e.metaKey){t.datepicker._adjustDate(e.target,-7,"D")}o=e.ctrlKey||e.metaKey;break;case 39:if(e.ctrlKey||e.metaKey){t.datepicker._adjustDate(e.target,s?-1:+1,"D")}o=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey){t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M")}break;case 40:if(e.ctrlKey||e.metaKey){t.datepicker._adjustDate(e.target,+7,"D")}o=e.ctrlKey||e.metaKey;break;default:o=false}}else if(e.keyCode===36&&e.ctrlKey){t.datepicker._showDatepicker(this)}else{o=false}if(o){e.preventDefault();e.stopPropagation()}},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput")){i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat"));n=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||(n<" "||!i||i.indexOf(n)>-1)}},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal){try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n));if(i){t.datepicker._setDateFromField(n);t.datepicker._updateAlternate(n);t.datepicker._updateDatepicker(n)}}catch(t){}}return true},_showDatepicker:function(e){e=e.target||e;if(e.nodeName.toLowerCase()!=="input"){e=t("input",e.parentNode)[0]}if(t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e){return}var n,r,a,s,u,l,c;n=t.datepicker._getInst(e);if(t.datepicker._curInst&&t.datepicker._curInst!==n){t.datepicker._curInst.dpDiv.stop(true,true);if(n&&t.datepicker._datepickerShowing){t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])}}r=t.datepicker._get(n,"beforeShow");a=r?r.apply(e,[e,n]):{};if(a===false){return}o(n.settings,a);n.lastVal=null;t.datepicker._lastInput=e;t.datepicker._setDateFromField(n);if(t.datepicker._inDialog){e.value=""}if(!t.datepicker._pos){t.datepicker._pos=t.datepicker._findPos(e);t.datepicker._pos[1]+=e.offsetHeight}s=false;t(e).parents().each(function(){s|=t(this).css("position")==="fixed";return!s});u={left:t.datepicker._pos[0],top:t.datepicker._pos[1]};t.datepicker._pos=null;n.dpDiv.empty();n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});t.datepicker._updateDatepicker(n);u=t.datepicker._checkOffset(n,u,s);n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"});if(!n.inline){l=t.datepicker._get(n,"showAnim");c=t.datepicker._get(n,"duration");n.dpDiv.css("z-index",i(t(e))+1);t.datepicker._datepickerShowing=true;if(t.effects&&t.effects.effect[l]){n.dpDiv.show(l,t.datepicker._get(n,"showOptions"),c)}else{n.dpDiv[l||"show"](l?c:null)}if(t.datepicker._shouldFocusInput(n)){n.input.trigger("focus")}t.datepicker._curInst=n}},_updateDatepicker:function(i){this.maxRows=4;e=i;i.dpDiv.empty().append(this._generateHTML(i));this._attachHandlers(i);var n,r=this._getNumberOfMonths(i),o=r[1],s=17,u=i.dpDiv.find("."+this._dayOverClass+" a");if(u.length>0){a.apply(u.get(0))}i.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(o>1){i.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",s*o+"em")}i.dpDiv[(r[0]!==1||r[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");i.dpDiv[(this._get(i,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(i===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(i)){i.input.trigger("focus")}if(i.yearshtml){n=i.yearshtml;setTimeout(function(){if(n===i.yearshtml&&i.yearshtml){i.dpDiv.find("select.ui-datepicker-year:first").replaceWith(i.yearshtml)}n=i.yearshtml=null},0)}},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:t(document).scrollTop());i.left-=this._get(e,"isRTL")?r-o:0;i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0;i.top-=n&&i.top===e.input.offset().top+s?t(document).scrollTop():0;i.left-=Math.min(i.left,i.left+r>u&&u>r?Math.abs(i.left+r-u):0);i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+s):0);return i},_findPos:function(e){var i,n=this._getInst(e),r=this._get(n,"isRTL");while(e&&(e.type==="hidden"||e.nodeType!==1||t.expr.filters.hidden(e))){e=e[r?"previousSibling":"nextSibling"]}i=t(e).offset();return[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,a,o=this._curInst;if(!o||e&&o!==t.data(e,"datepicker")){return}if(this._datepickerShowing){i=this._get(o,"showAnim");n=this._get(o,"duration");r=function(){t.datepicker._tidyDialog(o)};if(t.effects&&(t.effects.effect[i]||t.effects[i])){o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,r)}else{o.dpDiv[i==="slideDown"?"slideUp":i==="fadeIn"?"fadeOut":"hide"](i?n:null,r)}if(!i){r()}this._datepickerShowing=false;a=this._get(o,"onClose");if(a){a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(t.blockUI){t.unblockUI();t("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!t.datepicker._curInst){return}var i=t(e.target),n=t.datepicker._getInst(i[0]);if(i[0].id!==t.datepicker._mainDivId&&i.parents("#"+t.datepicker._mainDivId).length===0&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&!(t.datepicker._inDialog&&t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n){t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),a=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0])){return}this._adjustInstDate(a,i+(n==="M"?this._get(a,"showCurrentAtPos"):0),n);this._updateDatepicker(a)},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);if(this._get(r,"gotoCurrent")&&r.currentDay){r.selectedDay=r.currentDay;r.drawMonth=r.selectedMonth=r.currentMonth;r.drawYear=r.selectedYear=r.currentYear}else{i=new Date;r.selectedDay=i.getDate();r.drawMonth=r.selectedMonth=i.getMonth();r.drawYear=r.selectedYear=i.getFullYear()}this._notifyChange(r);this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),a=this._getInst(r[0]);a["selected"+(n==="M"?"Month":"Year")]=a["draw"+(n==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(a);this._adjustDate(r)},_selectDay:function(e,i,n,r){var a,o=t(e);if(t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])){return}a=this._getInst(o[0]);a.selectedDay=a.currentDay=t("a",r).html();a.selectedMonth=a.currentMonth=i;a.selectedYear=a.currentYear=n;this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),a=this._getInst(r[0]);i=i!=null?i:this._formatDate(a);if(a.input){a.input.val(i)}this._updateAlternate(a);n=this._get(a,"onSelect");if(n){n.apply(a.input?a.input[0]:null,[i,a])}else if(a.input){a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];if(typeof a.input[0]!=="object"){a.input.trigger("focus")}this._lastInput=null}},_updateAlternate:function(e){var i,n,r,a=this._get(e,"altField");if(a){i=this._get(e,"altFormat")||this._get(e,"dateFormat");n=this._getDate(e);r=this.formatDate(i,n,this._getFormatConfig(e));t(a).val(r)}},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));e=i.getTime();i.setMonth(0);i.setDate(1);return Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(e==null||i==null){throw"Invalid arguments"}i=typeof i==="object"?i.toString():i+"";if(i===""){return null}var r,a,o,s=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,l=typeof u!=="string"?u:(new Date).getFullYear()%100+parseInt(u,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,d=(n?n.monthNames:null)||this._defaults.monthNames,p=-1,v=-1,g=-1,m=-1,y=false,_,b=function(t){var i=r+1<e.length&&e.charAt(r+1)===t;if(i){r++}return i},w=function(t){var e=b(t),n=t==="@"?14:t==="!"?20:t==="y"&&e?4:t==="o"?3:2,r=t==="y"?n:1,a=new RegExp("^\\d{"+r+","+n+"}"),o=i.substring(s).match(a);if(!o){throw"Missing number at position "+s}s+=o[0].length;return parseInt(o[0],10)},O=function(e,n,r){var a=-1,o=t.map(b(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});t.each(o,function(t,e){var n=e[1];if(i.substr(s,n.length).toLowerCase()===n.toLowerCase()){a=e[0];s+=n.length;return false}});if(a!==-1){return a+1}else{throw"Unknown name at position "+s}},x=function(){if(i.charAt(s)!==e.charAt(r)){throw"Unexpected literal at position "+s}s++};for(r=0;r<e.length;r++){if(y){if(e.charAt(r)==="'"&&!b("'")){y=false}else{x()}}else{switch(e.charAt(r)){case"d":g=w("d");break;case"D":O("D",c,h);break;case"o":m=w("o");break;case"m":v=w("m");break;case"M":v=O("M",f,d);break;case"y":p=w("y");break;case"@":_=new Date(w("@"));p=_.getFullYear();v=_.getMonth()+1;g=_.getDate();break;case"!":_=new Date((w("!")-this._ticksTo1970)/1e4);p=_.getFullYear();v=_.getMonth()+1;g=_.getDate();break;case"'":if(b("'")){x()}else{y=true}break;default:x()}}}if(s<i.length){o=i.substr(s);if(!/^\s+/.test(o)){throw"Extra/unparsed characters found in date: "+o}}if(p===-1){p=(new Date).getFullYear()}else if(p<100){p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=l?0:-100)}if(m>-1){v=1;g=m;do{a=this._getDaysInMonth(p,v-1);if(g<=a){break}v++;g-=a}while(true)}_=this._daylightSavingAdjust(new Date(p,v-1,g));if(_.getFullYear()!==p||_.getMonth()+1!==v||_.getDate()!==g){throw"Invalid date"}return _},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(t,e,i){if(!e){return""}var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,u=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;if(i){n++}return i},l=function(t,e,i){var n=""+e;if(u(t)){while(n.length<i){n="0"+n}}return n},c=function(t,e,i,n){return u(t)?n[e]:i[e]},h="",f=false;if(e){for(n=0;n<t.length;n++){if(f){if(t.charAt(n)==="'"&&!u("'")){f=false}else{h+=t.charAt(n)}}else{switch(t.charAt(n)){case"d":h+=l("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,a);break;case"o":h+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),o,s);break;case"y":h+=u("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=e.getTime()*1e4+this._ticksTo1970;break;case"'":if(u("'")){h+="'"}else{f=true}break;default:h+=t.charAt(n)}}}}return h},_possibleChars:function(t){var e,i="",n=false,r=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;if(n){e++}return n};for(e=0;e<t.length;e++){if(n){if(t.charAt(e)==="'"&&!r("'")){n=false}else{i+=t.charAt(e)}}else{switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":if(r("'")){i+="'"}else{n=true}break;default:i+=t.charAt(e)}}}return i},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()===t.lastVal){return}var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),a=r,o=this._getFormatConfig(t);try{a=this.parseDate(i,n,o)||r}catch(t){n=e?"":n}t.selectedDay=a.getDate();t.drawMonth=t.selectedMonth=a.getMonth();t.drawYear=t.selectedYear=a.getFullYear();t.currentDay=n?a.getDate():0;t.currentMonth=n?a.getMonth():0;t.currentYear=n?a.getFullYear():0;this._adjustInstDate(t)},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(t){var e=new Date;e.setDate(e.getDate()+t);return e},a=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=n.getFullYear(),a=n.getMonth(),o=n.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);while(u){switch(u[2]||"d"){case"d":case"D":o+=parseInt(u[1],10);break;case"w":case"W":o+=parseInt(u[1],10)*7;break;case"m":case"M":a+=parseInt(u[1],10);o=Math.min(o,t.datepicker._getDaysInMonth(r,a));break;case"y":case"Y":r+=parseInt(u[1],10);o=Math.min(o,t.datepicker._getDaysInMonth(r,a));break}u=s.exec(i)}return new Date(r,a,o)},o=i==null||i===""?n:typeof i==="string"?a(i):typeof i==="number"?isNaN(i)?n:r(i):new Date(i.getTime());o=o&&o.toString()==="Invalid Date"?n:o;if(o){o.setHours(0);o.setMinutes(0);o.setSeconds(0);o.setMilliseconds(0)}return this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){if(!t){return null}t.setHours(t.getHours()>12?t.getHours()+2:0);return t},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate();t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth();t.drawYear=t.selectedYear=t.currentYear=o.getFullYear();if((r!==t.selectedMonth||a!==t.selectedYear)&&!i){this._notifyChange(t)}this._adjustInstDate(t);if(t.input){t.input.val(n?"":this._formatDate(t))}},_getDate:function(t){var e=!t.currentYear||t.input&&t.input.val()===""?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){t.datepicker._selectMonthYear(n,this,"M");return false},selectYear:function(){t.datepicker._selectMonthYear(n,this,"Y");return false}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,a,o,s,u,l,c,h,f,d,p,v,g,m,y,_,b,w,O,x,S,C,T,E,M,j,k,R,A,I,P,D,N,$,L,F,G=new Date,U=this._daylightSavingAdjust(new Date(G.getFullYear(),G.getMonth(),G.getDate())),H=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),z=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),B=this._get(t,"showCurrentAtPos"),q=this._get(t,"stepMonths"),K=V[0]!==1||V[1]!==1,X=this._daylightSavingAdjust(!t.currentDay?new Date(9999,9,9):new Date(t.currentYear,t.currentMonth,t.currentDay)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-B,tt=t.drawYear;if(J<0){J+=12;tt--}if(Q){e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-V[0]*V[1]+1,Q.getDate()));e=Z&&e<Z?Z:e;while(this._daylightSavingAdjust(new Date(tt,J,1))>e){J--;if(J<0){J=11;tt--}}}t.drawMonth=J;t.drawYear=tt;i=this._get(t,"prevText");i=!z?i:this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-q,1)),this._getFormatConfig(t));n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>";r=this._get(t,"nextText");r=!z?r:this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+q,1)),this._getFormatConfig(t));a=this._canAdjustMonth(t,+1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>";o=this._get(t,"currentText");s=this._get(t,"gotoCurrent")&&t.currentDay?X:U;o=!z?o:this.formatDate(o,s,this._getFormatConfig(t));u=!t.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>":"";l=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?u:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+o+"</button>":"")+(H?"":u)+"</div>":"";c=parseInt(this._get(t,"firstDay"),10);c=isNaN(c)?0:c;h=this._get(t,"showWeek");f=this._get(t,"dayNames");d=this._get(t,"dayNamesMin");p=this._get(t,"monthNames");v=this._get(t,"monthNamesShort");g=this._get(t,"beforeShowDay");m=this._get(t,"showOtherMonths");y=this._get(t,"selectOtherMonths");_=this._getDefaultDate(t);b="";for(O=0;O<V[0];O++){x="";this.maxRows=4;for(S=0;S<V[1];S++){C=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay));T=" ui-corner-all";E="";if(K){E+="<div class='ui-datepicker-group";if(V[1]>1){switch(S){case 0:E+=" ui-datepicker-group-first";T=" ui-corner-"+(H?"right":"left");break;case V[1]-1:E+=" ui-datepicker-group-last";T=" ui-corner-"+(H?"left":"right");break;default:E+=" ui-datepicker-group-middle";T="";break}}E+="'>"}E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&O===0?H?a:n:"")+(/all|right/.test(T)&&O===0?H?n:a:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,O>0||S>0,p,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";M=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"";for(w=0;w<7;w++){j=(w+c)%7;M+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+f[j]+"'>"+d[j]+"</span></th>"}E+=M+"</tr></thead><tbody>";k=this._getDaysInMonth(tt,J);if(tt===t.selectedYear&&J===t.selectedMonth){t.selectedDay=Math.min(t.selectedDay,k)}R=(this._getFirstDayOfMonth(tt,J)-c+7)%7;A=Math.ceil((R+k)/7);I=K?this.maxRows>A?this.maxRows:A:A;this.maxRows=I;P=this._daylightSavingAdjust(new Date(tt,J,1-R));for(D=0;D<I;D++){E+="<tr>";N=!h?"":"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>";for(w=0;w<7;w++){$=g?g.apply(t.input?t.input[0]:null,[P]):[true,""];L=P.getMonth()!==J;F=L&&!y||!$[0]||Z&&P<Z||Q&&P>Q;N+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(P.getTime()===C.getTime()&&J===t.selectedMonth&&t._keyEvent||_.getTime()===P.getTime()&&_.getTime()===C.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!m?"":" "+$[1]+(P.getTime()===X.getTime()?" "+this._currentClass:"")+(P.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+((!L||m)&&$[2]?" title='"+$[2].replace(/'/g,"&#39;")+"'":"")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(L&&!m?"&#xa0;":F?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===U.getTime()?" ui-state-highlight":"")+(P.getTime()===X.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>";P.setDate(P.getDate()+1);P=this._daylightSavingAdjust(P)}E+=N+"</tr>"}J++;if(J>11){J=0;tt++}E+="</tbody></table>"+(K?"</div>"+(V[0]>0&&S===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");x+=E}b+=x}b+=l;t._keyEvent=false;return b},_generateMonthYearHeader:function(t,e,i,n,r,a,o,s){var u,l,c,h,f,d,p,v,g=this._get(t,"changeMonth"),m=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(a||!g){b+="<span class='ui-datepicker-month'>"+o[e]+"</span>"}else{u=n&&n.getFullYear()===i;l=r&&r.getFullYear()===i;b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(c=0;c<12;c++){if((!u||c>=n.getMonth())&&(!l||c<=r.getMonth())){b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>"}}b+="</select>"}if(!y){_+=b+(a||!(g&&m)?"&#xa0;":"")}if(!t.yearshtml){t.yearshtml="";if(a||!m){_+="<span class='ui-datepicker-year'>"+i+"</span>"}else{h=this._get(t,"yearRange").split(":");f=(new Date).getFullYear();d=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e};p=d(h[0]);v=Math.max(p,d(h[1]||""));p=n?Math.max(p,n.getFullYear()):p;v=r?Math.min(v,r.getFullYear()):v;t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;p<=v;p++){t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>"}t.yearshtml+="</select>";_+=t.yearshtml;t.yearshtml=null}}_+=this._get(t,"yearSuffix");if(y){_+=(a||!(g&&m)?"&#xa0;":"")+b}_+="</div>";return _},_adjustInstDate:function(t,e,i){var n=t.selectedYear+(i==="Y"?e:0),r=t.selectedMonth+(i==="M"?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+(i==="D"?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,a)));t.selectedDay=o.getDate();t.drawMonth=t.selectedMonth=o.getMonth();t.drawYear=t.selectedYear=o.getFullYear();if(i==="M"||i==="Y"){this._notifyChange(t)}},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&e<i?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");if(e){e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])}},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return e==null?[1,1]:typeof e==="number"?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,n+(e<0?e:r[0]*r[1]),1));if(e<0){a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth()))}return this._isInRange(t,a)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),o=null,s=null,u=this._get(t,"yearRange");if(u){i=u.split(":");n=(new Date).getFullYear();o=parseInt(i[0],10);s=parseInt(i[1],10);if(i[0].match(/[+\-].*/)){o+=n}if(i[1].match(/[+\-].*/)){s+=n}}return(!r||e.getTime()>=r.getTime())&&(!a||e.getTime()<=a.getTime())&&(!o||e.getFullYear()>=o)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");e=typeof e!=="string"?e:(new Date).getFullYear()%100+parseInt(e,10);return{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){if(!e){t.currentDay=t.selectedDay;t.currentMonth=t.selectedMonth;t.currentYear=t.selectedYear}var r=e?typeof e==="object"?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}});function r(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){t(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){t(this).removeClass("ui-datepicker-next-hover")}}).on("mouseover",i,a)}function a(){if(!t.datepicker._isDisabledDatepicker(e.inline?e.dpDiv.parent()[0]:e.input[0])){t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");t(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){t(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){t(this).addClass("ui-datepicker-next-hover")}}}function o(e,i){t.extend(e,i);for(var n in i){if(i[n]==null){e[n]=i[n]}}return e}t.fn.datepicker=function(e){if(!this.length){return this}if(!t.datepicker.initialized){t(document).on("mousedown",t.datepicker._checkExternalClick);t.datepicker.initialized=true}if(t("#"+t.datepicker._mainDivId).length===0){t("body").append(t.datepicker.dpDiv)}var i=Array.prototype.slice.call(arguments,1);if(typeof e==="string"&&(e==="isDisabled"||e==="getDate"||e==="widget")){return t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))}if(e==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))}return this.each(function(){typeof e==="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})};t.datepicker=new n;t.datepicker.initialized=false;t.datepicker.uuid=(new Date).getTime();t.datepicker.version="1.12.1";return t.datepicker})},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(1,eval)("this")}catch(t){if(typeof window==="object")i=window}t.exports=i},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";var e=6;var i="AJSAJS";var n="AFAFAF";var r=65;var a=73;var o=79;var s=86;var u=90;var l={forward:c,inverse:h,toPoint:f};function c(t,e){e=e||5;return y(v({lat:t[1],lon:t[0]}),e)}function h(t){var e=g(O(t.toUpperCase()));if(e.lat&&e.lon){return[e.lon,e.lat,e.lon,e.lat]}return[e.left,e.bottom,e.right,e.top]}function f(t){var e=g(O(t.toUpperCase()));if(e.lat&&e.lon){return[e.lon,e.lat]}return[(e.left+e.right)/2,(e.top+e.bottom)/2]}function d(t){return t*(Math.PI/180)}function p(t){return 180*(t/Math.PI)}function v(t){var e=t.lat;var i=t.lon;var n=6378137;var r=.00669438;var a=.9996;var o;var s;var u,l,c,h,f;var p=d(e);var v=d(i);var g;var y;y=Math.floor((i+180)/6)+1;if(i===180){y=60}if(e>=56&&e<64&&i>=3&&i<12){y=32}if(e>=72&&e<84){if(i>=0&&i<9){y=31}else if(i>=9&&i<21){y=33}else if(i>=21&&i<33){y=35}else if(i>=33&&i<42){y=37}}o=(y-1)*6-180+3;g=d(o);s=r/(1-r);u=n/Math.sqrt(1-r*Math.sin(p)*Math.sin(p));l=Math.tan(p)*Math.tan(p);c=s*Math.cos(p)*Math.cos(p);h=Math.cos(p)*(v-g);f=n*((1-r/4-3*r*r/64-5*r*r*r/256)*p-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*p)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*p)-35*r*r*r/3072*Math.sin(6*p));var _=a*u*(h+(1-l+c)*h*h*h/6+(5-18*l+l*l+72*c-58*s)*h*h*h*h*h/120)+5e5;var b=a*(f+u*Math.tan(p)*(h*h/2+(5-l+9*c+4*c*c)*h*h*h*h/24+(61-58*l+l*l+600*c-330*s)*h*h*h*h*h*h/720));if(e<0){b+=1e7}return{northing:Math.round(b),easting:Math.round(_),zoneNumber:y,zoneLetter:m(e)}}function g(t){var e=t.northing;var i=t.easting;var n=t.zoneLetter;var r=t.zoneNumber;if(r<0||r>60){return null}var a=.9996;var o=6378137;var s=.00669438;var u;var l=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s));var c,h,f,d,v,m;var y;var _,b;var w=i-5e5;var O=e;if(n<"N"){O-=1e7}y=(r-1)*6-180+3;u=s/(1-s);m=O/a;_=m/(o*(1-s/4-3*s*s/64-5*s*s*s/256));b=_+(3*l/2-27*l*l*l/32)*Math.sin(2*_)+(21*l*l/16-55*l*l*l*l/32)*Math.sin(4*_)+151*l*l*l/96*Math.sin(6*_);c=o/Math.sqrt(1-s*Math.sin(b)*Math.sin(b));h=Math.tan(b)*Math.tan(b);f=u*Math.cos(b)*Math.cos(b);d=o*(1-s)/Math.pow(1-s*Math.sin(b)*Math.sin(b),1.5);v=w/(c*a);var x=b-c*Math.tan(b)/d*(v*v/2-(5+3*h+10*f-4*f*f-9*u)*v*v*v*v/24+(61+90*h+298*f+45*h*h-252*u-3*f*f)*v*v*v*v*v*v/720);x=p(x);var S=(v-(1+2*h+f)*v*v*v/6+(5-2*f+28*h-3*f*f+8*u+24*h*h)*v*v*v*v*v/120)/Math.cos(b);S=y+p(S);var C;if(t.accuracy){var T=g({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:T.lat,right:T.lon,bottom:x,left:S}}else{C={lat:x,lon:S}}return C}function m(t){var e="Z";if(84>=t&&t>=72){e="X"}else if(72>t&&t>=64){e="W"}else if(64>t&&t>=56){e="V"}else if(56>t&&t>=48){e="U"}else if(48>t&&t>=40){e="T"}else if(40>t&&t>=32){e="S"}else if(32>t&&t>=24){e="R"}else if(24>t&&t>=16){e="Q"}else if(16>t&&t>=8){e="P"}else if(8>t&&t>=0){e="N"}else if(0>t&&t>=-8){e="M"}else if(-8>t&&t>=-16){e="L"}else if(-16>t&&t>=-24){e="K"}else if(-24>t&&t>=-32){e="J"}else if(-32>t&&t>=-40){e="H"}else if(-40>t&&t>=-48){e="G"}else if(-48>t&&t>=-56){e="F"}else if(-56>t&&t>=-64){e="E"}else if(-64>t&&t>=-72){e="D"}else if(-72>t&&t>=-80){e="C"}return e}function y(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+_(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function _(t,e,i){var n=b(i);var r=Math.floor(t/1e5);var a=Math.floor(e/1e5)%20;return w(r,a,n)}function b(t){var i=t%e;if(i===0){i=e}return i}function w(t,e,l){var c=l-1;var h=i.charCodeAt(c);var f=n.charCodeAt(c);var d=h+t-1;var p=f+e;var v=false;if(d>u){d=d-u+r-1;v=true}if(d===a||h<a&&d>a||(d>a||h<a)&&v){d++}if(d===o||h<o&&d>o||(d>o||h<o)&&v){d++;if(d===a){d++}}if(d>u){d=d-u+r-1}if(p>s){p=p-s+r-1;v=true}else{v=false}if(p===a||f<a&&p>a||(p>a||f<a)&&v){p++}if(p===o||f<o&&p>o||(p>o||f<o)&&v){p++;if(p===a){p++}}if(p>s){p=p-s+r-1}var g=String.fromCharCode(d)+String.fromCharCode(p);return g}function O(t){if(t&&t.length===0){throw"MGRSPoint coverting from nothing"}var e=t.length;var i=null;var n="";var r;var a=0;while(!/[A-Z]/.test(r=t.charAt(a))){if(a>=2){throw"MGRSPoint bad conversion from: "+t}n+=r;a++}var o=parseInt(n,10);if(a===0||a+3>e){throw"MGRSPoint bad conversion from: "+t}var s=t.charAt(a++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O"){throw"MGRSPoint zone letter "+s+" not handled: "+t}i=t.substring(a,a+=2);var u=b(o);var l=x(i.charAt(0),u);var c=S(i.charAt(1),u);while(c<C(s)){c+=2e6}var h=e-a;if(h%2!==0){throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t}var f=h/2;var d=0;var p=0;var v,g,m,y,_;if(f>0){v=1e5/Math.pow(10,f);g=t.substring(a,a+f);d=parseFloat(g)*v;m=t.substring(a+f);p=parseFloat(m)*v}y=d+l;_=p+c;return{easting:y,northing:_,zoneLetter:s,zoneNumber:o,accuracy:v}}function x(t,e){var n=i.charCodeAt(e-1);var s=1e5;var l=false;while(n!==t.charCodeAt(0)){n++;if(n===a){n++}if(n===o){n++}if(n>u){if(l){throw"Bad character: "+t}n=r;l=true}s+=1e5}return s}function S(t,e){if(t>"V"){throw"MGRSPoint given invalid Northing "+t}var i=n.charCodeAt(e-1);var u=0;var l=false;while(i!==t.charCodeAt(0)){i++;if(i===a){i++}if(i===o){i++}if(i>s){if(l){throw"Bad character: "+t}i=r;l=true}u+=1e5}return u}function C(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0){return e}else{throw"Invalid zone letter: "+t}}t["default"]=l;t.forward=c;t.inverse=h;t.toPoint=f;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i.d(e,"c",function(){return a});i.d(e,"b",function(){return o});var n=i(108);var r={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(t,e,i,r){var a=this._relativeTime[i];return Object(n["a"])(a)?a(t,e,i,r):a.replace(/%d/i,t)}function o(t,e){var i=this._relativeTime[t>0?"future":"past"];return Object(n["a"])(i)?i(e):i.replace(/%s/i,e)}},function(t,e,i){"use strict";i.d(e,"b",function(){return n});i.d(e,"a",function(){return r});i.d(e,"c",function(){return a});var n="%d";var r=/\d{1,2}/;function a(t){return this._ordinal.replace("%d",t)}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t){if(t!=null){this.set(t)}}},function(t,e,i){"use strict";i.d(e,"b",function(){return s});i.d(e,"a",function(){return u});var n=i(108);var r=i(138);var a=i(215);var o=i(63);function s(t){var e,i;for(i in t){e=t[i];if(Object(n["a"])(e)){this[i]=e}else{this["_"+i]=e}}this._config=t;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function u(t,e){var i=Object(r["a"])({},t),n;for(n in e){if(Object(o["a"])(e,n)){if(Object(a["a"])(t[n])&&Object(a["a"])(e[n])){i[n]={};Object(r["a"])(i[n],t[n]);Object(r["a"])(i[n],e[n])}else if(e[n]!=null){i[n]=e[n]}else{delete i[n]}}}for(n in t){if(Object(o["a"])(t,n)&&!Object(o["a"])(e,n)&&Object(a["a"])(t[n])){i[n]=Object(r["a"])({},i[n])}}return i}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(82);var r=function t(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32};function a(t,e,i){var r=i?Object(n["b"])(i):"null";return e+":"+t+":"+r}r.prototype.clear=function(){this.cache_={};this.cacheSize_=0};r.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];if((t++&3)===0&&!i.hasListener()){delete this.cache_[e];--this.cacheSize_}}}};r.prototype.get=function(t,e,i){var n=a(t,e,i);return n in this.cache_?this.cache_[n]:null};r.prototype.set=function(t,e,i,n){var r=a(t,e,i);this.cache_[r]=n;++this.cacheSize_};r.prototype.setSize=function(t){this.maxCacheSize_=t;this.expire()};var o=r;var s=new r},function(t,e,i){"use strict";var n=i(1);var r=i(182);var a=function t(e,i,n,a,o){r["a"].call(this,e,i,o);this.originalEvent=n;this.pixel=i.getEventPixel(n);this.coordinate=i.getCoordinateFromPixel(this.pixel);this.dragging=a!==undefined?a:false};Object(n["d"])(a,r["a"]);a.prototype.preventDefault=function(){r["a"].prototype.preventDefault.call(this);this.originalEvent.preventDefault()};a.prototype.stopPropagation=function(){r["a"].prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};e["a"]=a},function(t,e,i){"use strict";var n=i(1);var r=i(24);var a=i(85);var o=i(10);var s=function t(e){a["a"].call(this);this.highWaterMark=e!==undefined?e:2048;this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null};Object(n["d"])(s,a["a"]);s.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark};s.prototype.clear=function(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null;this.dispatchEvent(o["a"].CLEAR)};s.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)};s.prototype.forEach=function(t,e){var i=this.oldest_;while(i){t.call(e,i.value_,i.key_,this);i=i.newer}};s.prototype.get=function(t){var e=this.entries_[t];Object(r["a"])(e!==undefined,15);if(e===this.newest_){return e.value_}else if(e===this.oldest_){this.oldest_=this.oldest_.newer;this.oldest_.older=null}else{e.newer.older=e.older;e.older.newer=e.newer}e.newer=null;e.older=this.newest_;this.newest_.newer=e;this.newest_=e;return e.value_};s.prototype.remove=function(t){var e=this.entries_[t];Object(r["a"])(e!==undefined,15);if(e===this.newest_){this.newest_=e.older;if(this.newest_){this.newest_.newer=null}}else if(e===this.oldest_){this.oldest_=e.newer;if(this.oldest_){this.oldest_.older=null}}else{e.newer.older=e.older;e.older.newer=e.newer}delete this.entries_[t];--this.count_;return e.value_};s.prototype.getCount=function(){return this.count_};s.prototype.getKeys=function(){var t=new Array(this.count_);var e=0;var i=void 0;for(i=this.newest_;i;i=i.older){t[e++]=i.key_}return t};s.prototype.getValues=function(){var t=new Array(this.count_);var e=0;var i=void 0;for(i=this.newest_;i;i=i.older){t[e++]=i.value_}return t};s.prototype.peekLast=function(){return this.oldest_.value_};s.prototype.peekLastKey=function(){return this.oldest_.key_};s.prototype.peekFirstKey=function(){return this.newest_.key_};s.prototype.pop=function(){var t=this.oldest_;delete this.entries_[t.key_];if(t.newer){t.newer.older=null}this.oldest_=t.newer;if(!this.oldest_){this.newest_=null}--this.count_;return t.value_};s.prototype.replace=function(t,e){this.get(t);this.entries_[t].value_=e};s.prototype.set=function(t,e){Object(r["a"])(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};if(!this.newest_){this.oldest_=i}else{this.newest_.newer=i}this.newest_=i;this.entries_[t]=i;++this.count_};s.prototype.setSize=function(t){this.highWaterMark=t};s.prototype.prune=function(){while(this.canExpireCache()){this.pop()}};e["a"]=s},function(t,e,i){"use strict";var n=i(2);var r=i(294);var a=i(50);var o=i(1);var s=i(127);var u=function t(){s["a"].call(this)};o["d"](u,s["a"]);u.prototype.read=function(t){return s["a"].prototype.read.call(this,t)};u.prototype.readFromDocument=function(t){n["a"].assert(t.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readFromNode(e)}}return null};u.prototype.readFromNode=function(t){n["a"].assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");n["a"].assert(t.localName=="schema","localName should be schema");var e=t.getElementsByTagName("element");if(!e.length){e=t.getElementsByTagName("xsd:element")}var i=[];var r=void 0;for(var a=0,o=e.length;a<o;a++){r=this.readFromElementNode_(e[a]);if(r){i.push(r)}}return i};u.prototype.readFromElementNode_=function(t){var e=t.getAttribute("name");n["a"].assertString(e,"name should be defined in element node.");var i=t.getAttribute("alias");var o=t.getAttribute("nillable");var s=!(o===true||o==="true");var u={name:e,alias:i,required:s};var l=t.getAttribute("type");if(l){if(!r["a"].setGeometryType(u,l)){this.setAttributeByXsdType_(u,l)}}else{var c=t.getElementsByTagName("enumeration");if(!c.length){c=t.getElementsByTagName("xsd:enumeration")}if(c.length){u.type=a["a"].SELECT;var h=[];for(var f=0,d=c.length;f<d;f++){h.push(c[f].getAttribute("value"))}u.choices=h}else{var p=t.getElementsByTagName("restriction");if(!p.length){p=t.getElementsByTagName("xsd:restriction")}if(p.length&&p[0]){var v=p[0];this.setAttributeByXsdType_(u,v.getAttribute("base"));var g=t.getElementsByTagName("maxLength");if(!g.length){g=t.getElementsByTagName("xsd:maxLength")}if(g.length&&g[0]){u.maxLength=Number(g[0].getAttribute("value"))}}}}if(!u.type){return null}n["a"].assert(u.type);return u};u.prototype.setAttributeByXsdType_=function(t,e){if(e==="xsd:boolean"){t.type=a["a"].BOOLEAN}else if(e==="xsd:date"){t.type=a["a"].DATE}else if(e==="xsd:dateTime"){t.type=a["a"].DATETIME}else if(e==="xsd:time"){t.type=a["a"].TIME}else if(e==="xsd:decimal"||e==="xsd:double"){t.type=a["a"].NUMBER;t.numType=u.NumberType.FLOAT}else if(e==="xsd:integer"){t.type=a["a"].NUMBER;t.numType=u.NumberType.INTEGER}else if(e==="xsd:string"){t.type=a["a"].TEXT}};u.getGeometryAttribute=function(t){var e=null;for(var i=0,n=t.length;i<n;i++){if(t[i].type===a["a"].GEOMETRY){e=t[i];break}}return e};u.NumberType={FLOAT:"float",INTEGER:"integer"};e["a"]=u},function(t,e,i){"use strict";var n=i(1);var r=i(4);var a=i(21);var o=i(8);var s=i(68);var u=i(229);var l=i(130);var c=i(121);var h=i(125);var f=i(143);var d=function t(e,i){s["a"].call(this);this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,i)};Object(n["d"])(d,s["a"]);d.prototype.clone=function(){var t=new d(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return t};d.prototype.closestPointXY=function(t,e,i,n){if(n<Object(r["e"])(this.getExtent(),t,e)){return n}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(l["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(l["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,true,t,e,i,n)};d.prototype.getArea=function(){return Object(u["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getCoordinates=function(){return Object(h["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=Object(f["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var i=new d(null);i.setFlatCoordinates(a["a"].XY,e);return i};d.prototype.getType=function(){return o["a"].LINEAR_RING};d.prototype.intersectsExtent=function(t){};d.prototype.setCoordinates=function(t,e){if(!t){this.setFlatCoordinates(a["a"].XY,null)}else{this.setLayout(e,t,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=Object(c["b"])(this.flatCoordinates,0,t,this.stride);this.changed()}};d.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e);this.changed()};e["a"]=d},function(t,e,i){"use strict";var n=i(1);var r=i(30);var a=i(24);var o=i(59);var s=i(58);var u=i(3);var l=i(7);var c=i(80);var h="units";var f={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};var d=[1,2,5];var p=function t(e){var i=e?e:{};var n=i.className!==undefined?i.className:"ol-scale-line";this.innerElement_=document.createElement("DIV");this.innerElement_.className=n+"-inner";this.element_=document.createElement("DIV");this.element_.className=n+" "+s["e"];this.element_.appendChild(this.innerElement_);this.viewState_=null;this.minWidth_=i.minWidth!==undefined?i.minWidth:64;this.renderedVisible_=false;this.renderedWidth_=undefined;this.renderedHTML_="";o["a"].call(this,{element:this.element_,render:i.render||v,target:i.target});Object(u["a"])(this,Object(r["b"])(h),this.handleUnitsChanged_,this);this.setUnits(i.units||f.METRIC)};Object(n["d"])(p,o["a"]);p.prototype.getUnits=function(){return this.get(h)};function v(t){var e=t.frameState;if(!e){this.viewState_=null}else{this.viewState_=e.viewState}this.updateElement_()}p.prototype.handleUnitsChanged_=function(){this.updateElement_()};p.prototype.setUnits=function(t){this.set(h,t)};p.prototype.updateElement_=function(){var t=this.viewState_;if(!t){if(this.renderedVisible_){this.element_.style.display="none";this.renderedVisible_=false}return}var e=t.center;var i=t.projection;var n=this.getUnits();var r=n==f.DEGREES?c["b"].DEGREES:c["b"].METERS;var o=Object(l["i"])(i,t.resolution,e,r);if(i.getUnits()!=c["b"].DEGREES&&i.getMetersPerUnit()&&r==c["b"].METERS){o*=i.getMetersPerUnit()}var s=this.minWidth_*o;var u="";if(n==f.DEGREES){var h=l["a"][c["b"].DEGREES];if(i.getUnits()==c["b"].DEGREES){s*=h}else{o/=h}if(s<h/60){u="″";o*=3600}else if(s<h){u="′";o*=60}else{u="°"}}else if(n==f.IMPERIAL){if(s<.9144){u="in";o/=.0254}else if(s<1609.344){u="ft";o/=.3048}else{u="mi";o/=1609.344}}else if(n==f.NAUTICAL){o/=1852;u="nm"}else if(n==f.METRIC){if(s<.001){u="μm";o*=1e6}else if(s<1){u="mm";o*=1e3}else if(s<1e3){u="m"}else{u="km";o/=1e3}}else if(n==f.US){if(s<.9144){u="in";o*=39.37}else if(s<1609.344){u="ft";o/=.30480061}else{u="mi";o/=1609.3472}}else{Object(a["a"])(false,33)}var p=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));var v=void 0,g=void 0;while(true){v=d[(p%3+3)%3]*Math.pow(10,Math.floor(p/3));g=Math.round(v/o);if(isNaN(g)){this.element_.style.display="none";this.renderedVisible_=false;return}else if(g>=this.minWidth_){break}++p}var m=v+" "+u;if(this.renderedHTML_!=m){this.innerElement_.innerHTML=m;this.renderedHTML_=m}if(this.renderedWidth_!=g){this.innerElement_.style.width=g+"px";this.renderedWidth_=g}if(!this.renderedVisible_){this.element_.style.display="";this.renderedVisible_=true}};e["a"]=p},function(t,e,i){"use strict";var n=i(2);var r=i(162);var a=i(9);var o=i(3);var s=i(7);var u=i(14);var l=i(32);function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var h=angular.module("ngeoGooglestreetview",[r["a"].module.name]);h.value("ngeoGooglestreetviewTemplateUrl",function(t){var e=t["ngeoGooglestreetviewTemplateUrl"];return e!==undefined?e:"ngeo/googlestreetview"});h.run(["$templateCache",function(t){t.put("ngeo/googlestreetview",i(449))}]);f.$inject=["$attrs","ngeoGooglestreetviewTemplateUrl"];function f(t,e){return e(t)}h.Controller_=function(){t.$inject=["$element","$scope","ngeoFeatureOverlayMgr"];function t(e,i,r){var a=this;c(this,t);this.active;i.$watch(function(){return a.active},this.handleActiveChange_.bind(this));this.featureStyle;this.map;this.radius;this.scope_=i;this.feature_=new u["a"];this.featureOverlay_=n["a"].assert(r.getFeatureOverlay());this.listenerKeys_=[];this.location=null;this.noDataAtLocation=false;this.panorama_=new google.maps.StreetViewPanorama(e[0],{pov:{heading:0,pitch:0},visible:false,zoom:1});this.panoramaListener_=null;this.point_=new l["a"]([0,0]);this.feature_.setGeometry(this.point_);this.streetViewService_=new google.maps.StreetViewService;this.panoramaPositionChanging_=false}t.prototype.$onInit=function t(){var e=this;this.scope_.$watch(function(){return e.location},this.handleLocationChange_.bind(this));this.scope_.$watch(function(){var t=e.active;var i=e.location!==null;return t&&i},this.handleReadyChange_.bind(this));this.scope_.$watch(function(){var t=e.active;var i=e.location!==null;var n=e.noDataAtLocation===false;return t&&i&&n},function(t,i){if(t===i){return}e.panorama_.setVisible(t);if(t){e.panoramaListener_=google.maps.event.addListener(e.panorama_,"position_changed",e.handlePanoramaPositionChange_.bind(e))}else if(e.panoramaListener_){google.maps.event.removeListener(e.panoramaListener_);e.panoramaListener_=null}});if(this.featureStyle){this.feature_.setStyle(this.featureStyle)}};t.prototype.handleActiveChange_=function t(e){var i=this.listenerKeys_;if(e){i.push(o["a"](this.map,"click",this.handleMapClick_,this))}else{i.forEach(o["e"]);i.length=0}};t.prototype.handleLocationChange_=function t(e,i){if(e===i||Array.isArray(e)&&Array.isArray(i)&&a["b"](e,i)){return}this.point_.setCoordinates(e);if(e&&!this.panoramaPositionChanging_){var n=this.toLonLat_(e);this.streetViewService_.getPanorama({location:{lat:n[1],lng:n[0]},radius:this.radius},this.handleStreetViewServiceGetPanorama_.bind(this))}};t.prototype.handleMapClick_=function t(e){this.location=e.coordinate;this.scope_.$apply()};t.prototype.handleReadyChange_=function t(e,i){if(e===i){return}if(e){this.featureOverlay_.addFeature(this.feature_)}else{this.featureOverlay_.removeFeature(this.feature_)}};t.prototype.handleStreetViewServiceGetPanorama_=function t(e,i){var n=this.panorama_;if(i===google.maps.StreetViewStatus.OK){this.noDataAtLocation=false;n.setPosition(e.location.latLng)}else{this.noDataAtLocation=true}this.scope_.$apply()};t.prototype.handlePanoramaPositionChange_=function t(){this.panoramaPositionChanging_=true;var e=this.panorama_.getPosition();var i=[e.lng(),e.lat()];var n=this.fromLonLat_(i);this.location=n;this.scope_.$apply();this.panoramaPositionChanging_=false};t.prototype.fromLonLat_=function t(e){return s["g"](e,this.map.getView().getProjection())};t.prototype.toLonLat_=function t(e){return s["m"](e,this.map.getView().getProjection())};return t}();h.component("ngeoGooglestreetview",{bindings:{active:"<",featureStyle:"<?",map:"<",radius:"<?"},controller:h.Controller_,templateUrl:f});var d=h;var p=angular.module("ngeoGooglestreetviewModule",[d.name]);var v=e["a"]=p},function(t,e,i){"use strict";var n=i(1);var r=i(4);var a=i(178);var o=i(127);var s=i(5);var u=i(0);var l=function t(){o["a"].call(this)};Object(n["d"])(l,o["a"]);var c=[null,"http://www.opengis.net/ows/1.1"];var h=Object(u["r"])(c,{ServiceIdentification:Object(u["n"])(D),ServiceProvider:Object(u["n"])($),OperationsMetadata:Object(u["n"])(I)});var f=Object(u["r"])(c,{DeliveryPoint:Object(u["n"])(s["h"]),City:Object(u["n"])(s["h"]),AdministrativeArea:Object(u["n"])(s["h"]),PostalCode:Object(u["n"])(s["h"]),Country:Object(u["n"])(s["h"]),ElectronicMailAddress:Object(u["n"])(s["h"])});var d=Object(u["r"])(c,{Value:Object(u["m"])(L)});var p=Object(u["r"])(c,{AllowedValues:Object(u["n"])(T)});var v=Object(u["r"])(c,{Phone:Object(u["n"])(P),Address:Object(u["n"])(C)});var g=Object(u["r"])(c,{HTTP:Object(u["n"])(R)});var m=Object(u["r"])(c,{Get:Object(u["m"])(k),Post:undefined});var y=Object(u["r"])(c,{DCP:Object(u["n"])(j)});var _=Object(u["r"])(c,{Operation:A});var b=Object(u["r"])(c,{Voice:Object(u["n"])(s["h"]),Facsimile:Object(u["n"])(s["h"])});var w=Object(u["r"])(c,{Constraint:Object(u["m"])(E)});var O=Object(u["r"])(c,{IndividualName:Object(u["n"])(s["h"]),PositionName:Object(u["n"])(s["h"]),ContactInfo:Object(u["n"])(M)});var x=Object(u["r"])(c,{Abstract:Object(u["n"])(s["h"]),AccessConstraints:Object(u["n"])(s["h"]),Fees:Object(u["n"])(s["h"]),Title:Object(u["n"])(s["h"]),ServiceTypeVersion:Object(u["n"])(s["h"]),ServiceType:Object(u["n"])(s["h"])});var S=Object(u["r"])(c,{ProviderName:Object(u["n"])(s["h"]),ProviderSite:Object(u["n"])(a["a"]),ServiceContact:Object(u["n"])(N)});l.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readFromNode(e)}}return null};l.prototype.readFromNode=function(t){var e=Object(u["u"])({},h,t,[]);return e?e:null};function C(t,e){return Object(u["u"])({},f,t,e)}function T(t,e){return Object(u["u"])({},d,t,e)}function E(t,e){var i=t.getAttribute("name");if(!i){return undefined}return Object(u["u"])({name:i},p,t,e)}function M(t,e){return Object(u["u"])({},v,t,e)}function j(t,e){return Object(u["u"])({},g,t,e)}function k(t,e){var i=Object(a["a"])(t);if(!i){return undefined}return Object(u["u"])({href:i},w,t,e)}function R(t,e){return Object(u["u"])({},m,t,e)}function A(t,e){var i=t.getAttribute("name");var n=Object(u["u"])({},y,t,e);if(!n){return undefined}var r=e[e.length-1];r[i]=n}function I(t,e){return Object(u["u"])({},_,t,e)}function P(t,e){return Object(u["u"])({},b,t,e)}function D(t,e){return Object(u["u"])({},x,t,e)}function N(t,e){return Object(u["u"])({},O,t,e)}function $(t,e){return Object(u["u"])({},S,t,e)}function L(t,e){return Object(s["h"])(t)}var F=l;var G=function t(){o["a"].call(this);this.owsParser_=new F};Object(n["d"])(G,o["a"]);var U=[null,"http://www.opengis.net/wmts/1.0"];var H=[null,"http://www.opengis.net/ows/1.1"];var W=Object(u["r"])(U,{Contents:Object(u["n"])(tt)});var Y=Object(u["r"])(U,{Layer:Object(u["m"])(et),TileMatrixSet:Object(u["m"])(it)});var z=Object(u["r"])(U,{Style:Object(u["m"])(nt),Format:Object(u["m"])(s["h"]),TileMatrixSetLink:Object(u["m"])(rt),Dimension:Object(u["m"])(at),ResourceURL:Object(u["m"])(ot)},Object(u["r"])(H,{Title:Object(u["n"])(s["h"]),Abstract:Object(u["n"])(s["h"]),WGS84BoundingBox:Object(u["n"])(st),Identifier:Object(u["n"])(s["h"])}));var V=Object(u["r"])(U,{LegendURL:Object(u["m"])(ut)},Object(u["r"])(H,{Title:Object(u["n"])(s["h"]),Identifier:Object(u["n"])(s["h"])}));var B=Object(u["r"])(U,{TileMatrixSet:Object(u["n"])(s["h"]),TileMatrixSetLimits:Object(u["n"])(ht)});var q=Object(u["r"])(U,{TileMatrixLimits:Object(u["j"])(ft)});var K=Object(u["r"])(U,{TileMatrix:Object(u["n"])(s["h"]),MinTileRow:Object(u["n"])(s["f"]),MaxTileRow:Object(u["n"])(s["f"]),MinTileCol:Object(u["n"])(s["f"]),MaxTileCol:Object(u["n"])(s["f"])});var X=Object(u["r"])(U,{Default:Object(u["n"])(s["h"]),Value:Object(u["m"])(s["h"])},Object(u["r"])(H,{Identifier:Object(u["n"])(s["h"])}));var Z=Object(u["r"])(H,{LowerCorner:Object(u["j"])(lt),UpperCorner:Object(u["j"])(lt)});var Q=Object(u["r"])(U,{WellKnownScaleSet:Object(u["n"])(s["h"]),TileMatrix:Object(u["m"])(ct)},Object(u["r"])(H,{SupportedCRS:Object(u["n"])(s["h"]),Identifier:Object(u["n"])(s["h"])}));var J=Object(u["r"])(U,{TopLeftCorner:Object(u["n"])(lt),ScaleDenominator:Object(u["n"])(s["d"]),TileWidth:Object(u["n"])(s["f"]),TileHeight:Object(u["n"])(s["f"]),MatrixWidth:Object(u["n"])(s["f"]),MatrixHeight:Object(u["n"])(s["f"])},Object(u["r"])(H,{Identifier:Object(u["n"])(s["h"])}));G.prototype.read;G.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readFromNode(e)}}return null};G.prototype.readFromNode=function(t){var e=t.getAttribute("version").trim();var i=this.owsParser_.readFromNode(t);if(!i){return null}i["version"]=e;i=Object(u["u"])(i,W,t,[]);return i?i:null};function tt(t,e){return Object(u["u"])({},Y,t,e)}function et(t,e){return Object(u["u"])({},z,t,e)}function it(t,e){return Object(u["u"])({},Q,t,e)}function nt(t,e){var i=Object(u["u"])({},V,t,e);if(!i){return undefined}var n=t.getAttribute("isDefault")==="true";i["isDefault"]=n;return i}function rt(t,e){return Object(u["u"])({},B,t,e)}function at(t,e){return Object(u["u"])({},X,t,e)}function ot(t,e){var i=t.getAttribute("format");var n=t.getAttribute("template");var r=t.getAttribute("resourceType");var a={};if(i){a["format"]=i}if(n){a["template"]=n}if(r){a["resourceType"]=r}return a}function st(t,e){var i=Object(u["u"])([],Z,t,e);if(i.length!=2){return undefined}return Object(r["b"])(i)}function ut(t,e){var i={};i["format"]=t.getAttribute("format");i["href"]=Object(a["a"])(t);return i}function lt(t,e){var i=Object(s["h"])(t).split(" ");if(!i||i.length!=2){return undefined}var n=+i[0];var r=+i[1];if(isNaN(n)||isNaN(r)){return undefined}return[n,r]}function ct(t,e){return Object(u["u"])({},J,t,e)}function ht(t,e){return Object(u["u"])([],q,t,e)}function ft(t,e){return Object(u["u"])({},K,t,e)}var dt=e["a"]=G},function(t,e,i){"use strict";var n=i(1);var r={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"};var a=i(30);var o=i(3);var s=i(10);var u=i(29);var l=i(57);var c=i(12);var h=i(7);var f=function t(e){a["a"].call(this);var i=e||{};this.position_=null;this.transform_=h["l"];this.watchId_=undefined;Object(o["a"])(this,Object(a["b"])(r.PROJECTION),this.handleProjectionChanged_,this);Object(o["a"])(this,Object(a["b"])(r.TRACKING),this.handleTrackingChanged_,this);if(i.projection!==undefined){this.setProjection(i.projection)}if(i.trackingOptions!==undefined){this.setTrackingOptions(i.trackingOptions)}this.setTracking(i.tracking!==undefined?i.tracking:false)};Object(n["d"])(f,a["a"]);f.prototype.disposeInternal=function(){this.setTracking(false);a["a"].prototype.disposeInternal.call(this)};f.prototype.handleProjectionChanged_=function(){var t=this.getProjection();if(t){this.transform_=Object(h["k"])(Object(h["h"])("EPSG:4326"),t);if(this.position_){this.set(r.POSITION,this.transform_(this.position_))}}};f.prototype.handleTrackingChanged_=function(){if(l["d"]){var t=this.getTracking();if(t&&this.watchId_===undefined){this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions())}else if(!t&&this.watchId_!==undefined){navigator.geolocation.clearWatch(this.watchId_);this.watchId_=undefined}}};f.prototype.positionChange_=function(t){var e=t.coords;this.set(r.ACCURACY,e.accuracy);this.set(r.ALTITUDE,e.altitude===null?undefined:e.altitude);this.set(r.ALTITUDE_ACCURACY,e.altitudeAccuracy===null?undefined:e.altitudeAccuracy);this.set(r.HEADING,e.heading===null?undefined:Object(c["i"])(e.heading));if(!this.position_){this.position_=[e.longitude,e.latitude]}else{this.position_[0]=e.longitude;this.position_[1]=e.latitude}var i=this.transform_(this.position_);this.set(r.POSITION,i);this.set(r.SPEED,e.speed===null?undefined:e.speed);var n=Object(u["a"])(this.position_,e.accuracy);n.applyTransform(this.transform_);this.set(r.ACCURACY_GEOMETRY,n);this.changed()};f.prototype.positionError_=function(t){t.type=s["a"].ERROR;this.setTracking(false);this.dispatchEvent(t)};f.prototype.getAccuracy=function(){return this.get(r.ACCURACY)};f.prototype.getAccuracyGeometry=function(){return this.get(r.ACCURACY_GEOMETRY)||null};f.prototype.getAltitude=function(){return this.get(r.ALTITUDE)};f.prototype.getAltitudeAccuracy=function(){return this.get(r.ALTITUDE_ACCURACY)};f.prototype.getHeading=function(){return this.get(r.HEADING)};f.prototype.getPosition=function(){return this.get(r.POSITION)};f.prototype.getProjection=function(){return this.get(r.PROJECTION)};f.prototype.getSpeed=function(){return this.get(r.SPEED)};f.prototype.getTracking=function(){return this.get(r.TRACKING)};f.prototype.getTrackingOptions=function(){return this.get(r.TRACKING_OPTIONS)};f.prototype.setProjection=function(t){this.set(r.PROJECTION,Object(h["h"])(t))};f.prototype.setTracking=function(t){this.set(r.TRACKING,t)};f.prototype.setTrackingOptions=function(t){this.set(r.TRACKING_OPTIONS,t)};var d=e["a"]=f},function(t,e,i){"use strict";var n=i(2);var r=i(212);var a=i(164);var o=i(294);var s=i(50);var u=i(245);function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var c=function(){function t(){l(this,t)}t.prototype.read=function t(e){return e.map(this.readFromComplexTypeElement_)};t.prototype.readFromComplexTypeElement_=function t(e){var i=n["a"].assertString(e["name"]);var r="alias"in e?n["a"].assertString(e["alias"]):null;var a=e["minOccurs"]!="0";var l={name:i,alias:r,required:a};var c=n["a"].assertString(e["type"]);if(!o["a"].setGeometryType(l,c)){if(c==="gml:TimeInstantType"||c==="dateTime"){l.type=s["a"].DATETIME}else if(c==="date"){l.type=s["a"].DATE}else if(c==="time"){l.type=s["a"].TIME}else if(c==="decimal"||c==="double"){l.type=s["a"].NUMBER;l.numType=u["a"].NumberType.FLOAT}else if(c==="integer"||c==="long"){l.type=s["a"].NUMBER;l.numType=u["a"].NumberType.INTEGER}else if(c==="boolean"){l.type=s["a"].BOOLEAN}else{l.type=s["a"].TEXT}}return l};return t}();var h=c;var f=i(220);var d=i(3);var p=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}return function(e,i,n){if(i)t(e.prototype,i);if(n)t(e,n);return e}}();function v(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var g=function(){t.$inject=["$q","ngeoDataSources","ngeoQuerent"];function t(e,i,n){v(this,t);this.q_=e;this.collection_=i.collection;this.ngeoQuerent_=n;this.cache_={};d["a"](this.collection_,"add",this.handleDataSourcesAdd_,this);d["a"](this.collection_,"remove",this.handleDataSourcesRemove_,this)}t.prototype.getDataSource=function t(e){return this.cache_[e]||null};t.prototype.getDataSourceAttributes=function t(e){var i=this.q_.defer();if(e.attributes){i.resolve(e.attributes)}else{this.ngeoQuerent_.wfsDescribeFeatureType(e).then(function(t){var r=e.getOGCLayerNames()[0];n["a"].assertString(r,"The data source should have only one ogcLayer.");for(var a=t.element,o=Array.isArray(a),s=0,a=o?a:a[Symbol.iterator]();;){var u;if(o){if(s>=a.length)break;u=a[s++]}else{s=a.next();if(s.done)break;u=s.value}var l=u;if(l.name===r){for(var c=t.complexType,f=Array.isArray(c),d=0,c=f?c:c[Symbol.iterator]();;){var p;if(f){if(d>=c.length)break;p=c[d++]}else{d=c.next();if(d.done)break;p=d.value}var v=p;if(v.name==l.type){var g=v.complexContent;var m=(new h).read(g);e.setAttributes(m);i.resolve(m);break}}}}})}return i.promise};t.prototype.handleDataSourcesAdd_=function t(e){var i=n["a"].assertInstanceof(e.element,r["a"]);this.cache_[i.id]=i};t.prototype.handleDataSourcesRemove_=function t(e){var i=n["a"].assertInstanceof(e.element,r["a"]);delete this.cache_[i.id]};p(t,[{key:"collection",get:function t(){return this.collection_}}]);return t}();g.module=angular.module("ngeoDataSourcesHelper",[a["a"].module.name,f["a"].module.name]);g.module.service("ngeoDataSourcesHelper",g);var m=e["a"]=g},function(t,e,i){"use strict";var n=i(2);var r=i(65);var a=i(1);var o=i(160);var s=i(34);var u=i(209);var l=i(12);var c=i(193);var h=i(79);var f=i(82);var d=function t(){this.geojsonFormat=new o["a"]};d.PrintStyleType={LINE_STRING:"LineString",POINT:"Point",POLYGON:"Polygon"};d.PrintStyleTypes_={LineString:d.PrintStyleType.LINE_STRING,Point:d.PrintStyleType.POINT,Polygon:d.PrintStyleType.POLYGON,MultiLineString:d.PrintStyleType.LINE_STRING,MultiPoint:d.PrintStyleType.POINT,MultiPolygon:d.PrintStyleType.POLYGON};d.prototype.encodeVectorLayer=function(t,e,i){var r=e.getSource();n["a"].assertInstanceof(r,s["b"]);var o=r.getFeatures();var u=[];var l={version:2};for(var c=0,h=o.length;c<h;++c){var f=o[c];var d=null;var p=f.getStyleFunction()||e.getStyleFunction();if(p!==undefined){d=p.call(e,f,i)}var v=this.geojsonFormat.writeFeatureObject(f);var g=d!==null&&!Array.isArray(d)?[d]:d;n["a"].assert(Array.isArray(g));if(g!==null&&g.length>0){var m=false;for(var y=0,_=g.length;y<_;++y){var b=g[y];var w=b.getGeometry();var O=void 0;if(!w){O=v;w=f.getGeometry();if(!w){continue}if(!m){u.push(O);m=true}}else{var x=f.clone();x.setGeometry(w);O=this.geojsonFormat.writeFeatureObject(x);w=x.getGeometry();x=null;u.push(O)}var S=w.getType();if(O.properties===null){O.properties={}}var C="_ngeo_style_"+y;var T=a["c"](b).toString()+"-"+S;this.encodeVectorStyle(l,S,b,T,C);O.properties[C]=T}}}if(u.length>0){var E={type:"FeatureCollection",features:u};var M={geoJson:E,opacity:e.getOpacity(),style:l,type:"geojson"};t.push(M)}};d.prototype.encodeVectorStyle=function(t,e,i,n,r){if(!(e in d.PrintStyleTypes_)){return}var a=d.PrintStyleTypes_[e];var o="["+r+" = '"+n+"']";if(o in t){return}var s={symbolizers:[]};t[o]=s;var u=i.getFill();var l=i.getImage();var c=i.getStroke();var h=i.getText();if(a===d.PrintStyleType.POLYGON){if(u!==null){this.encodeVectorStylePolygon(s.symbolizers,u,c)}}else if(a===d.PrintStyleType.LINE_STRING){if(c!==null){this.encodeVectorStyleLine(s.symbolizers,c)}}else if(a===d.PrintStyleType.POINT){if(l!==null){this.encodeVectorStylePoint(s.symbolizers,l)}}if(h!==null){this.encodeTextStyle(s.symbolizers,h)}};d.prototype.encodeVectorStyleFill=function(t,e){var i=e.getColor();if(i!==null){n["a"].assert(typeof i==="string"||Array.isArray(i));i=f["a"](i);n["a"].assert(Array.isArray(i),"only supporting fill colors");t.fillColor=r["b"].rgbArrayToHex(i);t.fillOpacity=i[3]}};d.prototype.encodeVectorStyleLine=function(t,e){var i={type:"line"};this.encodeVectorStyleStroke(i,e);t.push(i)};d.prototype.encodeVectorStylePoint=function(t,e){var i=void 0;if(e instanceof h["a"]){i={type:"point"};i.pointRadius=e.getRadius();var n=e.getFill();if(n!==null){this.encodeVectorStyleFill(i,n)}var r=e.getStroke();if(r!==null){this.encodeVectorStyleStroke(i,r)}}else if(e instanceof c["a"]){var a=new URL(e.getSrc(),window.location.href).href;if(a!==undefined){i={type:"point",externalGraphic:a};var o=e.getOpacity();if(o!==null){i.graphicOpacity=o}var s=e.getSize();if(s!==null){var f=e.getScale();if(isNaN(f)){f=1}i.graphicWidth=s[0]*f;i.graphicHeight=s[1]*f}var d=e.getRotation();if(isNaN(d)){d=0}i.rotation=l["h"](d)}}else if(e instanceof u["a"]){var p=e.getPoints();if(p!==null){i={type:"point"};if(p===4){i.graphicName="square"}else if(p===3){i.graphicName="triangle"}else if(p===5){i.graphicName="star"}else if(p===8){i.graphicName="cross"}var v=e.getSize();if(v!==null){i.graphicWidth=v[0];i.graphicHeight=v[1]}var g=e.getRotation();if(!isNaN(g)&&g!==0){i.rotation=l["h"](g)}var m=e.getOpacity();if(m!==null){i.graphicOpacity=m}var y=e.getStroke();if(y!==null){this.encodeVectorStyleStroke(i,y)}var _=e.getFill();if(_!==null){this.encodeVectorStyleFill(i,_)}}}if(i!==undefined){t.push(i)}};d.prototype.encodeVectorStylePolygon=function(t,e,i){var n={type:"polygon"};this.encodeVectorStyleFill(n,e);if(i!==null){this.encodeVectorStyleStroke(n,i)}t.push(n)};d.prototype.encodeVectorStyleStroke=function(t,e){var i=e.getColor();if(i!==null){n["a"].assert(typeof i==="string"||Array.isArray(i));var a=f["a"](i);n["a"].assert(Array.isArray(a),"only supporting stroke colors");t.strokeColor=r["b"].rgbArrayToHex(a);t.strokeOpacity=a[3]}var o=e.getLineDash();if(o!==null){t.strokeDashstyle=o.join(" ")}var s=e.getWidth();if(s!==undefined){t.strokeWidth=s}var u=e.getLineCap();if(u){t.strokeLinecap=e.getLineCap()}};d.prototype.encodeTextStyle=function(t,e){var i={type:"Text"};var a=e.getText();if(a!==undefined){i.label=a;var o="c";var s="m";var u=e.getTextAlign();if(u==="left"||u==="start"){o="l"}else if(u==="right"||u==="end"){o="r"}var l=e.getTextBaseline();if(l==="bottom"){s="l"}else if(l==="top"){s="t"}i.labelAlign=""+o+s;var c=e.getRotation();if(c!==undefined){i.labelRotation=(c*180/Math.PI).toString();i.labelAlign="cm"}var h=e.getFont();if(h!==undefined){var d=h.split(" ");if(d.length>=3){i.fontWeight=d[0];i.fontSize=d[1];i.fontFamily=d.splice(2).join(" ")}}var p=e.getStroke();if(p!==null){var v=p.getColor();n["a"].assert(typeof v==="string"||Array.isArray(v));var g=f["a"](v);n["a"].assert(Array.isArray(g),"only supporting stroke colors");i.haloColor=r["b"].rgbArrayToHex(g);i.haloOpacity=g[3];var m=p.getWidth();if(m!==undefined){i.haloRadius=m/2}}var y=e.getFill();if(y!==null){var _=y.getColor();n["a"].assert(typeof _==="string"||Array.isArray(_));var b=f["a"](_);n["a"].assert(Array.isArray(b),"only supporting fill colors");i.fontColor=r["b"].rgbArrayToHex(b)}if(i.labelAlign!==undefined){i.labelXOffset=e.getOffsetX();i.labelYOffset=-e.getOffsetY()}t.push(i)}};var p=d;var v=i(224);var g=i(9);var m=i(11);var y=i(77);var _=i(17);var b=i(38);var w=i(98);var O=i(72);var x=i(96);var S=i(116);var C=i(186);var T=function t(e,i,n,r){this.url_=e;this.$http_=i;this.gettextCatalog_=n;this.ngeoLayerHelper_=r;this.vectorEncoder=new p;this.printNativeAngle_=true};T.$inject=["url","$http","gettextCatalog","ngeoLayerHelper"];T.prototype.cancel=function(t,e){var i=e!==undefined?e:{};var n=this.url_+"/cancel/"+t;return this.$http_["delete"](n,i)};T.prototype.createSpec=function(t,e,i,n,r,a){var o={dpi:i,rotation:a["rotation"]};this.encodeMap_(t,e,o);var s={map:o};m["a"](s,a);var u=this.gettextCatalog_.currentLanguage;var l={attributes:s,format:r,lang:u,layout:n};return l};T.prototype.encodeMap_=function(t,e,i){var r=this;var a=t.getView();var o=a.getCenter();var s=a.getProjection();var u=a.getResolution();var c=i.rotation||l["h"](a.getRotation());n["a"].assert(o!==undefined);n["a"].assert(s!==undefined);i.center=o;i.projection=s.getCode();i.rotation=c;i.scale=e;i.layers=[];var h=t.getLayerGroup();n["a"].assert(h);this.printNativeAngle_=!(h.get("printNativeAngle")===false);var f=this.ngeoLayerHelper_.getFlatLayers(h);g["l"](f,function(t,e){return t.getZIndex()-e.getZIndex()});f=f.slice().reverse();f.forEach(function(t){if(t.getVisible()){n["a"].assert(u!==undefined);r.encodeLayer(i.layers,t,u)}})};T.prototype.encodeLayer=function(t,e,i){if(e instanceof y["a"]){this.encodeImageLayer_(t,e)}else if(e instanceof _["a"]){this.encodeTileLayer_(t,e)}else if(e instanceof b["a"]){this.encodeVectorLayer(t,e,i)}};T.prototype.encodeVectorLayer=function(t,e,i){this.vectorEncoder.encodeVectorLayer(t,e,i)};T.prototype.encodeImageLayer_=function(t,e){n["a"].assertInstanceof(e,y["a"]);var i=e.getSource();if(i instanceof O["a"]){this.encodeImageWmsLayer_(t,e)}};T.prototype.encodeImageWmsLayer_=function(t,e){var i=e.getSource();n["a"].assertInstanceof(e,y["a"]);n["a"].assertInstanceof(i,O["a"]);var r=i.getUrl();if(r!==undefined){this.encodeWmsLayer_(t,e,r,i.getParams())}};T.prototype.encodeWmsLayer_=function(t,e,i,n){if(i.startsWith("//")){i=window.location.protocol+i}var r=new URL(i);var a={TRANSPARENT:true};if(r.searchParams){r.searchParams.forEach(function(t,e){a[e]=t})}for(var o in n){var s=n[o];if(s!==null&&s!==undefined){a[o]=s}}delete a["LAYERS"];delete a["FORMAT"];delete a["SERVERTYPE"];delete a["VERSION"];var u={baseURL:T.getAbsoluteUrl_(r.origin+r.pathname),imageFormat:"FORMAT"in n?n["FORMAT"]:"image/png",layers:n["LAYERS"].split(","),customParams:a,serverType:n["SERVERTYPE"],type:"wms",opacity:this.getOpacityOrInherited_(e),version:n["VERSION"],useNativeAngle:this.printNativeAngle_};t.push(u)};T.getAbsoluteUrl_=function(t){var e=document.createElement("a");e.href=encodeURI(t);return decodeURI(e.href)};T.prototype.encodeTileLayer_=function(t,e){n["a"].assertInstanceof(e,_["a"]);var i=e.getSource();if(i instanceof S["a"]){this.encodeTileWmtsLayer_(t,e)}else if(i instanceof x["a"]){this.encodeTileWmsLayer_(t,e)}};T.prototype.encodeTileWmtsLayer_=function(t,e){n["a"].assertInstanceof(e,_["a"]);var i=e.getSource();n["a"].assertInstanceof(i,S["a"]);var r=i.getProjection();var a=i.getTileGrid();n["a"].assertInstanceof(a,C["b"]);var o=a.getMatrixIds();var s=[];for(var u=0,l=o.length;u<l;++u){var c=a.getFullTileRange(u);s.push({identifier:o[u],scaleDenominator:a.getResolution(u)*r.getMetersPerUnit()/28e-5,tileSize:w["d"](a.getTileSize(u)),topLeftCorner:a.getOrigin(u),matrixSize:[c.maxX-c.minX,c.maxY-c.minY]})}var h=i.getDimensions();var f=Object.keys(h);var d={baseURL:this.getWmtsUrl_(i),dimensions:f,dimensionParams:h,imageFormat:i.getFormat(),layer:i.getLayer(),matrices:s,matrixSet:i.getMatrixSet(),opacity:this.getOpacityOrInherited_(e),requestEncoding:i.getRequestEncoding(),style:i.getStyle(),type:"WMTS",version:i.getVersion()};t.push(d)};T.prototype.encodeTileWmsLayer_=function(t,e){var i=e.getSource();n["a"].assertInstanceof(e,_["a"]);n["a"].assertInstanceof(i,x["a"]);this.encodeWmsLayer_(t,e,i.getUrls()[0],i.getParams())};T.prototype.getWmtsUrl_=function(t){var e=t.getUrls();n["a"].assert(e.length>0);return T.getAbsoluteUrl_(e[0])};T.prototype.getOpacityOrInherited_=function(t){if(t.get("inheritedOpacity")!==undefined){return t.get("inheritedOpacity")}return t.getOpacity()};T.prototype.createReport=function(t,e){var i=t.format||"pdf";var n=this.url_+"/report."+i;var r={headers:{"Content-Type":"application/json; charset=UTF-8"}};m["a"](r,e!==undefined?e:{});return this.$http_.post(n,t,r)};T.prototype.getStatus=function(t,e){var i=e!==undefined?e:{};var n=this.url_+"/status/"+t+".json";return this.$http_.get(n,i)};T.prototype.getReportUrl=function(t){return this.url_+"/report/"+t};T.prototype.getCapabilities=function(t){var e=t!==undefined?t:{withCredentials:true};var i=this.url_+"/capabilities.json";return this.$http_.get(i,e)};T.createPrintServiceFactory=function(t,e,i){return function(n){return new T(n,t,e,i)}};T.createPrintServiceFactory.$inject=["$http","gettextCatalog","ngeoLayerHelper"];T.module=angular.module("ngeoPrint",[v["a"].module.name]);T.module.service("ngeoPrintService",T);T.module.factory("ngeoCreatePrint",T.createPrintServiceFactory);var E=e["a"]=T},function(t,e,i){"use strict";var n=i(220);var r=i(187);var a=i(265);var o=i(201);var s=i(49);var u=angular.module("ngeoBboxQuery",[r["a"].module.name]);u.directive_=function(t){return{restrict:"A",scope:false,link:function e(i,n,r){var a=i.$eval(r["ngeoBboxQueryMap"]);var u=new o["a"]({condition:s["h"]});var l=function e(n){var o=u.getGeometry().getExtent();t.issue({limit:i.$eval(r["ngeoBboxQueryLimit"]),extent:o,map:a})};u.on("boxend",l);i.$watch(r["ngeoBboxQueryActive"],function(e,n){if(e){a.addInteraction(u)}else{a.removeInteraction(u);if(i.$eval(r["ngeoBboxQueryAutoclear"])!==false){t.clear()}}})}}};u.directive_.$inject=["ngeoMapQuerent"];u.directive("ngeoBboxQuery",u.directive_);var l=u;var c=angular.module("ngeoQueryModule",[n["a"].module.name,r["a"].module.name,a["a"].name,l.name]);var h=e["a"]=c},function(t,e,i){"use strict";var n=i(2);var r=i(106);var a=i(231);var o=i(57);var s=i(448);var u=i(447);var l=i(522);var c=angular.module("ngeoGrid",[a["a"].module.name,r["a"].name,"floatThead"]);c.run(["$templateCache",function(t){t.put("ngeo/grid",i(446))}]);c.value("ngeoGridTemplateUrl",function(t){var e=t["ngeoGridTemplateurl"];return e!==undefined?e:"ngeo/grid"});h.$inject=["$attrs","ngeoGridTemplateUrl"];function h(t,e){return e(t)}c.component_={controller:"ngeoGridController as ctrl",bindings:{configuration:"=ngeoGridConfiguration"},templateUrl:h};c.component("ngeoGrid",c.component_);c.Controller_=function(t){this.scope_=t;this.configuration;this.selectedRows;this.sortedBy;this.sortAscending=true;this.floatTheadConfig={scrollContainer:function t(e){return e.closest(".ngeo-grid-table-container")}}};c.Controller_.$inject=["$scope"];c.Controller_.prototype.$onInit=function(){this.selectedRows=this.configuration.selectedRows};c.Controller_.prototype.sort=function(t){this.sortAscending=this.sortedBy===t?!this.sortAscending:true;this.sortedBy=t;var e=this.sortAscending?1:-1;this.configuration.data.sort(function(i,n){if(!i[t]){return 1}if(!n[t]){return-1}return i[t]>n[t]?e:-e})};c.Controller_.prototype.clickRow=function(t,e){var i=this.isShiftKeyOnly_(e);var n=this.isPlatformModifierKeyOnly_(e);this.clickRow_(t,i,n)};c.Controller_.prototype.clickRow_=function(t,e,i){if(e&&!i){this.selectRange_(t)}else if(!e&&i){this.configuration.toggleRow(t)}else{var n=this.configuration.isRowSelected(t);this.configuration.unselectAll();if(!n){this.configuration.selectRow(t)}}};c.Controller_.prototype.selectRange_=function(t){var e=a["a"].getRowUid(t);var i=this.configuration.data;if(this.configuration.isRowSelected(t)){return}var r=undefined;var o=[];for(var s=0;s<i.length;s++){var u=i[s];var l=a["a"].getRowUid(u);if(e===l){r=s}else if(this.configuration.isRowSelected(u)){o.push(s)}}n["a"].assert(r!==undefined);if(o.length==0){this.configuration.selectRow(t)}var c=Infinity;var h=o[0];for(var f=0;f<o.length;f++){var d=o[f];var p=Math.abs(d-r);if(c>p){c=p;h=d}}var v=r<h?r:h;var g=r>h?r:h;for(var m=v;m<=g;m++){this.configuration.selectRow(i[m])}};c.Controller_.prototype.preventTextSelection=function(t){var e=this.isShiftKeyOnly_(t);var i=this.isPlatformModifierKeyOnly_(t);if(e||i){t.preventDefault()}};c.Controller_.prototype.isPlatformModifierKeyOnly_=function(t){return!t.altKey&&(o["e"]?t.metaKey:t.ctrlKey)&&!t.shiftKey};c.Controller_.prototype.isShiftKeyOnly_=function(t){return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};c.controller("ngeoGridController",c.Controller_);var f=c;var d=angular.module("ngeoGridModule",[f.name]);var p=e["a"]=d},function(t,e,i){"use strict";var n=i(2);var r=i(97);var a=i(1);var o=i(3);var s=i(84);var u=i(78);var l=function t(e,i,l){var c=this;var h=l["ngeoLayertreeNotroot"]===undefined;this.isRoot=h;var f=l["ngeoLayertree"];this.rootScope_=i;this.properties={};this.state_="off";this.node;if(h){e.$watch(f,function(t,e){c.node=t})}else{this.node=e.$eval(f);n["a"].assert(this.node!==undefined)}var d=l["ngeoLayertreeMap"];var p=e.$eval(d);n["a"].assert(p!==undefined);this.parent=e.$parent["layertreeCtrl"];this.children=[];if(this.parent){this.parent.children.push(this)}e.$on("$destroy",function(){if(c.parent){var t=c.parent.children.indexOf(c);n["a"].assert(t>=0);c.parent.children.splice(t,1)}});this.uid=a["c"](this);this.depth=h?0:this.parent.depth+1;e["uid"]=this.uid;e["depth"]=this.depth;this.map=p;var v=l["ngeoLayertreeNodelayer"];if(v===undefined){var g=l["ngeoLayertreeNodelayerexpr"];var m=e.$eval(g);n["a"].assertString(m);v=m}n["a"].assert(v!==undefined);this.nodelayerExpr=v;this.layer=null;if(!h){var y=e.$eval(v,{treeCtrl:this})||null;if(y){n["a"].assert(y instanceof u["a"]||y instanceof s["a"]);this.layer=y}}this.dataSource_=null;if(this.layer){r["a"].layerLoading(this.layer,e);r["a"].layer(this.layer);o["a"](this.layer,"change:opacity",function(){c.rootScope_.$broadcast("ngeo-layertree-opacity",c)})}var _=l["ngeoLayertreeListeners"];if(_===undefined){var b=l["ngeoLayertreeListenersexpr"];_=e.$eval(b)}if(_!==undefined){n["a"].assertString(_)}this.listenersExpr=_;if(_){e.$eval(_,{treeScope:e,treeCtrl:this})}e["layertreeCtrl"]=this};l.$inject=["$scope","$rootScope","$attrs"];l.$inject=["$scope","$rootScope","$attrs"];l.prototype.getState=function(){return this.state_};l.prototype.setState=function(t,e){var i=this;if(t===this.state_){return}this.setStateInternal_(t);if(this.parent){this.parent.refreshState()}var n=this.isRoot?this.children:[l.getFirstParentTree(this)];if(e===undefined||e){n.forEach(function(t){i.rootScope_.$broadcast("ngeo-layertree-state",i,t)})}};l.prototype.setStateInternal_=function(t){var e=this;this.state_=t==="on"?"on":"off";this.children.forEach(function(t){t.setStateInternal_(e.state_)})};l.prototype.refreshState=function(){var t=this.getCalculateState();if(this.state_===t){return}this.state_=t;if(this.parent){this.parent.refreshState()}};l.prototype.getCalculateState=function(){if(this.node.children===undefined){return this.state_}var t=void 0;var e=void 0;this.children.some(function(i){t=i.getCalculateState();if(e){if(e!==t){return t="indeterminate"}}e=t});return t};l.prototype.getSetActive=function(t){var e=this.layer;var i=this.map;if(!e){return}if(t!==undefined){if(!t){i.removeLayer(e)}else{i.addLayer(e)}}else{return i.getLayers().getArray().indexOf(e)>=0}};l.prototype.getDataSource=function(){return this.dataSource_};l.prototype.setDataSource=function(t){this.dataSource_=t};l.getFirstParentTree=function(t){var e=t;while(!e.parent.isRoot){e=e.parent}return e};l.VisitorDecision={STOP:"STOP",SKIP:"SKIP",DESCEND:"DESCEND"};l.Visitor;l.prototype.traverseDepthFirst=function(t){var e=t(this)||l.VisitorDecision.DESCEND;switch(e){case l.VisitorDecision.STOP:return true;case l.VisitorDecision.SKIP:return false;case l.VisitorDecision.DESCEND:for(var i=0;i<this.children.length;++i){var r=this.children[i];var a=r.traverseDepthFirst(t);if(a){return true}}return false;default:n["a"].fail("Unhandled case")}};l.module=angular.module("ngeoLayertreeController",[]);l.module.controller("ngeoLayertreeController",l);var c=l;var h=i(445);var f=angular.module("ngeoLayertree",[c.module.name]);f.value("ngeoLayertreeTemplateUrl",function(t,e){var i=e["ngeoLayertreeTemplateurl"];return i!==undefined?i:"ngeo/layertree"});f.run(["$templateCache",function(t){t.put("ngeo/layertree",i(444))}]);f.directive_=function(t){return{restrict:"A",scope:true,templateUrl:t,controller:c}};f.directive_.$inject=["ngeoLayertreeTemplateUrl"];f.directive("ngeoLayertree",f.directive_);var d=f;var p=angular.module("ngeoLayertreeModule",[d.name]);var v=e["a"]=p},function(t,e,i){"use strict";var n=i(2);var r=i(3);var a=i(11);var o=i(132);var s="http://www.w3.org/1999/xhtml";var u={svg:"http://www.w3.org/2000/svg",xhtml:s,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var l=function(t){var e=t+="",i=e.indexOf(":");if(i>=0&&(e=t.slice(0,i))!=="xmlns")t=t.slice(i+1);return u.hasOwnProperty(e)?{space:u[e],local:t}:t};function c(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===s&&e.documentElement.namespaceURI===s?e.createElement(t):e.createElementNS(i,t)}}function h(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var f=function(t){var e=l(t);return(e.local?h:c)(e)};function d(){}var p=function(t){return t==null?d:function(){return this.querySelector(t)}};var v=function(t){if(typeof t!=="function")t=p(t);for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r){for(var a=e[r],o=a.length,s=n[r]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new Zt(n,this._parents)};function g(){return[]}var m=function(t){return t==null?g:function(){return this.querySelectorAll(t)}};var y=function(t){if(typeof t!=="function")t=m(t);for(var e=this._groups,i=e.length,n=[],r=[],a=0;a<i;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){n.push(t.call(u,u.__data__,l,o));r.push(u)}}}return new Zt(n,r)};var _=function(t){return function(){return this.matches(t)}};if(typeof document!=="undefined"){var b=document.documentElement;if(!b.matches){var w=b.webkitMatchesSelector||b.msMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector;_=function(t){return function(){return w.call(this,t)}}}}var O=_;var x=function(t){if(typeof t!=="function")t=O(t);for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r){for(var a=e[r],o=a.length,s=n[r]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Zt(n,this._parents)};var S=function(t){return new Array(t.length)};var C=function(){return new Zt(this._enter||this._groups.map(S),this._parents)};function T(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}T.prototype={constructor:T,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var E=function(t){return function(){return t}};var M="$";function j(t,e,i,n,r,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];n[o]=s}else{i[o]=new T(t,a[o])}}for(;o<u;++o){if(s=e[o]){r[o]=s}}}function k(t,e,i,n,r,a,o){var s,u,l={},c=e.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){f[s]=d=M+o.call(u,u.__data__,s,e);if(d in l){r[s]=u}else{l[d]=u}}}for(s=0;s<h;++s){d=M+o.call(t,a[s],s,a);if(u=l[d]){n[s]=u;u.__data__=a[s];l[d]=null}else{i[s]=new T(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[f[s]]===u){r[s]=u}}}var R=function(t,e){if(!t){d=new Array(this.size()),l=-1;this.each(function(t){d[++l]=t});return d}var i=e?k:j,n=this._parents,r=this._groups;if(typeof t!=="function")t=E(t);for(var a=r.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=n[l],h=r[l],f=h.length,d=t.call(c,c&&c.__data__,l,n),p=d.length,v=s[l]=new Array(p),g=o[l]=new Array(p),m=u[l]=new Array(f);i(c,h,v,g,m,d,e);for(var y=0,_=0,b,w;y<p;++y){if(b=v[y]){if(y>=_)_=y+1;while(!(w=g[_])&&++_<p);b._next=w||null}}}o=new Zt(o,n);o._enter=s;o._exit=u;return o};var A=function(){return new Zt(this._exit||this._groups.map(S),this._parents)};var I=function(t){for(var e=this._groups,i=t._groups,n=e.length,r=i.length,a=Math.min(n,r),o=new Array(n),s=0;s<a;++s){for(var u=e[s],l=i[s],c=u.length,h=o[s]=new Array(c),f,d=0;d<c;++d){if(f=u[d]||l[d]){h[d]=f}}}for(;s<n;++s){o[s]=e[s]}return new Zt(o,this._parents)};var P=function(){for(var t=this._groups,e=-1,i=t.length;++e<i;){for(var n=t[e],r=n.length-1,a=n[r],o;--r>=0;){if(o=n[r]){if(a&&a!==o.nextSibling)a.parentNode.insertBefore(o,a);a=o}}}return this};var D=function(t){if(!t)t=N;function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}for(var i=this._groups,n=i.length,r=new Array(n),a=0;a<n;++a){for(var o=i[a],s=o.length,u=r[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(e)}return new Zt(r,this._parents).order()};function N(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var $=function(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this};var L=function(){var t=new Array(this.size()),e=-1;this.each(function(){t[++e]=this});return t};var F=function(){for(var t=this._groups,e=0,i=t.length;e<i;++e){for(var n=t[e],r=0,a=n.length;r<a;++r){var o=n[r];if(o)return o}}return null};var G=function(){var t=0;this.each(function(){++t});return t};var U=function(){return!this.node()};var H=function(t){for(var e=this._groups,i=0,n=e.length;i<n;++i){for(var r=e[i],a=0,o=r.length,s;a<o;++a){if(s=r[a])t.call(s,s.__data__,a,r)}}return this};function W(t){return function(){this.removeAttribute(t)}}function Y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function z(t,e){return function(){this.setAttribute(t,e)}}function V(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function B(t,e){return function(){var i=e.apply(this,arguments);if(i==null)this.removeAttribute(t);else this.setAttribute(t,i)}}function q(t,e){return function(){var i=e.apply(this,arguments);if(i==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,i)}}var K=function(t,e){var i=l(t);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((e==null?i.local?Y:W:typeof e==="function"?i.local?q:B:i.local?V:z)(i,e))};var X=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Z(t){return function(){this.style.removeProperty(t)}}function Q(t,e,i){return function(){this.style.setProperty(t,e,i)}}function J(t,e,i){return function(){var n=e.apply(this,arguments);if(n==null)this.style.removeProperty(t);else this.style.setProperty(t,n,i)}}var tt=function(t,e,i){return arguments.length>1?this.each((e==null?Z:typeof e==="function"?J:Q)(t,e,i==null?"":i)):et(this.node(),t)};function et(t,e){return t.style.getPropertyValue(e)||X(t).getComputedStyle(t,null).getPropertyValue(e)}function it(t){return function(){delete this[t]}}function nt(t,e){return function(){this[t]=e}}function rt(t,e){return function(){var i=e.apply(this,arguments);if(i==null)delete this[t];else this[t]=i}}var at=function(t,e){return arguments.length>1?this.each((e==null?it:typeof e==="function"?rt:nt)(t,e)):this.node()[t]};function ot(t){return t.trim().split(/^|\s+/)}function st(t){return t.classList||new ut(t)}function ut(t){this._node=t;this._names=ot(t.getAttribute("class")||"")}ut.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function lt(t,e){var i=st(t),n=-1,r=e.length;while(++n<r)i.add(e[n])}function ct(t,e){var i=st(t),n=-1,r=e.length;while(++n<r)i.remove(e[n])}function ht(t){return function(){lt(this,t)}}function ft(t){return function(){ct(this,t)}}function dt(t,e){return function(){(e.apply(this,arguments)?lt:ct)(this,t)}}var pt=function(t,e){var i=ot(t+"");if(arguments.length<2){var n=st(this.node()),r=-1,a=i.length;while(++r<a)if(!n.contains(i[r]))return false;return true}return this.each((typeof e==="function"?dt:e?ht:ft)(i,e))};function vt(){this.textContent=""}function gt(t){return function(){this.textContent=t}}function mt(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}var yt=function(t){return arguments.length?this.each(t==null?vt:(typeof t==="function"?mt:gt)(t)):this.node().textContent};function _t(){this.innerHTML=""}function bt(t){return function(){this.innerHTML=t}}function wt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}var Ot=function(t){return arguments.length?this.each(t==null?_t:(typeof t==="function"?wt:bt)(t)):this.node().innerHTML};function xt(){if(this.nextSibling)this.parentNode.appendChild(this)}var St=function(){return this.each(xt)};function Ct(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Tt=function(){return this.each(Ct)};var Et=function(t){var e=typeof t==="function"?t:f(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function Mt(){return null}var jt=function(t,e){var i=typeof t==="function"?t:f(t),n=e==null?Mt:typeof e==="function"?e:p(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})};function kt(){var t=this.parentNode;if(t)t.removeChild(this)}var Rt=function(){return this.each(kt)};function At(){return this.parentNode.insertBefore(this.cloneNode(false),this.nextSibling)}function It(){return this.parentNode.insertBefore(this.cloneNode(true),this.nextSibling)}var Pt=function(t){return this.select(t?It:At)};var Dt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};var Nt={};var $t=null;if(typeof document!=="undefined"){var Lt=document.documentElement;if(!("onmouseenter"in Lt)){Nt={mouseenter:"mouseover",mouseleave:"mouseout"}}}function Ft(t,e,i){t=Gt(t,e,i);return function(e){var i=e.relatedTarget;if(!i||i!==this&&!(i.compareDocumentPosition(this)&8)){t.call(this,e)}}}function Gt(t,e,i){return function(n){var r=$t;$t=n;try{t.call(this,this.__data__,e,i)}finally{$t=r}}}function Ut(t){return t.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");if(i>=0)e=t.slice(i+1),t=t.slice(0,i);return{type:t,name:e}})}function Ht(t){return function(){var e=this.__on;if(!e)return;for(var i=0,n=-1,r=e.length,a;i<r;++i){if(a=e[i],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{e[++n]=a}}if(++n)e.length=n;else delete this.__on}}function Wt(t,e,i){var n=Nt.hasOwnProperty(t.type)?Ft:Gt;return function(r,a,o){var s=this.__on,u,l=n(e,a,o);if(s)for(var c=0,h=s.length;c<h;++c){if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture);this.addEventListener(u.type,u.listener=l,u.capture=i);u.value=e;return}}this.addEventListener(t.type,l,i);u={type:t.type,name:t.name,value:e,listener:l,capture:i};if(!s)this.__on=[u];else s.push(u)}}var Yt=function(t,e,i){var n=Ut(t+""),r,a=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(r=0,c=s[u];r<a;++r){if((o=n[r]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?Wt:Ht;if(i==null)i=false;for(r=0;r<a;++r)this.each(s(n[r],e,i));return this};function zt(t,e,i,n){var r=$t;t.sourceEvent=$t;$t=t;try{return e.apply(i,n)}finally{$t=r}}function Vt(t,e,i){var n=X(t),r=n.CustomEvent;if(typeof r==="function"){r=new r(e,i)}else{r=n.document.createEvent("Event");if(i)r.initEvent(e,i.bubbles,i.cancelable),r.detail=i.detail;else r.initEvent(e,false,false)}t.dispatchEvent(r)}function Bt(t,e){return function(){return Vt(this,t,e)}}function qt(t,e){return function(){return Vt(this,t,e.apply(this,arguments))}}var Kt=function(t,e){return this.each((typeof e==="function"?qt:Bt)(t,e))};var Xt=[null];function Zt(t,e){this._groups=t;this._parents=e}function Qt(){return new Zt([[document.documentElement]],Xt)}Zt.prototype=Qt.prototype={constructor:Zt,select:v,selectAll:y,filter:x,data:R,enter:C,exit:A,merge:I,order:P,sort:D,call:$,nodes:L,node:F,size:G,empty:U,each:H,attr:K,style:tt,property:at,classed:pt,text:yt,html:Ot,raise:St,lower:Tt,append:Et,insert:jt,remove:Rt,clone:Pt,datum:Dt,on:Yt,dispatch:Kt};var Jt=Qt;var te=function(t){return typeof t==="string"?new Zt([[document.querySelector(t)]],[document.documentElement]):new Zt([[t]],Xt)};var ee=function(t){return te(f(t).call(document.documentElement))};var ie=0;function ne(){return new re}function re(){this._="@"+(++ie).toString(36)}re.prototype=ne.prototype={constructor:re,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var ae=function(){var t=$t,e;while(e=t.sourceEvent)t=e;return t};var oe=function(t,e){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();n.x=e.clientX,n.y=e.clientY;n=n.matrixTransform(t.getScreenCTM().inverse());return[n.x,n.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]};var se=function(t){var e=ae();if(e.changedTouches)e=e.changedTouches[0];return oe(t,e)};var ue=function(t){return typeof t==="string"?new Zt([document.querySelectorAll(t)],[document.documentElement]):new Zt([t==null?[]:t],Xt)};var le=function(t,e,i){if(arguments.length<3)i=e,e=ae().changedTouches;for(var n=0,r=e?e.length:0,a;n<r;++n){if((a=e[n]).identifier===i){return oe(t,a)}}return null};var ce=function(t,e){if(e==null)e=ae().touches;for(var i=0,n=e?e.length:0,r=new Array(n);i<n;++i){r[i]=oe(t,e[i])}return r};var he=i(325);var fe=i(213);var de=Object(he["dispatch"])("start","end","interrupt");var pe=[];var ve=0;var ge=1;var me=2;var ye=3;var _e=4;var be=5;var we=6;var Oe=function(t,e,i,n,r,a){var o=t.__transition;if(!o)t.__transition={};else if(i in o)return;Te(t,i,{name:e,index:n,group:r,on:de,tween:pe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ve})};function xe(t,e){var i=Ce(t,e);if(i.state>ve)throw new Error("too late; already scheduled");return i}function Se(t,e){var i=Ce(t,e);if(i.state>me)throw new Error("too late; already started");return i}function Ce(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function Te(t,e,i){var n=t.__transition,r;n[e]=i;i.timer=Object(fe["timer"])(a,0,i.time);function a(t){i.state=ge;i.timer.restart(o,i.delay,i.time);if(i.delay<=t)o(t-i.delay)}function o(a){var l,c,h,f;if(i.state!==ge)return u();for(l in n){f=n[l];if(f.name!==i.name)continue;if(f.state===ye)return Object(fe["timeout"])(o);if(f.state===_e){f.state=we;f.timer.stop();f.on.call("interrupt",t,t.__data__,f.index,f.group);delete n[l]}else if(+l<e){f.state=we;f.timer.stop();delete n[l]}}Object(fe["timeout"])(function(){if(i.state===ye){i.state=_e;i.timer.restart(s,i.delay,i.time);s(a)}});i.state=me;i.on.call("start",t,t.__data__,i.index,i.group);if(i.state!==me)return;i.state=ye;r=new Array(h=i.tween.length);for(l=0,c=-1;l<h;++l){if(f=i.tween[l].value.call(t,t.__data__,i.index,i.group)){r[++c]=f}}r.length=c+1}function s(e){var n=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(u),i.state=be,1),a=-1,o=r.length;while(++a<o){r[a].call(null,n)}if(i.state===be){i.on.call("end",t,t.__data__,i.index,i.group);u()}}function u(){i.state=we;i.timer.stop();delete n[e];for(var r in n)return;delete t.__transition}}var Ee=function(t,e){var i=t.__transition,n,r,a=true,o;if(!i)return;e=e==null?null:e+"";for(o in i){if((n=i[o]).name!==e){a=false;continue}r=n.state>me&&n.state<be;n.state=we;n.timer.stop();if(r)n.on.call("interrupt",t,t.__data__,n.index,n.group);delete i[o]}if(a)delete t.__transition};var Me=function(t){return this.each(function(){Ee(this,t)})};var je=i(95);function ke(t,e){var i,n;return function(){var r=Se(this,t),a=r.tween;if(a!==i){n=i=a;for(var o=0,s=n.length;o<s;++o){if(n[o].name===e){n=n.slice();n.splice(o,1);break}}}r.tween=n}}function Re(t,e,i){var n,r;if(typeof i!=="function")throw new Error;return function(){var a=Se(this,t),o=a.tween;if(o!==n){r=(n=o).slice();for(var s={name:e,value:i},u=0,l=r.length;u<l;++u){if(r[u].name===e){r[u]=s;break}}if(u===l)r.push(s)}a.tween=r}}var Ae=function(t,e){var i=this._id;t+="";if(arguments.length<2){var n=Ce(this.node(),i).tween;for(var r=0,a=n.length,o;r<a;++r){if((o=n[r]).name===t){return o.value}}return null}return this.each((e==null?ke:Re)(i,t,e))};function Ie(t,e,i){var n=t._id;t.each(function(){var t=Se(this,n);(t.value||(t.value={}))[e]=i.apply(this,arguments)});return function(t){return Ce(t,n).value[e]}}var Pe=i(140);var De=function(t,e){var i;return(typeof e==="number"?je["interpolateNumber"]:e instanceof Pe["color"]?je["interpolateRgb"]:(i=Object(Pe["color"])(e))?(e=i,je["interpolateRgb"]):je["interpolateString"])(t,e)};function Ne(t){return function(){this.removeAttribute(t)}}function $e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Le(t,e,i){var n,r;return function(){var a=this.getAttribute(t);return a===i?null:a===n?r:r=e(n=a,i)}}function Fe(t,e,i){var n,r;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===n?r:r=e(n=a,i)}}function Ge(t,e,i){var n,r,a;return function(){var o,s=i(this);if(s==null)return void this.removeAttribute(t);o=this.getAttribute(t);return o===s?null:o===n&&s===r?a:a=e(n=o,r=s)}}function Ue(t,e,i){var n,r,a;return function(){var o,s=i(this);if(s==null)return void this.removeAttributeNS(t.space,t.local);o=this.getAttributeNS(t.space,t.local);return o===s?null:o===n&&s===r?a:a=e(n=o,r=s)}}var He=function(t,e){var i=l(t),n=i==="transform"?je["interpolateTransformSvg"]:De;return this.attrTween(t,typeof e==="function"?(i.local?Ue:Ge)(i,n,Ie(this,"attr."+t,e)):e==null?(i.local?$e:Ne)(i):(i.local?Fe:Le)(i,n,e+""))};function We(t,e){function i(){var i=this,n=e.apply(i,arguments);return n&&function(e){i.setAttributeNS(t.space,t.local,n(e))}}i._value=e;return i}function Ye(t,e){function i(){var i=this,n=e.apply(i,arguments);return n&&function(e){i.setAttribute(t,n(e))}}i._value=e;return i}var ze=function(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!=="function")throw new Error;var n=l(t);return this.tween(i,(n.local?We:Ye)(n,e))};function Ve(t,e){return function(){xe(this,t).delay=+e.apply(this,arguments)}}function Be(t,e){return e=+e,function(){xe(this,t).delay=e}}var qe=function(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?Ve:Be)(e,t)):Ce(this.node(),e).delay};function Ke(t,e){return function(){Se(this,t).duration=+e.apply(this,arguments)}}function Xe(t,e){return e=+e,function(){Se(this,t).duration=e}}var Ze=function(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?Ke:Xe)(e,t)):Ce(this.node(),e).duration};function Qe(t,e){if(typeof e!=="function")throw new Error;return function(){Se(this,t).ease=e}}var Je=function(t){var e=this._id;return arguments.length?this.each(Qe(e,t)):Ce(this.node(),e).ease};var ti=function(t){if(typeof t!=="function")t=O(t);for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r){for(var a=e[r],o=a.length,s=n[r]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new xi(n,this._parents,this._name,this._id)};var ei=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,n=e.length,r=i.length,a=Math.min(n,r),o=new Array(n),s=0;s<a;++s){for(var u=e[s],l=i[s],c=u.length,h=o[s]=new Array(c),f,d=0;d<c;++d){if(f=u[d]||l[d]){h[d]=f}}}for(;s<n;++s){o[s]=e[s]}return new xi(o,this._parents,this._name,this._id)};function ii(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");if(e>=0)t=t.slice(0,e);return!t||t==="start"})}function ni(t,e,i){var n,r,a=ii(e)?xe:Se;return function(){var o=a(this,t),s=o.on;if(s!==n)(r=(n=s).copy()).on(e,i);o.on=r}}var ri=function(t,e){var i=this._id;return arguments.length<2?Ce(this.node(),i).on.on(t):this.each(ni(i,t,e))};function ai(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;if(e)e.removeChild(this)}}var oi=function(){return this.on("end.remove",ai(this._id))};var si=function(t){var e=this._name,i=this._id;if(typeof t!=="function")t=p(t);for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var s=n[o],u=s.length,l=a[o]=new Array(u),c,h,f=0;f<u;++f){if((c=s[f])&&(h=t.call(c,c.__data__,f,s))){if("__data__"in c)h.__data__=c.__data__;l[f]=h;Oe(l[f],e,i,f,l,Ce(c,i))}}}return new xi(a,this._parents,e,i)};var ui=function(t){var e=this._name,i=this._id;if(typeof t!=="function")t=m(t);for(var n=this._groups,r=n.length,a=[],o=[],s=0;s<r;++s){for(var u=n[s],l=u.length,c,h=0;h<l;++h){if(c=u[h]){for(var f=t.call(c,c.__data__,h,u),d,p=Ce(c,i),v=0,g=f.length;v<g;++v){if(d=f[v]){Oe(d,e,i,v,f,p)}}a.push(f);o.push(c)}}}return new xi(a,o,e,i)};var li=Jt.prototype.constructor;var ci=function(){return new li(this._groups,this._parents)};function hi(t,e){var i,n,r;return function(){var a=et(this,t),o=(this.style.removeProperty(t),et(this,t));return a===o?null:a===i&&o===n?r:r=e(i=a,n=o)}}function fi(t){return function(){this.style.removeProperty(t)}}function di(t,e,i){var n,r;return function(){var a=et(this,t);return a===i?null:a===n?r:r=e(n=a,i)}}function pi(t,e,i){var n,r,a;return function(){var o=et(this,t),s=i(this);if(s==null)s=(this.style.removeProperty(t),et(this,t));return o===s?null:o===n&&s===r?a:a=e(n=o,r=s)}}var vi=function(t,e,i){var n=(t+="")==="transform"?je["interpolateTransformCss"]:De;return e==null?this.styleTween(t,hi(t,n)).on("end.style."+t,fi(t)):this.styleTween(t,typeof e==="function"?pi(t,n,Ie(this,"style."+t,e)):di(t,n,e+""),i)};function gi(t,e,i){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.style.setProperty(t,r(e),i)}}n._value=e;return n}var mi=function(t,e,i){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=="function")throw new Error;return this.tween(n,gi(t,e,i==null?"":i))};function yi(t){return function(){this.textContent=t}}function _i(t){return function(){var e=t(this);this.textContent=e==null?"":e}}var bi=function(t){return this.tween("text",typeof t==="function"?_i(Ie(this,"text",t)):yi(t==null?"":t+""))};var wi=function(){var t=this._name,e=this._id,i=Ci();for(var n=this._groups,r=n.length,a=0;a<r;++a){for(var o=n[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){var c=Ce(u,e);Oe(u,t,i,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new xi(n,this._parents,t,i)};var Oi=0;function xi(t,e,i,n){this._groups=t;this._parents=e;this._name=i;this._id=n}function Si(t){return Jt().transition(t)}function Ci(){return++Oi}var Ti=Jt.prototype;xi.prototype=Si.prototype={constructor:xi,select:si,selectAll:ui,filter:ti,merge:ei,selection:ci,transition:wi,call:Ti.call,nodes:Ti.nodes,node:Ti.node,size:Ti.size,empty:Ti.empty,each:Ti.each,on:ri,attr:He,attrTween:ze,style:vi,styleTween:mi,text:bi,remove:oi,tween:Ae,delay:qe,duration:Ze,ease:Je};var Ei=i(324);var Mi={time:null,delay:0,duration:250,ease:Ei["easeCubicInOut"]};function ji(t,e){var i;while(!(i=t.__transition)||!(i=i[e])){if(!(t=t.parentNode)){return Mi.time=Object(fe["now"])(),Mi}}return i}var ki=function(t){var e,i;if(t instanceof xi){e=t._id,t=t._name}else{e=Ci(),(i=Mi).time=Object(fe["now"])(),t=t==null?null:t+""}for(var n=this._groups,r=n.length,a=0;a<r;++a){for(var o=n[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){Oe(u,t,e,l,o,i||ji(u,e))}}}return new xi(n,this._parents,t,e)};Jt.prototype.interrupt=Me;Jt.prototype.transition=ki;var Ri=[null];var Ai=function(t,e){var i=t.__transition,n,r;if(i){e=e==null?null:e+"";for(r in i){if((n=i[r]).state>ge&&n.name===e){return new xi([[t]],Ri,e,+r)}}}return null};var Ii=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var Pi=function(t){if(t.length===1)t=Di(t);return{left:function(e,i,n,r){if(n==null)n=0;if(r==null)r=e.length;while(n<r){var a=n+r>>>1;if(t(e[a],i)<0)n=a+1;else r=a}return n},right:function(e,i,n,r){if(n==null)n=0;if(r==null)r=e.length;while(n<r){var a=n+r>>>1;if(t(e[a],i)>0)r=a;else n=a+1}return n}}};function Di(t){return function(e,i){return Ii(t(e),i)}}var Ni=Pi(Ii);var $i=Ni.right;var Li=Ni.left;var Fi=$i;var Gi=function(t,e){if(e==null)e=Ui;var i=0,n=t.length-1,r=t[0],a=new Array(n<0?0:n);while(i<n)a[i]=e(r,r=t[++i]);return a};function Ui(t,e){return[t,e]}var Hi=function(t,e,i){var n=t.length,r=e.length,a=new Array(n*r),o,s,u,l;if(i==null)i=Ui;for(o=u=0;o<n;++o){for(l=t[o],s=0;s<r;++s,++u){a[u]=i(l,e[s])}}return a};var Wi=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN};var Yi=function(t){return t===null?NaN:+t};var zi=function(t,e){var i=t.length,n=0,r=-1,a=0,o,s,u=0;if(e==null){while(++r<i){if(!isNaN(o=Yi(t[r]))){s=o-a;a+=s/++n;u+=s*(o-a)}}}else{while(++r<i){if(!isNaN(o=Yi(e(t[r],r,t)))){s=o-a;a+=s/++n;u+=s*(o-a)}}}if(n>1)return u/(n-1)};var Vi=function(t,e){var i=zi(t,e);return i?Math.sqrt(i):i};var Bi=function(t,e){var i=t.length,n=-1,r,a,o;if(e==null){while(++n<i){if((r=t[n])!=null&&r>=r){a=o=r;while(++n<i){if((r=t[n])!=null){if(a>r)a=r;if(o<r)o=r}}}}}else{while(++n<i){if((r=e(t[n],n,t))!=null&&r>=r){a=o=r;while(++n<i){if((r=e(t[n],n,t))!=null){if(a>r)a=r;if(o<r)o=r}}}}}return[a,o]};var qi=Array.prototype;var Ki=qi.slice;var Xi=qi.map;var Zi=function(t){return function(){return t}};var Qi=function(t){return t};var Ji=function(t,e,i){t=+t,e=+e,i=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+i;var n=-1,r=Math.max(0,Math.ceil((e-t)/i))|0,a=new Array(r);while(++n<r){a[n]=t+n*i}return a};var tn=Math.sqrt(50),en=Math.sqrt(10),nn=Math.sqrt(2);var rn=function(t,e,i){var n,r=-1,a,o,s;e=+e,t=+t,i=+i;if(t===e&&i>0)return[t];if(n=e<t)a=t,t=e,e=a;if((s=an(t,e,i))===0||!isFinite(s))return[];if(s>0){t=Math.ceil(t/s);e=Math.floor(e/s);o=new Array(a=Math.ceil(e-t+1));while(++r<a)o[r]=(t+r)*s}else{t=Math.floor(t*s);e=Math.ceil(e*s);o=new Array(a=Math.ceil(t-e+1));while(++r<a)o[r]=(t-r)/s}if(n)o.reverse();return o};function an(t,e,i){var n=(e-t)/Math.max(0,i),r=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,r);return r>=0?(a>=tn?10:a>=en?5:a>=nn?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=tn?10:a>=en?5:a>=nn?2:1)}function on(t,e,i){var n=Math.abs(e-t)/Math.max(0,i),r=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/r;if(a>=tn)r*=10;else if(a>=en)r*=5;else if(a>=nn)r*=2;return e<t?-r:r}var sn=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1};var un=function(){var t=Qi,e=Bi,i=sn;function n(n){var r,a=n.length,o,s=new Array(a);for(r=0;r<a;++r){s[r]=t(n[r],r,n)}var u=e(s),l=u[0],c=u[1],h=i(s,l,c);if(!Array.isArray(h)){h=on(l,c,h);h=Ji(Math.ceil(l/h)*h,Math.floor(c/h)*h,h)}var f=h.length;while(h[0]<=l)h.shift(),--f;while(h[f-1]>c)h.pop(),--f;var d=new Array(f+1),p;for(r=0;r<=f;++r){p=d[r]=[];p.x0=r>0?h[r-1]:l;p.x1=r<f?h[r]:c}for(r=0;r<a;++r){o=s[r];if(l<=o&&o<=c){d[Fi(h,o,0,f)].push(n[r])}}return d}n.value=function(e){return arguments.length?(t=typeof e==="function"?e:Zi(e),n):t};n.domain=function(t){return arguments.length?(e=typeof t==="function"?t:Zi([t[0],t[1]]),n):e};n.thresholds=function(t){return arguments.length?(i=typeof t==="function"?t:Array.isArray(t)?Zi(Ki.call(t)):Zi(t),n):i};return n};var ln=function(t,e,i){if(i==null)i=Yi;if(!(n=t.length))return;if((e=+e)<=0||n<2)return+i(t[0],0,t);if(e>=1)return+i(t[n-1],n-1,t);var n,r=(n-1)*e,a=Math.floor(r),o=+i(t[a],a,t),s=+i(t[a+1],a+1,t);return o+(s-o)*(r-a)};var cn=function(t,e,i){t=Xi.call(t,Yi).sort(Ii);return Math.ceil((i-e)/(2*(ln(t,.75)-ln(t,.25))*Math.pow(t.length,-1/3)))};var hn=function(t,e,i){return Math.ceil((i-e)/(3.5*Vi(t)*Math.pow(t.length,-1/3)))};var fn=function(t,e){var i=t.length,n=-1,r,a;if(e==null){while(++n<i){if((r=t[n])!=null&&r>=r){a=r;while(++n<i){if((r=t[n])!=null&&r>a){a=r}}}}}else{while(++n<i){if((r=e(t[n],n,t))!=null&&r>=r){a=r;while(++n<i){if((r=e(t[n],n,t))!=null&&r>a){a=r}}}}}return a};var dn=function(t,e){var i=t.length,n=i,r=-1,a,o=0;if(e==null){while(++r<i){if(!isNaN(a=Yi(t[r])))o+=a;else--n}}else{while(++r<i){if(!isNaN(a=Yi(e(t[r],r,t))))o+=a;else--n}}if(n)return o/n};var pn=function(t,e){var i=t.length,n=-1,r,a=[];if(e==null){while(++n<i){if(!isNaN(r=Yi(t[n]))){a.push(r)}}}else{while(++n<i){if(!isNaN(r=Yi(e(t[n],n,t)))){a.push(r)}}}return ln(a.sort(Ii),.5)};var vn=function(t){var e=t.length,i,n=-1,r=0,a,o;while(++n<e)r+=t[n].length;a=new Array(r);while(--e>=0){o=t[e];i=o.length;while(--i>=0){a[--r]=o[i]}}return a};var gn=function(t,e){var i=t.length,n=-1,r,a;if(e==null){while(++n<i){if((r=t[n])!=null&&r>=r){a=r;while(++n<i){if((r=t[n])!=null&&a>r){a=r}}}}}else{while(++n<i){if((r=e(t[n],n,t))!=null&&r>=r){a=r;while(++n<i){if((r=e(t[n],n,t))!=null&&a>r){a=r}}}}}return a};var mn=function(t,e){var i=e.length,n=new Array(i);while(i--)n[i]=t[e[i]];return n};var yn=function(t,e){if(!(i=t.length))return;var i,n=0,r=0,a,o=t[r];if(e==null)e=Ii;while(++n<i){if(e(a=t[n],o)<0||e(o,o)!==0){o=a,r=n}}if(e(o,o)===0)return r};var _n=function(t,e,i){var n=(i==null?t.length:i)-(e=e==null?0:+e),r,a;while(n){a=Math.random()*n--|0;r=t[n+e];t[n+e]=t[a+e];t[a+e]=r}return t};var bn=function(t,e){var i=t.length,n=-1,r,a=0;if(e==null){while(++n<i){if(r=+t[n])a+=r}}else{while(++n<i){if(r=+e(t[n],n,t))a+=r}}return a};var wn=function(t){if(!(a=t.length))return[];for(var e=-1,i=gn(t,On),n=new Array(i);++e<i;){for(var r=-1,a,o=n[e]=new Array(a);++r<a;){o[r]=t[r][e]}}return n};function On(t){return t.length}var xn=function(){return wn(arguments)};var Sn=Array.prototype.slice;var Cn=function(t){return t};var Tn=1,En=2,Mn=3,jn=4,kn=1e-6;function Rn(t){return"translate("+(t+.5)+",0)"}function An(t){return"translate(0,"+(t+.5)+")"}function In(t){return function(e){return+t(e)}}function Pn(t){var e=Math.max(0,t.bandwidth()-1)/2;if(t.round())e=Math.round(e);return function(i){return+t(i)+e}}function Dn(){return!this.__axis}function Nn(t,e){var i=[],n=null,r=null,a=6,o=6,s=3,u=t===Tn||t===jn?-1:1,l=t===jn||t===En?"x":"y",c=t===Tn||t===Mn?Rn:An;function h(h){var f=n==null?e.ticks?e.ticks.apply(e,i):e.domain():n,d=r==null?e.tickFormat?e.tickFormat.apply(e,i):Cn:r,p=Math.max(a,0)+s,v=e.range(),g=+v[0]+.5,m=+v[v.length-1]+.5,y=(e.bandwidth?Pn:In)(e.copy()),_=h.selection?h.selection():h,b=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(f,e).order(),O=w.exit(),x=w.enter().append("g").attr("class","tick"),S=w.select("line"),C=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000"));w=w.merge(x);S=S.merge(x.append("line").attr("stroke","#000").attr(l+"2",u*a));C=C.merge(x.append("text").attr("fill","#000").attr(l,u*p).attr("dy",t===Tn?"0em":t===Mn?"0.71em":"0.32em"));if(h!==_){b=b.transition(h);w=w.transition(h);S=S.transition(h);C=C.transition(h);O=O.transition(h).attr("opacity",kn).attr("transform",function(t){return isFinite(t=y(t))?c(t):this.getAttribute("transform")});x.attr("opacity",kn).attr("transform",function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:y(t))})}O.remove();b.attr("d",t===jn||t==En?"M"+u*o+","+g+"H0.5V"+m+"H"+u*o:"M"+g+","+u*o+"V0.5H"+m+"V"+u*o);w.attr("opacity",1).attr("transform",function(t){return c(y(t))});S.attr(l+"2",u*a);C.attr(l,u*p).text(d);_.filter(Dn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===En?"start":t===jn?"end":"middle");_.each(function(){this.__axis=y})}h.scale=function(t){return arguments.length?(e=t,h):e};h.ticks=function(){return i=Sn.call(arguments),h};h.tickArguments=function(t){return arguments.length?(i=t==null?[]:Sn.call(t),h):i.slice()};h.tickValues=function(t){return arguments.length?(n=t==null?null:Sn.call(t),h):n&&n.slice()};h.tickFormat=function(t){return arguments.length?(r=t,h):r};h.tickSize=function(t){return arguments.length?(a=o=+t,h):a};h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a};h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o};h.tickPadding=function(t){return arguments.length?(s=+t,h):s};return h}function $n(t){return Nn(Tn,t)}function Ln(t){return Nn(En,t)}function Fn(t){return Nn(Mn,t)}function Gn(t){return Nn(jn,t)}var Un=i(304);var Hn=Array.prototype;var Wn=Hn.map;var Yn=Hn.slice;var zn={name:"implicit"};function Vn(t){var e=Object(Un["map"])(),i=[],n=zn;t=t==null?[]:Yn.call(t);function r(r){var a=r+"",o=e.get(a);if(!o){if(n!==zn)return n;e.set(a,o=i.push(r))}return t[(o-1)%t.length]}r.domain=function(t){if(!arguments.length)return i.slice();i=[],e=Object(Un["map"])();var n=-1,a=t.length,o,s;while(++n<a)if(!e.has(s=(o=t[n])+""))e.set(s,i.push(o));return r};r.range=function(e){return arguments.length?(t=Yn.call(e),r):t.slice()};r.unknown=function(t){return arguments.length?(n=t,r):n};r.copy=function(){return Vn().domain(i).range(t).unknown(n)};return r}function Bn(){var t=Vn().unknown(undefined),e=t.domain,i=t.range,n=[0,1],r,a,o=false,s=0,u=0,l=.5;delete t.unknown;function c(){var t=e().length,c=n[1]<n[0],h=n[c-0],f=n[1-c];r=(f-h)/Math.max(1,t-s+u*2);if(o)r=Math.floor(r);h+=(f-h-r*(t-s))*l;a=r*(1-s);if(o)h=Math.round(h),a=Math.round(a);var d=Ji(t).map(function(t){return h+r*t});return i(c?d.reverse():d)}t.domain=function(t){return arguments.length?(e(t),c()):e()};t.range=function(t){return arguments.length?(n=[+t[0],+t[1]],c()):n.slice()};t.rangeRound=function(t){return n=[+t[0],+t[1]],o=true,c()};t.bandwidth=function(){return a};t.step=function(){return r};t.round=function(t){return arguments.length?(o=!!t,c()):o};t.padding=function(t){return arguments.length?(s=u=Math.max(0,Math.min(1,t)),c()):s};t.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),c()):s};t.paddingOuter=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u};t.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l};t.copy=function(){return Bn().domain(e()).range(n).round(o).paddingInner(s).paddingOuter(u).align(l)};return c()}function qn(t){var e=t.copy;t.padding=t.paddingOuter;delete t.paddingInner;delete t.paddingOuter;t.copy=function(){return qn(e())};return t}function Kn(){return qn(Bn().paddingInner(1))}var Xn=function(t){return function(){return t}};var Zn=function(t){return+t};var Qn=[0,1];function Jn(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:Xn(e)}function tr(t){return function(e,i){var n=t(e=+e,i=+i);return function(t){return t<=e?0:t>=i?1:n(t)}}}function er(t){return function(e,i){var n=t(e=+e,i=+i);return function(t){return t<=0?e:t>=1?i:n(t)}}}function ir(t,e,i,n){var r=t[0],a=t[1],o=e[0],s=e[1];if(a<r)r=i(a,r),o=n(s,o);else r=i(r,a),o=n(o,s);return function(t){return o(r(t))}}function nr(t,e,i,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),s=-1;if(t[r]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}while(++s<r){a[s]=i(t[s],t[s+1]);o[s]=n(e[s],e[s+1])}return function(e){var i=Fi(t,e,1,r)-1;return o[i](a[i](e))}}function rr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ar(t,e){var i=Qn,n=Qn,r=je["interpolate"],a=false,o,s,u;function l(){o=Math.min(i.length,n.length)>2?nr:ir;s=u=null;return c}function c(e){return(s||(s=o(i,n,a?tr(t):t,r)))(+e)}c.invert=function(t){return(u||(u=o(n,i,Jn,a?er(e):e)))(+t)};c.domain=function(t){return arguments.length?(i=Wn.call(t,Zn),l()):i.slice()};c.range=function(t){return arguments.length?(n=Yn.call(t),l()):n.slice()};c.rangeRound=function(t){return n=Yn.call(t),r=je["interpolateRound"],l()};c.clamp=function(t){return arguments.length?(a=!!t,l()):a};c.interpolate=function(t){return arguments.length?(r=t,l()):r};return l()}var or=i(180);var sr=function(t,e,i){var n=t[0],r=t[t.length-1],a=on(n,r,e==null?10:e),o;i=Object(or["formatSpecifier"])(i==null?",f":i);switch(i.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(r));if(i.precision==null&&!isNaN(o=Object(or["precisionPrefix"])(a,s)))i.precision=o;return Object(or["formatPrefix"])(i,s)}case"":case"e":case"g":case"p":case"r":{if(i.precision==null&&!isNaN(o=Object(or["precisionRound"])(a,Math.max(Math.abs(n),Math.abs(r)))))i.precision=o-(i.type==="e");break}case"f":case"%":{if(i.precision==null&&!isNaN(o=Object(or["precisionFixed"])(a)))i.precision=o-(i.type==="%")*2;break}}return Object(or["format"])(i)};function ur(t){var e=t.domain;t.ticks=function(t){var i=e();return rn(i[0],i[i.length-1],t==null?10:t)};t.tickFormat=function(t,i){return sr(e(),t,i)};t.nice=function(i){if(i==null)i=10;var n=e(),r=0,a=n.length-1,o=n[r],s=n[a],u;if(s<o){u=o,o=s,s=u;u=r,r=a,a=u}u=an(o,s,i);if(u>0){o=Math.floor(o/u)*u;s=Math.ceil(s/u)*u;u=an(o,s,i)}else if(u<0){o=Math.ceil(o*u)/u;s=Math.floor(s*u)/u;u=an(o,s,i)}if(u>0){n[r]=Math.floor(o/u)*u;n[a]=Math.ceil(s/u)*u;e(n)}else if(u<0){n[r]=Math.ceil(o*u)/u;n[a]=Math.floor(s*u)/u;e(n)}return t};return t}function lr(){var t=ar(Jn,je["interpolateNumber"]);t.copy=function(){return rr(t,lr())};return ur(t)}function cr(){var t=[0,1];function e(t){return+t}e.invert=e;e.domain=e.range=function(i){return arguments.length?(t=Wn.call(i,Zn),e):t.slice()};e.copy=function(){return cr().domain(t)};return ur(e)}var hr=function(t,e){t=t.slice();var i=0,n=t.length-1,r=t[i],a=t[n],o;if(a<r){o=i,i=n,n=o;o=r,r=a,a=o}t[i]=e.floor(r);t[n]=e.ceil(a);return t};function fr(t,e){return(e=Math.log(e/t))?function(i){return Math.log(i/t)/e}:Xn(e)}function dr(t,e){return t<0?function(i){return-Math.pow(-e,i)*Math.pow(-t,1-i)}:function(i){return Math.pow(e,i)*Math.pow(t,1-i)}}function pr(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vr(t){return t===10?pr:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function gr(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function mr(t){return function(e){return-t(-e)}}function yr(){var t=ar(fr,dr).domain([1,10]),e=t.domain,i=10,n=gr(10),r=vr(10);function a(){n=gr(i),r=vr(i);if(e()[0]<0)n=mr(n),r=mr(r);return t}t.base=function(t){return arguments.length?(i=+t,a()):i};t.domain=function(t){return arguments.length?(e(t),a()):e()};t.ticks=function(t){var a=e(),o=a[0],s=a[a.length-1],u;if(u=s<o)l=o,o=s,s=l;var l=n(o),c=n(s),h,f,d,p=t==null?10:+t,v=[];if(!(i%1)&&c-l<p){l=Math.round(l)-1,c=Math.round(c)+1;if(o>0)for(;l<c;++l){for(f=1,h=r(l);f<i;++f){d=h*f;if(d<o)continue;if(d>s)break;v.push(d)}}else for(;l<c;++l){for(f=i-1,h=r(l);f>=1;--f){d=h*f;if(d<o)continue;if(d>s)break;v.push(d)}}}else{v=rn(l,c,Math.min(c-l,p)).map(r)}return u?v.reverse():v};t.tickFormat=function(e,a){if(a==null)a=i===10?".0e":",";if(typeof a!=="function")a=Object(or["format"])(a);if(e===Infinity)return a;if(e==null)e=10;var o=Math.max(1,i*e/t.ticks().length);return function(t){var e=t/r(Math.round(n(t)));if(e*i<i-.5)e*=i;return e<=o?a(t):""}};t.nice=function(){return e(hr(e(),{floor:function(t){return r(Math.floor(n(t)))},ceil:function(t){return r(Math.ceil(n(t)))}}))};t.copy=function(){return rr(t,yr().base(i))};return t}function _r(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function br(){var t=1,e=ar(n,r),i=e.domain;function n(e,i){return(i=_r(i,t)-(e=_r(e,t)))?function(n){return(_r(n,t)-e)/i}:Xn(i)}function r(e,i){i=_r(i,t)-(e=_r(e,t));return function(n){return _r(e+i*n,1/t)}}e.exponent=function(e){return arguments.length?(t=+e,i(i())):t};e.copy=function(){return rr(e,br().exponent(t))};return ur(e)}function wr(){return br().exponent(.5)}function Or(){var t=[],e=[],i=[];function n(){var n=0,a=Math.max(1,e.length);i=new Array(a-1);while(++n<a)i[n-1]=ln(t,n/a);return r}function r(t){if(!isNaN(t=+t))return e[Fi(i,t)]}r.invertExtent=function(n){var r=e.indexOf(n);return r<0?[NaN,NaN]:[r>0?i[r-1]:t[0],r<i.length?i[r]:t[t.length-1]]};r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var i=0,r=e.length,a;i<r;++i)if(a=e[i],a!=null&&!isNaN(a=+a))t.push(a);t.sort(Ii);return n()};r.range=function(t){return arguments.length?(e=Yn.call(t),n()):e.slice()};r.quantiles=function(){return i.slice()};r.copy=function(){return Or().domain(t).range(e)};return r}function xr(){var t=0,e=1,i=1,n=[.5],r=[0,1];function a(t){if(t<=t)return r[Fi(n,t,0,i)]}function o(){var r=-1;n=new Array(i);while(++r<i)n[r]=((r+1)*e-(r-i)*t)/(i+1);return a}a.domain=function(i){return arguments.length?(t=+i[0],e=+i[1],o()):[t,e]};a.range=function(t){return arguments.length?(i=(r=Yn.call(t)).length-1,o()):r.slice()};a.invertExtent=function(a){var o=r.indexOf(a);return o<0?[NaN,NaN]:o<1?[t,n[0]]:o>=i?[n[i-1],e]:[n[o-1],n[o]]};a.copy=function(){return xr().domain([t,e]).range(r)};return ur(a)}function Sr(){var t=[.5],e=[0,1],i=1;function n(n){if(n<=n)return e[Fi(t,n,0,i)]}n.domain=function(r){return arguments.length?(t=Yn.call(r),i=Math.min(t.length,e.length-1),n):t.slice()};n.range=function(r){return arguments.length?(e=Yn.call(r),i=Math.min(t.length,e.length-1),n):e.slice()};n.invertExtent=function(i){var n=e.indexOf(i);return[t[n-1],t[n]]};n.copy=function(){return Sr().domain(t).range(e)};return n}var Cr=i(105);var Tr=i(266);var Er=1e3,Mr=Er*60,jr=Mr*60,kr=jr*24,Rr=kr*7,Ar=kr*30,Ir=kr*365;function Pr(t){return new Date(t)}function Dr(t){return t instanceof Date?+t:+new Date(+t)}function Nr(t,e,i,n,r,a,o,s,u){var l=ar(Jn,je["interpolateNumber"]),c=l.invert,h=l.domain;var f=u(".%L"),d=u(":%S"),p=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),m=u("%b %d"),y=u("%B"),_=u("%Y");var b=[[o,1,Er],[o,5,5*Er],[o,15,15*Er],[o,30,30*Er],[a,1,Mr],[a,5,5*Mr],[a,15,15*Mr],[a,30,30*Mr],[r,1,jr],[r,3,3*jr],[r,6,6*jr],[r,12,12*jr],[n,1,kr],[n,2,2*kr],[i,1,Rr],[e,1,Ar],[e,3,3*Ar],[t,1,Ir]];function w(s){return(o(s)<s?f:a(s)<s?d:r(s)<s?p:n(s)<s?v:e(s)<s?i(s)<s?g:m:t(s)<s?y:_)(s)}function O(e,i,n,r){if(e==null)e=10;if(typeof e==="number"){var a=Math.abs(n-i)/e,o=Pi(function(t){return t[2]}).right(b,a);if(o===b.length){r=on(i/Ir,n/Ir,e);e=t}else if(o){o=b[a/b[o-1][2]<b[o][2]/a?o-1:o];r=o[1];e=o[0]}else{r=Math.max(on(i,n,e),1);e=s}}return r==null?e:e.every(r)}l.invert=function(t){return new Date(c(t))};l.domain=function(t){return arguments.length?h(Wn.call(t,Dr)):h().map(Pr)};l.ticks=function(t,e){var i=h(),n=i[0],r=i[i.length-1],a=r<n,o;if(a)o=n,n=r,r=o;o=O(t,n,r,e);o=o?o.range(n,r+1):[];return a?o.reverse():o};l.tickFormat=function(t,e){return e==null?w:u(e)};l.nice=function(t,e){var i=h();return(t=O(t,i[0],i[i.length-1],e))?h(hr(i,t)):l};l.copy=function(){return rr(l,Nr(t,e,i,n,r,a,o,s,u))};return l}var $r=function(){return Nr(Cr["timeYear"],Cr["timeMonth"],Cr["timeWeek"],Cr["timeDay"],Cr["timeHour"],Cr["timeMinute"],Cr["timeSecond"],Cr["timeMillisecond"],Tr["timeFormat"]).domain([new Date(2e3,0,1),new Date(2e3,0,2)])};var Lr=function(){return Nr(Cr["utcYear"],Cr["utcMonth"],Cr["utcWeek"],Cr["utcDay"],Cr["utcHour"],Cr["utcMinute"],Cr["utcSecond"],Cr["utcMillisecond"],Tr["utcFormat"]).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};var Fr=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})};var Gr=Fr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Ur=Fr("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");var Hr=Fr("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");var Wr=Fr("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var Yr=Object(je["interpolateCubehelixLong"])(Object(Pe["cubehelix"])(300,.5,0),Object(Pe["cubehelix"])(-240,.5,1));var zr=Object(je["interpolateCubehelixLong"])(Object(Pe["cubehelix"])(-100,.75,.35),Object(Pe["cubehelix"])(80,1.5,.8));var Vr=Object(je["interpolateCubehelixLong"])(Object(Pe["cubehelix"])(260,.75,.35),Object(Pe["cubehelix"])(80,1.5,.8));var Br=Object(Pe["cubehelix"])();var qr=function(t){if(t<0||t>1)t-=Math.floor(t);var e=Math.abs(t-.5);Br.h=360*t-100;Br.s=1.5-1.5*e;Br.l=.8-.9*e;return Br+""};function Kr(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}var Xr=Kr(Fr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Zr=Kr(Fr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var Qr=Kr(Fr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));var Jr=Kr(Fr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ta(t){var e=0,i=1,n=false;function r(r){var a=(r-e)/(i-e);return t(n?Math.max(0,Math.min(1,a)):a)}r.domain=function(t){return arguments.length?(e=+t[0],i=+t[1],r):[e,i]};r.clamp=function(t){return arguments.length?(n=!!t,r):n};r.interpolator=function(e){return arguments.length?(t=e,r):t};r.copy=function(){return ta(t).domain([e,i]).clamp(n)};return ur(r)}var ea=i(161);var ia=function(t){return function e(){return t}};var na=Math.abs;var ra=Math.atan2;var aa=Math.cos;var oa=Math.max;var sa=Math.min;var ua=Math.sin;var la=Math.sqrt;var ca=1e-12;var ha=Math.PI;var fa=ha/2;var da=2*ha;function pa(t){return t>1?0:t<-1?ha:Math.acos(t)}function va(t){return t>=1?fa:t<=-1?-fa:Math.asin(t)}function ga(t){return t.innerRadius}function ma(t){return t.outerRadius}function ya(t){return t.startAngle}function _a(t){return t.endAngle}function ba(t){return t&&t.padAngle}function wa(t,e,i,n,r,a,o,s){var u=i-t,l=n-e,c=o-r,h=s-a,f=(c*(e-a)-h*(t-r))/(h*u-c*l);return[t+f*u,e+f*l]}function Oa(t,e,i,n,r,a,o){var s=t-i,u=e-n,l=(o?a:-a)/la(s*s+u*u),c=l*u,h=-l*s,f=t+c,d=e+h,p=i+c,v=n+h,g=(f+p)/2,m=(d+v)/2,y=p-f,_=v-d,b=y*y+_*_,w=r-a,O=f*v-p*d,x=(_<0?-1:1)*la(oa(0,w*w*b-O*O)),S=(O*_-y*x)/b,C=(-O*y-_*x)/b,T=(O*_+y*x)/b,E=(-O*y+_*x)/b,M=S-g,j=C-m,k=T-g,R=E-m;if(M*M+j*j>k*k+R*R)S=T,C=E;return{cx:S,cy:C,x01:-c,y01:-h,x11:S*(r/w-1),y11:C*(r/w-1)}}var xa=function(){var t=ga,e=ma,i=ia(0),n=null,r=ya,a=_a,o=ba,s=null;function u(){var u,l,c=+t.apply(this,arguments),h=+e.apply(this,arguments),f=r.apply(this,arguments)-fa,d=a.apply(this,arguments)-fa,p=na(d-f),v=d>f;if(!s)s=u=Object(ea["path"])();if(h<c)l=h,h=c,c=l;if(!(h>ca))s.moveTo(0,0);else if(p>da-ca){s.moveTo(h*aa(f),h*ua(f));s.arc(0,0,h,f,d,!v);if(c>ca){s.moveTo(c*aa(d),c*ua(d));s.arc(0,0,c,d,f,v)}}else{var g=f,m=d,y=f,_=d,b=p,w=p,O=o.apply(this,arguments)/2,x=O>ca&&(n?+n.apply(this,arguments):la(c*c+h*h)),S=sa(na(h-c)/2,+i.apply(this,arguments)),C=S,T=S,E,M;if(x>ca){var j=va(x/c*ua(O)),k=va(x/h*ua(O));if((b-=j*2)>ca)j*=v?1:-1,y+=j,_-=j;else b=0,y=_=(f+d)/2;if((w-=k*2)>ca)k*=v?1:-1,g+=k,m-=k;else w=0,g=m=(f+d)/2}var R=h*aa(g),A=h*ua(g),I=c*aa(_),P=c*ua(_);if(S>ca){var D=h*aa(m),N=h*ua(m),$=c*aa(y),L=c*ua(y);if(p<ha){var F=b>ca?wa(R,A,$,L,D,N,I,P):[I,P],G=R-F[0],U=A-F[1],H=D-F[0],W=N-F[1],Y=1/ua(pa((G*H+U*W)/(la(G*G+U*U)*la(H*H+W*W)))/2),z=la(F[0]*F[0]+F[1]*F[1]);C=sa(S,(c-z)/(Y-1));T=sa(S,(h-z)/(Y+1))}}if(!(w>ca))s.moveTo(R,A);else if(T>ca){E=Oa($,L,R,A,h,T,v);M=Oa(D,N,I,P,h,T,v);s.moveTo(E.cx+E.x01,E.cy+E.y01);if(T<S)s.arc(E.cx,E.cy,T,ra(E.y01,E.x01),ra(M.y01,M.x01),!v);else{s.arc(E.cx,E.cy,T,ra(E.y01,E.x01),ra(E.y11,E.x11),!v);s.arc(0,0,h,ra(E.cy+E.y11,E.cx+E.x11),ra(M.cy+M.y11,M.cx+M.x11),!v);s.arc(M.cx,M.cy,T,ra(M.y11,M.x11),ra(M.y01,M.x01),!v)}}else s.moveTo(R,A),s.arc(0,0,h,g,m,!v);if(!(c>ca)||!(b>ca))s.lineTo(I,P);else if(C>ca){E=Oa(I,P,D,N,c,-C,v);M=Oa(R,A,$,L,c,-C,v);s.lineTo(E.cx+E.x01,E.cy+E.y01);if(C<S)s.arc(E.cx,E.cy,C,ra(E.y01,E.x01),ra(M.y01,M.x01),!v);else{s.arc(E.cx,E.cy,C,ra(E.y01,E.x01),ra(E.y11,E.x11),!v);s.arc(0,0,c,ra(E.cy+E.y11,E.cx+E.x11),ra(M.cy+M.y11,M.cx+M.x11),v);s.arc(M.cx,M.cy,C,ra(M.y11,M.x11),ra(M.y01,M.x01),!v)}}else s.arc(0,0,c,_,y,v)}s.closePath();if(u)return s=null,u+""||null}u.centroid=function(){var i=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-ha/2;return[aa(n)*i,ua(n)*i]};u.innerRadius=function(e){return arguments.length?(t=typeof e==="function"?e:ia(+e),u):t};u.outerRadius=function(t){return arguments.length?(e=typeof t==="function"?t:ia(+t),u):e};u.cornerRadius=function(t){return arguments.length?(i=typeof t==="function"?t:ia(+t),u):i};u.padRadius=function(t){return arguments.length?(n=t==null?null:typeof t==="function"?t:ia(+t),u):n};u.startAngle=function(t){return arguments.length?(r=typeof t==="function"?t:ia(+t),u):r};u.endAngle=function(t){return arguments.length?(a=typeof t==="function"?t:ia(+t),u):a};u.padAngle=function(t){return arguments.length?(o=typeof t==="function"?t:ia(+t),u):o};u.context=function(t){return arguments.length?(s=t==null?null:t,u):s};return u};function Sa(t){this._context=t}Sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};var Ca=function(t){return new Sa(t)};function Ta(t){return t[0]}function Ea(t){return t[1]}var Ma=function(){var t=Ta,e=Ea,i=ia(true),n=null,r=Ca,a=null;function o(o){var s,u=o.length,l,c=false,h;if(n==null)a=r(h=Object(ea["path"])());for(s=0;s<=u;++s){if(!(s<u&&i(l=o[s],s,o))===c){if(c=!c)a.lineStart();else a.lineEnd()}if(c)a.point(+t(l,s,o),+e(l,s,o))}if(h)return a=null,h+""||null}o.x=function(e){return arguments.length?(t=typeof e==="function"?e:ia(+e),o):t};o.y=function(t){return arguments.length?(e=typeof t==="function"?t:ia(+t),o):e};o.defined=function(t){return arguments.length?(i=typeof t==="function"?t:ia(!!t),o):i};o.curve=function(t){return arguments.length?(r=t,n!=null&&(a=r(n)),o):r};o.context=function(t){return arguments.length?(t==null?n=a=null:a=r(n=t),o):n};return o};var ja=function(){var t=Ta,e=null,i=ia(0),n=Ea,r=ia(true),a=null,o=Ca,s=null;function u(u){var l,c,h,f=u.length,d,p=false,v,g=new Array(f),m=new Array(f);if(a==null)s=o(v=Object(ea["path"])());for(l=0;l<=f;++l){if(!(l<f&&r(d=u[l],l,u))===p){if(p=!p){c=l;s.areaStart();s.lineStart()}else{s.lineEnd();s.lineStart();for(h=l-1;h>=c;--h){s.point(g[h],m[h])}s.lineEnd();s.areaEnd()}}if(p){g[l]=+t(d,l,u),m[l]=+i(d,l,u);s.point(e?+e(d,l,u):g[l],n?+n(d,l,u):m[l])}}if(v)return s=null,v+""||null}function l(){return Ma().defined(r).curve(o).context(a)}u.x=function(i){return arguments.length?(t=typeof i==="function"?i:ia(+i),e=null,u):t};u.x0=function(e){return arguments.length?(t=typeof e==="function"?e:ia(+e),u):t};u.x1=function(t){return arguments.length?(e=t==null?null:typeof t==="function"?t:ia(+t),u):e};u.y=function(t){return arguments.length?(i=typeof t==="function"?t:ia(+t),n=null,u):i};u.y0=function(t){return arguments.length?(i=typeof t==="function"?t:ia(+t),u):i};u.y1=function(t){return arguments.length?(n=t==null?null:typeof t==="function"?t:ia(+t),u):n};u.lineX0=u.lineY0=function(){return l().x(t).y(i)};u.lineY1=function(){return l().x(t).y(n)};u.lineX1=function(){return l().x(e).y(i)};u.defined=function(t){return arguments.length?(r=typeof t==="function"?t:ia(!!t),u):r};u.curve=function(t){return arguments.length?(o=t,a!=null&&(s=o(a)),u):o};u.context=function(t){return arguments.length?(t==null?a=s=null:s=o(a=t),u):a};return u};var ka=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN};var Ra=function(t){return t};var Aa=function(){var t=Ra,e=ka,i=null,n=ia(0),r=ia(da),a=ia(0);function o(o){var s,u=o.length,l,c,h=0,f=new Array(u),d=new Array(u),p=+n.apply(this,arguments),v=Math.min(da,Math.max(-da,r.apply(this,arguments)-p)),g,m=Math.min(Math.abs(v)/u,a.apply(this,arguments)),y=m*(v<0?-1:1),_;for(s=0;s<u;++s){if((_=d[f[s]=s]=+t(o[s],s,o))>0){h+=_}}if(e!=null)f.sort(function(t,i){return e(d[t],d[i])});else if(i!=null)f.sort(function(t,e){return i(o[t],o[e])});for(s=0,c=h?(v-u*y)/h:0;s<u;++s,p=g){l=f[s],_=d[l],g=p+(_>0?_*c:0)+y,d[l]={data:o[l],index:s,value:_,startAngle:p,endAngle:g,padAngle:m}}return d}o.value=function(e){return arguments.length?(t=typeof e==="function"?e:ia(+e),o):t};o.sortValues=function(t){return arguments.length?(e=t,i=null,o):e};o.sort=function(t){return arguments.length?(i=t,e=null,o):i};o.startAngle=function(t){return arguments.length?(n=typeof t==="function"?t:ia(+t),o):n};o.endAngle=function(t){return arguments.length?(r=typeof t==="function"?t:ia(+t),o):r};o.padAngle=function(t){return arguments.length?(a=typeof t==="function"?t:ia(+t),o):a};return o};var Ia=Da(Ca);function Pa(t){this._curve=t}Pa.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Da(t){function e(e){return new Pa(t(e))}e._curve=t;return e}function Na(t){var e=t.curve;t.angle=t.x,delete t.x;t.radius=t.y,delete t.y;t.curve=function(t){return arguments.length?e(Da(t)):e()._curve};return t}var $a=function(){return Na(Ma().curve(Ia))};var La=function(){var t=ja().curve(Ia),e=t.curve,i=t.lineX0,n=t.lineX1,r=t.lineY0,a=t.lineY1;t.angle=t.x,delete t.x;t.startAngle=t.x0,delete t.x0;t.endAngle=t.x1,delete t.x1;t.radius=t.y,delete t.y;t.innerRadius=t.y0,delete t.y0;t.outerRadius=t.y1,delete t.y1;t.lineStartAngle=function(){return Na(i())},delete t.lineX0;t.lineEndAngle=function(){return Na(n())},delete t.lineX1;t.lineInnerRadius=function(){return Na(r())},delete t.lineY0;t.lineOuterRadius=function(){return Na(a())},delete t.lineY1;t.curve=function(t){return arguments.length?e(Da(t)):e()._curve};return t};var Fa=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]};var Ga=Array.prototype.slice;function Ua(t){return t.source}function Ha(t){return t.target}function Wa(t){var e=Ua,i=Ha,n=Ta,r=Ea,a=null;function o(){var o,s=Ga.call(arguments),u=e.apply(this,s),l=i.apply(this,s);if(!a)a=o=Object(ea["path"])();t(a,+n.apply(this,(s[0]=u,s)),+r.apply(this,s),+n.apply(this,(s[0]=l,s)),+r.apply(this,s));if(o)return a=null,o+""||null}o.source=function(t){return arguments.length?(e=t,o):e};o.target=function(t){return arguments.length?(i=t,o):i};o.x=function(t){return arguments.length?(n=typeof t==="function"?t:ia(+t),o):n};o.y=function(t){return arguments.length?(r=typeof t==="function"?t:ia(+t),o):r};o.context=function(t){return arguments.length?(a=t==null?null:t,o):a};return o}function Ya(t,e,i,n,r){t.moveTo(e,i);t.bezierCurveTo(e=(e+n)/2,i,e,r,n,r)}function za(t,e,i,n,r){t.moveTo(e,i);t.bezierCurveTo(e,i=(i+r)/2,n,i,n,r)}function Va(t,e,i,n,r){var a=Fa(e,i),o=Fa(e,i=(i+r)/2),s=Fa(n,i),u=Fa(n,r);t.moveTo(a[0],a[1]);t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function Ba(){return Wa(Ya)}function qa(){return Wa(za)}function Ka(){var t=Wa(Va);t.angle=t.x,delete t.x;t.radius=t.y,delete t.y;return t}var Xa={draw:function(t,e){var i=Math.sqrt(e/ha);t.moveTo(i,0);t.arc(0,0,i,0,da)}};var Za={draw:function(t,e){var i=Math.sqrt(e/5)/2;t.moveTo(-3*i,-i);t.lineTo(-i,-i);t.lineTo(-i,-3*i);t.lineTo(i,-3*i);t.lineTo(i,-i);t.lineTo(3*i,-i);t.lineTo(3*i,i);t.lineTo(i,i);t.lineTo(i,3*i);t.lineTo(-i,3*i);t.lineTo(-i,i);t.lineTo(-3*i,i);t.closePath()}};var Qa=Math.sqrt(1/3),Ja=Qa*2;var to={draw:function(t,e){var i=Math.sqrt(e/Ja),n=i*Qa;t.moveTo(0,-i);t.lineTo(n,0);t.lineTo(0,i);t.lineTo(-n,0);t.closePath()}};var eo=.8908130915292852,io=Math.sin(ha/10)/Math.sin(7*ha/10),no=Math.sin(da/10)*io,ro=-Math.cos(da/10)*io;var ao={draw:function(t,e){var i=Math.sqrt(e*eo),n=no*i,r=ro*i;t.moveTo(0,-i);t.lineTo(n,r);for(var a=1;a<5;++a){var o=da*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*i,-s*i);t.lineTo(s*n-u*r,u*n+s*r)}t.closePath()}};var oo={draw:function(t,e){var i=Math.sqrt(e),n=-i/2;t.rect(n,n,i,i)}};var so=Math.sqrt(3);var uo={draw:function(t,e){var i=-Math.sqrt(e/(so*3));t.moveTo(0,i*2);t.lineTo(-so*i,-i);t.lineTo(so*i,-i);t.closePath()}};var lo=-.5,co=Math.sqrt(3)/2,ho=1/Math.sqrt(12),fo=(ho/2+1)*3;var po={draw:function(t,e){var i=Math.sqrt(e/fo),n=i/2,r=i*ho,a=n,o=i*ho+i,s=-a,u=o;t.moveTo(n,r);t.lineTo(a,o);t.lineTo(s,u);t.lineTo(lo*n-co*r,co*n+lo*r);t.lineTo(lo*a-co*o,co*a+lo*o);t.lineTo(lo*s-co*u,co*s+lo*u);t.lineTo(lo*n+co*r,lo*r-co*n);t.lineTo(lo*a+co*o,lo*o-co*a);t.lineTo(lo*s+co*u,lo*u-co*s);t.closePath()}};var vo=[Xa,Za,to,oo,ao,uo,po];var go=function(){var t=ia(Xa),e=ia(64),i=null;function n(){var n;if(!i)i=n=Object(ea["path"])();t.apply(this,arguments).draw(i,+e.apply(this,arguments));if(n)return i=null,n+""||null}n.type=function(e){return arguments.length?(t=typeof e==="function"?e:ia(e),n):t};n.size=function(t){return arguments.length?(e=typeof t==="function"?t:ia(+t),n):e};n.context=function(t){return arguments.length?(i=t==null?null:t,n):i};return n};var mo=function(){};function yo(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function _o(t){this._context=t}_o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:yo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yo(this,t,e);break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e}};var bo=function(t){return new _o(t)};function wo(t){this._context=t}wo.prototype={areaStart:mo,areaEnd:mo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2);this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break}case 3:{this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4);break}}},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._x2=t,this._y2=e;break;case 1:this._point=2;this._x3=t,this._y3=e;break;case 2:this._point=3;this._x4=t,this._y4=e;this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yo(this,t,e);break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e}};var Oo=function(t){return new wo(t)};function xo(t){this._context=t}xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:yo(this,t,e);break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e}};var So=function(t){return new xo(t)};function Co(t,e){this._basis=new _o(t);this._beta=e}Co.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0){var n=t[0],r=e[0],a=t[i]-n,o=e[i]-r,s=-1,u;while(++s<=i){u=s/i;this._basis.point(this._beta*t[s]+(1-this._beta)*(n+u*a),this._beta*e[s]+(1-this._beta)*(r+u*o))}}this._x=this._y=null;this._basis.lineEnd()},point:function(t,e){this._x.push(+t);this._y.push(+e)}};var To=function t(e){function i(t){return e===1?new _o(t):new Co(t,e)}i.beta=function(e){return t(+e)};return i}(.85);function Eo(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Mo(t,e){this._context=t;this._k=(1-e)/6}Mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Eo(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;this._x1=t,this._y1=e;break;case 2:this._point=3;default:Eo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var jo=function t(e){function i(t){return new Mo(t,e)}i.tension=function(e){return t(+e)};return i}(0);function ko(t,e){this._context=t;this._k=(1-e)/6}ko.prototype={areaStart:mo,areaEnd:mo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._x3=t,this._y3=e;break;case 1:this._point=2;this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3;this._x5=t,this._y5=e;break;default:Eo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ro=function t(e){function i(t){return new ko(t,e)}i.tension=function(e){return t(+e)};return i}(0);function Ao(t,e){this._context=t;this._k=(1-e)/6}Ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Eo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Io=function t(e){function i(t){return new Ao(t,e)}i.tension=function(e){return t(+e)};return i}(0);function Po(t,e,i){var n=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>ca){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u;r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>ca){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/c;o=(o*l+t._y1*t._l23_2a-i*t._l12_2a)/c}t._context.bezierCurveTo(n,r,a,o,t._x2,t._y2)}function Do(t,e){this._context=t;this._alpha=e}Do.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;if(this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Po(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var No=function t(e){function i(t){return e?new Do(t,e):new Mo(t,0)}i.alpha=function(e){return t(+e)};return i}(.5);function $o(t,e){this._context=t;this._alpha=e}$o.prototype={areaStart:mo,areaEnd:mo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(t,e){t=+t,e=+e;if(this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=t,this._y3=e;break;case 1:this._point=2;this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3;this._x5=t,this._y5=e;break;default:Po(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Lo=function t(e){function i(t){return e?new $o(t,e):new ko(t,0)}i.alpha=function(e){return t(+e)};return i}(.5);function Fo(t,e){this._context=t;this._alpha=e}Fo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;if(this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Po(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Go=function t(e){function i(t){return e?new Fo(t,e):new Ao(t,0)}i.alpha=function(e){return t(+e)};return i}(.5);function Uo(t){this._context=t}Uo.prototype={areaStart:mo,areaEnd:mo,lineStart:function(){this._point=0},lineEnd:function(){if(this._point)this._context.closePath()},point:function(t,e){t=+t,e=+e;if(this._point)this._context.lineTo(t,e);else this._point=1,this._context.moveTo(t,e)}};var Ho=function(t){return new Uo(t)};function Wo(t){return t<0?-1:1}function Yo(t,e,i){var n=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(n||r<0&&-0),o=(i-t._y1)/(r||n<0&&-0),s=(a*r+o*n)/(n+r);return(Wo(a)+Wo(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function zo(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function Vo(t,e,i){var n=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,r+s*e,a-s,o-s*i,a,o)}function Bo(t){this._context=t}Bo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vo(this,this._t0,zo(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){var i=NaN;t=+t,e=+e;if(t===this._x1&&e===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;Vo(this,zo(this,i=Yo(this,t,e)),i);break;default:Vo(this,this._t0,i=Yo(this,t,e));break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e;this._t0=i}};function qo(t){this._context=new Ko(t)}(qo.prototype=Object.create(Bo.prototype)).point=function(t,e){Bo.prototype.point.call(this,e,t)};function Ko(t){this._context=t}Ko.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,n,r,a){this._context.bezierCurveTo(e,t,n,i,a,r)}};function Xo(t){return new Bo(t)}function Zo(t){return new qo(t)}function Qo(t){this._context=t}Qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i){this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]);if(i===2){this._context.lineTo(t[1],e[1])}else{var n=Jo(t),r=Jo(e);for(var a=0,o=1;o<i;++a,++o){this._context.bezierCurveTo(n[0][a],r[0][a],n[1][a],r[1][a],t[o],e[o])}}}if(this._line||this._line!==0&&i===1)this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(t,e){this._x.push(+t);this._y.push(+e)}};function Jo(t){var e,i=t.length-1,n,r=new Array(i),a=new Array(i),o=new Array(i);r[0]=0,a[0]=2,o[0]=t[0]+2*t[1];for(e=1;e<i-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i];for(e=1;e<i;++e)n=r[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];r[i-1]=o[i-1]/a[i-1];for(e=i-2;e>=0;--e)r[e]=(o[e]-r[e+1])/a[e];a[i-1]=(t[i]+r[i-1])/2;for(e=0;e<i-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}var ts=function(t){return new Qo(t)};function es(t,e){this._context=t;this._t=e}es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0){this._context.lineTo(this._x,e);this._context.lineTo(t,e)}else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y);this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};var is=function(t){return new es(t,.5)};function ns(t){return new es(t,0)}function rs(t){return new es(t,1)}var as=function(t,e){if(!((o=t.length)>1))return;for(var i=1,n,r,a=t[e[0]],o,s=a.length;i<o;++i){r=a,a=t[e[i]];for(n=0;n<s;++n){a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}}};var os=function(t){var e=t.length,i=new Array(e);while(--e>=0)i[e]=e;return i};function ss(t,e){return t[e]}var us=function(){var t=ia([]),e=os,i=as,n=ss;function r(r){var a=t.apply(this,arguments),o,s=r.length,u=a.length,l=new Array(u),c;for(o=0;o<u;++o){for(var h=a[o],f=l[o]=new Array(s),d=0,p;d<s;++d){f[d]=p=[0,+n(r[d],h,d,r)];p.data=r[d]}f.key=h}for(o=0,c=e(l);o<u;++o){l[c[o]].index=o}i(l,c);return l}r.keys=function(e){return arguments.length?(t=typeof e==="function"?e:ia(Ga.call(e)),r):t};r.value=function(t){return arguments.length?(n=typeof t==="function"?t:ia(+t),r):n};r.order=function(t){return arguments.length?(e=t==null?os:typeof t==="function"?t:ia(Ga.call(t)),r):e};r.offset=function(t){return arguments.length?(i=t==null?as:t,r):i};return r};var ls=function(t,e){if(!((n=t.length)>0))return;for(var i,n,r=0,a=t[0].length,o;r<a;++r){for(o=i=0;i<n;++i)o+=t[i][r][1]||0;if(o)for(i=0;i<n;++i)t[i][r][1]/=o}as(t,e)};var cs=function(t,e){if(!((u=t.length)>1))return;for(var i,n=0,r,a,o,s,u,l=t[e[0]].length;n<l;++n){for(o=s=0,i=0;i<u;++i){if((a=(r=t[e[i]][n])[1]-r[0])>=0){r[0]=o,r[1]=o+=a}else if(a<0){r[1]=s,r[0]=s+=a}else{r[0]=o}}}};var hs=function(t,e){if(!((r=t.length)>0))return;for(var i=0,n=t[e[0]],r,a=n.length;i<a;++i){for(var o=0,s=0;o<r;++o)s+=t[o][i][1]||0;n[i][1]+=n[i][0]=-s/2}as(t,e)};var fs=function(t,e){if(!((o=t.length)>0)||!((a=(r=t[e[0]]).length)>0))return;for(var i=0,n=1,r,a,o;n<a;++n){for(var s=0,u=0,l=0;s<o;++s){var c=t[e[s]],h=c[n][1]||0,f=c[n-1][1]||0,d=(h-f)/2;for(var p=0;p<s;++p){var v=t[e[p]],g=v[n][1]||0,m=v[n-1][1]||0;d+=g-m}u+=h,l+=d*h}r[n-1][1]+=r[n-1][0]=i;if(u)i-=l/u}r[n-1][1]+=r[n-1][0]=i;as(t,e)};var ds=function(t){var e=t.map(ps);return os(t).sort(function(t,i){return e[t]-e[i]})};function ps(t){var e=0,i=-1,n=t.length,r;while(++i<n)if(r=+t[i][1])e+=r;return e}var vs=function(t){return ds(t).reverse()};var gs=function(t){var e=t.length,i,n,r=t.map(ps),a=os(t).sort(function(t,e){return r[e]-r[t]}),o=0,s=0,u=[],l=[];for(i=0;i<e;++i){n=a[i];if(o<s){o+=r[n];u.push(n)}else{s+=r[n];l.push(n)}}return l.reverse().concat(u)};var ms=function(t){return os(t).reverse()};var ys={bisector:Pi,extent:Bi,axisBottom:Fn,axisLeft:Gn,scaleLinear:lr,mouse:se,select:te,selectAll:ue,area:ja,line:Ma};var _s=function t(e){var i=e.light!==undefined?e.light:false;var r=i?{top:0,right:0,bottom:0,left:0}:{top:10,right:20,bottom:30,left:40};var o=e.hoverCallback!==undefined?e.hoverCallback:function(){};var s=e.outCallback!==undefined?e.outCallback:function(){};var u=e.distanceExtractor;var l=e.linesConfiguration;var c=Object.keys(l).length;var h=ys.bisector(function(t){return u(t)}).left;var f=e.poiExtractor;var d=e.styleDefs;var p=e.poiLabelAngle!==undefined?e.poiLabelAngle:-60;var v=e.i18n||{};var g=v.xAxis||"Distance";var m=v.yAxis||"Elevation";var y={xhover:function t(e,i){return parseFloat(e.toPrecision(3))+" "+i},yhover:function t(e,i){return e!==null?Math.round(e)+" m":""},xtick:function t(e,i){return e},ytick:function t(e,i){return e}};if(e.formatter!==undefined){a["a"](y,e.formatter)}var _=e.lightXAxis!==undefined?e.lightXAxis:false;var b=void 0;var w=void 0;var O=void 0;var x=e.scaleModifier;var S=void 0;var C=void 0;var T=void 0;var E=void 0;var M=void 0;var j=void 0;var k=function t(e){e.each(function(e){ys.select(this).selectAll("svg").remove();if(e===undefined){return}T=Math.max(this.clientWidth-r.right-r.left,0);w=ys.scaleLinear().range([0,T]);C=Math.max(this.clientHeight-r.top-r.bottom,0);O=ys.scaleLinear().range([C,0]);var n=ys.axisBottom(w);var a=ys.axisLeft(O);var o=void 0;if(c===1){o=ys.area().x(function(t){return w(u(t))}).y0(C).y1(function(t){var e=Object.keys(l)[0];return O(l[e].zExtractor(t))})}b=ys.select(this).selectAll("svg").data([e]);var s=b.enter().append("svg");b=ys.select(this).selectAll("svg").data([e]);if(d!==undefined){s.append("defs").append("style").attr("type","text/css").text(d)}var h=s.append("g");R();h.style("font","11px Arial");if(c===1){h.append("path").attr("class","area").style("fill","rgba(222, 222, 222, 0.5)")}h.insert("g",":first-child").attr("class","grid-y");if(!i){h.append("g").attr("class","x axis").attr("transform","translate(0,"+C+")");h.append("text").attr("class","x label").attr("text-anchor","end").attr("x",T-4).attr("y",C-4);h.append("g").attr("class","y axis");h.append("text").attr("class","y label").attr("text-anchor","end").attr("y",6).attr("dy",".75em").attr("transform","rotate(-90)").style("fill","grey").text(m+" [m]");h.append("g").attr("class","metas").attr("transform","translate("+(T+3)+", 0)")}h.append("g").attr("class","pois");var f=h.append("g").attr("class","x grid-hover");f.append("svg:line").attr("stroke-dasharray","5,5");f.append("text");h.append("rect").attr("class","overlay").attr("width",T).attr("height",C).style("fill","none").style("pointer-events","all");b.attr("width",T+r.left+r.right).attr("height",C+r.top+r.bottom);S=b.select("g").attr("transform","translate("+r.left+","+r.top+")");j=ys.extent(e,function(t){return u(t)});w.domain(j);var p=function(){var t=[];var i=function i(n){var r=ys.extent(e,function(t){return l[n].zExtractor(t)});if(r.every(Number.isFinite)){t=t.concat(r)}};for(var n in l){i(n)}return[Math.min.apply(null,t),Math.max.apply(null,t)]}();O.domain(p);if(x!==undefined){x(w,O,T,C)}else{var v=(p[1]-p[0])*.1;O.domain([p[0]-v,p[1]+v])}if(c===1){S.select(".area").transition().attr("d",o)}var k=void 0,A=void 0,I=void 0;for(A in l){h.append("path").attr("class","line "+A).style("stroke",l[A].color||"#F00").style("fill","none");I=h.append("g").attr("class","y grid-hover "+A);I.append("svg:line").attr("stroke-dasharray","5,5");I.append("text");k=ys.line().x(function(t){return w(u(t))}).y(function(t){return O(l[A].zExtractor(t))}).defined(function(t){return l[A].zExtractor(t)!==null});S.select(".line."+A).transition().attr("d",k)}if(j[1]>2e3){E=1e3;M="km"}else{E=1;M="m"}if(!i){n.tickFormat(function(t){return y.xtick(t/E,M)});if(_){n.tickValues([0,w.domain()[1]])}a.tickFormat(function(t){return y.ytick(t,"m")});S.select(".x.axis").transition().call(n);S.select(".x.label").text(g+" ["+M+"]").style("fill","grey").style("shape-rendering","crispEdges");if(C/15<10){a.ticks(C/15)}S.select(".y.axis").transition().call(a)}S.select(".grid-y").transition().call(a.tickSize(-T,0).tickFormat("")).selectAll(".tick line").style("stroke","#ccc").style("opacity",.7);S.selectAll(".axis").selectAll("path, line").style("fill","none").style("stroke","#000").style("shape-rendering","crispEdges");S.select(".grid-y").select("path").style("stroke","none");S.selectAll(".grid-hover line").style("stroke","#222").style("opacity",.8);S.select(".overlay").on("mouseout",D).on("mousemove",P);function P(){var e=ys.mouse(this)[0];var i=w.invert(e);t.highlight(i)}function D(){t.clearHighlight()}})};k.clearHighlight=function(){S.selectAll(".grid-hover").style("display","none");s.call(null)};k.highlight=function(t){var e=b.datum();var i=h(e,t);if(i>=e.length){return}var n=e[i];var r=u(n);var a=void 0;var s=[];var f={};var d=void 0;for(d in l){a=l[d].zExtractor(n);if(Number.isFinite(a)){s.push(a);f[d]=a;S.select(".y.grid-hover."+d).style("display","inline").select("line").attr("x1",w(0)).attr("y1",O(a)).attr("x2",T).attr("y2",O(a))}else{S.select(".y.grid-hover."+d).style("display","none")}}var p=O(Math.max.apply(null,s));S.select(".x.grid-hover").style("display","inline").select("line").attr("x1",w(r)).attr("y1",C).attr("x2",w(r)).attr("y2",Number.isFinite(p)?p:0);var v=r>j[1]/2;var g=w(r);g+=v?-10:10;S.select(".x.grid-hover text").text(y.xhover(r/E,M)).style("text-anchor",v?"end":"start").attr("transform","translate("+g+","+(C-10)+")");var m="m";if(c===1){var _=s[0]===null?"no value":y.yhover(s[0],"m");S.select(".y.grid-hover text").text(_).style("text-anchor",v?"end":"start").attr("transform","translate("+g+","+(O(s[0])-10)+")")}o.call(null,n,r/E,M,f,m)};k.showPois=function(t){t=t!==undefined?t:[];n["a"].assert(t.length===0||f!==undefined);var e=f;var r=b.select("g");var a=b.datum();var o=r.select(".pois");var s=o.selectAll(".poi").data(t,function(t){var i=h(a,Math.round(e.dist(t)*10)/10,1);var n=a[i];if(n){var r=void 0;var o=[];for(r in l){o.push(l[r].zExtractor(n))}var s=Math.max.apply(null,o);e.z(t,s)}return e.id(t)});var u=s.enter().append("g").attr("class","poi");u.append("text").attr("x",i?0:9).attr("dy",".35em").attr("text-anchor",i?"middle":"start");u.append("line").style("shape-rendering","crispEdges");u.style("opacity",0).transition().duration(1e3).delay(100).style("opacity",1);u.selectAll("text").attr("transform",function(t){if(i){return["translate("+w(e.dist(t))+","+(O(e.z(t))-10)+")"]}else{return["translate("+w(e.dist(t))+","+(O(e.z(t))-20)+") rotate("+p+")"]}}).text(function(t){return e.sort(t)+(i?"":" - "+e.title(t))});u.selectAll("line").style("stroke","grey").attr("x1",function(t){return w(e.dist(t))}).attr("y1",function(t){return O(O.domain()[0])}).attr("x2",function(t){return w(e.dist(t))}).attr("y2",function(t){return O(e.z(t))});u.exit().remove()};function R(){k.showPois([])}return k};var bs=_s;var ws={select:te};var Os=angular.module("ngeoProfile",[o["a"].name]);Os.directive_=function(t){return{restrict:"A",link:function e(i,o,s){var u=s["ngeoProfileOptions"];n["a"].assert(u!==undefined);var l=ws.select(o[0]);var c=void 0,h=void 0,f=void 0;i.$watchCollection(u,function(t){var e=a["a"]({},t);if(e!==undefined){if(e.hoverCallback!==undefined){var n=e.hoverCallback;e.hoverCallback=function(){n.apply(undefined,arguments);i.$applyAsync()}}if(e.outCallback!==undefined){var r=e.outCallback;e.outCallback=function(){r();i.$applyAsync()}}c=bs(e);d()}});i.$watch(s["ngeoProfile"],function(t,e){h=t;d()});i.$watch(s["ngeoProfilePois"],function(t,e){f=t;d()});i.$watch(s["ngeoProfileHighlight"],function(t,e){if(t===undefined){return}if(t>0){c.highlight(t)}else{c.clearHighlight()}});r["a"](window,"resize",t(d,50,true));function d(){if(c!==undefined){l.datum(h).call(c);if(h!==undefined){c.showPois(f)}}}}}};Os.directive_.$inject=["ngeoDebounce"];Os.directive("ngeoProfile",Os.directive_);var xs=e["a"]=Os},function(t,e,i){"use strict";var n=i(51);var r=i.n(n);var a=i(217);var o=i.n(a);var s=i(298);var u=i.n(s);var l=i(306);var c=i.n(l);var h=i(2);function f(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var d=angular.module("ngeoModal",[]);d.component_={template:'<div class="modal fade" tabindex="-1" role="dialog">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <ng-transclude></ng-transclude>\n      </div>\n    </div>\n  </div>',require:{ngModel:"ngModel"},transclude:true,controller:"ngeoModalController",bindings:{resizable:"<ngeoModalResizable",closable:"<ngeoModalClosable"}};d.component("ngeoModal",d.component_);d.Controller_=function(){t.$inject=["$scope","$element"];function t(e,i){f(this,t);this.$element_=i;this.$scope_=e;this.modal_;this.closable;this.resizable;this.ngModel}t.prototype.$postLink=function t(){var e=this;this.modal_=this.$element_.children();if(!this.closable){this.modal_.attr("data-keyboard",false);this.modal_.attr("data-backdrop","static")}this.resizable=!!this.resizable;var i=this.modal_.find(".modal-dialog");i.draggable({handle:".modal-header"});if(this.resizable){i.resizable()}this.ngModel.$render=function(){e.modal_.modal(e.ngModel.$viewValue?"show":"hide")};this.modal_.on("shown.bs.modal hidden.bs.modal",function(t){var i=t.type;h["a"].assert(i=="shown"||i=="hidden");e.ngModel.$setViewValue(i=="shown")})};t.prototype.$onDestroy=function t(){this.modal_.modal("hide");this.modal_.modal("removeBackdrop");var e=this.modal_.find(".modal-dialog");e.draggable("destroy");if(this.resizable){e.resizable("destroy")}};return t}();d.controller("ngeoModalController",d.Controller_);e["a"]=d},function(t,e,i){"use strict";(function(t){var n=i(437);var r=i.n(n);var a=i(436);var o=i.n(a);var s=i(2);var u=angular.module("ngeoSortable",[]);u.component_=function(e){return{restrict:"A",link:function i(n,r,a){var o=n.$eval(a["ngeoSortable"])||[];s["a"].assert(Array.isArray(o));n.$watchCollection(function(){return o},function(){o.length&&e(f,0)});var u=n.$eval(a["ngeoSortableOptions"]);var l=d(u);var c=n.$eval(a["ngeoSortableCallback"]);var h=n.$eval(a["ngeoSortableCallbackCtx"]);function f(){var e=r.children();for(var i=0;i<e.length;++i){angular.element(e[i]).data("idx",i)}var a=t(r);if(a.data("ui-sortable")){a.off("sortupdate");a.sortable("destroy")}var s={axis:"y",classes:{"ui-sortable-helper":l["draggerClassName"]}};if(l["handleClassName"]){s["handle"]="."+l["handleClassName"]}if(l["placeholderClassName"]){s["placeholder"]=l["placeholderClassName"];s["forcePlaceholderSize"]=true}a.sortable(s);a.on("sortupdate",function(e,i){var a=t(i.item[0]).data("idx");var s=i.item.index();t(i.item[0]).data("idx",s);n.$apply(function(){o.splice(s,0,o.splice(a,1)[0])});if(c instanceof Function){c.apply(h,[r,o])}})}function d(t){var e=void 0;var i="ngeo-sortable-handle";if(t===undefined){e={handleClassName:i}}else{if(t["handleClassName"]===undefined){t["handleClassName"]=i}e=t}return e}}}};u.component_.$inject=["$timeout"];u.directive("ngeoSortable",u.component_);e["a"]=u}).call(this,i(51))},function(t,e,i){"use strict";var n=angular.module("ngeoFilereader",[]);n.component_=function(t){return{restrict:"A",scope:{fileContent:"=ngeoFilereader",supported:"=?ngeoFilereaderSupported"},link:function e(i,n,r){var a="FileReader"in t;i["supported"]=a;if(!a){return}n.on("change",function(e){var n=new t.FileReader;n.onload=function(t){i.$apply(function(){i["fileContent"]=t.target.result})};n.readAsText(e.target.files[0])})}}};n.component_.$inject=["$window"];n.directive("ngeoFilereader",n.component_);e["a"]=n},function(t,e,i){"use strict";var n=i(2);var r=i(19);var a=i(59);var o=angular.module("ngeoControl",[]);o.component_=function(){return{restrict:"A",link:function t(e,i,o){var s=e.$eval(o["ngeoControl"]);n["a"].assertInstanceof(s,a["a"]);var u=e.$eval(o["ngeoControlMap"]);n["a"].assertInstanceof(u,r["a"]);s.setTarget(i[0]);u.addControl(s)}}};o.directive("ngeoControl",o.component_);e["a"]=o},function(t,e,i){"use strict";var n=i(2);var r=i(223);var a=function t(e,i){var r=this;this.initialState={};this.ngeoLocation=e;this.usedKeyRegexp=i;this.useLocalStorage_;this.setUseLocalStorage(false);var a=e.getParamKeys().filter(function(t){return t!="debug"&&t!="no_redirect"});if(a.length===0){if(this.useLocalStorage_){var o=function t(e){n["a"].assert(e);r.usedKeyRegexp.some(function(t){if(e.match(t)){var i=window.localStorage[e];if(i!==undefined||i!==null){r.initialState[e]=i}else{r.initialState[e]=""}return true}})};for(var s in window.localStorage){o(s)}}}else{a.forEach(function(t){r.usedKeyRegexp.some(function(e){if(t.match(e)){var i=r.ngeoLocation.getParam(t);if(i!==undefined){r.initialState[t]=i;return true}}})})}};a.$inject=["ngeoLocation","ngeoUsedKeyRegexp"];a.$inject=["ngeoLocation","ngeoUsedKeyRegexp"];a.prototype.setUseLocalStorage=function(t){this.useLocalStorage_=t;if(this.useLocalStorage_){try{if("localStorage"in window){window.localStorage["test"]="";delete window.localStorage["test"]}else{this.useLocalStorage_=false}}catch(t){console.error(t);this.useLocalStorage_=false}}return this.useLocalStorage_};a.prototype.getInitialValue=function(t){return this.initialState[t]};a.prototype.getInitialStringValue=function(t){return this.initialState[t]};a.prototype.getInitialNumberValue=function(t){var e=this.initialState[t];if(e===undefined){return undefined}return parseFloat(e)};a.prototype.getInitialBooleanValue=function(t){var e=this.initialState[t];if(e===undefined){return undefined}return e==="true"};a.prototype.updateState=function(t){this.ngeoLocation.updateParams(t);if(this.useLocalStorage_){for(var e in t){n["a"].assert(e);var i=t[e];n["a"].assert(i!==undefined);window.localStorage[e]=i}}};a.prototype.deleteParam=function(t){this.ngeoLocation.deleteParam(t);if(this.useLocalStorage_){delete window.localStorage[t]}};a.module=angular.module("ngeoStateManager",[r["a"].module.name]);a.module.service("ngeoStateManager",a);a.module.value("ngeoUsedKeyRegexp",[new RegExp(".*")]);e["a"]=a},function(t,e,i){"use strict";var n=i(223);var r=i(261);var a=angular.module("ngeoStatemanagerModule",[n["a"].module.name,r["a"].module.name]);e["a"]=a},function(t,e,i){"use strict";var n=1;var r=2;var a=3;var o=4;var s=5;var u=-1;var l=/\s/;var c=/[A-Za-z]/;var h=/[A-Za-z84]/;var f=/[,\]]/;var d=/[\d\.E\-\+]/;function p(t){if(typeof t!=="string"){throw new Error("not a string")}this.text=t.trim();this.level=0;this.place=0;this.root=null;this.stack=[];this.currentObject=null;this.state=n}p.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==o){while(l.test(t)){if(this.place>=this.text.length){return}t=this.text[this.place++]}}switch(this.state){case n:return this.neutral(t);case r:return this.keyword(t);case o:return this.quoted(t);case s:return this.afterquote(t);case a:return this.number(t);case u:return}};p.prototype.afterquote=function(t){if(t==='"'){this.word+='"';this.state=o;return}if(f.test(t)){this.word=this.word.trim();this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)};p.prototype.afterItem=function(t){if(t===","){if(this.word!==null){this.currentObject.push(this.word)}this.word=null;this.state=n;return}if(t==="]"){this.level--;if(this.word!==null){this.currentObject.push(this.word);this.word=null}this.state=n;this.currentObject=this.stack.pop();if(!this.currentObject){this.state=u}return}};p.prototype.number=function(t){if(d.test(t)){this.word+=t;return}if(f.test(t)){this.word=parseFloat(this.word);this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)};p.prototype.quoted=function(t){if(t==='"'){this.state=s;return}this.word+=t;return};p.prototype.keyword=function(t){if(h.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word);this.level++;if(this.root===null){this.root=e}else{this.currentObject.push(e)}this.stack.push(this.currentObject);this.currentObject=e;this.state=n;return}if(f.test(t)){this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place)};p.prototype.neutral=function(t){if(c.test(t)){this.word=t;this.state=r;return}if(t==='"'){this.word="";this.state=o;return}if(d.test(t)){this.word=t;this.state=a;return}if(f.test(t)){this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place)};p.prototype.output=function(){while(this.place<this.text.length){this.readCharicter()}if(this.state===u){return this.root}throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function v(t){var e=new p(t);return e.output()}function g(t,e,i){if(Array.isArray(e)){i.unshift(e);e=null}var n=e?{}:t;var r=i.reduce(function(t,e){m(e,t);return t},n);if(e){t[e]=r}}function m(t,e){if(!Array.isArray(t)){e[t]=true;return}var i=t.shift();if(i==="PARAMETER"){i=t.shift()}if(t.length===1){if(Array.isArray(t[0])){e[i]={};m(t[0],e[i]);return}e[i]=t[0];return}if(!t.length){e[i]=true;return}if(i==="TOWGS84"){e[i]=t;return}if(i==="AXIS"){if(!(i in e)){e[i]=[]}e[i].push(t);return}if(!Array.isArray(i)){e[i]={}}var n;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[i]={name:t[0].toLowerCase(),convert:t[1]};if(t.length===3){m(t[2],e[i])}return;case"SPHEROID":case"ELLIPSOID":e[i]={name:t[0],a:t[1],rf:t[2]};if(t.length===4){m(t[3],e[i])}return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]];g(e,i,t);return;default:n=-1;while(++n<t.length){if(!Array.isArray(t[n])){return m(t,e[i])}}return g(e,i,t)}}var y=.017453292519943295;function _(t,e){var i=e[0];var n=e[1];if(!(i in t)&&n in t){t[i]=t[n];if(e.length===3){t[i]=e[2](t[i])}}}function b(t){return t*y}function w(t){if(t.type==="GEOGCS"){t.projName="longlat"}else if(t.type==="LOCAL_CS"){t.projName="identity";t.local=true}else{if(typeof t.PROJECTION==="object"){t.projName=Object.keys(t.PROJECTION)[0]}else{t.projName=t.PROJECTION}}if(t.AXIS){var e="";for(var i=0,n=t.AXIS.length;i<n;++i){var r=t.AXIS[i];var a=r[0].toLowerCase();if(a.indexOf("north")!==-1){e+="n"}else if(a.indexOf("south")!==-1){e+="s"}else if(a.indexOf("east")!==-1){e+="e"}else if(a.indexOf("west")!==-1){e+="w"}}if(e.length===2){e+="u"}if(e.length===3){t.axis=e}}if(t.UNIT){t.units=t.UNIT.name.toLowerCase();if(t.units==="metre"){t.units="meter"}if(t.UNIT.convert){if(t.type==="GEOGCS"){if(t.DATUM&&t.DATUM.SPHEROID){t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a}}else{t.to_meter=t.UNIT.convert}}}var o=t.GEOGCS;if(t.type==="GEOGCS"){o=t}if(o){if(o.DATUM){t.datumCode=o.DATUM.name.toLowerCase()}else{t.datumCode=o.name.toLowerCase()}if(t.datumCode.slice(0,2)==="d_"){t.datumCode=t.datumCode.slice(2)}if(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949"){t.datumCode="nzgd49"}if(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984"){if(t.PROJECTION==="Mercator_Auxiliary_Sphere"){t.sphere=true}t.datumCode="wgs84"}if(t.datumCode.slice(-6)==="_ferro"){t.datumCode=t.datumCode.slice(0,-6)}if(t.datumCode.slice(-8)==="_jakarta"){t.datumCode=t.datumCode.slice(0,-8)}if(~t.datumCode.indexOf("belge")){t.datumCode="rnb72"}if(o.DATUM&&o.DATUM.SPHEROID){t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk");if(t.ellps.toLowerCase().slice(0,13)==="international"){t.ellps="intl"}t.a=o.DATUM.SPHEROID.a;t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)}if(o.DATUM&&o.DATUM.TOWGS84){t.datum_params=o.DATUM.TOWGS84}if(~t.datumCode.indexOf("osgb_1936")){t.datumCode="osgb36"}if(~t.datumCode.indexOf("osni_1952")){t.datumCode="osni52"}if(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965")){t.datumCode="ire65"}if(t.datumCode==="ch1903+"){t.datumCode="ch1903"}if(~t.datumCode.indexOf("israel")){t.datumCode="isr93"}}if(t.b&&!isFinite(t.b)){t.b=t.a}function s(e){var i=t.to_meter||1;return e*i}var u=function(e){return _(t,e)};var l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",b],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",b],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",b],["lat0","latitude_of_origin",b],["lat0","standard_parallel_1",b],["lat1","standard_parallel_1",b],["lat2","standard_parallel_2",b],["azimuth","Azimuth"],["alpha","azimuth",b],["srsCode","name"]];l.forEach(u);if(!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")){t.long0=t.longc}if(!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")){t.lat0=b(t.lat1>0?90:-90);t.lat_ts=t.lat1}}var O=function(t){var e=v(t);var i=e.shift();var n=e.shift();e.unshift(["name",n]);e.unshift(["type",i]);var r={};m(e,r);w(r);return r};t.exports=O},function(t,e,i){"use strict";var n=function t(){return{restrict:"A",link:function e(i,n,r){var a=r["ngeoSearch"];var o=i.$eval(a);var s=r["ngeoSearchDatasets"];var u=i.$eval(s);var l=u.slice();l.unshift(o);n.typeahead.apply(n,l);var c=r["ngeoSearchListeners"];var h=i.$eval(c);var f=t.adaptListeners_(h);n.on("typeahead:open",function(){i.$apply(function(){f.open()})});n.on("typeahead:close",function(){i.$apply(function(){f.close()})});n.on("typeahead:cursorchange",function(t,e,n){i.$apply(function(){f.cursorchange(t,e,n)})});n.on("typeahead:select",function(t,e,n){i.$apply(function(){f.select(t,e,n)})});n.on("typeahead:autocomplete",function(t,e,n){i.$apply(function(){f.autocomplete(t,e,n)})});n.on("typeahead:asyncreceive",function(t,e,r){i.$apply(function(){var e=n.data("tt-typeahead")["menu"]["_allDatasetsEmpty"]();f.datasetsempty(t,r,e)})})}}};n.adaptListeners_=function(t){var e=void 0;if(t===undefined){e={open:function t(){},close:function t(){},cursorchange:function t(){},datasetsempty:function t(){},select:function t(){},autocomplete:function t(){}}}else{e={open:t.open!==undefined?t.open:function(){},close:t.close!==undefined?t.close:function(){},cursorchange:t.cursorchange!==undefined?t.cursorchange:function(){},datasetsempty:t.datasetsempty!==undefined?t.datasetsempty:function(){},select:t.select!==undefined?t.select:function(){},autocomplete:t.autocomplete!==undefined?t.autocomplete:function(){}}}return e};n.module=angular.module("ngeoSearchDirective",[]);n.module.directive("ngeoSearch",n);e["a"]=n},function(t,e,i){"use strict";var n=i(187);var r=i(3);var a=angular.module("ngeoMapQuery",[n["a"].module.name]);a.directive_=function(t,e){return{restrict:"A",scope:false,link:function i(n,a,o){var s=n.$eval(o["ngeoMapQueryMap"]);var u=null;var l=null;var c=function e(i){var n=i.coordinate;t.issue({coordinate:n,map:s})};var h=function t(e){if(!e.dragging){var i=s.getEventPixel(e.originalEvent);var n=function t(e){var i=e.get("visible");var n=e.get("querySourceIds");return i&&!!n};var r=s.forEachLayerAtPixel(i,function(){return true},undefined,n);s.getTargetElement().style.cursor=r?"pointer":""}};var f=function t(){u=r["a"](s,"singleclick",c);var i=e.has("ngeoQueryOptions")?e.get("ngeoQueryOptions"):{};if(i.cursorHover){l=r["a"](s,"pointermove",h)}};var d=function e(){if(u!==null){r["e"](u);u=null}if(l!==null){r["e"](l);l=null}if(n.$eval(o["ngeoMapQueryAutoclear"])!==false){t.clear()}};n.$watch(o["ngeoMapQueryActive"],function(t,e){if(t){f()}else{d()}})}}};a.directive_.$inject=["ngeoMapQuerent","$injector"];a.directive("ngeoMapQuery",a.directive_);e["a"]=a},function(t,e,i){(function(t,n){true?n(e,i(105)):undefined})(this,function(t,e){"use strict";function i(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);e.setFullYear(t.y);return e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));e.setUTCFullYear(t.y);return e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function r(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function a(t){var a=t.dateTime,s=t.date,u=t.time,l=t.periods,c=t.days,h=t.shortDays,mt=t.months,yt=t.shortMonths;var _t=f(l),bt=d(l),wt=f(c),Ot=d(c),xt=f(h),St=d(h),Ct=f(mt),Tt=d(mt),Et=f(yt),Mt=d(yt);var jt={a:Wt,A:Yt,b:zt,B:Vt,c:null,d:P,e:P,f:F,H:D,I:N,j:$,L:L,m:G,M:U,p:Bt,q:qt,Q:vt,s:gt,S:H,u:W,U:Y,V:z,w:V,W:B,x:null,X:null,y:q,Y:K,Z:X,"%":pt};var kt={a:Kt,A:Xt,b:Zt,B:Qt,c:null,d:Z,e:Z,f:it,H:Q,I:J,j:tt,L:et,m:nt,M:rt,p:Jt,q:te,Q:vt,s:gt,S:at,u:ot,U:st,V:ut,w:lt,W:ct,x:null,X:null,y:ht,Y:ft,Z:dt,"%":pt};var Rt={a:Nt,A:$t,b:Lt,B:Ft,c:Gt,d:S,e:S,f:k,H:T,I:T,j:C,L:j,m:x,M:E,p:Dt,q:O,Q:A,s:I,S:M,u:v,U:g,V:m,w:p,W:y,x:Ut,X:Ht,y:b,Y:_,Z:w,"%":R};jt.x=At(s,jt);jt.X=At(u,jt);jt.c=At(a,jt);kt.x=At(s,kt);kt.X=At(u,kt);kt.c=At(a,kt);function At(t,e){return function(i){var n=[],r=-1,a=0,s=t.length,u,l,c;if(!(i instanceof Date))i=new Date(+i);while(++r<s){if(t.charCodeAt(r)===37){n.push(t.slice(a,r));if((l=o[u=t.charAt(++r)])!=null)u=t.charAt(++r);else l=u==="e"?" ":"0";if(c=e[u])u=c(i,l);n.push(u);a=r+1}}n.push(t.slice(a,r));return n.join("")}}function It(t,a){return function(o){var s=r(1900,undefined,1),u=Pt(s,t,o+="",0),l,c;if(u!=o.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(s.s*1e3+("L"in s?s.L:0));if(a&&!("Z"in s))s.Z=0;if("p"in s)s.H=s.H%12+s.p*12;if(s.m===undefined)s.m="q"in s?s.q:0;if("V"in s){if(s.V<1||s.V>53)return null;if(!("w"in s))s.w=1;if("Z"in s){l=n(r(s.y,0,1)),c=l.getUTCDay();l=c>4||c===0?e.utcMonday.ceil(l):e.utcMonday(l);l=e.utcDay.offset(l,(s.V-1)*7);s.y=l.getUTCFullYear();s.m=l.getUTCMonth();s.d=l.getUTCDate()+(s.w+6)%7}else{l=i(r(s.y,0,1)),c=l.getDay();l=c>4||c===0?e.timeMonday.ceil(l):e.timeMonday(l);l=e.timeDay.offset(l,(s.V-1)*7);s.y=l.getFullYear();s.m=l.getMonth();s.d=l.getDate()+(s.w+6)%7}}else if("W"in s||"U"in s){if(!("w"in s))s.w="u"in s?s.u%7:"W"in s?1:0;c="Z"in s?n(r(s.y,0,1)).getUTCDay():i(r(s.y,0,1)).getDay();s.m=0;s.d="W"in s?(s.w+6)%7+s.W*7-(c+5)%7:s.w+s.U*7-(c+6)%7}if("Z"in s){s.H+=s.Z/100|0;s.M+=s.Z%100;return n(s)}return i(s)}}function Pt(t,e,i,n){var r=0,a=e.length,s=i.length,u,l;while(r<a){if(n>=s)return-1;u=e.charCodeAt(r++);if(u===37){u=e.charAt(r++);l=Rt[u in o?e.charAt(r++):u];if(!l||(n=l(t,i,n))<0)return-1}else if(u!=i.charCodeAt(n++)){return-1}}return n}function Dt(t,e,i){var n=_t.exec(e.slice(i));return n?(t.p=bt[n[0].toLowerCase()],i+n[0].length):-1}function Nt(t,e,i){var n=xt.exec(e.slice(i));return n?(t.w=St[n[0].toLowerCase()],i+n[0].length):-1}function $t(t,e,i){var n=wt.exec(e.slice(i));return n?(t.w=Ot[n[0].toLowerCase()],i+n[0].length):-1}function Lt(t,e,i){var n=Et.exec(e.slice(i));return n?(t.m=Mt[n[0].toLowerCase()],i+n[0].length):-1}function Ft(t,e,i){var n=Ct.exec(e.slice(i));return n?(t.m=Tt[n[0].toLowerCase()],i+n[0].length):-1}function Gt(t,e,i){return Pt(t,a,e,i)}function Ut(t,e,i){return Pt(t,s,e,i)}function Ht(t,e,i){return Pt(t,u,e,i)}function Wt(t){return h[t.getDay()]}function Yt(t){return c[t.getDay()]}function zt(t){return yt[t.getMonth()]}function Vt(t){return mt[t.getMonth()]}function Bt(t){return l[+(t.getHours()>=12)]}function qt(t){return 1+~~(t.getMonth()/3)}function Kt(t){return h[t.getUTCDay()]}function Xt(t){return c[t.getUTCDay()]}function Zt(t){return yt[t.getUTCMonth()]}function Qt(t){return mt[t.getUTCMonth()]}function Jt(t){return l[+(t.getUTCHours()>=12)]}function te(t){return 1+~~(t.getUTCMonth()/3)}return{format:function(t){var e=At(t+="",jt);e.toString=function(){return t};return e},parse:function(t){var e=It(t+="",false);e.toString=function(){return t};return e},utcFormat:function(t){var e=At(t+="",kt);e.toString=function(){return t};return e},utcParse:function(t){var e=It(t+="",true);e.toString=function(){return t};return e}}}var o={"-":"",_:" ",0:"0"},s=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function c(t,e,i){var n=t<0?"-":"",r=(n?-t:t)+"",a=r.length;return n+(a<i?new Array(i-a+1).join(e)+r:r)}function h(t){return t.replace(l,"\\$&")}function f(t){return new RegExp("^(?:"+t.map(h).join("|")+")","i")}function d(t){var e={},i=-1,n=t.length;while(++i<n)e[t[i].toLowerCase()]=i;return e}function p(t,e,i){var n=s.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function v(t,e,i){var n=s.exec(e.slice(i,i+1));return n?(t.u=+n[0],i+n[0].length):-1}function g(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.U=+n[0],i+n[0].length):-1}function m(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.V=+n[0],i+n[0].length):-1}function y(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.W=+n[0],i+n[0].length):-1}function _(t,e,i){var n=s.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function b(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function w(t,e,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function O(t,e,i){var n=s.exec(e.slice(i,i+1));return n?(t.q=n[0]*3-3,i+n[0].length):-1}function x(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function S(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function C(t,e,i){var n=s.exec(e.slice(i,i+3));return n?(t.m=0,t.d=+n[0],i+n[0].length):-1}function T(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function E(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function M(t,e,i){var n=s.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function j(t,e,i){var n=s.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function k(t,e,i){var n=s.exec(e.slice(i,i+6));return n?(t.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function R(t,e,i){var n=u.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function A(t,e,i){var n=s.exec(e.slice(i));return n?(t.Q=+n[0],i+n[0].length):-1}function I(t,e,i){var n=s.exec(e.slice(i));return n?(t.s=+n[0],i+n[0].length):-1}function P(t,e){return c(t.getDate(),e,2)}function D(t,e){return c(t.getHours(),e,2)}function N(t,e){return c(t.getHours()%12||12,e,2)}function $(t,i){return c(1+e.timeDay.count(e.timeYear(t),t),i,3)}function L(t,e){return c(t.getMilliseconds(),e,3)}function F(t,e){return L(t,e)+"000"}function G(t,e){return c(t.getMonth()+1,e,2)}function U(t,e){return c(t.getMinutes(),e,2)}function H(t,e){return c(t.getSeconds(),e,2)}function W(t){var e=t.getDay();return e===0?7:e}function Y(t,i){return c(e.timeSunday.count(e.timeYear(t)-1,t),i,2)}function z(t,i){var n=t.getDay();t=n>=4||n===0?e.timeThursday(t):e.timeThursday.ceil(t);return c(e.timeThursday.count(e.timeYear(t),t)+(e.timeYear(t).getDay()===4),i,2)}function V(t){return t.getDay()}function B(t,i){return c(e.timeMonday.count(e.timeYear(t)-1,t),i,2)}function q(t,e){return c(t.getFullYear()%100,e,2)}function K(t,e){return c(t.getFullYear()%1e4,e,4)}function X(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+c(e/60|0,"0",2)+c(e%60,"0",2)}function Z(t,e){return c(t.getUTCDate(),e,2)}function Q(t,e){return c(t.getUTCHours(),e,2)}function J(t,e){return c(t.getUTCHours()%12||12,e,2)}function tt(t,i){return c(1+e.utcDay.count(e.utcYear(t),t),i,3)}function et(t,e){return c(t.getUTCMilliseconds(),e,3)}function it(t,e){return et(t,e)+"000"}function nt(t,e){return c(t.getUTCMonth()+1,e,2)}function rt(t,e){return c(t.getUTCMinutes(),e,2)}function at(t,e){return c(t.getUTCSeconds(),e,2)}function ot(t){var e=t.getUTCDay();return e===0?7:e}function st(t,i){return c(e.utcSunday.count(e.utcYear(t)-1,t),i,2)}function ut(t,i){var n=t.getUTCDay();t=n>=4||n===0?e.utcThursday(t):e.utcThursday.ceil(t);return c(e.utcThursday.count(e.utcYear(t),t)+(e.utcYear(t).getUTCDay()===4),i,2)}function lt(t){return t.getUTCDay()}function ct(t,i){return c(e.utcMonday.count(e.utcYear(t)-1,t),i,2)}function ht(t,e){return c(t.getUTCFullYear()%100,e,2)}function ft(t,e){return c(t.getUTCFullYear()%1e4,e,4)}function dt(){return"+0000"}function pt(){return"%"}function vt(t){return+t}function gt(t){return Math.floor(+t/1e3)}var mt;yt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yt(e){mt=a(e);t.timeFormat=mt.format;t.timeParse=mt.parse;t.utcFormat=mt.utcFormat;t.utcParse=mt.utcParse;return mt}var _t="%Y-%m-%dT%H:%M:%S.%LZ";function bt(t){return t.toISOString()}var wt=Date.prototype.toISOString?bt:t.utcFormat(_t);function Ot(t){var e=new Date(t);return isNaN(e)?null:e}var xt=+new Date("2000-01-01T00:00:00.000Z")?Ot:t.utcParse(_t);t.isoFormat=wt;t.isoParse=xt;t.timeFormatDefaultLocale=yt;t.timeFormatLocale=a;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";var n=i(57);var r=i(12);var a=function t(){this.extentHalfHorizontalDistance_;this.extentHalfVerticalDistance_};a.INCHES_PER_METER_=39.37;a.DOTS_PER_INCH_=72;a.prototype.createPrintMaskPostcompose=function(t,e,i){var o=this;return function(s){var u=s.context;var l=s.frameState;var c=l.viewState.resolution;var h=l.size[0]*l.pixelRatio;var f=l.size[1]*l.pixelRatio;var d=[h/2,f/2];var p=t();var v=p[1]*n["b"];var g=p[0]*n["b"];var m=e(l);var y=a.DOTS_PER_INCH_;var _=a.INCHES_PER_METER_;var b=g/y/_*m/c/2;o.extentHalfHorizontalDistance_=p[0]/y/_*m/2;var w=v/y/_*m/c/2;o.extentHalfVerticalDistance_=p[1]/y/_*m/2;u.beginPath();u.moveTo(0,0);u.lineTo(h,0);u.lineTo(h,f);u.lineTo(0,f);u.lineTo(0,0);u.closePath();if(!i){o.drawPrintZone_(u,d,b,w)}else{var O=r["i"](i());o.drawPrintZoneWithRotation_(u,d,b,w,O)}u.fillStyle="rgba(0, 5, 25, 0.5)";u.fill()}};a.prototype.drawPrintZone_=function(t,e,i,n){var r=e[0]-i;var a=e[1]-n;var o=e[0]+i;var s=e[1]+n;t.moveTo(r,a);t.lineTo(r,s);t.lineTo(o,s);t.lineTo(o,a);t.lineTo(r,a);t.closePath()};a.prototype.drawPrintZoneWithRotation_=function(t,e,i,n,r){var a=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));var o=Math.atan(n/i)-r;var s=Math.atan(i/n)-r;var u=e[0]-Math.cos(o)*a;var l=e[1]+Math.sin(o)*a;var c=e[0]+Math.sin(s)*a;var h=e[1]+Math.cos(s)*a;var f=e[0]+Math.cos(o)*a;var d=e[1]-Math.sin(o)*a;var p=e[0]-Math.sin(s)*a;var v=e[1]-Math.cos(s)*a;t.moveTo(u,l);t.lineTo(c,h);t.lineTo(f,d);t.lineTo(p,v);t.lineTo(u,l);t.closePath()};a.prototype.getOptimalScale=function(t,e,i,n){var r=t[0]*e;var o=t[1]*e;var s=r*a.INCHES_PER_METER_*a.DOTS_PER_INCH_/i[0];var u=o*a.INCHES_PER_METER_*a.DOTS_PER_INCH_/i[1];var l=Math.min(s,u);var c=-1;for(var h=0,f=n.length;h<f;++h){if(l>n[h]){c=n[h]}}return c};a.prototype.getOptimalResolution=function(t,e,i){var n=a.DOTS_PER_INCH_*a.INCHES_PER_METER_;var r=e[0]*i/(n*t[0]);var o=e[1]*i/(n*t[1]);var s=Math.max(r,o);return s};a.prototype.getBottomLeftCorner=function(t){return[t[0]-this.extentHalfHorizontalDistance_,t[1]-this.extentHalfVerticalDistance_]};a.prototype.getBottomRightCorner=function(t){return[t[0]+this.extentHalfHorizontalDistance_,t[1]-this.extentHalfVerticalDistance_]};a.prototype.getUpLeftCorner=function(t){return[t[0]-this.extentHalfHorizontalDistance_,t[1]+this.extentHalfVerticalDistance_]};a.prototype.getUpRightCorner=function(t){return[t[0]+this.extentHalfHorizontalDistance_,t[1]+this.extentHalfVerticalDistance_]};a.module=angular.module("ngeoPrintUtils",[]);a.module.service("ngeoPrintUtils",a);e["a"]=a},function(t,e,i){"use strict";var n=i(2);var r=i(86);var a=i(1);var o=i(75);var s=i(84);var u=i(78);var l=i(72);var c=i(96);var h=i(116);var f=i(224);var d=function t(e){o["a"].call(this);this.mapUids_={};this.ngeoLayerHelper_=e};d.$inject=["ngeoLayerHelper"];d.$inject=["ngeoLayerHelper"];a["d"](d,o["a"]);d.prototype.get=function(t){var e=a["c"](t).toString();return e in this.mapUids_?this.ngeoLayerHelper_.getGroupFromMap(t,d.BACKGROUNDLAYERGROUP_NAME).getLayers().item(0):null};d.prototype.set=function(t,e){var i=-200;var o=a["c"](t).toString();var s=this.get(t);if(e!==null){e.setZIndex(i);this.ngeoLayerHelper_.setZIndexToFirstLevelChildren(e,i)}var u=this.ngeoLayerHelper_.getGroupFromMap(t,d.BACKGROUNDLAYERGROUP_NAME);if(s!==null){n["a"].assert(o in this.mapUids_);if(e!==null){u.getLayers().setAt(0,e)}else{u.getLayers().removeAt(0);delete this.mapUids_[o]}}else if(e!==null){u.getLayers().insertAt(0,e);this.mapUids_[o]=true}var l=new r["a"]("change",{current:e,previous:s});this.dispatchEvent(l);return s};d.prototype.getOpacityBgLayer=function(t){var e=a["c"](t).toString();return e in this.mapUids_?this.ngeoLayerHelper_.getGroupFromMap(t,d.BACKGROUNDLAYERGROUP_NAME).getLayers().item(1):null};d.prototype.setOpacityBgLayer=function(t,e){var i=this.ngeoLayerHelper_.getGroupFromMap(t,d.BACKGROUNDLAYERGROUP_NAME);var n=i.getLayers().remove(this.getOpacityBgLayer(t));var r=-100;e.setOpacity(n?n.getOpacity():0);e.setVisible(n?n.getVisible():true);e.setZIndex(r);this.ngeoLayerHelper_.setZIndexToFirstLevelChildren(e,r);var a=i.getLayers().getArray().indexOf(e);if(a===-1){i.getLayers().push(e)}};d.prototype.updateDimensions=function(t,e){var i=this.get(t);if(i){var r=[i];if(i instanceof s["a"]){r=i.getLayers().getArray()}r.forEach(function(t){n["a"].assertInstanceof(t,u["a"]);if(t){var i=false;var r={};for(var a in t.get("dimensions")){var o=e[a];if(o!==undefined){r[a]=o;i=true}}if(i){var s=t.getSource();if(s instanceof h["a"]){s.updateDimensions(r);s.refresh()}else if(s instanceof c["a"]||s instanceof l["a"]){s.updateParams(r);s.refresh()}}}})}};d.module=angular.module("ngeoBackgroundLayerMgr",[f["a"].module.name]);d.module.service("ngeoBackgroundLayerMgr",d);d.BACKGROUNDLAYERGROUP_NAME="background";e["a"]=d},function(t,e,i){"use strict";var n=i(2);var r=i(190);var a=i(86);var o=i(65);var s=i(1);var u=i(4);var l=i(14);var c=i(3);var h=i(27);var f=i(67);var d=i(32);var p=i(46);var v=i(29);var g=i(38);var m=i(34);var y=function t(e){n["a"].assert(e.features);this.listenerKeys_=[];this.modified_=false;this.keyPressListenerKey_=null;this.changingFeature_=false;this.pixelTolerance_=e.pixelTolerance!==undefined?e.pixelTolerance:10;this.features_=e.features;this.feature_=null;this.coordinate_=null;this.centerCoordinate_=null;this.overlay_=new g["a"]({source:new m["b"]({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.style||r["a"].getDefaultModifyStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.centerFeatures_={};h["b"].call(this,{handleDownEvent:this.handleDown_,handleDragEvent:this.handleDrag_,handleUpEvent:this.handleUp_})};s["d"](y,h["b"]);y.prototype.setActive=function(t){var e=this;if(this.keyPressListenerKey_){c["e"](this.keyPressListenerKey_);this.keyPressListenerKey_=null}h["b"].prototype.setActive.call(this,t);if(t){this.keyPressListenerKey_=c["a"](document,"keyup",this.handleKeyUp_,this);this.features_.forEach(function(t){return e.addFeature_(t)});this.listenerKeys_.push(c["a"](this.features_,"add",this.handleFeatureAdd_,this),c["a"](this.features_,"remove",this.handleFeatureRemove_,this))}else{this.listenerKeys_.forEach(c["e"]);this.listenerKeys_.length=0;this.features_.forEach(function(t){return e.removeFeature_(t)})}};y.prototype.addFeature_=function(t){var e=t.getGeometry();n["a"].assertInstanceof(e,f["a"]);t.set("angle",0);var i=s["c"](t);var r=new d["a"](this.getCenterCoordinate_(e));var a=new l["a"](r);this.centerFeatures_[i]=a;this.overlay_.getSource().addFeature(a)};y.prototype.willModifyFeatures_=function(t){if(!this.modified_){this.modified_=true;var e=new a["a"]("modifystart",{features:this.features_});this.dispatchEvent(e)}};y.prototype.removeFeature_=function(t){this.feature_=null;if(t){var e=s["c"](t);if(this.centerFeatures_[e]){this.overlay_.getSource().removeFeature(this.centerFeatures_[e]);delete this.centerFeatures_[e]}}};y.prototype.setMap=function(t){this.overlay_.setMap(t);h["b"].prototype.setMap.call(this,t)};y.prototype.handleFeatureAdd_=function(t){var e=t.element;n["a"].assertInstanceof(e,l["a"],"feature should be an ol.Feature");this.addFeature_(e)};y.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)};y.prototype.handleDown_=function(t){var e=t.map;var i=e.forEachFeatureAtPixel(t.pixel,function(t,e){return t},undefined);if(i){var n=false;this.features_.forEach(function(t){if(s["c"](t)==s["c"](i)){n=true}});if(!n){i=null}}if(i){this.coordinate_=t.coordinate;this.feature_=i;var r=this.feature_.getGeometry();if(r!==undefined){this.centerCoordinate_=this.getCenterCoordinate_(r)}return true}return false};y.prototype.getCenterCoordinate_=function(t){var e=void 0;if(t instanceof p["a"]){e=t.getFlatMidpoint()}else if(t instanceof v["b"]){e=t.getFlatInteriorPoint()}else{var i=t.getExtent();e=u["x"](i)}return e};y.prototype.handleDrag_=function(t){this.willModifyFeatures_(t);var e=this.feature_.getGeometry();var i=this.coordinate_[0];var n=this.coordinate_[1];var r=this.centerCoordinate_[0];var a=this.centerCoordinate_[1];var o=i-r;var s=n-a;var u=t.coordinate[0]-r;var l=t.coordinate[1]-a;this.coordinate_[0]=t.coordinate[0];this.coordinate_[1]=t.coordinate[1];var c=Math.atan2(l,u);var h=Math.atan2(s,o);var f=h-c;e.rotate(-f,[r,a])};y.prototype.handleUp_=function(t){if(this.modified_){var e=new a["a"]("rotateend",{feature:this.feature_});this.dispatchEvent(e);this.modified_=false;this.setActive(false)}return false};y.prototype.handleKeyUp_=function(t){if(!o["a"].mousedown&&t.keyCode===27){this.setActive(false)}};e["a"]=y},function(t,e,i){"use strict";var n=i(2);var r=i(190);var a=i(86);var o=i(1);var s=i(14);var u=i(3);var l=i(32);var c=i(29);var h=i(27);var f=i(38);var d=i(34);var p=function t(e){var i=this;n["a"].assert(e.features);h["b"].call(this,{handleDownEvent:this.handleDown_,handleDragEvent:this.handleDrag_,handleUpEvent:this.handleUp_});this.modified_=false;this.vectorPoints_=new f["a"]({source:new d["b"]({wrapX:!!e.wrapX}),visible:this.getActive(),style:e.style||r["a"].getDefaultModifyStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.features_=e.features;this.feature_=null;this.cache_={};this.params_=null;u["a"](this.features_,"add",this.handleFeatureAdd_,this);u["a"](this.features_,"remove",this.handleFeatureRemove_,this);this.features_.forEach(function(t){i.addFeature_(t)})};o["d"](p,h["b"]);p.prototype.setActive=function(t){h["b"].prototype.setActive.call(this,t);if(this.vectorPoints_){this.vectorPoints_.setVisible(t)}};p.prototype.addFeature_=function(t){var e=t.getGeometry();if(e instanceof c["b"]){var i=o["c"](t);var n=this.cache_[i];if(n){return}var r=this.vectorPoints_.getSource();var a=e.getCoordinates()[0];while(a.length>4){if(a[0][0]<a[1][0]&&a[0][1]<=a[1][1]){a.pop()}else{a.shift()}}var u=[];var h=void 0;var f=void 0;a.forEach(function(e){h=new l["a"](e);f=new s["a"]({corner:true,geometry:h,siblingX:null,siblingY:null,boxFeature:t});u.push(f)},this);n={corners:u};this.cache_[i]=n;var d=void 0;var p=void 0;u.forEach(function(t,e){d=u[e-1];if(!d){d=u[u.length-1]}p=u[e+1];if(!p){p=u[0]}if(e%2===0){t.set("siblingX",p);t.set("siblingY",d)}else{t.set("siblingX",d);t.set("siblingY",p)}},this);r.addFeatures(u)}};p.prototype.willModifyFeatures_=function(t){if(!this.modified_){this.modified_=true;var e=new a["a"]("modifystart",{features:this.features_});this.dispatchEvent(e);this.params_=this.initializeParams_()}};p.prototype.initializeParams_=function(){var t=this.feature_;var e=t.get("siblingX");n["a"].assertInstanceof(e,s["a"]);var i=e.get("siblingY");n["a"].assertInstanceof(i,s["a"]);var r=i.getGeometry();n["a"].assertInstanceof(r,l["a"]);var a=r.getCoordinates();var o=this.getMap().getPixelFromCoordinate(a);var u=i.get("siblingX");n["a"].assertInstanceof(u,s["a"]);var c=u.getGeometry();n["a"].assertInstanceof(c,l["a"]);var h=c.getCoordinates();var f=this.getMap().getPixelFromCoordinate(h);var d=[f[0]-o[0],f[1]-o[1]];var p=Math.sqrt(d[0]*d[0]+d[1]*d[1]);d[0]/=p;d[1]/=p;var v=e.getGeometry();n["a"].assertInstanceof(v,l["a"]);var g=v.getCoordinates();var m=this.getMap().getPixelFromCoordinate(g);var y=[m[0]-o[0],m[1]-o[1]];var _=Math.sqrt(y[0]*y[0]+y[1]*y[1]);y[0]/=_;y[1]/=_;if(isNaN(d[0])&&isNaN(y[0])){d=[0,1];y=[1,0]}else if(isNaN(d[0])){d=[y[1],-y[0]]}else if(isNaN(y[0])){y=[d[1],-d[0]]}return{originCoordinate:a,originPixel:o,siblingXPoint:c,siblingYPoint:v,vectorX:d,vectorY:y}};p.prototype.removeFeature_=function(t){var e=o["c"](t);var i=this.cache_[e];var n=i.corners;for(var r=0;r<n.length;r++){this.vectorPoints_.getSource().removeFeature(n[r])}this.feature_=null;n.length=0;delete this.cache_[e]};p.prototype.setMap=function(t){this.vectorPoints_.setMap(t);h["b"].prototype.setMap.call(this,t)};p.prototype.handleFeatureAdd_=function(t){var e=t.element;n["a"].assertInstanceof(e,s["a"],"feature should be an ol.Feature");this.addFeature_(e)};p.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)};p.prototype.handleDown_=function(t){var e=t.map;var i=e.forEachFeatureAtPixel(t.pixel,function(t){return t.get("siblingX")&&t.get("siblingY")?t:undefined});if(i){this.feature_=i;return true}return false};p.prototype.handleDrag_=function(t){this.willModifyFeatures_(t);var e=this.feature_;var i=e.getGeometry();if(i instanceof l["a"]){i.setCoordinates(t.coordinate);var r=t.pixel;var a=this.params_.originPixel;var o=this.params_.siblingXPoint;var s=this.params_.siblingYPoint;var u=this.params_.vectorX;var h=this.params_.vectorY;var f=this.params_.originCoordinate;var d=this.calculateNewPixel_(a,r,u);var p=this.getMap().getCoordinateFromPixel(d);o.setCoordinates(p);var v=this.calculateNewPixel_(a,r,h);var g=this.getMap().getCoordinateFromPixel(v);s.setCoordinates(g);var m=e.get("boxFeature");var y=m.getGeometry();n["a"].assertInstanceof(y,c["b"]);y.setCoordinates([[t.coordinate,p,f,g,t.coordinate]])}};p.prototype.calculateNewPixel_=function(t,e,i){var n=[e[0]-t[0],e[1]-t[1]];var r=n[0]*i[0]+n[1]*i[1];var a=[i[0]*r,i[1]*r];return[a[0]+t[0],a[1]+t[1]]};p.prototype.handleUp_=function(t){if(this.modified_){var e=new a["a"]("modifyend",{features:this.features_});this.dispatchEvent(e);this.params_=null;this.modified_=false}return false};p.CacheItem;p.ModifyParams;e["a"]=p},function(t,e,i){"use strict";var n=i(2);var r=i(86);var a=i(61);var o=i(190);var s=i(176);var u=i(1);var l=i(14);var c=i(111);var h=i(22);var f=i(3);var d=i(4);var p=i(146);var v=i(46);var g=i(32);var m=i(29);var y=i(27);var _=i(38);var b=i(34);var w=i(177);var O=function t(e){var i=this;n["a"].assert(e.features);y["b"].call(this,{handleDownEvent:t.handleDownEvent_,handleDragEvent:t.handleDragEvent_,handleEvent:t.handleEvent,handleUpEvent:t.handleUpEvent_});this.vertexFeature_=null;this.lastPixel_=[0,0];this.modified_=false;this.rBush_=new w["a"];this.pixelTolerance_=e.pixelTolerance!==undefined?e.pixelTolerance:10;this.snappedToVertex_=false;this.changingFeature_=false;this.dragSegments_=null;this.overlay_=new _["a"]({source:new b["b"]({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.style||o["a"].getDefaultModifyStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.features_=e.features;this.features_.forEach(function(t){return i.addFeature_(t)});f["a"](this.features_,"add",this.handleFeatureAdd_,this);f["a"](this.features_,"remove",this.handleFeatureRemove_,this)};u["d"](O,y["b"]);O.prototype.addFeature_=function(t){if(t.getGeometry().getType()==="Polygon"&&!!t.get(a["a"].IS_CIRCLE)){var e=t.getGeometry();this.writeCircleGeometry_(t,e);var i=this.getMap();if(i){this.handlePointerAtPixel_(this.lastPixel_,i)}}};O.prototype.willModifyFeatures_=function(t){if(!this.modified_){this.modified_=true;var e=new r["a"]("modifystart",{features:this.features_});this.dispatchEvent(e)}};O.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t);if(this.vertexFeature_&&this.features_.getLength()===0){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};O.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_;var i=[];e.forEach(function(e){if(t===e.feature){i.push(e)}});for(var n=i.length-1;n>=0;--n){e.remove(i[n])}};O.prototype.setMap=function(t){this.overlay_.setMap(t);y["b"].prototype.setMap.call(this,t)};O.prototype.handleFeatureAdd_=function(t){var e=t.element;n["a"].assertInstanceof(e,l["a"],"feature should be an ol.Feature");this.addFeature_(e)};O.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)};O.prototype.writeCircleGeometry_=function(t,e){var i=e.getCoordinates();var n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,u=void 0,l=void 0;for(o=0,s=i.length;o<s;++o){n=i[o];for(r=0,a=n.length-1;r<a;++r){u=n.slice(r,r+2);l={feature:t,geometry:e,depth:[o],index:r,segment:u};this.rBush_.insert(d["b"](u),l)}}};O.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;if(!e){e=new l["a"](new g["a"](t));this.vertexFeature_=e;this.overlay_.getSource().addFeature(e)}else{var i=e.getGeometry();i.setCoordinates(t)}return e};O.compareIndexes_=function(t,e){return t.index-e.index};O.handleDownEvent_=function(t){this.handlePointerAtPixel_(t.pixel,t.map);this.dragSegments_=[];this.modified_=false;var e=this.vertexFeature_;if(e){var i=e.getGeometry();var n=i.getCoordinates();var r=d["b"]([n]);var a=this.rBush_.getInExtent(r);var o={};a.sort(O.compareIndexes_);for(var s=0,l=a.length;s<l;++s){var c=a[s];var f=c.segment;var p=u["c"](c.feature);var v=c.depth;if(v){p+="-"+v.join("-")}if(!o[p]){o[p]=new Array(2)}if(h["e"](f[0],n)&&!o[p][0]){this.dragSegments_.push([c,0]);o[p][0]=c}else if(h["e"](f[1],n)&&!o[p][1]){this.dragSegments_.push([c,1]);o[p][1]=c}}}return!!this.vertexFeature_};O.handleDragEvent_=function(t){this.willModifyFeatures_(t);var e=t.coordinate;var i=this.dragSegments_[0][0].geometry;var n=d["x"](i.getExtent());var r=new v["a"]([n,e]);var o=new p["a"](n,r.getLength());var u=Object(m["c"])(o,64).getCoordinates();this.setGeometryCoordinates_(i,u);var l=s["a"].getAzimut(r);this.features_.getArray()[0].set(a["a"].AZIMUT,l);this.createOrUpdateVertexFeature_(e)};O.handleUpEvent_=function(t){this.rBush_.clear();this.writeCircleGeometry_(this.dragSegments_[0][0].feature,this.dragSegments_[0][0].geometry);if(this.modified_){var e=new r["a"]("modifyend",{features:this.features_});this.dispatchEvent(e);this.modified_=false}return false};O.handleEvent=function(t){if(!(t instanceof c["a"])){return true}var e=void 0;if(!t.map.getView().getInteracting()&&t.type=="pointermove"&&!this.handlingDownUpSequence){this.handlePointerMove_(t)}return y["c"].call(this,t)&&!e};O.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel;this.handlePointerAtPixel_(t.pixel,t.map)};O.prototype.handlePointerAtPixel_=function(t,e){var i=e.getCoordinateFromPixel(t);var n=function t(e,n){return h["i"](i,e.segment)-h["i"](i,n.segment)};var r=e.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]);var a=e.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]);var o=d["b"]([r,a]);var s=this.rBush_;var l=s.getInExtent(o);if(l.length>0){l.sort(n);var c=l[0];var f=c.segment;var p=h["c"](i,f);var v=e.getPixelFromCoordinate(p);if(Math.sqrt(h["h"](t,v))<=this.pixelTolerance_){var g=e.getPixelFromCoordinate(f[0]);var m=e.getPixelFromCoordinate(f[1]);var y=h["h"](v,g);var _=h["h"](v,m);var b=Math.sqrt(Math.min(y,_));this.snappedToVertex_=b<=this.pixelTolerance_;if(this.snappedToVertex_){p=y>_?f[1]:f[0];this.createOrUpdateVertexFeature_(p);var w={};w[u["c"](f)]=true;var O=void 0;for(var x=1,S=l.length;x<S;++x){O=l[x].segment;if(h["e"](f[0],O[0])&&h["e"](f[1],O[1])||h["e"](f[0],O[1])&&h["e"](f[1],O[0])){w[u["c"](O)]=true}else{break}}return}}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};O.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=true;t.setCoordinates(e);this.changingFeature_=false};e["a"]=O},function(t,e,i){"use strict";var n=i(2);var r=i(106);var a=i(31);var o=i(206);var s=i(205);var u=i(188);var l=i(65);var c=i(1);var h=i(33);var f=i(3);var d=i(14);var p=i(74);var v=i(13);var g=angular.module("ngeoCreatefeature",[u["a"].module.name,r["a"].name]);g.directive_=function(){return{controller:"ngeoCreatefeatureController",bindToController:true,scope:{active:"=ngeoCreatefeatureActive",features:"=ngeoCreatefeatureFeatures",geomType:"=ngeoCreatefeatureGeomType",map:"=ngeoCreatefeatureMap"}}};g.directive("ngeoCreatefeature",g.directive_);g.Controller_=function(t,e,i,n,r,a,o){var s=this;this.active;this.features;this.geomType;this.map;this.gettextCatalog_=t;this.compile_=e;this.filter_=i;this.scope_=r;this.timeout_=a;this.ngeoEventHelper_=o;this.injector_=n;this.interaction_;r.$watch(function(){return s.active},function(t){s.interaction_.setActive(t)})};g.Controller_.$inject=["gettextCatalog","$compile","$filter","$injector","$scope","$timeout","ngeoEventHelper"];g.Controller_.prototype.$onInit=function(){this.active=this.active===true;var t=this.gettextCatalog_;var e=void 0;if(this.geomType===a["a"].POINT||this.geomType===a["a"].MULTI_POINT){e=new p["a"]({type:"Point"})}else if(this.geomType===a["a"].LINE_STRING||this.geomType===a["a"].MULTI_LINE_STRING){var i=t.getString("Click to start drawing length");var r=t.getString("Click to continue drawing<br/>"+"Double-click or click last point to finish");e=new s["a"](this.filter_("ngeoUnitPrefix"),t,{style:new v["c"],startMsg:this.compile_("<div translate>"+i+"</div>")(this.scope_)[0],continueMsg:this.compile_("<div translate>"+r+"</div>")(this.scope_)[0],tolerance:this.injector_.has("ngeoSnappingTolerance")?this.injector_.get("ngeoSnappingTolerance"):undefined,source:this.injector_.has("ngeoSnappingSource")?this.injector_.get("ngeoSnappingSource"):undefined})}else if(this.geomType===a["a"].POLYGON||this.geomType===a["a"].MULTI_POLYGON){var u=t.getString("Click to start drawing area");var l=t.getString("Click to continue drawing<br/>"+"Double-click or click starting point to finish");e=new o["a"](this.filter_("ngeoUnitPrefix"),t,{style:new v["c"],startMsg:this.compile_("<div translate>"+u+"</div>")(this.scope_)[0],continueMsg:this.compile_("<div translate>"+l+"</div>")(this.scope_)[0]})}n["a"].assert(e);e.setActive(this.active);this.interaction_=e;this.map.addInteraction(e);var h=c["c"](this);this.ngeoEventHelper_.addListenerKey(h,f["a"](document.body,"keydown",this.handleEscapeKeyDown_,this));if(e instanceof p["a"]){this.ngeoEventHelper_.addListenerKey(h,f["a"](e,"drawend",this.handleDrawEnd_,this))}else if(e instanceof s["a"]||e instanceof o["a"]){this.ngeoEventHelper_.addListenerKey(h,f["a"](e,"measureend",this.handleDrawEnd_,this))}};g.Controller_.prototype.handleEscapeKeyDown_=function(t){var e=this.interaction_;var i=t.keyCode===27;if(!l["a"].mousedown&&i&&e.getActive()){e.setActive(false);e.setActive(true)}};g.Controller_.prototype.handleDrawEnd_=function(t){var e=void 0;if(t.feature){e=t.feature}else{e=t.detail.feature}n["a"].assert(e);var i=e.getGeometry();var r=i.getType();if(this.geomType.indexOf("Multi")!=r.indexOf("Multi")){i=l["b"].toMulti(i)}var a=new d["a"](i);if(this.features instanceof h["b"]){this.features.push(a)}else{this.features.addFeature(a)}};g.Controller_.prototype.$onDestroy=function(){var t=this;this.timeout_(function(){var e=c["c"](t);t.ngeoEventHelper_.clearListenerKey(e);t.interaction_.setActive(false);t.map.removeInteraction(t.interaction_)},0)};g.controller("ngeoCreatefeatureController",g.Controller_);e["a"]=g},function(t,e,i){"use strict";(function(t){var n=i(328);var r=i(460);var a=i.n(r);var o=i(551);var s=i.n(o);var u=angular.module("ngeoDateTimePicker",["gettext"]);u.component_=function(){return{restrict:"A",controller:u.Controller_,bindToController:true,scope:{options:"<ngeoDatetimepickerOptions"}}};u.directive("ngeoDatetimepicker",u.component_);u.Controller_=function(t,e){this.element_=t;this.gettextCatalog_=e;this.options};u.Controller_.$inject=["$element","gettextCatalog"];u.Controller_.prototype.$onInit=function(){var e=this.gettextCatalog_.getCurrentLanguage();t.datetimepicker.setLocale(e);t.datetimepicker.setDateFormatter(new n["a"]);if(typeof this.options==="string"){this.options=angular.fromJson(this.options)}this.element_.datetimepicker(this.options)};u.controller("ngeoDateTimePickerController",u.Controller_);e["a"]=u}).call(this,i(51))},function(t,e,i){"use strict";var n=i(1);var r=i(3);var a=i(188);var o=i(273);var s=angular.module("ngeoAttributes",[o["a"].name,a["a"].module.name]);s.run(["$templateCache",function(t){t.put("ngeo/editing/attributescomponent",i(458))}]);s.value("ngeoAttributesTemplateUrl",function(t){var e=t["ngeoAttributesTemplateUrl"];return e!==undefined?e:"ngeo/editing/attributescomponent"});u.$inject=["$attrs","ngeoAttributesTemplateUrl"];function u(t,e){return e(t)}s.component_={controller:"ngeoAttributesController as attrCtrl",bindings:{attributes:"=ngeoAttributesAttributes",disabled:"<ngeoAttributesDisabled",feature:"=ngeoAttributesFeature"},require:{form:"^"},templateUrl:u};s.component("ngeoAttributes",s.component_);s.Controller_=function(t,e){this.attributes;this.disabled=false;this.feature;this.properties;this.scope_=t;this.ngeoEventHelper_=e;this.updating_=false};s.Controller_.$inject=["$scope","ngeoEventHelper"];s.Controller_.prototype.$onInit=function(){this.properties=this.feature.getProperties();var t=n["c"](this);this.ngeoEventHelper_.addListenerKey(t,r["a"](this.feature,"propertychange",this.handleFeaturePropertyChange_,this))};s.Controller_.prototype.handleInputChange=function(t){this.updating_=true;var e=this.properties[t];this.feature.set(t,e);this.updating_=false};s.Controller_.prototype.$onDestroy=function(){var t=n["c"](this);this.ngeoEventHelper_.clearListenerKey(t)};s.Controller_.prototype.handleFeaturePropertyChange_=function(t){if(this.updating_){return}this.properties[t.key]=t.target.get(t.key);this.scope_.$apply()};s.controller("ngeoAttributesController",s.Controller_);e["a"]=s},function(t,e,i){"use strict";var n=i(163);var r=i(106);var a=i(31);var o=i(205);var s=i(3);var u=i(13);var l=angular.module("ngeoMeasurelength",[n["a"].module.name,r["a"].name]);l.directive_=function(t,e,i,n){return{restrict:"A",require:"^^ngeoDrawfeature",link:function r(l,c,h,f){var d=e.getString("Click to start drawing line");var p=e.getString("Click to continue drawing<br>"+"Double-click or click last point to finish");var v=new o["a"](i("ngeoUnitPrefix"),e,{style:new u["c"],startMsg:t("<div translate>"+d+"</div>")(l)[0],continueMsg:t("<div translate>"+p+"</div>")(l)[0],precision:n.has("ngeoMeasurePrecision")?n.get("ngeoMeasurePrecision"):undefined,tolerance:n.has("ngeoSnappingTolerance")?n.get("ngeoSnappingTolerance"):undefined,source:n.has("ngeoSnappingSource")?n.get("ngeoSnappingSource"):undefined});f.registerInteraction(v);f.measureLength=v;s["a"](v,"measureend",f.handleDrawEnd.bind(f,a["a"].LINE_STRING),f);s["a"](v,"change:active",f.handleActiveChange,f)}}};l.directive_.$inject=["$compile","gettextCatalog","$filter","$injector"];l.directive("ngeoMeasurelength",l.directive_);e["a"]=l},function(t,e,i){"use strict";var n=i(163);var r=i(106);var a=i(31);var o=i(176);var s=i(3);var u=i(14);var l=i(29);var c=i(13);var h=angular.module("ngeoMeasureazimut",[n["a"].module.name,r["a"].name]);h.directive_=function(t,e,i,n){return{restrict:"A",require:"^^ngeoDrawfeature",link:function r(h,f,d,p){var v=e.getString("Click to start drawing circle");var g=e.getString("Click to finish");var m=new o["a"](i("ngeoUnitPrefix"),i("number"),{style:new c["c"],startMsg:t("<div translate>"+v+"</div>")(h)[0],continueMsg:t("<div translate>"+g+"</div>")(h)[0],precision:n.has("ngeoMeasurePrecision")?n.get("ngeoMeasurePrecision"):undefined,decimals:n.has("ngeoMeasureDecimals")?n.get("ngeoMeasureDecimals"):undefined});p.registerInteraction(m);p.measureAzimut=m;s["a"](m,"measureend",function(t){var e=t.detail.feature.getGeometry();var i=e.getGeometries()[1];var n=Object(l["c"])(i,64);t.detail.feature=new u["a"](n);var r=o["a"].getAzimut(e.getGeometries()[0]);t.detail.feature.set("azimut",r);p.handleDrawEnd(a["a"].CIRCLE,t)},p);s["a"](m,"change:active",p.handleActiveChange,p)}}};h.directive_.$inject=["$compile","gettextCatalog","$filter","$injector"];h.directive("ngeoMeasureazimut",h.directive_);e["a"]=h},function(t,e,i){"use strict";var n=i(163);var r=i(31);var a=i(206);var o=i(3);var s=i(13);var u=angular.module("ngeoMeasurearea",[n["a"].module.name]);u.directive_=function(t,e,i,n){return{restrict:"A",require:"^^ngeoDrawfeature",link:function u(l,c,h,f){var d=e.getString("Click to start drawing polygon");var p=e.getString("Click to continue drawing<br>"+"Double-click or click starting point to finish");var v=new a["a"](i("ngeoUnitPrefix"),e,{style:new s["c"],startMsg:t("<div translate>"+d+"</div>")(l)[0],continueMsg:t("<div translate>"+p+"</div>")(l)[0],precision:n.has("ngeoMeasurePrecision")?n.get("ngeoMeasurePrecision"):undefined});f.registerInteraction(v);f.measureArea=v;o["a"](v,"measureend",f.handleDrawEnd.bind(f,r["a"].POLYGON),f);o["a"](v,"change:active",f.handleActiveChange,f)}}};u.directive_.$inject=["$compile","gettextCatalog","$filter","$injector"];u.directive("ngeoMeasurearea",u.directive_);e["a"]=u},function(t,e,i){"use strict";var n=i(31);var r=i(3);var a=i(74);var o=angular.module("ngeoDrawtext",[]);o.directive_=function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,i,o,s){var u=new a["a"]({type:"Point"});s.registerInteraction(u);s.drawText=u;r["a"](u,"drawend",s.handleDrawEnd.bind(s,n["a"].TEXT),s);r["a"](u,"change:active",s.handleActiveChange,s)}}};o.directive("ngeoDrawtext",o.directive_);e["a"]=o},function(t,e,i){"use strict";var n=i(31);var r=i(3);var a=i(74);var o=i(29);var s=angular.module("ngeoDrawrectangle",[]);s.directive_=function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,i,s,u){var l=new a["a"]({type:"LineString",geometryFunction:function t(e,i){if(!i){i=new o["b"](null)}var n=e[0];var r=e[1];i.setCoordinates([[n,[n[0],r[1]],r,[r[0],n[1]],n]]);return i},maxPoints:2});u.registerInteraction(l);u.drawRectangle=l;r["a"](l,"drawend",u.handleDrawEnd.bind(u,n["a"].RECTANGLE),u);r["a"](l,"change:active",u.handleActiveChange,u)}}};s.directive("ngeoDrawrectangle",s.directive_);e["a"]=s},function(t,e,i){"use strict";var n=i(31);var r=i(3);var a=i(74);var o=angular.module("ngeoDrawpoint",[]);o.directive_=function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,i,o,s){var u=new a["a"]({type:"Point"});s.registerInteraction(u);s.drawPoint=u;r["a"](u,"drawend",s.handleDrawEnd.bind(s,n["a"].POINT),s);r["a"](u,"change:active",s.handleActiveChange,s)}}};o.directive("ngeoDrawpoint",o.directive_);e["a"]=o},function(t,e,i){"use strict";var n=i(1);var r=i(244);var a=i(110);var o=function t(e){r["a"].call(this,e)};Object(n["d"])(o,r["a"]);o.prototype.expireCache=function(t){while(this.canExpireCache()){var e=this.peekLast();var i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord)){break}else{this.pop().dispose()}}};o.prototype.pruneExceptNewestZ=function(){if(this.getCount()===0){return}var t=this.peekFirstKey();var e=Object(a["b"])(t);var i=e[0];this.forEach(function(t){if(t.tileCoord[0]!==i){this.remove(Object(a["c"])(t.tileCoord));t.dispose()}},this)};e["a"]=o},function(t,e,i){"use strict";var n=i(33);var r=angular.module("ngeoFeatures",[]);r.value("ngeoFeatures",new n["b"]);e["a"]=r},function(t,e,i){"use strict";var n=i(163);var r=i(280);var a=i(279);var o=i(278);var s=i(277);var u=i(276);var l=i(275);var c=angular.module("ngeoDrawfeature",[n["a"].module.name,r["a"].name,a["a"].name,o["a"].name,s["a"].name,u["a"].name,l["a"].name]);c.directive_=function(){return{controller:"ngeoDrawfeatureController as dfCtrl",scope:true,bindToController:{active:"=ngeoDrawfeatureActive",features:"=?ngeoDrawfeatureFeatures",map:"=ngeoDrawfeatureMap",showMeasure:"=?ngeoDrawfeatureShowmeasure"}}};c.directive("ngeoDrawfeature",c.directive_);e["a"]=c},function(t,e,i){"use strict";var n=i(283);var r=i(163);var a=i(282);var o=i(280);var s=i(279);var u=i(278);var l=angular.module("ngeoDrawModule",[r["a"].module.name,n["a"].name,a["a"].name,o["a"].name,s["a"].name,u["a"].name]);e["a"]=l},function(t,e,i){"use strict";var n=i(4);var r=i(12);var a=i(7);var o=10;var s=.25;var u=function t(e,i,r,s,u){this.sourceProj_=e;this.targetProj_=i;var l={};var c=Object(a["j"])(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];if(!l[e]){l[e]=c(t)}return l[e]};this.maxSourceExtent_=s;this.errorThresholdSquared_=u*u;this.triangles_=[];this.wrapsXInSource_=false;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&Object(n["E"])(s)==Object(n["E"])(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(n["E"])(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?Object(n["E"])(this.targetProj_.getExtent()):null;var h=Object(n["C"])(r);var f=Object(n["D"])(r);var d=Object(n["w"])(r);var p=Object(n["v"])(r);var v=this.transformInv_(h);var g=this.transformInv_(f);var m=this.transformInv_(d);var y=this.transformInv_(p);this.addQuad_(h,f,d,p,v,g,m,y,o);if(this.wrapsXInSource_){var _=Infinity;this.triangles_.forEach(function(t,e,i){_=Math.min(_,t.source[0][0],t.source[1][0],t.source[2][0])});this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-_>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];if(e[0][0]-_>this.sourceWorldWidth_/2){e[0][0]-=this.sourceWorldWidth_}if(e[1][0]-_>this.sourceWorldWidth_/2){e[1][0]-=this.sourceWorldWidth_}if(e[2][0]-_>this.sourceWorldWidth_/2){e[2][0]-=this.sourceWorldWidth_}var i=Math.min(e[0][0],e[1][0],e[2][0]);var n=Math.max(e[0][0],e[1][0],e[2][0]);if(n-i<this.sourceWorldWidth_/2){t.source=e}}}.bind(this))}l={}};u.prototype.addTriangle_=function(t,e,i,n,r,a){this.triangles_.push({source:[n,r,a],target:[t,e,i]})};u.prototype.addQuad_=function(t,e,i,a,o,u,l,c,h){var f=Object(n["b"])([o,u,l,c]);var d=this.sourceWorldWidth_?Object(n["E"])(f)/this.sourceWorldWidth_:null;var p=this.sourceWorldWidth_;var v=this.sourceProj_.canWrapX()&&d>.5&&d<1;var g=false;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var m=Object(n["b"])([t,e,i,a]);var y=Object(n["E"])(m)/this.targetWorldWidth_;g|=y>s}if(!v&&this.sourceProj_.isGlobal()&&d){g|=d>s}}if(!g&&this.maxSourceExtent_){if(!Object(n["F"])(f,this.maxSourceExtent_)){return}}if(!g){if(!isFinite(o[0])||!isFinite(o[1])||!isFinite(u[0])||!isFinite(u[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1])){if(h>0){g=true}else{return}}}if(h>0){if(!g){var _=[(t[0]+i[0])/2,(t[1]+i[1])/2];var b=this.transformInv_(_);var w=void 0;if(v){var O=(Object(r["d"])(o[0],p)+Object(r["d"])(l[0],p))/2;w=O-Object(r["d"])(b[0],p)}else{w=(o[0]+l[0])/2-b[0]}var x=(o[1]+l[1])/2-b[1];var S=w*w+x*x;g=S>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var C=[(e[0]+i[0])/2,(e[1]+i[1])/2];var T=this.transformInv_(C);var E=[(a[0]+t[0])/2,(a[1]+t[1])/2];var M=this.transformInv_(E);this.addQuad_(t,e,C,E,o,u,T,M,h-1);this.addQuad_(E,C,i,a,M,T,l,c,h-1)}else{var j=[(t[0]+e[0])/2,(t[1]+e[1])/2];var k=this.transformInv_(j);var R=[(i[0]+a[0])/2,(i[1]+a[1])/2];var A=this.transformInv_(R);this.addQuad_(t,j,R,a,o,k,A,c,h-1);this.addQuad_(j,e,i,R,k,u,l,A,h-1)}return}}if(v){if(!this.canWrapXInSource_){return}this.wrapsXInSource_=true}this.addTriangle_(t,i,a,o,l,c);this.addTriangle_(t,e,i,o,u,l)};u.prototype.calculateSourceExtent=function(){var t=Object(n["j"])();this.triangles_.forEach(function(e,i,r){var a=e.source;Object(n["r"])(t,a[0]);Object(n["r"])(t,a[1]);Object(n["r"])(t,a[2])});return t};u.prototype.getTriangles=function(){return this.triangles_};e["a"]=u},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});var n="Invalid date";function r(){return this._invalidDate}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});i.d(e,"b",function(){return r});var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function r(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];if(e||!i){return e}this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)});return this._longDateFormat[t]}},function(t,e,i){"use strict";i.d(e,"b",function(){return r});i.d(e,"a",function(){return a});var n=i(108);var r={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function a(t,e,i){var r=this._calendar[t]||this._calendar["sameElse"];return Object(n["a"])(r)?r.call(e,i):r}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(39);function r(t,e,i){var r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0,s;for(s=0;s<r;s++){if(i&&t[s]!==e[s]||!i&&Object(n["a"])(t[s])!==Object(n["a"])(e[s])){o++}}return o+a}},function(t,e,i){"use strict";e["a"]={POINT:"point",LINE:"line"}},function(t,e,i){"use strict";var n=i(1);var r=i(14);var a=i(9);var o=i(24);var s=i(82);var u=i(69);var l=i(129);var c=i(5);var h=i(156);var f=i(21);var d=i(8);var p=i(46);var v=i(94);var g=i(109);var m=i(107);var y=i(32);var _=i(29);var b=i(12);var w=i(7);var O=i(41);var x=i(193);var S=i(119);var C=i(99);var T=i(42);var E=i(13);var M=i(123);var j=i(0);var k=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var R=void 0;var A=null;function I(){return A}var P=void 0;var D=void 0;var N=void 0;var $=void 0;var L=void 0;var F=void 0;var G=null;function U(){return G}var H=void 0;var W=null;function Y(){return W}var z=void 0;var V=null;function B(){return V}var q=null;function K(){return q}var X=null;function Z(){return X}function Q(){R=[255,255,255,1];A=new O["a"]({color:R});P=[20,2];D=S["a"].PIXELS;N=S["a"].PIXELS;$=[64,64];L="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";F=.5;G=new x["a"]({anchor:P,anchorOrigin:C["a"].BOTTOM_LEFT,anchorXUnits:D,anchorYUnits:N,crossOrigin:"anonymous",rotation:0,scale:F,size:$,src:L});H="NO_IMAGE";W=new T["a"]({color:R,width:1});z=new T["a"]({color:[51,51,51,1],width:2});V=new M["a"]({font:"bold 16px Helvetica",fill:A,stroke:z,scale:.8});q=new E["c"]({fill:A,image:G,text:V,stroke:W,zIndex:0});X=[q]}var J=function t(e){var i=e?e:{};l["a"].call(this);if(!X){Q()}this.defaultDataProjection=Object(w["h"])("EPSG:4326");this.defaultStyle_=i.defaultStyle?i.defaultStyle:X;this.extractStyles_=i.extractStyles!==undefined?i.extractStyles:true;this.writeStyles_=i.writeStyles!==undefined?i.writeStyles:true;this.sharedStyles_={};this.showPointNames_=i.showPointNames!==undefined?i.showPointNames:true};Object(n["d"])(J,l["a"]);var tt=["http://www.google.com/kml/ext/2.2"];var et=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"];var it="http://www.opengis.net/kml/2.2 "+"https://developers.google.com/kml/schema/kml22gx.xsd";var nt={fraction:S["a"].FRACTION,pixels:S["a"].PIXELS,insetPixels:S["a"].PIXELS};function rt(t,e){var i=null;var n=[0,0];var r="start";if(t.getImage()){var a=t.getImage().getImageSize();if(a===null){a=$}if(a.length==2){var o=t.getImage().getScale();n[0]=o*a[0]/2;n[1]=-o*a[1]/2;r="left"}}if(t.getText()!==null){var s=t.getText();i=s.clone();i.setFont(s.getFont()||V.getFont());i.setScale(s.getScale()||V.getScale());i.setFill(s.getFill()||V.getFill());i.setStroke(s.getStroke()||z)}else{i=V.clone()}i.setText(e);i.setOffsetX(n[0]);i.setOffsetY(n[1]);i.setTextAlign(r);var u=new E["c"]({text:i});return u}function at(t,e,i,n,r){return function(a,o){var s=r;var u=void 0;var l="";if(s){var c=a.getGeometry();if(c){s=c.getType()===d["a"].POINT}}if(s){l=a.get("name");s=s&&l}if(t){if(s){u=rt(t[0],l);return t.concat(u)}return t}if(e){var h=ot(e,i,n);if(s){u=rt(h[0],l);return h.concat(u)}return h}if(s){u=rt(i[0],l);return i.concat(u)}return i}}function ot(t,e,i){if(Array.isArray(t)){return t}else if(typeof t==="string"){if(!(t in i)&&"#"+t in i){t="#"+t}return ot(i[t],e,i)}else{return e}}function st(t){var e=Object(j["e"])(t,false);var i=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(i){var n=i[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}else{return undefined}}function ut(t){var e=Object(j["e"])(t,false);var i=[];var n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;var r=void 0;while(r=n.exec(e)){var a=parseFloat(r[1]);var o=parseFloat(r[2]);var s=r[3]?parseFloat(r[3]):0;i.push(a,o,s);e=e.substr(r[0].length)}if(e!==""){return undefined}return i}function lt(t){var e=Object(j["e"])(t,false).trim();var i=t.baseURI;if(!i||i=="about:blank"){i=window.location.href}if(i){var n=new URL(e,i);return n.href}else{return e}}function ct(t){var e=t.getAttribute("xunits");var i=t.getAttribute("yunits");var n=void 0;if(e!=="insetPixels"){if(i!=="insetPixels"){n=C["a"].BOTTOM_LEFT}else{n=C["a"].TOP_LEFT}}else{if(i!=="insetPixels"){n=C["a"].BOTTOM_RIGHT}else{n=C["a"].TOP_RIGHT}}return{x:parseFloat(t.getAttribute("x")),xunits:nt[e],y:parseFloat(t.getAttribute("y")),yunits:nt[i],origin:n}}function ht(t){return Object(c["d"])(t)}var ft=Object(j["r"])(et,{Pair:Zt});function dt(t,e){return Object(j["u"])(undefined,ft,t,e)}var pt=Object(j["r"])(et,{Icon:Object(j["n"])(kt),heading:Object(j["n"])(c["d"]),hotSpot:Object(j["n"])(ct),scale:Object(j["n"])(ht)});function vt(t,e){var i=Object(j["u"])({},pt,t,e);if(!i){return}var n=e[e.length-1];var r="Icon"in i?i["Icon"]:{};var a=!("Icon"in i)||Object.keys(r).length>0;var o=void 0;var s=r["href"];if(s){o=s}else if(a){o=L}var u=void 0,l=void 0,c=void 0;var h=C["a"].BOTTOM_LEFT;var f=i["hotSpot"];if(f){u=[f.x,f.y];l=f.xunits;c=f.yunits;h=f.origin}else if(o===L){u=P;l=D;c=N}else if(/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(o)){u=[.5,0];l=S["a"].FRACTION;c=S["a"].FRACTION}var d=void 0;var p=r["x"];var v=r["y"];if(p!==undefined&&v!==undefined){d=[p,v]}var g=void 0;var m=r["w"];var y=r["h"];if(m!==undefined&&y!==undefined){g=[m,y]}var _=void 0;var w=i["heading"];if(w!==undefined){_=Object(b["i"])(w)}var O=i["scale"];if(a){if(o==L){g=$;if(O===undefined){O=F}}var T=new x["a"]({anchor:u,anchorOrigin:h,anchorXUnits:l,anchorYUnits:c,crossOrigin:"anonymous",offset:d,offsetOrigin:C["a"].BOTTOM_LEFT,rotation:_,scale:O,size:g,src:o});n["imageStyle"]=T}else{n["imageStyle"]=H}}var gt=Object(j["r"])(et,{color:Object(j["n"])(st),scale:Object(j["n"])(ht)});function mt(t,e){var i=Object(j["u"])({},gt,t,e);if(!i){return}var n=e[e.length-1];var r=new M["a"]({fill:new O["a"]({color:"color"in i?i["color"]:R}),scale:i["scale"]});n["textStyle"]=r}var yt=Object(j["r"])(et,{color:Object(j["n"])(st),width:Object(j["n"])(c["d"])});function _t(t,e){var i=Object(j["u"])({},yt,t,e);if(!i){return}var n=e[e.length-1];var r=new T["a"]({color:"color"in i?i["color"]:R,width:"width"in i?i["width"]:1});n["strokeStyle"]=r}var bt=Object(j["r"])(et,{color:Object(j["n"])(st),fill:Object(j["n"])(c["a"]),outline:Object(j["n"])(c["a"])});function wt(t,e){var i=Object(j["u"])({},bt,t,e);if(!i){return}var n=e[e.length-1];var r=new O["a"]({color:"color"in i?i["color"]:R});n["fillStyle"]=r;var a=i["fill"];if(a!==undefined){n["fill"]=a}var o=i["outline"];if(o!==undefined){n["outline"]=o}}var Ot=Object(j["r"])(et,{coordinates:Object(j["o"])(ut)});function xt(t,e){return Object(j["u"])(null,Ot,t,e)}function St(t,e){var i=e[e.length-1];var n=i.flatCoordinates;var r=Object(j["e"])(t,false);var a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i;var o=a.exec(r);if(o){var s=parseFloat(o[1]);var u=parseFloat(o[2]);var l=parseFloat(o[3]);n.push(s,u,l,0)}else{n.push(0,0,0,0)}}var Ct=Object(j["r"])(tt,{Track:Object(j["j"])(Mt)});function Tt(t,e){var i=Object(j["u"])([],Ct,t,e);if(!i){return undefined}var n=new v["a"](null);n.setLineStrings(i);return n}var Et=Object(j["r"])(et,{when:de},Object(j["r"])(tt,{coord:St}));function Mt(t,e){var i=Object(j["u"])({flatCoordinates:[],whens:[]},Et,t,e);if(!i){return undefined}var n=i.flatCoordinates;var r=i.whens;for(var a=0,o=Math.min(n.length,r.length);a<o;++a){n[4*a+3]=r[a]}var s=new p["a"](null);s.setFlatCoordinates(f["a"].XYZM,n);return s}var jt=Object(j["r"])(et,{href:Object(j["n"])(lt)},Object(j["r"])(tt,{x:Object(j["n"])(c["d"]),y:Object(j["n"])(c["d"]),w:Object(j["n"])(c["d"]),h:Object(j["n"])(c["d"])}));function kt(t,e){var i=Object(j["u"])({},jt,t,e);if(i){return i}else{return null}}var Rt=Object(j["r"])(et,{coordinates:Object(j["o"])(ut)});function At(t,e){return Object(j["u"])(null,Rt,t,e)}var It=Object(j["r"])(et,{extrude:Object(j["n"])(c["a"]),tessellate:Object(j["n"])(c["a"]),altitudeMode:Object(j["n"])(c["h"])});function Pt(t,e){var i=Object(j["u"])({},It,t,e);var n=At(t,e);if(n){var r=new p["a"](null);r.setFlatCoordinates(f["a"].XYZ,n);r.setProperties(i);return r}else{return undefined}}function Dt(t,e){var i=Object(j["u"])({},It,t,e);var n=At(t,e);if(n){var r=new _["b"](null);r.setFlatCoordinates(f["a"].XYZ,n,[n.length]);r.setProperties(i);return r}else{return undefined}}var Nt=Object(j["r"])(et,{LineString:Object(j["j"])(Pt),LinearRing:Object(j["j"])(Dt),MultiGeometry:Object(j["j"])($t),Point:Object(j["j"])(Lt),Polygon:Object(j["j"])(Gt)});function $t(t,e){var i=Object(j["u"])([],Nt,t,e);if(!i){return null}if(i.length===0){return new h["a"](i)}var n=void 0;var r=true;var s=i[0].getType();var u=void 0;for(var l=1,c=i.length;l<c;++l){u=i[l];if(u.getType()!=s){r=false;break}}if(r){var f=void 0;var p=void 0;if(s==d["a"].POINT){var y=i[0];f=y.getLayout();p=y.getFlatCoordinates();for(var _=1,b=i.length;_<b;++_){u=i[_];Object(a["c"])(p,u.getFlatCoordinates())}n=new g["a"](null);n.setFlatCoordinates(f,p);Wt(n,i)}else if(s==d["a"].LINE_STRING){n=new v["a"](null);n.setLineStrings(i);Wt(n,i)}else if(s==d["a"].POLYGON){n=new m["a"](null);n.setPolygons(i);Wt(n,i)}else if(s==d["a"].GEOMETRY_COLLECTION){n=new h["a"](i)}else{Object(o["a"])(false,37)}}else{n=new h["a"](i)}return n}function Lt(t,e){var i=Object(j["u"])({},It,t,e);var n=At(t,e);if(n){var r=new y["a"](null);r.setFlatCoordinates(f["a"].XYZ,n);r.setProperties(i);return r}else{return undefined}}var Ft=Object(j["r"])(et,{innerBoundaryIs:se,outerBoundaryIs:le});function Gt(t,e){var i=Object(j["u"])({},It,t,e);var n=Object(j["u"])([null],Ft,t,e);if(n&&n[0]){var r=new _["b"](null);var o=n[0];var s=[o.length];for(var u=1,l=n.length;u<l;++u){Object(a["c"])(o,n[u]);s.push(o.length)}r.setFlatCoordinates(f["a"].XYZ,o,s);r.setProperties(i);return r}else{return undefined}}var Ut=Object(j["r"])(et,{IconStyle:vt,LabelStyle:mt,LineStyle:_t,PolyStyle:wt});function Ht(t,e){var i=Object(j["u"])({},Ut,t,e);if(!i){return null}var n="fillStyle"in i?i["fillStyle"]:A;var r=i["fill"];if(r!==undefined&&!r){n=null}var a="imageStyle"in i?i["imageStyle"]:G;if(a==H){a=undefined}var o="textStyle"in i?i["textStyle"]:V;var s="strokeStyle"in i?i["strokeStyle"]:W;var u=i["outline"];if(u!==undefined&&!u){s=null}return[new E["c"]({fill:n,image:a,stroke:s,text:o,zIndex:undefined})]}function Wt(t,e){var i=e.length;var n=new Array(e.length);var r=new Array(e.length);var a=new Array(e.length);var o=void 0,s=void 0,u=void 0;o=s=u=false;for(var l=0;l<i;++l){var c=e[l];n[l]=c.get("extrude");r[l]=c.get("tessellate");a[l]=c.get("altitudeMode");o=o||n[l]!==undefined;s=s||r[l]!==undefined;u=u||a[l]}if(o){t.set("extrude",n)}if(s){t.set("tessellate",r)}if(u){t.set("altitudeMode",a)}}var Yt=Object(j["r"])(et,{displayName:Object(j["n"])(c["h"]),value:Object(j["n"])(c["h"])});function zt(t,e){var i=t.getAttribute("name");Object(j["t"])(Yt,t,e);var n=e[e.length-1];if(i!==null){n[i]=n.value}else if(n.displayName!==null){n[n.displayName]=n.value}delete n["value"]}var Vt=Object(j["r"])(et,{Data:zt,SchemaData:te});function Bt(t,e){Object(j["t"])(Vt,t,e)}var qt=Object(j["r"])(et,{LatLonAltBox:ne,Lod:ae});function Kt(t,e){Object(j["t"])(qt,t,e)}var Xt=Object(j["r"])(et,{Style:Object(j["n"])(Ht),key:Object(j["n"])(c["h"]),styleUrl:Object(j["n"])(lt)});function Zt(t,e){var i=Object(j["u"])({},Xt,t,e);if(!i){return}var n=i["key"];if(n&&n=="normal"){var r=i["styleUrl"];if(r){e[e.length-1]=r}var a=i["Style"];if(a){e[e.length-1]=a}}}function Qt(t,e){var i=dt(t,e);if(!i){return}var n=e[e.length-1];if(Array.isArray(i)){n["Style"]=i}else if(typeof i==="string"){n["styleUrl"]=i}else{Object(o["a"])(false,38)}}var Jt=Object(j["r"])(et,{SimpleData:ee});function te(t,e){Object(j["t"])(Jt,t,e)}function ee(t,e){var i=t.getAttribute("name");if(i!==null){var n=Object(c["h"])(t);var r=e[e.length-1];r[i]=n}}var ie=Object(j["r"])(et,{altitudeMode:Object(j["n"])(c["h"]),minAltitude:Object(j["n"])(c["d"]),maxAltitude:Object(j["n"])(c["d"]),north:Object(j["n"])(c["d"]),south:Object(j["n"])(c["d"]),east:Object(j["n"])(c["d"]),west:Object(j["n"])(c["d"])});function ne(t,e){var i=Object(j["u"])({},ie,t,e);if(!i){return}var n=e[e.length-1];var r=[parseFloat(i["west"]),parseFloat(i["south"]),parseFloat(i["east"]),parseFloat(i["north"])];n["extent"]=r;n["altitudeMode"]=i["altitudeMode"];n["minAltitude"]=parseFloat(i["minAltitude"]);n["maxAltitude"]=parseFloat(i["maxAltitude"])}var re=Object(j["r"])(et,{minLodPixels:Object(j["n"])(c["d"]),maxLodPixels:Object(j["n"])(c["d"]),minFadeExtent:Object(j["n"])(c["d"]),maxFadeExtent:Object(j["n"])(c["d"])});function ae(t,e){var i=Object(j["u"])({},re,t,e);if(!i){return}var n=e[e.length-1];n["minLodPixels"]=parseFloat(i["minLodPixels"]);n["maxLodPixels"]=parseFloat(i["maxLodPixels"]);n["minFadeExtent"]=parseFloat(i["minFadeExtent"]);n["maxFadeExtent"]=parseFloat(i["maxFadeExtent"])}var oe=Object(j["r"])(et,{LinearRing:Object(j["o"])(xt)});function se(t,e){var i=Object(j["u"])(undefined,oe,t,e);if(i){var n=e[e.length-1];n.push(i)}}var ue=Object(j["r"])(et,{LinearRing:Object(j["o"])(xt)});function le(t,e){var i=Object(j["u"])(undefined,ue,t,e);if(i){var n=e[e.length-1];n[0]=i}}var ce=Object(j["r"])(et,{ExtendedData:Bt,Region:Kt,Link:fe,address:Object(j["n"])(c["h"]),description:Object(j["n"])(c["h"]),name:Object(j["n"])(c["h"]),open:Object(j["n"])(c["a"]),phoneNumber:Object(j["n"])(c["h"]),visibility:Object(j["n"])(c["a"])});var he=Object(j["r"])(et,{href:Object(j["n"])(lt)});function fe(t,e){Object(j["t"])(he,t,e)}function de(t,e){var i=e[e.length-1];var n=i.whens;var r=Object(j["e"])(t,false);var a=Date.parse(r);n.push(isNaN(a)?0:a)}var pe=Object(j["r"])(et,{ExtendedData:Bt,Region:Kt,MultiGeometry:Object(j["n"])($t,"geometry"),LineString:Object(j["n"])(Pt,"geometry"),LinearRing:Object(j["n"])(Dt,"geometry"),Point:Object(j["n"])(Lt,"geometry"),Polygon:Object(j["n"])(Gt,"geometry"),Style:Object(j["n"])(Ht),StyleMap:Qt,address:Object(j["n"])(c["h"]),description:Object(j["n"])(c["h"]),name:Object(j["n"])(c["h"]),open:Object(j["n"])(c["a"]),phoneNumber:Object(j["n"])(c["h"]),styleUrl:Object(j["n"])(lt),visibility:Object(j["n"])(c["a"])},Object(j["r"])(tt,{MultiTrack:Object(j["n"])(Tt,"geometry"),Track:Object(j["n"])(Mt,"geometry")}));J.prototype.readDocumentOrFolder_=function(t,e){var i=Object(j["r"])(et,{Document:Object(j["i"])(this.readDocumentOrFolder_,this),Folder:Object(j["i"])(this.readDocumentOrFolder_,this),Placemark:Object(j["j"])(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});var n=Object(j["u"])([],i,t,e,this);if(n){return n}else{return undefined}};J.prototype.readPlacemark_=function(t,e){var i=Object(j["u"])({geometry:null},pe,t,e);if(!i){return undefined}var n=new r["a"];var a=t.getAttribute("id");if(a!==null){n.setId(a)}var o=e[0];var s=i["geometry"];if(s){Object(u["b"])(s,false,o)}n.setGeometry(s);delete i["geometry"];if(this.extractStyles_){var l=i["Style"];var c=i["styleUrl"];var h=at(l,c,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(h)}delete i["Style"];n.setProperties(i);return n};J.prototype.readSharedStyle_=function(t,e){var i=t.getAttribute("id");if(i!==null){var n=Ht(t,e);if(n){var r=void 0;var a=t.baseURI;if(!a||a=="about:blank"){a=window.location.href}if(a){var o=new URL("#"+i,a);r=o.href}else{r="#"+i}this.sharedStyles_[r]=n}}};J.prototype.readSharedStyleMap_=function(t,e){var i=t.getAttribute("id");if(i===null){return}var n=dt(t,e);if(!n){return}var r=void 0;var a=t.baseURI;if(!a||a=="about:blank"){a=window.location.href}if(a){var o=new URL("#"+i,a);r=o.href}else{r="#"+i}this.sharedStyles_[r]=n};J.prototype.readFeature;J.prototype.readFeatureFromNode=function(t,e){if(!Object(a["f"])(et,t.namespaceURI)){return null}var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);if(i){return i}else{return null}};J.prototype.readFeatures;J.prototype.readFeaturesFromNode=function(t,e){if(!Object(a["f"])(et,t.namespaceURI)){return[]}var i=void 0;var n=t.localName;if(n=="Document"||n=="Folder"){i=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]);if(i){return i}else{return[]}}else if(n=="Placemark"){var r=this.readPlacemark_(t,[this.getReadOptions(t,e)]);if(r){return[r]}else{return[]}}else if(n=="kml"){i=[];for(var o=t.firstElementChild;o;o=o.nextElementSibling){var s=this.readFeaturesFromNode(o,e);if(s){Object(a["c"])(i,s)}}return i}else{return[]}};J.prototype.readName=function(t){if(Object(j["g"])(t)){return this.readNameFromDocument(t)}else if(Object(j["h"])(t)){return this.readNameFromNode(t)}else if(typeof t==="string"){var e=Object(j["s"])(t);return this.readNameFromDocument(e)}else{return undefined}};J.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){var i=this.readNameFromNode(e);if(i){return i}}}return undefined};J.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling){if(Object(a["f"])(et,e.namespaceURI)&&e.localName=="name"){return Object(c["h"])(e)}}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var n=i.localName;if(Object(a["f"])(et,i.namespaceURI)&&(n=="Document"||n=="Folder"||n=="Placemark"||n=="kml")){var r=this.readNameFromNode(i);if(r){return r}}}return undefined};J.prototype.readNetworkLinks=function(t){var e=[];if(Object(j["g"])(t)){Object(a["c"])(e,this.readNetworkLinksFromDocument(t))}else if(Object(j["h"])(t)){Object(a["c"])(e,this.readNetworkLinksFromNode(t))}else if(typeof t==="string"){var i=Object(j["s"])(t);Object(a["c"])(e,this.readNetworkLinksFromDocument(i))}return e};J.prototype.readNetworkLinksFromDocument=function(t){var e=[];for(var i=t.firstChild;i;i=i.nextSibling){if(i.nodeType==Node.ELEMENT_NODE){Object(a["c"])(e,this.readNetworkLinksFromNode(i))}}return e};J.prototype.readNetworkLinksFromNode=function(t){var e=[];for(var i=t.firstElementChild;i;i=i.nextElementSibling){if(Object(a["f"])(et,i.namespaceURI)&&i.localName=="NetworkLink"){var n=Object(j["u"])({},ce,i,[]);e.push(n)}}for(var r=t.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;if(Object(a["f"])(et,r.namespaceURI)&&(o=="Document"||o=="Folder"||o=="kml")){Object(a["c"])(e,this.readNetworkLinksFromNode(r))}}return e};J.prototype.readRegion=function(t){var e=[];if(Object(j["g"])(t)){Object(a["c"])(e,this.readRegionFromDocument(t))}else if(Object(j["h"])(t)){Object(a["c"])(e,this.readRegionFromNode(t))}else if(typeof t==="string"){var i=Object(j["s"])(t);Object(a["c"])(e,this.readRegionFromDocument(i))}return e};J.prototype.readRegionFromDocument=function(t){var e=[];for(var i=t.firstChild;i;i=i.nextSibling){if(i.nodeType==Node.ELEMENT_NODE){Object(a["c"])(e,this.readRegionFromNode(i))}}return e};J.prototype.readRegionFromNode=function(t){var e=[];for(var i=t.firstElementChild;i;i=i.nextElementSibling){if(Object(a["f"])(et,i.namespaceURI)&&i.localName=="Region"){var n=Object(j["u"])({},qt,i,[]);e.push(n)}}for(var r=t.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;if(Object(a["f"])(et,r.namespaceURI)&&(o=="Document"||o=="Folder"||o=="kml")){Object(a["c"])(e,this.readRegionFromNode(r))}}return e};J.prototype.readProjection;function ve(t,e){var i=Object(s["a"])(e);var n=i.length==4?i[3]:1;var r=[n*255,i[2],i[1],i[0]];for(var a=0;a<4;++a){var o=parseInt(r[a],10).toString(16);r[a]=o.length==1?"0"+o:o}Object(c["n"])(t,r.join(""))}function ge(t,e,i){var n=i[i.length-1];var r=n["layout"];var a=n["stride"];var s=void 0;if(r==f["a"].XY||r==f["a"].XYM){s=2}else if(r==f["a"].XYZ||r==f["a"].XYZM){s=3}else{Object(o["a"])(false,34)}var u=e.length;var l="";if(u>0){l+=e[0];for(var h=1;h<s;++h){l+=","+e[h]}for(var d=a;d<u;d+=a){l+=" "+e[d];for(var p=1;p<s;++p){l+=","+e[d+p]}}}Object(c["n"])(t,l)}var me=Object(j["r"])(et,{Data:Object(j["l"])(ye),value:Object(j["l"])(be),displayName:Object(j["l"])(_e)});function ye(t,e,i){t.setAttribute("name",e.name);var n={node:t};var r=e.value;if((typeof r==="undefined"?"undefined":k(r))=="object"){if(r!==null&&r.displayName){Object(j["v"])(n,me,j["b"],[r.displayName],i,["displayName"])}if(r!==null&&r.value){Object(j["v"])(n,me,j["b"],[r.value],i,["value"])}}else{Object(j["v"])(n,me,j["b"],[r],i,["value"])}}function _e(t,e){Object(c["j"])(t,e)}function be(t,e){Object(c["n"])(t,e)}var we=Object(j["r"])(et,{Placemark:Object(j["l"])(Qe)});var Oe=function t(e,i,n){var r=i[i.length-1].node;return Object(j["d"])(r.namespaceURI,"Placemark")};function xe(t,e,i){var n={node:t};Object(j["v"])(n,we,Oe,e,i,undefined,this)}var Se=Object(j["q"])("Data");function Ce(t,e,i){var n={node:t};var r=e.names;var a=e.values;var o=r.length;for(var s=0;s<o;s++){Object(j["v"])(n,me,Se,[{name:r[s],value:a[s]}],i)}}var Te=Object(j["r"])(et,["href"],Object(j["r"])(tt,["x","y","w","h"]));var Ee=Object(j["r"])(et,{href:Object(j["l"])(c["n"])},Object(j["r"])(tt,{x:Object(j["l"])(c["l"]),y:Object(j["l"])(c["l"]),w:Object(j["l"])(c["l"]),h:Object(j["l"])(c["l"])}));var Me=function t(e,i,n){return Object(j["d"])(tt[0],"gx:"+n)};function je(t,e,i){var n={node:t};var r=i[i.length-1].node;var a=Te[r.namespaceURI];var o=Object(j["p"])(e,a);Object(j["v"])(n,Ee,j["b"],o,i,a);a=Te[tt[0]];o=Object(j["p"])(e,a);Object(j["v"])(n,Ee,Me,o,i,a)}var ke=Object(j["r"])(et,["scale","heading","Icon","hotSpot"]);var Re=Object(j["r"])(et,{Icon:Object(j["l"])(je),heading:Object(j["l"])(c["l"]),hotSpot:Object(j["l"])(di),scale:Object(j["l"])(li)});function Ae(t,e,i){var n={node:t};var r={};var a=e.getSrc();var o=e.getSize();var s=e.getImageSize();var u={href:a};if(o){u["w"]=o[0];u["h"]=o[1];var l=e.getAnchor();var c=e.getOrigin();if(c&&s&&c[0]!==0&&c[1]!==o[1]){u["x"]=c[0];u["y"]=s[1]-(c[1]+o[1])}if(l&&(l[0]!==o[0]/2||l[1]!==o[1]/2)){var h={x:l[0],xunits:S["a"].PIXELS,y:o[1]-l[1],yunits:S["a"].PIXELS};r["hotSpot"]=h}}r["Icon"]=u;var f=e.getScale();if(f!==1){r["scale"]=f}var d=e.getRotation();if(d!==0){r["heading"]=d}var p=i[i.length-1].node;var v=ke[p.namespaceURI];var g=Object(j["p"])(r,v);Object(j["v"])(n,Re,j["b"],g,i,v)}var Ie=Object(j["r"])(et,["color","scale"]);var Pe=Object(j["r"])(et,{color:Object(j["l"])(ve),scale:Object(j["l"])(li)});function De(t,e,i){var n={node:t};var r={};var a=e.getFill();if(a){r["color"]=a.getColor()}var o=e.getScale();if(o&&o!==1){r["scale"]=o}var s=i[i.length-1].node;var u=Ie[s.namespaceURI];var l=Object(j["p"])(r,u);Object(j["v"])(n,Pe,j["b"],l,i,u)}var Ne=Object(j["r"])(et,["color","width"]);var $e=Object(j["r"])(et,{color:Object(j["l"])(ve),width:Object(j["l"])(c["l"])});function Le(t,e,i){var n={node:t};var r={color:e.getColor(),width:e.getWidth()};var a=i[i.length-1].node;var o=Ne[a.namespaceURI];var s=Object(j["p"])(r,o);Object(j["v"])(n,$e,j["b"],s,i,o)}var Fe={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"};var Ge=function t(e,i,n){if(e){var r=i[i.length-1].node;return Object(j["d"])(r.namespaceURI,Fe[e.getType()])}};var Ue=Object(j["q"])("Point");var He=Object(j["q"])("LineString");var We=Object(j["q"])("LinearRing");var Ye=Object(j["q"])("Polygon");var ze=Object(j["r"])(et,{LineString:Object(j["l"])(ei),Point:Object(j["l"])(ei),Polygon:Object(j["l"])(ai),GeometryCollection:Object(j["l"])(Ve)});function Ve(t,e,i){var n={node:t};var r=e.getType();var a=void 0;var s=void 0;if(r==d["a"].GEOMETRY_COLLECTION){a=e.getGeometries();s=Ge}else if(r==d["a"].MULTI_POINT){a=e.getPoints();s=Ue}else if(r==d["a"].MULTI_LINE_STRING){a=e.getLineStrings();s=He}else if(r==d["a"].MULTI_POLYGON){a=e.getPolygons();s=Ye}else{Object(o["a"])(false,39)}Object(j["v"])(n,ze,s,a,i)}var Be=Object(j["r"])(et,{LinearRing:Object(j["l"])(ei)});function qe(t,e,i){var n={node:t};Object(j["v"])(n,Be,We,[e],i)}var Ke=Object(j["r"])(et,{ExtendedData:Object(j["l"])(Ce),MultiGeometry:Object(j["l"])(Ve),LineString:Object(j["l"])(ei),LinearRing:Object(j["l"])(ei),Point:Object(j["l"])(ei),Polygon:Object(j["l"])(ai),Style:Object(j["l"])(fi),address:Object(j["l"])(c["n"]),description:Object(j["l"])(c["n"]),name:Object(j["l"])(c["n"]),open:Object(j["l"])(c["i"]),phoneNumber:Object(j["l"])(c["n"]),styleUrl:Object(j["l"])(c["n"]),visibility:Object(j["l"])(c["i"])});var Xe=Object(j["r"])(et,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]);var Ze=Object(j["q"])("ExtendedData");function Qe(t,e,i){var n={node:t};if(e.getId()){t.setAttribute("id",e.getId())}var r=e.getProperties();var a={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};a[e.getGeometryName()]=1;var o=Object.keys(r||{}).sort().filter(function(t){return!a[t]});if(o.length>0){var s=Object(j["p"])(r,o);var l={names:o,values:s};Object(j["v"])(n,Ke,Ze,[l],i)}var c=e.getStyleFunction();if(c){var h=c(e,0);if(h){var f=Array.isArray(h)?h[0]:h;if(this.writeStyles_){r["Style"]=f}var d=f.getText();if(d){r["name"]=d.getText()}}}var p=i[i.length-1].node;var v=Xe[p.namespaceURI];var g=Object(j["p"])(r,v);Object(j["v"])(n,Ke,j["b"],g,i,v);var m=i[0];var y=e.getGeometry();if(y){y=Object(u["b"])(y,true,m)}Object(j["v"])(n,Ke,Ge,[y],i)}var Je=Object(j["r"])(et,["extrude","tessellate","altitudeMode","coordinates"]);var ti=Object(j["r"])(et,{extrude:Object(j["l"])(c["i"]),tessellate:Object(j["l"])(c["i"]),altitudeMode:Object(j["l"])(c["n"]),coordinates:Object(j["l"])(ge)});function ei(t,e,i){var n=e.getFlatCoordinates();var r={node:t};r["layout"]=e.getLayout();r["stride"]=e.getStride();var a=e.getProperties();a.coordinates=n;var o=i[i.length-1].node;var s=Je[o.namespaceURI];var u=Object(j["p"])(a,s);Object(j["v"])(r,ti,j["b"],u,i,s)}var ii=Object(j["r"])(et,{outerBoundaryIs:Object(j["l"])(qe),innerBoundaryIs:Object(j["l"])(qe)});var ni=Object(j["q"])("innerBoundaryIs");var ri=Object(j["q"])("outerBoundaryIs");function ai(t,e,i){var n=e.getLinearRings();var r=n.shift();var a={node:t};Object(j["v"])(a,ii,ni,n,i);Object(j["v"])(a,ii,ri,[r],i)}var oi=Object(j["r"])(et,{color:Object(j["l"])(ve)});var si=Object(j["q"])("color");function ui(t,e,i){var n={node:t};Object(j["v"])(n,oi,si,[e.getColor()],i)}function li(t,e){Object(c["l"])(t,Math.round(e*1e6)/1e6)}var ci=Object(j["r"])(et,["IconStyle","LabelStyle","LineStyle","PolyStyle"]);var hi=Object(j["r"])(et,{IconStyle:Object(j["l"])(Ae),LabelStyle:Object(j["l"])(De),LineStyle:Object(j["l"])(Le),PolyStyle:Object(j["l"])(ui)});function fi(t,e,i){var n={node:t};var r={};var a=e.getFill();var o=e.getStroke();var s=e.getImage();var u=e.getText();if(s instanceof x["a"]){r["IconStyle"]=s}if(u){r["LabelStyle"]=u}if(o){r["LineStyle"]=o}if(a){r["PolyStyle"]=a}var l=i[i.length-1].node;var c=ci[l.namespaceURI];var h=Object(j["p"])(r,c);Object(j["v"])(n,hi,j["b"],h,i,c)}function di(t,e){t.setAttribute("x",e.x);t.setAttribute("y",e.y);t.setAttribute("xunits",e.xunits);t.setAttribute("yunits",e.yunits)}var pi=Object(j["r"])(et,["Document","Placemark"]);var vi=Object(j["r"])(et,{Document:Object(j["l"])(xe),Placemark:Object(j["l"])(Qe)});J.prototype.writeFeatures;J.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Object(j["d"])(et[4],"kml");var n="http://www.w3.org/2000/xmlns/";i.setAttributeNS(n,"xmlns:gx",tt[0]);i.setAttributeNS(n,"xmlns:xsi",j["c"]);i.setAttributeNS(j["c"],"xsi:schemaLocation",it);var r={node:i};var a={};if(t.length>1){a["Document"]=t}else if(t.length==1){a["Placemark"]=t[0]}var o=pi[i.namespaceURI];var s=Object(j["p"])(a,o);Object(j["v"])(r,vi,j["b"],s,[e],o,this);return i};e["a"]=J},function(t,e,i){"use strict";e["a"]={IMAGE:"image",VECTOR:"vector"}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t,e,i,n){var r=t[e];var a=t[e+1];var o=0;for(var s=e+n;s<i;s+=n){var u=t[s];var l=t[s+1];o+=Math.sqrt((u-r)*(u-r)+(l-a)*(l-a));r=u;a=l}return o}function r(t,e,i,r){var a=n(t,e,i,r);var o=t[i-r]-t[e];var s=t[i-r+1]-t[e+1];a+=Math.sqrt(o*o+s*s);return a}},function(t,e,i){"use strict";var n=i(50);var r={};r.setGeometryType=function(t,e){var i=/gml:((Multi)?(Point|Line|Polygon|Curve|Surface|Geometry)).*/;if(i.exec(e)){t.type=n["a"].GEOMETRY;if(/^gml:Point/.exec(e)){t.geomType="Point"}else if(/^gml:LineString|^gml:Curve/.exec(e)){t.geomType="LineString"}else if(/^gml:Polygon|^gml:Surface/.exec(e)){t.geomType="Polygon"}else if(/^gml:MultiPoint/.exec(e)){t.geomType="MultiPoint"}else if(/^gml:MultiLineString|^gml:MultiCurve/.exec(e)){t.geomType="MultiLineString"}else if(/^gml:MultiPolygon|^gml:MultiSurface/.exec(e)){t.geomType="MultiPolygon"}}return!!t.type&&!!t.geomType};e["a"]=r},function(t,e,i){"use strict";i.d(e,"a",function(){return n});function n(t,e,i,n,r,a){var o=[t[e],t[e+1]];var s=[];var u=void 0;for(;e+n<i;e+=n){s[0]=t[e+n];s[1]=t[e+n+1];u=r.call(a,o,s);if(u){return u}o[0]=s[0];o[1]=s[1]}return false}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});i.d(e,"b",function(){return o});var n=i(9);var r=i(152);function a(t,e,i,a,o,s,u){var l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0;var g=o[s+1];var m=[];for(var y=0,_=i.length;y<_;++y){var b=i[y];f=t[b-a];p=t[b-a+1];for(l=e;l<b;l+=a){d=t[l];v=t[l+1];if(g<=p&&v<=g||p<=g&&g<=v){h=(g-p)/(v-p)*(d-f)+f;m.push(h)}f=d;p=v}}var w=NaN;var O=-Infinity;m.sort(n["i"]);f=m[0];for(l=1,c=m.length;l<c;++l){d=m[l];var x=Math.abs(d-f);if(x>O){h=(f+d)/2;if(Object(r["c"])(t,e,i,a,h,g)){w=h;O=x}}f=d}if(isNaN(w)){w=o[s]}if(u){u.push(w,g,O);return u}else{return[w,g,O]}}function o(t,e,i,n,r){var o=[];for(var s=0,u=i.length;s<u;++s){var l=i[s];o=a(t,e,l,n,r,2*s,o);e=l[l.length-1]}return o}},function(t,e,i){"use strict";var n=i(1);var r=function t(e){var i=n["b"]?n["b"].split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+e+" for details.";this.code=e;this.name="AssertionError"};Object(n["d"])(r,Error);e["a"]=r},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(301),i(312),i(307),i(402),i(403),i(311),i(114),i(217)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function(t,e){this._super(t,e);if(t==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;if(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(e);if(!this.handle){return false}this._blurActiveElement(e);this._blockFrames(i.iframeFix===true?"iframe":i.iframeFix);return true},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),n=t(e.target);if(n.closest(i).length){return}t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;this.helper=this._createHelper(e);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(t.ui.ddmanager){t.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return t(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(e);this.originalPosition=this.position=this._generatePosition(e,false);this.originalPageX=e.pageX;this.originalPageY=e.pageY;i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt);this._setContainment();if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(t.ui.ddmanager&&!i.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this._mouseDrag(e,true);if(t.ui.ddmanager){t.ui.ddmanager.dragStart(this,e)}return true},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(e,true);this.positionAbs=this._convertPositionTo("absolute");if(!i){var n=this._uiHash();if(this._trigger("drag",e,n)===false){this._mouseUp(new t.Event("mouseup",e));return false}this.position=n.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(e){var i=this,n=false;if(t.ui.ddmanager&&!this.options.dropBehaviour){n=t.ui.ddmanager.drop(this,e)}if(this.dropped){n=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===true||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(i._trigger("stop",e)!==false){i._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(e){this._unblockFrames();if(t.ui.ddmanager){t.ui.ddmanager.dragStop(this,e)}if(this.handleElement.is(e.target)){this.element.trigger("focus")}return t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new t.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!r.parents("body").length){r.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo)}if(n&&r[0]===this.element[0]){this._setPositionRelative()}if(r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))){r.css("position","absolute")}return r},_setPositionRelative:function(){if(!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(!e?this.scrollParent.scrollTop():0),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(!e?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,a=this.document[0];this.relativeContainer=null;if(!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,t(a).width()-this.helperProportions.width-this.margins.left,(t(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}if(r.containment==="parent"){r.containment=this.helper[0].parentNode}i=t(r.containment);n=i[0];if(!n){return}e=/(scroll|auto)/.test(i.css("overflow"));this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=i},_convertPositionTo:function(t,e){if(!e){e=this.position}var i=t==="absolute"?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition==="fixed"?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition==="fixed"?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,a,o=this.options,s=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;if(!s||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(e){if(this.containment){if(this.relativeContainer){n=this.relativeContainer.offset();i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]}else{i=this.containment}if(t.pageX-this.offset.click.left<i[0]){u=i[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<i[1]){l=i[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>i[2]){u=i[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>i[3]){l=i[3]+this.offset.click.top}}if(o.grid){r=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;l=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r;a=o.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;u=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a}if(o.axis==="y"){u=this.originalPageX}if(o.axis==="x"){l=this.originalPageY}}return{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(e,i,n){n=n||this._uiHash();t.ui.plugin.call(this,e,[i,n,this],true);if(/^(drag|start|stop)/.test(e)){this.positionAbs=this._convertPositionTo("absolute");n.offset=this.positionAbs}return t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[];t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");if(i&&!i.options.disabled){n.sortables.push(i);i.refreshPositions();i._trigger("activate",e,r)}})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=false;t.each(n.sortables,function(){var t=this;if(t.isOver){t.isOver=0;n.cancelHelperRemoval=true;t.cancelHelperRemoval=false;t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")};t._mouseStop(e);t.options.helper=t.options._helper}else{t.cancelHelperRemoval=true;t._trigger("deactivate",e,r)}})},drag:function(e,i,n){t.each(n.sortables,function(){var r=false,a=this;a.positionAbs=n.positionAbs;a.helperProportions=n.helperProportions;a.offset.click=n.offset.click;if(a._intersectsWith(a.containerCache)){r=true;t.each(n.sortables,function(){this.positionAbs=n.positionAbs;this.helperProportions=n.helperProportions;this.offset.click=n.offset.click;if(this!==a&&this._intersectsWith(this.containerCache)&&t.contains(a.element[0],this.element[0])){r=false}return r})}if(r){if(!a.isOver){a.isOver=1;n._parent=i.helper.parent();a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",true);a.options._helper=a.options.helper;a.options.helper=function(){return i.helper[0]};e.target=a.currentItem[0];a._mouseCapture(e,true);a._mouseStart(e,true,true);a.offset.click.top=n.offset.click.top;a.offset.click.left=n.offset.click.left;a.offset.parent.left-=n.offset.parent.left-a.offset.parent.left;a.offset.parent.top-=n.offset.parent.top-a.offset.parent.top;n._trigger("toSortable",e);n.dropped=a.element;t.each(n.sortables,function(){this.refreshPositions()});n.currentItem=n.element;a.fromOutside=n}if(a.currentItem){a._mouseDrag(e);i.position=a.position}}else{if(a.isOver){a.isOver=0;a.cancelHelperRemoval=true;a.options._revert=a.options.revert;a.options.revert=false;a._trigger("out",e,a._uiHash(a));a._mouseStop(e,true);a.options.revert=a.options._revert;a.options.helper=a.options._helper;if(a.placeholder){a.placeholder.remove()}i.helper.appendTo(n._parent);n._refreshOffsets(e);i.position=n._generatePosition(e,true);n._trigger("fromSortable",e);n.dropped=false;t.each(n.sortables,function(){this.refreshPositions()})}}})}});t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),a=n.options;if(r.css("cursor")){a._cursor=r.css("cursor")}r.css("cursor",a.cursor)},stop:function(e,i,n){var r=n.options;if(r._cursor){t("body").css("cursor",r._cursor)}}});t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),a=n.options;if(r.css("opacity")){a._opacity=r.css("opacity")}r.css("opacity",a.opacity)},stop:function(e,i,n){var r=n.options;if(r._opacity){t(i.helper).css("opacity",r._opacity)}}});t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false)}if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset()}},drag:function(e,i,n){var r=n.options,a=false,o=n.scrollParentNotHidden[0],s=n.document[0];if(o!==s&&o.tagName!=="HTML"){if(!r.axis||r.axis!=="x"){if(n.overflowOffset.top+o.offsetHeight-e.pageY<r.scrollSensitivity){o.scrollTop=a=o.scrollTop+r.scrollSpeed}else if(e.pageY-n.overflowOffset.top<r.scrollSensitivity){o.scrollTop=a=o.scrollTop-r.scrollSpeed}}if(!r.axis||r.axis!=="y"){if(n.overflowOffset.left+o.offsetWidth-e.pageX<r.scrollSensitivity){o.scrollLeft=a=o.scrollLeft+r.scrollSpeed}else if(e.pageX-n.overflowOffset.left<r.scrollSensitivity){o.scrollLeft=a=o.scrollLeft-r.scrollSpeed}}}else{if(!r.axis||r.axis!=="x"){if(e.pageY-t(s).scrollTop()<r.scrollSensitivity){a=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed)}else if(t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity){a=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed)}}if(!r.axis||r.axis!=="y"){if(e.pageX-t(s).scrollLeft()<r.scrollSensitivity){a=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed)}else if(t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity){a=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)}}}if(a!==false&&t.ui.ddmanager&&!r.dropBehaviour){t.ui.ddmanager.prepareOffsets(n,e)}}});t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[];t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();if(this!==n.element[0]){n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})}})},drag:function(e,i,n){var r,a,o,s,u,l,c,h,f,d,p=n.options,v=p.snapTolerance,g=i.offset.left,m=g+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(f=n.snapElements.length-1;f>=0;f--){u=n.snapElements[f].left-n.margins.left;l=u+n.snapElements[f].width;c=n.snapElements[f].top-n.margins.top;h=c+n.snapElements[f].height;if(m<u-v||g>l+v||_<c-v||y>h+v||!t.contains(n.snapElements[f].item.ownerDocument,n.snapElements[f].item)){if(n.snapElements[f].snapping){n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[f].item}))}n.snapElements[f].snapping=false;continue}if(p.snapMode!=="inner"){r=Math.abs(c-_)<=v;a=Math.abs(h-y)<=v;o=Math.abs(u-m)<=v;s=Math.abs(l-g)<=v;if(r){i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top}if(a){i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top}if(o){i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left}if(s){i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left}}d=r||a||o||s;if(p.snapMode!=="outer"){r=Math.abs(c-y)<=v;a=Math.abs(h-_)<=v;o=Math.abs(u-g)<=v;s=Math.abs(l-m)<=v;if(r){i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top}if(a){i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top}if(o){i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left}if(s){i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left}}if(!n.snapElements[f].snapping&&(r||a||o||s||d)){n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[f].item}))}n.snapElements[f].snapping=r||a||o||s||d}}});t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,a=n.options,o=t.makeArray(t(a.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(!o.length){return}r=parseInt(t(o[0]).css("zIndex"),10)||0;t(o).each(function(e){t(this).css("zIndex",r+e)});this.css("zIndex",r+o.length)}});t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),a=n.options;if(r.css("zIndex")){a._zIndex=r.css("zIndex")}r.css("zIndex",a.zIndex)},stop:function(e,i,n){var r=n.options;if(r._zIndex){t(i.helper).css("zIndex",r._zIndex)}}});return t.ui.draggable})},function(t,e,i){i(407);t.exports="ngSanitize"},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(316),i(409),i(408),i(114),i(217)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i);e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);if(r!==-1){n.splice(r,1)}e.removeData("ui-tooltip-id");n=t.trim(n.join(" "));if(n){e.attr("aria-describedby",n)}else{e.removeAttr("aria-describedby")}},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i);if(e==="content"){t.each(this.tooltips,function(t,e){n._updateContent(e.element)})}},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0];e.close(r,true)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]")){return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}});this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);if(!n.length||n.data("ui-tooltip-id")){return}if(n.attr("title")){n.data("ui-tooltip-title",n.attr("title"))}n.data("ui-tooltip-open",true);if(e&&e.type==="mouseover"){n.parents().each(function(){var e=t(this),n;if(e.data("ui-tooltip-open")){n=t.Event("blur");n.target=n.currentTarget=this;i.close(n,true)}if(e.attr("title")){e.uniqueId();i.parents[this.id]={element:this,title:e.attr("title")};e.attr("title","")}})}this._registerCloseHandlers(e,n);this._updateContent(n,e)},_updateContent:function(t,e){var i,n=this.options.content,r=this,a=e?e.type:null;if(typeof n==="string"||n.nodeType||n.jquery){return this._open(e,t,n)}i=n.call(t[0],function(i){r._delay(function(){if(!t.data("ui-tooltip-open")){return}if(e){e.type=a}this._open(e,t,i)})});if(i){this._open(e,t,i)}},_open:function(e,i,n){var r,a,o,s,u=t.extend({},this.options.position);if(!n){return}r=this._find(i);if(r){r.tooltip.find(".ui-tooltip-content").html(n);return}if(i.is("[title]")){if(e&&e.type==="mouseover"){i.attr("title","")}else{i.removeAttr("title")}}r=this._tooltip(i);a=r.tooltip;this._addDescribedBy(i,a.attr("id"));a.find(".ui-tooltip-content").html(n);this.liveRegion.children().hide();s=t("<div>").html(a.find(".ui-tooltip-content").html());s.removeAttr("name").find("[name]").removeAttr("name");s.removeAttr("id").find("[id]").removeAttr("id");s.appendTo(this.liveRegion);function l(t){u.of=t;if(a.is(":hidden")){return}a.position(u)}if(this.options.track&&e&&/^mouse/.test(e.type)){this._on(this.document,{mousemove:l});l(e)}else{a.position(t.extend({of:i},this.options.position))}a.hide();this._show(a,this.options.show);if(this.options.track&&this.options.show&&this.options.show.delay){o=this.delayedShow=setInterval(function(){if(a.is(":visible")){l(u.of);clearInterval(o)}},t.fx.interval)}this._trigger("open",e,{tooltip:a})},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0];this.close(n,true)}}};if(i[0]!==this.element[0]){n.remove=function(){this._removeTooltip(this._find(i).tooltip)}}if(!e||e.type==="mouseover"){n.mouseleave="close"}if(!e||e.type==="focusin"){n.focusout="close"}this._on(true,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),a=this._find(r);if(!a){r.removeData("ui-tooltip-open");return}i=a.tooltip;if(a.closing){return}clearInterval(this.delayedShow);if(r.data("ui-tooltip-title")&&!r.attr("title")){r.attr("title",r.data("ui-tooltip-title"))}this._removeDescribedBy(r);a.hiding=true;i.stop(true);this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))});r.removeData("ui-tooltip-open");this._off(r,"mouseleave focusout keyup");if(r[0]!==this.element[0]){this._off(r,"remove")}this._off(this.document,"mousemove");if(e&&e.type==="mouseleave"){t.each(this.parents,function(e,i){t(i.element).attr("title",i.title);delete n.parents[e]})}a.closing=true;this._trigger("close",e,{tooltip:i});if(!a.hiding){a.closing=false}},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");this._addClass(n,"ui-tooltip-content");this._addClass(i,"ui-tooltip","ui-widget ui-widget-content");i.appendTo(this._appendTo(e));return this.tooltips[r]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove();delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");if(!e.length){e=this.document[0].body}return e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),a=n.element;r.target=r.currentTarget=a[0];e.close(r,true);t("#"+i).remove();if(a.data("ui-tooltip-title")){if(!a.attr("title")){a.attr("title",a.data("ui-tooltip-title"))}a.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});if(t.uiBackCompat!==false){t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);if(this.options.tooltipClass){t.tooltip.addClass(this.options.tooltipClass)}return t}})}return t.ui.tooltip})},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(313),i(114),i(217)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){var e=false;t(document).on("mouseup",function(){e=false});return t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){if(true===t.data(i.target,e.widgetName+".preventClickEvent")){t.removeData(i.target,e.widgetName+".preventClickEvent");i.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(i){if(e){return}this._mouseMoved=false;this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var n=this,r=i.which===1,a=typeof this.options.cancel==="string"&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:false;if(!r||a||!this._mouseCapture(i)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(i)&&this._mouseDelayMet(i)){this._mouseStarted=this._mouseStart(i)!==false;if(!this._mouseStarted){i.preventDefault();return true}}if(true===t.data(i.target,this.widgetName+".preventClickEvent")){t.removeData(i.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(t){return n._mouseMove(t)};this._mouseUpDelegate=function(t){return n._mouseUp(t)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);i.preventDefault();e=true;return true},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button){return this._mouseUp(e)}else if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey){this.ignoreMissingWhich=true}else if(!this.ignoreMissingWhich){return this._mouseUp(e)}}}if(e.which||e.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false;this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)}return!this._mouseStarted},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(i.target===this._mouseDownEvent.target){t.data(i.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(i)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;e=false;i.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})},function(t,e,i){"use strict";var n=i(1);var r=i(69);var a=i(151);var o=function t(){r["a"].call(this)};Object(n["d"])(o,r["a"]);function s(t){if(typeof t==="string"){return t}else{return""}}o.prototype.getType=function(){return a["a"].TEXT};o.prototype.readFeature=function(t,e){return this.readFeatureFromText(s(t),this.adaptOptions(e))};o.prototype.readFeatureFromText=function(t,e){};o.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(s(t),this.adaptOptions(e))};o.prototype.readFeaturesFromText=function(t,e){};o.prototype.readGeometry=function(t,e){return this.readGeometryFromText(s(t),this.adaptOptions(e))};o.prototype.readGeometryFromText=function(t,e){};o.prototype.readProjection=function(t){return this.readProjectionFromText(s(t))};o.prototype.readProjectionFromText=function(t){return this.defaultDataProjection};o.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))};o.prototype.writeFeatureText=function(t,e){};o.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))};o.prototype.writeFeaturesText=function(t,e){};o.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))};o.prototype.writeGeometryText=function(t,e){};e["a"]=o},function(t,e,i){"use strict";var n=i(1);var r=i(35);var a=i(230);var o=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, '+'under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY'+" 3.0</a>.",r["a"]];var s={terrain:{extension:"jpg",opaque:true},"terrain-background":{extension:"jpg",opaque:true},"terrain-labels":{extension:"png",opaque:false},"terrain-lines":{extension:"png",opaque:false},"toner-background":{extension:"png",opaque:true},toner:{extension:"png",opaque:true},"toner-hybrid":{extension:"png",opaque:false},"toner-labels":{extension:"png",opaque:false},"toner-lines":{extension:"png",opaque:false},"toner-lite":{extension:"png",opaque:true},watercolor:{extension:"jpg",opaque:true}};var u={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};var l=function t(e){var i=e.layer.indexOf("-");var n=i==-1?e.layer:e.layer.slice(0,i);var r=u[n];var l=s[e.layer];var c=e.url!==undefined?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+l.extension;a["a"].call(this,{attributions:o,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:e.maxZoom!=undefined?e.maxZoom:r.maxZoom,minZoom:e.minZoom!=undefined?e.minZoom:r.minZoom,opaque:l.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:c,wrapX:e.wrapX})};Object(n["d"])(l,a["a"]);e["a"]=l},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";var e="$";function i(){}i.prototype=n.prototype={constructor:i,has:function(t){return e+t in this},get:function(t){return this[e+t]},set:function(t,i){this[e+t]=i;return this},remove:function(t){var i=e+t;return i in this&&delete this[i]},clear:function(){for(var t in this)if(t[0]===e)delete this[t]},keys:function(){var t=[];for(var i in this)if(i[0]===e)t.push(i.slice(1));return t},values:function(){var t=[];for(var i in this)if(i[0]===e)t.push(this[i]);return t},entries:function(){var t=[];for(var i in this)if(i[0]===e)t.push({key:i.slice(1),value:this[i]});return t},size:function(){var t=0;for(var i in this)if(i[0]===e)++t;return t},empty:function(){for(var t in this)if(t[0]===e)return false;return true},each:function(t){for(var i in this)if(i[0]===e)t(this[i],i.slice(1),this)}};function n(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r=-1,a=t.length,o;if(e==null)while(++r<a)n.set(r,t[r]);else while(++r<a)n.set(e(o=t[r],r,t),o)}else if(t)for(var s in t)n.set(s,t[s]);return n}function r(){var t=[],e=[],i,r,l;function c(e,a,o,s){if(a>=t.length){if(i!=null)e.sort(i);return r!=null?r(e):e}var u=-1,l=e.length,h=t[a++],f,d,p=n(),v,g=o();while(++u<l){if(v=p.get(f=h(d=e[u])+"")){v.push(d)}else{p.set(f,[d])}}p.each(function(t,e){s(g,e,c(t,a,o,s))});return g}function h(i,n){if(++n>t.length)return i;var a,o=e[n-1];if(r!=null&&n>=t.length)a=i.entries();else a=[],i.each(function(t,e){a.push({key:e,values:h(t,n)})});return o!=null?a.sort(function(t,e){return o(t.key,e.key)}):a}return l={object:function(t){return c(t,0,a,o)},map:function(t){return c(t,0,s,u)},entries:function(t){return h(c(t,0,s,u),0)},key:function(e){t.push(e);return l},sortKeys:function(i){e[t.length-1]=i;return l},sortValues:function(t){i=t;return l},rollup:function(t){r=t;return l}}}function a(){return{}}function o(t,e,i){t[e]=i}function s(){return n()}function u(t,e,i){t.set(e,i)}function l(){}var c=n.prototype;l.prototype=h.prototype={constructor:l,has:c.has,add:function(t){t+="";this[e+t]=t;return this},remove:c.remove,clear:c.clear,values:c.keys,size:c.size,empty:c.empty,each:c.each};function h(t,e){var i=new l;if(t instanceof l)t.each(function(t){i.add(t)});else if(t){var n=-1,r=t.length;if(e==null)while(++n<r)i.add(t[n]);else while(++n<r)i.add(e(t[n],n,t))}return i}function f(t){var e=[];for(var i in t)e.push(i);return e}function d(t){var e=[];for(var i in t)e.push(t[i]);return e}function p(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e}t.nest=r;t.set=h;t.map=n;t.keys=f;t.values=d;t.entries=p;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";i.d(e,"a",function(){return f});var n=i(288);var r=i(287);var a=i(286);var o=i(239);var s=i(238);var u=i(87);var l=i(168);var c=i(104);var h=i(189);var f={calendar:n["b"],longDateFormat:r["a"],invalidDate:a["a"],ordinal:o["b"],dayOfMonthOrdinalParse:o["a"],relativeTime:s["a"],months:u["b"],monthsShort:u["c"],week:l["a"],weekdays:c["a"],weekdaysMin:c["b"],weekdaysShort:c["c"],meridiemParse:h["a"]}},function(t,e,i){(function(t){+function(t){"use strict";var e=function(e,i){this.options=i;this.$body=t(document.body);this.$element=t(e);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};e.VERSION="3.3.7";e.TRANSITION_DURATION=300;e.BACKDROP_TRANSITION_DURATION=150;e.DEFAULTS={backdrop:true,keyboard:true,show:true};e.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)};e.prototype.show=function(i){var n=this;var r=t.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){if(t(e.target).is(n.$element))n.ignoreBackdropClick=true})});this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");if(!n.$element.parent().length){n.$element.appendTo(n.$body)}n.$element.show().scrollTop(0);n.adjustDialog();if(r){n.$element[0].offsetWidth}n.$element.addClass("in");n.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:i});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(e.TRANSITION_DURATION):n.$element.trigger("focus").trigger(a)})};e.prototype.hide=function(i){if(i)i.preventDefault();i=t.Event("hide.bs.modal");this.$element.trigger(i);if(!this.isShown||i.isDefaultPrevented())return;this.isShown=false;this.escape();this.resize();t(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal()};e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){if(document!==t.target&&this.$element[0]!==t.target&&!this.$element.has(t.target).length){this.$element.trigger("focus")}},this))};e.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){t.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}};e.prototype.resize=function(){if(this.isShown){t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this))}else{t(window).off("resize.bs.modal")}};e.prototype.hideModal=function(){var t=this;this.$element.hide();this.backdrop(function(){t.$body.removeClass("modal-open");t.resetAdjustments();t.resetScrollbar();t.$element.trigger("hidden.bs.modal")})};e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};e.prototype.backdrop=function(i){var n=this;var r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&r;this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(t.target!==t.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(a)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!i)return;a?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):i()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop();i&&i()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):o()}else if(i){i()}};e.prototype.handleUpdate=function(){this.adjustDialog()};e.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})};e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};e.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t;this.scrollbarWidth=this.measureScrollbar()};e.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing)this.$body.css("padding-right",t+this.scrollbarWidth)};e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};e.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure";this.$body.append(t);var e=t.offsetWidth-t.clientWidth;this.$body[0].removeChild(t);return e};function i(i,n){return this.each(function(){var r=t(this);var a=r.data("bs.modal");var o=t.extend({},e.DEFAULTS,r.data(),typeof i=="object"&&i);if(!a)r.data("bs.modal",a=new e(this,o));if(typeof i=="string")a[i](n);else if(o.show)a.show(n)})}var n=t.fn.modal;t.fn.modal=i;t.fn.modal.Constructor=e;t.fn.modal.noConflict=function(){t.fn.modal=n;return this};t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this);var r=n.attr("href");var a=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""));var o=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},a.data(),n.data());if(n.is("a"))e.preventDefault();a.one("show.bs.modal",function(t){if(t.isDefaultPrevented())return;a.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})});i.call(a,o,this)})}(t)}).call(this,i(51))},function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.ui.plugin={add:function(e,i,n){var r,a=t.ui[e].prototype;for(r in n){a.plugins[r]=a.plugins[r]||[];a.plugins[r].push([i,n[r]])}},call:function(t,e,i,n){var r,a=t.plugins[e];if(!a){return}if(!n&&(!t.element[0].parentNode||t.element[0].parentNode.nodeType===11)){return}for(r=0;r<a.length;r++){if(t.options[a[r][0]]){a[r][1].apply(t.element,i)}}}}})},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(301),i(404),i(307),i(114),i(217)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if(t(e).css("overflow")==="hidden"){return false}var n=i&&i==="left"?"scrollLeft":"scrollTop",r=false;if(e[n]>0){return true}e[n]=1;r=e[n]>0;e[n]=0;return r},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable");t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(e);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(e);this._proportionallyResize()}this._setupHandles();if(i.autoHide){t(this.element).on("mouseenter",function(){if(i.disabled){return}n._removeClass("ui-resizable-autohide");n._handles.show()}).on("mouseleave",function(){if(i.disabled){return}if(!n.resizing){n._addClass("ui-resizable-autohide");n._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){i(this.element);e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e);e.remove()}this.originalElement.css("resize",this.originalResizeStyle);i(this.originalElement);return this},_setOption:function(t,e){this._super(t,e);switch(t){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var e=this.options,i,n,r,a,o,s=this;this.handles=e.handles||(!t(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=t();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}r=this.handles.split(",");this.handles={};for(n=0;n<r.length;n++){i=t.trim(r[n]);a="ui-resizable-"+i;o=t("<div>");this._addClass(o,"ui-resizable-handle "+a);o.css({zIndex:e.zIndex});this.handles[i]=".ui-resizable-"+i;this.element.append(o)}}this._renderAxis=function(e){var i,n,r,a;e=e||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show()}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=t(this.handles[i]);this._on(this.handles[i],{mousedown:s._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){n=t(this.handles[i],this.element);a=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");e.css(r,a);this._proportionallyResize()}this._handles=this._handles.add(this.handles[i])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!s.resizing){if(this.className){o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}s.axis=o&&o[1]?o[1]:"se"}});if(e.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,r=false;for(i in this.handles){n=t(this.handles[i])[0];if(n===e.target||t.contains(n,e.target)){r=true}}return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,a=this.options,o=this.element;this.resizing=true;this._renderProxy();i=this._num(this.helper.css("left"));n=this._num(this.helper.css("top"));if(a.containment){i+=t(a.containment).scrollLeft()||0;n+=t(a.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:i,top:n};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()};this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()};this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()};this.originalPosition={left:i,top:n};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof a.aspectRatio==="number"?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;r=t(".ui-resizable-"+this.axis).css("cursor");t("body").css("cursor",r==="auto"?this.axis+"-resize":r);this._addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,a=this.axis,o=e.pageX-r.left||0,s=e.pageY-r.top||0,u=this._change[a];this._updatePrevProperties();if(!u){return false}i=u.apply(this,[e,o,s]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){i=this._updateRatio(i,e)}i=this._respectSize(i,e);this._updateCache(i);this._propagate("resize",e);n=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!t.isEmptyObject(n)){this._updatePrevProperties();this._trigger("resize",e,this.ui());this._applyChanges()}return false},_mouseStop:function(e){this.resizing=false;var i,n,r,a,o,s,u,l=this.options,c=this;if(this._helper){i=this._proportionallyResizeElements;n=i.length&&/textarea/i.test(i[0].nodeName);r=n&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height;a=n?0:c.sizeDiff.width;o={width:c.helper.width()-a,height:c.helper.height()-r};s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null;u=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;if(!l.animate){this.element.css(t.extend(o,{top:u,left:s}))}c.helper.height(c.size.height);c.helper.width(c.size.width);if(this._helper&&!l.animate){this._proportionallyResize()}}t("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",e);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};if(this.position.top!==this.prevPosition.top){t.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){t.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){t.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){t.height=this.size.height+"px"}this.helper.css(t);return t},_updateVirtualBoundaries:function(t){var e,i,n,r,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||t){e=a.minHeight*this.aspectRatio;n=a.minWidth/this.aspectRatio;i=a.maxHeight*this.aspectRatio;r=a.maxWidth/this.aspectRatio;if(e>a.minWidth){a.minWidth=e}if(n>a.minHeight){a.minHeight=n}if(i<a.maxWidth){a.maxWidth=i}if(r<a.maxHeight){a.maxHeight=r}}this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset();if(this._isNumber(t.left)){this.position.left=t.left}if(this._isNumber(t.top)){this.position.top=t.top}if(this._isNumber(t.height)){this.size.height=t.height}if(this._isNumber(t.width)){this.size.width=t.width}},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;if(this._isNumber(t.height)){t.width=t.height*this.aspectRatio}else if(this._isNumber(t.width)){t.height=t.width/this.aspectRatio}if(n==="sw"){t.left=e.left+(i.width-t.width);t.top=null}if(n==="nw"){t.top=e.top+(i.height-t.height);t.left=e.left+(i.width-t.width)}return t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,u=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);if(a){t.width=e.minWidth}if(o){t.height=e.minHeight}if(n){t.width=e.maxWidth}if(r){t.height=e.maxHeight}if(a&&l){t.left=s-e.minWidth}if(n&&l){t.left=s-e.maxWidth}if(o&&c){t.top=u-e.minHeight}if(r&&c){t.top=u-e.maxHeight}if(!t.width&&!t.height&&!t.left&&t.top){t.top=null}else if(!t.width&&!t.height&&!t.top&&t.left){t.left=null}return t},_getPaddingPlusBorderDimensions:function(t){var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];for(;e<4;e++){i[e]=parseFloat(n[e])||0;i[e]+=parseFloat(r[e])||0}return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var t,e=0,i=this.helper||this.element;for(;e<this._proportionallyResizeElements.length;e++){t=this._proportionallyResizeElements[e];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(t)}t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||t("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]);e!=="resize"&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,s=a?0:i.sizeDiff.width,u={width:i.size.width-s,height:i.size.height-o},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(u,c&&l?{top:c,left:l}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};if(r&&r.length){t(r[0]).css({width:n.width,height:n.height})}i._updateCache(n);i._propagate("resize",e)}})}});t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,a,o,s,u=t(this).resizable("instance"),l=u.options,c=u.element,h=l.containment,f=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;if(!f){return}u.containerElement=t(f);if(/document/.test(h)||h===document){u.containerOffset={left:0,top:0};u.containerPosition={left:0,top:0};u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}}else{e=t(f);i=[];t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=u._num(e.css("padding"+n))});u.containerOffset=e.offset();u.containerPosition=e.position();u.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]};n=u.containerOffset;r=u.containerSize.height;a=u.containerSize.width;o=u._hasScroll(f,"left")?f.scrollWidth:a;s=u._hasScroll(f)?f.scrollHeight:r;u.parentData={element:f,left:n.left,top:n.top,width:o,height:s}}},resize:function(e){var i,n,r,a,o=t(this).resizable("instance"),s=o.options,u=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,h={top:0,left:0},f=o.containerElement,d=true;if(f[0]!==document&&/static/.test(f.css("position"))){h=u}if(l.left<(o._helper?u.left:0)){o.size.width=o.size.width+(o._helper?o.position.left-u.left:o.position.left-h.left);if(c){o.size.height=o.size.width/o.aspectRatio;d=false}o.position.left=s.helper?u.left:0}if(l.top<(o._helper?u.top:0)){o.size.height=o.size.height+(o._helper?o.position.top-u.top:o.position.top);if(c){o.size.width=o.size.height*o.aspectRatio;d=false}o.position.top=o._helper?u.top:0}r=o.containerElement.get(0)===o.element.parent().get(0);a=/relative|absolute/.test(o.containerElement.css("position"));if(r&&a){o.offset.left=o.parentData.left+o.position.left;o.offset.top=o.parentData.top+o.position.top}else{o.offset.left=o.element.offset().left;o.offset.top=o.element.offset().top}i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-h.left:o.offset.left-u.left));n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-h.top:o.offset.top-u.top));if(i+o.size.width>=o.parentData.width){o.size.width=o.parentData.width-i;if(c){o.size.height=o.size.width/o.aspectRatio;d=false}}if(n+o.size.height>=o.parentData.height){o.size.height=o.parentData.height-n;if(c){o.size.width=o.size.height*o.aspectRatio;d=false}}if(!d){o.position.left=o.prevPosition.left;o.position.top=o.prevPosition.top;o.size.width=o.prevSize.width;o.size.height=o.prevSize.height}},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,a=e.containerElement,o=t(e.helper),s=o.offset(),u=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;if(e._helper&&!i.animate&&/relative/.test(a.css("position"))){t(this).css({left:s.left-r.left-n.left,width:u,height:l})}if(e._helper&&!i.animate&&/static/.test(a.css("position"))){t(this).css({left:s.left-r.left-n.left,width:u,height:l})}}});t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,a=n.originalSize,o=n.originalPosition,s={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};t(r.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},a=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(n[e]||0)+(s[e]||0);if(i&&i>=0){r[e]=i||null}});e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}});t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0});e._addClass(e.ghost,"ui-resizable-ghost");if(t.uiBackCompat!==false&&typeof e.options.ghost==="string"){e.ghost.addClass(this.options.ghost)}e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=t(this).resizable("instance");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,a=i.originalSize,o=i.originalPosition,s=i.axis,u=typeof n.grid==="number"?[n.grid,n.grid]:n.grid,l=u[0]||1,c=u[1]||1,h=Math.round((r.width-a.width)/l)*l,f=Math.round((r.height-a.height)/c)*c,d=a.width+h,p=a.height+f,v=n.maxWidth&&n.maxWidth<d,g=n.maxHeight&&n.maxHeight<p,m=n.minWidth&&n.minWidth>d,y=n.minHeight&&n.minHeight>p;n.grid=u;if(m){d+=l}if(y){p+=c}if(v){d-=l}if(g){p-=c}if(/^(se|s|e)$/.test(s)){i.size.width=d;i.size.height=p}else if(/^(ne)$/.test(s)){i.size.width=d;i.size.height=p;i.position.top=o.top-f}else if(/^(sw)$/.test(s)){i.size.width=d;i.size.height=p;i.position.left=o.left-h}else{if(p-c<=0||d-l<=0){e=i._getPaddingPlusBorderDimensions(this)}if(p-c>0){i.size.height=p;i.position.top=o.top-f}else{p=c-e.height;i.size.height=p;i.position.top=o.top+a.height-p}if(d-l>0){i.size.width=d;i.position.left=o.left-h}else{d=l-e.width;i.size.width=d;i.position.left=o.left+a.width-d}}}});return t.ui.resizable})},function(t,e,i){(function(t){+function(t){"use strict";var e='[data-dismiss="alert"]';var i=function(i){t(i).on("click",e,this.close)};i.VERSION="3.3.7";i.TRANSITION_DURATION=150;i.prototype.close=function(e){var n=t(this);var r=n.attr("data-target");if(!r){r=n.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}var a=t(r==="#"?[]:r);if(e)e.preventDefault();if(!a.length){a=n.closest(".alert")}a.trigger(e=t.Event("close.bs.alert"));if(e.isDefaultPrevented())return;a.removeClass("in");function o(){a.detach().trigger("closed.bs.alert").remove()}t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o()};function n(e){return this.each(function(){var n=t(this);var r=n.data("bs.alert");if(!r)n.data("bs.alert",r=new i(this));if(typeof e=="string")r[e].call(n)})}var r=t.fn.alert;t.fn.alert=n;t.fn.alert.Constructor=i;t.fn.alert.noConflict=function(){t.fn.alert=r;return this};t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(t)}).call(this,i(51))},function(t,e){t.exports='<h3>Total: {{ $ctrl.result.total }}</h3> <ul class="nav nav-tabs" role=tablist> <li ng-repeat="source in $ctrl.result.sources" role=presentation ng-class="::{active: $index == 0}"> <a href="#{{ ::source.label }}" aria-controls="{{ ::source.label }}" role=tab data-toggle=tab> <span>{{ ::source.label }}</span> <span ng-switch=source.pending> <span ng-switch-when=true>(...)</span> <span ng-switch-default="">({{ ::source.features.length }})</span> </span> </a> </li> </ul> <div class=tab-content> <div ng-repeat="source in $ctrl.result.sources" role=tabpanel class=tab-pane ng-class="::{active: $index == 0}" id="{{ ::source.label }}"> <div ng-switch=source.features.length> <div ng-switch-when=0> <span ng-switch=source.pending> <h3 ng-switch-when=true>Pending...</h3> <h3 ng-switch-default="">No result</h3> </span> </div> <div ng-switch-default=""> <div ng-repeat="feature in ::source.features"> <h3>{{ ::feature.get(\'display_name\') }}</h3> <div ng-repeat="(key, value) in ::feature.getProperties()" ng-init="value = value !== undefined ? value : \'\'"> <span ng-if="::(key !== feature.getGeometryName() && key !== \'ngeo_feature_type_\')"> <span ng-bind=::key></span>: <span ng-bind=::value></span> </span> </div> </div> </div> </div> </div> </div> '},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.fn.scrollParent=function(e){var i=this.css("position"),n=i==="absolute",r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var e=t(this);if(n&&e.css("position")==="static"){return false}return r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return i==="fixed"||!a.length?t(this[0].ownerDocument||document):a}})},function(t,e,i){var n,r,a;
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}})})},function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})},function(t){t.exports={a:"2.4.4"}},function(t,e,i){(function(e){t.exports=e["Bloodhound"]=i(441)}).call(this,i(236))},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},function(t,e,i){(function(e){t.exports=e["angular"]=i(468)}).call(this,i(236))},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var r=function(){function t(e){n(this,t);this.promise;this.url_=e}t.prototype.load=function t(){var e=this;if(!this.promise){this.promise=new Promise(function(t,i){var n=document.createElement("script");n.onload=function(){return t()};n.onerror=function(){return i()};document.head.appendChild(n);n.src=e.url_})}return this.promise};return t}();var a=r;var o=i(32);var s=i(2);var u=i(7);var l=i(3);var c=i(139);var h=i(71);var f=function t(e){this.ol3d=e;this.scene_=e.getCesiumScene();this.canvas_=this.scene_.canvas;this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this);this.repaintEventNames_=["mousemove","mousedown","mouseup","touchstart","touchend","touchmove","pointerdown","pointerup","pointermove","wheel"];this.enable()};f.prototype.enable=function(){this.scene_.requestRenderMode=true;for(var t=this.repaintEventNames_,e=Array.isArray(t),i=0,t=e?t:t[Symbol.iterator]();;){var n;if(e){if(i>=t.length)break;n=t[i++]}else{i=t.next();if(i.done)break;n=i.value}var r=n;this.canvas_.addEventListener(r,this._boundNotifyRepaintRequired,false)}window.addEventListener("resize",this._boundNotifyRepaintRequired,false);this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)};f.prototype.disable=function(){for(var t=this.repaintEventNames_,e=Array.isArray(t),i=0,t=e?t:t[Symbol.iterator]();;){var n;if(e){if(i>=t.length)break;n=t[i++]}else{i=t.next();if(i.done)break;n=i.value}var r=n;this.canvas_.removeEventListener(r,this._boundNotifyRepaintRequired,false)}window.removeEventListener("resize",this._boundNotifyRepaintRequired,false);this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired);this.scene_.requestRenderMode=false};f.prototype.restartRenderLoop=function(){this.notifyRepaintRequired()};f.prototype.notifyRepaintRequired=function(){this.scene_.requestRender()};var d=f;var p=i(75);var v=i(12);var g=function t(e,i){var n=this;this.scene_=e;this.cam_=e.camera;this.map_=i;this.view_=null;this.viewListenKey_=null;this.toLonLat_=t.identityProjection;this.fromLonLat_=t.identityProjection;this.tilt_=0;this.distance_=0;this.lastCameraViewMatrix_=null;this.viewUpdateInProgress_=false;this.map_.on("change:view",function(t){n.setView_(n.map_.getView())});this.setView_(this.map_.getView())};g.identityProjection=function(t,e,i){var n=i||t.length;if(e){for(var r=0;r<n;++r){e[r]=t[r]}}return t};g.prototype.setView_=function(t){if(this.view_){Object(p["b"])(this.viewListenKey_);this.viewListenKey_=null}this.view_=t;if(t){var e=u["j"](t.getProjection(),"EPSG:4326");var i=u["j"]("EPSG:4326",t.getProjection());s["a"].assert(e&&i);this.toLonLat_=e;this.fromLonLat_=i;this.viewListenKey_=l["a"](t,"propertychange",this.handleViewEvent_,this);this.readFromView()}else{this.toLonLat_=g.identityProjection;this.fromLonLat_=g.identityProjection}};g.prototype.handleViewEvent_=function(t){if(!this.viewUpdateInProgress_){this.readFromView()}};g.prototype.setHeading=function(t){if(!this.view_){return}this.view_.setRotation(t)};g.prototype.getHeading=function(){if(!this.view_){return undefined}var t=this.view_.getRotation();return t||0};g.prototype.setTilt=function(t){this.tilt_=t;this.updateCamera_()};g.prototype.getTilt=function(){return this.tilt_};g.prototype.setDistance=function(t){this.distance_=t;this.updateCamera_();this.updateView()};g.prototype.getDistance=function(){return this.distance_};g.prototype.setCenter=function(t){if(!this.view_){return}this.view_.setCenter(t)};g.prototype.getCenter=function(){if(!this.view_){return undefined}return this.view_.getCenter()};g.prototype.setPosition=function(t){if(!this.toLonLat_){return}var e=this.toLonLat_(t);s["a"].assert(e);var i=new Cesium.Cartographic(v["i"](e[0]),v["i"](e[1]),this.getAltitude());this.cam_.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(i)});this.updateView()};g.prototype.getPosition=function(){if(!this.fromLonLat_){return undefined}var t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);var e=this.fromLonLat_([v["h"](t.longitude),v["h"](t.latitude)]);s["a"].assert(e);return e};g.prototype.setAltitude=function(t){var e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);e.height=t;this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(e);this.updateView()};g.prototype.getAltitude=function(){var t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);return t.height};g.prototype.updateCamera_=function(){if(!this.view_||!this.toLonLat_){return}var t=this.view_.getCenter();if(!t){return}var e=this.toLonLat_(t);s["a"].assert(e);var i=new Cesium.Cartographic(v["i"](e[0]),v["i"](e[1]));if(this.scene_.globe){var n=this.scene_.globe.getHeight(i);i.height=n||0}var r=Cesium.Ellipsoid.WGS84.cartographicToCartesian(i);var a={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:undefined};this.cam_.setView({destination:r,orientation:a});this.cam_.moveBackward(this.distance_);this.checkCameraChange(true)};g.prototype.readFromView=function(){if(!this.view_||!this.toLonLat_){return}var t=this.view_.getCenter();if(t===undefined||t===null){return}var e=this.toLonLat_(t);s["a"].assert(e);var i=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(i||0,v["i"](e[1]));this.updateCamera_()};g.prototype.updateView=function(){if(!this.view_||!this.fromLonLat_){return}this.viewUpdateInProgress_=true;var t=Cesium.Ellipsoid.WGS84;var e=this.scene_;var i=h["a"].pickCenterPoint(e);var n=i;if(!n){var r=e.globe;var a=this.cam_.positionCartographic.clone();var o=r.getHeight(a);a.height=o||0;n=Cesium.Ellipsoid.WGS84.cartographicToCartesian(a)}this.distance_=Cesium.Cartesian3.distance(n,this.cam_.position);var s=t.cartesianToCartographic(n);this.view_.setCenter(this.fromLonLat_([v["h"](s.longitude),v["h"](s.latitude)]));this.view_.setResolution(this.calcResolutionForDistance(this.distance_,s?s.latitude:0));if(i){var u=this.cam_.position;var l=new Cesium.Cartesian3;t.geocentricSurfaceNormal(i,l);var c=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(u,i,c);Cesium.Cartesian3.normalize(c,c);var f=this.cam_.up;var d=this.cam_.right;var p=new Cesium.Cartesian3(-i.y,i.x,0);var g=Cesium.Cartesian3.angleBetween(d,p);var m=Cesium.Cartesian3.cross(i,f,new Cesium.Cartesian3);var y=m.z;this.view_.setRotation(y<0?g:-g);var _=Math.acos(Cesium.Cartesian3.dot(l,c));this.tilt_=isNaN(_)?0:_}else{this.view_.setRotation(this.cam_.heading);this.tilt_=-this.cam_.pitch+Math.PI/2}this.viewUpdateInProgress_=false};g.prototype.checkCameraChange=function(t){var e=this.lastCameraViewMatrix_;var i=this.cam_.viewMatrix;if(!e||!Cesium.Matrix4.equalsEpsilon(e,i,1e-5)){this.lastCameraViewMatrix_=i.clone();if(t!==true){this.updateView()}}};g.prototype.calcDistanceForResolution=function(t,e){var i=this.scene_.canvas;var n=this.cam_.frustum.fovy;s["a"].assert(!isNaN(n));var r=this.view_.getProjection().getMetersPerUnit();var a=t*i.clientHeight;var o=Math.cos(Math.abs(e));var u=a*r*o;var l=u/2/Math.tan(n/2);return l};g.prototype.calcResolutionForDistance=function(t,e){var i=this.scene_.canvas;var n=this.cam_.frustum.fovy;var r=this.view_.getProjection().getMetersPerUnit();var a=2*t*Math.tan(n/2);var o=Math.cos(Math.abs(e));var s=a/r/o;var u=s/i.clientHeight;return u};var m=g;var y=i(84);var _=i(9);var b=i(1);var w=function t(e,i){this.map=e;this.view=e.getView();this.scene=i;this.olLayers=e.getLayerGroup().getLayers();this.mapLayerGroup=e.getLayerGroup();this.layerMap={};this.olLayerListenKeys={};this.olGroupListenKeys_={}};w.prototype.synchronize=function(){this.destroyAll();this.addLayers_(this.mapLayerGroup)};w.prototype.orderLayers=function(){};w.prototype.addLayers_=function(t){var e=this;var i=[{layer:t,parents:[]}];var n=function t(){var n=i.splice(0,1)[0];var r=n.layer;var a=b["c"](r).toString();e.olLayerListenKeys[a]=[];s["a"].assert(!e.layerMap[a]);var o=null;if(r instanceof y["a"]){e.listenForGroupChanges_(r);if(r!==e.mapLayerGroup){o=e.createSingleLayerCounterparts(n)}if(!o){r.getLayers().forEach(function(t){if(t){var a={layer:t,parents:r===e.mapLayerGroup?[]:[n.layer].concat(n.parents)};i.push(a)}})}}else{o=e.createSingleLayerCounterparts(n);if(!o){var u=a;var c=n;var h=function t(i){var n=e.createSingleLayerCounterparts(c);if(n){c.layer.un("change",t,e);e.addCesiumObjects_(n,u,c.layer);e.orderLayers()}};e.olLayerListenKeys[a].push(l["a"](c.layer,"change",h,e))}}if(o){e.addCesiumObjects_(o,a,r)}};while(i.length>0){n()}this.orderLayers()};w.prototype.addCesiumObjects_=function(t,e,i){var n=this;this.layerMap[e]=t;this.olLayerListenKeys[e].push(l["a"](i,"change:zIndex",this.orderLayers,this));t.forEach(function(t){n.addCesiumObject(t)})};w.prototype.removeAndDestroySingleLayer_=function(t){var e=this;var i=b["c"](t).toString();var n=this.layerMap[i];if(!!n){n.forEach(function(t){e.removeSingleCesiumObject(t,false);e.destroyCesiumObject(t)});this.olLayerListenKeys[i].forEach(p["b"]);delete this.olLayerListenKeys[i]}delete this.layerMap[i];return!!n};w.prototype.unlistenSingleGroup_=function(t){if(t===this.mapLayerGroup){return}var e=b["c"](t).toString();var i=this.olGroupListenKeys_[e];i.forEach(function(t){Object(p["b"])(t)});delete this.olGroupListenKeys_[e];delete this.layerMap[e]};w.prototype.removeLayer_=function(t){var e=this;if(!!t){(function(){var i=[t];while(i.length>0){var n=i.splice(0,1)[0];var r=e.removeAndDestroySingleLayer_(n);if(n instanceof y["a"]){e.unlistenSingleGroup_(n);if(!r){n.getLayers().forEach(function(t){i.push(t)})}}}})()}};w.prototype.listenForGroupChanges_=function(t){var e=b["c"](t).toString();s["a"].assert(this.olGroupListenKeys_[e]===undefined);var i=[];this.olGroupListenKeys_[e]=i;var n=[];var r=function(){var e=this;var r=t.getLayers();if(r){n=[r.on("add",function(t){e.addLayers_(t.element)}),r.on("remove",function(t){e.removeLayer_(t.element)})];i.push.apply(i,n)}}.bind(this);r();i.push(t.on("change:layers",function(t){n.forEach(function(t){var e=i.indexOf(t);if(e>=0){i.splice(e,1)}Object(p["b"])(t)});r()}))};w.prototype.destroyAll=function(){this.removeAllCesiumObjects(true);var t=void 0;for(t in this.olGroupListenKeys_){var e=this.olGroupListenKeys_[t];e.forEach(p["b"])}for(t in this.olLayerListenKeys){this.olLayerListenKeys[t].forEach(p["b"])}this.olGroupListenKeys_={};this.olLayerListenKeys={};this.layerMap={}};w.prototype.addCesiumObject=function(t){};w.prototype.destroyCesiumObject=function(t){};w.prototype.removeSingleCesiumObject=function(t,e){};w.prototype.removeAllCesiumObjects=function(t){};w.prototype.createSingleLayerCounterparts=function(t){};var O=w;var x=function t(e,i){this.cesiumLayers_=i.imageryLayers;this.ourLayers_=new Cesium.ImageryLayerCollection;O.call(this,e,i)};b["d"](x,O);x.prototype.addCesiumObject=function(t){this.cesiumLayers_.add(t);this.ourLayers_.add(t)};x.prototype.destroyCesiumObject=function(t){t.destroy()};x.prototype.removeSingleCesiumObject=function(t,e){this.cesiumLayers_.remove(t,e);this.ourLayers_.remove(t,false)};x.prototype.removeAllCesiumObjects=function(t){for(var e=0;e<this.ourLayers_.length;++e){this.cesiumLayers_.remove(this.ourLayers_.get(e),t)}this.ourLayers_.removeAll(false)};x.prototype.convertLayerToCesiumImageries=function(t,e){var i=h["a"].tileLayerToImageryLayer(t,e);return i?[i]:null};x.prototype.createSingleLayerCounterparts=function(t){var e=this;var i=t.layer;var n=b["c"](i).toString();var r=this.view.getProjection();s["a"].assert(r);var a=this.convertLayerToCesiumImageries(i,r);if(a){var o;var u=[];[t.layer].concat(t.parents).forEach(function(e){u.push(e.on(["change:opacity","change:visible"],function(){s["a"].assert(a);for(var e=0;e<a.length;++e){h["a"].updateCesiumLayerProperties(t,a[e])}}))});for(var l=0;l<a.length;++l){h["a"].updateCesiumLayerProperties(t,a[l])}u.push(i.on("change:extent",function(t){for(var n=0;n<a.length;++n){e.cesiumLayers_.remove(a[n],true);e.ourLayers_.remove(a[n],false)}delete e.layerMap[b["c"](i)];e.synchronize()}));u.push(i.on("change",function(t){for(var i=0;i<a.length;++i){var n=e.cesiumLayers_.indexOf(a[i]);if(n>=0){e.cesiumLayers_.remove(a[i],false);e.cesiumLayers_.add(a[i],n)}}}));(o=this.olLayerListenKeys[n]).push.apply(o,u)}return Array.isArray(a)?a:null};x.prototype.orderLayers=function(){var t=this;var e=[];var i={};var n=[this.mapLayerGroup];while(n.length>0){var r=n.splice(0,1)[0];e.push(r);i[b["c"](r)]=r.getZIndex();if(r instanceof y["a"]){var a=r.getLayers();if(a){n.unshift.apply(n,a.getArray())}}}_["l"](e,function(t,e){return i[b["c"](t)]-i[b["c"](e)]});e.forEach(function(e){var i=b["c"](e).toString();var n=t.layerMap[i];if(n){n.forEach(function(e){t.raiseToTop(e)})}})};x.prototype.raiseToTop=function(t){this.cesiumLayers_.raiseToTop(t)};var S=x;var C=i(34);var T=i(78);var E=i(24);var M=i(14);var j=i(22);var k=i(10);var R=i(4);var A=function t(e){C["b"].call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,wrapX:e.wrapX});this.resolution=undefined;this.distance=e.distance!==undefined?e.distance:20;this.features=[];this.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();Object(E["a"])(e instanceof o["a"],10);return e};this.source=e.source;Object(l["a"])(this.source,k["a"].CHANGE,this.refresh,this)};Object(b["d"])(A,C["b"]);A.prototype.getDistance=function(){return this.distance};A.prototype.getSource=function(){return this.source};A.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i);if(e!==this.resolution){this.clear();this.resolution=e;this.cluster();this.addFeatures(this.features)}};A.prototype.setDistance=function(t){this.distance=t;this.refresh()};A.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features);C["b"].prototype.refresh.call(this)};A.prototype.cluster=function(){if(this.resolution===undefined){return}this.features.length=0;var t=Object(R["j"])();var e=this.distance*this.resolution;var i=this.source.getFeatures();var n={};for(var r=0,a=i.length;r<a;r++){var o=i[r];if(!(Object(b["c"])(o).toString()in n)){var s=this.geometryFunction(o);if(s){var u=s.getCoordinates();Object(R["m"])(u,t);Object(R["c"])(t,e,t);var l=this.source.getFeaturesInExtent(t);l=l.filter(function(t){var e=Object(b["c"])(t).toString();if(!(e in n)){n[e]=true;return true}else{return false}});this.features.push(this.createCluster(l))}}}};A.prototype.createCluster=function(t){var e=[0,0];for(var i=t.length-1;i>=0;--i){var n=this.geometryFunction(t[i]);if(n){Object(j["a"])(e,n.getCoordinates())}else{t.splice(i,1)}}Object(j["g"])(e,1/t.length);var r=new M["a"](new o["a"](e));r.set("features",t);return r};var I=A;var P=i(77);var D=i(38);var N=i(67);var $=i(193);var L=i(68);var F=function t(e,i){var n=new Cesium.BillboardCollection({scene:i});var r=new Cesium.PrimitiveCollection;this.olListenKeys=[];this.rootCollection_=new Cesium.PrimitiveCollection;this.context={projection:e,billboards:n,featureToCesiumMap:{},primitives:r};this.rootCollection_.add(n);this.rootCollection_.add(r)};F.prototype.destroy=function(){this.olListenKeys.forEach(p["b"]);this.olListenKeys.length=0};F.prototype.getRootPrimitive=function(){return this.rootCollection_};var G=F;var U=function t(e){this.scene=e;this.boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this)};U.prototype.onRemoveOrClearFeature_=function(t){var e=t.target;s["a"].assertInstanceof(e,C["b"]);var i=c["a"].obj(e)["olcs_cancellers"];if(i){var n=t.feature;if(n){var r=b["c"](n);var a=i[r];if(a){a();delete i[r]}}else{for(var o in i){if(i.hasOwnProperty(o)){i[o]()}}c["a"].obj(e)["olcs_cancellers"]={}}}};U.prototype.setReferenceForPicking=function(t,e,i){i.olLayer=t;i.olFeature=e};U.prototype.createColoredPrimitive=function(t,e,i,n,r,a){var o=function t(e,i){return new Cesium.GeometryInstance({geometry:e,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(i)}})};var s={flat:true,renderState:{depthTest:{enabled:true}}};if(a!==undefined){if(!s.renderState){s.renderState={}}s.renderState.lineWidth=a}var u=o(n,r);var l=this.getHeightReference(t,e,i);var c=void 0;if(l==Cesium.HeightReference.CLAMP_TO_GROUND){var h=u.geometry.constructor;if(h&&!h["createShadowVolume"]){return null}c=new Cesium.GroundPrimitive({geometryInstances:u})}else{var f=new Cesium.PerInstanceColorAppearance(s);c=new Cesium.Primitive({geometryInstances:u,appearance:f})}this.setReferenceForPicking(t,e,c);return c};U.prototype.extractColorFromOlStyle=function(t,e){var i=t.getFill()?t.getFill().getColor():null;var n=t.getStroke()?t.getStroke().getColor():null;var r="black";if(n&&e){r=n}else if(i){r=i}return h["a"].convertColorToCesium(r)};U.prototype.extractLineWidthFromOlStyle=function(t){var e=t.getStroke()?t.getStroke().getWidth():undefined;return e!==undefined?e:1};U.prototype.wrapFillAndOutlineGeometries=function(t,e,i,n,r,a){var o=this.extractColorFromOlStyle(a,false);var u=this.extractColorFromOlStyle(a,true);var l=new Cesium.PrimitiveCollection;if(a.getFill()){var c=this.createColoredPrimitive(t,e,i,n,o);s["a"].assert(!!c);l.add(c)}if(a.getStroke()){var h=this.extractLineWidthFromOlStyle(a);var f=this.createColoredPrimitive(t,e,i,r,u,h);if(f){l.add(f)}}return l};U.prototype.addTextStyle=function(t,e,i,n,r){var a=void 0;if(!(r instanceof Cesium.PrimitiveCollection)){a=new Cesium.PrimitiveCollection;a.add(r)}else{a=r}if(!n.getText()){return a}var o=n.getText();var s=this.olGeometry4326TextPartToCesium(t,e,i,o);if(s){a.add(s)}return a};U.prototype.csAddBillboard=function(t,e,i,n,r,a){var o=t.add(e);this.setReferenceForPicking(i,n,o);return o};U.prototype.olCircleGeometryToCesium=function(t,e,i,n,r){i=h["a"].olGeometryCloneTo4326(i,n);s["a"].assert(i.getType()=="Circle");var a=i.getCenter();var o=a.length==3?a[2]:0;var u=a.slice();u[0]+=i.getRadius();a=h["a"].ol4326CoordinateToCesiumCartesian(a);u=h["a"].ol4326CoordinateToCesiumCartesian(u);var l=Cesium.Cartesian3.distance(a,u);var c=new Cesium.CircleGeometry({center:a,radius:l,height:o});var f=new Cesium.CircleOutlineGeometry({center:a,radius:l,extrudedHeight:o,height:o});var d=this.wrapFillAndOutlineGeometries(t,e,i,c,f,r);return this.addTextStyle(t,e,i,r,d)};U.prototype.createStackedGroundCorridors=function(t,e,i,n,r){var a=0;i=Math.max(3,i);var o=[];var s=[1e3,4e3,16e3,64e3,254e3,1e6,1e7];for(var u=0;u<s.length;u++){var l=s[u];i*=2.14;var c={positions:r,width:i,vertexFormat:Cesium.VertexFormat.POSITION_ONLY};o.push(new Cesium.GeometryInstance({geometry:new Cesium.CorridorGeometry(c),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(n),distanceDisplayCondition:new Cesium.DistanceDisplayConditionGeometryInstanceAttribute(a,l-1)}}));a=l}return new Cesium.GroundPrimitive({geometryInstances:o})};U.prototype.olLineStringGeometryToCesium=function(t,e,i,n,r){i=h["a"].olGeometryCloneTo4326(i,n);s["a"].assert(i.getType()=="LineString");var a=h["a"].ol4326CoordinateArrayToCsCartesians(i.getCoordinates());var o=this.extractLineWidthFromOlStyle(r);var u=void 0;var l=this.getHeightReference(t,e,i);if(l==Cesium.HeightReference.CLAMP_TO_GROUND){var c=this.extractColorFromOlStyle(r,true);u=this.createStackedGroundCorridors(t,e,o,c,a)}else{var f=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(e,r,true)});var d={positions:a,width:o,vertexFormat:f.vertexFormat};u=new Cesium.Primitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.PolylineGeometry(d)}),appearance:f})}this.setReferenceForPicking(t,e,u);return this.addTextStyle(t,e,i,r,u)};U.prototype.olPolygonGeometryToCesium=function(t,e,i,n,r){i=h["a"].olGeometryCloneTo4326(i,n);s["a"].assert(i.getType()=="Polygon");var a=void 0,o=void 0;if(i.getCoordinates()[0].length==5&&e.getGeometry().get("olcs.polygon_kind")==="rectangle"){var u=i.getCoordinates()[0];var l=R["b"](u);var c=Cesium.Rectangle.fromDegrees(l[0],l[1],l[2],l[3]);var f=0;if(u[0].length==3){for(var d=0;d<u.length;d++){f=Math.max(f,u[d][2])}}a=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:c,height:f});o=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:c,height:f})}else{var p=i.getLinearRings();var v={};var g=v;s["a"].assert(p.length>0);for(var m=0;m<p.length;++m){var y=p[m].getCoordinates();var _=h["a"].ol4326CoordinateArrayToCsCartesians(y);s["a"].assert(_&&_.length>0);if(m==0){v.positions=_}else{if(!v.holes){v.holes=[]}v.holes.push({positions:_})}}a=new Cesium.PolygonGeometry({polygonHierarchy:g,perPositionHeight:true});o=new Cesium.PolygonOutlineGeometry({polygonHierarchy:v,perPositionHeight:true})}var b=this.wrapFillAndOutlineGeometries(t,e,i,a,o,r);return this.addTextStyle(t,e,i,r,b)};U.prototype.getHeightReference=function(t,e,i){var n=i.get("altitudeMode");if(n===undefined){n=e.get("altitudeMode")}if(n===undefined){n=t.get("altitudeMode")}var r=Cesium.HeightReference.NONE;if(n==="clampToGround"){r=Cesium.HeightReference.CLAMP_TO_GROUND}else if(n==="relativeToGround"){r=Cesium.HeightReference.RELATIVE_TO_GROUND}return r};U.prototype.createBillboardFromImage=function(t,e,i,n,r,a,o,s){if(a instanceof $["a"]){a.load()}var u=a.getImage(1);var f=function t(e){return e.src!=""&&e.naturalHeight!=0&&e.naturalWidth!=0&&e.complete};var d=function(){if(!u){return}if(!(u instanceof HTMLCanvasElement||u instanceof Image||u instanceof HTMLImageElement)){return}var n=i.getCoordinates();var l=h["a"].ol4326CoordinateToCesiumCartesian(n);var c=void 0;var f=a.getOpacity();if(f!==undefined){c=new Cesium.Color(1,1,1,f)}var d=this.getHeightReference(t,e,i);var p={image:u,color:c,scale:a.getScale(),heightReference:d,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,position:l};var v=this.csAddBillboard(o,p,t,e,i,r);if(s){s(v)}}.bind(this);if(u instanceof Image&&!f(u)){var p=false;var v=t.getSource();var g=function t(){p=true};v.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);var m=c["a"].obj(v)["olcs_cancellers"];if(!m){m=c["a"].obj(v)["olcs_cancellers"]={}}var y=b["c"](e);if(m[y]){m[y]()}m[y]=g;var _=function t(){if(!o.isDestroyed()&&!p){d()}};l["b"](u,"load",_)}else{d()}};U.prototype.olPointGeometryToCesium=function(t,e,i,n,r,a,o){s["a"].assert(i.getType()=="Point");i=h["a"].olGeometryCloneTo4326(i,n);var u=null;var l=r.getImage();if(l){var c=i.get("olcs_model")||e.get("olcs_model");if(c){var f=c();var d=Object.assign({},{scene:this.scene},f.cesiumOptions);var p=Cesium.Model.fromGltf(d);u=new Cesium.PrimitiveCollection;u.add(p);if(f.debugModelMatrix){u.add(new Cesium.DebugModelMatrixPrimitive({modelMatrix:f.debugModelMatrix}))}}else{this.createBillboardFromImage(t,e,i,n,r,l,a,o)}}if(r.getText()){return this.addTextStyle(t,e,i,r,u||new Cesium.Primitive)}else{return u}};U.prototype.olMultiGeometryToCesium=function(t,e,i,n,r,a,o){var u=this;var l=function i(a,o){var s=new Cesium.PrimitiveCollection;a.forEach(function(i){s.add(o(t,e,i,n,r))});return s};var c=void 0;switch(i.getType()){case"MultiPoint":i=i;c=i.getPoints();if(r.getText()){var h=new Cesium.PrimitiveCollection;c.forEach(function(i){s["a"].assert(i);var l=u.olPointGeometryToCesium(t,e,i,n,r,a,o);if(l){h.add(l)}});return h}else{c.forEach(function(i){s["a"].assert(i);u.olPointGeometryToCesium(t,e,i,n,r,a,o)});return null}case"MultiLineString":i=i;c=i.getLineStrings();return l(c,this.olLineStringGeometryToCesium.bind(this));case"MultiPolygon":i=i;c=i.getPolygons();return l(c,this.olPolygonGeometryToCesium.bind(this));default:s["a"].fail("Unhandled multi geometry type"+i.getType())}};U.prototype.olGeometry4326TextPartToCesium=function(t,e,i,n){var r=n.getText();s["a"].assert(r!==undefined);var a=new Cesium.LabelCollection({scene:this.scene});var o=R["x"](i.getExtent());if(i instanceof L["a"]){var u=i.getFirstCoordinate();o[2]=u.length==3?u[2]:0}var l={};l.position=h["a"].ol4326CoordinateToCesiumCartesian(o);l.text=r;l.heightReference=this.getHeightReference(t,e,i);var c=n.getOffsetX();var f=n.getOffsetY();if(c!=0&&f!=0){var d=new Cesium.Cartesian2(c,f);l.pixelOffset=d}l.font=n.getFont()||"10px sans-serif";var p=undefined;if(n.getFill()){l.fillColor=this.extractColorFromOlStyle(n,false);p=Cesium.LabelStyle.FILL}if(n.getStroke()){l.outlineWidth=this.extractLineWidthFromOlStyle(n);l.outlineColor=this.extractColorFromOlStyle(n,true);p=Cesium.LabelStyle.OUTLINE}if(n.getFill()&&n.getStroke()){p=Cesium.LabelStyle.FILL_AND_OUTLINE}l.style=p;var v=void 0;switch(n.getTextAlign()){case"left":v=Cesium.HorizontalOrigin.LEFT;break;case"right":v=Cesium.HorizontalOrigin.RIGHT;break;case"center":default:v=Cesium.HorizontalOrigin.CENTER}l.horizontalOrigin=v;if(n.getTextBaseline()){var g=void 0;switch(n.getTextBaseline()){case"top":g=Cesium.VerticalOrigin.TOP;break;case"middle":g=Cesium.VerticalOrigin.CENTER;break;case"bottom":g=Cesium.VerticalOrigin.BOTTOM;break;case"alphabetic":g=Cesium.VerticalOrigin.TOP;break;case"hanging":g=Cesium.VerticalOrigin.BOTTOM;break;default:s["a"].fail("unhandled baseline "+n.getTextBaseline())}l.verticalOrigin=g}var m=a.add(l);this.setReferenceForPicking(t,e,m);return a};U.prototype.olStyleToCesium=function(t,e,i){var n=e.getFill();var r=e.getStroke();if(i&&!r||!i&&!n){return null}var a=i?r.getColor():n.getColor();a=h["a"].convertColorToCesium(a);if(i&&r.getLineDash()){return Cesium.Material.fromType("Stripe",{horizontal:false,repeat:500,evenColor:a,oddColor:new Cesium.Color(0,0,0,0)})}else{return Cesium.Material.fromType("Color",{color:a})}};U.prototype.computePlainStyle=function(t,e,i,n){var r=e.getStyleFunction();var a=null;if(r){a=r.call(e,n)}if(!a&&i){a=i(e,n)}if(!a){return null}return Array.isArray(a)?a:[a]};U.prototype.getGeometryFromFeature=function(t,e,i){if(i){return i}var n=t.get("olcs.3d_geometry");if(n&&n instanceof N["a"]){return n}if(e){var r=e.getGeometryFunction()(t);if(r instanceof N["a"]){return r}}return t.getGeometry()};U.prototype.olFeatureToCesium=function(t,e,i,n,r){var a=this;var o=this.getGeometryFromFeature(e,i,r);if(!o){return null}var s=n.projection;var u=function t(i){var r=n.featureToCesiumMap[b["c"](e)];if(r instanceof Array){r.push(i)}else{n.featureToCesiumMap[b["c"](e)]=[i]}};switch(o.getType()){case"GeometryCollection":var l=new Cesium.PrimitiveCollection;var c=o;c.getGeometries().forEach(function(r){if(r){var o=a.olFeatureToCesium(t,e,i,n,r);if(o){l.add(o)}}});return l;case"Point":o=o;var h=n.billboards;var f=this.olPointGeometryToCesium(t,e,o,s,i,h,u);if(!f){return null}else{return f}case"Circle":o=o;return this.olCircleGeometryToCesium(t,e,o,s,i);case"LineString":o=o;return this.olLineStringGeometryToCesium(t,e,o,s,i);case"Polygon":o=o;return this.olPolygonGeometryToCesium(t,e,o,s,i);case"MultiPoint":case"MultiLineString":case"MultiPolygon":var d=this.olMultiGeometryToCesium(t,e,o,s,i,n.billboards,u);if(!d){return null}else{return d}case"LinearRing":throw new Error("LinearRing should only be part of polygon.");default:throw new Error("Ol geom type not handled : "+o.getType())}};U.prototype.olVectorLayerToCesium=function(t,e,i){var n=e.getProjection();var r=e.getResolution();if(r===undefined||!n){s["a"].fail("View not ready");throw new Error("View not ready")}var a=t.getSource();if(a instanceof I){a=a.getSource()}s["a"].assertInstanceof(a,C["b"]);var o=a.getFeatures();var u=new G(n,this.scene);var l=u.context;for(var c=0;c<o.length;++c){var h=o[c];if(!h){continue}var f=t.getStyleFunction();var d=this.computePlainStyle(t,h,f,r);if(!d||!d.length){continue}var p=null;for(var v=0;v<d.length;v++){var g=this.olFeatureToCesium(t,h,d[v],l);if(g){if(!p){p=g}else if(g){var m=0,y=void 0;while(y=g.get(m)){p.add(y);m++}}}}if(!p){continue}i[b["c"](h)]=p;u.getRootPrimitive().add(p)}return u};U.prototype.convert=function(t,e,i,n){var r=e.getProjection();var a=e.getResolution();if(a==undefined||!r){return null}var o=t.getStyleFunction();var s=this.computePlainStyle(t,i,o,a);if(!s.length){return null}n.projection=r;var u=null;for(var l=0;l<s.length;l++){var c=this.olFeatureToCesium(t,i,s[l],n);if(!u){u=c}else if(c){var h=0,f=void 0;while(f=c.get(h)){u.add(f);h++}}}return u};var H=U;var W=function t(e,i,n){this.converter=n||new H(i);this.csAllPrimitives_=new Cesium.PrimitiveCollection;i.primitives.add(this.csAllPrimitives_);this.csAllPrimitives_.destroyPrimitives=false;O.call(this,e,i)};b["d"](W,O);W.prototype.addCesiumObject=function(t){s["a"].assert(t);t.getRootPrimitive()["counterpart"]=t;this.csAllPrimitives_.add(t.getRootPrimitive())};W.prototype.destroyCesiumObject=function(t){t.getRootPrimitive().destroy()};W.prototype.removeSingleCesiumObject=function(t,e){t.destroy();this.csAllPrimitives_.destroyPrimitives=e;this.csAllPrimitives_.remove(t.getRootPrimitive());this.csAllPrimitives_.destroyPrimitives=false};W.prototype.removeAllCesiumObjects=function(t){this.csAllPrimitives_.destroyPrimitives=t;if(t){for(var e=0;e<this.csAllPrimitives_.length;++e){this.csAllPrimitives_.get(e)["counterpart"].destroy()}}this.csAllPrimitives_.removeAll();this.csAllPrimitives_.destroyPrimitives=false};W.prototype.updateLayerVisibility=function(t,e){var i=true;[t.layer].concat(t.parents).forEach(function(t){var e=t.getVisible();if(e!==undefined){i&=e}else{i=false}});e.show=i};W.prototype.createSingleLayerCounterparts=function(t){var e=this;var i=t.layer;if(!(i instanceof D["a"])){return null}s["a"].assertInstanceof(i,T["a"]);var n=i.getSource();if(n instanceof I){n=n.getSource()}s["a"].assertInstanceof(n,C["b"]);s["a"].assert(this.view);var r=this.view;var a={};var o=this.converter.olVectorLayerToCesium(i,r,a);var u=o.getRootPrimitive();var c=o.olListenKeys;[t.layer].concat(t.parents).forEach(function(i){c.push(l["a"](i,"change:visible",function(){e.updateLayerVisibility(t,u)}))});this.updateLayerVisibility(t,u);var h=function(t){s["a"].assert(i instanceof D["a"]||i instanceof P["a"]);var e=o.context;var n=this.converter.convert(i,r,t,e);if(n){a[b["c"](t)]=n;u.add(n)}}.bind(this);var f=function(t){var e=b["c"](t);var i=o.context;var n=i.featureToCesiumMap[e];if(n){delete i.featureToCesiumMap[e];n.forEach(function(t){if(t instanceof Cesium.Billboard){i.billboards.remove(t)}})}var r=a[e];delete a[e];if(r){u.remove(r)}}.bind(this);c.push(l["a"](n,"addfeature",function(t){s["a"].assert(t.feature);h(t.feature)},this));c.push(l["a"](n,"removefeature",function(t){s["a"].assert(t.feature);f(t.feature)},this));c.push(l["a"](n,"changefeature",function(t){var e=t.feature;s["a"].assert(e);f(e);h(e)},this));return o?[o]:null};var Y=W;var z=i(150);var V=i(44);var B=function t(e){this.scenePostRenderListenerRemover_=null;this.scene_=e.scene;this.synchronizer_=e.synchronizer;this.parent_=e.parent;this.positionWGS84_=undefined;this.observer_=new MutationObserver(this.handleElementChanged.bind(this));this.attributeObserver_=[];this.listenerKeys_=[];this.listenerKeys_.push(this.parent_.on("change:position",this.setPropertyFromEvent_.bind(this)));this.listenerKeys_.push(this.parent_.on("change:element",this.setPropertyFromEvent_.bind(this)));this.listenerKeys_.push(this.parent_.on("change:offset",this.setPropertyFromEvent_.bind(this)));this.listenerKeys_.push(this.parent_.on("change:position",this.setPropertyFromEvent_.bind(this)));this.listenerKeys_.push(this.parent_.on("change:positioning",this.setPropertyFromEvent_.bind(this)));z["a"].call(this,this.parent_.getOptions());this.setProperties(this.parent_.getProperties());this.handleMapChanged()};b["d"](B,z["a"]);B.prototype.observeTarget_=function(t){this.observer_.disconnect();this.observer_.observe(t,{attributes:false,childList:true,characterData:true,subtree:true});this.attributeObserver_.forEach(function(t){t.disconnect()});this.attributeObserver_.length=0;for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(i.nodeType===1){var n=new MutationObserver(this.handleElementChanged.bind(this));n.observe(i,{attributes:true,subtree:true});this.attributeObserver_.push(n)}}};B.prototype.setPropertyFromEvent_=function(t){if(t.target&&t.key){this.set(t.key,t.target.get(t.key))}};B.prototype.getScene=function(){return this.scene_};B.prototype.handleMapChanged=function(){if(this.scenePostRenderListenerRemover_){this.scenePostRenderListenerRemover_();V["e"](this.element)}this.scenePostRenderListenerRemover_=null;var t=this.getScene();if(t){this.scenePostRenderListenerRemover_=t.postRender.addEventListener(this.updatePixelPosition.bind(this));this.updatePixelPosition();var e=this.stopEvent?this.synchronizer_.getOverlayContainerStopEvent():this.synchronizer_.getOverlayContainer();if(this.insertFirst){e.insertBefore(this.element,e.childNodes[0]||null)}else{e.appendChild(this.element)}}};B.prototype.handlePositionChanged=function(){var t=this.getPosition();if(t){var e=this.parent_.getMap().getView().getProjection();this.positionWGS84_=u["n"](t,e,"EPSG:4326")}else{this.positionWGS84_=undefined}this.updatePixelPosition()};B.prototype.handleElementChanged=function(){function t(e,i){var n=e.cloneNode();if(i){i.appendChild(n)}if(e.nodeType!=Node.TEXT_NODE){n.addEventListener("click",function(t){e.dispatchEvent(new MouseEvent("click",t));t.stopPropagation()})}var r=e.childNodes;for(var a=0;a<r.length;a++){if(!r[a]){continue}t(r[a],n)}return n}V["d"](this.element);var e=this.getElement();if(e){if(e.parentNode&&e.parentNode.childNodes){for(var i=e.parentNode.childNodes,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{r=i.next();if(r.done)break;a=r.value}var o=a;var s=t(o,null);this.element.appendChild(s)}}}if(e.parentNode){this.observeTarget_(e.parentNode)}};B.prototype.updatePixelPosition=function(){var t=this.positionWGS84_;if(!this.scene_||!t){this.setVisible(false);return}var e=void 0;if(t.length===2){e=Cesium.Cartesian3.fromDegreesArray(t)[0]}else{e=Cesium.Cartesian3.fromDegreesArrayHeights(t)[0]}var i=this.scene_.camera;var n=new Cesium.BoundingSphere(new Cesium.Cartesian3,6356752);var r=new Cesium.Occluder(n,i.position);if(!r.isPointVisible(e)){this.setVisible(false);return}var a=i.frustum.computeCullingVolume(i.position,i.direction,i.up);if(a.computeVisibility(new Cesium.BoundingSphere(e))!==1){this.setVisible(false);return}this.setVisible(true);var o=this.scene_.cartesianToCanvasCoordinates(e);var s=[o.x,o.y];var u=[this.scene_.canvas.width,this.scene_.canvas.height];this.updateRenderedPosition(s,u)};B.prototype.destroy=function(){if(this.scenePostRenderListenerRemover_){this.scenePostRenderListenerRemover_()}if(this.observer_){this.observer_.disconnect()}Object(p["b"])(this.listenerKeys_);this.listenerKeys_.splice(0);if(this.element.removeNode){this.element.removeNode(true)}else{this.element.remove()}this.element=null};var q=B;var K=function t(e,i){var n=this;this.map=e;this.overlays_=this.map.getOverlays();this.scene=i;this.overlayContainerStopEvent_=document.createElement("DIV");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";var r=["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"];r.forEach(function(t){l["a"](n.overlayContainerStopEvent_,t,function(t){return t.stopPropagation()})});this.scene.canvas.parentElement.appendChild(this.overlayContainerStopEvent_);this.overlayContainer_=document.createElement("DIV");this.overlayContainer_.className="ol-overlaycontainer";this.scene.canvas.parentElement.appendChild(this.overlayContainer_);this.overlayMap_={}};K.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};K.prototype.getOverlayContainer=function(){return this.overlayContainer_};K.prototype.synchronize=function(){this.destroyAll();this.addOverlays();this.overlays_.on("add",this.addOverlayFromEvent_.bind(this));this.overlays_.on("remove",this.removeOverlayFromEvent_.bind(this))};K.prototype.addOverlayFromEvent_=function(t){var e=t.element;this.addOverlay(e)};K.prototype.addOverlays=function(){var t=this;this.overlays_.forEach(function(e){t.addOverlay()})};K.prototype.addOverlay=function(t){if(!t){return}var e=new q({scene:this.scene,synchronizer:this,parent:t});var i=b["c"](t).toString();this.overlayMap_[i]=e};K.prototype.removeOverlayFromEvent_=function(t){var e=t.element;this.removeOverlay(e)};K.prototype.removeOverlay=function(t){var e=b["c"](t).toString();var i=this.overlayMap_[e];if(i){i.destroy();delete this.overlayMap_[e]}};K.prototype.destroyAll=function(){var t=this;Object.keys(this.overlayMap_).forEach(function(e){var i=t.overlayMap_[e];i.destroy();delete t.overlayMap_[e]})};var X=K;var Z=function t(e){this.autoRenderLoop_=null;this.map_=e.map;this.time_=e.time||function(){return Cesium.JulianDate.now()};this.to4326Transform_=u["j"](this.map_.getView().getProjection(),"EPSG:4326");this.resolutionScale_=1;this.canvasClientWidth_=0;this.canvasClientHeight_=0;this.resolutionScaleChanged_=true;var i="position:absolute;top:0;left:0;width:100%;height:100%;";this.container_=document.createElement("DIV");var n=document.createAttribute("style");n.value=i+"visibility:hidden;";this.container_.setAttributeNode(n);var r=e.target||null;if(r){if(typeof r==="string"){r=document.getElementById(r)}r.appendChild(this.container_)}else{var a=this.map_.getViewport().querySelector(".ol-overlaycontainer");if(a&&a.parentNode){a.parentNode.insertBefore(this.container_,a)}}this.isOverMap_=!r;if(this.isOverMap_&&e.stopOpenLayersEventsPropagation){var o=["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"];for(var s=0,h=o.length;s<h;++s){l["a"](this.container_,o[s],function(t){return t.stopPropagation()})}}this.canvas_=document.createElement("CANVAS");var f=document.createAttribute("style");f.value=i;this.canvas_.setAttributeNode(f);if(c["a"].supportsImageRenderingPixelated()){this.canvas_.style["imageRendering"]=c["a"].imageRenderingValue()}this.canvas_.oncontextmenu=function(){return false};this.canvas_.onselectstart=function(){return false};this.container_.appendChild(this.canvas_);this.enabled_=false;this.pausedInteractions_=[];this.hiddenRootGroup_=null;var d=e.sceneOptions!==undefined?e.sceneOptions:{};d.canvas=this.canvas_;d.scene3DOnly=true;this.scene_=new Cesium.Scene(d);var p=this.scene_.screenSpaceCameraController;p.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT});p.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT});p.enableLook=false;this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z;this.camera_=new m(this.scene_,this.map_);this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84);this.globe_.baseColor=Cesium.Color.WHITE;this.scene_.globe=this.globe_;this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;var v=new Cesium.SingleTileImageryProvider({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",rectangle:Cesium.Rectangle.fromDegrees(0,0,1,1)});this.globe_.imageryLayers.addImageryProvider(v,0);this.dataSourceCollection_=new Cesium.DataSourceCollection;this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,dataSourceCollection:this.dataSourceCollection_});var g=e.createSynchronizers?e.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new S(this.map_,this.scene_),new Y(this.map_,this.scene_),new X(this.map_,this.scene_)];this.handleResize_();for(var y=g.length-1;y>=0;--y){g[y].synchronize()}if(this.isOverMap_){var _=this.canvas_.nextElementSibling;if(_){_.style.display="none"}}this.lastFrameTime_=0;this.renderId_=undefined;this.targetFrameRate_=Number.POSITIVE_INFINITY;this.blockCesiumRendering_=false;this.warmingUp_=false;this.trackedFeature_=null;this.trackedEntity_=null;this.entityView_=null;this.needTrackedEntityUpdate_=false;this.boundingSphereScratch_=new Cesium.BoundingSphere;var b=new Cesium.EventHelper;b.add(this.scene_.postRender,t.prototype.updateTrackedEntity_,this);Cesium.Camera.enableSuspendTerrainAdjustment=false};Object.defineProperties(Z.prototype,{trackedFeature:{get:function t(){return this.trackedFeature_},set:function t(e){if(this.trackedFeature_!==e){var i=this.scene_;if(!e||!e.getGeometry()){this.needTrackedEntityUpdate_=false;i.screenSpaceCameraController.enableTilt=true;if(this.trackedEntity_){this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_)}this.trackedEntity_=null;this.trackedFeature_=null;this.entityView_=null;i.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);return}this.trackedFeature_=e;this.needTrackedEntityUpdate_=true;var n=this.to4326Transform_;var r=function t(){var i=e.getGeometry();s["a"].assertInstanceof(i,o["a"]);var r=i.getCoordinates();var a=n(r,undefined,r.length);return h["a"].ol4326CoordinateToCesiumCartesian(a)};var a={position:new Cesium.CallbackProperty(function(t,e){return r()},false),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(a)}}}});Z.prototype.render_=function(){if(this.renderId_!==undefined){cancelAnimationFrame(this.renderId_);this.renderId_=undefined}if((this.enabled_||this.warmingUp_)&&!this.blockCesiumRendering_){this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this))}};Z.prototype.onAnimationFrame_=function(t){this.renderId_=undefined;var e=1e3/this.targetFrameRate_;var i=t-this.lastFrameTime_;if(i<e){this.render_();return}this.lastFrameTime_=t;var n=this.time_();this.scene_.initializeFrame();this.handleResize_();this.dataSourceDisplay_.update(n);if(this.entityView_){var r=this.trackedEntity_;var a=this.dataSourceDisplay_.getBoundingSphere(r,false,this.boundingSphereScratch_);if(a===Cesium.BoundingSphereState.DONE){this.boundingSphereScratch_.radius=1;this.entityView_.update(n,this.boundingSphereScratch_)}}this.scene_.render(n);this.camera_.checkCameraChange();this.render_()};Z.prototype.updateTrackedEntity_=function(){if(!this.needTrackedEntityUpdate_){return}var t=this.trackedEntity_;var e=this.scene_;var i=this.dataSourceDisplay_.getBoundingSphere(t,false,this.boundingSphereScratch_);if(i===Cesium.BoundingSphereState.PENDING){return}e.screenSpaceCameraController.enableTilt=false;var n=i!==Cesium.BoundingSphereState.FAILED?this.boundingSphereScratch_:undefined;if(n){n.radius=1}this.entityView_=new Cesium.EntityView(t,e,e.mapProjection.ellipsoid);this.entityView_.update(this.time_(),n);this.needTrackedEntityUpdate_=false};Z.prototype.handleResize_=function(){var t=this.canvas_.clientWidth;var e=this.canvas_.clientHeight;if(t===0|e===0){return}if(t===this.canvasClientWidth_&&e===this.canvasClientHeight_&&!this.resolutionScaleChanged_){return}var i=this.resolutionScale_;if(!c["a"].supportsImageRenderingPixelated()){i*=window.devicePixelRatio||1}this.resolutionScaleChanged_=false;this.canvasClientWidth_=t;this.canvasClientHeight_=e;t*=i;e*=i;this.canvas_.width=t;this.canvas_.height=e;this.scene_.camera.frustum.aspectRatio=t/e};Z.prototype.getCamera=function(){return this.camera_};Z.prototype.getOlMap=function(){return this.map_};Z.prototype.getOlView=function(){var t=this.map_.getView();s["a"].assert(t);return t};Z.prototype.getCesiumScene=function(){return this.scene_};Z.prototype.getDataSources=function(){return this.dataSourceCollection_};Z.prototype.getDataSourceDisplay=function(){return this.dataSourceDisplay_};Z.prototype.getEnabled=function(){return this.enabled_};Z.prototype.setEnabled=function(t){var e=this;if(this.enabled_===t){return}this.enabled_=t;this.container_.style.visibility=this.enabled_?"visible":"hidden";var i=void 0;if(this.enabled_){this.throwOnUnitializedMap_();if(this.isOverMap_){i=this.map_.getInteractions();i.forEach(function(t,i,n){e.pausedInteractions_.push(t)});i.clear();var n=this.map_.getLayerGroup();if(n.getVisible()){this.hiddenRootGroup_=n;this.hiddenRootGroup_.setVisible(false)}this.map_.getOverlayContainer().classList.add("olcs-hideoverlay");this.map_.getOverlayContainerStopEvent().classList.add("olcs-hideoverlay")}this.camera_.readFromView();this.render_()}else{if(this.isOverMap_){i=this.map_.getInteractions();this.pausedInteractions_.forEach(function(t){i.push(t)});this.pausedInteractions_.length=0;this.map_.getOverlayContainer().classList.remove("olcs-hideoverlay");this.map_.getOverlayContainerStopEvent().classList.remove("olcs-hideoverlay");if(this.hiddenRootGroup_){this.hiddenRootGroup_.setVisible(true);this.hiddenRootGroup_=null}}this.camera_.updateView()}};Z.prototype.warmUp=function(t,e){var i=this;if(this.enabled_){return}this.throwOnUnitializedMap_();this.camera_.readFromView();var n=this.globe_.ellipsoid;var r=this.scene_.camera;var a=n.cartesianToCartographic(r.position);if(a.height<t){a.height=t;r.position=n.cartographicToCartesian(a)}this.warmingUp_=true;this.render_();setTimeout(function(){i.warmingUp_=false},e)};Z.prototype.setBlockCesiumRendering=function(t){if(this.blockCesiumRendering_!==t){this.blockCesiumRendering_=t;this.render_()}};Z.prototype.enableAutoRenderLoop=function(){if(!this.autoRenderLoop_){this.autoRenderLoop_=new d(this)}};Z.prototype.getAutoRenderLoop=function(){return this.autoRenderLoop_};Z.prototype.setResolutionScale=function(t){t=Math.max(0,t);if(t!==this.resolutionScale_){this.resolutionScale_=Math.max(0,t);this.resolutionScaleChanged_=true;if(this.autoRenderLoop_){this.autoRenderLoop_.restartRenderLoop()}}};Z.prototype.setTargetFrameRate=function(t){if(this.targetFrameRate_!==t){this.targetFrameRate_=t;this.render_()}};Z.prototype.throwOnUnitializedMap_=function(){var t=this.map_;var e=t.getView();var i=e.getCenter();if(!e.isDef()||isNaN(i[0])||isNaN(i[1])){throw new Error("The OpenLayers map is not properly initialized: "+i+" / "+e.getResolution())}};var Q=Z;function J(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function tt(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function et(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var it=function(t){et(e,t);function e(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.map,a=n.cameraExtentInRadians;J(this,e);var o=tt(this,t.call(this));o.cesiumUrl_=i;o.map=r;o.cameraExtentInRadians=a||null;o.boundingSphere_;o.blockLimiter_=false;o.promise_;o.ol3d;o.cesiumInitialTilt_=v["i"](50);o.fogDensity=1e-4;o.fogSSEFactor=25;o.minimumZoomDistance=2;o.maximumZoomDistance=1e7;o.limitCameraToBoundingSphereRatio=function(t){return t>3e3?9:3};return o}e.prototype.load=function t(){var e=this;if(!this.promise_){var i=new a(this.cesiumUrl_);this.promise_=i.load().then(function(){return e.onCesiumLoaded()})}return this.promise_};e.prototype.onCesiumLoaded=function t(){if(this.cameraExtentInRadians){var e=new(Function.prototype.bind.apply(Cesium.Rectangle,[null].concat(this.cameraExtentInRadians)));Cesium.Camera.DEFAULT_VIEW_RECTANGLE=e;this.boundingSphere_=Cesium.BoundingSphere.fromRectangle3D(e,Cesium.Ellipsoid.WGS84,300)}this.ol3d=this.instantiateOLCesium();var i=this.ol3d.getCesiumScene();this.configureForUsability(i);this.configureForPerformance(i);this.dispatchEvent("load");return this.ol3d};e.prototype.instantiateOLCesium=function t(){s["a"].assert(this.map);var e=new Q({map:this.map});var i=e.getCesiumScene();var n=new Cesium.CesiumTerrainProvider({url:"//assets.agi.com/stk-terrain/world"});i.terrainProvider=n;return e};e.prototype.configureForPerformance=function t(e){var i=e.fog;i.enabled=true;i.density=this.fogDensity;i.screenSpaceErrorFactor=this.fogSSEFactor};e.prototype.configureForUsability=function t(e){var i=e.screenSpaceCameraController;i.minimumZoomDistance=this.minimumZoomDistance;i.maximumZoomDistance=this.maximumZoomDistance;e.globe.depthTestAgainstTerrain=true;e.globe.baseColor=Cesium.Color.WHITE;e.backgroundColor=Cesium.Color.WHITE;if(this.boundingSphere_){e.postRender.addEventListener(this.limitCameraToBoundingSphere.bind(this),e)}this.ol3d.enableAutoRenderLoop()};e.prototype.limitCameraToBoundingSphere=function t(){var e=this;if(this.boundingSphere_&&!this.blockLimiter_){var i=this.ol3d.getCesiumScene();var n=i.camera;var r=n.position;var a=Cesium.Cartographic.fromCartesian(r);var o=this.limitCameraToBoundingSphereRatio(a.height);if(Cesium.Cartesian3.distance(this.boundingSphere_.center,r)>this.boundingSphere_.radius*o){var s=n.flying;if(s===true){return}else{this.blockLimiter_=true;var u=function t(){return e.blockLimiter_=false};n.flyToBoundingSphere(this.boundingSphere_,{complete:u,cancel:u})}}}};e.prototype.toggle3d=function t(){var e=this;return this.load().then(function(t){var i=t.getEnabled();var n=t.getCesiumScene();if(i){s["a"].assert(e.map);return h["a"].resetToNorthZenith(e.map,n).then(function(){t.setEnabled(false);e.dispatchEvent("toggle")})}else{t.setEnabled(true);e.dispatchEvent("toggle");return h["a"].rotateAroundBottomCenter(n,e.cesiumInitialTilt_)}})};e.prototype.set3dWithView=function t(e,i,n,r,a){var o=this;return this.load().then(function(t){var s=t.getEnabled();var u=t.getCesiumScene();var l=u.camera;var c=Cesium.Cartesian3.fromDegrees(e,i,n);var h=Cesium.Math.toRadians(r);var f=Cesium.Math.toRadians(a);var d=0;var p={heading:h,pitch:f,roll:d};if(!s){t.setEnabled(true);o.dispatchEvent("toggle")}l.setView({destination:c,orientation:p})})};e.prototype.is3dEnabled=function t(){return!!this.ol3d&&this.ol3d.getEnabled()};e.prototype.getHeading=function t(){return this.map?this.map.getView().getRotation()||0:0};e.prototype.getTiltOnGlobe=function t(){var e=this.ol3d.getCesiumScene();var i=h["a"].computeSignedTiltAngleOnGlobe(e);return-i};e.prototype.setHeading=function t(e){var i=this.ol3d.getCesiumScene();var n=h["a"].pickBottomPoint(i);if(n){h["a"].setHeadingUsingBottomCenter(i,e,n)}};e.prototype.getOl3d=function t(){return this.ol3d};e.prototype.getOlView=function t(){var e=this.map.getView();s["a"].assert(e);return e};e.prototype.getCesiumViewMatrix=function t(){return this.ol3d.getCesiumScene().camera.viewMatrix};e.prototype.getCesiumScene=function t(){return this.ol3d.getCesiumScene()};e.prototype.flyToRectangle=function t(e){var i=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=this.getCesiumScene().camera;var a=r.getRectangleCameraCoordinates(e);var o=Cesium.Cartesian3.magnitude(a)+n;Cesium.Cartesian3.normalize(a,a);Cesium.Cartesian3.multiplyByScalar(a,o,a);return new Promise(function(t,e){if(!i.cameraExtentInRadians){e();return}r.flyTo({destination:a,complete:function e(){return t()},cancel:function t(){return e()},endTransform:Cesium.Matrix4.IDENTITY})})};e.prototype.getCameraExtentRectangle=function t(){if(this.cameraExtentInRadians){return new(Function.prototype.bind.apply(Cesium.Rectangle,[null].concat(this.cameraExtentInRadians)))}};return e}(p["a"]);var nt=e["a"]=it},,function(t,e,i){(function(e){var i;var i;
/*!
    localForage -- Offline Storage, Improved
    Version 1.8.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
/*!
    localForage -- Offline Storage, Improved
    Version 1.8.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
(function(e){if(true){t.exports=e()}else{var i}})(function(){var t,n,r;return function t(e,n,r){function a(s,u){if(!n[s]){if(!e[s]){var l=typeof i=="function"&&i;if(!u&&l)return i(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return a(i?i:t)},h,h.exports,t,e,n,r)}return n[s].exports}var o=typeof i=="function"&&i;for(var s=0;s<r.length;s++)a(r[s]);return a}({1:[function(t,i,n){(function(t){"use strict";var e=t.MutationObserver||t.WebKitMutationObserver;var n;{if(e){var r=0;var a=new e(c);var o=t.document.createTextNode("");a.observe(o,{characterData:true});n=function(){o.data=r=++r%2}}else if(!t.setImmediate&&typeof t.MessageChannel!=="undefined"){var s=new t.MessageChannel;s.port1.onmessage=c;n=function(){s.port2.postMessage(0)}}else if("document"in t&&"onreadystatechange"in t.document.createElement("script")){n=function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c();e.onreadystatechange=null;e.parentNode.removeChild(e);e=null};t.document.documentElement.appendChild(e)}}else{n=function(){setTimeout(c,0)}}}var u;var l=[];function c(){u=true;var t,e;var i=l.length;while(i){e=l;l=[];t=-1;while(++t<i){e[t]()}i=l.length}u=false}i.exports=h;function h(t){if(l.push(t)===1&&!u){n()}}}).call(this,typeof e!=="undefined"?e:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(t,e,i){"use strict";var n=t(1);function r(){}var a={};var o=["REJECTED"];var s=["FULFILLED"];var u=["PENDING"];e.exports=l;function l(t){if(typeof t!=="function"){throw new TypeError("resolver must be a function")}this.state=u;this.queue=[];this.outcome=void 0;if(t!==r){d(this,t)}}l.prototype["catch"]=function(t){return this.then(null,t)};l.prototype.then=function(t,e){if(typeof t!=="function"&&this.state===s||typeof e!=="function"&&this.state===o){return this}var i=new this.constructor(r);if(this.state!==u){var n=this.state===s?t:e;h(i,n,this.outcome)}else{this.queue.push(new c(i,t,e))}return i};function c(t,e,i){this.promise=t;if(typeof e==="function"){this.onFulfilled=e;this.callFulfilled=this.otherCallFulfilled}if(typeof i==="function"){this.onRejected=i;this.callRejected=this.otherCallRejected}}c.prototype.callFulfilled=function(t){a.resolve(this.promise,t)};c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)};c.prototype.callRejected=function(t){a.reject(this.promise,t)};c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)};function h(t,e,i){n(function(){var n;try{n=e(i)}catch(e){return a.reject(t,e)}if(n===t){a.reject(t,new TypeError("Cannot resolve promise with itself"))}else{a.resolve(t,n)}})}a.resolve=function(t,e){var i=p(f,e);if(i.status==="error"){return a.reject(t,i.value)}var n=i.value;if(n){d(t,n)}else{t.state=s;t.outcome=e;var r=-1;var o=t.queue.length;while(++r<o){t.queue[r].callFulfilled(e)}}return t};a.reject=function(t,e){t.state=o;t.outcome=e;var i=-1;var n=t.queue.length;while(++i<n){t.queue[i].callRejected(e)}return t};function f(t){var e=t&&t.then;if(t&&(typeof t==="object"||typeof t==="function")&&typeof e==="function"){return function i(){e.apply(t,arguments)}}}function d(t,e){var i=false;function n(e){if(i){return}i=true;a.reject(t,e)}function r(e){if(i){return}i=true;a.resolve(t,e)}function o(){e(r,n)}var s=p(o);if(s.status==="error"){n(s.value)}}function p(t,e){var i={};try{i.value=t(e);i.status="success"}catch(t){i.status="error";i.value=t}return i}l.resolve=v;function v(t){if(t instanceof this){return t}return a.resolve(new this(r),t)}l.reject=g;function g(t){var e=new this(r);return a.reject(e,t)}l.all=m;function m(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var i=t.length;var n=false;if(!i){return this.resolve([])}var o=new Array(i);var s=0;var u=-1;var l=new this(r);while(++u<i){c(t[u],u)}return l;function c(t,r){e.resolve(t).then(u,function(t){if(!n){n=true;a.reject(l,t)}});function u(t){o[r]=t;if(++s===i&&!n){n=true;a.resolve(l,o)}}}}l.race=y;function y(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var i=t.length;var n=false;if(!i){return this.resolve([])}var o=-1;var s=new this(r);while(++o<i){u(t[o])}return s;function u(t){e.resolve(t).then(function(t){if(!n){n=true;a.resolve(s,t)}},function(t){if(!n){n=true;a.reject(s,t)}})}}},{1:1}],3:[function(t,i,n){(function(e){"use strict";if(typeof e.Promise!=="function"){e.Promise=t(2)}}).call(this,typeof e!=="undefined"?e:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{2:2}],4:[function(t,e,i){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function a(){try{if(typeof indexedDB!=="undefined"){return indexedDB}if(typeof webkitIndexedDB!=="undefined"){return webkitIndexedDB}if(typeof mozIndexedDB!=="undefined"){return mozIndexedDB}if(typeof OIndexedDB!=="undefined"){return OIndexedDB}if(typeof msIndexedDB!=="undefined"){return msIndexedDB}}catch(t){return}}var o=a();function s(){try{if(!o||!o.open){return false}var t=typeof openDatabase!=="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var e=typeof fetch==="function"&&fetch.toString().indexOf("[native code")!==-1;return(!t||e)&&typeof indexedDB!=="undefined"&&typeof IDBKeyRange!=="undefined"}catch(t){return false}}function u(t,e){t=t||[];e=e||{};try{return new Blob(t,e)}catch(a){if(a.name!=="TypeError"){throw a}var i=typeof BlobBuilder!=="undefined"?BlobBuilder:typeof MSBlobBuilder!=="undefined"?MSBlobBuilder:typeof MozBlobBuilder!=="undefined"?MozBlobBuilder:WebKitBlobBuilder;var n=new i;for(var r=0;r<t.length;r+=1){n.append(t[r])}return n.getBlob(e.type)}}if(typeof Promise==="undefined"){t(3)}var l=Promise;function c(t,e){if(e){t.then(function(t){e(null,t)},function(t){e(t)})}}function h(t,e,i){if(typeof e==="function"){t.then(e)}if(typeof i==="function"){t["catch"](i)}}function f(t){if(typeof t!=="string"){console.warn(t+" used as a key, but it is not a string.");t=String(t)}return t}function d(){if(arguments.length&&typeof arguments[arguments.length-1]==="function"){return arguments[arguments.length-1]}}var p="local-forage-detect-blob-support";var v=void 0;var g={};var m=Object.prototype.toString;var y="readonly";var _="readwrite";function b(t){var e=t.length;var i=new ArrayBuffer(e);var n=new Uint8Array(i);for(var r=0;r<e;r++){n[r]=t.charCodeAt(r)}return i}function w(t){return new l(function(e){var i=t.transaction(p,_);var n=u([""]);i.objectStore(p).put(n,"key");i.onabort=function(t){t.preventDefault();t.stopPropagation();e(false)};i.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/);var i=navigator.userAgent.match(/Edge\//);e(i||!t||parseInt(t[1],10)>=43)}})["catch"](function(){return false})}function O(t){if(typeof v==="boolean"){return l.resolve(v)}return w(t).then(function(t){v=t;return v})}function x(t){var e=g[t.name];var i={};i.promise=new l(function(t,e){i.resolve=t;i.reject=e});e.deferredOperations.push(i);if(!e.dbReady){e.dbReady=i.promise}else{e.dbReady=e.dbReady.then(function(){return i.promise})}}function S(t){var e=g[t.name];var i=e.deferredOperations.pop();if(i){i.resolve();return i.promise}}function C(t,e){var i=g[t.name];var n=i.deferredOperations.pop();if(n){n.reject(e);return n.promise}}function T(t,e){return new l(function(i,n){g[t.name]=g[t.name]||N();if(t.db){if(e){x(t);t.db.close()}else{return i(t.db)}}var r=[t.name];if(e){r.push(t.version)}var a=o.open.apply(o,r);if(e){a.onupgradeneeded=function(e){var i=a.result;try{i.createObjectStore(t.storeName);if(e.oldVersion<=1){i.createObjectStore(p)}}catch(i){if(i.name==="ConstraintError"){console.warn('The database "'+t.name+'"'+" has been upgraded from version "+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}else{throw i}}}}a.onerror=function(t){t.preventDefault();n(a.error)};a.onsuccess=function(){i(a.result);S(t)}})}function E(t){return T(t,false)}function M(t){return T(t,true)}function j(t,e){if(!t.db){return true}var i=!t.db.objectStoreNames.contains(t.storeName);var n=t.version<t.db.version;var r=t.version>t.db.version;if(n){if(t.version!==e){console.warn('The database "'+t.name+'"'+" can't be downgraded from version "+t.db.version+" to version "+t.version+".")}t.version=t.db.version}if(r||i){if(i){var a=t.db.version+1;if(a>t.version){t.version=a}}return true}return false}function k(t){return new l(function(e,i){var n=new FileReader;n.onerror=i;n.onloadend=function(i){var n=btoa(i.target.result||"");e({__local_forage_encoded_blob:true,data:n,type:t.type})};n.readAsBinaryString(t)})}function R(t){var e=b(atob(t.data));return u([e],{type:t.type})}function A(t){return t&&t.__local_forage_encoded_blob}function I(t){var e=this;var i=e._initReady().then(function(){var t=g[e._dbInfo.name];if(t&&t.dbReady){return t.dbReady}});h(i,t,t);return i}function P(t){x(t);var e=g[t.name];var i=e.forages;for(var n=0;n<i.length;n++){var r=i[n];if(r._dbInfo.db){r._dbInfo.db.close();r._dbInfo.db=null}}t.db=null;return E(t).then(function(e){t.db=e;if(j(t)){return M(t)}return e}).then(function(n){t.db=e.db=n;for(var r=0;r<i.length;r++){i[r]._dbInfo.db=n}})["catch"](function(e){C(t,e);throw e})}function D(t,e,i,n){if(n===undefined){n=1}try{var r=t.db.transaction(t.storeName,e);i(null,r)}catch(r){if(n>0&&(!t.db||r.name==="InvalidStateError"||r.name==="NotFoundError")){return l.resolve().then(function(){if(!t.db||r.name==="NotFoundError"&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version){if(t.db){t.version=t.db.version+1}return M(t)}}).then(function(){return P(t).then(function(){D(t,e,i,n-1)})})["catch"](i)}i(r)}}function N(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function $(t){var e=this;var i={db:null};if(t){for(var n in t){i[n]=t[n]}}var r=g[i.name];if(!r){r=N();g[i.name]=r}r.forages.push(e);if(!e._initReady){e._initReady=e.ready;e.ready=I}var a=[];function o(){return l.resolve()}for(var s=0;s<r.forages.length;s++){var u=r.forages[s];if(u!==e){a.push(u._initReady()["catch"](o))}}var c=r.forages.slice(0);return l.all(a).then(function(){i.db=r.db;return E(i)}).then(function(t){i.db=t;if(j(i,e._defaultConfig.version)){return M(i)}return t}).then(function(t){i.db=r.db=t;e._dbInfo=i;for(var n=0;n<c.length;n++){var a=c[n];if(a!==e){a._dbInfo.db=i.db;a._dbInfo.version=i.version}}})}function L(t,e){var i=this;t=f(t);var n=new l(function(e,n){i.ready().then(function(){D(i._dbInfo,y,function(r,a){if(r){return n(r)}try{var o=a.objectStore(i._dbInfo.storeName);var s=o.get(t);s.onsuccess=function(){var t=s.result;if(t===undefined){t=null}if(A(t)){t=R(t)}e(t)};s.onerror=function(){n(s.error)}}catch(t){n(t)}})})["catch"](n)});c(n,e);return n}function F(t,e){var i=this;var n=new l(function(e,n){i.ready().then(function(){D(i._dbInfo,y,function(r,a){if(r){return n(r)}try{var o=a.objectStore(i._dbInfo.storeName);var s=o.openCursor();var u=1;s.onsuccess=function(){var i=s.result;if(i){var n=i.value;if(A(n)){n=R(n)}var r=t(n,i.key,u++);if(r!==void 0){e(r)}else{i["continue"]()}}else{e()}};s.onerror=function(){n(s.error)}}catch(t){n(t)}})})["catch"](n)});c(n,e);return n}function G(t,e,i){var n=this;t=f(t);var r=new l(function(i,r){var a;n.ready().then(function(){a=n._dbInfo;if(m.call(e)==="[object Blob]"){return O(a.db).then(function(t){if(t){return e}return k(e)})}return e}).then(function(e){D(n._dbInfo,_,function(a,o){if(a){return r(a)}try{var s=o.objectStore(n._dbInfo.storeName);if(e===null){e=undefined}var u=s.put(e,t);o.oncomplete=function(){if(e===undefined){e=null}i(e)};o.onabort=o.onerror=function(){var t=u.error?u.error:u.transaction.error;r(t)}}catch(t){r(t)}})})["catch"](r)});c(r,i);return r}function U(t,e){var i=this;t=f(t);var n=new l(function(e,n){i.ready().then(function(){D(i._dbInfo,_,function(r,a){if(r){return n(r)}try{var o=a.objectStore(i._dbInfo.storeName);var s=o["delete"](t);a.oncomplete=function(){e()};a.onerror=function(){n(s.error)};a.onabort=function(){var t=s.error?s.error:s.transaction.error;n(t)}}catch(t){n(t)}})})["catch"](n)});c(n,e);return n}function H(t){var e=this;var i=new l(function(t,i){e.ready().then(function(){D(e._dbInfo,_,function(n,r){if(n){return i(n)}try{var a=r.objectStore(e._dbInfo.storeName);var o=a.clear();r.oncomplete=function(){t()};r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;i(t)}}catch(t){i(t)}})})["catch"](i)});c(i,t);return i}function W(t){var e=this;var i=new l(function(t,i){e.ready().then(function(){D(e._dbInfo,y,function(n,r){if(n){return i(n)}try{var a=r.objectStore(e._dbInfo.storeName);var o=a.count();o.onsuccess=function(){t(o.result)};o.onerror=function(){i(o.error)}}catch(t){i(t)}})})["catch"](i)});c(i,t);return i}function Y(t,e){var i=this;var n=new l(function(e,n){if(t<0){e(null);return}i.ready().then(function(){D(i._dbInfo,y,function(r,a){if(r){return n(r)}try{var o=a.objectStore(i._dbInfo.storeName);var s=false;var u=o.openKeyCursor();u.onsuccess=function(){var i=u.result;if(!i){e(null);return}if(t===0){e(i.key)}else{if(!s){s=true;i.advance(t)}else{e(i.key)}}};u.onerror=function(){n(u.error)}}catch(t){n(t)}})})["catch"](n)});c(n,e);return n}function z(t){var e=this;var i=new l(function(t,i){e.ready().then(function(){D(e._dbInfo,y,function(n,r){if(n){return i(n)}try{var a=r.objectStore(e._dbInfo.storeName);var o=a.openKeyCursor();var s=[];o.onsuccess=function(){var e=o.result;if(!e){t(s);return}s.push(e.key);e["continue"]()};o.onerror=function(){i(o.error)}}catch(t){i(t)}})})["catch"](i)});c(i,t);return i}function V(t,e){e=d.apply(this,arguments);var i=this.config();t=typeof t!=="function"&&t||{};if(!t.name){t.name=t.name||i.name;t.storeName=t.storeName||i.storeName}var n=this;var r;if(!t.name){r=l.reject("Invalid arguments")}else{var a=t.name===i.name&&n._dbInfo.db;var s=a?l.resolve(n._dbInfo.db):E(t).then(function(e){var i=g[t.name];var n=i.forages;i.db=e;for(var r=0;r<n.length;r++){n[r]._dbInfo.db=e}return e});if(!t.storeName){r=s.then(function(e){x(t);var i=g[t.name];var n=i.forages;e.close();for(var r=0;r<n.length;r++){var a=n[r];a._dbInfo.db=null}var s=new l(function(e,i){var n=o.deleteDatabase(t.name);n.onerror=n.onblocked=function(t){var e=n.result;if(e){e.close()}i(t)};n.onsuccess=function(){var t=n.result;if(t){t.close()}e(t)}});return s.then(function(t){i.db=t;for(var e=0;e<n.length;e++){var r=n[e];S(r._dbInfo)}})["catch"](function(e){(C(t,e)||l.resolve())["catch"](function(){});throw e})})}else{r=s.then(function(e){if(!e.objectStoreNames.contains(t.storeName)){return}var i=e.version+1;x(t);var n=g[t.name];var r=n.forages;e.close();for(var a=0;a<r.length;a++){var s=r[a];s._dbInfo.db=null;s._dbInfo.version=i}var u=new l(function(e,n){var r=o.open(t.name,i);r.onerror=function(t){var e=r.result;e.close();n(t)};r.onupgradeneeded=function(){var e=r.result;e.deleteObjectStore(t.storeName)};r.onsuccess=function(){var t=r.result;t.close();e(t)}});return u.then(function(t){n.db=t;for(var e=0;e<r.length;e++){var i=r[e];i._dbInfo.db=t;S(i._dbInfo)}})["catch"](function(e){(C(t,e)||l.resolve())["catch"](function(){});throw e})})}}c(r,e);return r}var B={_driver:"asyncStorage",_initStorage:$,_support:s(),iterate:F,getItem:L,setItem:G,removeItem:U,clear:H,length:W,key:Y,keys:z,dropInstance:V};function q(){return typeof openDatabase==="function"}var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var X="~~local_forage_type~";var Z=/^~~local_forage_type~([^~]+)~/;var Q="__lfsc__:";var J=Q.length;var tt="arbf";var et="blob";var it="si08";var nt="ui08";var rt="uic8";var at="si16";var ot="si32";var st="ur16";var ut="ui32";var lt="fl32";var ct="fl64";var ht=J+tt.length;var ft=Object.prototype.toString;function dt(t){var e=t.length*.75;var i=t.length;var n;var r=0;var a,o,s,u;if(t[t.length-1]==="="){e--;if(t[t.length-2]==="="){e--}}var l=new ArrayBuffer(e);var c=new Uint8Array(l);for(n=0;n<i;n+=4){a=K.indexOf(t[n]);o=K.indexOf(t[n+1]);s=K.indexOf(t[n+2]);u=K.indexOf(t[n+3]);c[r++]=a<<2|o>>4;c[r++]=(o&15)<<4|s>>2;c[r++]=(s&3)<<6|u&63}return l}function pt(t){var e=new Uint8Array(t);var i="";var n;for(n=0;n<e.length;n+=3){i+=K[e[n]>>2];i+=K[(e[n]&3)<<4|e[n+1]>>4];i+=K[(e[n+1]&15)<<2|e[n+2]>>6];i+=K[e[n+2]&63]}if(e.length%3===2){i=i.substring(0,i.length-1)+"="}else if(e.length%3===1){i=i.substring(0,i.length-2)+"=="}return i}function vt(t,e){var i="";if(t){i=ft.call(t)}if(t&&(i==="[object ArrayBuffer]"||t.buffer&&ft.call(t.buffer)==="[object ArrayBuffer]")){var n;var r=Q;if(t instanceof ArrayBuffer){n=t;r+=tt}else{n=t.buffer;if(i==="[object Int8Array]"){r+=it}else if(i==="[object Uint8Array]"){r+=nt}else if(i==="[object Uint8ClampedArray]"){r+=rt}else if(i==="[object Int16Array]"){r+=at}else if(i==="[object Uint16Array]"){r+=st}else if(i==="[object Int32Array]"){r+=ot}else if(i==="[object Uint32Array]"){r+=ut}else if(i==="[object Float32Array]"){r+=lt}else if(i==="[object Float64Array]"){r+=ct}else{e(new Error("Failed to get type for BinaryArray"))}}e(r+pt(n))}else if(i==="[object Blob]"){var a=new FileReader;a.onload=function(){var i=X+t.type+"~"+pt(this.result);e(Q+et+i)};a.readAsArrayBuffer(t)}else{try{e(JSON.stringify(t))}catch(i){console.error("Couldn't convert value into a JSON string: ",t);e(null,i)}}}function gt(t){if(t.substring(0,J)!==Q){return JSON.parse(t)}var e=t.substring(ht);var i=t.substring(J,ht);var n;if(i===et&&Z.test(e)){var r=e.match(Z);n=r[1];e=e.substring(r[0].length)}var a=dt(e);switch(i){case tt:return a;case et:return u([a],{type:n});case it:return new Int8Array(a);case nt:return new Uint8Array(a);case rt:return new Uint8ClampedArray(a);case at:return new Int16Array(a);case st:return new Uint16Array(a);case ot:return new Int32Array(a);case ut:return new Uint32Array(a);case lt:return new Float32Array(a);case ct:return new Float64Array(a);default:throw new Error("Unkown type: "+i)}}var mt={serialize:vt,deserialize:gt,stringToBuffer:dt,bufferToString:pt};function yt(t,e,i,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" "+"(id INTEGER PRIMARY KEY, key unique, value)",[],i,n)}function _t(t){var e=this;var i={db:null};if(t){for(var n in t){i[n]=typeof t[n]!=="string"?t[n].toString():t[n]}}var r=new l(function(t,n){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(t){return n(t)}i.db.transaction(function(r){yt(r,i,function(){e._dbInfo=i;t()},function(t,e){n(e)})},n)});i.serializer=mt;return r}function bt(t,e,i,n,r,a){t.executeSql(i,n,r,function(t,o){if(o.code===o.SYNTAX_ERR){t.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name = ?",[e.storeName],function(t,s){if(!s.rows.length){yt(t,e,function(){t.executeSql(i,n,r,a)},a)}else{a(t,o)}},a)}else{a(t,o)}},a)}function wt(t,e){var i=this;t=f(t);var n=new l(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){bt(i,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],function(t,i){var n=i.rows.length?i.rows.item(0).value:null;if(n){n=r.serializer.deserialize(n)}e(n)},function(t,e){n(e)})})})["catch"](n)});c(n,e);return n}function Ot(t,e){var i=this;var n=new l(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){bt(i,r,"SELECT * FROM "+r.storeName,[],function(i,n){var a=n.rows;var o=a.length;for(var s=0;s<o;s++){var u=a.item(s);var l=u.value;if(l){l=r.serializer.deserialize(l)}l=t(l,u.key,s+1);if(l!==void 0){e(l);return}}e()},function(t,e){n(e)})})})["catch"](n)});c(n,e);return n}function xt(t,e,i,n){var r=this;t=f(t);var a=new l(function(a,o){r.ready().then(function(){if(e===undefined){e=null}var s=e;var u=r._dbInfo;u.serializer.serialize(e,function(e,l){if(l){o(l)}else{u.db.transaction(function(i){bt(i,u,"INSERT OR REPLACE INTO "+u.storeName+" "+"(key, value) VALUES (?, ?)",[t,e],function(){a(s)},function(t,e){o(e)})},function(e){if(e.code===e.QUOTA_ERR){if(n>0){a(xt.apply(r,[t,s,i,n-1]));return}o(e)}})}})})["catch"](o)});c(a,i);return a}function St(t,e,i){return xt.apply(this,[t,e,i,1])}function Ct(t,e){var i=this;t=f(t);var n=new l(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){bt(i,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){n(e)})})})["catch"](n)});c(n,e);return n}function Tt(t){var e=this;var i=new l(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){bt(e,n,"DELETE FROM "+n.storeName,[],function(){t()},function(t,e){i(e)})})})["catch"](i)});c(i,t);return i}function Et(t){var e=this;var i=new l(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){bt(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(e,i){var n=i.rows.item(0).c;t(n)},function(t,e){i(e)})})})["catch"](i)});c(i,t);return i}function Mt(t,e){var i=this;var n=new l(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){bt(i,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,i){var n=i.rows.length?i.rows.item(0).key:null;e(n)},function(t,e){n(e)})})})["catch"](n)});c(n,e);return n}function jt(t){var e=this;var i=new l(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){bt(e,n,"SELECT key FROM "+n.storeName,[],function(e,i){var n=[];for(var r=0;r<i.rows.length;r++){n.push(i.rows.item(r).key)}t(n)},function(t,e){i(e)})})})["catch"](i)});c(i,t);return i}function kt(t){return new l(function(e,i){t.transaction(function(n){n.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(i,n){var r=[];for(var a=0;a<n.rows.length;a++){r.push(n.rows.item(a).name)}e({db:t,storeNames:r})},function(t,e){i(e)})},function(t){i(t)})})}function Rt(t,e){e=d.apply(this,arguments);var i=this.config();t=typeof t!=="function"&&t||{};if(!t.name){t.name=t.name||i.name;t.storeName=t.storeName||i.storeName}var n=this;var r;if(!t.name){r=l.reject("Invalid arguments")}else{r=new l(function(e){var r;if(t.name===i.name){r=n._dbInfo.db}else{r=openDatabase(t.name,"","",0)}if(!t.storeName){e(kt(r))}else{e({db:r,storeNames:[t.storeName]})}}).then(function(t){return new l(function(e,i){t.db.transaction(function(n){function r(t){return new l(function(e,i){n.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){i(e)})})}var a=[];for(var o=0,s=t.storeNames.length;o<s;o++){a.push(r(t.storeNames[o]))}l.all(a).then(function(){e()})["catch"](function(t){i(t)})},function(t){i(t)})})})}c(r,e);return r}var At={_driver:"webSQLStorage",_initStorage:_t,_support:q(),iterate:Ot,getItem:wt,setItem:St,removeItem:Ct,clear:Tt,length:Et,key:Mt,keys:jt,dropInstance:Rt};function It(){try{return typeof localStorage!=="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return false}}function Pt(t,e){var i=t.name+"/";if(t.storeName!==e.storeName){i+=t.storeName+"/"}return i}function Dt(){var t="_localforage_support_test";try{localStorage.setItem(t,true);localStorage.removeItem(t);return false}catch(t){return true}}function Nt(){return!Dt()||localStorage.length>0}function $t(t){var e=this;var i={};if(t){for(var n in t){i[n]=t[n]}}i.keyPrefix=Pt(t,e._defaultConfig);if(!Nt()){return l.reject()}e._dbInfo=i;i.serializer=mt;return l.resolve()}function Lt(t){var e=this;var i=e.ready().then(function(){var t=e._dbInfo.keyPrefix;for(var i=localStorage.length-1;i>=0;i--){var n=localStorage.key(i);if(n.indexOf(t)===0){localStorage.removeItem(n)}}});c(i,t);return i}function Ft(t,e){var i=this;t=f(t);var n=i.ready().then(function(){var e=i._dbInfo;var n=localStorage.getItem(e.keyPrefix+t);if(n){n=e.serializer.deserialize(n)}return n});c(n,e);return n}function Gt(t,e){var i=this;var n=i.ready().then(function(){var e=i._dbInfo;var n=e.keyPrefix;var r=n.length;var a=localStorage.length;var o=1;for(var s=0;s<a;s++){var u=localStorage.key(s);if(u.indexOf(n)!==0){continue}var l=localStorage.getItem(u);if(l){l=e.serializer.deserialize(l)}l=t(l,u.substring(r),o++);if(l!==void 0){return l}}});c(n,e);return n}function Ut(t,e){var i=this;var n=i.ready().then(function(){var e=i._dbInfo;var n;try{n=localStorage.key(t)}catch(t){n=null}if(n){n=n.substring(e.keyPrefix.length)}return n});c(n,e);return n}function Ht(t){var e=this;var i=e.ready().then(function(){var t=e._dbInfo;var i=localStorage.length;var n=[];for(var r=0;r<i;r++){var a=localStorage.key(r);if(a.indexOf(t.keyPrefix)===0){n.push(a.substring(t.keyPrefix.length))}}return n});c(i,t);return i}function Wt(t){var e=this;var i=e.keys().then(function(t){return t.length});c(i,t);return i}function Yt(t,e){var i=this;t=f(t);var n=i.ready().then(function(){var e=i._dbInfo;localStorage.removeItem(e.keyPrefix+t)});c(n,e);return n}function zt(t,e,i){var n=this;t=f(t);var r=n.ready().then(function(){if(e===undefined){e=null}var i=e;return new l(function(r,a){var o=n._dbInfo;o.serializer.serialize(e,function(e,n){if(n){a(n)}else{try{localStorage.setItem(o.keyPrefix+t,e);r(i)}catch(t){if(t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"){a(t)}a(t)}}})})});c(r,i);return r}function Vt(t,e){e=d.apply(this,arguments);t=typeof t!=="function"&&t||{};if(!t.name){var i=this.config();t.name=t.name||i.name;t.storeName=t.storeName||i.storeName}var n=this;var r;if(!t.name){r=l.reject("Invalid arguments")}else{r=new l(function(e){if(!t.storeName){e(t.name+"/")}else{e(Pt(t,n._defaultConfig))}}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var i=localStorage.key(e);if(i.indexOf(t)===0){localStorage.removeItem(i)}}})}c(r,e);return r}var Bt={_driver:"localStorageWrapper",_initStorage:$t,_support:It(),iterate:Gt,getItem:Ft,setItem:zt,removeItem:Yt,clear:Lt,length:Wt,key:Ut,keys:Ht,dropInstance:Vt};var qt=function t(e,i){return e===i||typeof e==="number"&&typeof i==="number"&&isNaN(e)&&isNaN(i)};var Kt=function t(e,i){var n=e.length;var r=0;while(r<n){if(qt(e[r],i)){return true}r++}return false};var Xt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};var Zt={};var Qt={};var Jt={INDEXEDDB:B,WEBSQL:At,LOCALSTORAGE:Bt};var te=[Jt.INDEXEDDB._driver,Jt.WEBSQL._driver,Jt.LOCALSTORAGE._driver];var ee=["dropInstance"];var ie=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ee);var ne={description:"",driver:te.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function re(t,e){t[e]=function(){var i=arguments;return t.ready().then(function(){return t[e].apply(t,i)})}}function ae(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e){for(var i in e){if(e.hasOwnProperty(i)){if(Xt(e[i])){arguments[0][i]=e[i].slice()}else{arguments[0][i]=e[i]}}}}}return arguments[0]}var oe=function(){function t(e){r(this,t);for(var i in Jt){if(Jt.hasOwnProperty(i)){var n=Jt[i];var a=n._driver;this[i]=a;if(!Zt[a]){this.defineDriver(n)}}}this._defaultConfig=ae({},ne);this._config=ae({},this._defaultConfig,e);this._driverSet=null;this._initDriver=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"](function(){})}t.prototype.config=function t(e){if((typeof e==="undefined"?"undefined":n(e))==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var i in e){if(i==="storeName"){e[i]=e[i].replace(/\W/g,"_")}if(i==="version"&&typeof e[i]!=="number"){return new Error("Database version must be a number.")}this._config[i]=e[i]}if("driver"in e&&e.driver){return this.setDriver(this._config.driver)}return true}else if(typeof e==="string"){return this._config[e]}else{return this._config}};t.prototype.defineDriver=function t(e,i,n){var r=new l(function(t,i){try{var n=e._driver;var r=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");if(!e._driver){i(r);return}var a=ie.concat("_initStorage");for(var o=0,s=a.length;o<s;o++){var u=a[o];var h=!Kt(ee,u);if((h||e[u])&&typeof e[u]!=="function"){i(r);return}}var f=function t(){var i=function t(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver");var i=l.reject(t);c(i,arguments[arguments.length-1]);return i}};for(var n=0,r=ee.length;n<r;n++){var a=ee[n];if(!e[a]){e[a]=i(a)}}};f();var d=function i(r){if(Zt[n]){console.info("Redefining LocalForage driver: "+n)}Zt[n]=e;Qt[n]=r;t()};if("_support"in e){if(e._support&&typeof e._support==="function"){e._support().then(d,i)}else{d(!!e._support)}}else{d(true)}}catch(t){i(t)}});h(r,i,n);return r};t.prototype.driver=function t(){return this._driver||null};t.prototype.getDriver=function t(e,i,n){var r=Zt[e]?l.resolve(Zt[e]):l.reject(new Error("Driver not found."));h(r,i,n);return r};t.prototype.getSerializer=function t(e){var i=l.resolve(mt);h(i,e);return i};t.prototype.ready=function t(e){var i=this;var n=i._driverSet.then(function(){if(i._ready===null){i._ready=i._initDriver()}return i._ready});h(n,e,e);return n};t.prototype.setDriver=function t(e,i,n){var r=this;if(!Xt(e)){e=[e]}var a=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function s(t){r._extend(t);o();r._ready=r._initStorage(r._config);return r._ready}function u(t){return function(){var e=0;function i(){while(e<t.length){var n=t[e];e++;r._dbInfo=null;r._ready=null;return r.getDriver(n).then(s)["catch"](i)}o();var a=new Error("No available storage method found.");r._driverSet=l.reject(a);return r._driverSet}return i()}}var c=this._driverSet!==null?this._driverSet["catch"](function(){return l.resolve()}):l.resolve();this._driverSet=c.then(function(){var t=a[0];r._dbInfo=null;r._ready=null;return r.getDriver(t).then(function(t){r._driver=t._driver;o();r._wrapLibraryMethodsWithReady();r._initDriver=u(a)})})["catch"](function(){o();var t=new Error("No available storage method found.");r._driverSet=l.reject(t);return r._driverSet});h(this._driverSet,i,n);return this._driverSet};t.prototype.supports=function t(e){return!!Qt[e]};t.prototype._extend=function t(e){ae(this,e)};t.prototype._getSupportedDrivers=function t(e){var i=[];for(var n=0,r=e.length;n<r;n++){var a=e[n];if(this.supports(a)){i.push(a)}}return i};t.prototype._wrapLibraryMethodsWithReady=function t(){for(var e=0,i=ie.length;e<i;e++){re(this,ie[e])}};t.prototype.createInstance=function e(i){return new t(i)};return t}();var se=new oe;e.exports=se},{3:3}]},{},[4])(4)})}).call(this,i(236))},,,function(t,e,i){"use strict";var n=i(1);var r=i(3);var a=i(10);var o=i(30);var s=i(59);var u=i(7);var l="projection";var c="coordinateFormat";var h=function t(e){var i=e?e:{};var n=document.createElement("DIV");n.className=i.className!==undefined?i.className:"ol-mouse-position";s["a"].call(this,{element:n,render:i.render||f,target:i.target});Object(r["a"])(this,Object(o["b"])(l),this.handleProjectionChanged_,this);if(i.coordinateFormat){this.setCoordinateFormat(i.coordinateFormat)}if(i.projection){this.setProjection(i.projection)}this.undefinedHTML_="undefinedHTML"in i?i.undefinedHTML:"&nbsp;";this.renderOnMouseOut_=!!this.undefinedHTML_;this.renderedHTML_=n.innerHTML;this.mapProjection_=null;this.transform_=null;this.lastMouseMovePixel_=null};Object(n["d"])(h,s["a"]);function f(t){var e=t.frameState;if(!e){this.mapProjection_=null}else{if(this.mapProjection_!=e.viewState.projection){this.mapProjection_=e.viewState.projection;this.transform_=null}}this.updateHTML_(this.lastMouseMovePixel_)}h.prototype.handleProjectionChanged_=function(){this.transform_=null};h.prototype.getCoordinateFormat=function(){return this.get(c)};h.prototype.getProjection=function(){return this.get(l)};h.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t);this.updateHTML_(this.lastMouseMovePixel_)};h.prototype.handleMouseOut=function(t){this.updateHTML_(null);this.lastMouseMovePixel_=null};h.prototype.setMap=function(t){s["a"].prototype.setMap.call(this,t);if(t){var e=t.getViewport();this.listenerKeys.push(Object(r["a"])(e,a["a"].MOUSEMOVE,this.handleMouseMove,this));if(this.renderOnMouseOut_){this.listenerKeys.push(Object(r["a"])(e,a["a"].MOUSEOUT,this.handleMouseOut,this))}}};h.prototype.setCoordinateFormat=function(t){this.set(c,t)};h.prototype.setProjection=function(t){this.set(l,Object(u["h"])(t))};h.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();if(i){this.transform_=Object(u["k"])(this.mapProjection_,i)}else{this.transform_=u["l"]}}var n=this.getMap();var r=n.getCoordinateFromPixel(t);if(r){this.transform_(r,r);var a=this.getCoordinateFormat();if(a){e=a(r)}else{e=r.toString()}}}if(!this.renderedHTML_||e!==this.renderedHTML_){this.element.innerHTML=e;this.renderedHTML_=e}};e["a"]=h},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";function e(t){return+t}function i(t){return t*t}function n(t){return t*(2-t)}function r(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function a(t){return t*t*t}function o(t){return--t*t*t+1}function s(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var u=3;var l=function t(e){e=+e;function i(t){return Math.pow(t,e)}i.exponent=t;return i}(u);var c=function t(e){e=+e;function i(t){return 1-Math.pow(1-t,e)}i.exponent=t;return i}(u);var h=function t(e){e=+e;function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}i.exponent=t;return i}(u);var f=Math.PI,d=f/2;function p(t){return 1-Math.cos(t*d)}function v(t){return Math.sin(t*d)}function g(t){return(1-Math.cos(f*t))/2}function m(t){return Math.pow(2,10*t-10)}function y(t){return 1-Math.pow(2,-10*t)}function _(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function b(t){return 1-Math.sqrt(1-t*t)}function w(t){return Math.sqrt(1- --t*t)}function O(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var x=4/11,S=6/11,C=8/11,T=3/4,E=9/11,M=10/11,j=15/16,k=21/22,R=63/64,A=1/x/x;function I(t){return 1-P(1-t)}function P(t){return(t=+t)<x?A*t*t:t<C?A*(t-=S)*t+T:t<M?A*(t-=E)*t+j:A*(t-=k)*t+R}function D(t){return((t*=2)<=1?1-P(1-t):P(t-1)+1)/2}var N=1.70158;var $=function t(e){e=+e;function i(t){return t*t*((e+1)*t-e)}i.overshoot=t;return i}(N);var L=function t(e){e=+e;function i(t){return--t*t*((e+1)*t+e)+1}i.overshoot=t;return i}(N);var F=function t(e){e=+e;function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}i.overshoot=t;return i}(N);var G=2*Math.PI,U=1,H=.3;var W=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=G);function r(t){return e*Math.pow(2,10*--t)*Math.sin((n-t)/i)}r.amplitude=function(e){return t(e,i*G)};r.period=function(i){return t(e,i)};return r}(U,H);var Y=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=G);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+n)/i)}r.amplitude=function(e){return t(e,i*G)};r.period=function(i){return t(e,i)};return r}(U,H);var z=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=G);function r(t){return((t=t*2-1)<0?e*Math.pow(2,10*t)*Math.sin((n-t)/i):2-e*Math.pow(2,-10*t)*Math.sin((n+t)/i))/2}r.amplitude=function(e){return t(e,i*G)};r.period=function(i){return t(e,i)};return r}(U,H);t.easeBack=F;t.easeBackIn=$;t.easeBackInOut=F;t.easeBackOut=L;t.easeBounce=P;t.easeBounceIn=I;t.easeBounceInOut=D;t.easeBounceOut=P;t.easeCircle=O;t.easeCircleIn=b;t.easeCircleInOut=O;t.easeCircleOut=w;t.easeCubic=s;t.easeCubicIn=a;t.easeCubicInOut=s;t.easeCubicOut=o;t.easeElastic=Y;t.easeElasticIn=W;t.easeElasticInOut=z;t.easeElasticOut=Y;t.easeExp=_;t.easeExpIn=m;t.easeExpInOut=_;t.easeExpOut=y;t.easeLinear=e;t.easePoly=h;t.easePolyIn=l;t.easePolyInOut=h;t.easePolyOut=c;t.easeQuad=r;t.easeQuadIn=i;t.easeQuadInOut=r;t.easeQuadOut=n;t.easeSin=g;t.easeSinIn=p;t.easeSinInOut=g;t.easeSinOut=v;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){(function(t,i){true?i(e):undefined})(this,function(t){"use strict";var e={value:function(){}};function i(){for(var t=0,e=arguments.length,i={},r;t<e;++t){if(!(r=arguments[t]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new n(i)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");if(n>=0)i=t.slice(n+1),t=t.slice(0,n);if(t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}n.prototype=i.prototype={constructor:n,on:function(t,e){var i=this._,n=r(t+"",i),s,u=-1,l=n.length;if(arguments.length<2){while(++u<l)if((s=(t=n[u]).type)&&(s=a(i[s],t.name)))return s;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++u<l){if(s=(t=n[u]).type)i[s]=o(i[s],t.name,e);else if(e==null)for(s in i)i[s]=o(i[s],t.name,null)}return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new n(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var i=new Array(r),n=0,r,a;n<r;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,r=a.length;n<r;++n)a[n].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],r=0,a=n.length;r<a;++r)n[r].value.apply(e,i)}};function a(t,e){for(var i=0,n=t.length,r;i<n;++i){if((r=t[i]).name===e){return r.value}}}function o(t,i,n){for(var r=0,a=t.length;r<a;++r){if(t[r].name===i){t[r]=e,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:i,value:n});return t}t.dispatch=i;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,i){"use strict";(function(t){var i=angular.module("ngeoRecenter",[]);i.directive_=function(){return{restrict:"A",link:function e(i,n,r){var a=r["ngeoRecenterMap"];var o=i.$eval(a);function s(t){var e=t.attr("ngeo-extent");if(e!==undefined){var n=o.getSize();o.getView().fit(i.$eval(e),{size:n})}var r=t.attr("ngeo-zoom");if(r!==undefined){o.getView().setZoom(i.$eval(r))}}n.on("click","*",function(e){s(angular.element(t(this)))});n.on("change",function(t){var e=t.target.options[t.target.selectedIndex];s(angular.element(e))})}}};i.directive("ngeoRecenter",i.directive_);e["a"]=i}).call(this,i(51))},function(t,e,i){"use strict";(function(t){var n=i(2);var r=i(86);var a=i(1);var o=i(3);var s=i(150);var u=i(113);var l=function e(i,n){var r=this;var a=n!==undefined?n:{};a.positioning=u["a"].TOP_LEFT;this.listenerKeys_=[];this.clickOutListenerKey_=null;var o=t("<div/>",{class:"panel panel-default"});this.autoClose_=i.autoClose!==undefined?i.autoClose:true;if(i.title){var l=t("<div>",{class:"panel-heading"}).appendTo(o);t("<span>",{text:i.title}).appendTo(l)}var c=t("<div>",{class:"list-group"}).appendTo(o);this.actions_=[];i.actions.forEach(function(e){r.actions_.push(t("<button>",{class:"list-group-item","data-name":e.name,text:[" ",e.label!==undefined?e.label:e.name].join("")}).appendTo(c).prepend(t("<span>",{class:e.cls!==undefined?e.cls:""})))});a.element=o[0];s["a"].call(this,a)};a["d"](l,s["a"]);l.prototype.setMap=function(t){var e=this;var i=this.getMap();if(i){this.listenerKeys_.forEach(o["e"]);this.listenerKeys_.length=0}s["a"].prototype.setMap.call(this,t);if(t){this.actions_.forEach(function(t){var i=t.data();e.listenerKeys_.push(o["a"](t[0],"click",e.handleActionClick_.bind(e,i.name)))});this.listenerKeys_.push(o["a"](t,"pointermove",this.handleMapPointerMove_,this))}};l.prototype.open=function(t){this.setPosition(t);if(this.autoClose_){this.clickOutListenerKey_=o["a"](document.documentElement,"mousedown",this.handleClickOut_,this)}};l.prototype.close=function(){this.setPosition(undefined);if(this.clickOutListenerKey_!==null){o["e"](this.clickOutListenerKey_)}};l.prototype.handleActionClick_=function(t,e){this.dispatchEvent(new r["a"]("actionclick",{action:t}));if(this.autoClose_){this.close()}e.stopPropagation()};l.prototype.handleClickOut_=function(e){var i=this.getElement();if(i&&t(e.target).closest(i).length===0){this.close()}};l.prototype.handleMapPointerMove_=function(t){var e=t.originalEvent.target;n["a"].assertInstanceof(e,Element);var i=this.getElement();n["a"].assertInstanceof(i,Element);if(i.contains(e)){t.coordinate=[Infinity,Infinity];t.pixel=[Infinity,Infinity]}};e["a"]=l}).call(this,i(51))},function(t,e,i){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=1e3*60*60*24;var a=3600;var o=function t(e,i){return typeof e==="string"&&typeof i==="string"&&e.toLowerCase()===i.toLowerCase()};var s=function t(e,i,n){var r=n||"0";var a=e.toString();return a.length<i?t(r+a,i):a};var u=function t(e){var i=void 0,r=void 0;e=e||{};for(i=1;i<arguments.length;i++){r=arguments[i];if(!r){continue}for(var a in r){if(r.hasOwnProperty(a)){if(n(r[a])==="object"){t(e[a],r[a])}else{e[a]=r[a]}}}}return e};var l=function t(e,i){for(var n=0;n<i.length;n++){if(i[n].toLowerCase()===e.toLowerCase()){return n}}return-1};var c={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function t(e){var i=e%10,n={1:"st",2:"nd",3:"rd"};return Math.floor(e%100/10)===1||!n[i]?"th":n[i]}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g};var h=function t(e){var i=this;var n=u(c,e);i.dateSettings=n.dateSettings;i.separators=n.separators;i.validParts=n.validParts;i.intParts=n.intParts;i.tzParts=n.tzParts;i.tzClip=n.tzClip};h.prototype={constructor:h,getMonth:function t(e){var i=this;var n=void 0;n=l(e,i.dateSettings.monthsShort)+1;if(n===0){n=l(e,i.dateSettings.months)+1}return n},parseDate:function t(e,i){var r=this,a={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0},s=r.dateSettings;var u=void 0,l=false,c=false,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0;if(!e){return null}if(e instanceof Date){return e}if(i==="U"){u=parseInt(e);return u?new Date(u*1e3):e}switch(typeof e==="undefined"?"undefined":n(e)){case"number":return new Date(e);case"string":break;default:return null}var y=i.match(r.validParts);if(!y||y.length===0){throw new Error("Invalid date format definition.")}var _=e.replace(r.separators,"\0").split("\0");for(u=0;u<_.length;u++){h=_[u];f=parseInt(h);switch(y[u]){case"y":case"Y":if(f){g=h.length;a.year=g===2?parseInt((f<70?"20":"19")+h):f}else{return null}l=true;break;case"m":case"n":case"M":case"F":if(isNaN(f)){d=r.getMonth(h);if(d>0){a.month=d}else{return null}}else{if(f>=1&&f<=12){a.month=f}else{return null}}l=true;break;case"d":case"j":if(f>=1&&f<=31){a.day=f}else{return null}l=true;break;case"g":case"h":p=y.indexOf("a")>-1?y.indexOf("a"):y.indexOf("A")>-1?y.indexOf("A"):-1;m=_[p];if(p>-1){v=o(m,s.meridiem[0])?0:o(m,s.meridiem[1])?12:-1;if(f>=1&&f<=12&&v>-1){a.hour=f+v-1}else if(f>=0&&f<=23){a.hour=f}}else{if(f>=0&&f<=23){a.hour=f}else{return null}}c=true;break;case"G":case"H":if(f>=0&&f<=23){a.hour=f}else{return null}c=true;break;case"i":if(f>=0&&f<=59){a.min=f}else{return null}c=true;break;case"s":if(f>=0&&f<=59){a.sec=f}else{return null}c=true;break}}if(l===true&&a.year&&a.month&&a.day){a.date=new Date(a.year,a.month-1,a.day,a.hour,a.min,a.sec,0)}else{if(c!==true){return null}a.date=new Date(0,0,0,a.hour,a.min,a.sec,0)}return a.date},guessDate:function t(e,i){if(typeof e!=="string"){return e}var n=this,r=e.replace(n.separators,"\0").split("\0"),a=/^[djmn]/g,o=i.match(n.validParts),s=new Date,u=0;var l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,p=void 0;if(!a.test(o[0])){return e}for(c=0;c<r.length;c++){var v=2;f=r[c];d=parseInt(f.substr(0,2));if(isNaN(d)){return null}switch(c){case 0:if(o[0]==="m"||o[0]==="n"){s.setMonth(d-1)}else{s.setDate(d)}break;case 1:if(o[0]==="m"||o[0]==="n"){s.setDate(d)}else{s.setMonth(d-1)}break;case 2:p=s.getFullYear();l=f.length;v=l<4?l:4;p=parseInt(l<4?p.toString().substr(0,4-l)+f:f.substr(0,4));if(!p){return null}s.setFullYear(p);break;case 3:s.setHours(d);break;case 4:s.setMinutes(d);break;case 5:s.setSeconds(d);break}h=f.substr(v);if(h.length>0){r.splice(c+1,0,h)}}return s},parseFormat:function t(e,i){var n=void 0;var o=this,u=o.dateSettings,l=/\\?(.?)/gi,c=function t(e,i){return n[e]?n[e]():i};n={d:function t(){return s(n.j(),2)},D:function t(){return u.daysShort[n.w()]},j:function t(){return i.getDate()},l:function t(){return u.days[n.w()]},N:function t(){return n.w()||7},w:function t(){return i.getDay()},z:function t(){var e=new Date(n.Y(),n.n()-1,n.j()),i=new Date(n.Y(),0,1);return Math.round((e-i)/r)},W:function t(){var e=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),i=new Date(e.getFullYear(),0,4);return s(1+Math.round((e-i)/r/7),2)},F:function t(){return u.months[i.getMonth()]},m:function t(){return s(n.n(),2)},M:function t(){return u.monthsShort[i.getMonth()]},n:function t(){return i.getMonth()+1},t:function t(){return new Date(n.Y(),n.n(),0).getDate()},L:function t(){var e=n.Y();return e%4===0&&e%100!==0||e%400===0?1:0},o:function t(){var e=n.n(),i=n.W(),r=n.Y();return r+(e===12&&i<9?1:e===1&&i>9?-1:0)},Y:function t(){return i.getFullYear()},y:function t(){return n.Y().toString().slice(-2)},a:function t(){return n.A().toLowerCase()},A:function t(){var e=n.G()<12?0:1;return u.meridiem[e]},B:function t(){var e=i.getUTCHours()*a,n=i.getUTCMinutes()*60,r=i.getUTCSeconds();return s(Math.floor((e+n+r+a)/86.4)%1e3,3)},g:function t(){return n.G()%12||12},G:function t(){return i.getHours()},h:function t(){return s(n.g(),2)},H:function t(){return s(n.G(),2)},i:function t(){return s(i.getMinutes(),2)},s:function t(){return s(i.getSeconds(),2)},u:function t(){return s(i.getMilliseconds()*1e3,6)},e:function t(){var e=/\((.*)\)/.exec(String(i))[1];return e||"Coordinated Universal Time"},I:function t(){var e=new Date(n.Y(),0),i=Date.UTC(n.Y(),0),r=new Date(n.Y(),6),a=Date.UTC(n.Y(),6);return e-i!==r-a?1:0},O:function t(){var e=i.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+s(Math.floor(n/60)*100+n%60,4)},P:function t(){var e=n.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function t(){var e=(String(i).match(o.tzParts)||[""]).pop().replace(o.tzClip,"");return e||"UTC"},Z:function t(){return-i.getTimezoneOffset()*60},c:function t(){return"Y-m-d\\TH:i:sP".replace(l,c)},r:function t(){return"D, d M Y H:i:s O".replace(l,c)},U:function t(){return i.getTime()/1e3||0}};return c(e,e)},formatDate:function t(e,i){var n=this;var r=void 0,a=void 0,o=void 0,s=void 0,u=void 0,l="";var c="\\";if(typeof e==="string"){e=n.parseDate(e,i);if(!e){return null}}if(e instanceof Date){o=i.length;for(r=0;r<o;r++){u=i.charAt(r);if(u==="S"||u===c){continue}if(r>0&&i.charAt(r-1)===c){l+=u;continue}s=n.parseFormat(u,e);if(r!==o-1&&n.intParts.test(u)&&i.charAt(r+1)==="S"){a=parseInt(s)||0;s+=n.dateSettings.ordinal(a)}l+=s}return l}return""}};e["a"]=h},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(63);var r;if(Object.keys){r=Object.keys}else{r=function(t){var e,i=[];for(e in t){if(Object(n["a"])(t,e)){i.push(e)}}return i}}},function(t,e,i){var n;
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var r=r||function(t){"use strict";if(typeof t==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,a=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},o=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",c=1e3*40,h=function(t){var e=function(){if(typeof t==="string"){i().revokeObjectURL(t)}else{t.remove()}};setTimeout(e,c)},f=function(t,e,i){e=[].concat(e);var n=e.length;while(n--){var r=t["on"+e[n]];if(typeof r==="function"){try{r.call(t,i||t)}catch(t){u(t)}}}},d=function(t){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)){return new Blob([String.fromCharCode(65279),t],{type:t.type})}return t},p=function(e,u,c){if(!c){e=d(e)}var p=this,v=e.type,g=v===l,m,y=function(){f(p,"writestart progress write writeend".split(" "))},_=function(){if((s||g&&o)&&t.FileReader){var n=new FileReader;n.onloadend=function(){var e=s?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");var i=t.open(e,"_blank");if(!i)t.location.href=e;e=undefined;p.readyState=p.DONE;y()};n.readAsDataURL(e);p.readyState=p.INIT;return}if(!m){m=i().createObjectURL(e)}if(g){t.location.href=m}else{var r=t.open(m,"_blank");if(!r){t.location.href=m}}p.readyState=p.DONE;y();h(m)};p.readyState=p.INIT;if(r){m=i().createObjectURL(e);setTimeout(function(){n.href=m;n.download=u;a(n);y();h(m);p.readyState=p.DONE});return}_()},v=p.prototype,g=function(t,e,i){return new p(t,e||t.name||"download",i)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(t,e,i){e=e||t.name||"download";if(!i){t=d(t)}return navigator.msSaveOrOpenBlob(t,e)}}v.abort=function(){};v.readyState=v.INIT=0;v.WRITING=1;v.DONE=2;v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null;return g}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof t!=="undefined"&&t.exports){t.exports.saveAs=r}else if("function"!=="undefined"&&i(464)!==null&&i(463)!==null){!(n=function(){return r}.call(e,i,e,t),n!==undefined&&(t.exports=n))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){(function(t){+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7";e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype);e.prototype.constructor=e;e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.setContent=function(){var t=this.tip();var e=this.getTitle();var i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e);t.find(".popover-content").children().detach().end()[this.options.html?typeof i=="string"?"html":"append":"text"](i);t.removeClass("fade top bottom left right in");if(!t.find(".popover-title").html())t.find(".popover-title").hide()};e.prototype.hasContent=function(){return this.getTitle()||this.getContent()};e.prototype.getContent=function(){var t=this.$element;var e=this.options;return t.attr("data-content")||(typeof e.content=="function"?e.content.call(t[0]):e.content)};e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function i(i){return this.each(function(){var n=t(this);var r=n.data("bs.popover");var a=typeof i=="object"&&i;if(!r&&/destroy|hide/.test(i))return;if(!r)n.data("bs.popover",r=new e(this,a));if(typeof i=="string")r[i]()})}var n=t.fn.popover;t.fn.popover=i;t.fn.popover.Constructor=e;t.fn.popover.noConflict=function(){t.fn.popover=n;return this}}(t)}).call(this,i(51))},function(t,e,i){(function(t){+function(t){"use strict";var e=function(t,e){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",t,e)};e.VERSION="3.3.7";e.TRANSITION_DURATION=150;e.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};e.prototype.init=function(e,i,n){this.enabled=true;this.type=e;this.$element=t(i);this.options=this.getOptions(n);this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:false,hover:false,focus:false};if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}var r=this.options.trigger.split(" ");for(var a=r.length;a--;){var o=r[a];if(o=="click"){this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this))}else if(o!="manual"){var s=o=="hover"?"mouseenter":"focusin";var u=o=="hover"?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this));this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.getOptions=function(e){e=t.extend({},this.getDefaults(),this.$element.data(),e);if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e};e.prototype.getDelegateOptions=function(){var e={};var i=this.getDefaults();this._options&&t.each(this._options,function(t,n){if(i[t]!=n)e[t]=n});return e};e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(e.currentTarget,this.getDelegateOptions());t(e.currentTarget).data("bs."+this.type,i)}if(e instanceof t.Event){i.inState[e.type=="focusin"?"focus":"hover"]=true}if(i.tip().hasClass("in")||i.hoverState=="in"){i.hoverState="in";return}clearTimeout(i.timeout);i.hoverState="in";if(!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){if(i.hoverState=="in")i.show()},i.options.delay.show)};e.prototype.isInStateTrue=function(){for(var t in this.inState){if(this.inState[t])return true}return false};e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(e.currentTarget,this.getDelegateOptions());t(e.currentTarget).data("bs."+this.type,i)}if(e instanceof t.Event){i.inState[e.type=="focusout"?"focus":"hover"]=false}if(i.isInStateTrue())return;clearTimeout(i.timeout);i.hoverState="out";if(!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){if(i.hoverState=="out")i.hide()},i.options.delay.hide)};e.prototype.show=function(){var i=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!n)return;var r=this;var a=this.tip();var o=this.getUID(this.type);this.setContent();a.attr("id",o);this.$element.attr("aria-describedby",o);if(this.options.animation)a.addClass("fade");var s=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;var u=/\s?auto?\s?/i;var l=u.test(s);if(l)s=s.replace(u,"")||"top";a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this);this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition();var h=a[0].offsetWidth;var f=a[0].offsetHeight;if(l){var d=s;var p=this.getPosition(this.$viewport);s=s=="bottom"&&c.bottom+f>p.bottom?"top":s=="top"&&c.top-f<p.top?"bottom":s=="right"&&c.right+h>p.width?"left":s=="left"&&c.left-h<p.left?"right":s;a.removeClass(d).addClass(s)}var v=this.getCalculatedOffset(s,c,h,f);this.applyPlacement(v,s);var g=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type);r.hoverState=null;if(t=="out")r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",g).emulateTransitionEnd(e.TRANSITION_DURATION):g()}};e.prototype.applyPlacement=function(e,i){var n=this.tip();var r=n[0].offsetWidth;var a=n[0].offsetHeight;var o=parseInt(n.css("margin-top"),10);var s=parseInt(n.css("margin-left"),10);if(isNaN(o))o=0;if(isNaN(s))s=0;e.top+=o;e.left+=s;t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0);n.addClass("in");var u=n[0].offsetWidth;var l=n[0].offsetHeight;if(i=="top"&&l!=a){e.top=e.top+a-l}var c=this.getViewportAdjustedDelta(i,e,u,l);if(c.left)e.left+=c.left;else e.top+=c.top;var h=/top|bottom/.test(i);var f=h?c.left*2-r+u:c.top*2-a+l;var d=h?"offsetWidth":"offsetHeight";n.offset(e);this.replaceArrow(f,n[0][d],h)};e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")};e.prototype.setContent=function(){var t=this.tip();var e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e);t.removeClass("fade in top bottom left right")};e.prototype.hide=function(i){var n=this;var r=t(this.$tip);var a=t.Event("hide.bs."+this.type);function o(){if(n.hoverState!="in")r.detach();if(n.$element){n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type)}i&&i()}this.$element.trigger(a);if(a.isDefaultPrevented())return;r.removeClass("in");t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",o).emulateTransitionEnd(e.TRANSITION_DURATION):o();this.hoverState=null;return this};e.prototype.fixTitle=function(){var t=this.$element;if(t.attr("title")||typeof t.attr("data-original-title")!="string"){t.attr("data-original-title",t.attr("title")||"").attr("title","")}};e.prototype.hasContent=function(){return this.getTitle()};e.prototype.getPosition=function(e){e=e||this.$element;var i=e[0];var n=i.tagName=="BODY";var r=i.getBoundingClientRect();if(r.width==null){r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top})}var a=window.SVGElement&&i instanceof window.SVGElement;var o=n?{top:0,left:0}:a?null:e.offset();var s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()};var u=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,u,o)};e.prototype.getCalculatedOffset=function(t,e,i,n){return t=="bottom"?{top:e.top+e.height,left:e.left+e.width/2-i/2}:t=="top"?{top:e.top-n,left:e.left+e.width/2-i/2}:t=="left"?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}};e.prototype.getViewportAdjustedDelta=function(t,e,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0;var o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-o.scroll;var u=e.top+a-o.scroll+n;if(s<o.top){r.top=o.top-s}else if(u>o.top+o.height){r.top=o.top+o.height-u}}else{var l=e.left-a;var c=e.left+a+i;if(l<o.left){r.left=o.left-l}else if(c>o.right){r.left=o.left+o.width-c}}return r};e.prototype.getTitle=function(){var t;var e=this.$element;var i=this.options;t=e.attr("data-original-title")||(typeof i.title=="function"?i.title.call(e[0]):i.title);return t};e.prototype.getUID=function(t){do{t+=~~(Math.random()*1e6)}while(document.getElementById(t));return t};e.prototype.tip=function(){if(!this.$tip){this.$tip=t(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};e.prototype.enable=function(){this.enabled=true};e.prototype.disable=function(){this.enabled=false};e.prototype.toggleEnabled=function(){this.enabled=!this.enabled};e.prototype.toggle=function(e){var i=this;if(e){i=t(e.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(e.currentTarget,this.getDelegateOptions());t(e.currentTarget).data("bs."+this.type,i)}}if(e){i.inState.click=!i.inState.click;if(i.isInStateTrue())i.enter(i);else i.leave(i)}else{i.tip().hasClass("in")?i.leave(i):i.enter(i)}};e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout);this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type);if(t.$tip){t.$tip.detach()}t.$tip=null;t.$arrow=null;t.$viewport=null;t.$element=null})};function i(i){return this.each(function(){var n=t(this);var r=n.data("bs.tooltip");var a=typeof i=="object"&&i;if(!r&&/destroy|hide/.test(i))return;if(!r)n.data("bs.tooltip",r=new e(this,a));if(typeof i=="string")r[i]()})}var n=t.fn.tooltip;t.fn.tooltip=i;t.fn.tooltip.Constructor=e;t.fn.tooltip.noConflict=function(){t.fn.tooltip=n;return this}}(t)}).call(this,i(51))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}if(!e){e=t.body}if(!e.nodeName){e=t.body}return e}})},function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.ui.safeBlur=function(e){if(e&&e.nodeName.toLowerCase()!=="body"){t(e).trigger("blur")}}})},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Disable Selection 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Disable Selection 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})})},,function(t,e){t.exports='<h4 class="popover-title ngeo-popup-title"> <span ng-bind-html=title></span> <button type=button class=close ng-click="open = false"> &times;</button> </h4> <div class=popover-content ng-bind-html=content></div> '},function(t,e){
/**
 * @license AngularJS v1.7.0
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(t,e){"use strict";var i=e.$$minErr("$sanitize");var n;var r;var a;var o;var s;var u;var l;var c;var h;var f;function d(){var d=false;var p=false;this.$get=["$$sanitizeUri",function(t){d=true;if(p){r(C,x)}return function(e){var i=[];h(e,f(i,function(e,i){return!/^unsafe:/.test(t(e,i))}));return i.join("")}}];this.enableSvg=function(t){if(s(t)){p=t;return this}else{return p}};this.addValidElements=function(t){if(!d){if(o(t)){t={htmlElements:t}}A(x,t.svgElements);A(m,t.htmlVoidElements);A(C,t.htmlVoidElements);A(C,t.htmlElements)}return this};this.addValidAttrs=function(t){if(!d){r(j,R(t,true))}return this};n=e.bind;r=e.extend;a=e.forEach;o=e.isArray;s=e.isDefined;u=e.$$lowercase;l=e.noop;h=P;f=$;c=t.Node.prototype.contains||function(t){return!!(this.compareDocumentPosition(t)&16)};var v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/([^#-~ |!])/g;var m=k("area,br,col,hr,img,wbr");var y=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_=k("rp,rt"),b=r({},_,y);var w=r({},y,k("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var O=r({},_,k("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var x=k("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var S=k("script,style");var C=r({},m,w,O,b);var T=k("background,cite,href,longdesc,src,xlink:href,xml:base");var E=k("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var M=k("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var j=r({},T,M,E);function k(t,e){return R(t.split(","),e)}function R(t,e){var i={},n;for(n=0;n<t.length;n++){i[e?u(t[n]):t[n]]=true}return i}function A(t,e){if(e&&e.length){r(t,R(e))}}var I=function(t,e){var n;if(e&&e.implementation){n=e.implementation.createHTMLDocument("inert")}else{throw i("noinert","Can't create an inert html document")}var r=(n.documentElement||n.getDocumentElement()).querySelector("body");r.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!r.querySelector("svg")){return a}else{r.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(r.querySelector("svg img")){return o}else{return s}}function a(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(t){return undefined}var i=new t.XMLHttpRequest;i.responseType="document";i.open("GET","data:text/html;charset=utf-8,"+e,false);i.send(null);var n=i.response.body;n.firstChild.remove();return n}function o(e){e="<remove></remove>"+e;try{var i=(new t.DOMParser).parseFromString(e,"text/html").body;i.firstChild.remove();return i}catch(t){return undefined}}function s(t){r.innerHTML=t;if(e.documentMode){L(r)}return r}}(t,t.document);function P(t,e){if(t===null||t===undefined){t=""}else if(typeof t!=="string"){t=""+t}var n=I(t);if(!n)return"";var r=5;do{if(r===0){throw i("uinput","Failed to sanitize html because the input is unstable")}r--;t=n.innerHTML;n=I(t)}while(t!==n.innerHTML);var a=n.firstChild;while(a){switch(a.nodeType){case 1:e.start(a.nodeName.toLowerCase(),D(a.attributes));break;case 3:e.chars(a.textContent);break}var o;if(!(o=a.firstChild)){if(a.nodeType===1){e.end(a.nodeName.toLowerCase())}o=F("nextSibling",a);if(!o){while(o==null){a=F("parentNode",a);if(a===n)break;o=F("nextSibling",a);if(a.nodeType===1){e.end(a.nodeName.toLowerCase())}}}}a=o}while(a=n.firstChild){n.removeChild(a)}}function D(t){var e={};for(var i=0,n=t.length;i<n;i++){var r=t[i];e[r.name]=r.value}return e}function N(t){return t.replace(/&/g,"&amp;").replace(v,function(t){var e=t.charCodeAt(0);var i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(g,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $(t,e){var i=false;var r=n(t,t.push);return{start:function(t,n){t=u(t);if(!i&&S[t]){i=t}if(!i&&C[t]===true){r("<");r(t);a(n,function(i,n){var a=u(n);var o=t==="img"&&a==="src"||a==="background";if(j[a]===true&&(T[a]!==true||e(i,o))){r(" ");r(n);r('="');r(N(i));r('"')}});r(">")}},end:function(t){t=u(t);if(!i&&C[t]===true&&m[t]!==true){r("</");r(t);r(">")}if(t==i){i=false}},chars:function(t){if(!i){r(N(t))}}}}function L(e){while(e){if(e.nodeType===t.Node.ELEMENT_NODE){var i=e.attributes;for(var n=0,r=i.length;n<r;n++){var a=i[n];var o=a.name.toLowerCase();if(o==="xmlns:ns1"||o.lastIndexOf("ns1:",0)===0){e.removeAttributeNode(a);n--;r--}}}var s=e.firstChild;if(s){L(s)}e=F("nextSibling",e)}}function F(t,e){var n=e[t];if(n&&c.call(e,n)){throw i("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText)}return n}}function p(t){var e=[];var i=f(e,l);i.chars(t);return e.join("")}e.module("ngSanitize",[]).provider("$sanitize",d).info({angularVersion:"1.7.0"});e.module("ngSanitize").filter("linky",["$sanitize",function(t){var i=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,n=/^mailto:/i;var r=e.$$minErr("linky");var a=e.isDefined;var o=e.isFunction;var s=e.isObject;var u=e.isString;return function(e,l,c){if(e==null||e==="")return e;if(!u(e))throw r("notstring","Expected string but received: {0}",e);var h=o(c)?c:s(c)?function t(){return c}:function t(){return{}};var f;var d=e;var v=[];var g;var m;while(f=d.match(i)){g=f[0];if(!f[2]&&!f[4]){g=(f[3]?"http://":"mailto:")+g}m=f.index;y(d.substr(0,m));_(g,f[0].replace(n,""));d=d.substring(m+f[0].length)}y(d);return t(v.join(""));function y(t){if(!t){return}v.push(p(t))}function _(t,e){var i,n=h(t);v.push("<a ");for(i in n){v.push(i+'="'+n[i]+'" ')}if(a(l)&&!("target"in n)){v.push('target="',l,'" ')}v.push('href="',t.replace(/"/g,"&quot;"),'">');y(e);v.push("</a>")}}}])})(window,window.angular)},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++t}})}}(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){t(this).removeAttr("id")}})}})})},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(o){if(true){!(r=[i(51),i(114)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){(function(){var e,i=Math.max,n=Math.abs,r=/left|center|right/,a=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,u=/%$/,l=t.fn.position;function c(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function h(e,i){return parseInt(t.css(e,i),10)||0}function f(e){var i=e[0];if(i.nodeType===9){return{width:e.width(),height:e.height(),offset:{top:0,left:0}}}if(t.isWindow(i)){return{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}}if(i.preventDefault){return{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}}return{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(e!==undefined){return e}var i,n,r=t("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];t("body").append(r);i=a.offsetWidth;r.css("overflow","scroll");n=a.offsetWidth;if(i===n){n=r[0].clientWidth}r.remove();return e=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r=i==="scroll"||i==="auto"&&e.width<e.element[0].scrollWidth,a=n==="scroll"||n==="auto"&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&i[0].nodeType===9,a=!n&&!r;return{element:i,isWindow:n,isDocument:r,offset:a?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}};t.fn.position=function(e){if(!e||!e.of){return l.apply(this,arguments)}e=t.extend({},e);var u,d,p,v,g,m,y=t(e.of),_=t.position.getWithinInfo(e.within),b=t.position.getScrollInfo(_),w=(e.collision||"flip").split(" "),O={};m=f(y);if(y[0].preventDefault){e.at="left top"}d=m.width;p=m.height;v=m.offset;g=t.extend({},v);t.each(["my","at"],function(){var t=(e[this]||"").split(" "),i,n;if(t.length===1){t=r.test(t[0])?t.concat(["center"]):a.test(t[0])?["center"].concat(t):["center","center"]}t[0]=r.test(t[0])?t[0]:"center";t[1]=a.test(t[1])?t[1]:"center";i=o.exec(t[0]);n=o.exec(t[1]);O[this]=[i?i[0]:0,n?n[0]:0];e[this]=[s.exec(t[0])[0],s.exec(t[1])[0]]});if(w.length===1){w[1]=w[0]}if(e.at[0]==="right"){g.left+=d}else if(e.at[0]==="center"){g.left+=d/2}if(e.at[1]==="bottom"){g.top+=p}else if(e.at[1]==="center"){g.top+=p/2}u=c(O.at,d,p);g.left+=u[0];g.top+=u[1];return this.each(function(){var r,a,o=t(this),s=o.outerWidth(),l=o.outerHeight(),f=h(this,"marginLeft"),m=h(this,"marginTop"),x=s+f+h(this,"marginRight")+b.width,S=l+m+h(this,"marginBottom")+b.height,C=t.extend({},g),T=c(O.my,o.outerWidth(),o.outerHeight());if(e.my[0]==="right"){C.left-=s}else if(e.my[0]==="center"){C.left-=s/2}if(e.my[1]==="bottom"){C.top-=l}else if(e.my[1]==="center"){C.top-=l/2}C.left+=T[0];C.top+=T[1];r={marginLeft:f,marginTop:m};t.each(["left","top"],function(i,n){if(t.ui.position[w[i]]){t.ui.position[w[i]][n](C,{targetWidth:d,targetHeight:p,elemWidth:s,elemHeight:l,collisionPosition:r,collisionWidth:x,collisionHeight:S,offset:[u[0]+T[0],u[1]+T[1]],my:e.my,at:e.at,within:_,elem:o})}});if(e.using){a=function(t){var r=v.left-C.left,a=r+d-s,u=v.top-C.top,c=u+p-l,h={target:{element:y,left:v.left,top:v.top,width:d,height:p},element:{element:o,left:C.left,top:C.top,width:s,height:l},horizontal:a<0?"left":r>0?"right":"center",vertical:c<0?"top":u>0?"bottom":"middle"};if(d<s&&n(r+a)<d){h.horizontal="center"}if(p<l&&n(u+c)<p){h.vertical="middle"}if(i(n(r),n(a))>i(n(u),n(c))){h.important="horizontal"}else{h.important="vertical"}e.using.call(this,t,h)}}o.offset(t.extend(C,{using:a}))})};t.ui.position={fit:{left:function(t,e){var n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,o=t.left-e.collisionPosition.marginLeft,s=r-o,u=o+e.collisionWidth-a-r,l;if(e.collisionWidth>a){if(s>0&&u<=0){l=t.left+s+e.collisionWidth-a-r;t.left+=s-l}else if(u>0&&s<=0){t.left=r}else{if(s>u){t.left=r+a-e.collisionWidth}else{t.left=r}}}else if(s>0){t.left+=s}else if(u>0){t.left-=u}else{t.left=i(t.left-o,t.left)}},top:function(t,e){var n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,a=e.within.height,o=t.top-e.collisionPosition.marginTop,s=r-o,u=o+e.collisionHeight-a-r,l;if(e.collisionHeight>a){if(s>0&&u<=0){l=t.top+s+e.collisionHeight-a-r;t.top+=s-l}else if(u>0&&s<=0){t.top=r}else{if(s>u){t.top=r+a-e.collisionHeight}else{t.top=r}}}else if(s>0){t.top+=s}else if(u>0){t.top-=u}else{t.top=i(t.top-o,t.top)}}},flip:{left:function(t,e){var i=e.within,r=i.offset.left+i.scrollLeft,a=i.width,o=i.isWindow?i.scrollLeft:i.offset.left,s=t.left-e.collisionPosition.marginLeft,u=s-o,l=s+e.collisionWidth-a-o,c=e.my[0]==="left"?-e.elemWidth:e.my[0]==="right"?e.elemWidth:0,h=e.at[0]==="left"?e.targetWidth:e.at[0]==="right"?-e.targetWidth:0,f=-2*e.offset[0],d,p;if(u<0){d=t.left+c+h+f+e.collisionWidth-a-r;if(d<0||d<n(u)){t.left+=c+h+f}}else if(l>0){p=t.left-e.collisionPosition.marginLeft+c+h+f-o;if(p>0||n(p)<l){t.left+=c+h+f}}},top:function(t,e){var i=e.within,r=i.offset.top+i.scrollTop,a=i.height,o=i.isWindow?i.scrollTop:i.offset.top,s=t.top-e.collisionPosition.marginTop,u=s-o,l=s+e.collisionHeight-a-o,c=e.my[1]==="top",h=c?-e.elemHeight:e.my[1]==="bottom"?e.elemHeight:0,f=e.at[1]==="top"?e.targetHeight:e.at[1]==="bottom"?-e.targetHeight:0,d=-2*e.offset[1],p,v;if(u<0){v=t.top+h+f+d+e.collisionHeight-a-r;if(v<0||v<n(u)){t.top+=h+f+d}}else if(l>0){p=t.top-e.collisionPosition.marginTop+h+f+d-o;if(p>0||n(p)<l){t.top+=h+f+d}}}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments);t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments);t.ui.position.fit.top.apply(this,arguments)}}}})();return t.ui.position})},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){(function(t){
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(t){t.support.touch="ontouchend"in document;if(!t.support.touch){return}var e=t.ui.mouse.prototype,i=e._mouseInit,n=e._mouseDestroy,r;function a(t,e){if(t.originalEvent.touches.length>1){return}t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);t.target.dispatchEvent(n)}e._touchStart=function(t){var e=this;if(r||!e._mouseCapture(t.originalEvent.changedTouches[0])){return}r=true;e._touchMoved=false;a(t,"mouseover");a(t,"mousemove");a(t,"mousedown")};e._touchMove=function(t){if(!r){return}this._touchMoved=true;a(t,"mousemove")};e._touchEnd=function(t){if(!r){return}a(t,"mouseup");a(t,"mouseout");if(!this._touchMoved){a(t,"click")}r=false};e._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")});i.call(e)};e._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")});n.call(e)}})(t)}).call(this,i(51))},function(t,e,i){var n,r,a;
/*!
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51),i(301),i(312),i(313),i(311),i(114),i(217)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(t,e){this._super(t,e);if(t==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--){this.items[t].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(e,i){var n=null,r=false,a=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(e);t(e.target).parents().each(function(){if(t.data(this,a.widgetName+"-item")===a){n=t(this);return false}});if(t.data(e.target,a.widgetName+"-item")===a){n=t(e.target)}if(!n){return false}if(this.options.handle&&!i){t(this.options.handle,n).find("*").addBack().each(function(){if(this===e.target){r=true}});if(!r){return false}}this.currentItem=n;this._removeCurrentsFromItems();return true},_mouseStart:function(e,i,n){var r,a,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(o.containment){this._setContainment()}if(o.cursor&&o.cursor!=="auto"){a=this.document.find("body");this.storedCursor=a.css("cursor");a.css("cursor",o.cursor);this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)}if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!n){for(r=this.containers.length-1;r>=0;r--){this.containers[r]._trigger("activate",e,this._uiHash(this))}}if(t.ui.ddmanager){t.ui.ddmanager.current=this}if(t.ui.ddmanager&&!o.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(e){var i,n,r,a,o=this.options,s=false;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed}else if(e.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed}else if(e.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed}}else{if(e.pageY-this.document.scrollTop()<o.scrollSensitivity){s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed)}else if(this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity){s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)}if(e.pageX-this.document.scrollLeft()<o.scrollSensitivity){s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed)}else if(this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity){s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed)}}if(s!==false&&t.ui.ddmanager&&!o.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){n=this.items[i];r=n.item[0];a=this._intersectsWithPointer(n);if(!a){continue}if(n.instance!==this.currentContainer){continue}if(r!==this.currentItem[0]&&this.placeholder[a===1?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],r):true)){this.direction=a===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(n)){this._rearrange(e,n)}else{break}this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,i){if(!e){return}if(t.ui.ddmanager&&!this.options.dropBehaviour){t.ui.ddmanager.drop(this,e)}if(this.options.revert){var n=this,r=this.placeholder.offset(),a=this.options.axis,o={};if(!a||a==="x"){o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!a||a==="y"){o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else{this._clear(e,i)}return false},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}t.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){t(this.domPosition.prev).after(this.currentItem)}else{t(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];e=e||{};t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);if(i){n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}});if(!n.length&&e.key){n.push(e.key+"=")}return n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];e=e||{};i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")});return n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,a=t.left,o=a+t.width,s=t.top,u=s+t.height,l=this.offset.click.top,c=this.offset.click.left,h=this.options.axis==="x"||n+l>s&&n+l<u,f=this.options.axis==="y"||e+c>a&&e+c<o,d=h&&f;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]){return d}else{return a<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&s<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<u}},_intersectsWithPointer:function(t){var e,i,n=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),a=n&&r;if(!a){return false}e=this._getDragVerticalDirection();i=this._getDragHorizontalDirection();return this.floating?i==="right"||e==="down"?2:1:e&&(e==="down"?2:1)},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();if(this.floating&&r){return r==="right"&&i||r==="left"&&!i}else{return n&&(n==="down"&&e||n==="up"&&!e)}},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return t!==0&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return t!==0&&(t>0?"right":"left")},refresh:function(t){this._refreshItems(t);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,r,a,o=[],s=[],u=this._connectWith();if(u&&e){for(i=u.length-1;i>=0;i--){r=t(u[i],this.document[0]);for(n=r.length-1;n>=0;n--){a=t.data(r[n],this.widgetFullName);if(a&&a!==this&&!a.options.disabled){s.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}}}s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function l(){o.push(this)}for(i=s.length-1;i>=0;i--){s[i][0].each(l)}return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++){if(e[i]===t.item[0]){return false}}return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var i,n,r,a,o,s,u,l,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready){for(i=f.length-1;i>=0;i--){r=t(f[i],this.document[0]);for(n=r.length-1;n>=0;n--){a=t.data(r[n],this.widgetFullName);if(a&&a!==this&&!a.options.disabled){h.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):t(a.options.items,a.element),a]);this.containers.push(a)}}}}for(i=h.length-1;i>=0;i--){o=h[i][1];s=h[i][0];for(n=0,l=s.length;n<l;n++){u=t(s[n]);u.data(this.widgetName+"-item",o);c.push({item:u,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,n,r,a;for(i=this.items.length-1;i>=0;i--){n=this.items[i];if(n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]){continue}r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item;if(!e){n.width=r.outerWidth();n.height=r.outerHeight()}a=r.offset();n.left=a.left;n.top=a.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){a=this.containers[i].element.offset();this.containers[i].containerCache.left=a.left;this.containers[i].containerCache.top=a.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;if(!n.placeholder||n.placeholder.constructor===String){i=n.placeholder;n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]);e._addClass(r,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper");if(n==="tbody"){e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r))}else if(n==="tr"){e._createTrPlaceholder(e.currentItem,r)}else if(n==="img"){r.attr("src",e.currentItem.attr("src"))}if(!i){r.css("visibility","hidden")}return r},update:function(t,r){if(i&&!n.forcePlaceholderSize){return}if(!r.height()){r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10))}if(!r.width()){r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,a,o,s,u,l,c,h,f=null,d=null;for(i=this.containers.length-1;i>=0;i--){if(t.contains(this.currentItem[0],this.containers[i].element[0])){continue}if(this._intersectsWith(this.containers[i].containerCache)){if(f&&t.contains(this.containers[i].element[0],f.element[0])){continue}f=this.containers[i];d=i}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",e,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(!f){return}if(this.containers.length===1){if(!this.containers[d].containerCache.over){this.containers[d]._trigger("over",e,this._uiHash(this));this.containers[d].containerCache.over=1}}else{r=1e4;a=null;c=f.floating||this._isFloating(this.currentItem);o=c?"left":"top";s=c?"width":"height";h=c?"pageX":"pageY";for(n=this.items.length-1;n>=0;n--){if(!t.contains(this.containers[d].element[0],this.items[n].item[0])){continue}if(this.items[n].item[0]===this.currentItem[0]){continue}u=this.items[n].item.offset()[o];l=false;if(e[h]-u>this.items[n][s]/2){l=true}if(Math.abs(e[h]-u)<r){r=Math.abs(e[h]-u);a=this.items[n];this.direction=l?"up":"down"}}if(!a&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[d]){if(!this.currentContainer.containerCache.over){this.containers[d]._trigger("over",e,this._uiHash());this.currentContainer.containerCache.over=1}return}a?this._rearrange(e,a,null,true):this._rearrange(e,null,this.containers[d].element,true);this._trigger("change",e,this._uiHash());this.containers[d]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[d];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[d]._trigger("over",e,this._uiHash(this));this.containers[d].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;if(!n.parents("body").length){t(i.appendTo!=="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0])}if(n[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!n[0].style.width||i.forceHelperSize){n.width(this.currentItem.width())}if(!n[0].style.height||i.forceHelperSize){n.height(this.currentItem.height())}return n},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;if(r.containment==="parent"){r.containment=this.helper[0].parentNode}if(r.containment==="document"||r.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,r.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(r.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(r.containment)){e=t(r.containment)[0];i=t(r.containment).offset();n=t(e).css("overflow")!=="hidden";this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){if(!i){i=this.position}var n=e==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,a=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,a=e.pageX,o=e.pageY,s=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,u=/(html|body)/i.test(s[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){a=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){o=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){a=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){o=this.containment[3]+this.offset.click.top}}if(r.grid){i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1];o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i;n=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0];a=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():u?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():u?0:s.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){if(r===this.counter){this.refreshPositions(!n)}})},_clear:function(t,e){this.reverting=false;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!e){n.push(function(t){this._trigger("update",t,this._uiHash())})}if(this!==this.currentContainer){if(!e){n.push(function(t){this._trigger("remove",t,this._uiHash())});n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer));n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))}}function r(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}for(i=this.containers.length-1;i>=0;i--){if(!e){n.push(r("deactivate",this,this.containers[i]))}if(this.containers[i].containerCache.over){n.push(r("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!e){this._trigger("beforeStop",t,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!e){for(i=0;i<n.length;i++){n[i].call(this,t)}this._trigger("stop",t,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){if(t.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})},function(t,e){var i=t.exports={};var n;var r;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=a}}catch(t){n=a}try{if(typeof clearTimeout==="function"){r=clearTimeout}else{r=o}}catch(t){r=o}})();function s(t){if(n===setTimeout){return setTimeout(t,0)}if((n===a||!n)&&setTimeout){n=setTimeout;return setTimeout(t,0)}try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function u(t){if(r===clearTimeout){return clearTimeout(t)}if((r===o||!r)&&clearTimeout){r=clearTimeout;return clearTimeout(t)}try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}var l=[];var c=false;var h;var f=-1;function d(){if(!c||!h){return}c=false;if(h.length){l=h.concat(l)}else{f=-1}if(l.length){p()}}function p(){if(c){return}var t=s(d);c=true;var e=l.length;while(e){h=l;l=[];while(++f<e){if(h){h[f].run()}}f=-1;e=l.length}h=null;c=false;u(t)}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){e[i-1]=arguments[i]}}l.push(new v(t,e));if(l.length===1&&!c){s(p)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};i.title="browser";i.browser=true;i.env={};i.argv=[];i.version="";i.versions={};function g(){}i.on=g;i.addListener=g;i.once=g;i.off=g;i.removeListener=g;i.removeAllListeners=g;i.emit=g;i.prependListener=g;i.prependOnceListener=g;i.listeners=function(t){return[]};i.binding=function(t){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(t){throw new Error("process.chdir is not supported")};i.umask=function(){return 0}},function(t,e,i){(function(t,e){(function(t,i){"use strict";if(t.setImmediate){return}var n=1;var r={};var a=false;var o=t.document;var s;function u(t){if(typeof t!=="function"){t=new Function(""+t)}var e=new Array(arguments.length-1);for(var i=0;i<e.length;i++){e[i]=arguments[i+1]}var a={callback:t,args:e};r[n]=a;s(n);return n++}function l(t){delete r[t]}function c(t){var e=t.callback;var n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n);break}}function h(t){if(a){setTimeout(h,0,t)}else{var e=r[t];if(e){a=true;try{c(e)}finally{l(t);a=false}}}}function f(){s=function(t){e.nextTick(function(){h(t)})}}function d(){if(t.postMessage&&!t.importScripts){var e=true;var i=t.onmessage;t.onmessage=function(){e=false};t.postMessage("","*");t.onmessage=i;return e}}function p(){var e="setImmediate$"+Math.random()+"$";var i=function(i){if(i.source===t&&typeof i.data==="string"&&i.data.indexOf(e)===0){h(+i.data.slice(e.length))}};if(t.addEventListener){t.addEventListener("message",i,false)}else{t.attachEvent("onmessage",i)}s=function(i){t.postMessage(e+i,"*")}}function v(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;h(e)};s=function(e){t.port2.postMessage(e)}}function g(){var t=o.documentElement;s=function(e){var i=o.createElement("script");i.onreadystatechange=function(){h(e);i.onreadystatechange=null;t.removeChild(i);i=null};t.appendChild(i)}}function m(){s=function(t){setTimeout(h,0,t)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(t);y=y&&y.setTimeout?y:t;if({}.toString.call(t.process)==="[object process]"){f()}else if(d()){p()}else if(t.MessageChannel){v()}else if(o&&"onreadystatechange"in o.createElement("script")){g()}else{m()}y.setImmediate=u;y.clearImmediate=l})(typeof self==="undefined"?typeof t==="undefined"?this:t:self)}).call(this,i(236),i(438))},function(t,e,i){(function(t){var n=typeof t!=="undefined"&&t||typeof self!=="undefined"&&self||window;var r=Function.prototype.apply;e.setTimeout=function(){return new a(r.call(setTimeout,n,arguments),clearTimeout)};e.setInterval=function(){return new a(r.call(setInterval,n,arguments),clearInterval)};e.clearTimeout=e.clearInterval=function(t){if(t){t.close()}};function a(t,e){this._id=t;this._clearFn=e}a.prototype.unref=a.prototype.ref=function(){};a.prototype.close=function(){this._clearFn.call(n,this._id)};e.enroll=function(t,e){clearTimeout(t._idleTimeoutId);t._idleTimeout=e};e.unenroll=function(t){clearTimeout(t._idleTimeoutId);t._idleTimeout=-1};e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;if(e>=0){t._idleTimeoutId=setTimeout(function e(){if(t._onTimeout)t._onTimeout()},e)}};i(439);e.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof t!=="undefined"&&t.setImmediate||this&&this.setImmediate;e.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof t!=="undefined"&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(236))},function(t,e,i){(function(n){var r,a;var r,a;
/*!
 * typeahead.js 1.2.0
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2017 Twitter, Inc. and other contributors; Licensed MIT
 */
/*!
 * typeahead.js 1.2.0
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2017 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(n,o){if(true){!(r=[i(51)],a=function(t){return n["Bloodhound"]=o(t)}.apply(e,r),a!==undefined&&(t.exports=a))}else{}})(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return typeof t==="string"},isNumber:function(t){return typeof t==="number"},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return typeof t==="undefined"},isElement:function(t){return!!(t&&t.nodeType===1)},isJQuery:function(e){return e instanceof t},toStr:function t(i){return e.isUndefined(i)||i===null?"":i+""},bind:t.proxy,each:function(e,i){t.each(e,n);function n(t,e){return i(e,t)}},map:t.map,filter:t.grep,every:function(e,i){var n=true;if(!e){return n}t.each(e,function(t,r){if(!(n=i.call(null,r,t,e))){return false}});return!!n},some:function(e,i){var n=false;if(!e){return n}t.each(e,function(t,r){if(n=i.call(null,r,t,e)){return false}});return!!n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(true,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function e(i){return t.isFunction(i)?i:n;function n(){return String(i)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var a=this,o=arguments,s,u;s=function(){n=null;if(!i){r=t.apply(a,o)}};u=i&&!n;clearTimeout(n);n=setTimeout(s,e);if(u){r=t.apply(a,o)}return r}},throttle:function(t,e){var i,n,r,a,o,s;o=0;s=function(){o=new Date;r=null;a=t.apply(i,n)};return function(){var u=new Date,l=e-(u-o);i=this;n=arguments;if(l<=0){clearTimeout(r);r=null;o=u;a=t.apply(i,n)}else if(!r){r=setTimeout(s,l)}return a}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},guid:function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return"tt-"+t()+t(true)+t(true)+t()},noop:function(){}}}();var i="1.2.0";var n=function(){"use strict";return{nonword:i,whitespace:t,ngram:n,obj:{nonword:r(i),whitespace:r(t),ngram:r(n)}};function t(t){t=e.toStr(t);return t?t.split(/\s+/):[]}function i(t){t=e.toStr(t);return t?t.split(/\W+/):[]}function n(t){t=e.toStr(t);var i=[],n="";e.each(t.split(""),function(t){if(t.match(/\s+/)){n=""}else{i.push(n+t);n+=t}});return i}function r(t){return function i(n){n=e.isArray(n)?n:[].slice.call(arguments,0);return function i(r){var a=[];e.each(n,function(i){a=a.concat(t(e.toStr(r[i])))});return a}}}}();var r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100;this.reset();if(this.maxSize<=0){this.set=this.get=t.noop}}e.mixin(i.prototype,{set:function t(e,i){var n=this.list.tail,a;if(this.size>=this.maxSize){this.list.remove(n);delete this.hash[n.key];this.size--}if(a=this.hash[e]){a.val=i;this.list.moveToFront(a)}else{a=new r(e,i);this.list.add(a);this.hash[e]=a;this.size++}},get:function t(e){var i=this.hash[e];if(i){this.list.moveToFront(i);return i.val}},reset:function t(){this.size=0;this.hash={};this.list=new n}});function n(){this.head=this.tail=null}e.mixin(n.prototype,{add:function t(e){if(this.head){e.next=this.head;this.head.prev=e}this.head=e;this.tail=this.tail||e},remove:function t(e){e.prev?e.prev.next=e.next:this.head=e.next;e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(t){this.remove(t);this.add(t)}});function r(t,e){this.key=t;this.val=e;this.prev=this.next=null}return i}();var a=function(){"use strict";var i;try{i=window.localStorage;i.setItem("~~~","!");i.removeItem("~~~")}catch(t){i=null}function n(t,n){this.prefix=["__",t,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix));this.ls=n||i;!this.ls&&this._noop()}e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){if(t.name==="QuotaExceededError"){this.clear();this._noop()}}},get:function(t){if(this.isExpired(t)){this.remove(t)}return o(this.ls.getItem(this._prefix(t)))},set:function(t,i,n){if(e.isNumber(n)){this._safeSet(this._ttlKey(t),a(r()+n))}else{this.ls.removeItem(this._ttlKey(t))}return this._safeSet(this._prefix(t),a(i))},remove:function(t){this.ls.removeItem(this._ttlKey(t));this.ls.removeItem(this._prefix(t));return this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;){this.remove(e[t])}return this},isExpired:function(t){var i=o(this.ls.getItem(this._ttlKey(t)));return e.isNumber(i)&&r()>i?true:false}});return n;function r(){return(new Date).getTime()}function a(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,n,r=[],a=i.length;for(e=0;e<a;e++){if((n=i.key(e)).match(t)){r.push(n.replace(t,""))}}return r}}();var o=function(){"use strict";var i=0,n={},a=new r(10);function o(t){t=t||{};this.maxPendingRequests=t.maxPendingRequests||6;this.cancelled=false;this.lastReq=null;this._send=t.transport;this._get=t.limiter?t.limiter(this._get):this._get;this._cache=t.cache===false?new r(0):a}o.setMaxPendingRequests=function t(e){this.maxPendingRequests=e};o.resetCache=function t(){a.reset()};e.mixin(o.prototype,{_fingerprint:function e(i){i=i||{};return i.url+i.type+t.param(i.data||{})},_get:function(t,e){var r=this,a,o;a=this._fingerprint(t);if(this.cancelled||a!==this.lastReq){return}if(o=n[a]){o.done(s).fail(u)}else if(i<this.maxPendingRequests){i++;n[a]=this._send(t).done(s).fail(u).always(l)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function s(t){e(null,t);r._cache.set(a,t)}function u(){e(true)}function l(){i--;delete n[a];if(r.onDeckRequestArgs){r._get.apply(r,r.onDeckRequestArgs);r.onDeckRequestArgs=null}}},get:function(i,n){var r,a;n=n||t.noop;i=e.isString(i)?{url:i}:i||{};a=this._fingerprint(i);this.cancelled=false;this.lastReq=a;if(r=this._cache.get(a)){n(null,r)}else{this._get(i,n)}},cancel:function(){this.cancelled=true}});return o}();var s=window.SearchIndex=function(){"use strict";var i="c",n="i";function r(i){i=i||{};if(!i.datumTokenizer||!i.queryTokenizer){t.error("datumTokenizer and queryTokenizer are both required")}this.identify=i.identify||e.stringify;this.datumTokenizer=i.datumTokenizer;this.queryTokenizer=i.queryTokenizer;this.matchAnyQueryToken=i.matchAnyQueryToken;this.reset()}e.mixin(r.prototype,{bootstrap:function t(e){this.datums=e.datums;this.trie=e.trie},add:function(t){var r=this;t=e.isArray(t)?t:[t];e.each(t,function(t){var s,u;r.datums[s=r.identify(t)]=t;u=a(r.datumTokenizer(t));e.each(u,function(t){var e,a,u;e=r.trie;a=t.split("");while(u=a.shift()){e=e[i][u]||(e[i][u]=o());e[n].push(s)}})})},get:function t(i){var n=this;return e.map(i,function(t){return n.datums[t]})},search:function t(r){var o=this,l,c;l=a(this.queryTokenizer(r));e.each(l,function(t){var e,r,a,s;if(c&&c.length===0&&!o.matchAnyQueryToken){return false}e=o.trie;r=t.split("");while(e&&(a=r.shift())){e=e[i][a]}if(e&&r.length===0){s=e[n].slice(0);c=c?u(c,s):s}else{if(!o.matchAnyQueryToken){c=[];return false}}});return c?e.map(s(c),function(t){return o.datums[t]}):[]},all:function t(){var e=[];for(var i in this.datums){e.push(this.datums[i])}return e},reset:function t(){this.datums={};this.trie=o()},serialize:function t(){return{datums:this.datums,trie:this.trie}}});return r;function a(t){t=e.filter(t,function(t){return!!t});t=e.map(t,function(t){return t.toLowerCase()});return t}function o(){var t={};t[n]=[];t[i]={};return t}function s(t){var e={},i=[];for(var n=0,r=t.length;n<r;n++){if(!e[t[n]]){e[t[n]]=true;i.push(t[n])}}return i}function u(t,e){var i=0,n=0,r=[];t=t.sort();e=e.sort();var a=t.length,o=e.length;while(i<a&&n<o){if(t[i]<e[n]){i++}else if(t[i]>e[n]){n++}else{r.push(t[i]);i++;n++}}return r}}();var u=function(){"use strict";var t;t={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function i(t){this.url=t.url;this.ttl=t.ttl;this.cache=t.cache;this.prepare=t.prepare;this.transform=t.transform;this.transport=t.transport;this.thumbprint=t.thumbprint;this.storage=new a(t.cacheKey)}e.mixin(i.prototype,{_settings:function t(){return{url:this.url,type:"GET",dataType:"json"}},store:function e(i){if(!this.cache){return}this.storage.set(t.data,i,this.ttl);this.storage.set(t.protocol,location.protocol,this.ttl);this.storage.set(t.thumbprint,this.thumbprint,this.ttl)},fromCache:function e(){var i={},n;if(!this.cache){return null}i.data=this.storage.get(t.data);i.protocol=this.storage.get(t.protocol);i.thumbprint=this.storage.get(t.thumbprint);n=i.thumbprint!==this.thumbprint||i.protocol!==location.protocol;return i.data&&!n?i.data:null},fromNetwork:function(t){var e=this,i;if(!t){return}i=this.prepare(this._settings());this.transport(i).fail(n).done(r);function n(){t(true)}function r(i){t(null,e.transform(i))}},clear:function t(){this.storage.clear();return this}});return i}();var l=function(){"use strict";function t(t){this.url=t.url;this.prepare=t.prepare;this.transform=t.transform;this.indexResponse=t.indexResponse;this.transport=new o({cache:t.cache,limiter:t.limiter,transport:t.transport,maxPendingRequests:t.maxPendingRequests})}e.mixin(t.prototype,{_settings:function t(){return{url:this.url,type:"GET",dataType:"json"}},get:function t(e,i){var n=this,r;if(!i){return}e=e||"";r=this.prepare(e,this._settings());return this.transport.get(r,a);function a(t,e){t?i([]):i(n.transform(e))}},cancelLastRequest:function t(){this.transport.cancel()}});return t}();var c=function(){"use strict";return function i(a){var o,s;o={initialize:true,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:false,sufficient:5,indexRemote:false,sorter:null,local:[],prefetch:null,remote:null};a=e.mixin(o,a||{});!a.datumTokenizer&&t.error("datumTokenizer is required");!a.queryTokenizer&&t.error("queryTokenizer is required");s=a.sorter;a.sorter=s?function(t){return t.sort(s)}:e.identity;a.local=e.isFunction(a.local)?a.local():a.local;a.prefetch=n(a.prefetch);a.remote=r(a.remote);return a};function n(n){var r;if(!n){return null}r={url:null,ttl:24*60*60*1e3,cache:true,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null};n=e.isString(n)?{url:n}:n;n=e.mixin(r,n);!n.url&&t.error("prefetch requires url to be set");n.transform=n.filter||n.transform;n.cacheKey=n.cacheKey||n.url;n.thumbprint=i+n.thumbprint;n.transport=n.transport?s(n.transport):t.ajax;return n}function r(i){var n;if(!i){return}n={url:null,cache:true,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null};i=e.isString(i)?{url:i}:i;i=e.mixin(n,i);!i.url&&t.error("remote requires url to be set");i.transform=i.filter||i.transform;i.prepare=a(i);i.limiter=o(i);i.transport=i.transport?s(i.transport):t.ajax;delete i.replace;delete i.wildcard;delete i.rateLimitBy;delete i.rateLimitWait;return i}function a(t){var e,i,n;e=t.prepare;i=t.replace;n=t.wildcard;if(e){return e}if(i){e=r}else if(t.wildcard){e=a}else{e=o}return e;function r(t,e){e.url=i(e.url,t);return e}function a(t,e){e.url=e.url.replace(n,encodeURIComponent(t));return e}function o(t,e){return e}}function o(t){var i,n,r;i=t.limiter;n=t.rateLimitBy;r=t.rateLimitWait;if(!i){i=/^throttle$/i.test(n)?o(r):a(r)}return i;function a(t){return function i(n){return e.debounce(n,t)}}function o(t){return function i(n){return e.throttle(n,t)}}}function s(i){return function n(r){var a=t.Deferred();i(r,o,s);return a;function o(t){e.defer(function(){a.resolve(t)})}function s(t){e.defer(function(){a.reject(t)})}}}}();var h=function(){"use strict";var i;i=window&&window.Bloodhound;function r(t){t=c(t);this.sorter=t.sorter;this.identify=t.identify;this.sufficient=t.sufficient;this.indexRemote=t.indexRemote;this.local=t.local;this.remote=t.remote?new l(t.remote):null;this.prefetch=t.prefetch?new u(t.prefetch):null;this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer});t.initialize!==false&&this.initialize()}r.noConflict=function t(){window&&(window.Bloodhound=i);return r};r.tokenizers=n;e.mixin(r.prototype,{__ttAdapter:function t(){var e=this;return this.remote?i:n;function i(t,i,n){return e.search(t,i,n)}function n(t,i){return e.search(t,i)}},_loadPrefetch:function e(){var i=this,n,r;n=t.Deferred();if(!this.prefetch){n.resolve()}else if(r=this.prefetch.fromCache()){this.index.bootstrap(r);n.resolve()}else{this.prefetch.fromNetwork(a)}return n.promise();function a(t,e){if(t){return n.reject()}i.add(e);i.prefetch.store(i.index.serialize());n.resolve()}},_initialize:function t(){var e=this,i;this.clear();(this.initPromise=this._loadPrefetch()).done(n);return this.initPromise;function n(){e.add(e.local)}},initialize:function t(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function t(e){this.index.add(e);return this},get:function t(i){i=e.isArray(i)?i:[].slice.call(arguments);return this.index.get(i)},search:function t(i,n,r){var a=this,o;n=n||e.noop;r=r||e.noop;o=this.sorter(this.index.search(i));n(this.remote?o.slice():o);if(this.remote&&o.length<this.sufficient){this.remote.get(i,s)}else if(this.remote){this.remote.cancelLastRequest()}return this;function s(t){var i=[];e.each(t,function(t){!e.some(o,function(e){return a.identify(t)===a.identify(e)})&&i.push(t)});a.indexRemote&&a.add(i);r(i)}},all:function t(){return this.index.all()},clear:function t(){this.index.reset();return this},clearPrefetchCache:function t(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function t(){o.resetCache();return this},ttAdapter:function t(){return this.__ttAdapter()}});return r}();return h});(function(n,o){if(true){!(r=[i(51)],a=function(t){return o(t)}.apply(e,r),a!==undefined&&(t.exports=a))}else{}})(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return typeof t==="string"},isNumber:function(t){return typeof t==="number"},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return typeof t==="undefined"},isElement:function(t){return!!(t&&t.nodeType===1)},isJQuery:function(e){return e instanceof t},toStr:function t(i){return e.isUndefined(i)||i===null?"":i+""},bind:t.proxy,each:function(e,i){t.each(e,n);function n(t,e){return i(e,t)}},map:t.map,filter:t.grep,every:function(e,i){var n=true;if(!e){return n}t.each(e,function(t,r){if(!(n=i.call(null,r,t,e))){return false}});return!!n},some:function(e,i){var n=false;if(!e){return n}t.each(e,function(t,r){if(n=i.call(null,r,t,e)){return false}});return!!n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(true,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function e(i){return t.isFunction(i)?i:n;function n(){return String(i)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var a=this,o=arguments,s,u;s=function(){n=null;if(!i){r=t.apply(a,o)}};u=i&&!n;clearTimeout(n);n=setTimeout(s,e);if(u){r=t.apply(a,o)}return r}},throttle:function(t,e){var i,n,r,a,o,s;o=0;s=function(){o=new Date;r=null;a=t.apply(i,n)};return function(){var u=new Date,l=e-(u-o);i=this;n=arguments;if(l<=0){clearTimeout(r);r=null;o=u;a=t.apply(i,n)}else if(!r){r=setTimeout(s,l)}return a}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},guid:function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return"tt-"+t()+t(true)+t(true)+t()},noop:function(){}}}();var i=function(){"use strict";var t={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return i;function i(i){var o,s;s=e.mixin({},t,i);o={css:a(),classes:s,html:n(s),selectors:r(s)};return{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(t){e.mixin(t,o)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div role="listbox" class="'+t.menu+'"></div>'}}function r(t){var i={};e.each(t,function(t,e){i[e]="."+t});return i}function a(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(e.isMsie()){e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}return t}}();var r=function(){"use strict";var i,n;i="typeahead:";n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};function r(e){if(!e||!e.el){t.error("EventBus initialized without el")}this.$el=t(e.el)}e.mixin(r.prototype,{_trigger:function(e,n){var r=t.Event(i+e);this.$el.trigger.call(this.$el,r,n||[]);return r},before:function(t){var e,i;e=[].slice.call(arguments,1);i=this._trigger("before"+t,e);return i.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1));if(e=n[t]){this._trigger(e,[].slice.call(arguments,1))}}});return r}();var a=function(){"use strict";var t=/\s+/,e=l();return{onSync:a,onAsync:r,off:o,trigger:s};function i(e,i,n,r){var a;if(!n){return this}i=i.split(t);n=r?c(n,r):n;this._callbacks=this._callbacks||{};while(a=i.shift()){this._callbacks[a]=this._callbacks[a]||{sync:[],async:[]};this._callbacks[a][e].push(n)}return this}function r(t,e,n){return i.call(this,"async",t,e,n)}function a(t,e,n){return i.call(this,"sync",t,e,n)}function o(e){var i;if(!this._callbacks){return this}e=e.split(t);while(i=e.shift()){delete this._callbacks[i]}return this}function s(i){var n,r,a,o,s;if(!this._callbacks){return this}i=i.split(t);a=[].slice.call(arguments,1);while((n=i.shift())&&(r=this._callbacks[n])){o=u(r.sync,this,[n].concat(a));s=u(r.async,this,[n].concat(a));o()&&e(s)}return this}function u(t,e,i){return n;function n(){var n;for(var r=0,a=t.length;!n&&r<a;r+=1){n=t[r].apply(e,i)===false}return!n}}function l(){var t;if(window.setImmediate){t=function t(e){n(function(){e()})}}else{t=function t(e){setTimeout(function(){e()},0)}}return t}function c(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}}();var o=function(t){"use strict";var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false,diacriticInsensitive:false};var n={A:"[AaªÀ-Åà-åĀ-ąǍǎȀ-ȃȦȧᴬᵃḀḁẚẠ-ảₐ℀℁℻⒜Ⓐⓐ㍱-㍴㎀-㎄㎈㎉㎩-㎯㏂㏊㏟㏿Ａａ]",B:"[BbᴮᵇḂ-ḇℬ⒝Ⓑⓑ㍴㎅-㎇㏃㏈㏔㏝Ｂｂ]",C:"[CcÇçĆ-čᶜ℀ℂ℃℅℆ℭⅭⅽ⒞Ⓒⓒ㍶㎈㎉㎝㎠㎤㏄-㏇Ｃｃ]",D:"[DdĎďǄ-ǆǱ-ǳᴰᵈḊ-ḓⅅⅆⅮⅾ⒟Ⓓⓓ㋏㍲㍷-㍹㎗㎭-㎯㏅㏈Ｄｄ]",E:"[EeÈ-Ëè-ëĒ-ěȄ-ȇȨȩᴱᵉḘ-ḛẸ-ẽₑ℡ℯℰⅇ⒠Ⓔⓔ㉐㋍㋎Ｅｅ]",F:"[FfᶠḞḟ℉ℱ℻⒡Ⓕⓕ㎊-㎌㎙ﬀ-ﬄＦｆ]",G:"[GgĜ-ģǦǧǴǵᴳᵍḠḡℊ⒢Ⓖⓖ㋌㋍㎇㎍-㎏㎓㎬㏆㏉㏒㏿Ｇｇ]",H:"[HhĤĥȞȟʰᴴḢ-ḫẖℋ-ℎ⒣Ⓗⓗ㋌㍱㎐-㎔㏊㏋㏗Ｈｈ]",I:"[IiÌ-Ïì-ïĨ-İĲĳǏǐȈ-ȋᴵᵢḬḭỈ-ịⁱℐℑℹⅈⅠ-ⅣⅥ-ⅨⅪⅫⅰ-ⅳⅵ-ⅸⅺⅻ⒤Ⓘⓘ㍺㏌㏕ﬁﬃＩｉ]",J:"[JjĲ-ĵǇ-ǌǰʲᴶⅉ⒥ⒿⓙⱼＪｊ]",K:"[KkĶķǨǩᴷᵏḰ-ḵK⒦Ⓚⓚ㎄㎅㎉㎏㎑㎘㎞㎢㎦㎪㎸㎾㏀㏆㏍-㏏Ｋｋ]",L:"[LlĹ-ŀǇ-ǉˡᴸḶḷḺ-ḽℒℓ℡Ⅼⅼ⒧Ⓛⓛ㋏㎈㎉㏐-㏓㏕㏖㏿ﬂﬄＬｌ]",M:"[MmᴹᵐḾ-ṃ℠™ℳⅯⅿ⒨Ⓜⓜ㍷-㍹㎃㎆㎎㎒㎖㎙-㎨㎫㎳㎷㎹㎽㎿㏁㏂㏎㏐㏔-㏖㏘㏙㏞㏟Ｍｍ]",N:"[NnÑñŃ-ŉǊ-ǌǸǹᴺṄ-ṋⁿℕ№⒩Ⓝⓝ㎁㎋㎚㎱㎵㎻㏌㏑Ｎｎ]",O:"[OoºÒ-Öò-öŌ-őƠơǑǒǪǫȌ-ȏȮȯᴼᵒỌ-ỏₒ℅№ℴ⒪Ⓞⓞ㍵㏇㏒㏖Ｏｏ]",P:"[PpᴾᵖṔ-ṗℙ⒫Ⓟⓟ㉐㍱㍶㎀㎊㎩-㎬㎰㎴㎺㏋㏗-㏚Ｐｐ]",Q:"[Qqℚ⒬Ⓠⓠ㏃Ｑｑ]",R:"[RrŔ-řȐ-ȓʳᴿᵣṘ-ṛṞṟ₨ℛ-ℝ⒭Ⓡⓡ㋍㍴㎭-㎯㏚㏛Ｒｒ]",S:"[SsŚ-šſȘșˢṠ-ṣ₨℁℠⒮Ⓢⓢ㎧㎨㎮-㎳㏛㏜ﬆＳｓ]",T:"[TtŢ-ťȚțᵀᵗṪ-ṱẗ℡™⒯Ⓣⓣ㉐㋏㎔㏏ﬅﬆＴｔ]",U:"[UuÙ-Üù-üŨ-ųƯưǓǔȔ-ȗᵁᵘᵤṲ-ṷỤ-ủ℆⒰Ⓤⓤ㍳㍺Ｕｕ]",V:"[VvᵛᵥṼ-ṿⅣ-Ⅷⅳ-ⅷ⒱Ⓥⓥⱽ㋎㍵㎴-㎹㏜㏞Ｖｖ]",W:"[WwŴŵʷᵂẀ-ẉẘ⒲Ⓦⓦ㎺-㎿㏝Ｗｗ]",X:"[XxˣẊ-ẍₓ℻Ⅸ-Ⅻⅸ-ⅻ⒳Ⓧⓧ㏓Ｘｘ]",Y:"[YyÝýÿŶ-ŸȲȳʸẎẏẙỲ-ỹ⒴Ⓨⓨ㏉Ｙｙ]",Z:"[ZzŹ-žǱ-ǳᶻẐ-ẕℤℨ⒵Ⓩⓩ㎐-㎔Ｚｚ]"};return function n(r){var o;r=e.mixin({},i,r);if(!r.node||!r.pattern){return}r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern];o=a(r.pattern,r.caseSensitive,r.wordsOnly,r.diacriticInsensitive);u(r.node,s);function s(e){var i,n,a;if(i=o.exec(e.data)){a=t.createElement(r.tagName);r.className&&(a.className=r.className);n=e.splitText(i.index);n.splitText(i[0].length);a.appendChild(n.cloneNode(true));e.parentNode.replaceChild(a,n)}return!!i}function u(t,e){var i,n=3;for(var r=0;r<t.childNodes.length;r++){i=t.childNodes[r];if(i.nodeType===n){r+=e(i)?1:0}else{u(i,e)}}}};function r(t){return n[t.toUpperCase()]||t}function a(t,i,n,a){var o=[],s;for(var u=0,l=t.length;u<l;u++){var c=e.escapeRegExChars(t[u]);if(a){c=c.replace(/\S/g,r)}o.push(c)}s=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")";return i?new RegExp(s):new RegExp(s,"i")}}(window.document);var s=function(){"use strict";var i;i={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function n(i,n){i=i||{};if(!i.input){t.error("input is missing")}n.mixin(this);this.$hint=t(i.hint);this.$input=t(i.input);this.$input.attr({"aria-activedescendant":"","aria-owns":this.$input.attr("id")+"_listbox",role:"combobox","aria-readonly":"true","aria-autocomplete":"list"});t(n.menu).attr("id",this.$input.attr("id")+"_listbox");this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=r(this.$input);this._checkLanguageDirection();if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop}this.onSync("cursorchange",this._updateDescendent)}n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")};e.mixin(n.prototype,a,{_onBlur:function t(){this.resetInputValue();this.trigger("blurred")},_onFocus:function t(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function t(e){var n=i[e.which||e.keyCode];this._managePreventDefault(n,e);if(n&&this._shouldTrigger(n,e)){this.trigger(n+"Keyed",e)}},_onInput:function t(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function t(e,i){var n;switch(e){case"up":case"down":n=!s(i);break;default:n=false}n&&i.preventDefault()},_shouldTrigger:function t(e,i){var n;switch(e){case"tab":n=!s(i);break;default:n=true}return n},_checkLanguageDirection:function t(){var e=(this.$input.css("direction")||"ltr").toLowerCase();if(this.dir!==e){this.dir=e;this.$hint.attr("dir",e);this.trigger("langDirChanged",e)}},_setQuery:function t(e,i){var n,r;n=o(e,this.query);r=n?this.query.length!==e.length:false;this.query=e;if(!i&&!n){this.trigger("queryChanged",this.query)}else if(!i&&r){this.trigger("whitespaceChanged",this.query)}},_updateDescendent:function t(e,i){this.$input.attr("aria-activedescendant",i)},bind:function(){var t=this,n,r,a,o;n=e.bind(this._onBlur,this);r=e.bind(this._onFocus,this);a=e.bind(this._onKeydown,this);o=e.bind(this._onInput,this);this.$input.on("blur.tt",n).on("focus.tt",r).on("keydown.tt",a);if(!e.isMsie()||e.isMsie()>9){this.$input.on("input.tt",o)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){if(i[n.which||n.keyCode]){return}e.defer(e.bind(t._onInput,t,n))})}return this},focus:function t(){this.$input.focus()},blur:function t(){this.$input.blur()},getLangDir:function t(){return this.dir},getQuery:function t(){return this.query||""},setQuery:function t(e,i){this.setInputValue(e);this._setQuery(e,i)},hasQueryChangedSinceLastFocus:function t(){return this.query!==this.queryWhenFocused},getInputValue:function t(){return this.$input.val()},setInputValue:function t(e){this.$input.val(e);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function t(){this.setInputValue(this.query)},getHint:function t(){return this.$hint.val()},setHint:function t(e){this.$hint.val(e)},clearHint:function t(){this.setHint("")},clearHintIfInvalid:function t(){var e,i,n,r;e=this.getInputValue();i=this.getHint();n=e!==i&&i.indexOf(e)===0;r=e!==""&&n&&!this.hasOverflow();!r&&this.clearHint()},hasFocus:function t(){return this.$input.is(":focus")},hasOverflow:function t(){var e=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var t,i,n;t=this.$input.val().length;i=this.$input[0].selectionStart;if(e.isNumber(i)){return i===t}else if(document.selection){n=document.selection.createRange();n.moveStart("character",-t);return t===n.text.length}return true},destroy:function e(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=t("<div>")}});return n;function r(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}();var u=function(){"use strict";var i,n;i={dataset:"tt-selectable-dataset",val:"tt-selectable-display",obj:"tt-selectable-object"};n=e.getIdGenerator();function r(i,r){i=i||{};i.templates=i.templates||{};i.templates.notFound=i.templates.notFound||i.templates.empty;if(!i.source){t.error("missing source")}if(!i.node){t.error("missing node")}if(i.name&&!l(i.name)){t.error("invalid dataset name: "+i.name)}r.mixin(this);this.highlight=!!i.highlight;this.name=e.toStr(i.name||n());this.limit=i.limit||5;this.displayFn=s(i.display||i.displayKey);this.templates=u(i.templates,this.displayFn);this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source;this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async;this._resetLastSuggestion();this.$el=t(i.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}r.extractData=function e(n){var r=t(n);if(r.data(i.obj)){return{dataset:r.data(i.dataset)||"",val:r.data(i.val)||"",obj:r.data(i.obj)||null}}return null};e.mixin(r.prototype,a,{_overwrite:function t(e,i){i=i||[];if(i.length){this._renderSuggestions(e,i)}else if(this.async&&this.templates.pending){this._renderPending(e)}else if(!this.async&&this.templates.notFound){this._renderNotFound(e)}else{this._empty()}this.trigger("rendered",i,false,this.name)},_append:function t(e,i){i=i||[];if(i.length&&this.$lastSuggestion.length){this._appendSuggestions(e,i)}else if(i.length){this._renderSuggestions(e,i)}else if(!this.$lastSuggestion.length&&this.templates.notFound){this._renderNotFound(e)}this.trigger("rendered",i,true,this.name)},_renderSuggestions:function t(e,i){var n;n=this._getSuggestionsFragment(e,i);this.$lastSuggestion=n.children().last();this.$el.html(n).prepend(this._getHeader(e,i)).append(this._getFooter(e,i))},_appendSuggestions:function t(e,i){var n,r;n=this._getSuggestionsFragment(e,i);r=n.children().last();this.$lastSuggestion.after(n);this.$lastSuggestion=r},_renderPending:function t(e){var i=this.templates.pending;this._resetLastSuggestion();i&&this.$el.html(i({query:e,dataset:this.name}))},_renderNotFound:function t(e){var i=this.templates.notFound;this._resetLastSuggestion();i&&this.$el.html(i({query:e,dataset:this.name}))},_empty:function t(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function n(r,a){var s=this,u;u=document.createDocumentFragment();e.each(a,function e(n){var a,o;o=s._injectQuery(r,n);a=t(s.templates.suggestion(o)).data(i.dataset,s.name).data(i.obj,n).data(i.val,s.displayFn(n)).addClass(s.classes.suggestion+" "+s.classes.selectable);u.appendChild(a[0])});this.highlight&&o({className:this.classes.highlight,node:u,pattern:r});return t(u)},_getFooter:function t(e,i){return this.templates.footer?this.templates.footer({query:e,suggestions:i,dataset:this.name}):null},_getHeader:function t(e,i){return this.templates.header?this.templates.header({query:e,suggestions:i,dataset:this.name}):null},_resetLastSuggestion:function e(){this.$lastSuggestion=t()},_injectQuery:function t(i,n){return e.isObject(n)?e.mixin({_query:i},n):n},update:function e(i){var n=this,r=false,a=false,o=0;this.cancel();this.cancel=function e(){r=true;n.cancel=t.noop;n.async&&n.trigger("asyncCanceled",i,n.name)};this.source(i,s,u);!a&&s([]);function s(t){if(a){return}a=true;t=(t||[]).slice(0,n.limit);o=t.length;n._overwrite(i,t);if(o<n.limit&&n.async){n.trigger("asyncRequested",i,n.name)}}function u(e){e=e||[];if(!r&&o<n.limit){n.cancel=t.noop;var a=Math.abs(o-n.limit);o+=a;n._append(i,e.slice(0,a));n.async&&n.trigger("asyncReceived",i,n.name)}}},cancel:t.noop,clear:function t(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function t(){return this.$el.is(":empty")},destroy:function e(){this.$el=t("<div>")}});return r;function s(t){t=t||e.stringify;return e.isFunction(t)?t:i;function i(e){return e[t]}}function u(i,n){return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||r};function r(i){return t('<div role="option">').attr("id",e.guid()).text(n(i))}}function l(t){return/^[_a-zA-Z0-9-]+$/.test(t)}}();var l=function(){"use strict";function i(i,n){var r=this;i=i||{};if(!i.node){t.error("node is required")}n.mixin(this);this.$node=t(i.node);this.query=null;this.datasets=e.map(i.datasets,a);function a(e){var i=r.$node.find(e.node).first();e.node=i.length?i:t("<div>").appendTo(r.$node);return new u(e,n)}}e.mixin(i.prototype,a,{_onSelectableClick:function e(i){this.trigger("selectableClicked",t(i.currentTarget))},_onRendered:function t(e,i,n,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",i,n,r)},_onCleared:function t(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function t(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function t(){return e.every(this.datasets,e.bind(function t(e){var i=e.isEmpty();this.$node.attr("aria-expanded",!i);return i},this))},_getSelectables:function t(){return this.$node.find(this.selectors.selectable)},_removeCursor:function t(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function t(e){var i,n,r,a;i=e.position().top;n=i+e.outerHeight(true);r=this.$node.scrollTop();a=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);if(i<0){this.$node.scrollTop(r+i)}else if(a<n){this.$node.scrollTop(r+(n-a))}},bind:function(){var i=this,n;n=e.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,n);this.$node.on("mouseover",this.selectors.selectable,function(){i.setCursor(t(this))});this.$node.on("mouseleave",function(){i._removeCursor()});e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)});return this},isOpen:function t(){return this.$node.hasClass(this.classes.open)},open:function t(){this.$node.scrollTop(0);this.$node.addClass(this.classes.open)},close:function t(){this.$node.attr("aria-expanded",false);this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function t(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function t(e){var i,n,r,a;n=this.getActiveSelectable();i=this._getSelectables();r=n?i.index(n):-1;a=r+e;a=(a+1)%(i.length+1)-1;a=a<-1?i.length-1:a;return a===-1?null:i.eq(a)},setCursor:function t(e){this._removeCursor();if(e=e&&e.first()){e.addClass(this.classes.cursor);this._ensureVisible(e)}},getSelectableData:function t(e){return e&&e.length?u.extractData(e):null},getActiveSelectable:function t(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function t(){var e=this._getSelectables().first();return e.length?e:null},update:function t(i){var n=i!==this.query;if(n){this.query=i;e.each(this.datasets,r)}return n;function r(t){t.update(i)}},empty:function t(){e.each(this.datasets,i);this.query=null;this.$node.addClass(this.classes.empty);function i(t){t.clear()}},destroy:function i(){this.$node.off(".tt");this.$node=t("<div>");e.each(this.datasets,n);function n(t){t.destroy()}}});return i}();var c=function(){"use strict";function i(i){this.$el=t("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"});i.$input.after(this.$el);e.each(i.menu.datasets,e.bind(function(t){if(t.onSync){t.onSync("rendered",e.bind(this.update,this));t.onSync("cleared",e.bind(this.cleared,this))}},this))}e.mixin(i.prototype,{update:function t(e,i){var n=i.length;var r;if(n===1){r={result:"result",is:"is"}}else{r={result:"results",is:"are"}}this.$el.text(n+" "+r.result+" "+r.is+" available, use up and down arrow keys to navigate.")},cleared:function(){this.$el.text("")}});return i}();var h=function(){"use strict";var t=l.prototype;function i(){l.apply(this,[].slice.call(arguments,0))}e.mixin(i.prototype,l.prototype,{open:function e(){!this._allDatasetsEmpty()&&this._show();return t.open.apply(this,[].slice.call(arguments,0))},close:function e(){this._hide();return t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function e(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}return t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function e(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}return t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function e(i){this.$node.css(i==="ltr"?this.css.ltr:this.css.rtl);return t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function t(){this.$node.hide()},_show:function t(){this.$node.css("display","block")}});return i}();var f=function(){"use strict";function i(i,r){var a,o,s,u,l,c,h,f,d,p,v;i=i||{};if(!i.input){t.error("missing input")}if(!i.menu){t.error("missing menu")}if(!i.eventBus){t.error("missing event bus")}r.mixin(this);this.eventBus=i.eventBus;this.minLength=e.isNumber(i.minLength)?i.minLength:1;this.input=i.input;this.menu=i.menu;this.enabled=true;this.autoselect=!!i.autoselect;this.active=false;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);a=n(this,"activate","open","_onFocused");o=n(this,"deactivate","_onBlurred");s=n(this,"isActive","isOpen","_onEnterKeyed");u=n(this,"isActive","isOpen","_onTabKeyed");l=n(this,"isActive","_onEscKeyed");c=n(this,"isActive","open","_onUpKeyed");h=n(this,"isActive","open","_onDownKeyed");f=n(this,"isActive","isOpen","_onLeftKeyed");d=n(this,"isActive","isOpen","_onRightKeyed");p=n(this,"_openIfActive","_onQueryChanged");v=n(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",a,this).onSync("blurred",o,this).onSync("enterKeyed",s,this).onSync("tabKeyed",u,this).onSync("escKeyed",l,this).onSync("upKeyed",c,this).onSync("downKeyed",h,this).onSync("leftKeyed",f,this).onSync("rightKeyed",d,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",v,this).onSync("langDirChanged",this._onLangDirChanged,this)}e.mixin(i.prototype,{_hacks:function i(){var n,r;n=this.input.$input||t("<div>");r=this.menu.$node||t("<div>");n.on("blur.tt",function(t){var i,a,o;i=document.activeElement;a=r.is(i);o=r.has(i).length>0;if(e.isMsie()&&(a||o)){t.preventDefault();t.stopImmediatePropagation();e.defer(function(){n.focus()})}});r.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function t(e,i){this.select(i)},_onDatasetCleared:function t(){this._updateHint()},_onDatasetRendered:function t(e,i,n,r){this._updateHint();if(this.autoselect){var a=this.selectors.cursor.substr(1);this.menu.$node.find(this.selectors.suggestion).first().addClass(a)}this.eventBus.trigger("render",i,n,r)},_onAsyncRequested:function t(e,i,n){this.eventBus.trigger("asyncrequest",n,i)},_onAsyncCanceled:function t(e,i,n){this.eventBus.trigger("asynccancel",n,i)},_onAsyncReceived:function t(e,i,n){this.eventBus.trigger("asyncreceive",n,i)},_onFocused:function t(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function t(){if(this.input.hasQueryChangedSinceLastFocus()){this.eventBus.trigger("change",this.input.getQuery())}},_onEnterKeyed:function t(e,i){var n;if(n=this.menu.getActiveSelectable()){if(this.select(n)){i.preventDefault();i.stopPropagation()}}else if(this.autoselect){if(this.select(this.menu.getTopSelectable())){i.preventDefault();i.stopPropagation()}}},_onTabKeyed:function t(e,i){var n;if(n=this.menu.getActiveSelectable()){this.select(n)&&i.preventDefault()}else if(n=this.menu.getTopSelectable()){this.autocomplete(n)&&i.preventDefault()}},_onEscKeyed:function t(){this.close()},_onUpKeyed:function t(){this.moveCursor(-1)},_onDownKeyed:function t(){this.moveCursor(+1)},_onLeftKeyed:function t(){if(this.dir==="rtl"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())}},_onRightKeyed:function t(){if(this.dir==="ltr"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())}},_onQueryChanged:function t(e,i){this._minLengthMet(i)?this.menu.update(i):this.menu.empty()},_onWhitespaceChanged:function t(){this._updateHint()},_onLangDirChanged:function t(e,i){if(this.dir!==i){this.dir=i;this.menu.setLanguageDirection(i)}},_openIfActive:function t(){this.isActive()&&this.open()},_minLengthMet:function t(i){i=e.isString(i)?i:this.input.getQuery()||"";return i.length>=this.minLength},_updateHint:function t(){var i,n,r,a,o,u,l;i=this.menu.getTopSelectable();n=this.menu.getSelectableData(i);r=this.input.getInputValue();if(n&&!e.isBlankString(r)&&!this.input.hasOverflow()){a=s.normalizeQuery(r);o=e.escapeRegExChars(a);u=new RegExp("^(?:"+o+")(.+$)","i");l=u.exec(n.val);l&&this.input.setHint(r+l[1])}else{this.input.clearHint()}},isEnabled:function t(){return this.enabled},enable:function t(){this.enabled=true},disable:function t(){this.enabled=false},isActive:function t(){return this.active},activate:function t(){if(this.isActive()){return true}else if(!this.isEnabled()||this.eventBus.before("active")){return false}else{this.active=true;this.eventBus.trigger("active");return true}},deactivate:function t(){if(!this.isActive()){return true}else if(this.eventBus.before("idle")){return false}else{this.active=false;this.close();this.eventBus.trigger("idle");return true}},isOpen:function t(){return this.menu.isOpen()},open:function t(){if(!this.isOpen()&&!this.eventBus.before("open")){this.menu.open();this._updateHint();this.eventBus.trigger("open")}return this.isOpen()},close:function t(){if(this.isOpen()&&!this.eventBus.before("close")){this.menu.close();this.input.clearHint();this.input.resetInputValue();this.eventBus.trigger("close")}return!this.isOpen()},setVal:function t(i){this.input.setQuery(e.toStr(i))},getVal:function t(){return this.input.getQuery()},select:function t(e){var i=this.menu.getSelectableData(e);if(i&&!this.eventBus.before("select",i.obj,i.dataset)){this.input.setQuery(i.val,true);this.eventBus.trigger("select",i.obj,i.dataset);this.close();return true}return false},autocomplete:function t(e){var i,n,r;i=this.input.getQuery();n=this.menu.getSelectableData(e);r=n&&i!==n.val;if(r&&!this.eventBus.before("autocomplete",n.obj,n.dataset)){this.input.setQuery(n.val);this.eventBus.trigger("autocomplete",n.obj,n.dataset);return true}return false},moveCursor:function t(e){var i,n,r,a,o,s,u;i=this.input.getQuery();n=this.menu.selectableRelativeToCursor(e);r=this.menu.getSelectableData(n);a=r?r.obj:null;o=r?r.dataset:null;u=n?n.attr("id"):null;this.input.trigger("cursorchange",u);s=this._minLengthMet()&&this.menu.update(i);if(!s&&!this.eventBus.before("cursorchange",a,o)){this.menu.setCursor(n);if(r){this.input.setInputValue(r.val)}else{this.input.resetInputValue();this._updateHint()}this.eventBus.trigger("cursorchange",a,o);return true}return false},destroy:function t(){this.input.destroy();this.menu.destroy()}});return i;function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}}();(function(){"use strict";var n,a,o;n=t.fn.typeahead;a={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};o={initialize:function n(o,u){var v;u=e.isArray(u)?u:[].slice.call(arguments,1);o=o||{};v=i(o.classNames);return this.each(g);function g(){var i,n,g,y,_,b,w,O,x,S,C,T;e.each(u,function(t){t.highlight=!!o.highlight});i=t(this);n=t(v.html.wrapper);g=m(o.hint);y=m(o.menu);_=o.hint!==false&&!g;b=o.menu!==false&&!y;_&&(g=d(i,v));b&&(y=t(v.html.menu).css(v.css.menu));g&&g.val("");i=p(i,v);if(_||b){n.css(v.css.wrapper);i.css(_?v.css.input:v.css.inputWithNoHint);i.wrap(n).parent().prepend(_?g:null).append(b?y:null)}T=b?h:l;w=new r({el:i});O=new s({hint:g,input:i},v);x=new T({node:y,datasets:u},v);S=new c({$input:i,menu:x});C=new f({input:O,menu:x,eventBus:w,minLength:o.minLength,autoselect:o.autoselect},v);i.data(a.www,v);i.data(a.typeahead,C)}},isEnabled:function t(){var e;u(this.first(),function(t){e=t.isEnabled()});return e},enable:function t(){u(this,function(t){t.enable()});return this},disable:function t(){u(this,function(t){t.disable()});return this},isActive:function t(){var e;u(this.first(),function(t){e=t.isActive()});return e},activate:function t(){u(this,function(t){t.activate()});return this},deactivate:function t(){u(this,function(t){t.deactivate()});return this},isOpen:function t(){var e;u(this.first(),function(t){e=t.isOpen()});return e},open:function t(){u(this,function(t){t.open()});return this},close:function t(){u(this,function(t){t.close()});return this},select:function e(i){var n=false,r=t(i);u(this.first(),function(t){n=t.select(r)});return n},autocomplete:function e(i){var n=false,r=t(i);u(this.first(),function(t){n=t.autocomplete(r)});return n},moveCursor:function t(e){var i=false;u(this.first(),function(t){i=t.moveCursor(e)});return i},val:function t(i){var n;if(!arguments.length){u(this.first(),function(t){n=t.getVal()});return n}else{u(this,function(t){t.setVal(e.toStr(i))});return this}},destroy:function t(){u(this,function(t,e){g(e);t.destroy()});return this}};t.fn.typeahead=function(t){if(o[t]){return o[t].apply(this,[].slice.call(arguments,1))}else{return o.initialize.apply(this,arguments)}};t.fn.typeahead.noConflict=function e(){t.fn.typeahead=n;return this};function u(e,i){e.each(function(){var e=t(this),n;(n=e.data(a.typeahead))&&i(n,e)})}function d(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(v(t)).prop({readonly:true,required:false}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1})}function p(t,e){t.data(a.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")});t.addClass(e.classes.input).attr({spellcheck:false});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function v(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function g(t){var i,n;i=t.data(a.www);n=t.parent().filter(i.selectors.wrapper);e.each(t.data(a.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)});t.removeData(a.typeahead).removeData(a.www).removeData(a.attr).removeClass(i.classes.input);if(n.length){t.detach().insertAfter(n);n.remove()}}function m(i){var n,r;n=e.isJQuery(i)||e.isElement(i);r=n?t(i).first():[];return r.length?r:null}})()})}).call(this,i(440).setImmediate)},function(t,e){t.exports='<div class="btn-group btn-block" ng-class="::{\'dropup\': scaleselectorCtrl.options.dropup}"> <button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-expanded=false> <span ng-bind-html="scaleselectorCtrl.currentScale | ngeoScalify | ngeoTrustHtml"></span>&nbsp;<i class=caret></i> </button> <ul class="dropdown-menu btn-block" role=menu> <li ng-repeat="zoomLevel in ::scaleselectorCtrl.zoomLevels"> <a href ng-click=scaleselectorCtrl.changeZoom(zoomLevel) ng-bind-html="scaleselectorCtrl.getScale(zoomLevel) | ngeoScalify | ngeoTrustHtml"> </a> </li> </ul> </div> '},function(t,e,i){(function(t){+function(t){"use strict";var e=".dropdown-backdrop";var i='[data-toggle="dropdown"]';var n=function(e){t(e).on("click.bs.dropdown",this.toggle)};n.VERSION="3.3.7";function r(e){var i=e.attr("data-target");if(!i){i=e.attr("href");i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}var n=i&&t(i);return n&&n.length?n:e.parent()}function a(n){if(n&&n.which===3)return;t(e).remove();t(i).each(function(){var e=t(this);var i=r(e);var a={relatedTarget:this};if(!i.hasClass("open"))return;if(n&&n.type=="click"&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target))return;i.trigger(n=t.Event("hide.bs.dropdown",a));if(n.isDefaultPrevented())return;e.attr("aria-expanded","false");i.removeClass("open").trigger(t.Event("hidden.bs.dropdown",a))})}n.prototype.toggle=function(e){var i=t(this);if(i.is(".disabled, :disabled"))return;var n=r(i);var o=n.hasClass("open");a();if(!o){if("ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length){t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",a)}var s={relatedTarget:this};n.trigger(e=t.Event("show.bs.dropdown",s));if(e.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true");n.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return false};n.prototype.keydown=function(e){if(!/(38|40|27|32)/.test(e.which)||/input|textarea/i.test(e.target.tagName))return;var n=t(this);e.preventDefault();e.stopPropagation();if(n.is(".disabled, :disabled"))return;var a=r(n);var o=a.hasClass("open");if(!o&&e.which!=27||o&&e.which==27){if(e.which==27)a.find(i).trigger("focus");return n.trigger("click")}var s=" li:not(.disabled):visible a";var u=a.find(".dropdown-menu"+s);if(!u.length)return;var l=u.index(e.target);if(e.which==38&&l>0)l--;if(e.which==40&&l<u.length-1)l++;if(!~l)l=0;u.eq(l).trigger("focus")};function o(e){return this.each(function(){var i=t(this);var r=i.data("bs.dropdown");if(!r)i.data("bs.dropdown",r=new n(this));if(typeof e=="string")r[e].call(i)})}var s=t.fn.dropdown;t.fn.dropdown=o;t.fn.dropdown.Constructor=n;t.fn.dropdown.noConflict=function(){t.fn.dropdown=s;return this};t(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,n.prototype.toggle).on("keydown.bs.dropdown.data-api",i,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(t)}).call(this,i(51))},function(t,e){t.exports='<span ng-if=::!layertreeCtrl.isRoot>{{::layertreeCtrl.node.name}}</span> <input type=checkbox ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children" ng-model=layertreeCtrl.getSetActive ng-model-options="{getterSetter: true}"/> <ul ng-if=::layertreeCtrl.node.children> <li ng-repeat="node in ::layertreeCtrl.node.children" ngeo-layertree=::node ngeo-layertree-notroot ngeo-layertree-map=layertreeCtrl.map ngeo-layertree-nodelayerexpr=layertreeCtrl.nodelayerExpr ngeo-layertree-listenersexpr=layertreeCtrl.listenersExpr> </li> </ul> '},function(t,e,i){(function(t){+function(t){"use strict";var e=function(i,n){this.$element=t(i);this.options=t.extend({},e.DEFAULTS,n);this.$trigger=t('[data-toggle="collapse"][href="#'+i.id+'"],'+'[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle)this.toggle()};e.VERSION="3.3.7";e.TRANSITION_DURATION=350;e.DEFAULTS={toggle:true};e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"};e.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var i;var r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(r&&r.length){i=r.data("bs.collapse");if(i&&i.transitioning)return}var a=t.Event("show.bs.collapse");this.$element.trigger(a);if(a.isDefaultPrevented())return;if(r&&r.length){n.call(r,"hide");i||r.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var u=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[o](this.$element[0][u])};e.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var i=t.Event("hide.bs.collapse");this.$element.trigger(i);if(i.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var r=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(e.TRANSITION_DURATION)};e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};e.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(e,n){var r=t(n);this.addAriaAndCollapsedClass(i(r),r)},this)).end()};e.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i);e.toggleClass("collapsed",!i).attr("aria-expanded",i)};function i(e){var i;var n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function n(i){return this.each(function(){var n=t(this);var r=n.data("bs.collapse");var a=t.extend({},e.DEFAULTS,n.data(),typeof i=="object"&&i);if(!r&&a.toggle&&/show|hide/.test(i))a.toggle=false;if(!r)n.data("bs.collapse",r=new e(this,a));if(typeof i=="string")r[i]()})}var r=t.fn.collapse;t.fn.collapse=n;t.fn.collapse.Constructor=e;t.fn.collapse.noConflict=function(){t.fn.collapse=r;return this};t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var r=t(this);if(!r.attr("data-target"))e.preventDefault();var a=i(r);var o=a.data("bs.collapse");var s=o?"toggle":r.data();n.call(a,s)})}(t)}).call(this,i(51))},function(t,e){t.exports='<div class=ngeo-grid-table-container> <table float-thead=ctrl.floatTheadConfig ng-model=ctrl.configuration.data class="table table-bordered table-striped table-hover"> <thead class=table-header> <tr> <th ng-repeat="columnDefs in ctrl.configuration.columnDefs" ng-click=ctrl.sort(columnDefs.name) ng-bind-html="columnDefs.name | ngeoTrustHtml | translate"> <i ng-show="ctrl.sortedBy !== columnDefs.name" class="fa fa-fw"></i> <i ng-show="ctrl.sortedBy === columnDefs.name && ctrl.sortAscending === true" class="fa fa-caret-up"></i> <i ng-show="ctrl.sortedBy === columnDefs.name && ctrl.sortAscending === false" class="fa fa-caret-down"></i> </th> </tr> </thead> <tbody> <tr ng-repeat="attributes in ctrl.configuration.data" ng-class="[\'row-\' + ctrl.configuration.getRowUid(attributes), ctrl.configuration.isRowSelected(attributes) ? \'ngeo-grid-active\': \'\']" ng-click="ctrl.clickRow(attributes, $event)" ng-mousedown=ctrl.preventTextSelection($event)> <td ng-repeat="columnDefs in ctrl.configuration.columnDefs" ng-bind-html="attributes[columnDefs.name] | removeCDATA | ngeoTrustHtml"></td> </tr> </tbody> </table> </div> '},function(t,e,i){(function(t){
/**
 * floatThead wrapper for AngularJS
 * @version v0.1.0 - 2015-10-25
 * @link https://github.com/brandon-barker/angular-floatThead
 * @author Brandon Barker
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(){"use strict";angular.module("floatThead",[]).directive("floatThead",["$timeout","$log",e]);function e(e,i){var n={require:"?ngModel",scope:{floatThead:"=?",floatTheadEnabled:"=?"},controller:["$scope","$element","$attrs",function(t,e,i){if(!i.hasOwnProperty("floatTheadEnabled")){t.floatTheadEnabled=i.floatTheadEnabled=true}if(!i.hasOwnProperty("floatThead")||i.floatThead===""){t.floatThead=i.floatThead={}}}],link:r,restrict:"A"};return n;function r(n,r,a,o){n.$watch("floatTheadEnabled",function(e){if(e===true){if(angular.isObject(n.floatThead)){t(r).floatThead(n.floatThead)}}else{t(r).floatThead("destroy")}});n.$watch("floatThead",function(e,i){if(e===i||!n.floatTheadEnabled){return}t(r).floatThead("destroy");if(angular.isObject(e)){t(r).floatThead(e)}},true);if(o){o.$formatters.push(function(){if(n.floatTheadEnabled&&angular.isObject(n.floatThead)){e(function(){t(r).floatThead("reflow")})}})}else{i.info("floatThead: ngModel not provided!")}r.bind("update",function(){e(function(){t(r).floatThead("reflow")},0)});r.bind("$destroy",function(){t(r).floatThead("destroy")})}}})()}).call(this,i(51))},function(t,e,i){(function(e){/** @preserve jQuery.floatThead 2.1.2 - https://mkoryak.github.io/floatThead/ - Copyright (c) 2012 - 2018 Misha Koryak **/
// @license MIT
(function(t){t.floatThead=t.floatThead||{};t.floatThead.defaults={headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function(e){return t([])},responsiveContainer:function(e){return t([])},getSizingRow:function(t,e,i){return t.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:true,autoReflow:false,debug:false,support:{bootstrap:true,datatables:true,jqueryUI:true,perfectScrollbar:true},floatContainerCss:{"overflow-x":"hidden"}};var e=function e(){var i={};var n=Object.prototype.hasOwnProperty,r=["Arguments","Function","String","Number","Date","RegExp"];i.has=function(t,e){return n.call(t,e)};i.keys=Object.keys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)if(i.has(t,n))e.push(n);return e};var a=0;i.uniqueId=function(t){var e=++a+"";return t?t+e:e};t.each(r,function(){var t=this;i["is"+t]=function(e){return Object.prototype.toString.call(e)=="[object "+t+"]"}});i.debounce=function(t,e,i){var n,r,a,o,s;return function(){a=this;r=arguments;o=new Date;var u=function(){var l=new Date-o;if(l<e){n=setTimeout(u,e-l)}else{n=null;if(!i)s=t.apply(a,r)}};var l=i&&!n;if(!n){n=setTimeout(u,e)}if(l)s=t.apply(a,r);return s}};return i}();var i=typeof MutationObserver!=="undefined";var n=function(){for(var t=3,e=document.createElement("b"),i=e.all||[];t=1+t,e.innerHTML="\x3c!--[if gt IE "+t+"]><i><![endif]--\x3e",i[0];);return 4<t?t:document.documentMode}();var r=/Gecko\//.test(navigator.userAgent);var a=/WebKit\//.test(navigator.userAgent);if(!(n||r||a)){n=11}var o=function(){if(a){var e=t("<div>").css("width",0).append(t("<table>").css("max-width","100%").append(t("<tr>").append(t("<th>").append(t("<div>").css("min-width",100).text("X")))));t("body").append(e);var i=e.find("table").width()==0;e.remove();return i}return false};var s=!r&&!n;var u=t(window);var l=r&&window.matchMedia;if(!window.matchMedia||l){var c=window.onbeforeprint;var h=window.onafterprint;window.onbeforeprint=function(){c&&c();u.triggerHandler("beforeprint")};window.onafterprint=function(){h&&h();u.triggerHandler("afterprint")}}function f(t,i){if(n==8){var r=u.width();var a=e.debounce(function(){var t=u.width();if(r!=t){r=t;i()}},1);u.on(t,a)}else{u.on(t,e.debounce(i,1))}}function d(e){var i=e[0];var n=i.parentElement;do{var r=window.getComputedStyle(n).getPropertyValue("overflow");if(r!="visible")break}while(n=n.parentElement);if(n==document.body){return t([])}return t(n)}function p(t){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+t)}function v(t){var e=t.getBoundingClientRect();return e.width||e.right-e.left}function g(){var t=document.createElement("scrolltester");t.style.cssText="width:100px;height:100px;overflow:scroll!important;position:absolute;top:-9999px;display:block";document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;document.body.removeChild(t);return e}function m(t){if(t.dataTableSettings){for(var e=0;e<t.dataTableSettings.length;e++){var i=t.dataTableSettings[e].nTable;if(t[0]==i){return true}}}return false}function y(t,e,i){var n=i?"outerWidth":"width";if(o&&t.css("max-width")){var r=0;if(i){r+=parseInt(t.css("borderLeft"),10);r+=parseInt(t.css("borderRight"),10)}for(var a=0;a<e.length;a++){r+=v(e.get(a))}return r}else{return t[n]()}}t.fn.floatThead=function(r){r=r||{};if(n<8){return this}var c=null;if(e.isFunction(o)){o=o()}if(e.isString(r)){var h=r;var _=Array.prototype.slice.call(arguments,1);var b=this;this.filter("table").each(function(){var i=t(this);var n=i.data("floatThead-lazy");if(n){i.floatThead(n)}var r=i.data("floatThead-attached");if(r&&e.isFunction(r[h])){var a=r[h].apply(this,_);if(a!==undefined){b=a}}});return b}var w=t.extend({},t.floatThead.defaults||{},r);t.each(r,function(i,n){if(!(i in t.floatThead.defaults)&&w.debug){p("Used ["+i+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+e.keys(t.floatThead.defaults).join(", "))}});if(w.debug){var O=t.fn.jquery.split(".");if(parseInt(O[0],10)==1&&parseInt(O[1],10)<=7){p("jQuery version "+t.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}}this.filter(":not(."+w.floatTableClass+")").each(function(){var r=e.uniqueId();var o=t(this);if(o.data("floatThead-attached")){return true}if(!o.is("table")){throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();')}i=w.autoReflow&&i;var h=o.children("thead:first");var _=o.children("tbody:first");if(h.length==0||_.length==0){if(w.debug){if(h.length==0){p("The thead element is missing.")}else{p("The tbody element is missing.")}}o.data("floatThead-lazy",w);o.unbind("reflow").one("reflow",function(){o.floatThead(w)});return}if(o.data("floatThead-lazy")){o.unbind("reflow")}o.data("floatThead-lazy",false);var b=true;var O,x;var S={vertical:0,horizontal:0};if(e.isFunction(g)){g=g()}var C=0;if(w.scrollContainer===true){w.scrollContainer=d}var T=w.scrollContainer(o)||t([]);var E=T.length>0;var M=E?t([]):w.responsiveContainer(o)||t([]);var j=gt();var k=null;if(w.position==="auto"){k=null}else if(w.position==="fixed"){k=false}else if(w.position==="absolute"){k=true}else if(w.debug){p('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',w.position)}if(k==null){k=E}var R=o.find("caption");var A=R.length==1;if(A){var I=(R.css("caption-side")||R.attr("align")||"top")==="top"}var P=t("<fthfoot>").css({display:"table-footer-group","border-spacing":0,height:0,"border-collapse":"collapse",visibility:"hidden"});var D=false;var N=t([]);var $=n<=9&&!E&&k;var L=t("<table/>");var F=t("<colgroup/>");var G=o.children("colgroup:first");var U=true;if(G.length==0){G=t("<colgroup/>");U=false}var H=t("<fthtr>").css({display:"table-row","border-spacing":0,height:0,"border-collapse":"collapse"});var W=t("<div>").css(w.floatContainerCss).attr("aria-hidden","true");var Y=false;var z=t("<thead/>");var V=t('<tr class="size-row" aria-hidden="true"/>');var B=t([]);var q=t([]);var K=t([]);var X=t([]);z.append(V);o.prepend(G);if(s){P.append(H);o.append(P)}L.append(F);W.append(L);if(w.copyTableClass){L.attr("class",o.attr("class"))}L.attr({cellpadding:o.attr("cellpadding"),cellspacing:o.attr("cellspacing"),border:o.attr("border")});var Z=o.css("display");L.css({borderCollapse:o.css("borderCollapse"),border:o.css("border"),display:Z});if(!E){L.css("width","auto")}if(Z==="none"){Y=true}L.addClass(w.floatTableClass).css({margin:0,"border-bottom-width":0});if(k){var Q=function(e,i){var n=e.css("position");var r=n=="relative"||n=="absolute";var a=e;if(!r||i){var o={paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight")};W.css(o);a=e.data("floatThead-containerWrap")||e.wrap(t("<div>").addClass(w.floatWrapperClass).css({position:"relative",clear:"both"})).parent();e.data("floatThead-containerWrap",a);D=true}return a};if(E){N=Q(T,true);N.prepend(W)}else{N=Q(o);o.before(W)}}else{o.before(W)}W.css({position:k?"absolute":"fixed",marginTop:0,top:k?0:"auto",zIndex:w.zIndex,willChange:"transform"});W.addClass(w.floatContainerClass);ot();var J={"table-layout":"fixed"};var tt={"table-layout":o.css("tableLayout")||"auto"};var et=o[0].style.width||"";var it=o.css("minWidth")||"";function nt(t){return t+".fth-"+r+".floatTHead"}function rt(){var e=0;h.children("tr:visible").each(function(){e+=t(this).outerHeight(true)});if(o.css("border-collapse")=="collapse"){var i=parseInt(o.css("border-top-width"),10);var n=parseInt(o.find("thead tr:first").find(">*:first").css("border-top-width"),10);if(i>n){e-=i/2}}V.outerHeight(e);B.outerHeight(e)}function at(){var t=y(o,X,true);var e=j?M:T;var i=e.length?v(e[0]):t;var n=e.css("overflow-y")!="hidden"?i-S.vertical:i;W.width(n);if(E){var r=100*t/n;L.css("width",r+"%")}else{L.outerWidth(t)}}function ot(){O=(e.isFunction(w.top)?w.top(o):w.top)||0;x=(e.isFunction(w.bottom)?w.bottom(o):w.bottom)||0}function st(){var e;var i=h.find(w.headerCellSelector);if(U){e=G.find("col").length}else{e=0;i.each(function(){e+=parseInt(t(this).attr("colspan")||1,10)})}if(e!==C){C=e;var n=[],r=[],a=[],o;for(var u=0;u<e;u++){o=i.eq(u).text();n.push('<th class="floatThead-col" aria-label="'+o+'"/>');r.push("<col/>");a.push(t("<fthtd>").css({display:"table-cell",height:0,width:"auto"}))}r=r.join("");n=n.join("");if(s){H.empty();H.append(a);X=H.find("fthtd")}V.html(n);B=V.find("th");if(!U){G.html(r)}q=G.find("col");F.html(r);K=F.find("col")}return e}function ut(){if(!b){b=true;if(k){var t=y(o,X,true);var e=N.width();if(t>e){o.css("minWidth",t)}}o.css(J);L.css(J);L.append(h);_.before(z);rt()}}function lt(){if(b){b=false;if(k){o.width(et)}z.detach();o.prepend(h);o.css(tt);L.css(tt);o.css("minWidth",it);o.css("minWidth",y(o,X))}}var ct=false;function ht(t){if(ct!=t){ct=t;o.triggerHandler("floatThead",[t,W])}}function ft(t){if(k!=t){k=t;W.css({position:k?"absolute":"fixed"})}}function dt(t,e,i,n){if(s){return i}else if(n){return w.getSizingRow(t,e,i)}else{return e}}function pt(){var t;var e=st();return function(){var i=W.scrollLeft();q=G.find("col");var r=dt(o,q,X,n);if(r.length==e&&e>0){if(!U){for(t=0;t<e;t++){q.eq(t).css("width","")}}lt();var a=[];for(t=0;t<e;t++){a[t]=v(r.get(t))}for(t=0;t<e;t++){K.eq(t).width(a[t]);q.eq(t).width(a[t])}ut()}else{L.append(h);o.css(tt);L.css(tt);rt()}W.scrollLeft(i);o.triggerHandler("reflowed",[W])}}function vt(t){var e=T.css("border-"+t+"-width");var i=0;if(e&&~e.indexOf("px")){i=parseInt(e,10)}return i}function gt(){return M.css("overflow-x")=="auto"}function mt(){var t=T.scrollTop();var e;var i=0;var n=A?R.outerHeight(true):0;var r=I?n:-n;var s=W.height();var l=o.offset();var c=0;var h=0;if(E){var f=T.offset();i=l.top-f.top+t;if(A&&I){i+=n}c=vt("left");h=vt("top");i-=h}else{e=l.top-O-s+x+S.horizontal}var d=u.scrollTop();var p=u.scrollLeft();var v=function(){return(gt()?M:T).scrollLeft()||0};var g=v();return function(f){j=gt();var m=o[0].offsetWidth<=0&&o[0].offsetHeight<=0;if(!m&&Y){Y=false;setTimeout(function(){o.triggerHandler("reflow")},1);return null}if(m){Y=true;if(!k){return null}}if(f=="windowScroll"){d=u.scrollTop();p=u.scrollLeft()}else if(f=="containerScroll"){if(M.length){if(!j){return}g=M.scrollLeft()}else{t=T.scrollTop();g=T.scrollLeft()}}else if(f!="init"){d=u.scrollTop();p=u.scrollLeft();t=T.scrollTop();g=v()}if(a&&(d<0||p<0)){return}if($){if(f=="windowScrollDone"){ft(true)}else{ft(false)}}else if(f=="windowScrollDone"){return null}l=o.offset();if(A&&I){l.top+=n}var y,_;var b=o.outerHeight();if(E&&k){if(i>=t){var w=i-t+h;y=w>0?w:0;ht(false)}else{y=D?h:t;ht(true)}_=c}else if(!E&&k){if(d>e+b+r){y=b-s+r}else if(l.top>=d+O){y=0;lt();ht(false)}else{y=O+d-l.top+i+(I?n:0);ut();ht(true)}_=g}else if(E&&!k){if(i>t||t-i>b){y=l.top-d;lt();ht(false)}else{y=l.top+t-d-i;ut();ht(true)}_=l.left+g-p}else if(!E&&!k){if(d>e+b+r){y=b+O-d+e+r}else if(l.top>d+O){y=l.top-d;ut();ht(false)}else{y=O;ht(true)}_=l.left+g-p}return{top:Math.round(y),left:Math.round(_)}}}function yt(){var t=null;var e=null;var i=null;return function(r,a,o){if(r!=null&&(t!=r.top||e!=r.left)){if(n===8){W.css({top:r.top,left:r.left})}else{var s="translateX("+r.left+"px) translateY("+r.top+"px)";var u={"-webkit-transform":s,"-moz-transform":s,"-ms-transform":s,"-o-transform":s,transform:s,top:0};u[/rtl/i.test(document.documentElement.dir||"")?"right":"left"]=0;W.css(u)}t=r.top;e=r.left}if(a){at()}if(o){rt()}var l=(j?M:T).scrollLeft();if(!k||i!=l){W.scrollLeft(l);i=l}}}function _t(){if(T.length){if(w.support&&w.support.perfectScrollbar&&T.data().perfectScrollbar){S={horizontal:0,vertical:0}}else{if(T.css("overflow-x")=="scroll"){S.horizontal=g}else{var t=T.width(),e=y(o,X);var i=n<r?g:0;S.horizontal=t-i<e?g:0}if(T.css("overflow-y")=="scroll"){S.vertical=g}else{var n=T.height(),r=o.height();var a=t<e?g:0;S.vertical=n-a<r?g:0}}}}_t();var bt;var wt=function(){bt=pt();bt()};wt();var Ot=mt();var xt=yt();xt(Ot("init"),true);var St=e.debounce(function(){xt(Ot("windowScrollDone"),false)},1);var Ct=function(){xt(Ot("windowScroll"),false);if($){St()}};var Tt=function(){xt(Ot("containerScroll"),false)};var Et=function(){if(o.is(":hidden")){return}ot();_t();wt();Ot=mt();xt=yt();xt(Ot("resize"),true,true)};var Mt=e.debounce(function(){if(o.is(":hidden")){return}_t();ot();wt();Ot=mt();xt(Ot("reflow"),true,true)},1);var jt=function(){lt()};var kt=function(){ut()};var Rt=function(t){if(t.matches){jt()}else{kt()}};var At=null;if(window.matchMedia&&window.matchMedia("print").addListener&&!l){At=window.matchMedia("print");At.addListener(Rt)}else{u.on("beforeprint",jt);u.on("afterprint",kt)}if(E){if(k){T.on(nt("scroll"),Tt)}else{T.on(nt("scroll"),Tt);u.on(nt("scroll"),Ct)}}else{M.on(nt("scroll"),Tt);u.on(nt("scroll"),Ct)}u.on(nt("load"),Mt);f(nt("resize"),Et);o.on("reflow",Mt);if(w.support&&w.support.datatables&&m(o)){o.on("filter",Mt).on("sort",Mt).on("page",Mt)}if(w.support&&w.support.bootstrap){u.on(nt("shown.bs.tab"),Mt)}if(w.support&&w.support.jqueryUI){u.on(nt("tabsactivate"),Mt)}if(i){var It=null;if(e.isFunction(w.autoReflow)){It=w.autoReflow(o,T)}if(!It){It=T.length?T[0]:o[0]}c=new MutationObserver(function(t){var e=function(t){return t&&t[0]&&(t[0].nodeName=="THEAD"||t[0].nodeName=="TD"||t[0].nodeName=="TH")};for(var i=0;i<t.length;i++){if(!(e(t[i].addedNodes)||e(t[i].removedNodes))){Mt();break}}});c.observe(It,{childList:true,subtree:true})}o.data("floatThead-attached",{destroy:function(){var t=".fth-"+r;lt();o.css(tt);G.remove();s&&P.remove();if(z.parent().length){z.replaceWith(h)}ht(false);if(i){c.disconnect();c=null}o.off("reflow reflowed");T.off(t);M.off(t);if(D){if(T.length){T.unwrap()}else{o.unwrap()}}if(E){T.data("floatThead-containerWrap",false)}else{o.data("floatThead-containerWrap",false)}o.css("minWidth",it);W.remove();o.data("floatThead-attached",false);u.off(t);if(At){At.removeListener(Rt)}jt=kt=function(){};return function t(){return o.floatThead(w)}},reflow:function(){Mt()},setHeaderHeight:function(){rt()},getFloatContainer:function(){return W},getRowGroups:function(){if(b){return W.find(">table>thead").add(o.children("tbody,tfoot"))}else{return o.children("thead,tbody,tfoot")}}})});return this}})(function(){var n=e;if(typeof t!=="undefined"&&t.exports&&!n){n=i(51)}return n}())}).call(this,i(51))},function(t,e){t.exports='<div class=ngeo-googlestreetview-instructions ng-if="$ctrl.location === null" translate> Click on a road on the map to start StreetView. </div> <div class=ngeo-googlestreetview-nodata ng-if=$ctrl.noDataAtLocation translate> Street View data not found for this location. </div> '},function(t,e){t.exports='<div class=dropdown> <a class="btn btn-link dropdown-toggle ngeo-filter-condition-button" ng-class="{disabled: $ctrl.aRuleIsActive}" type=button data-toggle=dropdown ng-disabled=$ctrl.aRuleIsActive> <span class="fa fa-cog"></span> <span class=caret></span> </a> <ul class=dropdown-menu> <li class=ngeo-filter-condition-criteria-header translate>Criteria taken into account</li> <li ng-repeat="condition in ::$ctrl.conditions"> <a href ng-click=$ctrl.setCondition(condition)> <span ng-class="{\'ngeo-filter-condition-criteria-active\': condition.value == $ctrl.datasource.filterCondition}" class="fa fa-check ngeo-filter-condition-criteria"> </span> <span>{{::condition.text | translate}}</span> </a> </li> </ul> </div> <ngeo-rule ng-repeat="rule in $ctrl.directedRules" feature-overlay=::$ctrl.featureOverlay class=ngeo-filter-rule-directed map=$ctrl.map rule=rule tool-group=$ctrl.toolGroup> </ngeo-rule> <hr class=ngeo-filter-separator-rules /> <div ng-repeat="rule in $ctrl.customRules"> <a class="btn btn-xs btn-link ngeo-filter-rule-custom-rm-btn" ng-click="!$ctrl.aRuleIsActive && $ctrl.removeCustomRule(rule)" ng-disabled=$ctrl.aRuleIsActive href> <span class="fa fa-remove"></span> </a> <ngeo-rule feature-overlay=::$ctrl.featureOverlay class=ngeo-filter-rule-custom map=$ctrl.map rule=rule tool-group=$ctrl.toolGroup> </ngeo-rule> </div> <div class=dropdown> <a class="btn btn-link dropdown-toggle" ng-class="{disabled: $ctrl.aRuleIsActive}" type=button data-toggle=dropdown ng-disabled=$ctrl.aRuleIsActive> <span translate>+ Add a new criteria</span> <span class=caret></span> </a> <ul class=dropdown-menu> <li ng-repeat="attribute in ::$ctrl.geometryAttributes"> <a href ng-click=$ctrl.createAndAddCustomRule(attribute)> <span translate>Spatial filter</span> </a> </li> <li role=presentation class=divider></li> <li ng-repeat="attribute in ::$ctrl.otherAttributes"> <a href ng-click=$ctrl.createAndAddCustomRule(attribute)> <span>{{::attribute.name | translate}}</span> </a> </li> </ul> </div> <hr class=ngeo-filter-separator-criteria /> <a class="btn btn-link" type=button ng-click=$ctrl.apply() ng-disabled="$ctrl.hasARule() === false || $ctrl.datasource.visible === false"> <span class="fa fa-check"></span> <span translate>Apply filter</span> </a> <a class="btn btn-link" type=button ng-click=$ctrl.getData() ng-disabled="$ctrl.hasARule() === false || $ctrl.datasource.visible === false"> <span class="fa fa-chevron-right"></span> <span translate>Get data</span> </a> '},function(t,e){t.exports='<div class=dropdown ng-class="{open: $ctrl.rule.active}"> <a class="btn btn-default btn-sm dropdown-toggle" type=button ng-click=$ctrl.toggle()> <span>{{ ::$ctrl.clone.name | translate }}</span> <span class=caret></span> </a> <div class="dropdown-menu form-group"> <select class="form-control input-sm ngeo-rule-operators-list" ng-disabled=$ctrl.drawActive ng-if=::$ctrl.clone.operators ng-model=$ctrl.clone.operator ng-options="$ctrl.operators[operator] | translate for operator in ::$ctrl.clone.operators track by operator"> </select> <div ng-switch=::$ctrl.clone.type> <div class="ngeo-rule-type-date form-group" ng-if=$ctrl.rule.active ng-switch-when=date|datetime ng-switch-when-separator=|> <div ng-switch=$ctrl.clone.operator> <div ng-switch-when=..|time_during ng-switch-when-separator=|> <ngeo-date-picker time=$ctrl.timeRangeMode on-date-selected=$ctrl.onDateRangeSelected(time)> </ngeo-date-picker> </div> <div ng-switch-default> <ngeo-date-picker time=$ctrl.timeValueMode on-date-selected=$ctrl.onDateSelected(time)> </ngeo-date-picker> </div> </div> </div> <div class="ngeo-rule-type-geometry form-group" ng-switch-when=geometry> <div ng-switch=$ctrl.geomType> <span class="gmf-icon gmf-icon-point" ng-switch-when=Point> </span> <span class="gmf-icon gmf-icon-line" ng-switch-when=LineString> </span> <span class="gmf-icon gmf-icon-polygon" ng-switch-when=Polygon> </span> <span class="gmf-icon gmf-icon-circle" ng-switch-when=Circle> </span> <span class="gmf-icon gmf-icon-rectangle" ng-switch-when=Rectangle> </span> </div> <ngeo-drawfeature ngeo-drawfeature-active=$ctrl.drawActive ngeo-drawfeature-features=$ctrl.drawnFeatures ngeo-drawfeature-map=$ctrl.map> <div ngeo-btn-group class=btn-group> <a data-toggle=tooltip title="{{\'Draw a point on the map\' | translate}}" href ngeo-btn ngeo-drawpoint class="btn btn-sm btn-default ngeo-drawfeature-point" ng-show="[\'intersects\', \'within\'].indexOf($ctrl.clone.operator) !== -1" ng-class="{active: dfCtrl.drawPoint.active}" ng-model=dfCtrl.drawPoint.active> <span class="gmf-icon gmf-icon-point"></span> </a> <a data-toggle=tooltip title="{{\'Draw a line on the map\' | translate}}" href ngeo-btn ngeo-measurelength class="btn btn-sm btn-default ngeo-drawfeature-linestring" ng-show="[\'intersects\', \'within\'].indexOf($ctrl.clone.operator) !== -1" ng-class="{active: dfCtrl.measureLength.active}" ng-model=dfCtrl.measureLength.active> <span class="gmf-icon gmf-icon-line"></span> </a> <a data-toggle=tooltip title="{{\'Draw a polygon on the map\' | translate}}" href ngeo-btn ngeo-measurearea class="btn btn-sm btn-default ngeo-drawfeature-polygon" ng-class="{active: dfCtrl.measureArea.active}" ng-model=dfCtrl.measureArea.active> <span class="gmf-icon gmf-icon-polygon"></span> </a> <a data-toggle=tooltip title="{{\'Draw a circle on the map\' | translate}}" href ngeo-btn ngeo-measureazimut class="btn btn-sm btn-default ngeo-drawfeature-circle" ng-class="{active: dfCtrl.measureAzimut.active}" ng-model=dfCtrl.measureAzimut.active> <span class="gmf-icon gmf-icon-circle"></span> </a> <a data-toggle=tooltip title="{{\'Draw a rectangle on the map\' | translate}}" href ngeo-btn ngeo-drawrectangle class="btn btn-sm btn-default ngeo-drawfeature-rectangle" ng-class="{active: dfCtrl.drawRectangle.active}" ng-model=dfCtrl.drawRectangle.active> <span class="gmf-icon gmf-icon-rectangle"></span> </a> </div> <div class=ngeo-rule-type-geometry-instructions ng-if=$ctrl.drawActive> <span ng-if=dfCtrl.drawPoint.active> {{ \'Draw a point on the map.\' | translate }} </span> <span ng-if=dfCtrl.measureLength.active> {{ \'Draw a line string on the map.\' | translate }} </span> <span ng-if=dfCtrl.measureArea.active> {{ \'Draw a polygon on the map.\' | translate }} </span> <span ng-if=dfCtrl.measureAzimut.active> {{ \'Draw a circle on the map.\' | translate }} </span> <span ng-if=dfCtrl.drawRectangle.active> {{ \'Draw a rectangle on the map.\' | translate }} </span> </div> </ngeo-drawfeature> </div> <div class="checkbox ngeo-rule-type-select" ng-switch-when=select> <a ng-click=$ctrl.selectAllChoices() href>{{ All | translate}} </a> <label class="form-group ol-unselectable" ng-repeat="choice in ::$ctrl.clone.choices"> <input ng-checked="$ctrl.clone.getExpression() && $ctrl.clone.getExpression().split(\',\').indexOf(choice) > -1" ng-click=$ctrl.toggleChoiceSelection(choice) type=checkbox value=choice /> <span>{{ choice | translate }}</span> </label> </div> <div class="form-group ngeo-rule-type-text" ng-switch-default> <div ng-switch=$ctrl.clone.operator> <div ng-switch-when=..> <input type=number class="form-control input-sm" ng-model=$ctrl.clone.lowerBoundary /> <input type=number class="form-control input-sm" ng-model=$ctrl.clone.upperBoundary /> </div> <div ng-switch-default> <input type=number class="form-control input-sm" ng-if="$ctrl.clone.type === \'number\'" ng-model=$ctrl.clone.expression /> <input type=text class="form-control input-sm" ng-if="$ctrl.clone.type !== \'number\'" ng-model=$ctrl.clone.expression /> </div> </div> </div> <div class=ngeo-rule-btns> <button class="btn btn-xs btn-default" ng-click=$ctrl.apply() type=button>{{\'Apply\' | translate}}</button> <button class="btn btn-xs btn-default" ng-click=$ctrl.cancel() type=button>{{\'Cancel\' | translate}}</button> </div> </div> </div> </div> <div class=ngeo-rule-value ng-if="$ctrl.rule.value !== null"> <a class="btn btn-xs btn-link" ng-click="!$ctrl.rule.active && $ctrl.reset()" ng-disabled=$ctrl.rule.active href> <span class="fa fa-remove"></span> </a> <div ng-switch=::$ctrl.rule.type> <div ng-switch-when=date|datetime ng-switch-when-separator=|> <div ng-switch=$ctrl.rule.operator> <div ng-switch-when=..|time_during ng-switch-when-separator=|> <span translate>From </span> <span>{{ $ctrl.timeToDate($ctrl.rule.lowerBoundary) }}</span> <span translate> to </span> <span>{{ $ctrl.timeToDate($ctrl.rule.upperBoundary) }}</span> </div> <div ng-switch-default> <span>{{ $ctrl.operatorsShortFormat[$ctrl.rule.operator] }}</span> <span>{{ $ctrl.timeToDate($ctrl.rule.getExpression()) }}</span> </div> </div> </div> <div ng-switch-when=geometry> <span>{{ $ctrl.operators[$ctrl.rule.operator] }}</span> <span ng-switch=$ctrl.getRuleGeometryType()> <span class="gmf-icon gmf-icon-point" ng-switch-when=Point> </span> <span class="gmf-icon gmf-icon-line" ng-switch-when=LineString> </span> <span class="gmf-icon gmf-icon-polygon" ng-switch-when=Polygon> </span> <span class="gmf-icon gmf-icon-circle" ng-switch-when=Circle> </span> <span class="gmf-icon gmf-icon-rectangle" ng-switch-when=Rectangle> </span> </span> </div> <div ng-switch-when=select> <span ng-repeat="choice in $ctrl.rule.getExpression().split(\',\')"> {{ choice | translate }}{{ $last ? \'\' : \', \' }} </span> </div> <div ng-switch-default> <div ng-switch=$ctrl.rule.operator> <div ng-switch-when=..|time_during ng-switch-when-separator=|> <span translate>Between </span> <span>{{ $ctrl.rule.lowerBoundary }}</span> <span translate> and </span> <span>{{ $ctrl.rule.upperBoundary }}</span> </div> <div ng-switch-default> <span>{{ $ctrl.operatorsShortFormat[$ctrl.rule.operator] }}</span> <span>{{ $ctrl.rule.getExpression() }}</span> </div> </div> </div> </div> </div> '},function(t,e){t.exports='<div class=ngeo-datepicker> <form name=dateForm class=ngeo-datepicker-form novalidate> <div ng-if="::datepickerCtrl.time.widget === \'datepicker\'"> <div class=ngeo-datepicker-start-date> <span ng-if="::datepickerCtrl.time.mode === \'range\'" translate>From:</span> <span ng-if="::datepickerCtrl.time.mode !== \'range\'" translate>Date:</span> <input name=sdate ui-date=datepickerCtrl.sdateOptions ng-model=datepickerCtrl.sdate required=""/> </div> <div class=ngeo-datepicker-end-date ng-if="::datepickerCtrl.time.mode === \'range\'"> <span translate>To:</span> <input name=edate ui-date=datepickerCtrl.edateOptions ng-model=datepickerCtrl.edate required=""/> </div> </div> </form> </div> '},function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(235)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.regional.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};t.setDefaults(t.regional.it);return t.regional.it})},function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(235)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.regional.de={closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};t.setDefaults(t.regional.de);return t.regional.de})},function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(235)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.regional["en-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};t.setDefaults(t.regional["en-GB"]);return t.regional["en-GB"]})},function(t,e,i){var n,r,a;(function(o){if(true){!(r=[i(235)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){t.regional.fr={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};t.setDefaults(t.regional.fr);return t.regional.fr})},function(t,e,i){(function e(n,r){if(true)t.exports=r(i(51),i(317),i(235));else{}})(this,function(t,e,i){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{},id:n,loaded:false};t[n].call(r.exports,r,r.exports,i);r.loaded=true;return r.exports}i.m=t;i.c=e;i.p="assets";return i(0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=i(1);var r=l(n);var a=i(2);var o=l(a);var s=i(3);var u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}e.default=o.default.module("ui.date",[]).constant("uiDateConfig",{}).constant("uiDateFormatConfig","").factory("uiDateConverter",["uiDateFormatConfig",function(t){return{stringToDate:i,dateToString:e};function e(e,i){var n=e||t;if(i){if(n){try{return r.default.datepicker.formatDate(n,i)}catch(t){return undefined}}if(i.toISOString){return i.toISOString()}}return null}function i(e,i){e=e||t;if(o.default.isDate(i)&&!isNaN(i)){return i}if(o.default.isString(i)){if(e){return r.default.datepicker.parseDate(e,i)}var n=new Date(i);return isNaN(n.getTime())?null:n}if(o.default.isNumber(i)){return new Date(i)}return null}}]).directive("uiDate",["uiDateConfig","uiDateConverter",function t(e,i){return{require:"?ngModel",link:function t(n,a,s,u){var l=(0,r.default)(a);var c=function t(){return o.default.extend({},e,n.$eval(s.uiDate))};var h=function t(){var e=false;var r=c();function h(t){var e=["Hours","Minutes","Seconds","Milliseconds"];var i=o.default.isDate(u.$modelValue);var n={};if(!t&&i&&u.$modelValue.toDateString()===l.datepicker("getDate").toDateString()){return}if(i){o.default.forEach(e,function(t){n[t]=u.$modelValue["get"+t]()})}var r=l.datepicker("getDate");if(i){o.default.forEach(e,function(t){r["set"+t](n[t])})}u.$setViewValue(r)}if(u){var f=r.onSelect||o.default.noop;r.onSelect=function(t,i){n.$apply(function(){e=true;h();l.blur();f(t,i,l)})};var d=r.beforeShow||o.default.noop;r.beforeShow=function(t,i){e=true;d(t,i,l)};var p=r.onClose||o.default.noop;r.onClose=function(t,i){e=false;p(t,i,l)};a.on("focus",function(t){if(s.readonly){t.stopImmediatePropagation()}});l.off("blur.datepicker").on("blur.datepicker",function(){if(!e){n.$apply(function(){l.datepicker("setDate",l.datepicker("getDate"));h()})}});u.$validators.uiDateValidator=function t(e,n){return n===null||n===""||o.default.isDate(i.stringToDate(s.uiDateFormat,n))};u.$parsers.push(function t(e){return i.stringToDate(s.uiDateFormat,e)});u.$render=function(){if(o.default.isDate(u.$modelValue)===false&&o.default.isString(u.$modelValue)){u.$modelValue=i.stringToDate(s.uiDateFormat,u.$modelValue)}l.datepicker("setDate",u.$modelValue)}}if(l.data("datepicker")){l.datepicker("option",r);l.datepicker("refresh")}else{l.datepicker(r);l.on("$destroy",function(){l.datepicker("hide");l.datepicker("destroy")})}if(u){u.$render();h(true)}};n.$watch(c,h,true)}}}]).directive("uiDateFormat",["uiDateConverter",function(t){return{require:"ngModel",link:function e(i,n,r,a){var o=r.uiDateFormat;a.$formatters.unshift(function(e){return t.stringToDate(o,e)});a.$parsers.push(function(e){return t.dateToString(o,e)})}}}])},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e){t.exports=i}])})},function(t,e){t.exports='<fieldset ng-disabled=attrCtrl.disabled> <div class=form-group ng-repeat="attribute in ::attrCtrl.attributes"> <div ng-if="attribute.type !== \'geometry\'"> <label ng-if="::attribute.type !== \'boolean\'" class=control-label>{{ ::attribute.name | translate }} <span class=text-muted>{{::attribute.required ? "*" : ""}}</span> </label> <div ng-switch=::attribute.type> <div ng-switch-when=boolean class=checkbox> <label> <input name={{::attribute.name}} ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); type=checkbox>  <span> {{ ::attribute.name | translate }} <span class=text-muted>{{::attribute.required ? "*" : ""}}</span></span> </label> </div> <select name={{::attribute.name}} ng-required=attribute.required ng-switch-when=select ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); class=form-control type=text> <option ng-repeat="attribute in ::attribute.choices" value="{{ ::attribute }}"> {{ ::attribute | translate }} </option> </select> <input name={{::attribute.name}} ng-required=attribute.required ng-switch-when=date ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); ngeo-datetimepicker ngeo-datetimepicker-options="\'{&quot;timepicker&quot;: false, &quot;format&quot;: &quot;\' + attribute.format + \'&quot;, &quot;allowBlank&quot;: true, &quot;todayButton&quot;: false, &quot;mask&quot;: &quot;\' + attribute.mask + \'&quot;}\'" class=form-control type=text>  <input name={{::attribute.name}} id=time ng-required=attribute.required ng-switch-when=time ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); ngeo-datetimepicker ngeo-datetimepicker-options="\'{&quot;datepicker&quot;: false, &quot;format&quot;: &quot;\' + attribute.format + \'&quot;, &quot;todayButton&quot;: false, &quot;mask&quot;: &quot;\' + attribute.mask + \'&quot;, &quot;defaultTime&quot;: &quot;00:00&quot;}\'" class=form-control type=text>  <input name={{::attribute.name}} ng-required=attribute.required ng-switch-when=datetime ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); ngeo-datetimepicker ngeo-datetimepicker-options="\'{&quot;scrollTime&quot;: false, &quot;format&quot;: &quot;\' + attribute.format + \'&quot;, &quot;allowBlank&quot;: true, &quot;todayButton&quot;: false, &quot;mask&quot;: &quot;\' + attribute.mask + \'&quot;, &quot;defaultTime&quot;: &quot;00:00&quot;}\'" class=form-control type=text>  <div ng-switch-when=number ng-switch=::attribute.numType> <input name={{::attribute.name}} ng-required=attribute.required ng-switch-when=integer ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); class=form-control step=1 type=number>  <input name={{::attribute.name}} ng-required=attribute.required ng-switch-default ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); class=form-control type=number>  </div> <input name={{::attribute.name}} ng-required=attribute.required ng-switch-default ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); ng-maxlength=attribute.maxLength class=form-control type=text>  <div ng-show="attrCtrl.form.$submitted || attrCtrl.form[attribute.name].$touched"> <p class=text-danger ng-show=attrCtrl.form[attribute.name].$error.required> {{\'This field is required\' | translate}} </p> </div> </div> </div> </div> </fieldset> '},function(t,e,i){var n,r,a;
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
(function(o){if(true){!(r=[i(51)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(function(t){var e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],n=Array.prototype.slice,r,a;if(t.event.fixHooks){for(var o=e.length;o;){t.event.fixHooks[e[--o]]=t.event.mouseHooks}}var s=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var e=i.length;e;){this.addEventListener(i[--e],u,false)}}else{this.onmousewheel=u}t.data(this,"mousewheel-line-height",s.getLineHeight(this));t.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var e=i.length;e;){this.removeEventListener(i[--e],u,false)}}else{this.onmousewheel=null}t.removeData(this,"mousewheel-line-height");t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();if(!n.length){n=t("body")}return parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}});function u(e){var i=e||window.event,o=n.call(arguments,1),u=0,h=0,f=0,d=0,p=0,v=0;e=t.event.fix(i);e.type="mousewheel";if("detail"in i){f=i.detail*-1}if("wheelDelta"in i){f=i.wheelDelta}if("wheelDeltaY"in i){f=i.wheelDeltaY}if("wheelDeltaX"in i){h=i.wheelDeltaX*-1}if("axis"in i&&i.axis===i.HORIZONTAL_AXIS){h=f*-1;f=0}u=f===0?h:f;if("deltaY"in i){f=i.deltaY*-1;u=f}if("deltaX"in i){h=i.deltaX;if(f===0){u=h*-1}}if(f===0&&h===0){return}if(i.deltaMode===1){var g=t.data(this,"mousewheel-line-height");u*=g;f*=g;h*=g}else if(i.deltaMode===2){var m=t.data(this,"mousewheel-page-height");u*=m;f*=m;h*=m}d=Math.max(Math.abs(f),Math.abs(h));if(!a||d<a){a=d;if(c(i,d)){a/=40}}if(c(i,d)){u/=40;h/=40;f/=40}u=Math[u>=1?"floor":"ceil"](u/a);h=Math[h>=1?"floor":"ceil"](h/a);f=Math[f>=1?"floor":"ceil"](f/a);if(s.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=e.clientX-y.left;v=e.clientY-y.top}e.deltaX=h;e.deltaY=f;e.deltaFactor=a;e.offsetX=p;e.offsetY=v;e.deltaMode=0;o.unshift(e,u,h,f);if(r){clearTimeout(r)}r=setTimeout(l,200);return(t.event.dispatch||t.event.handle).apply(this,o)}function l(){a=null}function c(t,e){return s.settings.adjustOldDeltas&&t.type==="mousewheel"&&e%120===0}})},function(t,e,i){var n,r,a;
/**
 * @preserve jQuery DateTimePicker
 * @homepage http://xdsoft.net/jqplugins/datetimepicker/
 * @author Chupurnov Valeriy (<chupurnov@gmail.com>)
 */var o=function(t){"use strict";var e={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:false,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:false,step:60,monthChangeSpinner:true,closeOnDateSelect:false,closeOnTimeSelect:true,closeOnWithoutClick:true,closeOnInputClick:true,openOnFocus:true,timepicker:true,datepicker:true,weeks:false,defaultTime:false,defaultDate:false,minDate:false,maxDate:false,minTime:false,maxTime:false,minDateTime:false,maxDateTime:false,allowTimes:[],opened:false,initTime:true,inline:false,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:true,inverseButton:false,hours12:false,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:true,todayButton:true,prevButton:true,nextButton:true,defaultSelect:true,scrollMonth:true,scrollTime:true,scrollInput:true,lazyInit:false,mask:false,validateOnBlur:true,allowBlank:true,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:false,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:true,showApplyButton:false};var i=null,n=null,r="en",a="en";var o={meridiem:["AM","PM"]};var s=function(){var r=e.i18n[a],s={days:r.dayOfWeek,daysShort:r.dayOfWeekShort,months:r.months,monthsShort:t.map(r.months,function(t){return t.substring(0,3)})};if(typeof DateFormatter==="function"){i=n=new DateFormatter({dateSettings:t.extend({},o,s)})}};var u={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function(t,e){if(c(e)){return n.parseDate(t,e)}var i=moment(t,e);return i.isValid()?i.toDate():false},formatDate:function(t,e){if(c(e)){return n.formatDate(t,e)}return moment(t).format(e)},formatMask:function(t){return t.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};t.datetimepicker={setLocale:function(t){var i=e.i18n[t]?t:r;if(a!==i){a=i;s()}},setDateFormatter:function(n){if(typeof n==="string"&&u.hasOwnProperty(n)){var r=u[n];t.extend(e,r.default_options);i=r.formatter}else{i=n}}};var l={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"};var c=function(t){return Object.values(l).indexOf(t)===-1?false:true};t.extend(t.datetimepicker,l);s();if(!window.getComputedStyle){window.getComputedStyle=function(t){this.el=t;this.getPropertyValue=function(e){var i=/(-([a-z]))/g;if(e==="float"){e="styleFloat"}if(i.test(e)){e=e.replace(i,function(t,e,i){return i.toUpperCase()})}return t.currentStyle[e]||null};return this}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(t,e){var i,n;for(i=e||0,n=this.length;i<n;i+=1){if(this[i]===t){return i}}return-1}}Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()};t.fn.xdsoftScroller=function(e,i){return this.each(function(){var n=t(this),r=function(t){var e={x:0,y:0},i;if(t.type==="touchstart"||t.type==="touchmove"||t.type==="touchend"||t.type==="touchcancel"){i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=i.clientX;e.y=i.clientY}else if(t.type==="mousedown"||t.type==="mouseup"||t.type==="mousemove"||t.type==="mouseover"||t.type==="mouseout"||t.type==="mouseenter"||t.type==="mouseleave"){e.x=t.clientX;e.y=t.clientY}return e},a,o,s,u,l,c=100,h=false,f=0,d=0,p=0,v=false,g=0,m=function(){};if(i==="hide"){n.find(".xdsoft_scrollbar").hide();return}if(!t(this).hasClass("xdsoft_scroller_box")){a=n.children().eq(0);o=n[0].clientHeight;s=a[0].offsetHeight;u=t('<div class="xdsoft_scrollbar"></div>');l=t('<div class="xdsoft_scroller"></div>');u.append(l);n.addClass("xdsoft_scroller_box").append(u);m=function t(e){var i=r(e).y-f+g;if(i<0){i=0}if(i+l[0].offsetHeight>p){i=p-l[0].offsetHeight}n.trigger("scroll_element.xdsoft_scroller",[c?i/c:0])};l.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(a){if(!o){n.trigger("resize_scroll.xdsoft_scroller",[i])}f=r(a).y;g=parseInt(l.css("margin-top"),10);p=u[0].offsetHeight;if(a.type==="mousedown"||a.type==="touchstart"){if(e.ownerDocument){t(e.ownerDocument.body).addClass("xdsoft_noselect")}t([e.ownerDocument.body,e.contentWindow]).on("touchend mouseup.xdsoft_scroller",function i(){t([e.ownerDocument.body,e.contentWindow]).off("touchend mouseup.xdsoft_scroller",i).off("mousemove.xdsoft_scroller",m).removeClass("xdsoft_noselect")});t(e.ownerDocument.body).on("mousemove.xdsoft_scroller",m)}else{v=true;a.stopPropagation();a.preventDefault()}}).on("touchmove",function(t){if(v){t.preventDefault();m(t)}}).on("touchend touchcancel",function(){v=false;g=0});n.on("scroll_element.xdsoft_scroller",function(t,e){if(!o){n.trigger("resize_scroll.xdsoft_scroller",[e,true])}e=e>1?1:e<0||isNaN(e)?0:e;l.css("margin-top",c*e);setTimeout(function(){a.css("marginTop",-parseInt((a[0].offsetHeight-o)*e,10))},10)}).on("resize_scroll.xdsoft_scroller",function(t,e,i){var r,h;o=n[0].clientHeight;s=a[0].offsetHeight;r=o/s;h=r*u[0].offsetHeight;if(r>1){l.hide()}else{l.show();l.css("height",parseInt(h>10?h:10,10));c=u[0].offsetHeight-l[0].offsetHeight;if(i!==true){n.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(a.css("marginTop"),10))/(s-o)])}}});n.on("mousewheel",function(t){var e=Math.abs(parseInt(a.css("marginTop"),10));e=e-t.deltaY*20;if(e<0){e=0}n.trigger("scroll_element.xdsoft_scroller",[e/(s-o)]);t.stopPropagation();return false});n.on("touchstart",function(t){h=r(t);d=Math.abs(parseInt(a.css("marginTop"),10))});n.on("touchmove",function(t){if(h){t.preventDefault();var e=r(t);n.trigger("scroll_element.xdsoft_scroller",[(d-(e.y-h.y))/(s-o)])}});n.on("touchend touchcancel",function(){h=false;d=0})}n.trigger("resize_scroll.xdsoft_scroller",[i])})};t.fn.datetimepicker=function(n,r){var o=this,s=48,u=57,l=96,c=105,f=17,d=46,p=13,v=27,g=8,m=37,y=38,_=39,b=40,w=9,O=116,x=65,S=67,C=86,T=90,E=89,M=false,j=t.isPlainObject(n)||!n?t.extend(true,{},e,n):t.extend(true,{},e),k=0,R,A,I=function(t){t.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function e(){if(t.is(":disabled")||t.data("xdsoft_datetimepicker")){return}clearTimeout(k);k=setTimeout(function(){if(!t.data("xdsoft_datetimepicker")){R(t)}t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",e).trigger("open.xdsoft")},100)})};R=function(e){var r=t('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),o=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),k=t('<div class="xdsoft_datepicker active"></div>'),R=t('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button>'+'<div class="xdsoft_label xdsoft_month"><span></span><i></i></div>'+'<div class="xdsoft_label xdsoft_year"><span></span><i></i></div>'+'<button type="button" class="xdsoft_next"></button></div>'),A=t('<div class="xdsoft_calendar"></div>'),I=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),P=I.find(".xdsoft_time_box").eq(0),D=t('<div class="xdsoft_time_variant"></div>'),N=t('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),$=t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),L=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),F=false,G,U,H,W,Y,z=0,V,B;if(j.id){r.attr("id",j.id)}if(j.style){r.attr("style",j.style)}if(j.weeks){r.addClass("xdsoft_showweeks")}if(j.rtl){r.addClass("xdsoft_rtl")}r.addClass("xdsoft_"+j.theme);r.addClass(j.className);R.find(".xdsoft_month span").after($);R.find(".xdsoft_year span").after(L);R.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(e){var i=t(this).find(".xdsoft_select").eq(0),n=0,r=0,a=i.is(":visible"),o,s;R.find(".xdsoft_select").hide();if(V.currentTime){n=V.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()}i[a?"hide":"show"]();for(o=i.find("div.xdsoft_option"),s=0;s<o.length;s+=1){if(o.eq(s).data("value")===n){break}else{r+=o[0].offsetHeight}}i.xdsoftScroller(j,r/(i.children()[0].offsetHeight-i[0].clientHeight));e.stopPropagation();return false});var q=function(t){var e=t.originalEvent;var i=e.touches?e.touches[0]:e;this.touchStartPosition=this.touchStartPosition||i;var n=Math.abs(this.touchStartPosition.clientX-i.clientX);var r=Math.abs(this.touchStartPosition.clientY-i.clientY);var a=Math.sqrt(n*n+r*r);if(a>j.touchMovedThreshold){this.touchMoved=true}};R.find(".xdsoft_select").xdsoftScroller(j).on("touchstart mousedown.xdsoft",function(t){var e=t.originalEvent;this.touchMoved=false;this.touchStartPosition=e.touches?e.touches[0]:e;t.stopPropagation();t.preventDefault()}).on("touchmove",".xdsoft_option",q).on("touchend mousedown.xdsoft",".xdsoft_option",function(){if(!this.touchMoved){if(V.currentTime===undefined||V.currentTime===null){V.currentTime=V.now()}var e=V.currentTime.getFullYear();if(V&&V.currentTime){V.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value"))}t(this).parent().parent().hide();r.trigger("xchange.xdsoft");if(j.onChangeMonth&&t.isFunction(j.onChangeMonth)){j.onChangeMonth.call(r,V.currentTime,r.data("input"))}if(e!==V.currentTime.getFullYear()&&t.isFunction(j.onChangeYear)){j.onChangeYear.call(r,V.currentTime,r.data("input"))}}});r.getValue=function(){return V.getCurrentTime()};r.setOptions=function(n){var a={};j=t.extend(true,{},j,n);if(n.allowTimes&&t.isArray(n.allowTimes)&&n.allowTimes.length){j.allowTimes=t.extend(true,[],n.allowTimes)}if(n.weekends&&t.isArray(n.weekends)&&n.weekends.length){j.weekends=t.extend(true,[],n.weekends)}if(n.allowDates&&t.isArray(n.allowDates)&&n.allowDates.length){j.allowDates=t.extend(true,[],n.allowDates)}if(n.allowDateRe&&Object.prototype.toString.call(n.allowDateRe)==="[object String]"){j.allowDateRe=new RegExp(n.allowDateRe)}if(n.highlightedDates&&t.isArray(n.highlightedDates)&&n.highlightedDates.length){t.each(n.highlightedDates,function(e,n){var r=t.map(n.split(","),t.trim),o,s=new h(i.parseDate(r[0],j.formatDate),r[1],r[2]),u=i.formatDate(s.date,j.formatDate);if(a[u]!==undefined){o=a[u].desc;if(o&&o.length&&s.desc&&s.desc.length){a[u].desc=o+"\n"+s.desc}}else{a[u]=s}});j.highlightedDates=t.extend(true,[],a)}if(n.highlightedPeriods&&t.isArray(n.highlightedPeriods)&&n.highlightedPeriods.length){a=t.extend(true,[],j.highlightedDates);t.each(n.highlightedPeriods,function(e,n){var r,o,s,u,l,c,f;if(t.isArray(n)){r=n[0];o=n[1];s=n[2];f=n[3]}else{var d=t.map(n.split(","),t.trim);r=i.parseDate(d[0],j.formatDate);o=i.parseDate(d[1],j.formatDate);s=d[2];f=d[3]}while(r<=o){u=new h(r,s,f);l=i.formatDate(r,j.formatDate);r.setDate(r.getDate()+1);if(a[l]!==undefined){c=a[l].desc;if(c&&c.length&&u.desc&&u.desc.length){a[l].desc=c+"\n"+u.desc}}else{a[l]=u}}});j.highlightedDates=t.extend(true,[],a)}if(n.disabledDates&&t.isArray(n.disabledDates)&&n.disabledDates.length){j.disabledDates=t.extend(true,[],n.disabledDates)}if(n.disabledWeekDays&&t.isArray(n.disabledWeekDays)&&n.disabledWeekDays.length){j.disabledWeekDays=t.extend(true,[],n.disabledWeekDays)}if((j.open||j.opened)&&!j.inline){e.trigger("open.xdsoft")}if(j.inline){F=true;r.addClass("xdsoft_inline");e.after(r).hide()}if(j.inverseButton){j.next="xdsoft_prev";j.prev="xdsoft_next"}if(j.datepicker){k.addClass("active")}else{k.removeClass("active")}if(j.timepicker){I.addClass("active")}else{I.removeClass("active")}if(j.value){V.setCurrentTime(j.value);if(e&&e.val){e.val(V.str)}}if(isNaN(j.dayOfWeekStart)){j.dayOfWeekStart=0}else{j.dayOfWeekStart=parseInt(j.dayOfWeekStart,10)%7}if(!j.timepickerScrollbar){P.xdsoftScroller(j,"hide")}if(j.minDate&&/^[\+\-](.*)$/.test(j.minDate)){j.minDate=i.formatDate(V.strToDateTime(j.minDate),j.formatDate)}if(j.maxDate&&/^[\+\-](.*)$/.test(j.maxDate)){j.maxDate=i.formatDate(V.strToDateTime(j.maxDate),j.formatDate)}if(j.minDateTime&&/^\+(.*)$/.test(j.minDateTime)){j.minDateTime=V.strToDateTime(j.minDateTime).dateFormat(j.formatDate)}if(j.maxDateTime&&/^\+(.*)$/.test(j.maxDateTime)){j.maxDateTime=V.strToDateTime(j.maxDateTime).dateFormat(j.formatDate)}N.toggle(j.showApplyButton);R.find(".xdsoft_today_button").css("visibility",!j.todayButton?"hidden":"visible");R.find("."+j.prev).css("visibility",!j.prevButton?"hidden":"visible");R.find("."+j.next).css("visibility",!j.nextButton?"hidden":"visible");X(j);if(j.validateOnBlur){e.off("blur.xdsoft").on("blur.xdsoft",function(){if(j.allowBlank&&(!t.trim(t(this).val()).length||typeof j.mask==="string"&&t.trim(t(this).val())===j.mask.replace(/[0-9]/g,"_"))){t(this).val(null);r.data("xdsoft_datetime").empty()}else{var e=i.parseDate(t(this).val(),j.format);if(e){t(this).val(i.formatDate(e,j.format))}else{var n=+[t(this).val()[0],t(this).val()[1]].join(""),a=+[t(this).val()[2],t(this).val()[3]].join("");if(!j.datepicker&&j.timepicker&&n>=0&&n<24&&a>=0&&a<60){t(this).val([n,a].map(function(t){return t>9?t:"0"+t}).join(":"))}else{t(this).val(i.formatDate(V.now(),j.format))}}r.data("xdsoft_datetime").setCurrentTime(t(this).val())}r.trigger("changedatetime.xdsoft");r.trigger("close.xdsoft")})}j.dayOfWeekStartPrev=j.dayOfWeekStart===0?6:j.dayOfWeekStart-1;r.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")};r.data("options",j).on("touchstart mousedown.xdsoft",function(t){t.stopPropagation();t.preventDefault();L.hide();$.hide();return false});P.append(D);P.xdsoftScroller(j);r.on("afterOpen.xdsoft",function(){P.xdsoftScroller(j)});r.append(k).append(I);if(j.withoutCopyright!==true){r.append(o)}k.append(R).append(A).append(N);t(j.parentID).append(r);G=function(){var e=this;e.now=function(t){var i=new Date,n,r;if(!t&&j.defaultDate){n=e.strToDateTime(j.defaultDate);i.setFullYear(n.getFullYear());i.setMonth(n.getMonth());i.setDate(n.getDate())}i.setFullYear(i.getFullYear());if(!t&&j.defaultTime){r=e.strtotime(j.defaultTime);i.setHours(r.getHours());i.setMinutes(r.getMinutes());i.setSeconds(r.getSeconds());i.setMilliseconds(r.getMilliseconds())}return i};e.isValidDate=function(t){if(Object.prototype.toString.call(t)!=="[object Date]"){return false}return!isNaN(t.getTime())};e.setCurrentTime=function(t,i){if(typeof t==="string"){e.currentTime=e.strToDateTime(t)}else if(e.isValidDate(t)){e.currentTime=t}else if(!t&&!i&&j.allowBlank&&!j.inline){e.currentTime=null}else{e.currentTime=e.now()}r.trigger("xchange.xdsoft")};e.empty=function(){e.currentTime=null};e.getCurrentTime=function(){return e.currentTime};e.nextMonth=function(){if(e.currentTime===undefined||e.currentTime===null){e.currentTime=e.now()}var i=e.currentTime.getMonth()+1,n;if(i===12){e.currentTime.setFullYear(e.currentTime.getFullYear()+1);i=0}n=e.currentTime.getFullYear();e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),i+1,0).getDate(),e.currentTime.getDate()));e.currentTime.setMonth(i);if(j.onChangeMonth&&t.isFunction(j.onChangeMonth)){j.onChangeMonth.call(r,V.currentTime,r.data("input"))}if(n!==e.currentTime.getFullYear()&&t.isFunction(j.onChangeYear)){j.onChangeYear.call(r,V.currentTime,r.data("input"))}r.trigger("xchange.xdsoft");return i};e.prevMonth=function(){if(e.currentTime===undefined||e.currentTime===null){e.currentTime=e.now()}var i=e.currentTime.getMonth()-1;if(i===-1){e.currentTime.setFullYear(e.currentTime.getFullYear()-1);i=11}e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),i+1,0).getDate(),e.currentTime.getDate()));e.currentTime.setMonth(i);if(j.onChangeMonth&&t.isFunction(j.onChangeMonth)){j.onChangeMonth.call(r,V.currentTime,r.data("input"))}r.trigger("xchange.xdsoft");return i};e.getWeekOfYear=function(e){if(j.onGetWeekOfYear&&t.isFunction(j.onGetWeekOfYear)){var i=j.onGetWeekOfYear.call(r,e);if(typeof i!=="undefined"){return i}}var n=new Date(e.getFullYear(),0,1);if(n.getDay()!==4){n.setMonth(0,1+(4-n.getDay()+7)%7)}return Math.ceil(((e-n)/864e5+n.getDay()+1)/7)};e.strToDateTime=function(t){var n=[],r,a;if(t&&t instanceof Date&&e.isValidDate(t)){return t}n=/^([+-]{1})(.*)$/.exec(t);if(n){n[2]=i.parseDate(n[2],j.formatDate)}if(n&&n[2]){r=n[2].getTime()-n[2].getTimezoneOffset()*6e4;a=new Date(e.now(true).getTime()+parseInt(n[1]+"1",10)*r)}else{a=t?i.parseDate(t,j.format):e.now()}if(!e.isValidDate(a)){a=e.now()}return a};e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t)){return t}var n=t?i.parseDate(t,j.formatDate):e.now(true);if(!e.isValidDate(n)){n=e.now(true)}return n};e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t)){return t}var n=t?i.parseDate(t,j.formatTime):e.now(true);if(!e.isValidDate(n)){n=e.now(true)}return n};e.str=function(){var t=j.format;if(j.yearOffset){t=t.replace("Y",e.currentTime.getFullYear()+j.yearOffset);t=t.replace("y",String(e.currentTime.getFullYear()+j.yearOffset).substring(2,4))}return i.formatDate(e.currentTime,t)};e.currentTime=this.now()};V=new G;N.on("touchend click",function(t){t.preventDefault();r.data("changed",true);V.setCurrentTime(K());e.val(V.str());r.trigger("close.xdsoft")});R.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){r.data("changed",true);V.setCurrentTime(0,true);r.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var t=V.getCurrentTime(),i,n;t=new Date(t.getFullYear(),t.getMonth(),t.getDate());i=V.strToDate(j.minDate);i=new Date(i.getFullYear(),i.getMonth(),i.getDate());if(t<i){return}n=V.strToDate(j.maxDate);n=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(t>n){return}e.val(V.str());e.trigger("change");r.trigger("close.xdsoft")});R.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var e=t(this),i=0,n=false;(function t(r){if(e.hasClass(j.next)){V.nextMonth()}else if(e.hasClass(j.prev)){V.prevMonth()}if(j.monthChangeSpinner){if(!n){i=setTimeout(t,r||100)}}})(500);t([j.ownerDocument.body,j.contentWindow]).on("touchend mouseup.xdsoft",function e(){clearTimeout(i);n=true;t([j.ownerDocument.body,j.contentWindow]).off("touchend mouseup.xdsoft",e)})});I.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var e=t(this),i=0,n=false,r=110;(function t(a){var o=P[0].clientHeight,s=D[0].offsetHeight,u=Math.abs(parseInt(D.css("marginTop"),10));if(e.hasClass(j.next)&&s-o-j.timeHeightInTimePicker>=u){D.css("marginTop","-"+(u+j.timeHeightInTimePicker)+"px")}else if(e.hasClass(j.prev)&&u-j.timeHeightInTimePicker>=0){D.css("marginTop","-"+(u-j.timeHeightInTimePicker)+"px")}P.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(D[0].style.marginTop,10)/(s-o))]);r=r>10?10:r-10;if(!n){i=setTimeout(t,a||r)}})(500);t([j.ownerDocument.body,j.contentWindow]).on("touchend mouseup.xdsoft",function e(){clearTimeout(i);n=true;t([j.ownerDocument.body,j.contentWindow]).off("touchend mouseup.xdsoft",e)})});U=0;r.on("xchange.xdsoft",function(o){clearTimeout(U);U=setTimeout(function(){if(V.currentTime===undefined||V.currentTime===null){V.currentTime=V.now()}var o="",s=new Date(V.currentTime.getFullYear(),V.currentTime.getMonth(),1,12,0,0),u=0,l,c=V.now(),h=false,f=false,d=false,p=false,v,g,m,y,_,b,w=[],O,x=true,S="",C,T,E;while(s.getDay()!==j.dayOfWeekStart){s.setDate(s.getDate()-1)}o+="<table><thead><tr>";if(j.weeks){o+="<th></th>"}for(l=0;l<7;l+=1){o+="<th>"+j.i18n[a].dayOfWeekShort[(l+j.dayOfWeekStart)%7]+"</th>"}o+="</tr></thead>";o+="<tbody>";if(j.maxDate!==false){h=V.strToDate(j.maxDate);h=new Date(h.getFullYear(),h.getMonth(),h.getDate(),23,59,59,999)}if(j.minDate!==false){f=V.strToDate(j.minDate);f=new Date(f.getFullYear(),f.getMonth(),f.getDate())}if(j.minDateTime!==false){d=V.strToDate(j.minDateTime);d=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds())}if(j.maxDateTime!==false){p=V.strToDate(j.maxDateTime);p=new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds())}var M;if(p!==false){M=(p.getFullYear()*12+p.getMonth())*31+p.getDate()}while(u<V.currentTime.countDaysInMonth()||s.getDay()!==j.dayOfWeekStart||V.currentTime.getMonth()===s.getMonth()){w=[];u+=1;g=s.getDay();m=s.getDate();y=s.getFullYear();_=s.getMonth();b=V.getWeekOfYear(s);E="";w.push("xdsoft_date");if(j.beforeShowDay&&t.isFunction(j.beforeShowDay.call)){O=j.beforeShowDay.call(r,s)}else{O=null}if(j.allowDateRe&&Object.prototype.toString.call(j.allowDateRe)==="[object RegExp]"){if(!j.allowDateRe.test(i.formatDate(s,j.formatDate))){w.push("xdsoft_disabled")}}if(j.allowDates&&j.allowDates.length>0){if(j.allowDates.indexOf(i.formatDate(s,j.formatDate))===-1){w.push("xdsoft_disabled")}}var k=(s.getFullYear()*12+s.getMonth())*31+s.getDate();if(h!==false&&s>h||d!==false&&s<d||f!==false&&s<f||p!==false&&k>M||O&&O[0]===false){w.push("xdsoft_disabled")}if(j.disabledDates.indexOf(i.formatDate(s,j.formatDate))!==-1){w.push("xdsoft_disabled")}if(j.disabledWeekDays.indexOf(g)!==-1){w.push("xdsoft_disabled")}if(e.is("[disabled]")){w.push("xdsoft_disabled")}if(O&&O[1]!==""){w.push(O[1])}if(V.currentTime.getMonth()!==_){w.push("xdsoft_other_month")}if((j.defaultSelect||r.data("changed"))&&i.formatDate(V.currentTime,j.formatDate)===i.formatDate(s,j.formatDate)){w.push("xdsoft_current")}if(i.formatDate(c,j.formatDate)===i.formatDate(s,j.formatDate)){w.push("xdsoft_today")}if(s.getDay()===0||s.getDay()===6||j.weekends.indexOf(i.formatDate(s,j.formatDate))!==-1){w.push("xdsoft_weekend")}if(j.highlightedDates[i.formatDate(s,j.formatDate)]!==undefined){v=j.highlightedDates[i.formatDate(s,j.formatDate)];w.push(v.style===undefined?"xdsoft_highlighted_default":v.style);E=v.desc===undefined?"":v.desc}if(j.beforeShowDay&&t.isFunction(j.beforeShowDay)){w.push(j.beforeShowDay(s))}if(x){o+="<tr>";x=false;if(j.weeks){o+="<th>"+b+"</th>"}}o+='<td data-date="'+m+'" data-month="'+_+'" data-year="'+y+'"'+' class="xdsoft_date xdsoft_day_of_week'+s.getDay()+" "+w.join(" ")+'" title="'+E+'">'+"<div>"+m+"</div>"+"</td>";if(s.getDay()===j.dayOfWeekStartPrev){o+="</tr>";x=true}s.setDate(m+1)}o+="</tbody></table>";A.html(o);R.find(".xdsoft_label span").eq(0).text(j.i18n[a].months[V.currentTime.getMonth()]);R.find(".xdsoft_label span").eq(1).text(V.currentTime.getFullYear()+j.yearOffset);S="";C="";_="";var I=0;if(j.minTime!==false){var P=V.strtotime(j.minTime);I=60*P.getHours()+P.getMinutes()}var N=24*60;if(j.maxTime!==false){var P=V.strtotime(j.maxTime);N=60*P.getHours()+P.getMinutes()}if(j.minDateTime!==false){var P=V.strToDateTime(j.minDateTime);var F=i.formatDate(V.currentTime,j.formatDate)===i.formatDate(P,j.formatDate);if(F){var _=60*P.getHours()+P.getMinutes();if(_>I)I=_}}if(j.maxDateTime!==false){var P=V.strToDateTime(j.maxDateTime);var G=i.formatDate(V.currentTime,j.formatDate)===i.formatDate(P,j.formatDate);if(G){var _=60*P.getHours()+P.getMinutes();if(_<N)N=_}}T=function n(a,o){var s=V.now(),u,l=j.allowTimes&&t.isArray(j.allowTimes)&&j.allowTimes.length;s.setHours(a);a=parseInt(s.getHours(),10);s.setMinutes(o);o=parseInt(s.getMinutes(),10);w=[];var h=60*a+o;if(e.is("[disabled]")||h>=N||h<I){w.push("xdsoft_disabled")}u=new Date(V.currentTime);u.setHours(parseInt(V.currentTime.getHours(),10));if(!l){u.setMinutes(Math[j.roundTime](V.currentTime.getMinutes()/j.step)*j.step)}if((j.initTime||j.defaultSelect||r.data("changed"))&&u.getHours()===parseInt(a,10)&&(!l&&j.step>59||u.getMinutes()===parseInt(o,10))){if(j.defaultSelect||r.data("changed")){w.push("xdsoft_current")}else if(j.initTime){w.push("xdsoft_init_time")}}if(parseInt(c.getHours(),10)===parseInt(a,10)&&parseInt(c.getMinutes(),10)===parseInt(o,10)){w.push("xdsoft_today")}S+='<div class="xdsoft_time '+w.join(" ")+'" data-hour="'+a+'" data-minute="'+o+'">'+i.formatDate(s,j.formatTime)+"</div>"};if(!j.allowTimes||!t.isArray(j.allowTimes)||!j.allowTimes.length){for(u=0,l=0;u<(j.hours12?12:24);u+=1){for(l=0;l<60;l+=j.step){var U=u*60+l;if(U<I)continue;if(U>=N)continue;C=(u<10?"0":"")+u;_=(l<10?"0":"")+l;T(C,_)}}}else{for(u=0;u<j.allowTimes.length;u+=1){C=V.strtotime(j.allowTimes[u]).getHours();_=V.strtotime(j.allowTimes[u]).getMinutes();T(C,_)}}D.html(S);n="";for(u=parseInt(j.yearStart,10);u<=parseInt(j.yearEnd,10);u+=1){n+='<div class="xdsoft_option '+(V.currentTime.getFullYear()===u?"xdsoft_current":"")+'" data-value="'+u+'">'+(u+j.yearOffset)+"</div>"}L.children().eq(0).html(n);for(u=parseInt(j.monthStart,10),n="";u<=parseInt(j.monthEnd,10);u+=1){n+='<div class="xdsoft_option '+(V.currentTime.getMonth()===u?"xdsoft_current":"")+'" data-value="'+u+'">'+j.i18n[a].months[u]+"</div>"}$.children().eq(0).html(n);t(r).trigger("generate.xdsoft")},10);o.stopPropagation()}).on("afterOpen.xdsoft",function(){if(j.timepicker){var t,e,i,n;if(D.find(".xdsoft_current").length){t=".xdsoft_current"}else if(D.find(".xdsoft_init_time").length){t=".xdsoft_init_time"}if(t){e=P[0].clientHeight;i=D[0].offsetHeight;n=D.find(t).index()*j.timeHeightInTimePicker+1;if(i-e<n){n=i-e}P.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(i-e)])}else{P.trigger("scroll_element.xdsoft_scroller",[0])}}});H=0;A.on("touchend click.xdsoft","td",function(i){i.stopPropagation();H+=1;var n=t(this),a=V.currentTime;if(a===undefined||a===null){V.currentTime=V.now();a=V.currentTime}if(n.hasClass("xdsoft_disabled")){return false}a.setDate(1);a.setFullYear(n.data("year"));a.setMonth(n.data("month"));a.setDate(n.data("date"));r.trigger("select.xdsoft",[a]);e.val(V.str());if(j.onSelectDate&&t.isFunction(j.onSelectDate)){j.onSelectDate.call(r,V.currentTime,r.data("input"),i)}r.data("changed",true);r.trigger("xchange.xdsoft");r.trigger("changedatetime.xdsoft");if((H>1||(j.closeOnDateSelect===true||j.closeOnDateSelect===false&&!j.timepicker))&&!j.inline){r.trigger("close.xdsoft")}setTimeout(function(){H=0},200)});D.on("touchstart","div",function(t){this.touchMoved=false}).on("touchmove","div",q).on("touchend click.xdsoft","div",function(e){if(!this.touchMoved){e.stopPropagation();var i=t(this),n=V.currentTime;if(n===undefined||n===null){V.currentTime=V.now();n=V.currentTime}if(i.hasClass("xdsoft_disabled")){return false}n.setHours(i.data("hour"));n.setMinutes(i.data("minute"));r.trigger("select.xdsoft",[n]);r.data("input").val(V.str());if(j.onSelectTime&&t.isFunction(j.onSelectTime)){j.onSelectTime.call(r,V.currentTime,r.data("input"),e)}r.data("changed",true);r.trigger("xchange.xdsoft");r.trigger("changedatetime.xdsoft");if(j.inline!==true&&j.closeOnTimeSelect===true){r.trigger("close.xdsoft")}}});k.on("mousewheel.xdsoft",function(t){if(!j.scrollMonth){return true}if(t.deltaY<0){V.nextMonth()}else{V.prevMonth()}return false});e.on("mousewheel.xdsoft",function(t){if(!j.scrollInput){return true}if(!j.datepicker&&j.timepicker){W=D.find(".xdsoft_current").length?D.find(".xdsoft_current").eq(0).index():0;if(W+t.deltaY>=0&&W+t.deltaY<D.children().length){W+=t.deltaY}if(D.children().eq(W).length){D.children().eq(W).trigger("mousedown")}return false}if(j.datepicker&&!j.timepicker){k.trigger(t,[t.deltaY,t.deltaX,t.deltaY]);if(e.val){e.val(V.str())}r.trigger("changedatetime.xdsoft");return false}});r.on("changedatetime.xdsoft",function(e){if(j.onChangeDateTime&&t.isFunction(j.onChangeDateTime)){var i=r.data("input");j.onChangeDateTime.call(r,V.currentTime,i,e);delete j.value;i.trigger("change")}}).on("generate.xdsoft",function(){if(j.onGenerate&&t.isFunction(j.onGenerate)){j.onGenerate.call(r,V.currentTime,r.data("input"))}if(F){r.trigger("afterOpen.xdsoft");F=false}}).on("click.xdsoft",function(t){t.stopPropagation()});W=0;B=function(t,e){do{t=t.parentNode;if(!t||e(t)===false){break}}while(t.nodeName!=="HTML")};Y=function(){var e,i,n,a,o,s,u,l,c,h,f,d,p;l=r.data("input");e=l.offset();i=l[0];h="top";n=e.top+i.offsetHeight-1;a=e.left;o="absolute";c=t(j.contentWindow).width();d=t(j.contentWindow).height();p=t(j.contentWindow).scrollTop();if(j.ownerDocument.documentElement.clientWidth-e.left<k.parent().outerWidth(true)){var v=k.parent().outerWidth(true)-i.offsetWidth;a=a-v}if(l.parent().css("direction")==="rtl"){a-=r.outerWidth()-l.outerWidth()}if(j.fixed){n-=p;a-=t(j.contentWindow).scrollLeft();o="fixed"}else{u=false;B(i,function(t){if(t===null){return false}if(j.contentWindow.getComputedStyle(t).getPropertyValue("position")==="fixed"){u=true;return false}});if(u){o="fixed";if(n+r.outerHeight()>d+p){h="bottom";n=d+p-e.top}else{n-=p}}else{if(n+r[0].offsetHeight>d+p){n=e.top-r[0].offsetHeight+1}}if(n<0){n=0}if(a+i.offsetWidth>c){a=c-i.offsetWidth}}s=r[0];B(s,function(t){var e;e=j.contentWindow.getComputedStyle(t).getPropertyValue("position");if(e==="relative"&&c>=t.offsetWidth){a=a-(c-t.offsetWidth)/2;return false}});f={position:o,left:a,top:"",bottom:""};f[h]=n;r.css(f)};r.on("open.xdsoft",function(e){var i=true;if(j.onShow&&t.isFunction(j.onShow)){i=j.onShow.call(r,V.currentTime,r.data("input"),e)}if(i!==false){r.show();Y();t(j.contentWindow).off("resize.xdsoft",Y).on("resize.xdsoft",Y);if(j.closeOnWithoutClick){t([j.ownerDocument.body,j.contentWindow]).on("touchstart mousedown.xdsoft",function e(){r.trigger("close.xdsoft");t([j.ownerDocument.body,j.contentWindow]).off("touchstart mousedown.xdsoft",e)})}}}).on("close.xdsoft",function(e){var i=true;R.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide();if(j.onClose&&t.isFunction(j.onClose)){i=j.onClose.call(r,V.currentTime,r.data("input"),e)}if(i!==false&&!j.opened&&!j.inline){r.hide()}e.stopPropagation()}).on("toggle.xdsoft",function(){if(r.is(":visible")){r.trigger("close.xdsoft")}else{r.trigger("open.xdsoft")}}).data("input",e);z=0;r.data("xdsoft_datetime",V);r.setOptions(j);function K(){var t=false,i;if(j.startDate){t=V.strToDate(j.startDate)}else{t=j.value||(e&&e.val&&e.val()?e.val():"");if(t){t=V.strToDateTime(t);if(j.yearOffset){t=new Date(t.getFullYear()-j.yearOffset,t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}}else if(j.defaultDate){t=V.strToDateTime(j.defaultDate);if(j.defaultTime){i=V.strtotime(j.defaultTime);t.setHours(i.getHours());t.setMinutes(i.getMinutes())}}}if(t&&V.isValidDate(t)){r.data("changed",true)}else{t=""}return t||0}function X(n){var r=function(t,e){var i=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(i).test(e)},a=function(t){try{if(n.ownerDocument.selection&&n.ownerDocument.selection.createRange){var e=n.ownerDocument.selection.createRange();return e.getBookmark().charCodeAt(2)-2}if(t.setSelectionRange){return t.selectionStart}}catch(t){return 0}},o=function(t,e){t=typeof t==="string"||t instanceof String?n.ownerDocument.getElementById(t):t;if(!t){return false}if(t.createTextRange){var i=t.createTextRange();i.collapse(true);i.moveEnd("character",e);i.moveStart("character",e);i.select();return true}if(t.setSelectionRange){t.setSelectionRange(e,e);return true}return false};if(n.mask){e.off("keydown.xdsoft")}if(n.mask===true){if(i.formatMask){n.mask=i.formatMask(n.format)}else{n.mask=n.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")}}if(t.type(n.mask)==="string"){if(!r(n.mask,e.val())){e.val(n.mask.replace(/[0-9]/g,"_"));o(e[0],0)}e.on("paste.xdsoft",function(i){var a=i.clipboardData||i.originalEvent.clipboardData||window.clipboardData,s=a.getData("text"),u=this.value,l=this.selectionStart;var c=u.substr(0,l);var h=u.substr(l+s.length);u=c+s+h;l+=s.length;if(r(n.mask,u)){this.value=u;o(this,l)}else if(t.trim(u)===""){this.value=n.mask.replace(/[0-9]/g,"_")}else{e.trigger("error_input.xdsoft")}i.preventDefault();return false});e.on("keydown.xdsoft",function(i){var a=this.value,h=i.which,j=this.selectionStart,k=this.selectionEnd,R=j!==k,A;if(h>=s&&h<=u||h>=l&&h<=c||(h===g||h===d)){A=h===g||h===d?"_":String.fromCharCode(l<=h&&h<=c?h-s:h);if(h===g&&j&&!R){j-=1}while(true){var I=n.mask.substr(j,1);var P=j<n.mask.length;var D=j>0;var N=/[^0-9_]/;var $=N.test(I);var L=$&&P&&D;if(!L)break;j+=h===g&&!R?-1:1}if(R){var F=k-j;var G=n.mask.replace(/[0-9]/g,"_");var U=G.substr(j,F);var H=U.substr(1);var W=a.substr(0,j);var Y=A+H;var z=a.substr(j+F);a=W+Y+z}else{var V=a.substr(0,j);var B=A;var q=a.substr(j+1);a=V+B+q}if(t.trim(a)===""){a=G}else{if(j===n.mask.length){i.preventDefault();return false}}j+=h===g?0:1;while(/[^0-9_]/.test(n.mask.substr(j,1))&&j<n.mask.length&&j>0){j+=h===g?0:1}if(r(n.mask,a)){this.value=a;o(this,j)}else if(t.trim(a)===""){this.value=n.mask.replace(/[0-9]/g,"_")}else{e.trigger("error_input.xdsoft")}}else{if([x,S,C,T,E].indexOf(h)!==-1&&M||[v,y,b,m,_,O,f,w,p].indexOf(h)!==-1){return true}}i.preventDefault();return false})}}V.setCurrentTime(K());e.data("xdsoft_datetimepicker",r).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){if(e.is(":disabled")||e.data("xdsoft_datetimepicker").is(":visible")&&j.closeOnInputClick){return}if(!j.openOnFocus){return}clearTimeout(z);z=setTimeout(function(){if(e.is(":disabled")){return}F=true;V.setCurrentTime(K(),true);if(j.mask){X(j)}r.trigger("open.xdsoft")},100)}).on("keydown.xdsoft",function(e){var i,n=e.which;if([p].indexOf(n)!==-1&&j.enterLikeTab){i=t("input:visible,textarea:visible,button:visible,a:visible");r.trigger("close.xdsoft");i.eq(i.index(this)+1).focus();return false}if([w].indexOf(n)!==-1){r.trigger("close.xdsoft");return true}}).on("blur.xdsoft",function(){r.trigger("close.xdsoft")})};A=function(e){var i=e.data("xdsoft_datetimepicker");if(i){i.data("xdsoft_datetime",null);i.remove();e.data("xdsoft_datetimepicker",null).off(".xdsoft");t(j.contentWindow).off("resize.xdsoft");t([j.contentWindow,j.ownerDocument.body]).off("mousedown.xdsoft touchstart");if(e.unmousewheel){e.unmousewheel()}}};t(j.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(t){if(t.keyCode===f){M=true}}).on("keyup.xdsoftctrl",function(t){if(t.keyCode===f){M=false}});this.each(function(){var e=t(this).data("xdsoft_datetimepicker"),a;if(e){if(t.type(n)==="string"){switch(n){case"show":t(this).select().focus();e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"toggle":e.trigger("toggle.xdsoft");break;case"destroy":A(t(this));break;case"reset":this.value=this.defaultValue;if(!this.value||!e.data("xdsoft_datetime").isValidDate(i.parseDate(this.value,j.format))){e.data("changed",false)}e.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":a=e.data("input");a.trigger("blur.xdsoft");break;default:if(e[n]&&t.isFunction(e[n])){o=e[n](r)}}}else{e.setOptions(n)}return 0}if(t.type(n)!=="string"){if(!j.lazyInit||j.open||j.inline){R(t(this))}else{I(t(this))}}});return o};t.fn.datetimepicker.defaults=e;function h(t,e,i){"use strict";this.date=t;this.desc=e;this.style=i}};(function(o){if(true){!(r=[i(51),i(459)],n=o,a=typeof n==="function"?n.apply(e,r):n,a!==undefined&&(t.exports=a))}else{}})(o)},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});Object.defineProperty(e,"exports",{enumerable:true});e.webpackPolyfill=1}return e}},function(t,e,i){(function(e,i){true?t.exports=i():undefined})(this,function(){"use strict";function t(t,i,r,a,o){e(t,i,r||0,a||t.length-1,o||n)}function e(t,n,r,a,o){while(a>r){if(a-r>600){var s=a-r+1;var u=n-r+1;var l=Math.log(s);var c=.5*Math.exp(2*l/3);var h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);var f=Math.max(r,Math.floor(n-u*c/s+h));var d=Math.min(a,Math.floor(n+(s-u)*c/s+h));e(t,n,f,d,o)}var p=t[n];var v=r;var g=a;i(t,r,n);if(o(t[a],p)>0)i(t,r,a);while(v<g){i(t,v,g);v++;g--;while(o(t[v],p)<0)v++;while(o(t[g],p)>0)g--}if(o(t[r],p)===0)i(t,r,g);else{g++;i(t,g,a)}if(g<=n)r=g+1;if(n<=g)a=g-1}}function i(t,e,i){var n=t[e];t[e]=t[i];t[i]=n}function n(t,e){return t<e?-1:t>e?1:0}return t})},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){angular.module("gettext",[]);angular.module("gettext").constant("gettext",function(t){return t});angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(t,e,i,n,r,a){var o;var s="$$noContext";var u='<span id="test" title="test" class="tested">test</span>';var l=angular.element("<span>"+u+"</span>").html()!==u;var c=function(t){if(o.debug&&o.currentLanguage!==o.baseLanguage){return o.debugPrefix+t}else{return t}};var h=function(t){if(o.showTranslatedMarkers){return o.translatedMarkerPrefix+t+o.translatedMarkerSuffix}else{return t}};function f(){a.$broadcast("gettextLanguageChanged")}o={debug:false,debugPrefix:"[MISSING]: ",showTranslatedMarkers:false,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:n("strings"),setCurrentLanguage:function(t){this.currentLanguage=t;f()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(e,i){if(!this.strings[e]){this.strings[e]={}}var n=t(e,1);for(var r in i){var a=i[r];if(l){r=angular.element("<span>"+r+"</span>").html()}if(angular.isString(a)||angular.isArray(a)){var o={};o[s]=a;a=o}if(!this.strings[e][r]){this.strings[e][r]={}}for(var u in a){var c=a[u];if(!angular.isArray(c)){this.strings[e][r][u]=[];this.strings[e][r][u][n]=c}else{this.strings[e][r][u]=c}}}f()},getStringFormFor:function(e,i,n,r){if(!e){return null}var a=this.strings[e]||{};var o=a[i]||{};var u=o[r||s]||[];return u[t(e,n)]},getString:function(t,i,n){var a=e(this.currentLanguage);t=this.getStringFormFor(this.currentLanguage,t,1,n)||this.getStringFormFor(a,t,1,n)||c(t);t=i?r(t)(i):t;return h(t)},getPlural:function(t,i,n,a,o){var s=e(this.currentLanguage);i=this.getStringFormFor(this.currentLanguage,i,t,o)||this.getStringFormFor(s,i,t,o)||c(t===1?i:n);if(a){a.$count=t;i=r(i)(a)}return h(i)},loadRemote:function(t){return i({method:"GET",url:t,cache:o.cache}).then(function(t){var e=t.data;for(var i in e){o.setStrings(i,e[i])}return t})}};return o}]);angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window","gettextUtil",function(t,e,i,n,r,a){var o=angular.$$lowercase||angular.lowercase;var s=parseInt((/msie (\d+)/.exec(o(r.navigator.userAgent))||[])[1],10);var u="translateParams";function l(t){return a.lcFirst(t.replace(u,""))}function c(t,e,i){var n=Object.keys(e).filter(function(t){return a.startsWith(t,u)&&t!==u});if(!n.length){return null}var r=angular.extend({},t);var o=[];n.forEach(function(n){var a=t.$watch(e[n],function(t){var e=l(n);r[e]=t;i(r)});o.push(a)});t.$on("$destroy",function(){o.forEach(function(t){t()})});return r}return{restrict:"AE",terminal:true,compile:function r(o,u){a.assert(!u.translatePlural||u.translateN,"translate-n","translate-plural");a.assert(!u.translateN||u.translatePlural,"translate-plural","translate-n");var l=a.trim(o.html());var h=u.translatePlural;var f=u.translateContext;if(s<=8){if(l.slice(-13)==="\x3c!--IE fix--\x3e"){l=l.slice(0,-13)}}return{post:function(r,o,s){var u=e(s.translateN);var d=null;var p=true;function v(e){e=e||null;var s;if(h){r=d||(d=r.$new());r.$count=u(r);s=t.getPlural(r.$count,l,h,e,f)}else{s=t.getString(l,e,f)}var c=o.contents();if(!c&&!s){return}if(s===a.trim(c.html())){if(p){n(c)(r)}return}var v=angular.element("<span>"+s+"</span>");n(v.contents())(r);var g=v.contents();i.enter(g,o);i.leave(c)}var g=c(r,s,v);v(g);p=false;if(s.translateN){r.$watch(s.translateN,function(){v(g)})}r.$on("gettextLanguageChanged",function(){v(g)})}}}}}]);angular.module("gettext").factory("gettextFallbackLanguage",function(){var t={};var e=/([^_]+)_[^_]+$/;return function(i){if(t[i]){return t[i]}var n=e.exec(i);if(n){t[i]=n[1];return n[1]}return null}});angular.module("gettext").filter("translate",["gettextCatalog",function(t){function e(e,i){return t.getString(e,null,i)}e.$stateful=true;return e}]);angular.module("gettext").factory("gettextPlurals",function(){var t={pt_BR:"pt_BR","pt-BR":"pt_BR"};return function(t,i){switch(e(t)){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return i%10!=1||i%100==11?1:0;case"jv":return i!=0?1:0;case"mk":return i==1||i%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return i>1?1:0;case"lv":return i%10==1&&i%100!=11?0:i!=0?1:2;case"lt":return i%10==1&&i%100!=11?0:i%10>=2&&(i%100<10||i%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return i%10==1&&i%100!=11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2;case"mnk":return i==0?0:i==1?1:2;case"ro":return i==1?0:i==0||i%100>0&&i%100<20?1:2;case"pl":return i==1?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2;case"cs":case"sk":return i==1?0:i>=2&&i<=4?1:2;case"sl":return i%100==1?1:i%100==2?2:i%100==3||i%100==4?3:0;case"mt":return i==1?0:i==0||i%100>1&&i%100<11?1:i%100>10&&i%100<20?2:3;case"gd":return i==1||i==11?0:i==2||i==12?1:i>2&&i<20?2:3;case"cy":return i==1?0:i==2?1:i!=8&&i!=11?2:3;case"kw":return i==1?0:i==2?1:i==3?2:3;case"ga":return i==1?0:i==2?1:i<7?2:i<11?3:4;case"ar":return i==0?0:i==1?1:i==2?2:i%100>=3&&i%100<=10?3:i%100>=11?4:5;default:return i!=1?1:0}};function e(e){if(!t[e]){t[e]=e.split(/\-|_/).shift()}return t[e]}});angular.module("gettext").factory("gettextUtil",function t(){var e=function(){if(!String.prototype.trim){return function(t){return typeof t==="string"?t.replace(/^\s*/,"").replace(/\s*$/,""):t}}return function(t){return typeof t==="string"?t.trim():t}}();function i(t,e,i){if(!t){throw new Error("You should add a "+e+" attribute whenever you add a "+i+" attribute.")}}function n(t,e){return t.indexOf(e)===0}function r(t){var e=t.charAt(0).toLowerCase();return e+t.substr(1)}return{trim:e,assert:i,startsWith:n,lcFirst:r}})},function(t,e,i){i(465);t.exports="gettext"},function(t,e,i){(function(t){
/**
 * @license AngularJS v1.7.0
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(e){"use strict";var i={objectMaxDepth:5};function n(t){if(U(t)){if(G(t.objectMaxDepth)){i.objectMaxDepth=r(t.objectMaxDepth)?t.objectMaxDepth:NaN}}else{return i}}function r(t){return Y(t)&&t>0}function a(t,e){e=e||Error;var n="https://errors.angularjs.org/1.7.0/";var r=n.replace(".","\\.")+"[\\s\\S]*";var a=new RegExp(r,"g");return function(){var r=arguments[0],o=arguments[1],s="["+(t?t+":":"")+r+"] ",u=_t(arguments,2).map(function(t){return ue(t,i.objectMaxDepth)}),l,c;s+=o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);if(e<u.length){return u[e].replace(a,"")}return t});s+="\n"+n+(t?t+"/":"")+r;for(c=0,l="?";c<u.length;c++,l="&"){s+=l+"p"+c+"="+encodeURIComponent(u[c])}return new e(s)}}var o=/^\/(.+)\/([a-z]*)$/;var s="validity";var u=Object.prototype.hasOwnProperty;var l=function(t){return W(t)?t.toLowerCase():t};var c=function(t){return W(t)?t.toUpperCase():t};var h,f,d,p=[].slice,v=[].splice,g=[].push,m=Object.prototype.toString,y=Object.getPrototypeOf,_=a("ng"),b=e.angular||(e.angular={}),w,O=0;h=e.document.documentMode;function x(t){if(t==null||X(t))return false;if(V(t)||W(t)||f&&t instanceof f)return true;var e="length"in Object(t)&&t.length;return Y(e)&&(e>=0&&e-1 in t||typeof t.item==="function")}function S(t,e,i){var n,r;if(t){if(q(t)){for(n in t){if(n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)){e.call(i,t[n],n,t)}}}else if(V(t)||x(t)){var a=typeof t!=="object";for(n=0,r=t.length;n<r;n++){if(a||n in t){e.call(i,t[n],n,t)}}}else if(t.forEach&&t.forEach!==S){t.forEach(e,i,t)}else if(H(t)){for(n in t){e.call(i,t[n],n,t)}}else if(typeof t.hasOwnProperty==="function"){for(n in t){if(t.hasOwnProperty(n)){e.call(i,t[n],n,t)}}}else{for(n in t){if(u.call(t,n)){e.call(i,t[n],n,t)}}}}return t}function C(t,e,i){var n=Object.keys(t).sort();for(var r=0;r<n.length;r++){e.call(i,t[n[r]],n[r])}return n}function T(t){return function(e,i){t(i,e)}}function E(){return++O}function M(t,e){if(e){t.$$hashKey=e}else{delete t.$$hashKey}}function j(t,e,i){var n=t.$$hashKey;for(var r=0,a=e.length;r<a;++r){var o=e[r];if(!U(o)&&!q(o))continue;var s=Object.keys(o);for(var u=0,l=s.length;u<l;u++){var c=s[u];var h=o[c];if(i&&U(h)){if(z(h)){t[c]=new Date(h.valueOf())}else if(K(h)){t[c]=new RegExp(h)}else if(h.nodeName){t[c]=h.cloneNode(true)}else if(ut(h)){t[c]=h.clone()}else{if(!U(t[c]))t[c]=V(h)?[]:{};j(t[c],[h],true)}}else{t[c]=h}}}M(t,n);return t}function k(t){return j(t,p.call(arguments,1),false)}function R(t){return j(t,p.call(arguments,1),true)}function A(t){return parseInt(t,10)}var I=Number.isNaN||function t(e){return e!==e};function P(t,e){return k(Object.create(t),e)}function D(){}D.$inject=[];function N(t){return t}N.$inject=[];function $(t){return function e(){return t}}function L(t){return q(t.toString)&&t.toString!==m}function F(t){return typeof t==="undefined"}function G(t){return typeof t!=="undefined"}function U(t){return t!==null&&typeof t==="object"}function H(t){return t!==null&&typeof t==="object"&&!y(t)}function W(t){return typeof t==="string"}function Y(t){return typeof t==="number"}function z(t){return m.call(t)==="[object Date]"}function V(t){return Array.isArray(t)||t instanceof Array}function B(t){var e=m.call(t);switch(e){case"[object Error]":return true;case"[object Exception]":return true;case"[object DOMException]":return true;default:return t instanceof Error}}function q(t){return typeof t==="function"}function K(t){return m.call(t)==="[object RegExp]"}function X(t){return t&&t.window===t}function Z(t){return t&&t.$evalAsync&&t.$watch}function Q(t){return m.call(t)==="[object File]"}function J(t){return m.call(t)==="[object FormData]"}function tt(t){return m.call(t)==="[object Blob]"}function et(t){return typeof t==="boolean"}function it(t){return t&&q(t.then)}var nt=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function rt(t){return t&&Y(t.length)&&nt.test(m.call(t))}function at(t){return m.call(t)==="[object ArrayBuffer]"}var ot=function(t){return W(t)?t.trim():t};var st=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function ut(t){return!!(t&&(t.nodeName||t.prop&&t.attr&&t.find))}function lt(t){var e={},i=t.split(","),n;for(n=0;n<i.length;n++){e[i[n]]=true}return e}function ct(t){return l(t.nodeName||t[0]&&t[0].nodeName)}function ht(t,e){return Array.prototype.indexOf.call(t,e)!==-1}function ft(t,e){var i=t.indexOf(e);if(i>=0){t.splice(i,1)}return i}function dt(t,e,i){var n=[];var a=[];i=r(i)?i:NaN;if(e){if(rt(e)||at(e)){throw _("cpta","Can't copy! TypedArray destination cannot be mutated.")}if(t===e){throw _("cpi","Can't copy! Source and destination are identical.")}if(V(e)){e.length=0}else{S(e,function(t,i){if(i!=="$$hashKey"){delete e[i]}})}n.push(t);a.push(e);return o(t,e,i)}return s(t,i);function o(t,e,i){i--;if(i<0){return"..."}var n=e.$$hashKey;var r;if(V(t)){for(var a=0,o=t.length;a<o;a++){e.push(s(t[a],i))}}else if(H(t)){for(r in t){e[r]=s(t[r],i)}}else if(t&&typeof t.hasOwnProperty==="function"){for(r in t){if(t.hasOwnProperty(r)){e[r]=s(t[r],i)}}}else{for(r in t){if(u.call(t,r)){e[r]=s(t[r],i)}}}M(e,n);return e}function s(t,e){if(!U(t)){return t}var i=n.indexOf(t);if(i!==-1){return a[i]}if(X(t)||Z(t)){throw _("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}var r=false;var s=l(t);if(s===undefined){s=V(t)?[]:Object.create(y(t));r=true}n.push(t);a.push(s);return r?o(t,s,e):s}function l(t){switch(m.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(s(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);new Uint8Array(e).set(new Uint8Array(t));return e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var i=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);i.lastIndex=t.lastIndex;return i;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(q(t.cloneNode)){return t.cloneNode(true)}}}function pt(t,e){return t===e||t!==t&&e!==e}function vt(t,e){if(t===e)return true;if(t===null||e===null)return false;if(t!==t&&e!==e)return true;var i=typeof t,n=typeof e,r,a,o;if(i===n&&i==="object"){if(V(t)){if(!V(e))return false;if((r=t.length)===e.length){for(a=0;a<r;a++){if(!vt(t[a],e[a]))return false}return true}}else if(z(t)){if(!z(e))return false;return pt(t.getTime(),e.getTime())}else if(K(t)){if(!K(e))return false;return t.toString()===e.toString()}else{if(Z(t)||Z(e)||X(t)||X(e)||V(e)||z(e)||K(e))return false;o=Zt();for(a in t){if(a.charAt(0)==="$"||q(t[a]))continue;if(!vt(t[a],e[a]))return false;o[a]=true}for(a in e){if(!(a in o)&&a.charAt(0)!=="$"&&G(e[a])&&!q(e[a]))return false}return true}}return false}var gt=function(){if(!G(gt.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var i=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");gt.rules={noUnsafeEval:!i||i.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!i||i.indexOf("no-inline-style")!==-1}}else{gt.rules={noUnsafeEval:n(),noInlineStyle:false}}}return gt.rules;function n(){try{new Function("");return false}catch(t){return true}}};var mt=function(){if(G(mt.name_))return mt.name_;var t;var i,n=Pt.length,r,a;for(i=0;i<n;++i){r=Pt[i];t=e.document.querySelector("["+r.replace(":","\\:")+"jq]");if(t){a=t.getAttribute(r+"jq");break}}return mt.name_=a};function yt(t,e,i){return t.concat(p.call(e,i))}function _t(t,e){return p.call(t,e||0)}function bt(t,e){var i=arguments.length>2?_t(arguments,2):[];if(q(e)&&!(e instanceof RegExp)){return i.length?function(){return arguments.length?e.apply(t,yt(i,arguments,0)):e.apply(t,i)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}else{return e}}function wt(t,i){var n=i;if(typeof t==="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"){n=undefined}else if(X(i)){n="$WINDOW"}else if(i&&e.document===i){n="$DOCUMENT"}else if(Z(i)){n="$SCOPE"}return n}function Ot(t,e){if(F(t))return undefined;if(!Y(e)){e=e?2:null}return JSON.stringify(t,wt,e)}function xt(t){return W(t)?JSON.parse(t):t}var St=/:/g;function Ct(t,e){t=t.replace(St,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return I(i)?e:i}function Tt(t,e){t=new Date(t.getTime());t.setMinutes(t.getMinutes()+e);return t}function Et(t,e,i){i=i?-1:1;var n=t.getTimezoneOffset();var r=Ct(e,n);return Tt(t,i*(r-n))}function Mt(t){t=f(t).clone().empty();var e=f("<div></div>").append(t).html();try{return t[0].nodeType===ee?l(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+l(e)})}catch(t){return l(e)}}function jt(t){try{return decodeURIComponent(t)}catch(t){}}function kt(t){var e={};S((t||"").split("&"),function(t){var i,n,r;if(t){n=t=t.replace(/\+/g,"%20");i=t.indexOf("=");if(i!==-1){n=t.substring(0,i);r=t.substring(i+1)}n=jt(n);if(G(n)){r=G(r)?jt(r):true;if(!u.call(e,n)){e[n]=r}else if(V(e[n])){e[n].push(r)}else{e[n]=[e[n],r]}}}});return e}function Rt(t){var e=[];S(t,function(t,i){if(V(t)){S(t,function(t){e.push(It(i,true)+(t===true?"":"="+It(t,true)))})}else{e.push(It(i,true)+(t===true?"":"="+It(t,true)))}});return e.length?e.join("&"):""}function At(t){return It(t,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function It(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var Pt=["ng-","data-ng-","ng:","x-ng-"];function Dt(t,e){var i,n,r=Pt.length;for(n=0;n<r;++n){i=Pt[n]+e;if(W(i=t.getAttribute(i))){return i}}return null}function Nt(t){var i=t.currentScript;if(!i){return true}if(!(i instanceof e.HTMLScriptElement||i instanceof e.SVGScriptElement)){return false}var n=i.attributes;var r=[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")];return r.every(function(e){if(!e){return true}if(!e.value){return false}var i=t.createElement("a");i.href=e.value;if(t.location.origin===i.origin){return true}switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return true;default:return false}})}var $t=Nt(e.document);function Lt(t,i){var n,r,a={};S(Pt,function(e){var i=e+"app";if(!n&&t.hasAttribute&&t.hasAttribute(i)){n=t;r=t.getAttribute(i)}});S(Pt,function(e){var i=e+"app";var a;if(!n&&(a=t.querySelector("["+i.replace(":","\\:")+"]"))){n=a;r=a.getAttribute(i)}});if(n){if(!$t){e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates "+"an extension, document.location.href does not match.");return}a.strictDi=Dt(n,"strict-di")!==null;i(n,r?[r]:[],a)}}function Ft(t,i,n){if(!U(n))n={};var r={strictDi:false};n=k(r,n);var a=function(){t=f(t);if(t.injector()){var r=t[0]===e.document?"document":Mt(t);throw _("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[];i.unshift(["$provide",function(e){e.value("$rootElement",t)}]);if(n.debugInfoEnabled){i.push(["$compileProvider",function(t){t.debugInfoEnabled(true)}])}i.unshift("ng");var a=xi(i,n.strictDi);a.invoke(["$rootScope","$rootElement","$compile","$injector",function t(e,i,n,r){e.$apply(function(){i.data("$injector",r);n(i)(e)})}]);return a};var o=/^NG_ENABLE_DEBUG_INFO!/;var s=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)){n.debugInfoEnabled=true;e.name=e.name.replace(o,"")}if(e&&!s.test(e.name)){return a()}e.name=e.name.replace(s,"");b.resumeBootstrap=function(t){S(t,function(t){i.push(t)});return a()};if(q(b.resumeDeferredBootstrap)){b.resumeDeferredBootstrap()}}function Gt(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name;e.location.reload()}function Ut(t){var e=b.element(t).injector();if(!e){throw _("test","no injector found for element argument to getTestability")}return e.get("$$testability")}var Ht=/[A-Z]/g;function Wt(t,e){e=e||"_";return t.replace(Ht,function(t,i){return(i?e:"")+t.toLowerCase()})}var Yt=false;function zt(){var i;if(Yt){return}var n=mt();d=F(n)?t:!n?undefined:e[n];if(d&&d.fn.on){f=d;k(d.fn,{scope:Qe.scope,isolateScope:Qe.isolateScope,controller:Qe.controller,injector:Qe.injector,inheritedData:Qe.inheritedData})}else{f=Ie}i=f.cleanData;f.cleanData=function(t){var e;for(var n=0,r;(r=t[n])!=null;n++){e=f._data(r).events;if(e&&e.$destroy){f(r).triggerHandler("$destroy")}}i(t)};b.element=f;Yt=true}function Vt(t,e,i){if(!t){throw _("areq","Argument '{0}' is {1}",e||"?",i||"required")}return t}function Bt(t,e,i){if(i&&V(t)){t=t[t.length-1]}Vt(q(t),e,"not a function, got "+(t&&typeof t==="object"?t.constructor.name||"Object":typeof t));return t}function qt(t,e){if(t==="hasOwnProperty"){throw _("badname","hasOwnProperty is not a valid {0} name",e)}}function Kt(t,e,i){if(!e)return t;var n=e.split(".");var r;var a=t;var o=n.length;for(var s=0;s<o;s++){r=n[s];if(t){t=(a=t)[r]}}if(!i&&q(t)){return bt(a,t)}return t}function Xt(t){var e=t[0];var i=t[t.length-1];var n;for(var r=1;e!==i&&(e=e.nextSibling);r++){if(n||t[r]!==e){if(!n){n=f(p.call(t,0,r))}n.push(e)}}return n||t}function Zt(){return Object.create(null)}function Qt(t){if(t==null){return""}switch(typeof t){case"string":break;case"number":t=""+t;break;default:if(L(t)&&!V(t)&&!z(t)){t=t.toString()}else{t=Ot(t)}}return t}var Jt=1;var te=2;var ee=3;var ie=8;var ne=9;var re=11;function ae(t){var e=a("$injector");var i=a("ng");function n(t,e,i){return t[e]||(t[e]=i())}var r=n(t,"angular",Object);r.$$minErr=r.$$minErr||a;return n(r,"module",function(){var t={};return function r(a,o,s){var u={};var l=function(t,e){if(t==="hasOwnProperty"){throw i("badname","hasOwnProperty is not a valid {0} name",e)}};l(a,"module");if(o&&t.hasOwnProperty(a)){t[a]=null}return n(t,a,function(){if(!o){throw e("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",a)}var t=[];var n=[];var r=[];var l=h("$injector","invoke","push",n);var c={_invokeQueue:t,_configBlocks:n,_runBlocks:r,info:function(t){if(G(t)){if(!U(t))throw i("aobj","Argument '{0}' must be an object","value");u=t;return this}return u},requires:o,name:a,provider:f("$provide","provider"),factory:f("$provide","factory"),service:f("$provide","service"),value:h("$provide","value"),constant:h("$provide","constant","unshift"),decorator:f("$provide","decorator",n),animation:f("$animateProvider","register"),filter:f("$filterProvider","register"),controller:f("$controllerProvider","register"),directive:f("$compileProvider","directive"),component:f("$compileProvider","component"),config:l,run:function(t){r.push(t);return this}};if(s){l(s)}return c;function h(e,i,n,r){if(!r)r=t;return function(){r[n||"push"]([e,i,arguments]);return c}}function f(e,i,n){if(!n)n=t;return function(t,r){if(r&&q(r))r.$$moduleName=a;n.push([e,i,arguments]);return c}}})}})}function oe(t,e){if(V(t)){e=e||[];for(var i=0,n=t.length;i<n;i++){e[i]=t[i]}}else if(U(t)){e=e||{};for(var r in t){if(!(r.charAt(0)==="$"&&r.charAt(1)==="$")){e[r]=t[r]}}}return e||t}function se(t,e){var i=[];if(r(e)){t=b.copy(t,null,e)}return JSON.stringify(t,function(t,e){e=wt(t,e);if(U(e)){if(i.indexOf(e)>=0)return"...";i.push(e)}return e})}function ue(t,e){if(typeof t==="function"){return t.toString().replace(/ \{[\s\S]*$/,"")}else if(F(t)){return"undefined"}else if(typeof t!=="string"){return se(t,e)}return t}var le={full:"1.7.0",major:1,minor:7,dot:0,codeName:"nonexistent-physiology"};function ce(t){k(t,{errorHandlingConfig:n,bootstrap:Ft,copy:dt,extend:k,merge:R,equals:vt,element:f,forEach:S,injector:xi,noop:D,bind:bt,toJson:Ot,fromJson:xt,identity:N,isUndefined:F,isDefined:G,isString:W,isFunction:q,isObject:U,isNumber:Y,isElement:ut,isArray:V,version:le,isDate:z,callbacks:{$$counter:0},getTestability:Ut,reloadWithDebugInfo:Gt,$$minErr:a,$$csp:gt,$$encodeUriSegment:At,$$encodeUriQuery:It,$$lowercase:l,$$stringify:Qt,$$uppercase:c});w=ae(e);w("ng",["ngLocale"],["$provide",function t(e){e.provider({$$sanitizeUri:Ir});e.provider("$compile",zi).directive({a:Ga,input:Ro,textarea:Ro,form:qa,script:ks,select:Ps,option:Ds,ngBind:Po,ngBindHtml:No,ngBindTemplate:Do,ngClass:Fo,ngClassEven:Uo,ngClassOdd:Go,ngCloak:Ho,ngController:Wo,ngForm:Ka,ngHide:xs,ngIf:Vo,ngInclude:Bo,ngInit:Ko,ngNonBindable:ps,ngPluralize:ys,ngRepeat:_s,ngShow:Os,ngStyle:Ss,ngSwitch:Cs,ngSwitchWhen:Ts,ngSwitchDefault:Es,ngOptions:ms,ngTransclude:js,ngModel:us,ngList:Xo,ngChange:$o,pattern:$s,ngPattern:$s,required:Ns,ngRequired:Ns,minlength:Fs,ngMinlength:Fs,maxlength:Ls,ngMaxlength:Ls,ngValue:Io,ngModelOptions:fs}).directive({ngInclude:qo}).directive(Ua).directive(Yo);e.provider({$anchorScroll:Si,$animate:Pi,$animateCss:$i,$$animateJs:Ai,$$animateQueue:Ii,$$AnimateRunner:Ni,$$animateAsyncRun:Di,$browser:Fi,$cacheFactory:Gi,$controller:rn,$document:an,$$isDocumentHidden:on,$exceptionHandler:sn,$filter:oa,$$forceReflow:un,$interpolate:jn,$interval:Rn,$http:Sn,$httpParamSerializer:gn,$httpParamSerializerJQLike:mn,$httpBackend:Tn,$xhrFactory:Cn,$jsonpCallbacks:An,$location:Jn,$log:tr,$parse:Sr,$rootScope:Ar,$q:Cr,$$q:Tr,$sce:Ur,$sceDelegate:Gr,$sniffer:Hr,$templateCache:Ui,$templateRequest:Yr,$$testability:zr,$timeout:Br,$window:na,$$rAF:Rr,$$jqLite:si,$$Map:fi,$$cookieReader:aa})}]).info({angularVersion:"1.7.0"})}Ie.expando="ng339";var he=Ie.cache={},fe=1;Ie._data=function(t){return this.cache[t[this.expando]]||{}};function de(){return++fe}var pe=/-([a-z])/g;var ve=/^-ms-/;var ge={mouseleave:"mouseout",mouseenter:"mouseover"};var me=a("jqLite");function ye(t){return be(t.replace(ve,"ms-"))}function _e(t,e){return e.toUpperCase()}function be(t){return t.replace(pe,_e)}var we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var Oe=/<|&#?\w+;/;var xe=/<([\w:-]+)/;var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;var Ce={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ce.optgroup=Ce.option;Ce.tbody=Ce.tfoot=Ce.colgroup=Ce.caption=Ce.thead;Ce.th=Ce.td;function Te(t){return!Oe.test(t)}function Ee(t){var e=t.nodeType;return e===Jt||!e||e===ne}function Me(t){for(var e in he[t.ng339]){return true}return false}function je(t,e){var i,n,r,a=e.createDocumentFragment(),o=[],s;if(Te(t)){o.push(e.createTextNode(t))}else{i=a.appendChild(e.createElement("div"));n=(xe.exec(t)||["",""])[1].toLowerCase();r=Ce[n]||Ce._default;i.innerHTML=r[1]+t.replace(Se,"<$1></$2>")+r[2];s=r[0];while(s--){i=i.lastChild}o=yt(o,i.childNodes);i=a.firstChild;i.textContent=""}a.textContent="";a.innerHTML="";S(o,function(t){a.appendChild(t)});return a}function ke(t,i){i=i||e.document;var n;if(n=we.exec(t)){return[i.createElement(n[1])]}if(n=je(t,i)){return n.childNodes}return[]}function Re(t,e){var i=t.parentNode;if(i){i.replaceChild(e,t)}e.appendChild(t)}var Ae=e.Node.prototype.contains||function(t){return!!(this.compareDocumentPosition(t)&16)};function Ie(t){if(t instanceof Ie){return t}var e;if(W(t)){t=ot(t);e=true}if(!(this instanceof Ie)){if(e&&t.charAt(0)!=="<"){throw me("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new Ie(t)}if(e){ze(this,ke(t))}else if(q(t)){Ze(t)}else{ze(this,t)}}function Pe(t){return t.cloneNode(true)}function De(t,e){if(!e&&Ee(t))f.cleanData([t]);if(t.querySelectorAll){f.cleanData(t.querySelectorAll("*"))}}function Ne(t){var e;for(e in t){return false}return true}function $e(t){var e=t.ng339;var i=e&&he[e];var n=i&&i.events;var r=i&&i.data;if((!r||Ne(r))&&(!n||Ne(n))){delete he[e];t.ng339=undefined}}function Le(t,e,i,n){if(G(n))throw me("offargs","jqLite#off() does not support the `selector` argument");var r=Ge(t);var a=r&&r.events;var o=r&&r.handle;if(!o)return;if(!e){for(e in a){if(e!=="$destroy"){t.removeEventListener(e,o)}delete a[e]}}else{var s=function(e){var n=a[e];if(G(i)){ft(n||[],i)}if(!(G(i)&&n&&n.length>0)){t.removeEventListener(e,o);delete a[e]}};S(e.split(" "),function(t){s(t);if(ge[t]){s(ge[t])}})}$e(t)}function Fe(t,e){var i=t.ng339;var n=i&&he[i];if(n){if(e){delete n.data[e]}else{n.data={}}$e(t)}}function Ge(t,e){var i=t.ng339,n=i&&he[i];if(e&&!n){t.ng339=i=de();n=he[i]={events:{},data:{},handle:undefined}}return n}function Ue(t,e,i){if(Ee(t)){var n;var r=G(i);var a=!r&&e&&!U(e);var o=!e;var s=Ge(t,!a);var u=s&&s.data;if(r){u[be(e)]=i}else{if(o){return u}else{if(a){return u&&u[be(e)]}else{for(n in e){u[be(n)]=e[n]}}}}}}function He(t,e){if(!t.getAttribute)return false;return(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function We(t,e){if(e&&t.setAttribute){var i=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var n=i;S(e.split(" "),function(t){t=ot(t);n=n.replace(" "+t+" "," ")});if(n!==i){t.setAttribute("class",ot(n))}}}function Ye(t,e){if(e&&t.setAttribute){var i=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var n=i;S(e.split(" "),function(t){t=ot(t);if(n.indexOf(" "+t+" ")===-1){n+=t+" "}});if(n!==i){t.setAttribute("class",ot(n))}}}function ze(t,e){if(e){if(e.nodeType){t[t.length++]=e}else{var i=e.length;if(typeof i==="number"&&e.window!==e){if(i){for(var n=0;n<i;n++){t[t.length++]=e[n]}}}else{t[t.length++]=e}}}}function Ve(t,e){return Be(t,"$"+(e||"ngController")+"Controller")}function Be(t,e,i){if(t.nodeType===ne){t=t.documentElement}var n=V(e)?e:[e];while(t){for(var r=0,a=n.length;r<a;r++){if(G(i=f.data(t,n[r])))return i}t=t.parentNode||t.nodeType===re&&t.host}}function qe(t){De(t,true);while(t.firstChild){t.removeChild(t.firstChild)}}function Ke(t,e){if(!e)De(t);var i=t.parentNode;if(i)i.removeChild(t)}function Xe(t,i){i=i||e;if(i.document.readyState==="complete"){i.setTimeout(t)}else{f(i).on("load",t)}}function Ze(t){function i(){e.document.removeEventListener("DOMContentLoaded",i);e.removeEventListener("load",i);t()}if(e.document.readyState==="complete"){e.setTimeout(t)}else{e.document.addEventListener("DOMContentLoaded",i);e.addEventListener("load",i)}}var Qe=Ie.prototype={ready:Ze,toString:function(){var t=[];S(this,function(e){t.push(""+e)});return"["+t.join(", ")+"]"},eq:function(t){return t>=0?f(this[t]):f(this[this.length+t])},length:0,push:g,sort:[].sort,splice:[].splice};var Je={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Je[l(t)]=t});var ti={};S("input,select,option,textarea,button,form,details".split(","),function(t){ti[t]=true});var ei={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function ii(t,e){var i=Je[e.toLowerCase()];return i&&ti[ct(t)]&&i}function ni(t){return ei[t]}S({data:Ue,removeData:Fe,hasData:Me,cleanData:function t(e){for(var i=0,n=e.length;i<n;i++){Fe(e[i]);Le(e[i])}}},function(t,e){Ie[e]=t});S({data:Ue,inheritedData:Be,scope:function(t){return f.data(t,"$scope")||Be(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return f.data(t,"$isolateScope")||f.data(t,"$isolateScopeNoTemplate")},controller:Ve,injector:function(t){return Be(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:He,css:function(t,e,i){e=ye(e);if(G(i)){t.style[e]=i}else{return t.style[e]}},attr:function(t,e,i){var n;var r=t.nodeType;if(r===ee||r===te||r===ie||!t.getAttribute){return}var a=l(e);var o=Je[a];if(G(i)){if(i===null||i===false&&o){t.removeAttribute(e)}else{t.setAttribute(e,o?a:i)}}else{n=t.getAttribute(e);if(o&&n!==null){n=a}return n===null?undefined:n}},prop:function(t,e,i){if(G(i)){t[e]=i}else{return t[e]}},text:function(){t.$dv="";return t;function t(t,e){if(F(e)){var i=t.nodeType;return i===Jt||i===ee?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(F(e)){if(t.multiple&&ct(t)==="select"){var i=[];S(t.options,function(t){if(t.selected){i.push(t.value||t.text)}});return i}return t.value}t.value=e},html:function(t,e){if(F(e)){return t.innerHTML}De(t,true);t.innerHTML=e},empty:qe},function(t,e){Ie.prototype[e]=function(e,i){var n,r;var a=this.length;if(t!==qe&&F(t.length===2&&(t!==He&&t!==Ve)?e:i)){if(U(e)){for(n=0;n<a;n++){if(t===Ue){t(this[n],e)}else{for(r in e){t(this[n],r,e[r])}}}return this}else{var o=t.$dv;var s=F(o)?Math.min(a,1):a;for(var u=0;u<s;u++){var l=t(this[u],e,i);o=o?o+l:l}return o}}else{for(n=0;n<a;n++){t(this[n],e,i)}return this}}});function ri(t,e){var i=function(i,n){i.isDefaultPrevented=function(){return i.defaultPrevented};var r=e[n||i.type];var a=r?r.length:0;if(!a)return;if(F(i.immediatePropagationStopped)){var o=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=true;if(i.stopPropagation){i.stopPropagation()}if(o){o.call(i)}}}i.isImmediatePropagationStopped=function(){return i.immediatePropagationStopped===true};var s=r.specialHandlerWrapper||ai;if(a>1){r=oe(r)}for(var u=0;u<a;u++){if(!i.isImmediatePropagationStopped()){s(t,i,r[u])}}};i.elem=t;return i}function ai(t,e,i){i.call(t,e)}function oi(t,e,i){var n=e.relatedTarget;if(!n||n!==t&&!Ae.call(t,n)){i.call(t,e)}}S({removeData:Fe,on:function t(e,i,n,r){if(G(r))throw me("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!Ee(e)){return}var a=Ge(e,true);var o=a.events;var s=a.handle;if(!s){s=a.handle=ri(e,o)}var u=i.indexOf(" ")>=0?i.split(" "):[i];var l=u.length;var c=function(t,i,r){var a=o[t];if(!a){a=o[t]=[];a.specialHandlerWrapper=i;if(t!=="$destroy"&&!r){e.addEventListener(t,s)}}a.push(n)};while(l--){i=u[l];if(ge[i]){c(ge[i],oi);c(i,undefined,true)}else{c(i)}}},off:Le,one:function(t,e,i){t=f(t);t.on(e,function n(){t.off(e,i);t.off(e,n)});t.on(e,i)},replaceWith:function(t,e){var i,n=t.parentNode;De(t);S(new Ie(e),function(e){if(i){n.insertBefore(e,i.nextSibling)}else{n.replaceChild(e,t)}i=e})},children:function(t){var e=[];S(t.childNodes,function(t){if(t.nodeType===Jt){e.push(t)}});return e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var i=t.nodeType;if(i!==Jt&&i!==re)return;e=new Ie(e);for(var n=0,r=e.length;n<r;n++){var a=e[n];t.appendChild(a)}},prepend:function(t,e){if(t.nodeType===Jt){var i=t.firstChild;S(new Ie(e),function(e){t.insertBefore(e,i)})}},wrap:function(t,e){Re(t,f(e).eq(0).clone()[0])},remove:Ke,detach:function(t){Ke(t,true)},after:function(t,e){var i=t,n=t.parentNode;if(n){e=new Ie(e);for(var r=0,a=e.length;r<a;r++){var o=e[r];n.insertBefore(o,i.nextSibling);i=o}}},addClass:Ye,removeClass:We,toggleClass:function(t,e,i){if(e){S(e.split(" "),function(e){var n=i;if(F(n)){n=!He(t,e)}(n?Ye:We)(t,e)})}},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==re?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){if(t.getElementsByTagName){return t.getElementsByTagName(e)}else{return[]}},clone:Pe,triggerHandler:function(t,e,i){var n,r,a;var o=e.type||e;var s=Ge(t);var u=s&&s.events;var l=u&&u[o];if(l){n={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:D,type:o,target:t};if(e.type){n=k(n,e)}r=oe(l);a=i?[n].concat(i):[n];S(r,function(e){if(!n.isImmediatePropagationStopped()){e.apply(t,a)}})}}},function(t,e){Ie.prototype[e]=function(e,i,n){var r;for(var a=0,o=this.length;a<o;a++){if(F(r)){r=t(this[a],e,i,n);if(G(r)){r=f(r)}}else{ze(r,t(this[a],e,i,n))}}return G(r)?r:this}});Ie.prototype.bind=Ie.prototype.on;Ie.prototype.unbind=Ie.prototype.off;function si(){this.$get=function t(){return k(Ie,{hasClass:function(t,e){if(t.attr)t=t[0];return He(t,e)},addClass:function(t,e){if(t.attr)t=t[0];return Ye(t,e)},removeClass:function(t,e){if(t.attr)t=t[0];return We(t,e)}})}}function ui(t,e){var i=t&&t.$$hashKey;if(i){if(typeof i==="function"){i=t.$$hashKey()}return i}var n=typeof t;if(n==="function"||n==="object"&&t!==null){i=t.$$hashKey=n+":"+(e||E)()}else{i=n+":"+t}return i}var li=Object.create(null);function ci(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}ci.prototype={_idx:function(t){if(t===this._lastKey){return this._lastIndex}this._lastKey=t;this._lastIndex=this._keys.indexOf(t);return this._lastIndex},_transformKey:function(t){return I(t)?li:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(e!==-1){return this._values[e]}},set:function(t,e){t=this._transformKey(t);var i=this._idx(t);if(i===-1){i=this._lastIndex=this._keys.length}this._keys[i]=t;this._values[i]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);if(e===-1){return false}this._keys.splice(e,1);this._values.splice(e,1);this._lastKey=NaN;this._lastIndex=-1;return true}};var hi=ci;var fi=[function(){this.$get=[function(){return hi}]}];var di=/^([^(]+?)=>/;var pi=/^[^(]*\(\s*([^)]*)\)/m;var vi=/,/;var gi=/^\s*(_?)(\S+?)\1\s*$/;var mi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var yi=a("$injector");function _i(t){return Function.prototype.toString.call(t)}function bi(t){var e=_i(t).replace(mi,""),i=e.match(di)||e.match(pi);return i}function wi(t){var e=bi(t);if(e){return"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")"}return"fn"}function Oi(t,e,i){var n,r,a;if(typeof t==="function"){if(!(n=t.$inject)){n=[];if(t.length){if(e){if(!W(i)||!i){i=t.name||wi(t)}throw yi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i)}r=bi(t);S(r[1].split(vi),function(t){t.replace(gi,function(t,e,i){n.push(i)})})}t.$inject=n}}else if(V(t)){a=t.length-1;Bt(t[a],"fn");n=t.slice(0,a)}else{Bt(t,"fn",true)}return n}function xi(t,e){e=e===true;var i={},n="Provider",r=[],a=new hi,o={$provide:{provider:d(p),factory:d(g),service:d(m),value:d(y),constant:d(_),decorator:O}},s=o.$injector=C(o,function(t,e){if(b.isString(e)){r.push(e)}throw yi("unpr","Unknown provider: {0}",r.join(" <- "))}),u={},l=C(u,function(t,e){var i=s.get(t+n,e);return c.invoke(i.$get,i,undefined,t)}),c=l;o["$injector"+n]={$get:$(l)};c.modules=s.modules=Zt();var f=x(t);c=l.get("$injector");c.strictDi=e;S(f,function(t){if(t)c.invoke(t)});c.loadNewModules=function(t){S(x(t),function(t){if(t)c.invoke(t)})};return c;function d(t){return function(e,i){if(U(e)){S(e,T(t))}else{return t(e,i)}}}function p(t,e){qt(t,"service");if(q(e)||V(e)){e=s.instantiate(e)}if(!e.$get){throw yi("pget","Provider '{0}' must define $get factory method.",t)}return o[t+n]=e}function v(t,e){return function i(){var n=c.invoke(e,this);if(F(n)){throw yi("undef","Provider '{0}' must return a value from $get factory method.",t)}return n}}function g(t,e,i){return p(t,{$get:i!==false?v(t,e):e})}function m(t,e){return g(t,["$injector",function(t){return t.instantiate(e)}])}function y(t,e){return g(t,$(e),false)}function _(t,e){qt(t,"constant");o[t]=e;u[t]=e}function O(t,e){var i=s.get(t+n),r=i.$get;i.$get=function(){var t=c.invoke(r,i);return c.invoke(e,null,{$delegate:t})}}function x(t){Vt(F(t)||V(t),"modulesToLoad","not an array");var e=[],i;S(t,function(t){if(a.get(t))return;a.set(t,true);function n(t){var e,i;for(e=0,i=t.length;e<i;e++){var n=t[e],r=s.get(n[0]);r[n[1]].apply(r,n[2])}}try{if(W(t)){i=w(t);c.modules[t]=i;e=e.concat(x(i.requires)).concat(i._runBlocks);n(i._invokeQueue);n(i._configBlocks)}else if(q(t)){e.push(s.invoke(t))}else if(V(t)){e.push(s.invoke(t))}else{Bt(t,"module")}}catch(e){if(V(t)){t=t[t.length-1]}if(e.message&&e.stack&&e.stack.indexOf(e.message)===-1){e=e.message+"\n"+e.stack}throw yi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}});return e}function C(t,a){function s(e,n){if(t.hasOwnProperty(e)){if(t[e]===i){throw yi("cdep","Circular dependency found: {0}",e+" <- "+r.join(" <- "))}return t[e]}else{try{r.unshift(e);t[e]=i;t[e]=a(e,n);return t[e]}catch(n){if(t[e]===i){delete t[e]}throw n}finally{r.shift()}}}function u(t,i,n){var r=[],a=xi.$$annotate(t,e,n);for(var o=0,u=a.length;o<u;o++){var l=a[o];if(typeof l!=="string"){throw yi("itkn","Incorrect injection token! Expected service name as string, got {0}",l)}r.push(i&&i.hasOwnProperty(l)?i[l]:s(l,n))}return r}function l(t){if(h||typeof t!=="function"){return false}var e=t.$$ngIsClass;if(!et(e)){e=t.$$ngIsClass=/^class\b/.test(_i(t))}return e}function c(t,e,i,n){if(typeof i==="string"){n=i;i=null}var r=u(t,i,n);if(V(t)){t=t[t.length-1]}if(!l(t)){return t.apply(e,r)}else{r.unshift(null);return new(Function.prototype.bind.apply(t,r))}}function f(t,e,i){var n=V(t)?t[t.length-1]:t;var r=u(t,e,i);r.unshift(null);return new(Function.prototype.bind.apply(n,r))}return{invoke:c,instantiate:f,get:s,annotate:xi.$$annotate,has:function(e){return o.hasOwnProperty(e+n)||t.hasOwnProperty(e)}}}}xi.$$annotate=Oi;function Si(){var t=true;this.disableAutoScrolling=function(){t=false};this.$get=["$window","$location","$rootScope",function(e,i,n){var r=e.document;function a(t){var e=null;Array.prototype.some.call(t,function(t){if(ct(t)==="a"){e=t;return true}});return e}function o(){var t=u.yOffset;if(q(t)){t=t()}else if(ut(t)){var i=t[0];var n=e.getComputedStyle(i);if(n.position!=="fixed"){t=0}else{t=i.getBoundingClientRect().bottom}}else if(!Y(t)){t=0}return t}function s(t){if(t){t.scrollIntoView();var i=o();if(i){var n=t.getBoundingClientRect().top;e.scrollBy(0,n-i)}}else{e.scrollTo(0,0)}}function u(t){t=W(t)?t:Y(t)?t.toString():i.hash();var e;if(!t)s(null);else if(e=r.getElementById(t))s(e);else if(e=a(r.getElementsByName(t)))s(e);else if(t==="top")s(null)}if(t){n.$watch(function t(){return i.hash()},function t(e,i){if(e===i&&e==="")return;Xe(function(){n.$evalAsync(u)})})}return u}]}var Ci=a("$animate");var Ti=1;var Ei="ng-animate";function Mi(t,e){if(!t&&!e)return"";if(!t)return e;if(!e)return t;if(V(t))t=t.join(" ");if(V(e))e=e.join(" ");return t+" "+e}function ji(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.nodeType===Ti){return i}}}function ki(t){if(W(t)){t=t.split(" ")}var e=Zt();S(t,function(t){if(t.length){e[t]=true}});return e}function Ri(t){return U(t)?t:{}}var Ai=function(){this.$get=D};var Ii=function(){var t=new hi;var e=[];this.$get=["$$AnimateRunner","$rootScope",function(i,n){return{enabled:D,on:D,off:D,pin:D,push:function(t,e,n,r){if(r){r()}n=n||{};if(n.from){t.css(n.from)}if(n.to){t.css(n.to)}if(n.addClass||n.removeClass){o(t,n.addClass,n.removeClass)}var a=new i;a.complete();return a}};function r(t,e,i){var n=false;if(e){e=W(e)?e.split(" "):V(e)?e:[];S(e,function(e){if(e){n=true;t[e]=i}})}return n}function a(){S(e,function(e){var i=t.get(e);if(i){var n=ki(e.attr("class"));var r="";var a="";S(i,function(t,e){var i=!!n[e];if(t!==i){if(t){r+=(r.length?" ":"")+e}else{a+=(a.length?" ":"")+e}}});S(e,function(t){if(r){Ye(t,r)}if(a){We(t,a)}});t.delete(e)}});e.length=0}function o(i,o,s){var u=t.get(i)||{};var l=r(u,o,true);var c=r(u,s,false);if(l||c){t.set(i,u);e.push(i);if(e.length===1){n.$$postDigest(a)}}}}]};var Pi=["$provide",function(t){var e=this;var i=null;var n=null;this.$$registeredAnimations=Object.create(null);this.register=function(i,n){if(i&&i.charAt(0)!=="."){throw Ci("notcsel","Expecting class selector starting with '.' got '{0}'.",i)}var r=i+"-animation";e.$$registeredAnimations[i.substr(1)]=r;t.factory(r,n)};this.customFilter=function(t){if(arguments.length===1){n=q(t)?t:null}return n};this.classNameFilter=function(t){if(arguments.length===1){i=t instanceof RegExp?t:null;if(i){var e=new RegExp("[(\\s|\\/)]"+Ei+"[(\\s|\\/)]");if(e.test(i.toString())){i=null;throw Ci("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ei)}}}return i};this.$get=["$$animateQueue",function(t){function e(t,e,i){if(i){var n=ji(i);if(n&&!n.parentNode&&!n.previousElementSibling){i=null}}if(i){i.after(t)}else{e.prepend(t)}}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){if(t.cancel){t.cancel()}},enter:function(i,n,r,a){n=n&&f(n);r=r&&f(r);n=n||r.parent();e(i,n,r);return t.push(i,"enter",Ri(a))},move:function(i,n,r,a){n=n&&f(n);r=r&&f(r);n=n||r.parent();e(i,n,r);return t.push(i,"move",Ri(a))},leave:function(e,i){return t.push(e,"leave",Ri(i),function(){e.remove()})},addClass:function(e,i,n){n=Ri(n);n.addClass=Mi(n.addclass,i);return t.push(e,"addClass",n)},removeClass:function(e,i,n){n=Ri(n);n.removeClass=Mi(n.removeClass,i);return t.push(e,"removeClass",n)},setClass:function(e,i,n,r){r=Ri(r);r.addClass=Mi(r.addClass,i);r.removeClass=Mi(r.removeClass,n);return t.push(e,"setClass",r)},animate:function(e,i,n,r,a){a=Ri(a);a.from=a.from?k(a.from,i):i;a.to=a.to?k(a.to,n):n;r=r||"ng-inline-animate";a.tempClasses=Mi(a.tempClasses,r);return t.push(e,"animate",a)}}}]}];var Di=function(){this.$get=["$$rAF",function(t){var e=[];function i(i){e.push(i);if(e.length>1)return;t(function(){for(var t=0;t<e.length;t++){e[t]()}e=[]})}return function(){var t=false;i(function(){t=true});return function(e){if(t){e()}else{i(e)}}}}]};var Ni=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,i,n,r){var a=0;var o=1;var s=2;u.chain=function(t,e){var i=0;n();function n(){if(i===t.length){e(true);return}t[i](function(t){if(t===false){e(false);return}i++;n()})}};u.all=function(t,e){var i=0;var n=true;S(t,function(t){t.done(r)});function r(r){n=n&&r;if(++i===t.length){e(n)}}};function u(t){this.setHost(t);var e=i();var a=function(t){r(t,0,false)};this._doneCallbacks=[];this._tick=function(t){if(n()){a(t)}else{e(t)}};this._state=0}u.prototype={setHost:function(t){this.host=t||{}},done:function(t){if(this._state===s){t()}else{this._doneCallbacks.push(t)}},progress:D,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,i){e.done(function(e){if(e===false){i()}else{t()}})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise()["catch"](t)},finally:function(t){return this.getPromise()["finally"](t)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(t){var e=this;if(e._state===a){e._state=o;e._tick(function(){e._resolve(t)})}},_resolve:function(t){if(this._state!==s){S(this._doneCallbacks,function(e){e(t)});this._doneCallbacks.length=0;this._state=s}}};return u}]};var $i=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,i){return function(e,n){var r=n||{};if(!r.$$prepared){r=dt(r)}if(r.cleanupStyles){r.from=r.to=null}if(r.from){e.css(r.from);r.from=null}var a,o=new i;return{start:s,end:s};function s(){t(function(){u();if(!a){o.complete()}a=true});return o}function u(){if(r.addClass){e.addClass(r.addClass);r.addClass=null}if(r.removeClass){e.removeClass(r.removeClass);r.removeClass=null}if(r.to){e.css(r.to);r.to=null}}}}]};function Li(t,e,i,n){var r=this,a=t.location,o=t.history,s=t.setTimeout,u=t.clearTimeout,l={};r.isMock=false;var c=0;var h=[];r.$$completeOutstandingRequest=d;r.$$incOutstandingRequestCount=function(){c++};function d(t){try{t.apply(null,_t(arguments,1))}finally{c--;if(c===0){while(h.length){try{h.pop()()}catch(t){i.error(t)}}}}}function p(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}r.notifyWhenNoOutstandingRequests=function(t){if(c===0){t()}else{h.push(t)}};var v,g,m=a.href,y=e.find("base"),_=null,b=!n.history?D:function t(){try{return o.state}catch(t){}};T();r.url=function(e,i,s){if(F(s)){s=null}if(a!==t.location)a=t.location;if(o!==t.history)o=t.history;if(e){var u=g===s;if(m===e&&(!n.history||u)){return r}var l=m&&Wn(m)===Wn(e);m=e;g=s;if(n.history&&(!l||!u)){o[i?"replaceState":"pushState"](s,"",e);T()}else{if(!l){_=e}if(i){a.replace(e)}else if(!l){a.href=e}else{a.hash=p(e)}if(a.href!==e){_=e}}if(_){_=e}return r}else{return _||a.href}};r.state=function(){return v};var w=[],O=false;function x(){_=null;E()}var C=null;function T(){v=b();v=F(v)?null:v;if(vt(v,C)){v=C}C=v;g=v}function E(){var t=g;T();if(m===r.url()&&t===v){return}m=r.url();g=v;S(w,function(t){t(r.url(),v)})}r.onUrlChange=function(e){if(!O){if(n.history)f(t).on("popstate",x);f(t).on("hashchange",x);O=true}w.push(e);return e};r.$$applicationDestroyed=function(){f(t).off("hashchange popstate",x)};r.$$checkUrlChange=E;r.baseHref=function(){var t=y.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""};r.defer=function(t,e){var i;c++;i=s(function(){delete l[i];d(t)},e||0);l[i]=true;return i};r.defer.cancel=function(t){if(l[t]){delete l[t];u(t);d(D);return true}return false}}function Fi(){this.$get=["$window","$log","$sniffer","$document",function(t,e,i,n){return new Li(t,n,e,i)}]}function Gi(){this.$get=function(){var t={};function e(e,i){if(e in t){throw a("$cacheFactory")("iid","CacheId '{0}' is already taken!",e)}var n=0,r=k({},i,{id:e}),o=Zt(),s=i&&i.capacity||Number.MAX_VALUE,u=Zt(),l=null,c=null;return t[e]={put:function(t,e){if(F(e))return;if(s<Number.MAX_VALUE){var i=u[t]||(u[t]={key:t});h(i)}if(!(t in o))n++;o[t]=e;if(n>s){this.remove(c.key)}return e},get:function(t){if(s<Number.MAX_VALUE){var e=u[t];if(!e)return;h(e)}return o[t]},remove:function(t){if(s<Number.MAX_VALUE){var e=u[t];if(!e)return;if(e===l)l=e.p;if(e===c)c=e.n;f(e.n,e.p);delete u[t]}if(!(t in o))return;delete o[t];n--},removeAll:function(){o=Zt();n=0;u=Zt();l=c=null},destroy:function(){o=null;r=null;u=null;delete t[e]},info:function(){return k({},r,{size:n})}};function h(t){if(t!==l){if(!c){c=t}else if(c===t){c=t.n}f(t.n,t.p);f(t,l);l=t;l.n=null}}function f(t,e){if(t!==e){if(t)t.p=e;if(e)e.n=t}}}e.info=function(){var e={};S(t,function(t,i){e[i]=t.info()});return e};e.get=function(e){return t[e]};return e}}function Ui(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var Hi=a("$compile");function Wi(){}var Yi=new Wi;zi.$inject=["$provide","$$sanitizeUriProvider"];function zi(t,i){var n={},r="Directive",a=/^\s*directive:\s*([\w-]+)\s+(.*)$/,o=/(([\w-]+)(?::([^;]+))?;?)/,s=lt("ngSrc,ngSrcset,src,srcset"),c=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var d=/^(on[a-z]+|formaction)$/;var p=Zt();function v(t,e,i){var n=/^([@&<]|=(\*?))(\??)\s*([\w$]*)$/;var r=Zt();S(t,function(t,a){t=t.trim();if(t in p){r[a]=p[t];return}var o=t.match(n);if(!o){throw Hi("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",e,a,t,i?"controller bindings definition":"isolate scope definition")}r[a]={mode:o[1][0],collection:o[2]==="*",optional:o[3]==="?",attrName:o[4]||a};if(o[4]){p[t]=r[a]}});return r}function g(t,e){var i={isolateScope:null,bindToController:null};if(U(t.scope)){if(t.bindToController===true){i.bindToController=v(t.scope,e,true);i.isolateScope={}}else{i.isolateScope=v(t.scope,e,false)}}if(U(t.bindToController)){i.bindToController=v(t.bindToController,e,true)}if(i.bindToController&&!t.controller){throw Hi("noctrl","Cannot bind to controller without directive '{0}'s controller.",e)}return i}function y(t){var e=t.charAt(0);if(!e||e!==l(e)){throw Hi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t)}if(t!==t.trim()){throw Hi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}}function _(t){var e=t.require||t.controller&&t.name;if(!V(e)&&U(e)){S(e,function(t,i){var n=t.match(c);var r=t.substring(n[0].length);if(!r)e[i]=n[0]+i})}return e}function b(t,e){if(t&&!(W(t)&&/[EACM]/.test(t))){throw Hi("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e)}return t||"EA"}this.directive=function e(i,a){Vt(i,"name");qt(i,"directive");if(W(i)){y(i);Vt(a,"directiveFactory");if(!n.hasOwnProperty(i)){n[i]=[];t.factory(i+r,["$injector","$exceptionHandler",function(t,e){var r=[];S(n[i],function(n,a){try{var o=t.invoke(n);if(q(o)){o={compile:$(o)}}else if(!o.compile&&o.link){o.compile=$(o.link)}o.priority=o.priority||0;o.index=a;o.name=o.name||i;o.require=_(o);o.restrict=b(o.restrict,i);o.$$moduleName=n.$$moduleName;r.push(o)}catch(t){e(t)}});return r}])}n[i].push(a)}else{S(i,T(e))}return this};this.component=function t(e,i){if(!W(e)){S(e,T(bt(this,t)));return this}var n=i.controller||function(){};function r(t){function e(e){if(q(e)||V(e)){return function(i,n){return t.invoke(e,this,{$element:i,$attrs:n})}}else{return e}}var r=!i.template&&!i.templateUrl?"":i.template;var a={controller:n,controllerAs:nn(i.controller)||i.controllerAs||"$ctrl",template:e(r),templateUrl:e(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};S(i,function(t,e){if(e.charAt(0)==="$")a[e]=t});return a}S(i,function(t,e){if(e.charAt(0)==="$"){r[e]=t;if(q(n))n[e]=t}});r.$inject=["$injector"];return this.directive(e,r)};this.aHrefSanitizationWhitelist=function(t){if(G(t)){i.aHrefSanitizationWhitelist(t);return this}else{return i.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(t){if(G(t)){i.imgSrcSanitizationWhitelist(t);return this}else{return i.imgSrcSanitizationWhitelist()}};var w=true;this.debugInfoEnabled=function(t){if(G(t)){w=t;return this}return w};var O=false;this.strictComponentBindingsEnabled=function(t){if(G(t)){O=t;return this}return O};var x=10;this.onChangesTtl=function(t){if(arguments.length){x=t;return this}return x};var C=true;this.commentDirectivesEnabled=function(t){if(arguments.length){C=t;return this}return C};var E=true;this.cssClassDirectivesEnabled=function(t){if(arguments.length){E=t;return this}return E};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,i,p,v,y,_,b,T,M){var j=/^\w/;var R=e.document.createElement("div");var A=C;var I=E;var $=x;var L;function G(){try{if(!--$){L=undefined;throw Hi("infchng","{0} $onChanges() iterations reached. Aborting!\n",x)}b.$apply(function(){for(var t=0,e=L.length;t<e;++t){try{L[t]()}catch(t){p(t)}}L=undefined})}finally{$++}}function H(t,e){if(e){var i=Object.keys(e);var n,r,a;for(n=0,r=i.length;n<r;n++){a=i[n];this[a]=e[a]}}else{this.$attr={}}this.$$element=t}H.prototype={$normalize:Ki,$addClass:function(t){if(t&&t.length>0){M.addClass(this.$$element,t)}},$removeClass:function(t){if(t&&t.length>0){M.removeClass(this.$$element,t)}},$updateClass:function(t,e){var i=Qi(t,e);if(i&&i.length){M.addClass(this.$$element,i)}var n=Qi(e,t);if(n&&n.length){M.removeClass(this.$$element,n)}},$set:function(t,e,i,n){var r=this.$$element[0],a=ii(r,t),o=ni(t),s=t,u;if(a){this.$$element.prop(t,e);n=a}else if(o){this[o]=e;s=o}this[t]=e;if(n){this.$attr[t]=n}else{n=this.$attr[t];if(!n){this.$attr[t]=n=Wt(t,"-")}}u=ct(this.$$element);if(u==="img"&&t==="srcset"&&e){if(!W(e)){throw Hi("srcset","Can't pass trusted values to `$set('srcset', value)`: \"{0}\"",e.toString())}var l="";var c=ot(e);var h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var f=/\s/.test(c)?h:/(,)/;var d=c.split(f);var v=Math.floor(d.length/2);for(var g=0;g<v;g++){var m=g*2;l+=T.getTrustedMediaUrl(ot(d[m]));l+=" "+ot(d[m+1])}var y=ot(d[g*2]).split(/\s/);l+=T.getTrustedMediaUrl(ot(y[0]));if(y.length===2){l+=" "+ot(y[1])}this[t]=e=l}if(i!==false){if(e===null||F(e)){this.$$element.removeAttr(n)}else{if(j.test(n)){this.$$element.attr(n,e)}else{Y(this.$$element[0],n,e)}}}var _=this.$$observers;if(_){S(_[s],function(t){try{t(e)}catch(t){p(t)}})}},$observe:function(t,e){var i=this,n=i.$$observers||(i.$$observers=Zt()),r=n[t]||(n[t]=[]);r.push(e);b.$evalAsync(function(){if(!r.$$inter&&i.hasOwnProperty(t)&&!F(i[t])){e(i[t])}});return function(){ft(r,e)}}};function Y(t,e,i){R.innerHTML="<span "+e+">";var n=R.firstChild.attributes;var r=n[0];n.removeNamedItem(r.name);r.value=i;t.attributes.setNamedItem(r)}function z(t,e){try{t.addClass(e)}catch(t){}}var K=i.startSymbol(),X=i.endSymbol(),Q=K==="{{"&&X==="}}"?N:function t(e){return e.replace(/\{\{/g,K).replace(/}}/g,X)},J=/^ngAttr[A-Z]/;var tt=/^(.+)Start$/;it.$$addBindingInfo=w?function t(e,i){var n=e.data("$binding")||[];if(V(i)){n=n.concat(i)}else{n.push(i)}e.data("$binding",n)}:D;it.$$addBindingClass=w?function t(e){z(e,"ng-binding")}:D;it.$$addScopeInfo=w?function t(e,i,n,r){var a=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(a,i)}:D;it.$$addScopeClass=w?function t(e,i){z(e,i?"ng-isolate-scope":"ng-scope")}:D;it.$$createComment=function(t,i){var n="";if(w){n=" "+(t||"")+": ";if(i)n+=i+" "}return e.document.createComment(n)};return it;function it(t,e,i,n,r){if(!(t instanceof f)){t=f(t)}var a=rt(t,e,t,i,n,r);it.$$addScopeClass(t);var o=null;return function e(i,n,s){if(!t){throw Hi("multilink","This element has already been linked.")}Vt(i,"scope");if(r&&r.needsNewScope){i=i.$parent.$new()}s=s||{};var u=s.parentBoundTranscludeFn,l=s.transcludeControllers,c=s.futureParentElement;if(u&&u.$$boundTransclude){u=u.$$boundTransclude}if(!o){o=nt(c)}var h;if(o!=="html"){h=f(Rt(o,f("<div></div>").append(t).html()))}else if(n){h=Qe.clone.call(t)}else{h=t}if(l){for(var d in l){h.data("$"+d+"Controller",l[d].instance)}}it.$$addScopeInfo(h,i);if(n)n(h,i);if(a)a(i,h,h,u);if(!n){t=a=null}return h}}function nt(t){var e=t&&t[0];if(!e){return"html"}else{return ct(e)!=="foreignobject"&&m.call(e).match(/SVG/)?"svg":"html"}}function rt(t,e,i,n,r,a){var o=[],s=V(t)||t instanceof f,u,l,c,d,p,v,g;for(var m=0;m<t.length;m++){u=new H;if(h===11){at(t,m,s)}l=ut(t[m],[],u,m===0?n:undefined,r);c=l.length?mt(l,t[m],u,e,i,null,[],[],a):null;if(c&&c.scope){it.$$addScopeClass(u.$$element)}p=c&&c.terminal||!(d=t[m].childNodes)||!d.length?null:rt(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e);if(c||p){o.push(m,c,p);v=true;g=g||c}a=null}return v?y:null;function y(t,i,n,r){var a,s,u,l,c,h,d,p;var v;if(g){var m=i.length;v=new Array(m);for(c=0;c<o.length;c+=3){d=o[c];v[d]=i[d]}}else{v=i}for(c=0,h=o.length;c<h;){u=v[o[c++]];a=o[c++];s=o[c++];if(a){if(a.scope){l=t.$new();it.$$addScopeInfo(f(u),l)}else{l=t}if(a.transcludeOnThisElement){p=st(t,a.transclude,r)}else if(!a.templateOnThisElement&&r){p=r}else if(!r&&e){p=st(t,e)}else{p=null}a(s,l,u,n,p)}else if(s){s(t,u.childNodes,undefined,r)}}}}function at(t,e,i){var n=t[e];var r=n.parentNode;var a;if(n.nodeType!==ee){return}while(true){a=r?n.nextSibling:t[e+1];if(!a||a.nodeType!==ee){break}n.nodeValue=n.nodeValue+a.nodeValue;if(a.parentNode){a.parentNode.removeChild(a)}if(i&&a===t[e+1]){t.splice(e+1,1)}}}function st(t,e,i){function n(n,r,a,o,s){if(!n){n=t.$new(false,s);n.$$transcluded=true}return e(n,r,{parentBoundTranscludeFn:i,transcludeControllers:a,futureParentElement:o})}var r=n.$$slots=Zt();for(var a in e.$$slots){if(e.$$slots[a]){r[a]=st(t,e.$$slots[a],i)}else{r[a]=null}}return n}function ut(t,e,i,n,r){var a=t.nodeType,s=i.$attr,u,l,c;switch(a){case Jt:l=ct(t);xt(e,Ki(l),"E",n,r);for(var h,f,d,p,v,g,m=t.attributes,y=0,_=m&&m.length;y<_;y++){var b=false;var w=false;h=m[y];f=h.name;v=h.value;p=Ki(f);g=J.test(p);if(g){f=f.replace(Bi,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()})}var O=p.match(tt);if(O&&St(O[1])){b=f;w=f.substr(0,f.length-5)+"end";f=f.substr(0,f.length-6)}d=Ki(f.toLowerCase());s[d]=f;if(g||!i.hasOwnProperty(d)){i[d]=v;if(ii(t,d)){i[d]=true}}It(t,e,v,d,g);xt(e,d,"A",n,r,b,w)}if(l==="input"&&t.getAttribute("type")==="hidden"){t.setAttribute("autocomplete","off")}if(!I)break;c=t.className;if(U(c)){c=c.animVal}if(W(c)&&c!==""){while(u=o.exec(c)){d=Ki(u[2]);if(xt(e,d,"C",n,r)){i[d]=ot(u[3])}c=c.substr(u.index+u[0].length)}}break;case ee:kt(e,t.nodeValue);break;case ie:if(!A)break;lt(t,e,i,n,r);break}e.sort(Et);return e}function lt(t,e,i,n,r){try{var o=a.exec(t.nodeValue);if(o){var s=Ki(o[1]);if(xt(e,s,"M",n,r)){i[s]=ot(o[2])}}}catch(t){}}function ht(t,e,i){var n=[];var r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t){throw Hi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,i)}if(t.nodeType===Jt){if(t.hasAttribute(e))r++;if(t.hasAttribute(i))r--}n.push(t);t=t.nextSibling}while(r>0)}else{n.push(t)}return f(n)}function dt(t,e,i){return function n(r,a,o,s,u){a=ht(a[0],e,i);return t(r,a,o,s,u)}}function gt(t,e,i,n,r,a){var o;if(t){return it(e,i,n,r,a)}return function t(){if(!o){o=it(e,i,n,r,a);e=i=a=null}return o.apply(this,arguments)}}function mt(t,e,i,n,r,a,o,s,u){u=u||{};var l=-Number.MAX_VALUE,c=u.newScopeDirective,h=u.controllerDirectives,d=u.newIsolateScopeDirective,v=u.templateDirective,g=u.nonTlbTranscludeDirective,m=false,y=false,_=u.hasElementTranscludeDirective,b=i.$$element=f(e),w,O,x,C=a,T=n,E,M=false,j=false,R;for(var A=0,I=t.length;A<I;A++){w=t[A];var P=w.$$start;var D=w.$$end;if(P){b=ht(e,P,D)}x=undefined;if(l>w.priority){break}R=w.scope;if(R){if(!w.templateUrl){if(U(R)){jt("new/isolated scope",d||c,w,b);d=w}else{jt("new/isolated scope",d,w,b)}}c=c||w}O=w.name;if(!M&&(w.replace&&(w.templateUrl||w.template)||w.transclude&&!w.$$tlb)){var N;for(var $=A+1;N=t[$++];){if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){j=true;break}}M=true}if(!w.templateUrl&&w.controller){h=h||Zt();jt("'"+O+"' controller",h[O],w,b);h[O]=w}R=w.transclude;if(R){m=true;if(!w.$$tlb){jt("transclusion",g,w,b);g=w}if(R==="element"){_=true;l=w.priority;x=b;b=i.$$element=f(it.$$createComment(O,i[O]));e=b[0];Pt(r,_t(x),e);T=gt(j,x,n,l,C&&C.name,{nonTlbTranscludeDirective:g})}else{var L=Zt();if(!U(R)){x=f(Pe(e)).contents()}else{x=[];var G=Zt();var W=Zt();S(R,function(t,e){var i=t.charAt(0)==="?";t=i?t.substring(1):t;G[t]=e;L[e]=null;W[e]=i});S(b.contents(),function(t){var e=G[Ki(ct(t))];if(e){W[e]=true;L[e]=L[e]||[];L[e].push(t)}else{x.push(t)}});S(W,function(t,e){if(!t){throw Hi("reqslot","Required transclusion slot `{0}` was not filled.",e)}});for(var Y in L){if(L[Y]){L[Y]=gt(j,L[Y],n)}}}b.empty();T=gt(j,x,n,undefined,undefined,{needsNewScope:w.$$isolateScope||w.$$newScope});T.$$slots=L}}if(w.template){y=true;jt("template",v,w,b);v=w;R=q(w.template)?w.template(b,i):w.template;R=Q(R);if(w.replace){C=w;if(Te(R)){x=[]}else{x=Ji(Rt(w.templateNamespace,ot(R)))}e=x[0];if(x.length!==1||e.nodeType!==Jt){throw Hi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",O,"")}Pt(r,b,e);var z={$attr:{}};var B=ut(e,[],z);var K=t.splice(A+1,t.length-(A+1));if(d||c){Ot(B,d,c)}t=t.concat(B).concat(K);Ct(i,z);I=t.length}else{b.html(R)}}if(w.templateUrl){y=true;jt("template",v,w,b);v=w;if(w.replace){C=w}tt=Tt(t.splice(A,t.length-A),b,i,r,m&&T,o,s,{controllerDirectives:h,newScopeDirective:c!==w&&c,newIsolateScopeDirective:d,templateDirective:v,nonTlbTranscludeDirective:g});I=t.length}else if(w.compile){try{E=w.compile(b,i,T);var X=w.$$originalDirective||w;if(q(E)){J(null,bt(X,E),P,D)}else if(E){J(bt(X,E.pre),bt(X,E.post),P,D)}}catch(t){p(t,Mt(b))}}if(w.terminal){tt.terminal=true;l=Math.max(l,w.priority)}}tt.scope=c&&c.scope===true;tt.transcludeOnThisElement=m;tt.templateOnThisElement=y;tt.transclude=T;u.hasElementTranscludeDirective=_;return tt;function J(t,e,i,n){if(t){if(i)t=dt(t,i,n);t.require=w.require;t.directiveName=O;if(d===w||w.$$isolateScope){t=Dt(t,{isolateScope:true})}o.push(t)}if(e){if(i)e=dt(e,i,n);e.require=w.require;e.directiveName=O;if(d===w||w.$$isolateScope){e=Dt(e,{isolateScope:true})}s.push(e)}}function tt(t,n,r,a,u){var l,g,m,y,b,w,O,x,C,T;if(e===r){C=i;x=i.$$element}else{x=f(r);C=new H(x,i)}b=n;if(d){y=n.$new(true)}else if(c){b=n.$parent}if(u){O=I;O.$$boundTransclude=u;O.isSlotFilled=function(t){return!!u.$$slots[t]}}if(h){w=wt(x,C,O,h,y,n,d)}if(d){it.$$addScopeInfo(x,y,true,!(v&&(v===d||v===d.$$originalDirective)));it.$$addScopeClass(x,true);y.$$isolateBindings=d.$$isolateBindings;T=Lt(n,C,y,y.$$isolateBindings,d);if(T.removeWatches){y.$on("$destroy",T.removeWatches)}}for(var E in w){var M=h[E];var j=w[E];var R=M.$$bindings.bindToController;j.instance=j();x.data("$"+M.name+"Controller",j.instance);j.bindingInfo=Lt(b,C,j.instance,R,M)}S(h,function(t,e){var i=t.require;if(t.bindToController&&!V(i)&&U(i)){k(w[e].instance,yt(e,i,x,w))}});S(w,function(t){var e=t.instance;if(q(e.$onChanges)){try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){p(t)}}if(q(e.$onInit)){try{e.$onInit()}catch(t){p(t)}}if(q(e.$doCheck)){b.$watch(function(){e.$doCheck()});e.$doCheck()}if(q(e.$onDestroy)){b.$on("$destroy",function t(){e.$onDestroy()})}});for(l=0,g=o.length;l<g;l++){m=o[l];Nt(m,m.isolateScope?y:n,x,C,m.require&&yt(m.directiveName,m.require,x,w),O)}var A=n;if(d&&(d.template||d.templateUrl===null)){A=y}if(t){t(A,r.childNodes,undefined,u)}for(l=s.length-1;l>=0;l--){m=s[l];Nt(m,m.isolateScope?y:n,x,C,m.require&&yt(m.directiveName,m.require,x,w),O)}S(w,function(t){var e=t.instance;if(q(e.$postLink)){e.$postLink()}});function I(t,e,i,n){var r;if(!Z(t)){n=i;i=e;e=t;t=undefined}if(_){r=w}if(!i){i=_?x.parent():x}if(n){var a=u.$$slots[n];if(a){return a(t,e,r,i,A)}else if(F(a)){throw Hi("noslot",'No parent directive that requires a transclusion with slot name "{0}". '+"Element: {1}",n,Mt(x))}}else{return u(t,e,r,i,A)}}}}function yt(t,e,i,n){var r;if(W(e)){var a=e.match(c);var o=e.substring(a[0].length);var s=a[1]||a[3];var u=a[2]==="?";if(s==="^^"){i=i.parent()}else{r=n&&n[o];r=r&&r.instance}if(!r){var l="$"+o+"Controller";r=s?i.inheritedData(l):i.data(l)}if(!r&&!u){throw Hi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,t)}}else if(V(e)){r=[];for(var h=0,f=e.length;h<f;h++){r[h]=yt(t,e[h],i,n)}}else if(U(e)){r={};S(e,function(e,a){r[a]=yt(t,e,i,n)})}return r||null}function wt(t,e,i,n,r,a,o){var s=Zt();for(var u in n){var l=n[u];var c={$scope:l===o||l.$$isolateScope?r:a,$element:t,$attrs:e,$transclude:i};var h=l.controller;if(h==="@"){h=e[l.name]}var f=_(h,c,true,l.controllerAs);s[l.name]=f;t.data("$"+l.name+"Controller",f.instance)}return s}function Ot(t,e,i){for(var n=0,r=t.length;n<r;n++){t[n]=P(t[n],{$$isolateScope:e,$$newScope:i})}}function xt(e,i,a,o,s,u,l){if(i===s)return null;var c=null;if(n.hasOwnProperty(i)){for(var h,f=t.get(i+r),d=0,p=f.length;d<p;d++){h=f[d];if((F(o)||o>h.priority)&&h.restrict.indexOf(a)!==-1){if(u){h=P(h,{$$start:u,$$end:l})}if(!h.$$bindings){var v=h.$$bindings=g(h,h.name);if(U(v.isolateScope)){h.$$isolateBindings=v.isolateScope}}e.push(h);c=h}}}return c}function St(e){if(n.hasOwnProperty(e)){for(var i,a=t.get(e+r),o=0,s=a.length;o<s;o++){i=a[o];if(i.multiElement){return true}}}return false}function Ct(t,e){var i=e.$attr,n=t.$attr;S(t,function(n,r){if(r.charAt(0)!=="$"){if(e[r]&&e[r]!==n){if(n.length){n+=(r==="style"?";":" ")+e[r]}else{n=e[r]}}t.$set(r,n,true,i[r])}});S(e,function(e,r){if(!t.hasOwnProperty(r)&&r.charAt(0)!=="$"){t[r]=e;if(r!=="class"&&r!=="style"){n[r]=i[r]}}})}function Tt(t,e,i,n,r,a,o,s){var u=[],l,c,h=e[0],d=t.shift(),g=P(d,{templateUrl:null,transclude:null,replace:null,$$originalDirective:d}),m=q(d.templateUrl)?d.templateUrl(e,i):d.templateUrl,y=d.templateNamespace;e.empty();v(m).then(function(p){var v,_,b,w;p=Q(p);if(d.replace){if(Te(p)){b=[]}else{b=Ji(Rt(y,ot(p)))}v=b[0];if(b.length!==1||v.nodeType!==Jt){throw Hi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d.name,m)}_={$attr:{}};Pt(n,e,v);var O=ut(v,[],_);if(U(d.scope)){Ot(O,true)}t=O.concat(t);Ct(i,_)}else{v=h;e.html(p)}t.unshift(g);l=mt(t,v,i,r,e,d,a,o,s);S(n,function(t,i){if(t===v){n[i]=e[0]}});c=rt(e[0].childNodes,r);while(u.length){var x=u.shift(),C=u.shift(),T=u.shift(),E=u.shift(),M=e[0];if(x.$$destroyed)continue;if(C!==h){var j=C.className;if(!(s.hasElementTranscludeDirective&&d.replace)){M=Pe(v)}Pt(T,f(C),M);z(f(M),j)}if(l.transcludeOnThisElement){w=st(x,l.transclude,E)}else{w=E}l(c,x,M,n,w)}u=null}).catch(function(t){if(B(t)){p(t)}});return function t(e,i,n,r,a){var o=a;if(i.$$destroyed)return;if(u){u.push(i,n,r,o)}else{if(l.transcludeOnThisElement){o=st(i,l.transclude,a)}l(c,i,n,r,o)}}}function Et(t,e){var i=e.priority-t.priority;if(i!==0)return i;if(t.name!==e.name)return t.name<e.name?-1:1;return t.index-e.index}function jt(t,e,i,n){function r(t){return t?" (module: "+t+")":""}if(e){throw Hi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),i.name,r(i.$$moduleName),t,Mt(n))}}function kt(t,e){var n=i(e,true);if(n){t.push({priority:0,compile:function t(e){var i=e.parent(),r=!!i.length;if(r)it.$$addBindingClass(i);return function t(e,i){var a=i.parent();if(!r)it.$$addBindingClass(a);it.$$addBindingInfo(a,n.expressions);e.$watch(n,function t(e){i[0].nodeValue=e})}}})}}function Rt(t,i){t=l(t||"html");switch(t){case"svg":case"math":var n=e.document.createElement("div");n.innerHTML="<"+t+">"+i+"</"+t+">";return n.childNodes[0].childNodes;default:return i}}function At(t,e){if(e==="srcdoc"){return T.HTML}var i=ct(t);if(e==="src"||e==="ngSrc"){if(["img","video","audio","source","track"].indexOf(i)===-1){return T.RESOURCE_URL}return T.MEDIA_URL}else if(e==="xlinkHref"){if(i==="image")return T.MEDIA_URL;if(i==="a")return T.URL;return T.RESOURCE_URL}else if(i==="form"&&e==="action"||i==="base"&&e==="href"||i==="link"&&e==="href"){return T.RESOURCE_URL}else if(i==="a"&&(e==="href"||e==="ngHref")){return T.URL}}function It(t,e,n,r,a){var o=At(t,r);var u=!a;var l=s[r]||a;var c=i(n,u,o,l);if(!c)return;if(r==="multiple"&&ct(t)==="select"){throw Hi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Mt(t))}if(d.test(r)){throw Hi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the "+"ng- versions (such as ng-click instead of onclick) instead.")}e.push({priority:100,compile:function(){return{pre:function t(e,a,s){var u=s.$$observers||(s.$$observers=Zt());var h=s[r];if(h!==n){c=h&&i(h,true,o,l);n=h}if(!c)return;s[r]=c(e);(u[r]||(u[r]=[])).$$inter=true;(s.$$observers&&s.$$observers[r].$$scope||e).$watch(c,function t(e,i){if(r==="class"&&e!==i){s.$updateClass(e,i)}else{s.$set(r,e)}})}}}})}function Pt(t,i,n){var r=i[0],a=i.length,o=r.parentNode,s,u;if(t){for(s=0,u=t.length;s<u;s++){if(t[s]===r){t[s++]=n;for(var l=s,c=l+a-1,h=t.length;l<h;l++,c++){if(c<h){t[l]=t[c]}else{delete t[l]}}t.length-=a-1;if(t.context===r){t.context=n}break}}}if(o){o.replaceChild(n,r)}var d=e.document.createDocumentFragment();for(s=0;s<a;s++){d.appendChild(i[s])}if(f.hasData(r)){f.data(n,f.data(r));f(r).off("$destroy")}f.cleanData(d.querySelectorAll("*"));for(s=1;s<a;s++){delete i[s]}i[0]=n;i.length=1}function Dt(t,e){return k(function(){return t.apply(null,arguments)},t,e)}function Nt(t,e,i,n,r,a){try{t(e,i,n,r,a)}catch(t){p(t,Mt(i))}}function $t(t,e){if(O){throw Hi("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}}function Lt(t,e,n,r,a){var o=[];var s={};var l;S(r,function r(l,h){var f=l.attrName,d=l.optional,p=l.mode,v,g,m,_,b;switch(p){case"@":if(!d&&!u.call(e,f)){$t(f,a.name);n[h]=e[f]=undefined}b=e.$observe(f,function(t){if(W(t)||et(t)){var e=n[h];c(h,t,e);n[h]=t}});e.$$observers[f].$$scope=t;v=e[f];if(W(v)){n[h]=i(v)(t)}else if(et(v)){n[h]=v}s[h]=new Vi(Yi,n[h]);o.push(b);break;case"=":if(!u.call(e,f)){if(d)break;$t(f,a.name);e[f]=undefined}if(d&&!e[f])break;g=y(e[f]);if(g.literal){_=vt}else{_=pt}m=g.assign||function(){v=n[h]=g(t);throw Hi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[f],f,a.name)};v=n[h]=g(t);var w=function e(i){if(!_(i,n[h])){if(!_(i,v)){n[h]=i}else{m(t,i=n[h])}}v=i;return v};w.$stateful=true;if(l.collection){b=t.$watchCollection(e[f],w)}else{b=t.$watch(y(e[f],w),null,g.literal)}o.push(b);break;case"<":if(!u.call(e,f)){if(d)break;$t(f,a.name);e[f]=undefined}if(d&&!e[f])break;g=y(e[f]);var O=g.literal;var x=n[h]=g(t);s[h]=new Vi(Yi,n[h]);b=t.$watch(g,function t(e,i){if(i===e){if(i===x||O&&vt(i,x)){return}i=x}c(h,e,i);n[h]=e});o.push(b);break;case"&":if(!d&&!u.call(e,f)){$t(f,a.name)}g=e.hasOwnProperty(f)?y(e[f]):D;if(g===D&&d)break;n[h]=function(e){return g(t,e)};break}});function c(e,i,r){if(q(n.$onChanges)&&!pt(i,r)){if(!L){t.$$postDigest(G);L=[]}if(!l){l={};L.push(h)}if(l[e]){r=l[e].previousValue}l[e]=new Vi(r,i)}}function h(){n.$onChanges(l);l=undefined}return{initialChanges:s,removeWatches:o.length&&function t(){for(var e=0,i=o.length;e<i;++e){o[e]()}}}}}]}function Vi(t,e){this.previousValue=t;this.currentValue=e}Vi.prototype.isFirstChange=function(){return this.previousValue===Yi};var Bi=/^((?:x|data)[:\-_])/i;var qi=/[:\-_]+(.)/g;function Ki(t){return t.replace(Bi,"").replace(qi,function(t,e,i){return i?e.toUpperCase():e})}function Xi(t,e,i,n){}function Zi(t,e,i,n,r){}function Qi(t,e){var i="",n=t.split(/\s+/),r=e.split(/\s+/);t:for(var a=0;a<n.length;a++){var o=n[a];for(var s=0;s<r.length;s++){if(o===r[s])continue t}i+=(i.length>0?" ":"")+o}return i}function Ji(t){t=f(t);var e=t.length;if(e<=1){return t}while(e--){var i=t[e];if(i.nodeType===ie||i.nodeType===ee&&i.nodeValue.trim()===""){v.call(t,e,1)}}return t}var tn=a("$controller");var en=/^(\S+)(\s+as\s+([\w$]+))?$/;function nn(t,e){if(e&&W(e))return e;if(W(t)){var i=en.exec(t);if(i)return i[3]}}function rn(){var t={};this.has=function(e){return t.hasOwnProperty(e)};this.register=function(e,i){qt(e,"controller");if(U(e)){k(t,e)}else{t[e]=i}};this.$get=["$injector",function(e){return function n(r,a,o,s){var u,l,c,h;o=o===true;if(s&&W(s)){h=s}if(W(r)){l=r.match(en);if(!l){throw tn("ctrlfmt","Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",r)}c=l[1];h=h||l[3];r=t.hasOwnProperty(c)?t[c]:Kt(a.$scope,c,true);if(!r){throw tn("ctrlreg","The controller with the name '{0}' is not registered.",c)}Bt(r,c,true)}if(o){var f=(V(r)?r[r.length-1]:r).prototype;u=Object.create(f||null);if(h){i(a,h,u,c||r.name)}return k(function t(){var n=e.invoke(r,u,a,c);if(n!==u&&(U(n)||q(n))){u=n;if(h){i(a,h,u,c||r.name)}}return u},{instance:u,identifier:h})}u=e.instantiate(r,a,c);if(h){i(a,h,u,c||r.name)}return u};function i(t,e,i,n){if(!(t&&U(t.$scope))){throw a("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",n,e)}t.$scope[e]=i}}]}function an(){this.$get=["$window",function(t){return f(t.document)}]}function on(){this.$get=["$document","$rootScope",function(t,e){var i=t[0];var n=i&&i.hidden;t.on("visibilitychange",r);e.$on("$destroy",function(){t.off("visibilitychange",r)});function r(){n=i.hidden}return function(){return n}}]}function sn(){this.$get=["$log",function(t){return function(e,i){t.error.apply(t,arguments)}}]}var un=function(){this.$get=["$document",function(t){return function(e){if(e){if(!e.nodeType&&e instanceof f){e=e[0]}}else{e=t[0].body}return e.offsetWidth+1}}]};var ln="application/json";var cn={"Content-Type":ln+";charset=utf-8"};var hn=/^\[|^\{(?!\{)/;var fn={"[":/]$/,"{":/}$/};var dn=/^\)]\}',?\n/;var pn=a("$http");function vn(t){if(U(t)){return z(t)?t.toISOString():Ot(t)}return t}function gn(){this.$get=function(){return function t(e){if(!e)return"";var i=[];C(e,function(t,e){if(t===null||F(t)||q(t))return;if(V(t)){S(t,function(t){i.push(It(e)+"="+It(vn(t)))})}else{i.push(It(e)+"="+It(vn(t)))}});return i.join("&")}}}function mn(){this.$get=function(){return function t(e){if(!e)return"";var i=[];n(e,"",true);return i.join("&");function n(t,e,r){if(V(t)){S(t,function(t,i){n(t,e+"["+(U(t)?i:"")+"]")})}else if(U(t)&&!z(t)){C(t,function(t,i){n(t,e+(r?"":"[")+i+(r?"":"]"))})}else{if(q(t)){t=t()}i.push(It(e)+"="+(t==null?"":It(vn(t))))}}}}}function yn(t,e){if(W(t)){var i=t.replace(dn,"").trim();if(i){var n=e("Content-Type");var r=n&&n.indexOf(ln)===0;if(r||_n(i)){try{t=xt(i)}catch(e){if(!r){return t}throw pn("baddata",'Data must be a valid JSON object. Received: "{0}". '+'Parse error: "{1}"',t,e)}}}}return t}function _n(t){var e=t.match(hn);return e&&fn[e[0]].test(t)}function bn(t){var e=Zt(),i;function n(t,i){if(t){e[t]=e[t]?e[t]+", "+i:i}}if(W(t)){S(t.split("\n"),function(t){i=t.indexOf(":");n(l(ot(t.substr(0,i))),ot(t.substr(i+1)))})}else if(U(t)){S(t,function(t,e){n(l(e),ot(t))})}return e}function wn(t){var e;return function(i){if(!e)e=bn(t);if(i){var n=e[l(i)];if(n===undefined){n=null}return n}return e}}function On(t,e,i,n){if(q(n)){return n(t,e,i)}S(n,function(n){t=n(t,e,i)});return t}function xn(t){return 200<=t&&t<300}function Sn(){var t=this.defaults={transformResponse:[yn],transformRequest:[function(t){return U(t)&&!Q(t)&&!tt(t)&&!J(t)?Ot(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:oe(cn),put:oe(cn),patch:oe(cn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"};var e=false;this.useApplyAsync=function(t){if(G(t)){e=!!t;return this}return e};var i=this.interceptors=[];var n=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,o,s,u,h,f,d,p){var v=u("$http");t.paramSerializer=W(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var g=[];S(i,function(t){g.unshift(W(t)?d.get(t):d.invoke(t))});var m=ta(n);function y(e){if(!U(e)){throw a("$http")("badreq","Http request configuration must be an object.  Received: {0}",e)}if(!W(p.valueOf(e.url))){throw a("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url)}var i=k({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},e);i.headers=m(e);i.method=c(i.method);i.paramSerializer=W(i.paramSerializer)?d.get(i.paramSerializer):i.paramSerializer;r.$$incOutstandingRequestCount();var n=[];var o=[];var s=f.resolve(i);S(g,function(t){if(t.request||t.requestError){n.unshift(t.request,t.requestError)}if(t.response||t.responseError){o.push(t.response,t.responseError)}});s=u(s,n);s=s.then(y);s=u(s,o);s=s.finally(h);return s;function u(t,e){for(var i=0,n=e.length;i<n;){var r=e[i++];var a=e[i++];t=t.then(r,a)}e.length=0;return t}function h(){r.$$completeOutstandingRequest(D)}function v(t,e){var i,n={};S(t,function(t,r){if(q(t)){i=t(e);if(i!=null){n[r]=i}}else{n[r]=t}});return n}function m(e){var i=t.headers,n=k({},e.headers),r,a,o;i=k({},i.common,i[l(e.method)]);t:for(r in i){a=l(r);for(o in n){if(l(o)===a){continue t}}n[r]=i[r]}return v(n,oe(e))}function y(e){var i=e.headers;var n=On(e.data,wn(i),undefined,e.transformRequest);if(F(n)){S(i,function(t,e){if(l(e)==="content-type"){delete i[e]}})}if(F(e.withCredentials)&&!F(t.withCredentials)){e.withCredentials=t.withCredentials}return w(e,n).then(_,_)}function _(t){var e=k({},t);e.data=On(t.data,t.headers,t.status,i.transformResponse);return xn(t.status)?e:f.reject(e)}}y.pendingRequests=[];_("get","delete","head","jsonp");b("post","put","patch");y.defaults=t;return y;function _(t){S(arguments,function(t){y[t]=function(e,i){return y(k({},i||{},{method:t,url:e}))}})}function b(t){S(arguments,function(t){y[t]=function(e,i,n){return y(k({},n||{},{method:t,url:e,data:i}))}})}function w(i,n){var r=f.defer(),a=r.promise,u,c,d=i.headers,g=l(i.method)==="jsonp",_=i.url;if(g){_=p.getTrustedResourceUrl(_)}else if(!W(_)){_=p.valueOf(_)}_=O(_,i.paramSerializer(i.params));if(g){_=x(_,i.jsonpCallbackParam)}y.pendingRequests.push(i);a.then(M,M);if((i.cache||t.cache)&&i.cache!==false&&(i.method==="GET"||i.method==="JSONP")){u=U(i.cache)?i.cache:U(t.cache)?t.cache:v}if(u){c=u.get(_);if(G(c)){if(it(c)){c.then(E,E)}else{if(V(c)){T(c[1],c[0],oe(c[2]),c[3],c[4])}else{T(c,200,{},"OK","complete")}}}else{u.put(_,a)}}if(F(c)){var b=m(i.url)?s()[i.xsrfCookieName||t.xsrfCookieName]:undefined;if(b){d[i.xsrfHeaderName||t.xsrfHeaderName]=b}o(i.method,_,n,C,d,i.timeout,i.withCredentials,i.responseType,w(i.eventHandlers),w(i.uploadEventHandlers))}return a;function w(t){if(t){var i={};S(t,function(t,n){i[n]=function(i){if(e){h.$applyAsync(n)}else if(h.$$phase){n()}else{h.$apply(n)}function n(){t(i)}}});return i}}function C(t,i,n,r,a){if(u){if(xn(t)){u.put(_,[t,i,bn(n),r,a])}else{u.remove(_)}}function o(){T(i,t,n,r,a)}if(e){h.$applyAsync(o)}else{o();if(!h.$$phase)h.$apply()}}function T(t,e,n,a,o){e=e>=-1?e:0;(xn(e)?r.resolve:r.reject)({data:t,status:e,headers:wn(n),config:i,statusText:a,xhrStatus:o})}function E(t){T(t.data,t.status,oe(t.headers()),t.statusText,t.xhrStatus)}function M(){var t=y.pendingRequests.indexOf(i);if(t!==-1)y.pendingRequests.splice(t,1)}}function O(t,e){if(e.length>0){t+=(t.indexOf("?")===-1?"?":"&")+e}return t}function x(t,e){var i=t.split("?");if(i.length>2){throw pn("badjsonp",'Illegal use more than one "?", in url, "{1}"',t)}var n=kt(i[1]);S(n,function(i,n){if(i==="JSON_CALLBACK"){throw pn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t)}if(n===e){throw pn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)}});t+=(t.indexOf("?")===-1?"?":"&")+e+"=JSON_CALLBACK";return t}}]}function Cn(){this.$get=function(){return function t(){return new e.XMLHttpRequest}}}function Tn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,i,n){return En(t,n,t.defer,e,i[0])}]}function En(t,e,i,n,r){return function(r,o,s,u,c,h,f,d,p,v){o=o||t.url();if(l(r)==="jsonp"){var g=n.createCallback(o);var m=a(o,g,function(t,e){var i=t===200&&n.getResponse(g);T(u,t,i,"",e,"complete");n.removeCallback(g)})}else{var y=e(r,o);var _=false;y.open(r,o,true);S(c,function(t,e){if(G(t)){y.setRequestHeader(e,t)}});y.onload=function t(){var e=y.statusText||"";var i="response"in y?y.response:y.responseText;var n=y.status===1223?204:y.status;if(n===0){n=i?200:Zr(o).protocol==="file"?404:0}T(u,n,i,y.getAllResponseHeaders(),e,"complete")};var b=function(){T(u,-1,null,null,"","error")};var w=function(){T(u,-1,null,null,"",_?"timeout":"abort")};var O=function(){T(u,-1,null,null,"","timeout")};y.onerror=b;y.ontimeout=O;y.onabort=w;S(p,function(t,e){y.addEventListener(e,t)});S(v,function(t,e){y.upload.addEventListener(e,t)});if(f){y.withCredentials=true}if(d){try{y.responseType=d}catch(t){if(d!=="json"){throw t}}}y.send(F(s)?null:s)}if(h>0){var x=i(function(){C("timeout")},h)}else if(it(h)){h.then(function(){C(G(h.$$timeoutId)?"timeout":"abort")})}function C(t){_=t==="timeout";if(m){m()}if(y){y.abort()}}function T(t,e,n,r,a,o){if(G(x)){i.cancel(x)}m=y=null;t(e,n,r,a,o)}};function a(t,e,i){t=t.replace("JSON_CALLBACK",e);var a=r.createElement("script"),o=null;a.type="text/javascript";a.src=t;a.async=true;o=function(t){a.removeEventListener("load",o);a.removeEventListener("error",o);r.body.removeChild(a);a=null;var s=-1;var u="unknown";if(t){if(t.type==="load"&&!n.wasCalled(e)){t={type:"error"}}u=t.type;s=t.type==="error"?404:200}if(i){i(s,u)}};a.addEventListener("load",o);a.addEventListener("error",o);r.body.appendChild(a);return o}}var Mn=b.$interpolateMinErr=a("$interpolate");Mn.throwNoconcat=function(t){throw Mn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",t)};Mn.interr=function(t,e){return Mn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};function jn(){var t="{{";var e="}}";this.startSymbol=function(e){if(e){t=e;return this}return t};this.endSymbol=function(t){if(t){e=t;return this}return e};this.$get=["$parse","$exceptionHandler","$sce",function(i,n,r){var a=t.length,o=e.length,s=new RegExp(t.replace(/./g,l),"g"),u=new RegExp(e.replace(/./g,l),"g");function l(t){return"\\\\\\"+t}function c(i){return i.replace(s,t).replace(u,e)}function h(t,e,i,n){var r=t.$watch(function t(e){r();return n(e)},e,i);return r}function f(s,u,l,f){var d=l===r.URL||l===r.MEDIA_URL;if(!s.length||s.indexOf(t)===-1){if(u&&!d)return;var p=c(s);if(d){p=r.getTrusted(l,p)}var v=$(p);v.exp=s;v.expressions=[];v.$$watchDelegate=h;return v}f=!!f;var g,m,y=0,_=[],b,w=s.length,O,x=[],S=[],C;while(y<w){if((g=s.indexOf(t,y))!==-1&&(m=s.indexOf(e,g+a))!==-1){if(y!==g){x.push(c(s.substring(y,g)))}O=s.substring(g+a,m);_.push(O);y=m+o;S.push(x.length);x.push("")}else{if(y!==w){x.push(c(s.substring(y)))}break}}C=x.length===1&&S.length===1;var T=d&&C?undefined:M;b=_.map(function(t){return i(t,T)});if(!u||_.length){var E=function(t){for(var e=0,i=_.length;e<i;e++){if(f&&F(t[e]))return;x[S[e]]=t[e]}if(d){return r.getTrusted(l,C?x[0]:x.join(""))}else if(l&&x.length>1){Mn.throwNoconcat(s)}return x.join("")};return k(function t(e){var i=0;var r=_.length;var a=new Array(r);try{for(;i<r;i++){a[i]=b[i](e)}return E(a)}catch(t){n(Mn.interr(s,t))}},{exp:s,expressions:_,$$watchDelegate:function(t,e){var i;return t.$watchGroup(b,function n(r,a){var o=E(r);e.call(this,o,r!==a?i:o,t);i=o})}})}function M(t){try{t=l&&!d?r.getTrusted(l,t):r.valueOf(t);return f&&!G(t)?t:Qt(t)}catch(t){n(Mn.interr(s,t))}}}f.startSymbol=function(){return t};f.endSymbol=function(){return e};return f}]}var kn=a("$interval");function Rn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,i,n,r){var a={};function o(o,s,u,l){var c=arguments.length>4,h=c?_t(arguments,4):[],f=e.setInterval,d=e.clearInterval,p=0,v=G(l)&&!l,g=(v?n:i).defer(),m=g.promise;u=G(u)?u:0;m.$$intervalId=f(function e(){if(v){r.defer(y)}else{t.$evalAsync(y)}g.notify(p++);if(u>0&&p>=u){g.resolve(p);d(m.$$intervalId);delete a[m.$$intervalId]}if(!v)t.$apply()},s);a[m.$$intervalId]=g;return m;function y(){if(!c){o(p)}else{o.apply(null,h)}}}o.cancel=function(t){if(!t)return false;if(!t.hasOwnProperty("$$intervalId")){throw kn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.")}if(!a.hasOwnProperty(t.$$intervalId))return false;var i=t.$$intervalId;var n=a[i];kr(n.promise);n.reject("canceled");e.clearInterval(i);delete a[i];return true};return o}]}var An=function(){this.$get=function(){var t=b.callbacks;var e={};function i(t){var e=function(t){e.data=t;e.called=true};e.id=t;return e}return{createCallback:function(n){var r="_"+(t.$$counter++).toString(36);var a="angular.callbacks."+r;var o=i(r);e[a]=t[r]=o;return a},wasCalled:function(t){return e[t].called},getResponse:function(t){return e[t].data},removeCallback:function(i){var n=e[i];delete t[n.id];delete e[i]}}}};var In=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Pn={http:80,https:443,ftp:21};var Dn=a("$location");function Nn(t){var e=t.split("/"),i=e.length;while(i--){e[i]=At(e[i].replace(/%2F/g,"/"))}return e.join("/")}function $n(t,e){var i=t.split("/"),n=i.length;while(n--){i[n]=decodeURIComponent(i[n]);if(e){i[n]=i[n].replace(/\//g,"%2F")}}return i.join("/")}function Ln(t,e){var i=Zr(t);e.$$protocol=i.protocol;e.$$host=i.hostname;e.$$port=A(i.port)||Pn[i.protocol]||null}var Fn=/^\s*[\\/]{2,}/;function Gn(t,e,i){if(Fn.test(t)){throw Dn("badpath",'Invalid url "{0}".',t)}var n=t.charAt(0)!=="/";if(n){t="/"+t}var r=Zr(t);var a=n&&r.pathname.charAt(0)==="/"?r.pathname.substring(1):r.pathname;e.$$path=$n(a,i);e.$$search=kt(r.search);e.$$hash=decodeURIComponent(r.hash);if(e.$$path&&e.$$path.charAt(0)!=="/"){e.$$path="/"+e.$$path}}function Un(t,e){return t.slice(0,e.length)===e}function Hn(t,e){if(Un(e,t)){return e.substr(t.length)}}function Wn(t){var e=t.indexOf("#");return e===-1?t:t.substr(0,e)}function Yn(t){return t.replace(/(#.+)|#$/,"$1")}function zn(t){return t.substr(0,Wn(t).lastIndexOf("/")+1)}function Vn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Bn(t,e,i){this.$$html5=true;i=i||"";Ln(t,this);this.$$parse=function(t){var i=Hn(e,t);if(!W(i)){throw Dn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e)}Gn(i,this,true);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$compose=function(){var t=Rt(this.$$search),i=this.$$hash?"#"+At(this.$$hash):"";this.$$url=Nn(this.$$path)+(t?"?"+t:"")+i;this.$$absUrl=e+this.$$url.substr(1);this.$$urlUpdatedByLocation=true};this.$$parseLinkUrl=function(n,r){if(r&&r[0]==="#"){this.hash(r.slice(1));return true}var a,o;var s;if(G(a=Hn(t,n))){o=a;if(i&&G(a=Hn(i,a))){s=e+(Hn("/",a)||a)}else{s=t+o}}else if(G(a=Hn(e,n))){s=e+a}else if(e===n+"/"){s=e}if(s){this.$$parse(s)}return!!s}}function qn(t,e,i){Ln(t,this);this.$$parse=function(n){var r=Hn(t,n)||Hn(e,n);var a;if(!F(r)&&r.charAt(0)==="#"){a=Hn(i,r);if(F(a)){a=r}}else{if(this.$$html5){a=r}else{a="";if(F(r)){t=n;this.replace()}}}Gn(a,this,false);this.$$path=o(this.$$path,a,t);this.$$compose();function o(t,e,i){var n=/^\/[A-Z]:(\/.*)/;var r;if(Un(e,i)){e=e.replace(i,"")}if(n.exec(e)){return t}r=n.exec(t);return r?r[1]:t}};this.$$compose=function(){var e=Rt(this.$$search),n=this.$$hash?"#"+At(this.$$hash):"";this.$$url=Nn(this.$$path)+(e?"?"+e:"")+n;this.$$absUrl=t+(this.$$url?i+this.$$url:"");this.$$urlUpdatedByLocation=true};this.$$parseLinkUrl=function(e,i){if(Wn(t)===Wn(e)){this.$$parse(e);return true}return false}}function Kn(t,e,i){this.$$html5=true;qn.apply(this,arguments);this.$$parseLinkUrl=function(n,r){if(r&&r[0]==="#"){this.hash(r.slice(1));return true}var a;var o;if(t===Wn(n)){a=n}else if(o=Hn(e,n)){a=t+i+o}else if(e===n+"/"){a=e}if(a){this.$$parse(a)}return!!a};this.$$compose=function(){var e=Rt(this.$$search),n=this.$$hash?"#"+At(this.$$hash):"";this.$$url=Nn(this.$$path)+(e?"?"+e:"")+n;this.$$absUrl=t+i+this.$$url;this.$$urlUpdatedByLocation=true}}var Xn={$$absUrl:"",$$html5:false,$$replace:false,absUrl:Zn("$$absUrl"),url:function(t){if(F(t)){return this.$$url}var e=In.exec(t);if(e[1]||t==="")this.path(decodeURIComponent(e[1]));if(e[2]||e[1]||t==="")this.search(e[3]||"");this.hash(e[5]||"");return this},protocol:Zn("$$protocol"),host:Zn("$$host"),port:Zn("$$port"),path:Qn("$$path",function(t){t=t!==null?t.toString():"";return t.charAt(0)==="/"?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(W(t)||Y(t)){t=t.toString();this.$$search=kt(t)}else if(U(t)){t=dt(t,{});S(t,function(e,i){if(e==null)delete t[i]});this.$$search=t}else{throw Dn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(F(e)||e===null){delete this.$$search[t]}else{this.$$search[t]=e}}this.$$compose();return this},hash:Qn("$$hash",function(t){return t!==null?t.toString():""}),replace:function(){this.$$replace=true;return this}};S([Kn,qn,Bn],function(t){t.prototype=Object.create(Xn);t.prototype.state=function(e){if(!arguments.length){return this.$$state}if(t!==Bn||!this.$$html5){throw Dn("nostate","History API state support is available only "+"in HTML5 mode and only in browsers supporting HTML5 History API")}this.$$state=F(e)?null:e;this.$$urlUpdatedByLocation=true;return this}});function Zn(t){return function(){return this[t]}}function Qn(t,e){return function(i){if(F(i)){return this[t]}this[t]=e(i);this.$$compose();return this}}function Jn(){var t="!",e={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(e){if(G(e)){t=e;return this}else{return t}};this.html5Mode=function(t){if(et(t)){e.enabled=t;return this}else if(U(t)){if(et(t.enabled)){e.enabled=t.enabled}if(et(t.requireBase)){e.requireBase=t.requireBase}if(et(t.rewriteLinks)||W(t.rewriteLinks)){e.rewriteLinks=t.rewriteLinks}return this}else{return e}};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,n,r,a,o){var s,u,l=n.baseHref(),c=n.url(),h;if(e.enabled){if(!l&&e.requireBase){throw Dn("nobase","$location in HTML5 mode requires a <base> tag to be present!")}h=Vn(c)+(l||"/");u=r.history?Bn:Kn}else{h=Wn(c);u=qn}var d=zn(h);s=new u(h,d,"#"+t);s.$$parseLinkUrl(c,c);s.$$state=n.state();var p=/^\s*(javascript|mailto):/i;function v(t,e,i){var r=s.url();var a=s.$$state;try{n.url(t,e,i);s.$$state=n.state()}catch(t){s.url(r);s.$$state=a;throw t}}a.on("click",function(t){var r=e.rewriteLinks;if(!r||t.ctrlKey||t.metaKey||t.shiftKey||t.which===2||t.button===2)return;var o=f(t.target);while(ct(o[0])!=="a"){if(o[0]===a[0]||!(o=o.parent())[0])return}if(W(r)&&F(o.attr(r)))return;var u=o.prop("href");var l=o.attr("href")||o.attr("xlink:href");if(U(u)&&u.toString()==="[object SVGAnimatedString]"){u=Zr(u.animVal).href}if(p.test(u))return;if(u&&!o.attr("target")&&!t.isDefaultPrevented()){if(s.$$parseLinkUrl(u,l)){t.preventDefault();if(s.absUrl()!==n.url()){i.$apply()}}}});if(Yn(s.absUrl())!==Yn(c)){n.url(s.absUrl(),true)}var g=true;n.onUrlChange(function(t,e){if(!Un(t,d)){o.location.href=t;return}i.$evalAsync(function(){var n=s.absUrl();var r=s.$$state;var a;t=Yn(t);s.$$parse(t);s.$$state=e;a=i.$broadcast("$locationChangeStart",t,n,e,r).defaultPrevented;if(s.absUrl()!==t)return;if(a){s.$$parse(n);s.$$state=r;v(n,false,r)}else{g=false;m(n,r)}});if(!i.$$phase)i.$digest()});i.$watch(function t(){if(g||s.$$urlUpdatedByLocation){s.$$urlUpdatedByLocation=false;var e=Yn(n.url());var a=Yn(s.absUrl());var o=n.state();var u=s.$$replace;var l=e!==a||s.$$html5&&r.history&&o!==s.$$state;if(g||l){g=false;i.$evalAsync(function(){var t=s.absUrl();var n=i.$broadcast("$locationChangeStart",t,e,s.$$state,o).defaultPrevented;if(s.absUrl()!==t)return;if(n){s.$$parse(e);s.$$state=o}else{if(l){v(t,u,o===s.$$state?null:s.$$state)}m(e,o)}})}}s.$$replace=false});return s;function m(t,e){i.$broadcast("$locationChangeSuccess",s.absUrl(),t,s.$$state,e)}}]}function tr(){var t=true,e=this;this.debugEnabled=function(e){if(G(e)){t=e;return this}else{return t}};this.$get=["$window",function(i){var n=h||/\bEdge\//.test(i.navigator&&i.navigator.userAgent);return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:function(){var i=a("debug");return function(){if(t){i.apply(e,arguments)}}}()};function r(t){if(B(t)){if(t.stack&&n){t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack}else if(t.sourceURL){t=t.message+"\n"+t.sourceURL+":"+t.line}}return t}function a(t){var e=i.console||{},n=e[t]||e.log||D;return function(){var t=[];S(arguments,function(e){t.push(r(e))});return Function.prototype.apply.call(n,e,t)}}}]}var er=a("$parse");var ir={}.constructor.prototype.valueOf;function nr(t){return t+""}var rr=Zt();S("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){rr[t]=true});var ar={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};var or=function t(e){this.options=e};or.prototype={constructor:or,lex:function(t){this.text=t;this.index=0;this.tokens=[];while(this.index<this.text.length){var e=this.text.charAt(this.index);if(e==='"'||e==="'"){this.readString(e)}else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdentifierStart(this.peekMultichar())){this.readIdent()}else if(this.is(e,"(){}[].,;:?")){this.tokens.push({index:this.index,text:e});this.index++}else if(this.isWhitespace(e)){this.index++}else{var i=e+this.peek();var n=i+this.peek(2);var r=rr[e];var a=rr[i];var o=rr[n];if(r||a||o){var s=o?n:a?i:e;this.tokens.push({index:this.index,text:s,operator:true});this.index+=s.length}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):false},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t==="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="\t"||t==="\n"||t==="\v"||t===" "},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){if(t.length===1)return t.charCodeAt(0);return(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index);var e=this.peek();if(!e){return t}var i=t.charCodeAt(0);var n=e.charCodeAt(0);if(i>=55296&&i<=56319&&n>=56320&&n<=57343){return t+e}return t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,i){i=i||this.index;var n=G(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,i)+"]":" "+i;throw er("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){var t="";var e=this.index;while(this.index<this.text.length){var i=l(this.text.charAt(this.index));if(i==="."||this.isNumber(i)){t+=i}else{var n=this.peek();if(i==="e"&&this.isExpOperator(n)){t+=i}else if(this.isExpOperator(i)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e"){t+=i}else if(this.isExpOperator(i)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e"){this.throwError("Invalid exponent")}else{break}}this.index++}this.tokens.push({index:e,text:t,constant:true,value:Number(t)})},readIdent:function(){var t=this.index;this.index+=this.peekMultichar().length;while(this.index<this.text.length){var e=this.peekMultichar();if(!this.isIdentifierContinue(e)){break}this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:true})},readString:function(t){var e=this.index;this.index++;var i="";var n=t;var r=false;while(this.index<this.text.length){var a=this.text.charAt(this.index);n+=a;if(r){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);if(!o.match(/[\da-f]{4}/i)){this.throwError("Invalid unicode escape [\\u"+o+"]")}this.index+=4;i+=String.fromCharCode(parseInt(o,16))}else{var s=ar[a];i=i+(s||a)}r=false}else if(a==="\\"){r=true}else if(a===t){this.index++;this.tokens.push({index:e,text:n,constant:true,value:i});return}else{i+=a}this.index++}this.throwError("Unterminated quote",e)}};var sr=function t(e,i){this.lexer=e;this.options=i};sr.Program="Program";sr.ExpressionStatement="ExpressionStatement";sr.AssignmentExpression="AssignmentExpression";sr.ConditionalExpression="ConditionalExpression";sr.LogicalExpression="LogicalExpression";sr.BinaryExpression="BinaryExpression";sr.UnaryExpression="UnaryExpression";sr.CallExpression="CallExpression";sr.MemberExpression="MemberExpression";sr.Identifier="Identifier";sr.Literal="Literal";sr.ArrayExpression="ArrayExpression";sr.Property="Property";sr.ObjectExpression="ObjectExpression";sr.ThisExpression="ThisExpression";sr.LocalsExpression="LocalsExpression";sr.NGValueParameter="NGValueParameter";sr.prototype={ast:function(t){this.text=t;this.tokens=this.lexer.lex(t);var e=this.program();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}return e},program:function(){var t=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))t.push(this.expressionStatement());if(!this.expect(";")){return{type:sr.Program,body:t}}}},expressionStatement:function(){return{type:sr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var t=this.expression();while(this.expect("|")){t=this.filter(t)}return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!gr(t)){throw er("lval","Trying to assign a value to a non l-value")}t={type:sr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR();var e;var i;if(this.expect("?")){e=this.expression();if(this.consume(":")){i=this.expression();return{type:sr.ConditionalExpression,test:t,alternate:e,consequent:i}}}return t},logicalOR:function(){var t=this.logicalAND();while(this.expect("||")){t={type:sr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()}}return t},logicalAND:function(){var t=this.equality();while(this.expect("&&")){t={type:sr.LogicalExpression,operator:"&&",left:t,right:this.equality()}}return t},equality:function(){var t=this.relational();var e;while(e=this.expect("==","!=","===","!==")){t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.relational()}}return t},relational:function(){var t=this.additive();var e;while(e=this.expect("<",">","<=",">=")){t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.additive()}}return t},additive:function(){var t=this.multiplicative();var e;while(e=this.expect("+","-")){t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()}}return t},multiplicative:function(){var t=this.unary();var e;while(e=this.expect("*","/","%")){t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.unary()}}return t},unary:function(){var t;if(t=this.expect("+","-","!")){return{type:sr.UnaryExpression,operator:t.text,prefix:true,argument:this.unary()}}else{return this.primary()}},primary:function(){var t;if(this.expect("(")){t=this.filterChain();this.consume(")")}else if(this.expect("[")){t=this.arrayDeclaration()}else if(this.expect("{")){t=this.object()}else if(this.selfReferential.hasOwnProperty(this.peek().text)){t=dt(this.selfReferential[this.consume().text])}else if(this.options.literals.hasOwnProperty(this.peek().text)){t={type:sr.Literal,value:this.options.literals[this.consume().text]}}else if(this.peek().identifier){t=this.identifier()}else if(this.peek().constant){t=this.constant()}else{this.throwError("not a primary expression",this.peek())}var e;while(e=this.expect("(","[",".")){if(e.text==="("){t={type:sr.CallExpression,callee:t,arguments:this.parseArguments()};this.consume(")")}else if(e.text==="["){t={type:sr.MemberExpression,object:t,property:this.expression(),computed:true};this.consume("]")}else if(e.text==="."){t={type:sr.MemberExpression,object:t,property:this.identifier(),computed:false}}else{this.throwError("IMPOSSIBLE")}}return t},filter:function(t){var e=[t];var i={type:sr.CallExpression,callee:this.identifier(),arguments:e,filter:true};while(this.expect(":")){e.push(this.expression())}return i},parseArguments:function(){var t=[];if(this.peekToken().text!==")"){do{t.push(this.filterChain())}while(this.expect(","))}return t},identifier:function(){var t=this.consume();if(!t.identifier){this.throwError("is not a valid identifier",t)}return{type:sr.Identifier,name:t.text}},constant:function(){return{type:sr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}t.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:sr.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}e={type:sr.Property,kind:"init"};if(this.peek().constant){e.key=this.constant();e.computed=false;this.consume(":");e.value=this.expression()}else if(this.peek().identifier){e.key=this.identifier();e.computed=false;if(this.peek(":")){this.consume(":");e.value=this.expression()}else{e.value=e.key}}else if(this.peek("[")){this.consume("[");e.key=this.expression();this.consume("]");e.computed=true;this.consume(":");e.value=this.expression()}else{this.throwError("invalid key",this.peek())}t.push(e)}while(this.expect(","))}this.consume("}");return{type:sr.ObjectExpression,properties:t}},throwError:function(t,e){throw er("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0){throw er("ueoe","Unexpected end of expression: {0}",this.text)}var e=this.expect(t);if(!e){this.throwError("is unexpected, expecting ["+t+"]",this.peek())}return e},peekToken:function(){if(this.tokens.length===0){throw er("ueoe","Unexpected end of expression: {0}",this.text)}return this.tokens[0]},peek:function(t,e,i,n){return this.peekAhead(0,t,e,i,n)},peekAhead:function(t,e,i,n,r){if(this.tokens.length>t){var a=this.tokens[t];var o=a.text;if(o===e||o===i||o===n||o===r||!e&&!i&&!n&&!r){return a}}return false},expect:function(t,e,i,n){var r=this.peek(t,e,i,n);if(r){this.tokens.shift();return r}return false},selfReferential:{this:{type:sr.ThisExpression},$locals:{type:sr.LocalsExpression}}};function ur(t,e){return typeof t!=="undefined"?t:e}function lr(t,e){if(typeof t==="undefined")return e;if(typeof e==="undefined")return t;return t+e}function cr(t,e){var i=t(e);return!i.$stateful}var hr=1;var fr=2;function dr(t,e){switch(t.type){case sr.MemberExpression:if(t.computed){return false}break;case sr.UnaryExpression:return hr;case sr.BinaryExpression:return t.operator!=="+"?hr:false;case sr.CallExpression:return false}return undefined===e?fr:e}function pr(t,e,i){var n;var r;var a;var o=t.isPure=dr(t,i);switch(t.type){case sr.Program:n=true;S(t.body,function(t){pr(t.expression,e,o);n=n&&t.expression.constant});t.constant=n;break;case sr.Literal:t.constant=true;t.toWatch=[];break;case sr.UnaryExpression:pr(t.argument,e,o);t.constant=t.argument.constant;t.toWatch=t.argument.toWatch;break;case sr.BinaryExpression:pr(t.left,e,o);pr(t.right,e,o);t.constant=t.left.constant&&t.right.constant;t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case sr.LogicalExpression:pr(t.left,e,o);pr(t.right,e,o);t.constant=t.left.constant&&t.right.constant;t.toWatch=t.constant?[]:[t];break;case sr.ConditionalExpression:pr(t.test,e,o);pr(t.alternate,e,o);pr(t.consequent,e,o);t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant;t.toWatch=t.constant?[]:[t];break;case sr.Identifier:t.constant=false;t.toWatch=[t];break;case sr.MemberExpression:pr(t.object,e,o);if(t.computed){pr(t.property,e,o)}t.constant=t.object.constant&&(!t.computed||t.property.constant);t.toWatch=t.constant?[]:[t];break;case sr.CallExpression:a=t.filter?cr(e,t.callee.name):false;n=a;r=[];S(t.arguments,function(t){pr(t,e,o);n=n&&t.constant;r.push.apply(r,t.toWatch)});t.constant=n;t.toWatch=a?r:[t];break;case sr.AssignmentExpression:pr(t.left,e,o);pr(t.right,e,o);t.constant=t.left.constant&&t.right.constant;t.toWatch=[t];break;case sr.ArrayExpression:n=true;r=[];S(t.elements,function(t){pr(t,e,o);n=n&&t.constant;r.push.apply(r,t.toWatch)});t.constant=n;t.toWatch=r;break;case sr.ObjectExpression:n=true;r=[];S(t.properties,function(t){pr(t.value,e,o);n=n&&t.value.constant;r.push.apply(r,t.value.toWatch);if(t.computed){pr(t.key,e,false);n=n&&t.key.constant;r.push.apply(r,t.key.toWatch)}});t.constant=n;t.toWatch=r;break;case sr.ThisExpression:t.constant=false;t.toWatch=[];break;case sr.LocalsExpression:t.constant=false;t.toWatch=[];break}}function vr(t){if(t.length!==1)return;var e=t[0].expression;var i=e.toWatch;if(i.length!==1)return i;return i[0]!==e?i:undefined}function gr(t){return t.type===sr.Identifier||t.type===sr.MemberExpression}function mr(t){if(t.body.length===1&&gr(t.body[0].expression)){return{type:sr.AssignmentExpression,left:t.body[0].expression,right:{type:sr.NGValueParameter},operator:"="}}}function yr(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===sr.Literal||t.body[0].expression.type===sr.ArrayExpression||t.body[0].expression.type===sr.ObjectExpression)}function _r(t){return t.constant}function br(t){this.$filter=t}br.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};pr(t,e.$filter);var i="";var n;this.stage="assign";if(n=mr(t)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r);this.return_(r);i="fn.assign="+this.generateFunction("assign","s,v,l")}var a=vr(t.body);e.stage="inputs";S(a,function(t,i){var n="fn"+i;e.state[n]={vars:[],body:[],own:{}};e.state.computing=n;var r=e.nextId();e.recurse(t,r);e.return_(r);e.state.inputs.push({name:n,isPure:t.isPure});t.watchId=i});this.state.computing="fn";this.stage="main";this.recurse(t);var o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;";var s=new Function("$filter","getStringValue","ifDefined","plus",o)(this.$filter,nr,ur,lr);this.state=this.stage=undefined;return s},USE:"use",STRICT:"strict",watchFns:function(){var t=[];var e=this.state.inputs;var i=this;S(e,function(e){t.push("var "+e.name+"="+i.generateFunction(e.name,"s"));if(e.isPure){t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}});if(e.length){t.push("fn.inputs=["+e.map(function(t){return t.name}).join(",")+"];")}return t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[];var e=this;S(this.state.filters,function(i,n){t.push(i+"=$filter("+e.escape(n)+")")});if(t.length)return"var "+t.join(",")+";";return""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,n,r,a){var o,s,u=this,l,c,h;n=n||D;if(!a&&G(t.watchId)){e=e||this.nextId();this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,n,r,true));return}switch(t.type){case sr.Program:S(t.body,function(e,i){u.recurse(e.expression,undefined,undefined,function(t){s=t});if(i!==t.body.length-1){u.current().body.push(s,";")}else{u.return_(s)}});break;case sr.Literal:c=this.escape(t.value);this.assign(e,c);n(e||c);break;case sr.UnaryExpression:this.recurse(t.argument,undefined,undefined,function(t){s=t});c=t.operator+"("+this.ifDefined(s,0)+")";this.assign(e,c);n(c);break;case sr.BinaryExpression:this.recurse(t.left,undefined,undefined,function(t){o=t});this.recurse(t.right,undefined,undefined,function(t){s=t});if(t.operator==="+"){c=this.plus(o,s)}else if(t.operator==="-"){c=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0)}else{c="("+o+")"+t.operator+"("+s+")"}this.assign(e,c);n(c);break;case sr.LogicalExpression:e=e||this.nextId();u.recurse(t.left,e);u.if_(t.operator==="&&"?e:u.not(e),u.lazyRecurse(t.right,e));n(e);break;case sr.ConditionalExpression:e=e||this.nextId();u.recurse(t.test,e);u.if_(e,u.lazyRecurse(t.alternate,e),u.lazyRecurse(t.consequent,e));n(e);break;case sr.Identifier:e=e||this.nextId();if(i){i.context=u.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s");i.computed=false;i.name=t.name}u.if_(u.stage==="inputs"||u.not(u.getHasOwnProperty("l",t.name)),function(){u.if_(u.stage==="inputs"||"s",function(){if(r&&r!==1){u.if_(u.isNull(u.nonComputedMember("s",t.name)),u.lazyAssign(u.nonComputedMember("s",t.name),"{}"))}u.assign(e,u.nonComputedMember("s",t.name))})},e&&u.lazyAssign(e,u.nonComputedMember("l",t.name)));n(e);break;case sr.MemberExpression:o=i&&(i.context=this.nextId())||this.nextId();e=e||this.nextId();u.recurse(t.object,o,undefined,function(){u.if_(u.notNull(o),function(){if(t.computed){s=u.nextId();u.recurse(t.property,s);u.getStringValue(s);if(r&&r!==1){u.if_(u.not(u.computedMember(o,s)),u.lazyAssign(u.computedMember(o,s),"{}"))}c=u.computedMember(o,s);u.assign(e,c);if(i){i.computed=true;i.name=s}}else{if(r&&r!==1){u.if_(u.isNull(u.nonComputedMember(o,t.property.name)),u.lazyAssign(u.nonComputedMember(o,t.property.name),"{}"))}c=u.nonComputedMember(o,t.property.name);u.assign(e,c);if(i){i.computed=false;i.name=t.property.name}}},function(){u.assign(e,"undefined")});n(e)},!!r);break;case sr.CallExpression:e=e||this.nextId();if(t.filter){s=u.filter(t.callee.name);l=[];S(t.arguments,function(t){var e=u.nextId();u.recurse(t,e);l.push(e)});c=s+"("+l.join(",")+")";u.assign(e,c);n(e)}else{s=u.nextId();o={};l=[];u.recurse(t.callee,s,o,function(){u.if_(u.notNull(s),function(){S(t.arguments,function(e){u.recurse(e,t.constant?undefined:u.nextId(),undefined,function(t){l.push(t)})});if(o.name){c=u.member(o.context,o.name,o.computed)+"("+l.join(",")+")"}else{c=s+"("+l.join(",")+")"}u.assign(e,c)},function(){u.assign(e,"undefined")});n(e)})}break;case sr.AssignmentExpression:s=this.nextId();o={};this.recurse(t.left,undefined,o,function(){u.if_(u.notNull(o.context),function(){u.recurse(t.right,s);c=u.member(o.context,o.name,o.computed)+t.operator+s;u.assign(e,c);n(e||c)})},1);break;case sr.ArrayExpression:l=[];S(t.elements,function(e){u.recurse(e,t.constant?undefined:u.nextId(),undefined,function(t){l.push(t)})});c="["+l.join(",")+"]";this.assign(e,c);n(e||c);break;case sr.ObjectExpression:l=[];h=false;S(t.properties,function(t){if(t.computed){h=true}});if(h){e=e||this.nextId();this.assign(e,"{}");S(t.properties,function(t){if(t.computed){o=u.nextId();u.recurse(t.key,o)}else{o=t.key.type===sr.Identifier?t.key.name:""+t.key.value}s=u.nextId();u.recurse(t.value,s);u.assign(u.member(e,o,t.computed),s)})}else{S(t.properties,function(e){u.recurse(e.value,t.constant?undefined:u.nextId(),undefined,function(t){l.push(u.escape(e.key.type===sr.Identifier?e.key.name:""+e.key.value)+":"+t)})});c="{"+l.join(",")+"}";this.assign(e,c)}n(e||c);break;case sr.ThisExpression:this.assign(e,"s");n(e||"s");break;case sr.LocalsExpression:this.assign(e,"l");n(e||"l");break;case sr.NGValueParameter:this.assign(e,"v");n(e||"v");break}},getHasOwnProperty:function(t,e){var i=t+"."+e;var n=this.current().own;if(!n.hasOwnProperty(i)){n[i]=this.nextId(false,t+"&&("+this.escape(e)+" in "+t+")")}return n[i]},assign:function(t,e){if(!t)return;this.current().body.push(t,"=",e,";");return t},filter:function(t){if(!this.state.filters.hasOwnProperty(t)){this.state.filters[t]=this.nextId(true)}return this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,i){if(t===true){e()}else{var n=this.current().body;n.push("if(",t,"){");e();n.push("}");if(i){n.push("else{");i();n.push("}")}}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var i=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;var n=/[^$_a-zA-Z0-9]/g;if(i.test(e)){return t+"."+e}else{return t+'["'+e.replace(n,this.stringEscapeFn)+'"]'}},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,i){if(i)return this.computedMember(t,e);return this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,i,n,r,a){var o=this;return function(){o.recurse(t,e,i,n,r,a)}},lazyAssign:function(t,e){var i=this;return function(){i.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(W(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(Y(t))return t.toString();if(t===true)return"true";if(t===false)return"false";if(t===null)return"null";if(typeof t==="undefined")return"undefined";throw er("esc","IMPOSSIBLE")},nextId:function(t,e){var i="v"+this.state.nextId++;if(!t){this.current().vars.push(i+(e?"="+e:""))}return i},current:function(){return this.state[this.state.computing]}};function wr(t){this.$filter=t}wr.prototype={compile:function(t){var e=this;pr(t,e.$filter);var i;var n;if(i=mr(t)){n=this.recurse(i)}var r=vr(t.body);var a;if(r){a=[];S(r,function(t,i){var n=e.recurse(t);n.isPure=t.isPure;t.input=n;a.push(n);t.watchId=i})}var o=[];S(t.body,function(t){o.push(e.recurse(t.expression))});var s=t.body.length===0?D:t.body.length===1?o[0]:function(t,e){var i;S(o,function(n){i=n(t,e)});return i};if(n){s.assign=function(t,e,i){return n(t,i,e)}}if(a){s.inputs=a}return s},recurse:function(t,e,i){var n,r,a=this,o;if(t.input){return this.inputs(t.input,t.watchId)}switch(t.type){case sr.Literal:return this.value(t.value,e);case sr.UnaryExpression:r=this.recurse(t.argument);return this["unary"+t.operator](r,e);case sr.BinaryExpression:n=this.recurse(t.left);r=this.recurse(t.right);return this["binary"+t.operator](n,r,e);case sr.LogicalExpression:n=this.recurse(t.left);r=this.recurse(t.right);return this["binary"+t.operator](n,r,e);case sr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case sr.Identifier:return a.identifier(t.name,e,i);case sr.MemberExpression:n=this.recurse(t.object,false,!!i);if(!t.computed){r=t.property.name}if(t.computed)r=this.recurse(t.property);return t.computed?this.computedMember(n,r,e,i):this.nonComputedMember(n,r,e,i);case sr.CallExpression:o=[];S(t.arguments,function(t){o.push(a.recurse(t))});if(t.filter)r=this.$filter(t.callee.name);if(!t.filter)r=this.recurse(t.callee,true);return t.filter?function(t,i,n,a){var s=[];for(var u=0;u<o.length;++u){s.push(o[u](t,i,n,a))}var l=r.apply(undefined,s,a);return e?{context:undefined,name:undefined,value:l}:l}:function(t,i,n,a){var s=r(t,i,n,a);var u;if(s.value!=null){var l=[];for(var c=0;c<o.length;++c){l.push(o[c](t,i,n,a))}u=s.value.apply(s.context,l)}return e?{value:u}:u};case sr.AssignmentExpression:n=this.recurse(t.left,true,1);r=this.recurse(t.right);return function(t,i,a,o){var s=n(t,i,a,o);var u=r(t,i,a,o);s.context[s.name]=u;return e?{value:u}:u};case sr.ArrayExpression:o=[];S(t.elements,function(t){o.push(a.recurse(t))});return function(t,i,n,r){var a=[];for(var s=0;s<o.length;++s){a.push(o[s](t,i,n,r))}return e?{value:a}:a};case sr.ObjectExpression:o=[];S(t.properties,function(t){if(t.computed){o.push({key:a.recurse(t.key),computed:true,value:a.recurse(t.value)})}else{o.push({key:t.key.type===sr.Identifier?t.key.name:""+t.key.value,computed:false,value:a.recurse(t.value)})}});return function(t,i,n,r){var a={};for(var s=0;s<o.length;++s){if(o[s].computed){a[o[s].key(t,i,n,r)]=o[s].value(t,i,n,r)}else{a[o[s].key]=o[s].value(t,i,n,r)}}return e?{value:a}:a};case sr.ThisExpression:return function(t){return e?{value:t}:t};case sr.LocalsExpression:return function(t,i){return e?{value:i}:i};case sr.NGValueParameter:return function(t,i,n){return e?{value:n}:n}}},"unary+":function(t,e){return function(i,n,r,a){var o=t(i,n,r,a);if(G(o)){o=+o}else{o=0}return e?{value:o}:o}},"unary-":function(t,e){return function(i,n,r,a){var o=t(i,n,r,a);if(G(o)){o=-o}else{o=-0}return e?{value:o}:o}},"unary!":function(t,e){return function(i,n,r,a){var o=!t(i,n,r,a);return e?{value:o}:o}},"binary+":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o);var u=e(n,r,a,o);var l=lr(s,u);return i?{value:l}:l}},"binary-":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o);var u=e(n,r,a,o);var l=(G(s)?s:0)-(G(u)?u:0);return i?{value:l}:l}},"binary*":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)*e(n,r,a,o);return i?{value:s}:s}},"binary/":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)/e(n,r,a,o);return i?{value:s}:s}},"binary%":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)%e(n,r,a,o);return i?{value:s}:s}},"binary===":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)===e(n,r,a,o);return i?{value:s}:s}},"binary!==":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)!==e(n,r,a,o);return i?{value:s}:s}},"binary==":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)==e(n,r,a,o);return i?{value:s}:s}},"binary!=":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)!=e(n,r,a,o);return i?{value:s}:s}},"binary<":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)<e(n,r,a,o);return i?{value:s}:s}},"binary>":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)>e(n,r,a,o);return i?{value:s}:s}},"binary<=":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)<=e(n,r,a,o);return i?{value:s}:s}},"binary>=":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)>=e(n,r,a,o);return i?{value:s}:s}},"binary&&":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)&&e(n,r,a,o);return i?{value:s}:s}},"binary||":function(t,e,i){return function(n,r,a,o){var s=t(n,r,a,o)||e(n,r,a,o);return i?{value:s}:s}},"ternary?:":function(t,e,i,n){return function(r,a,o,s){var u=t(r,a,o,s)?e(r,a,o,s):i(r,a,o,s);return n?{value:u}:u}},value:function(t,e){return function(){return e?{context:undefined,name:undefined,value:t}:t}},identifier:function(t,e,i){return function(n,r,a,o){var s=r&&t in r?r:n;if(i&&i!==1&&s&&s[t]==null){s[t]={}}var u=s?s[t]:undefined;if(e){return{context:s,name:t,value:u}}else{return u}}},computedMember:function(t,e,i,n){return function(r,a,o,s){var u=t(r,a,o,s);var l;var c;if(u!=null){l=e(r,a,o,s);l=nr(l);if(n&&n!==1){if(u&&!u[l]){u[l]={}}}c=u[l]}if(i){return{context:u,name:l,value:c}}else{return c}}},nonComputedMember:function(t,e,i,n){return function(r,a,o,s){var u=t(r,a,o,s);if(n&&n!==1){if(u&&u[e]==null){u[e]={}}}var l=u!=null?u[e]:undefined;if(i){return{context:u,name:e,value:l}}else{return l}}},inputs:function(t,e){return function(i,n,r,a){if(a)return a[e];return t(i,n,r)}}};function Or(t,e,i){this.ast=new sr(t,i);this.astCompiler=i.csp?new wr(e):new br(e)}Or.prototype={constructor:Or,parse:function(t){var e=this.getAst(t);var i=this.astCompiler.compile(e.ast);i.literal=yr(e.ast);i.constant=_r(e.ast);i.oneTime=e.oneTime;return i},getAst:function(t){var e=false;t=t.trim();if(t.charAt(0)===":"&&t.charAt(1)===":"){e=true;t=t.substring(2)}return{ast:this.ast.ast(t),oneTime:e}}};function xr(t){return q(t.valueOf)?t.valueOf():ir.call(t)}function Sr(){var t=Zt();var e={true:true,false:false,null:null,undefined:undefined};var i,n;this.addLiteral=function(t,i){e[t]=i};this.setIdentifierFns=function(t,e){i=t;n=e;return this};this.$get=["$filter",function(r){var a=gt().noUnsafeEval;var o={csp:a,literals:dt(e),isIdentifierStart:q(i)&&i,isIdentifierContinue:q(n)&&n};s.$$getAst=u;return s;function s(e,i){var n,a;switch(typeof e){case"string":e=e.trim();a=e;n=t[a];if(!n){var s=new or(o);var u=new Or(s,r,o);n=u.parse(e);t[a]=p(n)}return g(n,i);case"function":return g(e,i);default:return g(D,i)}}function u(t){var e=new or(o);var i=new Or(e,r,o);return i.getAst(t).ast}function l(t,e,i){if(t==null||e==null){return t===e}if(typeof t==="object"){t=xr(t);if(typeof t==="object"&&!i){return false}}return t===e||t!==t&&e!==e}function c(t,e,i,n,r){var a=n.inputs;var o;if(a.length===1){var s=l;a=a[0];return t.$watch(function t(e){var i=a(e);if(!l(i,s,a.isPure)){o=n(e,undefined,undefined,[i]);s=i&&xr(i)}return o},e,i,r)}var u=[];var c=[];for(var h=0,f=a.length;h<f;h++){u[h]=l;c[h]=null}return t.$watch(function t(e){var i=false;for(var r=0,s=a.length;r<s;r++){var h=a[r](e);if(i||(i=!l(h,u[r],a[r].isPure))){c[r]=h;u[r]=h&&xr(h)}}if(i){o=n(e,undefined,undefined,c)}return o},e,i,r)}function h(t,e,i,n,r){var a=n.literal?f:G;var o,s;var u=n.$$intercepted||n;var l=n.$$interceptor||N;var c=n.inputs&&!u.inputs;d.literal=n.literal;d.constant=n.constant;d.inputs=n.inputs;p(d);o=t.$watch(d,e,i,r);return o;function h(){if(a(s)){o()}}function d(t,e,i,n){s=c&&n?n[0]:u(t,e,i,n);if(a(s)){t.$$postDigest(h)}return l(s)}}function f(t){var e=true;S(t,function(t){if(!G(t))e=false});return e}function d(t,e,i,n){var r=t.$watch(function t(e){r();return n(e)},e,i);return r}function p(t){if(t.constant){t.$$watchDelegate=d}else if(t.oneTime){t.$$watchDelegate=h}else if(t.inputs){t.$$watchDelegate=c}return t}function v(t,e){function i(i){return e(t(i))}i.$stateful=t.$stateful||e.$stateful;i.$$pure=t.$$pure&&e.$$pure;return i}function g(t,e){if(!e)return t;if(t.$$interceptor){e=v(t.$$interceptor,e);t=t.$$intercepted}var i=false;var n=function n(r,a,o,s){var u=i&&s?s[0]:t(r,a,o,s);return e(u)};n.$$intercepted=t;n.$$interceptor=e;n.literal=t.literal;n.oneTime=t.oneTime;n.constant=t.constant;if(!e.$stateful){i=!t.inputs;n.inputs=t.inputs?t.inputs:[t];if(!e.$$pure){n.inputs=n.inputs.map(function(t){if(t.isPure===fr){return function e(i){return t(i)}}return t})}}return p(n)}}]}function Cr(){var t=true;this.$get=["$rootScope","$exceptionHandler",function(e,i){return Er(function(t){e.$evalAsync(t)},i,t)}];this.errorOnUnhandledRejections=function(e){if(G(e)){t=e;return this}else{return t}}}function Tr(){var t=true;this.$get=["$browser","$exceptionHandler",function(e,i){return Er(function(t){e.defer(t)},i,t)}];this.errorOnUnhandledRejections=function(e){if(G(e)){t=e;return this}else{return t}}}function Er(t,e,i){var n=a("$q",TypeError);var r=0;var o=[];function s(){return new u}function u(){var t=this.promise=new l;this.resolve=function(e){d(t,e)};this.reject=function(e){v(t,e)};this.notify=function(e){m(t,e)}}function l(){this.$$state={status:0}}k(l.prototype,{then:function(t,e,i){if(F(t)&&F(e)&&F(i)){return this}var n=new l;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([n,t,e,i]);if(this.$$state.status>0)f(this.$$state);return n},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return _(e,w,t)},function(e){return _(e,y,t)},e)}});function c(n){var a,o,s;s=n.pending;n.processScheduled=false;n.pending=undefined;try{for(var u=0,l=s.length;u<l;++u){jr(n);o=s[u][0];a=s[u][n.status];try{if(q(a)){d(o,a(n.value))}else if(n.status===1){d(o,n.value)}else{v(o,n.value)}}catch(t){v(o,t);if(t&&t.$$passToExceptionHandler===true){e(t)}}}}finally{--r;if(i&&r===0){t(h)}}}function h(){while(!r&&o.length){var t=o.shift();if(!Mr(t)){jr(t);var i="Possibly unhandled rejection: "+ue(t.value);if(B(t.value)){e(t.value,i)}else{e(i)}}}}function f(e){if(i&&!e.pending&&e.status===2&&!Mr(e)){if(r===0&&o.length===0){t(h)}o.push(e)}if(e.processScheduled||!e.pending)return;e.processScheduled=true;++r;t(function(){c(e)})}function d(t,e){if(t.$$state.status)return;if(e===t){g(t,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e))}else{p(t,e)}}function p(t,e){var i;var n=false;try{if(U(e)||q(e))i=e.then;if(q(i)){t.$$state.status=-1;i.call(e,r,a,o)}else{t.$$state.value=e;t.$$state.status=1;f(t.$$state)}}catch(t){a(t)}function r(e){if(n)return;n=true;p(t,e)}function a(e){if(n)return;n=true;g(t,e)}function o(e){m(t,e)}}function v(t,e){if(t.$$state.status)return;g(t,e)}function g(t,e){t.$$state.value=e;t.$$state.status=2;f(t.$$state)}function m(i,n){var r=i.$$state.pending;if(i.$$state.status<=0&&r&&r.length){t(function(){var t,i;for(var a=0,o=r.length;a<o;a++){i=r[a][0];t=r[a][3];try{m(i,q(t)?t(n):n)}catch(t){e(t)}}})}}function y(t){var e=new l;v(e,t);return e}function _(t,e,i){var n=null;try{if(q(i))n=i()}catch(t){return y(t)}if(it(n)){return n.then(function(){return e(t)},y)}else{return e(t)}}function b(t,e,i,n){var r=new l;d(r,t);return r.then(e,i,n)}var w=b;function O(t){var e=new l,i=0,n=V(t)?[]:{};S(t,function(t,r){i++;b(t).then(function(t){n[r]=t;if(!--i)d(e,n)},function(t){v(e,t)})});if(i===0){d(e,n)}return e}function x(t){var e=s();S(t,function(t){b(t).then(e.resolve,e.reject)});return e.promise}function C(t){if(!q(t)){throw n("norslvr","Expected resolverFn, got '{0}'",t)}var e=new l;function i(t){d(e,t)}function r(t){v(e,t)}t(i,r);return e}C.prototype=l.prototype;C.defer=s;C.reject=y;C.when=b;C.resolve=w;C.all=O;C.race=x;return C}function Mr(t){return!!t.pur}function jr(t){t.pur=true}function kr(t){jr(t.$$state)}function Rr(){this.$get=["$window","$timeout",function(t,e){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame;var n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;var r=!!i;var a=r?function(t){var e=i(t);return function(){n(e)}}:function(t){var i=e(t,16.66,false);return function(){e.cancel(i)}};a.supported=r;return a}]}function Ar(){var t=10;var e=a("$rootScope");var i=null;var n=null;this.digestTtl=function(e){if(arguments.length){t=e}return t};function r(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=E();this.$$ChildScope=null;this.$$suspended=false}e.prototype=t;return e}this.$get=["$exceptionHandler","$parse","$browser",function(a,o,s){function l(t){t.currentScope.$$destroyed=true}function c(t){if(h===9){if(t.$$childHead){c(t.$$childHead)}if(t.$$nextSibling){c(t.$$nextSibling)}}t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function f(){this.$id=E();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$suspended=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}f.prototype={constructor:f,$new:function(t,e){var i;e=e||this;if(t){i=new f;i.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=r(this)}i=new this.$$ChildScope}i.$parent=e;i.$$prevSibling=e.$$childTail;if(e.$$childHead){e.$$childTail.$$nextSibling=i;e.$$childTail=i}else{e.$$childHead=e.$$childTail=i}if(t||e!==this)i.$on("$destroy",l);return i},$watch:function(t,e,n,r){var a=o(t);var s=q(e)?e:D;if(a.$$watchDelegate){return a.$$watchDelegate(this,s,n,a,t)}var u=this,l=u.$$watchers,c={fn:s,last:O,get:a,exp:r||t,eq:!!n};i=null;if(!l){l=u.$$watchers=[];l.$$digestWatchIndex=-1}l.unshift(c);l.$$digestWatchIndex++;b(this,1);return function t(){var e=ft(l,c);if(e>=0){b(u,-1);if(e<l.$$digestWatchIndex){l.$$digestWatchIndex--}}i=null}},$watchGroup:function(t,e){var i=new Array(t.length);var n=new Array(t.length);var r=[];var a=this;var o=false;var s=true;if(!t.length){var u=true;a.$evalAsync(function(){if(u)e(n,n,a)});return function t(){u=false}}if(t.length===1){return this.$watch(t[0],function t(r,a,o){n[0]=r;i[0]=a;e(n,r===a?n:i,o)})}S(t,function(t,e){var i=a.$watch(t,function t(i){n[e]=i;if(!o){o=true;a.$evalAsync(l)}});r.push(i)});function l(){o=false;try{if(s){s=false;e(n,n,a)}else{e(n,i,a)}}finally{for(var r=0;r<t.length;r++){i[r]=n[r]}}}return function t(){while(r.length){r.shift()()}}},$watchCollection:function(t,e){v.$$pure=o(t).literal;v.$stateful=!v.$$pure;var i=this;var n;var r;var a;var s=e.length>1;var l=0;var c=o(t,v);var h=[];var f={};var d=true;var p=0;function v(t){n=t;var e,i,a,o,s;if(F(n))return;if(!U(n)){if(r!==n){r=n;l++}}else if(x(n)){if(r!==h){r=h;p=r.length=0;l++}e=n.length;if(p!==e){l++;r.length=p=e}for(var c=0;c<e;c++){s=r[c];o=n[c];a=s!==s&&o!==o;if(!a&&s!==o){l++;r[c]=o}}}else{if(r!==f){r=f={};p=0;l++}e=0;for(i in n){if(u.call(n,i)){e++;o=n[i];s=r[i];if(i in r){a=s!==s&&o!==o;if(!a&&s!==o){l++;r[i]=o}}else{p++;r[i]=o;l++}}}if(p>e){l++;for(i in r){if(!u.call(n,i)){p--;delete r[i]}}}}return l}function g(){if(d){d=false;e(n,n,i)}else{e(n,a,i)}if(s){if(!U(n)){a=n}else if(x(n)){a=new Array(n.length);for(var t=0;t<n.length;t++){a[t]=n[t]}}else{a={};for(var r in n){if(u.call(n,r)){a[r]=n[r]}}}}}return this.$watch(c,g)},$digest:function(){var r,o,u,l,c,h,f,g=t,b,w,x=p.length?d:this,S=[],T,E;y("$digest");s.$$checkUrlChange();if(this===d&&n!==null){s.defer.cancel(n);C()}i=null;do{f=false;w=x;for(var M=0;M<p.length;M++){try{E=p[M];l=E.fn;l(E.scope,E.locals)}catch(t){a(t)}i=null}p.length=0;t:do{if(h=!w.$$suspended&&w.$$watchers){h.$$digestWatchIndex=h.length;while(h.$$digestWatchIndex--){try{r=h[h.$$digestWatchIndex];if(r){c=r.get;if((o=c(w))!==(u=r.last)&&!(r.eq?vt(o,u):I(o)&&I(u))){f=true;i=r;r.last=r.eq?dt(o,null):o;l=r.fn;l(o,u===O?o:u,w);if(g<5){T=4-g;if(!S[T])S[T]=[];S[T].push({msg:q(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:o,oldVal:u})}}else if(r===i){f=false;break t}}}catch(t){a(t)}}}if(!(b=!w.$$suspended&&w.$$watchersCount&&w.$$childHead||w!==x&&w.$$nextSibling)){while(w!==x&&!(b=w.$$nextSibling)){w=w.$parent}}}while(w=b);if((f||p.length)&&!g--){_();throw e("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",t,S)}}while(f||p.length);_();while(m<v.length){try{v[m++]()}catch(t){a(t)}}v.length=m=0;s.$$checkUrlChange()},$suspend:function(){this.$$suspended=true},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=false},$destroy:function(){if(this.$$destroyed)return;var t=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===d){s.$$applicationDestroyed()}b(this,-this.$$watchersCount);for(var e in this.$$listenerCount){w(this,this.$$listenerCount[e],e)}if(t&&t.$$childHead===this)t.$$childHead=this.$$nextSibling;if(t&&t.$$childTail===this)t.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=D;this.$on=this.$watch=this.$watchGroup=function(){return D};this.$$listeners={};this.$$nextSibling=null;c(this)},$eval:function(t,e){return o(t)(this,e)},$evalAsync:function(t,e){if(!d.$$phase&&!p.length){s.defer(function(){if(p.length){d.$digest()}})}p.push({scope:this,fn:o(t),locals:e})},$$postDigest:function(t){v.push(t)},$apply:function(t){try{y("$apply");try{return this.$eval(t)}finally{_()}}catch(t){a(t)}finally{try{d.$digest()}catch(t){a(t);throw t}}},$applyAsync:function(t){var e=this;if(t){g.push(i)}t=o(t);T();function i(){e.$eval(t)}},$on:function(t,e){var i=this.$$listeners[t];if(!i){this.$$listeners[t]=i=[]}i.push(e);var n=this;do{if(!n.$$listenerCount[t]){n.$$listenerCount[t]=0}n.$$listenerCount[t]++}while(n=n.$parent);var r=this;return function(){var n=i.indexOf(e);if(n!==-1){delete i[n];w(r,1,t)}}},$emit:function(t,e){var i=[],n,r=this,o=false,s={name:t,targetScope:r,stopPropagation:function(){o=true},preventDefault:function(){s.defaultPrevented=true},defaultPrevented:false},u=yt([s],arguments,1),l,c;do{n=r.$$listeners[t]||i;s.currentScope=r;for(l=0,c=n.length;l<c;l++){if(!n[l]){n.splice(l,1);l--;c--;continue}try{n[l].apply(null,u)}catch(t){a(t)}}if(o){break}r=r.$parent}while(r);s.currentScope=null;return s},$broadcast:function(t,e){var i=this,n=i,r=i,o={name:t,targetScope:i,preventDefault:function(){o.defaultPrevented=true},defaultPrevented:false};if(!i.$$listenerCount[t])return o;var s=yt([o],arguments,1),u,l,c;while(n=r){o.currentScope=n;u=n.$$listeners[t]||[];for(l=0,c=u.length;l<c;l++){if(!u[l]){u.splice(l,1);l--;c--;continue}try{u[l].apply(null,s)}catch(t){a(t)}}if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==i&&n.$$nextSibling)){while(n!==i&&!(r=n.$$nextSibling)){n=n.$parent}}}o.currentScope=null;return o}};var d=new f;var p=d.$$asyncQueue=[];var v=d.$$postDigestQueue=[];var g=d.$$applyAsyncQueue=[];var m=0;return d;function y(t){if(d.$$phase){throw e("inprog","{0} already in progress",d.$$phase)}d.$$phase=t}function _(){d.$$phase=null}function b(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function w(t,e,i){do{t.$$listenerCount[i]-=e;if(t.$$listenerCount[i]===0){delete t.$$listenerCount[i]}}while(t=t.$parent)}function O(){}function C(){while(g.length){try{g.shift()()}catch(t){a(t)}}n=null}function T(){if(n===null){n=s.defer(function(){d.$apply(C)})}}}]}function Ir(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){if(G(e)){t=e;return this}return t};this.imgSrcSanitizationWhitelist=function(t){if(G(t)){e=t;return this}return e};this.$get=function(){return function i(n,r){var a=r?e:t;var o=Zr(n&&n.trim()).href;if(o!==""&&!o.match(a)){return"unsafe:"+o}return n}}}var Pr=a("$sce");var Dr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};var Nr=/_([a-z])/g;function $r(t){return t.replace(Nr,_e)}function Lr(t){if(t==="self"){return t}else if(W(t)){if(t.indexOf("***")>-1){throw Pr("iwcard","Illegal sequence *** in string matcher.  String: {0}",t)}t=st(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+t+"$")}else if(K(t)){return new RegExp("^"+t.source+"$")}else{throw Pr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function Fr(t){var e=[];if(G(t)){S(t,function(t){e.push(Lr(t))})}return e}function Gr(){this.SCE_CONTEXTS=Dr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){if(arguments.length){t=Fr(e)}return t};this.resourceUrlBlacklist=function(t){if(arguments.length){e=Fr(t)}return e};this.$get=["$injector","$$sanitizeUri",function(i,n){var r=function t(e){throw Pr("unsafe","Attempting to use an unsafe value in a safe context.")};if(i.has("$sanitize")){r=i.get("$sanitize")}function a(t,e){if(t==="self"){return Qr(e)||Jr(e)}else{return!!t.exec(e.href)}}function o(i){var n=Zr(i.toString());var r,o,s=false;for(r=0,o=t.length;r<o;r++){if(a(t[r],n)){s=true;break}}if(s){for(r=0,o=e.length;r<o;r++){if(a(e[r],n)){s=false;break}}}return s}function s(t){var e=function t(e){this.$$unwrapTrustedValue=function(){return e}};if(t){e.prototype=new t}e.prototype.valueOf=function t(){return this.$$unwrapTrustedValue()};e.prototype.toString=function t(){return this.$$unwrapTrustedValue().toString()};return e}var u=s(),l={};l[Dr.HTML]=s(u);l[Dr.CSS]=s(u);l[Dr.MEDIA_URL]=s(u);l[Dr.URL]=s(l[Dr.MEDIA_URL]);l[Dr.JS]=s(u);l[Dr.RESOURCE_URL]=s(l[Dr.URL]);function c(t,e){var i=l.hasOwnProperty(t)?l[t]:null;if(!i){throw Pr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e)}if(e===null||F(e)||e===""){return e}if(typeof e!=="string"){throw Pr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t)}return new i(e)}function h(t){if(t instanceof u){return t.$$unwrapTrustedValue()}else{return t}}function f(t,e){if(e===null||F(e)||e===""){return e}var i=l.hasOwnProperty(t)?l[t]:null;if(i&&e instanceof i){return e.$$unwrapTrustedValue()}if(q(e.$$unwrapTrustedValue)){e=e.$$unwrapTrustedValue()}if(t===Dr.MEDIA_URL||t===Dr.URL){return n(e,t===Dr.MEDIA_URL)}else if(t===Dr.RESOURCE_URL){if(o(e)){return e}else{throw Pr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}}else if(t===Dr.HTML){return r(e)}throw Pr("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:c,getTrusted:f,valueOf:h}}]}function Ur(){var t=true;this.enabled=function(e){if(arguments.length){t=!!e}return t};this.$get=["$parse","$sceDelegate",function(e,i){if(t&&h<8){throw Pr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var n=oe(Dr);n.isEnabled=function(){return t};n.trustAs=i.trustAs;n.getTrusted=i.getTrusted;n.valueOf=i.valueOf;if(!t){n.trustAs=n.getTrusted=function(t,e){return e};n.valueOf=N}n.parseAs=function t(i,r){var a=e(r);if(a.literal&&a.constant){return a}else{return e(r,function(t){return n.getTrusted(i,t)})}};var r=n.parseAs,a=n.getTrusted,o=n.trustAs;S(Dr,function(t,e){var i=l(e);n[$r("parse_as_"+i)]=function(e){return r(t,e)};n[$r("get_trusted_"+i)]=function(e){return a(t,e)};n[$r("trust_as_"+i)]=function(e){return o(t,e)}});return n}]}function Hr(){this.$get=["$window","$document",function(t,e){var i={},n=t.nw&&t.nw.process,r=!n&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),a=!r&&t.history&&t.history.pushState,o=A((/android (\d+)/.exec(l((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},c=u.body&&u.body.style,f=false,d=false;if(c){f=!!("transition"in c||"webkitTransition"in c);d=!!("animation"in c||"webkitAnimation"in c)}return{history:!!(a&&!(o<4)&&!s),hasEvent:function(t){if(t==="input"&&h)return false;if(F(i[t])){var e=u.createElement("div");i[t]="on"+t in e}return i[t]},csp:gt(),transitions:f,animations:d,android:o}}]}var Wr=a("$templateRequest");function Yr(){var t;this.httpOptions=function(e){if(e){t=e;return this}return t};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,i,n,r,a){function o(s,u){o.totalPendingRequests++;if(!W(s)||F(i.get(s))){s=a.getTrustedResourceUrl(s)}var l=n.defaults&&n.defaults.transformResponse;if(V(l)){l=l.filter(function(t){return t!==yn})}else if(l===yn){l=null}return n.get(s,k({cache:i,transformResponse:l},t)).finally(function(){o.totalPendingRequests--}).then(function(t){return i.put(s,t.data)},c);function c(t){if(!u){t=Wr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText);e(t)}return r.reject(t)}}o.totalPendingRequests=0;return o}]}function zr(){this.$get=["$rootScope","$browser","$location",function(t,e,i){var n={};n.findBindings=function(t,e,i){var n=t.getElementsByClassName("ng-binding");var r=[];S(n,function(t){var n=b.element(t).data("$binding");if(n){S(n,function(n){if(i){var a=new RegExp("(^|\\s)"+st(e)+"(\\s|\\||$)");if(a.test(n)){r.push(t)}}else{if(n.indexOf(e)!==-1){r.push(t)}}})}});return r};n.findModels=function(t,e,i){var n=["ng-","data-ng-","ng\\:"];for(var r=0;r<n.length;++r){var a=i?"=":"*=";var o="["+n[r]+"model"+a+'"'+e+'"]';var s=t.querySelectorAll(o);if(s.length){return s}}};n.getLocation=function(){return i.url()};n.setLocation=function(e){if(e!==i.url()){i.url(e);t.$digest()}};n.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)};return n}]}var Vr=a("$timeout");function Br(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,i,n,r){var a={};function o(o,s,u){if(!q(o)){u=s;s=o;o=D}var l=_t(arguments,3),c=G(u)&&!u,h=(c?n:i).defer(),f=h.promise,d;d=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(t){h.reject(t);r(t)}finally{delete a[f.$$timeoutId]}if(!c)t.$apply()},s);f.$$timeoutId=d;a[d]=h;return f}o.cancel=function(t){if(!t)return false;if(!t.hasOwnProperty("$$timeoutId")){throw Vr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.")}if(!a.hasOwnProperty(t.$$timeoutId))return false;var i=t.$$timeoutId;var n=a[i];kr(n.promise);n.reject("canceled");delete a[i];return e.defer.cancel(i)};return o}]}var qr=e.document.createElement("a");var Kr=Zr(e.location.href);var Xr;function Zr(t){if(!W(t))return t;var e=t;if(h){qr.setAttribute("href",e);e=qr.href}qr.setAttribute("href",e);return{href:qr.href,protocol:qr.protocol?qr.protocol.replace(/:$/,""):"",host:qr.host,search:qr.search?qr.search.replace(/^\?/,""):"",hash:qr.hash?qr.hash.replace(/^#/,""):"",hostname:qr.hostname,port:qr.port,pathname:qr.pathname.charAt(0)==="/"?qr.pathname:"/"+qr.pathname}}function Qr(t){return ea(t,Kr)}function Jr(t){return ea(t,ia())}function ta(t){var e=[Kr].concat(t.map(Zr));return function t(i){var n=Zr(i);return e.some(ea.bind(null,n))}}function ea(t,e){t=Zr(t);e=Zr(e);return t.protocol===e.protocol&&t.host===e.host}function ia(){if(e.document.baseURI){return e.document.baseURI}if(!Xr){Xr=e.document.createElement("a");Xr.href=".";Xr=Xr.cloneNode(false)}return Xr.href}function na(){this.$get=$(e)}function ra(t){var e=t[0]||{};var i={};var n="";function r(t){try{return t.cookie||""}catch(t){return""}}function a(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,o,s,u,l;var c=r(e);if(c!==n){n=c;t=n.split("; ");i={};for(s=0;s<t.length;s++){o=t[s];u=o.indexOf("=");if(u>0){l=a(o.substring(0,u));if(F(i[l])){i[l]=a(o.substring(u+1))}}}}return i}}ra.$inject=["$document"];function aa(){this.$get=ra}oa.$inject=["$provide"];function oa(t){var e="Filter";function i(n,r){if(U(n)){var a={};S(n,function(t,e){a[e]=i(e,t)});return a}else{return t.factory(n+e,r)}}this.register=i;this.$get=["$injector",function(t){return function(i){return t.get(i+e)}}];i("currency",pa);i("date",Aa);i("filter",sa);i("json",Ia);i("limitTo",Na);i("lowercase",Pa);i("number",va);i("orderBy",La);i("uppercase",Da)}function sa(){return function(t,e,i,n){if(!x(t)){if(t==null){return t}else{throw a("filter")("notarray","Expected array but received: {0}",t)}}n=n||"$";var r=ca(e);var o;var s;switch(r){case"function":o=e;break;case"boolean":case"null":case"number":case"string":s=true;case"object":o=ua(e,i,n,s);break;default:return t}return Array.prototype.filter.call(t,o)}}function ua(t,e,i,n){var r=U(t)&&i in t;var a;if(e===true){e=vt}else if(!q(e)){e=function(t,e){if(F(t)){return false}if(t===null||e===null){return t===e}if(U(e)||U(t)&&!L(t)){return false}t=l(""+t);e=l(""+e);return t.indexOf(e)!==-1}}a=function(a){if(r&&!U(a)){return la(a,t[i],e,i,false)}return la(a,t,e,i,n)};return a}function la(t,e,i,n,r,a){var o=ca(t);var s=ca(e);if(s==="string"&&e.charAt(0)==="!"){return!la(t,e.substring(1),i,n,r)}else if(V(t)){return t.some(function(t){return la(t,e,i,n,r)})}switch(o){case"object":var u;if(r){for(u in t){if(u.charAt&&u.charAt(0)!=="$"&&la(t[u],e,i,n,true)){return true}}return a?false:la(t,e,i,n,false)}else if(s==="object"){for(u in e){var l=e[u];if(q(l)||F(l)){continue}var c=u===n;var h=c?t:t[u];if(!la(h,l,i,n,c,c)){return false}}return true}else{return i(t,e)}case"function":return false;default:return i(t,e)}}function ca(t){return t===null?"null":typeof t}var ha=22;var fa=".";var da="0";pa.$inject=["$locale"];function pa(t){var e=t.NUMBER_FORMATS;return function(t,i,n){if(F(i)){i=e.CURRENCY_SYM}if(F(n)){n=e.PATTERNS[1].maxFrac}var r=!i?/\s*\u00A4\s*/g:/\u00A4/g;return t==null?t:ya(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,n).replace(r,i)}}va.$inject=["$locale"];function va(t){var e=t.NUMBER_FORMATS;return function(t,i){return t==null?t:ya(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,i)}}function ga(t){var e=0,i,n;var r,a,o;if((n=t.indexOf(fa))>-1){t=t.replace(fa,"")}if((r=t.search(/e/i))>0){if(n<0)n=r;n+=+t.slice(r+1);t=t.substring(0,r)}else if(n<0){n=t.length}for(r=0;t.charAt(r)===da;r++){}if(r===(o=t.length)){i=[0];n=1}else{o--;while(t.charAt(o)===da)o--;n-=r;i=[];for(a=0;r<=o;r++,a++){i[a]=+t.charAt(r)}}if(n>ha){i=i.splice(0,ha-1);e=n-1;n=1}return{d:i,e:e,i:n}}function ma(t,e,i,n){var r=t.d;var a=r.length-t.i;e=F(e)?Math.min(Math.max(i,a),n):+e;var o=e+t.i;var s=r[o];if(o>0){r.splice(Math.max(t.i,o));for(var u=o;u<r.length;u++){r[u]=0}}else{a=Math.max(0,a);t.i=1;r.length=Math.max(1,o=e+1);r[0]=0;for(var l=1;l<o;l++)r[l]=0}if(s>=5){if(o-1<0){for(var c=0;c>o;c--){r.unshift(0);t.i++}r.unshift(1);t.i++}else{r[o-1]++}}for(;a<Math.max(0,e);a++)r.push(0);var h=r.reduceRight(function(t,e,i,n){e=e+t;n[i]=e%10;return Math.floor(e/10)},0);if(h){r.unshift(h);t.i++}}function ya(t,e,i,n,r){if(!(W(t)||Y(t))||isNaN(t))return"";var a=!isFinite(t);var o=false;var s=Math.abs(t)+"",u="",l;if(a){u="∞"}else{l=ga(s);ma(l,r,e.minFrac,e.maxFrac);var c=l.d;var h=l.i;var f=l.e;var d=[];o=c.reduce(function(t,e){return t&&!e},true);while(h<0){c.unshift(0);h++}if(h>0){d=c.splice(h,c.length)}else{d=c;c=[0]}var p=[];if(c.length>=e.lgSize){p.unshift(c.splice(-e.lgSize,c.length).join(""))}while(c.length>e.gSize){p.unshift(c.splice(-e.gSize,c.length).join(""))}if(c.length){p.unshift(c.join(""))}u=p.join(i);if(d.length){u+=n+d.join("")}if(f){u+="e+"+f}}if(t<0&&!o){return e.negPre+u+e.negSuf}else{return e.posPre+u+e.posSuf}}function _a(t,e,i,n){var r="";if(t<0||n&&t<=0){if(n){t=-t+1}else{t=-t;r="-"}}t=""+t;while(t.length<e)t=da+t;if(i){t=t.substr(t.length-e)}return r+t}function ba(t,e,i,n,r){i=i||0;return function(a){var o=a["get"+t]();if(i>0||o>-i){o+=i}if(o===0&&i===-12)o=12;return _a(o,e,n,r)}}function wa(t,e,i){return function(n,r){var a=n["get"+t]();var o=(i?"STANDALONE":"")+(e?"SHORT":"");var s=c(o+t);return r[s][a]}}function Oa(t,e,i){var n=-1*i;var r=n>=0?"+":"";r+=_a(Math[n>0?"floor":"ceil"](n/60),2)+_a(Math.abs(n%60),2);return r}function xa(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Sa(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Ca(t){return function(e){var i=xa(e.getFullYear()),n=Sa(e);var r=+n-+i,a=1+Math.round(r/6048e5);return _a(a,t)}}function Ta(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Ea(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Ma(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}var ja={yyyy:ba("FullYear",4,0,false,true),yy:ba("FullYear",2,0,true,true),y:ba("FullYear",1,0,false,true),MMMM:wa("Month"),MMM:wa("Month",true),MM:ba("Month",2,1),M:ba("Month",1,1),LLLL:wa("Month",false,true),dd:ba("Date",2),d:ba("Date",1),HH:ba("Hours",2),H:ba("Hours",1),hh:ba("Hours",2,-12),h:ba("Hours",1,-12),mm:ba("Minutes",2),m:ba("Minutes",1),ss:ba("Seconds",2),s:ba("Seconds",1),sss:ba("Milliseconds",3),EEEE:wa("Day"),EEE:wa("Day",true),a:Ta,Z:Oa,ww:Ca(2),w:Ca(1),G:Ea,GG:Ea,GGG:Ea,GGGG:Ma};var ka=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ra=/^-?\d+$/;Aa.$inject=["$locale"];function Aa(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function i(t){var i;if(i=t.match(e)){var n=new Date(0),r=0,a=0,o=i[8]?n.setUTCFullYear:n.setFullYear,s=i[8]?n.setUTCHours:n.setHours;if(i[9]){r=A(i[9]+i[10]);a=A(i[9]+i[11])}o.call(n,A(i[1]),A(i[2])-1,A(i[3]));var u=A(i[4]||0)-r;var l=A(i[5]||0)-a;var c=A(i[6]||0);var h=Math.round(parseFloat("0."+(i[7]||0))*1e3);s.call(n,u,l,c,h);return n}return t}return function(e,n,r){var a="",o=[],s,u;n=n||"mediumDate";n=t.DATETIME_FORMATS[n]||n;if(W(e)){e=Ra.test(e)?A(e):i(e)}if(Y(e)){e=new Date(e)}if(!z(e)||!isFinite(e.getTime())){return e}while(n){u=ka.exec(n);if(u){o=yt(o,u,1);n=o.pop()}else{o.push(n);n=null}}var l=e.getTimezoneOffset();if(r){l=Ct(r,l);e=Et(e,r,true)}S(o,function(i){s=ja[i];a+=s?s(e,t.DATETIME_FORMATS,l):i==="''"?"'":i.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return a}}function Ia(){return function(t,e){if(F(e)){e=2}return Ot(t,e)}}var Pa=$(l);var Da=$(c);function Na(){return function(t,e,i){if(Math.abs(Number(e))===Infinity){e=Number(e)}else{e=A(e)}if(I(e))return t;if(Y(t))t=t.toString();if(!x(t))return t;i=!i||isNaN(i)?0:A(i);i=i<0?Math.max(0,t.length+i):i;if(e>=0){return $a(t,i,i+e)}else{if(i===0){return $a(t,e,t.length)}else{return $a(t,Math.max(0,i+e),i)}}}}function $a(t,e,i){if(W(t))return t.slice(e,i);return p.call(t,e,i)}La.$inject=["$parse"];function La(t){return function(t,i,n,s){if(t==null)return t;if(!x(t)){throw a("orderBy")("notarray","Expected array but received: {0}",t)}if(!V(i)){i=[i]}if(i.length===0){i=["+"]}var u=e(i);var l=n?-1:1;var c=q(s)?s:o;var h=Array.prototype.map.call(t,f);h.sort(d);t=h.map(function(t){return t.value});return t;function f(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:u.map(function(i){return r(i.get(t),e)})}}function d(t,e){for(var i=0,n=u.length;i<n;i++){var r=c(t.predicateValues[i],e.predicateValues[i]);if(r){return r*u[i].descending*l}}return(c(t.tieBreaker,e.tieBreaker)||o(t.tieBreaker,e.tieBreaker))*l}};function e(e){return e.map(function(e){var i=1,n=N;if(q(e)){n=e}else if(W(e)){if(e.charAt(0)==="+"||e.charAt(0)==="-"){i=e.charAt(0)==="-"?-1:1;e=e.substring(1)}if(e!==""){n=t(e);if(n.constant){var r=n();n=function(t){return t[r]}}}}return{get:n,descending:i}})}function i(t){switch(typeof t){case"number":case"boolean":case"string":return true;default:return false}}function n(t){if(q(t.valueOf)){t=t.valueOf();if(i(t))return t}if(L(t)){t=t.toString();if(i(t))return t}return t}function r(t,e){var i=typeof t;if(t===null){i="null"}else if(i==="object"){t=n(t)}return{value:t,type:i,index:e}}function o(t,e){var i=0;var n=t.type;var r=e.type;if(n===r){var a=t.value;var o=e.value;if(n==="string"){a=a.toLowerCase();o=o.toLowerCase()}else if(n==="object"){if(U(a))a=t.index;if(U(o))o=e.index}if(a!==o){i=a<o?-1:1}}else{i=n==="undefined"?1:r==="undefined"?-1:n==="null"?1:r==="null"?-1:n<r?-1:1}return i}}function Fa(t){if(q(t)){t={link:t}}t.restrict=t.restrict||"AC";return $(t)}var Ga=$({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref){return function(t,e){if(e[0].nodeName.toLowerCase()!=="a")return;var i=m.call(e.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";e.on("click",function(t){if(!e.attr(i)){t.preventDefault()}})}}}});var Ua={};S(Je,function(t,e){if(t==="multiple")return;function i(t,i,r){t.$watch(r[n],function t(i){r.$set(e,!!i)})}var n=Ki("ng-"+e);var r=i;if(t==="checked"){r=function(t,e,r){if(r.ngModel!==r[n]){i(t,e,r)}}}Ua[n]=function(){return{restrict:"A",priority:100,link:r}}});S(ei,function(t,e){Ua[e]=function(){return{priority:100,link:function(t,i,n){if(e==="ngPattern"&&n.ngPattern.charAt(0)==="/"){var r=n.ngPattern.match(o);if(r){n.$set("ngPattern",new RegExp(r[1],r[2]));return}}t.$watch(n[e],function t(i){n.$set(e,i)})}}}});S(["src","srcset","href"],function(t){var e=Ki("ng-"+t);Ua[e]=function(){return{priority:99,link:function(i,n,r){var a=t,o=t;if(t==="href"&&m.call(n.prop("href"))==="[object SVGAnimatedString]"){o="xlinkHref";r.$attr[o]="xlink:href";a=null}r.$observe(e,function(e){if(!e){if(t==="href"){r.$set(o,null)}return}r.$set(o,e);if(h&&a)n.prop(a,r[o])})}}}});var Ha={$addControl:D,$$renameControl:za,$removeControl:D,$setValidity:D,$setDirty:D,$setPristine:D,$setSubmitted:D,$$setSubmitted:D},Wa="ng-pending",Ya="ng-submitted";function za(t,e){t.$name=e}Va.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function Va(t,e,i,n,r){this.$$controls=[];this.$error={};this.$$success={};this.$pending=undefined;this.$name=r(e.name||e.ngForm||"")(i);this.$dirty=false;this.$pristine=true;this.$valid=true;this.$invalid=false;this.$submitted=false;this.$$parentForm=Ha;this.$$element=t;this.$$animate=n;Xa(this)}Va.prototype={$rollbackViewValue:function(){S(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){S(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){qt(t.$name,"input");this.$$controls.push(t);if(t.$name){this[t.$name]=t}t.$$parentForm=this},$$renameControl:function(t,e){var i=t.$name;if(this[i]===t){delete this[i]}this[e]=t;t.$name=e},$removeControl:function(t){if(t.$name&&this[t.$name]===t){delete this[t.$name]}S(this.$pending,function(e,i){this.$setValidity(i,null,t)},this);S(this.$error,function(e,i){this.$setValidity(i,null,t)},this);S(this.$$success,function(e,i){this.$setValidity(i,null,t)},this);ft(this.$$controls,t);t.$$parentForm=Ha},$setDirty:function(){this.$$animate.removeClass(this.$$element,Jo);this.$$animate.addClass(this.$$element,ts);this.$dirty=true;this.$pristine=false;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Jo,ts+" "+Ya);this.$dirty=false;this.$pristine=true;this.$submitted=false;S(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){S(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){var t=this;while(t.$$parentForm&&t.$$parentForm!==Ha){t=t.$$parentForm}t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Ya);this.$submitted=true;S(this.$$controls,function(t){if(t.$$setSubmitted){t.$$setSubmitted()}})}};Za({clazz:Va,set:function(t,e,i){var n=t[e];if(!n){t[e]=[i]}else{var r=n.indexOf(i);if(r===-1){n.push(i)}}},unset:function(t,e,i){var n=t[e];if(!n){return}ft(n,i);if(n.length===0){delete t[e]}}});var Ba=function(t){return["$timeout","$parse",function(e,i){var n={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Va,compile:function i(n,a){n.addClass(Jo).addClass(Zo);var o=a.name?"name":t&&a.ngForm?"ngForm":false;return{pre:function t(i,n,a,s){var u=s[0];if(!("action"in a)){var l=function(t){i.$apply(function(){u.$commitViewValue();u.$setSubmitted()});t.preventDefault()};n[0].addEventListener("submit",l);n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",l)},0,false)})}var c=s[1]||u.$$parentForm;c.$addControl(u);var h=o?r(u.$name):D;if(o){h(i,u);a.$observe(o,function(t){if(u.$name===t)return;h(i,undefined);u.$$parentForm.$$renameControl(u,t);h=r(u.$name);h(i,u)})}n.on("$destroy",function(){u.$$parentForm.$removeControl(u);h(i,undefined);k(u,Ha)})}}}};return n;function r(t){if(t===""){return i('this[""]').assign}return i(t).assign||D}}]};var qa=Ba();var Ka=Ba(true);function Xa(t){t.$$classCache={};t.$$classCache[Qo]=!(t.$$classCache[Zo]=t.$$element.hasClass(Zo))}function Za(t){var e=t.clazz,i=t.set,n=t.unset;e.prototype.$setValidity=function(t,e,u){if(F(e)){r(this,"$pending",t,u)}else{a(this,"$pending",t,u)}if(!et(e)){n(this.$error,t,u);n(this.$$success,t,u)}else{if(e){n(this.$error,t,u);i(this.$$success,t,u)}else{i(this.$error,t,u);n(this.$$success,t,u)}}if(this.$pending){o(this,Wa,true);this.$valid=this.$invalid=undefined;s(this,"",null)}else{o(this,Wa,false);this.$valid=Qa(this.$error);this.$invalid=!this.$valid;s(this,"",this.$valid)}var l;if(this.$pending&&this.$pending[t]){l=undefined}else if(this.$error[t]){l=false}else if(this.$$success[t]){l=true}else{l=null}s(this,t,l);this.$$parentForm.$setValidity(t,l,this)};function r(t,e,n,r){if(!t[e]){t[e]={}}i(t[e],n,r)}function a(t,e,i,r){if(t[e]){n(t[e],i,r)}if(Qa(t[e])){t[e]=undefined}}function o(t,e,i){if(i&&!t.$$classCache[e]){t.$$animate.addClass(t.$$element,e);t.$$classCache[e]=true}else if(!i&&t.$$classCache[e]){t.$$animate.removeClass(t.$$element,e);t.$$classCache[e]=false}}function s(t,e,i){e=e?"-"+Wt(e,"-"):"";o(t,Zo+e,i===true);o(t,Qo+e,i===false)}}function Qa(t){if(t){for(var e in t){if(t.hasOwnProperty(e)){return false}}}return true}var Ja=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;var to=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var eo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;var io=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var no=/^(\d{4,})-(\d{2})-(\d{2})$/;var ro=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var ao=/^(\d{4,})-W(\d\d)$/;var oo=/^(\d{4,})-(\d\d)$/;var so=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var uo="keydown wheel mousedown";var lo=Zt();S("date,datetime-local,month,time,week".split(","),function(t){lo[t]=true});var co={text:fo,date:mo("date",no,go(no,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mo("datetimelocal",ro,go(ro,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:mo("time",so,go(so,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mo("week",ao,vo,"yyyy-Www"),month:mo("month",oo,go(oo,["yyyy","MM"]),"yyyy-MM"),number:So,url:To,email:Eo,radio:Mo,range:Co,checkbox:ko,hidden:D,button:D,submit:D,reset:D,file:D};function ho(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function fo(t,e,i,n,r,a){po(t,e,i,n,r,a);ho(n)}function po(t,e,i,n,r,a){var o=l(e[0].type);if(!r.android){var u=false;e.on("compositionstart",function(){u=true});e.on("compositionupdate",function(t){if(F(t.data)||t.data===""){u=false}});e.on("compositionend",function(){u=false;h()})}var c;var h=function(t){if(c){a.defer.cancel(c);c=null}if(u)return;var r=e.val(),s=t&&t.type;if(o!=="password"&&(!i.ngTrim||i.ngTrim!=="false")){r=ot(r)}if(n.$viewValue!==r||r===""&&n.$$hasNativeValidators){n.$setViewValue(r,s)}};if(r.hasEvent("input")){e.on("input",h)}else{var f=function(t,e,i){if(!c){c=a.defer(function(){c=null;if(!e||e.value!==i){h(t)}})}};e.on("keydown",function(t){var e=t.keyCode;if(e===91||15<e&&e<19||37<=e&&e<=40)return;f(t,this,this.value)});if(r.hasEvent("paste")){e.on("paste cut drop",f)}}e.on("change",h);if(lo[o]&&n.$$hasNativeValidators&&o===i.type){e.on(uo,function(t){if(!c){var e=this[s];var i=e.badInput;var n=e.typeMismatch;c=a.defer(function(){c=null;if(e.badInput!==i||e.typeMismatch!==n){h(t)}})}})}n.$render=function(){var t=n.$isEmpty(n.$viewValue)?"":n.$viewValue;if(e.val()!==t){e.val(t)}}}function vo(t,e){if(z(t)){return t}if(W(t)){ao.lastIndex=0;var i=ao.exec(t);if(i){var n=+i[1],r=+i[2],a=0,o=0,s=0,u=0,l=xa(n),c=(r-1)*7;if(e){a=e.getHours();o=e.getMinutes();s=e.getSeconds();u=e.getMilliseconds()}return new Date(n,0,l.getDate()+c,a,o,s,u)}}return NaN}function go(t,e){return function(i,n){var r,a;if(z(i)){return i}if(W(i)){if(i.charAt(0)==='"'&&i.charAt(i.length-1)==='"'){i=i.substring(1,i.length-1)}if(Ja.test(i)){return new Date(i)}t.lastIndex=0;r=t.exec(i);if(r){r.shift();if(n){a={yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}}else{a={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0}}S(r,function(t,i){if(i<e.length){a[e[i]]=+t}});var o=new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,a.sss*1e3||0);if(a.yyyy<100){o.setFullYear(a.yyyy)}return o}}return NaN}}function mo(t,e,i,n){return function r(a,o,s,u,l,c,h){yo(a,o,s,u,t);po(a,o,s,u,l,c);var f;var d;u.$parsers.push(function(i){if(u.$isEmpty(i))return null;if(e.test(i)){return y(i,f)}u.$$parserName=t;return undefined});u.$formatters.push(function(t){if(t&&!z(t)){throw as("datefmt","Expected `{0}` to be a date",t)}if(g(t)){f=t;var e=u.$options.getOption("timezone");if(e){d=e;f=Et(f,e,true)}return h("date")(t,n,e)}else{f=null;d=null;return""}});if(G(s.min)||s.ngMin){var p;u.$validators.min=function(t){return!g(t)||F(p)||i(t)>=p};s.$observe("min",function(t){p=m(t);u.$validate()})}if(G(s.max)||s.ngMax){var v;u.$validators.max=function(t){return!g(t)||F(v)||i(t)<=v};s.$observe("max",function(t){v=m(t);u.$validate()})}function g(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function m(t){return G(t)&&!z(t)?y(t)||undefined:t}function y(t,e){var n=u.$options.getOption("timezone");if(d&&d!==n){e=Tt(e,Ct(d))}var r=i(t,e);if(!isNaN(r)&&n){r=Et(r,n)}return r}}}function yo(t,e,i,n,r){var a=e[0];var o=n.$$hasNativeValidators=U(a.validity);if(o){n.$parsers.push(function(t){var i=e.prop(s)||{};if(i.badInput||i.typeMismatch){n.$$parserName=r;return undefined}return t})}}function _o(t){t.$parsers.push(function(e){if(t.$isEmpty(e))return null;if(io.test(e))return parseFloat(e);t.$$parserName="number";return undefined});t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!Y(e)){throw as("numfmt","Expected `{0}` to be a number",e)}e=e.toString()}return e})}function bo(t){if(G(t)&&!Y(t)){t=parseFloat(t)}return!I(t)?t:undefined}function wo(t){return(t|0)===t}function Oo(t){var e=t.toString();var i=e.indexOf(".");if(i===-1){if(-1<t&&t<1){var n=/e-(\d+)$/.exec(e);if(n){return Number(n[1])}}return 0}return e.length-i-1}function xo(t,e,i){var n=Number(t);var r=!wo(n);var a=!wo(e);var o=!wo(i);if(r||a||o){var s=r?Oo(n):0;var u=a?Oo(e):0;var l=o?Oo(i):0;var c=Math.max(s,u,l);var h=Math.pow(10,c);n=n*h;e=e*h;i=i*h;if(r)n=Math.round(n);if(a)e=Math.round(e);if(o)i=Math.round(i)}return(n-e)%i===0}function So(t,e,i,n,r,a){yo(t,e,i,n,"number");_o(n);po(t,e,i,n,r,a);var o;var s;if(G(i.min)||i.ngMin){n.$validators.min=function(t,e){return n.$isEmpty(e)||F(o)||e>=o};i.$observe("min",function(t){o=bo(t);n.$validate()})}if(G(i.max)||i.ngMax){n.$validators.max=function(t,e){return n.$isEmpty(e)||F(s)||e<=s};i.$observe("max",function(t){s=bo(t);n.$validate()})}if(G(i.step)||i.ngStep){var u;n.$validators.step=function(t,e){return n.$isEmpty(e)||F(u)||xo(e,o||0,u)};i.$observe("step",function(t){u=bo(t);n.$validate()})}}function Co(t,e,i,n,r,a){yo(t,e,i,n,"range");_o(n);po(t,e,i,n,r,a);var o=n.$$hasNativeValidators&&e[0].type==="range",s=o?0:undefined,u=o?100:undefined,l=o?1:undefined,c=e[0].validity,h=G(i.min),f=G(i.max),d=G(i.step);var p=n.$render;n.$render=o&&G(c.rangeUnderflow)&&G(c.rangeOverflow)?function t(){p();n.$setViewValue(e.val())}:p;if(h){n.$validators.min=o?function t(){return true}:function t(e,i){return n.$isEmpty(i)||F(s)||i>=s};v("min",g)}if(f){n.$validators.max=o?function t(){return true}:function t(e,i){return n.$isEmpty(i)||F(u)||i<=u};v("max",m)}if(d){n.$validators.step=o?function t(){return!c.stepMismatch}:function t(e,i){return n.$isEmpty(i)||F(l)||xo(i,s||0,l)};v("step",y)}function v(t,n){e.attr(t,i[t]);i.$observe(t,n)}function g(t){s=bo(t);if(I(n.$modelValue)){return}if(o){var i=e.val();if(s>i){i=s;e.val(i)}n.$setViewValue(i)}else{n.$validate()}}function m(t){u=bo(t);if(I(n.$modelValue)){return}if(o){var i=e.val();if(u<i){e.val(u);i=u<s?s:u}n.$setViewValue(i)}else{n.$validate()}}function y(t){l=bo(t);if(I(n.$modelValue)){return}if(o&&n.$viewValue!==e.val()){n.$setViewValue(e.val())}else{n.$validate()}}}function To(t,e,i,n,r,a){po(t,e,i,n,r,a);ho(n);n.$validators.url=function(t,e){var i=t||e;return n.$isEmpty(i)||to.test(i)}}function Eo(t,e,i,n,r,a){po(t,e,i,n,r,a);ho(n);n.$validators.email=function(t,e){var i=t||e;return n.$isEmpty(i)||eo.test(i)}}function Mo(t,e,i,n){var r=!i.ngTrim||ot(i.ngTrim)!=="false";if(F(i.name)){e.attr("name",E())}var a=function(t){var a;if(e[0].checked){a=i.value;if(r){a=ot(a)}n.$setViewValue(a,t&&t.type)}};e.on("change",a);n.$render=function(){var t=i.value;if(r){t=ot(t)}e[0].checked=t===n.$viewValue};i.$observe("value",n.$render)}function jo(t,e,i,n,r){var a;if(G(n)){a=t(n);if(!a.constant){throw as("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",i,n)}return a(e)}return r}function ko(t,e,i,n,r,a,o,s){var u=jo(s,t,"ngTrueValue",i.ngTrueValue,true);var l=jo(s,t,"ngFalseValue",i.ngFalseValue,false);var c=function(t){n.$setViewValue(e[0].checked,t&&t.type)};e.on("change",c);n.$render=function(){e[0].checked=n.$viewValue};n.$isEmpty=function(t){return t===false};n.$formatters.push(function(t){return vt(t,u)});n.$parsers.push(function(t){return t?u:l})}var Ro=["$browser","$sniffer","$filter","$parse",function(t,e,i,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,a,o,s){if(s[0]){(co[l(o.type)]||co.text)(r,a,o,s[0],e,t,i,n)}}}}}];var Ao=/^(true|false|\d+)$/;var Io=function(){function t(t,e,i){var n=G(i)?i:h===9?"":null;t.prop("value",n);e.$set("value",i)}return{restrict:"A",priority:100,compile:function(e,i){if(Ao.test(i.ngValue)){return function e(i,n,r){var a=i.$eval(r.ngValue);t(n,r,a)}}else{return function e(i,n,r){i.$watch(r.ngValue,function e(i){t(n,r,i)})}}}}};var Po=["$compile",function(t){return{restrict:"AC",compile:function e(i){t.$$addBindingClass(i);return function e(i,n,r){t.$$addBindingInfo(n,r.ngBind);n=n[0];i.$watch(r.ngBind,function t(e){n.textContent=Qt(e)})}}}}];var Do=["$interpolate","$compile",function(t,e){return{compile:function i(n){e.$$addBindingClass(n);return function i(n,r,a){var o=t(r.attr(a.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions);r=r[0];a.$observe("ngBindTemplate",function(t){r.textContent=F(t)?"":t})}}}}];var No=["$sce","$parse","$compile",function(t,e,i){return{restrict:"A",compile:function n(r,a){var o=e(a.ngBindHtml);var s=e(a.ngBindHtml,function e(i){return t.valueOf(i)});i.$$addBindingClass(r);return function e(n,r,a){i.$$addBindingInfo(r,a.ngBindHtml);n.$watch(s,function e(){var i=o(n);r.html(t.getTrustedHtml(i)||"")})}}}}];var $o=$({restrict:"A",require:"ngModel",link:function(t,e,i,n){n.$viewChangeListeners.push(function(){t.$eval(i.ngChange)})}});function Lo(t,e){t="ngClass"+t;var i;return["$parse",function(o){return{restrict:"AC",link:function(s,u,l){var c=u.data("$classCounts");var h=true;var f;if(!c){c=Zt();u.data("$classCounts",c)}if(t!=="ngClass"){if(!i){i=o("$index",function t(e){return e&1})}s.$watch(i,m)}s.$watch(o(l[t],a),y);function d(t){t=g(r(t),1);l.$addClass(t)}function p(t){t=g(r(t),-1);l.$removeClass(t)}function v(t,e){var i=r(t);var a=r(e);var o=n(i,a);var s=n(a,i);var u=g(o,-1);var c=g(s,1);l.$addClass(c);l.$removeClass(u)}function g(t,e){var i=[];S(t,function(t){if(e>0||c[t]){c[t]=(c[t]||0)+e;if(c[t]===+(e>0)){i.push(t)}}});return i.join(" ")}function m(t){if(t===e){d(f)}else{p(f)}h=t}function y(t){if(h===e){v(f,t)}f=t}}}}];function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var i=[];t:for(var n=0;n<t.length;n++){var r=t[n];for(var a=0;a<e.length;a++){if(r===e[a])continue t}i.push(r)}return i}function r(t){return t&&t.split(" ")}function a(t){var e=t;if(V(t)){e=t.map(a).join(" ")}else if(U(t)){e=Object.keys(t).filter(function(e){return t[e]}).join(" ")}return e}}var Fo=Lo("",true);var Go=Lo("Odd",0);var Uo=Lo("Even",1);var Ho=Fa({compile:function(t,e){e.$set("ngCloak",undefined);t.removeClass("ng-cloak")}});var Wo=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var Yo={};var zo={blur:true,focus:true};S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Ki("ng-"+t);Yo[e]=["$parse","$rootScope",function(i,n){return{restrict:"A",compile:function(r,a){var o=i(a[e]);return function e(i,r){r.on(t,function(e){var r=function(){o(i,{$event:e})};if(zo[t]&&n.$$phase){i.$evalAsync(r)}else{i.$apply(r)}})}}}}]});var Vo=["$animate","$compile",function(t,e){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function(i,n,r,a,o){var s,u,l;i.$watch(r.ngIf,function i(a){if(a){if(!u){o(function(i,a){u=a;i[i.length++]=e.$$createComment("end ngIf",r.ngIf);s={clone:i};t.enter(i,n.parent(),n)})}}else{if(l){l.remove();l=null}if(u){u.$destroy();u=null}if(s){l=Xt(s.clone);t.leave(l).done(function(t){if(t!==false)l=null});s=null}}})}}}];var Bo=["$templateRequest","$anchorScroll","$animate",function(t,e,i){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:b.noop,compile:function(n,r){var a=r.ngInclude||r.src,o=r.onload||"",s=r.autoscroll;return function(n,r,u,l,c){var h=0,f,d,p;var v=function(){if(d){d.remove();d=null}if(f){f.$destroy();f=null}if(p){i.leave(p).done(function(t){if(t!==false)d=null});d=p;p=null}};n.$watch(a,function a(u){var d=function(t){if(t!==false&&G(s)&&(!s||n.$eval(s))){e()}};var g=++h;if(u){t(u,true).then(function(t){if(n.$$destroyed)return;if(g!==h)return;var e=n.$new();l.template=t;var a=c(e,function(t){v();i.enter(t,null,r).done(d)});f=e;p=a;f.$emit("$includeContentLoaded",u);n.$eval(o)},function(){if(n.$$destroyed)return;if(g===h){v();n.$emit("$includeContentError",u)}});n.$emit("$includeContentRequested",u)}else{v();l.template=null}})}}}}];var qo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,n,r,a){if(m.call(n[0]).match(/SVG/)){n.empty();t(je(a.template,e.document).childNodes)(i,function t(e){n.append(e)},{futureParentElement:n});return}n.html(a.template);t(n.contents())(i)}}}];var Ko=Fa({priority:450,compile:function(){return{pre:function(t,e,i){t.$eval(i.ngInit)}}}});var Xo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,n){var r=i.ngList||", ";var a=i.ngTrim!=="false";var o=a?ot(r):r;var s=function(t){if(F(t))return;var e=[];if(t){S(t.split(o),function(t){if(t)e.push(a?ot(t):t)})}return e};n.$parsers.push(s);n.$formatters.push(function(t){if(V(t)){return t.join(r)}return undefined});n.$isEmpty=function(t){return!t||!t.length}}}};var Zo="ng-valid",Qo="ng-invalid",Jo="ng-pristine",ts="ng-dirty",es="ng-untouched",is="ng-touched",ns="ng-empty",rs="ng-not-empty";var as=a("ngModel");os.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function os(t,e,i,n,r,a,o,s,u){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=u(i.name||"",false)(t);this.$$parentForm=Ha;this.$options=ls;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=r(i.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=undefined;this.$$parserName="parse";this.$$currentValidationRunId=0;this.$$scope=t;this.$$attr=i;this.$$element=n;this.$$animate=a;this.$$timeout=o;this.$$parse=r;this.$$q=s;this.$$exceptionHandler=e;Xa(this);ss(this)}os.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var i=this.$$parsedNgModel(e);if(q(i)){i=t(e)}return i};this.$$ngModelSet=function(t,i){if(q(this.$$parsedNgModel(t))){e(t,{$$$p:i})}else{this.$$parsedNgModelAssign(t,i)}}}else if(!this.$$parsedNgModel.assign){throw as("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Mt(this.$$element))}},$render:D,$isEmpty:function(t){return F(t)||t===""||t===null||t!==t},$$updateEmptyClasses:function(t){if(this.$isEmpty(t)){this.$$animate.removeClass(this.$$element,rs);this.$$animate.addClass(this.$$element,ns)}else{this.$$animate.removeClass(this.$$element,ns);this.$$animate.addClass(this.$$element,rs)}},$setPristine:function(){this.$dirty=false;this.$pristine=true;this.$$animate.removeClass(this.$$element,ts);this.$$animate.addClass(this.$$element,Jo)},$setDirty:function(){this.$dirty=true;this.$pristine=false;this.$$animate.removeClass(this.$$element,Jo);this.$$animate.addClass(this.$$element,ts);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=false;this.$untouched=true;this.$$animate.setClass(this.$$element,es,is)},$setTouched:function(){this.$touched=true;this.$untouched=false;this.$$animate.setClass(this.$$element,is,es)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(I(this.$modelValue)){return}var t=this.$$lastCommittedViewValue;var e=this.$$rawModelValue;var i=this.$valid;var n=this.$modelValue;var r=this.$options.getOption("allowInvalid");var a=this;this.$$runValidators(e,t,function(t){if(!r&&i!==t){a.$modelValue=t?e:undefined;if(a.$modelValue!==n){a.$$writeModelToScope()}}})},$$runValidators:function(t,e,i){this.$$currentValidationRunId++;var n=this.$$currentValidationRunId;var r=this;if(!a()){l(false);return}if(!o()){l(false);return}s();function a(){var t=r.$$parserName;if(F(r.$$parserValid)){u(t,null)}else{if(!r.$$parserValid){S(r.$validators,function(t,e){u(e,null)});S(r.$asyncValidators,function(t,e){u(e,null)})}u(t,r.$$parserValid);return r.$$parserValid}return true}function o(){var i=true;S(r.$validators,function(n,r){var a=Boolean(n(t,e));i=i&&a;u(r,a)});if(!i){S(r.$asyncValidators,function(t,e){u(e,null)});return false}return true}function s(){var i=[];var n=true;S(r.$asyncValidators,function(r,a){var o=r(t,e);if(!it(o)){throw as("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",o)}u(a,undefined);i.push(o.then(function(){u(a,true)},function(){n=false;u(a,false)}))});if(!i.length){l(true)}else{r.$$q.all(i).then(function(){l(n)},D)}}function u(t,e){if(n===r.$$currentValidationRunId){r.$setValidity(t,e)}}function l(t){if(n===r.$$currentValidationRunId){i(t)}}},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue===t&&(t!==""||!this.$$hasNativeValidators)){return}this.$$updateEmptyClasses(t);this.$$lastCommittedViewValue=t;if(this.$pristine){this.$setDirty()}this.$$parseAndValidate()},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue;var e=t;var i=this;this.$$parserValid=F(e)?undefined:true;this.$setValidity(this.$$parserName,null);this.$$parserName="parse";if(this.$$parserValid){for(var n=0;n<this.$parsers.length;n++){e=this.$parsers[n](e);if(F(e)){this.$$parserValid=false;break}}}if(I(this.$modelValue)){this.$modelValue=this.$$ngModelGet(this.$$scope)}var r=this.$modelValue;var a=this.$options.getOption("allowInvalid");this.$$rawModelValue=e;if(a){this.$modelValue=e;o()}this.$$runValidators(e,this.$$lastCommittedViewValue,function(t){if(!a){i.$modelValue=t?e:undefined;o()}});function o(){if(i.$modelValue!==r){i.$$writeModelToScope()}}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);S(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t;if(this.$options.getOption("updateOnDefault")){this.$$debounceViewValueCommit(e)}},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");if(Y(e[t])){e=e[t]}else if(Y(e["default"])&&this.$options.getOption("updateOn").indexOf(t)===-1){e=e["default"]}else if(Y(e["*"])){e=e["*"]}this.$$timeout.cancel(this.$$pendingDebounce);var i=this;if(e>0){this.$$pendingDebounce=this.$$timeout(function(){i.$commitViewValue()},e)}else if(this.$$scope.$root.$$phase){this.$commitViewValue()}else{this.$$scope.$apply(function(){i.$commitViewValue()})}},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t);this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();if(this.$viewValue!==t){this.$$updateEmptyClasses(t);this.$viewValue=this.$$lastCommittedViewValue=t;this.$render();this.$$runValidators(this.$modelValue,this.$viewValue,D)}},$$format:function(){var t=this.$formatters,e=t.length;var i=this.$modelValue;while(e--){i=t[e](i)}return i},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t;this.$$parserValid=undefined;this.$processModelValue()},$$setUpdateOnEvents:function(){if(this.$$updateEvents){this.$$element.off(this.$$updateEvents,this.$$updateEventHandler)}this.$$updateEvents=this.$options.getOption("updateOn");if(this.$$updateEvents){this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)}},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}};function ss(t){t.$$scope.$watch(function e(i){var n=t.$$ngModelGet(i);if(n!==t.$modelValue&&(t.$modelValue===t.$modelValue||n===n)){t.$$setModelValue(n)}return n})}Za({clazz:os,set:function(t,e){t[e]=true},unset:function(t,e){delete t[e]}});var us=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:os,priority:1,compile:function e(i){i.addClass(Jo).addClass(es).addClass(Zo);return{pre:function t(e,i,n,r){var a=r[0],o=r[1]||a.$$parentForm,s=r[2];if(s){a.$options=s.$options}a.$$initGetterSetters();o.$addControl(a);n.$observe("name",function(t){if(a.$name!==t){a.$$parentForm.$$renameControl(a,t)}});e.$on("$destroy",function(){a.$$parentForm.$removeControl(a)})},post:function e(i,n,r,a){var o=a[0];o.$$setUpdateOnEvents();function s(){o.$setTouched()}n.on("blur",function(){if(o.$touched)return;if(t.$$phase){i.$evalAsync(s)}else{i.$apply(s)}})}}}}}];var ls;var cs=/(\s+|^)default(\s+|$)/;function hs(t){this.$$options=t}hs.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=false;t=k({},t);S(t,function(i,n){if(i==="$inherit"){if(n==="*"){e=true}else{t[n]=this.$$options[n];if(n==="updateOn"){t.updateOnDefault=this.$$options.updateOnDefault}}}else{if(n==="updateOn"){t.updateOnDefault=false;t[n]=ot(i.replace(cs,function(){t.updateOnDefault=true;return" "}))}}},this);if(e){delete t["*"];ds(t,this.$$options)}ds(t,ls.$$options);return new hs(t)}};ls=new hs({updateOn:"",updateOnDefault:true,debounce:0,getterSetter:false,allowInvalid:false,timezone:null});var fs=function(){t.$inject=["$attrs","$scope"];function t(t,e){this.$$attrs=t;this.$$scope=e}t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:ls;var e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:true,controller:t}};function ds(t,e){S(e,function(e,i){if(!G(t[i])){t[i]=e}})}var ps=Fa({terminal:true,priority:1e3});var vs=a("ngOptions");var gs=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var ms=["$compile","$document","$parse",function(t,i,n){function r(t,e,i){var r=t.match(gs);if(!r){throw vs("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",t,Mt(e))}var a=r[5]||r[7];var o=r[6];var s=/ as /.test(r[0])&&r[1];var u=r[9];var l=n(r[2]?r[1]:a);var c=s&&n(s);var h=c||l;var f=u&&n(u);var d=u?function(t,e){return f(i,e)}:function t(e){return ui(e)};var p=function(t,e){return d(t,b(t,e))};var v=n(r[2]||r[1]);var g=n(r[3]||"");var m=n(r[4]||"");var y=n(r[8]);var _={};var b=o?function(t,e){_[o]=e;_[a]=t;return _}:function(t){_[a]=t;return _};function w(t,e,i,n,r){this.selectValue=t;this.viewValue=e;this.label=i;this.group=n;this.disabled=r}function O(t){var e;if(!o&&x(t)){e=t}else{e=[];for(var i in t){if(t.hasOwnProperty(i)&&i.charAt(0)!=="$"){e.push(i)}}}return e}return{trackBy:u,getTrackByValue:p,getWatchables:n(y,function(t){var e=[];t=t||[];var n=O(t);var a=n.length;for(var o=0;o<a;o++){var s=t===n?o:n[o];var u=t[s];var l=b(u,s);var c=d(u,l);e.push(c);if(r[2]||r[1]){var h=v(i,l);e.push(h)}if(r[4]){var f=m(i,l);e.push(f)}}return e}),getOptions:function(){var t=[];var e={};var n=y(i)||[];var r=O(n);var a=r.length;for(var o=0;o<a;o++){var s=n===r?o:r[o];var l=n[s];var c=b(l,s);var f=h(i,c);var _=d(f,c);var x=v(i,c);var S=g(i,c);var C=m(i,c);var T=new w(_,f,x,S,C);t.push(T);e[_]=T}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[p(t)]},getViewValueFromOption:function(t){return u?dt(t.viewValue):t.viewValue}}}}}var a=e.document.createElement("option"),o=e.document.createElement("optgroup");function s(e,n,s,u){var l=u[0];var c=u[1];var h=s.multiple;for(var d=0,p=n.children(),v=p.length;d<v;d++){if(p[d].value===""){l.hasEmptyOption=true;l.emptyOption=p.eq(d);break}}n.empty();var g=!!l.emptyOption;var m=f(a.cloneNode(false));m.val("?");var y;var _=r(s.ngOptions,n,e);var b=i[0].createDocumentFragment();l.generateUnknownOptionValue=function(t){return"?"};if(!h){l.writeValue=function t(e){if(!y)return;var i=n[0].options[n[0].selectedIndex];var r=y.getOptionFromViewValue(e);if(i)i.removeAttribute("selected");if(r){if(n[0].value!==r.selectValue){l.removeUnknownOption();n[0].value=r.selectValue;r.element.selected=true}r.element.setAttribute("selected","selected")}else{l.selectUnknownOrEmptyOption(e)}};l.readValue=function t(){var e=y.selectValueMap[n.val()];if(e&&!e.disabled){l.unselectEmptyOption();l.removeUnknownOption();return y.getViewValueFromOption(e)}return null};if(_.trackBy){e.$watch(function(){return _.getTrackByValue(c.$viewValue)},function(){c.$render()})}}else{l.writeValue=function t(e){if(!y)return;var i=e&&e.map(O)||[];y.items.forEach(function(t){if(t.element.selected&&!ht(i,t)){t.element.selected=false}})};l.readValue=function t(){var e=n.val()||[],i=[];S(e,function(t){var e=y.selectValueMap[t];if(e&&!e.disabled)i.push(y.getViewValueFromOption(e))});return i};if(_.trackBy){e.$watchCollection(function(){if(V(c.$viewValue)){return c.$viewValue.map(function(t){return _.getTrackByValue(t)})}},function(){c.$render()})}}if(g){t(l.emptyOption)(e);n.prepend(l.emptyOption);if(l.emptyOption[0].nodeType===ie){l.hasEmptyOption=false;l.registerOption=function(t,e){if(e.val()===""){l.hasEmptyOption=true;l.emptyOption=e;l.emptyOption.removeClass("ng-scope");c.$render();e.on("$destroy",function(){var t=l.$isEmptyOptionSelected();l.hasEmptyOption=false;l.emptyOption=undefined;if(t)c.$render()})}}}else{l.emptyOption.removeClass("ng-scope")}}e.$watchCollection(_.getWatchables,C);function w(t,e){var i=a.cloneNode(false);e.appendChild(i);x(t,i)}function O(t){var e=y.getOptionFromViewValue(t);var i=e&&e.element;if(i&&!i.selected)i.selected=true;return e}function x(t,e){t.element=e;e.disabled=t.disabled;if(t.label!==e.label){e.label=t.label;e.textContent=t.label}e.value=t.selectValue}function C(){var t=y&&l.readValue();if(y){for(var e=y.items.length-1;e>=0;e--){var i=y.items[e];if(G(i.group)){Ke(i.element.parentNode)}else{Ke(i.element)}}}y=_.getOptions();var r={};y.items.forEach(function t(e){var i;if(G(e.group)){i=r[e.group];if(!i){i=o.cloneNode(false);b.appendChild(i);i.label=e.group===null?"null":e.group;r[e.group]=i}w(e,i)}else{w(e,b)}});n[0].appendChild(b);c.$render();if(!c.$isEmpty(t)){var a=l.readValue();var s=_.trackBy||h;if(s?!vt(t,a):t!==a){c.$setViewValue(a);c.$render()}}}}return{restrict:"A",terminal:true,require:["select","ngModel"],link:{pre:function t(e,i,n,r){r[0].registerOption=D},post:s}}}];var ys=["$locale","$interpolate","$log",function(t,e,i){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(a,o,s){var u=s.count,c=s.$attr.when&&o.attr(s.$attr.when),h=s.offset||0,f=a.$eval(c)||{},d={},p=e.startSymbol(),v=e.endSymbol(),g=p+u+"-"+h+v,m=b.noop,y;S(s,function(t,e){var i=r.exec(e);if(i){var n=(i[1]?"-":"")+l(i[2]);f[n]=o.attr(s.$attr[e])}});S(f,function(t,i){d[i]=e(t.replace(n,g))});a.$watch(u,function e(n){var r=parseFloat(n);var o=I(r);if(!o&&!(r in f)){r=t.pluralCat(r-h)}if(r!==y&&!(o&&I(y))){m();var s=d[r];if(F(s)){if(n!=null){i.debug("ngPluralize: no rule defined for '"+r+"' in "+c)}m=D;_()}else{m=a.$watch(s,_)}y=r}});function _(t){o.text(t||"")}}}}];var _s=["$parse","$animate","$compile",function(t,e,i){var n="$$NG_REMOVED";var r=a("ngRepeat");var o=function(t,e,i,n,r,a,o){t[i]=n;if(r)t[r]=a;t.$index=e;t.$first=e===0;t.$last=e===o-1;t.$middle=!(t.$first||t.$last);t.$odd=!(t.$even=(e&1)===0)};var s=function(t){return t.clone[0]};var l=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:true,transclude:"element",priority:1e3,terminal:true,$$tlb:true,compile:function a(c,h){var f=h.ngRepeat;var d=i.$$createComment("end ngRepeat",f);var p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p){throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f)}var v=p[1];var g=p[2];var m=p[3];var y=p[4];p=v.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!p){throw r("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v)}var _=p[3]||p[1];var b=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m))){throw r("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m)}var w,O,C,T;var E={$id:ui};if(y){w=t(y)}else{C=function(t,e){return ui(e)};T=function(t){return t}}return function t(i,a,c,h,p){if(w){O=function(t,e,n){if(b)E[b]=t;E[_]=e;E.$index=n;return w(i,E)}}var v=Zt();i.$watchCollection(g,function t(c){var h,g,y=a[0],w,E=Zt(),M,j,k,R,A,I,P,D,N;if(m){i[m]=c}if(x(c)){I=c;A=O||C}else{A=O||T;I=[];for(var $ in c){if(u.call(c,$)&&$.charAt(0)!=="$"){I.push($)}}}M=I.length;D=new Array(M);for(h=0;h<M;h++){j=c===I?h:I[h];k=c[j];R=A(j,k,h);if(v[R]){P=v[R];delete v[R];E[R]=P;D[h]=P}else if(E[R]){S(D,function(t){if(t&&t.scope)v[t.id]=t});throw r("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,R,k)}else{D[h]={id:R,scope:undefined,clone:undefined};E[R]=true}}for(var L in v){P=v[L];N=Xt(P.clone);e.leave(N);if(N[0].parentNode){for(h=0,g=N.length;h<g;h++){N[h][n]=true}}P.scope.$destroy()}for(h=0;h<M;h++){j=c===I?h:I[h];k=c[j];P=D[h];if(P.scope){w=y;do{w=w.nextSibling}while(w&&w[n]);if(s(P)!==w){e.move(Xt(P.clone),null,y)}y=l(P);o(P.scope,h,_,k,b,j,M)}else{p(function t(i,n){P.scope=n;var r=d.cloneNode(false);i[i.length++]=r;e.enter(i,null,y);y=r;P.clone=i;E[P.id]=P;o(P.scope,h,_,k,b,j,M)})}}v=E})}}}}];var bs="ng-hide";var ws="ng-hide-animate";var Os=["$animate",function(t){return{restrict:"A",multiElement:true,link:function(e,i,n){e.$watch(n.ngShow,function e(n){t[n?"removeClass":"addClass"](i,bs,{tempClasses:ws})})}}}];var xs=["$animate",function(t){return{restrict:"A",multiElement:true,link:function(e,i,n){e.$watch(n.ngHide,function e(n){t[n?"addClass":"removeClass"](i,bs,{tempClasses:ws})})}}}];var Ss=Fa(function(t,e,i){t.$watchCollection(i.ngStyle,function t(i,n){if(n&&i!==n){S(n,function(t,i){e.css(i,"")})}if(i)e.css(i)})});var Cs=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function t(){this.cases={}}],link:function(i,n,r,a){var o=r.ngSwitch||r.on,s=[],u=[],l=[],c=[];var h=function(t,e){return function(i){if(i!==false)t.splice(e,1)}};i.$watch(o,function i(n){var r,o;while(l.length){t.cancel(l.pop())}for(r=0,o=c.length;r<o;++r){var f=Xt(u[r].clone);c[r].$destroy();var d=l[r]=t.leave(f);d.done(h(l,r))}u.length=0;c.length=0;if(s=a.cases["!"+n]||a.cases["?"]){S(s,function(i){i.transclude(function(n,r){c.push(r);var a=i.element;n[n.length++]=e.$$createComment("end ngSwitchWhen");var o={clone:n};u.push(o);t.enter(n,a.parent(),a)})})}})}}}];var Ts=Fa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(t,e,i,n,r){var a=i.ngSwitchWhen.split(i.ngSwitchWhenSeparator).sort().filter(function(t,e,i){return i[e-1]!==t});S(a,function(t){n.cases["!"+t]=n.cases["!"+t]||[];n.cases["!"+t].push({transclude:r,element:e})})}});var Es=Fa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(t,e,i,n,r){n.cases["?"]=n.cases["?"]||[];n.cases["?"].push({transclude:r,element:e})}});var Ms=a("ngTransclude");var js=["$compile",function(t){return{restrict:"EAC",compile:function e(i){var n=t(i.contents());i.empty();return function t(e,i,r,a,o){if(!o){throw Ms("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",Mt(i))}if(r.ngTransclude===r.$attr.ngTransclude){r.ngTransclude=""}var s=r.ngTransclude||r.ngTranscludeSlot;o(u,null,s);if(s&&!o.isSlotFilled(s)){l()}function u(t,e){if(t.length&&c(t)){i.append(t)}else{l();e.$destroy()}}function l(){n(e,function(t){i.append(t)})}function c(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];if(n.nodeType!==ee||n.nodeValue.trim()){return true}}}}}}}];var ks=["$templateCache",function(t){return{restrict:"E",terminal:true,compile:function(e,i){if(i.type==="text/ng-template"){var n=i.id,r=e[0].text;t.put(n,r)}}}}];var Rs={$setViewValue:D,$render:D};function As(t,e){t.prop("selected",e);t.attr("selected",e)}var Is=["$element","$scope",function(t,i){var n=this,r=new hi;n.selectValueMap={};n.ngModelCtrl=Rs;n.multiple=false;n.unknownOption=f(e.document.createElement("option"));n.hasEmptyOption=false;n.emptyOption=undefined;n.renderUnknownOption=function(e){var i=n.generateUnknownOptionValue(e);n.unknownOption.val(i);t.prepend(n.unknownOption);As(n.unknownOption,true);t.val(i)};n.updateUnknownOption=function(e){var i=n.generateUnknownOptionValue(e);n.unknownOption.val(i);As(n.unknownOption,true);t.val(i)};n.generateUnknownOptionValue=function(t){return"? "+ui(t)+" ?"};n.removeUnknownOption=function(){if(n.unknownOption.parent())n.unknownOption.remove()};n.selectEmptyOption=function(){if(n.emptyOption){t.val("");As(n.emptyOption,true)}};n.unselectEmptyOption=function(){if(n.hasEmptyOption){As(n.emptyOption,false)}};i.$on("$destroy",function(){n.renderUnknownOption=D});n.readValue=function e(){var i=t.val();var r=i in n.selectValueMap?n.selectValueMap[i]:i;if(n.hasOption(r)){return r}return null};n.writeValue=function e(i){var r=t[0].options[t[0].selectedIndex];if(r)As(f(r),false);if(n.hasOption(i)){n.removeUnknownOption();var a=ui(i);t.val(a in n.selectValueMap?a:i);var o=t[0].options[t[0].selectedIndex];As(f(o),true)}else{n.selectUnknownOrEmptyOption(i)}};n.addOption=function(t,e){if(e[0].nodeType===ie)return;qt(t,'"option value"');if(t===""){n.hasEmptyOption=true;n.emptyOption=e}var i=r.get(t)||0;r.set(t,i+1);o()};n.removeOption=function(t){var e=r.get(t);if(e){if(e===1){r.delete(t);if(t===""){n.hasEmptyOption=false;n.emptyOption=undefined}}else{r.set(t,e-1)}}};n.hasOption=function(t){return!!r.get(t)};n.$hasEmptyOption=function(){return n.hasEmptyOption};n.$isUnknownOptionSelected=function(){return t[0].options[0]===n.unknownOption[0]};n.$isEmptyOptionSelected=function(){return n.hasEmptyOption&&t[0].options[t[0].selectedIndex]===n.emptyOption[0]};n.selectUnknownOrEmptyOption=function(t){if(t==null&&n.emptyOption){n.removeUnknownOption();n.selectEmptyOption()}else if(n.unknownOption.parent().length){n.updateUnknownOption(t)}else{n.renderUnknownOption(t)}};var a=false;function o(){if(a)return;a=true;i.$$postDigest(function(){a=false;n.ngModelCtrl.$render()})}var s=false;function u(t){if(s)return;s=true;i.$$postDigest(function(){if(i.$$destroyed)return;s=false;n.ngModelCtrl.$setViewValue(n.readValue());if(t)n.ngModelCtrl.$render()})}n.registerOption=function(t,e,i,r,a){if(i.$attr.ngValue){var s,l=NaN;i.$observe("value",function t(i){var r;var a=e.prop("selected");if(G(l)){n.removeOption(s);delete n.selectValueMap[l];r=true}l=ui(i);s=i;n.selectValueMap[l]=i;n.addOption(i,e);e.attr("value",l);if(r&&a){u()}})}else if(r){i.$observe("value",function t(i){n.readValue();var r;var a=e.prop("selected");if(G(s)){n.removeOption(s);r=true}s=i;n.addOption(i,e);if(r&&a){u()}})}else if(a){t.$watch(a,function t(r,a){i.$set("value",r);var o=e.prop("selected");if(a!==r){n.removeOption(a)}n.addOption(r,e);if(a&&o){u()}})}else{n.addOption(i.value,e)}i.$observe("disabled",function(t){if(t==="true"||t&&e.prop("selected")){if(n.multiple){u(true)}else{n.ngModelCtrl.$setViewValue(null);n.ngModelCtrl.$render()}}});e.on("$destroy",function(){var t=n.readValue();var e=i.value;n.removeOption(e);o();if(n.multiple&&t&&t.indexOf(e)!==-1||t===e){u(true)}})}}];var Ps=function(){return{restrict:"E",require:["select","?ngModel"],controller:Is,priority:1,link:{pre:t,post:e}};function t(t,e,i,n){var r=n[0];var a=n[1];if(!a){r.registerOption=D;return}r.ngModelCtrl=a;e.on("change",function(){r.removeUnknownOption();t.$apply(function(){a.$setViewValue(r.readValue())})});if(i.multiple){r.multiple=true;r.readValue=function t(){var i=[];S(e.find("option"),function(t){if(t.selected&&!t.disabled){var e=t.value;i.push(e in r.selectValueMap?r.selectValueMap[e]:e)}});return i};r.writeValue=function t(i){S(e.find("option"),function(t){var e=!!i&&(ht(i,t.value)||ht(i,r.selectValueMap[t.value]));var n=t.selected;if(e!==n){As(f(t),e)}})};var o,s=NaN;t.$watch(function t(){if(s===a.$viewValue&&!vt(o,a.$viewValue)){o=oe(a.$viewValue);a.$render()}s=a.$viewValue});a.$isEmpty=function(t){return!t||t.length===0}}}function e(t,e,i,n){var r=n[1];if(!r)return;var a=n[0];r.$render=function(){a.writeValue(r.$viewValue)}}};var Ds=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,i){var n,r;if(G(i.ngValue)){}else if(G(i.value)){n=t(i.value,true)}else{r=t(e.text(),true);if(!r){i.$set("value",e.text())}}return function(t,e,i){var a="$selectController",o=e.parent(),s=o.data(a)||o.parent().data(a);if(s){s.registerOption(t,e,i,n,r)}}}}}];var Ns=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,n){if(!n)return;i.required=true;n.$validators.required=function(t,e){return!i.required||!n.$isEmpty(e)};i.$observe("required",function(){n.$validate()})}}};var $s=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,n){if(!n)return;var r,o=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(W(t)&&t.length>0){t=new RegExp("^"+t+"$")}if(t&&!t.test){throw a("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,t,Mt(e))}r=t||undefined;n.$validate()});n.$validators.pattern=function(t,e){return n.$isEmpty(e)||F(r)||r.test(e)}}}};var Ls=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,n){if(!n)return;var r=-1;i.$observe("maxlength",function(t){var e=A(t);r=I(e)?-1:e;n.$validate()});n.$validators.maxlength=function(t,e){return r<0||n.$isEmpty(e)||e.length<=r}}}};var Fs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,n){if(!n)return;var r=0;i.$observe("minlength",function(t){r=A(t)||0;n.$validate()});n.$validators.minlength=function(t,e){return n.$isEmpty(e)||e.length>=r}}}};if(e.angular.bootstrap){if(e.console){console.log("WARNING: Tried to load AngularJS more than once.")}return}zt();ce(b);b.module("ngLocale",[],["$provide",function(t){var e={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function i(t){t=t+"";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function n(t,e){var n=e;if(undefined===n){n=Math.min(i(t),3)}var r=Math.pow(10,n);var a=(t*r|0)%r;return{v:n,f:a}}t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,i){var r=t|0;var a=n(t,i);if(r==1&&a.v==0){return e.ONE}return e.OTHER}})}]);f(function(){Lt(e.document,Ft)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')}).call(this,i(51))},function(t,e,i){i(467);t.exports=angular},,,,,,,,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},,,,,,,function(t,e){},,function(t,e){}]]);
//# sourceMappingURL=commons.f50e06.js.map