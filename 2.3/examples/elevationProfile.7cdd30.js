(function(e){function t(t){var n=t[0];var o=t[1];var s=t[2];var l,p,v=0,f=[];for(;v<n.length;v++){p=n[v];if(a[p]){f.push(a[p][0])}a[p]=0}for(l in o){if(Object.prototype.hasOwnProperty.call(o,l)){e[l]=o[l]}}if(u)u(t);while(f.length){f.shift()()}i.push.apply(i,s||[]);return r()}function r(){var e;for(var t=0;t<i.length;t++){var r=i[t];var n=true;for(var s=1;s<r.length;s++){var l=r[s];if(a[l]!==0)n=false}if(n){i.splice(t--,1);e=o(o.s=r[0])}}return e}var n={};var a={28:0};var i=[];function o(t){if(n[t]){return n[t].exports}var r=n[t]={i:t,l:false,exports:{}};e[t].call(r.exports,r,r.exports,o);r.l=true;return r.exports}o.m=e;o.c=n;o.d=function(e,t,r){if(!o.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:r})}};o.r=function(e){Object.defineProperty(e,"__esModule",{value:true})};o.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};o.d(t,"a",t);return t};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[];var l=s.push.bind(s);s.push=t;s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var u=l;i.push([398,0]);return r()})({397:function(e,t,r){"use strict";r.r(t);var n=r(500);var a=r.n(n);var i=r(92);var o=r(14);var s=r(19);var l=r(26);var p=r(46);var u=r(32);var v=r(77);var f=r(38);var c=r(72);var h=r(34);var d=r(23);var g=r(256);var m={};m.module=angular.module("app",["gettext",d["a"].name,g["a"].name]);m.MainController=function(e,t){var r=this;this.scope_=t;var n=new h["b"];this.map=new s["a"]({layers:[new v["a"]({source:new c["a"]({url:"http://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:"&copy; "+'<a href="http://www.geo.admin.ch/internet/geoportal/'+'en/home.html">Pixelmap 1:500000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"})}),new f["a"]({source:n})],view:new l["a"]({projection:i["a"],extent:[42e4,3e4,9e5,35e4],zoom:0,center:[0,0]})});var a=this.map;var d=new f["a"]({source:new h["b"]});this.snappedPoint_=new o["a"];d.getSource().addFeature(this.snappedPoint_);d.setMap(a);this.profilePoisData=[{sort:1,dist:1e3,title:"First POI",id:12345},{sort:2,dist:3e3,title:"Second POI",id:12346}];this.profileData=undefined;e.get("data/profile.json").then(function(e){var t=e.data["profile"];r.profileData=t;var i=void 0;var s=t.length;var l=new p["a"]([],"XYM");for(i=0;i<s;i++){var u=t[i];l.appendCoordinate([u.x,u.y,u.dist])}n.addFeature(new o["a"](l));var v=r.map.getSize();a.getView().fit(n.getExtent(),{size:v})});a.on("pointermove",function(e){if(e.dragging){return}var t=a.getEventCoordinate(e.originalEvent);r.snapToGeometry(t,n.getFeatures()[0].getGeometry())});var g=function e(t,r,n){return function(e){if(n!==undefined){e=e[n]}return e[r]}};var m={number:1,string:""};var w=g(m.number,"dist");var b={line1:{style:{},zExtractor:g(m.number,"mnt","values")}};var y={sort:g(m.number,"sort"),id:g(m.string,"id"),dist:g(m.number,"dist"),title:g(m.string,"title"),z:function e(t,r){if(r!==undefined){t["z"]=r}return t["z"]}};var x=function(e){this.point=e;this.snappedPoint_.setGeometry(new u["a"]([e.x,e.y]))}.bind(this);var P=function(){this.point=null;this.snappedPoint_.setGeometry(null)}.bind(this);this.profileOptions={distanceExtractor:w,linesConfiguration:b,poiExtractor:y,hoverCallback:x,outCallback:P};this.point=null;this.profileHighlight=undefined};m.MainController.$inject=["$http","$scope"];m.MainController.prototype.snapToGeometry=function(e,t){var r=t.getClosestPoint(e);var n=r[0]-e[0];var a=r[1]-e[1];var i=Math.sqrt(n*n+a*a);var o=i/this.map.getView().getResolution();if(o<8){this.profileHighlight=r[2]}else{this.profileHighlight=-1}this.scope_.$apply()};m.module.controller("MainController",m.MainController);t["default"]=m},398:function(e,t,r){r(53);r(55);e.exports=r(397)},500:function(e,t){}});
//# sourceMappingURL=elevationProfile.7cdd30.js.map