<div>
  <div ng-switch="efCtrl.feature">
    <a
      ng-switch-when="null"
      ng-if="efCtrl.geomType"
      href
      translate
      ngeo-btn
      ngeo-createfeature
      ngeo-createfeature-active="efCtrl.createActive"
      ngeo-createfeature-features="::efCtrl.features"
      ngeo-createfeature-geom-type="::efCtrl.geomType"
      ngeo-createfeature-map="::efCtrl.map"
      class="btn btn-default"
      ng-class="{active: efCtrl.createActive}"
      ng-model="efCtrl.createActive">
      <span ng-switch="::efCtrl.geomType">
        <span ng-switch-when="Point">
          <span class="gmf-icon gmf-icon-point"></span>
          {{'Draw new point' | translate}}
        </span>
        <span ng-switch-when="LineString">
          <span class="gmf-icon gmf-icon-line"></span>
          {{'Draw new linestring' | translate}}
        </span>
        <span ng-switch-when="Polygon">
          <span class="gmf-icon gmf-icon-polygon"></span>
          {{'Draw new polygon' | translate}}
        </span>
      </span>
    </a>
    <form
      novalidate
      name="form"
      class="form gmf-editfeature-attributes-container"
      ng-switch-default
      ng-if="efCtrl.attributes">
      <div class="row">
        <div class="col-sm-12">
          <a
            class="close"
            ng-click="efCtrl.cancel()"
            ng-disabled="efCtrl.pending"
            title="{{'Cancel modifications | translate'}}"
            href>&times;</a>
        </div>
      </div>
      <ngeo-attributes
        ngeo-attributes-attributes="::efCtrl.attributes"
        ngeo-attributes-disabled="efCtrl.pending"
        ngeo-attributes-feature="::efCtrl.feature">
      </ngeo-attributes>
      <input
        type="submit"
        value="{{'Save' | translate}}"
        class="btn btn-sm btn-default btn-primary"
        ng-click="form.$valid && efCtrl.save()"
        ng-disabled="!efCtrl.dirty"
        title="{{'Save modifications | translate'}}"></input>
      <a
        class="btn btn-sm btn-default"
        ng-click="efCtrl.cancel()"
        ng-disabled="efCtrl.pending"
        title="{{'Cancel modifications | translate'}}"
        href>{{'Cancel' | translate}}</a>
      <button
        class="btn btn-sm btn-link pull-right"
        ng-click="efCtrl.delete()"
        ng-disabled="efCtrl.pending"
        ng-show="efCtrl.featureId"
        title="{{'Delete this feature | translate'}}">
        <span class="fa fa-trash"></span>
        {{'Delete' | translate}}
      </button>
    </form>
  </div>
</div>
