<div ng-show="$ctrl.ready"
     gmf-drawprofileline
     gmf-drawprofileline-active="$ctrl.active"
     gmf-drawprofileline-map="::$ctrl.map"
     gmf-drawprofileline-line="$ctrl.line">
   <p>
    <button class="btn btn-default"
      ngeo-btn ng-model="ctrl.interaction.active"
      translate> Draw profile line
    </button>
  </p>
  <p>
    <em translate ng-if="ctrl.interaction.active" class="text-muted small">
      Draw a line on the map to display the corresponding elevation profile.
      Use double-click to finish the drawing.
    </em>
  </p>
  <div>
    <button class="btn btn-default" ng-click="$ctrl.csvExport()">
      CSV export
    </button>
    <button class="btn btn-default" ng-click="$ctrl.pngExport()">
      PNG export
    </button>
  </div>
  <div>
  <hr>
    Material:
  <div ng-repeat="option in ::$ctrl.getPointAttributes()">
    <label>
      <input name="materialRadio" ng-model="option.checked" ng-checked="!!option.checked" type="radio" ng-change="$ctrl.setDefaultAttribute(option)">
      {{option.name}}
    </label>
  </div>
  </div>
  <hr>
  <div>
    Width:
    <input type="number" pattern="^(0|[1-9][0-9]*)$" min=5 max=100 ng-model="$ctrl.profilWidth" ng-value="$ctrl.getWidth()" ng-change="$ctrl.setWidth($ctrl.profilWidth)"></input>
    [m]
  </div>
  <hr>
  Classes:
  <br></br>
  <div ng-repeat="(key, classification) in ::$ctrl.getClassification()">
    <input ng-model="classification.visible" ng-change="$ctrl.setClassification(classification, key)" ng-checked="!!classification.visible" type="checkbox">
    <span>{{classification.name}}</span>
  </div>
</div>
<div ng-hide="$ctrl.ready">
 <p>Initialisation en cours, merci de patienter...</p>
</div>
