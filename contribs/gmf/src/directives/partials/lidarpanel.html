<div gmf-drawprofileline
     gmf-drawprofileline-active="$ctrl.active"
     gmf-drawprofileline-map="::$ctrl.map"
     gmf-drawprofileline-line="$ctrl.line">
   <p>
    <button class="btn btn-default"
      ngeo-btn ng-model="ctrl.interaction.active"
      translate> Draw profile line
    </button>
  </p>
  <p>
    <em translate ng-if="ctrl.interaction.active" class="text-muted small">
      Draw a line on the map to display the corresponding elevation profile.
      Use double-click to finish the drawing.
    </em>
  </p>
  <div>
    Material:
    <select ng-model="option.value" ng-change="$ctrl.setSelectedMaterial(option)">
      <option ng-repeat="option in ::$ctrl.getMaterials()" ng-value="option.value">{{option.name}}</option>
    </select>
  </div>
  <hr>
  <div>
    Width:
    <input type="number" ng-init="profilwidth = $ctrl.getDefaultWidth()" pattern="^(0|[1-9][0-9]*)$" min=0 max=100 ng-model="profilwidth" ng-change="$ctrl.setWidth(profilwidth)"></input>
  </div>
  <hr>
  Classes:
  <div ng-repeat="(key, classification) in ::$ctrl.getClassification()">
    <input type="checkbox" ng-model="classification.visible" ng-change="$ctrl.setClassification(classification, key)" ng-checked="!!classification.visible"></input>{{classification.name}}
  </div>
  <hr>
  <div>
    <button class="btn btn-default" ng-click="$ctrl.csvExport()">
      CSV export
    </button>
    <button class="btn btn-default" ng-click="$ctrl.pngExport()">
      PNG export
    </button>
  </div>
</div>