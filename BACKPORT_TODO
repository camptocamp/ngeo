Backport of #9640 to 2.9

Error on cherry-picking: 6152073e533aa840b04fdb0bf1d267c799bc4a53

To continue do:
```bash
git fetch && \
  git checkout ghci/backport/9640-to-2.9 && \
  git reset --hard HEAD^ && \
  git cherry-pick 6152073e533aa840b04fdb0bf1d267c799bc4a53
git push origin ghci/backport/9640-to-2.9 --force
```