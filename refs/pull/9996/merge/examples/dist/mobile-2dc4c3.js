/*! For license information please see mobile-2dc4c3.js.LICENSE.txt */
(()=>{var e={119:function(e,t,n){!function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}(n(5093))},158:function(e,t,n){!function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(5093))},217:function(e,t,n){!function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],n=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],r=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],i=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"];e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(5093))},304:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(5093))},306:function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"за %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"една минута",mm:"%d минути",h:"еден час",hh:"%d часа",d:"еден ден",dd:"%d дена",M:"еден месец",MM:"%d месеци",y:"една година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(5093))},609:function(e,t,n){!function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"ss":return i+(r||t)?" másodperc":" másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function r(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},708:function(e,t,n){!function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})}(n(5093))},724:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],void 0===(o="function"==typeof(r=function(e){return e.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t})?r.apply(t,i):r)||(e.exports=o)}()},748:function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(5093))},772:(e,t,n)=>{for(var r=n(9816),i=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],o=/^\d*$/,s=/^[A-Za-z0-9 $%*+\-./:]*$/,a=/^[A-Z0-9 $%*+\-./:]*$/,l=[],c=[-1],u=0,h=1;u<255;++u)l.push(h),c[h]=u,h=2*h^(h>=128?285:0);var d=[[]];for(u=0;u<30;++u){for(var f=d[u],p=[],m=0;m<=u;++m){var g=m<u?l[f[m]]:0,_=l[(u+(f[m-1]||0))%255];p.push(c[g^_])}d.push(p)}var y={};for(u=0;u<45;++u)y["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(u)]=u;var b=[function(e,t){return(e+t)%2==0},function(e,t){return e%2==0},function(e,t){return t%3==0},function(e,t){return(e+t)%3==0},function(e,t){return((e/2|0)+(t/3|0))%2==0},function(e,t){return e*t%2+e*t%3==0},function(e,t){return(e*t%2+e*t%3)%2==0},function(e,t){return((e+t)%2+e*t%3)%2==0}],v=function(e){return e>6},w=function(e,t){var n=-8&function(e){var t=i[e],n=16*e*e+128*e+64;return v(e)&&(n-=36),t[2].length&&(n-=25*t[2].length*t[2].length-10*t[2].length-55),n}(e),r=i[e];return n-=8*r[0][t]*r[1][t]},x=function(e,t){switch(t){case 1:return e<10?10:e<27?12:14;case 2:return e<10?9:e<27?11:13;case 4:return e<10?8:16;case 8:return e<10?8:e<27?10:12}},S=function(e,t,n){var r=w(e,n)-4-x(e,t);switch(t){case 1:return 3*(r/10|0)+(r%10<4?0:r%10<7?1:2);case 2:return 2*(r/11|0)+(r%11<6?0:1);case 4:return r/8|0;case 8:return r/13|0}},M=function(e,t){for(var n=e.slice(0),r=e.length,i=t.length,o=0;o<i;++o)n.push(0);for(o=0;o<r;){var s=c[n[o++]];if(s>=0)for(var a=0;a<i;++a)n[o+a]^=l[(s+t[a])%255]}return n.slice(r)},k=function(e,t,n,r){for(var i=e<<r,o=t-1;o>=0;--o)i>>r+o&1&&(i^=n<<o);return e<<r|i},T=function(e,t,n){for(var r=b[n],i=e.length,o=0;o<i;++o)for(var s=0;s<i;++s)t[o][s]||(e[o][s]^=r(o,s));return e},E=function(e,t,n,r){for(var i=e.length,o=21522^k(n<<3|r,5,1335,10),s=0;s<15;++s){var a=[i-1,i-2,i-3,i-4,i-5,i-6,i-7,i-8,7,5,4,3,2,1,0][s];e[[0,1,2,3,4,5,7,8,i-7,i-6,i-5,i-4,i-3,i-2,i-1][s]][8]=e[8][a]=o>>s&1}return e},L=function(e){for(var t=function(e){for(var t=0,n=0;n<e.length;++n)e[n]>=5&&(t+=e[n]-5+3);for(n=5;n<e.length;n+=2){var r=e[n];e[n-1]==r&&e[n-2]==3*r&&e[n-3]==r&&e[n-4]==r&&(e[n-5]>=4*r||e[n+1]>=4*r)&&(t+=40)}return t},n=e.length,r=0,i=0,o=0;o<n;++o){var s,a=e[o];s=[0];for(var l=0;l<n;){for(c=0;l<n&&a[l];++c)++l;for(s.push(c),c=0;l<n&&!a[l];++c)++l;s.push(c)}r+=t(s),s=[0];for(l=0;l<n;){var c;for(c=0;l<n&&e[l][o];++c)++l;for(s.push(c),c=0;l<n&&!e[l][o];++c)++l;s.push(c)}r+=t(s);var u=e[o+1]||[];i+=a[0];for(l=1;l<n;++l){var h=a[l];i+=h,a[l-1]==h&&u[l]===h&&u[l-1]===h&&(r+=3)}}return r+=10*(Math.abs(i/n/n-.5)/.05|0)},C=function(e,t,n,r,o){var s=i[t],a=function(e,t,n,r){var i=[],o=0,s=8,a=n.length,l=function(e,t){if(t>=s){for(i.push(o|e>>(t-=s));t>=8;)i.push(e>>(t-=8)&255);o=0,s=8}t>0&&(o|=(e&(1<<t)-1)<<(s-=t))},c=x(e,t);switch(l(t,4),l(a,c),t){case 1:for(var u=2;u<a;u+=3)l(parseInt(n.substring(u-2,u+1),10),10);l(parseInt(n.substring(u-2),10),[0,4,7][a%3]);break;case 2:for(u=1;u<a;u+=2)l(45*y[n.charAt(u-1)]+y[n.charAt(u)],11);a%2==1&&l(y[n.charAt(u-1)],6);break;case 4:for(u=0;u<a;++u)l(n[u],8)}for(l(0,4),s<8&&i.push(o);i.length+1<r;)i.push(236,17);return i.length<r&&i.push(236),i}(t,n,e,w(t,r)>>3);a=function(e,t,n){for(var r=[],i=e.length/t|0,o=0,s=t-e.length%t,a=0;a<s;++a)r.push(o),o+=i;for(a=s;a<t;++a)r.push(o),o+=i+1;r.push(o);var l=[];for(a=0;a<t;++a)l.push(M(e.slice(r[a],r[a+1]),n));var c=[],u=e.length/t|0;for(a=0;a<u;++a)for(var h=0;h<t;++h)c.push(e[r[h]+a]);for(h=s;h<t;++h)c.push(e[r[h+1]-1]);for(a=0;a<n.length;++a)for(h=0;h<t;++h)c.push(l[h][a]);return c}(a,s[1][r],d[s[0][r]]);var l=function(e){for(var t=i[e],n=function(e){return 4*e+17}(e),r=[],o=[],s=0;s<n;++s)r.push([]),o.push([]);var a=function(e,t,n,i,s){for(var a=0;a<n;++a)for(var l=0;l<i;++l)r[e+a][t+l]=s[a]>>l&1,o[e+a][t+l]=1};for(a(0,0,9,9,[127,65,93,93,93,65,383,0,64]),a(n-8,0,8,9,[256,127,65,93,93,93,65,127]),a(0,n-8,9,8,[254,130,186,186,186,130,254,0,0]),s=9;s<n-8;++s)r[6][s]=r[s][6]=1&~s,o[6][s]=o[s][6]=1;var l=t[2],c=l.length;for(s=0;s<c;++s)for(var u=0==s?c-1:c,h=0==s||s==c-1?1:0;h<u;++h)a(l[s],l[h],5,5,[31,17,21,17,31]);if(v(e)){var d=k(e,6,7973,12),f=0;for(s=0;s<6;++s)for(h=0;h<3;++h)r[s][n-11+h]=r[n-11+h][s]=d>>f++&1,o[s][n-11+h]=o[n-11+h][s]=1}return{matrix:r,reserved:o}}(t),c=l.matrix,u=l.reserved;if(function(e,t,n){for(var r=e.length,i=0,o=-1,s=r-1;s>=0;s-=2){6==s&&--s;for(var a=o<0?r-1:0,l=0;l<r;++l){for(var c=s;c>s-2;--c)t[a][c]||(e[a][c]=n[i>>3]>>(7&~i)&1,++i);a+=o}o=-o}}(c,u,a),o<0){T(c,u,0),E(c,0,r,0);var h=0,f=L(c);for(T(c,u,0),o=1;o<8;++o){T(c,u,o),E(c,0,r,o);var p=L(c);f>p&&(f=p,h=o),T(c,u,o)}o=h}return T(c,u,o),E(c,0,r,o),c},D={numeric:1,alphanumeric:2,octet:4},P={L:1,M:0,Q:3,H:2};e.exports=function(e,t){var n=(t=t||{}).version||-1,i=P[(t.ecclevel||"L").toUpperCase()],l=t.mode?D[t.mode.toLowerCase()]:-1,c="mask"in t?t.mask:-1;if(l<0)l="string"==typeof e?e.match(o)?1:e.match(a)?2:4:4;else if(1!=l&&2!=l&&4!=l)throw"invalid or unsupported mode";if(e=function(e,t){switch(e){case 1:return t.match(o)?t:null;case 2:return t.match(s)?t.toUpperCase():null;case 4:if("string"==typeof t){for(var n=[],r=0;r<t.length;++r){var i=t.charCodeAt(r);i<128?n.push(i):i<2048?n.push(192|i>>6,128|63&i):i<65536?n.push(224|i>>12,128|i>>6&63,128|63&i):n.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}return n}return t}}(l,e),null===e)throw"invalid data format";if(i<0||i>3)throw"invalid ECC level";if(n<0){for(n=1;n<=40&&!(e.length<=S(n,l,i));++n);if(n>40)throw"too large data"}else if(n<1||n>40)throw"invalid version";if(-1!=c&&(c<0||c>8))throw"invalid mask";var u,h=C(e,n,l,i,c),d=Math.max(t.modulesize||5,.5),f=Math.max(null!=t.margin?t.margin:4,0),p=h.length,m=d*(p+2*f),g=r();if(g.width=g.height=m,!(u=g.getContext("2d")))throw"canvas support is needed for PNG output";u.fillStyle="#fff",u.fillRect(0,0,m,m),u.fillStyle="#000";for(var _=0;_<p;++_)for(var y=0;y<p;++y)h[_][y]&&u.fillRect(d*(f+y),d*(f+_),d,d);return g.toDataURL()}},838:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},1011:function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(5093))},1025:function(e,t,n){!function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t||"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(5093))},1052:function(e,t,n){!function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function r(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function i(e,t,n,r){var i=o(e);switch(n){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function o(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+t[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+t[i]),""===o?"pagh":o}e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:r,s:"puS lup",ss:i,m:"wa’ tup",mm:i,h:"wa’ rep",hh:i,d:"wa’ jaj",dd:i,M:"wa’ jar",MM:i,y:"wa’ DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},1055:(e,t,n)=>{var r=n(6932);!function(e){"use strict";var t={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(e){if(!H(e))return t;j(e.objectMaxDepth)&&(t.objectMaxDepth=i(e.objectMaxDepth)?e.objectMaxDepth:NaN),j(e.urlErrorParamsEnabled)&&J(e.urlErrorParamsEnabled)&&(t.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function i(e){return G(e)&&e>0}function o(e,n){n=n||Error;var r="https://errors.angularjs.org/1.8.3/",i=r.replace(".","\\.")+"[\\s\\S]*",o=new RegExp(i,"g");return function(){var i,s,a=arguments[0],l=arguments[1],c="["+(e?e+":":"")+a+"] ",u=fe(arguments,2).map(function(e){return We(e,t.objectMaxDepth)});if(c+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<u.length?u[t].replace(o,""):e}),c+="\n"+r+(e?e+"/":"")+a,t.urlErrorParamsEnabled)for(s=0,i="?";s<u.length;s++,i="&")c+=i+"p"+s+"="+encodeURIComponent(u[s]);return new n(c)}}var s,a,l,c,u=/^\/(.+)\/([a-z]*)$/,h="validity",d=Object.prototype.hasOwnProperty,f=function(e){return z(e)?e.toLowerCase():e},p=function(e){return z(e)?e.toUpperCase():e},m=[].slice,g=[].splice,_=[].push,y=Object.prototype.toString,b=Object.getPrototypeOf,v=o("ng"),w=e.angular||(e.angular={}),x=0;function S(e){if(null==e||K(e))return!1;if(q(e)||z(e)||a&&e instanceof a)return!0;var t="length"in Object(e)&&e.length;return G(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function M(e,t,n){var r,i;if(e)if(V(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(q(e)||S(e)){var o="object"!=typeof e;for(r=0,i=e.length;r<i;r++)(o||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==M)e.forEach(t,n,e);else if(U(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)d.call(e,r)&&t.call(n,e[r],r,e);return e}function k(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function T(e){return function(t,n){e(n,t)}}function E(){return++x}function L(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function C(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var s=t[i];if(H(s)||V(s))for(var a=Object.keys(s),l=0,c=a.length;l<c;l++){var u=a[l],h=s[u];n&&H(h)?W(h)?e[u]=new Date(h.valueOf()):X(h)?e[u]=new RegExp(h):h.nodeName?e[u]=h.cloneNode(!0):re(h)?e[u]=h.clone():"__proto__"!==u&&(H(e[u])||(e[u]=q(h)?[]:{}),C(e[u],[h],!0)):e[u]=h}}return L(e,r),e}function D(e){return C(e,m.call(arguments,1),!1)}function P(e){return C(e,m.call(arguments,1),!0)}function $(e){return parseInt(e,10)}s=e.document.documentMode;var A=Number.isNaN||function(e){return e!=e};function R(e,t){return D(Object.create(e),t)}function O(){}function I(e){return e}function F(e){return function(){return e}}function N(e){return V(e.toString)&&e.toString!==y}function Y(e){return void 0===e}function j(e){return void 0!==e}function H(e){return null!==e&&"object"==typeof e}function U(e){return null!==e&&"object"==typeof e&&!b(e)}function z(e){return"string"==typeof e}function G(e){return"number"==typeof e}function W(e){return"[object Date]"===y.call(e)}function q(e){return Array.isArray(e)||e instanceof Array}function B(e){switch(y.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function V(e){return"function"==typeof e}function X(e){return"[object RegExp]"===y.call(e)}function K(e){return e&&e.window===e}function Z(e){return e&&e.$evalAsync&&e.$watch}function J(e){return"boolean"==typeof e}function Q(e){return e&&V(e.then)}O.$inject=[],I.$inject=[];var ee=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var te=function(e){return z(e)?e.trim():e},ne=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function re(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ie(e){return f(e.nodeName||e[0]&&e[0].nodeName)}function oe(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function se(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function ae(e,t,n){var r,o=[],s=[];if(n=i(n)?n:NaN,t){if(function(e){return e&&G(e.length)&&ee.test(y.call(e))}(t)||(r=t,"[object ArrayBuffer]"===y.call(r)))throw v("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw v("cpi","Can't copy! Source and destination are identical.");return q(t)?t.length=0:M(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),o.push(e),s.push(t),a(e,t,n)}return l(e,n);function a(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if(q(e))for(var o=0,s=e.length;o<s;o++)t.push(l(e[o],n));else if(U(e))for(r in e)t[r]=l(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=l(e[r],n));else for(r in e)d.call(e,r)&&(t[r]=l(e[r],n));return L(t,i),t}function l(e,t){if(!H(e))return e;var n=o.indexOf(e);if(-1!==n)return s[n];if(K(e)||Z(e))throw v("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(e){switch(y.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(l(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(V(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=q(e)?[]:Object.create(b(e)),r=!0),o.push(e),s.push(i),r?a(e,i,t):i}}function le(e,t){return e===t||e!=e&&t!=t}function ce(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o===typeof t&&"object"===o){if(!q(e)){if(W(e))return!!W(t)&&le(e.getTime(),t.getTime());if(X(e))return!!X(t)&&e.toString()===t.toString();if(Z(e)||Z(t)||K(e)||K(t)||q(t)||W(t)||X(t))return!1;for(r in i=He(),e)if("$"!==r.charAt(0)&&!V(e[r])){if(!ce(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&j(t[r])&&!V(t[r]))return!1;return!0}if(!q(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!ce(e[r],t[r]))return!1;return!0}}return!1}var ue=function(){if(!j(ue.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ue.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ue.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ue.rules},he=function(){if(j(he.name_))return he.name_;var t,n,r,i,o=Ee.length;for(n=0;n<o;++n)if(r=Ee[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return he.name_=i};function de(e,t,n){return e.concat(m.call(t,n))}function fe(e,t){return m.call(e,t||0)}function pe(e,t){var n=arguments.length>2?fe(arguments,2):[];return!V(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,de(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function me(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:K(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":Z(n)&&(r="$SCOPE"),r}function ge(e,t){if(!Y(e))return G(t)||(t=t?2:null),JSON.stringify(e,me,t)}function _e(e){return z(e)?JSON.parse(e):e}var ye=/:/g;function be(e,t){e=e.replace(ye,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return A(n)?t:n}function ve(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function we(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return ve(e,n*(be(t,r)-r))}function xe(e){e=a(e).clone().empty();var t=a("<div></div>").append(e).html();try{return e[0].nodeType===ze?f(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+f(t)})}catch(e){return f(t)}}function Se(e){try{return decodeURIComponent(e)}catch(e){}}function Me(e){var t={};return M((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(r=e.substring(0,n),i=e.substring(n+1)),j(r=Se(r))&&(i=!j(i)||Se(i),d.call(t,r)?q(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function ke(e){return Te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Te(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Ee=["ng-","data-ng-","ng:","x-ng-"];var Le=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document);function Ce(t,n){var r,i,o={};if(M(Ee,function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,i=t.getAttribute(n))}),M(Ee,function(e){var n,o=e+"app";!r&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!Le)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(e,t){var n,r,i=Ee.length;for(r=0;r<i;++r)if(n=Ee[r]+t,z(n=e.getAttribute(n)))return n;return null}(r,"strict-di"),n(r,i?[i]:[],o)}}function De(t,n,r){H(r)||(r={});r=D({strictDi:!1},r);var i=function(){if((t=a(t)).injector()){var i=t[0]===e.document?"document":xe(t);throw v("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Qt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!s.test(e.name))return i();e.name=e.name.replace(s,""),w.resumeBootstrap=function(e){return M(e,function(e){n.push(e)}),i()},V(w.resumeDeferredBootstrap)&&w.resumeDeferredBootstrap()}function Pe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function $e(e){var t=w.element(e).injector();if(!t)throw v("test","no injector found for element argument to getTestability");return t.get("$$testability")}var Ae=/[A-Z]/g;function Re(e,t){return t=t||"_",e.replace(Ae,function(e,n){return(n?t:"")+e.toLowerCase()})}var Oe=!1;function Ie(){pt.legacyXHTMLReplacement=!0}function Fe(e,t,n){if(!e)throw v("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Ne(e,t,n){return n&&q(e)&&(e=e[e.length-1]),Fe(V(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Ye(e,t){if("hasOwnProperty"===e)throw v("badname","hasOwnProperty is not a valid {0} name",t)}function je(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=a(m.call(e,0,i))),t.push(n));return t||e}function He(){return Object.create(null)}function Ue(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!N(e)||q(e)||W(e)?ge(e):e.toString()}return e}var ze=3;function Ge(e,t){if(q(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(H(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function We(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):Y(e)?"undefined":"string"!=typeof e?function(e,t){var n=[];return i(t)&&(e=w.copy(e,null,t)),JSON.stringify(e,function(e,t){if(H(t=me(e,t))){if(n.indexOf(t)>=0)return"...";n.push(t)}return t})}(e,t):e}var qe={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};pt.expando="ng339";var Be=pt.cache={},Ve=1;pt._data=function(e){return this.cache[e[this.expando]]||{}};var Xe=/-([a-z])/g,Ke=/^-ms-/,Ze={mouseleave:"mouseout",mouseenter:"mouseover"},Je=o("jqLite");function Qe(e,t){return t.toUpperCase()}function et(e){return e.replace(Xe,Qe)}var tt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,nt=/<|&#?\w+;/,rt=/<([\w:-]+)/,it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ot={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td;var st={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var at in ot){var lt=ot[at],ct=lt.slice().reverse();st[at]=[ct.length,"<"+ct.join("><")+">","</"+lt.join("></")+">"]}function ut(e){return!nt.test(e)}function ht(e){var t=e.nodeType;return 1===t||!t||9===t}function dt(t,n){var r,i,o,a,l,c=n.createDocumentFragment(),u=[];if(ut(t))u.push(n.createTextNode(t));else{if(r=c.appendChild(n.createElement("div")),i=(rt.exec(t)||["",""])[1].toLowerCase(),a=pt.legacyXHTMLReplacement?t.replace(it,"<$1></$2>"):t,s<10)for(o=st[i]||st._default,r.innerHTML=o[1]+a+o[2],l=o[0];l--;)r=r.firstChild;else{for(l=(o=ot[i]||[]).length;--l>-1;)r.appendChild(e.document.createElement(o[l])),r=r.firstChild;r.innerHTML=a}u=de(u,r.childNodes),(r=c.firstChild).textContent=""}return c.textContent="",c.innerHTML="",M(u,function(e){c.appendChild(e)}),c}st.optgroup=st.option;var ft=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function pt(t){if(t instanceof pt)return t;var n,r,i,o;if(z(t)&&(t=te(t),n=!0),!(this instanceof pt)){if(n&&"<"!==t.charAt(0))throw Je("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new pt(t)}n?Tt(this,(r=t,i=i||e.document,(o=tt.exec(r))?[i.createElement(o[1])]:(o=dt(r,i))?o.childNodes:[])):V(t)?Pt(t):Tt(this,t)}function mt(e){return e.cloneNode(!0)}function gt(e,t){!t&&ht(e)&&a.cleanData([e]),e.querySelectorAll&&a.cleanData(e.querySelectorAll("*"))}function _t(e){var t;for(t in e)return!1;return!0}function yt(e){var t=e.ng339,n=t&&Be[t],r=n&&n.events,i=n&&n.data;i&&!_t(i)||r&&!_t(r)||(delete Be[t],e.ng339=void 0)}function bt(e,t,n,r){if(j(r))throw Je("offargs","jqLite#off() does not support the `selector` argument");var i=wt(e),o=i&&i.events,s=i&&i.handle;if(s){if(t){var a=function(t){var r=o[t];j(n)&&se(r||[],n),j(n)&&r&&r.length>0||(e.removeEventListener(t,s),delete o[t])};M(t.split(" "),function(e){a(e),Ze[e]&&a(Ze[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,s),delete o[t];yt(e)}}function vt(e,t){var n=e.ng339,r=n&&Be[n];r&&(t?delete r.data[t]:r.data={},yt(e))}function wt(e,t){var n=e.ng339,r=n&&Be[n];return t&&!r&&(e.ng339=n=++Ve,r=Be[n]={events:{},data:{},handle:void 0}),r}function xt(e,t,n){if(ht(e)){var r,i=j(n),o=!i&&t&&!H(t),s=!t,a=wt(e,!o),l=a&&a.data;if(i)l[et(t)]=n;else{if(s)return l;if(o)return l&&l[et(t)];for(r in t)l[et(r)]=t[r]}}}function St(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Mt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;M(t.split(" "),function(e){e=te(e),r=r.replace(" "+e+" "," ")}),r!==n&&e.setAttribute("class",te(r))}}function kt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;M(t.split(" "),function(e){e=te(e),-1===r.indexOf(" "+e+" ")&&(r+=e+" ")}),r!==n&&e.setAttribute("class",te(r))}}function Tt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Et(e,t){return Lt(e,"$"+(t||"ngController")+"Controller")}function Lt(e,t,n){9===e.nodeType&&(e=e.documentElement);for(var r=q(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(j(n=a.data(e,r[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Ct(e){for(gt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Dt(e,t){t||gt(e);var n=e.parentNode;n&&n.removeChild(e)}function Pt(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var $t=pt.prototype={ready:Pt,toString:function(){var e=[];return M(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return a(e>=0?this[e]:this[this.length+e])},length:0,push:_,sort:[].sort,splice:[].splice},At={};M("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){At[f(e)]=e});var Rt={};M("input,select,option,textarea,button,form,details".split(","),function(e){Rt[e]=!0});var Ot={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function It(e,t){var n=At[t.toLowerCase()];return n&&Rt[ie(e)]&&n}function Ft(e,t,n){n.call(e,t)}function Nt(e,t,n){var r=t.relatedTarget;r&&(r===e||ft.call(e,r))||n.call(e,t)}function Yt(){this.$get=function(){return D(pt,{hasClass:function(e,t){return e.attr&&(e=e[0]),St(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),kt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Mt(e,t)}})}}function jt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||E)():r+":"+e}M({data:xt,removeData:vt,hasData:function(e){for(var t in Be[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)vt(e[t]),bt(e[t])}},function(e,t){pt[t]=e}),M({data:xt,inheritedData:Lt,scope:function(e){return a.data(e,"$scope")||Lt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return a.data(e,"$isolateScope")||a.data(e,"$isolateScopeNoTemplate")},controller:Et,injector:function(e){return Lt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:St,css:function(e,t,n){if(t=function(e){return et(e.replace(Ke,"ms-"))}(t),!j(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==ze&&2!==i&&8!==i&&e.getAttribute){var o=f(t),s=At[o];if(!j(n))return r=e.getAttribute(t),s&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&s?e.removeAttribute(t):e.setAttribute(t,s?o:n)}},prop:function(e,t,n){if(!j(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(Y(t)){var n=e.nodeType;return 1===n||n===ze?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(Y(t)){if(e.multiple&&"select"===ie(e)){var n=[];return M(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(Y(t))return e.innerHTML;gt(e,!0),e.innerHTML=t},empty:Ct},function(e,t){pt.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ct&&Y(2===e.length&&e!==St&&e!==Et?t:n)){if(H(t)){for(r=0;r<o;r++)if(e===xt)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var s=e.$dv,a=Y(s)?Math.min(o,1):o,l=0;l<a;l++){var c=e(this[l],t,n);s=s?s+c:c}return s}for(r=0;r<o;r++)e(this[r],t,n);return this}}),M({removeData:vt,on:function(e,t,n,r){if(j(r))throw Je("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ht(e)){var i=wt(e,!0),o=i.events,s=i.handle;s||(s=i.handle=function(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(Y(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=i.specialHandlerWrapper||Ft;o>1&&(i=Ge(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||a(e,n,i[l])}};return n.elem=e,n}(e,o));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],l=a.length,c=function(t,r,i){var a=o[t];a||((a=o[t]=[]).specialHandlerWrapper=r,"$destroy"===t||i||e.addEventListener(t,s)),a.push(n)};l--;)t=a[l],Ze[t]?(c(Ze[t],Nt),c(t,void 0,!0)):c(t)}},off:bt,one:function(e,t,n){(e=a(e)).on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;gt(e),M(new pt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return M(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var r=0,i=(t=new pt(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;M(new pt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){var n,r,i;n=e,r=a(t).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:Dt,detach:function(e){Dt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var i=0,o=(t=new pt(t)).length;i<o;i++){var s=t[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:kt,removeClass:Mt,toggleClass:function(e,t,n){t&&M(t.split(" "),function(t){var r=n;Y(r)&&(r=!St(e,t)),(r?kt:Mt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:mt,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,a=wt(e),l=a&&a.events,c=l&&l[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:O,type:s,target:e},t.type&&(r=D(r,t)),i=Ge(c),o=n?[r].concat(n):[r],M(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){pt.prototype[t]=function(t,n,r){for(var i,o=0,s=this.length;o<s;o++)Y(i)?j(i=e(this[o],t,n,r))&&(i=a(i)):Tt(i,e(this[o],t,n,r));return j(i)?i:this}}),pt.prototype.bind=pt.prototype.on,pt.prototype.unbind=pt.prototype.off;var Ht=Object.create(null);function Ut(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Ut.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return A(e)?Ht:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var zt=Ut,Gt=[function(){this.$get=[function(){return zt}]}],Wt=/^([^(]+?)=>/,qt=/^[^(]*\(\s*([^)]*)\)/m,Bt=/,/,Vt=/^\s*(_?)(\S+?)\1\s*$/,Xt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Kt=o("$injector");function Zt(e){return Function.prototype.toString.call(e)}function Jt(e){var t=Zt(e).replace(Xt,"");return t.match(Wt)||t.match(qt)}function Qt(e,t){t=!0===t;var n={},r="Provider",i=[],o=new zt,a={$provide:{provider:p(m),factory:p(_),service:p(function(e,t){return _(e,["$injector",function(e){return e.instantiate(t)}])}),value:p(function(e,t){return _(e,F(t),!1)}),constant:p(function(e,t){Ye(e,"constant"),a[e]=t,u[e]=t}),decorator:function(e,t){var n=l.get(e+r),i=n.$get;n.$get=function(){var e=d.invoke(i,n);return d.invoke(t,null,{$delegate:e})}}}},l=a.$injector=b(a,function(e,t){throw w.isString(t)&&i.push(t),Kt("unpr","Unknown provider: {0}",i.join(" <- "))}),u={},h=b(u,function(e,t){var n=l.get(e+r,t);return d.invoke(n.$get,n,void 0,e)}),d=h;a["$injector"+r]={$get:F(h)},d.modules=l.modules=He();var f=y(e);return(d=h.get("$injector")).strictDi=t,M(f,function(e){e&&d.invoke(e)}),d.loadNewModules=function(e){M(y(e),function(e){e&&d.invoke(e)})},d;function p(e){return function(t,n){if(!H(t))return e(t,n);M(t,T(e))}}function m(e,t){if(Ye(e,"service"),(V(t)||q(t))&&(t=l.instantiate(t)),!t.$get)throw Kt("pget","Provider '{0}' must define $get factory method.",e);return a[e+r]=t}function g(e,t){return function(){var n=d.invoke(t,this);if(Y(n))throw Kt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function _(e,t,n){return m(e,{$get:!1!==n?g(e,t):t})}function y(e){Fe(Y(e)||q(e),"modulesToLoad","not an array");var t,n=[];return M(e,function(e){if(!o.get(e)){o.set(e,!0);try{z(e)?(t=c(e),d.modules[e]=t,n=n.concat(y(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):V(e)||q(e)?n.push(l.invoke(e)):Ne(e,"module")}catch(t){throw q(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Kt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=l.get(r[0]);i[r[1]].apply(i,r[2])}}}),n}function b(e,o){function l(t,r){if(e.hasOwnProperty(t)){if(e[t]===n)throw Kt("cdep","Circular dependency found: {0}",t+" <- "+i.join(" <- "));return e[t]}try{return i.unshift(t),e[t]=n,e[t]=o(t,r),e[t]}catch(r){throw e[t]===n&&delete e[t],r}finally{i.shift()}}function c(e,n,r){for(var i=[],o=Qt.$$annotate(e,t,r),s=0,a=o.length;s<a;s++){var c=o[s];if("string"!=typeof c)throw Kt("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:l(c,r))}return i}return{invoke:function(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=c(e,n,r);return q(e)&&(e=e[e.length-1]),function(e){if(s||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return J(t)||(t=e.$$ngIsClass=/^class\b/.test(Zt(e))),t}(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,n){var r=q(e)?e[e.length-1]:e,i=c(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:l,annotate:Qt.$$annotate,has:function(t){return a.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}}function en(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){var o=n.document;function s(e){if(e){e.scrollIntoView();var t=function(){var e=l.yOffset;if(V(e))e=e();else if(re(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else G(e)||(e=0);return e}();if(t){var r=e.getBoundingClientRect().top;n.scrollBy(0,r-t)}}else n.scrollTo(0,0)}function l(e){var t,n,i;(e=z(e)?e:G(e)?e.toString():r.hash())?(t=o.getElementById(e))?s(t):(n=o.getElementsByName(e),i=null,Array.prototype.some.call(n,function(e){if("a"===ie(e))return i=e,!0}),(t=i)?s(t):"top"===e&&s(null)):s(null)}return t&&i.$watch(function(){return r.hash()},function(t,n){var r,o;t===n&&""===t||(r=function(){i.$evalAsync(l)},"complete"===(o=o||e).document.readyState?o.setTimeout(r):a(o).on("load",r))}),l}]}Qt.$$annotate=function(e,t,n){var r,i;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw z(n)&&n||(n=e.name||function(e){var t=Jt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Kt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);M(Jt(e)[1].split(Bt),function(e){e.replace(Vt,function(e,t,n){r.push(n)})})}e.$inject=r}}else q(e)?(Ne(e[i=e.length-1],"fn"),r=e.slice(0,i)):Ne(e,"fn",!0);return r};var tn=o("$animate"),nn="ng-animate";function rn(e,t){return e||t?e?t?(q(e)&&(e=e.join(" ")),q(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function on(e){return H(e)?e:{}}var sn=function(){this.$get=O},an=function(){var e=new zt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:O,on:O,off:O,pin:O,push:function(s,a,l,c){c&&c(),(l=l||{}).from&&s.css(l.from),l.to&&s.css(l.to),(l.addClass||l.removeClass)&&function(n,s,a){var l=e.get(n)||{},c=i(l,s,!0),u=i(l,a,!1);(c||u)&&(e.set(n,l),t.push(n),1===t.length&&r.$$postDigest(o))}(s,l.addClass,l.removeClass);var u=new n;return u.complete(),u}};function i(e,t,n){var r=!1;return t&&M(t=z(t)?t.split(" "):q(t)?t:[],function(t){t&&(r=!0,e[t]=n)}),r}function o(){M(t,function(t){var n=e.get(t);if(n){var r=function(e){z(e)&&(e=e.split(" "));var t=He();return M(e,function(e){e.length&&(t[e]=!0)}),t}(t.attr("class")),i="",o="";M(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),M(t,function(e){i&&kt(e,i),o&&Mt(e,o)}),e.delete(t)}}),t.length=0}}]},ln=["$provide",function(e){var t=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw tn("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.customFilter=function(e){return 1===arguments.length&&(r=V(e)?e:null),r},this.classNameFilter=function(e){if(1===arguments.length&&((n=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+nn+"[(\\s|\\/)]").test(n.toString())))throw n=null,tn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',nn);return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(n,r,i,o){return r=r&&a(r),i=i&&a(i),t(n,r=r||i.parent(),i),e.push(n,"enter",on(o))},move:function(n,r,i,o){return r=r&&a(r),i=i&&a(i),t(n,r=r||i.parent(),i),e.push(n,"move",on(o))},leave:function(t,n){return e.push(t,"leave",on(n),function(){t.remove()})},addClass:function(t,n,r){return(r=on(r)).addClass=rn(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return(r=on(r)).removeClass=rn(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return(i=on(i)).addClass=rn(i.addClass,n),i.removeClass=rn(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return(o=on(o)).from=o.from?D(o.from,n):n,o.to=o.to?D(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=rn(o.tempClasses,i),e.push(t,"animate",o)}}}]}],cn=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e(function(){for(var e=0;e<t.length;e++)t[e]();t=[]})}return function(){var e=!1;return n(function(){e=!0}),function(t){e?t():n(t)}}}]},un=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?function(e){i(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function r(){if(n===e.length)return void t(!0);e[n](function(e){!1!==e?(n++,r()):t(!1)})}()},o.all=function(e,t){var n=0,r=!0;function i(i){r=r&&i,++n===e.length&&t(r)}M(e,function(e){e.done(i)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:O,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(M(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},hn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){var i=r||{};i.$$prepared||(i=ae(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,s=new n;return{start:a,end:a};function a(){return e(function(){!function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null);i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null);i.to&&(t.css(i.to),i.to=null)}(),o||s.complete(),o=!0}),s}}}]};function dn(e,t,n,r,i){var o=this,s=e.location,l=e.history,c=e.setTimeout,u=e.clearTimeout,h={},d=i(n);o.isMock=!1,o.$$completeOutstandingRequest=d.completeTask,o.$$incOutstandingRequestCount=d.incTaskCount,o.notifyWhenNoOutstandingRequests=d.notifyWhenNoPendingTasks;var f,p,m=s.href,g=t.find("base"),_=null,y=r.history?function(){try{return l.state}catch(e){}}:O;S(),o.url=function(t,n,i){if(Y(i)&&(i=null),s!==e.location&&(s=e.location),l!==e.history&&(l=e.history),t){var a=p===i;if(t=fi(t).href,m===t&&(!r.history||a))return o;var c=m&&hr(m)===hr(t);return m=t,p=i,!r.history||c&&a?(c||(_=t),n?s.replace(t):c?s.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):s.href=t,s.href!==t&&(_=t)):(l[n?"replaceState":"pushState"](i,"",t),S()),_&&(_=t),o}return function(e){return e.replace(/#$/,"")}(_||s.href)},o.state=function(){return f};var b=[],v=!1;function w(){_=null,k()}var x=null;function S(){ce(f=Y(f=y())?null:f,x)&&(f=x),x=f,p=f}function k(){var e=p;S(),m===o.url()&&e===f||(m=o.url(),p=f,M(b,function(e){e(o.url(),f)}))}o.onUrlChange=function(t){return v||(r.history&&a(e).on("popstate",w),a(e).on("hashchange",w),v=!0),b.push(t),t},o.$$applicationDestroyed=function(){a(e).off("hashchange popstate",w)},o.$$checkUrlChange=k,o.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},o.defer=function(e,t,n){var r;return t=t||0,n=n||d.DEFAULT_TASK_TYPE,d.incTaskCount(n),r=c(function(){delete h[r],d.completeTask(e,n)},t),h[r]=n,r},o.defer.cancel=function(e){if(h.hasOwnProperty(e)){var t=h[e];return delete h[e],u(e),d.completeTask(O,t),!0}return!1}}function fn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,r,i){return new dn(e,r,t,n,i)}]}function pn(){this.$get=function(){var e={};function t(t,n){if(t in e)throw o("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,i=D({},n,{id:t}),s=He(),a=n&&n.capacity||Number.MAX_VALUE,l=He(),c=null,u=null;return e[t]={put:function(e,t){if(!Y(t)){if(a<Number.MAX_VALUE)h(l[e]||(l[e]={key:e}));return e in s||r++,s[e]=t,r>a&&this.remove(u.key),t}},get:function(e){if(a<Number.MAX_VALUE){var t=l[e];if(!t)return;h(t)}return s[e]},remove:function(e){if(a<Number.MAX_VALUE){var t=l[e];if(!t)return;t===c&&(c=t.p),t===u&&(u=t.n),d(t.n,t.p),delete l[e]}e in s&&(delete s[e],r--)},removeAll:function(){s=He(),r=0,l=He(),c=u=null},destroy:function(){s=null,i=null,l=null,delete e[t]},info:function(){return D({},i,{size:r})}};function h(e){e!==c&&(u?u===e&&(u=e.n):u=e,d(e.n,e.p),d(e,c),(c=e).n=null)}function d(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return M(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function mn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var gn=o("$compile");var _n=new function(){};function yn(t,n){var r={},i="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,c=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),u=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,h=/^(on[a-z]+|formaction)$/,p=He();function m(e,t,n){var r=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=He();return M(e,function(e,o){if((e=e.trim())in p)i[o]=p[e];else{var s=e.match(r);if(!s)throw gn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(p[e]=i[o])}}),i}function g(e,t){var n={isolateScope:null,bindToController:null};if(H(e.scope)&&(!0===e.bindToController?(n.bindToController=m(e.scope,t,!0),n.isolateScope={}):n.isolateScope=m(e.scope,t,!1)),H(e.bindToController)&&(n.bindToController=m(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw gn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(n,o){return Fe(n,"name"),Ye(n,"directive"),z(n)?(!function(e){var t=e.charAt(0);if(!t||t!==f(t))throw gn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw gn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),Fe(o,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],t.factory(n+i,["$injector","$exceptionHandler",function(e,t){var i=[];return M(r[n],function(r,o){try{var s=e.invoke(r);V(s)?s={compile:F(s)}:!s.compile&&s.link&&(s.compile=F(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=function(e){var t=e.require||e.controller&&e.name;return!q(t)&&H(t)&&M(t,function(e,n){var r=e.match(u);e.substring(r[0].length)||(t[n]=r[0]+n)}),t}(s),s.restrict=function(e,t){if(e&&(!z(e)||!/[EACM]/.test(e)))throw gn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(s.restrict,n),s.$$moduleName=r.$$moduleName,i.push(s)}catch(e){t(e)}}),i}])),r[n].push(o)):M(n,T(e)),this},this.component=function e(t,n){if(!z(t))return M(t,T(pe(this,e))),this;var r=n.controller||function(){};function i(e){function t(t){return V(t)||q(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:En(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return M(n,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}return M(n,function(e,t){"$"===t.charAt(0)&&(i[t]=e,V(r)&&(r[t]=e))}),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationTrustedUrlList=function(e){return j(e)?(n.aHrefSanitizationTrustedUrlList(e),this):n.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return j(e)?(n.imgSrcSanitizationTrustedUrlList(e),this):n.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var _=!0;this.debugInfoEnabled=function(e){return j(e)?(_=e,this):_};var b=!1;this.strictComponentBindingsEnabled=function(e){return j(e)?(b=e,this):b};var v=10;this.onChangesTtl=function(e){return arguments.length?(v=e,this):v};var w=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(w=e,this):w};var x=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(x=e,this):x};var S=He();this.addPropertySecurityContext=function(e,t,n){var r=e.toLowerCase()+"|"+t.toLowerCase();if(r in S&&S[r]!==n)throw gn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,S[r],n);return S[r]=n,this},function(){function e(e,t){M(t,function(t){S[t.toLowerCase()]=e})}e(Xr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Xr.CSS,["*|style"]),e(Xr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(Xr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(Xr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,p,m,k,T,E,L,C){var P,$=/^\w/,A=e.document.createElement("div"),F=w,N=x,j=v;function U(){try{if(! --j)throw P=void 0,gn("infchng","{0} $onChanges() iterations reached. Aborting!\n",v);E.$apply(function(){for(var e=0,t=P.length;e<t;++e)try{P[e]()}catch(e){p(e)}P=void 0})}finally{j++}}function G(e,t){if(!e)return e;if(!z(e))throw gn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",r=te(e),i=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=r.split(i),s=Math.floor(o.length/2),a=0;a<s;a++){var l=2*a;n+=L.getTrustedMediaUrl(te(o[l])),n+=" "+te(o[l+1])}var c=te(o[2*a]).split(/\s/);return n+=L.getTrustedMediaUrl(te(c[0])),2===c.length&&(n+=" "+te(c[1])),n}function W(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=t[i]}else this.$attr={};this.$$element=e}function X(e,t){try{e.addClass(t)}catch(e){}}W.prototype={$normalize:xn,$addClass:function(e){e&&e.length>0&&C.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&C.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Sn(e,t);n&&n.length&&C.addClass(this.$$element,n);var r=Sn(t,e);r&&r.length&&C.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i=It(this.$$element[0],e),o=Ot[e],s=e;i?(this.$$element.prop(e,t),r=i):o&&(this[o]=t,s=o),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Re(e,"-")),"img"===ie(this.$$element)&&"srcset"===e&&(this[e]=t=G(t,"$set('srcset', value)")),!1!==n&&(null===t||Y(t)?this.$$element.removeAttr(r):$.test(r)?i&&!1===t?this.$$element.removeAttr(r):this.$$element.attr(r,t):function(e,t,n){A.innerHTML="<span "+t+">";var r=A.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],r,t));var a=this.$$observers;a&&M(a[s],function(e){try{e(t)}catch(e){p(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=He()),i=r[e]||(r[e]=[]);return i.push(t),E.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||Y(n[e])||t(n[e])}),function(){se(i,t)}}};var K=n.startSymbol(),Q=n.endSymbol(),ee="{{"===K&&"}}"===Q?I:function(e){return e.replace(/\{\{/g,K).replace(/}}/g,Q)},ne=/^ng(Attr|Prop|On)([A-Z].*)$/,re=/^(.+)Start$/;return oe.$$addBindingInfo=_?function(e,t){var n=e.data("$binding")||[];q(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:O,oe.$$addBindingClass=_?function(e){X(e,"ng-binding")}:O,oe.$$addScopeInfo=_?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:O,oe.$$addScopeClass=_?function(e,t){X(e,t?"ng-isolate-scope":"ng-scope")}:O,oe.$$createComment=function(t,n){var r="";return _&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},oe;function oe(e,t,n,r,i){e instanceof a||(e=a(e));var o=ae(e,t,e,n,r,i);oe.$$addScopeClass(e);var s=null;return function(t,n,r){if(!e)throw gn("multilink","This element has already been linked.");Fe(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new());var l,c,u,h=(r=r||{}).parentBoundTranscludeFn,d=r.transcludeControllers,f=r.futureParentElement;if(h&&h.$$boundTransclude&&(h=h.$$boundTransclude),s||(c=(l=f)&&l[0],s=c&&"foreignobject"!==ie(c)&&y.call(c).match(/SVG/)?"svg":"html"),u="html"!==s?a(Le(s,a("<div></div>").append(e).html())):n?$t.clone.call(e):e,d)for(var p in d)u.data("$"+p+"Controller",d[p].instance);return oe.$$addScopeInfo(u,t),n&&n(u,t),o&&o(t,u,u,h),n||(e=o=null),u}}function ae(e,t,n,r,i,o){for(var l,c,u,h,d,f,p,m=[],g=q(e)||e instanceof a,_=0;_<e.length;_++)l=new W,11===s&&ue(e,_,g),(u=(c=de(e[_],[],l,0===_?r:void 0,i)).length?ye(c,e[_],l,t,n,null,[],[],o):null)&&u.scope&&oe.$$addScopeClass(l.$$element),d=u&&u.terminal||!(h=e[_].childNodes)||!h.length?null:ae(h,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(m.push(_,u,d),f=!0,p=p||u),o=null;return f?function(e,n,r,i){var o,s,l,c,u,h,d,f;if(p){var g=n.length;for(f=new Array(g),u=0;u<m.length;u+=3)f[d=m[u]]=n[d]}else f=n;for(u=0,h=m.length;u<h;)l=f[m[u++]],o=m[u++],s=m[u++],o?(o.scope?(c=e.$new(),oe.$$addScopeInfo(a(l),c)):c=e,o(s,c,l,r,o.transcludeOnThisElement?he(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?he(e,t):null)):s&&s(e,l.childNodes,void 0,i)}:null}function ue(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===ze)for(;(r=o?i.nextSibling:e[t+1])&&r.nodeType===ze;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}function he(e,t,n){function r(r,i,o,s,a){return r||((r=e.$new(!1,a)).$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var i=r.$$slots=He();for(var o in t.$$slots)t.$$slots[o]?i[o]=he(e,t.$$slots[o],n):i[o]=null;return r}function de(e,t,r,i,s){var a,c,u,h=e.nodeType,d=r.$attr;switch(h){case 1:we(t,xn(c=ie(e)),"E",i,s);for(var f,p,m,g,_,y=e.attributes,b=0,v=y&&y.length;b<v;b++){var w,x=!1,S=!1,M=!1,k=!1,T=!1;p=(f=y[b]).name,g=f.value,(_=(m=xn(p.toLowerCase())).match(ne))?(M="Attr"===_[1],k="Prop"===_[1],T="On"===_[1],p=p.replace(vn,"").toLowerCase().substr(4+_[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(w=m.match(re))&&Se(w[1])&&(x=p,S=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),k||T?(r[m]=g,d[m]=f.name,k?De(e,t,m,p):Pe(t,m,p)):(d[m=xn(p.toLowerCase())]=p,!M&&r.hasOwnProperty(m)||(r[m]=g,It(e,m)&&(r[m]=!0)),$e(e,t,g,m,M),we(t,m,"A",i,s,x,S))}if("input"===c&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!N)break;if(H(u=e.className)&&(u=u.animVal),z(u)&&""!==u)for(;a=l.exec(u);)we(t,m=xn(a[2]),"C",i,s)&&(r[m]=te(a[3])),u=u.substr(a.index+a[0].length);break;case ze:!function(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&oe.$$addBindingClass(t),function(e,t){var i=t.parent();n||oe.$$addBindingClass(i),oe.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}(t,e.nodeValue);break;case 8:if(!F)break;!function(e,t,n,r,i){try{var s=o.exec(e.nodeValue);if(s){var a=xn(s[1]);we(t,a,"M",r,i)&&(n[a]=te(s[2]))}}catch(e){}}(e,t,r,i,s)}return t.sort(Te),t}function me(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw gn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1===e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0);else r.push(e);return a(r)}function ge(e,t,n){return function(r,i,o,s,a){return i=me(i[0],t,n),e(r,i,o,s,a)}}function _e(e,t,n,r,i,o){var s;return e?oe(t,n,r,i,o):function(){return s||(s=oe(t,n,r,i,o),t=n=o=null),s.apply(this,arguments)}}function ye(t,n,r,i,o,s,l,c,u){u=u||{};for(var h,d,f,m,g,_=-Number.MAX_VALUE,y=u.newScopeDirective,b=u.controllerDirectives,v=u.newIsolateScopeDirective,w=u.templateDirective,x=u.nonTlbTranscludeDirective,S=!1,k=!1,E=u.hasElementTranscludeDirective,L=r.$$element=a(n),C=s,P=i,$=!1,A=!1,R=0,O=t.length;R<O;R++){var I=(h=t[R]).$$start,F=h.$$end;if(I&&(L=me(n,I,F)),f=void 0,_>h.priority)break;if((g=h.scope)&&(h.templateUrl||(H(g)?(Ee("new/isolated scope",v||y,h,L),v=h):Ee("new/isolated scope",v,h,L)),y=y||h),d=h.name,!$&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var N,j=R+1;N=t[j++];)if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){A=!0;break}$=!0}if(!h.templateUrl&&h.controller&&(b=b||He(),Ee("'"+d+"' controller",b[d],h,L),b[d]=h),g=h.transclude)if(S=!0,h.$$tlb||(Ee("transclusion",x,h,L),x=h),"element"===g)E=!0,_=h.priority,f=L,L=r.$$element=a(oe.$$createComment(d,r[d])),n=L[0],Ae(o,fe(f),n),P=_e(A,f,i,_,C&&C.name,{nonTlbTranscludeDirective:x});else{var U=He();if(H(g)){f=e.document.createDocumentFragment();var z=He(),G=He();for(var B in M(g,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,z[e]=t,U[t]=null,G[t]=n}),M(L.contents(),function(t){var n=z[xn(ie(t))];n?(G[n]=!0,U[n]=U[n]||e.document.createDocumentFragment(),U[n].appendChild(t)):f.appendChild(t)}),M(G,function(e,t){if(!e)throw gn("reqslot","Required transclusion slot `{0}` was not filled.",t)}),U)if(U[B]){var X=a(U[B].childNodes);U[B]=_e(A,X,i)}f=a(f.childNodes)}else f=a(mt(n)).contents();L.empty(),(P=_e(A,f,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope})).$$slots=U}if(h.template)if(k=!0,Ee("template",w,h,L),w=h,g=V(h.template)?h.template(L,r):h.template,g=ee(g),h.replace){if(C=h,f=ut(g)?[]:Mn(Le(h.templateNamespace,te(g))),n=f[0],1!==f.length||1!==n.nodeType)throw gn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d,"");Ae(o,L,n);var K={$attr:{}},J=de(n,[],K),Q=t.splice(R+1,t.length-(R+1));(v||y)&&ve(J,v,y),t=t.concat(J).concat(Q),Me(r,K),O=t.length}else L.html(g);if(h.templateUrl)k=!0,Ee("template",w,h,L),w=h,h.replace&&(C=h),se=ke(t.splice(R,t.length-R),L,r,o,S&&P,l,c,{controllerDirectives:b,newScopeDirective:y!==h&&y,newIsolateScopeDirective:v,templateDirective:w,nonTlbTranscludeDirective:x}),O=t.length;else if(h.compile)try{m=h.compile(L,r,P);var ne=h.$$originalDirective||h;V(m)?re(null,pe(ne,m),I,F):m&&re(pe(ne,m.pre),pe(ne,m.post),I,F)}catch(e){p(e,xe(L))}h.terminal&&(se.terminal=!0,_=Math.max(_,h.priority))}return se.scope=y&&!0===y.scope,se.transcludeOnThisElement=S,se.templateOnThisElement=k,se.transclude=P,u.hasElementTranscludeDirective=E,se;function re(e,t,n,r){e&&(n&&(e=ge(e,n,r)),e.require=h.require,e.directiveName=d,(v===h||h.$$isolateScope)&&(e=Oe(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=ge(t,n,r)),t.require=h.require,t.directiveName=d,(v===h||h.$$isolateScope)&&(t=Oe(t,{isolateScope:!0})),c.push(t))}function se(e,t,i,o,s){var u,h,d,f,m,g,_,x,S,k;for(var L in n===i?(S=r,x=r.$$element):S=new W(x=a(i),r),m=t,v?f=t.$new(!0):y&&(m=t.$parent),s&&(_=function(e,t,n,r){var i;Z(e)||(r=n,n=t,t=e,e=void 0);E&&(i=g);n||(n=E?x.parent():x);if(!r)return s(e,t,i,n,A);var o=s.$$slots[r];if(o)return o(e,t,i,n,A);if(Y(o))throw gn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,xe(x))},_.$$boundTransclude=s,_.isSlotFilled=function(e){return!!s.$$slots[e]}),b&&(g=function(e,t,n,r,i,o,s){var a=He();for(var l in r){var c=r[l],u={$scope:c===s||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=c.controller;"@"===h&&(h=t[c.name]);var d=T(h,u,!0,c.controllerAs);a[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return a}(x,S,_,b,f,t,v)),v&&(oe.$$addScopeInfo(x,f,!0,!(w&&(w===v||w===v.$$originalDirective))),oe.$$addScopeClass(x,!0),f.$$isolateBindings=v.$$isolateBindings,(k=Ye(t,S,f,f.$$isolateBindings,v)).removeWatches&&f.$on("$destroy",k.removeWatches)),g){var C=b[L],P=g[L],$=C.$$bindings.bindToController;P.instance=P(),x.data("$"+C.name+"Controller",P.instance),P.bindingInfo=Ye(m,S,P.instance,$,C)}for(M(b,function(e,t){var n=e.require;e.bindToController&&!q(n)&&H(n)&&D(g[t].instance,be(t,n,x,g))}),M(g,function(e){var t=e.instance;if(V(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){p(e)}if(V(t.$onInit))try{t.$onInit()}catch(e){p(e)}V(t.$doCheck)&&(m.$watch(function(){t.$doCheck()}),t.$doCheck()),V(t.$onDestroy)&&m.$on("$destroy",function(){t.$onDestroy()})}),u=0,h=l.length;u<h;u++)Ie(d=l[u],d.isolateScope?f:t,x,S,d.require&&be(d.directiveName,d.require,x,g),_);var A=t;for(v&&(v.template||null===v.templateUrl)&&(A=f),e&&e(A,i.childNodes,void 0,s),u=c.length-1;u>=0;u--)Ie(d=c[u],d.isolateScope?f:t,x,S,d.require&&be(d.directiveName,d.require,x,g),_);M(g,function(e){var t=e.instance;V(t.$postLink)&&t.$postLink()})}}function be(e,t,n,r){var i;if(z(t)){var o=t.match(u),s=t.substring(o[0].length),a=o[1]||o[3],l="?"===o[2];if("^^"===a?n=n.parent():i=(i=r&&r[s])&&i.instance,!i){var c="$"+s+"Controller";i="^^"===a&&n[0]&&9===n[0].nodeType?null:a?n.inheritedData(c):n.data(c)}if(!i&&!l)throw gn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(q(t)){i=[];for(var h=0,d=t.length;h<d;h++)i[h]=be(e,t[h],n,r)}else H(t)&&(i={},M(t,function(t,o){i[o]=be(e,t,n,r)}));return i||null}function ve(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=R(e[r],{$$isolateScope:t,$$newScope:n})}function we(e,n,o,s,a,l,c){if(n===a)return null;var u=null;if(r.hasOwnProperty(n))for(var h,d=t.get(n+i),f=0,p=d.length;f<p;f++)if(h=d[f],(Y(s)||s>h.priority)&&-1!==h.restrict.indexOf(o)){if(l&&(h=R(h,{$$start:l,$$end:c})),!h.$$bindings){var m=h.$$bindings=g(h,h.name);H(m.isolateScope)&&(h.$$isolateBindings=m.isolateScope)}e.push(h),u=h}return u}function Se(e){if(r.hasOwnProperty(e))for(var n=t.get(e+i),o=0,s=n.length;o<s;o++)if(n[o].multiElement)return!0;return!1}function Me(e,t){var n=t.$attr,r=e.$attr;M(e,function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r.length?r+=("style"===i?";":" ")+t[i]:r=t[i]),e.$set(i,r,!0,n[i]))}),M(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ke(e,t,n,r,i,o,s,l){var c,u,h=[],d=t[0],f=e.shift(),g=R(f,{templateUrl:null,transclude:null,replace:null,$$originalDirective:f}),_=V(f.templateUrl)?f.templateUrl(t,n):f.templateUrl,y=f.templateNamespace;return t.empty(),m(_).then(function(p){var m,b,v,w;if(p=ee(p),f.replace){if(v=ut(p)?[]:Mn(Le(y,te(p))),m=v[0],1!==v.length||1!==m.nodeType)throw gn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f.name,_);b={$attr:{}},Ae(r,t,m);var x=de(m,[],b);H(f.scope)&&ve(x,!0),e=x.concat(e),Me(n,b)}else m=d,t.html(p);for(e.unshift(g),c=ye(e,m,n,i,t,f,o,s,l),M(r,function(e,n){e===m&&(r[n]=t[0])}),u=ae(t[0].childNodes,i);h.length;){var S=h.shift(),k=h.shift(),T=h.shift(),E=h.shift(),L=t[0];if(!S.$$destroyed){if(k!==d){var C=k.className;l.hasElementTranscludeDirective&&f.replace||(L=mt(m)),Ae(T,a(k),L),X(a(L),C)}w=c.transcludeOnThisElement?he(S,c.transclude,E):E,c(u,S,L,r,w)}}h=null}).catch(function(e){B(e)&&p(e)}),function(e,t,n,r,i){var o=i;t.$$destroyed||(h?h.push(t,n,r,o):(c.transcludeOnThisElement&&(o=he(t,c.transclude,i)),c(u,t,n,r,o)))}}function Te(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Ee(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw gn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,xe(r))}function Le(t,n){switch(t=f(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Ce(e){return G(L.valueOf(e),"ng-prop-srcset")}function De(e,t,n,r){if(h.test(r))throw gn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=ie(e),o=function(e,t){var n=t.toLowerCase();return S[e+"|"+n]||S["*|"+n]}(i,r),s=I;"srcset"!==r||"img"!==i&&"source"!==i?o&&(s=L.getTrusted.bind(L,o)):s=Ce,t.push({priority:100,compile:function(e,t){var i=k(t[n]),o=k(t[n],function(e){return L.valueOf(e)});return{pre:function(e,t){function n(){var n=i(e);t[0][r]=s(n)}n(),e.$watch(o,n)}}}})}function Pe(e,t,n){e.push(Uo(k,E,p,t,n,!1))}function $e(e,t,r,i,o){var s=ie(e),a=function(e,t){return"srcdoc"===t?L.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?L.RESOURCE_URL:L.MEDIA_URL:"xlinkHref"===t?"image"===e?L.MEDIA_URL:"a"===e?L.URL:L.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?L.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:L.URL}(s,i),l=!o,u=c[i]||o,d=n(r,l,a,u);if(d){if("multiple"===i&&"select"===s)throw gn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",xe(e));if(h.test(i))throw gn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=He()),l=o[i];l!==r&&(d=l&&n(l,!0,a,u),r=l),d&&(o[i]=d(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(d,function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function Ae(t,n,r){var i,o,s=n[0],l=n.length,c=s.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===s){t[i++]=r;for(var u=i,h=u+l-1,d=t.length;u<d;u++,h++)h<d?t[u]=t[h]:delete t[u];t.length-=l-1,t.context===s&&(t.context=r);break}c&&c.replaceChild(r,s);var f=e.document.createDocumentFragment();for(i=0;i<l;i++)f.appendChild(n[i]);for(a.hasData(s)&&(a.data(r,a.data(s)),a(s).off("$destroy")),a.cleanData(f.querySelectorAll("*")),i=1;i<l;i++)delete n[i];n[0]=r,n.length=1}function Oe(e,t){return D(function(){return e.apply(null,arguments)},e,t)}function Ie(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){p(e,xe(n))}}function Ne(e,t){if(b)throw gn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Ye(e,t,r,i,o){var s,a=[],l={};function c(t,n,i){V(r.$onChanges)&&!le(n,i)&&(P||(e.$$postDigest(U),P=[]),s||(s={},P.push(u)),s[t]&&(i=s[t].previousValue),s[t]=new bn(i,n))}function u(){r.$onChanges(s),s=void 0}return M(i,function(i,s){var u,h,f,p,m,g=i.attrName,_=i.optional;switch(i.mode){case"@":_||d.call(t,g)||(Ne(g,o.name),r[s]=t[g]=void 0),m=t.$observe(g,function(e){if(z(e)||J(e)){var t=r[s];c(s,e,t),r[s]=e}}),t.$$observers[g].$$scope=e,z(u=t[g])?r[s]=n(u)(e):J(u)&&(r[s]=u),l[s]=new bn(_n,r[s]),a.push(m);break;case"=":if(!d.call(t,g)){if(_)break;Ne(g,o.name),t[g]=void 0}if(_&&!t[g])break;h=k(t[g]),p=h.literal?ce:le,f=h.assign||function(){throw u=r[s]=h(e),gn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[g],g,o.name)},u=r[s]=h(e);var y=function(t){return p(t,r[s])||(p(t,u)?f(e,t=r[s]):r[s]=t),u=t};y.$stateful=!0,m=i.collection?e.$watchCollection(t[g],y):e.$watch(k(t[g],y),null,h.literal),a.push(m);break;case"<":if(!d.call(t,g)){if(_)break;Ne(g,o.name),t[g]=void 0}if(_&&!t[g])break;var b=(h=k(t[g])).literal,v=r[s]=h(e);l[s]=new bn(_n,r[s]),m=e[i.collection?"$watchCollection":"$watch"](h,function(e,t){if(t===e){if(t===v||b&&ce(t,v))return;t=v}c(s,e,t),r[s]=e}),a.push(m);break;case"&":if(_||d.call(t,g)||Ne(g,o.name),(h=t.hasOwnProperty(g)?k(t[g]):O)===O&&_)break;r[s]=function(t){return h(e,t)}}}),{initialChanges:l,removeWatches:a.length&&function(){for(var e=0,t=a.length;e<t;++e)a[e]()}}}}]}function bn(e,t){this.previousValue=e,this.currentValue=t}yn.$inject=["$provide","$$sanitizeUriProvider"],bn.prototype.isFirstChange=function(){return this.previousValue===_n};var vn=/^((?:x|data)[:\-_])/i,wn=/[:\-_]+(.)/g;function xn(e){return e.replace(vn,"").replace(wn,function(e,t,n){return n?t.toUpperCase():t})}function Sn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s===i[a])continue e;n+=(n.length>0?" ":"")+s}return n}function Mn(e){var t=(e=a(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===ze&&""===n.nodeValue.trim())&&g.call(e,t,1)}return e}var kn=o("$controller"),Tn=/^(\S+)(\s+as\s+([\w$]+))?$/;function En(e,t){if(t&&z(t))return t;if(z(e)){var n=Tn.exec(e);if(n)return n[3]}}function Ln(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){Ye(t,"controller"),H(t)?D(e,t):e[t]=n},this.$get=["$injector",function(t){return function(r,i,o,s){var a,l,c,u;if(o=!0===o,s&&z(s)&&(u=s),z(r)){if(!(l=r.match(Tn)))throw kn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(c=l[1],u=u||l[3],r=e.hasOwnProperty(c)?e[c]:function(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,s=i.length,a=0;a<s;a++)r=i[a],e&&(e=(o=e)[r]);return!n&&V(e)?pe(o,e):e}(i.$scope,c,!0),!r)throw kn("ctrlreg","The controller with the name '{0}' is not registered.",c);Ne(r,c,!0)}if(o){var h=(q(r)?r[r.length-1]:r).prototype;return a=Object.create(h||null),u&&n(i,u,a,c||r.name),D(function(){var e=t.invoke(r,a,i,c);return e!==a&&(H(e)||V(e))&&(a=e,u&&n(i,u,a,c||r.name)),a},{instance:a,identifier:u})}return a=t.instantiate(r,i,c),u&&n(i,u,a,c||r.name),a};function n(e,t,n,r){if(!e||!H(e.$scope))throw o("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function Cn(){this.$get=["$window",function(e){return a(e.document)}]}function Dn(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function i(){r=n.hidden}return e.on("visibilitychange",i),t.$on("$destroy",function(){e.off("visibilitychange",i)}),function(){return r}}]}function Pn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var $n=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof a&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},An="application/json",Rn={"Content-Type":An+";charset=utf-8"},On=/^\[|^\{(?!\{)/,In={"[":/]$/,"{":/}$/},Fn=/^\)]\}',?\n/,Nn=o("$http");function Yn(e){return H(e)?W(e)?e.toISOString():ge(e):e}function jn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return k(e,function(e,n){null===e||Y(e)||V(e)||(q(e)?M(e,function(e){t.push(Te(n)+"="+Te(Yn(e)))}):t.push(Te(n)+"="+Te(Yn(e))))}),t.join("&")}}}function Hn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,r,i){q(n)?M(n,function(t,n){e(t,r+"["+(H(t)?n:"")+"]")}):H(n)&&!W(n)?k(n,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):(V(n)&&(n=n()),t.push(Te(r)+"="+(null==n?"":Te(Yn(n)))))}(e,"",!0),t.join("&")}}}function Un(e,t){if(z(e)){var n=e.replace(Fn,"").trim();if(n){var r=t("Content-Type"),i=r&&0===r.indexOf(An);if(i||(s=(o=n).match(On))&&In[s[0]].test(o))try{e=_e(n)}catch(t){if(!i)return e;throw Nn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var o,s;return e}function zn(e){var t,n=He();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return z(e)?M(e.split("\n"),function(e){t=e.indexOf(":"),r(f(te(e.substr(0,t))),te(e.substr(t+1)))}):H(e)&&M(e,function(e,t){r(f(t),te(e))}),n}function Gn(e){var t;return function(n){if(t||(t=zn(e)),n){var r=t[f(n)];return void 0===r&&(r=null),r}return t}}function Wn(e,t,n,r){return V(r)?r(e,t,n):(M(r,function(r){e=r(e,t,n)}),e)}function qn(e){return 200<=e&&e<300}function Bn(){var e=this.defaults={transformResponse:[Un],transformRequest:[function(e){return!H(e)||(t=e,"[object File]"===y.call(t))||function(e){return"[object Blob]"===y.call(e)}(e)||function(e){return"[object FormData]"===y.call(e)}(e)?e:ge(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ge(Rn),put:Ge(Rn),patch:Ge(Rn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return j(e)?(t=!!e,this):t};var n=this.interceptors=[],r=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,s,a,l,c,u,h,d){var m=l("$http");e.paramSerializer=z(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var g=[];M(n,function(e){g.unshift(z(e)?h.get(e):h.invoke(e))});var _,y=(_=[hi].concat(r.map(fi)),function(e){var t=fi(e);return _.some(pi.bind(null,t))});function b(n){if(!H(n))throw o("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!z(d.valueOf(n.url)))throw o("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var r=D({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);r.headers=function(t){var n,r,i,o=e.headers,s=D({},t.headers);o=D({},o.common,o[f(t.method)]);e:for(n in o){for(i in r=f(n),s)if(f(i)===r)continue e;s[n]=o[n]}return function(e,t){var n,r={};return M(e,function(e,i){V(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e}),r}(s,Ge(t))}(n),r.method=p(r.method),r.paramSerializer=z(r.paramSerializer)?h.get(r.paramSerializer):r.paramSerializer,i.$$incOutstandingRequestCount("$http");var l=[],_=[],v=u.resolve(r);return M(g,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&_.push(e.response,e.responseError)}),v=(v=w(v,l)).then(function(n){var r=n.headers,i=Wn(n.data,Gn(r),void 0,n.transformRequest);Y(i)&&M(r,function(e,t){"content-type"===f(t)&&delete r[t]});Y(n.withCredentials)&&!Y(e.withCredentials)&&(n.withCredentials=e.withCredentials);return function(n,r){var i,o,l=u.defer(),h=l.promise,p=n.headers,g="jsonp"===f(n.method),_=n.url;g?_=d.getTrustedResourceUrl(_):z(_)||(_=d.valueOf(_));_=function(e,t){t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(_,n.paramSerializer(n.params)),g&&(_=function(e,t){var n=e.split("?");if(n.length>2)throw Nn("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return M(Me(n[1]),function(n,r){if("JSON_CALLBACK"===n)throw Nn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(r===t)throw Nn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)}),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK",e}(_,n.jsonpCallbackParam));b.pendingRequests.push(n),h.then(T,T),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=H(n.cache)?n.cache:H(e.cache)?e.cache:m);i&&(j(o=i.get(_))?Q(o)?o.then(k,k):q(o)?S(o[1],o[0],Ge(o[2]),o[3],o[4]):S(o,200,{},"OK","complete"):i.put(_,h));if(Y(o)){var v=y(n.url)?a()[n.xsrfCookieName||e.xsrfCookieName]:void 0;v&&(p[n.xsrfHeaderName||e.xsrfHeaderName]=v),s(n.method,_,r,x,p,n.timeout,n.withCredentials,n.responseType,w(n.eventHandlers),w(n.uploadEventHandlers))}return h;function w(e){if(e){var n={};return M(e,function(e,r){n[r]=function(n){function r(){e(n)}t?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),n}}function x(e,n,r,o,s){function a(){S(n,e,r,o,s)}i&&(qn(e)?i.put(_,[e,n,zn(r),o,s]):i.remove(_)),t?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function S(e,t,r,i,o){(qn(t=t>=-1?t:0)?l.resolve:l.reject)({data:e,status:t,headers:Gn(r),config:n,statusText:i,xhrStatus:o})}function k(e){S(e.data,e.status,Ge(e.headers()),e.statusText,e.xhrStatus)}function T(){var e=b.pendingRequests.indexOf(n);-1!==e&&b.pendingRequests.splice(e,1)}}(n,i).then(x,x)}),v=(v=w(v,_)).finally(function(){i.$$completeOutstandingRequest(O,"$http")});function w(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function x(e){var t=D({},e);return t.data=Wn(e.data,e.headers,e.status,r.transformResponse),qn(e.status)?t:u.reject(t)}}return b.pendingRequests=[],function(e){M(arguments,function(e){b[e]=function(t,n){return b(D({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){M(arguments,function(e){b[e]=function(t,n,r){return b(D({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),b.defaults=e,b}]}function Vn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Xn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return function(e,t,n,r,i){return function(i,s,a,l,c,u,h,d,p,m){if(s=s||e.url(),"jsonp"===f(i))var g=r.createCallback(s),_=o(s,g,function(e,t){var n=200===e&&r.getResponse(g);T(l,e,n,"",t,"complete"),r.removeCallback(g)});else{var y=t(i,s),b=!1;y.open(i,s,!0),M(c,function(e,t){j(e)&&y.setRequestHeader(t,e)}),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"===fi(s).protocol?404:0),T(l,n,t,y.getAllResponseHeaders(),e,"complete")};var v=function(){T(l,-1,null,null,"","error")},w=function(){T(l,-1,null,null,"",b?"timeout":"abort")},x=function(){T(l,-1,null,null,"","timeout")};if(y.onerror=v,y.ontimeout=x,y.onabort=w,M(p,function(e,t){y.addEventListener(t,e)}),M(m,function(e,t){y.upload.addEventListener(t,e)}),h&&(y.withCredentials=!0),d)try{y.responseType=d}catch(e){if("json"!==d)throw e}y.send(Y(a)?null:a)}if(u>0)var S=n(function(){k("timeout")},u);else Q(u)&&u.then(function(){k(j(u.$$timeoutId)?"timeout":"abort")});function k(e){b="timeout"===e,_&&_(),y&&y.abort()}function T(e,t,r,i,o,s){j(S)&&n.cancel(S),_=y=null,e(t,r,i,o,s)}};function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),s=null;return o.type="text/javascript",o.src=e,o.async=!0,s=function(e){o.removeEventListener("load",s),o.removeEventListener("error",s),i.body.removeChild(o),o=null;var a=-1,l="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),n&&n(a,l)},o.addEventListener("load",s),o.addEventListener("error",s),i.body.appendChild(o),s}}(e,r,e.defer,t,n[0])}]}var Kn=w.$interpolateMinErr=o("$interpolate");function Zn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var o=e.length,s=t.length,a=new RegExp(e.replace(/./g,c),"g"),l=new RegExp(t.replace(/./g,c),"g");function c(e){return"\\\\\\"+e}function u(n){return n.replace(a,e).replace(l,t)}function h(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function d(a,l,c,d){var f=c===i.URL||c===i.MEDIA_URL;if(!a.length||-1===a.indexOf(e)){if(l)return;var p=u(a);f&&(p=i.getTrusted(c,p));var m=F(p);return m.exp=a,m.expressions=[],m.$$watchDelegate=h,m}d=!!d;for(var g,_,y,b,v,w=0,x=[],S=a.length,M=[],k=[];w<S;){if(-1===(g=a.indexOf(e,w))||-1===(_=a.indexOf(t,g+o))){w!==S&&M.push(u(a.substring(w)));break}w!==g&&M.push(u(a.substring(w,g))),b=a.substring(g+o,_),x.push(b),w=_+s,k.push(M.length),M.push("")}v=1===M.length&&1===k.length;var T=f&&v?void 0:function(e){try{return e=c&&!f?i.getTrusted(c,e):i.valueOf(e),d&&!j(e)?e:Ue(e)}catch(e){r(Kn.interr(a,e))}};if(y=x.map(function(e){return n(e,T)}),!l||x.length){var E=function(e){for(var t=0,n=x.length;t<n;t++){if(d&&Y(e[t]))return;M[k[t]]=e[t]}return f?i.getTrusted(c,v?M[0]:M.join("")):(c&&M.length>1&&Kn.throwNoconcat(a),M.join(""))};return D(function(e){var t=0,n=x.length,i=new Array(n);try{for(;t<n;t++)i[t]=y[t](e);return E(i)}catch(e){r(Kn.interr(a,e))}},{exp:a,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,function(r,i){var o=E(r);t.call(this,o,r!==i?n:o,e),n=o})}})}}return d.startSymbol=function(){return e},d.endSymbol=function(){return t},d}]}Kn.throwNoconcat=function(e){throw Kn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Kn.interr=function(e,t){return Kn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Jn=o("$interval");function Qn(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},r=function(e){t.clearInterval(e),delete n[e]},i=e(function(e,r,i){var o=t.setInterval(e,r);return n[o]=i,o},r);return i.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Jn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,i=n[t];return Gr(i.promise),i.reject("canceled"),r(t),!0},i}]}function er(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,r){return function(i,o){return function(s,a,l,c){var u=arguments.length>4,h=u?fe(arguments,4):[],d=0,f=j(c)&&!c,p=(f?n:t).defer(),m=p.promise;function g(){u?s.apply(null,h):s(d)}return l=j(l)?l:0,m.$$intervalId=i(function(){f?e.defer(g):r.$evalAsync(g),p.notify(d++),l>0&&d>=l&&(p.resolve(d),o(m.$$intervalId)),f||r.$apply()},a,p,f),m}}}]}var tr=function(){this.$get=function(){var e=w.callbacks,t={};return{createCallback:function(n){var r="_"+(e.$$counter++).toString(36),i="angular.callbacks."+r,o=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(r);return t[i]=e[r]=o,i},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var r=t[n];delete e[r.id],delete t[n]}}}},nr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,rr={http:80,https:443,ftp:21},ir=o("$location");function or(e,t,n){var r,i=(r=[],M(t,function(e,t){q(e)?M(e,function(e){r.push(Te(t,!0)+(!0===e?"":"="+Te(e,!0)))}):r.push(Te(t,!0)+(!0===e?"":"="+Te(e,!0)))}),r.length?r.join("&"):""),o=n?"#"+ke(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ke(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(i?"?"+i:"")+o}function sr(e,t){var n=fi(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=$(n.port)||rr[n.protocol]||null}var ar=/^\s*[\\/]{2,}/;function lr(e,t,n){if(ar.test(e))throw ir("badpath",'Invalid url "{0}".',e);var r="/"!==e.charAt(0);r&&(e="/"+e);var i=fi(e),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;t.$$path=function(e,t){for(var n=e.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),t&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(o,n),t.$$search=Me(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function cr(e,t){return e.slice(0,t.length)===t}function ur(e,t){if(cr(t,e))return t.substr(e.length)}function hr(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function dr(e,t,n){this.$$html5=!0,n=n||"",sr(e,this),this.$$parse=function(e){var n=ur(t,e);if(!z(n))throw ir("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);lr(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(j(o=ur(e,r))?(s=o,a=n&&j(o=ur(n,o))?t+(ur("/",o)||o):e+s):j(o=ur(t,r))?a=t+o:t===r+"/"&&(a=t),a&&this.$$parse(a),!!a);var o,s,a}}function fr(e,t,n){sr(e,this),this.$$parse=function(r){var i,o=ur(e,r)||ur(t,r);Y(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",Y(o)&&(e=r,this.replace())):Y(i=ur(n,o))&&(i=o),lr(i,this,!1),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;cr(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(r=i.exec(e))?r[1]:e}(this.$$path,i,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return hr(e)===hr(t)&&(this.$$parse(t),!0)}}function pr(e,t,n){this.$$html5=!0,fr.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e===hr(r)?o=r:(s=ur(t,r))?o=e+n+s:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,s},this.$$normalizeUrl=function(t){return e+n+t}}var mr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=or(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:gr("$$absUrl"),url:function(e){if(Y(e))return this.$$url;var t=nr.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:gr("$$protocol"),host:gr("$$host"),port:gr("$$port"),path:_r("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(z(e)||G(e))e=e.toString(),this.$$search=Me(e);else{if(!H(e))throw ir("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");M(e=ae(e,{}),function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:Y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:_r("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function gr(e){return function(){return this[e]}}function _r(e,t){return function(n){return Y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function yr(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return j(t)?(e=t,this):e},this.html5Mode=function(e){return J(e)?(t.enabled=e,this):H(e)?(J(e.enabled)&&(t.enabled=e.enabled),J(e.requireBase)&&(t.requireBase=e.requireBase),(J(e.rewriteLinks)||z(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){var l,c,u,h,d=r.baseHref(),f=r.url();if(t.enabled){if(!d&&t.requireBase)throw ir("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=(h=f).substring(0,h.indexOf("/",h.indexOf("//")+2))+(d||"/"),c=i.history?dr:pr}else u=hr(f),c=fr;var p=function(e){return e.substr(0,hr(e).lastIndexOf("/")+1)}(u);(l=new c(u,p,"#"+e)).$$parseLinkUrl(f,f),l.$$state=r.state();var m=/^\s*(javascript|mailto):/i;function g(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(e){throw l.url(i),l.$$state=o,e}}o.on("click",function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=a(e.target);"a"!==ie(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!z(i)||!Y(s.attr(i))){var c=s.prop("href"),u=s.attr("href")||s.attr("xlink:href");H(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=fi(c.animVal).href),m.test(c)||!c||s.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(e.preventDefault(),l.absUrl()!==r.url()&&n.$apply())}}}),l.absUrl()!==f&&r.url(l.absUrl(),!0);var _=!0;return r.onUrlChange(function(e,t){cr(e,p)?(n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,g(i,!1,o)):(_=!1,y(i,o)))}),n.$$phase||n.$digest()):s.location.href=e}),n.$watch(function(){if(_||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=r.url(),t=l.absUrl(),o=r.state(),s=l.$$replace,a=!((c=e)===(u=t)||fi(c).href===fi(u).href)||l.$$html5&&i.history&&o!==l.$$state;(_||a)&&(_=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(a&&g(t,s,o===l.$$state?null:l.$$state),y(e,o)))}))}var c,u;l.$$replace=!1}),l;function y(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}}]}function br(){var e=!0,t=this;this.debugEnabled=function(t){return j(t)?(e=t,this):e},this.$get=["$window",function(n){var r,i=s||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(r=o("debug"),function(){e&&r.apply(t,arguments)})};function o(e){var t=n.console||{},r=t[e]||t.log||O;return function(){var e=[];return M(arguments,function(t){e.push(function(e){return B(e)&&(e.stack&&i?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}(t))}),Function.prototype.apply.call(r,t,e)}}}]}M([pr,fr,dr],function(e){e.prototype=Object.create(mr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==dr||!this.$$html5)throw ir("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=Y(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var vr=o("$parse"),wr={}.constructor.prototype.valueOf;function xr(e){return e+""}var Sr=He();M("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Sr[e]=!0});var Mr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},kr=function(e){this.options=e};kr.prototype={constructor:kr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Sr[t],o=Sr[n],s=Sr[r];if(i||o||s){var a=s?r:o?n:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=j(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw vr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=f(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{n+=Mr[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Tr=function(e,t){this.lexer=e,this.options=t};function Er(e,t){return void 0!==e?e:t}function Lr(e,t){return void 0===e?t:void 0===t?e:e+t}Tr.Program="Program",Tr.ExpressionStatement="ExpressionStatement",Tr.AssignmentExpression="AssignmentExpression",Tr.ConditionalExpression="ConditionalExpression",Tr.LogicalExpression="LogicalExpression",Tr.BinaryExpression="BinaryExpression",Tr.UnaryExpression="UnaryExpression",Tr.CallExpression="CallExpression",Tr.MemberExpression="MemberExpression",Tr.Identifier="Identifier",Tr.Literal="Literal",Tr.ArrayExpression="ArrayExpression",Tr.Property="Property",Tr.ObjectExpression="ObjectExpression",Tr.ThisExpression="ThisExpression",Tr.LocalsExpression="LocalsExpression",Tr.NGValueParameter="NGValueParameter",Tr.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Tr.Program,body:e}},expressionStatement:function(){return{type:Tr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!$r(e))throw vr("lval","Trying to assign a value to a non l-value");e={type:Tr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Tr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Tr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Tr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Tr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Tr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Tr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Tr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Tr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=ae(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Tr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:Tr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Tr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Tr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Tr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Tr.Identifier,name:e.text}},constant:function(){return{type:Tr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Tr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Tr.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Tr.ObjectExpression,properties:t}},throwError:function(e,t){throw vr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw vr("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw vr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],s=o.text;if(s===t||s===n||s===r||s===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Tr.ThisExpression},$locals:{type:Tr.LocalsExpression}}};var Cr=2;function Dr(e,t,n){var r,i,o,s=e.isPure=function(e,t){switch(e.type){case Tr.MemberExpression:if(e.computed)return!1;break;case Tr.UnaryExpression:return 1;case Tr.BinaryExpression:return"+"!==e.operator&&1;case Tr.CallExpression:return!1}return void 0===t?Cr:t}(e,n);switch(e.type){case Tr.Program:r=!0,M(e.body,function(e){Dr(e.expression,t,s),r=r&&e.expression.constant}),e.constant=r;break;case Tr.Literal:e.constant=!0,e.toWatch=[];break;case Tr.UnaryExpression:Dr(e.argument,t,s),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Tr.BinaryExpression:Dr(e.left,t,s),Dr(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Tr.LogicalExpression:Dr(e.left,t,s),Dr(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Tr.ConditionalExpression:Dr(e.test,t,s),Dr(e.alternate,t,s),Dr(e.consequent,t,s),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Tr.Identifier:e.constant=!1,e.toWatch=[e];break;case Tr.MemberExpression:Dr(e.object,t,s),e.computed&&Dr(e.property,t,s),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Tr.CallExpression:o=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),r=o,i=[],M(e.arguments,function(e){Dr(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=o?i:[e];break;case Tr.AssignmentExpression:Dr(e.left,t,s),Dr(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Tr.ArrayExpression:r=!0,i=[],M(e.elements,function(e){Dr(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=i;break;case Tr.ObjectExpression:r=!0,i=[],M(e.properties,function(e){Dr(e.value,t,s),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(Dr(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))}),e.constant=r,e.toWatch=i;break;case Tr.ThisExpression:case Tr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Pr(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function $r(e){return e.type===Tr.Identifier||e.type===Tr.MemberExpression}function Ar(e){if(1===e.body.length&&$r(e.body[0].expression))return{type:Tr.AssignmentExpression,left:e.body[0].expression,right:{type:Tr.NGValueParameter},operator:"="}}function Rr(e){this.$filter=e}function Or(e){this.$filter=e}function Ir(e,t,n){this.ast=new Tr(e,n),this.astCompiler=n.csp?new Or(t):new Rr(t)}function Fr(e){return V(e.valueOf)?e.valueOf():wr.call(e)}function Nr(){var e,t,n=He(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){var o={csp:ue().noUnsafeEval,literals:ae(r),isIdentifierStart:V(e)&&e,isIdentifierContinue:V(t)&&t};return s.$$getAst=function(e){return new Ir(new kr(o),i,o).getAst(e).ast},s;function s(e,t){var r,s;switch(typeof e){case"string":if(e=e.trim(),!(r=n[s=e]))r=new Ir(new kr(o),i,o).parse(e),n[s]=d(r);return f(r,t);case"function":return f(e,t);default:return f(O,t)}}function a(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Fr(e))&&!n)&&(e===t||e!=e&&t!=t)}function l(e,t,n,r,i){var o,s=r.inputs;if(1===s.length){var l=a;return s=s[0],e.$watch(function(e){var t=s(e);return a(t,l,s.isPure)||(o=r(e,void 0,void 0,[t]),l=t&&Fr(t)),o},t,n,i)}for(var c=[],u=[],h=0,d=s.length;h<d;h++)c[h]=a,u[h]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var l=s[n](e);(t||(t=!a(l,c[n],s[n].isPure)))&&(u[n]=l,c[n]=l&&Fr(l))}return t&&(o=r(e,void 0,void 0,u)),o},t,n,i)}function c(e,t,n,r,i){var o,s,a=r.literal?u:j,l=r.$$intercepted||r,c=r.$$interceptor||I,h=r.inputs&&!l.inputs;return p.literal=r.literal,p.constant=r.constant,p.inputs=r.inputs,d(p),o=e.$watch(p,t,n,i);function f(){a(s)&&o()}function p(e,t,n,r){return s=h&&r?r[0]:l(e,t,n,r),a(s)&&e.$$postDigest(f),c(s)}}function u(e){var t=!0;return M(e,function(e){j(e)||(t=!1)}),t}function h(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function d(e){return e.constant?e.$$watchDelegate=h:e.oneTime?e.$$watchDelegate=c:e.inputs&&(e.$$watchDelegate=l),e}function f(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}(e.$$interceptor,t),e=e.$$intercepted);var n=!1,r=function(r,i,o,s){var a=n&&s?s[0]:e(r,i,o,s);return t(a)};return r.$$intercepted=e,r.$$interceptor=t,r.literal=e.literal,r.oneTime=e.oneTime,r.constant=e.constant,t.$stateful||(n=!e.inputs,r.inputs=e.inputs?e.inputs:[e],t.$$pure||(r.inputs=r.inputs.map(function(e){return e.isPure===Cr?function(t){return e(t)}:e}))),d(r)}}]}function Yr(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Hr(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return j(t)?(e=t,this):e}}function jr(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Hr(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return j(t)?(e=t,this):e}}function Hr(e,t,n){var r=o("$q",TypeError),i=0,s=[];function a(){return new l}function l(){var e=this.promise=new c;this.resolve=function(t){d(e,t)},this.reject=function(t){p(e,t)},this.notify=function(t){g(e,t)}}function c(){this.$$state={status:0}}function u(){for(;!i&&s.length;){var e=s.shift();if(!Ur(e)){zr(e);var n="Possibly unhandled rejection: "+We(e.value);B(e.value)?t(e.value,n):t(n)}}}function h(r){!n||r.pending||2!==r.status||Ur(r)||(0===i&&0===s.length&&e(u),s.push(r)),!r.processScheduled&&r.pending&&(r.processScheduled=!0,++i,e(function(){!function(r){var o,s,a;a=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var l=0,c=a.length;l<c;++l){zr(r),s=a[l][0],o=a[l][r.status];try{V(o)?d(s,o(r.value)):1===r.status?d(s,r.value):p(s,r.value)}catch(e){p(s,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--i,n&&0===i&&e(u)}}(r)}))}function d(e,t){e.$$state.status||(t===e?m(e,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):f(e,t))}function f(e,t){var n,r=!1;try{(H(t)||V(t))&&(n=t.then),V(n)?(e.$$state.status=-1,n.call(t,function(t){if(r)return;r=!0,f(e,t)},i,function(t){g(e,t)})):(e.$$state.value=t,e.$$state.status=1,h(e.$$state))}catch(e){i(e)}function i(t){r||(r=!0,m(e,t))}}function p(e,t){e.$$state.status||m(e,t)}function m(e,t){e.$$state.value=t,e.$$state.status=2,h(e.$$state)}function g(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&e(function(){for(var e,n,o=0,s=i.length;o<s;o++){n=i[o][0],e=i[o][3];try{g(n,V(e)?e(r):r)}catch(e){t(e)}}})}function _(e){var t=new c;return p(t,e),t}function y(e,t,n){var r=null;try{V(n)&&(r=n())}catch(e){return _(e)}return Q(r)?r.then(function(){return t(e)},_):t(e)}function b(e,t,n,r){var i=new c;return d(i,e),i.then(t,n,r)}D(c.prototype,{then:function(e,t,n){if(Y(e)&&Y(t)&&Y(n))return this;var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&h(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return y(t,v,e)},function(t){return y(t,_,e)},t)}});var v=b;function w(e){if(!V(e))throw r("norslvr","Expected resolverFn, got '{0}'",e);var t=new c;return e(function(e){d(t,e)},function(e){p(t,e)}),t}return w.prototype=c.prototype,w.defer=a,w.reject=_,w.when=b,w.resolve=v,w.all=function(e){var t=new c,n=0,r=q(e)?[]:{};return M(e,function(e,i){n++,b(e).then(function(e){r[i]=e,--n||d(t,r)},function(e){p(t,e)})}),0===n&&d(t,r),t},w.race=function(e){var t=a();return M(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise},w}function Ur(e){return!!e.pur}function zr(e){e.pur=!0}function Gr(e){e.$$state&&zr(e.$$state)}function Wr(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function qr(){var e=10,t=o("$rootScope"),n=null,r=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(i,o,a){function l(e){e.currentScope.$$destroyed=!0}function c(e){9===s&&(e.$$childHead&&c(e.$$childHead),e.$$nextSibling&&c(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function u(){this.$id=E(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}u.prototype={constructor:u,$new:function(e,t){var n;return t=t||this,e?(n=new u).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=E(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",l),n},$watch:function(e,t,r,i){var s=o(e),a=V(t)?t:O;if(s.$$watchDelegate)return s.$$watchDelegate(this,a,r,s,e);var l=this,c=l.$$watchers,u={fn:a,last:w,get:s,exp:i||e,eq:!!r};return n=null,c||((c=l.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(u),c.$$digestWatchIndex++,b(this,1),function(){var e=se(c,u);e>=0&&(b(l,-1),e<c.$$digestWatchIndex&&c.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),r=new Array(e.length),i=[],o=this,s=!1,a=!0;if(!e.length){var l=!0;return o.$evalAsync(function(){l&&t(r,r,o)}),function(){l=!1}}if(1===e.length)return this.$watch(e[0],function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)});function c(){s=!1;try{a?(a=!1,t(r,r,o)):t(r,n,o)}finally{for(var i=0;i<e.length;i++)n[i]=r[i]}}return M(e,function(e,t){var n=o.$watch(e,function(e){r[t]=e,s||(s=!0,o.$evalAsync(c))});i.push(n)}),function(){for(;i.length;)i.shift()()}},$watchCollection:function(e,t){m.$$pure=o(e).literal,m.$stateful=!m.$$pure;var n,r,i,s=this,a=t.length>1,l=0,c=o(e,m),u=[],h={},f=!0,p=0;function m(e){var t,i,o,s;if(!Y(n=e)){if(H(n))if(S(n)){r!==u&&(p=(r=u).length=0,l++),t=n.length,p!==t&&(l++,r.length=p=t);for(var a=0;a<t;a++)s=r[a],o=n[a],s!=s&&o!=o||s===o||(l++,r[a]=o)}else{for(i in r!==h&&(r=h={},p=0,l++),t=0,n)d.call(n,i)&&(t++,o=n[i],s=r[i],i in r?s!=s&&o!=o||s===o||(l++,r[i]=o):(p++,r[i]=o,l++));if(p>t)for(i in l++,r)d.call(n,i)||(p--,delete r[i])}else r!==n&&(r=n,l++);return l}}return this.$watch(c,function(){if(f?(f=!1,t(n,n,s)):t(n,i,s),a)if(H(n))if(S(n)){i=new Array(n.length);for(var e=0;e<n.length;e++)i[e]=n[e]}else for(var r in i={},n)d.call(n,r)&&(i[r]=n[r]);else i=n})},$digest:function(){var o,s,l,c,u,d,m,b,v,S=e,M=f.length?h:this,k=[];_("$digest"),a.$$checkUrlChange(),this===h&&null!==r&&(a.defer.cancel(r),x()),n=null;do{u=!1,m=M;for(var T=0;T<f.length;T++){try{(0,(v=f[T]).fn)(v.scope,v.locals)}catch(e){i(e)}n=null}f.length=0;e:do{if(c=!m.$$suspended&&m.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(o=c[c.$$digestWatchIndex])if((s=(0,o.get)(m))===(l=o.last)||(o.eq?ce(s,l):A(s)&&A(l))){if(o===n){u=!1;break e}}else u=!0,n=o,o.last=o.eq?ae(s,null):s,(0,o.fn)(s,l===w?s:l,m),S<5&&(k[b=4-S]||(k[b]=[]),k[b].push({msg:V(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:s,oldVal:l}))}catch(e){i(e)}if(!(d=!m.$$suspended&&m.$$watchersCount&&m.$$childHead||m!==M&&m.$$nextSibling))for(;m!==M&&!(d=m.$$nextSibling);)m=m.$parent}while(m=d);if((u||f.length)&&!S--)throw y(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,k)}while(u||f.length);for(y();g<p.length;)try{p[g++]()}catch(e){i(e)}p.length=g=0,a.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===h&&a.$$applicationDestroyed(),b(this,-this.$$watchersCount),this.$$listenerCount)v(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=O,this.$on=this.$watch=this.$watchGroup=function(){return O},this.$$listeners={},this.$$nextSibling=null,c(this)}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e,t){h.$$phase||f.length||a.defer(function(){f.length&&h.$digest()},null,"$evalAsync"),f.push({scope:this,fn:o(e),locals:t})},$$postDigest:function(e){p.push(e)},$apply:function(e){try{_("$apply");try{return this.$eval(e)}finally{y()}}catch(e){i(e)}finally{try{h.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){var t=this;e&&m.push(function(){t.$eval(e)}),e=o(e),null===r&&(r=a.defer(function(){h.$apply(x)},null,"$applyAsync"))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(delete n[r],v(i,1,e))}},$emit:function(e,t){var n,r,o,s=[],a=this,l=!1,c={name:e,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=de([c],arguments,1);do{for(n=a.$$listeners[e]||s,c.currentScope=a,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,u)}catch(e){i(e)}else n.splice(r,1),r--,o--;if(l)break;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,o=n,s={name:e,targetScope:n,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return s;for(var a,l,c,u=de([s],arguments,1);r=o;){for(s.currentScope=r,l=0,c=(a=r.$$listeners[e]||[]).length;l<c;l++)if(a[l])try{a[l].apply(null,u)}catch(e){i(e)}else a.splice(l,1),l--,c--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(o=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var h=new u,f=h.$$asyncQueue=[],p=h.$$postDigestQueue=[],m=h.$$applyAsyncQueue=[],g=0;return h;function _(e){if(h.$$phase)throw t("inprog","{0} already in progress",h.$$phase);h.$$phase=e}function y(){h.$$phase=null}function b(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function v(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function w(){}function x(){for(;m.length;)try{m.shift()()}catch(e){i(e)}r=null}}]}function Br(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return j(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return j(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i=r?t:e,o=fi(n&&n.trim()).href;return""===o||o.match(i)?n:"unsafe:"+o}}}Rr.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Dr(e,t.$filter);var n,r="";if(this.stage="assign",n=Ar(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Pr(e.body);t.stage="inputs",M(o,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:r,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,xr,Er,Lr);return this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return M(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return M(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var s,a,l,c,u,h=this;if(r=r||O,!o&&j(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case Tr.Program:M(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){a=e}),n!==e.body.length-1?h.current().body.push(a,";"):h.return_(a)});break;case Tr.Literal:c=this.escape(e.value),this.assign(t,c),r(t||c);break;case Tr.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){a=e}),c=e.operator+"("+this.ifDefined(a,0)+")",this.assign(t,c),r(c);break;case Tr.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){a=e}),c="+"===e.operator?this.plus(s,a):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(a,0):"("+s+")"+e.operator+"("+a+")",this.assign(t,c),r(c);break;case Tr.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),r(t);break;case Tr.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),r(t);break;case Tr.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),r(t);break;case Tr.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){e.computed?(a=h.nextId(),h.recurse(e.property,a),h.getStringValue(a),i&&1!==i&&h.if_(h.not(h.computedMember(s,a)),h.lazyAssign(h.computedMember(s,a),"{}")),c=h.computedMember(s,a),h.assign(t,c),n&&(n.computed=!0,n.name=a)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),c=h.nonComputedMember(s,e.property.name),h.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),r(t)},!!i);break;case Tr.CallExpression:t=t||this.nextId(),e.filter?(a=h.filter(e.callee.name),l=[],M(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),l.push(t)}),c=a+"("+l.join(",")+")",h.assign(t,c),r(t)):(a=h.nextId(),s={},l=[],h.recurse(e.callee,a,s,function(){h.if_(h.notNull(a),function(){M(e.arguments,function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,function(e){l.push(e)})}),c=s.name?h.member(s.context,s.name,s.computed)+"("+l.join(",")+")":a+"("+l.join(",")+")",h.assign(t,c)},function(){h.assign(t,"undefined")}),r(t)}));break;case Tr.AssignmentExpression:a=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,a),c=h.member(s.context,s.name,s.computed)+e.operator+a,h.assign(t,c),r(t||c)})},1);break;case Tr.ArrayExpression:l=[],M(e.elements,function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),r(t||c);break;case Tr.ObjectExpression:l=[],u=!1,M(e.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),M(e.properties,function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===Tr.Identifier?e.key.name:""+e.key.value,a=h.nextId(),h.recurse(e.value,a),h.assign(h.member(t,s,e.computed),a)})):(M(e.properties,function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,function(e){l.push(h.escape(t.key.type===Tr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),r(t||c);break;case Tr.ThisExpression:this.assign(t,"s"),r(t||"s");break;case Tr.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case Tr.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var s=this;return function(){s.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(z(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(G(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw vr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Or.prototype={compile:function(e){var t,n,r=this;Dr(e,r.$filter),(t=Ar(e))&&(n=this.recurse(t));var i,o=Pr(e.body);o&&(i=[],M(o,function(e,t){var n=r.recurse(e);n.isPure=e.isPure,e.input=n,i.push(n),e.watchId=t}));var s=[];M(e.body,function(e){s.push(r.recurse(e.expression))});var a=0===e.body.length?O:1===e.body.length?s[0]:function(e,t){var n;return M(s,function(r){n=r(e,t)}),n};return n&&(a.assign=function(e,t,r){return n(e,r,t)}),i&&(a.inputs=i),a},recurse:function(e,t,n){var r,i,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Tr.Literal:return this.value(e.value,t);case Tr.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case Tr.BinaryExpression:case Tr.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case Tr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Tr.Identifier:return s.identifier(e.name,t,n);case Tr.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case Tr.CallExpression:return o=[],M(e.arguments,function(e){o.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,s){for(var a=[],l=0;l<o.length;++l)a.push(o[l](e,n,r,s));var c=i.apply(void 0,a,s);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,r,s){var a,l=i(e,n,r,s);if(null!=l.value){for(var c=[],u=0;u<o.length;++u)c.push(o[u](e,n,r,s));a=l.value.apply(l.context,c)}return t?{value:a}:a};case Tr.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,s){var a=r(e,n,o,s),l=i(e,n,o,s);return a.context[a.name]=l,t?{value:l}:l};case Tr.ArrayExpression:return o=[],M(e.elements,function(e){o.push(s.recurse(e))}),function(e,n,r,i){for(var s=[],a=0;a<o.length;++a)s.push(o[a](e,n,r,i));return t?{value:s}:s};case Tr.ObjectExpression:return o=[],M(e.properties,function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===Tr.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var s={},a=0;a<o.length;++a)o[a].computed?s[o[a].key(e,n,r,i)]=o[a].value(e,n,r,i):s[o[a].key]=o[a].value(e,n,r,i);return t?{value:s}:s};case Tr.ThisExpression:return function(e){return t?{value:e}:e};case Tr.LocalsExpression:return function(e,n){return t?{value:n}:n};case Tr.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=j(s)?+s:0,t?{value:s}:s}},"unary-":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=j(s)?-s:-0,t?{value:s}:s}},"unary!":function(e,t){return function(n,r,i,o){var s=!e(n,r,i,o);return t?{value:s}:s}},"binary+":function(e,t,n){return function(r,i,o,s){var a=Lr(e(r,i,o,s),t(r,i,o,s));return n?{value:a}:a}},"binary-":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),l=t(r,i,o,s),c=(j(a)?a:0)-(j(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)*t(r,i,o,s);return n?{value:a}:a}},"binary/":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)/t(r,i,o,s);return n?{value:a}:a}},"binary%":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)%t(r,i,o,s);return n?{value:a}:a}},"binary===":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)===t(r,i,o,s);return n?{value:a}:a}},"binary!==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!==t(r,i,o,s);return n?{value:a}:a}},"binary==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)==t(r,i,o,s);return n?{value:a}:a}},"binary!=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!=t(r,i,o,s);return n?{value:a}:a}},"binary<":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<t(r,i,o,s);return n?{value:a}:a}},"binary>":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>t(r,i,o,s);return n?{value:a}:a}},"binary<=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<=t(r,i,o,s);return n?{value:a}:a}},"binary>=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>=t(r,i,o,s);return n?{value:a}:a}},"binary&&":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)&&t(r,i,o,s);return n?{value:a}:a}},"binary||":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)||t(r,i,o,s);return n?{value:a}:a}},"ternary?:":function(e,t,n,r){return function(i,o,s,a){var l=e(i,o,s,a)?t(i,o,s,a):n(i,o,s,a);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,s){var a=i&&e in i?i:r;n&&1!==n&&a&&null==a[e]&&(a[e]={});var l=a?a[e]:void 0;return t?{context:a,name:e,value:l}:l}},computedMember:function(e,t,n,r){return function(i,o,s,a){var l,c,u=e(i,o,s,a);return null!=u&&(l=xr(l=t(i,o,s,a)),r&&1!==r&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,r){return function(i,o,s,a){var l=e(i,o,s,a);r&&1!==r&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},Ir.prototype={constructor:Ir,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Tr.Literal||e.body[0].expression.type===Tr.ArrayExpression||e.body[0].expression.type===Tr.ObjectExpression)}(t.ast),n.constant=function(e){return e.constant}(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Vr=o("$sce"),Xr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Kr=/_([a-z])/g;function Zr(e){return e.replace(Kr,Qe)}function Jr(e){var t=[];return j(e)&&M(e,function(e){t.push(function(e){if("self"===e)return e;if(z(e)){if(e.indexOf("***")>-1)throw Vr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ne(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(X(e))return new RegExp("^"+e.source+"$");throw Vr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function Qr(){this.SCE_CONTEXTS=Xr;var t=["self"],n=[];this.trustedResourceUrlList=function(e){return arguments.length&&(t=Jr(e)),t},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(n=Jr(e)),n},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(r,i){var o=function(e){throw Vr("unsafe","Attempting to use an unsafe value in a safe context.")};function s(t,n){return"self"===t?pi(n,hi)||function(t){return pi(t,function(){if(e.document.baseURI)return e.document.baseURI;ci||((ci=e.document.createElement("a")).href=".",ci=ci.cloneNode(!1));return ci.href}())}(n):!!t.exec(n.href)}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}r.has("$sanitize")&&(o=r.get("$sanitize"));var l=a(),c={};return c[Xr.HTML]=a(l),c[Xr.CSS]=a(l),c[Xr.MEDIA_URL]=a(l),c[Xr.URL]=a(c[Xr.MEDIA_URL]),c[Xr.JS]=a(l),c[Xr.RESOURCE_URL]=a(c[Xr.URL]),{trustAs:function(e,t){var n=c.hasOwnProperty(e)?c[e]:null;if(!n)throw Vr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||Y(t)||""===t)return t;if("string"!=typeof t)throw Vr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,r){if(null===r||Y(r)||""===r)return r;var a=c.hasOwnProperty(e)?c[e]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(V(r.$$unwrapTrustedValue)&&(r=r.$$unwrapTrustedValue()),e===Xr.MEDIA_URL||e===Xr.URL)return i(r.toString(),e===Xr.MEDIA_URL);if(e===Xr.RESOURCE_URL){if(function(e){var r,i,o=fi(e.toString()),a=!1;for(r=0,i=t.length;r<i;r++)if(s(t[r],o)){a=!0;break}if(a)for(r=0,i=n.length;r<i;r++)if(s(n[r],o)){a=!1;break}return a}(r))return r;throw Vr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",r.toString())}if(e===Xr.HTML)return o(r);throw Vr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function ei(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&s<8)throw Vr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=Ge(Xr);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=I),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,o=r.getTrusted,a=r.trustAs;return M(Xr,function(e,t){var n=f(t);r[Zr("parse_as_"+n)]=function(t){return i(e,t)},r[Zr("get_trusted_"+n)]=function(t){return o(e,t)},r[Zr("trust_as_"+n)]=function(t){return a(e,t)}}),r}]}function ti(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=$((/android (\d+)/.exec(f((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},l=a.body&&a.body.style,c=!1,u=!1;return l&&(c=!(!("transition"in l)&&!("webkitTransition"in l)),u=!(!("animation"in l)&&!("webkitAnimation"in l))),{history:!(!r||i<4||o),hasEvent:function(e){if("input"===e&&s)return!1;if(Y(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:ue(),transitions:c,animations:u,android:i}}]}function ni(){this.$get=F(function(e){return new ri(e)})}function ri(e){var t=this,n={},r=[],i=t.ALL_TASKS_TYPE="$$all$$",o=t.DEFAULT_TASK_TYPE="$$default$$";function s(){var e=r.pop();return e&&e.cb}function a(e){for(var t=r.length-1;t>=0;--t){var n=r[t];if(n.type===e)return r.splice(t,1),n.cb}}t.completeTask=function(t,r){r=r||o;try{t()}finally{!function(e){e=e||o,n[e]&&(n[e]--,n[i]--)}(r);var l=n[r],c=n[i];if(!c||!l)for(var u,h=c?a:s;u=h(r);)try{u()}catch(t){e.error(t)}}},t.incTaskCount=function(e){n[e=e||o]=(n[e]||0)+1,n[i]=(n[i]||0)+1},t.notifyWhenNoPendingTasks=function(e,t){n[t=t||i]?r.push({type:t,cb:e}):e()}}var ii=o("$templateRequest");function oi(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function s(a,l){s.totalPendingRequests++,z(a)&&!Y(n.get(a))||(a=o.getTrustedResourceUrl(a));var c=r.defaults&&r.defaults.transformResponse;return q(c)?c=c.filter(function(e){return e!==Un}):c===Un&&(c=null),r.get(a,D({cache:n,transformResponse:c},e)).finally(function(){s.totalPendingRequests--}).then(function(e){return n.put(a,e.data)},function(e){l||(e=ii("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText),t(e));return i.reject(e)})}return s.totalPendingRequests=0,s}]}function si(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={findBindings:function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return M(r,function(e){var r=w.element(e).data("$binding");r&&M(r,function(r){n?new RegExp("(^|\\s)"+ne(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return r}]}var ai=o("$timeout");function li(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){var o={};function s(s,a,l){V(s)||(l=a,a=s,s=O);var c,u=fe(arguments,3),h=j(l)&&!l,d=(h?r:n).defer(),f=d.promise;return c=t.defer(function(){try{d.resolve(s.apply(null,u))}catch(e){d.reject(e),i(e)}finally{delete o[f.$$timeoutId]}h||e.$apply()},a,"$timeout"),f.$$timeoutId=c,o[c]=d,f}return s.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw ai("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!o.hasOwnProperty(e.$$timeoutId))return!1;var n=e.$$timeoutId,r=o[n];return Gr(r.promise),r.reject("canceled"),delete o[n],t.defer.cancel(n)},s}]}var ci,ui=e.document.createElement("a"),hi=fi(e.location.href);ui.href="http://[::1]";var di="[::1]"===ui.hostname;function fi(e){if(!z(e))return e;var t=e;s&&(ui.setAttribute("href",t),t=ui.href),ui.setAttribute("href",t);var n=ui.hostname;return!di&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:ui.href,protocol:ui.protocol?ui.protocol.replace(/:$/,""):"",host:ui.host,search:ui.search?ui.search.replace(/^\?/,""):"",hash:ui.hash?ui.hash.replace(/^#/,""):"",hostname:n,port:ui.port,pathname:"/"===ui.pathname.charAt(0)?ui.pathname:"/"+ui.pathname}}function pi(e,t){return e=fi(e),t=fi(t),e.protocol===t.protocol&&e.host===t.host}function mi(){this.$get=F(e)}function gi(e){var t=e[0]||{},n={},r="";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,s,a,l,c=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(c!==r)for(e=(r=c).split("; "),n={},s=0;s<e.length;s++)(a=(o=e[s]).indexOf("="))>0&&(l=i(o.substring(0,a)),Y(n[l])&&(n[l]=i(o.substring(a+1))));return n}}function _i(){this.$get=gi}function yi(e){var t="Filter";function n(r,i){if(H(r)){var o={};return M(r,function(e,t){o[t]=n(t,e)}),o}return e.factory(r+t,i)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",ki),n("date",Fi),n("filter",bi),n("json",Ni),n("limitTo",Hi),n("lowercase",Yi),n("number",Ti),n("orderBy",zi),n("uppercase",ji)}function bi(){return function(e,t,n,r){if(!S(e)){if(null==e)return e;throw o("filter")("notarray","Expected array but received: {0}",e)}var i,s;switch(r=r||"$",wi(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":i=function(e,t,n,r){var i,o=H(e)&&n in e;!0===t?t=ce:V(t)||(t=function(e,t){return!Y(e)&&(null===e||null===t?e===t:!(H(t)||H(e)&&!N(e))&&(e=f(""+e),t=f(""+t),-1!==e.indexOf(t)))});return i=function(i){return o&&!H(i)?vi(i,e[n],t,n,!1):vi(i,e,t,n,r)},i}(t,n,r,s);break;default:return e}return Array.prototype.filter.call(e,i)}}function vi(e,t,n,r,i,o){var s=wi(e),a=wi(t);if("string"===a&&"!"===t.charAt(0))return!vi(e,t.substring(1),n,r,i);if(q(e))return e.some(function(e){return vi(e,t,n,r,i)});switch(s){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&vi(e[l],t,n,r,!0))return!0;return!o&&vi(e,t,n,r,!1)}if("object"===a){for(l in t){var c=t[l];if(!V(c)&&!Y(c)){var u=l===r;if(!vi(u?e:e[l],c,n,r,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function wi(e){return null===e?"null":typeof e}gi.$inject=["$document"],yi.$inject=["$provide"];var xi=22,Si=".",Mi="0";function ki(e){var t=e.NUMBER_FORMATS;return function(e,n,r){Y(n)&&(n=t.CURRENCY_SYM),Y(r)&&(r=t.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:Ei(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(i,n)}}function Ti(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Ei(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Ei(e,t,n,r,i){if(!z(e)&&!G(e)||isNaN(e))return"";var o,s=!isFinite(e),a=!1,l=Math.abs(e)+"",c="";if(s)c="∞";else{o=function(e){var t,n,r,i,o,s=0;for((n=e.indexOf(Si))>-1&&(e=e.replace(Si,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===Mi;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Mi;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>xi&&(t=t.splice(0,xi-1),s=n-1,n=1),{d:t,e:s,i:n}}(l),function(e,t,n,r){var i=e.d,o=i.length-e.i,s=(t=Y(t)?Math.min(Math.max(n,o),r):+t)+e.i,a=i[s];if(s>0){i.splice(Math.max(e.i,s));for(var l=s;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,s=t+1),i[0]=0;for(var c=1;c<s;c++)i[c]=0}if(a>=5)if(s-1<0){for(var u=0;u>s;u--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[s-1]++;for(;o<Math.max(0,t);o++)i.push(0);var h=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);h&&(i.unshift(h),e.i++)}(o,i,t.minFrac,t.maxFrac);var u=o.d,h=o.i,d=o.e,f=[];for(a=u.reduce(function(e,t){return e&&!t},!0);h<0;)u.unshift(0),h++;h>0?f=u.splice(h,u.length):(f=u,u=[0]);var p=[];for(u.length>=t.lgSize&&p.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)p.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&p.unshift(u.join("")),c=p.join(n),f.length&&(c+=r+f.join("")),d&&(c+="e+"+d)}return e<0&&!a?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Li(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=Mi+e;return n&&(e=e.substr(e.length-t)),i+e}function Ci(e,t,n,r,i){return n=n||0,function(o){var s=o["get"+e]();return(n>0||s>-n)&&(s+=n),0===s&&-12===n&&(s=12),Li(s,t,r,i)}}function Di(e,t,n){return function(r,i){var o=r["get"+e]();return i[p((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function Pi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function $i(e){return function(t){var n,r=Pi(t.getFullYear()),i=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+r;return Li(1+Math.round(i/6048e5),e)}}function Ai(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}ki.$inject=["$locale"],Ti.$inject=["$locale"];var Ri={yyyy:Ci("FullYear",4,0,!1,!0),yy:Ci("FullYear",2,0,!0,!0),y:Ci("FullYear",1,0,!1,!0),MMMM:Di("Month"),MMM:Di("Month",!0),MM:Ci("Month",2,1),M:Ci("Month",1,1),LLLL:Di("Month",!1,!0),dd:Ci("Date",2),d:Ci("Date",1),HH:Ci("Hours",2),H:Ci("Hours",1),hh:Ci("Hours",2,-12),h:Ci("Hours",1,-12),mm:Ci("Minutes",2),m:Ci("Minutes",1),ss:Ci("Seconds",2),s:Ci("Seconds",1),sss:Ci("Milliseconds",3),EEEE:Di("Day"),EEE:Di("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Li(Math[r>0?"floor":"ceil"](r/60),2)+Li(Math.abs(r%60),2)},ww:$i(2),w:$i(1),G:Ai,GG:Ai,GGG:Ai,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Oi=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ii=/^-?\d+$/;function Fi(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,a="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,z(n)&&(n=Ii.test(n)?$(n):function(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,o=0,s=n[8]?r.setUTCFullYear:r.setFullYear,a=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=$(n[9]+n[10]),o=$(n[9]+n[11])),s.call(r,$(n[1]),$(n[2])-1,$(n[3]));var l=$(n[4]||0)-i,c=$(n[5]||0)-o,u=$(n[6]||0),h=Math.round(1e3*parseFloat("0."+(n[7]||0)));return a.call(r,l,c,u,h),r}return e}(n)),G(n)&&(n=new Date(n)),!W(n)||!isFinite(n.getTime()))return n;for(;r;)(s=Oi.exec(r))?r=(l=de(l,s,1)).pop():(l.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=be(i,c),n=we(n,i,!0)),M(l,function(t){o=Ri[t],a+=o?o(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Ni(){return function(e,t){return Y(t)&&(t=2),ge(e,t)}}Fi.$inject=["$locale"];var Yi=F(f),ji=F(p);function Hi(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):$(t),A(t)?e:(G(e)&&(e=e.toString()),S(e)?(n=(n=!n||isNaN(n)?0:$(n))<0?Math.max(0,e.length+n):n,t>=0?Ui(e,n,n+t):0===n?Ui(e,t,e.length):Ui(e,Math.max(0,n+t),n)):e)}}function Ui(e,t,n){return z(e)?e.slice(t,n):m.call(e,t,n)}function zi(e){return function(r,i,s,a){if(null==r)return r;if(!S(r))throw o("orderBy")("notarray","Expected array but received: {0}",r);q(i)||(i=[i]),0===i.length&&(i=["+"]);var l=i.map(function(t){var n=1,r=I;if(V(t))r=t;else if(z(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t)).constant)){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}}),c=s?-1:1,u=V(a)?a:n,h=Array.prototype.map.call(r,function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:l.map(function(r){return function(e,n){var r=typeof e;null===e?r="null":"object"===r&&(e=function(e){if(V(e.valueOf)&&t(e=e.valueOf()))return e;if(N(e)&&t(e=e.toString()))return e;return e}(e));return{value:e,type:r,index:n}}(r.get(e),n)})}});return h.sort(function(e,t){for(var r=0,i=l.length;r<i;r++){var o=u(e.predicateValues[r],t.predicateValues[r]);if(o)return o*l[r].descending*c}return(u(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*c}),r=h.map(function(e){return e.value})};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,s=t.value;"string"===r?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===r&&(H(o)&&(o=e.index),H(s)&&(s=t.index)),o!==s&&(n=o<s?-1:1)}else n="undefined"===r?1:"undefined"===i?-1:"null"===r?1:"null"===i||r<i?-1:1;return n}}function Gi(e){return V(e)&&(e={link:e}),e.restrict=e.restrict||"AC",F(e)}zi.$inject=["$parse"];var Wi=F({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===y.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),qi={};M(At,function(e,t){if("multiple"!==e){var n=xn("ng-"+t),r=i;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&i(e,0,r)}),qi[n]=function(){return{restrict:"A",priority:100,link:r}}}function i(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}),M(Ot,function(e,t){qi[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(u);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),M(["src","srcset","href"],function(e){var t=xn("ng-"+e);qi[t]=["$sce",function(n){return{priority:99,link:function(r,i,o){var a=e,l=e;"href"===e&&"[object SVGAnimatedString]"===y.call(i.prop("href"))&&(l="xlinkHref",o.$attr[l]="xlink:href",a=null),o.$set(t,n.getTrustedMediaUrl(o[t])),o.$observe(t,function(t){t?(o.$set(l,t),s&&a&&i.prop(a,o[l])):"href"===e&&o.$set(l,null)})}}}]});var Bi={$addControl:O,$getControls:F([]),$$renameControl:function(e,t){e.$name=t},$removeControl:O,$setValidity:O,$setDirty:O,$setPristine:O,$setSubmitted:O,$$setSubmitted:O},Vi="ng-pending",Xi="ng-submitted";function Ki(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Bi,this.$$element=e,this.$$animate=r,eo(this)}Ki.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ki.prototype={$rollbackViewValue:function(){M(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){M(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){Ye(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return Ge(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],M(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),M(this.$error,function(t,n){this.$setValidity(n,null,e)},this),M(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),se(this.$$controls,e),e.$$parentForm=Bi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ko),this.$$animate.addClass(this.$$element,Zo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ko,Zo+" "+Xi),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,M(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){M(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Bi;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Xi),this.$submitted=!0,M(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},to({clazz:Ki,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(se(r,n),0===r.length&&delete e[t])}});var Zi=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Ki,compile:function(n,i){n.addClass(Ko).addClass(Vo);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,s){var a=s[0];if(!("action"in i)){var l=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(s[1]||a.$$parentForm).$addControl(a);var c=o?r(a.$name):O;o&&(c(e,a),i.$observe(o,function(t){a.$name!==t&&(c(e,void 0),a.$$parentForm.$$renameControl(a,t),(c=r(a.$name))(e,a))})),n.on("$destroy",function(){a.$$parentForm.$removeControl(a),c(e,void 0),D(a,Bi)})}}}};function r(e){return""===e?n('this[""]').assign:n(e).assign||O}}]},Ji=Zi(),Qi=Zi(!0);function eo(e){e.$$classCache={},e.$$classCache[Xo]=!(e.$$classCache[Vo]=e.$$element.hasClass(Vo))}function to(e){var t=e.clazz,n=e.set,r=e.unset;function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,n){t=t?"-"+Re(t,"-"):"",i(e,Vo+t,!0===n),i(e,Xo+t,!1===n)}t.prototype.$setValidity=function(e,t,s){var a;Y(t)?function(e,t,r,i){e[t]||(e[t]={});n(e[t],r,i)}(this,"$pending",e,s):function(e,t,n,i){e[t]&&r(e[t],n,i);no(e[t])&&(e[t]=void 0)}(this,"$pending",e,s),J(t)?t?(r(this.$error,e,s),n(this.$$success,e,s)):(n(this.$error,e,s),r(this.$$success,e,s)):(r(this.$error,e,s),r(this.$$success,e,s)),this.$pending?(i(this,Vi,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(i(this,Vi,!1),this.$valid=no(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,e,a=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,a,this)}}function no(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var ro=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,io=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,oo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,so=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ao=/^(\d{4,})-(\d{2})-(\d{2})$/,lo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,co=/^(\d{4,})-W(\d\d)$/,uo=/^(\d{4,})-(\d\d)$/,ho=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fo=He();M("date,datetime-local,month,time,week".split(","),function(e){fo[e]=!0});var po={text:function(e,t,n,r,i,o){go(e,t,n,r,i,o),mo(r)},date:yo("date",ao,_o(ao,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":yo("datetimelocal",lo,_o(lo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:yo("time",ho,_o(ho,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:yo("week",co,function(e,t){if(W(e))return e;if(z(e)){co.lastIndex=0;var n=co.exec(e);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,l=0,c=Pi(r),u=7*(i-1);return t&&(o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,c.getDate()+u,o,s,a,l)}}return NaN},"yyyy-Www"),month:yo("month",uo,_o(uo,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o,s,a){var l;if(bo(e,t,n,r,"number"),vo(r),go(e,t,n,r,i,o),j(n.min)||n.ngMin){var c=n.min||a(n.ngMin)(e);l=wo(c),r.$validators.min=function(e,t){return r.$isEmpty(t)||Y(l)||t>=l},n.$observe("min",function(e){e!==c&&(l=wo(e),c=e,r.$validate())})}if(j(n.max)||n.ngMax){var u=n.max||a(n.ngMax)(e),h=wo(u);r.$validators.max=function(e,t){return r.$isEmpty(t)||Y(h)||t<=h},n.$observe("max",function(e){e!==u&&(h=wo(e),u=e,r.$validate())})}if(j(n.step)||n.ngStep){var d=n.step||a(n.ngStep)(e),f=wo(d);r.$validators.step=function(e,t){return r.$isEmpty(t)||Y(f)||Mo(t,l||0,f)},n.$observe("step",function(e){e!==d&&(f=wo(e),d=e,r.$validate())})}},url:function(e,t,n,r,i,o){go(e,t,n,r,i,o),mo(r),r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||io.test(n)}},email:function(e,t,n,r,i,o){go(e,t,n,r,i,o),mo(r),r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||oo.test(n)}},radio:function(e,t,n,r){var i=!n.ngTrim||"false"!==te(n.ngTrim);Y(n.name)&&t.attr("name",E());t.on("change",function(e){var o;t[0].checked&&(o=n.value,i&&(o=te(o)),r.$setViewValue(o,e&&e.type))}),r.$render=function(){var e=n.value;i&&(e=te(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)},range:function(e,t,n,r,i,o){bo(e,t,n,r,"range"),vo(r),go(e,t,n,r,i,o);var s=r.$$hasNativeValidators&&"range"===t[0].type,a=s?0:void 0,l=s?100:void 0,c=s?1:void 0,u=t[0].validity,h=j(n.min),d=j(n.max),f=j(n.step),p=r.$render;r.$render=s&&j(u.rangeUnderflow)&&j(u.rangeOverflow)?function(){p(),r.$setViewValue(t.val())}:p,h&&(a=wo(n.min),r.$validators.min=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||Y(a)||t>=a},m("min",function(e){if(a=wo(e),A(r.$modelValue))return;if(s){var n=t.val();a>n&&(n=a,t.val(n)),r.$setViewValue(n)}else r.$validate()}));d&&(l=wo(n.max),r.$validators.max=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||Y(l)||t<=l},m("max",function(e){if(l=wo(e),A(r.$modelValue))return;if(s){var n=t.val();l<n&&(t.val(l),n=l<a?a:l),r.$setViewValue(n)}else r.$validate()}));f&&(c=wo(n.step),r.$validators.step=s?function(){return!u.stepMismatch}:function(e,t){return r.$isEmpty(t)||Y(c)||Mo(t,a||0,c)},m("step",function(e){if(c=wo(e),A(r.$modelValue))return;s?r.$viewValue!==t.val()&&r.$setViewValue(t.val()):r.$validate()}));function m(e,r){t.attr(e,n[e]);var i=n[e];n.$observe(e,function(e){e!==i&&(i=e,r(e))})}},checkbox:function(e,t,n,r,i,o,s,a){var l=ko(a,e,"ngTrueValue",n.ngTrueValue,!0),c=ko(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return ce(e,l)}),r.$parsers.push(function(e){return e?l:c})},hidden:O,button:O,submit:O,reset:O,file:O};function mo(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function go(e,t,n,r,i,o){var s,a=f(t[0].type);if(!i.android){var l=!1;t.on("compositionstart",function(){l=!0}),t.on("compositionupdate",function(e){(Y(e.data)||""===e.data)&&(l=!1)}),t.on("compositionend",function(){l=!1,c()})}var c=function(e){if(s&&(o.defer.cancel(s),s=null),!l){var i=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=te(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){s||(s=o.defer(function(){s=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut drop",u)}t.on("change",c),fo[a]&&r.$$hasNativeValidators&&a===n.type&&t.on("keydown wheel mousedown",function(e){if(!s){var t=this[h],n=t.badInput,r=t.typeMismatch;s=o.defer(function(){s=null,t.badInput===n&&t.typeMismatch===r||c(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function _o(e,t){return function(n,r){var i,o;if(W(n))return n;if(z(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ro.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n)){i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},M(i,function(e,n){n<t.length&&(o[t[n]]=+e)});var s=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0);return o.yyyy<100&&s.setFullYear(o.yyyy),s}}return NaN}}function yo(e,t,n,r){return function(i,o,s,a,l,c,u,h){bo(i,o,s,a,e),go(0,o,s,a,l,c);var d,f,p="time"===e||"datetimelocal"===e;if(a.$parsers.push(function(n){return a.$isEmpty(n)?null:t.test(n)?w(n,d):void(a.$$parserName=e)}),a.$formatters.push(function(e){if(e&&!W(e))throw ns("datefmt","Expected `{0}` to be a date",e);if(b(e)){d=e;var t=a.$options.getOption("timezone");return t&&(f=t,d=we(d,t,!0)),function(e,t){var n=r;p&&z(a.$options.getOption("timeSecondsFormat"))&&(n=r.replace("ss.sss",a.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=u("date")(e,n,t);p&&a.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,""));return i}(e,t)}return d=null,f=null,""}),j(s.min)||s.ngMin){var m=s.min||h(s.ngMin)(i),g=v(m);a.$validators.min=function(e){return!b(e)||Y(g)||n(e)>=g},s.$observe("min",function(e){e!==m&&(g=v(e),m=e,a.$validate())})}if(j(s.max)||s.ngMax){var _=s.max||h(s.ngMax)(i),y=v(_);a.$validators.max=function(e){return!b(e)||Y(y)||n(e)<=y},s.$observe("max",function(e){e!==_&&(y=v(e),_=e,a.$validate())})}function b(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function v(e){return j(e)&&!W(e)?w(e)||void 0:e}function w(e,t){var r=a.$options.getOption("timezone");f&&f!==r&&(t=ve(t,be(f)));var i=n(e,t);return!isNaN(i)&&r&&(i=we(i,r)),i}}}function bo(e,t,n,r,i){var o=t[0];(r.$$hasNativeValidators=H(o.validity))&&r.$parsers.push(function(e){var n=t.prop(h)||{};if(!n.badInput&&!n.typeMismatch)return e;r.$$parserName=i})}function vo(e){e.$parsers.push(function(t){return e.$isEmpty(t)?null:so.test(t)?parseFloat(t):void(e.$$parserName="number")}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!G(t))throw ns("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function wo(e){return j(e)&&!G(e)&&(e=parseFloat(e)),A(e)?void 0:e}function xo(e){return(0|e)===e}function So(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function Mo(e,t,n){var r=Number(e),i=!xo(r),o=!xo(t),s=!xo(n);if(i||o||s){var a=i?So(r):0,l=o?So(t):0,c=s?So(n):0,u=Math.max(a,l,c),h=Math.pow(10,u);r*=h,t*=h,n*=h,i&&(r=Math.round(r)),o&&(t=Math.round(t)),s&&(n=Math.round(n))}return(r-t)%n===0}function ko(e,t,n,r,i){var o;if(j(r)){if(!(o=e(r)).constant)throw ns("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}var To=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(po[f(s.type)]||po.text)(i,o,s,a[0],t,e,n,r)}}}}],Eo=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,n){if("hidden"===f(n.type))return{pre:function(t,n,r,i){var o=n[0];o.parentNode&&o.parentNode.insertBefore(o,o.nextSibling),Object.defineProperty&&Object.defineProperty(o,"value",e)}}}}},Lo=/^(true|false|\d+)$/,Co=function(){function e(e,t,n){var r=j(n)?n:9===s?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return Lo.test(n.ngValue)?function(t,n,r){e(n,r,t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,function(t){e(n,r,t)})}}}},Do=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=Ue(e)})}}}}],Po=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=Y(e)?"":e})}}}}],$o=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),s=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],Ao=F({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function Ro(e,t){var n;return e="ngClass"+e,["$parse",function(s){return{restrict:"AC",link:function(a,l,c){var u,h=l.data("$classCounts"),d=!0;function f(e,t){var n=[];return M(e,function(e){(t>0||h[e])&&(h[e]=(h[e]||0)+t,h[e]===+(t>0)&&n.push(e))}),n.join(" ")}h||(h=He(),l.data("$classCounts",h)),"ngClass"!==e&&(n||(n=s("$index",function(e){return 1&e})),a.$watch(n,function(e){e===t?(n=f(i(n=u),1),c.$addClass(n)):function(e){e=f(i(e),-1),c.$removeClass(e)}(u);var n;d=e})),a.$watch(s(c[e],o),function(e){d===t&&function(e,t){var n=i(e),o=i(t),s=r(n,o),a=r(o,n),l=f(s,-1),u=f(a,1);c.$addClass(u),c.$removeClass(l)}(u,e);u=e})}}}];function r(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function i(e){return e&&e.split(" ")}function o(e){if(!e)return e;var t=e;return q(e)?t=e.map(o).join(" "):H(e)?t=Object.keys(e).filter(function(t){return e[t]}).join(" "):z(e)||(t=e+""),t}}var Oo=Ro("",!0),Io=Ro("Odd",0),Fo=Ro("Even",1),No=Gi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Yo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],jo={},Ho={blur:!0,focus:!0};function Uo(e,t,n,r,i,o){return{restrict:"A",compile:function(s,a){var l=e(a[r]);return function(e,r){r.on(i,function(r){var i=function(){l(e,{$event:r})};if(t.$$phase)if(o)e.$evalAsync(i);else try{i()}catch(e){n(e)}else e.$apply(i)})}}}}M("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=xn("ng-"+e);jo[t]=["$parse","$rootScope","$exceptionHandler",function(n,r,i){return Uo(n,r,i,t,e,Ho[e])}]});var zo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,l,c;n.$watch(i.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),a={clone:n},e.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=je(a.clone),e.leave(c).done(function(e){!1!==e&&(c=null)}),a=null))})}}}],Go=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:w.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,l,c,u){var h,d,f,p=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).done(function(e){!1!==e&&(d=null)}),d=f,f=null)};r.$watch(o,function(o){var l=function(e){!1===e||!j(a)||a&&!r.$eval(a)||t()},d=++p;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&d===p){var t=r.$new();c.template=e;var a=u(t,function(e){m(),n.enter(e,null,i).done(l)});f=a,(h=t).$emit("$includeContentLoaded",o),r.$eval(s)}},function(){r.$$destroyed||d===p&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),c.template=null)})}}}}],Wo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(y.call(r[0]).match(/SVG/))return r.empty(),void t(dt(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r});r.html(o.template),t(r.contents())(n)}}}],qo=Gi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Bo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,s=o?te(i):i;r.$parsers.push(function(e){if(!Y(e)){var t=[];return e&&M(e.split(s),function(e){e&&t.push(o?te(e):e)}),t}}),r.$formatters.push(function(e){if(q(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}},Vo="ng-valid",Xo="ng-invalid",Ko="ng-pristine",Zo="ng-dirty",Jo="ng-untouched",Qo="ng-touched",es="ng-empty",ts="ng-not-empty",ns=o("ngModel");function rs(e,t,n,r,i,o,s,a,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Bi,this.$options=is,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=s,this.$$parse=i,this.$$q=a,this.$$exceptionHandler=t,eo(this),(c=this).$$scope.$watch(function(e){var t=c.$$ngModelGet(e);return t===c.$modelValue||c.$modelValue!=c.$modelValue&&t!=t||c.$$setModelValue(t),t})}rs.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],rs.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return V(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){V(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw ns("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,xe(this.$$element))},$render:O,$isEmpty:function(e){return Y(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,ts),this.$$animate.addClass(this.$$element,es)):(this.$$animate.removeClass(this.$$element,es),this.$$animate.addClass(this.$$element,ts))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Zo),this.$$animate.addClass(this.$$element,Ko)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ko),this.$$animate.addClass(this.$$element,Zo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Jo,Qo)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Qo,Jo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!A(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var r,i,o=this.$$currentValidationRunId,s=this;(function(){var e=s.$$parserName;if(!Y(s.$$parserValid))return s.$$parserValid||(M(s.$validators,function(e,t){a(t,null)}),M(s.$asyncValidators,function(e,t){a(t,null)})),a(e,s.$$parserValid),s.$$parserValid;a(e,null);return!0})()?!function(){var n=!0;if(M(s.$validators,function(r,i){var o=Boolean(r(e,t));n=n&&o,a(i,o)}),!n)return M(s.$asyncValidators,function(e,t){a(t,null)}),!1;return!0}()?l(!1):(r=[],i=!0,M(s.$asyncValidators,function(n,o){var s=n(e,t);if(!Q(s))throw ns("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,void 0),r.push(s.then(function(){a(o,!0)},function(){i=!1,a(o,!1)}))}),r.length?s.$$q.all(r).then(function(){l(i)},O):l(!0)):l(!1);function a(e,t){o===s.$$currentValidationRunId&&s.$setValidity(e,t)}function l(e){o===s.$$currentValidationRunId&&n(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!Y(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(Y(e=this.$parsers[n](e))){this.$$parserValid=!1;break}A(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){t.$modelValue!==r&&t.$$writeModelToScope()}this.$$rawModelValue=e,i&&(this.$modelValue=e,o()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(n){i||(t.$modelValue=n?e:void 0,o())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),M(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");G(t[e])?t=t[e]:G(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:G(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,O))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},to({clazz:rs,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var is,os=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:rs,priority:1,compile:function(t){return t.addClass(Ko).addClass(Jo).addClass(Vo),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,s=r[2];s&&(i.$options=s.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];function s(){o.$setTouched()}o.$$setUpdateOnEvents(),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(s):t.$apply(s))})}}}}}],ss=/(\s+|^)default(\s+|$)/;function as(e){this.$$options=e}as.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return M(e=D({},e),function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=te(n.replace(ss,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],cs(e,this.$$options)),cs(e,is.$$options),new as(e)}},is=new as({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ls=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:is,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function cs(e,t){M(t,function(t,n){j(e[n])||(e[n]=t)})}var us=Gi({terminal:!0,priority:1e3}),hs=o("ngOptions"),ds=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,fs=["$compile","$document","$parse",function(t,n,r){var i=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=O},post:function(e,s,l,c){for(var u=c[0],h=c[1],d=l.multiple,f=0,p=s.children(),m=p.length;f<m;f++)if(""===p[f].value){u.hasEmptyOption=!0,u.emptyOption=p.eq(f);break}s.empty();var g,_=!!u.emptyOption;a(i.cloneNode(!1)).val("?");var y=function(e,t,n){var i=e.match(ds);if(!i)throw hs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,xe(t));var o=i[5]||i[7],s=i[6],a=/ as /.test(i[0])&&i[1],l=i[9],c=r(i[2]?i[1]:o),u=a&&r(a)||c,h=l&&r(l),d=l?function(e,t){return h(n,t)}:function(e){return jt(e)},f=function(e,t){return d(e,b(e,t))},p=r(i[2]||i[1]),m=r(i[3]||""),g=r(i[4]||""),_=r(i[8]),y={},b=s?function(e,t){return y[s]=t,y[o]=e,y}:function(e){return y[o]=e,y};function v(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function w(e){var t;if(!s&&S(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:l,getTrackByValue:f,getWatchables:r(_,function(e){for(var t=[],r=w(e=e||[]),o=r.length,s=0;s<o;s++){var a=e===r?s:r[s],l=e[a],c=b(l,a),u=d(l,c);if(t.push(u),i[2]||i[1]){var h=p(n,c);t.push(h)}if(i[4]){var f=g(n,c);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},r=_(n)||[],i=w(r),o=i.length,s=0;s<o;s++){var a=r===i?s:i[s],c=r[a],h=b(c,a),y=u(n,h),x=d(y,h),S=new v(x,y,p(n,h),m(n,h),g(n,h));e.push(S),t[x]=S}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return l?ae(e.viewValue):e.viewValue}}}}}(l.ngOptions,s,e),b=n[0].createDocumentFragment();function v(e,t){var n=i.cloneNode(!1);t.appendChild(n),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label);t.value=e.selectValue}(e,n)}function w(e){var t=g.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}u.generateUnknownOptionValue=function(e){return"?"},d?(u.writeValue=function(e){if(g){var t=e&&e.map(w)||[];g.items.forEach(function(e){e.element.selected&&!oe(t,e)&&(e.element.selected=!1)})}},u.readValue=function(){var e=s.val()||[],t=[];return M(e,function(e){var n=g.selectValueMap[e];n&&!n.disabled&&t.push(g.getViewValueFromOption(n))}),t},y.trackBy&&e.$watchCollection(function(){if(q(h.$viewValue))return h.$viewValue.map(function(e){return y.getTrackByValue(e)})},function(){h.$render()})):(u.writeValue=function(e){if(g){var t=s[0].options[s[0].selectedIndex],n=g.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(s[0].value!==n.selectValue&&(u.removeUnknownOption(),s[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(e)}},u.readValue=function(){var e=g.selectValueMap[s.val()];return e&&!e.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),g.getViewValueFromOption(e)):null},y.trackBy&&e.$watch(function(){return y.getTrackByValue(h.$viewValue)},function(){h.$render()})),_&&(t(u.emptyOption)(e),s.prepend(u.emptyOption),8===u.emptyOption[0].nodeType?(u.hasEmptyOption=!1,u.registerOption=function(e,t){""===t.val()&&(u.hasEmptyOption=!0,u.emptyOption=t,u.emptyOption.removeClass("ng-scope"),h.$render(),t.on("$destroy",function(){var e=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,e&&h.$render()}))}):u.emptyOption.removeClass("ng-scope")),e.$watchCollection(y.getWatchables,function(){var e=g&&u.readValue();if(g)for(var t=g.items.length-1;t>=0;t--){var n=g.items[t];j(n.group)?Dt(n.element.parentNode):Dt(n.element)}g=y.getOptions();var r={};if(g.items.forEach(function(e){var t;j(e.group)?((t=r[e.group])||(t=o.cloneNode(!1),b.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),v(e,t)):v(e,b)}),s[0].appendChild(b),h.$render(),!h.$isEmpty(e)){var i=u.readValue();(y.trackBy||d?ce(e,i):e===i)||(h.$setViewValue(i),h.$render())}})}}}}],ps=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,a){var l,c=a.count,u=a.$attr.when&&s.attr(a.$attr.when),h=a.offset||0,d=o.$eval(u)||{},p={},m=t.startSymbol(),g=t.endSymbol(),_=m+c+"-"+h+g,y=w.noop;function b(e){s.text(e||"")}M(a,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+f(n[2]);d[r]=s.attr(a.$attr[t])}}),M(d,function(e,n){p[n]=t(e.replace(r,_))}),o.$watch(c,function(t){var r=parseFloat(t),i=A(r);if(i||r in d||(r=e.pluralCat(r-h)),!(r===l||i&&A(l))){y();var s=p[r];Y(s)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+u),y=O,b()):y=o.$watch(s,b),l=r}})}}}],ms=o("ngRef"),gs=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,n){var r=xn(ie(t)),i=e(n.ngRef),o=i.assign||function(){throw ms("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(e,t,s){var a;if(s.hasOwnProperty("ngRefRead")){if("$element"===s.ngRefRead)a=t;else if(!(a=t.data("$"+s.ngRefRead+"Controller")))throw ms("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',s.ngRefRead,n.ngRef)}else a=t.data("$"+r+"Controller");o(e,a=a||t),t.on("$destroy",function(){i(e)===a&&o(e,null)})}}}}],_s=["$parse","$animate","$compile",function(e,t,n){var r="$$NG_REMOVED",i=o("ngRepeat"),s=function(e,t,n,r,i,o,s){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=!(1&t))},a=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]},c=function(e,t,n){return jt(n)},u=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(o,h){var f=h.ngRepeat,p=n.$$createComment("end ngRepeat",f),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],_=m[2],y=m[3],b=m[4];if(!(m=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var v,w=m[3]||m[1],x=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);if(b){var k={$id:jt},T=e(b);v=function(e,t,n,r){return x&&(k[x]=t),k[w]=n,k.$index=r,T(e,k)}}return function(e,n,o,h,m){var g=He();e.$watchCollection(_,function(o){var h,_,b,T,E,L,C,D,P,$,A,R,O=n[0],I=He();if(y&&(e[y]=o),S(o))P=o,D=v||c;else for(var F in D=v||u,P=[],o)d.call(o,F)&&"$"!==F.charAt(0)&&P.push(F);for(T=P.length,A=new Array(T),h=0;h<T;h++)if(E=o===P?h:P[h],L=o[E],C=D(e,E,L,h),g[C])$=g[C],delete g[C],I[C]=$,A[h]=$;else{if(I[C])throw M(A,function(e){e&&e.scope&&(g[e.id]=e)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,C,L);A[h]={id:C,scope:void 0,clone:void 0},I[C]=!0}for(var N in k&&(k[w]=void 0),g){if(R=je(($=g[N]).clone),t.leave(R),R[0].parentNode)for(h=0,_=R.length;h<_;h++)R[h][r]=!0;$.scope.$destroy()}for(h=0;h<T;h++)if(E=o===P?h:P[h],L=o[E],($=A[h]).scope){b=O;do{b=b.nextSibling}while(b&&b[r]);a($)!==b&&t.move(je($.clone),null,O),O=l($),s($.scope,h,w,L,x,E,T)}else m(function(e,n){$.scope=n;var r=p.cloneNode(!1);e[e.length++]=r,t.enter(e,null,O),O=r,$.clone=e,I[$.id]=$,s($.scope,h,w,L,x,E,T)});g=I})}}}}],ys="ng-hide",bs="ng-hide-animate",vs=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ys,{tempClasses:bs})})}}}],ws=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ys,{tempClasses:bs})})}}}],xs=Gi(function(e,t,n){e.$watchCollection(n.ngStyle,function(e,n){n&&e!==n&&M(n,function(e,n){t.css(n,"")}),e&&t.css(e)})}),Ss=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,a=[],l=[],c=[],u=[],h=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(s,function(n){for(var r,i;c.length;)e.cancel(c.pop());for(r=0,i=u.length;r<i;++r){var s=je(l[r].clone);u[r].$destroy(),(c[r]=e.leave(s)).done(h(c,r))}l.length=0,u.length=0,(a=o.cases["!"+n]||o.cases["?"])&&M(a,function(n){n.transclude(function(r,i){u.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var s={clone:r};l.push(s),e.enter(r,o.parent(),o)})})})}}}],Ms=Gi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){var o=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e});M(o,function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),ks=Gi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ts=o("ngTransclude"),Es=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){if(!o)throw Ts("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",xe(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var s=r.ngTransclude||r.ngTranscludeSlot;function a(){n(e,function(e){t.append(e)})}o(function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==ze||r.nodeValue.trim())return!0}}(e)?t.append(e):(a(),n.$destroy())},null,s),s&&!o.isSlotFilled(s)&&a()}}}}],Ls=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Cs={$setViewValue:O,$render:O};function Ds(e,t){e.prop("selected",t),e.attr("selected",t)}var Ps=["$element","$scope",function(t,n){var r=this,i=new zt;r.selectValueMap={},r.ngModelCtrl=Cs,r.multiple=!1,r.unknownOption=a(e.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),t.prepend(r.unknownOption),Ds(r.unknownOption,!0),t.val(n)},r.updateUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),Ds(r.unknownOption,!0),t.val(n)},r.generateUnknownOptionValue=function(e){return"? "+jt(e)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(t.val(""),Ds(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&Ds(r.emptyOption,!1)},n.$on("$destroy",function(){r.renderUnknownOption=O}),r.readValue=function(){var e=t.val(),n=e in r.selectValueMap?r.selectValueMap[e]:e;return r.hasOption(n)?n:null},r.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&Ds(a(n),!1),r.hasOption(e)){r.removeUnknownOption();var i=jt(e);t.val(i in r.selectValueMap?i:e);var o=t[0].options[t[0].selectedIndex];Ds(a(o),!0)}else r.selectUnknownOrEmptyOption(e)},r.addOption=function(e,t){if(8!==t[0].nodeType){Ye(e,'"option value"'),""===e&&(r.hasEmptyOption=!0,r.emptyOption=t);var n=i.get(e)||0;i.set(e,n+1),s()}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):i.set(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return t[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&t[0].options[t[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(e){null==e&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(e):r.renderUnknownOption(e)};var o=!1;function s(){o||(o=!0,n.$$postDigest(function(){o=!1,r.ngModelCtrl.$render()}))}var l=!1;function c(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,r.ngModelCtrl.$setViewValue(r.readValue()),e&&r.ngModelCtrl.$render())}))}r.registerOption=function(e,t,n,i,o){var a,l;n.$attr.ngValue?n.$observe("value",function(e){var n,i=t.prop("selected");j(l)&&(r.removeOption(a),delete r.selectValueMap[l],n=!0),l=jt(e),a=e,r.selectValueMap[l]=e,r.addOption(e,t),t.attr("value",l),n&&i&&c()}):i?n.$observe("value",function(e){var n;r.readValue();var i=t.prop("selected");j(a)&&(r.removeOption(a),n=!0),a=e,r.addOption(e,t),n&&i&&c()}):o?e.$watch(o,function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&r.removeOption(i),r.addOption(e,t),i&&o&&c()}):r.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(r.multiple?c(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=r.readValue(),t=n.value;r.removeOption(t),s(),(r.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)})}}],$s=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ps,priority:1,link:{pre:function(e,t,n,r){var i=r[0],o=r[1];if(!o)return void(i.registerOption=O);if(i.ngModelCtrl=o,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){o.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return M(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),e},i.writeValue=function(e){M(t.find("option"),function(t){var n=!!e&&(oe(e,t.value)||oe(e,i.selectValueMap[t.value]));n!==t.selected&&Ds(a(t),n)})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||ce(s,o.$viewValue)||(s=Ge(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,r){var i=r[1];if(!i)return;var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}},As=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return j(n.ngValue)||(j(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o="$selectController",s=t.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(e,t,n,r,i)}}}}],Rs=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.hasOwnProperty("required")||e(r.ngRequired)(t);r.ngRequired||(r.required=!0),i.$validators.required=function(e,t){return!o||!i.$isEmpty(t)},r.$observe("required",function(e){o!==e&&(o=e,i.$validate())})}}}}],Os=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,n){var r,i;return n.ngPattern&&(r=n.ngPattern,i="/"===n.ngPattern.charAt(0)&&u.test(n.ngPattern)?function(){return n.ngPattern}:e(n.ngPattern)),function(e,t,n,o){if(o){var s=n.pattern;n.ngPattern?s=i(e):r=n.pattern;var a=Ns(s,r,t);n.$observe("pattern",function(e){var n=a;a=Ns(e,r,t),(n&&n.toString())!==(a&&a.toString())&&o.$validate()}),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||Y(a)||a.test(t)}}}}}}],Is=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.maxlength||e(r.ngMaxlength)(t),s=Ys(o);r.$observe("maxlength",function(e){o!==e&&(s=Ys(e),o=e,i.$validate())}),i.$validators.maxlength=function(e,t){return s<0||i.$isEmpty(t)||t.length<=s}}}}}],Fs=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.minlength||e(r.ngMinlength)(t),s=Ys(o)||-1;r.$observe("minlength",function(e){o!==e&&(s=Ys(e)||-1,o=e,i.$validate())}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=s}}}}}];function Ns(e,t,n){if(e){if(z(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw o("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,xe(n));return e}}function Ys(e){var t=$(e);return A(t)?-1:t}e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var t;if(!Oe){var n=he();(l=Y(n)?r:n?e[n]:void 0)&&l.fn.on?(a=l,D(l.fn,{scope:$t.scope,isolateScope:$t.isolateScope,controller:$t.controller,injector:$t.injector,inheritedData:$t.inheritedData})):a=pt,t=a.cleanData,a.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=(a._data(r)||{}).events)&&n.$destroy&&a(r).triggerHandler("$destroy");t(e)},w.element=a,Oe=!0}}(),function(t){D(t,{errorHandlingConfig:n,bootstrap:De,copy:ae,extend:D,merge:P,equals:ce,element:a,forEach:M,injector:Qt,noop:O,bind:pe,toJson:ge,fromJson:_e,identity:I,isUndefined:Y,isDefined:j,isString:z,isFunction:V,isObject:H,isNumber:G,isElement:re,isArray:q,version:qe,isDate:W,callbacks:{$$counter:0},getTestability:$e,reloadWithDebugInfo:Pe,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Ie,$$minErr:o,$$csp:ue,$$encodeUriSegment:ke,$$encodeUriQuery:Te,$$lowercase:f,$$stringify:Ue,$$uppercase:p}),c=function(e){var t=o("$injector"),n=o("ng");function r(e,t,n){return e[t]||(e[t]=n())}var i=r(e,"angular",Object);return i.$$minErr=i.$$minErr||o,r(i,"module",function(){var e={};return function(i,o,s){var a={};return function(e){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),o&&e.hasOwnProperty(i)&&(e[i]=null),r(e,i,function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],r=[],l=[],c=h("$injector","invoke","push",r),u={_invokeQueue:e,_configBlocks:r,_runBlocks:l,info:function(e){if(j(e)){if(!H(e))throw n("aobj","Argument '{0}' must be an object","value");return a=e,this}return a},requires:o,name:i,provider:d("$provide","provider"),factory:d("$provide","factory"),service:d("$provide","service"),value:h("$provide","value"),constant:h("$provide","constant","unshift"),decorator:d("$provide","decorator",r),animation:d("$animateProvider","register"),filter:d("$filterProvider","register"),controller:d("$controllerProvider","register"),directive:d("$compileProvider","directive"),component:d("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return s&&c(s),u;function h(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),u}}function d(t,n,r){return r||(r=e),function(e,o){return o&&V(o)&&(o.$$moduleName=i),r.push([t,n,arguments]),u}}})}})}(e),c("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Br}),e.provider("$compile",yn).directive({a:Wi,input:To,textarea:To,form:Ji,script:Ls,select:$s,option:As,ngBind:Do,ngBindHtml:$o,ngBindTemplate:Po,ngClass:Oo,ngClassEven:Fo,ngClassOdd:Io,ngCloak:No,ngController:Yo,ngForm:Qi,ngHide:ws,ngIf:zo,ngInclude:Go,ngInit:qo,ngNonBindable:us,ngPluralize:ps,ngRef:gs,ngRepeat:_s,ngShow:vs,ngStyle:xs,ngSwitch:Ss,ngSwitchWhen:Ms,ngSwitchDefault:ks,ngOptions:fs,ngTransclude:Es,ngModel:os,ngList:Bo,ngChange:Ao,pattern:Os,ngPattern:Os,required:Rs,ngRequired:Rs,minlength:Fs,ngMinlength:Fs,maxlength:Is,ngMaxlength:Is,ngValue:Co,ngModelOptions:ls}).directive({ngInclude:Wo,input:Eo}).directive(qi).directive(jo),e.provider({$anchorScroll:en,$animate:ln,$animateCss:hn,$$animateJs:sn,$$animateQueue:an,$$AnimateRunner:un,$$animateAsyncRun:cn,$browser:fn,$cacheFactory:pn,$controller:Ln,$document:Cn,$$isDocumentHidden:Dn,$exceptionHandler:Pn,$filter:yi,$$forceReflow:$n,$interpolate:Zn,$interval:Qn,$$intervalFactory:er,$http:Bn,$httpParamSerializer:jn,$httpParamSerializerJQLike:Hn,$httpBackend:Xn,$xhrFactory:Vn,$jsonpCallbacks:tr,$location:yr,$log:br,$parse:Nr,$rootScope:qr,$q:Yr,$$q:jr,$sce:ei,$sceDelegate:Qr,$sniffer:ti,$$taskTrackerFactory:ni,$templateCache:mn,$templateRequest:oi,$$testability:si,$timeout:li,$window:mi,$$rAF:Wr,$$jqLite:Yt,$$Map:Gt,$$cookieReader:_i})}]).info({angularVersion:"1.8.3"})}(w),w.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,r){var i=0|e,o=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var r=Math.pow(10,n);return{v:n,f:(e*r|0)%r}}(e,r);return 1==i&&0==o.v?t:n}})}]),a(function(){Ce(e.document,De)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))},1135:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(5093))},1221:function(e,t,n){!function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(5093))},1290:function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})}(n(5093))},1470:function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+i({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){switch(r(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function r(e){return e>9?r(e%10):e}function i(e,t){return 2===t?o(e):e}function o(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var s=[/^gen/i,/^c[ʼ\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],a=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,c=/^(gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,u=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[ʼ\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],h=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],d=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Cʼhwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Cʼhwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercʼher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:d,fullWeekdaysParse:u,shortWeekdaysParse:h,minWeekdaysParse:d,monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:l,monthsShortStrictRegex:c,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warcʼhoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Decʼh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s ʼzo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(5093))},1488:function(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(e){return function(r,i,o,s){var a=t(r),l=n[e][t(r)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,r)}},i=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:0,doy:4}})}(n(5093))},1509:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(e){return function(t,n,o,s){var a=r(t),l=i[e][r(t)];return 2===a&&(l=l[n?0:1]),l.replace(/%d/i,t)}},s=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(5093))},1541:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"D/M/YYYY",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(5093))},1545:function(e,t,n){!function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་1_ཟླ་2_ཟླ་3_ཟླ་4_ཟླ་5_ཟླ་6_ཟླ་7_ཟླ་8_ཟླ་9_ཟླ་10_ཟླ་11_ཟླ་12".split("_"),monthsShortRegex:/^(ཟླ་\d{1,2})/,monthsParseExact:!0,weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི_ཟླ_མིག_ལྷག_ཕུར_སངས_སྤེན".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}(n(5093))},1632:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1200?"上午":1200===r?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(5093))},1713:function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}(n(5093))},1734:function(e,t,n){!function(e){"use strict";var t=["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Meitheamh","Iúil","Lúnasa","Meán Fómhair","Deireadh Fómhair","Samhain","Nollaig"],n=["Ean","Feabh","Márt","Aib","Beal","Meith","Iúil","Lún","M.F.","D.F.","Samh","Noll"],r=["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Sathairn"],i=["Domh","Luan","Máirt","Céad","Déar","Aoine","Sath"],o=["Do","Lu","Má","Cé","Dé","A","Sa"];e.defineLocale("ga",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d míonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(5093))},1758:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(3662),n(9983),n(2336),n(2299),n(6883),n(9139)],void 0===(o="function"==typeof(r=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0].activeElement;e(t.target).closest(n).length||e(n).trigger("blur")},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,r="function"==typeof n.helper,i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(n=e(i.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=i.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i})),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,s=r.scrollParentNotHidden[0],a=r.document[0];s!==a&&"HTML"!==s.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+s.offsetHeight-t.pageY<i.scrollSensitivity?s.scrollTop=o=s.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+s.offsetWidth-t.pageX<i.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(a).scrollTop()<i.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<i.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(a).scrollLeft()<i.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<i.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+i.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,o,s,a,l,c,u,h,d,f,p=r.options,m=p.snapTolerance,g=n.offset.left,_=g+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(d=r.snapElements.length-1;d>=0;d--)c=(l=r.snapElements[d].left-r.margins.left)+r.snapElements[d].width,h=(u=r.snapElements[d].top-r.margins.top)+r.snapElements[d].height,_<l-m||g>c+m||b<u-m||y>h+m||!e.contains(r.snapElements[d].item.ownerDocument,r.snapElements[d].item)?(r.snapElements[d].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(u-b)<=m,o=Math.abs(h-y)<=m,s=Math.abs(l-_)<=m,a=Math.abs(c-g)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),f=i||o||s||a,"outer"!==p.snapMode&&(i=Math.abs(u-y)<=m,o=Math.abs(h-b)<=m,s=Math.abs(l-g)<=m,a=Math.abs(c-_)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[d].snapping&&(i||o||s||a||f)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=i||o||s||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(i=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable})?r.apply(t,i):r)||(e.exports=o)}()},1765:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(n(5093))},1794:function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(წამ|წუთ|საათ|წელ|დღ|თვ)(ი|ე)/,function(e,t,n){return"ი"===n?t+"ში":t+n+"ში"})},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):e},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(n(5093))},1827:function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},1848:function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},1885:function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})}(n(5093))},1897:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],void 0===(o="function"==typeof(r=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?r.apply(t,i):r)||(e.exports=o)}()},1927:function(e,t){var n;void 0===(n=function(){return function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){var t,n,r,i,o="angular/i18n/angular-locale_{{locale}}.js",s="tmhDynamicLocaleStorageCache",a=e,l="get",c="put",u={},h={};function d(e,t,r,i){var o=document.createElement("script"),s=n||document.getElementsByTagName("body")[0],a=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,i(function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),t())},30,!1))}:(o.onload=function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),t())},o.onerror=function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),r())}),o.src=e,o.async=!0,s.appendChild(o)}function f(e,t,n,o,s,l,h){function f(e,t){i===n&&(angular.forEach(e,function(n,r){t[r]?angular.isArray(t[r])&&(e[r].length=t[r].length):delete e[r]}),angular.forEach(t,function(n,r){angular.isArray(t[r])||angular.isObject(t[r])?(e[r]||(e[r]=angular.isArray(t[r])?[]:{}),f(e[r],t[r])):e[r]=t[r]}))}if(u[n])return i=n,u[n];var p,m=s.defer();return n===i?m.resolve(t):(p=l.get(n))?(i=n,o.$evalAsync(function(){f(t,p),r[c](a,n),o.$broadcast("$localeChangeSuccess",n,t),m.resolve(t)})):(i=n,u[n]=m.promise,d(e,function(){var e=angular.injector(["ngLocale"]).get("$locale");f(t,e),l.put(n,e),delete u[n],o.$applyAsync(function(){r[c](a,n),o.$broadcast("$localeChangeSuccess",n,t),m.resolve(t)})},function(){delete u[n],o.$applyAsync(function(){i===n&&(i=t.id),o.$broadcast("$localeChangeError",n),m.reject(n)})},h)),m.promise}this.localeLocationPattern=function(e){return e?(o=e,this):o},this.appendScriptTo=function(e){n=e},this.useStorage=function(e){s=e,l="get",c="put"},this.useCookieStorage=function(){angular.version.minor<7?this.useStorage("$cookieStore"):(this.useStorage("$cookies"),l="getObject",c="putObject")},this.defaultLocale=function(e){t=e},this.storageKey=function(e){return e?(a=e,this):a},this.addLocalePatternValue=function(e,t){h[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,n,c,u,d,p,m){var g=c(o);return r=n.get(s),e.$evalAsync(function(){var e;(e=r[l](a)||t)&&_(e)}),{set:_,get:function(){return i}};function _(t){var n={locale:t,angularVersion:angular.version.full};return f(g(angular.extend({},h,n)),u,t,e,d,p,m)}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"}()}.apply(t,[]))||(e.exports=n)},2124:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["थोडया सॅकंडांनी","थोडे सॅकंड"],ss:[e+" सॅकंडांनी",e+" सॅकंड"],m:["एका मिणटान","एक मिनूट"],mm:[e+" मिणटांनी",e+" मिणटां"],h:["एका वरान","एक वर"],hh:[e+" वरांनी",e+" वरां"],d:["एका दिसान","एक दीस"],dd:[e+" दिसांनी",e+" दीस"],M:["एका म्हयन्यान","एक म्हयनो"],MM:[e+" म्हयन्यानी",e+" म्हयने"],y:["एका वर्सान","एक वर्स"],yy:[e+" वर्सांनी",e+" वर्सां"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-deva",{months:{standalone:"जानेवारी_फेब्रुवारी_मार्च_एप्रील_मे_जून_जुलय_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),format:"जानेवारीच्या_फेब्रुवारीच्या_मार्चाच्या_एप्रीलाच्या_मेयाच्या_जूनाच्या_जुलयाच्या_ऑगस्टाच्या_सप्टेंबराच्या_ऑक्टोबराच्या_नोव्हेंबराच्या_डिसेंबराच्या".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"जाने._फेब्रु._मार्च_एप्री._मे_जून_जुल._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"आयतार_सोमार_मंगळार_बुधवार_बिरेस्तार_सुक्रार_शेनवार".split("_"),weekdaysShort:"आयत._सोम._मंगळ._बुध._ब्रेस्त._सुक्र._शेन.".split("_"),weekdaysMin:"आ_सो_मं_बु_ब्रे_सु_शे".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [वाजतां]",LTS:"A h:mm:ss [वाजतां]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [वाजतां]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [वाजतां]",llll:"ddd, D MMM YYYY, A h:mm [वाजतां]"},calendar:{sameDay:"[आयज] LT",nextDay:"[फाल्यां] LT",nextWeek:"[फुडलो] dddd[,] LT",lastDay:"[काल] LT",lastWeek:"[फाटलो] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s आदीं",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(वेर)/,ordinal:function(e,t){return"D"===t?e+"वेर":e},week:{dow:0,doy:3},meridiemParse:/राती|सकाळीं|दनपारां|सांजे/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?e<4?e:e+12:"सकाळीं"===t?e:"दनपारां"===t?e>12?e:e+12:"सांजे"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"राती":e<12?"सकाळीं":e<16?"दनपारां":e<20?"सांजे":"राती"}})}(n(5093))},2218:function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})}(n(5093))},2264:function(e,t,n){!function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(5093))},2271:function(e,t,n){!function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){return"m"===r?n?"минута":"минуту":e+" "+t({ss:n?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[r],+e)}var r=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:n,m:n,mm:n,h:"час",hh:n,d:"день",dd:n,w:"неделя",ww:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(5093))},2274:function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"én time",hh:"%d timer",d:"én dag",dd:"%d dager",w:"én uke",ww:"%d uker",M:"én måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},2297:function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(5093))},2299:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],void 0===(o="function"==typeof(r=function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!r||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)}})?r.apply(t,i):r)||(e.exports=o)}()},2336:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],r=function(e){return e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}}},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},2353:function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,i,o,s){var a=n(t),l=r[e][n(t)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,t)}},o=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(5093))},2475:function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(5093))},2477:function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},2572:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",w:"één week",ww:"%d weken",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5093))},2648:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(e){return e.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(e){return this.week()!==e.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(5093))},2682:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(5093))},2934:function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aŭg_sept_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(5093))},2989:function(e,t,n){var r,i;!function(o){r=[n(6932)],i=function(e){return o.Bloodhound=function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function r(e,t){return n(t,e)}e.each(t,r)},map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){if(!(r=n.call(null,i,e,t)))return!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){if(r=n.call(null,i,e,t))return!1}),!!r):r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){return e.isFunction(t)?t:n;function n(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,l=arguments;return o=function(){r=null,n||(i=e.apply(a,l))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,l)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var l=new Date,c=t-(l-s);return n=this,r=arguments,c<=0?(clearTimeout(i),i=null,s=l,o=e.apply(n,r)):i||(i=setTimeout(a,c)),o}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),n="1.3.3",r=function(){"use strict";return{nonword:n,whitespace:e,ngram:r,obj:{nonword:i(n),whitespace:i(e),ngram:i(r)}};function e(e){return(e=t.toStr(e))?e.split(/\s+/):[]}function n(e){return(e=t.toStr(e))?e.split(/\W+/):[]}function r(e){e=t.toStr(e);var n=[],r="";return t.each(e.split(""),function(e){e.match(/\s+/)?r="":(n.push(r+e),r+=e)}),n}function i(e){return function(n){return n=t.isArray(n)?n:[].slice.call(arguments,0),function(r){var i=[];return t.each(n,function(n){i=i.concat(e(t.toStr(r[n])))}),i}}}}(),i=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function r(){this.head=this.tail=null}function i(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new i(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new r}}),t.mixin(r.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),o=function(){"use strict";var n;try{(n=window.localStorage).setItem("~~~","!"),n.removeItem("~~~")}catch(e){n=null}function r(e,r){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=r||n,!this.ls&&this._noop()}return t.mixin(r.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),s(this.ls.getItem(this._prefix(e)))},set:function(e,n,r){return t.isNumber(r)?this._safeSet(this._ttlKey(e),o(i()+r)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),o(n))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=a(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var n=s(this.ls.getItem(this._ttlKey(e)));return!!(t.isNumber(n)&&i()>n)}}),r;function i(){return(new Date).getTime()}function o(e){return JSON.stringify(t.isUndefined(e)?null:e)}function s(t){return e.parseJSON(t)}function a(e){var t,r,i=[],o=n.length;for(t=0;t<o;t++)(r=n.key(t)).match(e)&&i.push(r.replace(e,""));return i}}(),s=function(){"use strict";var n=0,r={},o=new i(10);function s(e){e=e||{},this.maxPendingRequests=e.maxPendingRequests||6,this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new i(0):o}return s.setMaxPendingRequests=function(e){this.maxPendingRequests=e},s.resetCache=function(){o.reset()},t.mixin(s.prototype,{_fingerprint:function(t){return(t=t||{}).url+t.type+e.param(t.data||{})},_get:function(e,t){var i,o,s=this;function a(e){t(null,e),s._cache.set(i,e)}function l(){t(!0)}function c(){n--,delete r[i],s.onDeckRequestArgs&&(s._get.apply(s,s.onDeckRequestArgs),s.onDeckRequestArgs=null)}i=this._fingerprint(e),this.cancelled||i!==this.lastReq||((o=r[i])?o.done(a).fail(l):n<this.maxPendingRequests?(n++,r[i]=this._send(e).done(a).fail(l).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,r){var i,o;r=r||e.noop,n=t.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(i=this._cache.get(o))?r(null,i):this._get(n,r)},cancel:function(){this.cancelled=!0}}),s}(),a=window.SearchIndex=function(){"use strict";var n="c",r="i";function i(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||t.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.matchAnyQueryToken=n.matchAnyQueryToken,this.reset()}return t.mixin(i.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var a,l;i.datums[a=i.identify(e)]=e,l=o(i.datumTokenizer(e)),t.each(l,function(e){var t,o,l;for(t=i.trie,o=e.split("");l=o.shift();)(t=t[n][l]||(t[n][l]=s()))[r].push(a)})})},get:function(e){var n=this;return t.map(e,function(e){return n.datums[e]})},search:function(e){var i,s,c=this;return i=o(this.queryTokenizer(e)),t.each(i,function(e){var t,i,o,a;if(s&&0===s.length&&!c.matchAnyQueryToken)return!1;for(t=c.trie,i=e.split("");t&&(o=i.shift());)t=t[n][o];if(t&&0===i.length)a=t[r].slice(0),s=s?l(s,a):a;else if(!c.matchAnyQueryToken)return s=[],!1}),s?t.map(a(s),function(e){return c.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i;function o(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function s(){var e={};return e[r]=[],e[n]={},e}function a(e){for(var t={},n=[],r=0,i=e.length;r<i;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function l(e,t){var n=0,r=0,i=[];e=e.sort(),t=t.sort();for(var o=e.length,s=t.length;n<o&&r<s;)e[n]<t[r]?n++:(e[n]>t[r]||(i.push(e[n]),n++),r++);return i}}(),l=function(){"use strict";var e;function n(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new o(e.cacheKey)}return e={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(n.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(e.data,t,this.ttl),this.storage.set(e.protocol,location.protocol,this.ttl),this.storage.set(e.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,n={};return this.cache?(n.data=this.storage.get(e.data),n.protocol=this.storage.get(e.protocol),n.thumbprint=this.storage.get(e.thumbprint),t=n.thumbprint!==this.thumbprint||n.protocol!==location.protocol,n.data&&!t?n.data:null):null},fromNetwork:function(e){var t,n=this;function r(){e(!0)}function i(t){e(null,n.transform(t))}e&&(t=this.prepare(this._settings()),this.transport(t).fail(r).done(i))},clear:function(){return this.storage.clear(),this}}),n}(),c=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.indexResponse=e.indexResponse,this.transport=new s({cache:e.cache,limiter:e.limiter,transport:e.transport,maxPendingRequests:e.maxPendingRequests})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){var n,r=this;if(t)return e=e||"",n=this.prepare(e,this._settings()),this.transport.get(n,i);function i(e,n){t(e?[]:r.transform(n))}},cancelLastRequest:function(){this.transport.cancel()}}),e}(),u=function(){"use strict";return function(n){var o,s;return o={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null},!(n=t.mixin(o,n||{})).datumTokenizer&&e.error("datumTokenizer is required"),!n.queryTokenizer&&e.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(e){return e.sort(s)}:t.identity,n.local=t.isFunction(n.local)?n.local():n.local,n.prefetch=r(n.prefetch),n.remote=i(n.remote),n};function r(r){var i;return r?(i={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,!(r=t.mixin(i,r)).url&&e.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=n+r.thumbprint,r.transport=r.transport?a(r.transport):e.ajax,r):null}function i(n){var r;if(n)return r={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,!(n=t.mixin(r,n)).url&&e.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):e.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(e){var t,n,r;return t=e.prepare,n=e.replace,r=e.wildcard,t||(t=n?i:e.wildcard?o:s);function i(e,t){return t.url=n(t.url,e),t}function o(e,t){return t.url=t.url.replace(r,encodeURIComponent(e)),t}function s(e,t){return t}}function s(e){var n,r,i;return n=e.limiter,r=e.rateLimitBy,i=e.rateLimitWait,n||(n=/^throttle$/i.test(r)?s(i):o(i)),n;function o(e){return function(n){return t.debounce(n,e)}}function s(e){return function(n){return t.throttle(n,e)}}}function a(n){return function(r){var i=e.Deferred();return n(r,o,s),i;function o(e){t.defer(function(){i.resolve(e)})}function s(e){t.defer(function(){i.reject(e)})}}}}(),h=function(){"use strict";var n;function i(e){e=u(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.indexRemote=e.indexRemote,this.local=e.local,this.remote=e.remote?new c(e.remote):null,this.prefetch=e.prefetch?new l(e.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}return n=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=n),i},i.tokenizers=r,t.mixin(i.prototype,{__ttAdapter:function(){var e=this;return this.remote?t:n;function t(t,n,r){return e.search(t,n,r)}function n(t,n){return e.search(t,n)}},_loadPrefetch:function(){var t,n,r=this;return t=e.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),t.resolve()):this.prefetch.fromNetwork(i):t.resolve(),t.promise();function i(e,n){if(e)return t.reject();r.add(n),r.prefetch.store(r.index.serialize()),t.resolve()}},_initialize:function(){var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise;function t(){e.add(e.local)}},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,n,r){var i,o=this;return n=n||t.noop,r=r||t.noop,i=this.sorter(this.index.search(e)),n(this.remote?i.slice():i),this.remote&&i.length<this.sufficient?this.remote.get(e,s):this.remote&&this.remote.cancelLastRequest(),this;function s(e){var n=[];t.each(e,function(e){!t.some(i,function(t){return o.identify(e)===o.identify(t)})&&n.push(e)}),o.indexRemote&&o.add(n),r(n)}},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return h}(e)}.apply(t,r),void 0===i||(e.exports=i)}(this),r=[n(6932)],i=function(e){return t=e,n=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(e){return n.isUndefined(e)||null===e?"":e+""},bind:t.proxy,each:function(e,n){function r(e,t){return n(t,e)}t.each(e,r)},map:t.map,filter:t.grep,every:function(e,n){var r=!0;return e?(t.each(e,function(t,i){if(!(r=n.call(null,i,t,e)))return!1}),!!r):r},some:function(e,n){var r=!1;return e?(t.each(e,function(t,i){if(r=n.call(null,i,t,e))return!1}),!!r):r},mixin:t.extend,identity:function(e){return e},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return t.isFunction(e)?e:n;function n(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,l=arguments;return o=function(){r=null,n||(i=e.apply(a,l))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,l)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var l=new Date,c=t-(l-s);return n=this,r=arguments,c<=0?(clearTimeout(i),i=null,s=l,o=e.apply(n,r)):i||(i=setTimeout(a,c)),o}},stringify:function(e){return n.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),r=function(){"use strict";var e={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t;function t(t){var s,a;return a=n.mixin({},e,t),{css:(s={css:o(),classes:a,html:r(a),selectors:i(a)}).css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(e){n.mixin(e,s)}}}function r(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div role="listbox" class="'+e.menu+'"></div>'}}function i(e){var t={};return n.each(e,function(e,n){t[n]="."+e}),t}function o(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return n.isMsie()&&n.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}}(),i=function(){"use strict";var e,r;function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return e="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},n.mixin(i.prototype,{_trigger:function(n,r){var i=t.Event(e+n);return this.$el.trigger.call(this.$el,i,r||[]),i},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=r[e])&&this._trigger(t,[].slice.call(arguments,1))}}),i}(),o=function(){"use strict";var e=/\s+/,t=l();return{onSync:i,onAsync:r,off:o,trigger:s};function n(t,n,r,i){var o;if(!r)return this;for(n=n.split(e),r=i?c(r,i):r,this._callbacks=this._callbacks||{};o=n.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][t].push(r);return this}function r(e,t,r){return n.call(this,"async",e,t,r)}function i(e,t,r){return n.call(this,"sync",e,t,r)}function o(t){var n;if(!this._callbacks)return this;for(t=t.split(e);n=t.shift();)delete this._callbacks[n];return this}function s(n){var r,i,o,s,l;if(!this._callbacks)return this;for(n=n.split(e),o=[].slice.call(arguments,1);(r=n.shift())&&(i=this._callbacks[r]);)s=a(i.sync,this,[r].concat(o)),l=a(i.async,this,[r].concat(o)),s()&&t(l);return this}function a(e,t,n){return r;function r(){for(var r,i=0,o=e.length;!r&&i<o;i+=1)r=!1===e[i].apply(t,n);return!r}}function l(){return window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function c(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}}(),s=function(e){"use strict";var t={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1,diacriticInsensitive:!1},r={A:"[AaªÀ-Åà-åĀ-ąǍǎȀ-ȃȦȧᴬᵃḀḁẚẠ-ảₐ℀℁℻⒜Ⓐⓐ㍱-㍴㎀-㎄㎈㎉㎩-㎯㏂㏊㏟㏿Ａａ]",B:"[BbᴮᵇḂ-ḇℬ⒝Ⓑⓑ㍴㎅-㎇㏃㏈㏔㏝Ｂｂ]",C:"[CcÇçĆ-čᶜ℀ℂ℃℅℆ℭⅭⅽ⒞Ⓒⓒ㍶㎈㎉㎝㎠㎤㏄-㏇Ｃｃ]",D:"[DdĎďǄ-ǆǱ-ǳᴰᵈḊ-ḓⅅⅆⅮⅾ⒟Ⓓⓓ㋏㍲㍷-㍹㎗㎭-㎯㏅㏈Ｄｄ]",E:"[EeÈ-Ëè-ëĒ-ěȄ-ȇȨȩᴱᵉḘ-ḛẸ-ẽₑ℡ℯℰⅇ⒠Ⓔⓔ㉐㋍㋎Ｅｅ]",F:"[FfᶠḞḟ℉ℱ℻⒡Ⓕⓕ㎊-㎌㎙ﬀ-ﬄＦｆ]",G:"[GgĜ-ģǦǧǴǵᴳᵍḠḡℊ⒢Ⓖⓖ㋌㋍㎇㎍-㎏㎓㎬㏆㏉㏒㏿Ｇｇ]",H:"[HhĤĥȞȟʰᴴḢ-ḫẖℋ-ℎ⒣Ⓗⓗ㋌㍱㎐-㎔㏊㏋㏗Ｈｈ]",I:"[IiÌ-Ïì-ïĨ-İĲĳǏǐȈ-ȋᴵᵢḬḭỈ-ịⁱℐℑℹⅈⅠ-ⅣⅥ-ⅨⅪⅫⅰ-ⅳⅵ-ⅸⅺⅻ⒤Ⓘⓘ㍺㏌㏕ﬁﬃＩｉ]",J:"[JjĲ-ĵǇ-ǌǰʲᴶⅉ⒥ⒿⓙⱼＪｊ]",K:"[KkĶķǨǩᴷᵏḰ-ḵK⒦Ⓚⓚ㎄㎅㎉㎏㎑㎘㎞㎢㎦㎪㎸㎾㏀㏆㏍-㏏Ｋｋ]",L:"[LlĹ-ŀǇ-ǉˡᴸḶḷḺ-ḽℒℓ℡Ⅼⅼ⒧Ⓛⓛ㋏㎈㎉㏐-㏓㏕㏖㏿ﬂﬄＬｌ]",M:"[MmᴹᵐḾ-ṃ℠™ℳⅯⅿ⒨Ⓜⓜ㍷-㍹㎃㎆㎎㎒㎖㎙-㎨㎫㎳㎷㎹㎽㎿㏁㏂㏎㏐㏔-㏖㏘㏙㏞㏟Ｍｍ]",N:"[NnÑñŃ-ŉǊ-ǌǸǹᴺṄ-ṋⁿℕ№⒩Ⓝⓝ㎁㎋㎚㎱㎵㎻㏌㏑Ｎｎ]",O:"[OoºÒ-Öò-öŌ-őƠơǑǒǪǫȌ-ȏȮȯᴼᵒỌ-ỏₒ℅№ℴ⒪Ⓞⓞ㍵㏇㏒㏖Ｏｏ]",P:"[PpᴾᵖṔ-ṗℙ⒫Ⓟⓟ㉐㍱㍶㎀㎊㎩-㎬㎰㎴㎺㏋㏗-㏚Ｐｐ]",Q:"[Qqℚ⒬Ⓠⓠ㏃Ｑｑ]",R:"[RrŔ-řȐ-ȓʳᴿᵣṘ-ṛṞṟ₨ℛ-ℝ⒭Ⓡⓡ㋍㍴㎭-㎯㏚㏛Ｒｒ]",S:"[SsŚ-šſȘșˢṠ-ṣ₨℁℠⒮Ⓢⓢ㎧㎨㎮-㎳㏛㏜ﬆＳｓ]",T:"[TtŢ-ťȚțᵀᵗṪ-ṱẗ℡™⒯Ⓣⓣ㉐㋏㎔㏏ﬅﬆＴｔ]",U:"[UuÙ-Üù-üŨ-ųƯưǓǔȔ-ȗᵁᵘᵤṲ-ṷỤ-ủ℆⒰Ⓤⓤ㍳㍺Ｕｕ]",V:"[VvᵛᵥṼ-ṿⅣ-Ⅷⅳ-ⅷ⒱Ⓥⓥⱽ㋎㍵㎴-㎹㏜㏞Ｖｖ]",W:"[WwŴŵʷᵂẀ-ẉẘ⒲Ⓦⓦ㎺-㎿㏝Ｗｗ]",X:"[XxˣẊ-ẍₓ℻Ⅸ-Ⅻⅸ-ⅻ⒳Ⓧⓧ㏓Ｘｘ]",Y:"[YyÝýÿŶ-ŸȲȳʸẎẏẙỲ-ỹ⒴Ⓨⓨ㏉Ｙｙ]",Z:"[ZzŹ-žǱ-ǳᶻẐ-ẕℤℨ⒵Ⓩⓩ㎐-㎔Ｚｚ]"};return function(r){var i;function s(t){var n,o,s;return(n=i.exec(t.data))&&(s=e.createElement(r.tagName),r.className&&(s.className=r.className),(o=t.splitText(n.index)).splitText(n[0].length),s.appendChild(o.cloneNode(!0)),t.parentNode.replaceChild(s,o)),!!n}function a(e,t){for(var n,r=3,i=0;i<e.childNodes.length;i++)(n=e.childNodes[i]).nodeType===r?i+=t(n)?1:0:a(n,t)}(r=n.mixin({},t,r)).node&&r.pattern&&(r.pattern=n.isArray(r.pattern)?r.pattern:[r.pattern],i=o(r.pattern,r.caseSensitive,r.wordsOnly,r.diacriticInsensitive),a(r.node,s))};function i(e){return r[e.toUpperCase()]||e}function o(e,t,r,o){for(var s,a=[],l=0,c=e.length;l<c;l++){var u=n.escapeRegExChars(e[l]);o&&(u=u.replace(/\S/g,i)),a.push(u)}return s=r?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",t?new RegExp(s):new RegExp(s,"i")}}(window.document),a=function(){"use strict";var e;function r(e,r){var o;(e=e||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(e.hint),this.$input=t(e.input),this.$menu=t(e.menu),o=this.$input.attr("id")||n.guid(),this.$menu.attr("id",o+"_listbox"),this.$hint.attr({"aria-hidden":!0}),this.$input.attr({"aria-owns":o+"_listbox","aria-controls":o+"_listbox",role:"combobox","aria-autocomplete":"list","aria-expanded":!1}),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=n.noop),this.onSync("cursorchange",this._updateDescendent)}return e={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},r.normalizeQuery=function(e){return n.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},n.mixin(r.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var n=e[t.which||t.keyCode];this._managePreventDefault(n,t),n&&this._shouldTrigger(n,t)&&this.trigger(n+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!a(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){return"tab"!==e||!a(t)},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,r;r=!!(n=s(e,this.query))&&this.query.length!==e.length,this.query=e,t||n?!t&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},_updateDescendent:function(e,t){this.$input.attr("aria-activedescendant",t)},bind:function(){var t,r,i,o,s=this;return t=n.bind(this._onBlur,this),r=n.bind(this._onFocus,this),i=n.bind(this._onKeydown,this),o=n.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",r).on("keydown.tt",i),!n.isMsie()||n.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){e[t.which||t.keyCode]||n.defer(n.bind(s._onInput,s,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n;n=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),(""===e||!n||this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,r;return e=this.$input.val().length,t=this.$input[0].selectionStart,n.isNumber(t)?t===e:!document.selection||((r=document.selection.createRange()).moveStart("character",-e),e===r.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")},setAriaExpanded:function(e){this.$input.attr("aria-expanded",e)}}),r;function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(e,t){return r.normalizeQuery(e)===r.normalizeQuery(t)}function a(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}}(),l=function(){"use strict";var e,r;function i(e,i){(e=e||{}).templates=e.templates||{},e.templates.notFound=e.templates.notFound||e.templates.empty,e.source||t.error("missing source"),e.node||t.error("missing node"),e.name&&!c(e.name)&&t.error("invalid dataset name: "+e.name),i.mixin(this),this.highlight=!!e.highlight,this.name=n.toStr(e.name||r()),this.limit=e.limit||5,this.displayFn=a(e.display||e.displayKey),this.templates=l(e.templates,this.displayFn),this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source,this.async=n.isUndefined(e.async)?this.source.length>2:!!e.async,this._resetLastSuggestion(),this.$el=t(e.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return e={dataset:"tt-selectable-dataset",val:"tt-selectable-display",obj:"tt-selectable-object"},r=n.getIdGenerator(),i.extractData=function(n){var r=t(n);return r.data(e.obj)?{dataset:r.data(e.dataset)||"",val:r.data(e.val)||"",obj:r.data(e.obj)||null}:null},n.mixin(i.prototype,o,{_overwrite:function(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",t,!1,this.name)},_append:function(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",t,!0,this.name)},_renderSuggestions:function(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n,r;r=(n=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=r},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(r,i){var o,a=this;return o=document.createDocumentFragment(),n.each(i,function(n){var i,s;s=a._injectQuery(r,n),i=t(a.templates.suggestion(s)).data(e.dataset,a.name).data(e.obj,n).data(e.val,a.displayFn(n)).addClass(a.classes.suggestion+" "+a.classes.selectable),o.appendChild(i[0])}),this.highlight&&s({className:this.classes.highlight,node:o,pattern:r}),t(o)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(e,t){return n.isObject(t)?n.mixin({_query:e},t):t},update:function(e){var n=this,r=!1,i=!1,o=0;function s(t){i||(i=!0,t=(t||[]).slice(0,n.limit),o=t.length,n._overwrite(e,t),o<n.limit&&n.async&&n.trigger("asyncRequested",e,n.name))}function a(i){if(i=i||[],!r&&o<n.limit){n.cancel=t.noop;var s=Math.abs(o-n.limit);o+=s,n._append(e,i.slice(0,s)),n.async&&n.trigger("asyncReceived",e,n.name)}}this.cancel(),this.cancel=function(){r=!0,n.cancel=t.noop,n.async&&n.trigger("asyncCanceled",e,n.name)},this.source(e,s,a),!i&&s([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i;function a(e){return e=e||n.stringify,n.isFunction(e)?e:t;function t(t){return t[e]}}function l(e,r){return{notFound:e.notFound&&n.templatify(e.notFound),pending:e.pending&&n.templatify(e.pending),header:e.header&&n.templatify(e.header),footer:e.footer&&n.templatify(e.footer),suggestion:e.suggestion?i:o};function i(r){var i=e.suggestion;return t(i(r)).attr("id",n.guid())}function o(e){return t('<div role="option">').attr("id",n.guid()).text(r(e))}}function c(e){return/^[_a-zA-Z0-9-]+$/.test(e)}}(),c=function(){"use strict";function e(e,r){var i=this;function o(e){var n=i.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(i.$node),new l(e,r)}(e=e||{}).node||t.error("node is required"),r.mixin(this),this.$node=t(e.node),this.query=null,this.datasets=n.map(e.datasets,o)}return n.mixin(e.prototype,o,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(e,t,n,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return n.every(this.datasets,n.bind(function(e){var t=e.isEmpty();return this.$node.attr("aria-expanded",!t),t},this))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,n,r,i;n=(t=e.position().top)+e.outerHeight(!0),r=this.$node.scrollTop(),i=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(r+t):i<n&&this.$node.scrollTop(r+(n-i))},bind:function(){var e,r=this;return e=n.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),this.$node.on("mouseover",this.selectors.selectable,function(){r.setCursor(t(this))}),this.$node.on("mouseleave",function(){r._removeCursor()}),n.each(this.datasets,function(e){e.onSync("asyncRequested",r._propagate,r).onSync("asyncCanceled",r._propagate,r).onSync("asyncReceived",r._propagate,r).onSync("rendered",r._onRendered,r).onSync("cleared",r._onCleared,r)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0),this.$node.addClass(this.classes.open)},close:function(){this.$node.attr("aria-expanded",!1),this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,r;return n=this.getActiveSelectable(),t=this._getSelectables(),-1===(r=(r=((r=(n?t.index(n):-1)+e)+1)%(t.length+1)-1)<-1?t.length-1:r)?null:t.eq(r)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?l.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){var t=e!==this.query;return t&&(this.query=e,n.each(this.datasets,r)),t;function r(t){t.update(e)}},empty:function(){function e(e){e.clear()}n.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function e(e){e.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),n.each(this.datasets,e)}}),e}(),u=function(){"use strict";function e(e){this.$el=t("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"}),e.$input.after(this.$el),n.each(e.menu.datasets,n.bind(function(e){e.onSync&&(e.onSync("rendered",n.bind(this.update,this)),e.onSync("cleared",n.bind(this.cleared,this)))},this))}return n.mixin(e.prototype,{update:function(e,t){var n,r=t.length;n=1===r?{result:"result",is:"is"}:{result:"results",is:"are"},this.$el.text(r+" "+n.result+" "+n.is+" available, use up and down arrow keys to navigate.")},cleared:function(){this.$el.text("")}}),e}(),h=function(){"use strict";var e=c.prototype;function t(){c.apply(this,[].slice.call(arguments,0))}return n.mixin(t.prototype,c.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),d=function(){"use strict";function e(e,i){var o,s,a,l,c,u,h,d,f,p,m;(e=e||{}).input||t.error("missing input"),e.menu||t.error("missing menu"),e.eventBus||t.error("missing event bus"),i.mixin(this),this.eventBus=e.eventBus,this.minLength=n.isNumber(e.minLength)?e.minLength:1,this.input=e.input,this.menu=e.menu,this.enabled=!0,this.autoselect=!!e.autoselect,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=r(this,"activate","open","_onFocused"),s=r(this,"deactivate","_onBlurred"),a=r(this,"isActive","isOpen","_onEnterKeyed"),l=r(this,"isActive","isOpen","_onTabKeyed"),c=r(this,"isActive","_onEscKeyed"),u=r(this,"isActive","open","_onUpKeyed"),h=r(this,"isActive","open","_onDownKeyed"),d=r(this,"isActive","isOpen","_onLeftKeyed"),f=r(this,"isActive","isOpen","_onRightKeyed"),p=r(this,"_openIfActive","_onQueryChanged"),m=r(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}return n.mixin(e.prototype,{_hacks:function(){var e,r;e=this.input.$input||t("<div>"),r=this.menu.$node||t("<div>"),e.on("blur.tt",function(t){var i,o,s;i=document.activeElement,o=r.is(i),s=r.has(i).length>0,n.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),n.defer(function(){e.focus()}))}),r.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,r){if(this._updateHint(),this.autoselect){var i=this.selectors.cursor.substr(1);this.menu.$node.find(this.selectors.suggestion).first().addClass(i)}this.eventBus.trigger("render",t,n,r)},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&(t.preventDefault(),t.stopPropagation()):this.autoselect&&this.select(this.menu.getTopSelectable())&&(t.preventDefault(),t.stopPropagation())},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():this.autoselect&&(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return(e=n.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var e,t,r,i,o,s;e=this.menu.getTopSelectable(),t=this.menu.getSelectableData(e),r=this.input.getInputValue(),!t||n.isBlankString(r)||this.input.hasOverflow()?this.input.clearHint():(i=a.normalizeQuery(r),o=n.escapeRegExChars(i),(s=new RegExp("^(?:"+o+")(.+$)","i").exec(t.val))&&this.input.setHint(r+s[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.input.setAriaExpanded(!0),this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.input.setAriaExpanded(!1),this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(n.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj,t.dataset)||(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj,t.dataset),this.close(),0))},autocomplete:function(e){var t,n;return t=this.input.getQuery(),!(!(n=this.menu.getSelectableData(e))||t===n.val||this.eventBus.before("autocomplete",n.obj,n.dataset)||(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj,n.dataset),0))},moveCursor:function(e){var t,n,r,i,o,s;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),i=(r=this.menu.getSelectableData(n))?r.obj:null,o=r?r.dataset:null,s=n?n.attr("id"):null,this.input.trigger("cursorchange",s),!(this._minLengthMet()&&this.menu.update(t)||this.eventBus.before("cursorchange",i,o)||(this.menu.setCursor(n),r?"string"==typeof r.val&&this.input.setInputValue(r.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",i,o),0))},destroy:function(){this.input.destroy(),this.menu.destroy()}}),e;function r(e){var t=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);n.each(t,function(t){return e[t].apply(e,r)})}}}(),void function(){"use strict";var e,o,s;function l(e,n){e.each(function(){var e,r=t(this);(e=r.data(o.typeahead))&&n(e,r)})}function f(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(m(e)).prop({readonly:!0,required:!1}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1})}function p(e,t){e.data(o.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(e){}return e}function m(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function g(e){var t,r;t=e.data(o.www),r=e.parent().filter(t.selectors.wrapper),n.each(e.data(o.attrs),function(t,r){n.isUndefined(t)?e.removeAttr(r):e.attr(r,t)}),e.removeData(o.typeahead).removeData(o.www).removeData(o.attr).removeClass(t.classes.input),r.length&&(e.detach().insertAfter(r),r.remove())}function _(e){var r;return(r=n.isJQuery(e)||n.isElement(e)?t(e).first():[]).length?r:null}e=t.fn.typeahead,o={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},s={initialize:function(e,s){var l;return s=n.isArray(s)?s:[].slice.call(arguments,1),l=r((e=e||{}).classNames),this.each(m);function m(){var r,m,g,y,b,v,w,x,S,M,k;n.each(s,function(t){t.highlight=!!e.highlight}),r=t(this),m=t(l.html.wrapper),g=_(e.hint),y=_(e.menu),b=!1!==e.hint&&!g,v=!1!==e.menu&&!y,b&&(g=f(r,l)),v&&(y=t(l.html.menu).css(l.css.menu)),g&&g.val(""),r=p(r,l),(b||v)&&(m.css(l.css.wrapper),r.css(b?l.css.input:l.css.inputWithNoHint),r.wrap(m).parent().prepend(b?g:null).append(v?y:null)),k=v?h:c,w=new i({el:r}),x=new a({hint:g,input:r,menu:y},l),S=new k({node:y,datasets:s},l),new u({$input:r,menu:S}),M=new d({input:x,menu:S,eventBus:w,minLength:e.minLength,autoselect:e.autoselect},l),r.data(o.www,l),r.data(o.typeahead,M)}},isEnabled:function(){var e;return l(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return l(this,function(e){e.enable()}),this},disable:function(){return l(this,function(e){e.disable()}),this},isActive:function(){var e;return l(this.first(),function(t){e=t.isActive()}),e},activate:function(){return l(this,function(e){e.activate()}),this},deactivate:function(){return l(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return l(this.first(),function(t){e=t.isOpen()}),e},open:function(){return l(this,function(e){e.open()}),this},close:function(){return l(this,function(e){e.close()}),this},select:function(e){var n=!1,r=t(e);return l(this.first(),function(e){n=e.select(r)}),n},autocomplete:function(e){var n=!1,r=t(e);return l(this.first(),function(e){n=e.autocomplete(r)}),n},moveCursor:function(e){var t=!1;return l(this.first(),function(n){t=n.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(l(this,function(t){t.setVal(n.toStr(e))}),this):(l(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return l(this,function(e,t){g(t),e.destroy()}),this}},t.fn.typeahead=function(e){return s[e]?s[e].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=e,this}}();var t,n,r,i,o,s,a,l,c,u,h,d}.apply(t,r),void 0===i||(e.exports=i)},3004:function(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},3035:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},3164:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})}(n(5093))},3322:function(e,t,n){!function(e){"use strict";var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једног минута"],mm:["минут","минута","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],d:["један дан","једног дана"],dd:["дан","дана","дана"],M:["један месец","једног месеца"],MM:["месец","месеца","месеци"],y:["једну годину","једне године"],yy:["годину","године","година"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var o,s=t.words[r];return 1===r.length?"y"===r&&n?"једна година":i||n?s[0]:s[1]:(o=t.correctGrammaticalCase(e,s),"yy"===r&&n&&"годину"===o?e+" година":e+" "+o)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},3383:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){return"D"===t?e+"er":e},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(5093))},3386:function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(5093))},3478:function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},3503:()=>{!function(e,t){"use strict";var n=t.module("ngTouch",[]);function r(e,r,i){n.directive(e,["$parse","$swipe",function(n,o){return function(s,a,l){var c,u,h=n(l[e]);var d=["touch"];t.isDefined(l.ngSwipeDisableMouse)||d.push("mouse"),o.bind(a,{start:function(e,t){c=e,u=!0},cancel:function(e){u=!1},end:function(e,t){(function(e){if(!c)return!1;var t=Math.abs(e.y-c.y),n=(e.x-c.x)*r;return u&&t<75&&n>0&&n>30&&t/n<.3})(e)&&s.$apply(function(){a.triggerHandler(i),h(s,{$event:t})})}},d)}}])}n.info({angularVersion:"1.8.3"}),n.factory("$swipe",[function(){var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function n(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function r(n,r){var i=[];return t.forEach(n,function(t){var n=e[t][r];n&&i.push(n)}),i.join(" ")}return{bind:function(e,t,i){var o,s,a,l,c=!1;i=i||["mouse","touch","pointer"],e.on(r(i,"start"),function(e){a=n(e),c=!0,o=0,s=0,l=a,t.start&&t.start(a,e)});var u=r(i,"cancel");u&&e.on(u,function(e){c=!1,t.cancel&&t.cancel(e)}),e.on(r(i,"move"),function(e){if(c&&a){var r=n(e);if(o+=Math.abs(r.x-l.x),s+=Math.abs(r.y-l.y),l=r,!(o<10&&s<10))return s>o?(c=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(r,e)))}}),e.on(r(i,"end"),function(e){c&&(c=!1,t.end&&t.end(n(e),e))})}}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular)},3508:function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},3601:function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},3602:()=>{!function(e,t){"use strict";var n,r,i,o,s,a,l,c,u,h,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){var f=!1,p=!1;this.$get=["$$sanitizeUri",function(e){return f=!0,p&&r(k,S),function(t){var n=[];return u(t,h(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(p=e,this):p},this.addValidElements=function(e){return f||(o(e)&&(e={htmlElements:e}),$(S,e.svgElements),$(_,e.htmlVoidElements),$(k,e.htmlVoidElements),$(k,e.htmlElements)),this},this.addValidAttrs=function(e){return f||r(C,P(e,!0)),this},n=t.bind,r=t.extend,i=t.forEach,o=t.isArray,s=t.isDefined,a=t.$$lowercase,l=t.noop,u=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=A(e);if(!n)return"";var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,e=n.innerHTML,n=A(e)}while(e!==n.innerHTML);var i=n.firstChild;for(;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),R(i.attributes));break;case 3:t.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),o=F("nextSibling",i))))for(;null==o&&(i=F("parentNode",i))!==n;)o=F("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=o}for(;i=n.firstChild;)n.removeChild(i)},h=function(e,t){var r=!1,o=n(e,e.push);return{start:function(e,n){e=a(e),!r&&M[e]&&(r=e),r||!0!==k[e]||(o("<"),o(e),i(n,function(n,r){var i=a(r),s="img"===e&&"src"===i||"background"===i;!0!==C[i]||!0===T[i]&&!t(n,s)||(o(" "),o(r),o('="'),o(O(n)),o('"'))}),o(">"))},end:function(e){e=a(e),r||!0!==k[e]||!0===_[e]||(o("</"),o(e),o(">")),e==r&&(r=!1)},chars:function(e){r||o(O(e))}}},c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/([^#-~ |!])/g,_=D("area,br,col,hr,img,wbr"),y=D("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=D("rp,rt"),v=r({},b,y),w=r({},y,D("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),x=r({},b,D("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=D("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),M=D("script,style"),k=r({},_,w,x,v),T=D("background,cite,href,longdesc,src,xlink:href,xml:base"),E=D("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),L=D("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),C=r({},T,L,E);function D(e,t){return P(e.split(","),t)}function P(e,t){var n,r={};for(n=0;n<e.length;n++)r[t?a(e[n]):e[n]]=!0;return r}function $(e,t){t&&t.length&&r(e,P(t))}var A=function(e,t){if(function(){try{return!!i("")}catch(e){return!1}}())return i;if(!t||!t.implementation)throw d("noinert","Can't create an inert html document");var n=t.implementation.createHTMLDocument("inert"),r=(n.documentElement||n.getDocumentElement()).querySelector("body");return function(e){r.innerHTML=e,t.documentMode&&I(r);return r};function i(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}}(e,e.document);function R(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function O(e){return e.replace(/&/g,"&amp;").replace(m,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(g,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var a=t.firstChild;a&&I(a),t=F("nextSibling",t)}}function F(e,t){var n=t[e];if(n&&c.call(t,n))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}}).info({angularVersion:"1.8.3"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,a=t.isObject,c=t.isString;return function(t,u,d){if(null==t||""===t)return t;if(!c(t))throw i("notstring","Expected string but received: {0}",t);for(var f,p,m,g=s(d)?d:a(d)?function(){return d}:function(){return{}},_=t,y=[];f=_.match(n);)p=f[0],f[2]||f[4]||(p=(f[3]?"http://":"mailto:")+p),m=f.index,b(_.substr(0,m)),v(p,f[0].replace(r,"")),_=_.substring(m+f[0].length);return b(_),e(y.join(""));function b(e){var t,n;e&&y.push((t=e,h(n=[],l).chars(t),n.join("")))}function v(e,t){var n,r=g(e);for(n in y.push("<a "),r)y.push(n+'="'+r[n]+'" ');o(u)&&!("target"in r)&&y.push('target="',u,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),b(t),y.push("</a>")}}}])}(window,window.angular)},3635:function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})}(n(5093))},3662:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(6883),n(9139)],void 0===(o="function"==typeof(r=function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.14.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o="string"==typeof this.options.cancel&&e(n.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved&&!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e);return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?r.apply(t,i):r)||(e.exports=o)}()},3739:function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})}(n(5093))},3784:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5093))},3827:function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"令和",narrow:"㋿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"平成",narrow:"㍻",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"昭和",narrow:"㍼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"大正",narrow:"㍽",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"明治",narrow:"㍾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"西暦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"紀元前",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(元|\d+)年/,eraYearOrdinalParse:function(e,t){return"元"===t[1]?1:parseInt(t[1]||e,10)},months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()!==this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()!==e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"y":return 1===e?"元年":e+"年";case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(5093))},3861:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},r=[/^जन/i,/^फ़र|फर/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सितं|सित/i,/^अक्टू/i,/^नव|नवं/i,/^दिसं|दिस/i],i=[/^जन/i,/^फ़र/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सित/i,/^अक्टू/i,/^नव/i,/^दिस/i];e.defineLocale("hi",{months:{format:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),standalone:"जनवरी_फरवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितंबर_अक्टूबर_नवंबर_दिसंबर".split("_")},monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},monthsParse:r,longMonthsParse:r,shortMonthsParse:i,monthsRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsShortRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsStrictRegex:/^(जनवरी?|फ़रवरी|फरवरी?|मार्च?|अप्रैल?|मई?|जून?|जुलाई?|अगस्त?|सितम्बर|सितंबर|सित?\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर?|दिसम्बर|दिसंबर?)/i,monthsShortStrictRegex:/^(जन\.?|फ़र\.?|मार्च?|अप्रै\.?|मई?|जून?|जुल\.?|अग\.?|सित\.?|अक्टू\.?|नव\.?|दिस\.?)/i,calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})}(n(5093))},3872:function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(5093))},4051:function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},4063:function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(5093))},4083:function(e,t,n){!function(e){"use strict";var t={standalone:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),format:"ledna_února_března_dubna_května_června_července_srpna_září_října_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),r=[/^led/i,/^úno/i,/^bře/i,/^dub/i,/^kvě/i,/^(čvn|červen$|června)/i,/^(čvc|červenec|července)/i,/^srp/i,/^zář/i,/^říj/i,/^lis/i,/^pro/i],i=/^(leden|únor|březen|duben|květen|červenec|července|červen|června|srpen|září|říjen|listopad|prosinec|led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i;function o(e){return e>1&&e<5&&1!=~~(e/10)}function s(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"ss":return t||r?i+(o(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(o(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(o(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(o(e)?"dny":"dní"):i+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?i+(o(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(o(e)?"roky":"let"):i+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|února|únor|březen|března|duben|dubna|květen|května|červenec|července|červen|června|srpen|srpna|září|říjen|října|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},4160:(e,t,n)=>{"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return e}()},4213:function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?r(e,t,n):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){o(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(i(e))r(e,n,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){o(a)})}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var h=s.URL||s.webkitURL,d=h.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,i):r)||(e.exports=o)},4226:function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(5093))},4410:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932)],r=function(e){var t,n,r=!!e.fn.on,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in window.document||window.document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var a=i.length;a;)e.event.fixHooks[i[--a]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.2.2",setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],c,!1);else this.onmousewheel=c;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],c,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function c(r){var i=r||window.event,o=s.call(arguments,1),a=0,c=0,h=0,d=0;if((r=e.event.fix(i)).type="mousewheel","detail"in i&&(h=-1*i.detail),"wheelDelta"in i&&(h=i.wheelDelta),"wheelDeltaY"in i&&(h=i.wheelDeltaY),"wheelDeltaX"in i&&(c=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(c=-1*h,h=0),a=0===h?c:h,"deltaY"in i&&(a=h=-1*i.deltaY),"deltaX"in i&&(c=i.deltaX,0===h&&(a=-1*c)),0!==h||0!==c){if(1===i.deltaMode){var f=e.data(this,"mousewheel-line-height");a*=f,h*=f,c*=f}else if(2===i.deltaMode){var p=e.data(this,"mousewheel-page-height");a*=p,h*=p,c*=p}if(d=Math.max(Math.abs(h),Math.abs(c)),(!n||d<n)&&(n=d,u(i,d)&&(n/=40)),u(i,d)&&(a/=40,c/=40,h/=40),a=Math[a>=1?"floor":"ceil"](a/n),c=Math[c>=1?"floor":"ceil"](c/n),h=Math[h>=1?"floor":"ceil"](h/n),l.settings.normalizeOffset&&this.getBoundingClientRect){var m=this.getBoundingClientRect();r.offsetX=r.clientX-m.left,r.offsetY=r.clientY-m.top}return r.deltaX=c,r.deltaY=h,r.deltaFactor=n,r.deltaMode=0,o.unshift(r,a,c,h),t&&window.clearTimeout(t),t=window.setTimeout(function(){n=null},200),(e.event.dispatch||e.event.handle).apply(this,o)}}function u(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this[r?"on":"bind"]("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this[r?"off":"unbind"]("mousewheel",e)}})},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},4418:function(e,t,n){!function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^paź/i,/^lis/i,/^gru/i];function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function o(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(i(e)?"godziny":"godzin");case"ww":return r+(i(e)?"tygodnie":"tygodni");case"MM":return r+(i(e)?"miesiące":"miesięcy");case"yy":return r+(i(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzień",dd:"%d dni",w:"tydzień",ww:o,M:"miesiąc",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},4429:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){if("m"===n)return t?"jedna minuta":r?"jednu minutu":"jedne minute"}function n(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return"jedan sat";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:n,m:t,mm:n,h:n,hh:n,d:"dan",dd:n,M:"mjesec",MM:n,y:"godinu",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},4451:function(e,t,n){!function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})}(n(5093))},4457:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"săptămâni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,w:"o săptămână",ww:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(5093))},4496:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(5093))},4566:function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._må._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_må_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},4691:function(e,t,n){!function(e){"use strict";function t(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){return 6===this.day()?"[το προηγούμενο] dddd [{}] LT":"[την προηγούμενη] dddd [{}] LT"},sameElse:"L"},calendar:function(e,n){var r=this._calendarEl[e],i=n&&n.hours();return t(r)&&(r=r.apply(n)),r.replace("{}",i%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}(n(5093))},4692:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,m=p.call(Object),g={},_=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},b=r.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||b).createElement("script");if(o.text=e,t)for(r in v)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var S="3.7.1",M=/HTML$/i,k=function(e,t){return new k.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!_(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}k.fn=k.prototype={jquery:S,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||_(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,s[t]=k.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},k.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=s(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=k.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!M.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(T(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var L=o.pop,C=o.sort,D=o.splice,P="[\\x20\\t\\r\\n\\f]",$=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");k.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var A=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function R(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}k.escapeSelector=function(e){return(e+"").replace(A,R)};var O=b,I=c;!function(){var e,t,n,i,s,l,c,h,d,p,m=I,_=k.expando,y=0,b=0,v=ee(),w=ee(),x=ee(),S=ee(),M=function(e,t){return e===t&&(s=!0),0},T="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",A="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+P+"*("+A+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+A+"))|)"+P+"*\\]",F=":("+A+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",N=new RegExp(P+"+","g"),Y=new RegExp("^"+P+"*,"+P+"*"),j=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),H=new RegExp(P+"|>"),U=new RegExp(F),z=new RegExp("^"+A+"$"),G={ID:new RegExp("^#("+A+")"),CLASS:new RegExp("^\\.("+A+")"),TAG:new RegExp("^("+A+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+T+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,B=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,V=/[+~]/,X=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){le()},J=de(function(e){return!0===e.disabled&&E(e,"fieldset")},{dir:"parentNode",next:"legend"});try{m.apply(o=a.call(O.childNodes),O.childNodes),o[O.childNodes.length].nodeType}catch(e){m={apply:function(e,t){I.apply(e,a.call(t))},call:function(e){I.apply(e,a.call(arguments,1))}}}function Q(e,t,n,r){var i,o,s,a,c,u,f,p=t&&t.ownerDocument,y=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!r&&(le(t),t=t||l,h)){if(11!==y&&(c=B.exec(e)))if(i=c[1]){if(9===y){if(!(s=t.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(p&&(s=p.getElementById(i))&&Q.contains(t,s)&&s.id===i)return m.call(n,s),n}else{if(c[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!(S[e+" "]||d&&d.test(e))){if(f=e,p=t,1===y&&(H.test(e)||j.test(e))){for((p=V.test(e)&&ae(t.parentNode)||t)==t&&g.scope||((a=t.getAttribute("id"))?a=k.escapeSelector(a):t.setAttribute("id",a=_)),o=(u=ue(e)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+he(u[o]);f=u.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(t){S(e,!0)}finally{a===_&&t.removeAttribute("id")}}}return ye(e.replace($,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[_]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return E(t,"input")&&t.type===e}}function ie(e){return function(t){return(E(t,"input")||E(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&J(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te(function(t){return t=+t,te(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var n,r=e?e.ownerDocument||e:O;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,h=!k.isXMLDoc(l),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&O!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),g.getById=ne(function(e){return c.appendChild(e).id=k.expando,!l.getElementsByName||!l.getElementsByName(k.expando).length}),g.disconnectedMatch=ne(function(e){return p.call(e,"*")}),g.scope=ne(function(){return l.querySelectorAll(":scope")}),g.cssHas=ne(function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),g.getById?(t.filter.ID=function(e){var t=e.replace(X,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(X,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},d=[],ne(function(e){var t;c.appendChild(e).innerHTML="<a id='"+_+"' href='' disabled='disabled'></a><select id='"+_+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+P+"*(?:value|"+T+")"),e.querySelectorAll("[id~="+_+"-]").length||d.push("~="),e.querySelectorAll("a#"+_+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+P+"*name"+P+"*="+P+"*(?:''|\"\")")}),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),M=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==O&&Q.contains(O,e)?-1:t===l||t.ownerDocument==O&&Q.contains(O,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(le(e),h&&!S[t+" "]&&(!d||!d.test(t)))try{var n=p.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){S(t,!0)}return Q(t,l,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),k.contains(e,t)},Q.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var r=t.attrHandle[n.toLowerCase()],i=r&&f.call(t.attrHandle,n.toLowerCase())?r(e,n,!h):void 0;return void 0!==i?i:e.getAttribute(n)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k.uniqueSort=function(e){var t,n=[],r=0,o=0;if(s=!g.sortStable,i=!g.sortStable&&a.call(e,0),C.call(e,M),s){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)D.call(e,n[r],1)}return i=null,e},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(a.apply(this)))},t=k.expr={cacheLength:50,createPseudo:te,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(X,K),e[3]=(e[3]||e[4]||e[5]||"").replace(X,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(X,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return E(e,t)}},CLASS:function(e){var t=v[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&v(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=Q.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(N," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,f,p=o!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),b=!l&&!a,v=!1;if(m){if(o){for(;p;){for(h=t;h=h[p];)if(a?E(h,g):1===h.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(v=(d=(c=(u=m[_]||(m[_]={}))[e]||[])[0]===y&&c[1])&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[p]||(v=d=0)||f.pop();)if(1===h.nodeType&&++v&&h===t){u[e]=[y,d,v];break}}else if(b&&(v=d=(c=(u=t[_]||(t[_]={}))[e]||[])[0]===y&&c[1]),!1===v)for(;(h=++d&&h&&h[p]||(v=d=0)||f.pop())&&(!(a?E(h,g):1===h.nodeType)||!++v||(b&&((u=h[_]||(h[_]={}))[e]=[y,v]),h!==t)););return(v-=i)===r||v%r===0&&v/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return i[_]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te(function(e,t){for(var r,o=i(e,n),s=o.length;s--;)e[r=u.call(e,o[s])]=!(t[r]=o[s])}):function(e){return i(e,0,r)}):i}},pseudos:{not:te(function(e){var t=[],n=[],r=_e(e.replace($,"$1"));return r[_]?te(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:te(function(e){return function(t){return Q(e,t).length>0}}),contains:te(function(e){return e=e.replace(X,K),function(t){return(t.textContent||k.text(t)).indexOf(e)>-1}}),lang:te(function(e){return z.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(X,K).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return E(e,"input")&&!!e.checked||E(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return W.test(e.nodeName)},button:function(e){return E(e,"input")&&"button"===e.type||E(e,"button")},text:function(e){var t;return E(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se(function(){return[0]}),last:se(function(e,t){return[t-1]}),eq:se(function(e,t,n){return[n<0?n+t:n]}),even:se(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:se(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:se(function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:se(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var r,i,o,s,a,l,c,u=w[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(s in r&&!(i=Y.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=j.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace($," ")}),a=a.slice(r.length)),t.filter)!(i=G[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?Q.error(e):w(e,l).slice(0)}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function de(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=b++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,h=[y,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=t[_]||(t[_]={}),i&&E(t,i))t=t[r]||t;else{if((c=u[o])&&c[0]===y&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=e(t,n,l))return!0}return!1}}function fe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function pe(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function me(e,t,n,r,i,o){return r&&!r[_]&&(r=me(r)),i&&!i[_]&&(i=me(i,o)),te(function(o,s,a,l){var c,h,d,f,p=[],g=[],_=s.length,y=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)Q(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),b=!e||!o&&t?y:pe(y,p,e,a,l);if(n?n(b,f=i||(o?e:_||r)?[]:s,a,l):f=b,r)for(c=pe(f,g),r(c,[],a,l),h=c.length;h--;)(d=c[h])&&(f[g[h]]=!(b[g[h]]=d));if(o){if(i||e){if(i){for(c=[],h=f.length;h--;)(d=f[h])&&c.push(b[h]=d);i(null,f=[],c,l)}for(h=f.length;h--;)(d=f[h])&&(c=i?u.call(o,d):p[h])>-1&&(o[c]=!(s[c]=d))}}else f=pe(f===s?f.splice(_,f.length):f),i?i(null,s,f,l):m.apply(s,f)})}function ge(e){for(var r,i,o,s=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,h=de(function(e){return e===r},l,!0),d=de(function(e){return u.call(r,e)>-1},l,!0),f=[function(e,t,i){var o=!a&&(i||t!=n)||((r=t).nodeType?h(e,t,i):d(e,t,i));return r=null,o}];c<s;c++)if(i=t.relative[e[c].type])f=[de(fe(f),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[_]){for(o=++c;o<s&&!t.relative[e[o].type];o++);return me(c>1&&fe(f),c>1&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace($,"$1"),i,c<o&&ge(e.slice(c,o)),o<s&&ge(e=e.slice(o)),o<s&&he(e))}f.push(i)}return fe(f)}function _e(e,r){var i,o=[],s=[],a=x[e+" "];if(!a){for(r||(r=ue(e)),i=r.length;i--;)(a=ge(r[i]))[_]?o.push(a):s.push(a);a=x(e,function(e,r){var i=r.length>0,o=e.length>0,s=function(s,a,c,u,d){var f,p,g,_=0,b="0",v=s&&[],w=[],x=n,S=s||o&&t.find.TAG("*",d),M=y+=null==x?1:Math.random()||.1,T=S.length;for(d&&(n=a==l||a||d);b!==T&&null!=(f=S[b]);b++){if(o&&f){for(p=0,a||f.ownerDocument==l||(le(f),c=!h);g=e[p++];)if(g(f,a||l,c)){m.call(u,f);break}d&&(y=M)}i&&((f=!g&&f)&&_--,s&&v.push(f))}if(_+=b,i&&b!==_){for(p=0;g=r[p++];)g(v,w,a,c);if(s){if(_>0)for(;b--;)v[b]||w[b]||(w[b]=L.call(u));w=pe(w)}m.apply(u,w),d&&!s&&w.length>0&&_+r.length>1&&k.uniqueSort(u)}return d&&(y=M,n=x),v};return i?te(s):s}(s,o)),a.selector=e}return a}function ye(e,n,r,i){var o,s,a,l,c,u="function"==typeof e&&e,d=!i&&ue(e=u.selector||e);if(r=r||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&h&&t.relative[s[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(X,K),n)||[])[0]))return r;u&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(o=G.needsContext.test(e)?0:s.length;o--&&(a=s[o],!t.relative[l=a.type]);)if((c=t.find[l])&&(i=c(a.matches[0].replace(X,K),V.test(s[0].type)&&ae(n.parentNode)||n))){if(s.splice(o,1),!(e=i.length&&he(s)))return m.apply(r,i),r;break}}return(u||_e(e,d))(i,n,!h,r,!n||V.test(e)&&ae(n.parentNode)||n),r}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=_.split("").sort(M).join("")===_,le(),g.sortDetached=ne(function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))}),k.find=Q,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,Q.compile=_e,Q.select=ye,Q.setDocument=le,Q.tokenize=ue,Q.escape=k.escapeSelector,Q.getText=k.text,Q.isXML=k.isXMLDoc,Q.selectors=k.expr,Q.support=k.support,Q.uniqueSort=k.uniqueSort}();var F=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Y=k.expr.match.needsContext,j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(e,t,n){return _(t)?k.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?k.grep(e,function(e){return e===t!==n}):"string"!=typeof t?k.grep(e,function(e){return u.call(t,e)>-1!==n}):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(H(this,e||[],!1))},not:function(e){return this.pushStack(H(this,e||[],!0))},is:function(e){return!!H(this,"string"==typeof e&&Y.test(e)?k(e):e||[],!1).length}});var U,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||U,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),j.test(r[1])&&k.isPlainObject(t))for(r in t)_(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,U=k(b);var G=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};function q(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&k(e);if(!Y.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return F(e,"parentNode")},parentsUntil:function(e,t,n){return F(e,"parentNode",n)},next:function(e){return q(e,"nextSibling")},prev:function(e){return q(e,"previousSibling")},nextAll:function(e){return F(e,"nextSibling")},prevAll:function(e){return F(e,"previousSibling")},nextUntil:function(e,t,n){return F(e,"nextSibling",n)},prevUntil:function(e,t,n){return F(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(E(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(e,t){k.fn[e]=function(n,r){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=k.filter(r,i)),this.length>1&&(W[e]||k.uniqueSort(i),G.test(e)&&i.reverse()),this.pushStack(i)}});var B=/[^\x20\t\r\n\f]+/g;function V(e){return e}function X(e){throw e}function K(e,t,n,r){var i;try{e&&_(i=e.promise)?i.call(e).done(t).fail(n):e&&_(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(B)||[],function(e,n){t[n]=!0}),t}(e):k.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){k.each(n,function(n,r){_(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;(n=k.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred(function(n){k.each(t,function(t,r){var i=_(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&_(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<o)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,_(c)?i?c.call(r,s(o,t,V,i),s(o,t,X,i)):(o++,c.call(r,s(o,t,V,i),s(o,t,X,i),s(o,t,V,t.notifyWith))):(n!==V&&(a=void 0,l=[r]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,u.error),e+1>=o&&(n!==X&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?u():(k.Deferred.getErrorHook?u.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(u.error=k.Deferred.getStackHook()),r.setTimeout(u))}}return k.Deferred(function(r){t[0][3].add(s(0,r,_(i)?i:V,r.notifyWith)),t[1][3].add(s(0,r,_(e)?e:V)),t[2][3].add(s(0,r,_(n)?n:X))}).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},o={};return k.each(t,function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add(function(){n=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=k.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(K(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||_(i[n]&&i[n].then)))return o.then();for(;n--;)K(i[n],s(n),o.reject);return o.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Z.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){r.setTimeout(function(){throw e})};var J=k.Deferred();function Q(){b.removeEventListener("DOMContentLoaded",Q),r.removeEventListener("load",Q),k.ready()}k.fn.ready=function(e){return J.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||J.resolveWith(b,[k]))}}),k.ready.then=J.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",Q),r.addEventListener("load",Q));var ee=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===x(n))for(a in i=!0,n)ee(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,_(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=k.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(B)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var ae=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function he(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}le.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=le.get(o),1===o.nodeType&&!ae.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=ie(r.slice(5)),he(o,r,i[r]));ae.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){le.set(this,e)}):ee(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=le.get(o,e))||void 0!==(n=he(o,e))?n:void 0;this.each(function(){le.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){le.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ae.get(e,t),n&&(!r||Array.isArray(n)?r=ae.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:k.Callbacks("once memory").add(function(){ae.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each(function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ae.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],me=b.documentElement,ge=function(e){return k.contains(e.ownerDocument,e)},_e={composed:!0};me.getRootNode&&(ge=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(_e)===e.ownerDocument});var ye=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===k.css(e,"display")};function be(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=a(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&fe.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)k.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var ve={};function we(e){var t,n=e.ownerDocument,r=e.nodeName,i=ve[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ve[r]=i,i)}function xe(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=ae.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ye(r)&&(i[o]=we(r))):"none"!==n&&(i[o]="none",ae.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return xe(this,!0)},hide:function(){return xe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ye(this)?k(this).show():k(this).hide()})}});var Se,Me,ke=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i;Se=b.createDocumentFragment().appendChild(b.createElement("div")),(Me=b.createElement("input")).setAttribute("type","radio"),Me.setAttribute("checked","checked"),Me.setAttribute("name","t"),Se.appendChild(Me),g.checkClone=Se.cloneNode(!0).cloneNode(!0).lastChild.checked,Se.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!Se.cloneNode(!0).lastChild.defaultValue,Se.innerHTML="<option></option>",g.option=!!Se.lastChild;var Le={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ce(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?k.merge([e],n):n}function De(e,t){for(var n=0,r=e.length;n<r;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,g.option||(Le.optgroup=Le.option=[1,"<select multiple='multiple'>","</select>"]);var Pe=/<|&#?\w+;/;function $e(e,t,n,r,i){for(var o,s,a,l,c,u,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===x(o))k.merge(d,o.nodeType?[o]:o);else if(Pe.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(Te.exec(o)||["",""])[1].toLowerCase(),l=Le[a]||Le._default,s.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;k.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(r&&k.inArray(o,r)>-1)i&&i.push(o);else if(c=ge(o),s=Ce(h.appendChild(o),"script"),c&&De(s),n)for(u=0;o=s[u++];)Ee.test(o.type||"")&&n.push(o);return h}var Ae=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function Oe(){return!1}function Ie(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Ie(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Oe;else if(!i)return e;return 1===o&&(s=i,i=function(e){return k().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function Fe(e,t,n){n?(ae.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,r=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),ae.set(this,t,r),this[t](),n=ae.get(this,t),ae.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(ae.set(this,t,k.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Re)}})):void 0===ae.get(e,t)&&k.event.add(e,t,Re)}k.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,f,p,m,g=ae.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(me,i),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)f=m=(a=Ae.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=k.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=k.event.special[f]||{},u=k.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),k.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,f,p,m,g=ae.hasData(e)&&ae.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(f=m=(a=Ae.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=k.event.special[f]||{},d=l[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||k.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)k.event.remove(e,f+t[c],n,r,!0);k.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),l=k.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=k.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ke.test(t.type)&&t.click&&E(t,"input")&&Fe(t,"click",!0),!1},trigger:function(e){var t=this||e;return ke.test(t.type)&&t.click&&E(t,"input")&&Fe(t,"click"),!0},_default:function(e){var t=e.target;return ke.test(t.type)&&t.click&&E(t,"input")&&ae.get(t,"click")||E(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(b.documentMode){var n=ae.get(this,"handle"),r=k.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else k.event.simulate(t,e.target,k.event.fix(e))}k.event.special[e]={setup:function(){var r;if(Fe(this,e,!0),!b.documentMode)return!1;(r=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(r||0)+1)},trigger:function(){return Fe(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t);o||(b.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),ae.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t)-1;o?ae.set(i,t,o):(b.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),ae.remove(i,t))}}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||k.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),k.fn.extend({on:function(e,t,n,r){return Ie(this,e,t,n,r)},one:function(e,t,n,r){return Ie(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Oe),this.each(function(){k.event.remove(this,e,n,t)})}});var Ne=/<script|<style|<link/i,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function He(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ge(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)k.event.add(t,i,a[i][n]);le.hasData(e)&&(o=le.access(e),s=k.extend({},o),le.set(t,s))}}function We(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,r){t=l(t);var i,o,s,a,c,u,h=0,d=e.length,f=d-1,p=t[0],m=_(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&Ye.test(p))return e.each(function(i){var o=e.eq(i);m&&(t[0]=p.call(this,i,o.html())),qe(o,t,n,r)});if(d&&(o=(i=$e(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=k.map(Ce(i,"script"),Ue)).length;h<d;h++)c=i,h!==f&&(c=k.clone(c,!0,!0),a&&k.merge(s,Ce(c,"script"))),n.call(e[h],c,h);if(a)for(u=s[s.length-1].ownerDocument,k.map(s,ze),h=0;h<a;h++)c=s[h],Ee.test(c.type||"")&&!ae.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(je,""),c,u))}return e}function Be(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(Ce(r)),r.parentNode&&(n&&ge(r)&&De(Ce(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(s=Ce(a),r=0,i=(o=Ce(e)).length;r<i;r++)We(o[r],s[r]);if(t)if(n)for(o=o||Ce(e),s=s||Ce(a),r=0,i=o.length;r<i;r++)Ge(o[r],s[r]);else Ge(e,a);return(s=Ce(a,"script")).length>0&&De(s,!l&&Ce(e,"script")),a},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[ae.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[ae.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return ee(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return qe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)})},prepend:function(){return qe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Ce(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return ee(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!Le[(Te.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Ce(this)),n&&n.replaceChild(t,this))},e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){k.fn[e]=function(e){for(var n,r=[],i=k(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),k(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var Ve=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Xe=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ze=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Je=new RegExp(pe.join("|"),"i");function Qe(e,t,n){var r,i,o,s,a=Xe.test(t),l=e.style;return(n=n||Ke(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace($,"$1")||void 0),""!==s||ge(e)||(s=k.style(e,t)),!g.pixelBoxStyles()&&Ve.test(s)&&Je.test(t)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==s?s+"":s}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),me.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",me.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,me.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],nt=b.createElement("div").style,rt={};function it(e){var t=k.cssProps[e]||rt[e];return t||(e in nt?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var r=fe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ct(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=k.css(e,n+pe[s],!0,i)),r?("content"===n&&(l-=k.css(e,"padding"+pe[s],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+pe[s]+"Width",!0,i))):(l+=k.css(e,"padding"+pe[s],!0,i),"padding"!==n?l+=k.css(e,"border"+pe[s]+"Width",!0,i):a+=k.css(e,"border"+pe[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l+c}function ut(e,t,n){var r=Ke(e),i=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,s=Qe(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ve.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&E(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ct(e,t,n||(i?"border":"content"),o,r,s)+"px"}function ht(e,t,n,r,i){return new ht.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie(t),l=Xe.test(t),c=e.style;if(l||(t=it(a)),s=k.cssHooks[t]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=fe.exec(n))&&i[1]&&(n=be(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(k.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=ie(t);return Xe.test(t)||(t=it(a)),(s=k.cssHooks[t]||k.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Qe(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!ot.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,r):Ze(e,st,function(){return ut(e,t,r)})},set:function(e,n,r){var i,o=Ke(e),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===k.css(e,"boxSizing",!1,o),l=r?ct(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ct(e,t,"border",!1,o)-.5)),l&&(i=fe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),lt(0,n,l)}}}),k.cssHooks.marginLeft=et(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+pe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=lt)}),k.fn.extend({css:function(e,t){return ee(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Ke(e),i=t.length;s<i;s++)o[t[s]]=k.css(e,t[s],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,arguments.length>1)}}),k.Tween=ht,ht.prototype={constructor:ht,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,n=ht.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ht.propHooks._default.set(this),this}},ht.prototype.init.prototype=ht.prototype,ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},ht.propHooks.scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=ht.prototype.init,k.fx.step={};var dt,ft,pt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;function gt(){ft&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(gt):r.setTimeout(gt,k.fx.interval),k.fx.tick())}function _t(){return r.setTimeout(function(){dt=void 0}),dt=Date.now()}function yt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=pe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function bt(e,t,n){for(var r,i=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function vt(e,t,n){var r,i,o=0,s=vt.prefilters.length,a=k.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=dt||_t(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||_t(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=k.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=vt.prefilters[o].call(c,e,u,c.opts))return _(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(u,bt,c),_(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){_(e)?(t=e,e=["*"]):e=e.match(B);for(var n,r=0,i=e.length;r<i;r++)n=e[r],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&ye(e),g=ae.get(e,"fxshow");for(r in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()})})),t)if(i=t[r],pt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=ae.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(xe([e],!0),c=e.style.display||c,u=k.css(e,"display"),xe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(d.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=ae.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&xe([e],!0),d.done(function(){for(r in m||xe([e]),ae.remove(e,"fxshow"),f)k.style(e,r,f[r])})),l=bt(m?g[r]:0,r,d),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||_(e)&&e,duration:e,easing:n&&t||t&&!_(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ye).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),o=k.speed(t,n,r),s=function(){var t=vt(this,k.extend({},e),o);(i||ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=k.timers,s=ae.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&mt.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||k.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ae.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=k.timers,s=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),k.each(["toggle","show","hide"],function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(yt(t,!0),e,r,i)}}),k.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),dt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ft||(ft=!0,gt())},k.fx.stop=function(){ft=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var wt,xt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return ee(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&E(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(B);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xt[t]||k.find.attr;xt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=xt[s],xt[s]=i,i=null!=n(e,t,r)?s:null,xt[s]=o),i}});var St=/^(?:input|select|textarea|button)$/i,Mt=/^(?:a|area)$/i;function kt(e){return(e.match(B)||[]).join(" ")}function Tt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}k.fn.extend({prop:function(e,t){return ee(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(e){var t,n,r,i,o,s;return _(e)?this.each(function(t){k(this).addClass(e.call(this,t,Tt(this)))}):(t=Et(e)).length?this.each(function(){if(r=Tt(this),n=1===this.nodeType&&" "+kt(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=kt(n),r!==s&&this.setAttribute("class",s)}}):this},removeClass:function(e){var t,n,r,i,o,s;return _(e)?this.each(function(t){k(this).removeClass(e.call(this,t,Tt(this)))}):arguments.length?(t=Et(e)).length?this.each(function(){if(r=Tt(this),n=1===this.nodeType&&" "+kt(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=kt(n),r!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,s=typeof e,a="string"===s||Array.isArray(e);return _(e)?this.each(function(n){k(this).toggleClass(e.call(this,n,Tt(this),t),t)}):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=Et(e),this.each(function(){if(a)for(o=k(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==s||((r=Tt(this))&&ae.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":ae.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+kt(Tt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Lt=/\r/g;k.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=_(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,k(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,function(e){return null==e?"":e+""})),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Lt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:kt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(t=k(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),s=i.length;s--;)((r=i[s]).selected=k.inArray(k.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ct=r.location,Dt={guid:Date.now()},Pt=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var $t=/^(?:focusinfocus|focusoutblur)$/,At=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,i){var o,s,a,l,c,u,h,d,p=[n||b],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!$t.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),h=k.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!y(n)){for(l=h.delegateType||m,$t.test(l+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||b)&&p.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?l:h.bindType||m,(u=(ae.get(s,"events")||Object.create(null))[e.type]&&ae.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&oe(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!oe(n)||c&&_(n[m])&&!y(n)&&((a=n[c])&&(n[c]=null),k.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,At),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,At),k.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}});var Rt=/\[\]$/,Ot=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,n,r){var i;if(Array.isArray(t))k.each(t,function(t,i){n||Rt.test(e)?r(e,i):Nt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)Nt(e+"["+i+"]",t[i],n,r)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=_(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)Nt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Ft.test(this.nodeName)&&!It.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}});var Yt=/%20/g,jt=/#.*$/,Ht=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,Gt=/^\/\//,Wt={},qt={},Bt="*/".concat("*"),Vt=b.createElement("a");function Xt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(B)||[];if(_(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Kt(e,t,n,r){var i={},o=e===qt;function s(a){var l;return i[a]=!0,k.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Vt.href=Ct.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,k.ajaxSettings),t):Zt(k.ajaxSettings,e)},ajaxPrefilter:Xt(Wt),ajaxTransport:Xt(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,a,l,c,u,h,d,f=k.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?k(p):k.event,g=k.Deferred(),_=k.Callbacks("once memory"),y=f.statusCode||{},v={},w={},x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ut.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),M(0,t),this}};if(g.promise(S),f.url=((e||f.url||Ct.href)+"").replace(Gt,Ct.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(B)||[""],null==f.crossDomain){l=b.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Vt.protocol+"//"+Vt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),Kt(Wt,f,t,S),c)return S;for(h in(u=k.event&&f.global)&&0===k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!zt.test(f.type),i=f.url.replace(jt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Yt,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(Pt.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Ht,"$1"),d=(Pt.test(i)?"&":"?")+"_="+Dt.guid+++d),f.url=i+d),f.ifModified&&(k.lastModified[i]&&S.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&S.setRequestHeader("If-None-Match",k.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Bt+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||c))return S.abort();if(x="abort",_.add(f.complete),S.done(f.success),S.fail(f.error),n=Kt(qt,f,t,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,f]),c)return S;f.async&&f.timeout>0&&(a=r.setTimeout(function(){S.abort("timeout")},f.timeout));try{c=!1,n.send(v,M)}catch(e){if(c)throw e;M(-1,e)}}else M(-1,"No Transport");function M(e,t,s,l){var h,d,b,v,w,x=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,o=l||"",S.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(v=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,S,s)),!h&&k.inArray("script",f.dataTypes)>-1&&k.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),v=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,v,S,h),h?(f.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=w),(w=S.getResponseHeader("etag"))&&(k.etag[i]=w)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=v.state,d=v.data,h=!(b=v.error))):(b=x,!e&&x||(x="error",e<0&&(e=0))),S.status=e,S.statusText=(t||x)+"",h?g.resolveWith(p,[d,x,S]):g.rejectWith(p,[S,x,b]),S.statusCode(y),y=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[S,f,h?d:b]),_.fireWith(p,[S,x]),u&&(m.trigger("ajaxComplete",[S,f]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,t){k[t]=function(e,n,r,i){return _(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:r},k.isPlainObject(e)&&e))}}),k.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return _(e)?this.each(function(t){k(this).wrapInner(e.call(this,t))}):this.each(function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=_(e);return this.each(function(n){k(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},Qt=k.ajaxSettings.xhr();g.cors=!!Qt&&"withCredentials"in Qt,g.ajax=Qt=!!Qt,k.ajaxTransport(function(e){var t,n;if(g.cors||Qt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Jt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}});var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||k.expando+"_"+Dt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(nn,"$1"+i):!1!==e.jsonp&&(e.url+=(Pt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||k.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always(function(){void 0===o?k(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,tn.push(i)),s&&_(o)&&o(s[0]),s=o=void 0}),"script"}),g.createHTMLDocument=((en=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),o=!n&&[],(i=j.exec(e))?[t.createElement(i[1])]:(i=$e([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=kt(e.slice(a)),e=e.slice(0,a)),_(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,function(t){return e===t.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=k.css(e,"position"),u=k(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),_(t)&&(t=t.call(e,n,k.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):u.css(h)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){k.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||me})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return ee(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),k.each(["top","left"],function(e,t){k.cssHooks[t]=et(g.pixelPosition,function(e,n){if(n)return n=Qe(e,t),Ve.test(n)?k(e).position()[t]+"px":n})}),k.each({Height:"height",Width:"width"},function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){k.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return ee(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?k.css(t,n,a):k.style(t,n,i,a)},t,s?i:void 0,s)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),_(e))return r=a.call(arguments,2),i=function(){return e.apply(t||this,r.concat(a.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=E,k.isFunction=_,k.isWindow=y,k.camelCase=ie,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var on=r.jQuery,sn=r.$;return k.noConflict=function(e){return r.$===k&&(r.$=sn),e&&r.jQuery===k&&(r.jQuery=on),k},void 0===i&&(r.jQuery=r.$=k),k})},4697:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},4720:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(3662),n(1897),n(6883),n(9139)],r=function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)s.push(o);this.handles=i.add(e(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,o,s,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-c.values(t));(i>n||i===n&&(t===c._lastChangedValue||c.values(t)===u.min))&&(i=n,o=e(this),s=t)}),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-o.width()/2,top:t.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/t)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_uiHash:function(e,t,n){var r={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var r,i=this.value(),o=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),i=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(r,n):Math.max(r,n)),o[t]=n),n!==i&&!1!==this._trigger("slide",e,this._uiHash(t,n,o))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var n,r,i;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!Array.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=arguments[0],i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(r[i]),this._change(null,i);this._refreshValue()},_setOption:function(e,t){var n,r=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,r,i,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(r){n=(l.values(r)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===r&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===r&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===r&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===r&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(t){var n,r,i,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,o)))return}switch(i=this.options.step,n=r=this._hasMultipleValues()?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(t,o,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}})},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},4903:function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(5093))},4996:(e,t,n)=>{var r=n(6932);!function(){"use strict";angular.module("floatThead",[]).directive("floatThead",["$timeout","$log",function(e,t){return{require:"?ngModel",scope:{floatThead:"=?",floatTheadEnabled:"=?"},controller:["$scope","$element","$attrs",function(e,t,n){n.hasOwnProperty("floatTheadEnabled")||(e.floatTheadEnabled=n.floatTheadEnabled=!0),n.hasOwnProperty("floatThead")&&""!==n.floatThead||(e.floatThead=n.floatThead={})}],link:function(n,i,o,s){n.$watch("floatTheadEnabled",function(e){!0===e?angular.isObject(n.floatThead)&&r(i).floatThead(n.floatThead):r(i).floatThead("destroy")}),n.$watch("floatThead",function(e,t){e!==t&&n.floatTheadEnabled&&(r(i).floatThead("destroy"),angular.isObject(e)&&r(i).floatThead(e))},!0),s?s.$formatters.push(function(){n.floatTheadEnabled&&angular.isObject(n.floatThead)&&e(function(){r(i).floatThead("reflow")})}):t.info("floatThead: ngModel not provided!");i.bind("update",function(){e(function(){r(i).floatThead("reflow")},0)}),i.bind("$destroy",function(){r(i).floatThead("destroy")})},restrict:"A"}}])}()},5050:function(e,t,n){!function(e){"use strict";var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પહેલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})}(n(5093))},5093:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function o(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(l(e,t))return!1;return!0}function u(e){return void 0===e}function h(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,r){return Xn(e,t,n,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _(e){return null==e._pf&&(e._pf=g()),e._pf}function y(e){var t=null,n=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=_(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function b(e){var t=m(NaN);return null!=e?p(_(t),e):_(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=i.momentProperties=[],w=!1;function x(e,t){var n,r,i,o=v.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=_(t)),u(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)u(i=t[r=v[n]])||(e[r]=i);return e}function S(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,i.updateOffset(this),w=!1)}function M(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function k(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return p(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,o,s,a=[],c=arguments.length;for(o=0;o<c;o++){if(r="","object"==typeof arguments[o]){for(s in r+="\n["+o+"] ",arguments[0])l(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[o];a.push(r)}k(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var E,L={};function C(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),L[e]||(k(t),L[e]=!0)}function D(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e){var t,n;for(n in e)l(e,n)&&(D(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $(e,t){var n,r=p({},e);for(n in t)l(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&a(e[n])&&(r[n]=p({},r[n]));return r}function A(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return D(r)?r.call(t,n):r}function I(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},j={};function H(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(j[e]=i),t&&(j[t[0]]=function(){return I(i.apply(this,arguments),t[1],t[2])}),n&&(j[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(F);for(t=0,n=r.length;t<n;t++)j[r[t]]?r[t]=j[r[t]]:r[t]=U(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=D(r[i])?r[i].call(t,e):r[i];return o}}function G(e,t){return e.isValid()?(t=W(t,e.localeData()),Y[t]=Y[t]||z(t),Y[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,r),N.lastIndex=0,n-=1;return e}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function B(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(F).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}var V="Invalid date";function X(){return this._invalidDate}var K="%d",Z=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ee(e,t,n,r){var i=this._relativeTime[n];return D(i)?i(e,t,n,r):i.replace(/%d/i,e)}function te(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)}var ne={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function re(e){return"string"==typeof e?ne[e]||ne[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)l(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function se(e){var t,n=[];for(t in e)l(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}var ae,le=/\d/,ce=/\d\d/,ue=/\d{3}/,he=/\d{4}/,de=/[+-]?\d{6}/,fe=/\d\d?/,pe=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,ge=/\d{1,3}/,_e=/\d{1,4}/,ye=/[+-]?\d{1,6}/,be=/\d+/,ve=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,xe=/Z|[+-]\d\d(?::?\d\d)?/gi,Se=/[+-]?\d+(\.\d{1,3})?/,Me=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ke=/^[1-9]\d?/,Te=/^([1-9]\d|\d)/;function Ee(e,t,n){ae[e]=D(t)?t:function(e,r){return e&&n?n:t}}function Le(e,t){return l(ae,e)?ae[e](t._strict,t._locale):new RegExp(Ce(e))}function Ce(e){return De(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function De(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Pe(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $e(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Pe(t)),n}ae={};var Ae={};function Re(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),h(t)&&(i=function(e,n){n[t]=$e(e)}),r=e.length,n=0;n<r;n++)Ae[e[n]]=i}function Oe(e,t){Re(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function Ie(e,t,n){null!=t&&l(Ae,e)&&Ae[e](t,n._a,n,e)}function Fe(e){return e%4==0&&e%100!=0||e%400==0}var Ne=0,Ye=1,je=2,He=3,Ue=4,ze=5,Ge=6,We=7,qe=8;function Be(e){return Fe(e)?366:365}H("Y",0,0,function(){var e=this.year();return e<=9999?I(e,4):"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),Ee("Y",ve),Ee("YY",fe,ce),Ee("YYYY",_e,he),Ee("YYYYY",ye,de),Ee("YYYYYY",ye,de),Re(["YYYYY","YYYYYY"],Ne),Re("YYYY",function(e,t){t[Ne]=2===e.length?i.parseTwoDigitYear(e):$e(e)}),Re("YY",function(e,t){t[Ne]=i.parseTwoDigitYear(e)}),Re("Y",function(e,t){t[Ne]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return $e(e)+($e(e)>68?1900:2e3)};var Ve,Xe=Ze("FullYear",!0);function Ke(){return Fe(this.year())}function Ze(e,t){return function(n){return null!=n?(Qe(this,e,n),i.updateOffset(this,t),this):Je(this,e)}}function Je(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Qe(e,t,n){var r,i,o,s,a;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=e.month(),a=29!==(a=e.date())||1!==s||Fe(o)?a:28,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function et(e){return D(this[e=re(e)])?this[e]():this}function tt(e,t){if("object"==typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(D(this[e=re(e)]))return this[e](t);return this}function nt(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nt(t,12);return e+=(t-n)/12,1===n?Fe(e)?29:28:31-n%7%2}Ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Ee("M",fe,ke),Ee("MM",fe,ce),Ee("MMM",function(e,t){return t.monthsShortRegex(e)}),Ee("MMMM",function(e,t){return t.monthsRegex(e)}),Re(["M","MM"],function(e,t){t[Ye]=$e(e)-1}),Re(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ye]=i:_(n).invalidMonth=e});var it="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,at=Me,lt=Me;function ct(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ut(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ht(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=m([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ve.call(this._shortMonthsParse,s))?i:null:-1!==(i=Ve.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=Ve.call(this._shortMonthsParse,s))||-1!==(i=Ve.call(this._longMonthsParse,s))?i:null:-1!==(i=Ve.call(this._longMonthsParse,s))||-1!==(i=Ve.call(this._shortMonthsParse,s))?i:null}function dt(e,t,n){var r,i,o;if(this._monthsParseExact)return ht.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=m([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ft(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=$e(t);else if(!h(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,rt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function pt(e){return null!=e?(ft(this,e),i.updateOffset(this,!0),this):Je(this,"Month")}function mt(){return rt(this.year(),this.month())}function gt(e){return this._monthsParseExact?(l(this,"_monthsRegex")||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=at),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function _t(e){return this._monthsParseExact?(l(this,"_monthsRegex")||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=lt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r,i,o=[],s=[],a=[];for(t=0;t<12;t++)n=m([2e3,t]),r=De(this.monthsShort(n,"")),i=De(this.months(n,"")),o.push(r),s.push(i),a.push(i),a.push(r);o.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function bt(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function vt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+vt(e,0,r).getUTCDay()-t)%7+r-1}function xt(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return a<=0?s=Be(o=e-1)+a:a>Be(e)?(o=e+1,s=a-Be(e)):(o=e,s=a),{year:o,dayOfYear:s}}function St(e,t,n){var r,i,o=wt(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+Mt(i=e.year()-1,t,n):s>Mt(e.year(),t,n)?(r=s-Mt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function Mt(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(Be(e)-r+i)/7}function kt(e){return St(e,this._week.dow,this._week.doy).week}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),Ee("w",fe,ke),Ee("ww",fe,ce),Ee("W",fe,ke),Ee("WW",fe,ce),Oe(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=$e(e)});var Tt={dow:0,doy:6};function Et(){return this._week.dow}function Lt(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Dt(e){var t=St(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pt(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function $t(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function At(e,t){return e.slice(t,7).concat(e.slice(0,t))}H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),Ee("d",fe),Ee("e",fe),Ee("E",fe),Ee("dd",function(e,t){return t.weekdaysMinRegex(e)}),Ee("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Ee("dddd",function(e,t){return t.weekdaysRegex(e)}),Oe(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:_(n).invalidWeekday=e}),Oe(["d","e","E"],function(e,t,n,r){t[r]=$e(e)});var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),It="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ft=Me,Nt=Me,Yt=Me;function jt(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?At(n,this._week.dow):e?n[e.day()]:n}function Ht(e){return!0===e?At(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ut(e){return!0===e?At(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function zt(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=m([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ve.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Ve.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=Ve.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=Ve.call(this._weekdaysParse,s))||-1!==(i=Ve.call(this._shortWeekdaysParse,s))||-1!==(i=Ve.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Ve.call(this._shortWeekdaysParse,s))||-1!==(i=Ve.call(this._weekdaysParse,s))||-1!==(i=Ve.call(this._minWeekdaysParse,s))?i:null:-1!==(i=Ve.call(this._minWeekdaysParse,s))||-1!==(i=Ve.call(this._weekdaysParse,s))||-1!==(i=Ve.call(this._shortWeekdaysParse,s))?i:null}function Gt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return zt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=m([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=Je(this,"Day");return null!=e?(e=Pt(e,this.localeData()),this.add(e-t,"d")):t}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Bt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=$t(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Vt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ft),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),r=De(this.weekdaysMin(n,"")),i=De(this.weekdaysShort(n,"")),o=De(this.weekdays(n,"")),s.push(r),a.push(i),l.push(o),c.push(r),c.push(i),c.push(o);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function en(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function tn(e,t){return t._meridiemParse}function nn(e){return"p"===(e+"").toLowerCase().charAt(0)}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Jt),H("k",["kk",2],0,Qt),H("hmm",0,0,function(){return""+Jt.apply(this)+I(this.minutes(),2)}),H("hmmss",0,0,function(){return""+Jt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),en("a",!0),en("A",!1),Ee("a",tn),Ee("A",tn),Ee("H",fe,Te),Ee("h",fe,ke),Ee("k",fe,ke),Ee("HH",fe,ce),Ee("hh",fe,ce),Ee("kk",fe,ce),Ee("hmm",pe),Ee("hmmss",me),Ee("Hmm",pe),Ee("Hmmss",me),Re(["H","HH"],He),Re(["k","kk"],function(e,t,n){var r=$e(e);t[He]=24===r?0:r}),Re(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Re(["h","hh"],function(e,t,n){t[He]=$e(e),_(n).bigHour=!0}),Re("hmm",function(e,t,n){var r=e.length-2;t[He]=$e(e.substr(0,r)),t[Ue]=$e(e.substr(r)),_(n).bigHour=!0}),Re("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=$e(e.substr(0,r)),t[Ue]=$e(e.substr(r,2)),t[ze]=$e(e.substr(i)),_(n).bigHour=!0}),Re("Hmm",function(e,t,n){var r=e.length-2;t[He]=$e(e.substr(0,r)),t[Ue]=$e(e.substr(r))}),Re("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=$e(e.substr(0,r)),t[Ue]=$e(e.substr(r,2)),t[ze]=$e(e.substr(i))});var rn=/[ap]\.?m?\.?/i,on=Ze("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,ln={calendar:R,longDateFormat:q,invalidDate:V,ordinal:K,dayOfMonthOrdinalParse:Z,relativeTime:Q,months:it,monthsShort:ot,week:Tt,weekdays:Rt,weekdaysMin:It,weekdaysShort:Ot,meridiemParse:rn},cn={},un={};function hn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=dn(e[o]).split("-")).length,n=(n=dn(e[o+1]))?n.split("-"):null;t>0;){if(r=mn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&hn(i,n)>=t-1)break;t--}o++}return an}function pn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function mn(t){var r=null;if(void 0===cn[t]&&e&&e.exports&&pn(t))try{r=an._abbr,n(5358)("./"+t),gn(r)}catch(e){cn[t]=null}return cn[t]}function gn(e,t){var n;return e&&((n=u(t)?bn(e):_n(e,t))?an=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function _n(e,t){if(null!==t){var n,r=ln;if(t.abbr=e,null!=cn[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cn[e]._config;else if(null!=t.parentLocale)if(null!=cn[t.parentLocale])r=cn[t.parentLocale]._config;else{if(null==(n=mn(t.parentLocale)))return un[t.parentLocale]||(un[t.parentLocale]=[]),un[t.parentLocale].push({name:e,config:t}),null;r=n._config}return cn[e]=new A($(r,t)),un[e]&&un[e].forEach(function(e){_n(e.name,e.config)}),gn(e),cn[e]}return delete cn[e],null}function yn(e,t){if(null!=t){var n,r,i=ln;null!=cn[e]&&null!=cn[e].parentLocale?cn[e].set($(cn[e]._config,t)):(null!=(r=mn(e))&&(i=r._config),t=$(i,t),null==r&&(t.abbr=e),(n=new A(t)).parentLocale=cn[e],cn[e]=n),gn(e)}else null!=cn[e]&&(null!=cn[e].parentLocale?(cn[e]=cn[e].parentLocale,e===gn()&&gn(e)):null!=cn[e]&&delete cn[e]);return cn[e]}function bn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!s(e)){if(t=mn(e))return t;e=[e]}return fn(e)}function vn(){return E(cn)}function wn(e){var t,n=e._a;return n&&-2===_(e).overflow&&(t=n[Ye]<0||n[Ye]>11?Ye:n[je]<1||n[je]>rt(n[Ne],n[Ye])?je:n[He]<0||n[He]>24||24===n[He]&&(0!==n[Ue]||0!==n[ze]||0!==n[Ge])?He:n[Ue]<0||n[Ue]>59?Ue:n[ze]<0||n[ze]>59?ze:n[Ge]<0||n[Ge]>999?Ge:-1,_(e)._overflowDayOfYear&&(t<Ne||t>je)&&(t=je),_(e)._overflowWeeks&&-1===t&&(t=We),_(e)._overflowWeekday&&-1===t&&(t=qe),_(e).overflow=t),e}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mn=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],En=/^\/?Date\((-?\d+)/i,Ln=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dn(e){var t,n,r,i,o,s,a=e._i,l=xn.exec(a)||Sn.exec(a),c=kn.length,u=Tn.length;if(l){for(_(e).iso=!0,t=0,n=c;t<n;t++)if(kn[t][1].exec(l[1])){i=kn[t][0],r=!1!==kn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Tn[t][1].exec(l[3])){o=(l[2]||" ")+Tn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Mn.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Un(e)}else e._isValid=!1}function Pn(e,t,n,r,i,o){var s=[$n(e),ot.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function $n(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function An(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||Ot.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(_(n).weekdayMismatch=!0,n._isValid=!1,!1)}function On(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function In(e){var t,n=Ln.exec(An(e._i));if(n){if(t=Pn(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],t,e))return;e._a=t,e._tzm=On(n[8],n[9],n[10]),e._d=vt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),_(e).rfc2822=!0}else e._isValid=!1}function Fn(e){var t=En.exec(e._i);null===t?(Dn(e),!1===e._isValid&&(delete e._isValid,In(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Nn(e,t,n){return null!=e?e:null!=t?t:n}function Yn(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function jn(e){var t,n,r,i,o,s=[];if(!e._d){for(r=Yn(e),e._w&&null==e._a[je]&&null==e._a[Ye]&&Hn(e),null!=e._dayOfYear&&(o=Nn(e._a[Ne],r[Ne]),(e._dayOfYear>Be(o)||0===e._dayOfYear)&&(_(e)._overflowDayOfYear=!0),n=vt(o,0,e._dayOfYear),e._a[Ye]=n.getUTCMonth(),e._a[je]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[Ue]&&0===e._a[ze]&&0===e._a[Ge]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?vt:bt).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(_(e).weekdayMismatch=!0)}}function Hn(e){var t,n,r,i,o,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=Nn(t.GG,e._a[Ne],St(Kn(),1,4).year),r=Nn(t.W,1),((i=Nn(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=St(Kn(),o,s),n=Nn(t.gg,e._a[Ne],c.year),r=Nn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>Mt(n,o,s)?_(e)._overflowWeeks=!0:null!=l?_(e)._overflowWeekday=!0:(a=xt(n,r,i,o,s),e._a[Ne]=a.year,e._dayOfYear=a.dayOfYear)}function Un(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],_(e).empty=!0;var t,n,r,o,s,a,l,c=""+e._i,u=c.length,h=0;for(l=(r=W(e._f,e._locale).match(F)||[]).length,t=0;t<l;t++)o=r[t],(n=(c.match(Le(o,e))||[])[0])&&((s=c.substr(0,c.indexOf(n))).length>0&&_(e).unusedInput.push(s),c=c.slice(c.indexOf(n)+n.length),h+=n.length),j[o]?(n?_(e).empty=!1:_(e).unusedTokens.push(o),Ie(o,n,e)):e._strict&&!n&&_(e).unusedTokens.push(o);_(e).charsLeftOver=u-h,c.length>0&&_(e).unusedInput.push(c),e._a[He]<=12&&!0===_(e).bigHour&&e._a[He]>0&&(_(e).bigHour=void 0),_(e).parsedDateParts=e._a.slice(0),_(e).meridiem=e._meridiem,e._a[He]=zn(e._locale,e._a[He],e._meridiem),null!==(a=_(e).era)&&(e._a[Ne]=e._locale.erasConvertYear(a,e._a[Ne])),jn(e),wn(e)}else In(e);else Dn(e)}function zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Gn(e){var t,n,r,i,o,s,a=!1,l=e._f.length;if(0===l)return _(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,s=!1,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Un(t),y(t)&&(s=!0),o+=_(t).charsLeftOver,o+=10*_(t).unusedTokens.length,_(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));p(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),jn(e)}}function qn(e){var t=new S(wn(Bn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Bn(e){var t=e._i,n=e._f;return e._locale=e._locale||bn(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),M(t)?new S(wn(t)):(d(t)?e._d=t:s(n)?Gn(e):n?Un(e):Vn(e),y(e)||(e._d=null),e))}function Vn(e){var t=e._i;u(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Fn(e):s(t)?(e._a=f(t.slice(0),function(e){return parseInt(e,10)}),jn(e)):a(t)?Wn(e):h(t)?e._d=new Date(t):i.createFromInputFallback(e)}function Xn(e,t,n,r,i){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&c(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,qn(o)}function Kn(e,t,n,r){return Xn(e,t,n,r,!1)}i.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Zn=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()}),Jn=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()});function Qn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function er(){return Qn("isBefore",[].slice.call(arguments,0))}function tr(){return Qn("isAfter",[].slice.call(arguments,0))}var nr=function(){return Date.now?Date.now():+new Date},rr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ir(e){var t,n,r=!1,i=rr.length;for(t in e)if(l(e,t)&&(-1===Ve.call(rr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[rr[n]]){if(r)return!1;parseFloat(e[rr[n]])!==$e(e[rr[n]])&&(r=!0)}return!0}function or(){return this._isValid}function sr(){return Cr(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=ir(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=bn(),this._bubble()}function lr(e){return e instanceof ar}function cr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&$e(e[r])!==$e(t[r]))&&s++;return s+o}function hr(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}hr("Z",":"),hr("ZZ",""),Ee("Z",xe),Ee("ZZ",xe),Re(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=fr(xe,e)});var dr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+$e(n[2]))?0:"+"===n[0]?r:-r}function pr(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(M(e)||d(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Kn(e).local()}function mr(e){return-Math.round(e._d.getTimezoneOffset())}function gr(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=fr(xe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=mr(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Rr(this,Cr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:mr(this)}function _r(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function br(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(mr(this),"m")),this}function vr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=fr(we,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return x(t,this),(t=Bn(t))._a?(e=t._isUTC?m(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Mr(){return!!this.isValid()&&!this._isUTC}function kr(){return!!this.isValid()&&this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Er=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Lr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,o=e,s=null;return lr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:h(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=Er.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:$e(s[je])*n,h:$e(s[He])*n,m:$e(s[Ue])*n,s:$e(s[ze])*n,ms:$e(cr(1e3*s[Ge]))*n}):(s=Lr.exec(e))?(n="-"===s[1]?-1:1,o={y:Dr(s[2],n),M:Dr(s[3],n),w:Dr(s[4],n),d:Dr(s[5],n),h:Dr(s[6],n),m:Dr(s[7],n),s:Dr(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=$r(Kn(o.from),Kn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ar(o),lr(e)&&l(e,"_locale")&&(r._locale=e._locale),lr(e)&&l(e,"_isValid")&&(r._isValid=e._isValid),r}function Dr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Pr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $r(e,t){var n;return e.isValid()&&t.isValid()?(t=pr(t,e),e.isBefore(t)?n=Pr(e,t):((n=Pr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ar(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Rr(this,Cr(n,r),e),this}}function Rr(e,t,n,r){var o=t._milliseconds,s=cr(t._days),a=cr(t._months);e.isValid()&&(r=null==r||r,a&&ft(e,Je(e,"Month")+a*n),s&&Qe(e,"Date",Je(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,s||a))}Cr.fn=ar.prototype,Cr.invalid=sr;var Or=Ar(1,"add"),Ir=Ar(-1,"subtract");function Fr(e){return"string"==typeof e||e instanceof String}function Nr(e){return M(e)||d(e)||Fr(e)||h(e)||jr(e)||Yr(e)||null==e}function Yr(e){var t,n,r=a(e)&&!c(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s=o.length;for(t=0;t<s;t+=1)n=o[t],i=i||l(e,n);return r&&i}function jr(e){var t=s(e),n=!1;return t&&(n=0===e.filter(function(t){return!h(t)&&Fr(e)}).length),t&&n}function Hr(e){var t,n,r=a(e)&&!c(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||l(e,n);return r&&i}function Ur(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zr(e,t){1===arguments.length&&(arguments[0]?Nr(arguments[0])?(e=arguments[0],t=void 0):Hr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),r=pr(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",s=t&&(D(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Kn(n)))}function Gr(){return new S(this)}function Wr(e,t){var n=M(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function qr(e,t){var n=M(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Br(e,t,n,r){var i=M(e)?e:Kn(e),o=M(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Vr(e,t){var n,r=M(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Xr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=pr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=Jr(this,r)/12;break;case"month":o=Jr(this,r);break;case"quarter":o=Jr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Pe(o)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ei(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ti(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ni(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)}function ri(e,t){return this.isValid()&&(M(e)&&e.isValid()||Kn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.from(Kn(),e)}function oi(e,t){return this.isValid()&&(M(e)&&e.isValid()||Kn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function si(e){return this.to(Kn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=bn(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var li=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function ci(){return this._locale}var ui=1e3,hi=60*ui,di=60*hi,fi=3506328*di;function pi(e,t){return(e%t+t)%t}function mi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function gi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function _i(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:mi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pi(t+(this._isUTC?0:this.utcOffset()*hi),di);break;case"minute":t=this._d.valueOf(),t-=pi(t,hi);break;case"second":t=this._d.valueOf(),t-=pi(t,ui)}return this._d.setTime(t),i.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:mi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-pi(t+(this._isUTC?0:this.utcOffset()*hi),di)-1;break;case"minute":t=this._d.valueOf(),t+=hi-pi(t,hi)-1;break;case"second":t=this._d.valueOf(),t+=ui-pi(t,ui)-1}return this._d.setTime(t),i.updateOffset(this,!0),this}function bi(){return this._d.valueOf()-6e4*(this._offset||0)}function vi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Si(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Mi(){return this.isValid()?this.toISOString():null}function ki(){return y(this)}function Ti(){return p({},_(this))}function Ei(){return _(this).overflow}function Li(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,r,o,s=this._eras||bn("en")._eras;for(n=0,r=s.length;n<r;++n)switch("string"==typeof s[n].since&&(o=i(s[n].since).startOf("day"),s[n].since=o.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=i(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}return s}function Di(e,t,n){var r,i,o,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([o,s,a].indexOf(e)>=0)return l[r]}function Pi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n}function $i(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Oi(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-i(o[e].since).year())*n+o[e].offset;return this.year()}function Ii(e){return l(this,"_erasNameRegex")||zi.call(this),e?this._erasNameRegex:this._erasRegex}function Fi(e){return l(this,"_erasAbbrRegex")||zi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ni(e){return l(this,"_erasNarrowRegex")||zi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Yi(e,t){return t.erasAbbrRegex(e)}function ji(e,t){return t.erasNameRegex(e)}function Hi(e,t){return t.erasNarrowRegex(e)}function Ui(e,t){return t._eraYearOrdinalRegex||be}function zi(){var e,t,n,r,i,o=[],s=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=De(c[e].name),r=De(c[e].abbr),i=De(c[e].narrow),s.push(n),o.push(r),a.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Gi(e,t){H(0,[e,e.length],0,t)}function Wi(e){return Zi.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function qi(e){return Zi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Bi(){return Mt(this.year(),1,4)}function Vi(){return Mt(this.isoWeekYear(),1,4)}function Xi(){var e=this.localeData()._week;return Mt(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return Mt(this.weekYear(),e.dow,e.doy)}function Zi(e,t,n,r,i){var o;return null==e?St(this,r,i).year:(t>(o=Mt(e,r,i))&&(t=o),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var o=xt(e,t,n,r,i),s=vt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Qi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}H("N",0,0,"eraAbbr"),H("NN",0,0,"eraAbbr"),H("NNN",0,0,"eraAbbr"),H("NNNN",0,0,"eraName"),H("NNNNN",0,0,"eraNarrow"),H("y",["y",1],"yo","eraYear"),H("y",["yy",2],0,"eraYear"),H("y",["yyy",3],0,"eraYear"),H("y",["yyyy",4],0,"eraYear"),Ee("N",Yi),Ee("NN",Yi),Ee("NNN",Yi),Ee("NNNN",ji),Ee("NNNNN",Hi),Re(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?_(n).era=i:_(n).invalidEra=e}),Ee("y",be),Ee("yy",be),Ee("yyy",be),Ee("yyyy",be),Ee("yo",Ui),Re(["y","yy","yyy","yyyy"],Ne),Re(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ne]=n._locale.eraYearOrdinalParse(e,i):t[Ne]=parseInt(e,10)}),H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Gi("gggg","weekYear"),Gi("ggggg","weekYear"),Gi("GGGG","isoWeekYear"),Gi("GGGGG","isoWeekYear"),Ee("G",ve),Ee("g",ve),Ee("GG",fe,ce),Ee("gg",fe,ce),Ee("GGGG",_e,he),Ee("gggg",_e,he),Ee("GGGGG",ye,de),Ee("ggggg",ye,de),Oe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=$e(e)}),Oe(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),H("Q",0,"Qo","quarter"),Ee("Q",le),Re("Q",function(e,t){t[Ye]=3*($e(e)-1)}),H("D",["DD",2],"Do","date"),Ee("D",fe,ke),Ee("DD",fe,ce),Ee("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Re(["D","DD"],je),Re("Do",function(e,t){t[je]=$e(e.match(fe)[0])});var eo=Ze("Date",!0);function to(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}H("DDD",["DDDD",3],"DDDo","dayOfYear"),Ee("DDD",ge),Ee("DDDD",ue),Re(["DDD","DDDD"],function(e,t,n){n._dayOfYear=$e(e)}),H("m",["mm",2],0,"minute"),Ee("m",fe,Te),Ee("mm",fe,ce),Re(["m","mm"],Ue);var no=Ze("Minutes",!1);H("s",["ss",2],0,"second"),Ee("s",fe,Te),Ee("ss",fe,ce),Re(["s","ss"],ze);var ro,io,oo=Ze("Seconds",!1);for(H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Ee("S",ge,le),Ee("SS",ge,ce),Ee("SSS",ge,ue),ro="SSSS";ro.length<=9;ro+="S")Ee(ro,be);function so(e,t){t[Ge]=$e(1e3*("0."+e))}for(ro="S";ro.length<=9;ro+="S")Re(ro,so);function ao(){return this._isUTC?"UTC":""}function lo(){return this._isUTC?"Coordinated Universal Time":""}io=Ze("Milliseconds",!1),H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var co=S.prototype;function uo(e){return Kn(1e3*e)}function ho(){return Kn.apply(null,arguments).parseZone()}function fo(e){return e}co.add=Or,co.calendar=zr,co.clone=Gr,co.diff=Zr,co.endOf=yi,co.format=ni,co.from=ri,co.fromNow=ii,co.to=oi,co.toNow=si,co.get=et,co.invalidAt=Ei,co.isAfter=Wr,co.isBefore=qr,co.isBetween=Br,co.isSame=Vr,co.isSameOrAfter=Xr,co.isSameOrBefore=Kr,co.isValid=ki,co.lang=li,co.locale=ai,co.localeData=ci,co.max=Jn,co.min=Zn,co.parsingFlags=Ti,co.set=tt,co.startOf=_i,co.subtract=Ir,co.toArray=xi,co.toObject=Si,co.toDate=wi,co.toISOString=ei,co.inspect=ti,"undefined"!=typeof Symbol&&null!=Symbol.for&&(co[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),co.toJSON=Mi,co.toString=Qr,co.unix=vi,co.valueOf=bi,co.creationData=Li,co.eraName=$i,co.eraNarrow=Ai,co.eraAbbr=Ri,co.eraYear=Oi,co.year=Xe,co.isLeapYear=Ke,co.weekYear=Wi,co.isoWeekYear=qi,co.quarter=co.quarters=Qi,co.month=pt,co.daysInMonth=mt,co.week=co.weeks=Ct,co.isoWeek=co.isoWeeks=Dt,co.weeksInYear=Xi,co.weeksInWeekYear=Ki,co.isoWeeksInYear=Bi,co.isoWeeksInISOWeekYear=Vi,co.date=eo,co.day=co.days=Wt,co.weekday=qt,co.isoWeekday=Bt,co.dayOfYear=to,co.hour=co.hours=on,co.minute=co.minutes=no,co.second=co.seconds=oo,co.millisecond=co.milliseconds=io,co.utcOffset=gr,co.utc=yr,co.local=br,co.parseZone=vr,co.hasAlignedHourOffset=wr,co.isDST=xr,co.isLocal=Mr,co.isUtcOffset=kr,co.isUtc=Tr,co.isUTC=Tr,co.zoneAbbr=ao,co.zoneName=lo,co.dates=T("dates accessor is deprecated. Use date instead.",eo),co.months=T("months accessor is deprecated. Use month instead",pt),co.years=T("years accessor is deprecated. Use year instead",Xe),co.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_r),co.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sr);var po=A.prototype;function mo(e,t,n,r){var i=bn(),o=m().set(r,t);return i[n](o,e)}function go(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return mo(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mo(e,r,n,"month");return i}function _o(e,t,n,r){"boolean"==typeof e?(h(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,h(t)&&(n=t,t=void 0),t=t||"");var i,o=bn(),s=e?o._week.dow:0,a=[];if(null!=n)return mo(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=mo(t,(i+s)%7,r,"day");return a}function yo(e,t){return go(e,t,"months")}function bo(e,t){return go(e,t,"monthsShort")}function vo(e,t,n){return _o(e,t,n,"weekdays")}function wo(e,t,n){return _o(e,t,n,"weekdaysShort")}function xo(e,t,n){return _o(e,t,n,"weekdaysMin")}po.calendar=O,po.longDateFormat=B,po.invalidDate=X,po.ordinal=J,po.preparse=fo,po.postformat=fo,po.relativeTime=ee,po.pastFuture=te,po.set=P,po.eras=Ci,po.erasParse=Di,po.erasConvertYear=Pi,po.erasAbbrRegex=Fi,po.erasNameRegex=Ii,po.erasNarrowRegex=Ni,po.months=ct,po.monthsShort=ut,po.monthsParse=dt,po.monthsRegex=_t,po.monthsShortRegex=gt,po.week=kt,po.firstDayOfYear=Lt,po.firstDayOfWeek=Et,po.weekdays=jt,po.weekdaysMin=Ut,po.weekdaysShort=Ht,po.weekdaysParse=Gt,po.weekdaysRegex=Vt,po.weekdaysShortRegex=Xt,po.weekdaysMinRegex=Kt,po.isPM=nn,po.meridiem=sn,gn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===$e(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=T("moment.lang is deprecated. Use moment.locale instead.",gn),i.langData=T("moment.langData is deprecated. Use moment.localeData instead.",bn);var So=Math.abs;function Mo(){var e=this._data;return this._milliseconds=So(this._milliseconds),this._days=So(this._days),this._months=So(this._months),e.milliseconds=So(e.milliseconds),e.seconds=So(e.seconds),e.minutes=So(e.minutes),e.hours=So(e.hours),e.months=So(e.months),e.years=So(e.years),this}function ko(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function To(e,t){return ko(this,e,t,1)}function Eo(e,t){return ko(this,e,t,-1)}function Lo(e){return e<0?Math.floor(e):Math.ceil(e)}function Co(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Lo(Po(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=Pe(o/1e3),l.seconds=e%60,t=Pe(e/60),l.minutes=t%60,n=Pe(t/60),l.hours=n%24,s+=Pe(n/24),a+=i=Pe(Do(s)),s-=Lo(Po(i)),r=Pe(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function Do(e){return 4800*e/146097}function Po(e){return 146097*e/4800}function $o(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Do(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Po(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ao(e){return function(){return this.as(e)}}var Ro=Ao("ms"),Oo=Ao("s"),Io=Ao("m"),Fo=Ao("h"),No=Ao("d"),Yo=Ao("w"),jo=Ao("M"),Ho=Ao("Q"),Uo=Ao("y"),zo=Ro;function Go(){return Cr(this)}function Wo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function qo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bo=qo("milliseconds"),Vo=qo("seconds"),Xo=qo("minutes"),Ko=qo("hours"),Zo=qo("days"),Jo=qo("months"),Qo=qo("years");function es(){return Pe(this.days()/7)}var ts=Math.round,ns={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rs(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function is(e,t,n,r){var i=Cr(e).abs(),o=ts(i.as("s")),s=ts(i.as("m")),a=ts(i.as("h")),l=ts(i.as("d")),c=ts(i.as("M")),u=ts(i.as("w")),h=ts(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||u<=1&&["w"]||u<n.w&&["ww",u]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=r,rs.apply(null,d)}function os(e){return void 0===e?ts:"function"==typeof e&&(ts=e,!0)}function ss(e,t){return void 0!==ns[e]&&(void 0===t?ns[e]:(ns[e]=t,"s"===e&&(ns.ss=t-1),!0))}function as(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ns;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(o=Object.assign({},ns,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=is(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ls=Math.abs;function cs(e){return(e>0)-(e<0)||+e}function us(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,l=ls(this._milliseconds)/1e3,c=ls(this._days),u=ls(this._months),h=this.asSeconds();return h?(e=Pe(l/60),t=Pe(e/60),l%=60,e%=60,n=Pe(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=cs(this._months)!==cs(h)?"-":"",s=cs(this._days)!==cs(h)?"-":"",a=cs(this._milliseconds)!==cs(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var hs=ar.prototype;return hs.isValid=or,hs.abs=Mo,hs.add=To,hs.subtract=Eo,hs.as=$o,hs.asMilliseconds=Ro,hs.asSeconds=Oo,hs.asMinutes=Io,hs.asHours=Fo,hs.asDays=No,hs.asWeeks=Yo,hs.asMonths=jo,hs.asQuarters=Ho,hs.asYears=Uo,hs.valueOf=zo,hs._bubble=Co,hs.clone=Go,hs.get=Wo,hs.milliseconds=Bo,hs.seconds=Vo,hs.minutes=Xo,hs.hours=Ko,hs.days=Zo,hs.weeks=es,hs.months=Jo,hs.years=Qo,hs.humanize=as,hs.toISOString=us,hs.toString=us,hs.toJSON=us,hs.locale=ai,hs.localeData=ci,hs.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",us),hs.lang=li,H("X",0,0,"unix"),H("x",0,0,"valueOf"),Ee("x",ve),Ee("X",Se),Re("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),Re("x",function(e,t,n){n._d=new Date($e(e))}),i.version="2.30.1",o(Kn),i.fn=co,i.min=er,i.max=tr,i.now=nr,i.utc=m,i.unix=uo,i.months=yo,i.isDate=d,i.locale=gn,i.invalid=b,i.duration=Cr,i.isMoment=M,i.weekdays=vo,i.parseZone=ho,i.localeData=bn,i.isDuration=lr,i.monthsShort=bo,i.weekdaysMin=xo,i.defineLocale=_n,i.updateLocale=yn,i.locales=vn,i.weekdaysShort=wo,i.normalizeUnits=re,i.relativeTimeRounding=os,i.relativeTimeThreshold=ss,i.calendarFormat=Ur,i.prototype=co,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},5096:function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_Çar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"öö":"ÖÖ":n?"ös":"ÖS"},meridiemParse:/öö|ÖÖ|ös|ÖS/,isPM:function(e){return"ös"===e||"ÖS"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var r=e%10,i=e%100-r,o=e>=100?100:null;return e+(t[r]||t[i]||t[o])}},week:{dow:1,doy:7}})}(n(5093))},5177:function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5093))},5285:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(3662),n(9983),n(2299),n(6883),n(9139)],r=function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o)return r=e(this),!1}),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),!!r&&(!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,r){var i,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=e("parent"!==s.appendTo?s.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),e.extend(this.offset,{parent:this._getParentOffset()}),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this._storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(e){var t=this.options,n=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-this.document.scrollTop()<t.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<t.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),e.pageX-this.document.scrollLeft()<t.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),n},_mouseDrag:function(t){var n,r,i,o,s=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),s.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},n=this.items.length-1;n>=0;n--)if(i=(r=this.items[n]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||e.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||r+c>a&&r+c<l,d="y"===this.options.axis||t+u>o&&t+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!r||!i)&&(t=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this.dragDirection.vertical,i=this.dragDirection.horizontal;return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,o,s=[],a=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=(i=e(l[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push(["function"==typeof o.options.items?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){s.push(this)}for(a.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(c);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,s,a,l,c,u=this.items,h=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=(i=e(d[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push(["function"==typeof o.options.items?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],r=0,c=(a=h[n][0]).length;r<c;r++)(l=e(a[r])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){var n,r,i,o;for(n=this.items.length-1;n>=0;n--)r=this.items[n],this.currentContainer&&r.instance!==this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top)},refreshPositions:function(e){var t,n;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;t>=0;t--)n=this.containers[t].element.offset(),this.containers[t].containerCache.left=n.left,this.containers[t].containerCache.top=n.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(t){var n,r,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,r=t.currentItem[0].nodeName.toLowerCase(),i.placeholder={element:function(){var i=e("<"+r+">",t.document[0]);return t._addClass(i,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(i,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,o){n&&!i.forcePlaceholderSize||(o.height()&&(!i.forcePlaceholderSize||"tbody"!==r&&"tr"!==r)||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,r,i,o,s,a,l,c,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&e.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(i=1e4,o=null,s=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[f].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[s],c=!1,t[h]-l>this.items[r][a]/2&&(c=!0),Math.abs(t[h]-l)<i&&(i=Math.abs(t[h]-l),o=this.items[r],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,r="function"==typeof n.helper?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||this.appendTo[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!n.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!n.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this.offsetParent[0]===this.document[0].body&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function i(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedStylesheet&&(this._storedStylesheet.remove(),this._storedStylesheet=null),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},5358:(e,t,n)=>{var r={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":7375,"./ar-tn.js":7375,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":4083,"./cs.js":4083,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":5765,"./fi.js":5765,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=5358},5498:function(e,t,n){!function(e){"use strict";var t=/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,n=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,r=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,i=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i];e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:t,monthsShortStrictRegex:n,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(5093))},5533:function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"bir neçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}(n(5093))},5543:function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(5093))},5719:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var o,s=t.words[r];return 1===r.length?"y"===r&&n?"jedna godina":i||n?s[0]:s[1]:(o=t.correctGrammaticalCase(e,s),"yy"===r&&n&&"godinu"===o?e+" godina":e+" "+o)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},5765:function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function r(e,t,n,r){var o="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":o=r?"sekunnin":"sekuntia";break;case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":o=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta"}return o=i(e,r)+" "+o}function i(e,r){return e<10?r?n[e]:t[e]:e}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},5766:function(e,t,n){!function(e){"use strict";var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"}function r(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function i(e){return e%10==0||e>10&&e<20}function o(e){return t[e].split("_")}function s(e,t,n,s){var a=e+" ";return 1===e?a+r(e,t,n[0],s):t?a+(i(e)?o(n)[1]:o(n)[0]):s?a+o(n)[1]:a+(i(e)?o(n)[1]:o(n)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:n,ss:s,m:r,mm:s,h:r,hh:s,d:r,dd:s,M:r,MM:s,y:r,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(5093))},5784:function(e,t,n){!function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pár sekúnd":"pár sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"sekúnd"):o+"sekundami";case"m":return t?"minúta":i?"minútu":"minútou";case"mm":return t||i?o+(r(e)?"minúty":"minút"):o+"minútami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodín"):o+"hodinami";case"d":return t||i?"deň":"dňom";case"dd":return t||i?o+(r(e)?"dni":"dní"):o+"dňami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?o+(r(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:case 4:case 5:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},5802:function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",w:"1 สัปดาห์",ww:"%d สัปดาห์",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(n(5093))},5867:function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})}(n(5093))},5995:function(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(5093))},6e3:function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5093))},6019:(e,t,n)=>{e.exports=n(8162).default},6111:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},6169:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i="काही सेकंद";break;case"ss":i="%d सेकंद";break;case"m":i="एक मिनिट";break;case"mm":i="%d मिनिटे";break;case"h":i="एक तास";break;case"hh":i="%d तास";break;case"d":i="एक दिवस";break;case"dd":i="%d दिवस";break;case"M":i="एक महिना";break;case"MM":i="%d महिने";break;case"y":i="एक वर्ष";break;case"yy":i="%d वर्षे"}else switch(n){case"s":i="काही सेकंदां";break;case"ss":i="%d सेकंदां";break;case"m":i="एका मिनिटा";break;case"mm":i="%d मिनिटां";break;case"h":i="एका तासा";break;case"hh":i="%d तासां";break;case"d":i="एका दिवसा";break;case"dd":i="%d दिवसां";break;case"M":i="एका महिन्या";break;case"MM":i="%d महिन्यां";break;case"y":i="एका वर्षा";break;case"yy":i="%d वर्षां"}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/पहाटे|सकाळी|दुपारी|सायंकाळी|रात्री/,meridiemHour:function(e,t){return 12===e&&(e=0),"पहाटे"===t||"सकाळी"===t?e:"दुपारी"===t||"सायंकाळी"===t||"रात्री"===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"पहाटे":e<12?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}(n(5093))},6181:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["çend sanîye","çend sanîyeyan"],ss:[e+" sanîye",e+" sanîyeyan"],m:["deqîqeyek","deqîqeyekê"],mm:[e+" deqîqe",e+" deqîqeyan"],h:["saetek","saetekê"],hh:[e+" saet",e+" saetan"],d:["rojek","rojekê"],dd:[e+" roj",e+" rojan"],w:["hefteyek","hefteyekê"],ww:[e+" hefte",e+" hefteyan"],M:["mehek","mehekê"],MM:[e+" meh",e+" mehan"],y:["salek","salekê"],yy:[e+" sal",e+" salan"]};return t?i[n][0]:i[n][1]}function n(e){var t=(e=""+e).substring(e.length-1),n=e.length>1?e.substring(e.length-2):"";return 12==n||13==n||"2"!=t&&"3"!=t&&"50"!=n&&"70"!=t&&"80"!=t?"ê":"yê"}e.defineLocale("ku-kmr",{months:"Rêbendan_Sibat_Adar_Nîsan_Gulan_Hezîran_Tîrmeh_Tebax_Îlon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"Rêb_Sib_Ada_Nîs_Gul_Hez_Tîr_Teb_Îlo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yekşem_Duşem_Sêşem_Çarşem_Pêncşem_În_Şemî".split("_"),weekdaysShort:"Yek_Du_Sê_Çar_Pên_În_Şem".split("_"),weekdaysMin:"Ye_Du_Sê_Ça_Pê_În_Şe".split("_"),meridiem:function(e,t,n){return e<12?n?"bn":"BN":n?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[Îro di saet] LT [de]",nextDay:"[Sibê di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a borî di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"berî %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,w:t,ww:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(?:yê|ê|\.)/,ordinal:function(e,t){var r=t.toLowerCase();return r.includes("w")||r.includes("m")?e+".":e+n(e)},week:{dow:1,doy:4}})}(n(5093))},6195:function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},6204:(e,t,n)=>{var r=n(6932);!function(e){e.floatThead=e.floatThead||{},e.floatThead.defaults={headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function(t){return e([])},responsiveContainer:function(t){return e([])},getSizingRow:function(e,t,n){return e.find("tbody tr:visible:first>*:visible")},ariaLabel:function(e,t,n){return t.text()},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,autoReflow:!1,debug:!1,support:{bootstrap:!0,datatables:!0,jqueryUI:!0,perfectScrollbar:!0},floatContainerCss:{"overflow-x":"hidden"}};var t=function(){var t={},n=Object.prototype.hasOwnProperty;t.has=function(e,t){return n.call(e,t)},t.keys=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var n=[];for(var r in e)t.has(e,r)&&n.push(r);return n};var r=0;return t.uniqueId=function(e){var t=++r+"";return e?e+t:t},e.each(["Arguments","Function","String","Number","Date","RegExp"],function(){var e=this;t["is"+e]=function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}),t.debounce=function(e,t,n){var r,i,o,s,a;return function(){o=this,i=arguments,s=new Date;var l=function(){var c=new Date-s;c<t?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(o,i)))},c=n&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(o,i)),a}},t}(),n="undefined"!=typeof MutationObserver,r=function(){for(var e=3,t=document.createElement("b"),n=t.all||[];e=1+e,t.innerHTML="\x3c!--[if gt IE "+e+"]><i><![endif]--\x3e",n[0];);return 4<e?e:document.documentMode}(),i=/Gecko\//.test(navigator.userAgent),o=/WebKit\//.test(navigator.userAgent),s=/rtl/i.test(document.documentElement.dir||"");r||i||o||(r=11);var a=function(){if(o){var t=e("<div>").css("width","0").append(e("<table>").css("max-width","100%").append(e("<tr>").append(e("<th>").append(e("<div>").css("min-width","100px").text("X")))));e("body").append(t);var n=0===t.find("table").width();return t.remove(),n}return!1},l=!i&&!r,c=e(window),u=i&&window.matchMedia;if(!window.matchMedia||u){var h=window.onbeforeprint,d=window.onafterprint;window.onbeforeprint=function(){h&&h(),c.triggerHandler("fth-beforeprint")},window.onafterprint=function(){d&&d(),c.triggerHandler("fth-afterprint")}}function f(t){var n=t[0].parentElement;do{if("visible"!==window.getComputedStyle(n).getPropertyValue("overflow"))break}while(n=n.parentElement);return n===document.body?e([]):e(n)}function p(e){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+e)}function m(e){var t=e.getBoundingClientRect();return t.width||t.right-t.left}function g(){var e=document.createElement("scrolltester");e.style.cssText="width:100px;height:100px;overflow:scroll!important;position:absolute;top:-9999px;display:block",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function _(e,t,n){var r=n?"outerWidth":"width";if(a&&e.css("max-width")){var i=0;n&&(i+=parseInt(e.css("borderLeft"),10),i+=parseInt(e.css("borderRight"),10));for(var o=0;o<t.length;o++)i+=m(t.get(o));return i}return e[r]()}e.fn.floatThead=function(i){if(i=i||{},r<8)return this;if(t.isFunction(a)&&(a=a()),t.isString(i)){var h=i,d=Array.prototype.slice.call(arguments,1),y=this;return this.filter("table").each(function(){var n=e(this),r=n.data("floatThead-lazy");r&&n.floatThead(r);var i=n.data("floatThead-attached");if(i&&t.isFunction(i[h])){var o=i[h].apply(this,d);void 0!==o&&(y=o)}}),y}var b=e.extend({},e.floatThead.defaults||{},i);if(e.each(i,function(n,r){n in e.floatThead.defaults||!b.debug||p("Used ["+n+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+t.keys(e.floatThead.defaults).join(", "))}),b.debug){var v=e.fn.jquery.split(".");1===parseInt(v[0],10)&&parseInt(v[1],10)<=7&&p("jQuery version "+e.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}return this.filter(":not(."+b.floatTableClass+")").each(function(){var i=t.uniqueId(),a=e(this);if(a.data("floatThead-attached"))return!0;if(!a.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var h=b.autoReflow&&n,d=null,y=a.children("thead:first"),v=a.children("tbody:first");if(0===y.length||0===v.length)return b.debug&&(0===y.length?p("The thead element is missing."):p("The tbody element is missing.")),a.data("floatThead-lazy",b),void a.unbind("reflow").one("reflow",function(){a.floatThead(b)});a.data("floatThead-lazy")&&a.unbind("reflow"),a.data("floatThead-lazy",!1);var w,x,S=!0,M={vertical:0,horizontal:0};t.isFunction(g)&&(g=g());var k=0;!0===b.scrollContainer&&(b.scrollContainer=f);var T=b.scrollContainer(a)||e([]),E=0<T.length,L=E?e([]):b.responsiveContainer(a)||e([]),C=de(),D=null;"auto"===b.position?D=null:"fixed"===b.position?D=!1:"absolute"===b.position?D=!0:b.debug&&p('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',b.position),null==D&&(D=E);var P=a.find("caption"),$=1===P.length;if($)var A="top"===(P.css("caption-side")||P.attr("align")||"top");var R=e("<fthfoot>").css({display:"table-footer-group","border-spacing":"0",height:"0","border-collapse":"collapse",visibility:"hidden"}),O=!1,I=e([]),F=r<=9&&!E&&D,N=e("<table/>"),Y=e("<colgroup/>"),j=a.children("colgroup:first"),H=!0;0===j.length&&(j=e("<colgroup/>"),H=!1);var U=H?"col:visible":"col",z=e("<fthtr>").css({display:"table-row","border-spacing":"0",height:"0","border-collapse":"collapse"}),G=e("<div>").css(b.floatContainerCss).attr("aria-hidden","true"),W=!1,q=e("<thead/>"),B=e('<tr class="size-row"/>'),V=e([]),X=e([]),K=e([]),Z=e([]);q.append(B),a.prepend(j),l&&(R.append(z),a.append(R)),N.append(Y),G.append(N),b.copyTableClass&&N.attr("class",a.attr("class")),N.attr({cellpadding:a.attr("cellpadding"),cellspacing:a.attr("cellspacing"),border:a.attr("border")});var J=a.css("display");if(N.css({borderCollapse:a.css("borderCollapse"),border:a.css("border"),display:J}),E||N.css("width","auto"),"none"===J&&(W=!0),N.addClass(b.floatTableClass).css({margin:"0","border-bottom-width":"0"}),D){var Q=function(t,n){var r=t.css("position"),i=t;if("relative"!==r&&"absolute"!==r||n){var o={paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")};G.css(o),i=t.data("floatThead-containerWrap")||t.wrap(e("<div>").addClass(b.floatWrapperClass).css({position:"relative",clear:"both"})).parent(),t.data("floatThead-containerWrap",i),O=!0}return i};E?(I=Q(T,!0)).prepend(G):(I=Q(a),a.before(G))}else a.before(G);G.css({position:D?"absolute":"fixed",marginTop:"0",top:D?"0":"auto",zIndex:b.zIndex,willChange:"transform"}),G.addClass(b.floatContainerClass),se();var ee={"table-layout":"fixed"},te={"table-layout":a.css("tableLayout")||"auto"},ne=a[0].style.width||"",re=a.css("minWidth")||"";function ie(e){return e+".fth-"+i+".floatTHead"}function oe(){var t=0;if(y.children("tr:visible").each(function(){t+=e(this).outerHeight(!0)}),"collapse"===a.css("border-collapse")){var n=parseInt(a.css("border-top-width"),10);parseInt(a.find("thead tr:first").find(">*:first").css("border-top-width"),10)<n&&(t-=n/2)}B.outerHeight(t),V.outerHeight(t)}function se(){w=(t.isFunction(b.top)?b.top(a):b.top)||0,x=(t.isFunction(b.bottom)?b.bottom(a):b.bottom)||0}function ae(){if(!S){if(S=!0,D){var e=_(a,Z,!0);I.width()<e&&a.css("minWidth",e)}a.css(ee),N.css(ee),N.append(y),v.before(q),oe()}}function le(){S&&(S=!1,D&&a.width(ne),q.detach(),a.prepend(y),a.css(te),N.css(te),a.css("minWidth",re),a.css("minWidth",_(a,Z)))}var ce=!1;function ue(e){ce!==e&&(ce=e,a.triggerHandler("floatThead",[e,G]))}function he(e){var t=T.css("border-"+e+"-width"),n=0;return t&&~t.indexOf("px")&&(n=parseInt(t,10)),n}function de(){return"auto"===L.css("overflow-x")}function fe(){var e,t=T.scrollTop(),n=0,r=$?P.outerHeight(!0):0,i=A?r:-r,l=G.height(),u=a.offset(),h=0,d=0;if(E){var f=T.offset();n=u.top-f.top+t,$&&A&&(n+=r),h=he("left"),d=he("top"),n-=d}else e=u.top-w-l+x+M.horizontal;var p=c.scrollTop(),m=c.scrollLeft(),g=function(){return(de()?L:T).scrollLeft()||0},_=g();return function(f){C=de();var y=a[0].offsetWidth<=0&&a[0].offsetHeight<=0;if(!y&&W)return W=!1,setTimeout(function(){a.triggerHandler("reflow")},1),null;if(y&&(W=!0,!D))return null;if("windowScroll"===f)p=c.scrollTop(),m=c.scrollLeft();else if("containerScroll"===f)if(L.length){if(!C)return;_=L.scrollLeft()}else t=T.scrollTop(),_=T.scrollLeft();else"init"!==f&&(p=c.scrollTop(),m=c.scrollLeft(),t=T.scrollTop(),_=g());if(!o||!(p<0||s&&0<m||!s&&m<0)){if(F)!function(e){D!==e&&(D=e,G.css({position:D?"absolute":"fixed"}))}("windowScrollDone"===f);else if("windowScrollDone"===f)return null;var b,v;u=a.offset(),$&&A&&(u.top+=r);var S=a.outerHeight();if(E&&D){if(t<=n){var M=n-t+d;b=0<M?M:0,ue(!1)}else S-l<t-n?b=S-l-t+n:(b=O?d:t,ue(!0));v=h}else!E&&D?(e+S+i<p?b=S-l+i+x:u.top>=p+w?(b=0,le(),ue(!1)):(b=w+p-u.top+n+(A?r:0),ae(),ue(!0)),v=_):E&&!D?(t<n||S<t-n?(b=u.top-p,le(),ue(!1)):(b=u.top+t-p-n,ae(),ue(!0)),v=u.left+_-m):E||D||(e+S+i<p?b=S+w-p+e+i:u.top>p+w?(b=u.top-p,ae(),ue(!1)):(b=w,ue(!0)),v=u.left+_-m);return{top:Math.round(b),left:Math.round(v)}}}}function pe(){var e=null,t=null,n=null;return function(i,o,s){if(null!=i&&(e!==i.top||t!==i.left)){if(8===r)G.css({top:i.top,left:i.left});else{var l="translateX("+i.left+"px) translateY("+i.top+"px)",c={"-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l,top:"0",left:"0"};G.css(c)}e=i.top,t=i.left}o&&function(){var e=_(a,Z,!0),t=C?L:T,n=t.length?m(t[0]):e,r="hidden"!==t.css("overflow-y")?n-M.vertical:n;if(G.width(r),E){var i=100*e/r;N.css("width",i+"%")}else N.css("width",e+"px")}(),s&&oe();var u=(C?L:T).scrollLeft();D&&n===u||(G.scrollLeft(u),n=u)}}function me(){if(T.length)if(b.support&&b.support.perfectScrollbar&&T.data().perfectScrollbar)M={horizontal:0,vertical:0};else{if("scroll"===T.css("overflow-x"))M.horizontal=g;else{var e=T.width(),t=_(a,Z),n=r<i?g:0;M.horizontal=e-n<t?g:0}if("scroll"===T.css("overflow-y"))M.vertical=g;else{var r=T.height(),i=a.height(),o=e<t?g:0;M.vertical=r-o<i?g:0}}}me();var ge=function(){!function(){var t,n=function(){var t,n=y.find(b.headerCellSelector);if(H?t=j.find(U).length:(t=0,n.each(function(){t+=parseInt(e(this).attr("colspan")||1,10)})),t!==k){k=t;var r=[],i=[];B.empty();for(var o=0;o<t;o++){var s=document.createElement("th"),c=document.createElement("span");c.setAttribute("aria-label",b.ariaLabel(a,n.eq(o),o)),s.appendChild(c),s.className="floatThead-col",B[0].appendChild(s),r.push("<col/>"),i.push(e("<fthtd>").css({display:"table-cell",height:"0",width:"auto"}))}r=H?j.html():r.join(""),l&&(z.empty(),z.append(i),Z=z.find("fthtd")),V=B.find("th"),H||j.html(r),X=j.find(U),Y.html(r),K=Y.find(U)}return t}();return function(){var e=G.scrollLeft();X=j.find(U);var i,o,s,c=(i=a,o=X,s=Z,l?s:r?b.getSizingRow(i,o,s):o);if(c.length===n&&0<n){if(!H)for(t=0;t<n;t++)X.eq(t).css("width","");le();var u=[];for(t=0;t<n;t++)u[t]=m(c.get(t));for(t=0;t<n;t++)K.eq(t).width(u[t]),X.eq(t).width(u[t]);ae()}else N.append(y),a.css(te),N.css(te),oe();G.scrollLeft(e),a.triggerHandler("reflowed",[G])}}()()};ge();var _e=fe(),ye=pe();ye(_e("init"),!0);var be=t.debounce(function(){ye(_e("windowScrollDone"),!1)},1),ve=function(){ye(_e("windowScroll"),!1),F&&be()},we=function(){ye(_e("containerScroll"),!1)},xe=t.debounce(function(){a.is(":hidden")||(me(),se(),ge(),_e=fe(),ye(_e("reflow"),!0,!0))},1),Se=function(){le()},Me=function(){ae()},ke=function(e){e.matches?Se():Me()},Te=null;if(window.matchMedia&&window.matchMedia("print").addListener&&!u?(Te=window.matchMedia("print")).addListener(ke):(c.on("fth-beforeprint",Se),c.on("fth-afterprint",Me)),E?D?T.on(ie("scroll"),we):(T.on(ie("scroll"),we),c.on(ie("scroll"),ve)):(L.on(ie("scroll"),we),c.on(ie("scroll"),ve)),c.on(ie("load"),xe),function(e,n){if(8===r){var i=c.width(),o=t.debounce(function(){var e=c.width();i!==e&&(i=e,n())},1);c.on(e,o)}else c.on(e,t.debounce(n,1))}(ie("resize"),function(){a.is(":hidden")||(se(),me(),ge(),_e=fe(),(ye=pe())(_e("resize"),!0,!0))}),a.on("reflow",xe),b.support&&b.support.datatables&&function(e){if(e.dataTableSettings)for(var t=0;t<e.dataTableSettings.length;t++){var n=e.dataTableSettings[t].nTable;if(e[0]===n)return!0}return!1}(a)&&a.on("filter",xe).on("sort",xe).on("page",xe),b.support&&b.support.bootstrap&&c.on(ie("shown.bs.tab"),xe),b.support&&b.support.jqueryUI&&c.on(ie("tabsactivate"),xe),h){var Ee=null;t.isFunction(b.autoReflow)&&(Ee=b.autoReflow(a,T)),Ee||(Ee=T.length?T[0]:a[0]),(d=new MutationObserver(function(e){for(var t=function(e){return e&&e[0]&&("THEAD"===e[0].nodeName||"TD"===e[0].nodeName||"TH"===e[0].nodeName)},n=0;n<e.length;n++)if(!t(e[n].addedNodes)&&!t(e[n].removedNodes)){xe();break}})).observe(Ee,{childList:!0,subtree:!0})}a.data("floatThead-attached",{destroy:function(){var e=".fth-"+i;return le(),a.css(te),j.remove(),l&&R.remove(),q.parent().length&&q.replaceWith(y),ue(!1),h&&(d.disconnect(),d=null),a.off("reflow reflowed"),T.off(e),L.off(e),O&&(T.length?T.unwrap():a.unwrap()),E?T.data("floatThead-containerWrap",!1):a.data("floatThead-containerWrap",!1),a.css("minWidth",re),G.remove(),a.data("floatThead-attached",!1),c.off(e),c.off("fth-beforeprint fth-afterprint"),Te&&Te.removeListener(ke),Se=Me=function(){},function(){return a.floatThead(b)}},reflow:function(){xe()},setHeaderHeight:function(){oe()},getFloatContainer:function(){return G},getRowGroups:function(){return S?G.find(">table>thead").add(a.children("tbody,tfoot")):a.children("thead,tbody,tfoot")}})}),this}}(function(){var t=r;return e.exports&&!t&&(t=n(6932)),t}())},6308:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prošlu] [nedjelju] [u] LT";case 3:return"[prošlu] [srijedu] [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},6348:()=>{angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(e){return e}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(e,t,n,r,i,o){var s,a="$$noContext",l='<span id="test" title="test" class="tested">test</span>',c=angular.element("<span>"+l+"</span>").html()!==l,u=function(e){return s.debug&&s.currentLanguage!==s.baseLanguage?s.debugPrefix+e:e},h=function(e){return s.showTranslatedMarkers?s.translatedMarkerPrefix+e+s.translatedMarkerSuffix:e};function d(){o.$broadcast("gettextLanguageChanged")}return s={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:r("strings"),setCurrentLanguage:function(e){this.currentLanguage=e,d()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(t,n){this.strings[t]||(this.strings[t]={});var r=e(t,1);for(var i in n){var o=n[i];if(c&&(i=angular.element("<span>"+i+"</span>").html()),angular.isString(o)||angular.isArray(o)){var s={};s[a]=o,o=s}for(var l in this.strings[t][i]||(this.strings[t][i]={}),o){var u=o[l];angular.isArray(u)?this.strings[t][i][l]=u:(this.strings[t][i][l]=[],this.strings[t][i][l][r]=u)}}d()},getStringFormFor:function(t,n,r,i){return t?(((this.strings[t]||{})[n]||{})[i||a]||[])[e(t,r)]:null},getString:function(e,n,r){var o=t(this.currentLanguage);return e=this.getStringFormFor(this.currentLanguage,e,1,r)||this.getStringFormFor(o,e,1,r)||u(e),e=n?i(e)(n):e,h(e)},getPlural:function(e,n,r,o,s){var a=t(this.currentLanguage);return n=this.getStringFormFor(this.currentLanguage,n,e,s)||this.getStringFormFor(a,n,e,s)||u(1===e?n:r),o&&(o.$count=e,n=i(n)(o)),h(n)},loadRemote:function(e){return n({method:"GET",url:e,cache:s.cache}).then(function(e){var t=e.data;for(var n in t)s.setStrings(n,t[n]);return e})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window","gettextUtil",function(e,t,n,r,i,o){var s=parseInt((/msie (\d+)/i.exec(i.navigator.userAgent)||[])[1],10),a="translateParams";function l(e,t,n){var r=Object.keys(t).filter(function(e){return o.startsWith(e,a)&&e!==a});if(!r.length)return null;var i=e.$new(),s=[];return r.forEach(function(r){var l=e.$watch(t[r],function(e){var t=function(e){return o.lcFirst(e.replace(a,""))}(r);i[t]=e,n(i)});s.push(l)}),e.$on("$destroy",function(){s.forEach(function(e){e()}),i.$destroy()}),i}return{restrict:"AE",terminal:!0,compile:function(i,a){var c=a.translate;if(!c||!c.match(/^yes|no$/i)){o.assert(!a.translatePlural||a.translateN,"translate-n","translate-plural"),o.assert(!a.translateN||a.translatePlural,"translate-plural","translate-n");var u=o.trim(i.html()),h=a.translatePlural,d=a.translateContext;return s<=8&&"\x3c!--IE fix--\x3e"===u.slice(-13)&&(u=u.slice(0,-13)),{post:function(i,s,a){var c=t(a.translateN),f=null,p=!0;function m(t){var a;t=t||null,h?((i=f||(f=i.$new())).$count=c(i),a=e.getPlural(i.$count,u,h,null,d)):a=e.getString(u,null,d);var l=s.contents();if(l||a)if(a!==o.trim(l.html())){var m=angular.element("<span>"+a+"</span>");r(m.contents())(t||i);var g=m.contents();n.enter(g,s),n.leave(l)}else p&&r(l)(i)}var g=l(i,a,m);m(g),p=!1,a.translateN&&i.$watch(a.translateN,function(){m(g)}),i.$on("gettextLanguageChanged",function(){m(g)})}}}}}}]),angular.module("gettext").factory("gettextFallbackLanguage",function(){var e={},t=/([^_]+)_[^_]+$/;return function(n){if(e[n])return e[n];var r=t.exec(n);return r?(e[n]=r[1],r[1]):null}}),angular.module("gettext").filter("translate",["gettextCatalog",function(e){function t(t,n){return e.getString(t,null,n)}return t.$stateful=!0,t}]),angular.module("gettext").factory("gettextPlurals",function(){var e={pt_BR:"pt_BR","pt-BR":"pt_BR"};return function(t,n){switch(function(t){e[t]||(e[t]=t.split(/\-|_/).shift());return e[t]}(t)){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return n%10!=1||n%100==11?1:0;case"jv":return 0!=n?1:0;case"mk":return 1==n||n%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return n>1?1:0;case"lv":return n%10==1&&n%100!=11?0:0!=n?1:2;case"lt":return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"mnk":return 0==n?0:1==n?1:2;case"ro":return 1==n?0:0==n||n%100>0&&n%100<20?1:2;case"pl":return 1==n?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"cs":case"sk":return 1==n?0:n>=2&&n<=4?1:2;case"sl":return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0;case"mt":return 1==n?0:0==n||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3;case"gd":return 1==n||11==n?0:2==n||12==n?1:n>2&&n<20?2:3;case"cy":return 1==n?0:2==n?1:8!=n&&11!=n?2:3;case"kw":return 1==n?0:2==n?1:3==n?2:3;case"ga":return 1==n?0:2==n?1:n<7?2:n<11?3:4;case"ar":return 0==n?0:1==n?1:2==n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5;default:return 1!=n?1:0}}}),angular.module("gettext").factory("gettextUtil",function(){return{trim:String.prototype.trim?function(e){return"string"==typeof e?e.trim():e}:function(e){return"string"==typeof e?e.replace(/^\s*/,"").replace(/\s*$/,""):e},assert:function(e,t,n){if(!e)throw new Error("You should add a "+t+" attribute whenever you add a "+n+" attribute.")},startsWith:function(e,t){return 0===e.indexOf(t)},lcFirst:function(e){return e.charAt(0).toLowerCase()+e.substr(1)}}})},6415:(e,t,n)=>{n(3602),e.exports="ngSanitize"},6435:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(5093))},6571:function(e,t,n){!function(e){"use strict";var t={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};e.defineLocale("tg",{months:{format:"январи_феврали_марти_апрели_майи_июни_июли_августи_сентябри_октябри_ноябри_декабри".split("_"),standalone:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_")},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Фардо соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?e>=11?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5093))},6575:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(5093))},6584:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},6618:function(e,t,n){!function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){return"m"===r?n?"хвилина":"хвилину":"h"===r?n?"година":"годину":e+" "+t({ss:n?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:n?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:n?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[r],+e)}function r(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative}function i(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:r,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:i("[Сьогодні "),nextDay:i("[Завтра "),lastDay:i("[Вчора "),nextWeek:i("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[Минулої] dddd [").call(this);case 1:case 2:case 4:return i("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:n,m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}(n(5093))},6637:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},6652:(e,t,n)=>{n(7967),e.exports="ngAnimate"},6751:(e,t,n)=>{n(3503),e.exports="ngTouch"},6794:function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},6870:function(e,t,n){!function(e){"use strict";var t={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},n={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,n){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[១២៣៤៥៦៧៨៩០]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(5093))},6883:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932)],void 0===(o="function"==typeof(r=function(e){return e.ui=e.ui||{},e.ui.version="1.14.1"})?r.apply(t,i):r)||(e.exports=o)}()},6932:(e,t,n)=>{var r=n(4692),i=n(4160);void 0===i.$&&(i.$=r),e.exports=r},6947:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-ps",{months:"كانون الثاني_شباط_آذار_نيسان_أيّار_حزيران_تمّوز_آب_أيلول_تشري الأوّل_تشرين الثاني_كانون الأوّل".split("_"),monthsShort:"ك٢_شباط_آذار_نيسان_أيّار_حزيران_تمّوز_آب_أيلول_ت١_ت٢_ك١".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).split("").reverse().join("").replace(/[١٢](?![\u062a\u0643])/g,function(e){return n[e]}).split("").reverse().join("").replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(5093))},7025:(e,t,n)=>{n(1055),e.exports=angular},7071:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5093))},7075:function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},7088:function(e,t,n){!function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5093))},7160:function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}(n(5093))},7306:function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(5093))},7329:function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},7357:function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn-bd",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|ভোর|সকাল|দুপুর|বিকাল|সন্ধ্যা|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t?e<4?e:e+12:"ভোর"===t||"সকাল"===t?e:"দুপুর"===t?e>=3?e:e+12:"বিকাল"===t||"সন্ধ্যা"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"রাত":e<6?"ভোর":e<12?"সকাল":e<15?"দুপুর":e<18?"বিকাল":e<20?"সন্ধ্যা":"রাত"},week:{dow:0,doy:6}})}(n(5093))},7375:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(5093))},7538:function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})}(n(5093))},7609:function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}(n(5093))},7650:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"})}(n(5093))},7711:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(5093))},7730:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:4},invalidDate:"Fecha inválida"})}(n(5093))},7777:function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"яну_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Миналата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[Миналия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",w:"седмица",ww:"%d седмици",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(5093))},7853:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},7892:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(5093))},7967:()=>{!function(e,t){"use strict";var n,r,i,o,s="-add",a="-remove",l="ng-animate",c="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(n="WebkitTransition",r="webkitTransitionEnd transitionend"):(n="transition",r="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(i="WebkitAnimation",o="webkitAnimationEnd animationend"):(i="animation",o="animationend");var u="Duration",h="Property",d="Delay",f="TimingFunction",p=i+d,m=i+u,g=n+d,_=n+u,y=t.$$minErr("ng");function b(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function v(e,t){return e||t?e?t?(V(e)&&(e=e.join(" ")),V(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function w(e,t,n){var r="";return e=V(e)?e:e&&Q(e)&&e.length?e.split(/\s+/):[],B(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function x(e){if(e instanceof te)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return te(S(e))}if(1===e.nodeType)return te(e)}function S(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}function M(e){return function(t,n){n.addClass&&(!function(e,t,n){B(t,function(t){e.addClass(t,n)})}(e,t,n.addClass),n.addClass=null),n.removeClass&&(!function(e,t,n){B(t,function(t){e.removeClass(t,n)})}(e,t,n.removeClass),n.removeClass=null)}}function k(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||ne;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ne},e.$$prepared=!0}return e}function T(e,t){E(e,t),L(e,t)}function E(e,t){t.from&&(e.css(t.from),t.from=null)}function L(e,t){t.to&&(e.css(t.to),t.to=null)}function C(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),l=(r.removeClass||"")+" "+(i.removeClass||""),c=function(e,t,n){var r=1,i=-1,o={};e=c(e),t=c(t),B(t,function(e,t){o[t]=r}),n=c(n),B(n,function(e,t){o[t]=o[t]===r?null:i});var l={addClass:"",removeClass:""};function c(e){Q(e)&&(e=e.split(" "));var t={};return B(e,function(e){e.length&&(t[e]=!0)}),t}return B(o,function(t,n){var o,c;t===r?(o="addClass",c=!e[n]||e[n+a]):t===i&&(o="removeClass",c=e[n]||e[n+s]),c&&(l[o].length&&(l[o]+=" "),l[o]+=n)}),l}(e.attr("class"),o,l);i.preparationClasses&&(r.preparationClasses=A(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var u=r.domOperation!==ne?r.domOperation:null;return q(r,i),u&&(r.domOperation=u),c.addClass?r.addClass=c.addClass:r.addClass=null,c.removeClass?r.removeClass=c.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function D(e){return e instanceof te?e[0]:e}function P(e,t){var n=t?"paused":"",r=i+"PlayState";return $(e,[r,n]),[r,n]}function $(e,t){var n=t[0],r=t[1];e.style[n]=r}function A(e,t){return e?t?e+" "+t:e:t}var R=function(e,t){var n=t?"-"+t+"s":"";return $(e,[g,n]),[g,n]},O=["$interpolate",function(e){return{link:function(t,n,r){var i=r.ngAnimateChildren;function o(e){e="on"===e||"true"===e,n.data(c,e)}Q(i)&&0===i.length?n.data(c,!0):(o(e(i)(t)),r.$observe("ngAnimateChildren",o))}}}],I="$$animateCss",F=1e3,N={transitionDuration:_,transitionDelay:g,transitionProperty:n+h,animationDuration:m,animationDelay:p,animationIterationCount:i+"IterationCount"},Y={transitionDuration:_,transitionDelay:g,animationDuration:m,animationDelay:p};function j(e,t){return[t?p:g,e+"s"]}function H(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return B(n,function(e,t){var n,o,s=i[e];if(s){var a=s.charAt(0);("-"===a||"+"===a||a>=0)&&(n=0,o=s.split(/\s*,\s*/),B(o,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e}),s=n),0===s&&(s=null),r[t]=s}}),r}function U(e){return 0===e||null!=e}function z(e,t){var r=n,i=e+"s";return t?r+=u:i+=" linear all",[r,i]}function G(e,t,n){B(n,function(n){e[n]=X(e[n])?e[n]:t.style.getPropertyValue(n)})}var W,q,B,V,X,K,Z,J,Q,ee,te,ne,re=["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,t,l,c,u,d,p,g,_){var y=M(t);var b=[];function v(e){b.push(e),g.waitUntilQuiet(function(){u.flush();for(var e=d(),t=0;t<b.length;t++)b[t](e);b.length=0})}function x(t,n,r,i){var o=function(t,n,r,i,o){var s=u.get(r);s||"infinite"===(s=H(e,t,o)).animationIterationCount&&(s.animationIterationCount=1);var a=i||s.transitionDuration>0||s.animationDuration>0;return u.put(r,s,a),s}(t,0,r,i,N),s=o.animationDelay,a=o.transitionDelay;return o.maxDelay=s&&a?Math.max(s,a):s||a,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(d,g){var b=g||{};b.$$prepared||(b=k(W(b)));var S={},M=D(d);if(!M||!M.parentNode||!_.enabled())return Le();var C,A,O,N,q,X,K,Z,J,Q,ee=[],te=(d.attr("class"),function(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}(b)),re=[];if(0===b.duration||!p.animations&&!p.transitions)return Le();var ie=b.event&&V(b.event)?b.event.join(" "):b.event,oe=ie&&b.structural,se="",ae="";oe?se=w(ie,"ng-",!0):ie&&(se=ie),b.addClass&&(ae+=w(b.addClass,s)),b.removeClass&&(ae.length&&(ae+=" "),ae+=w(b.removeClass,a)),b.applyClassesEarly&&ae.length&&y(d,b);var le=[se,ae].join(" ").trim(),ce=te.to&&Object.keys(te.to).length>0;if(!((b.keyframeStyle||"").length>0)&&!ce&&!le)return Le();var ue,he,de=u.cacheKey(M,ie,b.addClass,b.removeClass);if(u.containsCachedAnimationWithoutDuration(de))return le=null,Le();if(b.stagger>0){var fe=parseFloat(b.stagger);ue={transitionDelay:fe,animationDelay:fe,transitionDuration:0,animationDuration:0}}else ue=function(n,r,i,o){var s,a="stagger-"+i;if(u.count(i)>0&&!(s=u.get(a))){var l=w(r,"-stagger");t.addClass(n,l),(s=H(e,n,o)).animationDuration=Math.max(s.animationDuration,0),s.transitionDuration=Math.max(s.transitionDuration,0),t.removeClass(n,l),u.put(a,s,!0)}return s||{}}(M,le,de,Y);if(b.$$skipPreparationClasses||t.addClass(d,le),b.transitionStyle){var pe=[n,b.transitionStyle];$(M,pe),ee.push(pe)}if(b.duration>=0){he=M.style[n].length>0;var me=z(b.duration,he);$(M,me),ee.push(me)}if(b.keyframeStyle){var ge=[i,b.keyframeStyle];$(M,ge),ee.push(ge)}var _e=ue?b.staggerIndex>=0?b.staggerIndex:u.count(de):0,ye=0===_e;ye&&!b.skipBlocking&&R(M,9999);var be=x(M,0,de,!oe),ve=be.maxDelay;X=Math.max(ve,0),Z=be.maxDuration;var we={};if(we.hasTransitions=be.transitionDuration>0,we.hasAnimations=be.animationDuration>0,we.hasTransitionAll=we.hasTransitions&&"all"===be.transitionProperty,we.applyTransitionDuration=ce&&(we.hasTransitions&&!we.hasTransitionAll||we.hasAnimations&&!we.hasTransitions),we.applyAnimationDuration=b.duration&&we.hasAnimations,we.applyTransitionDelay=U(b.delay)&&(we.applyTransitionDuration||we.hasTransitions),we.applyAnimationDelay=U(b.delay)&&we.hasAnimations,we.recalculateTimingStyles=ae.length>0,(we.applyTransitionDuration||we.applyAnimationDuration)&&(Z=b.duration?parseFloat(b.duration):Z,we.applyTransitionDuration&&(we.hasTransitions=!0,be.transitionDuration=Z,he=M.style[n+h].length>0,ee.push(z(Z,he))),we.applyAnimationDuration&&(we.hasAnimations=!0,be.animationDuration=Z,ee.push([m,Z+"s"]))),0===Z&&!we.recalculateTimingStyles)return Le();var xe,Se=w(le,"-active");null!=b.delay&&("boolean"!=typeof b.delay&&(xe=parseFloat(b.delay),X=Math.max(xe,0)),we.applyTransitionDelay&&ee.push(j(xe)),we.applyAnimationDelay&&ee.push(j(xe,!0)));return null==b.duration&&be.transitionDuration>0&&(we.recalculateTimingStyles=we.recalculateTimingStyles||ye),K=X*F,J=Z*F,b.skipBlocking||(we.blockTransition=be.transitionDuration>0,we.blockKeyframeAnimation=be.animationDuration>0&&ue.animationDelay>0&&0===ue.animationDuration),b.from&&(b.cleanupStyles&&G(S,M,Object.keys(b.from)),E(d,b)),we.blockTransition||we.blockKeyframeAnimation?Ee(Z):b.skipBlocking||R(M,!1),{$$willAnimate:!0,end:Me,start:function(){if(!C)return N=new l(q={end:Me,cancel:ke,resume:null,pause:null}),v(De),N}};function Me(){Te()}function ke(){Te(!0)}function Te(e){if(!(C||O&&A)){C=!0,A=!1,le&&!b.$$skipPreparationClasses&&t.removeClass(d,le),Se&&t.removeClass(d,Se),P(M,!1),R(M,!1),B(ee,function(e){M.style[e[0]]=""}),y(d,b),T(d,b),Object.keys(S).length&&B(S,function(e,t){e?M.style.setProperty(t,e):M.style.removeProperty(t)}),b.onDone&&b.onDone(),re&&re.length&&d.off(re.join(" "),Ce);var n=d.data(I);n&&(c.cancel(n[0].timer),d.removeData(I)),N&&N.complete(!e)}}function Ee(e){we.blockTransition&&R(M,e),we.blockKeyframeAnimation&&P(M,!!e)}function Le(){return N=new l({end:Me,cancel:ke}),v(ne),Te(),{$$willAnimate:!1,start:function(){return N},end:Me}}function Ce(e){e.stopPropagation();var t=e.originalEvent||e;if(t.target===M){var n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-Q,0)>=K&&r>=Z&&(O=!0,Te())}}function De(){if(!C)if(M.parentNode){var e=function(e){if(O)A&&e&&(A=!1,Te());else if(A=!e,be.animationDuration){var t=P(M,A);A?ee.push(t):(r=t,i=(n=ee).indexOf(r),r>=0&&n.splice(i,1))}var n,r,i},s=_e>0&&(be.transitionDuration&&0===ue.transitionDuration||be.animationDuration&&0===ue.animationDuration)&&Math.max(ue.animationDelay,ue.transitionDelay);s?c(a,Math.floor(s*_e*F),!1):a(),q.resume=function(){e(!0)},q.pause=function(){e(!1)}}else Te();function a(){if(!C){if(Ee(!1),B(ee,function(e){var t=e[0],n=e[1];M.style[t]=n}),y(d,b),t.addClass(d,Se),we.recalculateTimingStyles){if(M.getAttribute("class")+" "+le,de=u.cacheKey(M,ie,b.addClass,b.removeClass),be=x(M,0,de,!1),ve=be.maxDelay,X=Math.max(ve,0),0===(Z=be.maxDuration))return void Te();we.hasTransitions=be.transitionDuration>0,we.hasAnimations=be.animationDuration>0}if(we.applyAnimationDelay&&(ve="boolean"!=typeof b.delay&&U(b.delay)?parseFloat(b.delay):ve,X=Math.max(ve,0),be.animationDelay=ve,xe=j(ve,!0),ee.push(xe),M.style[xe[0]]=xe[1]),K=X*F,J=Z*F,b.easing){var e,s=b.easing;we.hasTransitions&&(e=n+f,ee.push([e,s]),M.style[e]=s),we.hasAnimations&&(e=i+f,ee.push([e,s]),M.style[e]=s)}be.transitionDuration&&re.push(r),be.animationDuration&&re.push(o),Q=Date.now();var a=K+1.5*J,h=Q+a,p=d.data(I)||[],m=!0;if(p.length){var g=p[0];(m=h>g.expectedEndTime)?c.cancel(g.timer):p.push(Te)}if(m){var _=c(l,a,!1);p[0]={timer:_,expectedEndTime:h},p.push(Te),d.data(I,p)}re.length&&d.on(re.join(" "),Ce),b.to&&(b.cleanupStyles&&G(S,M,Object.keys(b.to)),L(d,b))}}function l(){var e=d.data(I);if(e){for(var t=1;t<e.length;t++)e[t]();d.removeData(I)}}}}}]}],ie=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,o,s,a,l,c,u){if(!l.animations&&!l.transitions)return ne;var h,d=u[0].body,f=D(a),p=te((h=f).parentNode&&11===h.parentNode.nodeType||d.contains(f)?f:d);return function(o){return o.from&&o.to?function(o,a,l,c){var u=_(o),h=_(a),f=[];if(B(c,function(o){var a=function(o,a,l){var c=te(D(a).cloneNode(!0)),u=m(v(c));a.addClass(t),l.addClass(t),c.addClass(n),p.append(c);var h,f=b();if(!f&&!(h=w()))return x();var _=f||h;return{start:function(){var e,t=_.start();return t.done(function(){if(t=null,!h&&(h=w()))return(t=h.start()).done(function(){t=null,x(),e.complete()}),t;x(),e.complete()}),e=new s({end:n,cancel:n});function n(){t&&t.end()}}};function y(e){var t={},n=D(e).getBoundingClientRect();return B(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=d.scrollTop;break;case"left":r+=d.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function b(){var t=e(c,{addClass:r,delay:!0,from:y(a)});return t.$$willAnimate?t:null}function v(e){return e.attr("class")||""}function w(){var t=m(v(l)),n=g(t,u),o=g(u,t),s=e(c,{to:y(l),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return s.$$willAnimate?s:null}function x(){c.remove(),a.removeClass(t),l.removeClass(t)}}(0,o.out,o.in);a&&f.push(a)}),!u&&!h&&0===f.length)return;return{start:function(){var e=[];u&&e.push(u.start()),h&&e.push(h.start()),B(f,function(t){e.push(t.start())});var t=new s({end:n,cancel:n});return s.all(e,function(e){t.complete(e)}),t;function n(){B(e,function(e){e.end()})}}}}(o.from,o.to,o.classes,o.anchors):_(o)};function m(e){return e.replace(/\bng-\S+\b/g,"")}function g(e,t){return Q(e)&&(e=e.split(" ")),Q(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function _(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=A(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}}]}],oe=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){var i=M(r);return function(r,o,s,a){var l=!1;3===arguments.length&&J(s)&&(a=s,s=null),a=k(a),s||(s=r.attr("class")||"",a.addClass&&(s+=" "+a.addClass),a.removeClass&&(s+=" "+a.removeClass));var c,u,h,d,f,p=a.addClass,m=a.removeClass,g=function(n){n=V(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var s=n[o],a=e.$$registeredAnimations[s];a&&!i[s]&&(r.push(t.get(a)),i[s]=!0)}return r}(s);g.length&&("leave"===o?(d="leave",h="afterLeave"):(d="before"+o.charAt(0).toUpperCase()+o.substr(1),h=o),"enter"!==o&&"move"!==o&&(c=v(r,o,a,g,d)),u=v(r,o,a,g,h));if(c||u)return{$$willAnimate:!0,end:function(){return f?f.end():(y(),(f=new n).complete(!0)),f},start:function(){if(f)return f;var e;f=new n;var t=[];return c&&t.push(function(t){e=c(t)}),t.length?t.push(function(e){_(),e(!0)}):_(),u&&t.push(function(t){e=u(t)}),f.setHost({end:function(){i()},cancel:function(){i(!0)}}),n.chain(t,r),f;function r(e){y(),f.complete(e)}function i(t){l||((e||ne)(t),r(t))}}};function _(){a.domOperation(),i(r,a)}function y(){l=!0,_(),T(r,a)}function b(e,t,r,i,o){var s=[];return B(i,function(i){var a=i[o];a&&s.push(function(){var i,o,s=!1,l=function(e){s||(s=!0,(o||ne)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=function(e,t,r,i,o){var s;switch(r){case"animate":s=[t,i.from,i.to,o];break;case"setClass":s=[t,p,m,o];break;case"addClass":s=[t,p,o];break;case"removeClass":s=[t,m,o];break;default:s=[t,o]}s.push(i);var a=e.apply(e,s);if(a)if(Z(a.start)&&(a=a.start()),a instanceof n)a.done(o);else if(Z(a))return a;return ne}(a,e,t,r,function(e){l(!1===e)}),i})}),s}function v(e,t,r,i,o){var s,a,l=b(e,t,r,i,o);0===l.length&&("beforeSetClass"===o?(s=b(e,"removeClass",r,i,"beforeRemoveClass"),a=b(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=b(e,"removeClass",r,i,"removeClass"),a=b(e,"addClass",r,i,"addClass")),s&&(l=l.concat(s)),a&&(l=l.concat(a)));if(0!==l.length)return function(e){var t=[];return l.length&&B(l,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){B(t,function(t){e?t.cancel():t.end()})}}}}}]}],se=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){var e=[];r&&e.push(r.start()),i&&e.push(i.start()),t.all(e,function(e){n.complete(e)});var n=new t({end:o(),cancel:o()});return n;function o(){return function(){B(e,function(e){e.end()})}}}}}return n(e)};function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}}]}],ae="data-ng-animate",le="$ngAnimatePin",ce=["$animateProvider",function(t){var n=this.rules={skip:[],cancel:[],join:[]};function r(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function i(e,t){if(e&&t){var n=function(e){if(!e)return null;var t=e.split(" "),n=Object.create(null);return B(t,function(e){n[e]=!0}),n}(t);return e.split(" ").some(function(e){return n[e]})}}function o(e,t,r){return n[e].some(function(e){return e(t,r)})}function l(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}n.join.push(function(e,t){return!e.structural&&l(e)}),n.skip.push(function(e,t){return!e.structural&&!l(e)}),n.skip.push(function(e,t){return"leave"===t.event&&e.structural}),n.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),n.cancel.push(function(e,t){return t.structural&&e.structural}),n.cancel.push(function(e,t){return 2===t.state&&e.structural}),n.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,r=e.removeClass,o=t.addClass,s=t.removeClass;return!(ee(n)&&ee(r)||ee(o)&&ee(s))&&(i(n,s)||i(r,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(n,i,u,h,d,f,p,m,g,_,y){var v=new d,E=new d,L=null;function P(e){E.delete(e.target)}var $=i.$watch(function(){return 0===m.totalPendingRequests},function(e){e&&($(),i.$$postDigest(function(){i.$$postDigest(function(){null===L&&(L=!0)})}))}),R=Object.create(null),O=t.customFilter(),I=t.classNameFilter(),F=function(){return!0},N=O||F,Y=I?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return I.test(n)}:F,j=M(g);function H(e,t){return C(e,t,{})}var U=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function z(e,t,n){var r=S(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function G(e,t){"close"!==e||t.parentNode||Z.off(t)}var Z={on:function(e,t,n){var r=S(t);R[e]=R[e]||[],R[e].push({node:r,callback:n}),te(t).on("$destroy",function(){v.get(r)||Z.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||Q(arguments[0])){var r=R[e];r&&(R[e]=1===arguments.length?null:z(r,t,n))}else for(var i in t=arguments[0],R)R[i]=z(R[i],t)},pin:function(e,t){b(K(e),"element","not an element"),b(K(t),"parentElement","not an element"),e.data(le,t)},push:function(e,t,d,m){return(d=d||{}).domOperation=m,function(e,t,d){var m=W(d),g=x(e),_=D(g),b=_&&_.parentNode;m=k(m);var S=new p,M=(P=!1,function(e){P?e():i.$$postDigest(function(){P=!0,e()})});var P;V(m.addClass)&&(m.addClass=m.addClass.join(" "));m.addClass&&!Q(m.addClass)&&(m.addClass=null);V(m.removeClass)&&(m.removeClass=m.removeClass.join(" "));m.removeClass&&!Q(m.removeClass)&&(m.removeClass=null);m.from&&!J(m.from)&&(m.from=null);m.to&&!J(m.to)&&(m.to=null);if(!(L&&_&&N(_,t,d)&&Y(_,m)))return oe(),S;var $=["enter","move","leave"].indexOf(t)>=0,O=y(),I=O||E.get(_),F=!I&&v.get(_)||{},z=!!F.state;I||z&&1===F.state||(I=!function(e,t){var n,r=h[0].body,i=D(u),o=e===r||"HTML"===e.nodeName,s=e===i,a=!1,l=E.get(e),d=te.data(e,le);d&&(t=D(d));for(;t&&(s||(s=t===i),1===t.nodeType);){var f=v.get(t)||{};if(!a){var p=E.get(t);if(!0===p&&!1!==l){l=!0;break}!1===p&&(l=!1),a=f.structural}if(ee(n)||!0===n){var m=te.data(t,c);X(m)&&(n=m)}if(a&&!1===n)break;if(o||(o=t===r),o&&s)break;t=s||!(d=te.data(t,le))?t.parentNode:D(d)}return(!a||n)&&!0!==l&&s&&o}(_,b));if(I)return O&&ie(S,t,"start",r(m)),oe(),O&&ie(S,t,"close",r(m)),S;$&&function(e){var t=e.querySelectorAll("["+ae+"]");B(t,function(e){var t=parseInt(e.getAttribute(ae),10),n=v.get(e);if(n)switch(t){case 2:n.runner.end();case 1:v.delete(e)}})}(_);var q={structural:$,element:g,event:t,addClass:m.addClass,removeClass:m.removeClass,close:oe,options:m,runner:S};if(z){if(o("skip",q,F))return 2===F.state?(oe(),S):(C(g,F,q),F.runner);if(o("cancel",q,F))if(2===F.state)F.runner.end();else{if(!F.structural)return C(g,F,q),F.runner;F.close()}else if(o("join",q,F)){if(2!==F.state)return function(e,t,n,r){var i="";n&&(i=w(n,"ng-",!0)),r.addClass&&(i=A(i,w(r.addClass,s))),r.removeClass&&(i=A(i,w(r.removeClass,a))),i.length&&(r.preparationClasses=i,t.addClass(i))}(0,g,$?t:null,m),t=q.event=F.event,m=C(g,F,q),F.runner;H(g,q)}}else H(g,q);var K=q.structural;K||(K="animate"===q.event&&Object.keys(q.options.to||{}).length>0||l(q));if(!K)return oe(),ne(_),S;var Z=(F.counter||0)+1;return q.counter=Z,re(_,1,q),i.$$postDigest(function(){g=x(e);var n=v.get(_),i=!n;n=n||{};var o=(g.parent()||[]).length>0&&("animate"===n.event||n.structural||l(n));if(i||n.counter!==Z||!o)return i&&(j(g,m),T(g,m)),(i||$&&n.event!==t)&&(m.domOperation(),S.end()),void(o||ne(_));t=!n.structural&&l(n,!0)?"setClass":n.event,re(_,2);var s=f(g,t,n.options);S.setHost(s),ie(S,t,"start",r(m)),s.done(function(e){oe(!e);var n=v.get(_);n&&n.counter===Z&&ne(_),ie(S,t,"close",r(m))})}),S;function ie(e,t,r,i){M(function(){var e=function(e,t,n){var r=[],i=R[n];return i&&B(i,function(i){(U.call(i.node,t)||"leave"===n&&U.call(i.node,e))&&r.push(i.callback)}),r}(b,_,t);e.length?n(function(){B(e,function(e){e(g,r,i)}),G(r,_)}):G(r,_)}),e.progress(t,r,i)}function oe(e){!function(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}(g,m),j(g,m),T(g,m),m.domOperation(),S.complete(!e)}}(e,t,d)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!L;else if(K(e)){var r=D(e);1===n?t=!E.get(r):(E.has(r)||te(e).on("$destroy",P),E.set(r,!t))}else t=L=!!e;return t}};return Z;function ne(e){e.removeAttribute(ae),v.delete(e)}function re(e,t,n){(n=n||{}).state=t,e.setAttribute(ae,t);var r=v.get(e),i=r?q(r,n):n;v.set(e,i)}}]}],ue=["$animateProvider",function(e){var t="ng-animate-ref",n=this.drivers=[],r="$$animationRunner",i="$$animatePrepareClasses";function o(e){return e.data(r)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(e,s,a,c,u,h,d){var f=[],p=M(e);return function(m,g,_){_=k(_);var y=["enter","move","leave"].indexOf(g)>=0,b=new c({end:function(){E()},cancel:function(){E(!0)}});if(!n.length)return E(),b;var w=v(m.attr("class"),v(_.addClass,_.removeClass)),x=_.tempClasses;return x&&(w+=" "+x,_.tempClasses=null),y&&m.data(i,"ng-"+g+"-prepare"),function(e,t){e.data(r,t)}(m,b),f.push({element:m,classes:w,event:g,structural:y,options:_,beforeStart:function(){x=(x?x+" ":"")+l,e.addClass(m,x);var t=m.data(i);t&&(e.removeClass(m,t),t=null)},close:E}),m.on("$destroy",M),f.length>1||s.$$postDigest(function(){var r=[];B(f,function(e){o(e.element)?r.push(e):e.close()}),f.length=0;var s=function(e){var n=[],r={};B(e,function(e,i){var o=D(e.element),s=e.event,a=["enter","move"].indexOf(s)>=0,l=e.structural?function(e){var n="["+t+"]",r=e.hasAttribute(t)?[e]:e.querySelectorAll(n),i=[];return B(r,function(e){var n=e.getAttribute(t);n&&n.length&&i.push(e)}),i}(o):[];if(l.length){var c=a?"to":"from";B(l,function(e){var n=e.getAttribute(t);r[n]=r[n]||{},r[n][c]={animationID:i,element:te(e)}})}else n.push(e)});var i={},o={};return B(r,function(t,r){var s=t.from,a=t.to;if(s&&a){var l=e[s.animationID],c=e[a.animationID],u=s.animationID.toString();if(!o[u]){var h=o[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:S(l.classes,c.classes),from:l,to:c,anchors:[]};h.classes.length?n.push(h):(n.push(l),n.push(c))}o[u].anchors.push({out:s.element,in:a.element})}else{var d=s?s.animationID:a.animationID,f=d.toString();i[f]||(i[f]=!0,n.push(e[d]))}}),n}(r),c=[];B(s,function(e){var t=e.from?e.from.element:e.element,r=_.addClass;r=(r?r+" ":"")+l;var i=d.cacheKey(t[0],e.event,r,_.removeClass);c.push({element:t,domNode:D(t),fn:function(){var t,r=e.close;if(d.containsCachedAnimationWithoutDuration(i))r();else{if(e.beforeStart(),o(e.anchors?e.from.element||e.to.element:e.element)){var s=function(e){for(var t=n.length-1;t>=0;t--){var r=n[t],i=a.get(r)(e);if(i)return i}}(e);s&&(t=s.start)}if(t){var l=t();l.done(function(e){r(!e)}),function(e,t){e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element);function n(e){var n=o(e);n&&n.setHost(t)}}(e,l)}else r()}}})});for(var p=function(e){var t,n={children:[]},r=new u;for(t=0;t<e.length;t++){var i=e[t];r.set(i.domNode,e[t]={domNode:i.domNode,element:i.element,fn:i.fn,children:[]})}for(t=0;t<e.length;t++)o(e[t]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,s=[];for(t=0;t<r.length;t++){var a=r[t];i<=0&&(i=o,o=0,n.push(s),s=[]),s.push(a),a.children.forEach(function(e){o++,r.push(e)}),i--}return s.length&&n.push(s),n}(n);function o(e){if(e.processed)return e;e.processed=!0;var t,i=e.domNode,s=i.parentNode;for(r.set(i,e);s;){if(t=r.get(s)){t.processed||(t=o(t));break}s=s.parentNode}return(t||n).children.push(e),e}}(c),m=0;m<p.length;m++)for(var g=p[m],y=0;y<g.length;y++){var b=g[y],v=b.element;if(p[m][y]=b.fn,0!==m){var w=v.data(i);w&&e.addClass(v,w)}else v.removeData(i)}h(p)}),b;function S(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function M(){var e=o(m);!e||"leave"===g&&_.$$domOperationFired||e.end()}function E(t){m.off("$destroy",M),function(e){e.removeData(r)}(m),p(m,_),T(m,_),_.domOperation(),x&&e.removeClass(m,x),b.complete(!t)}}}]}];t.module("ngAnimate",[],function(){ne=t.noop,W=t.copy,q=t.extend,te=t.element,B=t.forEach,V=t.isArray,Q=t.isString,J=t.isObject,ee=t.isUndefined,X=t.isDefined,Z=t.isFunction,K=t.isElement}).info({angularVersion:"1.8.3"}).directive("ngAnimateSwap",["$animate",function(e){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(t,n,r,i,o){var s,a;t.$watchCollection(r.ngAnimateSwap||r.for,function(t){s&&e.leave(s),a&&(a.$destroy(),a=null),(t||0===t)&&o(function(t,r){s=t,a=r,e.enter(t,null,n)})})}}}]).directive("ngAnimateChildren",O).factory("$$rAFScheduler",["$$rAF",function(e){var t,n;function r(e){t=t.concat(e),i()}return t=r.queue=[],r.waitUntilQuiet=function(t){n&&n(),n=e(function(){n=null,t(),i()})},r;function i(){if(t.length){for(var r=t.shift(),o=0;o<r.length;o++)r[o]();n||e(function(){n||i()})}}}]).provider("$$animateQueue",ce).provider("$$animateCache",function(){var e="$$ngAnimateParentKey",t=0,n=Object.create(null);this.$get=[function(){return{cacheKey:function(n,r,i,o){var s=n.parentNode,a=[s[e]||(s[e]=++t),r,n.getAttribute("class")];return i&&a.push(i),o&&a.push(o),a.join(" ")},containsCachedAnimationWithoutDuration:function(e){var t=n[e];return t&&!t.isValid||!1},flush:function(){n=Object.create(null)},count:function(e){var t=n[e];return t?t.total:0},get:function(e){var t=n[e];return t&&t.value},put:function(e,t,r){n[e]?(n[e].total++,n[e].value=t):n[e]={total:1,value:t,isValid:r}}}}]}).provider("$$animation",ue).provider("$animateCss",re).provider("$$animateCssDriver",ie).provider("$$animateJs",oe).provider("$$animateJsDriver",se)}(window,window.angular)},8076:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},8162:(e,t)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=void 0;var i={selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,document:"undefined"!=typeof window?document:void 0};var o={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=n({},i,t);var r=function(e,r){return t.parseDefaultValueFromContent?n({},e,{defaultValue:r}):e};function o(t,n,i){var o="text";if(0==n.indexOf("[")){var s=n.split("]");n=s[1],o=s[0].substr(1,s[0].length-1)}if(n=n.indexOf(";")==n.length-1?n.substr(0,n.length-2):n,"html"===o)t.innerHTML=e.t(n,r(i,t.innerHTML));else if("text"===o)t.textContent=e.t(n,r(i,t.textContent));else if("prepend"===o){var a=t.innerHTML.indexOf("<loc-i18n>"),l=t.innerHTML.indexOf("</loc-i18n>")+11;a>-1&&l>6&&(t.innerHTML=[t.innerHTML.substring(0,a),t.innerHTML.slice(l)].join("")),t.innerHTML=["<loc-i18n>",e.t(n,r(i,t.innerHTML)),"</loc-i18n>",t.innerHTML].join("")}else if("append"===o){var c=t.innerHTML.indexOf("<loc-i18n>"),u=t.innerHTML.indexOf("</loc-i18n>")+11;c>-1&&u>6&&(t.innerHTML=[t.innerHTML.substring(0,c),t.innerHTML.slice(u)].join("")),t.innerHTML=[t.innerHTML,"<loc-i18n>",e.t(n,r(i,t.innerHTML),"</loc-i18n>")].join("")}else if(0===o.indexOf("data-")){var h=o.substr(5),d=e.t(n,r(i,t.getAttribute(h)));t.setAttribute(h,d),t.setAttribute(o,d)}else t.setAttribute(o,e.t(n,r(i,t.getAttribute(o))))}function s(e,r){var i=e.getAttribute(t.selectorAttr);if(i){var s,a=e,l=e.getAttribute(t.targetAttr);if(null!=l&&(a=e.querySelector(l)||e),r||!0!==t.useOptionsAttr||(s=e.getAttribute(t.optionsAttr)||"{}",r=JSON.parse(s.replace(/:\s*"([^"]*)"/g,function(e,t){return': "'+t.replace(/:/g,"@colon@")+'"'}).replace(/:\s*'([^']*)'/g,function(e,t){return': "'+t.replace(/:/g,"@colon@")+'"'}).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":"))),r=r||{},i.indexOf(";")>=0)for(var c=i.split(";"),u=0,h=c.length;u<h;u++)""!=c[u]&&o(a,c[u],r);else o(a,i,r);if(!0===t.useOptionsAttr){var d={};delete(d=n({clone:d},r)).lng,e.setAttribute(t.optionsAttr,JSON.stringify(d))}}}return function(e,n){for(var r=((null==n?void 0:n.document)||t.document).querySelectorAll(e),i=0;i<r.length;i++){for(var o=r[i],a=o.querySelectorAll("["+t.selectorAttr+"]"),l=a.length-1;l>-1;l--)s(a[l],n);s(o,n)}}}};t.default=o},8174:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ئێواره‌|به‌یانی/,isPM:function(e){return/ئێواره‌/.test(e)},meridiem:function(e,t,n){return e<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(5093))},8235:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})}(n(5093))},8298:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(5093))},8303:function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"do_2ª_3ª_4ª_5ª_6ª_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",invalidDate:"Data inválida"})}(n(5093))},8383:function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},8414:function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"يېرىم كېچە":r<900?"سەھەر":r<1130?"چۈشتىن بۇرۇن":r<1230?"چۈش":r<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}})}(n(5093))},8474:function(e,t,n){!function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5093))},8488:(e,t,n)=>{var r=n(2989),i=n(4160);void 0===i.Bloodhound&&(i.Bloodhound=r),e.exports=r},8497:(e,t,n)=>{!function(e){if(e.support.touch="ontouchend"in document,e.support.touch){var t,n=e.ui.mouse.prototype,r=n._mouseInit,i=n._mouseDestroy;n._touchStart=function(e){!t&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(t=!0,this._touchMoved=!1,o(e,"mouseover"),o(e,"mousemove"),o(e,"mousedown"))},n._touchMove=function(e){t&&(this._touchMoved=!0,o(e,"mousemove"))},n._touchEnd=function(e){t&&(o(e,"mouseup"),o(e,"mouseout"),this._touchMoved||o(e,"click"),t=!1)},n._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)},n._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),i.call(t)}}function o(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}}}(n(6932))},8604:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(3662),n(724),n(2336),n(6883),n(9139)],r=function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){var r,i=!1,o=e(t).css("overflow");if("hidden"===o)return!1;if("scroll"===o)return!0;if(t[r=n&&"left"===n?"scrollLeft":"scrollTop"]>0)return!0;try{t[r]=1,i=t[r]>0,t[r]=0}catch(e){}return i},_create:function(){var t,n=this.options,r=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){n.disabled||(r._removeClass("ui-resizable-autohide"),r._handles.show())}).on("mouseleave",function(){n.disabled||r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var t,n,r,i,o,s=this.options,a=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this._addedHandles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},n=0;n<r.length;n++)i="ui-resizable-"+(t=String.prototype.trim.call(r[n])),o=e("<div>"),this._addClass(o,"ui-resizable-handle "+i),o.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(o),this._addedHandles=this._addedHandles.add(o));this._renderAxis=function(t){var n,r,i,o;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)((r=e(this.handles[n])[0])===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,o,s=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this._helper||(o=this._calculateAdjustedElementDimensions(a)),this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width,height:o.height},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:o.width,height:o.height},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,o=this.axis,s=t.pageX-i.left||0,a=t.pageY-i.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,s,a,l,c=this.options,u=this;return this._helper&&(i=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=r?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-i},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.helper.css(e),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px",this.helper.width(e.width)),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px",this.helper.height(e.height)),e},_updateVirtualBoundaries:function(e){var t,n,r,i,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&c&&(e.left=a-t.minWidth),r&&c&&(e.left=a-t.maxWidth),s&&u&&(e.top=l-t.minHeight),i&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(r[t])||0,n[t]+=parseFloat(i[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_calculateAdjustedElementDimensions:function(e){var t,n,r,i=e.get(0);return"content-box"!==e.css("box-sizing")||!this._hasScroll(i)&&!this._hasScroll(i,"left")?{height:parseFloat(e.css("height")),width:parseFloat(e.css("width"))}:(t=parseFloat(i.style.width),n=parseFloat(i.style.height),r=this._getPaddingPlusBorderDimensions(e),t=isNaN(t)?this._getElementTheoreticalSize(e,r,"width"):t,{height:n=isNaN(n)?this._getElementTheoreticalSize(e,r,"height"):n,width:t})},_getElementTheoreticalSize:function(e,t,n){return Math.max(0,Math.ceil(e.get(0)["offset"+n[0].toUpperCase()+n.slice(1)]-t[n]-.5))||0},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),s=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,o,s,a,l=e(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=e(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=l._num(t.css("padding"+r))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=l.containerOffset,i=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:i,l.parentData={element:d,left:r.left,top:r.top,width:s,height:a}))},resize:function(t){var n,r,i,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,h={top:0,left:0},d=s.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),i=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),i&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),r=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),r+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-r,u&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var n=e(this),r=t._calculateAdjustedElementDimensions(n);n.data("ui-resizable-alsoresize",{width:r.width,height:r.height,left:parseFloat(n.css("left")),top:parseFloat(n.css("top"))})})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,o=r.originalSize,s=r.originalPosition,a={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0};e(i.alsoResize).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(r[t]||0)+(a[t]||0);n&&n>=0&&(i[t]=n||null)}),t.css(i)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!0===e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,c=l[0]||1,u=l[1]||1,h=Math.round((i.width-o.width)/c)*c,d=Math.round((i.height-o.height)/u)*u,f=o.width+h,p=o.height+d,m=r.maxWidth&&r.maxWidth<f,g=r.maxHeight&&r.maxHeight<p,_=r.minWidth&&r.minWidth>f,y=r.minHeight&&r.minHeight>p;r.grid=l,_&&(f+=c),y&&(p+=u),m&&(f-=c),g&&(p-=u),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=s.left-h):((p-u<=0||f-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=s.top-d):(p=u-t.height,n.size.height=p,n.position.top=s.top+o.height-p),f-c>0?(n.size.width=f,n.position.left=s.left-h):(f=c-t.width,n.size.width=f,n.position.left=s.left+o.width-f))}}),e.ui.resizable},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},8676:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})}(n(5093))},8861:function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},8959:function(e,t,n){!function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){return"m"===r?n?"хвіліна":"хвіліну":"h"===r?n?"гадзіна":"гадзіну":e+" "+t({ss:n?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:n?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:n?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[r],+e)}e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:n,mm:n,h:n,hh:n,d:"дзень",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}(n(5093))},9033:function(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(5093))},9053:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}e.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,n){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}})}(n(5093))},9139:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],r=function(e){var t=0,n=Array.prototype.hasOwnProperty,r=Array.prototype.slice;return e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove");t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,s,a={},l=t.split(".")[0];if("__proto__"===(t=t.split(".")[1])||"constructor"===t)return e.error("Invalid widget name: "+t);var c=l+"-"+t;return r||(r=n,n=e.Widget),Array.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr.pseudos[c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},i=e[l][t],o=e[l][t]=function(e,t){if(!this||!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,i,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,function(e,t){a[e]="function"==typeof t?function(){function r(){return n.prototype[e].apply(this,arguments)}function i(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=r,this._superApply=i,e=t.apply(this,arguments),this._super=n,this._superApply=o,e}}():t}),o.prototype=e.widget.extend(s,{widgetEventPrefix:i&&s.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),i?(e.each(i._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete i._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,o,s=r.call(arguments,1),a=0,l=s.length;a<l;a++)for(i in s[a])o=s[a][i],n.call(s[a],i)&&void 0!==o&&(e.isPlainObject(o)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],o):e.widget.extend({},o):t[i]=o);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(l=r,!1):r?"function"!=typeof r[o]||"_"===o.charAt(0)?e.error("no such method '"+o+"' for "+t+" widget instance"):(n=r[o].apply(r,a))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new n(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},r=t.split("."),t=r.shift(),r.length){for(i=s[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,r,i;for(n in t)i=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&i&&i.length&&(r=e(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],r=this;function i(){var n=[];t.element.each(function(t,i){e.map(r.classesElementLookup,function(e){return e}).some(function(e){return e.is(i)})||n.push(i)}),r._on(e(n),{remove:"_untrackClassesElement"})}function o(o,s){var a,l;for(l=0;l<o.length;l++)a=r.classesElementLookup[o[l]]||e(),t.add?(i(),a=e(e.uniqueSort(a.get().concat(t.element.get())))):a=e(a.not(t.element).get()),r.classesElementLookup[o[l]]=a,n.push(o[l]),s&&t.classes[o[l]]&&n.push(t.classes[o[l]])}return(t=e.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&o(t.keys.match(/\S+/g)||[],!0),t.extra&&o(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(r,i){-1!==e.inArray(t.target,i)&&(n.classesElementLookup[r]=e(i.not(t.target).get()))}),this._off(e(t.target))},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,r){r="boolean"==typeof r?r:n;var i="string"==typeof e||null===e,o={extra:i?t:n,keys:i?e:t,element:i?this.element:e,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,s){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?i.on(c,u,a):n.on(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,r){var i,o,s=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!("function"==typeof s&&!1===s.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){var s;"string"==typeof i&&(i={effect:i});var a=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})?i={duration:i}:!0===i&&(i={}),s=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&e.effects&&e.effects.effect[a]?r[t](i):a!==t&&r[a]?r[a](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}}),e.widget},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},9163:(e,t,n)=>{n(6348),e.exports="gettext"},9231:function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(5093))},9330:function(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"genièr_febrièr_març_abril_mai_junh_julhet_agost_setembre_octòbre_novembre_decembre".split("_"),format:"de genièr_de febrièr_de març_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octòbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimècres_dijòus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uèi a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ièr a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(5093))},9374:function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?o+(n||i?"sekúndur":"sekúndum"):o+"sekúnda";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?o+(n||i?"mínútur":"mínútum"):n?o+"mínúta":o+"mínútu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dögum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mánuður":i?"mánuð":"mánuði";case"MM":return t(e)?n?o+"mánuðir":o+(i?"mánuði":"mánuðum"):n?o+"mánuður":o+(i?"mánuð":"mánuði");case"y":return n||i?"ár":"ári";case"yy":return t(e)?o+(n||i?"ár":"árum"):o+(n||i?"ár":"ári")}}e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},9402:function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},9527:function(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'ünji",4:"'ünji",100:"'ünji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"Ýanwar_Fewral_Mart_Aprel_Maý_Iýun_Iýul_Awgust_Sentýabr_Oktýabr_Noýabr_Dekabr".split("_"),monthsShort:"Ýan_Few_Mar_Apr_Maý_Iýn_Iýl_Awg_Sen_Okt_Noý_Dek".split("_"),weekdays:"Ýekşenbe_Duşenbe_Sişenbe_Çarşenbe_Penşenbe_Anna_Şenbe".split("_"),weekdaysShort:"Ýek_Duş_Siş_Çar_Pen_Ann_Şen".split("_"),weekdaysMin:"Ýk_Dş_Sş_Çr_Pn_An_Şn".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[düýn] LT",lastWeek:"[geçen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soň",past:"%s öň",s:"birnäçe sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gün",dd:"%d gün",M:"bir aý",MM:"%d aý",y:"bir ýyl",yy:"%d ýyl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10,i=e%100-r,o=e>=100?100:null;return e+(t[r]||t[i]||t[o])}},week:{dow:1,doy:7}})}(n(5093))},9532:function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}function o(e,t){return t?"dažas sekundes":"dažām sekundēm"}e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:o,ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},9680:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){return i(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function r(e){return i(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function i(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return i(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return i(e)}return i(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},9722:function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(5093))},9816:e=>{e.exports=function(){return document.createElement("canvas")}},9822:(e,t,n)=>{var r,i,o,s;s=function(e){"use strict";var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,openOnFocus:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,maxDateTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1,insideParent:!1},n=null,r=null,i="en",o={meridiem:["AM","PM"]},s=function(){var s=t.i18n[i],a={days:s.dayOfWeek,daysShort:s.dayOfWeekShort,months:s.months,monthsShort:e.map(s.months,function(e){return e.substring(0,3)})};"function"==typeof DateFormatter&&(n=r=new DateFormatter({dateSettings:e.extend({},o,a)}))},a={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function(e,t){if(c(t))return r.parseDate(e,t);var n=moment(e,t);return!!n.isValid()&&n.toDate()},formatDate:function(e,t){return c(t)?r.formatDate(e,t):moment(e).format(t)},formatMask:function(e){return e.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};e.datetimepicker={setLocale:function(e){var n=t.i18n[e]?e:"en";i!==n&&(i=n,s())},setDateFormatter:function(r){if("string"==typeof r&&a.hasOwnProperty(r)){var i=a[r];e.extend(t,i.default_options),n=i.formatter}else n=r}};var l={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},c=function(e){return-1!==Object.values(l).indexOf(e)};function u(e,t,n){this.date=e,this.desc=t,this.style=n}e.extend(e.datetimepicker,l),s(),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(-([a-z]))/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(e,t,n){return n.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r;for(n=t||0,r=this.length;n<r;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t,n){return this.each(function(){var r,i,o,s,a,l=e(this),c=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(n.x=e.clientX,n.y=e.clientY),n},u=100,h=!1,d=0,f=0,p=0,m=!1,g=0,_=function(){};"hide"!==n?(e(this).hasClass("xdsoft_scroller_box")||(r=l.children().eq(0),i=l[0].clientHeight,o=r[0].offsetHeight,s=e('<div class="xdsoft_scrollbar"></div>'),a=e('<div class="xdsoft_scroller"></div>'),s.append(a),l.addClass("xdsoft_scroller_box").append(s),_=function(e){var t=c(e).y-d+g;t<0&&(t=0),t+a[0].offsetHeight>p&&(t=p-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[u?t/u:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(r){i||l.trigger("resize_scroll.xdsoft_scroller",[n]),d=c(r).y,g=parseInt(a.css("margin-top"),10),p=s[0].offsetHeight,"mousedown"===r.type||"touchstart"===r.type?(t.ownerDocument&&e(t.ownerDocument.body).addClass("xdsoft_noselect"),e([t.ownerDocument.body,t.contentWindow]).on("touchend mouseup.xdsoft_scroller",function n(){e([t.ownerDocument.body,t.contentWindow]).off("touchend mouseup.xdsoft_scroller",n).off("mousemove.xdsoft_scroller",_).removeClass("xdsoft_noselect")}),e(t.ownerDocument.body).on("mousemove.xdsoft_scroller",_)):(m=!0,r.stopPropagation(),r.preventDefault())}).on("touchmove",function(e){m&&(e.preventDefault(),_(e))}).on("touchend touchcancel",function(){m=!1,g=0}),l.on("scroll_element.xdsoft_scroller",function(e,t){i||l.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,a.css("margin-top",u*t),setTimeout(function(){r.css("marginTop",-parseInt((r[0].offsetHeight-i)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,n){var c,h;i=l[0].clientHeight,o=r[0].offsetHeight,h=(c=i/o)*s[0].offsetHeight,c>1?a.hide():(a.show(),a.css("height",parseInt(h>10?h:10,10)),u=s[0].offsetHeight-a[0].offsetHeight,!0!==n&&l.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(r.css("marginTop"),10))/(o-i)]))}),l.on("mousewheel",function(e){var t=Math.abs(parseInt(r.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),l.trigger("scroll_element.xdsoft_scroller",[t/(o-i)]),e.stopPropagation(),!1}),l.on("touchstart",function(e){h=c(e),f=Math.abs(parseInt(r.css("marginTop"),10))}),l.on("touchmove",function(e){if(h){e.preventDefault();var t=c(e);l.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-h.y))/(o-i)])}}),l.on("touchend touchcancel",function(){h=!1,f=0})),l.trigger("resize_scroll.xdsoft_scroller",[n])):l.find(".xdsoft_scrollbar").hide()})},e.fn.datetimepicker=function(r,o){var s,a,l=this,c=17,h=13,d=27,f=37,p=38,m=39,g=40,_=9,y=116,b=65,v=67,w=86,x=90,S=89,M=!1,k=e.isPlainObject(r)||!r?e.extend(!0,{},t,r):e.extend(!0,{},t),T=0;return s=function(t){var o,s,a,l,T,E,L=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),C=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),D=e('<div class="xdsoft_datepicker active"></div>'),P=e('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),$=e('<div class="xdsoft_calendar"></div>'),A=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),R=A.find(".xdsoft_time_box").eq(0),O=e('<div class="xdsoft_time_variant"></div>'),I=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),F=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),N=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),Y=!1,j=0;k.id&&L.attr("id",k.id),k.style&&L.attr("style",k.style),k.weeks&&L.addClass("xdsoft_showweeks"),k.rtl&&L.addClass("xdsoft_rtl"),L.addClass("xdsoft_"+k.theme),L.addClass(k.className),P.find(".xdsoft_month span").after(F),P.find(".xdsoft_year span").after(N),P.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(t){var n,r,i=e(this).find(".xdsoft_select").eq(0),o=0,s=0,a=i.is(":visible");for(P.find(".xdsoft_select").hide(),T.currentTime&&(o=T.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i[a?"hide":"show"](),n=i.find("div.xdsoft_option"),r=0;r<n.length&&n.eq(r).data("value")!==o;r+=1)s+=n[0].offsetHeight;return i.xdsoftScroller(k,s/(i.children()[0].offsetHeight-i[0].clientHeight)),t.stopPropagation(),!1});var H=function(e){var t=e.originalEvent,n=t.touches?t.touches[0]:t;this.touchStartPosition=this.touchStartPosition||n;var r=Math.abs(this.touchStartPosition.clientX-n.clientX),i=Math.abs(this.touchStartPosition.clientY-n.clientY);Math.sqrt(r*r+i*i)>k.touchMovedThreshold&&(this.touchMoved=!0)};function U(){var e,n=!1;return k.startDate?n=T.strToDate(k.startDate):(n=k.value||(t&&t.val&&t.val()?t.val():""))?(n=T.strToDateTime(n),k.yearOffset&&(n=new Date(n.getFullYear()-k.yearOffset,n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))):k.defaultDate&&(n=T.strToDateTime(k.defaultDate),k.defaultTime&&(e=T.strtotime(k.defaultTime),n.setHours(e.getHours()),n.setMinutes(e.getMinutes()))),n&&T.isValidDate(n)?L.data("changed",!0):n="",n||0}function z(r){var i=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)},o=function(e,t){if(!(e="string"==typeof e||e instanceof String?r.ownerDocument.getElementById(e):e))return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)};r.mask&&t.off("keydown.xdsoft"),!0===r.mask&&(n.formatMask?r.mask=n.formatMask(r.format):r.mask=r.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(r.mask)&&(i(r.mask,t.val())||(t.val(r.mask.replace(/[0-9]/g,"_")),o(t[0],0)),t.on("paste.xdsoft",function(n){var s=(n.clipboardData||n.originalEvent.clipboardData||window.clipboardData).getData("text"),a=this.value,l=this.selectionStart,c=a.substr(0,l),u=a.substr(l+s.length);return a=c+s+u,l+=s.length,i(r.mask,a)?(this.value=a,o(this,l)):""===e.trim(a)?this.value=r.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft"),n.preventDefault(),!1}),t.on("keydown.xdsoft",function(n){var s,a=this.value,l=n.which,u=this.selectionStart,k=this.selectionEnd,T=u!==k;if(l>=48&&l<=57||l>=96&&l<=105||8===l||46===l){for(s=8===l||46===l?"_":String.fromCharCode(96<=l&&l<=105?l-48:l),8===l&&u&&!T&&(u-=1);;){var E=r.mask.substr(u,1),L=u<r.mask.length,C=u>0;if(!(/[^0-9_]/.test(E)&&L&&C))break;u+=8!==l||T?1:-1}if(n.metaKey&&(u=0,T=!0),T){var D=k-u,P=r.mask.replace(/[0-9]/g,"_"),$=P.substr(u,D).substr(1),A=a.substr(0,u),R=s+$,O=a.substr(u+D);a=A+R+O}else{var I=a.substr(0,u),F=s,N=a.substr(u+1);a=I+F+N}if(""===e.trim(a))a=P;else if(u===r.mask.length)return n.preventDefault(),!1;for(u+=8===l?0:1;/[^0-9_]/.test(r.mask.substr(u,1))&&u<r.mask.length&&u>0;)u+=8===l?0:1;i(r.mask,a)?(this.value=a,o(this,u)):""===e.trim(a)?this.value=r.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[b,v,w,x,S].indexOf(l)&&M||-1!==[d,p,g,f,m,y,c,_,h].indexOf(l))return!0;return n.preventDefault(),!1}))}P.find(".xdsoft_select").xdsoftScroller(k).on("touchstart mousedown.xdsoft",function(e){var t=e.originalEvent;this.touchMoved=!1,this.touchStartPosition=t.touches?t.touches[0]:t,e.stopPropagation(),e.preventDefault()}).on("touchmove",".xdsoft_option",H).on("touchend mousedown.xdsoft",".xdsoft_option",function(){if(!this.touchMoved){void 0!==T.currentTime&&null!==T.currentTime||(T.currentTime=T.now());var t=T.currentTime.getFullYear();T&&T.currentTime&&T.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),L.trigger("xchange.xdsoft"),k.onChangeMonth&&e.isFunction(k.onChangeMonth)&&k.onChangeMonth.call(L,T.currentTime,L.data("input")),t!==T.currentTime.getFullYear()&&e.isFunction(k.onChangeYear)&&k.onChangeYear.call(L,T.currentTime,L.data("input"))}}),L.getValue=function(){return T.getCurrentTime()},L.setOptions=function(r){var i={};k=e.extend(!0,{},k,r),r.allowTimes&&e.isArray(r.allowTimes)&&r.allowTimes.length&&(k.allowTimes=e.extend(!0,[],r.allowTimes)),r.weekends&&e.isArray(r.weekends)&&r.weekends.length&&(k.weekends=e.extend(!0,[],r.weekends)),r.allowDates&&e.isArray(r.allowDates)&&r.allowDates.length&&(k.allowDates=e.extend(!0,[],r.allowDates)),r.allowDateRe&&"[object String]"===Object.prototype.toString.call(r.allowDateRe)&&(k.allowDateRe=new RegExp(r.allowDateRe)),r.highlightedDates&&e.isArray(r.highlightedDates)&&r.highlightedDates.length&&(e.each(r.highlightedDates,function(t,r){var o,s=e.map(r.split(","),e.trim),a=new u(n.parseDate(s[0],k.formatDate),s[1],s[2]),l=n.formatDate(a.date,k.formatDate);void 0!==i[l]?(o=i[l].desc)&&o.length&&a.desc&&a.desc.length&&(i[l].desc=o+"\n"+a.desc):i[l]=a}),k.highlightedDates=e.extend(!0,[],i)),r.highlightedPeriods&&e.isArray(r.highlightedPeriods)&&r.highlightedPeriods.length&&(i=e.extend(!0,[],k.highlightedDates),e.each(r.highlightedPeriods,function(t,r){var o,s,a,l,c,h,d;if(e.isArray(r))o=r[0],s=r[1],a=r[2],d=r[3];else{var f=e.map(r.split(","),e.trim);o=n.parseDate(f[0],k.formatDate),s=n.parseDate(f[1],k.formatDate),a=f[2],d=f[3]}for(;o<=s;)l=new u(o,a,d),c=n.formatDate(o,k.formatDate),o.setDate(o.getDate()+1),void 0!==i[c]?(h=i[c].desc)&&h.length&&l.desc&&l.desc.length&&(i[c].desc=h+"\n"+l.desc):i[c]=l}),k.highlightedDates=e.extend(!0,[],i)),r.disabledDates&&e.isArray(r.disabledDates)&&r.disabledDates.length&&(k.disabledDates=e.extend(!0,[],r.disabledDates)),r.disabledWeekDays&&e.isArray(r.disabledWeekDays)&&r.disabledWeekDays.length&&(k.disabledWeekDays=e.extend(!0,[],r.disabledWeekDays)),!k.open&&!k.opened||k.inline||t.trigger("open.xdsoft"),k.inline&&(Y=!0,L.addClass("xdsoft_inline"),t.after(L).hide()),k.inverseButton&&(k.next="xdsoft_prev",k.prev="xdsoft_next"),k.datepicker?D.addClass("active"):D.removeClass("active"),k.timepicker?A.addClass("active"):A.removeClass("active"),k.value&&(T.setCurrentTime(k.value),t&&t.val&&t.val(T.str)),isNaN(k.dayOfWeekStart)?k.dayOfWeekStart=0:k.dayOfWeekStart=parseInt(k.dayOfWeekStart,10)%7,k.timepickerScrollbar||R.xdsoftScroller(k,"hide"),k.minDate&&/^[\+\-](.*)$/.test(k.minDate)&&(k.minDate=n.formatDate(T.strToDateTime(k.minDate),k.formatDate)),k.maxDate&&/^[\+\-](.*)$/.test(k.maxDate)&&(k.maxDate=n.formatDate(T.strToDateTime(k.maxDate),k.formatDate)),k.minDateTime&&/^\+(.*)$/.test(k.minDateTime)&&(k.minDateTime=T.strToDateTime(k.minDateTime).dateFormat(k.formatDate)),k.maxDateTime&&/^\+(.*)$/.test(k.maxDateTime)&&(k.maxDateTime=T.strToDateTime(k.maxDateTime).dateFormat(k.formatDate)),I.toggle(k.showApplyButton),P.find(".xdsoft_today_button").css("visibility",k.todayButton?"visible":"hidden"),P.find("."+k.prev).css("visibility",k.prevButton?"visible":"hidden"),P.find("."+k.next).css("visibility",k.nextButton?"visible":"hidden"),z(k),k.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){if(k.allowBlank&&(!e.trim(e(this).val()).length||"string"==typeof k.mask&&e.trim(e(this).val())===k.mask.replace(/[0-9]/g,"_")))e(this).val(null),L.data("xdsoft_datetime").empty();else{var t=n.parseDate(e(this).val(),k.format);if(t)e(this).val(n.formatDate(t,k.format));else{var r=+[e(this).val()[0],e(this).val()[1]].join(""),i=+[e(this).val()[2],e(this).val()[3]].join("");!k.datepicker&&k.timepicker&&r>=0&&r<24&&i>=0&&i<60?e(this).val([r,i].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(n.formatDate(T.now(),k.format))}L.data("xdsoft_datetime").setCurrentTime(e(this).val())}L.trigger("changedatetime.xdsoft"),L.trigger("close.xdsoft")}),k.dayOfWeekStartPrev=0===k.dayOfWeekStart?6:k.dayOfWeekStart-1,L.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},L.data("options",k).on("touchstart mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),N.hide(),F.hide(),!1}),R.append(O),R.xdsoftScroller(k),L.on("afterOpen.xdsoft",function(){R.xdsoftScroller(k)}),L.append(D).append(A),!0!==k.withoutCopyright&&L.append(C),D.append(P).append($).append(I),k.insideParent?e(t).parent().append(L):e(k.parentID).append(L),T=new function(){var t=this;t.now=function(e){var n,r,i=new Date;return!e&&k.defaultDate&&(n=t.strToDateTime(k.defaultDate),i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate())),i.setFullYear(i.getFullYear()),!e&&k.defaultTime&&(r=t.strtotime(k.defaultTime),i.setHours(r.getHours()),i.setMinutes(r.getMinutes()),i.setSeconds(r.getSeconds()),i.setMilliseconds(r.getMilliseconds())),i},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e,n){"string"==typeof e?t.currentTime=t.strToDateTime(e):t.isValidDate(e)?t.currentTime=e:e||n||!k.allowBlank||k.inline?t.currentTime=t.now():t.currentTime=null,L.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var n,r=t.currentTime.getMonth()+1;return 12===r&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),r=0),n=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),r+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(r),k.onChangeMonth&&e.isFunction(k.onChangeMonth)&&k.onChangeMonth.call(L,T.currentTime,L.data("input")),n!==t.currentTime.getFullYear()&&e.isFunction(k.onChangeYear)&&k.onChangeYear.call(L,T.currentTime,L.data("input")),L.trigger("xchange.xdsoft"),r},t.prevMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var n=t.currentTime.getMonth()-1;return-1===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),k.onChangeMonth&&e.isFunction(k.onChangeMonth)&&k.onChangeMonth.call(L,T.currentTime,L.data("input")),L.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(t){if(k.onGetWeekOfYear&&e.isFunction(k.onGetWeekOfYear)){var n=k.onGetWeekOfYear.call(L,t);if(void 0!==n)return n}var r=new Date(t.getFullYear(),0,1);return 4!==r.getDay()&&r.setMonth(0,1+(4-r.getDay()+7)%7),Math.ceil(((t-r)/864e5+r.getDay()+1)/7)},t.strToDateTime=function(e){var r,i,o=[];return e&&e instanceof Date&&t.isValidDate(e)?e:((o=/^([+-]{1})(.*)$/.exec(e))&&(o[2]=n.parseDate(o[2],k.formatDate)),o&&o[2]?(r=o[2].getTime()-6e4*o[2].getTimezoneOffset(),i=new Date(t.now(!0).getTime()+parseInt(o[1]+"1",10)*r)):i=e?n.parseDate(e,k.format):t.now(),t.isValidDate(i)||(i=t.now()),i)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var r=e?n.parseDate(e,k.formatDate):t.now(!0);return t.isValidDate(r)||(r=t.now(!0)),r},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var r=e?n.parseDate(e,k.formatTime):t.now(!0);return t.isValidDate(r)||(r=t.now(!0)),r},t.str=function(){var e=k.format;return k.yearOffset&&(e=(e=e.replace("Y",t.currentTime.getFullYear()+k.yearOffset)).replace("y",String(t.currentTime.getFullYear()+k.yearOffset).substring(2,4))),n.formatDate(t.currentTime,e)},t.currentTime=this.now()},I.on("touchend click",function(e){e.preventDefault(),L.data("changed",!0),T.setCurrentTime(U()),t.val(T.str()),L.trigger("close.xdsoft")}),P.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){L.data("changed",!0),T.setCurrentTime(0,!0),L.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,n,r=T.getCurrentTime();r=new Date(r.getFullYear(),r.getMonth(),r.getDate()),e=T.strToDate(k.minDate),r<(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))||(n=T.strToDate(k.maxDate),r>(n=new Date(n.getFullYear(),n.getMonth(),n.getDate()))||(t.val(T.str()),t.trigger("change"),L.trigger("close.xdsoft")))}),P.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),n=0,r=!1;!function e(i){t.hasClass(k.next)?T.nextMonth():t.hasClass(k.prev)&&T.prevMonth(),k.monthChangeSpinner&&(r||(n=setTimeout(e,i||100)))}(500),e([k.ownerDocument.body,k.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(n),r=!0,e([k.ownerDocument.body,k.contentWindow]).off("touchend mouseup.xdsoft",t)})}),A.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),n=0,r=!1,i=110;!function e(o){var s=R[0].clientHeight,a=O[0].offsetHeight,l=Math.abs(parseInt(O.css("marginTop"),10));t.hasClass(k.next)&&a-s-k.timeHeightInTimePicker>=l?O.css("marginTop","-"+(l+k.timeHeightInTimePicker)+"px"):t.hasClass(k.prev)&&l-k.timeHeightInTimePicker>=0&&O.css("marginTop","-"+(l-k.timeHeightInTimePicker)+"px"),R.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(O[0].style.marginTop,10)/(a-s))]),i=i>10?10:i-10,r||(n=setTimeout(e,o||i))}(500),e([k.ownerDocument.body,k.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(n),r=!0,e([k.ownerDocument.body,k.contentWindow]).off("touchend mouseup.xdsoft",t)})}),o=0,L.on("xchange.xdsoft",function(s){clearTimeout(o),o=setTimeout(function(){void 0!==T.currentTime&&null!==T.currentTime||(T.currentTime=T.now());for(var o,s,a,l,c,u,h,d,f,p,m="",g=new Date(T.currentTime.getFullYear(),T.currentTime.getMonth(),1,12,0,0),_=0,y=T.now(),b=!1,v=!1,w=!1,x=!1,S=[],M=!0,E="";g.getDay()!==k.dayOfWeekStart;)g.setDate(g.getDate()-1);for(m+="<table><thead><tr>",k.weeks&&(m+="<th></th>"),o=0;o<7;o+=1)m+="<th>"+k.i18n[i].dayOfWeekShort[(o+k.dayOfWeekStart)%7]+"</th>";for(m+="</tr></thead>",m+="<tbody>",!1!==k.maxDate&&(b=T.strToDate(k.maxDate),b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),23,59,59,999)),!1!==k.minDate&&(v=T.strToDate(k.minDate),v=new Date(v.getFullYear(),v.getMonth(),v.getDate())),!1!==k.minDateTime&&(w=T.strToDate(k.minDateTime),w=new Date(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds())),!1!==k.maxDateTime&&(x=T.strToDate(k.maxDateTime),x=new Date(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds())),!1!==x&&(p=31*(12*x.getFullYear()+x.getMonth())+x.getDate());_<T.currentTime.countDaysInMonth()||g.getDay()!==k.dayOfWeekStart||T.currentTime.getMonth()===g.getMonth();){S=[],_+=1,a=g.getDay(),l=g.getDate(),c=g.getFullYear(),R=g.getMonth(),u=T.getWeekOfYear(g),f="",S.push("xdsoft_date"),h=k.beforeShowDay&&e.isFunction(k.beforeShowDay.call)?k.beforeShowDay.call(L,g):null,k.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(k.allowDateRe)&&(k.allowDateRe.test(n.formatDate(g,k.formatDate))||S.push("xdsoft_disabled")),k.allowDates&&k.allowDates.length>0&&-1===k.allowDates.indexOf(n.formatDate(g,k.formatDate))&&S.push("xdsoft_disabled");var C=31*(12*g.getFullYear()+g.getMonth())+g.getDate();(!1!==b&&g>b||!1!==w&&g<w||!1!==v&&g<v||!1!==x&&C>p||h&&!1===h[0])&&S.push("xdsoft_disabled"),-1!==k.disabledDates.indexOf(n.formatDate(g,k.formatDate))&&S.push("xdsoft_disabled"),-1!==k.disabledWeekDays.indexOf(a)&&S.push("xdsoft_disabled"),t.is("[disabled]")&&S.push("xdsoft_disabled"),h&&""!==h[1]&&S.push(h[1]),T.currentTime.getMonth()!==R&&S.push("xdsoft_other_month"),(k.defaultSelect||L.data("changed"))&&n.formatDate(T.currentTime,k.formatDate)===n.formatDate(g,k.formatDate)&&S.push("xdsoft_current"),n.formatDate(y,k.formatDate)===n.formatDate(g,k.formatDate)&&S.push("xdsoft_today"),0!==g.getDay()&&6!==g.getDay()&&-1===k.weekends.indexOf(n.formatDate(g,k.formatDate))||S.push("xdsoft_weekend"),void 0!==k.highlightedDates[n.formatDate(g,k.formatDate)]&&(s=k.highlightedDates[n.formatDate(g,k.formatDate)],S.push(void 0===s.style?"xdsoft_highlighted_default":s.style),f=void 0===s.desc?"":s.desc),k.beforeShowDay&&e.isFunction(k.beforeShowDay)&&S.push(k.beforeShowDay(g)),M&&(m+="<tr>",M=!1,k.weeks&&(m+="<th>"+u+"</th>")),m+='<td data-date="'+l+'" data-month="'+R+'" data-year="'+c+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+S.join(" ")+'" title="'+f+'"><div>'+l+"</div></td>",g.getDay()===k.dayOfWeekStartPrev&&(m+="</tr>",M=!0),g.setDate(l+1)}m+="</tbody></table>",$.html(m),P.find(".xdsoft_label span").eq(0).text(k.i18n[i].months[T.currentTime.getMonth()]),P.find(".xdsoft_label span").eq(1).text(T.currentTime.getFullYear()+k.yearOffset),E="",R="";var D=0;if(!1!==k.minTime){var A=T.strtotime(k.minTime);D=60*A.getHours()+A.getMinutes()}var R,I=1440;(!1!==k.maxTime&&(A=T.strtotime(k.maxTime),I=60*A.getHours()+A.getMinutes()),!1!==k.minDateTime&&(A=T.strToDateTime(k.minDateTime),n.formatDate(T.currentTime,k.formatDate)===n.formatDate(A,k.formatDate)&&(R=60*A.getHours()+A.getMinutes())>D&&(D=R)),!1!==k.maxDateTime)&&(A=T.strToDateTime(k.maxDateTime),n.formatDate(T.currentTime,k.formatDate)===n.formatDate(A,k.formatDate)&&(R=60*A.getHours()+A.getMinutes())<I&&(I=R));if(d=function(r,i){var o,s=T.now(),a=k.allowTimes&&e.isArray(k.allowTimes)&&k.allowTimes.length;s.setHours(r),r=parseInt(s.getHours(),10),s.setMinutes(i),i=parseInt(s.getMinutes(),10),S=[];var l=60*r+i;(t.is("[disabled]")||l>=I||l<D)&&S.push("xdsoft_disabled"),(o=new Date(T.currentTime)).setHours(parseInt(T.currentTime.getHours(),10)),a||o.setMinutes(Math[k.roundTime](T.currentTime.getMinutes()/k.step)*k.step),(k.initTime||k.defaultSelect||L.data("changed"))&&o.getHours()===parseInt(r,10)&&(!a&&k.step>59||o.getMinutes()===parseInt(i,10))&&(k.defaultSelect||L.data("changed")?S.push("xdsoft_current"):k.initTime&&S.push("xdsoft_init_time")),parseInt(y.getHours(),10)===parseInt(r,10)&&parseInt(y.getMinutes(),10)===parseInt(i,10)&&S.push("xdsoft_today"),E+='<div class="xdsoft_time '+S.join(" ")+'" data-hour="'+r+'" data-minute="'+i+'">'+n.formatDate(s,k.formatTime)+"</div>"},k.allowTimes&&e.isArray(k.allowTimes)&&k.allowTimes.length)for(_=0;_<k.allowTimes.length;_+=1)d(T.strtotime(k.allowTimes[_]).getHours(),R=T.strtotime(k.allowTimes[_]).getMinutes());else for(_=0,o=0;_<(k.hours12?12:24);_+=1)for(o=0;o<60;o+=k.step){var Y=60*_+o;Y<D||Y>=I||d((_<10?"0":"")+_,R=(o<10?"0":"")+o)}for(O.html(E),r="",_=parseInt(k.yearStart,10);_<=parseInt(k.yearEnd,10);_+=1)r+='<div class="xdsoft_option '+(T.currentTime.getFullYear()===_?"xdsoft_current":"")+'" data-value="'+_+'">'+(_+k.yearOffset)+"</div>";for(N.children().eq(0).html(r),_=parseInt(k.monthStart,10),r="";_<=parseInt(k.monthEnd,10);_+=1)r+='<div class="xdsoft_option '+(T.currentTime.getMonth()===_?"xdsoft_current":"")+'" data-value="'+_+'">'+k.i18n[i].months[_]+"</div>";F.children().eq(0).html(r),e(L).trigger("generate.xdsoft")},10),s.stopPropagation()}).on("afterOpen.xdsoft",function(){var e,t,n,r;k.timepicker&&(O.find(".xdsoft_current").length?e=".xdsoft_current":O.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=R[0].clientHeight,(n=O[0].offsetHeight)-t<(r=O.find(e).index()*k.timeHeightInTimePicker+1)&&(r=n-t),R.trigger("scroll_element.xdsoft_scroller",[parseInt(r,10)/(n-t)])):R.trigger("scroll_element.xdsoft_scroller",[0]))}),s=0,$.on("touchend click.xdsoft","td",function(n){n.stopPropagation(),s+=1;var r=e(this),i=T.currentTime;if(null==i&&(T.currentTime=T.now(),i=T.currentTime),r.hasClass("xdsoft_disabled"))return!1;i.setDate(1),i.setFullYear(r.data("year")),i.setMonth(r.data("month")),i.setDate(r.data("date")),L.trigger("select.xdsoft",[i]),t.val(T.str()),k.onSelectDate&&e.isFunction(k.onSelectDate)&&k.onSelectDate.call(L,T.currentTime,L.data("input"),n),L.data("changed",!0),L.trigger("xchange.xdsoft"),L.trigger("changedatetime.xdsoft"),(s>1||!0===k.closeOnDateSelect||!1===k.closeOnDateSelect&&!k.timepicker)&&!k.inline&&L.trigger("close.xdsoft"),setTimeout(function(){s=0},200)}),O.on("touchstart","div",function(e){this.touchMoved=!1}).on("touchmove","div",H).on("touchend click.xdsoft","div",function(t){if(!this.touchMoved){t.stopPropagation();var n=e(this),r=T.currentTime;if(null==r&&(T.currentTime=T.now(),r=T.currentTime),n.hasClass("xdsoft_disabled"))return!1;r.setHours(n.data("hour")),r.setMinutes(n.data("minute")),L.trigger("select.xdsoft",[r]),L.data("input").val(T.str()),k.onSelectTime&&e.isFunction(k.onSelectTime)&&k.onSelectTime.call(L,T.currentTime,L.data("input"),t),L.data("changed",!0),L.trigger("xchange.xdsoft"),L.trigger("changedatetime.xdsoft"),!0!==k.inline&&!0===k.closeOnTimeSelect&&L.trigger("close.xdsoft")}}),D.on("mousewheel.xdsoft",function(e){return!k.scrollMonth||(e.deltaY<0?T.nextMonth():T.prevMonth(),!1)}),t.on("mousewheel.xdsoft",function(e){return!k.scrollInput||(!k.datepicker&&k.timepicker?((a=O.find(".xdsoft_current").length?O.find(".xdsoft_current").eq(0).index():0)+e.deltaY>=0&&a+e.deltaY<O.children().length&&(a+=e.deltaY),O.children().eq(a).length&&O.children().eq(a).trigger("mousedown"),!1):k.datepicker&&!k.timepicker?(D.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(T.str()),L.trigger("changedatetime.xdsoft"),!1):void 0)}),L.on("changedatetime.xdsoft",function(t){if(k.onChangeDateTime&&e.isFunction(k.onChangeDateTime)){var n=L.data("input");k.onChangeDateTime.call(L,T.currentTime,n,t),delete k.value,n.trigger("change")}}).on("generate.xdsoft",function(){k.onGenerate&&e.isFunction(k.onGenerate)&&k.onGenerate.call(L,T.currentTime,L.data("input")),Y&&(L.trigger("afterOpen.xdsoft"),Y=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),a=0,E=function(e,t){do{if(!(e=e.parentNode)||!1===t(e))break}while("HTML"!==e.nodeName)},l=function(){var t,n,r,i,o,s,a,l,c,u,h,d,f;if(t=(l=L.data("input")).offset(),n=l[0],u="top",r=t.top+n.offsetHeight-1,i=t.left,o="absolute",c=e(k.contentWindow).width(),d=e(k.contentWindow).height(),f=e(k.contentWindow).scrollTop(),k.ownerDocument.documentElement.clientWidth-t.left<D.parent().outerWidth(!0)){var p=D.parent().outerWidth(!0)-n.offsetWidth;i-=p}"rtl"===l.parent().css("direction")&&(i-=L.outerWidth()-l.outerWidth()),k.fixed?(r-=f,i-=e(k.contentWindow).scrollLeft(),o="fixed"):(a=!1,E(n,function(e){return null!==e&&("fixed"===k.contentWindow.getComputedStyle(e).getPropertyValue("position")?(a=!0,!1):void 0)}),a&&!k.insideParent?(o="fixed",r+L.outerHeight()>d+f?(u="bottom",r=d+f-t.top):r-=f):r+L[0].offsetHeight>d+f&&(r=t.top-L[0].offsetHeight+1),r<0&&(r=0),i+n.offsetWidth>c&&(i=c-n.offsetWidth)),s=L[0],E(s,function(e){if("relative"===k.contentWindow.getComputedStyle(e).getPropertyValue("position")&&c>=e.offsetWidth)return i-=(c-e.offsetWidth)/2,!1}),h={position:o,left:k.insideParent?n.offsetLeft:i,top:"",bottom:""},k.insideParent?h[u]=n.offsetTop+n.offsetHeight:h[u]=r,L.css(h)},L.on("open.xdsoft",function(t){var n=!0;k.onShow&&e.isFunction(k.onShow)&&(n=k.onShow.call(L,T.currentTime,L.data("input"),t)),!1!==n&&(L.show(),l(),e(k.contentWindow).off("resize.xdsoft",l).on("resize.xdsoft",l),k.closeOnWithoutClick&&e([k.ownerDocument.body,k.contentWindow]).on("touchstart mousedown.xdsoft",function t(){L.trigger("close.xdsoft"),e([k.ownerDocument.body,k.contentWindow]).off("touchstart mousedown.xdsoft",t)}))}).on("close.xdsoft",function(t){var n=!0;P.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),k.onClose&&e.isFunction(k.onClose)&&(n=k.onClose.call(L,T.currentTime,L.data("input"),t)),!1===n||k.opened||k.inline||L.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(){L.is(":visible")?L.trigger("close.xdsoft"):L.trigger("open.xdsoft")}).data("input",t),j=0,L.data("xdsoft_datetime",T),L.setOptions(k),T.setCurrentTime(U()),t.data("xdsoft_datetimepicker",L).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){t.is(":disabled")||t.data("xdsoft_datetimepicker").is(":visible")&&k.closeOnInputClick||k.openOnFocus&&(clearTimeout(j),j=setTimeout(function(){t.is(":disabled")||(Y=!0,T.setCurrentTime(U(),!0),k.mask&&z(k),L.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var n,r=t.which;return-1!==[h].indexOf(r)&&k.enterLikeTab?(n=e("input:visible,textarea:visible,button:visible,a:visible"),L.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[_].indexOf(r)?(L.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){L.trigger("close.xdsoft")})},a=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(k.contentWindow).off("resize.xdsoft"),e([k.contentWindow,k.ownerDocument.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(k.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").off("keydown.xdsoftcmd keyup.xdsoftcmd").on("keydown.xdsoftctrl",function(e){e.keyCode===c&&(M=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===c&&(M=!1)}).on("keydown.xdsoftcmd",function(e){e.keyCode}).on("keyup.xdsoftcmd",function(e){e.keyCode}),this.each(function(){var t,i=e(this).data("xdsoft_datetimepicker");if(i){if("string"===e.type(r))switch(r){case"show":e(this).select().focus(),i.trigger("open.xdsoft");break;case"hide":i.trigger("close.xdsoft");break;case"toggle":i.trigger("toggle.xdsoft");break;case"destroy":a(e(this));break;case"reset":this.value=this.defaultValue,this.value&&i.data("xdsoft_datetime").isValidDate(n.parseDate(this.value,k.format))||i.data("changed",!1),i.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":i.data("input").trigger("blur.xdsoft");break;default:i[r]&&e.isFunction(i[r])&&(l=i[r](o))}else i.setOptions(r);return 0}"string"!==e.type(r)&&(!k.lazyInit||k.open||k.inline?s(e(this)):(t=e(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function e(){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout(T),T=setTimeout(function(){t.data("xdsoft_datetimepicker")||s(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",e).trigger("open.xdsoft")},100))}))}),l},e.fn.datetimepicker.defaults=t},i=[n(6932),n(4410)],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o)},9834:function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},9846:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},9849:function(e,t,n){!function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})}(n(5093))},9983:(e,t,n)=>{var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],void 0===(o="function"==typeof(r=function(e){return e.extend(e.expr.pseudos,{data:e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}})})})?r.apply(t,i):r)||(e.exports=o)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(7025),t=n.n(e),r=n(6932),i=n.n(r);n(4720),n(1758),n(8604),n(5285),n(8497),n(9822),n(9163),n(1927);const o=e=>"string"==typeof e,s=()=>{let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n},a=e=>null==e?"":""+e,l=/###/g,c=e=>e&&e.indexOf("###")>-1?e.replace(l,"."):e,u=e=>!e||o(e),h=(e,t,n)=>{const r=o(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(u(e))return{};const t=c(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return u(e)?{}:{obj:e,k:c(r[i])}},d=(e,t,n)=>{const{obj:r,k:i}=h(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let o=t[t.length-1],s=t.slice(0,t.length-1),a=h(e,s,Object);for(;void 0===a.obj&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=h(e,s,Object),a?.obj&&void 0!==a.obj[`${a.k}.${o}`]&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},f=(e,t)=>{const{obj:n,k:r}=h(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},p=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?o(e[r])||e[r]instanceof String||o(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):p(e[r],t[r],n):e[r]=t[r]);return e},m=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _=e=>o(e)?e.replace(/[&<>"'\/]/g,e=>g[e]):e;const y=[" ",",","?","!",";"],b=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),v=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let i=e;for(let e=0;e<r.length;){if(!i||"object"!=typeof i)return;let t,o="";for(let s=e;s<r.length;++s)if(s!==e&&(o+=n),o+=r[s],t=i[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<r.length-1)continue;e+=s-e+1;break}i=t}return i},w=e=>e?.replace("_","-"),x={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class S{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||x,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(o(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new S(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new S(this.logger,e)}}var M=new S;class k{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,r]=e;for(let e=0;e<r;e++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[r,i]=t;for(let t=0;t<i;t++)r.apply(r,[e,...n])})}}}class T extends k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):o(n)&&i?a.push(...n.split(i)):a.push(n)));const l=f(this.data,a);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!l&&s&&o(n)?v(this.data?.[e]?.[t],n,i):l}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),r=t,t=s[1]),this.addNamespaces(t),d(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(o(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),r=n,n=t,t=s[1]),this.addNamespaces(t);let a=f(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?p(a,n,i):a={...a,...n},d(this.data,s,a),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var E={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(e=>{t=this.processors[e]?.process(t,n,r,i)??t}),t}};const L={},C=e=>!o(e)&&"boolean"!=typeof e&&"number"!=typeof e;class D extends k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=M.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return void 0!==n?.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=y.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===r.length)return!0;const i=b.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`);let o=!i.test(e);if(!o){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o})(e,n,r));if(s&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o(i)?[i]:i};const s=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(s[0])>-1)&&(i=s.shift()),e=s.join(r)}return{key:e,namespaces:o(i)?[i]:i}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],c=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===c?.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${e}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${e}${s}`}return r?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:s}const h=this.resolve(e,t);let d=h?.res;const f=h?.usedKey||s,p=h?.exactUsedKey||s,m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,_=void 0!==t.count&&!o(t.count),y=D.hasDefaultValue(t),b=_?this.pluralResolver.getSuffix(c,t.count,t):"",v=t.ordinal&&_?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",w=_&&!t.ordinal&&0===t.count,x=w&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${b}`]||t[`defaultValue${v}`]||t.defaultValue;let S=d;g&&!d&&y&&(S=x);const M=C(S),k=Object.prototype.toString.apply(S);if(!(g&&S&&M&&["[object Number]","[object Function]","[object RegExp]"].indexOf(k)<0)||o(m)&&Array.isArray(S))if(g&&o(m)&&Array.isArray(d))d=d.join(m),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,o=!1;!this.isValidLookup(d)&&y&&(r=!0,d=x),this.isValidLookup(d)||(o=!0,d=s);const a=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:d,u=y&&x!==d&&this.options.updateMissing;if(o||r||u){if(this.logger.log(u?"updateKey":"missingKey",c,l,s,u?x:d),i){const e=this.resolve(s,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=y&&r!==d?r:a;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,n,i,u,t):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,n,i,u,t),this.emit("missingKey",e,l,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?e.forEach(e=>{const n=this.pluralResolver.getSuffixes(e,t);w&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach(n=>{r([e],s+n,t[`defaultValue${n}`]||x)})}):r(e,s,x))}d=this.extendTranslation(d,e,t,h,n),o&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${s}`),(o||r)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,r?d:void 0))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,S,{...t,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return r?(h.res=e,h.usedParams=this.getUsedParamsDetails(t),h):e}if(i){const e=Array.isArray(S),n=e?[]:{},r=e?p:f;for(const e in S)if(Object.prototype.hasOwnProperty.call(S,e)){const o=`${r}${i}${e}`;n[e]=y&&!d?this.translate(o,{...t,defaultValue:C(x)?x[e]:void 0,joinArrays:!1,ns:a}):this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=S[e])}d=n}}return r?(h.res=d,h.usedParams=this.getUsedParamsDetails(t),h):d}extendTranslation(e,t,n,r,i){var s=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=o(e)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(a){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let c=n.replace&&!o(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,n.lng||this.language||r.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i?.[0]!==r[0]||n.context?s.translate(...r,t):(s.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=o(a)?[a]:a;return null!=e&&l?.length&&!1!==n.applyPostProcessor&&(e=E.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const l=this.extractFromKey(e,a),c=l.key;n=c;let u=l.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const h=void 0!==a.count&&!o(a.count),d=h&&!a.ordinal&&0===a.count,f=void 0!==a.context&&(o(a.context)||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach(e=>{this.isValidLookup(t)||(s=e,L[`${p[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(s)||(L[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(n=>{if(this.isValidLookup(t))return;i=n;const o=[c];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(o,c,n,e,a);else{let e;h&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(o.push(c+e),a.ordinal&&0===e.indexOf(r)&&o.push(c+e.replace(r,this.options.pluralSeparator)),d&&o.push(c+t)),f){const n=`${c}${this.options.contextSeparator}${a.context}`;o.push(n),h&&(o.push(n+e),a.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),d&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,a))}))})}),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:s}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!o(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class P{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=M.create("languageUtils")}getScriptPartFromCode(e){if(!(e=w(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=w(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(o(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),o(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return o(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):o(e)&&i(this.formatLanguageCode(e)),n.forEach(e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))}),r}}const $={zero:0,one:1,two:2,few:3,many:4,other:5},A={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class R{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=M.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=w("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:r})}catch(n){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),A;if(!e.match(/-|_/))return A;const r=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(r,t)}return this.pluralRulesCache[i]=o,o}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>$[e]-$[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const O=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=((e,t,n)=>{const r=f(e,n);return void 0!==r?r:f(t,n)})(e,t,n);return!s&&i&&o(n)&&(s=v(e,n,r),void 0===s&&(s=v(t,n,r))),s},I=e=>e.replace(/\$/g,"$$$$");class F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=M.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:h,nestingPrefixEscaped:d,nestingSuffix:f,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=void 0!==t?t:_,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?m(i):o||"{{",this.suffix=s?m(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?m(h):d||m("$t("),this.nestingSuffix=f?m(f):p||m(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=e=>{if(e.indexOf(this.formatSeparator)<0){const i=O(t,c,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),o=i.shift().trim(),s=i.join(this.formatSeparator).trim();return this.format(O(t,c,o,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...r,...t,interpolationkey:o})};this.resetRegExp();const h=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>I(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?I(this.escape(e)):I(e)}].forEach(t=>{for(l=0;i=t.regex.exec(e);){const n=i[1].trim();if(s=u(n),void 0===s)if("function"==typeof h){const t=h(e,i,r);s=o(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))s="";else{if(d){s=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),s=""}else o(s)||this.useRawValueToEscape||(s=a(s));const c=t.safeValue(s);if(e=e.replace(i[0],c),d?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t){let n,r,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,i);const s=o.match(/'/g),a=o.match(/"/g);((s?.length??0)%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let c=[];i={...s},i=i.replace&&!o(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),c=e,u=!0}if(r=t(l.call(this,n[1].trim(),i),i),r&&n[0]===e&&!o(r))return r;o(r)||(r=a(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),u&&(r=c.reduce((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:n[1].trim()}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const N=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(w(r),i),t[s]=a),a(n)}};class Y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=M.create("formatter"),this.options=e,this.formats={number:N((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:N((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:N((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:N((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:N((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=N(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(e=>e.indexOf(")")>-1)){const e=i.findIndex(e=>e.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}const o=i.reduce((e,t)=>{const{formatName:i,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=i),"false"===i&&(n[o]=!1),"true"===i&&(n[o]=!0),isNaN(i)||(n[o]=parseInt(i,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const s=r?.formatParams?.[r.interpolationkey]||{},a=s.locale||s.lng||r.locale||r.lng||n;t=this.formats[i](e,a,{...o,...r,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e},e);return o}}class j extends k{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=M.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(e,t,n,r){const i={},o={},s={},a={};return e.forEach(e=>{let r=!0;t.forEach(t=>{const s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===o[s]&&(o[s]=!0):(this.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===a[t]&&(a[t]=!0)))}),r||(s[e]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),!t&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:r,k:i}=h(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*i,o)},i):o(s,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const n=a(e,t);n&&"function"==typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(e){s(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();o(e)&&(e=this.languageUtils.toResolveHierarchy(e)),o(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(n,o)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,n,o)})}saveMissing(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=n&&""!==n){if(this.backend?.create){const a={...o,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;i=5===l.length?l(e,t,n,r,a):l(e,t,n,r),i&&"function"==typeof i.then?i.then(e=>s(null,e)).catch(s):s(null,i)}catch(e){s(e)}else l(e,t,n,r,s,a)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const H=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),o(e[1])&&(t.defaultValue=e[1]),o(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),U=e=>(o(e.ns)&&(e.ns=[e.ns]),o(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),o(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),z=()=>{};class G extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=U(e),this.services={},this.logger=M,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(o(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=H();this.options={...r,...this.options,...U(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?M.init(i(this.modules.logger),this.options):M.init(null,this.options),t=this.modules.formatter?this.modules.formatter:Y;const n=new P(this.options);this.store=new T(this.options.resources,this.options);const o=this.services;o.logger=M,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new R(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new F(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new j(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)}),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new D(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=z),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const a=s(),l=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;const n=o(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===n?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>r(e))}this.options.preload?.forEach?.(e=>r(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const r=s();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=z),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&E.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=s();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,o)=>{o?(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},l=t=>{e||t||!this.services.languageDetector||(t=[]);const n=o(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector?.cacheUserLanguage?.(n)),this.loadResources(n,e=>{a(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e):l(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let o;if("object"!=typeof t){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,t].concat(a))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||i.keyPrefix);const c=r.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map(e=>`${o.keyPrefix}${c}${e}`):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,r.t(u,o)};return o(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||r&&!o(i,e)))}loadNamespaces(e,t){const n=s();return this.options.ns?(o(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=s();o(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter(e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return i.length?(this.options.preload=r.concat(i),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new P(H());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new G(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new G(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));if(["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce((n,r)=>(n[r]={...e[t][r]},n),{})),{});i.store=new T(e,r),i.services.resourceStore=i.store}return i.translator=new D(i.services,r),i.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)}),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const W=G.createInstance();W.createInstance=G.createInstance;W.createInstance,W.dir,W.init,W.loadResources,W.reloadResources,W.use,W.changeLanguage,W.getFixedT,W.t,W.exists,W.setDefaultNamespace,W.hasLoadedNamespace,W.loadNamespaces,W.loadLanguages;var q=n(6019),B=n.n(q);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function X(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":V(XMLHttpRequest))}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){J(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}var ee,te,ne="function"==typeof fetch?fetch:void 0;if(void 0!==n.g&&n.g.fetch?ne=n.g.fetch:"undefined"!=typeof window&&window.fetch&&(ne=window.fetch),X()&&(void 0!==n.g&&n.g.XMLHttpRequest?ee=n.g.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(ee=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&(void 0!==n.g&&n.g.ActiveXObject?te=n.g.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(te=window.ActiveXObject)),"function"!=typeof ne&&(ne=void 0),!ne&&!ee&&!te)try{Promise.resolve().then(function(){var e=new Error("Cannot find module 'cross-fetch'");throw e.code="MODULE_NOT_FOUND",e}).then(function(e){ne=e.default}).catch(function(){})}catch(po){}var re=function(e,t){if(t&&"object"===Q(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},ie=function(e,t,n,r){var i=function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then(function(t){n(null,{status:e.status,data:t})}).catch(n)};if(r){var o=r(e,t);if(o instanceof Promise)return void o.then(i).catch(n)}"function"==typeof fetch?fetch(e,t).then(i).catch(n):ne(e,t).then(i).catch(n)},oe=!1;const se=function(e,t,r,i){return"function"==typeof r&&(i=r,r=void 0),i=i||function(){},ne&&0!==t.indexOf("file:")?function(e,t,r,i){e.queryStringParams&&(t=re(t,e.queryStringParams));var o=Z({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);"undefined"==typeof window&&void 0!==n.g&&void 0!==n.g.process&&n.g.process.versions&&n.g.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(n.g.process.version,"; ").concat(n.g.process.platform," ").concat(n.g.process.arch,")")),r&&(o["Content-Type"]="application/json");var s="function"==typeof e.requestOptions?e.requestOptions(r):e.requestOptions,a=Z({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},oe?{}:s),l="function"==typeof e.alternateFetch&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{ie(t,a,i,l)}catch(e){if(!s||0===Object.keys(s).length||!e.message||e.message.indexOf("not implemented")<0)return i(e);try{Object.keys(s).forEach(function(e){delete a[e]}),ie(t,a,i,l),oe=!0}catch(e){i(e)}}}(e,t,r,i):X()||"function"==typeof ActiveXObject?function(e,t,n,r){n&&"object"===Q(n)&&(n=re("",n).slice(1)),e.queryStringParams&&(t=re(t,e.queryStringParams));try{var i=ee?new ee:new te("MSXML2.XMLHTTP.3.0");i.open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"==typeof o?o():o)for(var s in o)i.setRequestHeader(s,o[s]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(e){console&&console.log(e)}}(e,t,r,i):void i(new Error("No fetch and no xhr implementation found!"))};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach(function(t){he(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,de(r.key),r)}}function he(e,t,n){return(t=de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}var fe=function(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)},[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.services=e,this.options=ce(ce(ce({},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return he({},t,n||"")},parseLoadPayload:function(e,t){},request:se,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}),this.options||{}),n),this.allOptions=r,this.services&&this.options.reloadInterval){var i=setInterval(function(){return t.reload()},this.options.reloadInterval);"object"===ae(i)&&"function"==typeof i.unref&&i.unref()}}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,i){var o,s=this,a=this.options.loadPath;"function"==typeof this.options.loadPath&&(a=this.options.loadPath(e,n)),(a=function(e){return!!e&&"function"==typeof e.then}(o=a)?o:Promise.resolve(o)).then(function(o){if(!o)return i(null,{});var a=s.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});s.loadUrl(a,i,t,r)})}},{key:"loadUrl",value:function(e,t,n,r){var i=this,o="string"==typeof n?[n]:n,s="string"==typeof r?[r]:r,a=this.options.parseLoadPayload(o,s);this.options.request(this.options,e,a,function(o,s){if(s&&(s.status>=500&&s.status<600||!s.status))return t("failed loading "+e+"; status code: "+s.status,!0);if(s&&s.status>=400&&s.status<500)return t("failed loading "+e+"; status code: "+s.status,!1);if(!s&&o&&o.message){var a=o.message.toLowerCase();if(["failed","fetch","network","load"].find(function(e){return a.indexOf(e)>-1}))return t("failed loading "+e+": "+o.message,!0)}if(o)return t(o,!1);var l,c;try{l="string"==typeof s.data?i.options.parse(s.data,n,r):s.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,l)})}},{key:"create",value:function(e,t,n,r,i){var o=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var s=this.options.parsePayload(t,n,r),a=0,l=[],c=[];e.forEach(function(n){var r=o.options.addPath;"function"==typeof o.options.addPath&&(r=o.options.addPath(n,t));var u=o.services.interpolator.interpolate(r,{lng:n,ns:t});o.options.request(o.options,u,s,function(t,n){a+=1,l.push(t),c.push(n),a===e.length&&"function"==typeof i&&i(l,c)})})}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,i=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var s=[],a=function(e){r.toResolveHierarchy(e).forEach(function(e){s.indexOf(e)<0&&s.push(e)})};a(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(e){return a(e)}),s.forEach(function(t){e.allOptions.ns.forEach(function(e){n.read(t,e,"read",null,null,function(r,o){r&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&o&&i.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),r,o)})})})}}}]);fe.type="backend";const pe=fe,{slice:me,forEach:ge}=[];const _e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ye={create(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let r=`${e}=${encodeURIComponent(t)}`;if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(e)}`}if(n.domain){if(!_e.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!_e.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r}(e,t,i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var be={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return ye.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=t;n&&"undefined"!=typeof document&&ye.create(n,e,r,i,o)}},ve={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let e=0;e<r.length;e++){const i=r[e].indexOf("=");if(i>0){r[e].substring(0,i)===n&&(t=r[e].substring(i+1))}}}return t}},we={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:r}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const i=e.substring(1);if(n){const e=i.split("&");for(let r=0;r<e.length;r++){const i=e[r].indexOf("=");if(i>0){e[r].substring(0,i)===n&&(t=e[r].substring(i+1))}}}if(t)return t;if(!t&&r>-1){const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;const n="number"==typeof r?r:0;return t[n]?.replace("/","")}}}return t}};let xe=null;const Se=()=>{if(null!==xe)return xe;try{if(xe="undefined"!=typeof window&&null!==window.localStorage,!xe)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){xe=!1}return xe};var Me={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Se())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Se()&&window.localStorage.setItem(n,e)}};let ke=null;const Te=()=>{if(null!==ke)return ke;try{if(ke="undefined"!=typeof window&&null!==window.sessionStorage,!ke)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){ke=!1}return ke};var Ee={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Te())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Te()&&window.sessionStorage.setItem(n,e)}},Le={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:n,language:r}=navigator;if(e)for(let n=0;n<e.length;n++)t.push(e[n]);n&&t.push(n),r&&t.push(r)}return t.length>0?t:void 0}},Ce={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const r=n||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},De={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(n))return;const r="number"==typeof t?t:0;return n[r]?.replace("/","")}},Pe={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n="number"==typeof t?t+1:1,r="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let $e=!1;try{document.cookie,$e=!0}catch(po){}const Ae=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];$e||Ae.splice(1,1);class Re{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return ge.call(me.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:Ae,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(be),this.addDetector(ve),this.addDetector(Me),this.addDetector(Ee),this.addDetector(Le),this.addDetector(Ce),this.addDetector(De),this.addDetector(Pe),this.addDetector(we)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"==typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}function Oe(e,t){if(!e)throw new Error(t)}Re.type="languageDetector";const Ie=0,Fe=1,Ne=2,Ye=3,je=4,He="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",Ue=He.includes("safari")&&!He.includes("chrom")&&(He.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(He)),ze=He.includes("webkit")&&!He.includes("edge"),Ge=He.includes("macintosh"),We="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,qe="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Be="undefined"!=typeof Image&&Image.prototype.decode,Ve="function"==typeof createImageBitmap,Xe=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();function Ke(e,t,n,r){let i;return i=n&&n.length?n.shift():qe?new class extends OffscreenCanvas{style={}}(e??300,t??150):document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}let Ze;function Je(){return Ze||(Ze=Ke(1,1)),Ze}function Qe(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function et(e){let t=e.offsetWidth;const n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function tt(e){let t=e.offsetHeight;const n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function nt(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function rt(e){for(;e.lastChild;)e.lastChild.remove()}function it(){const e=new Proxy({childNodes:[],appendChild:function(e){return this.childNodes.push(e),e},remove:function(){},removeChild:function(e){const t=this.childNodes.indexOf(e);if(-1===t)throw new Error("Node to remove was not found");return this.childNodes.splice(t,1),e},insertBefore:function(e,t){const n=this.childNodes.indexOf(t);if(-1===n)throw new Error("Reference node not found");return this.childNodes.splice(n,0,e),e},style:{}},{get:(e,t,n)=>"firstElementChild"===t?e.childNodes.length>0?e.childNodes[0]:null:Reflect.get(e,t,n)});return e}function ot(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas}function st(e,t,n){return Math.min(Math.max(e,t),n)}function at(e,t,n,r,i,o){const s=i-n,a=o-r;if(0!==s||0!==a){const l=((e-n)*s+(t-r)*a)/(s*s+a*a);l>1?(n=i,r=o):l>0&&(n+=s*l,r+=a*l)}return lt(e,t,n,r)}function lt(e,t,n,r){const i=n-e,o=r-t;return i*i+o*o}function ct(e){return 180*e/Math.PI}function ut(e){return e*Math.PI/180}function ht(e,t){const n=e%t;return n*t<0?n+t:n}function dt(e,t,n){return e+n*(t-e)}function ft(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function pt(e,t){return Math.round(ft(e,t))}function mt(e,t){return Math.floor(ft(e,t))}function gt(e,t){return Math.ceil(ft(e,t))}function _t(e,t,n){if(e>=t&&e<n)return e;const r=n-t;return((e-t)%r+r)%r+t}const yt=[NaN,NaN,NaN,0];let bt;const vt=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,wt=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,xt=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,St=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Mt(e,t){return e.endsWith("%")?Number(e.substring(0,e.length-1))/t:Number(e)}function kt(e){throw new Error('failed to parse "'+e+'" as color')}function Tt(e){if(e.toLowerCase().startsWith("rgb")){const t=e.match(wt)||e.match(vt)||e.match(xt);if(t){const e=t[4],n=100/255;return[st(Mt(t[1],n)+.5|0,0,255),st(Mt(t[2],n)+.5|0,0,255),st(Mt(t[3],n)+.5|0,0,255),void 0!==e?st(Mt(e,100),0,1):1]}kt(e)}if(e.startsWith("#")){if(St.test(e)){const t=e.substring(1),n=t.length<=4?1:2,r=[0,0,0,255];for(let e=0,i=t.length;e<i;e+=n){let i=parseInt(t.substring(e,e+n),16);1===n&&(i+=i<<4),r[e/n]=i}return r[3]=r[3]/255,r}kt(e)}const t=(bt||(bt=Ke(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),bt);t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=e,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=e,t.fillStyle===n&&kt(e));const r=t.fillStyle;if(r.startsWith("#")||r.startsWith("rgba"))return Tt(r);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const i=Array.from(t.getImageData(0,0,1,1).data);return i[3]=ft(i[3]/255,3),i}const Et={};let Lt=0;function Ct(e){if(4===e.length)return e;const t=e.slice();return t[3]=1,t}function Dt(e){return e>.0031308?269.025*Math.pow(e,1/2.4)-14.025:3294.6*e}function Pt(e){return e>.2068965?Math.pow(e,3):108/841*(e-4/29)}function $t(e){return e>10.314724?Math.pow((e+14.025)/269.025,2.4):e/3294.6}function At(e){return e>.0088564?Math.pow(e,1/3):e/(108/841)+4/29}function Rt(e){const t=$t(e[0]),n=$t(e[1]),r=$t(e[2]),i=At(.222488403*t+.716873169*n+.06060791*r),o=500*(At(.452247074*t+.399439023*n+.148375274*r)-i),s=200*(i-At(.016863605*t+.117638439*n+.865350722*r)),a=Math.atan2(s,o)*(180/Math.PI);return[116*i-16,Math.sqrt(o*o+s*s),a<0?a+360:a,e[3]]}function Ot(e){if("none"===e)return yt;if(Et.hasOwnProperty(e))return Et[e];if(Lt>=1024){let e=0;for(const t in Et)3&e++||(delete Et[t],--Lt)}const t=Tt(e);4!==t.length&&kt(e);for(const n of t)isNaN(n)&&kt(e);return Et[e]=t,++Lt,t}function It(e){return Array.isArray(e)?e:Ot(e)}function Ft(e){let t=e[0];t!=(0|t)&&(t=t+.5|0);let n=e[1];n!=(0|n)&&(n=n+.5|0);let r=e[2];r!=(0|r)&&(r=r+.5|0);return"rgba("+t+","+n+","+r+","+(void 0===e[3]?1:Math.round(1e3*e[3])/1e3)+")"}const Nt="change",Yt="error",jt="contextmenu",Ht="click",Ut="dblclick",zt="keydown",Gt="keypress",Wt="load",qt="touchmove",Bt="wheel";const Vt=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function Xt(e,t){return e>t?1:e<t?-1:0}function Kt(e,t){return e<t?1:e>t?-1:0}function Zt(e,t,n){if(e[0]<=t)return 0;const r=e.length;if(t<=e[r-1])return r-1;if("function"==typeof n){for(let i=1;i<r;++i){const r=e[i];if(r===t)return i;if(r<t)return n(t,e[i-1],r)>0?i-1:i}return r-1}if(n>0){for(let n=1;n<r;++n)if(e[n]<t)return n-1;return r-1}if(n<0){for(let n=1;n<r;++n)if(e[n]<=t)return n;return r-1}for(let n=1;n<r;++n){if(e[n]==t)return n;if(e[n]<t)return e[n-1]-t<t-e[n]?n-1:n}return r-1}function Jt(e,t,n){for(;t<n;){const r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function Qt(e,t){const n=Array.isArray(t)?t:[t],r=n.length;for(let t=0;t<r;t++)e[e.length]=n[t]}function en(e,t){const n=e.indexOf(t),r=n>-1;return r&&e.splice(n,1),r}function tn(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function nn(){return!0}function rn(){return!1}function on(){}function sn(e){let t,n,r;return function(){const i=Array.prototype.slice.call(arguments);return n&&this===r&&tn(i,n)||(r=this,n=i,t=e.apply(this,arguments)),t}}function an(e){return function(){let t;try{t=e()}catch(e){return Promise.reject(e)}return t instanceof Promise?t:Promise.resolve(t)}()}function ln(e){for(const t in e)delete e[t]}function cn(e){let t;for(t in e)return!1;return!t}const un=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};const hn=class extends Vt{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t="string"==typeof e,n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const i=t?new un(e):e;i.target||(i.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in o||(o[n]=0,s[n]=0),++o[n];for(let e=0,t=r.length;e<t;++e)if(a="handleEvent"in r[e]?r[e].handleEvent(i):r[e].call(this,i),!1===a||i.propagationStopped){a=!1;break}if(0===--o[n]){let e=s[n];for(delete s[n];e--;)this.removeEventListener(n,on);delete o[n]}return a}disposeInternal(){this.listeners_&&ln(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);-1!==r&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=on,++this.pendingRemovals_[e]):(n.splice(r,1),0===n.length&&delete this.listeners_[e]))}};function dn(e,t,n,r,i){if(i){const i=n;n=function(o){return e.removeEventListener(t,n),i.call(r??this,o)}}else r&&r!==e&&(n=n.bind(r));const o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function fn(e,t,n,r){return dn(e,t,n,r,!0)}function pn(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),ln(e))}function mn(e,t){return t&&(e.src=t),e.src&&Be?new Promise((t,n)=>e.decode().then(()=>t(e)).catch(r=>e.complete&&e.width?t(e):n(r))):function(e,t){return new Promise((n,r)=>{function i(){s(),n(e)}function o(){s(),r(new Error("Image load error"))}function s(){e.removeEventListener("load",i),e.removeEventListener("error",o)}e.addEventListener("load",i),e.addEventListener("error",o),t&&(e.src=t)})}(e)}function gn(e,t){return t&&(e.src=t),e.src&&Be&&Ve?e.decode().then(()=>createImageBitmap(e)).catch(t=>{if(e.complete&&e.width)return e;throw t}):mn(e)}const _n=class extends hn{constructor(e,t,n,r){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state="function"==typeof r?Ie:r,this.image_=null,this.loader="function"==typeof r?r:null}changed(){this.dispatchEvent(Nt)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Ie&&this.loader){this.state=Fe,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;an(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(e=>{"image"in e&&(this.image_=e.image),"extent"in e&&(this.extent=e.extent),"resolution"in e&&(this.resolution=e.resolution),"pixelRatio"in e&&(this.pixelRatio_=e.pixelRatio),(e instanceof HTMLImageElement||Ve&&e instanceof ImageBitmap||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement)&&(this.image_=e),this.state=Ne}).catch(e=>{this.state=Ye,console.error(e)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}};class yn{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const n=this.cache_[t];3&e++||n.hasListener()||(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,n){const r=bn(e,t,n);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,n){const r=bn(e,t,n);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,n,r,i){const o=bn(e,t,n),s=o in this.cache_;this.cache_[o]=r,i&&(r.getImageState()===Ie&&r.load(),r.getImageState()===Fe?r.ready().then(()=>{this.patternCache_[o]=Je().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=Je().createPattern(r.getImage(1),"repeat")),s||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function bn(e,t,n){return t+":"+e+":"+(n?It(n):"null")}const vn=new yn;let wn=null;class xn extends hn{constructor(e,t,n,r,i){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=n,this.canvas_={},this.color_=i,this.imageState_=void 0===r?Ie:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===Ne){wn||(wn=Ke(1,1,void 0,{willReadFrequently:!0})),wn.drawImage(this.image_,0,0);try{wn.getImageData(0,0,1,1),this.tainted_=!1}catch{wn=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(Nt)}handleImageError_(){this.imageState_=Ye,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ne,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],n=Ke(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ie){this.image_||this.initializeImage_(),this.imageState_=Fe;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&mn(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Ne)return;const t=this.image_,n=Ke(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=n.canvas;n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle=function(e){return"string"==typeof e?e:Ft(e)}(this.color_),n.fillRect(0,0,r.width/e,r.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Ne||this.imageState_===Ye)e();else{const t=()=>{this.imageState_!==Ne&&this.imageState_!==Ye||(this.removeEventListener(Nt,t),e())};this.addEventListener(Nt,t)}})),this.ready_}}function Sn(e,t,n,r,i,o){let s=void 0===t?void 0:vn.get(t,n,i);return s||(s=new xn(e,e&&"src"in e?e.src||void 0:t,n,r,i),vn.set(t,n,i,s,o)),o&&s&&!vn.getPattern(t,n,i)&&vn.set(t,n,i,s,o),s}const Mn=xn;function kn(e){return e?Array.isArray(e)?Ft(e):"object"==typeof e&&"src"in e?function(e){if(!e.offset||!e.size)return vn.getPattern(e.src,"anonymous",e.color);const t=e.src+":"+e.offset,n=vn.getPattern(t,void 0,e.color);if(n)return n;const r=vn.get(e.src,"anonymous",null);if(r.getImageState()!==Ne)return null;const i=Ke(e.size[0],e.size[1]);return i.drawImage(r.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),Sn(i.canvas,t,void 0,Ne,e.color,!0),vn.getPattern(t,void 0,e.color)}(e):e:null}const Tn="propertychange";class En extends hn{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Nt)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=dn(this,e[i],t);return r}return dn(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const r=e.length;n=new Array(r);for(let i=0;i<r;++i)n[i]=fn(this,e[i],t)}else n=fn(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)pn(e[t]);else pn(e)}(n);else if(Array.isArray(e))for(let n=0,r=e.length;n<r;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}En.prototype.on,En.prototype.once,En.prototype.un;const Ln=En;function Cn(){throw new Error("Unimplemented abstract method.")}let Dn=0;function Pn(e){return e.ol_uid||(e.ol_uid=String(++Dn))}class $n extends un{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}const An=class extends Ln{constructor(e){super(),this.on,this.once,this.un,Pn(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new $n(n,e,t)),n=Tn,this.hasListener(n)&&this.dispatchEvent(new $n(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const r=this.values_||(this.values_={});if(n)r[e]=t;else{const n=r[e];r[e]=t,n!==t&&this.notify(e,n)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],cn(this.values_)&&(this.values_=null),t||this.notify(e,n)}}},Rn="ol-hidden",On="ol-unselectable",In="ol-control",Fn="ol-collapsed",Nn=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z0-9]+?)\\s*$"].join(""),"i"),Yn=["style","variant","weight","size","lineHeight","family"],jn={normal:400,bold:700},Hn=function(e){const t=e.match(Nn);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let e=0,r=Yn.length;e<r;++e){const r=t[e+1];void 0!==r&&(n[Yn[e]]="string"==typeof r?r.trim():r)}return isNaN(Number(n.weight))&&n.weight in jn&&(n.weight=jn[n.weight]),n.families=n.family.split(/,\s?/).map(e=>e.trim().replace(/^['"]|['"]$/g,"")),n},Un="10px sans-serif",zn="#000",Gn="round",Wn=[],qn="round",Bn="#000",Vn="center",Xn="middle",Kn=[0,0,0,0],Zn=new An;let Jn,Qn=null;const er={},tr=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function nr(e,t,n){return`${e} ${t} 16px "${n}"`}const rr=function(){const e=100;let t,n;async function r(e){await n.ready;const t=await n.load(e);if(0===t.length)return!1;const r=Hn(e),i=r.families[0].toLowerCase(),o=r.weight;return t.some(e=>{const t=e.family.replace(/^['"]|['"]$/g,"").toLowerCase(),n=jn[e.weight]||e.weight;return t===i&&e.style===r.style&&n==o})}async function i(){await n.ready;let o=!0;const s=Zn.getProperties(),a=Object.keys(s).filter(t=>s[t]<e);for(let t=a.length-1;t>=0;--t){const n=a[t];let i=s[n];i<e&&(await r(n)?(ln(er),Zn.set(n,e)):(i+=10,Zn.set(n,i,!0),i<e&&(o=!1)))}t=void 0,o||(t=setTimeout(i,100))}return async function(e){n||(n=qe?self.fonts:document.fonts);const r=Hn(e);if(!r)return;const o=r.families;let s=!1;for(const e of o){if(tr.has(e))continue;const t=nr(r.style,r.weight,e);void 0===Zn.get(t)&&(Zn.set(t,0,!0),s=!0)}s&&(clearTimeout(t),t=setTimeout(i,100))}}(),ir=function(){let e;return function(t){let n=er[t];if(null==n){if(qe){const e=Hn(t),r=or(t,"Žg");n=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);er[t]=n}return n}}();function or(e,t){return Qn||(Qn=Ke(1,1)),e!=Jn&&(Qn.font=e,Jn=Qn.font),Qn.measureText(t)}function sr(e,t){return or(e,t).width}function ar(e,t,n){if(t in n)return n[t];const r=t.split("\n").reduce((t,n)=>Math.max(t,sr(e,n)),0);return n[t]=r,r}function lr(e,t,n,r,i,o,s,a,l,c,u){e.save(),1!==n&&(void 0===e.globalAlpha?e.globalAlpha=e=>e.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),r.contextInstructions?(e.translate(l,c),e.scale(u[0],u[1]),function(e,t){const n=e.contextInstructions;for(let e=0,r=n.length;e<r;e+=2)Array.isArray(n[e+1])?t[n[e]].apply(t,n[e+1]):t[n[e]]=n[e+1]}(r,e)):u[0]<0||u[1]<0?(e.translate(l,c),e.scale(u[0],u[1]),e.drawImage(r,i,o,s,a,0,0,s,a)):e.drawImage(r,i,o,s,a,l,c,s*u[0],a*u[1]),e.restore()}function cr(e){return e[0]>0&&e[1]>0}function ur(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}class hr{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=ur(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new hr({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Cn()}getImage(e){return Cn()}getHitDetectionImage(){return Cn()}getPixelRatio(e){return 1}getImageState(){return Cn()}getImageSize(){return Cn()}getOrigin(){return Cn()}getSize(){return Cn()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=ur(e)}listenImageChange(e){Cn()}load(){Cn()}unlistenImageChange(e){Cn()}ready(){return Promise.resolve()}}const dr=hr;class fr extends dr{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Fe:Ne,this.imageState_===Fe&&this.ready().then(()=>this.imageState_=Ne),this.render()}clone(){const e=this.getScale(),t=new fr({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const t=this.fill_?.getKey(),n=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let r=vn.get(n,null,null)?.getImage(1);if(!r){const t=this.renderOptions_,i=Math.ceil(t.size*e),o=Ke(i,i);this.draw_(t,o,e),r=o.canvas,vn.set(n,null,null,new Mn(r,void 0,null,Ne,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let r=this.radius,i=void 0===this.radius2_?r:this.radius2_;if(r<i){const e=r;r=i,i=e}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=i*Math.sin(s),l=r-Math.sqrt(i*i-a*a),c=Math.sqrt(a*a+l*l),u=c/a;if("miter"===e&&u<=n)return u*t;const h=t/2/u,d=t/2*(l/c),f=Math.sqrt((r+h)*(r+h)+d*d)-r;if(void 0===this.radius2_||"bevel"===e)return 2*f;const p=r*Math.sin(s),m=i-Math.sqrt(r*r-p*p),g=Math.sqrt(p*p+m*m)/p;if(g<=n){const e=g*t/2-i-r;return 2*Math.max(f,e)}return 2*f}createRenderOptions(){let e,t=Gn,n=qn,r=0,i=null,o=0,s=0;this.stroke_&&(e=kn(this.stroke_.getColor()??Bn),s=this.stroke_.getWidth()??1,i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??qn,t=this.stroke_.getLineCap()??Gn,r=this.stroke_.getMiterLimit()??10);const a=this.calculateLineJoinSize_(n,s,r),l=Math.max(this.radius,this.radius2_||0);return{strokeStyle:e,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:t,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let e=this.fill_.getColor();null===e&&(e=zn),t.fillStyle=kn(e),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let n=this.fill_.getColor(),r=0;"string"==typeof n&&(n=It(n)),null===n?r=1:Array.isArray(n)&&(r=4===n.length?n[3]:1),0===r&&(t=Ke(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const n=this.radius;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{const r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);const i=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let s=0;s<t;s++){const t=i+s*o,a=s%2==0?n:r;e.lineTo(a*Math.cos(t),a*Math.sin(t))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=zn,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}const pr=fr;class mr extends pr{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new mr({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}const gr=mr;class _r{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,void 0!==e.color&&this.setColor(e.color)}clone(){const e=this.getColor();return new _r({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(null!==e&&"object"==typeof e&&"src"in e){const t=Sn(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===Ie&&t.load(),t.getImageState()===Fe&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Pn(e):"object"==typeof e&&"src"in e?e.src+":"+e.offset:It(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}const yr=_r;class br{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new br({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const vr=br;class wr{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Tr,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new wr({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Tr,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function xr(e){let t;if("function"==typeof e)t=e;else{let n;if(Array.isArray(e))n=e;else{Oe("function"==typeof e.getZIndex,"Expected an `Style` or an array of `Style`");n=[e]}t=function(){return n}}return t}let Sr=null;function Mr(e,t){if(!Sr){const e=new yr({color:"rgba(255,255,255,0.4)"}),t=new vr({color:"#3399CC",width:1.25});Sr=[new wr({image:new gr({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return Sr}function kr(){const e={},t=[255,255,255,1],n=[0,153,255,1];return e.Polygon=[new wr({fill:new yr({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new wr({stroke:new vr({color:t,width:5})}),new wr({stroke:new vr({color:n,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new wr({image:new gr({radius:6,fill:new yr({color:n}),stroke:new vr({color:t,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function Tr(e){return e.getGeometry()}const Er=wr;var Lr=function(e,t){return Lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Lr(e,t)};function Cr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Lr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Dr(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())})}function Pr(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}Object.create;function $r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ar(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Rr(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Or(e){return this instanceof Or?(this.v=e,this):new Or(e)}function Ir(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{!function(e){e.value instanceof Or?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)}(i[e](t))}catch(e){u(o[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Fr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=$r(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}Object.create;"function"==typeof SuppressedError&&SuppressedError;function Nr(e){return"function"==typeof e}function Yr(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var jr=Yr(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function Hr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ur=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=$r(o),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(Nr(l))try{l()}catch(e){i=e instanceof jr?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=$r(c),h=u.next();!h.done;h=u.next()){var d=h.value;try{Wr(d)}catch(e){i=null!=i?i:[],e instanceof jr?i=Rr(Rr([],Ar(i)),Ar(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(i)throw new jr(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Wr(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Hr(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Hr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),zr=Ur.EMPTY;function Gr(e){return e instanceof Ur||e&&"closed"in e&&Nr(e.remove)&&Nr(e.add)&&Nr(e.unsubscribe)}function Wr(e){Nr(e)?e():e.unsubscribe()}var qr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Br={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Br.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,Rr([e,t],Ar(n))):setTimeout.apply(void 0,Rr([e,t],Ar(n)))},clearTimeout:function(e){var t=Br.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Vr(e){Br.setTimeout(function(){var t=qr.onUnhandledError;if(!t)throw e;t(e)})}function Xr(){}var Kr=Zr("C",void 0,void 0);function Zr(e,t,n){return{kind:e,value:t,error:n}}var Jr=null;function Qr(e){if(qr.useDeprecatedSynchronousErrorHandling){var t=!Jr;if(t&&(Jr={errorThrown:!1,error:null}),e(),t){var n=Jr,r=n.errorThrown,i=n.error;if(Jr=null,r)throw i}}else e()}var ei=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Gr(t)&&t.add(n)):n.destination=ai,n}return Cr(t,e),t.create=function(e,t,n){return new ii(e,t,n)},t.prototype.next=function(e){this.isStopped?si(function(e){return Zr("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?si(function(e){return Zr("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?si(Kr,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ur),ti=Function.prototype.bind;function ni(e,t){return ti.call(e,t)}var ri=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){oi(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){oi(e)}else oi(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){oi(e)}},e}(),ii=function(e){function t(t,n,r){var i,o,s=e.call(this)||this;Nr(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&qr.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&ni(t.next,o),error:t.error&&ni(t.error,o),complete:t.complete&&ni(t.complete,o)}):i=t;return s.destination=new ri(i),s}return Cr(t,e),t}(ei);function oi(e){var t;qr.useDeprecatedSynchronousErrorHandling?(t=e,qr.useDeprecatedSynchronousErrorHandling&&Jr&&(Jr.errorThrown=!0,Jr.error=t)):Vr(e)}function si(e,t){var n=qr.onStoppedNotification;n&&Br.setTimeout(function(){return n(e,t)})}var ai={closed:!0,next:Xr,error:function(e){throw e},complete:Xr},li="function"==typeof Symbol&&Symbol.observable||"@@observable";function ci(e){return e}function ui(e){return 0===e.length?ci:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var hi=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof ei||function(e){return e&&Nr(e.next)&&Nr(e.error)&&Nr(e.complete)}(e)&&Gr(e)}(e)?e:new ii(e,t,n);return Qr(function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=di(t))(function(t,r){var i=new ii({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[li]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ui(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=di(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function di(e){var t;return null!==(t=null!=e?e:qr.Promise)&&void 0!==t?t:Promise}function fi(e){return Nr(null==e?void 0:e.lift)}function pi(e){return function(t){if(fi(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}function mi(e,t,n,r,i){return new gi(e,t,n,r,i)}var gi=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return Cr(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(ei);!function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,fi(t)&&(r.lift=t.lift),r}Cr(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new Ur;var n=this.getSubject();t.add(this.source.subscribe(mi(n,void 0,function(){e._teardown(),n.complete()},function(t){e._teardown(),n.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=Ur.EMPTY)}return t},t.prototype.refCount=function(){return pi(function(e,t){var n=null;e._refCount++;var r=mi(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}});e.subscribe(r),r.closed||(n=e.connect())})(this)}}(hi);var _i={now:function(){return(_i.delegate||performance).now()},delegate:void 0},yi={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=yi.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=t(function(t){n=void 0,e(t)});return new Ur(function(){return null==n?void 0:n(i)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yi.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Rr([],Ar(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yi.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Rr([],Ar(e)))},delegate:void 0};function bi(e){return new hi(function(t){var n=e||_i,r=n.now(),i=0,o=function(){t.closed||(i=yi.requestAnimationFrame(function(s){i=0;var a=n.now();t.next({timestamp:e?a:s,elapsed:a-r}),o()}))};return o(),function(){i&&yi.cancelAnimationFrame(i)}})}bi();var vi,wi=Yr(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),xi=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Cr(t,e),t.prototype.lift=function(e){var t=new Si(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new wi},t.prototype.next=function(e){var t=this;Qr(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=$r(t.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;Qr(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;Qr(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?zr:(this.currentObservers=null,o.push(e),new Ur(function(){t.currentObservers=null,Hr(o,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new hi;return e.source=this,e},t.create=function(e,t){return new Si(e,t)},t}(hi),Si=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Cr(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:zr},t}(xi),Mi=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Cr(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(xi),ki={now:function(){return(ki.delegate||Date).now()},delegate:void 0},Ti=(function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=ki);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}Cr(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;r||(i.push(t),!o&&i.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){for(var s=n.now(),a=0,l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}(xi),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}Cr(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,i=t._value,o=t.thrownError,s=t.isStopped,a=t._isComplete;n?e.error(o):(s||a)&&(r&&e.next(i),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))}}(xi),function(e){function t(t,n){return e.call(this)||this}return Cr(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Ur)),Ei={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Ei.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,Rr([e,t],Ar(n))):setInterval.apply(void 0,Rr([e,t],Ar(n)))},clearInterval:function(e){var t=Ei.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Li=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return Cr(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Ei.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Ei.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Hr(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ti),Ci=1,Di={};function Pi(e){return e in Di&&(delete Di[e],!0)}var $i=function(e){var t=Ci++;return Di[t]=!0,vi||(vi=Promise.resolve()),vi.then(function(){return Pi(t)&&e()}),t},Ai=function(e){Pi(e)},Ri={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ri.delegate;return((null==n?void 0:n.setImmediate)||$i).apply(void 0,Rr([],Ar(e)))},clearImmediate:function(e){var t=Ri.delegate;return((null==t?void 0:t.clearImmediate)||Ai)(e)},delegate:void 0},Oi=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Cr(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=Ri.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){var i;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var o=t.actions;null!=n&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(Ri.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},t}(Li),Ii=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=ki.now,e}(),Fi=function(e){function t(t,n){void 0===n&&(n=Ii.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return Cr(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Ii),Ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cr(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(Fi),Yi=(new Ni(Oi),new Fi(Li),function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Cr(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.flush(this),0)},t}(Li)),ji=(new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cr(t,e),t}(Fi))(Yi),function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Cr(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=yi.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,n,r){var i;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var o=t.actions;null!=n&&n===t._scheduled&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(yi.cancelAnimationFrame(n),t._scheduled=void 0)},t}(Li)),Hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cr(t,e),t.prototype.flush=function(e){var t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(Fi),Ui=(new Hi(ji),function(e){function t(t,n){void 0===t&&(t=Ui),void 0===n&&(n=1/0);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}Cr(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10}(Fi),function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return Cr(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)}return Ur.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Li)),zi=new hi(function(e){return e.complete()});function Gi(e){return e[e.length-1]}function Wi(e){return function(e){return e&&Nr(e.schedule)}(Gi(e))?e.pop():void 0}var qi=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Bi(e){return Nr(null==e?void 0:e.then)}function Vi(e){return Nr(e[li])}function Xi(e){return Symbol.asyncIterator&&Nr(null==e?void 0:e[Symbol.asyncIterator])}function Ki(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Zi,Ji="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Qi(e){return Nr(null==e?void 0:e[Ji])}function eo(e){return Ir(this,arguments,function(){var t,n,r;return Pr(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Or(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,Or(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Or(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function to(e){return Nr(null==e?void 0:e.getReader)}function no(e){if(e instanceof hi)return e;if(null!=e){if(Vi(e))return r=e,new hi(function(e){var t=r[li]();if(Nr(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(qi(e))return function(e){return new hi(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Bi(e))return n=e,new hi(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Vr)});if(Xi(e))return ro(e);if(Qi(e))return t=e,new hi(function(e){var n,r;try{for(var i=$r(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()});if(to(e))return ro(eo(e))}var t,n,r;throw Ki(e)}function ro(e){return new hi(function(t){(function(e,t){var n,r,i,o;return Dr(this,void 0,void 0,function(){var s,a;return Pr(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Fr(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function io(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function oo(e,t){return void 0===t&&(t=0),pi(function(n,r){n.subscribe(mi(r,function(n){return io(r,e,function(){return r.next(n)},t)},function(){return io(r,e,function(){return r.complete()},t)},function(n){return io(r,e,function(){return r.error(n)},t)}))})}function so(e,t){return void 0===t&&(t=0),pi(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function ao(e,t){if(!e)throw new Error("Iterable cannot be null");return new hi(function(n){io(n,t,function(){var r=e[Symbol.asyncIterator]();io(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}function lo(e,t){if(null!=e){if(Vi(e))return function(e,t){return no(e).pipe(so(t),oo(t))}(e,t);if(qi(e))return function(e,t){return new hi(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Bi(e))return function(e,t){return no(e).pipe(so(t),oo(t))}(e,t);if(Xi(e))return ao(e,t);if(Qi(e))return function(e,t){return new hi(function(n){var r;return io(n,t,function(){r=e[Ji](),io(n,t,function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)},0,!0)}),function(){return Nr(null==r?void 0:r.return)&&r.return()}})}(e,t);if(to(e))return function(e,t){return ao(eo(e),t)}(e,t)}throw Ki(e)}function co(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e,t){return t?lo(e,t):no(e)}(e,Wi(e))}!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(Zi||(Zi={}));!function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}e.prototype.observe=function(e){return function(e,t){var n,r,i,o=e,s=o.kind,a=o.value,l=o.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,a):"E"===s?null===(r=t.error)||void 0===r||r.call(t,l):null===(i=t.complete)||void 0===i||i.call(t)}(this,e)},e.prototype.do=function(e,t,n){var r=this,i=r.kind,o=r.value,s=r.error;return"N"===i?null==e?void 0:e(o):"E"===i?null==t?void 0:t(s):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return Nr(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,i="N"===t?co(n):"E"===t?function(e,t){var n=Nr(e)?e:function(){return e},r=function(e){return e.error(n())};return new hi(t?function(e){return t.schedule(r,0,e)}:r)}(function(){return r}):"C"===t?zi:0;if(!i)throw new TypeError("Unexpected notification kind "+t);return i},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C")}();Yr(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Yr(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),Yr(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}),Yr(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}});Yr(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});Array.isArray;Array.isArray,Object.getPrototypeOf,Object.prototype,Object.keys;new hi(Xr);Array.isArray;n(8488);const uo=new class{constructor(){this.configuration_=new Mi(null)}getConfig(){return this.configuration_}setConfig(e){this.configuration_.next(e)}},ho=uo,fo=globalThis,po=fo.ShadowRoot&&(void 0===fo.ShadyCSS||fo.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,mo=Symbol(),go=new WeakMap;class _o{constructor(e,t,n){if(this._$cssResult$=!0,n!==mo)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(po&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=go.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&go.set(t,e))}return e}toString(){return this.cssText}}const yo=e=>new _o("string"==typeof e?e:e+"",void 0,mo),bo=(e,...t)=>{const n=1===e.length?e[0]:t.reduce((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1],e[0]);return new _o(n,e,mo)},vo=po?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return yo(t)})(e):e,{is:wo,defineProperty:xo,getOwnPropertyDescriptor:So,getOwnPropertyNames:Mo,getOwnPropertySymbols:ko,getPrototypeOf:To}=Object,Eo=globalThis,Lo=Eo.trustedTypes,Co=Lo?Lo.emptyScript:"",Do=Eo.reactiveElementPolyfillSupport,Po=(e,t)=>e,$o={toAttribute(e,t){switch(t){case Boolean:e=e?Co:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},Ao=(e,t)=>!wo(e,t),Ro={attribute:!0,type:String,converter:$o,reflect:!1,useDefault:!1,hasChanged:Ao};Symbol.metadata??=Symbol("metadata"),Eo.litPropertyMetadata??=new WeakMap;class Oo extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Ro){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&xo(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:i}=So(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:r,set(t){const o=r?.call(this);i?.call(this,t),this.requestUpdate(e,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Ro}static _$Ei(){if(this.hasOwnProperty(Po("elementProperties")))return;const e=To(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Po("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Po("properties"))){const e=this.properties,t=[...Mo(e),...ko(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(vo(e))}else void 0!==e&&t.push(vo(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(po)e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const n of t){const t=document.createElement("style"),r=fo.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=n.cssText,e.appendChild(t)}})(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){const n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(void 0!==r&&!0===n.reflect){const i=(void 0!==n.converter?.toAttribute?n.converter:$o).toAttribute(t,n.type);this._$Em=e,null==i?this.removeAttribute(r):this.setAttribute(r,i),this._$Em=null}}_$AK(e,t){const n=this.constructor,r=n._$Eh.get(e);if(void 0!==r&&this._$Em!==r){const e=n.getPropertyOptions(r),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:$o;this._$Em=r;const o=i.fromAttribute(t,e.type);this[r]=o??this._$Ej?.get(r)??o,this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){const r=this.constructor,i=this[e];if(n??=r.getPropertyOptions(e),!((n.hasChanged??Ao)(i,t)||n.useDefault&&n.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(r._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:r,wrapped:i},o){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??t??this[e]),!0!==i||void 0!==o)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),!0===r&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e){const{wrapped:e}=n,r=this[t];!0!==e||this._$AL.has(t)||void 0===r||this.C(t,void 0,n,r)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(e=>e.hostUpdate?.()),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(e=>this._$ET(e,this[e])),this._$EM()}updated(e){}firstUpdated(e){}}Oo.elementStyles=[],Oo.shadowRootOptions={mode:"open"},Oo[Po("elementProperties")]=new Map,Oo[Po("finalized")]=new Map,Do?.({ReactiveElement:Oo}),(Eo.reactiveElementVersions??=[]).push("2.1.1");const Io=globalThis,Fo=Io.trustedTypes,No=Fo?Fo.createPolicy("lit-html",{createHTML:e=>e}):void 0,Yo="$lit$",jo=`lit$${Math.random().toFixed(9).slice(2)}$`,Ho="?"+jo,Uo=`<${Ho}>`,zo=document,Go=()=>zo.createComment(""),Wo=e=>null===e||"object"!=typeof e&&"function"!=typeof e,qo=Array.isArray,Bo=e=>qo(e)||"function"==typeof e?.[Symbol.iterator],Vo="[ \t\n\f\r]",Xo=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ko=/-->/g,Zo=/>/g,Jo=RegExp(`>|${Vo}(?:([^\\s"'>=/]+)(${Vo}*=${Vo}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),Qo=/'/g,es=/"/g,ts=/^(?:script|style|textarea|title)$/i,ns=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),rs=ns(1),is=ns(2),os=(ns(3),Symbol.for("lit-noChange")),ss=Symbol.for("lit-nothing"),as=new WeakMap,ls=zo.createTreeWalker(zo,129);function cs(e,t){if(!qo(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==No?No.createHTML(t):t}const us=(e,t)=>{const n=e.length-1,r=[];let i,o=2===t?"<svg>":3===t?"<math>":"",s=Xo;for(let t=0;t<n;t++){const n=e[t];let a,l,c=-1,u=0;for(;u<n.length&&(s.lastIndex=u,l=s.exec(n),null!==l);)u=s.lastIndex,s===Xo?"!--"===l[1]?s=Ko:void 0!==l[1]?s=Zo:void 0!==l[2]?(ts.test(l[2])&&(i=RegExp("</"+l[2],"g")),s=Jo):void 0!==l[3]&&(s=Jo):s===Jo?">"===l[0]?(s=i??Xo,c=-1):void 0===l[1]?c=-2:(c=s.lastIndex-l[2].length,a=l[1],s=void 0===l[3]?Jo:'"'===l[3]?es:Qo):s===es||s===Qo?s=Jo:s===Ko||s===Zo?s=Xo:(s=Jo,i=void 0);const h=s===Jo&&e[t+1].startsWith("/>")?" ":"";o+=s===Xo?n+Uo:c>=0?(r.push(a),n.slice(0,c)+Yo+n.slice(c)+jo+h):n+jo+(-2===c?t:h)}return[cs(e,o+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class hs{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let i=0,o=0;const s=e.length-1,a=this.parts,[l,c]=us(e,t);if(this.el=hs.createElement(l,n),ls.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=ls.nextNode())&&a.length<s;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(Yo)){const t=c[o++],n=r.getAttribute(e).split(jo),s=/([.?@])?(.*)/.exec(t);a.push({type:1,index:i,name:s[2],strings:n,ctor:"."===s[1]?gs:"?"===s[1]?_s:"@"===s[1]?ys:ms}),r.removeAttribute(e)}else e.startsWith(jo)&&(a.push({type:6,index:i}),r.removeAttribute(e));if(ts.test(r.tagName)){const e=r.textContent.split(jo),t=e.length-1;if(t>0){r.textContent=Fo?Fo.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],Go()),ls.nextNode(),a.push({type:2,index:++i});r.append(e[t],Go())}}}else if(8===r.nodeType)if(r.data===Ho)a.push({type:2,index:i});else{let e=-1;for(;-1!==(e=r.data.indexOf(jo,e+1));)a.push({type:7,index:i}),e+=jo.length-1}i++}}static createElement(e,t){const n=zo.createElement("template");return n.innerHTML=e,n}}function ds(e,t,n=e,r){if(t===os)return t;let i=void 0!==r?n._$Co?.[r]:n._$Cl;const o=Wo(t)?void 0:t._$litDirective$;return i?.constructor!==o&&(i?._$AO?.(!1),void 0===o?i=void 0:(i=new o(e),i._$AT(e,n,r)),void 0!==r?(n._$Co??=[])[r]=i:n._$Cl=i),void 0!==i&&(t=ds(e,i._$AS(e,t.values),i,r)),t}class fs{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??zo).importNode(t,!0);ls.currentNode=r;let i=ls.nextNode(),o=0,s=0,a=n[0];for(;void 0!==a;){if(o===a.index){let t;2===a.type?t=new ps(i,i.nextSibling,this,e):1===a.type?t=new a.ctor(i,a.name,a.strings,this,e):6===a.type&&(t=new bs(i,this,e)),this._$AV.push(t),a=n[++s]}o!==a?.index&&(i=ls.nextNode(),o++)}return ls.currentNode=zo,r}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class ps{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=ss,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ds(this,e,t),Wo(e)?e===ss||null==e||""===e?(this._$AH!==ss&&this._$AR(),this._$AH=ss):e!==this._$AH&&e!==os&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):Bo(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ss&&Wo(this._$AH)?this._$AA.nextSibling.data=e:this.T(zo.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,r="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=hs.createElement(cs(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{const e=new fs(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=as.get(e.strings);return void 0===t&&as.set(e.strings,t=new hs(e)),t}k(e){qo(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const i of e)r===t.length?t.push(n=new ps(this.O(Go()),this.O(Go()),this,this.options)):n=t[r],n._$AI(i),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class ms{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=ss,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ss}_$AI(e,t=this,n,r){const i=this.strings;let o=!1;if(void 0===i)e=ds(this,e,t,0),o=!Wo(e)||e!==this._$AH&&e!==os,o&&(this._$AH=e);else{const r=e;let s,a;for(e=i[0],s=0;s<i.length-1;s++)a=ds(this,r[n+s],t,s),a===os&&(a=this._$AH[s]),o||=!Wo(a)||a!==this._$AH[s],a===ss?e=ss:e!==ss&&(e+=(a??"")+i[s+1]),this._$AH[s]=a}o&&!r&&this.j(e)}j(e){e===ss?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class gs extends ms{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ss?void 0:e}}class _s extends ms{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ss)}}class ys extends ms{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=ds(this,e,t,0)??ss)===os)return;const n=this._$AH,r=e===ss&&n!==ss||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==ss&&(n===ss||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class bs{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){ds(this,e)}}const vs=Io.litHtmlPolyfillSupport;vs?.(hs,ps),(Io.litHtmlVersions??=[]).push("3.3.1");const ws=globalThis;class xs extends Oo{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(void 0===i){const e=n?.renderBefore??null;r._$litPart$=i=new ps(t.insertBefore(Go(),e),e,void 0,n??{})}return i._$AI(e),i})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return os}}xs._$litElement$=!0,xs.finalized=!0,ws.litElementHydrateSupport?.({LitElement:xs});const Ss=ws.litElementPolyfillSupport;Ss?.({LitElement:xs});(ws.litElementVersions??=[]).push("4.2.1");const Ms=e=>(t,n)=>{void 0!==n?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)},ks={attribute:!0,type:String,converter:$o,reflect:!1,hasChanged:Ao},Ts=(e=ks,t,n)=>{const{kind:r,metadata:i}=n;let o=globalThis.litPropertyMetadata.get(i);if(void 0===o&&globalThis.litPropertyMetadata.set(i,o=new Map),"setter"===r&&((e=Object.create(e)).wrapped=!0),o.set(n.name,e),"accessor"===r){const{name:r}=n;return{set(n){const i=t.get.call(this);t.set.call(this,n),this.requestUpdate(r,i,e)},init(t){return void 0!==t&&this.C(r,void 0,e,t),t}}}if("setter"===r){const{name:r}=n;return function(n){const i=this[r];t.call(this,n),this.requestUpdate(r,i,e)}}throw Error("Unsupported decorator location: "+r)};function Es(e){return(t,n)=>"object"==typeof n?Ts(e,t,n):((e,t,n)=>{const r=t.hasOwnProperty(n);return t.constructor.createProperty(n,e),r?Object.getOwnPropertyDescriptor(t,n):void 0})(e,t,n)}function Ls(e){return Es({...e,state:!0,attribute:!1})}function Cs(e){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"${e?` height="${e}" width="${e}"`:""}><circle cx="256" cy="48" r="48" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="109.17" cy="108.313" r="43" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="46.537" cy="257.328" r="38" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="108.028" cy="403.972" r="33" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="255.794" cy="463.935" r="28" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="402.894" cy="402.936" r="23" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="463.623" cy="256.106" r="18" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/></svg>`}function Ds(e){const t=is`<circle cx="256" cy="48" r="48" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="109.17" cy="108.313" r="43" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="46.537" cy="257.328" r="38" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="108.028" cy="403.972" r="33" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="255.794" cy="463.935" r="28" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="402.894" cy="402.936" r="23" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="463.623" cy="256.106" r="18" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">`;return e?is`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="${e}" width="${e}">${t}</svg>`:is`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">${t}</svg>`}const Ps=bo`/*!
   * http://meyerweb.com/eric/tools/css/reset/
   * v2.0 | 20110126
   * License: none (public domain)
   */a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}`,$s=bo`@charset "UTF-8";/*!
   * Bootstrap v4.6.0 (https://getbootstrap.com/)
   * Copyright 2011-2021 The Bootstrap Authors
   * Copyright 2011-2021 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
   */:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-size:.8rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex='-1']:focus:not(:focus-visible){outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;text-decoration:underline dotted;cursor:help;border-bottom:0;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([class]){color:inherit;text-decoration:none}a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}figure{margin:0 0 1rem}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.6rem}.h3,h3{font-size:1.4rem}.h4,h4{font-size:1.2rem}.h5,h5{font-size:1rem}.h6,h6{font-size:.8rem}.lead{font-size:1rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}.small,small{font-size:80%;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1rem}.blockquote-footer{display:block;font-size:80%;color:#6c757d}.blockquote-footer::before{content:'— '}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:0;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:87.5%;color:#fff;background-color:#212529;border-radius:0}kbd kbd{padding:0;font-size:100%;font-weight:700}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}.row{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-auto,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-1>*{flex:0 0 100%;max-width:100%}.row-cols-2>*{flex:0 0 50%;max-width:50%}.row-cols-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-4>*{flex:0 0 25%;max-width:25%}.row-cols-5>*{flex:0 0 20%;max-width:20%}.row-cols-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto;max-width:100%}.col-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-12{flex:0 0 100%;max-width:100%}.order-first{order:-1}.order-last{order:13}.order-0{order:0}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.order-6{order:6}.order-7{order:7}.order-8{order:8}.order-9{order:9}.order-10{order:10}.order-11{order:11}.order-12{order:12}.offset-1{margin-left:8.3333333333%}.offset-2{margin-left:16.6666666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.3333333333%}.offset-5{margin-left:41.6666666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.3333333333%}.offset-8{margin-left:66.6666666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.3333333333%}.offset-11{margin-left:91.6666666667%}@media (min-width:576px){.col-sm{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-sm-1>*{flex:0 0 100%;max-width:100%}.row-cols-sm-2>*{flex:0 0 50%;max-width:50%}.row-cols-sm-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 25%;max-width:25%}.row-cols-sm-5>*{flex:0 0 20%;max-width:20%}.row-cols-sm-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-sm-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-sm-3{flex:0 0 25%;max-width:25%}.col-sm-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-sm-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-sm-6{flex:0 0 50%;max-width:50%}.col-sm-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-sm-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-sm-9{flex:0 0 75%;max-width:75%}.col-sm-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-sm-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-sm-12{flex:0 0 100%;max-width:100%}.order-sm-first{order:-1}.order-sm-last{order:13}.order-sm-0{order:0}.order-sm-1{order:1}.order-sm-2{order:2}.order-sm-3{order:3}.order-sm-4{order:4}.order-sm-5{order:5}.order-sm-6{order:6}.order-sm-7{order:7}.order-sm-8{order:8}.order-sm-9{order:9}.order-sm-10{order:10}.order-sm-11{order:11}.order-sm-12{order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.3333333333%}.offset-sm-2{margin-left:16.6666666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.3333333333%}.offset-sm-5{margin-left:41.6666666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.3333333333%}.offset-sm-8{margin-left:66.6666666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.3333333333%}.offset-sm-11{margin-left:91.6666666667%}}@media (min-width:768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-md-1>*{flex:0 0 100%;max-width:100%}.row-cols-md-2>*{flex:0 0 50%;max-width:50%}.row-cols-md-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-md-4>*{flex:0 0 25%;max-width:25%}.row-cols-md-5>*{flex:0 0 20%;max-width:20%}.row-cols-md-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto;max-width:100%}.col-md-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-md-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-md-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-md-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-md-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-md-12{flex:0 0 100%;max-width:100%}.order-md-first{order:-1}.order-md-last{order:13}.order-md-0{order:0}.order-md-1{order:1}.order-md-2{order:2}.order-md-3{order:3}.order-md-4{order:4}.order-md-5{order:5}.order-md-6{order:6}.order-md-7{order:7}.order-md-8{order:8}.order-md-9{order:9}.order-md-10{order:10}.order-md-11{order:11}.order-md-12{order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.3333333333%}.offset-md-2{margin-left:16.6666666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.3333333333%}.offset-md-5{margin-left:41.6666666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.3333333333%}.offset-md-8{margin-left:66.6666666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.3333333333%}.offset-md-11{margin-left:91.6666666667%}}@media (min-width:992px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-lg-1>*{flex:0 0 100%;max-width:100%}.row-cols-lg-2>*{flex:0 0 50%;max-width:50%}.row-cols-lg-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 25%;max-width:25%}.row-cols-lg-5>*{flex:0 0 20%;max-width:20%}.row-cols-lg-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-lg-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-lg-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-lg-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-lg-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-lg-12{flex:0 0 100%;max-width:100%}.order-lg-first{order:-1}.order-lg-last{order:13}.order-lg-0{order:0}.order-lg-1{order:1}.order-lg-2{order:2}.order-lg-3{order:3}.order-lg-4{order:4}.order-lg-5{order:5}.order-lg-6{order:6}.order-lg-7{order:7}.order-lg-8{order:8}.order-lg-9{order:9}.order-lg-10{order:10}.order-lg-11{order:11}.order-lg-12{order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.3333333333%}.offset-lg-2{margin-left:16.6666666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.3333333333%}.offset-lg-5{margin-left:41.6666666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.3333333333%}.offset-lg-8{margin-left:66.6666666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.3333333333%}.offset-lg-11{margin-left:91.6666666667%}}@media (min-width:1200px){.col-xl{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-xl-1>*{flex:0 0 100%;max-width:100%}.row-cols-xl-2>*{flex:0 0 50%;max-width:50%}.row-cols-xl-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 25%;max-width:25%}.row-cols-xl-5>*{flex:0 0 20%;max-width:20%}.row-cols-xl-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-xl-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-xl-3{flex:0 0 25%;max-width:25%}.col-xl-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-xl-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-xl-6{flex:0 0 50%;max-width:50%}.col-xl-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-xl-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-xl-9{flex:0 0 75%;max-width:75%}.col-xl-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-xl-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-xl-12{flex:0 0 100%;max-width:100%}.order-xl-first{order:-1}.order-xl-last{order:13}.order-xl-0{order:0}.order-xl-1{order:1}.order-xl-2{order:2}.order-xl-3{order:3}.order-xl-4{order:4}.order-xl-5{order:5}.order-xl-6{order:6}.order-xl-7{order:7}.order-xl-8{order:8}.order-xl-9{order:9}.order-xl-10{order:10}.order-xl-11{order:11}.order-xl-12{order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.3333333333%}.offset-xl-2{margin-left:16.6666666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.3333333333%}.offset-xl-5{margin-left:41.6666666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.3333333333%}.offset-xl-8{margin-left:66.6666666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.3333333333%}.offset-xl-11{margin-left:91.6666666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-sm td,.table-sm th{padding:.3rem}.table-bordered{border:1px solid #dee2e6}.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-borderless tbody+tbody,.table-borderless td,.table-borderless th,.table-borderless thead th{border:0}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-hover .table-primary:hover{background-color:#9fcdff}.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-secondary tbody+tbody,.table-secondary td,.table-secondary th,.table-secondary thead th{border-color:#b3b7bb}.table-hover .table-secondary:hover{background-color:#c8cbcf}.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-success tbody+tbody,.table-success td,.table-success th,.table-success thead th{border-color:#8fd19e}.table-hover .table-success:hover{background-color:#b1dfbb}.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-info tbody+tbody,.table-info td,.table-info th,.table-info thead th{border-color:#86cfda}.table-hover .table-info:hover{background-color:#abdde5}.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-hover .table-warning:hover{background-color:#ffe8a1}.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-danger tbody+tbody,.table-danger td,.table-danger th,.table-danger thead th{border-color:#ed969e}.table-hover .table-danger:hover{background-color:#f1b0b7}.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-hover .table-light:hover{background-color:#ececf6}.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table-hover .table-dark:hover{background-color:#b9bbbe}.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.table-dark.table-bordered{border:0}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{color:#fff;background-color:rgba(255,255,255,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:0;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{appearance:none}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.7rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding:.25rem 0;margin-bottom:0;font-size:.8rem;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.7rem;line-height:1.5;border-radius:0}.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1rem;line-height:1.5;border-radius:0}select.form-control[multiple],select.form-control[size]{height:auto}textarea.form-control{height:auto}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:flex;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:inline-flex;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#28a745}.valid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.7rem;line-height:1.5;color:#fff;background-color:rgba(40,167,69,.9);border-radius:0}.form-row>.col>.valid-tooltip,.form-row>[class*=col-]>.valid-tooltip{left:5px}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#28a745;padding-right:calc(1.5em + .5rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .125rem) center;background-size:calc(.75em + .25rem) calc(.75em + .25rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .5rem);background-position:top calc(.375em + .125rem) right calc(.375em + .125rem)}.custom-select.is-valid,.was-validated .custom-select:valid{border-color:#28a745;padding-right:calc(.75em + 1.875rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .5rem center/8px 10px no-repeat,#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e") center right 1.5rem/calc(.75em + .25rem) calc(.75em + .25rem) no-repeat}.custom-select.is-valid:focus,.was-validated .custom-select:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label::before,.was-validated .custom-control-input:valid~.custom-control-label::before{border-color:#28a745}.custom-control-input.is-valid:checked~.custom-control-label::before,.was-validated .custom-control-input:valid:checked~.custom-control-label::before{border-color:#34ce57;background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label::before,.was-validated .custom-control-input:valid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-control-input.is-valid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:valid:focus:not(:checked)~.custom-control-label::before{border-color:#28a745}.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.7rem;line-height:1.5;color:#fff;background-color:rgba(220,53,69,.9);border-radius:0}.form-row>.col>.invalid-tooltip,.form-row>[class*=col-]>.invalid-tooltip{left:5px}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .5rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .125rem) center;background-size:calc(.75em + .25rem) calc(.75em + .25rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .5rem);background-position:top calc(.375em + .125rem) right calc(.375em + .125rem)}.custom-select.is-invalid,.was-validated .custom-select:invalid{border-color:#dc3545;padding-right:calc(.75em + 1.875rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .5rem center/8px 10px no-repeat,#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") center right 1.5rem/calc(.75em + .25rem) calc(.75em + .25rem) no-repeat}.custom-select.is-invalid:focus,.was-validated .custom-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label::before,.was-validated .custom-control-input:invalid~.custom-control-label::before{border-color:#dc3545}.custom-control-input.is-invalid:checked~.custom-control-label::before,.was-validated .custom-control-input:invalid:checked~.custom-control-label::before{border-color:#e4606d;background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-control-input.is-invalid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus:not(:checked)~.custom-control-label::before{border-color:#dc3545}.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:flex;flex-flow:row wrap;align-items:center}.form-inline .form-check{width:100%}@media (min-width:576px){.form-inline label{display:flex;align-items:center;justify-content:center;margin-bottom:0}.form-inline .form-group{display:flex;flex:0 0 auto;flex-flow:row wrap;align-items:center;margin-bottom:0}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .custom-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:flex;align-items:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{align-items:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;user-select:none;background-color:transparent;border:1px solid transparent;padding:.25rem .5rem;font-size:.8rem;line-height:1.5;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{color:#fff;background-color:#5a6268;border-color:#545b62;box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#218838;border-color:#1e7e34;box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c82333;border-color:#bd2130;box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link.focus,.btn-link:focus{text-decoration:underline}.btn-link.disabled,.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1rem;line-height:1.5;border-radius:0}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.7rem;line-height:1.5;border-radius:0}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.dropdown,.dropleft,.dropright,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:'';border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:.8rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:0}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:'';border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:'';border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropright .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-toggle::after{vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:''}.dropleft .dropdown-toggle::after{display:none}.dropleft .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:'';border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropleft .dropdown-toggle:empty::after{margin-left:0}.dropleft .dropdown-toggle::before{vertical-align:0}.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=top]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.7rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1.5rem;color:#212529}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.dropdown-toggle-split::after,.dropright .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropleft .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control,.input-group>.form-control-plaintext{position:relative;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control,.input-group>.form-control-plaintext+.custom-file,.input-group>.form-control-plaintext+.custom-select,.input-group>.form-control-plaintext+.form-control{margin-left:-1px}.input-group>.custom-file .custom-file-input:focus~.custom-file-label,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:flex;align-items:center}.input-group>.custom-file:not(:first-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label{border-top-left-radius:0;border-bottom-left-radius:0}.input-group:not(.has-validation)>.custom-file:not(:last-child) .custom-file-label::after,.input-group:not(.has-validation)>.custom-select:not(:last-child),.input-group:not(.has-validation)>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.custom-file:nth-last-child(n+3) .custom-file-label::after,.input-group.has-validation>.custom-select:nth-last-child(n+3),.input-group.has-validation>.form-control:nth-last-child(n+3){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append,.input-group-prepend{display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn:focus,.input-group-prepend .btn:focus{z-index:3}.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-prepend{margin-right:-1px}.input-group-append{margin-left:-1px}.input-group-text{display:flex;align-items:center;padding:.25rem .5rem;margin-bottom:0;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:0}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select,.input-group-lg>.form-control:not(textarea){height:calc(1.5em + 1rem + 2px)}.input-group-lg>.custom-select,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1rem;line-height:1.5;border-radius:0}.input-group-sm>.custom-select,.input-group-sm>.form-control:not(textarea){height:calc(1.5em + .5rem + 2px)}.input-group-sm>.custom-select,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.7rem;line-height:1.5;border-radius:0}.input-group-lg>.custom-select,.input-group-sm>.custom-select{padding-right:1.5rem}.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.btn,.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.input-group-text,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.btn,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;z-index:1;display:block;min-height:1.2rem;padding-left:1.5rem;color-adjust:exact}.custom-control-inline{display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;left:0;z-index:-1;width:1rem;height:1.1rem;opacity:0}.custom-control-input:checked~.custom-control-label::before{color:#fff;border-color:#007bff;background-color:#007bff}.custom-control-input:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:focus:not(:checked)~.custom-control-label::before{border-color:#80bdff}.custom-control-input:not(:disabled):active~.custom-control-label::before{color:#fff;background-color:#b3d7ff;border-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label,.custom-control-input[disabled]~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label::before,.custom-control-input[disabled]~.custom-control-label::before{background-color:#e9ecef}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control-label::before{position:absolute;top:.1rem;left:-1.5rem;display:block;width:1rem;height:1rem;pointer-events:none;content:'';background-color:#fff;border:#adb5bd solid 1px}.custom-control-label::after{position:absolute;top:.1rem;left:-1.5rem;display:block;width:1rem;height:1rem;content:'';background:50%/50% 50% no-repeat}.custom-checkbox .custom-control-label::before{border-radius:0}.custom-checkbox .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::before{border-color:#007bff;background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3e%3cpath stroke='%23fff' d='M0 2h4'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label::before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.custom-radio .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-switch{padding-left:2.25rem}.custom-switch .custom-control-label::before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-switch .custom-control-label::after{top:calc(.1rem + 2px);left:calc(-2.25rem + 2px);width:calc(1rem - 4px);height:calc(1rem - 4px);background-color:#adb5bd;border-radius:.5rem;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-switch .custom-control-label::after{transition:none}}.custom-switch .custom-control-input:checked~.custom-control-label::after{background-color:#fff;transform:translateX(.75rem)}.custom-switch .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-select{display:inline-block;width:100%;height:calc(1.5em + .5rem + 2px);padding:.25rem 1.5rem .25rem .5rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .5rem center/8px 10px no-repeat;border:1px solid #ced4da;border-radius:0;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size='1']){height:auto;padding-right:.5rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-sm{height:calc(1.5em + .5rem + 2px);padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.7rem}.custom-select-lg{height:calc(1.5em + 1rem + 2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em + .5rem + 2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em + .5rem + 2px);margin:0;overflow:hidden;opacity:0}.custom-file-input:focus~.custom-file-label{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:disabled~.custom-file-label,.custom-file-input[disabled]~.custom-file-label{background-color:#e9ecef}.custom-file-input:lang(en)~.custom-file-label::after{content:'Browse'}.custom-file-input~.custom-file-label[data-browse]::after{content:attr(data-browse)}.custom-file-label{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;overflow:hidden;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;border:1px solid #ced4da;border-radius:0}.custom-file-label::after{position:absolute;top:0;right:0;bottom:0;z-index:3;display:block;height:calc(1.5em + .5rem);padding:.25rem .5rem;line-height:1.5;color:#495057;content:'Browse';background-color:#e9ecef;border-left:inherit;border-radius:0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-ms-thumb{transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-control-label::before,.custom-file-label,.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-control-label::before,.custom-file-label,.custom-select{transition:none}}.nav{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-link{margin-bottom:-1px;border:1px solid transparent;border-top-left-radius:0;border-top-right-radius:0}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{border-radius:0}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-basis:0;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:.5rem 1rem}.navbar .container,.navbar .container-fluid,.navbar .container-lg,.navbar .container-md,.navbar .container-sm,.navbar .container-xl{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.35rem;padding-bottom:.35rem;margin-right:1rem;font-size:1rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:0}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:'';background:50%/100% 100% no-repeat}.navbar-nav-scroll{max-height:75vh;overflow-y:auto}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{flex-wrap:nowrap}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{flex-wrap:nowrap}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{flex-wrap:nowrap}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{flex-wrap:nowrap}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}.navbar-expand{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{flex-wrap:nowrap}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-light .navbar-text a{color:rgba(0,0,0,.9)}.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.navbar-dark .navbar-text a{color:#fff}.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:0}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;min-height:1px;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0}.card-header-tabs{margin-right:-.625rem;margin-bottom:-.75rem;margin-left:-.625rem;border-bottom:0}.card-header-pills{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem;border-radius:0}.card-img,.card-img-bottom,.card-img-top{flex-shrink:0;width:100%}.card-img,.card-img-top{border-top-left-radius:0;border-top-right-radius:0}.card-img,.card-img-bottom{border-bottom-right-radius:0;border-bottom-left-radius:0}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{display:flex;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{flex:1 0 0%;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.card-columns .card{margin-bottom:.75rem}@media (min-width:576px){.card-columns{column-count:3;column-gap:1.25rem;orphans:1;widows:1}.card-columns .card{display:inline-block;width:100%}}.accordion{overflow-anchor:none}.accordion>.card{overflow:hidden}.accordion>.card:not(:last-of-type){border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.accordion>.card:not(:first-of-type){border-top-left-radius:0;border-top-right-radius:0}.accordion>.card>.card-header{border-radius:0;margin-bottom:-1px}.breadcrumb{display:flex;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:0}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:.5rem;color:#6c757d;content:'/'}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:underline}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{display:flex;padding-left:0;list-style:none;border-radius:0}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.page-item:last-child .page-link{border-top-right-radius:0;border-bottom-right-radius:0}.page-item.active .page-link{z-index:3;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:0;border-bottom-left-radius:0}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:0;border-bottom-right-radius:0}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.7rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:0;border-bottom-left-radius:0}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:0;border-bottom-right-radius:0}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:focus,a.badge:hover{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}a.badge-light.focus,a.badge-light:focus{outline:0;box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:focus,a.badge-dark:hover{color:#fff;background-color:#1d2124}a.badge-dark.focus,a.badge-dark:focus{outline:0;box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:0}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:0}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:3.7rem}.alert-dismissible .close{position:absolute;top:0;right:0;z-index:2;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:flex;height:1rem;overflow:hidden;line-height:0;font-size:.6rem;background-color:#e9ecef;border-radius:0}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{animation:none}}.media{display:flex;align-items:flex-start}.media-body{flex:1}.list-group{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:0}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.2rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}.close:not(:disabled):not(.disabled):focus,.close:not(:disabled):not(.disabled):hover{opacity:.75}button.close{padding:0;background-color:transparent;border:0}a.close.disabled{pointer-events:none}.toast{flex-basis:350px;max-width:350px;font-size:.875rem;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .25rem .75rem rgba(0,0,0,.1);opacity:0;border-radius:.25rem}.toast:not(:last-child){margin-bottom:.75rem}.toast.showing{opacity:1}.toast.show{display:block;opacity:1}.toast.hide{display:none}.toast-header{display:flex;align-items:center;padding:.25rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-body{padding:.75rem}.modal-open{overflow:hidden}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;overflow:hidden;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{display:flex;max-height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 1rem);overflow:hidden}.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header{flex-shrink:0}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered::before{display:block;height:calc(100vh - 1rem);height:min-content;content:''}.modal-dialog-centered.modal-dialog-scrollable{flex-direction:column;justify-content:center;height:100%}.modal-dialog-centered.modal-dialog-scrollable .modal-content{max-height:none}.modal-dialog-centered.modal-dialog-scrollable::before{content:none}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:0;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:flex;align-items:flex-start;justify-content:space-between;padding:1rem 1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:0;border-top-right-radius:0}.modal-header .close{padding:1rem 1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;flex:1 1 auto;padding:1rem}.modal-footer{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:0;border-bottom-left-radius:0}.modal-footer>*{margin:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{max-height:calc(100% - 3.5rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-dialog-centered::before{height:calc(100vh - 3.5rem);height:min-content}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.tooltip{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.7rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .arrow::before{position:absolute;content:'';border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow::before,.bs-tooltip-top .arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow::before,.bs-tooltip-right .arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow::before,.bs-tooltip-bottom .arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow::before,.bs-tooltip-left .arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:0}.popover{position:absolute;top:0;left:0;z-index:1060;display:block;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.7rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:0}.popover .arrow{position:absolute;display:block;width:1rem;height:.5rem;margin:0 0}.popover .arrow::after,.popover .arrow::before{position:absolute;display:block;content:'';border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top]>.arrow,.bs-popover-top>.arrow{bottom:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=top]>.arrow::before,.bs-popover-top>.arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top]>.arrow::after,.bs-popover-top>.arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right]>.arrow,.bs-popover-right>.arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:0 0}.bs-popover-auto[x-placement^=right]>.arrow::before,.bs-popover-right>.arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right]>.arrow::after,.bs-popover-right>.arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom]>.arrow,.bs-popover-bottom>.arrow{top:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=bottom]>.arrow::before,.bs-popover-bottom>.arrow::before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom]>.arrow::after,.bs-popover-bottom>.arrow::after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:'';border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left]>.arrow,.bs-popover-left>.arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:0 0}.bs-popover-auto[x-placement^=left]>.arrow::before,.bs-popover-left>.arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left]>.arrow::after,.bs-popover-left>.arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:.8rem;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:0;border-top-right-radius:0}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:''}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left){transform:translateX(100%)}.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;color:#fff;text-align:center;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:50%/100% 100% no-repeat}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators li{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:.75s linear infinite spinner-border}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;background-color:currentColor;border-radius:50%;opacity:0;animation:.75s linear infinite spinner-grow}.spinner-grow-sm{width:1rem;height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{animation-duration:1.5s}}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.bg-primary{background-color:#007bff!important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc!important}.bg-secondary{background-color:#6c757d!important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62!important}.bg-success{background-color:#28a745!important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34!important}.bg-info{background-color:#17a2b8!important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b!important}.bg-warning{background-color:#ffc107!important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00!important}.bg-danger{background-color:#dc3545!important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130!important}.bg-light{background-color:#f8f9fa!important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5!important}.bg-dark{background-color:#343a40!important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.border{border:1px solid #dee2e6!important}.border-top{border-top:1px solid #dee2e6!important}.border-right{border-right:1px solid #dee2e6!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-left{border-left:1px solid #dee2e6!important}.border-0{border:0!important}.border-top-0{border-top:0!important}.border-right-0{border-right:0!important}.border-bottom-0{border-bottom:0!important}.border-left-0{border-left:0!important}.border-primary{border-color:#007bff!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.rounded-sm{border-radius:0!important}.rounded{border-radius:0!important}.rounded-top{border-top-left-radius:0!important;border-top-right-radius:0!important}.rounded-right{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.rounded-bottom{border-bottom-right-radius:0!important;border-bottom-left-radius:0!important}.rounded-left{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.rounded-lg{border-radius:0!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-0{border-radius:0!important}.clearfix::after{display:block;clear:both;content:''}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive::before{display:block;content:''}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.8571428571%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-fill{flex:1 1 auto!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}@media (min-width:576px){.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}}@media (min-width:768px){.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}}@media (min-width:992px){.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}}@media (min-width:1200px){.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}}.user-select-all{user-select:all!important}.user-select-auto{user-select:auto!important}.user-select-none{user-select:none!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:sticky!important}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}@supports (position:sticky){.sticky-top{position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mw-100{max-width:100%!important}.mh-100{max-height:100%!important}.min-vw-100{min-width:100vw!important}.min-vh-100{min-height:100vh!important}.vw-100{width:100vw!important}.vh-100{height:100vh!important}.m-0{margin:0!important}.mt-0,.my-0{margin-top:0!important}.mr-0,.mx-0{margin-right:0!important}.mb-0,.my-0{margin-bottom:0!important}.ml-0,.mx-0{margin-left:0!important}.m-1{margin:.25rem!important}.mt-1,.my-1{margin-top:.25rem!important}.mr-1,.mx-1{margin-right:.25rem!important}.mb-1,.my-1{margin-bottom:.25rem!important}.ml-1,.mx-1{margin-left:.25rem!important}.m-2{margin:.5rem!important}.mt-2,.my-2{margin-top:.5rem!important}.mr-2,.mx-2{margin-right:.5rem!important}.mb-2,.my-2{margin-bottom:.5rem!important}.ml-2,.mx-2{margin-left:.5rem!important}.m-3{margin:1rem!important}.mt-3,.my-3{margin-top:1rem!important}.mr-3,.mx-3{margin-right:1rem!important}.mb-3,.my-3{margin-bottom:1rem!important}.ml-3,.mx-3{margin-left:1rem!important}.m-4{margin:1.5rem!important}.mt-4,.my-4{margin-top:1.5rem!important}.mr-4,.mx-4{margin-right:1.5rem!important}.mb-4,.my-4{margin-bottom:1.5rem!important}.ml-4,.mx-4{margin-left:1.5rem!important}.m-5{margin:3rem!important}.mt-5,.my-5{margin-top:3rem!important}.mr-5,.mx-5{margin-right:3rem!important}.mb-5,.my-5{margin-bottom:3rem!important}.ml-5,.mx-5{margin-left:3rem!important}.p-0{padding:0!important}.pt-0,.py-0{padding-top:0!important}.pr-0,.px-0{padding-right:0!important}.pb-0,.py-0{padding-bottom:0!important}.pl-0,.px-0{padding-left:0!important}.p-1{padding:.25rem!important}.pt-1,.py-1{padding-top:.25rem!important}.pr-1,.px-1{padding-right:.25rem!important}.pb-1,.py-1{padding-bottom:.25rem!important}.pl-1,.px-1{padding-left:.25rem!important}.p-2{padding:.5rem!important}.pt-2,.py-2{padding-top:.5rem!important}.pr-2,.px-2{padding-right:.5rem!important}.pb-2,.py-2{padding-bottom:.5rem!important}.pl-2,.px-2{padding-left:.5rem!important}.p-3{padding:1rem!important}.pt-3,.py-3{padding-top:1rem!important}.pr-3,.px-3{padding-right:1rem!important}.pb-3,.py-3{padding-bottom:1rem!important}.pl-3,.px-3{padding-left:1rem!important}.p-4{padding:1.5rem!important}.pt-4,.py-4{padding-top:1.5rem!important}.pr-4,.px-4{padding-right:1.5rem!important}.pb-4,.py-4{padding-bottom:1.5rem!important}.pl-4,.px-4{padding-left:1.5rem!important}.p-5{padding:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.pr-5,.px-5{padding-right:3rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pl-5,.px-5{padding-left:3rem!important}.m-n1{margin:-.25rem!important}.mt-n1,.my-n1{margin-top:-.25rem!important}.mr-n1,.mx-n1{margin-right:-.25rem!important}.mb-n1,.my-n1{margin-bottom:-.25rem!important}.ml-n1,.mx-n1{margin-left:-.25rem!important}.m-n2{margin:-.5rem!important}.mt-n2,.my-n2{margin-top:-.5rem!important}.mr-n2,.mx-n2{margin-right:-.5rem!important}.mb-n2,.my-n2{margin-bottom:-.5rem!important}.ml-n2,.mx-n2{margin-left:-.5rem!important}.m-n3{margin:-1rem!important}.mt-n3,.my-n3{margin-top:-1rem!important}.mr-n3,.mx-n3{margin-right:-1rem!important}.mb-n3,.my-n3{margin-bottom:-1rem!important}.ml-n3,.mx-n3{margin-left:-1rem!important}.m-n4{margin:-1.5rem!important}.mt-n4,.my-n4{margin-top:-1.5rem!important}.mr-n4,.mx-n4{margin-right:-1.5rem!important}.mb-n4,.my-n4{margin-bottom:-1.5rem!important}.ml-n4,.mx-n4{margin-left:-1.5rem!important}.m-n5{margin:-3rem!important}.mt-n5,.my-n5{margin-top:-3rem!important}.mr-n5,.mx-n5{margin-right:-3rem!important}.mb-n5,.my-n5{margin-bottom:-3rem!important}.ml-n5,.mx-n5{margin-left:-3rem!important}.m-auto{margin:auto!important}.mt-auto,.my-auto{margin-top:auto!important}.mr-auto,.mx-auto{margin-right:auto!important}.mb-auto,.my-auto{margin-bottom:auto!important}.ml-auto,.mx-auto{margin-left:auto!important}@media (min-width:576px){.m-sm-0{margin:0!important}.mt-sm-0,.my-sm-0{margin-top:0!important}.mr-sm-0,.mx-sm-0{margin-right:0!important}.mb-sm-0,.my-sm-0{margin-bottom:0!important}.ml-sm-0,.mx-sm-0{margin-left:0!important}.m-sm-1{margin:.25rem!important}.mt-sm-1,.my-sm-1{margin-top:.25rem!important}.mr-sm-1,.mx-sm-1{margin-right:.25rem!important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem!important}.ml-sm-1,.mx-sm-1{margin-left:.25rem!important}.m-sm-2{margin:.5rem!important}.mt-sm-2,.my-sm-2{margin-top:.5rem!important}.mr-sm-2,.mx-sm-2{margin-right:.5rem!important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem!important}.ml-sm-2,.mx-sm-2{margin-left:.5rem!important}.m-sm-3{margin:1rem!important}.mt-sm-3,.my-sm-3{margin-top:1rem!important}.mr-sm-3,.mx-sm-3{margin-right:1rem!important}.mb-sm-3,.my-sm-3{margin-bottom:1rem!important}.ml-sm-3,.mx-sm-3{margin-left:1rem!important}.m-sm-4{margin:1.5rem!important}.mt-sm-4,.my-sm-4{margin-top:1.5rem!important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem!important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem!important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem!important}.m-sm-5{margin:3rem!important}.mt-sm-5,.my-sm-5{margin-top:3rem!important}.mr-sm-5,.mx-sm-5{margin-right:3rem!important}.mb-sm-5,.my-sm-5{margin-bottom:3rem!important}.ml-sm-5,.mx-sm-5{margin-left:3rem!important}.p-sm-0{padding:0!important}.pt-sm-0,.py-sm-0{padding-top:0!important}.pr-sm-0,.px-sm-0{padding-right:0!important}.pb-sm-0,.py-sm-0{padding-bottom:0!important}.pl-sm-0,.px-sm-0{padding-left:0!important}.p-sm-1{padding:.25rem!important}.pt-sm-1,.py-sm-1{padding-top:.25rem!important}.pr-sm-1,.px-sm-1{padding-right:.25rem!important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem!important}.pl-sm-1,.px-sm-1{padding-left:.25rem!important}.p-sm-2{padding:.5rem!important}.pt-sm-2,.py-sm-2{padding-top:.5rem!important}.pr-sm-2,.px-sm-2{padding-right:.5rem!important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem!important}.pl-sm-2,.px-sm-2{padding-left:.5rem!important}.p-sm-3{padding:1rem!important}.pt-sm-3,.py-sm-3{padding-top:1rem!important}.pr-sm-3,.px-sm-3{padding-right:1rem!important}.pb-sm-3,.py-sm-3{padding-bottom:1rem!important}.pl-sm-3,.px-sm-3{padding-left:1rem!important}.p-sm-4{padding:1.5rem!important}.pt-sm-4,.py-sm-4{padding-top:1.5rem!important}.pr-sm-4,.px-sm-4{padding-right:1.5rem!important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem!important}.pl-sm-4,.px-sm-4{padding-left:1.5rem!important}.p-sm-5{padding:3rem!important}.pt-sm-5,.py-sm-5{padding-top:3rem!important}.pr-sm-5,.px-sm-5{padding-right:3rem!important}.pb-sm-5,.py-sm-5{padding-bottom:3rem!important}.pl-sm-5,.px-sm-5{padding-left:3rem!important}.m-sm-n1{margin:-.25rem!important}.mt-sm-n1,.my-sm-n1{margin-top:-.25rem!important}.mr-sm-n1,.mx-sm-n1{margin-right:-.25rem!important}.mb-sm-n1,.my-sm-n1{margin-bottom:-.25rem!important}.ml-sm-n1,.mx-sm-n1{margin-left:-.25rem!important}.m-sm-n2{margin:-.5rem!important}.mt-sm-n2,.my-sm-n2{margin-top:-.5rem!important}.mr-sm-n2,.mx-sm-n2{margin-right:-.5rem!important}.mb-sm-n2,.my-sm-n2{margin-bottom:-.5rem!important}.ml-sm-n2,.mx-sm-n2{margin-left:-.5rem!important}.m-sm-n3{margin:-1rem!important}.mt-sm-n3,.my-sm-n3{margin-top:-1rem!important}.mr-sm-n3,.mx-sm-n3{margin-right:-1rem!important}.mb-sm-n3,.my-sm-n3{margin-bottom:-1rem!important}.ml-sm-n3,.mx-sm-n3{margin-left:-1rem!important}.m-sm-n4{margin:-1.5rem!important}.mt-sm-n4,.my-sm-n4{margin-top:-1.5rem!important}.mr-sm-n4,.mx-sm-n4{margin-right:-1.5rem!important}.mb-sm-n4,.my-sm-n4{margin-bottom:-1.5rem!important}.ml-sm-n4,.mx-sm-n4{margin-left:-1.5rem!important}.m-sm-n5{margin:-3rem!important}.mt-sm-n5,.my-sm-n5{margin-top:-3rem!important}.mr-sm-n5,.mx-sm-n5{margin-right:-3rem!important}.mb-sm-n5,.my-sm-n5{margin-bottom:-3rem!important}.ml-sm-n5,.mx-sm-n5{margin-left:-3rem!important}.m-sm-auto{margin:auto!important}.mt-sm-auto,.my-sm-auto{margin-top:auto!important}.mr-sm-auto,.mx-sm-auto{margin-right:auto!important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto!important}.ml-sm-auto,.mx-sm-auto{margin-left:auto!important}}@media (min-width:768px){.m-md-0{margin:0!important}.mt-md-0,.my-md-0{margin-top:0!important}.mr-md-0,.mx-md-0{margin-right:0!important}.mb-md-0,.my-md-0{margin-bottom:0!important}.ml-md-0,.mx-md-0{margin-left:0!important}.m-md-1{margin:.25rem!important}.mt-md-1,.my-md-1{margin-top:.25rem!important}.mr-md-1,.mx-md-1{margin-right:.25rem!important}.mb-md-1,.my-md-1{margin-bottom:.25rem!important}.ml-md-1,.mx-md-1{margin-left:.25rem!important}.m-md-2{margin:.5rem!important}.mt-md-2,.my-md-2{margin-top:.5rem!important}.mr-md-2,.mx-md-2{margin-right:.5rem!important}.mb-md-2,.my-md-2{margin-bottom:.5rem!important}.ml-md-2,.mx-md-2{margin-left:.5rem!important}.m-md-3{margin:1rem!important}.mt-md-3,.my-md-3{margin-top:1rem!important}.mr-md-3,.mx-md-3{margin-right:1rem!important}.mb-md-3,.my-md-3{margin-bottom:1rem!important}.ml-md-3,.mx-md-3{margin-left:1rem!important}.m-md-4{margin:1.5rem!important}.mt-md-4,.my-md-4{margin-top:1.5rem!important}.mr-md-4,.mx-md-4{margin-right:1.5rem!important}.mb-md-4,.my-md-4{margin-bottom:1.5rem!important}.ml-md-4,.mx-md-4{margin-left:1.5rem!important}.m-md-5{margin:3rem!important}.mt-md-5,.my-md-5{margin-top:3rem!important}.mr-md-5,.mx-md-5{margin-right:3rem!important}.mb-md-5,.my-md-5{margin-bottom:3rem!important}.ml-md-5,.mx-md-5{margin-left:3rem!important}.p-md-0{padding:0!important}.pt-md-0,.py-md-0{padding-top:0!important}.pr-md-0,.px-md-0{padding-right:0!important}.pb-md-0,.py-md-0{padding-bottom:0!important}.pl-md-0,.px-md-0{padding-left:0!important}.p-md-1{padding:.25rem!important}.pt-md-1,.py-md-1{padding-top:.25rem!important}.pr-md-1,.px-md-1{padding-right:.25rem!important}.pb-md-1,.py-md-1{padding-bottom:.25rem!important}.pl-md-1,.px-md-1{padding-left:.25rem!important}.p-md-2{padding:.5rem!important}.pt-md-2,.py-md-2{padding-top:.5rem!important}.pr-md-2,.px-md-2{padding-right:.5rem!important}.pb-md-2,.py-md-2{padding-bottom:.5rem!important}.pl-md-2,.px-md-2{padding-left:.5rem!important}.p-md-3{padding:1rem!important}.pt-md-3,.py-md-3{padding-top:1rem!important}.pr-md-3,.px-md-3{padding-right:1rem!important}.pb-md-3,.py-md-3{padding-bottom:1rem!important}.pl-md-3,.px-md-3{padding-left:1rem!important}.p-md-4{padding:1.5rem!important}.pt-md-4,.py-md-4{padding-top:1.5rem!important}.pr-md-4,.px-md-4{padding-right:1.5rem!important}.pb-md-4,.py-md-4{padding-bottom:1.5rem!important}.pl-md-4,.px-md-4{padding-left:1.5rem!important}.p-md-5{padding:3rem!important}.pt-md-5,.py-md-5{padding-top:3rem!important}.pr-md-5,.px-md-5{padding-right:3rem!important}.pb-md-5,.py-md-5{padding-bottom:3rem!important}.pl-md-5,.px-md-5{padding-left:3rem!important}.m-md-n1{margin:-.25rem!important}.mt-md-n1,.my-md-n1{margin-top:-.25rem!important}.mr-md-n1,.mx-md-n1{margin-right:-.25rem!important}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem!important}.ml-md-n1,.mx-md-n1{margin-left:-.25rem!important}.m-md-n2{margin:-.5rem!important}.mt-md-n2,.my-md-n2{margin-top:-.5rem!important}.mr-md-n2,.mx-md-n2{margin-right:-.5rem!important}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem!important}.ml-md-n2,.mx-md-n2{margin-left:-.5rem!important}.m-md-n3{margin:-1rem!important}.mt-md-n3,.my-md-n3{margin-top:-1rem!important}.mr-md-n3,.mx-md-n3{margin-right:-1rem!important}.mb-md-n3,.my-md-n3{margin-bottom:-1rem!important}.ml-md-n3,.mx-md-n3{margin-left:-1rem!important}.m-md-n4{margin:-1.5rem!important}.mt-md-n4,.my-md-n4{margin-top:-1.5rem!important}.mr-md-n4,.mx-md-n4{margin-right:-1.5rem!important}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem!important}.ml-md-n4,.mx-md-n4{margin-left:-1.5rem!important}.m-md-n5{margin:-3rem!important}.mt-md-n5,.my-md-n5{margin-top:-3rem!important}.mr-md-n5,.mx-md-n5{margin-right:-3rem!important}.mb-md-n5,.my-md-n5{margin-bottom:-3rem!important}.ml-md-n5,.mx-md-n5{margin-left:-3rem!important}.m-md-auto{margin:auto!important}.mt-md-auto,.my-md-auto{margin-top:auto!important}.mr-md-auto,.mx-md-auto{margin-right:auto!important}.mb-md-auto,.my-md-auto{margin-bottom:auto!important}.ml-md-auto,.mx-md-auto{margin-left:auto!important}}@media (min-width:992px){.m-lg-0{margin:0!important}.mt-lg-0,.my-lg-0{margin-top:0!important}.mr-lg-0,.mx-lg-0{margin-right:0!important}.mb-lg-0,.my-lg-0{margin-bottom:0!important}.ml-lg-0,.mx-lg-0{margin-left:0!important}.m-lg-1{margin:.25rem!important}.mt-lg-1,.my-lg-1{margin-top:.25rem!important}.mr-lg-1,.mx-lg-1{margin-right:.25rem!important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem!important}.ml-lg-1,.mx-lg-1{margin-left:.25rem!important}.m-lg-2{margin:.5rem!important}.mt-lg-2,.my-lg-2{margin-top:.5rem!important}.mr-lg-2,.mx-lg-2{margin-right:.5rem!important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem!important}.ml-lg-2,.mx-lg-2{margin-left:.5rem!important}.m-lg-3{margin:1rem!important}.mt-lg-3,.my-lg-3{margin-top:1rem!important}.mr-lg-3,.mx-lg-3{margin-right:1rem!important}.mb-lg-3,.my-lg-3{margin-bottom:1rem!important}.ml-lg-3,.mx-lg-3{margin-left:1rem!important}.m-lg-4{margin:1.5rem!important}.mt-lg-4,.my-lg-4{margin-top:1.5rem!important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem!important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem!important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem!important}.m-lg-5{margin:3rem!important}.mt-lg-5,.my-lg-5{margin-top:3rem!important}.mr-lg-5,.mx-lg-5{margin-right:3rem!important}.mb-lg-5,.my-lg-5{margin-bottom:3rem!important}.ml-lg-5,.mx-lg-5{margin-left:3rem!important}.p-lg-0{padding:0!important}.pt-lg-0,.py-lg-0{padding-top:0!important}.pr-lg-0,.px-lg-0{padding-right:0!important}.pb-lg-0,.py-lg-0{padding-bottom:0!important}.pl-lg-0,.px-lg-0{padding-left:0!important}.p-lg-1{padding:.25rem!important}.pt-lg-1,.py-lg-1{padding-top:.25rem!important}.pr-lg-1,.px-lg-1{padding-right:.25rem!important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem!important}.pl-lg-1,.px-lg-1{padding-left:.25rem!important}.p-lg-2{padding:.5rem!important}.pt-lg-2,.py-lg-2{padding-top:.5rem!important}.pr-lg-2,.px-lg-2{padding-right:.5rem!important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem!important}.pl-lg-2,.px-lg-2{padding-left:.5rem!important}.p-lg-3{padding:1rem!important}.pt-lg-3,.py-lg-3{padding-top:1rem!important}.pr-lg-3,.px-lg-3{padding-right:1rem!important}.pb-lg-3,.py-lg-3{padding-bottom:1rem!important}.pl-lg-3,.px-lg-3{padding-left:1rem!important}.p-lg-4{padding:1.5rem!important}.pt-lg-4,.py-lg-4{padding-top:1.5rem!important}.pr-lg-4,.px-lg-4{padding-right:1.5rem!important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem!important}.pl-lg-4,.px-lg-4{padding-left:1.5rem!important}.p-lg-5{padding:3rem!important}.pt-lg-5,.py-lg-5{padding-top:3rem!important}.pr-lg-5,.px-lg-5{padding-right:3rem!important}.pb-lg-5,.py-lg-5{padding-bottom:3rem!important}.pl-lg-5,.px-lg-5{padding-left:3rem!important}.m-lg-n1{margin:-.25rem!important}.mt-lg-n1,.my-lg-n1{margin-top:-.25rem!important}.mr-lg-n1,.mx-lg-n1{margin-right:-.25rem!important}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem!important}.ml-lg-n1,.mx-lg-n1{margin-left:-.25rem!important}.m-lg-n2{margin:-.5rem!important}.mt-lg-n2,.my-lg-n2{margin-top:-.5rem!important}.mr-lg-n2,.mx-lg-n2{margin-right:-.5rem!important}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem!important}.ml-lg-n2,.mx-lg-n2{margin-left:-.5rem!important}.m-lg-n3{margin:-1rem!important}.mt-lg-n3,.my-lg-n3{margin-top:-1rem!important}.mr-lg-n3,.mx-lg-n3{margin-right:-1rem!important}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem!important}.ml-lg-n3,.mx-lg-n3{margin-left:-1rem!important}.m-lg-n4{margin:-1.5rem!important}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem!important}.mr-lg-n4,.mx-lg-n4{margin-right:-1.5rem!important}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem!important}.ml-lg-n4,.mx-lg-n4{margin-left:-1.5rem!important}.m-lg-n5{margin:-3rem!important}.mt-lg-n5,.my-lg-n5{margin-top:-3rem!important}.mr-lg-n5,.mx-lg-n5{margin-right:-3rem!important}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem!important}.ml-lg-n5,.mx-lg-n5{margin-left:-3rem!important}.m-lg-auto{margin:auto!important}.mt-lg-auto,.my-lg-auto{margin-top:auto!important}.mr-lg-auto,.mx-lg-auto{margin-right:auto!important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto!important}.ml-lg-auto,.mx-lg-auto{margin-left:auto!important}}@media (min-width:1200px){.m-xl-0{margin:0!important}.mt-xl-0,.my-xl-0{margin-top:0!important}.mr-xl-0,.mx-xl-0{margin-right:0!important}.mb-xl-0,.my-xl-0{margin-bottom:0!important}.ml-xl-0,.mx-xl-0{margin-left:0!important}.m-xl-1{margin:.25rem!important}.mt-xl-1,.my-xl-1{margin-top:.25rem!important}.mr-xl-1,.mx-xl-1{margin-right:.25rem!important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem!important}.ml-xl-1,.mx-xl-1{margin-left:.25rem!important}.m-xl-2{margin:.5rem!important}.mt-xl-2,.my-xl-2{margin-top:.5rem!important}.mr-xl-2,.mx-xl-2{margin-right:.5rem!important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem!important}.ml-xl-2,.mx-xl-2{margin-left:.5rem!important}.m-xl-3{margin:1rem!important}.mt-xl-3,.my-xl-3{margin-top:1rem!important}.mr-xl-3,.mx-xl-3{margin-right:1rem!important}.mb-xl-3,.my-xl-3{margin-bottom:1rem!important}.ml-xl-3,.mx-xl-3{margin-left:1rem!important}.m-xl-4{margin:1.5rem!important}.mt-xl-4,.my-xl-4{margin-top:1.5rem!important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem!important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem!important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem!important}.m-xl-5{margin:3rem!important}.mt-xl-5,.my-xl-5{margin-top:3rem!important}.mr-xl-5,.mx-xl-5{margin-right:3rem!important}.mb-xl-5,.my-xl-5{margin-bottom:3rem!important}.ml-xl-5,.mx-xl-5{margin-left:3rem!important}.p-xl-0{padding:0!important}.pt-xl-0,.py-xl-0{padding-top:0!important}.pr-xl-0,.px-xl-0{padding-right:0!important}.pb-xl-0,.py-xl-0{padding-bottom:0!important}.pl-xl-0,.px-xl-0{padding-left:0!important}.p-xl-1{padding:.25rem!important}.pt-xl-1,.py-xl-1{padding-top:.25rem!important}.pr-xl-1,.px-xl-1{padding-right:.25rem!important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem!important}.pl-xl-1,.px-xl-1{padding-left:.25rem!important}.p-xl-2{padding:.5rem!important}.pt-xl-2,.py-xl-2{padding-top:.5rem!important}.pr-xl-2,.px-xl-2{padding-right:.5rem!important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem!important}.pl-xl-2,.px-xl-2{padding-left:.5rem!important}.p-xl-3{padding:1rem!important}.pt-xl-3,.py-xl-3{padding-top:1rem!important}.pr-xl-3,.px-xl-3{padding-right:1rem!important}.pb-xl-3,.py-xl-3{padding-bottom:1rem!important}.pl-xl-3,.px-xl-3{padding-left:1rem!important}.p-xl-4{padding:1.5rem!important}.pt-xl-4,.py-xl-4{padding-top:1.5rem!important}.pr-xl-4,.px-xl-4{padding-right:1.5rem!important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem!important}.pl-xl-4,.px-xl-4{padding-left:1.5rem!important}.p-xl-5{padding:3rem!important}.pt-xl-5,.py-xl-5{padding-top:3rem!important}.pr-xl-5,.px-xl-5{padding-right:3rem!important}.pb-xl-5,.py-xl-5{padding-bottom:3rem!important}.pl-xl-5,.px-xl-5{padding-left:3rem!important}.m-xl-n1{margin:-.25rem!important}.mt-xl-n1,.my-xl-n1{margin-top:-.25rem!important}.mr-xl-n1,.mx-xl-n1{margin-right:-.25rem!important}.mb-xl-n1,.my-xl-n1{margin-bottom:-.25rem!important}.ml-xl-n1,.mx-xl-n1{margin-left:-.25rem!important}.m-xl-n2{margin:-.5rem!important}.mt-xl-n2,.my-xl-n2{margin-top:-.5rem!important}.mr-xl-n2,.mx-xl-n2{margin-right:-.5rem!important}.mb-xl-n2,.my-xl-n2{margin-bottom:-.5rem!important}.ml-xl-n2,.mx-xl-n2{margin-left:-.5rem!important}.m-xl-n3{margin:-1rem!important}.mt-xl-n3,.my-xl-n3{margin-top:-1rem!important}.mr-xl-n3,.mx-xl-n3{margin-right:-1rem!important}.mb-xl-n3,.my-xl-n3{margin-bottom:-1rem!important}.ml-xl-n3,.mx-xl-n3{margin-left:-1rem!important}.m-xl-n4{margin:-1.5rem!important}.mt-xl-n4,.my-xl-n4{margin-top:-1.5rem!important}.mr-xl-n4,.mx-xl-n4{margin-right:-1.5rem!important}.mb-xl-n4,.my-xl-n4{margin-bottom:-1.5rem!important}.ml-xl-n4,.mx-xl-n4{margin-left:-1.5rem!important}.m-xl-n5{margin:-3rem!important}.mt-xl-n5,.my-xl-n5{margin-top:-3rem!important}.mr-xl-n5,.mx-xl-n5{margin-right:-3rem!important}.mb-xl-n5,.my-xl-n5{margin-bottom:-3rem!important}.ml-xl-n5,.mx-xl-n5{margin-left:-3rem!important}.m-xl-auto{margin:auto!important}.mt-xl-auto,.my-xl-auto{margin-top:auto!important}.mr-xl-auto,.mx-xl-auto{margin-right:auto!important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto!important}.ml-xl-auto,.mx-xl-auto{margin-left:auto!important}}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:auto;content:'';background-color:rgba(0,0,0,0)}.text-monospace{font-family:SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace!important}.text-justify{text-align:justify!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}@media (min-width:576px){.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.font-weight-light{font-weight:300!important}.font-weight-lighter{font-weight:lighter!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-weight-bolder{font-weight:bolder!important}.font-italic{font-style:italic!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}a.text-primary:focus,a.text-primary:hover{color:#0056b3!important}.text-secondary{color:#6c757d!important}a.text-secondary:focus,a.text-secondary:hover{color:#494f54!important}.text-success{color:#28a745!important}a.text-success:focus,a.text-success:hover{color:#19692c!important}.text-info{color:#17a2b8!important}a.text-info:focus,a.text-info:hover{color:#0f6674!important}.text-warning{color:#ffc107!important}a.text-warning:focus,a.text-warning:hover{color:#ba8b00!important}.text-danger{color:#dc3545!important}a.text-danger:focus,a.text-danger:hover{color:#a71d2a!important}.text-light{color:#f8f9fa!important}a.text-light:focus,a.text-light:hover{color:#cbd3da!important}.text-dark{color:#343a40!important}a.text-dark:focus,a.text-dark:hover{color:#121416!important}.text-body{color:#212529!important}.text-muted{color:#6c757d!important}.text-black-50{color:rgba(0,0,0,.5)!important}.text-white-50{color:rgba(255,255,255,.5)!important}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none!important}.text-break{word-break:break-word!important;word-wrap:break-word!important}.text-reset{color:inherit!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media print{*,::after,::before{text-shadow:none!important;box-shadow:none!important}a:not(.btn){text-decoration:underline}abbr[title]::after{content:' (' attr(title) ')'}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #adb5bd;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px!important}.container{min-width:992px!important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #dee2e6!important}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}}`,As=bo`/*!
   * Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com
   * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
   * Copyright 2024 Fonticons, Inc.
   */.fa{font-family:var(--fa-style-family, 'Font Awesome 6 Free');font-weight:var(--fa-style,900)}.fa,.fa-brands,.fa-classic,.fa-regular,.fa-sharp-solid,.fa-solid,.fab,.far,.fas{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:var(--fa-display,inline-block);font-style:normal;font-variant:normal;line-height:1;text-rendering:auto}.fa-classic,.fa-regular,.fa-solid,.far,.fas{font-family:'Font Awesome 6 Free'}.fa-brands,.fab{font-family:'Font Awesome 6 Brands'}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-2xs{font-size:.625em;line-height:.1em;vertical-align:.225em}.fa-xs{font-size:.75em;line-height:.08333em;vertical-align:.125em}.fa-sm{font-size:.875em;line-height:.07143em;vertical-align:.05357em}.fa-lg{font-size:1.25em;line-height:.05em;vertical-align:-.075em}.fa-xl{font-size:1.5em;line-height:.04167em;vertical-align:-.125em}.fa-2xl{font-size:2em;line-height:.03125em;vertical-align:-.1875em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:var(--fa-li-margin,2.5em);padding-left:0}.fa-ul>li{position:relative}.fa-li{left:calc(-1 * var(--fa-li-width,2em));position:absolute;text-align:center;width:var(--fa-li-width,2em);line-height:inherit}.fa-border{border-color:var(--fa-border-color,#eee);border-radius:var(--fa-border-radius,.1em);border-style:var(--fa-border-style,solid);border-width:var(--fa-border-width,.08em);padding:var(--fa-border-padding,.2em .25em .15em)}.fa-pull-left{float:left;margin-right:var(--fa-pull-margin,.3em)}.fa-pull-right{float:right;margin-left:var(--fa-pull-margin,.3em)}.fa-beat{animation-name:fa-beat;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-bounce{animation-name:fa-bounce;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1))}.fa-fade{animation-name:fa-fade;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-beat-fade{animation-name:fa-beat-fade;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-flip{animation-name:fa-flip;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-shake{animation-name:fa-shake;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin{animation-name:fa-spin;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,2s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin-reverse{--fa-animation-direction:reverse}.fa-pulse,.fa-spin-pulse{animation-name:fa-spin;animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,steps(8))}@media (prefers-reduced-motion:reduce){.fa-beat,.fa-beat-fade,.fa-bounce,.fa-fade,.fa-flip,.fa-pulse,.fa-shake,.fa-spin,.fa-spin-pulse{animation-delay:-1ms;animation-duration:1ms;animation-iteration-count:1;transition-delay:0s;transition-duration:0s}}@keyframes fa-beat{0%,90%{transform:scale(1)}45%{transform:scale(var(--fa-beat-scale,1.25))}}@keyframes fa-bounce{0%{transform:scale(1,1) translateY(0)}10%{transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em))}64%{transform:scale(1,1) translateY(0)}100%{transform:scale(1,1) translateY(0)}}@keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@keyframes fa-beat-fade{0%,100%{opacity:var(--fa-beat-fade-opacity,.4);transform:scale(1)}50%{opacity:1;transform:scale(var(--fa-beat-fade-scale,1.125))}}@keyframes fa-flip{50%{transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@keyframes fa-shake{0%{transform:rotate(-15deg)}4%{transform:rotate(15deg)}24%,8%{transform:rotate(-18deg)}12%,28%{transform:rotate(18deg)}16%{transform:rotate(-22deg)}20%{transform:rotate(22deg)}32%{transform:rotate(-12deg)}36%{transform:rotate(12deg)}100%,40%{transform:rotate(0)}}@keyframes fa-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.fa-rotate-90{transform:rotate(90deg)}.fa-rotate-180{transform:rotate(180deg)}.fa-rotate-270{transform:rotate(270deg)}.fa-flip-horizontal{transform:scale(-1,1)}.fa-flip-vertical{transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{transform:scale(-1,-1)}.fa-rotate-by{transform:rotate(var(--fa-rotate-angle,0))}.fa-stack{display:inline-block;height:2em;line-height:2em;position:relative;vertical-align:middle;width:2.5em}.fa-stack-1x,.fa-stack-2x{left:0;position:absolute;text-align:center;width:100%;z-index:var(--fa-stack-z-index,auto)}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:var(--fa-inverse,#fff)}.fa-0::before{content:'\\30'}.fa-1::before{content:'\\31'}.fa-2::before{content:'\\32'}.fa-3::before{content:'\\33'}.fa-4::before{content:'\\34'}.fa-5::before{content:'\\35'}.fa-6::before{content:'\\36'}.fa-7::before{content:'\\37'}.fa-8::before{content:'\\38'}.fa-9::before{content:'\\39'}.fa-fill-drip::before{content:'\\f576'}.fa-arrows-to-circle::before{content:'\\e4bd'}.fa-circle-chevron-right::before{content:'\\f138'}.fa-chevron-circle-right::before{content:'\\f138'}.fa-at::before{content:'\\40'}.fa-trash-can::before{content:'\\f2ed'}.fa-trash-alt::before{content:'\\f2ed'}.fa-text-height::before{content:'\\f034'}.fa-user-xmark::before{content:'\\f235'}.fa-user-times::before{content:'\\f235'}.fa-stethoscope::before{content:'\\f0f1'}.fa-message::before{content:'\\f27a'}.fa-comment-alt::before{content:'\\f27a'}.fa-info::before{content:'\\f129'}.fa-down-left-and-up-right-to-center::before{content:'\\f422'}.fa-compress-alt::before{content:'\\f422'}.fa-explosion::before{content:'\\e4e9'}.fa-file-lines::before{content:'\\f15c'}.fa-file-alt::before{content:'\\f15c'}.fa-file-text::before{content:'\\f15c'}.fa-wave-square::before{content:'\\f83e'}.fa-ring::before{content:'\\f70b'}.fa-building-un::before{content:'\\e4d9'}.fa-dice-three::before{content:'\\f527'}.fa-calendar-days::before{content:'\\f073'}.fa-calendar-alt::before{content:'\\f073'}.fa-anchor-circle-check::before{content:'\\e4aa'}.fa-building-circle-arrow-right::before{content:'\\e4d1'}.fa-volleyball::before{content:'\\f45f'}.fa-volleyball-ball::before{content:'\\f45f'}.fa-arrows-up-to-line::before{content:'\\e4c2'}.fa-sort-down::before{content:'\\f0dd'}.fa-sort-desc::before{content:'\\f0dd'}.fa-circle-minus::before{content:'\\f056'}.fa-minus-circle::before{content:'\\f056'}.fa-door-open::before{content:'\\f52b'}.fa-right-from-bracket::before{content:'\\f2f5'}.fa-sign-out-alt::before{content:'\\f2f5'}.fa-atom::before{content:'\\f5d2'}.fa-soap::before{content:'\\e06e'}.fa-icons::before{content:'\\f86d'}.fa-heart-music-camera-bolt::before{content:'\\f86d'}.fa-microphone-lines-slash::before{content:'\\f539'}.fa-microphone-alt-slash::before{content:'\\f539'}.fa-bridge-circle-check::before{content:'\\e4c9'}.fa-pump-medical::before{content:'\\e06a'}.fa-fingerprint::before{content:'\\f577'}.fa-hand-point-right::before{content:'\\f0a4'}.fa-magnifying-glass-location::before{content:'\\f689'}.fa-search-location::before{content:'\\f689'}.fa-forward-step::before{content:'\\f051'}.fa-step-forward::before{content:'\\f051'}.fa-face-smile-beam::before{content:'\\f5b8'}.fa-smile-beam::before{content:'\\f5b8'}.fa-flag-checkered::before{content:'\\f11e'}.fa-football::before{content:'\\f44e'}.fa-football-ball::before{content:'\\f44e'}.fa-school-circle-exclamation::before{content:'\\e56c'}.fa-crop::before{content:'\\f125'}.fa-angles-down::before{content:'\\f103'}.fa-users-rectangle::before{content:'\\e594'}.fa-people-roof::before{content:'\\e537'}.fa-people-line::before{content:'\\e534'}.fa-beer-mug-empty::before{content:'\\f0fc'}.fa-beer::before{content:'\\f0fc'}.fa-diagram-predecessor::before{content:'\\e477'}.fa-arrow-up-long::before{content:'\\f176'}.fa-long-arrow-up::before{content:'\\f176'}.fa-fire-flame-simple::before{content:'\\f46a'}.fa-burn::before{content:'\\f46a'}.fa-person::before{content:'\\f183'}.fa-male::before{content:'\\f183'}.fa-laptop::before{content:'\\f109'}.fa-file-csv::before{content:'\\f6dd'}.fa-menorah::before{content:'\\f676'}.fa-truck-plane::before{content:'\\e58f'}.fa-record-vinyl::before{content:'\\f8d9'}.fa-face-grin-stars::before{content:'\\f587'}.fa-grin-stars::before{content:'\\f587'}.fa-bong::before{content:'\\f55c'}.fa-spaghetti-monster-flying::before{content:'\\f67b'}.fa-pastafarianism::before{content:'\\f67b'}.fa-arrow-down-up-across-line::before{content:'\\e4af'}.fa-spoon::before{content:'\\f2e5'}.fa-utensil-spoon::before{content:'\\f2e5'}.fa-jar-wheat::before{content:'\\e517'}.fa-envelopes-bulk::before{content:'\\f674'}.fa-mail-bulk::before{content:'\\f674'}.fa-file-circle-exclamation::before{content:'\\e4eb'}.fa-circle-h::before{content:'\\f47e'}.fa-hospital-symbol::before{content:'\\f47e'}.fa-pager::before{content:'\\f815'}.fa-address-book::before{content:'\\f2b9'}.fa-contact-book::before{content:'\\f2b9'}.fa-strikethrough::before{content:'\\f0cc'}.fa-k::before{content:'\\4b'}.fa-landmark-flag::before{content:'\\e51c'}.fa-pencil::before{content:'\\f303'}.fa-pencil-alt::before{content:'\\f303'}.fa-backward::before{content:'\\f04a'}.fa-caret-right::before{content:'\\f0da'}.fa-comments::before{content:'\\f086'}.fa-paste::before{content:'\\f0ea'}.fa-file-clipboard::before{content:'\\f0ea'}.fa-code-pull-request::before{content:'\\e13c'}.fa-clipboard-list::before{content:'\\f46d'}.fa-truck-ramp-box::before{content:'\\f4de'}.fa-truck-loading::before{content:'\\f4de'}.fa-user-check::before{content:'\\f4fc'}.fa-vial-virus::before{content:'\\e597'}.fa-sheet-plastic::before{content:'\\e571'}.fa-blog::before{content:'\\f781'}.fa-user-ninja::before{content:'\\f504'}.fa-person-arrow-up-from-line::before{content:'\\e539'}.fa-scroll-torah::before{content:'\\f6a0'}.fa-torah::before{content:'\\f6a0'}.fa-broom-ball::before{content:'\\f458'}.fa-quidditch::before{content:'\\f458'}.fa-quidditch-broom-ball::before{content:'\\f458'}.fa-toggle-off::before{content:'\\f204'}.fa-box-archive::before{content:'\\f187'}.fa-archive::before{content:'\\f187'}.fa-person-drowning::before{content:'\\e545'}.fa-arrow-down-9-1::before{content:'\\f886'}.fa-sort-numeric-desc::before{content:'\\f886'}.fa-sort-numeric-down-alt::before{content:'\\f886'}.fa-face-grin-tongue-squint::before{content:'\\f58a'}.fa-grin-tongue-squint::before{content:'\\f58a'}.fa-spray-can::before{content:'\\f5bd'}.fa-truck-monster::before{content:'\\f63b'}.fa-w::before{content:'\\57'}.fa-earth-africa::before{content:'\\f57c'}.fa-globe-africa::before{content:'\\f57c'}.fa-rainbow::before{content:'\\f75b'}.fa-circle-notch::before{content:'\\f1ce'}.fa-tablet-screen-button::before{content:'\\f3fa'}.fa-tablet-alt::before{content:'\\f3fa'}.fa-paw::before{content:'\\f1b0'}.fa-cloud::before{content:'\\f0c2'}.fa-trowel-bricks::before{content:'\\e58a'}.fa-face-flushed::before{content:'\\f579'}.fa-flushed::before{content:'\\f579'}.fa-hospital-user::before{content:'\\f80d'}.fa-tent-arrow-left-right::before{content:'\\e57f'}.fa-gavel::before{content:'\\f0e3'}.fa-legal::before{content:'\\f0e3'}.fa-binoculars::before{content:'\\f1e5'}.fa-microphone-slash::before{content:'\\f131'}.fa-box-tissue::before{content:'\\e05b'}.fa-motorcycle::before{content:'\\f21c'}.fa-bell-concierge::before{content:'\\f562'}.fa-concierge-bell::before{content:'\\f562'}.fa-pen-ruler::before{content:'\\f5ae'}.fa-pencil-ruler::before{content:'\\f5ae'}.fa-people-arrows::before{content:'\\e068'}.fa-people-arrows-left-right::before{content:'\\e068'}.fa-mars-and-venus-burst::before{content:'\\e523'}.fa-square-caret-right::before{content:'\\f152'}.fa-caret-square-right::before{content:'\\f152'}.fa-scissors::before{content:'\\f0c4'}.fa-cut::before{content:'\\f0c4'}.fa-sun-plant-wilt::before{content:'\\e57a'}.fa-toilets-portable::before{content:'\\e584'}.fa-hockey-puck::before{content:'\\f453'}.fa-table::before{content:'\\f0ce'}.fa-magnifying-glass-arrow-right::before{content:'\\e521'}.fa-tachograph-digital::before{content:'\\f566'}.fa-digital-tachograph::before{content:'\\f566'}.fa-users-slash::before{content:'\\e073'}.fa-clover::before{content:'\\e139'}.fa-reply::before{content:'\\f3e5'}.fa-mail-reply::before{content:'\\f3e5'}.fa-star-and-crescent::before{content:'\\f699'}.fa-house-fire::before{content:'\\e50c'}.fa-square-minus::before{content:'\\f146'}.fa-minus-square::before{content:'\\f146'}.fa-helicopter::before{content:'\\f533'}.fa-compass::before{content:'\\f14e'}.fa-square-caret-down::before{content:'\\f150'}.fa-caret-square-down::before{content:'\\f150'}.fa-file-circle-question::before{content:'\\e4ef'}.fa-laptop-code::before{content:'\\f5fc'}.fa-swatchbook::before{content:'\\f5c3'}.fa-prescription-bottle::before{content:'\\f485'}.fa-bars::before{content:'\\f0c9'}.fa-navicon::before{content:'\\f0c9'}.fa-people-group::before{content:'\\e533'}.fa-hourglass-end::before{content:'\\f253'}.fa-hourglass-3::before{content:'\\f253'}.fa-heart-crack::before{content:'\\f7a9'}.fa-heart-broken::before{content:'\\f7a9'}.fa-square-up-right::before{content:'\\f360'}.fa-external-link-square-alt::before{content:'\\f360'}.fa-face-kiss-beam::before{content:'\\f597'}.fa-kiss-beam::before{content:'\\f597'}.fa-film::before{content:'\\f008'}.fa-ruler-horizontal::before{content:'\\f547'}.fa-people-robbery::before{content:'\\e536'}.fa-lightbulb::before{content:'\\f0eb'}.fa-caret-left::before{content:'\\f0d9'}.fa-circle-exclamation::before{content:'\\f06a'}.fa-exclamation-circle::before{content:'\\f06a'}.fa-school-circle-xmark::before{content:'\\e56d'}.fa-arrow-right-from-bracket::before{content:'\\f08b'}.fa-sign-out::before{content:'\\f08b'}.fa-circle-chevron-down::before{content:'\\f13a'}.fa-chevron-circle-down::before{content:'\\f13a'}.fa-unlock-keyhole::before{content:'\\f13e'}.fa-unlock-alt::before{content:'\\f13e'}.fa-cloud-showers-heavy::before{content:'\\f740'}.fa-headphones-simple::before{content:'\\f58f'}.fa-headphones-alt::before{content:'\\f58f'}.fa-sitemap::before{content:'\\f0e8'}.fa-circle-dollar-to-slot::before{content:'\\f4b9'}.fa-donate::before{content:'\\f4b9'}.fa-memory::before{content:'\\f538'}.fa-road-spikes::before{content:'\\e568'}.fa-fire-burner::before{content:'\\e4f1'}.fa-flag::before{content:'\\f024'}.fa-hanukiah::before{content:'\\f6e6'}.fa-feather::before{content:'\\f52d'}.fa-volume-low::before{content:'\\f027'}.fa-volume-down::before{content:'\\f027'}.fa-comment-slash::before{content:'\\f4b3'}.fa-cloud-sun-rain::before{content:'\\f743'}.fa-compress::before{content:'\\f066'}.fa-wheat-awn::before{content:'\\e2cd'}.fa-wheat-alt::before{content:'\\e2cd'}.fa-ankh::before{content:'\\f644'}.fa-hands-holding-child::before{content:'\\e4fa'}.fa-asterisk::before{content:'\\2a'}.fa-square-check::before{content:'\\f14a'}.fa-check-square::before{content:'\\f14a'}.fa-peseta-sign::before{content:'\\e221'}.fa-heading::before{content:'\\f1dc'}.fa-header::before{content:'\\f1dc'}.fa-ghost::before{content:'\\f6e2'}.fa-list::before{content:'\\f03a'}.fa-list-squares::before{content:'\\f03a'}.fa-square-phone-flip::before{content:'\\f87b'}.fa-phone-square-alt::before{content:'\\f87b'}.fa-cart-plus::before{content:'\\f217'}.fa-gamepad::before{content:'\\f11b'}.fa-circle-dot::before{content:'\\f192'}.fa-dot-circle::before{content:'\\f192'}.fa-face-dizzy::before{content:'\\f567'}.fa-dizzy::before{content:'\\f567'}.fa-egg::before{content:'\\f7fb'}.fa-house-medical-circle-xmark::before{content:'\\e513'}.fa-campground::before{content:'\\f6bb'}.fa-folder-plus::before{content:'\\f65e'}.fa-futbol::before{content:'\\f1e3'}.fa-futbol-ball::before{content:'\\f1e3'}.fa-soccer-ball::before{content:'\\f1e3'}.fa-paintbrush::before{content:'\\f1fc'}.fa-paint-brush::before{content:'\\f1fc'}.fa-lock::before{content:'\\f023'}.fa-gas-pump::before{content:'\\f52f'}.fa-hot-tub-person::before{content:'\\f593'}.fa-hot-tub::before{content:'\\f593'}.fa-map-location::before{content:'\\f59f'}.fa-map-marked::before{content:'\\f59f'}.fa-house-flood-water::before{content:'\\e50e'}.fa-tree::before{content:'\\f1bb'}.fa-bridge-lock::before{content:'\\e4cc'}.fa-sack-dollar::before{content:'\\f81d'}.fa-pen-to-square::before{content:'\\f044'}.fa-edit::before{content:'\\f044'}.fa-car-side::before{content:'\\f5e4'}.fa-share-nodes::before{content:'\\f1e0'}.fa-share-alt::before{content:'\\f1e0'}.fa-heart-circle-minus::before{content:'\\e4ff'}.fa-hourglass-half::before{content:'\\f252'}.fa-hourglass-2::before{content:'\\f252'}.fa-microscope::before{content:'\\f610'}.fa-sink::before{content:'\\e06d'}.fa-bag-shopping::before{content:'\\f290'}.fa-shopping-bag::before{content:'\\f290'}.fa-arrow-down-z-a::before{content:'\\f881'}.fa-sort-alpha-desc::before{content:'\\f881'}.fa-sort-alpha-down-alt::before{content:'\\f881'}.fa-mitten::before{content:'\\f7b5'}.fa-person-rays::before{content:'\\e54d'}.fa-users::before{content:'\\f0c0'}.fa-eye-slash::before{content:'\\f070'}.fa-flask-vial::before{content:'\\e4f3'}.fa-hand::before{content:'\\f256'}.fa-hand-paper::before{content:'\\f256'}.fa-om::before{content:'\\f679'}.fa-worm::before{content:'\\e599'}.fa-house-circle-xmark::before{content:'\\e50b'}.fa-plug::before{content:'\\f1e6'}.fa-chevron-up::before{content:'\\f077'}.fa-hand-spock::before{content:'\\f259'}.fa-stopwatch::before{content:'\\f2f2'}.fa-face-kiss::before{content:'\\f596'}.fa-kiss::before{content:'\\f596'}.fa-bridge-circle-xmark::before{content:'\\e4cb'}.fa-face-grin-tongue::before{content:'\\f589'}.fa-grin-tongue::before{content:'\\f589'}.fa-chess-bishop::before{content:'\\f43a'}.fa-face-grin-wink::before{content:'\\f58c'}.fa-grin-wink::before{content:'\\f58c'}.fa-ear-deaf::before{content:'\\f2a4'}.fa-deaf::before{content:'\\f2a4'}.fa-deafness::before{content:'\\f2a4'}.fa-hard-of-hearing::before{content:'\\f2a4'}.fa-road-circle-check::before{content:'\\e564'}.fa-dice-five::before{content:'\\f523'}.fa-square-rss::before{content:'\\f143'}.fa-rss-square::before{content:'\\f143'}.fa-land-mine-on::before{content:'\\e51b'}.fa-i-cursor::before{content:'\\f246'}.fa-stamp::before{content:'\\f5bf'}.fa-stairs::before{content:'\\e289'}.fa-i::before{content:'\\49'}.fa-hryvnia-sign::before{content:'\\f6f2'}.fa-hryvnia::before{content:'\\f6f2'}.fa-pills::before{content:'\\f484'}.fa-face-grin-wide::before{content:'\\f581'}.fa-grin-alt::before{content:'\\f581'}.fa-tooth::before{content:'\\f5c9'}.fa-v::before{content:'\\56'}.fa-bangladeshi-taka-sign::before{content:'\\e2e6'}.fa-bicycle::before{content:'\\f206'}.fa-staff-snake::before{content:'\\e579'}.fa-rod-asclepius::before{content:'\\e579'}.fa-rod-snake::before{content:'\\e579'}.fa-staff-aesculapius::before{content:'\\e579'}.fa-head-side-cough-slash::before{content:'\\e062'}.fa-truck-medical::before{content:'\\f0f9'}.fa-ambulance::before{content:'\\f0f9'}.fa-wheat-awn-circle-exclamation::before{content:'\\e598'}.fa-snowman::before{content:'\\f7d0'}.fa-mortar-pestle::before{content:'\\f5a7'}.fa-road-barrier::before{content:'\\e562'}.fa-school::before{content:'\\f549'}.fa-igloo::before{content:'\\f7ae'}.fa-joint::before{content:'\\f595'}.fa-angle-right::before{content:'\\f105'}.fa-horse::before{content:'\\f6f0'}.fa-q::before{content:'\\51'}.fa-g::before{content:'\\47'}.fa-notes-medical::before{content:'\\f481'}.fa-temperature-half::before{content:'\\f2c9'}.fa-temperature-2::before{content:'\\f2c9'}.fa-thermometer-2::before{content:'\\f2c9'}.fa-thermometer-half::before{content:'\\f2c9'}.fa-dong-sign::before{content:'\\e169'}.fa-capsules::before{content:'\\f46b'}.fa-poo-storm::before{content:'\\f75a'}.fa-poo-bolt::before{content:'\\f75a'}.fa-face-frown-open::before{content:'\\f57a'}.fa-frown-open::before{content:'\\f57a'}.fa-hand-point-up::before{content:'\\f0a6'}.fa-money-bill::before{content:'\\f0d6'}.fa-bookmark::before{content:'\\f02e'}.fa-align-justify::before{content:'\\f039'}.fa-umbrella-beach::before{content:'\\f5ca'}.fa-helmet-un::before{content:'\\e503'}.fa-bullseye::before{content:'\\f140'}.fa-bacon::before{content:'\\f7e5'}.fa-hand-point-down::before{content:'\\f0a7'}.fa-arrow-up-from-bracket::before{content:'\\e09a'}.fa-folder::before{content:'\\f07b'}.fa-folder-blank::before{content:'\\f07b'}.fa-file-waveform::before{content:'\\f478'}.fa-file-medical-alt::before{content:'\\f478'}.fa-radiation::before{content:'\\f7b9'}.fa-chart-simple::before{content:'\\e473'}.fa-mars-stroke::before{content:'\\f229'}.fa-vial::before{content:'\\f492'}.fa-gauge::before{content:'\\f624'}.fa-dashboard::before{content:'\\f624'}.fa-gauge-med::before{content:'\\f624'}.fa-tachometer-alt-average::before{content:'\\f624'}.fa-wand-magic-sparkles::before{content:'\\e2ca'}.fa-magic-wand-sparkles::before{content:'\\e2ca'}.fa-e::before{content:'\\45'}.fa-pen-clip::before{content:'\\f305'}.fa-pen-alt::before{content:'\\f305'}.fa-bridge-circle-exclamation::before{content:'\\e4ca'}.fa-user::before{content:'\\f007'}.fa-school-circle-check::before{content:'\\e56b'}.fa-dumpster::before{content:'\\f793'}.fa-van-shuttle::before{content:'\\f5b6'}.fa-shuttle-van::before{content:'\\f5b6'}.fa-building-user::before{content:'\\e4da'}.fa-square-caret-left::before{content:'\\f191'}.fa-caret-square-left::before{content:'\\f191'}.fa-highlighter::before{content:'\\f591'}.fa-key::before{content:'\\f084'}.fa-bullhorn::before{content:'\\f0a1'}.fa-globe::before{content:'\\f0ac'}.fa-synagogue::before{content:'\\f69b'}.fa-person-half-dress::before{content:'\\e548'}.fa-road-bridge::before{content:'\\e563'}.fa-location-arrow::before{content:'\\f124'}.fa-c::before{content:'\\43'}.fa-tablet-button::before{content:'\\f10a'}.fa-building-lock::before{content:'\\e4d6'}.fa-pizza-slice::before{content:'\\f818'}.fa-money-bill-wave::before{content:'\\f53a'}.fa-chart-area::before{content:'\\f1fe'}.fa-area-chart::before{content:'\\f1fe'}.fa-house-flag::before{content:'\\e50d'}.fa-person-circle-minus::before{content:'\\e540'}.fa-ban::before{content:'\\f05e'}.fa-cancel::before{content:'\\f05e'}.fa-camera-rotate::before{content:'\\e0d8'}.fa-spray-can-sparkles::before{content:'\\f5d0'}.fa-air-freshener::before{content:'\\f5d0'}.fa-star::before{content:'\\f005'}.fa-repeat::before{content:'\\f363'}.fa-cross::before{content:'\\f654'}.fa-box::before{content:'\\f466'}.fa-venus-mars::before{content:'\\f228'}.fa-arrow-pointer::before{content:'\\f245'}.fa-mouse-pointer::before{content:'\\f245'}.fa-maximize::before{content:'\\f31e'}.fa-expand-arrows-alt::before{content:'\\f31e'}.fa-charging-station::before{content:'\\f5e7'}.fa-shapes::before{content:'\\f61f'}.fa-triangle-circle-square::before{content:'\\f61f'}.fa-shuffle::before{content:'\\f074'}.fa-random::before{content:'\\f074'}.fa-person-running::before{content:'\\f70c'}.fa-running::before{content:'\\f70c'}.fa-mobile-retro::before{content:'\\e527'}.fa-grip-lines-vertical::before{content:'\\f7a5'}.fa-spider::before{content:'\\f717'}.fa-hands-bound::before{content:'\\e4f9'}.fa-file-invoice-dollar::before{content:'\\f571'}.fa-plane-circle-exclamation::before{content:'\\e556'}.fa-x-ray::before{content:'\\f497'}.fa-spell-check::before{content:'\\f891'}.fa-slash::before{content:'\\f715'}.fa-computer-mouse::before{content:'\\f8cc'}.fa-mouse::before{content:'\\f8cc'}.fa-arrow-right-to-bracket::before{content:'\\f090'}.fa-sign-in::before{content:'\\f090'}.fa-shop-slash::before{content:'\\e070'}.fa-store-alt-slash::before{content:'\\e070'}.fa-server::before{content:'\\f233'}.fa-virus-covid-slash::before{content:'\\e4a9'}.fa-shop-lock::before{content:'\\e4a5'}.fa-hourglass-start::before{content:'\\f251'}.fa-hourglass-1::before{content:'\\f251'}.fa-blender-phone::before{content:'\\f6b6'}.fa-building-wheat::before{content:'\\e4db'}.fa-person-breastfeeding::before{content:'\\e53a'}.fa-right-to-bracket::before{content:'\\f2f6'}.fa-sign-in-alt::before{content:'\\f2f6'}.fa-venus::before{content:'\\f221'}.fa-passport::before{content:'\\f5ab'}.fa-thumbtack-slash::before{content:'\\e68f'}.fa-thumb-tack-slash::before{content:'\\e68f'}.fa-heart-pulse::before{content:'\\f21e'}.fa-heartbeat::before{content:'\\f21e'}.fa-people-carry-box::before{content:'\\f4ce'}.fa-people-carry::before{content:'\\f4ce'}.fa-temperature-high::before{content:'\\f769'}.fa-microchip::before{content:'\\f2db'}.fa-crown::before{content:'\\f521'}.fa-weight-hanging::before{content:'\\f5cd'}.fa-xmarks-lines::before{content:'\\e59a'}.fa-file-prescription::before{content:'\\f572'}.fa-weight-scale::before{content:'\\f496'}.fa-weight::before{content:'\\f496'}.fa-user-group::before{content:'\\f500'}.fa-user-friends::before{content:'\\f500'}.fa-arrow-up-a-z::before{content:'\\f15e'}.fa-sort-alpha-up::before{content:'\\f15e'}.fa-chess-knight::before{content:'\\f441'}.fa-face-laugh-squint::before{content:'\\f59b'}.fa-laugh-squint::before{content:'\\f59b'}.fa-wheelchair::before{content:'\\f193'}.fa-circle-arrow-up::before{content:'\\f0aa'}.fa-arrow-circle-up::before{content:'\\f0aa'}.fa-toggle-on::before{content:'\\f205'}.fa-person-walking::before{content:'\\f554'}.fa-walking::before{content:'\\f554'}.fa-l::before{content:'\\4c'}.fa-fire::before{content:'\\f06d'}.fa-bed-pulse::before{content:'\\f487'}.fa-procedures::before{content:'\\f487'}.fa-shuttle-space::before{content:'\\f197'}.fa-space-shuttle::before{content:'\\f197'}.fa-face-laugh::before{content:'\\f599'}.fa-laugh::before{content:'\\f599'}.fa-folder-open::before{content:'\\f07c'}.fa-heart-circle-plus::before{content:'\\e500'}.fa-code-fork::before{content:'\\e13b'}.fa-city::before{content:'\\f64f'}.fa-microphone-lines::before{content:'\\f3c9'}.fa-microphone-alt::before{content:'\\f3c9'}.fa-pepper-hot::before{content:'\\f816'}.fa-unlock::before{content:'\\f09c'}.fa-colon-sign::before{content:'\\e140'}.fa-headset::before{content:'\\f590'}.fa-store-slash::before{content:'\\e071'}.fa-road-circle-xmark::before{content:'\\e566'}.fa-user-minus::before{content:'\\f503'}.fa-mars-stroke-up::before{content:'\\f22a'}.fa-mars-stroke-v::before{content:'\\f22a'}.fa-champagne-glasses::before{content:'\\f79f'}.fa-glass-cheers::before{content:'\\f79f'}.fa-clipboard::before{content:'\\f328'}.fa-house-circle-exclamation::before{content:'\\e50a'}.fa-file-arrow-up::before{content:'\\f574'}.fa-file-upload::before{content:'\\f574'}.fa-wifi::before{content:'\\f1eb'}.fa-wifi-3::before{content:'\\f1eb'}.fa-wifi-strong::before{content:'\\f1eb'}.fa-bath::before{content:'\\f2cd'}.fa-bathtub::before{content:'\\f2cd'}.fa-underline::before{content:'\\f0cd'}.fa-user-pen::before{content:'\\f4ff'}.fa-user-edit::before{content:'\\f4ff'}.fa-signature::before{content:'\\f5b7'}.fa-stroopwafel::before{content:'\\f551'}.fa-bold::before{content:'\\f032'}.fa-anchor-lock::before{content:'\\e4ad'}.fa-building-ngo::before{content:'\\e4d7'}.fa-manat-sign::before{content:'\\e1d5'}.fa-not-equal::before{content:'\\f53e'}.fa-border-top-left::before{content:'\\f853'}.fa-border-style::before{content:'\\f853'}.fa-map-location-dot::before{content:'\\f5a0'}.fa-map-marked-alt::before{content:'\\f5a0'}.fa-jedi::before{content:'\\f669'}.fa-square-poll-vertical::before{content:'\\f681'}.fa-poll::before{content:'\\f681'}.fa-mug-hot::before{content:'\\f7b6'}.fa-car-battery::before{content:'\\f5df'}.fa-battery-car::before{content:'\\f5df'}.fa-gift::before{content:'\\f06b'}.fa-dice-two::before{content:'\\f528'}.fa-chess-queen::before{content:'\\f445'}.fa-glasses::before{content:'\\f530'}.fa-chess-board::before{content:'\\f43c'}.fa-building-circle-check::before{content:'\\e4d2'}.fa-person-chalkboard::before{content:'\\e53d'}.fa-mars-stroke-right::before{content:'\\f22b'}.fa-mars-stroke-h::before{content:'\\f22b'}.fa-hand-back-fist::before{content:'\\f255'}.fa-hand-rock::before{content:'\\f255'}.fa-square-caret-up::before{content:'\\f151'}.fa-caret-square-up::before{content:'\\f151'}.fa-cloud-showers-water::before{content:'\\e4e4'}.fa-chart-bar::before{content:'\\f080'}.fa-bar-chart::before{content:'\\f080'}.fa-hands-bubbles::before{content:'\\e05e'}.fa-hands-wash::before{content:'\\e05e'}.fa-less-than-equal::before{content:'\\f537'}.fa-train::before{content:'\\f238'}.fa-eye-low-vision::before{content:'\\f2a8'}.fa-low-vision::before{content:'\\f2a8'}.fa-crow::before{content:'\\f520'}.fa-sailboat::before{content:'\\e445'}.fa-window-restore::before{content:'\\f2d2'}.fa-square-plus::before{content:'\\f0fe'}.fa-plus-square::before{content:'\\f0fe'}.fa-torii-gate::before{content:'\\f6a1'}.fa-frog::before{content:'\\f52e'}.fa-bucket::before{content:'\\e4cf'}.fa-image::before{content:'\\f03e'}.fa-microphone::before{content:'\\f130'}.fa-cow::before{content:'\\f6c8'}.fa-caret-up::before{content:'\\f0d8'}.fa-screwdriver::before{content:'\\f54a'}.fa-folder-closed::before{content:'\\e185'}.fa-house-tsunami::before{content:'\\e515'}.fa-square-nfi::before{content:'\\e576'}.fa-arrow-up-from-ground-water::before{content:'\\e4b5'}.fa-martini-glass::before{content:'\\f57b'}.fa-glass-martini-alt::before{content:'\\f57b'}.fa-rotate-left::before{content:'\\f2ea'}.fa-rotate-back::before{content:'\\f2ea'}.fa-rotate-backward::before{content:'\\f2ea'}.fa-undo-alt::before{content:'\\f2ea'}.fa-table-columns::before{content:'\\f0db'}.fa-columns::before{content:'\\f0db'}.fa-lemon::before{content:'\\f094'}.fa-head-side-mask::before{content:'\\e063'}.fa-handshake::before{content:'\\f2b5'}.fa-gem::before{content:'\\f3a5'}.fa-dolly::before{content:'\\f472'}.fa-dolly-box::before{content:'\\f472'}.fa-smoking::before{content:'\\f48d'}.fa-minimize::before{content:'\\f78c'}.fa-compress-arrows-alt::before{content:'\\f78c'}.fa-monument::before{content:'\\f5a6'}.fa-snowplow::before{content:'\\f7d2'}.fa-angles-right::before{content:'\\f101'}.fa-angle-double-right::before{content:'\\f101'}.fa-cannabis::before{content:'\\f55f'}.fa-circle-play::before{content:'\\f144'}.fa-play-circle::before{content:'\\f144'}.fa-tablets::before{content:'\\f490'}.fa-ethernet::before{content:'\\f796'}.fa-euro-sign::before{content:'\\f153'}.fa-eur::before{content:'\\f153'}.fa-euro::before{content:'\\f153'}.fa-chair::before{content:'\\f6c0'}.fa-circle-check::before{content:'\\f058'}.fa-check-circle::before{content:'\\f058'}.fa-circle-stop::before{content:'\\f28d'}.fa-stop-circle::before{content:'\\f28d'}.fa-compass-drafting::before{content:'\\f568'}.fa-drafting-compass::before{content:'\\f568'}.fa-plate-wheat::before{content:'\\e55a'}.fa-icicles::before{content:'\\f7ad'}.fa-person-shelter::before{content:'\\e54f'}.fa-neuter::before{content:'\\f22c'}.fa-id-badge::before{content:'\\f2c1'}.fa-marker::before{content:'\\f5a1'}.fa-face-laugh-beam::before{content:'\\f59a'}.fa-laugh-beam::before{content:'\\f59a'}.fa-helicopter-symbol::before{content:'\\e502'}.fa-universal-access::before{content:'\\f29a'}.fa-circle-chevron-up::before{content:'\\f139'}.fa-chevron-circle-up::before{content:'\\f139'}.fa-lari-sign::before{content:'\\e1c8'}.fa-volcano::before{content:'\\f770'}.fa-person-walking-dashed-line-arrow-right::before{content:'\\e553'}.fa-sterling-sign::before{content:'\\f154'}.fa-gbp::before{content:'\\f154'}.fa-pound-sign::before{content:'\\f154'}.fa-viruses::before{content:'\\e076'}.fa-square-person-confined::before{content:'\\e577'}.fa-user-tie::before{content:'\\f508'}.fa-arrow-down-long::before{content:'\\f175'}.fa-long-arrow-down::before{content:'\\f175'}.fa-tent-arrow-down-to-line::before{content:'\\e57e'}.fa-certificate::before{content:'\\f0a3'}.fa-reply-all::before{content:'\\f122'}.fa-mail-reply-all::before{content:'\\f122'}.fa-suitcase::before{content:'\\f0f2'}.fa-person-skating::before{content:'\\f7c5'}.fa-skating::before{content:'\\f7c5'}.fa-filter-circle-dollar::before{content:'\\f662'}.fa-funnel-dollar::before{content:'\\f662'}.fa-camera-retro::before{content:'\\f083'}.fa-circle-arrow-down::before{content:'\\f0ab'}.fa-arrow-circle-down::before{content:'\\f0ab'}.fa-file-import::before{content:'\\f56f'}.fa-arrow-right-to-file::before{content:'\\f56f'}.fa-square-arrow-up-right::before{content:'\\f14c'}.fa-external-link-square::before{content:'\\f14c'}.fa-box-open::before{content:'\\f49e'}.fa-scroll::before{content:'\\f70e'}.fa-spa::before{content:'\\f5bb'}.fa-location-pin-lock::before{content:'\\e51f'}.fa-pause::before{content:'\\f04c'}.fa-hill-avalanche::before{content:'\\e507'}.fa-temperature-empty::before{content:'\\f2cb'}.fa-temperature-0::before{content:'\\f2cb'}.fa-thermometer-0::before{content:'\\f2cb'}.fa-thermometer-empty::before{content:'\\f2cb'}.fa-bomb::before{content:'\\f1e2'}.fa-registered::before{content:'\\f25d'}.fa-address-card::before{content:'\\f2bb'}.fa-contact-card::before{content:'\\f2bb'}.fa-vcard::before{content:'\\f2bb'}.fa-scale-unbalanced-flip::before{content:'\\f516'}.fa-balance-scale-right::before{content:'\\f516'}.fa-subscript::before{content:'\\f12c'}.fa-diamond-turn-right::before{content:'\\f5eb'}.fa-directions::before{content:'\\f5eb'}.fa-burst::before{content:'\\e4dc'}.fa-house-laptop::before{content:'\\e066'}.fa-laptop-house::before{content:'\\e066'}.fa-face-tired::before{content:'\\f5c8'}.fa-tired::before{content:'\\f5c8'}.fa-money-bills::before{content:'\\e1f3'}.fa-smog::before{content:'\\f75f'}.fa-crutch::before{content:'\\f7f7'}.fa-cloud-arrow-up::before{content:'\\f0ee'}.fa-cloud-upload::before{content:'\\f0ee'}.fa-cloud-upload-alt::before{content:'\\f0ee'}.fa-palette::before{content:'\\f53f'}.fa-arrows-turn-right::before{content:'\\e4c0'}.fa-vest::before{content:'\\e085'}.fa-ferry::before{content:'\\e4ea'}.fa-arrows-down-to-people::before{content:'\\e4b9'}.fa-seedling::before{content:'\\f4d8'}.fa-sprout::before{content:'\\f4d8'}.fa-left-right::before{content:'\\f337'}.fa-arrows-alt-h::before{content:'\\f337'}.fa-boxes-packing::before{content:'\\e4c7'}.fa-circle-arrow-left::before{content:'\\f0a8'}.fa-arrow-circle-left::before{content:'\\f0a8'}.fa-group-arrows-rotate::before{content:'\\e4f6'}.fa-bowl-food::before{content:'\\e4c6'}.fa-candy-cane::before{content:'\\f786'}.fa-arrow-down-wide-short::before{content:'\\f160'}.fa-sort-amount-asc::before{content:'\\f160'}.fa-sort-amount-down::before{content:'\\f160'}.fa-cloud-bolt::before{content:'\\f76c'}.fa-thunderstorm::before{content:'\\f76c'}.fa-text-slash::before{content:'\\f87d'}.fa-remove-format::before{content:'\\f87d'}.fa-face-smile-wink::before{content:'\\f4da'}.fa-smile-wink::before{content:'\\f4da'}.fa-file-word::before{content:'\\f1c2'}.fa-file-powerpoint::before{content:'\\f1c4'}.fa-arrows-left-right::before{content:'\\f07e'}.fa-arrows-h::before{content:'\\f07e'}.fa-house-lock::before{content:'\\e510'}.fa-cloud-arrow-down::before{content:'\\f0ed'}.fa-cloud-download::before{content:'\\f0ed'}.fa-cloud-download-alt::before{content:'\\f0ed'}.fa-children::before{content:'\\e4e1'}.fa-chalkboard::before{content:'\\f51b'}.fa-blackboard::before{content:'\\f51b'}.fa-user-large-slash::before{content:'\\f4fa'}.fa-user-alt-slash::before{content:'\\f4fa'}.fa-envelope-open::before{content:'\\f2b6'}.fa-handshake-simple-slash::before{content:'\\e05f'}.fa-handshake-alt-slash::before{content:'\\e05f'}.fa-mattress-pillow::before{content:'\\e525'}.fa-guarani-sign::before{content:'\\e19a'}.fa-arrows-rotate::before{content:'\\f021'}.fa-refresh::before{content:'\\f021'}.fa-sync::before{content:'\\f021'}.fa-fire-extinguisher::before{content:'\\f134'}.fa-cruzeiro-sign::before{content:'\\e152'}.fa-greater-than-equal::before{content:'\\f532'}.fa-shield-halved::before{content:'\\f3ed'}.fa-shield-alt::before{content:'\\f3ed'}.fa-book-atlas::before{content:'\\f558'}.fa-atlas::before{content:'\\f558'}.fa-virus::before{content:'\\e074'}.fa-envelope-circle-check::before{content:'\\e4e8'}.fa-layer-group::before{content:'\\f5fd'}.fa-arrows-to-dot::before{content:'\\e4be'}.fa-archway::before{content:'\\f557'}.fa-heart-circle-check::before{content:'\\e4fd'}.fa-house-chimney-crack::before{content:'\\f6f1'}.fa-house-damage::before{content:'\\f6f1'}.fa-file-zipper::before{content:'\\f1c6'}.fa-file-archive::before{content:'\\f1c6'}.fa-square::before{content:'\\f0c8'}.fa-martini-glass-empty::before{content:'\\f000'}.fa-glass-martini::before{content:'\\f000'}.fa-couch::before{content:'\\f4b8'}.fa-cedi-sign::before{content:'\\e0df'}.fa-italic::before{content:'\\f033'}.fa-table-cells-column-lock::before{content:'\\e678'}.fa-church::before{content:'\\f51d'}.fa-comments-dollar::before{content:'\\f653'}.fa-democrat::before{content:'\\f747'}.fa-z::before{content:'\\5a'}.fa-person-skiing::before{content:'\\f7c9'}.fa-skiing::before{content:'\\f7c9'}.fa-road-lock::before{content:'\\e567'}.fa-a::before{content:'\\41'}.fa-temperature-arrow-down::before{content:'\\e03f'}.fa-temperature-down::before{content:'\\e03f'}.fa-feather-pointed::before{content:'\\f56b'}.fa-feather-alt::before{content:'\\f56b'}.fa-p::before{content:'\\50'}.fa-snowflake::before{content:'\\f2dc'}.fa-newspaper::before{content:'\\f1ea'}.fa-rectangle-ad::before{content:'\\f641'}.fa-ad::before{content:'\\f641'}.fa-circle-arrow-right::before{content:'\\f0a9'}.fa-arrow-circle-right::before{content:'\\f0a9'}.fa-filter-circle-xmark::before{content:'\\e17b'}.fa-locust::before{content:'\\e520'}.fa-sort::before{content:'\\f0dc'}.fa-unsorted::before{content:'\\f0dc'}.fa-list-ol::before{content:'\\f0cb'}.fa-list-1-2::before{content:'\\f0cb'}.fa-list-numeric::before{content:'\\f0cb'}.fa-person-dress-burst::before{content:'\\e544'}.fa-money-check-dollar::before{content:'\\f53d'}.fa-money-check-alt::before{content:'\\f53d'}.fa-vector-square::before{content:'\\f5cb'}.fa-bread-slice::before{content:'\\f7ec'}.fa-language::before{content:'\\f1ab'}.fa-face-kiss-wink-heart::before{content:'\\f598'}.fa-kiss-wink-heart::before{content:'\\f598'}.fa-filter::before{content:'\\f0b0'}.fa-question::before{content:'\\3f'}.fa-file-signature::before{content:'\\f573'}.fa-up-down-left-right::before{content:'\\f0b2'}.fa-arrows-alt::before{content:'\\f0b2'}.fa-house-chimney-user::before{content:'\\e065'}.fa-hand-holding-heart::before{content:'\\f4be'}.fa-puzzle-piece::before{content:'\\f12e'}.fa-money-check::before{content:'\\f53c'}.fa-star-half-stroke::before{content:'\\f5c0'}.fa-star-half-alt::before{content:'\\f5c0'}.fa-code::before{content:'\\f121'}.fa-whiskey-glass::before{content:'\\f7a0'}.fa-glass-whiskey::before{content:'\\f7a0'}.fa-building-circle-exclamation::before{content:'\\e4d3'}.fa-magnifying-glass-chart::before{content:'\\e522'}.fa-arrow-up-right-from-square::before{content:'\\f08e'}.fa-external-link::before{content:'\\f08e'}.fa-cubes-stacked::before{content:'\\e4e6'}.fa-won-sign::before{content:'\\f159'}.fa-krw::before{content:'\\f159'}.fa-won::before{content:'\\f159'}.fa-virus-covid::before{content:'\\e4a8'}.fa-austral-sign::before{content:'\\e0a9'}.fa-f::before{content:'\\46'}.fa-leaf::before{content:'\\f06c'}.fa-road::before{content:'\\f018'}.fa-taxi::before{content:'\\f1ba'}.fa-cab::before{content:'\\f1ba'}.fa-person-circle-plus::before{content:'\\e541'}.fa-chart-pie::before{content:'\\f200'}.fa-pie-chart::before{content:'\\f200'}.fa-bolt-lightning::before{content:'\\e0b7'}.fa-sack-xmark::before{content:'\\e56a'}.fa-file-excel::before{content:'\\f1c3'}.fa-file-contract::before{content:'\\f56c'}.fa-fish-fins::before{content:'\\e4f2'}.fa-building-flag::before{content:'\\e4d5'}.fa-face-grin-beam::before{content:'\\f582'}.fa-grin-beam::before{content:'\\f582'}.fa-object-ungroup::before{content:'\\f248'}.fa-poop::before{content:'\\f619'}.fa-location-pin::before{content:'\\f041'}.fa-map-marker::before{content:'\\f041'}.fa-kaaba::before{content:'\\f66b'}.fa-toilet-paper::before{content:'\\f71e'}.fa-helmet-safety::before{content:'\\f807'}.fa-hard-hat::before{content:'\\f807'}.fa-hat-hard::before{content:'\\f807'}.fa-eject::before{content:'\\f052'}.fa-circle-right::before{content:'\\f35a'}.fa-arrow-alt-circle-right::before{content:'\\f35a'}.fa-plane-circle-check::before{content:'\\e555'}.fa-face-rolling-eyes::before{content:'\\f5a5'}.fa-meh-rolling-eyes::before{content:'\\f5a5'}.fa-object-group::before{content:'\\f247'}.fa-chart-line::before{content:'\\f201'}.fa-line-chart::before{content:'\\f201'}.fa-mask-ventilator::before{content:'\\e524'}.fa-arrow-right::before{content:'\\f061'}.fa-signs-post::before{content:'\\f277'}.fa-map-signs::before{content:'\\f277'}.fa-cash-register::before{content:'\\f788'}.fa-person-circle-question::before{content:'\\e542'}.fa-h::before{content:'\\48'}.fa-tarp::before{content:'\\e57b'}.fa-screwdriver-wrench::before{content:'\\f7d9'}.fa-tools::before{content:'\\f7d9'}.fa-arrows-to-eye::before{content:'\\e4bf'}.fa-plug-circle-bolt::before{content:'\\e55b'}.fa-heart::before{content:'\\f004'}.fa-mars-and-venus::before{content:'\\f224'}.fa-house-user::before{content:'\\e1b0'}.fa-home-user::before{content:'\\e1b0'}.fa-dumpster-fire::before{content:'\\f794'}.fa-house-crack::before{content:'\\e3b1'}.fa-martini-glass-citrus::before{content:'\\f561'}.fa-cocktail::before{content:'\\f561'}.fa-face-surprise::before{content:'\\f5c2'}.fa-surprise::before{content:'\\f5c2'}.fa-bottle-water::before{content:'\\e4c5'}.fa-circle-pause::before{content:'\\f28b'}.fa-pause-circle::before{content:'\\f28b'}.fa-toilet-paper-slash::before{content:'\\e072'}.fa-apple-whole::before{content:'\\f5d1'}.fa-apple-alt::before{content:'\\f5d1'}.fa-kitchen-set::before{content:'\\e51a'}.fa-r::before{content:'\\52'}.fa-temperature-quarter::before{content:'\\f2ca'}.fa-temperature-1::before{content:'\\f2ca'}.fa-thermometer-1::before{content:'\\f2ca'}.fa-thermometer-quarter::before{content:'\\f2ca'}.fa-cube::before{content:'\\f1b2'}.fa-bitcoin-sign::before{content:'\\e0b4'}.fa-shield-dog::before{content:'\\e573'}.fa-solar-panel::before{content:'\\f5ba'}.fa-lock-open::before{content:'\\f3c1'}.fa-elevator::before{content:'\\e16d'}.fa-money-bill-transfer::before{content:'\\e528'}.fa-money-bill-trend-up::before{content:'\\e529'}.fa-house-flood-water-circle-arrow-right::before{content:'\\e50f'}.fa-square-poll-horizontal::before{content:'\\f682'}.fa-poll-h::before{content:'\\f682'}.fa-circle::before{content:'\\f111'}.fa-backward-fast::before{content:'\\f049'}.fa-fast-backward::before{content:'\\f049'}.fa-recycle::before{content:'\\f1b8'}.fa-user-astronaut::before{content:'\\f4fb'}.fa-plane-slash::before{content:'\\e069'}.fa-trademark::before{content:'\\f25c'}.fa-basketball::before{content:'\\f434'}.fa-basketball-ball::before{content:'\\f434'}.fa-satellite-dish::before{content:'\\f7c0'}.fa-circle-up::before{content:'\\f35b'}.fa-arrow-alt-circle-up::before{content:'\\f35b'}.fa-mobile-screen-button::before{content:'\\f3cd'}.fa-mobile-alt::before{content:'\\f3cd'}.fa-volume-high::before{content:'\\f028'}.fa-volume-up::before{content:'\\f028'}.fa-users-rays::before{content:'\\e593'}.fa-wallet::before{content:'\\f555'}.fa-clipboard-check::before{content:'\\f46c'}.fa-file-audio::before{content:'\\f1c7'}.fa-burger::before{content:'\\f805'}.fa-hamburger::before{content:'\\f805'}.fa-wrench::before{content:'\\f0ad'}.fa-bugs::before{content:'\\e4d0'}.fa-rupee-sign::before{content:'\\f156'}.fa-rupee::before{content:'\\f156'}.fa-file-image::before{content:'\\f1c5'}.fa-circle-question::before{content:'\\f059'}.fa-question-circle::before{content:'\\f059'}.fa-plane-departure::before{content:'\\f5b0'}.fa-handshake-slash::before{content:'\\e060'}.fa-book-bookmark::before{content:'\\e0bb'}.fa-code-branch::before{content:'\\f126'}.fa-hat-cowboy::before{content:'\\f8c0'}.fa-bridge::before{content:'\\e4c8'}.fa-phone-flip::before{content:'\\f879'}.fa-phone-alt::before{content:'\\f879'}.fa-truck-front::before{content:'\\e2b7'}.fa-cat::before{content:'\\f6be'}.fa-anchor-circle-exclamation::before{content:'\\e4ab'}.fa-truck-field::before{content:'\\e58d'}.fa-route::before{content:'\\f4d7'}.fa-clipboard-question::before{content:'\\e4e3'}.fa-panorama::before{content:'\\e209'}.fa-comment-medical::before{content:'\\f7f5'}.fa-teeth-open::before{content:'\\f62f'}.fa-file-circle-minus::before{content:'\\e4ed'}.fa-tags::before{content:'\\f02c'}.fa-wine-glass::before{content:'\\f4e3'}.fa-forward-fast::before{content:'\\f050'}.fa-fast-forward::before{content:'\\f050'}.fa-face-meh-blank::before{content:'\\f5a4'}.fa-meh-blank::before{content:'\\f5a4'}.fa-square-parking::before{content:'\\f540'}.fa-parking::before{content:'\\f540'}.fa-house-signal::before{content:'\\e012'}.fa-bars-progress::before{content:'\\f828'}.fa-tasks-alt::before{content:'\\f828'}.fa-faucet-drip::before{content:'\\e006'}.fa-cart-flatbed::before{content:'\\f474'}.fa-dolly-flatbed::before{content:'\\f474'}.fa-ban-smoking::before{content:'\\f54d'}.fa-smoking-ban::before{content:'\\f54d'}.fa-terminal::before{content:'\\f120'}.fa-mobile-button::before{content:'\\f10b'}.fa-house-medical-flag::before{content:'\\e514'}.fa-basket-shopping::before{content:'\\f291'}.fa-shopping-basket::before{content:'\\f291'}.fa-tape::before{content:'\\f4db'}.fa-bus-simple::before{content:'\\f55e'}.fa-bus-alt::before{content:'\\f55e'}.fa-eye::before{content:'\\f06e'}.fa-face-sad-cry::before{content:'\\f5b3'}.fa-sad-cry::before{content:'\\f5b3'}.fa-audio-description::before{content:'\\f29e'}.fa-person-military-to-person::before{content:'\\e54c'}.fa-file-shield::before{content:'\\e4f0'}.fa-user-slash::before{content:'\\f506'}.fa-pen::before{content:'\\f304'}.fa-tower-observation::before{content:'\\e586'}.fa-file-code::before{content:'\\f1c9'}.fa-signal::before{content:'\\f012'}.fa-signal-5::before{content:'\\f012'}.fa-signal-perfect::before{content:'\\f012'}.fa-bus::before{content:'\\f207'}.fa-heart-circle-xmark::before{content:'\\e501'}.fa-house-chimney::before{content:'\\e3af'}.fa-home-lg::before{content:'\\e3af'}.fa-window-maximize::before{content:'\\f2d0'}.fa-face-frown::before{content:'\\f119'}.fa-frown::before{content:'\\f119'}.fa-prescription::before{content:'\\f5b1'}.fa-shop::before{content:'\\f54f'}.fa-store-alt::before{content:'\\f54f'}.fa-floppy-disk::before{content:'\\f0c7'}.fa-save::before{content:'\\f0c7'}.fa-vihara::before{content:'\\f6a7'}.fa-scale-unbalanced::before{content:'\\f515'}.fa-balance-scale-left::before{content:'\\f515'}.fa-sort-up::before{content:'\\f0de'}.fa-sort-asc::before{content:'\\f0de'}.fa-comment-dots::before{content:'\\f4ad'}.fa-commenting::before{content:'\\f4ad'}.fa-plant-wilt::before{content:'\\e5aa'}.fa-diamond::before{content:'\\f219'}.fa-face-grin-squint::before{content:'\\f585'}.fa-grin-squint::before{content:'\\f585'}.fa-hand-holding-dollar::before{content:'\\f4c0'}.fa-hand-holding-usd::before{content:'\\f4c0'}.fa-bacterium::before{content:'\\e05a'}.fa-hand-pointer::before{content:'\\f25a'}.fa-drum-steelpan::before{content:'\\f56a'}.fa-hand-scissors::before{content:'\\f257'}.fa-hands-praying::before{content:'\\f684'}.fa-praying-hands::before{content:'\\f684'}.fa-arrow-rotate-right::before{content:'\\f01e'}.fa-arrow-right-rotate::before{content:'\\f01e'}.fa-arrow-rotate-forward::before{content:'\\f01e'}.fa-redo::before{content:'\\f01e'}.fa-biohazard::before{content:'\\f780'}.fa-location-crosshairs::before{content:'\\f601'}.fa-location::before{content:'\\f601'}.fa-mars-double::before{content:'\\f227'}.fa-child-dress::before{content:'\\e59c'}.fa-users-between-lines::before{content:'\\e591'}.fa-lungs-virus::before{content:'\\e067'}.fa-face-grin-tears::before{content:'\\f588'}.fa-grin-tears::before{content:'\\f588'}.fa-phone::before{content:'\\f095'}.fa-calendar-xmark::before{content:'\\f273'}.fa-calendar-times::before{content:'\\f273'}.fa-child-reaching::before{content:'\\e59d'}.fa-head-side-virus::before{content:'\\e064'}.fa-user-gear::before{content:'\\f4fe'}.fa-user-cog::before{content:'\\f4fe'}.fa-arrow-up-1-9::before{content:'\\f163'}.fa-sort-numeric-up::before{content:'\\f163'}.fa-door-closed::before{content:'\\f52a'}.fa-shield-virus::before{content:'\\e06c'}.fa-dice-six::before{content:'\\f526'}.fa-mosquito-net::before{content:'\\e52c'}.fa-bridge-water::before{content:'\\e4ce'}.fa-person-booth::before{content:'\\f756'}.fa-text-width::before{content:'\\f035'}.fa-hat-wizard::before{content:'\\f6e8'}.fa-pen-fancy::before{content:'\\f5ac'}.fa-person-digging::before{content:'\\f85e'}.fa-digging::before{content:'\\f85e'}.fa-trash::before{content:'\\f1f8'}.fa-gauge-simple::before{content:'\\f629'}.fa-gauge-simple-med::before{content:'\\f629'}.fa-tachometer-average::before{content:'\\f629'}.fa-book-medical::before{content:'\\f7e6'}.fa-poo::before{content:'\\f2fe'}.fa-quote-right::before{content:'\\f10e'}.fa-quote-right-alt::before{content:'\\f10e'}.fa-shirt::before{content:'\\f553'}.fa-t-shirt::before{content:'\\f553'}.fa-tshirt::before{content:'\\f553'}.fa-cubes::before{content:'\\f1b3'}.fa-divide::before{content:'\\f529'}.fa-tenge-sign::before{content:'\\f7d7'}.fa-tenge::before{content:'\\f7d7'}.fa-headphones::before{content:'\\f025'}.fa-hands-holding::before{content:'\\f4c2'}.fa-hands-clapping::before{content:'\\e1a8'}.fa-republican::before{content:'\\f75e'}.fa-arrow-left::before{content:'\\f060'}.fa-person-circle-xmark::before{content:'\\e543'}.fa-ruler::before{content:'\\f545'}.fa-align-left::before{content:'\\f036'}.fa-dice-d6::before{content:'\\f6d1'}.fa-restroom::before{content:'\\f7bd'}.fa-j::before{content:'\\4a'}.fa-users-viewfinder::before{content:'\\e595'}.fa-file-video::before{content:'\\f1c8'}.fa-up-right-from-square::before{content:'\\f35d'}.fa-external-link-alt::before{content:'\\f35d'}.fa-table-cells::before{content:'\\f00a'}.fa-th::before{content:'\\f00a'}.fa-file-pdf::before{content:'\\f1c1'}.fa-book-bible::before{content:'\\f647'}.fa-bible::before{content:'\\f647'}.fa-o::before{content:'\\4f'}.fa-suitcase-medical::before{content:'\\f0fa'}.fa-medkit::before{content:'\\f0fa'}.fa-user-secret::before{content:'\\f21b'}.fa-otter::before{content:'\\f700'}.fa-person-dress::before{content:'\\f182'}.fa-female::before{content:'\\f182'}.fa-comment-dollar::before{content:'\\f651'}.fa-business-time::before{content:'\\f64a'}.fa-briefcase-clock::before{content:'\\f64a'}.fa-table-cells-large::before{content:'\\f009'}.fa-th-large::before{content:'\\f009'}.fa-book-tanakh::before{content:'\\f827'}.fa-tanakh::before{content:'\\f827'}.fa-phone-volume::before{content:'\\f2a0'}.fa-volume-control-phone::before{content:'\\f2a0'}.fa-hat-cowboy-side::before{content:'\\f8c1'}.fa-clipboard-user::before{content:'\\f7f3'}.fa-child::before{content:'\\f1ae'}.fa-lira-sign::before{content:'\\f195'}.fa-satellite::before{content:'\\f7bf'}.fa-plane-lock::before{content:'\\e558'}.fa-tag::before{content:'\\f02b'}.fa-comment::before{content:'\\f075'}.fa-cake-candles::before{content:'\\f1fd'}.fa-birthday-cake::before{content:'\\f1fd'}.fa-cake::before{content:'\\f1fd'}.fa-envelope::before{content:'\\f0e0'}.fa-angles-up::before{content:'\\f102'}.fa-angle-double-up::before{content:'\\f102'}.fa-paperclip::before{content:'\\f0c6'}.fa-arrow-right-to-city::before{content:'\\e4b3'}.fa-ribbon::before{content:'\\f4d6'}.fa-lungs::before{content:'\\f604'}.fa-arrow-up-9-1::before{content:'\\f887'}.fa-sort-numeric-up-alt::before{content:'\\f887'}.fa-litecoin-sign::before{content:'\\e1d3'}.fa-border-none::before{content:'\\f850'}.fa-circle-nodes::before{content:'\\e4e2'}.fa-parachute-box::before{content:'\\f4cd'}.fa-indent::before{content:'\\f03c'}.fa-truck-field-un::before{content:'\\e58e'}.fa-hourglass::before{content:'\\f254'}.fa-hourglass-empty::before{content:'\\f254'}.fa-mountain::before{content:'\\f6fc'}.fa-user-doctor::before{content:'\\f0f0'}.fa-user-md::before{content:'\\f0f0'}.fa-circle-info::before{content:'\\f05a'}.fa-info-circle::before{content:'\\f05a'}.fa-cloud-meatball::before{content:'\\f73b'}.fa-camera::before{content:'\\f030'}.fa-camera-alt::before{content:'\\f030'}.fa-square-virus::before{content:'\\e578'}.fa-meteor::before{content:'\\f753'}.fa-car-on::before{content:'\\e4dd'}.fa-sleigh::before{content:'\\f7cc'}.fa-arrow-down-1-9::before{content:'\\f162'}.fa-sort-numeric-asc::before{content:'\\f162'}.fa-sort-numeric-down::before{content:'\\f162'}.fa-hand-holding-droplet::before{content:'\\f4c1'}.fa-hand-holding-water::before{content:'\\f4c1'}.fa-water::before{content:'\\f773'}.fa-calendar-check::before{content:'\\f274'}.fa-braille::before{content:'\\f2a1'}.fa-prescription-bottle-medical::before{content:'\\f486'}.fa-prescription-bottle-alt::before{content:'\\f486'}.fa-landmark::before{content:'\\f66f'}.fa-truck::before{content:'\\f0d1'}.fa-crosshairs::before{content:'\\f05b'}.fa-person-cane::before{content:'\\e53c'}.fa-tent::before{content:'\\e57d'}.fa-vest-patches::before{content:'\\e086'}.fa-check-double::before{content:'\\f560'}.fa-arrow-down-a-z::before{content:'\\f15d'}.fa-sort-alpha-asc::before{content:'\\f15d'}.fa-sort-alpha-down::before{content:'\\f15d'}.fa-money-bill-wheat::before{content:'\\e52a'}.fa-cookie::before{content:'\\f563'}.fa-arrow-rotate-left::before{content:'\\f0e2'}.fa-arrow-left-rotate::before{content:'\\f0e2'}.fa-arrow-rotate-back::before{content:'\\f0e2'}.fa-arrow-rotate-backward::before{content:'\\f0e2'}.fa-undo::before{content:'\\f0e2'}.fa-hard-drive::before{content:'\\f0a0'}.fa-hdd::before{content:'\\f0a0'}.fa-face-grin-squint-tears::before{content:'\\f586'}.fa-grin-squint-tears::before{content:'\\f586'}.fa-dumbbell::before{content:'\\f44b'}.fa-rectangle-list::before{content:'\\f022'}.fa-list-alt::before{content:'\\f022'}.fa-tarp-droplet::before{content:'\\e57c'}.fa-house-medical-circle-check::before{content:'\\e511'}.fa-person-skiing-nordic::before{content:'\\f7ca'}.fa-skiing-nordic::before{content:'\\f7ca'}.fa-calendar-plus::before{content:'\\f271'}.fa-plane-arrival::before{content:'\\f5af'}.fa-circle-left::before{content:'\\f359'}.fa-arrow-alt-circle-left::before{content:'\\f359'}.fa-train-subway::before{content:'\\f239'}.fa-subway::before{content:'\\f239'}.fa-chart-gantt::before{content:'\\e0e4'}.fa-indian-rupee-sign::before{content:'\\e1bc'}.fa-indian-rupee::before{content:'\\e1bc'}.fa-inr::before{content:'\\e1bc'}.fa-crop-simple::before{content:'\\f565'}.fa-crop-alt::before{content:'\\f565'}.fa-money-bill-1::before{content:'\\f3d1'}.fa-money-bill-alt::before{content:'\\f3d1'}.fa-left-long::before{content:'\\f30a'}.fa-long-arrow-alt-left::before{content:'\\f30a'}.fa-dna::before{content:'\\f471'}.fa-virus-slash::before{content:'\\e075'}.fa-minus::before{content:'\\f068'}.fa-subtract::before{content:'\\f068'}.fa-chess::before{content:'\\f439'}.fa-arrow-left-long::before{content:'\\f177'}.fa-long-arrow-left::before{content:'\\f177'}.fa-plug-circle-check::before{content:'\\e55c'}.fa-street-view::before{content:'\\f21d'}.fa-franc-sign::before{content:'\\e18f'}.fa-volume-off::before{content:'\\f026'}.fa-hands-asl-interpreting::before{content:'\\f2a3'}.fa-american-sign-language-interpreting::before{content:'\\f2a3'}.fa-asl-interpreting::before{content:'\\f2a3'}.fa-hands-american-sign-language-interpreting::before{content:'\\f2a3'}.fa-gear::before{content:'\\f013'}.fa-cog::before{content:'\\f013'}.fa-droplet-slash::before{content:'\\f5c7'}.fa-tint-slash::before{content:'\\f5c7'}.fa-mosque::before{content:'\\f678'}.fa-mosquito::before{content:'\\e52b'}.fa-star-of-david::before{content:'\\f69a'}.fa-person-military-rifle::before{content:'\\e54b'}.fa-cart-shopping::before{content:'\\f07a'}.fa-shopping-cart::before{content:'\\f07a'}.fa-vials::before{content:'\\f493'}.fa-plug-circle-plus::before{content:'\\e55f'}.fa-place-of-worship::before{content:'\\f67f'}.fa-grip-vertical::before{content:'\\f58e'}.fa-arrow-turn-up::before{content:'\\f148'}.fa-level-up::before{content:'\\f148'}.fa-u::before{content:'\\55'}.fa-square-root-variable::before{content:'\\f698'}.fa-square-root-alt::before{content:'\\f698'}.fa-clock::before{content:'\\f017'}.fa-clock-four::before{content:'\\f017'}.fa-backward-step::before{content:'\\f048'}.fa-step-backward::before{content:'\\f048'}.fa-pallet::before{content:'\\f482'}.fa-faucet::before{content:'\\e005'}.fa-baseball-bat-ball::before{content:'\\f432'}.fa-s::before{content:'\\53'}.fa-timeline::before{content:'\\e29c'}.fa-keyboard::before{content:'\\f11c'}.fa-caret-down::before{content:'\\f0d7'}.fa-house-chimney-medical::before{content:'\\f7f2'}.fa-clinic-medical::before{content:'\\f7f2'}.fa-temperature-three-quarters::before{content:'\\f2c8'}.fa-temperature-3::before{content:'\\f2c8'}.fa-thermometer-3::before{content:'\\f2c8'}.fa-thermometer-three-quarters::before{content:'\\f2c8'}.fa-mobile-screen::before{content:'\\f3cf'}.fa-mobile-android-alt::before{content:'\\f3cf'}.fa-plane-up::before{content:'\\e22d'}.fa-piggy-bank::before{content:'\\f4d3'}.fa-battery-half::before{content:'\\f242'}.fa-battery-3::before{content:'\\f242'}.fa-mountain-city::before{content:'\\e52e'}.fa-coins::before{content:'\\f51e'}.fa-khanda::before{content:'\\f66d'}.fa-sliders::before{content:'\\f1de'}.fa-sliders-h::before{content:'\\f1de'}.fa-folder-tree::before{content:'\\f802'}.fa-network-wired::before{content:'\\f6ff'}.fa-map-pin::before{content:'\\f276'}.fa-hamsa::before{content:'\\f665'}.fa-cent-sign::before{content:'\\e3f5'}.fa-flask::before{content:'\\f0c3'}.fa-person-pregnant::before{content:'\\e31e'}.fa-wand-sparkles::before{content:'\\f72b'}.fa-ellipsis-vertical::before{content:'\\f142'}.fa-ellipsis-v::before{content:'\\f142'}.fa-ticket::before{content:'\\f145'}.fa-power-off::before{content:'\\f011'}.fa-right-long::before{content:'\\f30b'}.fa-long-arrow-alt-right::before{content:'\\f30b'}.fa-flag-usa::before{content:'\\f74d'}.fa-laptop-file::before{content:'\\e51d'}.fa-tty::before{content:'\\f1e4'}.fa-teletype::before{content:'\\f1e4'}.fa-diagram-next::before{content:'\\e476'}.fa-person-rifle::before{content:'\\e54e'}.fa-house-medical-circle-exclamation::before{content:'\\e512'}.fa-closed-captioning::before{content:'\\f20a'}.fa-person-hiking::before{content:'\\f6ec'}.fa-hiking::before{content:'\\f6ec'}.fa-venus-double::before{content:'\\f226'}.fa-images::before{content:'\\f302'}.fa-calculator::before{content:'\\f1ec'}.fa-people-pulling::before{content:'\\e535'}.fa-n::before{content:'\\4e'}.fa-cable-car::before{content:'\\f7da'}.fa-tram::before{content:'\\f7da'}.fa-cloud-rain::before{content:'\\f73d'}.fa-building-circle-xmark::before{content:'\\e4d4'}.fa-ship::before{content:'\\f21a'}.fa-arrows-down-to-line::before{content:'\\e4b8'}.fa-download::before{content:'\\f019'}.fa-face-grin::before{content:'\\f580'}.fa-grin::before{content:'\\f580'}.fa-delete-left::before{content:'\\f55a'}.fa-backspace::before{content:'\\f55a'}.fa-eye-dropper::before{content:'\\f1fb'}.fa-eye-dropper-empty::before{content:'\\f1fb'}.fa-eyedropper::before{content:'\\f1fb'}.fa-file-circle-check::before{content:'\\e5a0'}.fa-forward::before{content:'\\f04e'}.fa-mobile::before{content:'\\f3ce'}.fa-mobile-android::before{content:'\\f3ce'}.fa-mobile-phone::before{content:'\\f3ce'}.fa-face-meh::before{content:'\\f11a'}.fa-meh::before{content:'\\f11a'}.fa-align-center::before{content:'\\f037'}.fa-book-skull::before{content:'\\f6b7'}.fa-book-dead::before{content:'\\f6b7'}.fa-id-card::before{content:'\\f2c2'}.fa-drivers-license::before{content:'\\f2c2'}.fa-outdent::before{content:'\\f03b'}.fa-dedent::before{content:'\\f03b'}.fa-heart-circle-exclamation::before{content:'\\e4fe'}.fa-house::before{content:'\\f015'}.fa-home::before{content:'\\f015'}.fa-home-alt::before{content:'\\f015'}.fa-home-lg-alt::before{content:'\\f015'}.fa-calendar-week::before{content:'\\f784'}.fa-laptop-medical::before{content:'\\f812'}.fa-b::before{content:'\\42'}.fa-file-medical::before{content:'\\f477'}.fa-dice-one::before{content:'\\f525'}.fa-kiwi-bird::before{content:'\\f535'}.fa-arrow-right-arrow-left::before{content:'\\f0ec'}.fa-exchange::before{content:'\\f0ec'}.fa-rotate-right::before{content:'\\f2f9'}.fa-redo-alt::before{content:'\\f2f9'}.fa-rotate-forward::before{content:'\\f2f9'}.fa-utensils::before{content:'\\f2e7'}.fa-cutlery::before{content:'\\f2e7'}.fa-arrow-up-wide-short::before{content:'\\f161'}.fa-sort-amount-up::before{content:'\\f161'}.fa-mill-sign::before{content:'\\e1ed'}.fa-bowl-rice::before{content:'\\e2eb'}.fa-skull::before{content:'\\f54c'}.fa-tower-broadcast::before{content:'\\f519'}.fa-broadcast-tower::before{content:'\\f519'}.fa-truck-pickup::before{content:'\\f63c'}.fa-up-long::before{content:'\\f30c'}.fa-long-arrow-alt-up::before{content:'\\f30c'}.fa-stop::before{content:'\\f04d'}.fa-code-merge::before{content:'\\f387'}.fa-upload::before{content:'\\f093'}.fa-hurricane::before{content:'\\f751'}.fa-mound::before{content:'\\e52d'}.fa-toilet-portable::before{content:'\\e583'}.fa-compact-disc::before{content:'\\f51f'}.fa-file-arrow-down::before{content:'\\f56d'}.fa-file-download::before{content:'\\f56d'}.fa-caravan::before{content:'\\f8ff'}.fa-shield-cat::before{content:'\\e572'}.fa-bolt::before{content:'\\f0e7'}.fa-zap::before{content:'\\f0e7'}.fa-glass-water::before{content:'\\e4f4'}.fa-oil-well::before{content:'\\e532'}.fa-vault::before{content:'\\e2c5'}.fa-mars::before{content:'\\f222'}.fa-toilet::before{content:'\\f7d8'}.fa-plane-circle-xmark::before{content:'\\e557'}.fa-yen-sign::before{content:'\\f157'}.fa-cny::before{content:'\\f157'}.fa-jpy::before{content:'\\f157'}.fa-rmb::before{content:'\\f157'}.fa-yen::before{content:'\\f157'}.fa-ruble-sign::before{content:'\\f158'}.fa-rouble::before{content:'\\f158'}.fa-rub::before{content:'\\f158'}.fa-ruble::before{content:'\\f158'}.fa-sun::before{content:'\\f185'}.fa-guitar::before{content:'\\f7a6'}.fa-face-laugh-wink::before{content:'\\f59c'}.fa-laugh-wink::before{content:'\\f59c'}.fa-horse-head::before{content:'\\f7ab'}.fa-bore-hole::before{content:'\\e4c3'}.fa-industry::before{content:'\\f275'}.fa-circle-down::before{content:'\\f358'}.fa-arrow-alt-circle-down::before{content:'\\f358'}.fa-arrows-turn-to-dots::before{content:'\\e4c1'}.fa-florin-sign::before{content:'\\e184'}.fa-arrow-down-short-wide::before{content:'\\f884'}.fa-sort-amount-desc::before{content:'\\f884'}.fa-sort-amount-down-alt::before{content:'\\f884'}.fa-less-than::before{content:'\\3c'}.fa-angle-down::before{content:'\\f107'}.fa-car-tunnel::before{content:'\\e4de'}.fa-head-side-cough::before{content:'\\e061'}.fa-grip-lines::before{content:'\\f7a4'}.fa-thumbs-down::before{content:'\\f165'}.fa-user-lock::before{content:'\\f502'}.fa-arrow-right-long::before{content:'\\f178'}.fa-long-arrow-right::before{content:'\\f178'}.fa-anchor-circle-xmark::before{content:'\\e4ac'}.fa-ellipsis::before{content:'\\f141'}.fa-ellipsis-h::before{content:'\\f141'}.fa-chess-pawn::before{content:'\\f443'}.fa-kit-medical::before{content:'\\f479'}.fa-first-aid::before{content:'\\f479'}.fa-person-through-window::before{content:'\\e5a9'}.fa-toolbox::before{content:'\\f552'}.fa-hands-holding-circle::before{content:'\\e4fb'}.fa-bug::before{content:'\\f188'}.fa-credit-card::before{content:'\\f09d'}.fa-credit-card-alt::before{content:'\\f09d'}.fa-car::before{content:'\\f1b9'}.fa-automobile::before{content:'\\f1b9'}.fa-hand-holding-hand::before{content:'\\e4f7'}.fa-book-open-reader::before{content:'\\f5da'}.fa-book-reader::before{content:'\\f5da'}.fa-mountain-sun::before{content:'\\e52f'}.fa-arrows-left-right-to-line::before{content:'\\e4ba'}.fa-dice-d20::before{content:'\\f6cf'}.fa-truck-droplet::before{content:'\\e58c'}.fa-file-circle-xmark::before{content:'\\e5a1'}.fa-temperature-arrow-up::before{content:'\\e040'}.fa-temperature-up::before{content:'\\e040'}.fa-medal::before{content:'\\f5a2'}.fa-bed::before{content:'\\f236'}.fa-square-h::before{content:'\\f0fd'}.fa-h-square::before{content:'\\f0fd'}.fa-podcast::before{content:'\\f2ce'}.fa-temperature-full::before{content:'\\f2c7'}.fa-temperature-4::before{content:'\\f2c7'}.fa-thermometer-4::before{content:'\\f2c7'}.fa-thermometer-full::before{content:'\\f2c7'}.fa-bell::before{content:'\\f0f3'}.fa-superscript::before{content:'\\f12b'}.fa-plug-circle-xmark::before{content:'\\e560'}.fa-star-of-life::before{content:'\\f621'}.fa-phone-slash::before{content:'\\f3dd'}.fa-paint-roller::before{content:'\\f5aa'}.fa-handshake-angle::before{content:'\\f4c4'}.fa-hands-helping::before{content:'\\f4c4'}.fa-location-dot::before{content:'\\f3c5'}.fa-map-marker-alt::before{content:'\\f3c5'}.fa-file::before{content:'\\f15b'}.fa-greater-than::before{content:'\\3e'}.fa-person-swimming::before{content:'\\f5c4'}.fa-swimmer::before{content:'\\f5c4'}.fa-arrow-down::before{content:'\\f063'}.fa-droplet::before{content:'\\f043'}.fa-tint::before{content:'\\f043'}.fa-eraser::before{content:'\\f12d'}.fa-earth-americas::before{content:'\\f57d'}.fa-earth::before{content:'\\f57d'}.fa-earth-america::before{content:'\\f57d'}.fa-globe-americas::before{content:'\\f57d'}.fa-person-burst::before{content:'\\e53b'}.fa-dove::before{content:'\\f4ba'}.fa-battery-empty::before{content:'\\f244'}.fa-battery-0::before{content:'\\f244'}.fa-socks::before{content:'\\f696'}.fa-inbox::before{content:'\\f01c'}.fa-section::before{content:'\\e447'}.fa-gauge-high::before{content:'\\f625'}.fa-tachometer-alt::before{content:'\\f625'}.fa-tachometer-alt-fast::before{content:'\\f625'}.fa-envelope-open-text::before{content:'\\f658'}.fa-hospital::before{content:'\\f0f8'}.fa-hospital-alt::before{content:'\\f0f8'}.fa-hospital-wide::before{content:'\\f0f8'}.fa-wine-bottle::before{content:'\\f72f'}.fa-chess-rook::before{content:'\\f447'}.fa-bars-staggered::before{content:'\\f550'}.fa-reorder::before{content:'\\f550'}.fa-stream::before{content:'\\f550'}.fa-dharmachakra::before{content:'\\f655'}.fa-hotdog::before{content:'\\f80f'}.fa-person-walking-with-cane::before{content:'\\f29d'}.fa-blind::before{content:'\\f29d'}.fa-drum::before{content:'\\f569'}.fa-ice-cream::before{content:'\\f810'}.fa-heart-circle-bolt::before{content:'\\e4fc'}.fa-fax::before{content:'\\f1ac'}.fa-paragraph::before{content:'\\f1dd'}.fa-check-to-slot::before{content:'\\f772'}.fa-vote-yea::before{content:'\\f772'}.fa-star-half::before{content:'\\f089'}.fa-boxes-stacked::before{content:'\\f468'}.fa-boxes::before{content:'\\f468'}.fa-boxes-alt::before{content:'\\f468'}.fa-link::before{content:'\\f0c1'}.fa-chain::before{content:'\\f0c1'}.fa-ear-listen::before{content:'\\f2a2'}.fa-assistive-listening-systems::before{content:'\\f2a2'}.fa-tree-city::before{content:'\\e587'}.fa-play::before{content:'\\f04b'}.fa-font::before{content:'\\f031'}.fa-table-cells-row-lock::before{content:'\\e67a'}.fa-rupiah-sign::before{content:'\\e23d'}.fa-magnifying-glass::before{content:'\\f002'}.fa-search::before{content:'\\f002'}.fa-table-tennis-paddle-ball::before{content:'\\f45d'}.fa-ping-pong-paddle-ball::before{content:'\\f45d'}.fa-table-tennis::before{content:'\\f45d'}.fa-person-dots-from-line::before{content:'\\f470'}.fa-diagnoses::before{content:'\\f470'}.fa-trash-can-arrow-up::before{content:'\\f82a'}.fa-trash-restore-alt::before{content:'\\f82a'}.fa-naira-sign::before{content:'\\e1f6'}.fa-cart-arrow-down::before{content:'\\f218'}.fa-walkie-talkie::before{content:'\\f8ef'}.fa-file-pen::before{content:'\\f31c'}.fa-file-edit::before{content:'\\f31c'}.fa-receipt::before{content:'\\f543'}.fa-square-pen::before{content:'\\f14b'}.fa-pen-square::before{content:'\\f14b'}.fa-pencil-square::before{content:'\\f14b'}.fa-suitcase-rolling::before{content:'\\f5c1'}.fa-person-circle-exclamation::before{content:'\\e53f'}.fa-chevron-down::before{content:'\\f078'}.fa-battery-full::before{content:'\\f240'}.fa-battery::before{content:'\\f240'}.fa-battery-5::before{content:'\\f240'}.fa-skull-crossbones::before{content:'\\f714'}.fa-code-compare::before{content:'\\e13a'}.fa-list-ul::before{content:'\\f0ca'}.fa-list-dots::before{content:'\\f0ca'}.fa-school-lock::before{content:'\\e56f'}.fa-tower-cell::before{content:'\\e585'}.fa-down-long::before{content:'\\f309'}.fa-long-arrow-alt-down::before{content:'\\f309'}.fa-ranking-star::before{content:'\\e561'}.fa-chess-king::before{content:'\\f43f'}.fa-person-harassing::before{content:'\\e549'}.fa-brazilian-real-sign::before{content:'\\e46c'}.fa-landmark-dome::before{content:'\\f752'}.fa-landmark-alt::before{content:'\\f752'}.fa-arrow-up::before{content:'\\f062'}.fa-tv::before{content:'\\f26c'}.fa-television::before{content:'\\f26c'}.fa-tv-alt::before{content:'\\f26c'}.fa-shrimp::before{content:'\\e448'}.fa-list-check::before{content:'\\f0ae'}.fa-tasks::before{content:'\\f0ae'}.fa-jug-detergent::before{content:'\\e519'}.fa-circle-user::before{content:'\\f2bd'}.fa-user-circle::before{content:'\\f2bd'}.fa-user-shield::before{content:'\\f505'}.fa-wind::before{content:'\\f72e'}.fa-car-burst::before{content:'\\f5e1'}.fa-car-crash::before{content:'\\f5e1'}.fa-y::before{content:'\\59'}.fa-person-snowboarding::before{content:'\\f7ce'}.fa-snowboarding::before{content:'\\f7ce'}.fa-truck-fast::before{content:'\\f48b'}.fa-shipping-fast::before{content:'\\f48b'}.fa-fish::before{content:'\\f578'}.fa-user-graduate::before{content:'\\f501'}.fa-circle-half-stroke::before{content:'\\f042'}.fa-adjust::before{content:'\\f042'}.fa-clapperboard::before{content:'\\e131'}.fa-circle-radiation::before{content:'\\f7ba'}.fa-radiation-alt::before{content:'\\f7ba'}.fa-baseball::before{content:'\\f433'}.fa-baseball-ball::before{content:'\\f433'}.fa-jet-fighter-up::before{content:'\\e518'}.fa-diagram-project::before{content:'\\f542'}.fa-project-diagram::before{content:'\\f542'}.fa-copy::before{content:'\\f0c5'}.fa-volume-xmark::before{content:'\\f6a9'}.fa-volume-mute::before{content:'\\f6a9'}.fa-volume-times::before{content:'\\f6a9'}.fa-hand-sparkles::before{content:'\\e05d'}.fa-grip::before{content:'\\f58d'}.fa-grip-horizontal::before{content:'\\f58d'}.fa-share-from-square::before{content:'\\f14d'}.fa-share-square::before{content:'\\f14d'}.fa-child-combatant::before{content:'\\e4e0'}.fa-child-rifle::before{content:'\\e4e0'}.fa-gun::before{content:'\\e19b'}.fa-square-phone::before{content:'\\f098'}.fa-phone-square::before{content:'\\f098'}.fa-plus::before{content:'\\2b'}.fa-add::before{content:'\\2b'}.fa-expand::before{content:'\\f065'}.fa-computer::before{content:'\\e4e5'}.fa-xmark::before{content:'\\f00d'}.fa-close::before{content:'\\f00d'}.fa-multiply::before{content:'\\f00d'}.fa-remove::before{content:'\\f00d'}.fa-times::before{content:'\\f00d'}.fa-arrows-up-down-left-right::before{content:'\\f047'}.fa-arrows::before{content:'\\f047'}.fa-chalkboard-user::before{content:'\\f51c'}.fa-chalkboard-teacher::before{content:'\\f51c'}.fa-peso-sign::before{content:'\\e222'}.fa-building-shield::before{content:'\\e4d8'}.fa-baby::before{content:'\\f77c'}.fa-users-line::before{content:'\\e592'}.fa-quote-left::before{content:'\\f10d'}.fa-quote-left-alt::before{content:'\\f10d'}.fa-tractor::before{content:'\\f722'}.fa-trash-arrow-up::before{content:'\\f829'}.fa-trash-restore::before{content:'\\f829'}.fa-arrow-down-up-lock::before{content:'\\e4b0'}.fa-lines-leaning::before{content:'\\e51e'}.fa-ruler-combined::before{content:'\\f546'}.fa-copyright::before{content:'\\f1f9'}.fa-equals::before{content:'\\3d'}.fa-blender::before{content:'\\f517'}.fa-teeth::before{content:'\\f62e'}.fa-shekel-sign::before{content:'\\f20b'}.fa-ils::before{content:'\\f20b'}.fa-shekel::before{content:'\\f20b'}.fa-sheqel::before{content:'\\f20b'}.fa-sheqel-sign::before{content:'\\f20b'}.fa-map::before{content:'\\f279'}.fa-rocket::before{content:'\\f135'}.fa-photo-film::before{content:'\\f87c'}.fa-photo-video::before{content:'\\f87c'}.fa-folder-minus::before{content:'\\f65d'}.fa-store::before{content:'\\f54e'}.fa-arrow-trend-up::before{content:'\\e098'}.fa-plug-circle-minus::before{content:'\\e55e'}.fa-sign-hanging::before{content:'\\f4d9'}.fa-sign::before{content:'\\f4d9'}.fa-bezier-curve::before{content:'\\f55b'}.fa-bell-slash::before{content:'\\f1f6'}.fa-tablet::before{content:'\\f3fb'}.fa-tablet-android::before{content:'\\f3fb'}.fa-school-flag::before{content:'\\e56e'}.fa-fill::before{content:'\\f575'}.fa-angle-up::before{content:'\\f106'}.fa-drumstick-bite::before{content:'\\f6d7'}.fa-holly-berry::before{content:'\\f7aa'}.fa-chevron-left::before{content:'\\f053'}.fa-bacteria::before{content:'\\e059'}.fa-hand-lizard::before{content:'\\f258'}.fa-notdef::before{content:'\\e1fe'}.fa-disease::before{content:'\\f7fa'}.fa-briefcase-medical::before{content:'\\f469'}.fa-genderless::before{content:'\\f22d'}.fa-chevron-right::before{content:'\\f054'}.fa-retweet::before{content:'\\f079'}.fa-car-rear::before{content:'\\f5de'}.fa-car-alt::before{content:'\\f5de'}.fa-pump-soap::before{content:'\\e06b'}.fa-video-slash::before{content:'\\f4e2'}.fa-battery-quarter::before{content:'\\f243'}.fa-battery-2::before{content:'\\f243'}.fa-radio::before{content:'\\f8d7'}.fa-baby-carriage::before{content:'\\f77d'}.fa-carriage-baby::before{content:'\\f77d'}.fa-traffic-light::before{content:'\\f637'}.fa-thermometer::before{content:'\\f491'}.fa-vr-cardboard::before{content:'\\f729'}.fa-hand-middle-finger::before{content:'\\f806'}.fa-percent::before{content:'\\25'}.fa-percentage::before{content:'\\25'}.fa-truck-moving::before{content:'\\f4df'}.fa-glass-water-droplet::before{content:'\\e4f5'}.fa-display::before{content:'\\e163'}.fa-face-smile::before{content:'\\f118'}.fa-smile::before{content:'\\f118'}.fa-thumbtack::before{content:'\\f08d'}.fa-thumb-tack::before{content:'\\f08d'}.fa-trophy::before{content:'\\f091'}.fa-person-praying::before{content:'\\f683'}.fa-pray::before{content:'\\f683'}.fa-hammer::before{content:'\\f6e3'}.fa-hand-peace::before{content:'\\f25b'}.fa-rotate::before{content:'\\f2f1'}.fa-sync-alt::before{content:'\\f2f1'}.fa-spinner::before{content:'\\f110'}.fa-robot::before{content:'\\f544'}.fa-peace::before{content:'\\f67c'}.fa-gears::before{content:'\\f085'}.fa-cogs::before{content:'\\f085'}.fa-warehouse::before{content:'\\f494'}.fa-arrow-up-right-dots::before{content:'\\e4b7'}.fa-splotch::before{content:'\\f5bc'}.fa-face-grin-hearts::before{content:'\\f584'}.fa-grin-hearts::before{content:'\\f584'}.fa-dice-four::before{content:'\\f524'}.fa-sim-card::before{content:'\\f7c4'}.fa-transgender::before{content:'\\f225'}.fa-transgender-alt::before{content:'\\f225'}.fa-mercury::before{content:'\\f223'}.fa-arrow-turn-down::before{content:'\\f149'}.fa-level-down::before{content:'\\f149'}.fa-person-falling-burst::before{content:'\\e547'}.fa-award::before{content:'\\f559'}.fa-ticket-simple::before{content:'\\f3ff'}.fa-ticket-alt::before{content:'\\f3ff'}.fa-building::before{content:'\\f1ad'}.fa-angles-left::before{content:'\\f100'}.fa-angle-double-left::before{content:'\\f100'}.fa-qrcode::before{content:'\\f029'}.fa-clock-rotate-left::before{content:'\\f1da'}.fa-history::before{content:'\\f1da'}.fa-face-grin-beam-sweat::before{content:'\\f583'}.fa-grin-beam-sweat::before{content:'\\f583'}.fa-file-export::before{content:'\\f56e'}.fa-arrow-right-from-file::before{content:'\\f56e'}.fa-shield::before{content:'\\f132'}.fa-shield-blank::before{content:'\\f132'}.fa-arrow-up-short-wide::before{content:'\\f885'}.fa-sort-amount-up-alt::before{content:'\\f885'}.fa-house-medical::before{content:'\\e3b2'}.fa-golf-ball-tee::before{content:'\\f450'}.fa-golf-ball::before{content:'\\f450'}.fa-circle-chevron-left::before{content:'\\f137'}.fa-chevron-circle-left::before{content:'\\f137'}.fa-house-chimney-window::before{content:'\\e00d'}.fa-pen-nib::before{content:'\\f5ad'}.fa-tent-arrow-turn-left::before{content:'\\e580'}.fa-tents::before{content:'\\e582'}.fa-wand-magic::before{content:'\\f0d0'}.fa-magic::before{content:'\\f0d0'}.fa-dog::before{content:'\\f6d3'}.fa-carrot::before{content:'\\f787'}.fa-moon::before{content:'\\f186'}.fa-wine-glass-empty::before{content:'\\f5ce'}.fa-wine-glass-alt::before{content:'\\f5ce'}.fa-cheese::before{content:'\\f7ef'}.fa-yin-yang::before{content:'\\f6ad'}.fa-music::before{content:'\\f001'}.fa-code-commit::before{content:'\\f386'}.fa-temperature-low::before{content:'\\f76b'}.fa-person-biking::before{content:'\\f84a'}.fa-biking::before{content:'\\f84a'}.fa-broom::before{content:'\\f51a'}.fa-shield-heart::before{content:'\\e574'}.fa-gopuram::before{content:'\\f664'}.fa-earth-oceania::before{content:'\\e47b'}.fa-globe-oceania::before{content:'\\e47b'}.fa-square-xmark::before{content:'\\f2d3'}.fa-times-square::before{content:'\\f2d3'}.fa-xmark-square::before{content:'\\f2d3'}.fa-hashtag::before{content:'\\23'}.fa-up-right-and-down-left-from-center::before{content:'\\f424'}.fa-expand-alt::before{content:'\\f424'}.fa-oil-can::before{content:'\\f613'}.fa-t::before{content:'\\54'}.fa-hippo::before{content:'\\f6ed'}.fa-chart-column::before{content:'\\e0e3'}.fa-infinity::before{content:'\\f534'}.fa-vial-circle-check::before{content:'\\e596'}.fa-person-arrow-down-to-line::before{content:'\\e538'}.fa-voicemail::before{content:'\\f897'}.fa-fan::before{content:'\\f863'}.fa-person-walking-luggage::before{content:'\\e554'}.fa-up-down::before{content:'\\f338'}.fa-arrows-alt-v::before{content:'\\f338'}.fa-cloud-moon-rain::before{content:'\\f73c'}.fa-calendar::before{content:'\\f133'}.fa-trailer::before{content:'\\e041'}.fa-bahai::before{content:'\\f666'}.fa-haykal::before{content:'\\f666'}.fa-sd-card::before{content:'\\f7c2'}.fa-dragon::before{content:'\\f6d5'}.fa-shoe-prints::before{content:'\\f54b'}.fa-circle-plus::before{content:'\\f055'}.fa-plus-circle::before{content:'\\f055'}.fa-face-grin-tongue-wink::before{content:'\\f58b'}.fa-grin-tongue-wink::before{content:'\\f58b'}.fa-hand-holding::before{content:'\\f4bd'}.fa-plug-circle-exclamation::before{content:'\\e55d'}.fa-link-slash::before{content:'\\f127'}.fa-chain-broken::before{content:'\\f127'}.fa-chain-slash::before{content:'\\f127'}.fa-unlink::before{content:'\\f127'}.fa-clone::before{content:'\\f24d'}.fa-person-walking-arrow-loop-left::before{content:'\\e551'}.fa-arrow-up-z-a::before{content:'\\f882'}.fa-sort-alpha-up-alt::before{content:'\\f882'}.fa-fire-flame-curved::before{content:'\\f7e4'}.fa-fire-alt::before{content:'\\f7e4'}.fa-tornado::before{content:'\\f76f'}.fa-file-circle-plus::before{content:'\\e494'}.fa-book-quran::before{content:'\\f687'}.fa-quran::before{content:'\\f687'}.fa-anchor::before{content:'\\f13d'}.fa-border-all::before{content:'\\f84c'}.fa-face-angry::before{content:'\\f556'}.fa-angry::before{content:'\\f556'}.fa-cookie-bite::before{content:'\\f564'}.fa-arrow-trend-down::before{content:'\\e097'}.fa-rss::before{content:'\\f09e'}.fa-feed::before{content:'\\f09e'}.fa-draw-polygon::before{content:'\\f5ee'}.fa-scale-balanced::before{content:'\\f24e'}.fa-balance-scale::before{content:'\\f24e'}.fa-gauge-simple-high::before{content:'\\f62a'}.fa-tachometer::before{content:'\\f62a'}.fa-tachometer-fast::before{content:'\\f62a'}.fa-shower::before{content:'\\f2cc'}.fa-desktop::before{content:'\\f390'}.fa-desktop-alt::before{content:'\\f390'}.fa-m::before{content:'\\4d'}.fa-table-list::before{content:'\\f00b'}.fa-th-list::before{content:'\\f00b'}.fa-comment-sms::before{content:'\\f7cd'}.fa-sms::before{content:'\\f7cd'}.fa-book::before{content:'\\f02d'}.fa-user-plus::before{content:'\\f234'}.fa-check::before{content:'\\f00c'}.fa-battery-three-quarters::before{content:'\\f241'}.fa-battery-4::before{content:'\\f241'}.fa-house-circle-check::before{content:'\\e509'}.fa-angle-left::before{content:'\\f104'}.fa-diagram-successor::before{content:'\\e47a'}.fa-truck-arrow-right::before{content:'\\e58b'}.fa-arrows-split-up-and-left::before{content:'\\e4bc'}.fa-hand-fist::before{content:'\\f6de'}.fa-fist-raised::before{content:'\\f6de'}.fa-cloud-moon::before{content:'\\f6c3'}.fa-briefcase::before{content:'\\f0b1'}.fa-person-falling::before{content:'\\e546'}.fa-image-portrait::before{content:'\\f3e0'}.fa-portrait::before{content:'\\f3e0'}.fa-user-tag::before{content:'\\f507'}.fa-rug::before{content:'\\e569'}.fa-earth-europe::before{content:'\\f7a2'}.fa-globe-europe::before{content:'\\f7a2'}.fa-cart-flatbed-suitcase::before{content:'\\f59d'}.fa-luggage-cart::before{content:'\\f59d'}.fa-rectangle-xmark::before{content:'\\f410'}.fa-rectangle-times::before{content:'\\f410'}.fa-times-rectangle::before{content:'\\f410'}.fa-window-close::before{content:'\\f410'}.fa-baht-sign::before{content:'\\e0ac'}.fa-book-open::before{content:'\\f518'}.fa-book-journal-whills::before{content:'\\f66a'}.fa-journal-whills::before{content:'\\f66a'}.fa-handcuffs::before{content:'\\e4f8'}.fa-triangle-exclamation::before{content:'\\f071'}.fa-exclamation-triangle::before{content:'\\f071'}.fa-warning::before{content:'\\f071'}.fa-database::before{content:'\\f1c0'}.fa-share::before{content:'\\f064'}.fa-mail-forward::before{content:'\\f064'}.fa-bottle-droplet::before{content:'\\e4c4'}.fa-mask-face::before{content:'\\e1d7'}.fa-hill-rockslide::before{content:'\\e508'}.fa-right-left::before{content:'\\f362'}.fa-exchange-alt::before{content:'\\f362'}.fa-paper-plane::before{content:'\\f1d8'}.fa-road-circle-exclamation::before{content:'\\e565'}.fa-dungeon::before{content:'\\f6d9'}.fa-align-right::before{content:'\\f038'}.fa-money-bill-1-wave::before{content:'\\f53b'}.fa-money-bill-wave-alt::before{content:'\\f53b'}.fa-life-ring::before{content:'\\f1cd'}.fa-hands::before{content:'\\f2a7'}.fa-sign-language::before{content:'\\f2a7'}.fa-signing::before{content:'\\f2a7'}.fa-calendar-day::before{content:'\\f783'}.fa-water-ladder::before{content:'\\f5c5'}.fa-ladder-water::before{content:'\\f5c5'}.fa-swimming-pool::before{content:'\\f5c5'}.fa-arrows-up-down::before{content:'\\f07d'}.fa-arrows-v::before{content:'\\f07d'}.fa-face-grimace::before{content:'\\f57f'}.fa-grimace::before{content:'\\f57f'}.fa-wheelchair-move::before{content:'\\e2ce'}.fa-wheelchair-alt::before{content:'\\e2ce'}.fa-turn-down::before{content:'\\f3be'}.fa-level-down-alt::before{content:'\\f3be'}.fa-person-walking-arrow-right::before{content:'\\e552'}.fa-square-envelope::before{content:'\\f199'}.fa-envelope-square::before{content:'\\f199'}.fa-dice::before{content:'\\f522'}.fa-bowling-ball::before{content:'\\f436'}.fa-brain::before{content:'\\f5dc'}.fa-bandage::before{content:'\\f462'}.fa-band-aid::before{content:'\\f462'}.fa-calendar-minus::before{content:'\\f272'}.fa-circle-xmark::before{content:'\\f057'}.fa-times-circle::before{content:'\\f057'}.fa-xmark-circle::before{content:'\\f057'}.fa-gifts::before{content:'\\f79c'}.fa-hotel::before{content:'\\f594'}.fa-earth-asia::before{content:'\\f57e'}.fa-globe-asia::before{content:'\\f57e'}.fa-id-card-clip::before{content:'\\f47f'}.fa-id-card-alt::before{content:'\\f47f'}.fa-magnifying-glass-plus::before{content:'\\f00e'}.fa-search-plus::before{content:'\\f00e'}.fa-thumbs-up::before{content:'\\f164'}.fa-user-clock::before{content:'\\f4fd'}.fa-hand-dots::before{content:'\\f461'}.fa-allergies::before{content:'\\f461'}.fa-file-invoice::before{content:'\\f570'}.fa-window-minimize::before{content:'\\f2d1'}.fa-mug-saucer::before{content:'\\f0f4'}.fa-coffee::before{content:'\\f0f4'}.fa-brush::before{content:'\\f55d'}.fa-mask::before{content:'\\f6fa'}.fa-magnifying-glass-minus::before{content:'\\f010'}.fa-search-minus::before{content:'\\f010'}.fa-ruler-vertical::before{content:'\\f548'}.fa-user-large::before{content:'\\f406'}.fa-user-alt::before{content:'\\f406'}.fa-train-tram::before{content:'\\e5b4'}.fa-user-nurse::before{content:'\\f82f'}.fa-syringe::before{content:'\\f48e'}.fa-cloud-sun::before{content:'\\f6c4'}.fa-stopwatch-20::before{content:'\\e06f'}.fa-square-full::before{content:'\\f45c'}.fa-magnet::before{content:'\\f076'}.fa-jar::before{content:'\\e516'}.fa-note-sticky::before{content:'\\f249'}.fa-sticky-note::before{content:'\\f249'}.fa-bug-slash::before{content:'\\e490'}.fa-arrow-up-from-water-pump::before{content:'\\e4b6'}.fa-bone::before{content:'\\f5d7'}.fa-table-cells-row-unlock::before{content:'\\e691'}.fa-user-injured::before{content:'\\f728'}.fa-face-sad-tear::before{content:'\\f5b4'}.fa-sad-tear::before{content:'\\f5b4'}.fa-plane::before{content:'\\f072'}.fa-tent-arrows-down::before{content:'\\e581'}.fa-exclamation::before{content:'\\21'}.fa-arrows-spin::before{content:'\\e4bb'}.fa-print::before{content:'\\f02f'}.fa-turkish-lira-sign::before{content:'\\e2bb'}.fa-try::before{content:'\\e2bb'}.fa-turkish-lira::before{content:'\\e2bb'}.fa-dollar-sign::before{content:'\\24'}.fa-dollar::before{content:'\\24'}.fa-usd::before{content:'\\24'}.fa-x::before{content:'\\58'}.fa-magnifying-glass-dollar::before{content:'\\f688'}.fa-search-dollar::before{content:'\\f688'}.fa-users-gear::before{content:'\\f509'}.fa-users-cog::before{content:'\\f509'}.fa-person-military-pointing::before{content:'\\e54a'}.fa-building-columns::before{content:'\\f19c'}.fa-bank::before{content:'\\f19c'}.fa-institution::before{content:'\\f19c'}.fa-museum::before{content:'\\f19c'}.fa-university::before{content:'\\f19c'}.fa-umbrella::before{content:'\\f0e9'}.fa-trowel::before{content:'\\e589'}.fa-d::before{content:'\\44'}.fa-stapler::before{content:'\\e5af'}.fa-masks-theater::before{content:'\\f630'}.fa-theater-masks::before{content:'\\f630'}.fa-kip-sign::before{content:'\\e1c4'}.fa-hand-point-left::before{content:'\\f0a5'}.fa-handshake-simple::before{content:'\\f4c6'}.fa-handshake-alt::before{content:'\\f4c6'}.fa-jet-fighter::before{content:'\\f0fb'}.fa-fighter-jet::before{content:'\\f0fb'}.fa-square-share-nodes::before{content:'\\f1e1'}.fa-share-alt-square::before{content:'\\f1e1'}.fa-barcode::before{content:'\\f02a'}.fa-plus-minus::before{content:'\\e43c'}.fa-video::before{content:'\\f03d'}.fa-video-camera::before{content:'\\f03d'}.fa-graduation-cap::before{content:'\\f19d'}.fa-mortar-board::before{content:'\\f19d'}.fa-hand-holding-medical::before{content:'\\e05c'}.fa-person-circle-check::before{content:'\\e53e'}.fa-turn-up::before{content:'\\f3bf'}.fa-level-up-alt::before{content:'\\f3bf'}.fa-sr-only,.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.fa-sr-only-focusable:not(:focus),.sr-only-focusable:not(:focus){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host,:root{--fa-style-family-brands:'Font Awesome 6 Brands';--fa-font-brands:normal 400 1em/1 'Font Awesome 6 Brands'}@font-face{font-family:'Font Awesome 6 Brands';font-style:normal;font-weight:400;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.ttf) format('truetype')}.fa-brands,.fab{font-weight:400}.fa-monero:before{content:'\\f3d0'}.fa-hooli:before{content:'\\f427'}.fa-yelp:before{content:'\\f1e9'}.fa-cc-visa:before{content:'\\f1f0'}.fa-lastfm:before{content:'\\f202'}.fa-shopware:before{content:'\\f5b5'}.fa-creative-commons-nc:before{content:'\\f4e8'}.fa-aws:before{content:'\\f375'}.fa-redhat:before{content:'\\f7bc'}.fa-yoast:before{content:'\\f2b1'}.fa-cloudflare:before{content:'\\e07d'}.fa-ups:before{content:'\\f7e0'}.fa-pixiv:before{content:'\\e640'}.fa-wpexplorer:before{content:'\\f2de'}.fa-dyalog:before{content:'\\f399'}.fa-bity:before{content:'\\f37a'}.fa-stackpath:before{content:'\\f842'}.fa-buysellads:before{content:'\\f20d'}.fa-first-order:before{content:'\\f2b0'}.fa-modx:before{content:'\\f285'}.fa-guilded:before{content:'\\e07e'}.fa-vnv:before{content:'\\f40b'}.fa-square-js:before{content:'\\f3b9'}.fa-js-square:before{content:'\\f3b9'}.fa-microsoft:before{content:'\\f3ca'}.fa-qq:before{content:'\\f1d6'}.fa-orcid:before{content:'\\f8d2'}.fa-java:before{content:'\\f4e4'}.fa-invision:before{content:'\\f7b0'}.fa-creative-commons-pd-alt:before{content:'\\f4ed'}.fa-centercode:before{content:'\\f380'}.fa-glide-g:before{content:'\\f2a6'}.fa-drupal:before{content:'\\f1a9'}.fa-jxl:before{content:'\\e67b'}.fa-dart-lang:before{content:'\\e693'}.fa-hire-a-helper:before{content:'\\f3b0'}.fa-creative-commons-by:before{content:'\\f4e7'}.fa-unity:before{content:'\\e049'}.fa-whmcs:before{content:'\\f40d'}.fa-rocketchat:before{content:'\\f3e8'}.fa-vk:before{content:'\\f189'}.fa-untappd:before{content:'\\f405'}.fa-mailchimp:before{content:'\\f59e'}.fa-css3-alt:before{content:'\\f38b'}.fa-square-reddit:before{content:'\\f1a2'}.fa-reddit-square:before{content:'\\f1a2'}.fa-vimeo-v:before{content:'\\f27d'}.fa-contao:before{content:'\\f26d'}.fa-square-font-awesome:before{content:'\\e5ad'}.fa-deskpro:before{content:'\\f38f'}.fa-brave:before{content:'\\e63c'}.fa-sistrix:before{content:'\\f3ee'}.fa-square-instagram:before{content:'\\e055'}.fa-instagram-square:before{content:'\\e055'}.fa-battle-net:before{content:'\\f835'}.fa-the-red-yeti:before{content:'\\f69d'}.fa-square-hacker-news:before{content:'\\f3af'}.fa-hacker-news-square:before{content:'\\f3af'}.fa-edge:before{content:'\\f282'}.fa-threads:before{content:'\\e618'}.fa-napster:before{content:'\\f3d2'}.fa-square-snapchat:before{content:'\\f2ad'}.fa-snapchat-square:before{content:'\\f2ad'}.fa-google-plus-g:before{content:'\\f0d5'}.fa-artstation:before{content:'\\f77a'}.fa-markdown:before{content:'\\f60f'}.fa-sourcetree:before{content:'\\f7d3'}.fa-google-plus:before{content:'\\f2b3'}.fa-diaspora:before{content:'\\f791'}.fa-foursquare:before{content:'\\f180'}.fa-stack-overflow:before{content:'\\f16c'}.fa-github-alt:before{content:'\\f113'}.fa-phoenix-squadron:before{content:'\\f511'}.fa-pagelines:before{content:'\\f18c'}.fa-algolia:before{content:'\\f36c'}.fa-red-river:before{content:'\\f3e3'}.fa-creative-commons-sa:before{content:'\\f4ef'}.fa-safari:before{content:'\\f267'}.fa-google:before{content:'\\f1a0'}.fa-square-font-awesome-stroke:before{content:'\\f35c'}.fa-font-awesome-alt:before{content:'\\f35c'}.fa-atlassian:before{content:'\\f77b'}.fa-linkedin-in:before{content:'\\f0e1'}.fa-digital-ocean:before{content:'\\f391'}.fa-nimblr:before{content:'\\f5a8'}.fa-chromecast:before{content:'\\f838'}.fa-evernote:before{content:'\\f839'}.fa-hacker-news:before{content:'\\f1d4'}.fa-creative-commons-sampling:before{content:'\\f4f0'}.fa-adversal:before{content:'\\f36a'}.fa-creative-commons:before{content:'\\f25e'}.fa-watchman-monitoring:before{content:'\\e087'}.fa-fonticons:before{content:'\\f280'}.fa-weixin:before{content:'\\f1d7'}.fa-shirtsinbulk:before{content:'\\f214'}.fa-codepen:before{content:'\\f1cb'}.fa-git-alt:before{content:'\\f841'}.fa-lyft:before{content:'\\f3c3'}.fa-rev:before{content:'\\f5b2'}.fa-windows:before{content:'\\f17a'}.fa-wizards-of-the-coast:before{content:'\\f730'}.fa-square-viadeo:before{content:'\\f2aa'}.fa-viadeo-square:before{content:'\\f2aa'}.fa-meetup:before{content:'\\f2e0'}.fa-centos:before{content:'\\f789'}.fa-adn:before{content:'\\f170'}.fa-cloudsmith:before{content:'\\f384'}.fa-opensuse:before{content:'\\e62b'}.fa-pied-piper-alt:before{content:'\\f1a8'}.fa-square-dribbble:before{content:'\\f397'}.fa-dribbble-square:before{content:'\\f397'}.fa-codiepie:before{content:'\\f284'}.fa-node:before{content:'\\f419'}.fa-mix:before{content:'\\f3cb'}.fa-steam:before{content:'\\f1b6'}.fa-cc-apple-pay:before{content:'\\f416'}.fa-scribd:before{content:'\\f28a'}.fa-debian:before{content:'\\e60b'}.fa-openid:before{content:'\\f19b'}.fa-instalod:before{content:'\\e081'}.fa-expeditedssl:before{content:'\\f23e'}.fa-sellcast:before{content:'\\f2da'}.fa-square-twitter:before{content:'\\f081'}.fa-twitter-square:before{content:'\\f081'}.fa-r-project:before{content:'\\f4f7'}.fa-delicious:before{content:'\\f1a5'}.fa-freebsd:before{content:'\\f3a4'}.fa-vuejs:before{content:'\\f41f'}.fa-accusoft:before{content:'\\f369'}.fa-ioxhost:before{content:'\\f208'}.fa-fonticons-fi:before{content:'\\f3a2'}.fa-app-store:before{content:'\\f36f'}.fa-cc-mastercard:before{content:'\\f1f1'}.fa-itunes-note:before{content:'\\f3b5'}.fa-golang:before{content:'\\e40f'}.fa-kickstarter:before{content:'\\f3bb'}.fa-square-kickstarter:before{content:'\\f3bb'}.fa-grav:before{content:'\\f2d6'}.fa-weibo:before{content:'\\f18a'}.fa-uncharted:before{content:'\\e084'}.fa-firstdraft:before{content:'\\f3a1'}.fa-square-youtube:before{content:'\\f431'}.fa-youtube-square:before{content:'\\f431'}.fa-wikipedia-w:before{content:'\\f266'}.fa-wpressr:before{content:'\\f3e4'}.fa-rendact:before{content:'\\f3e4'}.fa-angellist:before{content:'\\f209'}.fa-galactic-republic:before{content:'\\f50c'}.fa-nfc-directional:before{content:'\\e530'}.fa-skype:before{content:'\\f17e'}.fa-joget:before{content:'\\f3b7'}.fa-fedora:before{content:'\\f798'}.fa-stripe-s:before{content:'\\f42a'}.fa-meta:before{content:'\\e49b'}.fa-laravel:before{content:'\\f3bd'}.fa-hotjar:before{content:'\\f3b1'}.fa-bluetooth-b:before{content:'\\f294'}.fa-square-letterboxd:before{content:'\\e62e'}.fa-sticker-mule:before{content:'\\f3f7'}.fa-creative-commons-zero:before{content:'\\f4f3'}.fa-hips:before{content:'\\f452'}.fa-behance:before{content:'\\f1b4'}.fa-reddit:before{content:'\\f1a1'}.fa-discord:before{content:'\\f392'}.fa-chrome:before{content:'\\f268'}.fa-app-store-ios:before{content:'\\f370'}.fa-cc-discover:before{content:'\\f1f2'}.fa-wpbeginner:before{content:'\\f297'}.fa-confluence:before{content:'\\f78d'}.fa-shoelace:before{content:'\\e60c'}.fa-mdb:before{content:'\\f8ca'}.fa-dochub:before{content:'\\f394'}.fa-accessible-icon:before{content:'\\f368'}.fa-ebay:before{content:'\\f4f4'}.fa-amazon:before{content:'\\f270'}.fa-unsplash:before{content:'\\e07c'}.fa-yarn:before{content:'\\f7e3'}.fa-square-steam:before{content:'\\f1b7'}.fa-steam-square:before{content:'\\f1b7'}.fa-500px:before{content:'\\f26e'}.fa-square-vimeo:before{content:'\\f194'}.fa-vimeo-square:before{content:'\\f194'}.fa-asymmetrik:before{content:'\\f372'}.fa-font-awesome:before{content:'\\f2b4'}.fa-font-awesome-flag:before{content:'\\f2b4'}.fa-font-awesome-logo-full:before{content:'\\f2b4'}.fa-gratipay:before{content:'\\f184'}.fa-apple:before{content:'\\f179'}.fa-hive:before{content:'\\e07f'}.fa-gitkraken:before{content:'\\f3a6'}.fa-keybase:before{content:'\\f4f5'}.fa-apple-pay:before{content:'\\f415'}.fa-padlet:before{content:'\\e4a0'}.fa-amazon-pay:before{content:'\\f42c'}.fa-square-github:before{content:'\\f092'}.fa-github-square:before{content:'\\f092'}.fa-stumbleupon:before{content:'\\f1a4'}.fa-fedex:before{content:'\\f797'}.fa-phoenix-framework:before{content:'\\f3dc'}.fa-shopify:before{content:'\\e057'}.fa-neos:before{content:'\\f612'}.fa-square-threads:before{content:'\\e619'}.fa-hackerrank:before{content:'\\f5f7'}.fa-researchgate:before{content:'\\f4f8'}.fa-swift:before{content:'\\f8e1'}.fa-angular:before{content:'\\f420'}.fa-speakap:before{content:'\\f3f3'}.fa-angrycreative:before{content:'\\f36e'}.fa-y-combinator:before{content:'\\f23b'}.fa-empire:before{content:'\\f1d1'}.fa-envira:before{content:'\\f299'}.fa-google-scholar:before{content:'\\e63b'}.fa-square-gitlab:before{content:'\\e5ae'}.fa-gitlab-square:before{content:'\\e5ae'}.fa-studiovinari:before{content:'\\f3f8'}.fa-pied-piper:before{content:'\\f2ae'}.fa-wordpress:before{content:'\\f19a'}.fa-product-hunt:before{content:'\\f288'}.fa-firefox:before{content:'\\f269'}.fa-linode:before{content:'\\f2b8'}.fa-goodreads:before{content:'\\f3a8'}.fa-square-odnoklassniki:before{content:'\\f264'}.fa-odnoklassniki-square:before{content:'\\f264'}.fa-jsfiddle:before{content:'\\f1cc'}.fa-sith:before{content:'\\f512'}.fa-themeisle:before{content:'\\f2b2'}.fa-page4:before{content:'\\f3d7'}.fa-hashnode:before{content:'\\e499'}.fa-react:before{content:'\\f41b'}.fa-cc-paypal:before{content:'\\f1f4'}.fa-squarespace:before{content:'\\f5be'}.fa-cc-stripe:before{content:'\\f1f5'}.fa-creative-commons-share:before{content:'\\f4f2'}.fa-bitcoin:before{content:'\\f379'}.fa-keycdn:before{content:'\\f3ba'}.fa-opera:before{content:'\\f26a'}.fa-itch-io:before{content:'\\f83a'}.fa-umbraco:before{content:'\\f8e8'}.fa-galactic-senate:before{content:'\\f50d'}.fa-ubuntu:before{content:'\\f7df'}.fa-draft2digital:before{content:'\\f396'}.fa-stripe:before{content:'\\f429'}.fa-houzz:before{content:'\\f27c'}.fa-gg:before{content:'\\f260'}.fa-dhl:before{content:'\\f790'}.fa-square-pinterest:before{content:'\\f0d3'}.fa-pinterest-square:before{content:'\\f0d3'}.fa-xing:before{content:'\\f168'}.fa-blackberry:before{content:'\\f37b'}.fa-creative-commons-pd:before{content:'\\f4ec'}.fa-playstation:before{content:'\\f3df'}.fa-quinscape:before{content:'\\f459'}.fa-less:before{content:'\\f41d'}.fa-blogger-b:before{content:'\\f37d'}.fa-opencart:before{content:'\\f23d'}.fa-vine:before{content:'\\f1ca'}.fa-signal-messenger:before{content:'\\e663'}.fa-paypal:before{content:'\\f1ed'}.fa-gitlab:before{content:'\\f296'}.fa-typo3:before{content:'\\f42b'}.fa-reddit-alien:before{content:'\\f281'}.fa-yahoo:before{content:'\\f19e'}.fa-dailymotion:before{content:'\\e052'}.fa-affiliatetheme:before{content:'\\f36b'}.fa-pied-piper-pp:before{content:'\\f1a7'}.fa-bootstrap:before{content:'\\f836'}.fa-odnoklassniki:before{content:'\\f263'}.fa-nfc-symbol:before{content:'\\e531'}.fa-mintbit:before{content:'\\e62f'}.fa-ethereum:before{content:'\\f42e'}.fa-speaker-deck:before{content:'\\f83c'}.fa-creative-commons-nc-eu:before{content:'\\f4e9'}.fa-patreon:before{content:'\\f3d9'}.fa-avianex:before{content:'\\f374'}.fa-ello:before{content:'\\f5f1'}.fa-gofore:before{content:'\\f3a7'}.fa-bimobject:before{content:'\\f378'}.fa-brave-reverse:before{content:'\\e63d'}.fa-facebook-f:before{content:'\\f39e'}.fa-square-google-plus:before{content:'\\f0d4'}.fa-google-plus-square:before{content:'\\f0d4'}.fa-web-awesome:before{content:'\\e682'}.fa-mandalorian:before{content:'\\f50f'}.fa-first-order-alt:before{content:'\\f50a'}.fa-osi:before{content:'\\f41a'}.fa-google-wallet:before{content:'\\f1ee'}.fa-d-and-d-beyond:before{content:'\\f6ca'}.fa-periscope:before{content:'\\f3da'}.fa-fulcrum:before{content:'\\f50b'}.fa-cloudscale:before{content:'\\f383'}.fa-forumbee:before{content:'\\f211'}.fa-mizuni:before{content:'\\f3cc'}.fa-schlix:before{content:'\\f3ea'}.fa-square-xing:before{content:'\\f169'}.fa-xing-square:before{content:'\\f169'}.fa-bandcamp:before{content:'\\f2d5'}.fa-wpforms:before{content:'\\f298'}.fa-cloudversify:before{content:'\\f385'}.fa-usps:before{content:'\\f7e1'}.fa-megaport:before{content:'\\f5a3'}.fa-magento:before{content:'\\f3c4'}.fa-spotify:before{content:'\\f1bc'}.fa-optin-monster:before{content:'\\f23c'}.fa-fly:before{content:'\\f417'}.fa-aviato:before{content:'\\f421'}.fa-itunes:before{content:'\\f3b4'}.fa-cuttlefish:before{content:'\\f38c'}.fa-blogger:before{content:'\\f37c'}.fa-flickr:before{content:'\\f16e'}.fa-viber:before{content:'\\f409'}.fa-soundcloud:before{content:'\\f1be'}.fa-digg:before{content:'\\f1a6'}.fa-tencent-weibo:before{content:'\\f1d5'}.fa-letterboxd:before{content:'\\e62d'}.fa-symfony:before{content:'\\f83d'}.fa-maxcdn:before{content:'\\f136'}.fa-etsy:before{content:'\\f2d7'}.fa-facebook-messenger:before{content:'\\f39f'}.fa-audible:before{content:'\\f373'}.fa-think-peaks:before{content:'\\f731'}.fa-bilibili:before{content:'\\e3d9'}.fa-erlang:before{content:'\\f39d'}.fa-x-twitter:before{content:'\\e61b'}.fa-cotton-bureau:before{content:'\\f89e'}.fa-dashcube:before{content:'\\f210'}.fa-42-group:before{content:'\\e080'}.fa-innosoft:before{content:'\\e080'}.fa-stack-exchange:before{content:'\\f18d'}.fa-elementor:before{content:'\\f430'}.fa-square-pied-piper:before{content:'\\e01e'}.fa-pied-piper-square:before{content:'\\e01e'}.fa-creative-commons-nd:before{content:'\\f4eb'}.fa-palfed:before{content:'\\f3d8'}.fa-superpowers:before{content:'\\f2dd'}.fa-resolving:before{content:'\\f3e7'}.fa-xbox:before{content:'\\f412'}.fa-square-web-awesome-stroke:before{content:'\\e684'}.fa-searchengin:before{content:'\\f3eb'}.fa-tiktok:before{content:'\\e07b'}.fa-square-facebook:before{content:'\\f082'}.fa-facebook-square:before{content:'\\f082'}.fa-renren:before{content:'\\f18b'}.fa-linux:before{content:'\\f17c'}.fa-glide:before{content:'\\f2a5'}.fa-linkedin:before{content:'\\f08c'}.fa-hubspot:before{content:'\\f3b2'}.fa-deploydog:before{content:'\\f38e'}.fa-twitch:before{content:'\\f1e8'}.fa-flutter:before{content:'\\e694'}.fa-ravelry:before{content:'\\f2d9'}.fa-mixer:before{content:'\\e056'}.fa-square-lastfm:before{content:'\\f203'}.fa-lastfm-square:before{content:'\\f203'}.fa-vimeo:before{content:'\\f40a'}.fa-mendeley:before{content:'\\f7b3'}.fa-uniregistry:before{content:'\\f404'}.fa-figma:before{content:'\\f799'}.fa-creative-commons-remix:before{content:'\\f4ee'}.fa-cc-amazon-pay:before{content:'\\f42d'}.fa-dropbox:before{content:'\\f16b'}.fa-instagram:before{content:'\\f16d'}.fa-cmplid:before{content:'\\e360'}.fa-upwork:before{content:'\\e641'}.fa-facebook:before{content:'\\f09a'}.fa-gripfire:before{content:'\\f3ac'}.fa-jedi-order:before{content:'\\f50e'}.fa-uikit:before{content:'\\f403'}.fa-fort-awesome-alt:before{content:'\\f3a3'}.fa-phabricator:before{content:'\\f3db'}.fa-ussunnah:before{content:'\\f407'}.fa-earlybirds:before{content:'\\f39a'}.fa-trade-federation:before{content:'\\f513'}.fa-autoprefixer:before{content:'\\f41c'}.fa-whatsapp:before{content:'\\f232'}.fa-square-upwork:before{content:'\\e67c'}.fa-slideshare:before{content:'\\f1e7'}.fa-google-play:before{content:'\\f3ab'}.fa-viadeo:before{content:'\\f2a9'}.fa-line:before{content:'\\f3c0'}.fa-google-drive:before{content:'\\f3aa'}.fa-servicestack:before{content:'\\f3ec'}.fa-simplybuilt:before{content:'\\f215'}.fa-bitbucket:before{content:'\\f171'}.fa-imdb:before{content:'\\f2d8'}.fa-deezer:before{content:'\\e077'}.fa-raspberry-pi:before{content:'\\f7bb'}.fa-jira:before{content:'\\f7b1'}.fa-docker:before{content:'\\f395'}.fa-screenpal:before{content:'\\e570'}.fa-bluetooth:before{content:'\\f293'}.fa-gitter:before{content:'\\f426'}.fa-d-and-d:before{content:'\\f38d'}.fa-microblog:before{content:'\\e01a'}.fa-cc-diners-club:before{content:'\\f24c'}.fa-gg-circle:before{content:'\\f261'}.fa-pied-piper-hat:before{content:'\\f4e5'}.fa-kickstarter-k:before{content:'\\f3bc'}.fa-yandex:before{content:'\\f413'}.fa-readme:before{content:'\\f4d5'}.fa-html5:before{content:'\\f13b'}.fa-sellsy:before{content:'\\f213'}.fa-square-web-awesome:before{content:'\\e683'}.fa-sass:before{content:'\\f41e'}.fa-wirsindhandwerk:before{content:'\\e2d0'}.fa-wsh:before{content:'\\e2d0'}.fa-buromobelexperte:before{content:'\\f37f'}.fa-salesforce:before{content:'\\f83b'}.fa-octopus-deploy:before{content:'\\e082'}.fa-medapps:before{content:'\\f3c6'}.fa-ns8:before{content:'\\f3d5'}.fa-pinterest-p:before{content:'\\f231'}.fa-apper:before{content:'\\f371'}.fa-fort-awesome:before{content:'\\f286'}.fa-waze:before{content:'\\f83f'}.fa-bluesky:before{content:'\\e671'}.fa-cc-jcb:before{content:'\\f24b'}.fa-snapchat:before{content:'\\f2ab'}.fa-snapchat-ghost:before{content:'\\f2ab'}.fa-fantasy-flight-games:before{content:'\\f6dc'}.fa-rust:before{content:'\\e07a'}.fa-wix:before{content:'\\f5cf'}.fa-square-behance:before{content:'\\f1b5'}.fa-behance-square:before{content:'\\f1b5'}.fa-supple:before{content:'\\f3f9'}.fa-webflow:before{content:'\\e65c'}.fa-rebel:before{content:'\\f1d0'}.fa-css3:before{content:'\\f13c'}.fa-staylinked:before{content:'\\f3f5'}.fa-kaggle:before{content:'\\f5fa'}.fa-space-awesome:before{content:'\\e5ac'}.fa-deviantart:before{content:'\\f1bd'}.fa-cpanel:before{content:'\\f388'}.fa-goodreads-g:before{content:'\\f3a9'}.fa-square-git:before{content:'\\f1d2'}.fa-git-square:before{content:'\\f1d2'}.fa-square-tumblr:before{content:'\\f174'}.fa-tumblr-square:before{content:'\\f174'}.fa-trello:before{content:'\\f181'}.fa-creative-commons-nc-jp:before{content:'\\f4ea'}.fa-get-pocket:before{content:'\\f265'}.fa-perbyte:before{content:'\\e083'}.fa-grunt:before{content:'\\f3ad'}.fa-weebly:before{content:'\\f5cc'}.fa-connectdevelop:before{content:'\\f20e'}.fa-leanpub:before{content:'\\f212'}.fa-black-tie:before{content:'\\f27e'}.fa-themeco:before{content:'\\f5c6'}.fa-python:before{content:'\\f3e2'}.fa-android:before{content:'\\f17b'}.fa-bots:before{content:'\\e340'}.fa-free-code-camp:before{content:'\\f2c5'}.fa-hornbill:before{content:'\\f592'}.fa-js:before{content:'\\f3b8'}.fa-ideal:before{content:'\\e013'}.fa-git:before{content:'\\f1d3'}.fa-dev:before{content:'\\f6cc'}.fa-sketch:before{content:'\\f7c6'}.fa-yandex-international:before{content:'\\f414'}.fa-cc-amex:before{content:'\\f1f3'}.fa-uber:before{content:'\\f402'}.fa-github:before{content:'\\f09b'}.fa-php:before{content:'\\f457'}.fa-alipay:before{content:'\\f642'}.fa-youtube:before{content:'\\f167'}.fa-skyatlas:before{content:'\\f216'}.fa-firefox-browser:before{content:'\\e007'}.fa-replyd:before{content:'\\f3e6'}.fa-suse:before{content:'\\f7d6'}.fa-jenkins:before{content:'\\f3b6'}.fa-twitter:before{content:'\\f099'}.fa-rockrms:before{content:'\\f3e9'}.fa-pinterest:before{content:'\\f0d2'}.fa-buffer:before{content:'\\f837'}.fa-npm:before{content:'\\f3d4'}.fa-yammer:before{content:'\\f840'}.fa-btc:before{content:'\\f15a'}.fa-dribbble:before{content:'\\f17d'}.fa-stumbleupon-circle:before{content:'\\f1a3'}.fa-internet-explorer:before{content:'\\f26b'}.fa-stubber:before{content:'\\e5c7'}.fa-telegram:before{content:'\\f2c6'}.fa-telegram-plane:before{content:'\\f2c6'}.fa-old-republic:before{content:'\\f510'}.fa-odysee:before{content:'\\e5c6'}.fa-square-whatsapp:before{content:'\\f40c'}.fa-whatsapp-square:before{content:'\\f40c'}.fa-node-js:before{content:'\\f3d3'}.fa-edge-legacy:before{content:'\\e078'}.fa-slack:before{content:'\\f198'}.fa-slack-hash:before{content:'\\f198'}.fa-medrt:before{content:'\\f3c8'}.fa-usb:before{content:'\\f287'}.fa-tumblr:before{content:'\\f173'}.fa-vaadin:before{content:'\\f408'}.fa-quora:before{content:'\\f2c4'}.fa-square-x-twitter:before{content:'\\e61a'}.fa-reacteurope:before{content:'\\f75d'}.fa-medium:before{content:'\\f23a'}.fa-medium-m:before{content:'\\f23a'}.fa-amilia:before{content:'\\f36d'}.fa-mixcloud:before{content:'\\f289'}.fa-flipboard:before{content:'\\f44d'}.fa-viacoin:before{content:'\\f237'}.fa-critical-role:before{content:'\\f6c9'}.fa-sitrox:before{content:'\\e44a'}.fa-discourse:before{content:'\\f393'}.fa-joomla:before{content:'\\f1aa'}.fa-mastodon:before{content:'\\f4f6'}.fa-airbnb:before{content:'\\f834'}.fa-wolf-pack-battalion:before{content:'\\f514'}.fa-buy-n-large:before{content:'\\f8a6'}.fa-gulp:before{content:'\\f3ae'}.fa-creative-commons-sampling-plus:before{content:'\\f4f1'}.fa-strava:before{content:'\\f428'}.fa-ember:before{content:'\\f423'}.fa-canadian-maple-leaf:before{content:'\\f785'}.fa-teamspeak:before{content:'\\f4f9'}.fa-pushed:before{content:'\\f3e1'}.fa-wordpress-simple:before{content:'\\f411'}.fa-nutritionix:before{content:'\\f3d6'}.fa-wodu:before{content:'\\e088'}.fa-google-pay:before{content:'\\e079'}.fa-intercom:before{content:'\\f7af'}.fa-zhihu:before{content:'\\f63f'}.fa-korvue:before{content:'\\f42f'}.fa-pix:before{content:'\\e43a'}.fa-steam-symbol:before{content:'\\f3f6'}:host,:root{--fa-style-family-classic:'Font Awesome 6 Free';--fa-font-regular:normal 400 1em/1 'Font Awesome 6 Free'}@font-face{font-family:'Font Awesome 6 Free';font-style:normal;font-weight:400;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.ttf) format('truetype')}.fa-regular,.far{font-weight:400}:host,:root{--fa-style-family-classic:'Font Awesome 6 Free';--fa-font-solid:normal 900 1em/1 'Font Awesome 6 Free'}@font-face{font-family:'Font Awesome 6 Free';font-style:normal;font-weight:900;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.ttf) format('truetype')}.fa-solid,.fas{font-weight:900}@font-face{font-family:'Font Awesome 5 Brands';font-display:block;font-weight:400;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.ttf) format('truetype')}@font-face{font-family:'Font Awesome 6 Free';font-display:block;font-weight:900;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.ttf) format('truetype')}@font-face{font-family:'Font Awesome 6 Free';font-display:block;font-weight:400;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.ttf) format('truetype')}@font-face{font-family:FontAwesome;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.ttf) format('truetype')}@font-face{font-family:FontAwesome;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.ttf) format('truetype')}@font-face{font-family:FontAwesome;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.ttf) format('truetype');unicode-range:U+F003,U+F006,U+F014,U+F016-F017,U+F01A-F01B,U+F01D,U+F022,U+F03E,U+F044,U+F046,U+F05C-F05D,U+F06E,U+F070,U+F087-F088,U+F08A,U+F094,U+F096-F097,U+F09D,U+F0A0,U+F0A2,U+F0A4-F0A7,U+F0C5,U+F0C7,U+F0E5-F0E6,U+F0EB,U+F0F6-F0F8,U+F10C,U+F114-F115,U+F118-F11A,U+F11C-F11D,U+F133,U+F147,U+F14E,U+F150-F152,U+F185-F186,U+F18E,U+F190-F192,U+F196,U+F1C1-F1C9,U+F1D9,U+F1DB,U+F1E3,U+F1EA,U+F1F7,U+F1F9,U+F20A,U+F247-F248,U+F24A,U+F24D,U+F255-F25B,U+F25D,U+F271-F274,U+F278,U+F27B,U+F28C,U+F28E,U+F29C,U+F2B5,U+F2B7,U+F2BA,U+F2BC,U+F2BE,U+F2C0-F2C1,U+F2C3,U+F2D0,U+F2D2,U+F2D4,U+F2DC}@font-face{font-family:FontAwesome;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-v4compatibility.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-v4compatibility.ttf) format('truetype');unicode-range:U+F041,U+F047,U+F065-F066,U+F07D-F07E,U+F080,U+F08B,U+F08E,U+F090,U+F09A,U+F0AC,U+F0AE,U+F0B2,U+F0D0,U+F0D6,U+F0E4,U+F0EC,U+F10A-F10B,U+F123,U+F13E,U+F148-F149,U+F14C,U+F156,U+F15E,U+F160-F161,U+F163,U+F175-F178,U+F195,U+F1F8,U+F219,U+F27A}`;class Rs extends xs{constructor(){super(...arguments),this.subscriptions=[]}connectedCallback(){this.i18nLanguageChangedCallback_=()=>this.requestUpdate(),W.on("languageChanged",this.i18nLanguageChangedCallback_),super.connectedCallback(),this.subscriptions.push(ho.getConfig().subscribe({next:e=>{e&&this.initConfig(e)}}))}disconnectedCallback(){W.off("languageChanged",this.i18nLanguageChangedCallback_),super.disconnectedCallback(),this.subscriptions.forEach(e=>e.unsubscribe())}initConfig(e){}}Rs.resetStyle=Ps,Rs.bootstrapStyle=$s,Rs.fontawesomeStyle=As,Rs.bootstrapVarStyle=bo`body .btn-link,body a{color:var(--link-color)}body .btn-link:hover,body a:hover{color:var(--link-hover-color)}body .btn.focus,body .btn:focus,body .form-control.focus,body .form-control:focus{box-shadow:0 0 0 .2rem var(--input-btn-focus-color);border-color:var(--brand-primary)}body .modal-header{border-color:var(--link-color)}body .table tr td,body .table tr th{border-color:var(--table-border-color)}body .nav-pills .nav-link.active,body .nav-pills .show>.nav-link{background-color:var(--brand-primary)}`,Rs.commonStyle=bo`.btn.prime,.form-control{border-radius:0}.btn.prime{background-color:var(--brand-primary);border-color:var(--input-border-focus);color:#fff}.btn.prime.active{box-shadow:inset 0 .37rem .75rem var(--light-box-shadow-color)}.btn.prime.active,.btn.prime:hover{background-color:var(--input-border-focus);border-color:var(--input-border-focus-darken)}.btn-link,a{color:var(--link-color)}.btn-link:hover,a:hover{color:var(--link-hover-color)}`,Rs.styles=[Rs.resetStyle,Rs.bootstrapStyle,Rs.bootstrapVarStyle,Rs.fontawesomeStyle,Rs.commonStyle];const Os=Rs;var Is;!function(e){e.ERROR="error",e.INFORMATION="information",e.SUCCESS="success",e.WARNING="warning"}(Is||(Is={}));const Fs=class{showMessage(e){}show(e){this.getMessageObjects(e).forEach(e=>this.showMessage(e))}error(e){this.show(this.getMessageObjects(e,Is.ERROR))}info(e){this.show(this.getMessageObjects(e,Is.INFORMATION))}success(e){this.show(this.getMessageObjects(e,Is.SUCCESS))}warn(e){this.show(this.getMessageObjects(e,Is.WARNING))}getMessageObjects(e,t){const n=[],r=Is.INFORMATION;if("string"==typeof e)n.push({msg:e,type:void 0!==t?t:r});else if(Array.isArray(e))e.forEach(i=>{if("string"==typeof e)n.push({msg:i,type:void 0!==t?t:r});else{if("string"==typeof i)throw new Error("Wrong msg type");void 0!==t&&(i.type=t),n.push(i)}});else{const i=e;void 0!==t&&(i.type=t),void 0===i.type&&(i.type=r),n.push(i)}return n}},Ns="transitionend";function Ys(e){return null==e?`${e}`:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function js(e){let t=!1;return i()(this).one(Hs.TRANSITION_END,()=>{t=!0}),setTimeout(()=>{t||Hs.triggerTransitionEnd(this)},e),this}const Hs={TRANSITION_END:"bsTransitionEnd",getUID(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement(e){let t=e.getAttribute("data-target");if(!t||"#"===t){const n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement(e){if(!e)return 0;let t=i()(e).css("transition-duration"),n=i()(e).css("transition-delay");const r=parseFloat(t),o=parseFloat(n);return r||o?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},reflow:e=>e.offsetHeight,triggerTransitionEnd(e){i()(e).trigger(Ns)},supportsTransitionEnd:()=>Boolean(Ns),isElement:e=>(e[0]||e).nodeType,typeCheckConfig(e,t,n){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=n[r],o=t[r],s=o&&Hs.isElement(o)?"element":Ys(o);if(!new RegExp(i).test(s))throw new Error(`${e.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}},findShadowRoot(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Hs.findShadowRoot(e.parentNode):null},jQueryDetection(){if(void 0===i())throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");const e=i().fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};Hs.jQueryDetection(),i().fn.emulateTransitionEnd=js,i().event.special[Hs.TRANSITION_END]={bindType:Ns,delegateType:Ns,handle(e){if(i()(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};const Us=Hs,zs="alert",Gs="bs.alert",Ws=`.${Gs}`,qs=i().fn[zs],Bs=`close${Ws}`,Vs=`closed${Ws}`,Xs=`click${Ws}.data-api`;class Ks{constructor(e){this._element=e}static get VERSION(){return"4.6.2"}close(e){let t=this._element;e&&(t=this._getRootElement(e));this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)}dispose(){i().removeData(this._element,Gs),this._element=null}_getRootElement(e){const t=Us.getSelectorFromElement(e);let n=!1;return t&&(n=document.querySelector(t)),n||(n=i()(e).closest(".alert")[0]),n}_triggerCloseEvent(e){const t=i().Event(Bs);return i()(e).trigger(t),t}_removeElement(e){if(i()(e).removeClass("show"),!i()(e).hasClass("fade"))return void this._destroyElement(e);const t=Us.getTransitionDurationFromElement(e);i()(e).one(Us.TRANSITION_END,t=>this._destroyElement(e,t)).emulateTransitionEnd(t)}_destroyElement(e){i()(e).detach().trigger(Vs).remove()}static _jQueryInterface(e){return this.each(function(){const t=i()(this);let n=t.data(Gs);n||(n=new Ks(this),t.data(Gs,n)),"close"===e&&n[e](this)})}static _handleDismiss(e){return function(t){t&&t.preventDefault(),e.close(this)}}}i()(document).on(Xs,'[data-dismiss="alert"]',Ks._handleDismiss(new Ks)),i().fn[zs]=Ks._jQueryInterface,i().fn[zs].Constructor=Ks,i().fn[zs].noConflict=()=>(i().fn[zs]=qs,Ks._jQueryInterface);var Zs=n(6932);const Js=new class extends Fs{constructor(){super();const e=document.createElement("div");e.classList.add("ngeo-notification"),document.body.append(e),this.container_=e,this.cache_={}}notify(e){this.show(e)}clear(){for(const e in this.cache_)this.clearMessageByCacheItem_(this.cache_[parseInt(e,10)])}showMessage(e){const t=e.type;console.assert("string"==typeof t,"Type should be set.");const n=["alert","fade","show"];switch(t){case Is.ERROR:n.push("alert-danger");break;case Is.INFORMATION:n.push("alert-info");break;case Is.SUCCESS:n.push("alert-success");break;case Is.WARNING:n.push("alert-warning")}const r=document.createElement("div");let i;n.forEach(e=>r.classList.add(e)),i=e.target?e.target:this.container_,i.append(r),r.innerHTML=e.msg.normalize("NFD").replace(/([\u0300-\u036f]|[\u003C\u003E])/g,""),r.classList.add("show");const o=void 0!==e.delay?e.delay:7e3,s={el:r},a=Pn(r);s.promise=window.setTimeout(()=>{Zs(r).alert("close"),delete this.cache_[a]},o),this.cache_[a]=s}clearMessageByCacheItem_(e){const t=e.el,n=e.promise,r=Pn(t);Zs(t).alert("close"),clearTimeout(n),delete this.cache_[r]}},Qs=Js,ea={touchedByUser:!1};var ta;!function(e){e.LOGGED_IN="logged in",e.LOGGED_OUT="logged out",e.DISCONNECTED="disconnected",e.READY="ready",e.NOT_INITIALIZED="not initialized"}(ta||(ta={}));const na="Some layers in this link are not accessible to unauthenticated users. Please log in to see whole data.";const ra=new class{constructor(){this.properties_=new Mi(this.getEmptyUserProperties()),this.loginMessage_=new Mi(""),this.state_=ta.NOT_INITIALIZED}getProperties(){return this.properties_}getState(){return this.state_}getLoginMessage(){return this.loginMessage_}setLoginMessage(e){this.loginMessage_.next(e)}setUser(e,t){this.checkUserProperties_(e)&&null!==t&&(this.state_=t,this.properties_.next(e))}getEmptyUserProperties(){return{email:null,is_intranet:null,functionalities:null,is_password_changed:null,roles:null,username:null,display_name:null,otp_key:null,otp_uri:null,two_factor_totp_secret:null}}checkUserProperties_(e){if(null==e)return console.error("New properties of the user must be an object"),!1;let t=!0;return Object.keys(this.getEmptyUserProperties()).forEach(n=>{Object.keys(e).includes(n)||(console.error(`User is missing property ${n}`),t=!1)}),t}},ia=ra;var oa=n(772),sa=n.n(oa);const aa="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,la=globalThis,ca="9.47.1";function ua(){return ha(la),la}function ha(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ca,t[ca]=t[ca]||{}}function da(e,t,n=la){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[ca]=r[ca]||{};return i[e]||(i[e]=t())}const fa=["debug","info","warn","error","log","assert","trace"],pa={};function ma(e){if(!("console"in la))return e();const t=la.console,n={},r=Object.keys(pa);r.forEach(e=>{const r=pa[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}function ga(){Sa().enabled=!0}function _a(){Sa().enabled=!1}function ya(){return Sa().enabled}function ba(...e){xa("log",...e)}function va(...e){xa("warn",...e)}function wa(...e){xa("error",...e)}function xa(e,...t){aa&&ya()&&ma(()=>{la.console[e](`Sentry Logger [${e}]:`,...t)})}function Sa(){return aa?da("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Ma={enable:ga,disable:_a,isEnabled:ya,log:ba,warn:va,error:wa},ka="?",Ta=/\(error: (.*)\)/,Ea=/captureMessage|captureException/;function La(...e){const t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,r=0)=>{const i=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const s=Ta.test(n)?n.replace(Ta,"$1"):n;if(!s.match(/\S*Error: /)){for(const e of t){const t=e(s);if(t){i.push(t);break}}if(i.length>=50+r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(Ca(t).function||"")&&t.pop();t.reverse(),Ea.test(Ca(t).function||"")&&(t.pop(),Ea.test(Ca(t).function||"")&&t.pop());return t.slice(0,50).map(e=>({...e,filename:e.filename||Ca(t).filename,function:e.function||ka}))}(i.slice(r))}}function Ca(e){return e[e.length-1]||{}}const Da="<anonymous>";function Pa(e){try{return e&&"function"==typeof e&&e.name||Da}catch{return Da}}function $a(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch{return}}}const Aa={},Ra={};function Oa(e,t){Aa[e]=Aa[e]||[],Aa[e].push(t)}function Ia(e,t){if(!Ra[e]){Ra[e]=!0;try{t()}catch(t){aa&&Ma.error(`Error while instrumenting ${e}`,t)}}}function Fa(e,t){const n=e&&Aa[e];if(n)for(const r of n)try{r(t)}catch(t){aa&&Ma.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Pa(r)}\nError:`,t)}}let Na=null;function Ya(e){const t="error";Oa(t,e),Ia(t,ja)}function ja(){Na=la.onerror,la.onerror=function(e,t,n,r,i){return Fa("error",{column:r,error:i,line:n,msg:e,url:t}),!!Na&&Na.apply(this,arguments)},la.onerror.__SENTRY_INSTRUMENTED__=!0}let Ha=null;function Ua(e){const t="unhandledrejection";Oa(t,e),Ia(t,za)}function za(){Ha=la.onunhandledrejection,la.onunhandledrejection=function(e){return Fa("unhandledrejection",e),!Ha||Ha.apply(this,arguments)},la.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Ga=Object.prototype.toString;function Wa(e){switch(Ga.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return tl(e,Error)}}function qa(e,t){return Ga.call(e)===`[object ${t}]`}function Ba(e){return qa(e,"ErrorEvent")}function Va(e){return qa(e,"DOMError")}function Xa(e){return qa(e,"String")}function Ka(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Za(e){return null===e||Ka(e)||"object"!=typeof e&&"function"!=typeof e}function Ja(e){return qa(e,"Object")}function Qa(e){return"undefined"!=typeof Event&&tl(e,Event)}function el(e){return Boolean(e?.then&&"function"==typeof e.then)}function tl(e,t){try{return e instanceof t}catch{return!1}}function nl(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function rl(e){return"undefined"!=typeof Request&&tl(e,Request)}const il=la;function ol(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(c=sl(n,u),!("html"===c||o>1&&s+i.length*l+c.length>=h));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function sl(e,t){const n=e,r=[];if(!n?.tagName)return"";if(il.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t?.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(i?.length)i.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&Xa(e)){const t=e.split(/\s+/);for(const e of t)r.push(`.${e}`)}}const o=["aria-label","type","name","title","alt"];for(const e of o){const t=n.getAttribute(e);t&&r.push(`[${e}="${t}"]`)}return r.join("")}function al(){try{return il.document.location.href}catch{return""}}function ll(e){if(!il.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function cl(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function ul(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{nl(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function hl(e,t,n=!1){return!!Xa(e)&&(qa(t,"RegExp")?t.test(e):!!Xa(t)&&(n?e===t:e.includes(t)))}function dl(e,t=[],n=!1){return t.some(t=>hl(e,t,n))}function fl(e,t,n){if(!(t in e))return;const r=e[t];if("function"!=typeof r)return;const i=n(r);"function"==typeof i&&ml(i,r);try{e[t]=i}catch{aa&&Ma.log(`Failed to replace method "${t}" in object`,e)}}function pl(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{aa&&Ma.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ml(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,pl(e,"__sentry_original__",t)}catch{}}function gl(e){return e.__sentry_original__}function _l(e){if(Wa(e))return{message:e.message,name:e.name,stack:e.stack,...bl(e)};if(Qa(e)){const t={type:e.type,target:yl(e.target),currentTarget:yl(e.currentTarget),...bl(e)};return"undefined"!=typeof CustomEvent&&tl(e,CustomEvent)&&(t.detail=e.detail),t}return e}function yl(e){try{return t=e,"undefined"!=typeof Element&&tl(t,Element)?ol(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function bl(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function vl(e,t=40){const n=Object.keys(_l(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return cl(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:cl(r,t)}return""}function wl(e=function(){const e=la;return e.crypto||e.msCrypto}()){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function xl(e){return e.exception?.values?.[0]}function Sl(e){const{message:t,event_id:n}=e;if(t)return t;const r=xl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ml(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function kl(e,t){const n=xl(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r?.data,...t.data};n.mechanism.data=e}}function Tl(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{pl(e,"__sentry_captured__",!0)}catch{}return!1}function El(){return Date.now()/1e3}let Ll,Cl;function Dl(){return(Ll??(Ll=function(){const{performance:e}=la;if(!e?.now||!e.timeOrigin)return El;const t=e.timeOrigin;return()=>(t+e.now())/1e3}()))()}function Pl(){return Cl||(Cl=function(){const{performance:e}=la;if(!e?.now)return[void 0,"none"];const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing?.navigationStart,a="number"==typeof s?Math.abs(s+n-r):t;return o||a<t?i<=a?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}()),Cl[0]}function $l(e){const t=Dl(),n={sid:wl(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)};return e&&Al(n,e),n}function Al(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Dl(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:wl()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Rl(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const r={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=Rl(r[e],t[e],n-1));return r}function Ol(){return wl()}function Il(){return wl().substring(16)}const Fl="_sentrySpan";function Nl(e,t){t?pl(e,Fl,t):delete e[Fl]}function Yl(e){return e[Fl]}class jl{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ol(),sampleRand:Math.random()}}clone(){const e=new jl;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Nl(e,Yl(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Al(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,n=t instanceof jl?t.getScopeData():Ja(t)?e:void 0,{tags:r,extra:i,user:o,contexts:s,level:a,fingerprint:l=[],propagationContext:c}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...i},this._contexts={...this._contexts,...s},o&&Object.keys(o).length&&(this._user=o),a&&(this._level=a),l.length&&(this._fingerprint=l),c&&(this._propagationContext=c),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Nl(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ol(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:El(),...e,message:e.message?cl(e.message,2048):e.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Yl(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Rl(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t?.event_id||wl();if(!this._client)return aa&&Ma.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n?.event_id||wl();if(!this._client)return aa&&Ma.warn("No client configured on scope - will not capture message!"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=t?.event_id||wl();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(aa&&Ma.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class Hl{constructor(e,t){let n,r;n=e||new jl,r=t||new jl,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return el(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Ul(){const e=ha(ua());return e.stack=e.stack||new Hl(da("defaultCurrentScope",()=>new jl),da("defaultIsolationScope",()=>new jl))}function zl(e){return Ul().withScope(e)}function Gl(e,t){const n=Ul();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Wl(e){return Ul().withScope(()=>e(Ul().getIsolationScope()))}function ql(e){const t=ha(e);return t.acs?t.acs:{withIsolationScope:Wl,withScope:zl,withSetScope:Gl,withSetIsolationScope:(e,t)=>Wl(t),getCurrentScope:()=>Ul().getScope(),getIsolationScope:()=>Ul().getIsolationScope()}}function Bl(){return ql(ua()).getCurrentScope()}function Vl(){return ql(ua()).getIsolationScope()}function Xl(){return da("globalScope",()=>new jl)}function Kl(...e){const t=ql(ua());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function Zl(){return Bl().getClient()}function Jl(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,o={trace_id:n,span_id:i||Il()};return r&&(o.parent_span_id=r),o}const Ql="sentry.source",ec="sentry.sample_rate",tc="sentry.previous_trace_sample_rate",nc="sentry.op",rc="sentry.origin",ic="sentry.idle_span_finish_reason",oc="sentry.measurement_unit",sc="sentry.measurement_value",ac="sentry.custom_span_name",lc="sentry.profile_id",cc="sentry.exclusive_time",uc="sentry.link.type";function hc(e,t){e.setAttribute("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}const dc="_sentryScope",fc="_sentryIsolationScope";function pc(e){return{scope:e[dc],isolationScope:e[fc]}}const mc="sentry-",gc=/^sentry-/;function _c(e){const t=function(e){if(!e||!Xa(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce((e,t)=>{const n=bc(t);return Object.entries(n).forEach(([t,n])=>{e[t]=n}),e},{});return bc(e)}(e);if(!t)return;const n=Object.entries(t).reduce((e,[t,n])=>{if(t.match(gc)){e[t.slice(7)]=n}return e},{});return Object.keys(n).length>0?n:void 0}function yc(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce((e,[t,n],r)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===r?i:`${e},${i}`;return o.length>8192?(aa&&Ma.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o},"")}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${mc}${t}`]=n),e),{}))}function bc(e){return e.split(",").map(e=>e.split("=").map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{})}function vc(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;return"number"!=typeof t||isNaN(t)||t<0||t>1?void 0:t}const wc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function xc(e,t){const n=function(e){if(!e)return;const t=e.match(wc);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=_c(t);if(!n?.traceId)return{traceId:Ol(),sampleRand:Math.random()};const i=function(e,t){const n=vc(t?.sample_rand);if(void 0!==n)return n;const r=vc(t?.sample_rate);return r&&void 0!==e?.parentSampled?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=i.toString());const{traceId:o,parentSpanId:s,parentSampled:a}=n;return{traceId:o,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:i}}function Sc(e=Ol(),t=Il(),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}let Mc=!1;function kc(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a,links:l}=Dc(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:s,origin:a,links:l}}function Tc(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:Dc(e).parent_span_id,o=pc(e).scope;return{parent_span_id:i,span_id:r?o?.getPropagationContext().propagationSpanId||Il():t,trace_id:n}}function Ec(e){return e&&e.length>0?e.map(({context:{spanId:e,traceId:t,traceFlags:n,...r},attributes:i})=>({span_id:e,trace_id:t,sampled:1===n,attributes:i,...r})):void 0}function Lc(e){return"number"==typeof e?Cc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Cc(e.getTime()):Dl()}function Cc(e){return e>9999999999?e/1e3:e}function Dc(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:r,startTime:i,name:o,endTime:s,status:a,links:l}=e;return{span_id:t,trace_id:n,data:r,description:o,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0,start_timestamp:Lc(i),timestamp:Lc(s)||void 0,status:$c(a),op:r[nc],origin:r[rc],links:Ec(l)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Pc(e){const{traceFlags:t}=e.spanContext();return 1===t}function $c(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}const Ac="_sentryChildSpans",Rc="_sentryRootSpan";function Oc(e,t){const n=e[Rc]||e;pl(t,Rc,n),e[Ac]?e[Ac].add(t):pl(e,Ac,new Set([t]))}function Ic(e){const t=new Set;return function e(n){if(!t.has(n)&&Pc(n)){t.add(n);const r=n[Ac]?Array.from(n[Ac]):[];for(const t of r)e(t)}}(e),Array.from(t)}function Fc(e){return e[Rc]||e}function Nc(){const e=ql(ua());return e.getActiveSpan?e.getActiveSpan():Yl(Bl())}function Yc(){Mc||(ma(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Mc=!0)}let jc=!1;function Hc(){function e(){const e=Nc(),t=e&&Fc(e);if(t){const e="internal_error";aa&&Ma.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:2,message:e})}}jc||(e.tag="sentry_tracingErrorCallback",jc=!0,Ya(e),Ua(e))}function Uc(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=e||Zl()?.getOptions();return!(!t||null==t.tracesSampleRate&&!t.tracesSampler)}const zc="production",Gc=/^o(\d+)\./,Wc=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function qc(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function Bc(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Vc(e){const t="string"==typeof e?function(e){const t=Wc.exec(e);if(!t)return void ma(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});const[n,r,i="",o="",s="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return Bc({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}(e):Bc(e);if(t&&function(e){if(!aa)return!0;const{port:t,projectId:n,protocol:r}=e,i=["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(Ma.error(`Invalid Sentry Dsn: ${t} missing`),!0));return!(i||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(Ma.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Ma.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(Ma.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}const Xc="_frozenDsc";function Kc(e,t){pl(e,Xc,t)}function Zc(e,t){const n=t.getOptions(),{publicKey:r,host:i}=t.getDsn()||{};let o;n.orgId?o=String(n.orgId):i&&(o=function(e){const t=e.match(Gc);return t?.[1]}(i));const s={environment:n.environment||zc,release:n.release,public_key:r,trace_id:e,org_id:o};return t.emit("createDsc",s),s}function Jc(e,t){const n=t.getPropagationContext();return n.dsc||Zc(n.traceId,e)}function Qc(e){const t=Zl();if(!t)return{};const n=Fc(e),r=Dc(n),i=r.data,o=n.spanContext().traceState,s=o?.get("sentry.sample_rate")??i[ec]??i[tc];function a(e){return"number"!=typeof s&&"string"!=typeof s||(e.sample_rate=`${s}`),e}const l=n[Xc];if(l)return a(l);const c=o?.get("sentry.dsc"),u=c&&_c(c);if(u)return a(u);const h=Zc(e.spanContext().traceId,t),d=i[Ql],f=r.description;return"url"!==d&&f&&(h.transaction=f),Uc()&&(h.sampled=String(Pc(n)),h.sample_rand=o?.get("sentry.sample_rand")??pc(n).scope?.getPropagationContext().sampleRand.toString()),a(h),t.emit("createDsc",h,n),h}class eu{constructor(e={}){this._traceId=e.traceId||Ol(),this._spanId=e.spanId||Il()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}function tu(e,t=100,n=1/0){try{return ru("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function nu(e,t=3,n=102400){const r=tu(e,t);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}(r)>n?nu(e,t-1,n):r}function ru(e,t,r=1/0,i=1/0,o=function(){const e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}()){const[s,a]=o;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const l=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(nl(t))return"[VueViewModel]";if(Ja(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${Pa(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const i=function(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(i)?`[HTMLElement: ${i}]`:`[object ${i}]`}catch(e){return`**non-serializable** (${e})`}var r}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===c)return l.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&"function"==typeof u.toJSON)try{return ru("",u.toJSON(),c-1,i,o)}catch{}const h=Array.isArray(t)?[]:{};let d=0;const f=_l(t);for(const e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(d>=i){h[e]="[MaxProperties ~]";break}const t=f[e];h[e]=ru(e,t,c-1,i,o),d++}return a(t),h}function iu(e,t=[]){return[e,t]}function ou(e,t){const[n,r]=e;return[n,[...r,t]]}function su(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function au(e){const t=ha(la);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function lu(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[au(r),e]:r.push("string"==typeof e?au(e):e)}for(const e of n){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch{e=JSON.stringify(tu(n))}i(e)}}return"string"==typeof r?r:function(e){const t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function cu(e){return[{type:"span"},e]}function uu(e){const t="string"==typeof e.data?au(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const hu={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function du(e){return hu[e]}function fu(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function pu(e,t,n,r){const i=fu(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n?.sdk);const s=function(e,t,n,r){const i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:qc(r)},...i&&{trace:i}}}(e,i,r,t);delete e.sdkProcessingMetadata;return iu(s,[[{type:o},e]])}function mu(e){if(!e||0===e.length)return;const t={};return e.forEach(e=>{const n=e.attributes||{},r=n[oc],i=n[sc];"string"==typeof r&&"number"==typeof i&&(t[e.name]={value:i,unit:r})}),t}class gu{constructor(e={}){this._traceId=e.traceId||Ol(),this._spanId=e.spanId||Il(),this._startTime=e.startTimestamp||Dl(),this._links=e.links,this._attributes={},this.setAttributes({[rc]:"manual",[nc]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=Lc(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Ql,"custom"),this}end(e){this._endTime||(this._endTime=Lc(e),function(e){if(!aa)return;const{description:t="< unknown name >",op:n="< unknown op >"}=Dc(e),{spanId:r}=e.spanContext(),i=`[Tracing] Finishing "${n}" ${Fc(e)===e?"root ":""}span "${t}" with ID ${r}`;Ma.log(i)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[nc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:$c(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[rc],profile_id:this._attributes[lc],exclusive_time:this._attributes[cc],measurements:mu(this._events),is_segment:this._isStandaloneSpan&&Fc(this)===this||void 0,segment_id:this._isStandaloneSpan?Fc(this).spanContext().spanId:void 0,links:Ec(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){aa&&Ma.log("[Tracing] Adding an event to span:",e);const r=_u(t)?t:n||Dl(),i=_u(t)?{}:t||{},o={name:e,time:Lc(r),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Zl();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===Fc(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=Zl();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");t.sendEnvelope(e)}(function(e,t){const n=Qc(e[0]),r=t?.getDsn(),i=t?.getOptions().tunnel,o={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n},...!!i&&r&&{dsn:qc(r)}},s=t?.getOptions().beforeSendSpan,a=s?e=>{const t=Dc(e);return s(t)||(Yc(),t)}:Dc,l=[];for(const t of e){const e=a(t);e&&l.push(cu(e))}return iu(o,l)}([this],e)):(aa&&Ma.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();if(t){(pc(this).scope||Bl()).captureEvent(t)}}_convertSpanToTransaction(){if(!yu(Dc(this)))return;this._name||(aa&&Ma.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=pc(this),n=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(!0!==this._sampled)return;const r=Ic(this).filter(e=>e!==this&&!function(e){return e instanceof gu&&e.isStandaloneSpan()}(e)).map(e=>Dc(e)).filter(yu),i=this._attributes[Ql];delete this._attributes[ac],r.forEach(e=>{delete e.data[ac]});const o={contexts:{trace:kc(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:Qc(this)},request:n,...i&&{transaction_info:{source:i}}},s=mu(this._events);return s&&Object.keys(s).length&&(aa&&Ma.log("[Measurements] Adding measurements to transaction event",JSON.stringify(s,void 0,2)),o.measurements=s),o}}function _u(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function yu(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id)}function bu(e,t,n=()=>{}){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(el(e))return e.then(e=>(n(),e),e=>{throw t(e),n(),e});return n(),e}(r,t,n)}const vu="__SENTRY_SUPPRESS_TRACING__";function wu(e,t){const n=Tu();if(n.startSpan)return n.startSpan(e,t);const r=ku(e),{forceTransaction:i,parentSpan:o,scope:s}=e,a=s?.clone();return Kl(a,()=>Cu(o)(()=>{const n=Bl(),s=Lu(n,o),a=e.onlyIfParent&&!s?new eu:Mu({parentSpan:s,spanArguments:r,forceTransaction:i,scope:n});return Nl(n,a),bu(()=>t(a),()=>{const{status:e}=Dc(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:2,message:"internal_error"})},()=>{a.end()})}))}function xu(e){const t=Tu();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=ku(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?t=>Kl(e.scope,t):void 0!==i?e=>Su(i,e):e=>e())(()=>{const t=Bl(),o=Lu(t,i);return e.onlyIfParent&&!o?new eu:Mu({parentSpan:o,spanArguments:n,forceTransaction:r,scope:t})})}function Su(e,t){const n=Tu();return n.withActiveSpan?n.withActiveSpan(e,t):Kl(n=>(Nl(n,e||void 0),t(n)))}function Mu({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Uc()){const r=new eu;if(n||!e){Kc(r,{sampled:"false",sample_rate:"0",transaction:t.name,...Qc(r)})}return r}const i=Vl();let o;if(e&&!n)o=function(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),o=!t.getScopeData().sdkProcessingMetadata[vu]&&Pc(e),s=o?new gu({...n,parentSpanId:r,traceId:i,sampled:o}):new eu({traceId:i});Oc(e,s);const a=Zl();a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s));return s}(e,r,t),Oc(e,o);else if(e){const n=Qc(e),{traceId:i,spanId:s}=e.spanContext(),a=Pc(e);o=Eu({traceId:i,parentSpanId:s,...t},r,a),Kc(o,n)}else{const{traceId:e,dsc:n,parentSpanId:s,sampled:a}={...i.getPropagationContext(),...r.getPropagationContext()};o=Eu({traceId:e,parentSpanId:s,...t},r,a),n&&Kc(o,n)}return function(e){if(!aa)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Dc(e),{spanId:i}=e.spanContext(),o=Pc(e),s=Fc(e),a=s===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:e,description:t}=Dc(s);c.push(`root ID: ${s.spanContext().spanId}`),e&&c.push(`root op: ${e}`),t&&c.push(`root description: ${t}`)}Ma.log(`${l}\n  ${c.join("\n  ")}`)}(o),function(e,t,n){e&&(pl(e,fc,n),pl(e,dc,t))}(o,r,i),o}function ku(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=Lc(e.startTime),delete n.startTime,n}return t}function Tu(){return ql(ua())}function Eu(e,t,n){const r=Zl(),i=r?.getOptions()||{},{name:o=""}=e,s={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});const a=s.parentSampled??n,l=s.spanAttributes,c=t.getPropagationContext(),[u,h,d]=t.getScopeData().sdkProcessingMetadata[vu]?[!1]:function(e,t,n){if(!Uc(e))return[!1];let r,i;"function"==typeof e.tracesSampler?(i=e.tracesSampler({...t,inheritOrSampleWith:e=>"number"==typeof t.parentSampleRate?t.parentSampleRate:"boolean"==typeof t.parentSampled?Number(t.parentSampled):e}),r=!0):void 0!==t.parentSampled?i=t.parentSampled:void 0!==e.tracesSampleRate&&(i=e.tracesSampleRate,r=!0);const o=vc(i);if(void 0===o)return aa&&Ma.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!o)return aa&&Ma.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,o,r];const s=n<o;return s||aa&&Ma.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[s,o,r]}(i,{name:o,parentSampled:a,attributes:l,parentSampleRate:vc(c.dsc?.sample_rate)},c.sampleRand),f=new gu({...e,attributes:{[Ql]:"custom",[ec]:void 0!==h&&d?h:void 0,...l},sampled:u});return!u&&r&&(aa&&Ma.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function Lu(e,t){if(t)return t;if(null===t)return;const n=Yl(e);if(!n)return;const r=Zl();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Fc(n):n}function Cu(e){return void 0!==e?t=>Su(e,t):e=>e()}const Du={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function Pu(e,t={}){const n=new Map;let r,i=!1,o="externalFinish",s=!t.disableAutoFinish;const a=[],{idleTimeout:l=Du.idleTimeout,finalTimeout:c=Du.finalTimeout,childSpanTimeout:u=Du.childSpanTimeout,beforeSpanEnd:h}=t,d=Zl();if(!d||!Uc()){const e=new eu;return Kc(e,{sample_rate:"0",sampled:"false",...Qc(e)}),e}const f=Bl(),p=Nc(),m=function(e){const t=xu(e);return Nl(Bl(),t),aa&&Ma.log("[Tracing] Started span is an idle span"),t}(e);function g(){r&&(clearTimeout(r),r=void 0)}function _(e){g(),r=setTimeout(()=>{!i&&0===n.size&&s&&(o="idleTimeout",m.end(e))},l)}function y(e){r=setTimeout(()=>{!i&&s&&(o="heartbeatFailed",m.end(e))},u)}function b(e){i=!0,n.clear(),a.forEach(e=>e()),Nl(f,p);const t=Dc(m),{start_timestamp:r}=t;if(!r)return;t.data[ic]||m.setAttribute(ic,o),Ma.log(`[Tracing] Idle span "${t.op}" finished`);const s=Ic(m).filter(e=>e!==m);let u=0;s.forEach(t=>{t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),aa&&Ma.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=Dc(t),{timestamp:r=0,start_timestamp:i=0}=n,o=i<=e,s=r-i<=(c+l)/1e3;if(aa){const e=JSON.stringify(t,void 0,2);o?s||Ma.log("[Tracing] Discarding span since it finished after idle span final timeout",e):Ma.log("[Tracing] Discarding span since it happened after idle span was finished",e)}s&&o||(!function(e,t){e[Ac]&&e[Ac].delete(t)}(m,t),u++)}),u>0&&m.setAttribute("sentry.idle_span_discarded_spans",u)}return m.end=new Proxy(m.end,{apply(e,t,n){if(h&&h(m),t instanceof eu)return;const[r,...i]=n,o=Lc(r||Dl()),s=Ic(m).filter(e=>e!==m);if(!s.length)return b(o),Reflect.apply(e,t,[o,...i]);const a=s.map(e=>Dc(e).timestamp).filter(e=>!!e),l=a.length?Math.max(...a):void 0,u=Dc(m).start_timestamp,d=Math.min(u?u+c/1e3:1/0,Math.max(u||-1/0,Math.min(o,l||1/0)));return b(d),Reflect.apply(e,t,[d,...i])}}),a.push(d.on("spanStart",e=>{if(i||e===m||Dc(e).timestamp||e instanceof gu&&e.isStandaloneSpan())return;var t;Ic(m).includes(e)&&(t=e.spanContext().spanId,g(),n.set(t,!0),y(Dl()+u/1e3))})),a.push(d.on("spanEnd",e=>{var t;i||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&_(Dl()+l/1e3))})),a.push(d.on("idleSpanEnableAutoFinish",e=>{e===m&&(s=!0,_(),n.size&&y())})),t.disableAutoFinish||_(),setTimeout(()=>{i||(m.setStatus({code:2,message:"deadline_exceeded"}),o="finalTimeout",m.end())},c),m}function $u(e){return new Ru(t=>{t(e)})}function Au(e){return new Ru((t,n)=>{n(e)})}class Ru{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new Ru((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new Ru((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{i?n(r):t(r)})})}_executeHandlers(){if(0===this._state)return;const e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){const t=(e,t)=>{0===this._state&&(el(t)?t.then(n,r):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(1,e)},r=e=>{t(2,e)};try{e(n,r)}catch(e){r(e)}}}function Ou(e,t,n,r=0){return new Ru((i,o)=>{const s=e[r];if(null===t||"function"!=typeof s)i(t);else{const a=s({...t},n);aa&&s.id&&null===a&&Ma.log(`Event processor "${s.id}" dropped event`),el(a)?a.then(t=>Ou(e,t,n,r+1).then(i)).then(null,o):Ou(e,a,n,r+1).then(i).then(null,o)}})}function Iu(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra});Object.keys(r).length&&(e.tags={...r,...e.tags});Object.keys(i).length&&(e.user={...i,...e.user});Object.keys(o).length&&(e.contexts={...o,...e.contexts});s&&(e.level=s);a&&"transaction"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:Tc(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Qc(t),...e.sdkProcessingMetadata};const n=Fc(t),r=Dc(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function Fu(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:h,propagationContext:d,transactionName:f,span:p}=t;Nu(e,"extra",n),Nu(e,"tags",r),Nu(e,"user",i),Nu(e,"contexts",o),e.sdkProcessingMetadata=Rl(e.sdkProcessingMetadata,a,2),s&&(e.level=s),f&&(e.transactionName=f),p&&(e.span=p),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...d}}function Nu(e,t,n){e[t]=Rl(e[t],n,1)}let Yu,ju,Hu;function Uu(e){const t=la._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Hu&&n.length===ju||(ju=n.length,Hu=n.reduce((n,r)=>{Yu||(Yu={});const i=Yu[r];if(i)n[i[0]]=i[1];else{const i=e(r);for(let e=i.length-1;e>=0;e--){const o=i[e],s=o?.filename,a=t[r];if(s&&a){n[s]=a,Yu[r]=[s,a];break}}}return n},{})),Hu}function zu(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||wl(),timestamp:t.timestamp||El()},c=n.integrations||e.integrations.map(e=>e.name);!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||n||zc,!e.release&&r&&(e.release=r);!e.dist&&i&&(e.dist=i);const s=e.request;s?.url&&(s.url=cl(s.url,o))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){const n=Uu(t);e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=n[e.filename])})})}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new jl;return n.update(t),n}(r,n.captureContext);n.mechanism&&kl(l,n.mechanism);const h=i?i.getEventProcessors():[],d=Xl().getScopeData();if(o){Fu(d,o.getScopeData())}if(u){Fu(d,u.getScopeData())}const f=[...n.attachments||[],...d.attachments];f.length&&(n.attachments=f),Iu(l,d);return Ou([...h,...d.eventProcessors],l,n).then(e=>(e&&function(e){const t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof s&&s>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:tu(e.data,t,n)}}))},...e.user&&{user:tu(e.user,t,n)},...e.contexts&&{contexts:tu(e.contexts,t,n)},...e.extra&&{extra:tu(e.extra,t,n)}};e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=tu(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:tu(e.data,t,n)}})));e.contexts?.flags&&r.contexts&&(r.contexts.flags=tu(e.contexts.flags,3,n));return r}(e,s,a):e))}function Gu(e){if(e)return function(e){return e instanceof jl||"function"==typeof e}(e)||function(e){return Object.keys(e).some(e=>Wu.includes(e))}(e)?{captureContext:e}:e}const Wu=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function qu(e,t){return Bl().captureException(e,Gu(t))}function Bu(e,t){return Bl().captureEvent(e,t)}function Vu(e,t){Vl().setTag(e,t)}function Xu(e){const t=Vl(),n=Bl(),{userAgent:r}=la.navigator||{},i=$l({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return"ok"===o?.status&&Al(o,{status:"exited"}),Ku(),t.setSession(i),i}function Ku(){const e=Vl(),t=Bl().getSession()||e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),Al(e,n)}(t),Zu(),e.setSession()}function Zu(){const e=Vl(),t=Zl(),n=e.getSession();n&&t&&t.captureSession(n)}function Ju(e=!1){e?Ku():Zu()}function Qu(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function eh(e,t,n){return t||`${function(e){return`${Qu(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}const th=[];function nh(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(n))r=[...t,...n];else if("function"==typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return function(e){const t={};return e.forEach(e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(r)}function rh(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function ih(e,t,n){if(n[t.name])aa&&Ma.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===th.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),th.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}aa&&Ma.log(`Integration installed: ${t.name}`)}}function oh(e){const t=Zl();t?t.addIntegration(e):aa&&Ma.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)}function sh(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}const ah="Not capturing exception because it's already been captured.",lh="Discarded session because of missing or non-string release",ch=Symbol.for("SentryInternalError"),uh=Symbol.for("SentryDoNotSendEventError");function hh(e){return{message:e,[ch]:!0}}function dh(e){return{message:e,[uh]:!0}}function fh(e){return!!e&&"object"==typeof e&&ch in e}function ph(e){return!!e&&"object"==typeof e&&uh in e}class mh{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Vc(e.dsn):aa&&Ma.warn("No DSN provided, client will not send events."),this._dsn){const t=eh(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=wl();if(Tl(e))return aa&&Ma.log(ah),r;const i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id}captureMessage(e,t,n,r){const i={event_id:wl(),...n},o=Ka(e)?e:String(e),s=Za(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(s.then(e=>this._captureEvent(e,i,r))),i.event_id}captureEvent(e,t,n){const r=wl();if(t?.originalException&&Tl(t.originalException))return aa&&Ma.log(ah),r;const i={event_id:r,...t},o=e.sdkProcessingMetadata||{},s=o.capturedSpanScope,a=o.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,s||n,a)),i.event_id}captureSession(e){this.sendSession(e),Al(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):$u(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];ih(this,e,this._integrations),t||rh(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=pu(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=ou(n,uu(e));const r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){const{release:t,environment:n=zc}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void(aa&&Ma.warn(lh));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void(aa&&Ma.warn(lh));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=function(e,t,n,r){const i=fu(n);return iu({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:qc(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){const r=`${e}:${t}`;aa&&Ma.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach(e=>e(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,e=>(aa&&Ma.error("Error while sending envelope:",e),e)):(aa&&Ma.error("Transport disabled"),$u({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach(t=>{t&&ih(e,t,n)}),n}(this,e),rh(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1;const i=t.exception?.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(!1===t?.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(Al(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ru(t=>{let n=0;const r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o?.length&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),zu(i,e,t,n,this,r).then(e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts={trace:Jl(n),...e.contexts};const r=Jc(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:r,...e.sdkProcessingMetadata},e})}_captureEvent(e,t={},n=Bl(),r=Vl()){return aa&&gh(e)&&Ma.log(`Captured error event \`${sh(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(e=>e.event_id,e=>{aa&&(ph(e)?Ma.log(e.message):fh(e)?Ma.warn(e.message):Ma.warn(e))})}_processEvent(e,t,n,r){const i=this.getOptions(),{sampleRate:o}=i,s=_h(e),a=gh(e),l=e.type||"error",c=`before send for type \`${l}\``,u=void 0===o?void 0:vc(o);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error"),Au(dh(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const h="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n,r).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",h),dh("An event processor returned `null`, will not send event.");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;let a=n;if(gh(a)&&i)return i(a,r);if(_h(a)){if(s){const e=s(function(e){const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:o,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:s?.[lc],exclusive_time:s?.[cc],measurements:e.measurements,is_segment:!0}}(a));if(e?a=Rl(n,{type:"transaction",timestamp:(l=e).timestamp,start_timestamp:l.start_timestamp,transaction:l.description,contexts:{trace:{trace_id:l.trace_id,span_id:l.span_id,parent_span_id:l.parent_span_id,op:l.op,status:l.status,origin:l.origin,data:{...l.data,...l.profile_id&&{[lc]:l.profile_id},...l.exclusive_time&&{[cc]:l.exclusive_time}}}},measurements:l.measurements}):Yc(),a.spans){const e=[];for(const t of a.spans){const n=s(t);n?e.push(n):(Yc(),e.push(t))}a.spans=e}}if(o){if(a.spans){const e=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(a,r)}}var l;return a}(0,i,e,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(el(e))return e.then(e=>{if(!Ja(e)&&null!==e)throw hh(n);return e},e=>{throw hh(`${t} rejected with ${e}`)});if(!Ja(e)&&null!==e)throw hh(n);return e}(n,c)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",h),s){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw dh(`${c} returned \`null\`, will not send event.`)}const o=n.getSession()||r.getSession();if(a&&o&&this._updateSessionFromEvent(o,i),s){const e=(i.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const l=i.transaction_info;if(s&&l&&i.transaction!==e.transaction){const e="custom";i.transaction_info={...l,source:e}}return this.sendEvent(i,t),i}).then(null,e=>{if(ph(e)||fh(e))throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),hh(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){aa&&Ma.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(aa&&Ma.log("No outcomes to send"));if(!this._dsn)return void(aa&&Ma.log("No dsn provided, will not send outcomes"));aa&&Ma.log("Sending outcomes:",e);const t=function(e,t,n){return iu(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:n||El(),discarded_events:e}]])}(e,this._options.tunnel&&qc(this._dsn));this.sendEnvelope(t)}}function gh(e){return void 0===e.type}function _h(e){return"transaction"===e.type}function yh(e,t){const n=t??bh(e)??[];if(0===n.length)return;const r=e.getOptions(),i=function(e,t,n,r){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=qc(r)),iu(i,[(o=e,[{type:"log",item_count:o.length,content_type:"application/vnd.sentry.items.log+json"},{items:o}])]);var o}(n,r._metadata,r.tunnel,e.getDsn());vh().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function bh(e){return vh().get(e)}function vh(){return da("clientToLogBufferMap",()=>new WeakMap)}function wh(e,t){!0===t.debug&&(aa?Ma.enable():ma(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));Bl().update(t.initialScope);const n=new e(t);return function(e){Bl().setClient(e)}(n),n.init(),n}const xh=Symbol.for("SentryBufferFullError");function Sh(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Au(xh);const i=r();return-1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(e){return new Ru((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{$u(e).then(()=>{--i||(clearTimeout(o),n(!0))},r)})})}}}function Mh(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n,,,o]=e.split(":",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))"metric_bucket"===e&&o&&!o.split(";").includes("custom")||(i[e]=r+a);else i.all=r+a}else s?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}function kh(e,t,n=Sh(e.bufferSize||64)){let r={};return{send:function(i){const o=[];if(su(i,(t,n)=>{const i=du(n);!function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)?o.push(t):e.recordDroppedEvent("ratelimit_backoff",i)}),0===o.length)return $u({});const s=iu(i[0],o),a=t=>{su(s,(n,r)=>{e.recordDroppedEvent(t,du(r))})};return n.add(()=>t({body:lu(s)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&aa&&Ma.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Mh(r,e),e),e=>{throw a("network_error"),aa&&Ma.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===xh)return aa&&Ma.error("Skipped sending event because buffer is full."),a("queue_overflow"),$u({});throw e})},flush:e=>n.drain(e)}}function Th(e){void 0===e.user?.ip_address&&(e.user={...e.user,ip_address:"{{auto}}"})}function Eh(e){"aggregates"in e?void 0===e.attrs?.ip_address&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function Lh(e={}){const t=e.client||Zl();if(!function(){const e=Zl();return!1!==e?.getOptions().enabled&&!!e?.getTransport()}()||!t)return{};const n=ql(ua());if(n.getTraceData)return n.getTraceData(e);const r=e.scope||Bl(),i=e.span||Nc(),o=i?function(e){const{traceId:t,spanId:n}=e.spanContext();return Sc(t,n,Pc(e))}(i):function(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Sc(t,r,n)}(r),s=yc(i?Qc(i):Jc(t,r));return wc.test(o)?{"sentry-trace":o,baggage:s}:(Ma.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}const Ch=100;function Dh(e,t){const n=Zl(),r=Vl();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Ch}=n.getOptions();if(o<=0)return;const s={timestamp:El(),...e},a=i?ma(()=>i(s,t)):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,o))}let Ph;const $h=new WeakMap,Ah=()=>({name:"FunctionToString",setupOnce(){Ph=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=gl(this),n=$h.has(Zl())&&void 0!==t?t:this;return Ph.apply(n,e)}}catch{}},setup(e){$h.set(e,!0)}}),Rh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Oh=(e={})=>{let t;return{name:"EventFilters",setup(n){const r=n.getOptions();t=Fh(e,r)},processEvent(n,r,i){if(!t){const n=i.getOptions();t=Fh(e,n)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;const n=e.transaction;return!!n&&dl(n,t)}(e,t.ignoreTransactions))return aa&&Ma.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Sl(e)}`),!0}else{if(function(e,t){if(!t?.length)return!1;return sh(e).some(e=>dl(e,t))}(e,t.ignoreErrors))return aa&&Ma.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Sl(e)}`),!0;if(function(e){if(!e.exception?.values?.length)return!1;return!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)}(e))return aa&&Ma.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Sl(e)}`),!0;if(function(e,t){if(!t?.length)return!1;const n=Nh(e);return!!n&&dl(n,t)}(e,t.denyUrls))return aa&&Ma.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Sl(e)}.\nUrl: ${Nh(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;const n=Nh(e);return!n||dl(n,t)}(e,t.allowUrls))return aa&&Ma.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Sl(e)}.\nUrl: ${Nh(e)}`),!0}return!1}(n,t)?null:n}}},Ih=(e={})=>({...Oh(e),name:"InboundFilters"});function Fh(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Rh],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Nh(e){try{const t=[...e.exception?.values??[]].reverse().find(e=>void 0===e.mechanism?.parent_id&&e.stacktrace?.frames?.length),n=t?.stacktrace?.frames;return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return aa&&Ma.error(`Cannot extract url for event ${Sl(e)}`),null}}function Yh(e,t,n,r,i,o){if(!i.exception?.values||!o||!tl(o.originalException,Error))return;const s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;s&&(i.exception.values=jh(e,t,r,o.originalException,n,i.exception.values,s,0))}function jh(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if(tl(r[i],Error)){Hh(s,a);const o=e(t,r[i]),c=l.length;Uh(o,i,c,a),l=jh(e,t,n,r[i],i,[o,...l],o,c)}return Array.isArray(r.errors)&&r.errors.forEach((r,o)=>{if(tl(r,Error)){Hh(s,a);const c=e(t,r),u=l.length;Uh(c,`errors[${o}]`,u,a),l=jh(e,t,n,r,i,[c,...l],c,u)}}),l}function Hh(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Uh(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}new Map,new Set;function zh(e){const t="console";Oa(t,e),Ia(t,Gh)}function Gh(){"console"in la&&fa.forEach(function(e){e in la.console&&fl(la.console,e,function(t){return pa[e]=t,function(...t){Fa("console",{args:t,level:e});const n=pa[e];n?.apply(la.console,t)}})})}function Wh(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const qh=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Vh(e,t))return!1;if(!Bh(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Xh(t),r=Xh(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Vh(e,t))return!1;if(!Bh(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return aa&&Ma.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function Bh(e,t){let n=$a(e),r=$a(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Vh(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch{return!1}}function Xh(e){return e.exception?.values?.[0]}function Kh(e){return"isRelative"in e}function Zh(e,t){const n=e.indexOf("://")<=0&&0!==e.indexOf("//"),r=t??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;const t=new URL(e,r);return n?{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash}:t}catch{}}function Jh(e){if(Kh(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Qh(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ed(e){return e.split(/[?#]/,1)[0]}function td(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const{method:o,url:s}=e.fetchData,a=Uc()&&t(s);if(e.endTimestamp&&a){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){hc(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(n,e),delete r[t]))}const l=!!Nc(),c=a&&l?xu(function(e,t,n){const r=Zh(e);return{name:r?`${t} ${Jh(r)}`:t,attributes:rd(e,r,t,n)}}(s,o,i)):new eu;if(e.fetchData.__span=c.spanContext().spanId,r[c.spanContext().spanId]=c,n(e.fetchData.url)){const t=e.args[0],n=e.args[1]||{},r=function(e,t,n){const r=Lh({span:n}),i=r["sentry-trace"],o=r.baggage;if(!i)return;const s=t.headers||(rl(e)?e.headers:void 0);if(s){if(function(e){return"undefined"!=typeof Headers&&tl(e,Headers)}(s)){const e=new Headers(s);if(e.get("sentry-trace")||e.set("sentry-trace",i),o){const t=e.get("baggage");t?nd(t)||e.set("baggage",`${t},${o}`):e.set("baggage",o)}return e}if(Array.isArray(s)){const e=[...s];s.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",i]);const t=s.find(e=>"baggage"===e[0]&&nd(e[1]));return o&&!t&&e.push(["baggage",o]),e}{const e="sentry-trace"in s?s["sentry-trace"]:void 0,t="baggage"in s?s.baggage:void 0,n=t?Array.isArray(t)?[...t]:[t]:[],r=t&&(Array.isArray(t)?t.find(e=>nd(e)):nd(t));return o&&!r&&n.push(o),{...s,"sentry-trace":e??i,baggage:n.length>0?n.join(","):void 0}}}return{...r}}(t,n,Uc()&&l?c:void 0);r&&(e.args[1]=n,n.headers=r)}const u=Zl();if(u){const t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};u.emit("beforeOutgoingRequestSpan",c,t)}return c}function nd(e){return e.split(",").some(e=>e.trim().startsWith(mc))}function rd(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[rc]:r,[nc]:"http.client"};return t&&(Kh(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}const id="mcp.resource.uri";new Set(["client.address","client.port","mcp.logging.message","mcp.prompt.result.description","mcp.prompt.result.message_content",id,"mcp.tool.result.content"]);new WeakMap;new WeakMap;new WeakSet;function od(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}Error;const sd=la;function ad(){if(!("fetch"in sd))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function ld(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function cd(){if("string"==typeof EdgeRuntime)return!0;if(!ad())return!1;if(ld(sd.fetch))return!0;let e=!1;const t=sd.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=ld(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){aa&&Ma.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function ud(e,t){const n="fetch";Oa(n,e),Ia(n,()=>hd(void 0,t))}function hd(e,t=!1){t&&!cd()||fl(la,"fetch",function(t){return function(...n){const r=new Error,{method:i,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:pd(t),method:fd(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:pd(t),method:fd(t,"method")?String(t.method).toUpperCase():"GET"}}(n),s={args:n,fetchData:{method:i,url:o},startTimestamp:1e3*Dl(),virtualError:r,headers:md(n)};return e||Fa("fetch",{...s}),t.apply(la,n).then(async t=>(e?e(t):Fa("fetch",{...s,endTimestamp:1e3*Dl(),response:t}),t),e=>{if(Fa("fetch",{...s,endTimestamp:1e3*Dl(),error:e}),Wa(e)&&void 0===e.stack&&(e.stack=r.stack,pl(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{const t=new URL(s.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})}function dd(e){let t;try{t=e.clone()}catch{return}!async function(e,t){if(e?.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},9e4);let o=!0;for(;o;){let e;try{e=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:i}=await r.read();clearTimeout(e),i&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(e)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}(t,()=>{Fa("fetch-body-resolved",{endTimestamp:1e3*Dl(),response:e})})}function fd(e,t){return!!e&&"object"==typeof e&&!!e[t]}function pd(e){return"string"==typeof e?e:e?fd(e,"url")?e.url:e.toString?e.toString():"":""}function md(e){const[t,n]=e;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(rl(t))return new Headers(t.headers)}catch{}}function gd(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function _d(){return"undefined"!=typeof window&&(!gd()||function(){const e=la.process;return"renderer"===e?.type}())}const yd=la,bd=yd.document,vd=yd.navigator,wd="Report a Bug",xd=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=Zl();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&Bl().setTags(e.tags);const r=function(e,t={},n=Bl()){const{message:r,name:i,email:o,url:s,source:a,associatedEventId:l,tags:c}=e,u={contexts:{feedback:{contact_email:o,name:i,message:r,url:s,source:a,associated_event_id:l}},type:"feedback",level:"info",tags:c},h=n?.getClient()||Zl();return h&&h.emit("beforeSendFeedback",u,t),n.captureEvent(u,t)}({source:"api",url:al(),...e},t);return new Promise((e,t)=>{const i=setTimeout(()=>t("Unable to determine if Feedback was correctly sent."),3e4),o=n.on("afterSendEvent",(n,s)=>{if(n.event_id===r)return clearTimeout(i),o(),s&&"number"==typeof s.statusCode&&s.statusCode>=200&&s.statusCode<300?e(r):s&&"number"==typeof s.statusCode&&0===s.statusCode?t("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):s&&"number"==typeof s.statusCode&&403===s.statusCode?t("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):t("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},Sd="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Md(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function kd(e,t){return Object.entries(t).forEach(([t,n])=>{e.setAttributeNS(null,t,n)}),e}function Td({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const i=bd.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=t||e||wd,i.appendChild(function(){const e=e=>yd.document.createElementNS("http://www.w3.org/2000/svg",e),t=kd(e("svg"),{width:"20",height:"20",viewBox:"0 0 20 20",fill:"var(--actor-color, var(--foreground))"}),n=kd(e("g"),{clipPath:"url(#clip0_57_80)"}),r=kd(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const i=e("defs"),o=kd(e("clipPath"),{id:"clip0_57_80"}),s=kd(e("rect"),{width:"20",height:"20",fill:"white"});return o.appendChild(s),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(s),t}()),e){const t=bd.createElement("span");t.appendChild(bd.createTextNode(e)),i.appendChild(t)}const o=function(e){const t=bd.createElement("style");return t.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',e&&t.setAttribute("nonce",e),t}(r);return{el:i,appendToDom(){n.appendChild(o),n.appendChild(i)},removeFromDom(){i.remove(),o.remove()},show(){i.ariaHidden="false"},hide(){i.ariaHidden="true"}}}const Ed="rgba(88, 74, 192, 1)",Ld={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Ed,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Cd={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Ed,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Dd(e){return`\n  --foreground: ${e.foreground};\n  --background: ${e.background};\n  --accent-foreground: ${e.accentForeground};\n  --accent-background: ${e.accentBackground};\n  --success-color: ${e.successColor};\n  --error-color: ${e.errorColor};\n  --border: ${e.border};\n  --box-shadow: ${e.boxShadow};\n  --outline: ${e.outline};\n  --interactive-filter: ${e.interactiveFilter};\n  `}const Pd=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:r="sentry-feedback",autoInject:i=!0,showBranding:o=!0,isEmailRequired:s=!1,isNameRequired:a=!1,showEmail:l=!0,showName:c=!0,enableScreenshot:u=!0,useSentryUser:h={email:"email",name:"username"},tags:d,styleNonce:f,scriptNonce:p,colorScheme:m="system",themeLight:g={},themeDark:_={},addScreenshotButtonLabel:y="Add a screenshot",cancelButtonLabel:b="Cancel",confirmButtonLabel:v="Confirm",emailLabel:w="Email",emailPlaceholder:x="your.email@example.org",formTitle:S="Report a Bug",isRequiredLabel:M="(required)",messageLabel:k="Description",messagePlaceholder:T="What's the bug? What did you expect?",nameLabel:E="Name",namePlaceholder:L="Your Name",removeScreenshotButtonLabel:C="Remove screenshot",submitButtonLabel:D="Send Bug Report",successMessageText:P="Thank you for your report!",triggerLabel:$=wd,triggerAriaLabel:A="",onFormOpen:R,onFormClose:O,onSubmitSuccess:I,onSubmitError:F,onFormSubmitted:N}={})=>{const Y={id:r,autoInject:i,showBranding:o,isEmailRequired:s,isNameRequired:a,showEmail:l,showName:c,enableScreenshot:u,useSentryUser:h,tags:d,styleNonce:f,scriptNonce:p,colorScheme:m,themeDark:_,themeLight:g,triggerLabel:$,triggerAriaLabel:A,cancelButtonLabel:b,submitButtonLabel:D,confirmButtonLabel:v,formTitle:S,emailLabel:w,emailPlaceholder:x,messageLabel:k,messagePlaceholder:T,nameLabel:E,namePlaceholder:L,successMessageText:P,isRequiredLabel:M,addScreenshotButtonLabel:y,removeScreenshotButtonLabel:C,onFormClose:O,onFormOpen:R,onSubmitError:F,onSubmitSuccess:I,onFormSubmitted:N};let j=null,H=[];const U=e=>{if(!j){const t=bd.createElement("div");t.id=String(e.id),bd.body.appendChild(t),j=t.attachShadow({mode:"open"}),j.appendChild(function({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const i=bd.createElement("style");return i.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${"system"!==e?"color-scheme: only light;":""}\n\n  ${Dd("dark"===e?{...Cd,...t}:{...Ld,...n})}\n}\n\n${"system"===e?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${Dd({...Cd,...t})}\n  }\n}`:""}\n}\n`,r&&i.setAttribute("nonce",r),i}(e))}return j},z=async r=>{const i=r.enableScreenshot&&!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(vd.userAgent)||/Macintosh/i.test(vd.userAgent)&&vd.maxTouchPoints&&vd.maxTouchPoints>1||!isSecureContext);let o,s;try{o=(t?t():await e("feedbackModalIntegration",p))(),oh(o)}catch{throw Sd&&Ma.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const t=i?n?n():await e("feedbackScreenshotIntegration",p):void 0;t&&(s=t(),oh(s))}catch{Sd&&Ma.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const a=o.createDialog({options:{...r,onFormClose:()=>{a?.close(),r.onFormClose?.()},onFormSubmitted:()=>{a?.close(),r.onFormSubmitted?.()}},screenshotIntegration:s,sendFeedback:xd,shadow:U(r)});return a},G=(e,t={})=>{const n=Md(Y,t),r="string"==typeof e?bd.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)throw Sd&&Ma.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let i=null;const o=async()=>{i||(i=await z({...n,onFormSubmitted:()=>{i?.removeFromDom(),n.onFormSubmitted?.()}})),i.appendToDom(),i.open()};r.addEventListener("click",o);const s=()=>{H=H.filter(e=>e!==s),i?.removeFromDom(),i=null,r.removeEventListener("click",o)};return H.push(s),s},W=(e={})=>{const t=Md(Y,e),n=U(t),r=Td({triggerLabel:t.triggerLabel,triggerAriaLabel:t.triggerAriaLabel,shadow:n,styleNonce:f});return G(r.el,{...t,onFormOpen(){r.hide()},onFormClose(){r.show()},onFormSubmitted(){r.show()}}),r};return{name:"Feedback",setupOnce(){_d()&&Y.autoInject&&("loading"===bd.readyState?bd.addEventListener("DOMContentLoaded",()=>W().appendToDom()):W().appendToDom())},attachTo:G,createWidget(e={}){const t=W(Md(Y,e));return t.appendToDom(),t},createForm:async(e={})=>z(Md(Y,e)),remove(){j&&(j.parentElement?.remove(),j=null),H.forEach(e=>e()),H=[]}}};var $d,Ad,Rd,Od,Id,Fd,Nd,Yd={},jd=[],Hd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ud=Array.isArray;function zd(e,t){for(var n in t)e[n]=t[n];return e}function Gd(e){var t=e.parentNode;t&&t.removeChild(e)}function Wd(e,t,n){var r,i,o,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?$d.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return qd(e,s,r,i,null)}function qd(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++Rd:i,__i:-1,__u:0};return null==i&&null!=Ad.vnode&&Ad.vnode(o),o}function Bd(e){return e.children}function Vd(e,t){this.props=e,this.context=t}function Xd(e,t){if(null==t)return e.__?Xd(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Xd(e):null}function Kd(e,t,n){var r,i=e.__v,o=i.__e,s=e.__P;if(s)return(r=zd({},i)).__v=i.__v+1,Ad.vnode&&Ad.vnode(r),lf(s,r,i,e.__n,void 0!==s.ownerSVGElement,32&i.__u?[o]:null,t,null==o?Xd(i):o,!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&Zd(r),r}function Zd(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Zd(e)}}function Jd(e){(!e.__d&&(e.__d=!0)&&Od.push(e)&&!Qd.__r++||Id!==Ad.debounceRendering)&&((Id=Ad.debounceRendering)||Fd)(Qd)}function Qd(){var e,t,n,r=[],i=[];for(Od.sort(Nd);e=Od.shift();)e.__d&&(n=Od.length,t=Kd(e,r,i)||t,0===n||Od.length>n?(cf(r,t,i),i.length=r.length=0,t=void 0,Od.sort(Nd)):t&&Ad.__c&&Ad.__c(t,jd));t&&cf(r,t,i),Qd.__r=0}function ef(e,t,n,r,i,o,s,a,l,c,u){var h,d,f,p,m,g=r&&r.__k||jd,_=t.length;for(n.__d=l,function(e,t,n){var r,i,o,s,a,l=t.length,c=n.length,u=c,h=0;for(e.__k=[],r=0;r<l;r++)null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?qd(null,i,null,null,i):Ud(i)?qd(Bd,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?qd(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,a=nf(i,n,s=r+h,u),i.__i=a,o=null,-1!==a&&(u--,(o=n[a])&&(o.__u|=131072)),null==o||null===o.__v?(-1==a&&h--,"function"!=typeof i.type&&(i.__u|=65536)):a!==s&&(a===s+1?h++:a>s?u>l-s?h+=a-s:h--:h=a<s&&a==s-1?a-s:0,a!==r+h&&(i.__u|=65536))):(o=n[r])&&null==o.key&&o.__e&&(o.__e==e.__d&&(e.__d=Xd(o)),hf(o,o,!1),n[r]=null,u--);if(u)for(r=0;r<c;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=Xd(o)),hf(o,o))}(n,t,g),l=n.__d,h=0;h<_;h++)null!=(f=n.__k[h])&&"boolean"!=typeof f&&"function"!=typeof f&&(d=-1===f.__i?Yd:g[f.__i]||Yd,f.__i=h,lf(e,f,d,i,o,s,a,l,c,u),p=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&uf(d.ref,null,f),u.push(f.ref,f.__c||p,f)),null==m&&null!=p&&(m=p),65536&f.__u||d.__k===f.__k?l=tf(f,l,e):"function"==typeof f.type&&void 0!==f.__d?l=f.__d:p&&(l=p.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=m}function tf(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=tf(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function nf(e,t,n,r){var i=e.key,o=e.type,s=n-1,a=n+1,l=t[n];if(null===l||l&&i==l.key&&o===l.type)return n;if(r>(null==l||131072&l.__u?0:1))for(;s>=0||a<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&i==l.key&&o===l.type)return s;s--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a++}}return-1}function rf(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Hd.test(t)?n:n+"px"}function of(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||rf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||rf(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?af:sf,o)):e.removeEventListener(t,o?af:sf,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function sf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(Ad.event?Ad.event(e):e)}}function af(e){if(this.l)return this.l[e.type+!0](Ad.event?Ad.event(e):e)}function lf(e,t,n,r,i,o,s,a,l,c){var u,h,d,f,p,m,g,_,y,b,v,w,x,S,M,k=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=t.__e=n.__e]),(u=Ad.__b)&&u(t);e:if("function"==typeof k)try{if(_=t.props,y=(u=k.contextType)&&r[u.__c],b=u?y?y.props.value:u.__:r,n.__c?g=(h=t.__c=n.__c).__=h.__E:("prototype"in k&&k.prototype.render?t.__c=h=new k(_,b):(t.__c=h=new Vd(_,b),h.constructor=k,h.render=df),y&&y.sub(h),h.props=_,h.state||(h.state={}),h.context=b,h.__n=r,d=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=k.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=zd({},h.__s)),zd(h.__s,k.getDerivedStateFromProps(_,h.__s))),f=h.props,p=h.state,h.__v=t,d)null==k.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==k.getDerivedStateFromProps&&_!==f&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(_,b),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(_,h.__s,b)||t.__v===n.__v)){for(t.__v!==n.__v&&(h.props=_,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),v=0;v<h._sb.length;v++)h.__h.push(h._sb[v]);h._sb=[],h.__h.length&&s.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(_,h.__s,b),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(f,p,m)})}if(h.context=b,h.props=_,h.__P=e,h.__e=!1,w=Ad.__r,x=0,"prototype"in k&&k.prototype.render){for(h.state=h.__s,h.__d=!1,w&&w(t),u=h.render(h.props,h.state,h.context),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[]}else do{h.__d=!1,w&&w(t),u=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++x<25);h.state=h.__s,null!=h.getChildContext&&(r=zd(zd({},r),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(m=h.getSnapshotBeforeUpdate(f,p)),ef(e,Ud(M=null!=u&&u.type===Bd&&null==u.key?u.props.children:u)?M:[M],t,n,r,i,o,s,a,l,c),h.base=t.__e,t.__u&=-161,h.__h.length&&s.push(h),g&&(h.__E=h.__=null)}catch(e){t.__v=null,l||null!=o?(t.__e=a,t.__u|=l?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),Ad.__e(e,t,n)}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,o,s,a,l){var c,u,h,d,f,p,m,g=n.props,_=t.props,y=t.type;if("svg"===y&&(i=!0),null!=o)for(c=0;c<o.length;c++)if((f=o[c])&&"setAttribute"in f==!!y&&(y?f.localName===y:3===f.nodeType)){e=f,o[c]=null;break}if(null==e){if(null===y)return document.createTextNode(_);e=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,_.is&&_),o=null,a=!1}if(null===y)g===_||a&&e.data===_||(e.data=_);else{if(o=o&&$d.call(e.childNodes),g=n.props||Yd,!a&&null!=o)for(g={},c=0;c<e.attributes.length;c++)g[(f=e.attributes[c]).name]=f.value;for(c in g)f=g[c],"children"==c||("dangerouslySetInnerHTML"==c?h=f:"key"===c||c in _||of(e,c,null,f,i));for(c in _)f=_[c],"children"==c?d=f:"dangerouslySetInnerHTML"==c?u=f:"value"==c?p=f:"checked"==c?m=f:"key"===c||a&&"function"!=typeof f||g[c]===f||of(e,c,f,g[c],i);if(u)a||h&&(u.__html===h.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),ef(e,Ud(d)?d:[d],t,n,r,i&&"foreignObject"!==y,o,s,o?o[0]:n.__k&&Xd(n,0),a,l),null!=o)for(c=o.length;c--;)null!=o[c]&&Gd(o[c]);a||(c="value",void 0!==p&&(p!==e[c]||"progress"===y&&!p||"option"===y&&p!==g[c])&&of(e,c,p,g[c],!1),c="checked",void 0!==m&&m!==e[c]&&of(e,c,m,g[c],!1))}return e}(n.__e,t,n,r,i,o,s,l,c);(u=Ad.diffed)&&u(t)}function cf(e,t,n){for(var r=0;r<n.length;r++)uf(n[r],n[++r],n[++r]);Ad.__c&&Ad.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){Ad.__e(e,t.__v)}})}function uf(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Ad.__e(e,n)}}function hf(e,t,n){var r,i;if(Ad.unmount&&Ad.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||uf(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Ad.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&hf(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||Gd(e.__e),e.__=e.__e=e.__d=void 0}function df(e,t,n){return this.constructor(e,n)}$d=jd.slice,Ad={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},Rd=0,Vd.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=zd({},this.state),"function"==typeof e&&(e=e(zd({},n),this.props)),e&&zd(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),Jd(this))},Vd.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Jd(this))},Vd.prototype.render=Bd,Od=[],Fd="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Nd=function(e,t){return e.__v.__b-t.__v.__b},Qd.__r=0;var ff,pf,mf,gf,_f=0,yf=[],bf=[],vf=Ad,wf=vf.__b,xf=vf.__r,Sf=vf.diffed,Mf=vf.__c,kf=vf.unmount,Tf=vf.__;function Ef(e,t){vf.__h&&vf.__h(pf,e,_f||t),_f=0;var n=pf.__H||(pf.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:bf}),n.__[e]}function Lf(e){return _f=1,Cf(Yf,e)}function Cf(e,t,n){var r=Ef(ff++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Yf(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=pf,!pf.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!o||o.call(this,e,t,n);var s=!1;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}}),!(!s&&r.__c.props===e)&&(!o||o.call(this,e,t,n))};pf.u=!0;var o=pf.shouldComponentUpdate,s=pf.componentWillUpdate;pf.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,i(e,t,n),o=r}s&&s.call(this,e,t,n)},pf.shouldComponentUpdate=i}return r.__N||r.__}function Df(e,t){var n=Ef(ff++,4);!vf.__s&&Nf(n.__H,t)&&(n.__=e,n.i=t,pf.__h.push(n))}function Pf(e,t){var n=Ef(ff++,7);return Nf(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function $f(e,t){return _f=8,Pf(function(){return e},t)}function Af(){for(var e;e=yf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(If),e.__H.__h.forEach(Ff),e.__H.__h=[]}catch(t){e.__H.__h=[],vf.__e(t,e.__v)}}vf.__b=function(e){pf=null,wf&&wf(e)},vf.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Tf&&Tf(e,t)},vf.__r=function(e){xf&&xf(e),ff=0;var t=(pf=e.__c).__H;t&&(mf===pf?(t.__h=[],pf.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=bf,e.__N=e.i=void 0})):(t.__h.forEach(If),t.__h.forEach(Ff),t.__h=[],ff=0)),mf=pf},vf.diffed=function(e){Sf&&Sf(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==yf.push(t)&&gf===vf.requestAnimationFrame||((gf=vf.requestAnimationFrame)||Of)(Af)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==bf&&(e.__=e.__V),e.i=void 0,e.__V=bf})),mf=pf=null},vf.__c=function(e,t){t.some(function(e){try{e.__h.forEach(If),e.__h=e.__h.filter(function(e){return!e.__||Ff(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],vf.__e(n,e.__v)}}),Mf&&Mf(e,t)},vf.unmount=function(e){kf&&kf(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{If(e)}catch(e){t=e}}),n.__H=void 0,t&&vf.__e(t,n.__v))};var Rf="function"==typeof requestAnimationFrame;function Of(e){var t,n=function(){clearTimeout(r),Rf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Rf&&(t=requestAnimationFrame(n))}function If(e){var t=pf,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),pf=t}function Ff(e){var t=pf;e.__c=e.__(),pf=t}function Nf(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function Yf(e,t){return"function"==typeof t?t(e):t}const jf=Object.defineProperty({__proto__:null,useCallback:$f,useContext:function(e){var t=pf.context[e.__c],n=Ef(ff++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(pf)),t.props.value):e.__},useDebugValue:function(e,t){vf.useDebugValue&&vf.useDebugValue(t?t(e):e)},useEffect:function(e,t){var n=Ef(ff++,3);!vf.__s&&Nf(n.__H,t)&&(n.__=e,n.i=t,pf.__H.__h.push(n))},useErrorBoundary:function(e){var t=Ef(ff++,10),n=Lf();return t.__=e,pf.componentDidCatch||(pf.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:function(){var e=Ef(ff++,11);if(!e.__){for(var t=pf.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__},useImperativeHandle:function(e,t,n){_f=6,Df(function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},null==n?n:n.concat(e))},useLayoutEffect:Df,useMemo:Pf,useReducer:Cf,useRef:function(e){return _f=5,Pf(function(){return{current:e}},[])},useState:Lf},Symbol.toStringTag,{value:"Module"});function Hf(){const e=e=>bd.createElementNS("http://www.w3.org/2000/svg",e),t=kd(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=kd(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function Uf({options:e}){const t=Pf(()=>({__html:Hf().outerHTML}),[]);return Wd("h2",{class:"dialog__header"},Wd("span",{class:"dialog__title"},e.formTitle),e.showBranding?Wd("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function zf(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function Gf({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:i,onSubmitSuccess:o,onSubmitError:s,showEmail:a,showName:l,screenshotInput:c}){const{tags:u,addScreenshotButtonLabel:h,removeScreenshotButtonLabel:d,cancelButtonLabel:f,emailLabel:p,emailPlaceholder:m,isEmailRequired:g,isNameRequired:_,messageLabel:y,messagePlaceholder:b,nameLabel:v,namePlaceholder:w,submitButtonLabel:x,isRequiredLabel:S}=e,[M,k]=Lf(!1),[T,E]=Lf(null),[L,C]=Lf(!1),D=c?.input,[P,$]=Lf(null),A=$f(e=>{$(e),C(!1)},[]),R=$f(e=>{const t=function(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}(e,{emailLabel:p,isEmailRequired:g,isNameRequired:_,messageLabel:y,nameLabel:v});return t.length>0?E(`Please enter in the following required fields: ${t.join(", ")}`):E(null),0===t.length},[p,g,_,y,v]),O=$f(async e=>{k(!0);try{if(e.preventDefault(),!(e.target instanceof HTMLFormElement))return;const t=new FormData(e.target),n=await(c&&L?c.value():void 0),r={name:zf(t,"name"),email:zf(t,"email"),message:zf(t,"message"),attachments:n?[n]:void 0};if(!R(r))return;try{const e=await i({name:r.name,email:r.email,message:r.message,source:"widget",tags:u},{attachments:r.attachments});o(r,e)}catch(e){Sd&&Ma.error(e),E(e),s(e)}}finally{k(!1)}},[c&&L,o,s]);return Wd("form",{class:"form",onSubmit:O},D&&L?Wd(D,{onError:A}):null,Wd("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:M},Wd("div",{class:"form__top"},T?Wd("div",{class:"form__error-container"},T):null,l?Wd("label",{for:"name",class:"form__label"},Wd(Wf,{label:v,isRequiredLabel:S,isRequired:_}),Wd("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:w,required:_,type:"text"})):Wd("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?Wd("label",{for:"email",class:"form__label"},Wd(Wf,{label:p,isRequiredLabel:S,isRequired:g}),Wd("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:g,type:"email"})):Wd("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),Wd("label",{for:"message",class:"form__label"},Wd(Wf,{label:y,isRequiredLabel:S,isRequired:!0}),Wd("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:b,required:!0,rows:5})),D?Wd("label",{for:"screenshot",class:"form__label"},Wd("button",{class:"btn btn--default",disabled:M,type:"button",onClick:()=>{$(null),C(e=>!e)}},L?d:h),P?Wd("div",{class:"form__error-container"},P.message):null):null),Wd("div",{class:"btn-group"},Wd("button",{class:"btn btn--primary",disabled:M,type:"submit"},x),Wd("button",{class:"btn btn--default",disabled:M,type:"button",onClick:r},f))))}function Wf({label:e,isRequired:t,isRequiredLabel:n}){return Wd("span",{class:"form__label__text"},e,t&&Wd("span",{class:"form__label__text--required"},n))}function qf(){const e=e=>yd.document.createElementNS("http://www.w3.org/2000/svg",e),t=kd(e("svg"),{width:"16",height:"17",viewBox:"0 0 16 17",fill:"inherit"}),n=kd(e("g"),{clipPath:"url(#clip0_57_156)"}),r=kd(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=kd(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(i,r);const o=e("defs"),s=kd(e("clipPath"),{id:"clip0_57_156"}),a=kd(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(a),t}function Bf({open:e,onFormSubmitted:t,...n}){const r=n.options,i=Pf(()=>({__html:qf().outerHTML}),[]),[o,s]=Lf(null),a=$f(()=>{o&&(clearTimeout(o),s(null)),t()},[o]),l=$f((e,r)=>{n.onSubmitSuccess(e,r),s(setTimeout(()=>{t(),s(null)},5e3))},[t]);return Wd(Bd,null,o?Wd("div",{class:"success__position",onClick:a},Wd("div",{class:"success__content"},r.successMessageText,Wd("span",{class:"success__icon",dangerouslySetInnerHTML:i}))):Wd("dialog",{class:"dialog",onClick:r.onFormClose,open:e},Wd("div",{class:"dialog__position"},Wd("div",{class:"dialog__content",onClick:e=>{e.stopPropagation()}},Wd(Uf,{options:r}),Wd(Gf,{...n,onSubmitSuccess:l})))))}const Vf=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const i=r,o=e.useSentryUser,s=function(){const e=Bl().getUser(),t=Vl().getUser(),n=Xl().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}(),a=bd.createElement("div"),l=function(e){const t=bd.createElement("style");return t.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n\n\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n\n\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n\n\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n\n",e&&t.setAttribute("nonce",e),t}(e.styleNonce);let c="";const u={get el(){return a},appendToDom(){i.contains(l)||i.contains(a)||(i.appendChild(l),i.appendChild(a))},removeFromDom(){a.remove(),l.remove(),bd.body.style.overflow=c},open(){d(!0),e.onFormOpen?.(),Zl()?.emit("openFeedbackWidget"),c=bd.body.style.overflow,bd.body.style.overflow="hidden"},close(){d(!1),bd.body.style.overflow=c}},h=t?.createInput({h:Wd,hooks:jf,dialog:u,options:e}),d=t=>{!function(e,t){var n,r,i;Ad.__&&Ad.__(e,t),n=t.__k,r=[],i=[],lf(t,e=t.__k=Wd(Bd,null,[e]),n||Yd,Yd,void 0!==t.ownerSVGElement,n?null:t.firstChild?$d.call(t.childNodes):null,r,n?n.__e:t.firstChild,!1,i),e.__d=void 0,cf(r,e,i)}(Wd(Bf,{options:e,screenshotInput:h,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&s?.[o.name]||"",defaultEmail:o&&s?.[o.email]||"",onFormClose:()=>{d(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(t,n)=>{d(!1),e.onSubmitSuccess?.(t,n)},onSubmitError:t=>{e.onSubmitError?.(t)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:t}),a)};return u}});function Xf(e){const t=bd.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${n};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${n} 8px,\n      ${n} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${r} 15px,\n      ${r} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`,e&&t.setAttribute("nonce",e),t}function Kf({hooks:e}){return function({onBeforeScreenshot:t,onScreenshot:n,onAfterScreenshot:r,onError:i}){const o=function(){const[t,n]=e.useState(yd.devicePixelRatio??1);return e.useEffect(()=>{const e=()=>{n(yd.devicePixelRatio)},t=matchMedia(`(resolution: ${yd.devicePixelRatio}dppx)`);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}},[]),t}();e.useEffect(()=>{(async()=>{t();const e=await vd.mediaDevices.getDisplayMedia({video:{width:yd.innerWidth*o,height:yd.innerHeight*o},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),i=bd.createElement("video");await new Promise((t,r)=>{i.srcObject=e,i.onloadedmetadata=()=>{n(i,o),e.getTracks().forEach(e=>e.stop()),t()},i.play().catch(r)}),r()})().catch(i)},[])}}function Zf(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function Jf(e,t){Zf(e,{alpha:!0},(e,n)=>{n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height)})}function Qf(e,t,n){Zf(e,{alpha:!0},(e,r)=>{n.length&&(r.fillStyle="rgba(0, 0, 0, 0.25)",r.fillRect(0,0,e.width,e.height)),n.forEach(e=>{!function(e,t,n){switch(e.type){case"highlight":t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break;case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h)}}(e,r,t)})})}function ep({h:e,hooks:t,outputBuffer:n,dialog:r,options:i}){const o=Kf({hooks:t}),s=function({h:e}){return function({action:t,setAction:n}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:"editor__tool "+("highlight"===t?"editor__tool--active":""),onClick:()=>{n("highlight"===t?"":"highlight")}},"Highlight"),e("button",{type:"button",class:"editor__tool "+("hide"===t?"editor__tool--active":""),onClick:()=>{n("hide"===t?"":"hide")}},"Hide")))}}({h:e}),a=function({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}({h:e}),l={__html:Xf(i.styleNonce).innerText},c=r.el.style,u=({screenshot:r})=>{const[o,c]=t.useState("highlight"),[u,h]=t.useState([]),d=t.useRef(null),f=t.useRef(null),p=t.useRef(null),m=t.useRef(null),[g,_]=t.useState(1),y=t.useMemo(()=>{const e=bd.getElementById(i.id);if(!e)return"white";const t=getComputedStyle(e);return t.getPropertyValue("--button-primary-background")||t.getPropertyValue("--accent-background")},[i.id]);t.useLayoutEffect(()=>{const e=()=>{const t=d.current;t&&(Zf(r.canvas,{alpha:!1},e=>{const n=Math.min(t.clientWidth/e.width,t.clientHeight/e.height);_(n)}),0!==t.clientHeight&&0!==t.clientWidth||setTimeout(e,0))};return e(),yd.addEventListener("resize",e),()=>{yd.removeEventListener("resize",e)}},[r]);const b=t.useCallback((e,t)=>{Zf(e,{alpha:!0},(e,n)=>{n.scale(t,t),e.width=r.canvas.width,e.height=r.canvas.height})},[r]);t.useEffect(()=>{b(f.current,r.dpi),Jf(f.current,r.canvas)},[r]),t.useEffect(()=>{b(p.current,r.dpi),Zf(p.current,{alpha:!0},(e,t)=>{t.clearRect(0,0,e.width,e.height)}),Qf(p.current,y,u)},[u,y]),t.useEffect(()=>{b(n,r.dpi),Jf(n,r.canvas),Zf(bd.createElement("canvas"),{alpha:!0},(e,t)=>{t.scale(r.dpi,r.dpi),e.width=r.canvas.width,e.height=r.canvas.height,Qf(e,y,u),Jf(n,e)})},[u,r,y]);const v=t.useCallback(e=>t=>{t.preventDefault(),t.stopPropagation(),h(t=>{const n=[...t];return n.splice(e,1),n})},[]),w={width:r.canvas.width*g+"px",height:r.canvas.height*g+"px"},x=e=>{e.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:l}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:d},e("canvas",{ref:f,id:"background",style:w}),e("canvas",{ref:p,id:"foreground",style:w}),e("div",{ref:m,onMouseDown:e=>{if(!o||!m.current)return;const t=m.current.getBoundingClientRect(),n={type:o,x:e.offsetX/g,y:e.offsetY/g},r=(e,n)=>{const r=(n.clientX-t.x)/g,i=(n.clientY-t.y)/g;return{type:e.type,x:Math.min(e.x,r),y:Math.min(e.y,i),w:Math.abs(r-e.x),h:Math.abs(i-e.y)}},i=e=>{Zf(p.current,{alpha:!0},(e,t)=>{t.clearRect(0,0,e.width,e.height)}),Qf(p.current,y,[...u,r(n,e)])},s=e=>{const t=r(n,e);t.w*g>=1&&t.h*g>=1&&h(e=>[...e,t]),bd.removeEventListener("mousemove",i),bd.removeEventListener("mouseup",s)};bd.addEventListener("mousemove",i),bd.addEventListener("mouseup",s)},style:w},u.map((t,n)=>e("div",{key:n,class:"editor__rect",style:{top:t.y*g+"px",left:t.x*g+"px",width:t.w*g+"px",height:t.h*g+"px"}},e("button",{"aria-label":"Remove",onClick:v(n),onMouseDown:x,onMouseUp:x,type:"button"},e(a,null))))))),e(s,{action:o,setAction:c}))};return function({onError:r}){const[i,s]=t.useState();return o({onBeforeScreenshot:t.useCallback(()=>{c.display="none"},[]),onScreenshot:t.useCallback((e,t)=>{Zf(bd.createElement("canvas"),{alpha:!1},(n,r)=>{r.scale(t,t),n.width=e.videoWidth,n.height=e.videoHeight,r.drawImage(e,0,0,n.width,n.height),s({canvas:n,dpi:t})}),n.width=e.videoWidth,n.height=e.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{c.display="block"},[]),onError:t.useCallback(e=>{c.display="block",r(e)},[])}),i?e(u,{screenshot:i}):e("div",null)}}const tp=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const i=bd.createElement("canvas");return{input:ep({h:e,hooks:t,outputBuffer:i,dialog:n,options:r}),value:async()=>{const e=await new Promise(e=>{i.toBlob(e,"image/png")});if(e){return{data:new Uint8Array(await e.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}}),np=la;let rp=0;function ip(){return rp>0}function op(e,t={}){if(!function(e){return"function"==typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(gl(e))return e}catch{return e}const n=function(...n){try{const r=n.map(e=>op(e,t));return e.apply(this,r)}catch(e){throw rp++,setTimeout(()=>{rp--}),Kl(r=>{r.addEventProcessor(e=>(t.mechanism&&(Ml(e,void 0,void 0),kl(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),qu(e)}),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch{}ml(n,e),pl(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}function sp(){const e=al(),{referrer:t}=np.document||{},{userAgent:n}=np.navigator||{};return{url:e,headers:{...t&&{Referer:t},...n&&{"User-Agent":n}}}}const ap={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},lp=np;Pd({lazyLoadIntegration:async function(e,t){const n=ap[e],r=lp.Sentry=lp.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const i=r[e];if("function"==typeof i&&!("_isShim"in i))return i;const o=function(e){const t=Zl(),n=t?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${ca}/${e}.min.js`,n).toString()}(n),s=np.document.createElement("script");s.src=o,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);const a=new Promise((e,t)=>{s.addEventListener("load",()=>e()),s.addEventListener("error",t)}),l=np.document.currentScript,c=np.document.body||np.document.head||l?.parentElement;if(!c)throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);c.appendChild(s);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const u=r[e];if("function"!=typeof u)throw new Error(`Could not load integration: ${e}`);return u}}),Pd({getModalIntegration:()=>Vf,getScreenshotIntegration:()=>tp});function cp(e,t){const n=dp(e,t),r={type:mp(t),value:gp(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function up(e,t,n,r){const i=Zl(),o=i?.getOptions().normalizeDepth,s=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),a={__serialized__:nu(t,o)};if(s)return{exception:{values:[cp(e,s)]},extra:a};const l={exception:{values:[{type:Qa(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:bp(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=dp(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}function hp(e,t){return{exception:{values:[cp(e,t)]}}}function dp(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e&&fp.test(e.message))return 1;return 0}(t),i=function(e){if("number"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,i)}catch{}return[]}const fp=/Minified React error #\d+;/i;function pp(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function mp(e){const t=e?.name;if(!t&&pp(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception"}return t}function gp(e){const t=e?.message;return pp(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function _p(e,t,n,r,i){let o;if(Ba(t)&&t.error){return hp(e,t.error)}if(Va(t)||qa(t,"DOMException")){const i=t;if("stack"in t)o=hp(e,t);else{const t=i.name||(Va(i)?"DOMError":"DOMException"),s=i.message?`${t}: ${i.message}`:t;o=yp(e,s,n,r),Ml(o,s)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}if(Wa(t))return hp(e,t);if(Ja(t)||Qa(t)){return o=up(e,t,n,i),kl(o,{synthetic:!0}),o}return o=yp(e,t,n,r),Ml(o,`${t}`,void 0),kl(o,{synthetic:!0}),o}function yp(e,t,n,r){const i={};if(r&&n){const r=dp(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),kl(i,{synthetic:!0})}if(Ka(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function bp(e,{isUnhandledRejection:t}){const n=vl(e),r=t?"promise rejection":"exception";if(Ba(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(Qa(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class vp extends mh{constructor(e){const t=(n=e,{release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:np.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...n});var n;!function(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:ca})),version:ca}),e._metadata=i}(t,"browser",["browser"],np.SENTRY_SDK_SOURCE||"npm"),super(t);const{sendDefaultPii:r,sendClientReports:i,enableLogs:o,_experiments:s}=this._options,a=o??s?.enableLogs;np.document&&(i||a)&&np.document.addEventListener("visibilitychange",()=>{"hidden"===np.document.visibilityState&&(i&&this._flushOutcomes(),a&&yh(this))}),a&&(this.on("flush",()=>{yh(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{yh(this)},5e3)})),r&&(this.on("postprocessEvent",Th),this.on("beforeSendSession",Eh))}eventFromException(e,t){return function(e,t,n,r){const i=_p(e,t,n?.syntheticException||void 0,r);return kl(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),$u(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const o=yp(e,t,r?.syntheticException||void 0,i);return o.level=n,r?.event_id&&(o.event_id=r.event_id),$u(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}}const wp="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,xp=la,Sp=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i??0),(o||void 0===i)&&(i=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},Mp=(e=!0)=>{const t=xp.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},kp=()=>{const e=Mp();return e?.activationStart??0},Tp=(e,t=-1)=>{const n=Mp();let r="navigate";n&&(xp.document?.prerendering||kp()>0?r="prerender":xp.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Ep=new WeakMap;function Lp(e,t){return Ep.get(e)||Ep.set(e,new t),Ep.get(e)}class Cp{constructor(){Cp.prototype.__init.call(this),Cp.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const t=this._sessionEntries[0],n=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const Dp=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Pp=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let $p=-1;const Ap=e=>{"hidden"===xp.document.visibilityState&&$p>-1&&($p="visibilitychange"===e.type?e.timeStamp:0,Rp())},Rp=()=>{removeEventListener("visibilitychange",Ap,!0),removeEventListener("prerenderingchange",Ap,!0)},Op=()=>{if(xp.document&&$p<0){const e=kp(),t=xp.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;$p=t??("hidden"!==xp.document?.visibilityState||xp.document?.prerendering?1/0:0),addEventListener("visibilitychange",Ap,!0),addEventListener("prerenderingchange",Ap,!0)}return{get firstHiddenTime(){return $p}}},Ip=e=>{xp.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Fp=[1800,3e3],Np=[.1,.25],Yp=(e,t={})=>{((e,t={})=>{Ip(()=>{const n=Op(),r=Tp("FCP");let i;const o=Dp("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(o.disconnect(),t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-kp(),0),r.entries.push(t),i(!0)))});o&&(i=Sp(e,r,Fp,t.reportAllChanges))})})(Pp(()=>{const n=Tp("CLS",0);let r;const i=Lp(t,Cp),o=e=>{for(const t of e)i._processEntry(t);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},s=Dp("layout-shift",o);s&&(r=Sp(e,n,Np,t.reportAllChanges),xp.document?.addEventListener("visibilitychange",()=>{"hidden"===xp.document?.visibilityState&&(o(s.takeRecords()),r(!0))}),xp?.setTimeout?.(r))}))},jp=e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==xp.document?.visibilityState||e(t)};xp.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Hp=[100,300];let Up=0,zp=1/0,Gp=0;const Wp=e=>{e.forEach(e=>{e.interactionId&&(zp=Math.min(zp,e.interactionId),Gp=Math.max(Gp,e.interactionId),Up=Gp?(Gp-zp)/7+1:0)})};let qp;const Bp=()=>qp?Up:performance.interactionCount||0,Vp=()=>{"interactionCount"in performance||qp||(qp=Dp("event",Wp,{type:"event",buffered:!0,durationThreshold:0}))};let Xp=0;class Kp{constructor(){Kp.prototype.__init.call(this),Kp.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Xp=Bp(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor((Bp()-Xp)/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this._longestInteractionList.at(-1);let n=this._longestInteractionMap.get(e.interactionId);if(n||this._longestInteractionList.length<10||e.duration>t._latency){if(n?e.duration>n._latency?(n.entries=[e],n._latency=e.duration):e.duration===n._latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(n.id,n),this._longestInteractionList.push(n)),this._longestInteractionList.sort((e,t)=>t._latency-e._latency),this._longestInteractionList.length>10){const e=this._longestInteractionList.splice(10);for(const t of e)this._longestInteractionMap.delete(t.id)}this._onAfterProcessingINPCandidate?.(n)}}}const Zp=e=>{const t=xp.requestIdleCallback||xp.setTimeout;"hidden"===xp.document?.visibilityState?e():(t(e=Pp(e)),jp(e))},Jp=[200,500];class Qp{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const em=[2500,4e3],tm=[800,1800],nm=e=>{xp.document?.prerendering?Ip(()=>nm(e)):"complete"!==xp.document?.readyState?addEventListener("load",()=>nm(e),!0):setTimeout(e)},rm={},im={};let om,sm,am,lm,cm;function um(e,t=!1){return bm("cls",e,pm,om,t)}function hm(e,t=!1){return bm("lcp",e,gm,am,t)}function dm(e,t){return vm(e,t),im[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Dp(e,t=>{fm(e,{entries:t})},t)}(e),im[e]=!0),wm(e,t)}function fm(e,t){const n=rm[e];if(n?.length)for(const r of n)try{r(t)}catch(t){wp&&Ma.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Pa(r)}\nError:`,t)}}function pm(){return Yp(e=>{fm("cls",{metric:e}),om=e},{reportAllChanges:!0})}function mm(){return((e,t={})=>{Ip(()=>{const n=Op(),r=Tp("FID");let i;const o=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),i(!0))},s=e=>{e.forEach(o)},a=Dp("first-input",s);i=Sp(e,r,Hp,t.reportAllChanges),a&&jp(Pp(()=>{s(a.takeRecords()),a.disconnect()}))})})(e=>{fm("fid",{metric:e}),sm=e})}function gm(){return((e,t={})=>{Ip(()=>{const n=Op(),r=Tp("LCP");let i;const o=Lp(t,Qp),s=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)o._processEntry(t),t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-kp(),0),r.entries=[t],i())},a=Dp("largest-contentful-paint",s);if(a){i=Sp(e,r,em,t.reportAllChanges);const n=Pp(()=>{s(a.takeRecords()),a.disconnect(),i(!0)});for(const e of["keydown","click","visibilitychange"])xp.document&&addEventListener(e,()=>Zp(n),{capture:!0,once:!0})}})})(e=>{fm("lcp",{metric:e}),am=e},{reportAllChanges:!0})}function _m(){return((e,t={})=>{const n=Tp("TTFB"),r=Sp(e,n,tm,t.reportAllChanges);nm(()=>{const e=Mp();e&&(n.value=Math.max(e.responseStart-kp(),0),n.entries=[e],r(!0))})})(e=>{fm("ttfb",{metric:e}),lm=e})}function ym(){return((e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Ip(()=>{Vp();const n=Tp("INP");let r;const i=Lp(t,Kp),o=e=>{Zp(()=>{for(const t of e)i._processEntry(t);const t=i._estimateP98LongestInteraction();t&&t._latency!==n.value&&(n.value=t._latency,n.entries=t.entries,r())})},s=Dp("event",o,{durationThreshold:t.durationThreshold??40});r=Sp(e,n,Jp,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),jp(()=>{o(s.takeRecords()),r(!0)}))})})(e=>{fm("inp",{metric:e}),cm=e})}function bm(e,t,n,r,i=!1){let o;return vm(e,t),im[e]||(o=n(),im[e]=!0),r&&t({metric:r}),wm(e,t,i?o:void 0)}function vm(e,t){rm[e]=rm[e]||[],rm[e].push(t)}function wm(e,t,n){return()=>{n&&n();const r=rm[e];if(!r)return;const i=r.indexOf(t);-1!==i&&r.splice(i,1)}}function xm(e){return"number"==typeof e&&isFinite(e)}function Sm(e,t,n,{...r}){const i=Dc(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),Su(e,()=>{const e=xu({startTime:t,...r});return e&&e.end(n),e})}function Mm(e){const t=Zl();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:o}=e,{release:s,environment:a,sendDefaultPii:l}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c?.getReplayId(),h=Bl(),d=h.getUser(),f=void 0!==d?d.email||d.id||d.ip_address:void 0;let p;try{p=h.getScopeData().contexts.profile.profile_id}catch{}return xu({name:n,attributes:{release:s,environment:a,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":xp.navigator?.userAgent,"client.address":l?"{{auto}}":void 0,...i},startTime:o,experimental:{standalone:!0}})}function km(){return xp.addEventListener&&xp.performance}function Tm(e){return e/1e3}function Em(e){let t="unknown",n="unknown",r="";for(const i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Lm(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Cm(e,t){let n,r=!1;function i(e){!r&&n&&t(e,n),r=!0}jp(()=>{i("pagehide")});const o=e.on("beforeStartNavigationSpan",(e,t)=>{t?.isRedirect||(i("navigation"),o?.(),s?.())}),s=e.on("afterStartPageLoadSpan",e=>{n=e.spanContext().spanId,s?.()})}function Dm(e){let t,n=0;if(!Lm("layout-shift"))return;const r=um(({metric:e})=>{const r=e.entries[e.entries.length-1];r&&(n=e.value,t=r)},!0);Cm(e,(e,i)=>{!function(e,t,n,r){wp&&Ma.log(`Sending CLS span (${e})`);const i=Tm((Pl()||0)+(t?.startTime||0)),o=Bl().getScopeData().transactionName,s=t?ol(t.sources[0]?.node):"Layout shift",a={[rc]:"auto.http.browser.cls",[nc]:"ui.webvital.cls",[cc]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((e,t)=>{a[`cls.source.${t+1}`]=ol(e.node)});const l=Mm({name:s,transaction:o,attributes:a,startTime:i});l&&(l.addEvent("cls",{[oc]:"",[sc]:e}),l.end(i))}(n,t,i,e),r()})}function Pm(e){let t,n=0;if(!Lm("largest-contentful-paint"))return;const r=hm(({metric:e})=>{const r=e.entries[e.entries.length-1];r&&(n=e.value,t=r)},!0);Cm(e,(e,i)=>{!function(e,t,n,r){wp&&Ma.log(`Sending LCP span (${e})`);const i=Tm((Pl()||0)+(t?.startTime||0)),o=Bl().getScopeData().transactionName,s=t?ol(t.element):"Largest contentful paint",a={[rc]:"auto.http.browser.lcp",[nc]:"ui.webvital.lcp",[cc]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=ol(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),null!=t.loadTime&&(a["lcp.loadTime"]=t.loadTime),null!=t.renderTime&&(a["lcp.renderTime"]=t.renderTime),null!=t.size&&(a["lcp.size"]=t.size));const l=Mm({name:s,transaction:o,attributes:a,startTime:i});l&&(l.addEvent("lcp",{[oc]:"millisecond",[sc]:e}),l.end(i))}(n,t,i,e),r()})}let $m,Am,Rm=0,Om={};function Im({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=km();if(r&&Pl()){r.mark&&xp.performance.mark("sentry-tracing-init");const i=bm("fid",({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Tm(Pl()),r=Tm(t.startTime);Om.fid={value:e.value,unit:"millisecond"},Om["mark.fid"]={value:n+r,unit:"second"}},mm,sm),o=t?Pm(n):hm(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Om.lcp={value:e.value,unit:"millisecond"},$m=t)},!0),s=function(e){return bm("ttfb",e,_m,lm)}(({metric:e})=>{e.entries[e.entries.length-1]&&(Om.ttfb={value:e.value,unit:"millisecond"})}),a=e?Dm(n):um(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Om.cls={value:e.value,unit:""},Am=t)},!0);return()=>{i(),o?.(),s(),a?.()}}return()=>{}}function Fm(e,t){const n=km(),r=Pl();if(!n?.getEntries||!r)return;const i=Tm(r),o=n.getEntries(),{op:s,start_timestamp:a}=Dc(e);if(o.slice(Rm).forEach(n=>{const r=Tm(n.startTime),o=Tm(Math.max(0,n.duration));if(!("navigation"===s&&a&&i+r<a))switch(n.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Nm(e,t,r,n)}),Nm(e,t,"secureConnection",n,"TLS/SSL"),Nm(e,t,"fetch",n,"cache"),Nm(e,t,"domainLookup",n,"DNS"),function(e,t,n){const r=n+Tm(t.requestStart),i=n+Tm(t.responseEnd),o=n+Tm(t.responseStart);t.responseEnd&&(Sm(e,r,i,{op:"browser.request",name:t.name,attributes:{[rc]:"auto.ui.browser.metrics"}}),Sm(e,o,i,{op:"browser.response",name:t.name,attributes:{[rc]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,n,i);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i,o){if(["mark","measure"].includes(t.entryType)&&dl(t.name,o))return;const s=Mp(!1),a=Tm(s?s.requestStart:0),l=i+Math.max(n,a),c=i+n,u=c+r,h={[rc]:"auto.resource.browser.metrics"};l!==c&&(h["sentry.browser.measure_happened_before_request"]=!0,h["sentry.browser.measure_start_time"]=l);(function(e,t){try{const n=t.detail;if(!n)return;if("object"==typeof n){for(const[t,r]of Object.entries(n))if(r&&Za(r))e[`sentry.browser.measure.detail.${t}`]=r;else if(void 0!==r)try{e[`sentry.browser.measure.detail.${t}`]=JSON.stringify(r)}catch{}return}if(Za(n))return void(e["sentry.browser.measure.detail"]=n);try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}})(h,t),l<=u&&Sm(e,l,u,{name:t.name,op:t.entryType,attributes:h})}(e,n,r,o,i,t.ignorePerformanceApiSpans);const s=Op(),a=n.startTime<s.firstHiddenTime;"first-paint"===n.name&&a&&(Om.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&a&&(Om.fcp={value:n.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,i,o,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;const l=Qh(n),c={[rc]:"auto.resource.browser.metrics"};Ym(c,t,"transferSize","http.response_transfer_size"),Ym(c,t,"encodedBodySize","http.response_content_length"),Ym(c,t,"decodedBodySize","http.decoded_response_content_length");const u=t.deliveryType;null!=u&&(c["http.response_delivery_type"]=u);const h=t.renderBlockingStatus;h&&(c["resource.render_blocking_status"]=h);l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop());l.host&&(c["server.address"]=l.host);if(c["url.same_origin"]=n.includes(xp.location.origin),null!=t.nextHopProtocol){const{name:e,version:n}=Em(t.nextHopProtocol);c["network.protocol.name"]=e,c["network.protocol.version"]=n}const d=o+r,f=d+i;Sm(e,d,f,{name:n.replace(xp.location.origin,""),op:a,attributes:c})}(e,n,n.name,r,o,i,t.ignoreResourceSpans)}}),Rm=Math.max(o.length-1,0),function(e){const t=xp.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),xm(n.rtt)&&(Om["connection.rtt"]={value:n.rtt,unit:"millisecond"}));xm(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);xm(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){!function(e){const t=Mp(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(Om);const n=Om["mark.fid"];n&&Om.fid&&(Sm(e,n.value,n.value+Tm(Om.fid.value),{name:"first input delay",op:"ui.action",attributes:{[rc]:"auto.ui.browser.metrics"}}),delete Om["mark.fid"]),t.recordClsOnPageloadSpan||delete Om.cls,t.recordLcpOnPageloadSpan||delete Om.lcp,Object.entries(Om).forEach(([e,t])=>{!function(e,t,n,r=Nc()){const i=r&&Fc(r);i&&(aa&&Ma.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[sc]:t,[oc]:n}))}(e,t.value,t.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",kp()),function(e,t){$m&&t.recordLcpOnPageloadSpan&&($m.element&&e.setAttribute("lcp.element",ol($m.element)),$m.id&&e.setAttribute("lcp.id",$m.id),$m.url&&e.setAttribute("lcp.url",$m.url.trim().slice(0,200)),null!=$m.loadTime&&e.setAttribute("lcp.loadTime",$m.loadTime),null!=$m.renderTime&&e.setAttribute("lcp.renderTime",$m.renderTime),e.setAttribute("lcp.size",$m.size));Am?.sources&&t.recordClsOnPageloadSpan&&Am.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,ol(t.node)))}(e,t)}$m=void 0,Am=void 0,Om={}}function Nm(e,t,n,r,i=n){const o=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return`${e}End`}(n),s=t[o],a=t[`${n}Start`];a&&s&&Sm(e,r+Tm(a),r+Tm(s),{op:`browser.${i}`,name:t.name,attributes:{[rc]:"auto.ui.browser.metrics",..."redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{}}})}function Ym(e,t,n,r){const i=t[n];null!=i&&i<2147483647&&(e[r]=i)}const jm=({entries:e})=>{const t=Nc(),n=t?Fc(t):void 0,r=n?Dc(n).description:Bl().getScopeData().transactionName;e.forEach(e=>{const t=e;if(!t.identifier)return;const n=t.name,i=t.renderTime,o=t.loadTime,[s,a]=o?[Tm(o),"load-time"]:i?[Tm(i),"render-time"]:[Dl(),"entry-emission"],l="image-paint"===n?Tm(Math.max(0,(i??0)-(o??0))):0,c={[rc]:"auto.ui.browser.elementtiming",[nc]:"ui.elementtiming",[Ql]:"component","sentry.span_start_time_source":a,"sentry.transaction_name":r,"element.id":t.id,"element.type":t.element?.tagName?.toLowerCase()||"unknown","element.size":t.naturalWidth&&t.naturalHeight?`${t.naturalWidth}x${t.naturalHeight}`:void 0,"element.render_time":i,"element.load_time":o,"element.url":t.url||void 0,"element.identifier":t.identifier,"element.paint_type":n};wu({name:`element[${t.identifier}]`,attributes:c,startTime:s,onlyIfParent:!0},e=>{e.end(s+l)})})};let Hm,Um,zm,Gm;function Wm(){if(!xp.document)return;const e=Fa.bind(null,"dom"),t=qm(e,!0);xp.document.addEventListener("click",t,!1),xp.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{const n=xp,r=n[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(fl(r,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const r=qm(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch{}return t.call(this,n,r,i)}}),fl(r,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return e.call(this,t,n,r)}}))})}function qm(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch{return null}}(n);if(function(e,t){return"keypress"===e&&(!t?.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;pl(n,"_sentryCaptured",!0),r&&!r._sentryId&&pl(r,"_sentryId",wl());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Um)return!1;try{if(!e.target||e.target._sentryId!==zm)return!1}catch{}return!0}(n)){e({event:n,name:i,global:t}),Um=n.type,zm=r?r._sentryId:void 0}clearTimeout(Hm),Hm=xp.setTimeout(()=>{zm=void 0,Um=void 0},1e3)}}function Bm(e){const t="history";Oa(t,e),Ia(t,Vm)}function Vm(){function e(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const r=Gm,i=function(e){try{return new URL(e,xp.location.origin).toString()}catch{return e}}(String(n));if(Gm=i,r===i)return e.apply(this,t);Fa("history",{from:r,to:i})}return e.apply(this,t)}}xp.addEventListener("popstate",()=>{const e=xp.location.href,t=Gm;if(Gm=e,t===e)return;Fa("history",{from:t,to:e})}),"history"in sd&&sd.history&&(fl(xp.history,"pushState",e),fl(xp.history,"replaceState",e))}const Xm={};function Km(e){const t=Xm[e];if(t)return t;let n=xp[e];if(ld(n))return Xm[e]=n.bind(xp);const r=xp.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const i=t.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){wp&&Ma.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?Xm[e]=n.bind(xp):n}function Zm(e){Xm[e]=void 0}const Jm="__sentry_xhr_v3__";function Qm(e){Oa("xhr",e),Ia("xhr",eg)}function eg(){if(!xp.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,i=1e3*Dl(),o=Xa(n[0])?n[0].toUpperCase():void 0,s=function(e){if(Xa(e))return e;try{return e.toString()}catch{}return}(n[1]);if(!o||!s)return e.apply(t,n);t[Jm]={method:o,url:s,request_headers:{}},"POST"===o&&s.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[Jm];if(e&&4===t.readyState){try{e.status_code=t.status}catch{}Fa("xhr",{endTimestamp:1e3*Dl(),startTimestamp:i,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,o=t[Jm];return o&&Xa(r)&&Xa(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[Jm];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return Fa("xhr",{startTimestamp:1e3*Dl(),xhr:t}),e.apply(t,n)}})}const tg=[],ng=new Map;function rg(){if(km()&&Pl()){const e=bm("inp",og,ym,cm);return()=>{e()}}return()=>{}}const ig={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};const og=({metric:e})=>{if(null==e.value)return;const t=Tm(e.value);if(t>60)return;const n=e.entries.find(t=>t.duration===e.value&&ig[t.name]);if(!n)return;const{interactionId:r}=n,i=ig[n.name],o=Tm(Pl()+n.startTime),s=Nc(),a=s?Fc(s):void 0,l=(null!=r?ng.get(r):void 0)||a,c=l?Dc(l).description:Bl().getScopeData().transactionName,u=Mm({name:ol(n.target),transaction:c,attributes:{[rc]:"auto.http.browser.inp",[nc]:`ui.interaction.${i}`,[cc]:n.duration},startTime:o});u&&(u.addEvent("inp",{[oc]:"millisecond",[sc]:e.value}),u.end(o+t))};function sg(e,t=Km("fetch")){let n=0,r=0;return kh(e,function(i){const o=i.body.length;n+=o,r++;const s={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Zm("fetch"),Au("No fetch implementation available");try{return t(e.url,s).then(e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return Zm("fetch"),n-=o,r--,Au(e)}})}function ag(e,t,n,r){const i={filename:e,function:"<anonymous>"===t?ka:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const lg=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,cg=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ug=/\((\S*)(?::(\d+))(?::(\d+))\)/,hg=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,dg=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,fg=La(...[[30,e=>{const t=lg.exec(e);if(t){const[,e,n,r]=t;return ag(e,ka,+n,+r)}const n=cg.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=ug.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=pg(n[1]||ka,n[2]);return ag(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=hg.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=dg.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||ka;return[n,e]=pg(n,e),ag(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),pg=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:ka,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};const mg="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,gg=1024,_g=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var n;t.console&&zh(function(e){return function(t){if(Zl()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Wh(t.level),message:ul(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${ul(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Dh(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(Zl()!==e)return;let r,i,o="object"==typeof t?t.serializeAttribute:void 0,s="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>gg&&(mg&&Ma.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=gg),"string"==typeof o&&(o=[o]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=ol(t,{keyAttrs:o,maxStringLength:s}),i=ll(t)}catch{r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};i&&(a.data={"ui.component_name":i}),Dh(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),Oa("dom",n),Ia("dom",Wm)),t.xhr&&Qm(function(e){return function(t){if(Zl()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[Jm];if(!n||!r||!i)return;const{method:o,url:s,status_code:a,body:l}=i,c={method:o,url:s,status_code:a},u={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},h={category:"xhr",data:c,type:"http",level:od(a)};e.emit("beforeOutgoingRequestBreadcrumb",h,u),Dh(h,u)}}(e)),t.fetch&&ud(function(e){return function(t){if(Zl()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const i=t.fetchData,o={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,o),Dh(s,o)}else{const i=t.response,o={...t.fetchData,status_code:i?.status};t.fetchData.request_body_size,t.fetchData.response_body_size;const s={input:t.args,response:i,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:o,type:"http",level:od(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Dh(a,s)}}}(e)),t.history&&Bm(function(e){return function(t){if(Zl()!==e)return;let n=t.from,r=t.to;const i=Qh(np.location.href);let o=n?Qh(n):void 0;const s=Qh(r);o?.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),Dh({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){Zl()===e&&Dh({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Sl(t)},{event:t})}}(e))}}};const yg=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],bg=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&fl(np,"setTimeout",vg),t.setInterval&&fl(np,"setInterval",vg),t.requestAnimationFrame&&fl(np,"requestAnimationFrame",wg),t.XMLHttpRequest&&"XMLHttpRequest"in np&&fl(XMLHttpRequest.prototype,"send",xg);const e=t.eventTarget;if(e){(Array.isArray(e)?e:yg).forEach(e=>function(e,t){const n=np,r=n[e]?.prototype;if(!r?.hasOwnProperty?.("addEventListener"))return;fl(r,"addEventListener",function(n){return function(r,i,o){try{"function"==typeof i.handleEvent&&(i.handleEvent=op(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Pa(i),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&function(e,t,n){e&&"object"==typeof e&&"removeEventListener"in e&&"function"==typeof e.removeEventListener&&e.removeEventListener(t,n)}(this,r,i),n.apply(this,[r,op(i,{mechanism:{data:{function:"addEventListener",handler:Pa(i),target:e},handled:!1,type:"instrument"}}),o])}}),fl(r,"removeEventListener",function(e){return function(t,n,r){try{const i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch{}return e.call(this,t,n,r)}})}(e,t))}}}};function vg(e){return function(...t){const n=t[0];return t[0]=op(n,{mechanism:{data:{function:Pa(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function wg(e){return function(t){return e.apply(this,[op(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Pa(e)},handled:!1,type:"instrument"}})])}}function xg(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&fl(n,e,function(t){const n={mechanism:{data:{function:e,handler:Pa(t)},handled:!1,type:"instrument"}},r=gl(t);return r&&(n.mechanism.data.handler=Pa(r)),op(t,n)})}),e.apply(this,t)}}const Sg=()=>({name:"BrowserSession",setupOnce(){void 0!==np.document?(Xu({ignoreDuration:!0}),Ju(),Bm(({from:e,to:t})=>{void 0!==e&&e!==t&&(Xu({ignoreDuration:!0}),Ju())})):mg&&Ma.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),Mg=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){Ya(t=>{const{stackParser:n,attachStacktrace:r}=Tg();if(Zl()!==e||ip())return;const{msg:i,url:o,line:s,column:a,error:l}=t,c=function(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=r,u=n,h=Xa(t)&&t.length>0?t:al();0===l.length&&l.push({colno:c,filename:h,function:ka,in_app:!0,lineno:u});return e}(_p(n,l||i,void 0,r,!1),o,s,a);c.level="error",Bu(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}(e),kg("onerror")),t.onunhandledrejection&&(!function(e){Ua(t=>{const{stackParser:n,attachStacktrace:r}=Tg();if(Zl()!==e||ip())return;const i=function(e){if(Za(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),o=Za(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:_p(n,i,void 0,r,!0);o.level="error",Bu(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(e),kg("onunhandledrejection"))}}};function kg(e){mg&&Ma.log(`Global Handler attached: ${e}`)}function Tg(){const e=Zl();return e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Eg=()=>({name:"HttpContext",preprocessEvent(e){if(!np.navigator&&!np.location&&!np.document)return;const t=sp(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),Lg=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){Yh(cp,i.getOptions().stackParser,n,t,e,r)}}};function Cg(){return!!function(){if(void 0===np.window)return!1;const e=np;if(e.nw)return!1;const t=e.chrome||e.browser;if(!t?.runtime?.id)return!1;const n=al(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(np===np.top&&r.some(e=>n.startsWith(`${e}://`)))}()&&(mg&&ma(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0)}new WeakMap;var Dg=Object.defineProperty,Pg=(e,t,n)=>((e,t,n)=>t in e?Dg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),$g=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))($g||{});function Ag(e){const t=e?.host;return Boolean(t?.shadowRoot===e)}function Rg(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Og(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,Ig).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function Ig(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=Og(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)){let t=e.cssText;const n=e.selectorText.includes(":"),r="string"==typeof e.style.all&&e.style.all;if(r&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],o=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}(e)),n&&(t=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(t)),n||r)return t}return t||e.cssText}class Fg{constructor(){Pg(this,"idNodeMap",new Map),Pg(this,"nodeMetaMap",new WeakMap)}getId(e){if(!e)return-1;const t=this.getMeta(e)?.id;return t??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Ng({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function Yg({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function jg(e){return e.toLowerCase()}function Hg(e){return e.toUpperCase()}const Ug="__rrweb_original__";function zg(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?jg(t):null}function Gg(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function Wg(e,t){let n;try{n=new URL(e,t??window.location.href)}catch(e){return null}const r=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return r?.[1]??null}const qg={};function Bg(e){const t=qg[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return qg[e]=r.bind(window)}function Vg(...e){return Bg("setTimeout")(...e)}function Xg(...e){return Bg("clearTimeout")(...e)}function Kg(e){try{return e.contentDocument}catch(e){}}let Zg=1;const Jg=new RegExp("[^a-z0-9-_:]");function Qg(){return Zg++}let e_,t_;const n_=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,r_=/^(?:[a-z+]+:)?\/\//i,i_=/^www\..*/i,o_=/^(data:)([^,]*),(.*)/i;function s_(e,t){return(e||"").replace(n_,(e,n,r,i,o,s)=>{const a=r||o||s,l=n||i||"";if(!a)return e;if(r_.test(a)||i_.test(a))return`url(${l}${a}${l})`;if(o_.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${l})`;const c=t.split("/"),u=a.split("/");c.pop();for(const e of u)"."!==e&&(".."===e?c.pop():c.push(e));return`url(${l}${c.join("/")}${l})`})}const a_=/^[^ \t\n\r\u000c]+/,l_=/^[, \t\n\r\u000c]+/;const c_=new WeakMap;function u_(e,t){return t&&""!==t.trim()?d_(e,t):t}function h_(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function d_(e,t){let n=c_.get(e);if(n||(n=e.createElement("a"),c_.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function f_(e,t,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?u_(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(l_),!(n>=t.length);){let o=r(a_);if(","===o.slice(-1))o=u_(e,o.substring(0,o.length-1)),i.push(o);else{let r="";o=u_(e,o);let s=!1;for(;;){const e=t.charAt(n);if(""===e){i.push((o+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,i.push((o+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?s_(r,d_(e)):"object"===t&&"data"===n?u_(e,r):"function"==typeof o?o(n,r,i):r:u_(e,r):r}function p_(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function m_(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:m_(e.parentNode,t,n,r+1):-1}function g_(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch{return!1}}}function __(e,t,n,r,i,o){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===s)return!1;if("INPUT"===s.tagName){const e=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,l=-1;if(o){if(l=m_(s,g_(r,i)),l<0)return!0;a=m_(s,g_(t,n),l>=0?l:1/0)}else{if(a=m_(s,g_(t,n)),a<0)return!1;l=m_(s,g_(r,i),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!o}catch(e){}return!!o}function y_(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:p={},maskTextFn:m,maskInputFn:g,dataURLOptions:_={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:v,newlyAddedElement:w=!1}=t,x=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:$g.Document,childNodes:[],compatMode:e.compatMode}:{type:$g.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:$g.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:x};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:h,recordCanvas:d,keepIframeSrcFn:f,newlyAddedElement:p=!1,rootId:m,maskTextClass:g,unmaskTextClass:_,maskTextSelector:y,unmaskTextSelector:b}=t,v=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,i,o),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=jg(e.tagName);return Jg.test(t)?"div":t}(e);let x={};const S=e.attributes.length;for(let t=0;t<S;t++){const r=e.attributes[t];r.name&&!p_(w,r.name,r.value)&&(x[r.name]=f_(n,w,jg(r.name),r.value,e,l))}if("link"===w&&s){const t=Array.from(n.styleSheets).find(t=>t.href===e.href);let r=null;t&&(r=Og(t)),r&&(x.rel=null,x.href=null,x.crossorigin=null,x._cssText=s_(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=Og(e.sheet);t&&(x._cssText=s_(t,d_(n)))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=zg(t),r=Gg(t,Hg(w),n),i=t.checked;if("submit"!==n&&"button"!==n&&r){const e=__(t,g,y,_,b,Ng({type:n,tagName:Hg(w),maskInputOptions:a}));x.value=Yg({isMasked:e,element:t,value:r,maskInputFn:c})}i&&(x.checked=i)}"option"===w&&(e.selected&&!a.select?x.selected=!0:delete x.selected);if("canvas"===w&&d)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const i=t.getImageData,o=Ug in i?i[Ug]:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0})(e)||(x.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height;t!==r.toDataURL(u.type,u.quality)&&(x.rr_dataURL=t)}if("img"===w&&h){e_||(e_=n.createElement("canvas"),t_=e_.getContext("2d"));const t=e,r=t.currentSrc||t.getAttribute("src")||"<unknown-src>",i=t.crossOrigin,o=()=>{t.removeEventListener("load",o);try{e_.width=t.naturalWidth,e_.height=t.naturalHeight,t_.drawImage(t,0,0),x.rr_dataURL=e_.toDataURL(u.type,u.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o));console.warn(`Cannot inline img src=${r}! Error: ${e}`)}"anonymous"===t.crossOrigin&&(i?x.crossOrigin=i:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==w&&"video"!==w||(x.rr_mediaState=e.paused?"paused":"played",x.rr_mediaCurrentTime=e.currentTime);p||(e.scrollLeft&&(x.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(x.rr_scrollTop=e.scrollTop));if(v){const{width:t,height:n}=e.getBoundingClientRect();x={class:x.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||f(x.src)||(v||Kg(e)||(x.rr_src=x.src),delete x.src);let M;try{customElements.get(w)&&(M=!0)}catch(e){}return{type:$g.Element,tagName:w,attributes:x,childNodes:[],isSVG:h_(e)||void 0,needBlock:v,rootId:m,isCustom:M}}(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:p,maskInputFn:g,dataURLOptions:_,inlineImages:y,recordCanvas:b,keepIframeSrcFn:v,newlyAddedElement:w,rootId:x,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,h=e.parentNode&&e.parentNode.tagName;let d=e.textContent;const f="STYLE"===h||void 0,p="SCRIPT"===h||void 0,m="TEXTAREA"===h||void 0;if(f&&d){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(d=Og(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}d=s_(d,d_(t.doc))}p&&(d="SCRIPT_PLACEHOLDER");const g=__(e,r,o,i,s,n);f||p||m||!d||!g||(d=a?a(d,e.parentElement):d.replace(/[\S]/g,"*"));m&&d&&(l.textarea||g)&&(d=c?c(d,e.parentNode):d.replace(/[\S]/g,"*"));if("OPTION"===h&&d){d=Yg({isMasked:__(e,r,o,i,s,Ng({type:null,tagName:h,maskInputOptions:l})),element:e,value:d,maskInputFn:c})}return{type:$g.Text,textContent:d||"",isStyle:f,rootId:u}}(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d,maskTextFn:m,maskInputOptions:p,maskInputFn:g,rootId:x});case e.CDATA_SECTION_NODE:return{type:$g.CDATA,textContent:"",rootId:x};case e.COMMENT_NODE:return{type:$g.Comment,textContent:e.textContent||"",rootId:x};default:return!1}}function b_(e){return null==e?"":e.toLowerCase()}function v_(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:d=!1,inlineStylesheet:f=!0,maskInputOptions:p={},maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:b={},inlineImages:v=!1,recordCanvas:w=!1,onSerialize:x,onIframeLoad:S,iframeLoadTimeout:M=5e3,onBlockedImageLoad:k,onStylesheetLoad:T,stylesheetLoadTimeout:E=5e3,keepIframeSrcFn:L=()=>!1,newlyAddedElement:C=!1}=t;let{preserveWhiteSpace:D=!0}=t;const P=y_(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,dataURLOptions:b,inlineImages:v,recordCanvas:w,keepIframeSrcFn:L,newlyAddedElement:C});if(!P)return console.warn(e,"not serialized"),null;let $;$=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===$g.Comment)return!0;if(e.type===$g.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===Wg(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(b_(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===b_(e.attributes.name)||"icon"===b_(e.attributes.rel)||"apple-touch-icon"===b_(e.attributes.rel)||"shortcut icon"===b_(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&b_(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(b_(e.attributes.property).match(/^(og|twitter|fb):/)||b_(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===b_(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===b_(e.attributes.name)||"googlebot"===b_(e.attributes.name)||"bingbot"===b_(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===b_(e.attributes.name)||"generator"===b_(e.attributes.name)||"framework"===b_(e.attributes.name)||"publisher"===b_(e.attributes.name)||"progid"===b_(e.attributes.name)||b_(e.attributes.property).match(/^article:/)||b_(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===b_(e.attributes.name)||"yandex-verification"===b_(e.attributes.name)||"csrf-token"===b_(e.attributes.name)||"p:domain_verify"===b_(e.attributes.name)||"verify-v1"===b_(e.attributes.name)||"verification"===b_(e.attributes.name)||"shopify-checkout-api-token"===b_(e.attributes.name)))return!0}}return!1}(P,y)&&(D||P.type!==$g.Text||P.isStyle||P.textContent.replace(/^\s+|\s+$/gm,"").length)?Qg():-2;const A=Object.assign(P,{id:$});if(r.add(e,A),-2===$)return null;x&&x(e);let R=!d;if(A.type===$g.Element){R=R&&!A.needBlock;const t=e.shadowRoot;t&&Rg(t)&&(A.isShadowHost=!0)}if((A.type===$g.Document||A.type===$g.Element)&&R){y.headWhitespace&&A.type===$g.Element&&"head"===A.tagName&&(D=!1);const t={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:d,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:b,inlineImages:v,recordCanvas:w,preserveWhiteSpace:D,onSerialize:x,onIframeLoad:S,iframeLoadTimeout:M,onBlockedImageLoad:k,onStylesheetLoad:T,stylesheetLoadTimeout:E,keepIframeSrcFn:L},C=e.childNodes?Array.from(e.childNodes):[];for(const e of C){const n=v_(e,t);n&&A.childNodes.push(n)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=v_(n,t);r&&(Rg(e.shadowRoot)&&(r.isShadow=!0),A.childNodes.push(r))}}if(e.parentNode&&Ag(e.parentNode)&&Rg(e.parentNode)&&(A.isShadow=!0),A.type!==$g.Element||"iframe"!==A.tagName||A.needBlock||function(e,t,n){const r=e.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(e){return}if("complete"!==i){const r=Vg(()=>{o||(t(),o=!0)},n);return void e.addEventListener("load",()=>{Xg(r),o=!0,t()})}const s="about:blank";if(r.location.href!==s||e.src===s||""===e.src)return Vg(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{const t=Kg(e);if(t&&S){const n=v_(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:b,inlineImages:v,recordCanvas:w,preserveWhiteSpace:D,onSerialize:x,onIframeLoad:S,iframeLoadTimeout:M,onStylesheetLoad:T,stylesheetLoadTimeout:E,keepIframeSrcFn:L});n&&S(e,n)}},M),A.type===$g.Element&&"img"===A.tagName&&!e.complete&&A.needBlock){const t=e,n=()=>{if(t.isConnected&&!t.complete&&k)try{const e=t.getBoundingClientRect();e.width>0&&e.height>0&&k(t,A,e)}catch(e){}t.removeEventListener("load",n)};t.isConnected&&t.addEventListener("load",n)}return A.type===$g.Element&&"link"===A.tagName&&"string"==typeof A.attributes.rel&&("stylesheet"===A.attributes.rel||"preload"===A.attributes.rel&&"string"==typeof A.attributes.href&&"css"===Wg(A.attributes.href))&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(e){return}if(r)return;const o=Vg(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{Xg(o),i=!0,t()})}(e,()=>{if(T){const t=v_(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:b,inlineImages:v,recordCanvas:w,preserveWhiteSpace:D,onSerialize:x,onIframeLoad:S,iframeLoadTimeout:M,onStylesheetLoad:T,stylesheetLoadTimeout:E,keepIframeSrcFn:L});t&&T(e,t)}},E),A.type===$g.Element&&delete A.needBlock,A}function w_(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const x_="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let S_={map:{},getId:()=>(console.error(x_),-1),getNode:()=>(console.error(x_),null),removeNodeFromMap(){console.error(x_)},has:()=>(console.error(x_),!1),reset(){console.error(x_)}};function M_(e,t,n={}){let r=null,i=0;return function(...o){const s=Date.now();i||!1!==n.leading||(i=s);const a=t-(s-i),l=this;a<=0||a>t?(r&&(!function(...e){G_("clearTimeout")(...e)}(r),r=null),i=s,e.apply(l,o)):r||!1===n.trailing||(r=W_(()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(l,o)},a))}}function k_(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){W_(()=>{n.set.call(this,e)},0),o&&o.set&&o.set.call(this,e)}}),()=>k_(e,t,o||{},!0)}function T_(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(S_=new Proxy(S_,{get:(e,t,n)=>("map"===t&&console.error(x_),Reflect.get(e,t,n))}));let E_=Date.now;function L_(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function C_(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function D_(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function P_(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(e){return null}}function $_(e,t,n,r,i){if(!e)return!1;const o=P_(e);if(!o)return!1;const s=g_(t,n);if(!i){const e=r&&o.matches(r);return s(o)&&!e}const a=m_(o,s);let l=-1;return!(a<0)&&(r&&(l=m_(o,g_(null,r))),a>-1&&l<0||a<l)}function A_(e,t){return-2===t.getId(e)}function R_(e,t){if(Ag(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||R_(e.parentNode,t))}function O_(e){return Boolean(e.changedTouches)}function I_(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function F_(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function N_(e){return Boolean(e?.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(E_=()=>(new Date).getTime());class Y_{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function j_(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function H_(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=j_(n);)n=t;return n}(e);return t.contains(n)}function U_(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||H_(e))}const z_={};function G_(e){const t=z_[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return z_[e]=r.bind(window)}function W_(...e){return G_("setTimeout")(...e)}var q_=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(q_||{}),B_=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(B_||{}),V_=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(V_||{}),X_=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(X_||{}),K_=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(K_||{});function Z_(e){try{return e.contentDocument}catch(e){}}function J_(e){return"__ln"in e}class Q_{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=t?.next||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&J_(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&J_(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const ey=(e,t)=>`${e}@${t}`;class ty{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Q_,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!U_(i))return;const o=Ag(i.parentNode)?this.mirror.getId(j_(i)):this.mirror.getId(i.parentNode),s=r(i);if(-1===o||-1===s)return n.addNode(i);const a=v_(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{I_(e,this.mirror)&&!$_(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),F_(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),N_(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{$_(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)},onBlockedImageLoad:(e,t,{width:n,height:r})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:{style:{width:`${n}px`,height:`${r}px`}}}]})}});a&&(e.push({parentId:o,nextId:s,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)ry(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||i(e);for(const e of this.addedSet)iy(this.droppedSet,e)||ry(this.removes,e,this.mirror)?iy(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let o=null;for(;n.length;){let e=null;if(o){const t=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==t&&-1!==n&&(e=o)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}o=e.previous,n.removeNode(e.value),i(e.value)}const s={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!A_(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;$_(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:__(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,P_(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=zg(t),i=t.tagName;r=Gg(t,i,n);const o=Ng({maskInputOptions:this.maskInputOptions,tagName:i,type:n});r=Yg({isMasked:__(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o),element:t,value:r,maskInputFn:this.maskInputFn})}if($_(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(Z_(t))return;n="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!p_(t.tagName,n)&&(i.attributes[n]=f_(this.doc,jg(t.tagName),jg(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),o=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||o!==n.style.getPropertyPriority(e)?i.styleDiff[e]=""===o?r:[r,o]:i._unchangedStyles[e]=[r,o]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if($_(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const n=this.mirror.getId(t),r=Ag(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);$_(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||A_(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(ny(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||R_(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[ey(n,r)]?ny(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!Ag(e.target)||!Rg(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(A_(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[ey(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);$_(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(e=>this.genAdds(e)),N_(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ny(e,t){e.delete(t),t.childNodes?.forEach(t=>ny(e,t))}function ry(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){const t=n.getId(r);if(e.some(e=>e.id===t))return!0;r=r.parentNode}return!1}(e,t,n)}function iy(e,t){return 0!==e.size&&oy(e,t)}function oy(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||oy(e,n))}let sy;const ay=e=>{if(!sy)return e;return(...t)=>{try{return e(...t)}catch(e){if(sy&&!0===sy(e))return()=>{};throw e}}},ly=[];function cy(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function uy(e,t){const n=new ty;ly.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=window?.Zone?.__symbol__?.("MutationObserver");i&&window[i]&&(r=window[i]);const o=new r(ay(t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function hy({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];let c=null;return Object.keys(V_).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e]).forEach(s=>{let a=jg(s);const u=(t=>s=>{const a=cy(s);if($_(a,r,i,o,!0))return;let l=null,u=t;if("pointerType"in s){switch(s.pointerType){case"mouse":l=X_.Mouse;break;case"touch":l=X_.Touch;break;case"pen":l=X_.Pen}l===X_.Touch?V_[t]===V_.MouseDown?u="TouchStart":V_[t]===V_.MouseUp&&(u="TouchEnd"):X_.Pen}else O_(s)&&(l=X_.Touch);null!==l?(c=l,(u.startsWith("Touch")&&l===X_.Touch||u.startsWith("Mouse")&&l===X_.Mouse)&&(l=null)):V_[t]===V_.Click&&(l=c,c=null);const h=O_(s)?s.changedTouches[0]:s;if(!h)return;const d=n.getId(a),{clientX:f,clientY:p}=h;ay(e)({type:V_[u],id:d,x:f,y:p,...null!==l&&{pointerType:l}})})(s);if(window.PointerEvent)switch(V_[s]){case V_.MouseDown:case V_.MouseUp:a=a.replace("mouse","pointer");break;case V_.TouchStart:case V_.TouchEnd:return}l.push(w_(a,u,t))}),ay(()=>{l.forEach(e=>e())})}function dy({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){const a=ay(M_(ay(s=>{const a=cy(s);if(!a||$_(a,r,i,o,!0))return;const l=n.getId(a);if(a===t&&t.defaultView){const n=L_(t.defaultView);e({id:l,x:n.left,y:n.top})}else e({id:l,x:a.scrollLeft,y:a.scrollTop})}),s.scroll||100));return w_("scroll",a,t)}const fy=["INPUT","TEXTAREA","SELECT"],py=new WeakMap;function my({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:h,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m}){function g(e){let n=cy(e);const u=e.isTrusted,g=n&&Hg(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||fy.indexOf(g)<0||$_(n,r,i,o,!0))return;const y=n;if(y.classList.contains(s)||a&&y.matches(a))return;const b=zg(n);let v=Gg(y,g,b),w=!1;const x=Ng({maskInputOptions:l,tagName:g,type:b}),S=__(n,d,p,f,m,x);"radio"!==b&&"checkbox"!==b||(w=n.checked),v=Yg({isMasked:S,element:n,value:v,maskInputFn:c}),_(n,h?{text:v,isChecked:w,userTriggered:u}:{text:v,isChecked:w});const M=n.name;"radio"===b&&M&&w&&t.querySelectorAll(`input[type="radio"][name="${M}"]`).forEach(e=>{if(e!==n){const t=Yg({isMasked:S,element:e,value:Gg(e,g,b),maskInputFn:c});_(e,h?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}})}function _(t,r){const i=py.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){py.set(t,r);const i=n.getId(t);ay(e)({...r,id:i})}}const y=("last"===u.input?["change"]:["input","change"]).map(e=>w_(e,ay(g),t)),b=t.defaultView;if(!b)return()=>{y.forEach(e=>e())};const v=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),w=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return v&&v.set&&y.push(...w.map(e=>k_(e[0],e[1],{set(){ay(g)({target:this,isTrusted:!1})}},!1,b))),ay(()=>{y.forEach(e=>e())})}function gy(e){return function(e,t){if(vy("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||vy("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||vy("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||vy("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function _y(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function yy({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const i="#document"===n.nodeName?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,o=i?.prototype?Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&i&&o?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return o.get?.call(this)},set(e){const n=o.set?.call(this,e);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),ay(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})})):()=>{}}function by(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=uy(e,e.doc));const i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const i="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const l=M_(ay(t=>{const n=Date.now()-s;e(a.map(e=>(e.timeOffset-=n,e)),t),a=[],s=null}),o),c=ay(M_(ay(e=>{const t=cy(e),{clientX:n,clientY:i}=O_(e)?e.changedTouches[0]:e;s||(s=E_()),a.push({x:n,y:i,id:r.getId(t),timeOffset:E_()-s}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?B_.Drag:e instanceof MouseEvent?B_.MouseMove:B_.TouchMove)}),i,{trailing:!1})),u=[w_("mousemove",c,n),w_("touchmove",c,n),w_("drag",c,n)];return ay(()=>{u.forEach(e=>e())})}(e),o=hy(e),s=dy(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return w_("resize",ay(M_(ay(()=>{const t=C_(),i=D_();n===t&&r===i||(e({width:Number(i),height:Number(t)}),n=t,r=i)}),200)),t)}(e,{win:n}),l=my(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:s}){const a=ay(s=>M_(ay(o=>{const a=cy(o);if(!a||$_(a,t,n,r,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:h}=a;e({type:s,id:i.getId(a),currentTime:l,volume:c,muted:u,playbackRate:h})}),o.media||500)),l=[w_("play",a(K_.Play),s),w_("pause",a(K_.Pause),s),w_("seeked",a(K_.Seeked),s),w_("volumechange",a(K_.VolumeChange),s),w_("ratechange",a(K_.RateChange),s)];return ay(()=>{l.forEach(e=>e())})}(e);let u=()=>{},h=()=>{},d=()=>{},f=()=>{};e.recordDOM&&(u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:ay((r,i,o)=>{const[s,a]=o,{id:l,styleId:c}=_y(i,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:a}]}),r.apply(i,o)})});const o=r.CSSStyleSheet.prototype.deleteRule;let s,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:ay((r,i,o)=>{const[s]=o,{id:a,styleId:l}=_y(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:s}]}),r.apply(i,o)})}),r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:ay((r,i,o)=>{const[s]=o,{id:a,styleId:l}=_y(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replace:s}),r.apply(i,o)})})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:ay((r,i,o)=>{const[s]=o,{id:a,styleId:l}=_y(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replaceSync:s}),r.apply(i,o)})}));const l={};wy("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(wy("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),wy("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),wy("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([r,i])=>{c[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(c[r].insertRule,{apply:ay((r,i,o)=>{const[s,a]=o,{id:l,styleId:c}=_y(i.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:[...gy(i),a||0]}]}),r.apply(i,o)})}),i.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:ay((r,i,o)=>{const[s]=o,{id:a,styleId:l}=_y(i.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:[...gy(i),s]}]}),r.apply(i,o)})})}),ay(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule})})}(e,{win:n}),h=yy(e,e.doc),d=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:ay((i,s,a)=>{const[l,c,u]=a;if(n.has(l))return o.apply(s,[l,c,u]);const{id:h,styleId:d}=_y(s.parentRule?.parentStyleSheet,t,r.styleMirror);return(h&&-1!==h||d&&-1!==d)&&e({id:h,styleId:d,set:{property:l,value:c,priority:u},index:gy(s.parentRule)}),i.apply(s,a)})});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:ay((i,o,a)=>{const[l]=a;if(n.has(l))return s.apply(o,[l]);const{id:c,styleId:u}=_y(o.parentRule?.parentStyleSheet,t,r.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,remove:{property:l},index:gy(o.parentRule)}),i.apply(o,a)})}),ay(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s})}(e,{win:n}),e.collectFonts&&(f=function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const s=T_(t.fonts,"add",function(t){return function(n){return W_(ay(()=>{const t=i.get(n);t&&(e(t),i.delete(n))}),0),t.apply(this,[n])}});return r.push(()=>{n.FontFace=o}),r.push(s),ay(()=>{r.forEach(e=>e())})}(e)));const p=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:s}=e;let a=!0;const l=ay(()=>{const e=t.getSelection();if(!e||a&&e?.isCollapsed)return;a=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const s=e.getRangeAt(t),{startContainer:a,startOffset:c,endContainer:u,endOffset:h}=s;$_(a,r,i,o,!0)||$_(u,r,i,o,!0)||l.push({start:n.getId(a),startOffset:c,end:n.getId(u),endOffset:h})}s({ranges:l})});return l(),w_("selectionchange",l)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;if(!n||!n.customElements)return()=>{};const r=T_(n.customElements,"define",function(e){return function(n,r,i){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,i])}});return r}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return ay(()=>{ly.forEach(e=>e.reset()),r?.disconnect(),i(),o(),s(),a(),l(),c(),u(),h(),d(),f(),p(),m(),g.forEach(e=>e())})}function vy(e){return void 0!==window[e]}function wy(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class xy{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let s=i.get(t);return s||(s=this.generateIdFn(),i.set(t,s),o.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const i=r.get(t);return i||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class Sy{constructor(){this.crossOriginIframeMirror=new xy(Qg),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class My{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new xy(Qg),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new xy(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const n=Z_(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case q_.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:q_.IncrementalSnapshot,data:{source:B_.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case q_.Meta:case q_.Load:case q_.DomContentLoaded:return!1;case q_.Plugin:return t;case q_.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case q_.IncrementalSnapshot:switch(t.data.source){case B_.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case B_.Drag:case B_.TouchMove:case B_.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case B_.ViewportResize:return!1;case B_.MediaInteraction:case B_.MouseInteraction:case B_.Scroll:case B_.CanvasMutation:case B_.Input:return this.replaceIds(t.data,e,["id"]),t;case B_.StyleSheetRule:case B_.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case B_.Font:return t;case B_.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case B_.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t.data.styles?.forEach(t=>{this.replaceStyleIds(t,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(const i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===$g.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class ky{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Ty{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Rg(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=uy({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(dy({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),W_(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(yy({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const t=Z_(e),n=function(e){try{return e.contentWindow}catch(e){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(T_(e.prototype,"attachShadow",function(e){return function(r){const i=e.call(this,r);return this.shadowRoot&&U_(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var Ey="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ly="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Cy=0;Cy<64;Cy++)Ly[Ey.charCodeAt(Cy)]=Cy;class Dy{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Py{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Y_,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,t)=>({rule:Ig(e),index:t}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class $y{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,function(...e){G_("requestAnimationFrame")(...e)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let Ay,Ry;try{if(2!==Array.from([1],e=>2*e)[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Oy=new Fg;function Iy(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:h=null,maskTextSelector:d=null,unmaskTextSelector:f=null,inlineStylesheet:p=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:_,maskAttributeFn:y,maskInputFn:b,maskTextFn:v,maxCanvasSize:w=null,packFn:x,sampling:S={},dataURLOptions:M={},mousemoveWait:k,recordDOM:T=!0,recordCanvas:E=!1,recordCrossOriginIframes:L=!1,recordAfter:C=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:D=!1,collectFonts:P=!1,inlineImages:$=!1,plugins:A,keepIframeSrcFn:R=()=>!1,ignoreCSSAttributes:O=new Set([]),errorHandler:I,onMutation:F,getCanvasManager:N}=e;sy=I;const Y=!L||window.parent===window;let j=!1;if(!Y)try{window.parent.document&&(j=!1)}catch(e){j=!0}if(Y&&!t)throw new Error("emit function is required");if(!Y&&!j)return()=>{};void 0!==k&&void 0===S.mousemove&&(S.mousemove=k),Oy.reset();const H=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},U=!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===_,headMetaDescKeywords:"all"===_}:_||{};let z;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let G=0;const W=e=>{for(const t of A||[])t.eventProcessor&&(e=t.eventProcessor(e));return x&&!j&&(e=x(e)),e};Ay=(e,i)=>{const o=e;if(o.timestamp=E_(),!ly[0]?.isFrozen()||o.type===q_.FullSnapshot||o.type===q_.IncrementalSnapshot&&o.data.source===B_.Mutation||ly.forEach(e=>e.unfreeze()),Y)t?.(W(o),i);else if(j){const e={type:"rrweb",event:W(o),origin:window.location.origin,isCheckout:i};window.parent.postMessage(e,"*")}if(o.type===q_.FullSnapshot)z=o,G=0;else if(o.type===q_.IncrementalSnapshot){if(o.data.source===B_.Mutation&&o.data.isAttachIframe)return;G++;const e=r&&G>=r,t=n&&z&&o.timestamp-z.timestamp>n;(e||t)&&ee(!0)}};const q=e=>{Ay({type:q_.IncrementalSnapshot,data:{source:B_.Mutation,...e}})},B=e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.Scroll,...e}}),V=e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.CanvasMutation,...e}}),X=new Py({mutationCb:q,adoptedStyleSheetCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.AdoptedStyleSheet,...e}})}),K="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new Sy:new My({mirror:Oy,mutationCb:q,stylesheetManager:X,recordCrossOriginIframes:L,wrappedEmit:Ay});for(const e of A||[])e.getMirror&&e.getMirror({nodeMirror:Oy,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});const Z=new $y,J=function(e,t){try{return e?e(t):new Dy}catch{return console.warn("Unable to initialize CanvasManager"),new Dy}}(N,{mirror:Oy,win:window,mutationCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.CanvasMutation,...e}}),recordCanvas:E,blockClass:i,blockSelector:o,unblockSelector:s,maxCanvasSize:w,sampling:S.canvas,dataURLOptions:M,errorHandler:I}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ky:new Ty({mutationCb:q,scrollCb:B,bypassOptions:{onMutation:F,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:H,dataURLOptions:M,maskAttributeFn:y,maskTextFn:v,maskInputFn:b,recordCanvas:E,inlineImages:$,sampling:S,slimDOMOptions:U,iframeManager:K,stylesheetManager:X,canvasManager:J,keepIframeSrcFn:R,processedNodeManager:Z},mirror:Oy}),ee=(e=!1)=>{if(!T)return;Ay({type:q_.Meta,data:{href:window.location.href,width:D_(),height:C_()}},e),X.reset(),Q.init(),ly.forEach(e=>e.lock());const t=function(e,t){const{mirror:n=new Fg,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:h=!0,inlineImages:d=!1,recordCanvas:f=!1,maskAllInputs:p=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:v,onSerialize:w,onIframeLoad:x,iframeLoadTimeout:S,onBlockedImageLoad:M,onStylesheetLoad:k,stylesheetLoadTimeout:T,keepIframeSrcFn:E=()=>!1}=t||{};return v_(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:h,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:b,inlineImages:d,recordCanvas:f,preserveWhiteSpace:v,onSerialize:w,onIframeLoad:x,iframeLoadTimeout:S,onBlockedImageLoad:M,onStylesheetLoad:k,stylesheetLoadTimeout:T,keepIframeSrcFn:E,newlyAddedElement:!1})}(document,{mirror:Oy,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskAllInputs:H,maskAttributeFn:y,maskInputFn:b,maskTextFn:v,slimDOM:U,dataURLOptions:M,recordCanvas:E,inlineImages:$,onSerialize:e=>{I_(e,Oy)&&K.addIframe(e),F_(e,Oy)&&X.trackLinkElement(e),N_(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{K.attachIframe(e,t),e.contentWindow&&J.addWindow(e.contentWindow),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{X.attachLinkElement(e,t)},onBlockedImageLoad:(e,t,{width:n,height:r})=>{q({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:{style:{width:`${n}px`,height:`${r}px`}}}]})},keepIframeSrcFn:R});if(!t)return console.warn("Failed to snapshot the document");Ay({type:q_.FullSnapshot,data:{node:t,initialOffset:L_(window)}}),ly.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&X.adoptStyleSheets(document.adoptedStyleSheets,Oy.getId(document))};Ry=ee;try{const e=[],t=e=>ay(by)({onMutation:F,mutationCb:q,mousemoveCb:(e,t)=>Ay({type:q_.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.MouseInteraction,...e}}),scrollCb:B,viewportResizeCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.ViewportResize,...e}}),inputCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.Input,...e}}),mediaInteractionCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.MediaInteraction,...e}}),styleSheetRuleCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.StyleSheetRule,...e}}),styleDeclarationCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.StyleDeclaration,...e}}),canvasMutationCb:V,fontCb:e=>Ay({type:q_.IncrementalSnapshot,data:{source:B_.Font,...e}}),selectionCb:e=>{Ay({type:q_.IncrementalSnapshot,data:{source:B_.Selection,...e}})},customElementCb:e=>{Ay({type:q_.IncrementalSnapshot,data:{source:B_.CustomElement,...e}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,maskInputOptions:H,inlineStylesheet:p,sampling:S,recordDOM:T,recordCanvas:E,inlineImages:$,userTriggeredOnInput:D,collectFonts:P,doc:e,maskAttributeFn:y,maskInputFn:b,maskTextFn:v,keepIframeSrcFn:R,blockSelector:o,unblockSelector:s,slimDOMOptions:U,dataURLOptions:M,mirror:Oy,iframeManager:K,stylesheetManager:X,shadowDomManager:Q,processedNodeManager:Z,canvasManager:J,ignoreCSSAttributes:O,plugins:A?.filter(e=>e.observer)?.map(e=>({observer:e.observer,options:e.options,callback:t=>Ay({type:q_.Plugin,data:{plugin:e.name,payload:t}})}))||[]},{});K.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}});const n=()=>{ee(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(w_("DOMContentLoaded",()=>{Ay({type:q_.DomContentLoaded,data:{}}),"DOMContentLoaded"===C&&n()})),e.push(w_("load",()=>{Ay({type:q_.Load,data:{}}),"load"===C&&n()},window))),()=>{e.forEach(e=>e()),Z.destroy(),Ry=void 0,sy=void 0}}catch(e){console.warn(e)}}var Fy;Iy.mirror=Oy,Iy.takeFullSnapshot=function(e){if(!Ry)throw new Error("please take full snapshot after start recording");Ry(e)},function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(Fy||(Fy={}));new Set([B_.Mutation,B_.StyleSheetRule,B_.StyleDeclaration,B_.AdoptedStyleSheet,B_.CanvasMutation,B_.Selection,B_.MediaInteraction]);new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);const Ny="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const Yy=["log","warn","error"],jy="[Replay] ";function Hy(e,t="info"){Dh({category:"console",data:{logger:"replay"},level:t,message:`${jy}${e}`},{level:t})}!function(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=!!n.captureExceptions,t=!!n.traceInternals}};Ny?(Yy.forEach(e=>{n[e]=(...n)=>{Ma[e](jy,...n),t&&Hy(n.join(""),Wh(e))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Ma.error(jy,r),e?qu(r):t&&Hy(r,"error")},n.infoTick=(...e)=>{Ma.log(jy,...e),t&&setTimeout(()=>Hy(e[0]),0)}):Yy.forEach(e=>{n[e]=()=>{}})}();Error;la.navigator;Error;Error;var Uy=Object.defineProperty,zy=(e,t,n)=>((e,t,n)=>t in e?Uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Gy{constructor(){zy(this,"idNodeMap",new Map),zy(this,"nodeMetaMap",new WeakMap)}getId(e){if(!e)return-1;const t=this.getMeta(e)?.id;return t??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}const Wy="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let qy={map:{},getId:()=>(console.error(Wy),-1),getNode:()=>(console.error(Wy),null),removeNodeFromMap(){console.error(Wy)},has:()=>(console.error(Wy),!1),reset(){console.error(Wy)}};"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(qy=new Proxy(qy,{get:(e,t,n)=>("map"===t&&console.error(Wy),Reflect.get(e,t,n))})),Date.now().toString();for(var By="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vy="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Xy=0;Xy<64;Xy++)Vy[By.charCodeAt(Xy)]=Xy;try{if(2!==Array.from([1],e=>2*e)[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Ky;new Gy,function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(Ky||(Ky={}));function Zy(e=0){return((Pl()||performance.timeOrigin)+e)/1e3}const Jy=new WeakMap,Qy=new Map,eb={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function tb(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:l}={...eb,...t},c="function"==typeof o?o:e=>!0,u=e=>function(e,t){const n=al();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const o=r.origin===i;return t?dl(r.toString(),t)||o&&dl(r.pathname,t):o}{const n=!!e.match(/^\/(?!\/)/);return t?dl(e,t):n}}(e,a),h={};n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){const t=Qy.get(e.span_id);t&&(e.timestamp=t/1e3,Qy.delete(e.span_id))}}),e)),i&&function(e){const t="fetch-body-resolved";Oa(t,e),Ia(t,()=>hd(dd))}(e=>{if(e.response){const t=Jy.get(e.response);t&&e.endTimestamp&&Qy.set(t,e.endTimestamp)}}),ud(e=>{const t=td(e,c,u,h);if(e.response&&e.fetchData.__span&&Jy.set(e.response,e.fetchData.__span),t){const n=rb(e.fetchData.url),r=n?Qh(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r}),s&&nb(t),l?.(t,{headers:e.headers})}})),r&&Qm(e=>{const t=function(e,t,n,r){const i=e.xhr,o=i?.[Jm];if(!i||i.__sentry_own_request__||!o)return;const{url:s,method:a}=o,l=Uc()&&t(s);if(e.endTimestamp&&l){const e=i.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==o.status_code&&(hc(t,o.status_code),t.end(),delete r[e]))}const c=rb(s),u=Qh(c||s),h=ed(s),d=!!Nc(),f=l&&d?xu({name:`${a} ${h}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":c,"server.address":u?.host,[rc]:"auto.http.browser",[nc]:"http.client",...u?.search&&{"http.query":u?.search},...u?.hash&&{"http.fragment":u?.hash}}}):new eu;i.__sentry_xhr_span_id__=f.spanContext().spanId,r[i.__sentry_xhr_span_id__]=f,n(s)&&function(e,t){const{"sentry-trace":n,baggage:r}=Lh({span:t});n&&function(e,t,n){const r=e.__sentry_xhr_v3__?.request_headers;if(r?.["sentry-trace"])return;try{if(e.setRequestHeader("sentry-trace",t),n){const t=r?.baggage;t&&t.split(",").some(e=>e.trim().startsWith("sentry-"))||e.setRequestHeader("baggage",n)}}catch{}}(e,n,r)}(i,Uc()&&d?f:void 0);const p=Zl();p&&p.emit("beforeOutgoingRequestSpan",f,e);return f}(e,c,u,h);if(t){let n;s&&nb(t);try{n=new Headers(e.xhr.__sentry_xhr_v3__?.request_headers)}catch{}l?.(t,{headers:n})}})}function nb(e){const{url:t}=Dc(e).data;if(!t||"string"!=typeof t)return;const n=dm("resource",({entries:r})=>{r.forEach(r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const t=[];if(null!=e.nextHopProtocol){const{name:n,version:r}=Em(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return Pl()?[...t,["http.request.redirect_start",Zy(e.redirectStart)],["http.request.fetch_start",Zy(e.fetchStart)],["http.request.domain_lookup_start",Zy(e.domainLookupStart)],["http.request.domain_lookup_end",Zy(e.domainLookupEnd)],["http.request.connect_start",Zy(e.connectStart)],["http.request.secure_connection_start",Zy(e.secureConnectionStart)],["http.request.connection_end",Zy(e.connectEnd)],["http.request.request_start",Zy(e.requestStart)],["http.request.response_start",Zy(e.responseStart)],["http.request.response_end",Zy(e.responseEnd)]]:t})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n)}})})}function rb(e){try{return new URL(e,np.location.origin).href}catch{return}}const ib="sentry_previous_trace",ob="sentry.previous_trace";function sb(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r="session-storage"===t;let i=r?function(){try{const e=np.sessionStorage?.getItem(ib);return JSON.parse(e)}catch{return}}():void 0;e.on("spanStart",e=>{if(Fc(e)!==e)return;const t=Bl().getPropagationContext();i=function(e,t,n){const r=Dc(t);function i(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[ec])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return o;const s=e.spanContext;if(s.traceId===r.trace_id)return e;Date.now()/1e3-e.startTimestamp<=3600&&(mg&&Ma.log(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[uc]:"previous_trace"}}),t.setAttribute(ob,`${s.traceId}-${s.spanId}-${ab(s)?1:0}`));return o}(i,e,t),r&&function(e){try{np.sessionStorage.setItem(ib,JSON.stringify(e))}catch(e){mg&&Ma.warn("Could not store previous trace in sessionStorage",e)}}(i)});let o=!0;n&&e.on("beforeSampling",e=>{if(!i)return;const t=Bl(),n=t.getPropagationContext();o&&n.parentSpanId?o=!1:(t.setPropagationContext({...n,dsc:{...n.dsc,sample_rate:String(i.sampleRate),sampled:String(ab(i.spanContext))},sampleRand:i.sampleRand}),e.parentSampled=ab(i.spanContext),e.parentSampleRate=i.sampleRate,e.spanAttributes={...e.spanAttributes,[tc]:i.sampleRate})})}function ab(e){return 1===e.traceFlags}const lb={...Du,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...eb},cb=(e={})=>{const t={name:void 0,source:void 0},n=np.document,{enableInp:r,enableElementTiming:i,enableLongTask:o,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:l,enableStandaloneLcpSpans:c},beforeStartSpan:u,idleTimeout:h,finalTimeout:d,childSpanTimeout:f,markBackgroundSpan:p,traceFetch:m,traceXHR:g,trackFetchStreamPerformance:_,shouldCreateSpanForRequest:y,enableHTTPTimings:b,ignoreResourceSpans:v,ignorePerformanceApiSpans:w,instrumentPageLoad:x,instrumentNavigation:S,detectRedirects:M,linkPreviousTrace:k,consistentTraceSampling:T,onRequestSpanStart:E}={...lb,...e};let L,C;function D(e,r,i=!0){const o="pageload"===r.op,s=u?u(r):r,a=s.attributes||{};if(r.name!==s.name&&(a[Ql]="custom",s.attributes=a),!i){const e=El();return void xu({...s,startTime:e}).end(e)}t.name=s.name,t.source=a[Ql];const p=Pu(s,{idleTimeout:h,finalTimeout:d,childSpanTimeout:f,disableAutoFinish:o,beforeSpanEnd:t=>{L?.(),Fm(t,{recordClsOnPageloadSpan:!l,recordLcpOnPageloadSpan:!c,ignoreResourceSpans:v,ignorePerformanceApiSpans:w}),fb(e,void 0);const n=Bl(),r=n.getPropagationContext();n.setPropagationContext({...r,traceId:p.spanContext().traceId,sampled:Pc(p),dsc:Qc(t)})}});function m(){n&&["interactive","complete"].includes(n.readyState)&&e.emit("idleSpanEnableAutoFinish",p)}fb(e,p),o&&n&&(n.addEventListener("readystatechange",()=>{m()}),m())}return{name:"BrowserTracing",setup(e){if(Hc(),L=Im({recordClsStandaloneSpans:l||!1,recordLcpStandaloneSpans:c||!1,client:e}),r&&rg(),i&&km()&&Pl()&&dm("element",jm),s&&la.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function(){const e=new PerformanceObserver(e=>{const t=Nc();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=Tm(Pl()+n.startTime),{start_timestamp:r,op:i}=Dc(t);if("navigation"===i&&r&&e<r)continue;const o=Tm(n.duration),s={[rc]:"auto.ui.browser.metrics"},a=n.scripts[0],{invoker:l,invokerType:c,sourceURL:u,sourceFunctionName:h,sourceCharPosition:d}=a;s["browser.script.invoker"]=l,s["browser.script.invoker_type"]=c,u&&(s["code.filepath"]=u),h&&(s["code.function"]=h),-1!==d&&(s["browser.script.source_char_position"]=d),Sm(t,e,e+o,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:s})}});e.observe({type:"long-animation-frame",buffered:!0})}():o&&dm("longtask",({entries:e})=>{const t=Nc();if(!t)return;const{op:n,start_timestamp:r}=Dc(t);for(const i of e){const e=Tm(Pl()+i.startTime),o=Tm(i.duration);"navigation"===n&&r&&e<r||Sm(t,e,e+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[rc]:"auto.ui.browser.metrics"}})}}),a&&dm("event",({entries:e})=>{const t=Nc();if(t)for(const n of e)if("click"===n.name){const e=Tm(Pl()+n.startTime),r=Tm(n.duration),i={name:ol(n.target),op:`ui.interaction.${n.name}`,startTime:e,attributes:{[rc]:"auto.ui.browser.metrics"}},o=ll(n.target);o&&(i.attributes["ui.component_name"]=o),Sm(t,e,e+r,i)}}),M&&n){const e=()=>{C=Dl()};addEventListener("click",e,{capture:!0}),addEventListener("keydown",e,{capture:!0,passive:!0})}function t(){const t=db(e);t&&!Dc(t).timestamp&&(mg&&Ma.log(`[Tracing] Finishing current active span with op: ${Dc(t).op}`),t.setAttribute(ic,"cancelled"),t.end())}e.on("startNavigationSpan",(n,r)=>{if(Zl()!==e)return;if(r?.isRedirect)return mg&&Ma.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),void D(e,{op:"navigation.redirect",...n},!1);t(),Vl().setPropagationContext({traceId:Ol(),sampleRand:Math.random()});const i=Bl();i.setPropagationContext({traceId:Ol(),sampleRand:Math.random()}),i.setSDKProcessingMetadata({normalizedRequest:void 0}),D(e,{op:"navigation",...n})}),e.on("startPageLoadSpan",(n,r={})=>{if(Zl()!==e)return;t();const i=xc(r.sentryTrace||ub("sentry-trace"),r.baggage||ub("baggage")),o=Bl();o.setPropagationContext(i),o.setSDKProcessingMetadata({normalizedRequest:sp()}),D(e,{op:"pageload",...n})})},afterAllSetup(e){let n=al();if("off"!==k&&sb(e,{linkPreviousTrace:k,consistentTraceSampling:T}),np.location){if(x){const t=Pl();!function(e,t,n){e.emit("startPageLoadSpan",t,n),Bl().setTransactionName(t.name);const r=db(e);r&&e.emit("afterStartPageLoadSpan",r)}(e,{name:np.location.pathname,startTime:t?t/1e3:void 0,attributes:{[Ql]:"url",[rc]:"auto.pageload.browser"}})}S&&Bm(({to:t,from:r})=>{if(void 0===r&&-1!==n?.indexOf(t))return void(n=void 0);n=void 0;const i=Zh(t),o=db(e),s=o&&M&&function(e,t){const n=Dc(e),r=El(),i=n.start_timestamp;if(r-i>pb)return!1;if(t&&r-t<=pb)return!1;return!0}(o,C);!function(e,t,n){const{url:r,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const o=Bl();o.setTransactionName(t.name),r&&!i&&o.setSDKProcessingMetadata({normalizedRequest:{...sp(),url:r}});db(e)}(e,{name:i?.pathname||np.location.pathname,attributes:{[Ql]:"url",[rc]:"auto.navigation.browser"}},{url:t,isRedirect:s})})}p&&(np.document?np.document.addEventListener("visibilitychange",()=>{const e=Nc();if(!e)return;const t=Fc(e);if(np.document.hidden&&t){const e="cancelled",{op:n,status:r}=Dc(t);mg&&Ma.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus({code:2,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):mg&&Ma.warn("[Tracing] Could not set up background tab detection due to lack of global document")),a&&function(e,t,n,r,i){const o=np.document;let s;const a=()=>{const o="ui.action.click",a=db(e);if(a){const e=Dc(a).op;if(["navigation","pageload"].includes(e))return void(mg&&Ma.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`))}s&&(s.setAttribute(ic,"interactionInterrupted"),s.end(),s=void 0),i.name?s=Pu({name:i.name,op:o,attributes:{[Ql]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r}):mg&&Ma.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`)};o&&addEventListener("click",a,{capture:!0})}(e,h,d,f,t),r&&function(){const e=({entries:e})=>{const t=Nc(),n=t&&Fc(t);e.forEach(e=>{if(!function(e){return"duration"in e}(e)||!n)return;const t=e.interactionId;if(null!=t&&!ng.has(t)){if(tg.length>10){const e=tg.shift();ng.delete(e)}tg.push(t),ng.set(t,n)}})};dm("event",e),dm("first-input",e)}(),tb(e,{traceFetch:m,traceXHR:g,trackFetchStreamPerformance:_,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:y,enableHTTPTimings:b,onRequestSpanStart:E})}}};function ub(e){const t=np.document,n=t?.querySelector(`meta[name=${e}]`);return n?.getAttribute("content")||void 0}const hb="_sentry_idleSpan";function db(e){return e[hb]}function fb(e,t){pl(e,hb,t)}const pb=.3;String(0);const mb=np.navigator;let gb="",_b="",yb="",bb=mb?.userAgent||"",vb="";const wb=mb?.userAgentData;(function(e){return"object"==typeof e&&null!==e&&"getHighEntropyValues"in e})(wb)&&wb.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(gb=e.platform||"",yb=e.architecture||"",vb=e.model||"",_b=e.platformVersion||"",e.fullVersionList?.length){const t=e.fullVersionList[e.fullVersionList.length-1];bb=`${t.brand} ${t.version}`}}).catch(e=>{});new Map;let xb=e=>e;var Sb;!function(e){e.CHANGE_PASSWORD="loginchangepassword",e.IS_LOGGED_IN="loginuser",e.LOGIN="login",e.LOGOUT="logout",e.RESET_PASSWORD="loginresetpassword"}(Sb||(Sb={}));const Mb=new class{constructor(){this.originalUrl=window.location.href,this.baseUrl_=null,this.user_=null,ia.getProperties().subscribe({next:e=>{this.user_=e}}),this.noReloadRole_=null,ho.getConfig().subscribe({next:e=>{e&&(this.noReloadRole_=e.gmfAuthenticationNoReloadRole,this.baseUrl_=e.authenticationBaseUrl?e.authenticationBaseUrl.replace(/\/$/,""):null,this.baseUrl_&&this.load_())}}),this.verifyConnection_=window.setInterval(()=>{this.checkConnection_()},6e4)}checkConnection_(){if(this.user_.username&&!1!==this.user_.is_password_changed){const e=`${this.baseUrl_}/${Sb.IS_LOGGED_IN}`;fetch(e,{method:"GET",credentials:"include"}).then(e=>e.json()).then(e=>{this.user_.username!==e.username&&this.handleDisconnection()}).catch(e=>{throw new Error(`Error on connection check: ${e.statusText}`)})}}handleDisconnection(){const e=!!this.noReloadRole_&&this.getRolesNames().includes(this.noReloadRole_);this.resetUser(ta.DISCONNECTED,e)}load_(){const e=`${this.baseUrl_}/${Sb.IS_LOGGED_IN}`;fetch(e,{method:"GET",credentials:"include"}).then(e=>e.json()).then(e=>this.checkUser_(e)).then(e=>this.handleLogin_(!0,e),()=>{throw new Error("Login fail.")})}changePassword(e,t,n,i,o=void 0){const s=`${this.baseUrl_}/${Sb.CHANGE_PASSWORD}`,a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:r.param({login:e,oldPassword:t,otp:o,newPassword:n,confirmNewPassword:i})};return fetch(s,a).then(e=>e.json()).then(e=>this.checkUser_(e)).then(e=>this.setUser_(e,ta.LOGGED_IN),()=>{throw new Error("Change password fail.")})}login(e,t,n=void 0){const i=`${this.baseUrl_}/${Sb.LOGIN}`,o={login:e,password:t,referrer_to:ia.getLoginMessage().value==na?this.originalUrl:window.location.href};n&&Object.assign(o,{otp:n});const s={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:r.param(o)};return fetch(i,s).then(e=>e.json()).then(e=>this.checkUser_(e)).then(e=>xb(e)).then(e=>this.handleLogin_(!1,e),()=>{throw new Error("Login fail.")})}checkUser_(e){if(!e)return e;return e={...ia.getEmptyUserProperties(),...e}}logout(){const e=!!this.noReloadRole_&&this.getRolesNames().includes(this.noReloadRole_),t=`${this.baseUrl_}/${Sb.LOGOUT}`;return fetch(t,{method:"GET",credentials:"include"}).then(()=>{this.resetUser(ta.LOGGED_OUT,e)})}resetPassword(e){const t=`${this.baseUrl_}/${Sb.RESET_PASSWORD}`,n={method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.param({login:e})};return fetch(t,n).then(e=>e.json().then(e=>e))}getUsername(){return this.user_.username||null}getEmail(){return this.user_.email||null}getRolesIds(){return this.user_.roles?this.user_.roles.map(e=>e.id):[]}getRolesNames(){return this.user_.roles?this.user_.roles.map(e=>e.name):[]}handleLogin_(e,t){const n=e?ta.READY:ta.LOGGED_IN;return this.setUser_(t,n),t}setUser_(e,t){!function(e){Vl().setUser(e)}({username:e.username}),ia.setUser(e,t)}resetUser(e,t){const n=ia.getEmptyUserProperties();ia.setUser(n,e),t||this.load_()}},kb=Mb;var Tb=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Eb=class extends Os{constructor(){super(...arguments),this.passwordValidator=null,this.loginInfoMessage="",this.isLoading=!1,this.disconnectedShown=!1,this.resetPasswordShown=!1,this.twoFactorAuth=!1,this.allowPasswordChange=!1,this.allowPasswordReset=!1,this.oidcUserInformationUrl="",this.administratorEmail=void 0,this.changingPassword=!1,this.userMustChangeItsPassword=!1,this.openIdConnectUrl="",this.error=!1,this.otpImage="",this.gmfUser=null,this.customCSS_="",this.changingPasswordUsername_="",this.initialApplicationUrl=window.location.href,this.currentApplicationUrl=window.location.href,this.openIdConnectBaseUrl=""}connectedCallback(){super.connectedCallback(),this.subscriptions.push(ia.getProperties().subscribe({next:e=>{this.gmfUser=e,this.setOtpImage_(),!1===this.gmfUser.is_password_changed?this.handleUserMustChangeItsPassword_():this.onUserStateUpdate_(ia.getState())}}),ia.getLoginMessage().subscribe({next:e=>{this.loginInfoMessage=e,this._updateOpenIdConnectUrl()}})),window.addEventListener("popstate",()=>{this.currentApplicationUrl=window.location.href,this._updateOpenIdConnectUrl()}),this._updateOpenIdConnectUrl();const e=document.body.querySelector("input[slot=gmf-auth-login]");e&&e.addEventListener("keypress",e=>{"Enter"==e.key&&this.login(e)});const t=document.body.querySelector("input[slot=gmf-auth-password]");t&&t.addEventListener("keypress",e=>{"Enter"==e.key&&this.login(e)})}_updateOpenIdConnectUrl(){const e=this.loginInfoMessage?this.initialApplicationUrl:this.currentApplicationUrl,t=new URLSearchParams({came_from:e});this.openIdConnectUrl=`${this.openIdConnectBaseUrl}?${t.toString()}`}initConfig(e){this.twoFactorAuth=e.gmfTwoFactorAuth,this.allowPasswordChange=e.gmfAuthenticationConfig.allowPasswordChange,this.allowPasswordReset=e.gmfAuthenticationConfig.allowPasswordReset,this.oidcUserInformationUrl=e.gmfAuthenticationConfig.oidcUserInformationUrl,this.administratorEmail=e.gmfAuthenticationConfig.administratorEmail,this.openIdConnectBaseUrl=e.gmfOidcLoginUrl,e.gmfCustomCSS&&void 0!==e.gmfCustomCSS.authentication&&(this.customCSS_=e.gmfCustomCSS.authentication),this._updateOpenIdConnectUrl()}render(){return rs`<style>${yo(this.customCSS_)}</style>${this.gmfUser.is_intranet?rs`<div class="form-group"><span>${W.t("You are recognized as an intranet user.")}</span></div>`:""} ${null!==this.gmfUser.username?rs`<div><div class="form-group"><span>${W.t("Logged in as")}</span> <strong>${this.gmfUser.display_name||this.gmfUser.username}</strong>.</div>${this.oidcUserInformationUrl?rs`<div class="form-group"><span><a href="${this.oidcUserInformationUrl}" target="_blank">${W.t("User information on the OIDC service")}</a></span></div>`:rs``} ${this.changingPassword?"":rs`<form name="logoutForm" role="form" @submit="${e=>this.logout(e)}"><div class="form-group"><input type="submit" class="form-control btn prime" value="${W.t("Logout")}"></div><div class="form-group"><input ?hidden="${!(this.allowPasswordChange&&"oidc"!==this.gmfUser.login_type)}" type="button" class="form-control btn btn-default" value="${W.t("Change password")}" @click="${()=>this.changingPassword=!0}"></div></form>`}</div>`:""} ${this.loginInfoMessage?rs`<div class="alert alert-warning"><span>${this.loginInfoMessage}</span></div>`:""} ${this.disconnectedShown?rs`<div class="alert alert-warning">${W.t("You are not logged in any more. The Interface has been reloaded.")}</div>`:""} ${null!==this.gmfUser.username||this.changingPassword?"":"oidc"===this.gmfUser.login_type?rs`<a class="btn prime form-control" role="button" href="${this.openIdConnectUrl}">${W.t("Connect")}</a>`:rs`<div><form name="loginForm" role="form" @submit="${e=>this.login(e)}"><div class="form-group"><slot name="gmf-auth-login"></slot></div><div class="form-group"><slot name="gmf-auth-password"></slot></div>${this.twoFactorAuth?rs`<div class="form-group">${W.t("The following field should be kept empty on first login:")} <input type="text" class="form-control" name="otp" autocomplete="one-time-code" placeholder="${W.t("Authentication code")}"></div>`:""}<div class="form-group"><input type="submit" class="form-control btn prime" value="${W.t("Connect")}"></div>${this.isLoading?rs`<div class="login-spinner"><i class="fa-solid fa-spin">${Ds()}</i></div>`:""}<div ?hidden="${!this.allowPasswordReset}" class="form-group"><a @click="${e=>this.resetPassword(e)}" href="">${W.t("Password forgotten?")}</a></div></form>${this.resetPasswordShown?rs`<div class="alert alert-info">${this.administratorEmail?W.t("A new password has just been sent to you by e-mail, if you didn't receive it, please ask to the administrator at {{email}}.",{email:this.administratorEmail}):W.t("A new password has just been sent to you by e-mail, if you didn't receive it, please ask to the administrator.")}</div>`:""}</div>`} ${this.changingPassword?rs`<div>${this.userMustChangeItsPassword?rs`<div class="alert alert-warning">${W.t("You must change your password")}</div>`:""}<form name="changePasswordForm" role="form" @submit="${e=>this.changePassword(e)}"><div class="form-group"><input type="password" class="form-control" name="oldpassword" autocomplete="current-password" aria-describedby="password-constraints" placeholder="${W.t("Old password")}"></div><div class="form-group"><input type="password" class="form-control" name="newpassword" autocomplete="new-password" placeholder="${W.t("New password")}"></div><div class="form-group"><input type="password" class="form-control" name="newpasswordconfirm" autocomplete="new-password" placeholder="${W.t("Confirm new password")}"></div>${this.gmfUser.otp_uri?rs`<div class="form-group"><label>${W.t("Two factor authentication QR code:")}</label><div><img src="${this.otpImage}"></div></div>`:""} ${this.gmfUser.two_factor_totp_secret?rs`<div class="form-group"><label>${W.t("Two factor authentication key:")}</label> <code>${this.gmfUser.two_factor_totp_secret}</code></div>`:""} ${this.twoFactorAuth?rs`<div class="form-group"><input type="text" class="form-control" name="otp" autocomplete="one-time-code" placeholder="${W.t("Authentication code")}"></div>`:""}<div class="form-group"><input type="submit" class="form-control btn prime" value="${W.t("Change password")}"></div><div class="form-group"><input type="button" class="form-control btn btn-default" value="Cancel" @click="${()=>this.changePasswordReset()}"></div></form></div>`:""}<div ?hidden="${!this.error}" class="auth-error help-block"></div>`}setOtpImage_(){this.gmfUser.otp_uri&&(this.otpImage=sa()(this.gmfUser.otp_uri,{margin:2}))}onUserStateUpdate_(e){e===ta.LOGGED_IN?(this.changingPassword=!1,this.userMustChangeItsPassword=!1):e===ta.DISCONNECTED&&(this.disconnectedShown=!0)}handleUserMustChangeItsPassword_(){this.changingPasswordUsername_=this.gmfUser.username,this.changingPassword=!0,this.userMustChangeItsPassword=!0}changePassword(e){e.preventDefault();const t=[],n=e.target,r=n.oldpassword.value,i=n.newpassword.value,o=n.newpasswordconfirm.value;let s="";if(this.twoFactorAuth&&(s=n.otp.value),""===r&&t.push(W.t("The old password is required.")),""===i&&t.push(W.t("The new password is required.")),""===o&&t.push(W.t("The password confirmation is required.")),t.length)this.setError_(t);else if(r===i&&t.push(W.t("The old and new passwords are the same.")),i!==o&&t.push(W.t("The passwords don't match.")),this.passwordValidator&&(this.passwordValidator.isPasswordValid(r)||t.push(W.t(this.passwordValidator.notValidMessage))),t.length)this.setError_(t);else{let e;e=this.userMustChangeItsPassword?this.changingPasswordUsername_:this.gmfUser.username,console.assert(!e),kb.changePassword(e,r,i,o,s).then(()=>{this.changePasswordReset(),this.setError_([W.t("Your password has successfully been changed.")],Is.INFORMATION)}).catch(()=>{if(this.renderRoot.querySelector('input[name = "oldpassword"]').value="",this.twoFactorAuth){this.renderRoot.querySelector('input[name = "otp"]').value=""}this.setError_([W.t("Incorrect old password.")])})}}login(e){e.preventDefault(),this.manualLoginLogout_(),this.isLoading=!0;const t=[],n=this.renderRoot.querySelector("form"),r=document.body.querySelector("input[slot=gmf-auth-login]"),i=document.body.querySelector("input[slot=gmf-auth-password]"),o=r?r.value:"",s=i?i.value:"";""===o&&t.push(W.t("The username is required.")),""===s&&t.push(W.t("The password is required."));let a="";this.twoFactorAuth&&(a=n.otp.value),t.length?(this.isLoading=!1,this.setError_(t)):kb.login(o,s,a).then(()=>{this.cleanForm_(),this.resetError_()}).catch(()=>{this.setError_([W.t("Incorrect credentials or disabled account.")])}).finally(()=>{this.isLoading=!1,n.reset()})}logout(e){e.preventDefault(),this.manualLoginLogout_(),this.isLoading=!0,kb.logout().then(()=>{this.cleanForm_(),this.resetError_()}).catch(()=>{this.setError_([W.t("Could not log out.")])}).finally(()=>{this.isLoading=!1})}manualLoginLogout_(){ea.touchedByUser=!0}resetPassword(e){e.preventDefault(),this.isLoading=!0;const t=document.body.querySelector("input[slot=gmf-auth-login]"),n=t?t.value:"";if(""===n)return this.isLoading=!1,void this.setError_([W.t("Please, input a login...")]);kb.resetPassword(n).then(()=>{this.cleanForm_(),this.resetPasswordShown=!0,this.resetError_()}).catch(()=>{this.setError_([W.t("An error occurred while resetting the password.")])}).finally(()=>{this.isLoading=!1})}changePasswordReset(){this.cleanForm_(),this.resetError_(),this.changingPassword=!1,this.userMustChangeItsPassword=!1;const e=this.renderRoot.querySelector('input[name = "oldpassword"]'),t=this.renderRoot.querySelector('input[name = "newpassword"]'),n=this.renderRoot.querySelector('input[name = "newpasswordconfirm"]');e.value="",t.value="",n.value="",kb.resetUser(ta.DISCONNECTED,!0)}setError_(e,t){null==t&&(t=Is.ERROR),this.error&&this.resetError_(),this.error=!0;const n=this.renderRoot.querySelector(".auth-error");e.forEach(e=>{const r={msg:e,target:n};t&&(r.type=t),Qs.notify(r)})}cleanForm_(){this.renderRoot.querySelector("form").reset();const e=document.body.querySelector("input[slot=gmf-auth-login]");e&&(e.value="");const t=document.body.querySelector("input[slot=gmf-auth-password]");t&&(t.value="")}resetError_(){Qs.clear(),this.error=!1}};Eb.styles=[...Os.styles,bo`[hidden]{display:none!important}.login-spinner{float:left;margin-right:20px}i.fa-spin{fill:#000;width:1.3rem}.btn.btn-default{background-color:var(--map-tools-bg-color);border-color:var(--onhover-color);color:var(--map-tools-color)}.btn.btn-default.active{box-shadow:inset $light-box-shadow var(--light-box-shadow-color)}.btn.btn-default.active,.btn.btn-default:hover{background-color:var(--onhover-color);border-color:var(--onhover-color-darken)}`],Tb([Es({type:Object})],Eb.prototype,"passwordValidator",void 0),Tb([Ls()],Eb.prototype,"loginInfoMessage",void 0),Tb([Ls()],Eb.prototype,"isLoading",void 0),Tb([Ls()],Eb.prototype,"disconnectedShown",void 0),Tb([Ls()],Eb.prototype,"resetPasswordShown",void 0),Tb([Ls()],Eb.prototype,"twoFactorAuth",void 0),Tb([Ls()],Eb.prototype,"allowPasswordChange",void 0),Tb([Ls()],Eb.prototype,"allowPasswordReset",void 0),Tb([Ls()],Eb.prototype,"oidcUserInformationUrl",void 0),Tb([Ls()],Eb.prototype,"administratorEmail",void 0),Tb([Ls()],Eb.prototype,"changingPassword",void 0),Tb([Ls()],Eb.prototype,"userMustChangeItsPassword",void 0),Tb([Ls()],Eb.prototype,"openIdConnectUrl",void 0),Tb([Ls()],Eb.prototype,"error",void 0),Tb([Ls()],Eb.prototype,"otpImage",void 0),Tb([Ls()],Eb.prototype,"gmfUser",void 0),Tb([Ls()],Eb.prototype,"customCSS_",void 0),Eb=Tb([Ms("gmf-auth-form")],Eb);class Lb extends Os{getTitle(e){return rs`<div class="gmf-app-tools-content-heading">${e}</div>`}}Lb.styles=[...Os.styles,bo`.gmf-app-tools-content-heading{color:var(--color-light);padding-bottom:var(--app-margin);margin-bottom:var(--app-margin);margin-top:calc(var(--grid-gutter-width)/ 2);border-bottom:.06rem solid;border-bottom-color:var(--color-light);font-size:.8rem}`];const Cb=Lb;var Db=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Pb=class extends Cb{constructor(){super(...arguments),this.postLoading=!1,this.passwordValidator=null,this.customCSS_=""}initConfig(e){e.gmfCustomCSS&&void 0!==e.gmfCustomCSS.authenticationPanel&&(this.customCSS_=e.gmfCustomCSS.authenticationPanel)}render(){const e=this.postLoading?rs`<div><i class="fa-solid fa-spin svg-spinner">${Ds()}</i> ${W.t("Loading themes, please wait...")}</div>`:"";return rs`<style>${yo(this.customCSS_)}</style>${this.getTitle(W.t("Login"))}<gmf-auth-form .passwordValidator="${this.passwordValidator}"><slot name="gmf-auth-login" slot="gmf-auth-login"></slot><slot name="gmf-auth-password" slot="gmf-auth-password"></slot></gmf-auth-form>${e}`}};Pb.styles=[...Cb.styles,bo`.svg-spinner{float:left;margin-right:20px}i.fa-spin{fill:#000;width:1.3rem}`],Db([Es({type:Boolean})],Pb.prototype,"postLoading",void 0),Db([Es({type:Object})],Pb.prototype,"passwordValidator",void 0),Db([Ls()],Pb.prototype,"customCSS_",void 0),Pb=Db([Ms("gmf-auth-panel")],Pb);const $b=new class{constructor(){this.activeToolPanel_=new Mi(null),this.activeFooterPanel_=new Mi(null),this.filterActive_=new Mi(!1),this.activeToolPanelState_=null,this.activeFooterPanelState_=null,this.autoCloseFooterPanel_=!1}getActiveToolPanel(){return this.activeToolPanel_}getActiveFooterPanel(){return this.activeFooterPanel_}getFilterActive(){return this.filterActive_}openToolPanel(e,t){let n=(t=t||{}).state;if(void 0===n)n=this.activeToolPanelState_!=e;else{if(n&&this.activeToolPanelState_==e)return;if(!n&&this.activeToolPanelState_!=e&&!0!==t.noError)throw new Error("You try to close a tool panel that's not open")}this.activeToolPanelState_=n?e:null,this.activeToolPanel_.next(this.activeToolPanelState_),this.autoCloseFooterPanel_&&this.activeFooterPanelState_&&(this.activeFooterPanelState_=null,this.activeFooterPanel_.next(null))}openFooterPanel(e,t){let n=(t=t||{}).state;if(void 0===n)n=this.activeFooterPanelState_!=e;else{if(n&&this.activeFooterPanelState_==e)return;if(!n&&this.activeFooterPanelState_!=e&&!0!==t.noError)throw new Error("You try to close a footer panel that's not open")}this.activeFooterPanelState_=n?e:null,this.activeFooterPanel_.next(this.activeFooterPanelState_),this.autoCloseFooterPanel_=!0===t.autoClose}closeToolPanel(){this.activeToolPanelState_&&this.openToolPanel(this.activeToolPanelState_,{state:!1})}closeFooterPanel(){this.activeFooterPanelState_&&this.openFooterPanel(this.activeFooterPanelState_,{state:!1})}setFilterActive(e){this.filterActive_.next(e)}},Ab=$b,Rb=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ob={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ib=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Fb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Nb(e,t){const n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Rb.indexOf(n)||Boolean(Ib.test(e.nodeValue)||Fb.test(e.nodeValue));const r=t.filter(e=>e instanceof RegExp);for(let e=0,t=r.length;e<t;e++)if(r[e].test(n))return!0;return!1}function Yb(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),o=[].slice.call(r.body.querySelectorAll("*"));for(let e=0,n=o.length;e<n;e++){const n=o[e],r=n.nodeName.toLowerCase();if(-1===i.indexOf(n.nodeName.toLowerCase())){n.parentNode.removeChild(n);continue}const s=[].slice.call(n.attributes),a=[].concat(t["*"]||[],t[r]||[]);s.forEach(e=>{Nb(e,a)||n.removeAttribute(e.nodeName)})}return r.body.innerHTML}var jb="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Hb=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(jb&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Ub=jb&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},Hb))}};function zb(e){return e&&"[object Function]"==={}.toString.call(e)}function Gb(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Wb(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function qb(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Gb(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:qb(Wb(e))}function Bb(e){return e&&e.referenceNode?e.referenceNode:e}var Vb=jb&&!(!window.MSInputMethodContext||!document.documentMode),Xb=jb&&/MSIE 10/.test(navigator.userAgent);function Kb(e){return 11===e?Vb:10===e?Xb:Vb||Xb}function Zb(e){if(!e)return document.documentElement;for(var t=Kb(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Gb(n,"position")?Zb(n):n:e?e.ownerDocument.documentElement:document.documentElement}function Jb(e){return null!==e.parentNode?Jb(e.parentNode):e}function Qb(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(i))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&Zb(s.firstElementChild)!==s?Zb(l):l;var c=Jb(e);return c.host?Qb(c.host,t):Qb(e,Jb(t).host)}function ev(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function tv(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function nv(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Kb(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function rv(e){var t=e.body,n=e.documentElement,r=Kb(10)&&getComputedStyle(n);return{height:nv("Height",t,n,r),width:nv("Width",t,n,r)}}var iv=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ov=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},sv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function av(e){return sv({},e,{right:e.left+e.width,bottom:e.top+e.height})}function lv(e){var t={};try{if(Kb(10)){t=e.getBoundingClientRect();var n=ev(e,"top"),r=ev(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?rv(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,a=o.height||e.clientHeight||i.height,l=e.offsetWidth-s,c=e.offsetHeight-a;if(l||c){var u=Gb(e);l-=tv(u,"x"),c-=tv(u,"y"),i.width-=l,i.height-=c}return av(i)}function cv(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Kb(10),i="HTML"===t.nodeName,o=lv(e),s=lv(t),a=qb(e),l=Gb(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=av({top:o.top-s.top-c,left:o.left-s.left-u,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var d=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);h.top-=c-d,h.bottom-=c-d,h.left-=u-f,h.right-=u-f,h.marginTop=d,h.marginLeft=f}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ev(t,"top"),i=ev(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(h,t)),h}function uv(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Gb(e,"position"))return!0;var n=Wb(e);return!!n&&uv(n)}function hv(e){if(!e||!e.parentElement||Kb())return document.documentElement;for(var t=e.parentElement;t&&"none"===Gb(t,"transform");)t=t.parentElement;return t||document.documentElement}function dv(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?hv(e):Qb(e,Bb(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=cv(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:ev(n),a=t?0:ev(n,"left");return av({top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o})}(s,i);else{var a=void 0;"scrollParent"===r?"BODY"===(a=qb(Wb(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var l=cv(a,s,i);if("HTML"!==a.nodeName||uv(s))o=l;else{var c=rv(e.ownerDocument),u=c.height,h=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}var d="number"==typeof(n=n||0);return o.left+=d?n:n.left||0,o.top+=d?n:n.top||0,o.right-=d?n:n.right||0,o.bottom-=d?n:n.bottom||0,o}function fv(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=dv(n,r,o,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(e){return sv({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function pv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return cv(n,r?hv(t):Qb(t,Bb(n)),r)}function mv(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function gv(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function _v(e,t,n){n=n.split("-")[0];var r=mv(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[s]=t[s]+t[l]/2-r[l]/2,i[a]=n===a?t[a]-r[c]:t[gv(a)],i}function yv(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function bv(e,t,n){var r=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=yv(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n));return r.forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&zb(n)&&(t.offsets.popper=av(t.offsets.popper),t.offsets.reference=av(t.offsets.reference),t=n(t,e))}),t}function vv(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=pv(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=fv(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=_v(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=bv(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function wv(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function xv(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function Sv(){return this.state.isDestroyed=!0,wv(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[xv("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Mv(e){var t=e.ownerDocument;return t?t.defaultView:window}function kv(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||kv(qb(o.parentNode),t,n,r),r.push(o)}function Tv(e,t,n,r){n.updateBound=r,Mv(e).addEventListener("resize",n.updateBound,{passive:!0});var i=qb(e);return kv(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Ev(){this.state.eventsEnabled||(this.state=Tv(this.reference,this.options,this.state,this.scheduleUpdate))}function Lv(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Mv(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Cv(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Dv(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Cv(t[n])&&(r="px"),e.style[n]=t[n]+r})}var Pv=jb&&/Firefox/i.test(navigator.userAgent);function $v(e,t,n){var r=yv(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Av=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Rv=Av.slice(3);function Ov(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Rv.indexOf(e),r=Rv.slice(n+1).concat(Rv.slice(0,n));return t?r.reverse():r}var Iv="flip",Fv="clockwise",Nv="counterclockwise";function Yv(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=s.indexOf(yv(s,function(e){return-1!==e.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map(function(e,r){var i=(1===r?!o:o)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0===s.indexOf("%")){return av("%p"===s?n:r)[t]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)})}),c.forEach(function(e,t){e.forEach(function(n,r){Cv(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}var jv={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:ov({},l,o[l]),end:ov({},l,o[l]+o[c]-s[c])};e.offsets.popper=sv({},s,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return l=Cv(+n)?[+n,0]:Yv(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Zb(e.instance.popper);e.instance.reference===n&&(n=Zb(n));var r=xv("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=dv(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=s,i[r]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,h={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),ov({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),ov({},n,r)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=sv({},u,h[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[a])&&(e.offsets.popper[l]=o(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!$v(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",h=u.toLowerCase(),d=l?"left":"top",f=l?"bottom":"right",p=mv(r)[c];a[f]-p<s[h]&&(e.offsets.popper[h]-=s[h]-(a[f]-p)),a[h]+p>s[f]&&(e.offsets.popper[h]+=a[h]+p-s[f]),e.offsets.popper=av(e.offsets.popper);var m=a[h]+a[c]/2-p/2,g=Gb(e.instance.popper),_=parseFloat(g["margin"+u]),y=parseFloat(g["border"+u+"Width"]),b=m-e.offsets.popper[h]-_-y;return b=Math.max(Math.min(s[c]-p,b),0),e.arrowElement=r,e.offsets.arrow=(ov(n={},h,Math.round(b)),ov(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(wv(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=dv(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=gv(r),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case Iv:s=[r,i];break;case Fv:s=Ov(r);break;case Nv:s=Ov(r,!0);break;default:s=t.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return e;r=e.placement.split("-")[0],i=gv(r);var c=e.offsets.popper,u=e.offsets.reference,h=Math.floor,d="left"===r&&h(c.right)>h(u.left)||"right"===r&&h(c.left)<h(u.right)||"top"===r&&h(c.bottom)>h(u.top)||"bottom"===r&&h(c.top)<h(u.bottom),f=h(c.left)<h(n.left),p=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),_="left"===r&&f||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),v=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&g||!y&&"end"===o&&m),w=b||v;(d||_||w)&&(e.flipped=!0,(d||_)&&(r=s[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=sv({},e.offsets.popper,_v(e.instance.popper,e.offsets.reference,e.placement)),e=bv(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),e.placement=gv(t),e.offsets.popper=av(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$v(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=yv(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=yv(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=Zb(e.instance.popper),l=lv(a),c={position:i.position},u=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},l=o(i.width),c=o(r.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?u||h||l%2==c%2?o:s:a,f=t?o:a;return{left:d(l%2==1&&c%2==1&&!h&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!Pv),h="bottom"===n?"top":"bottom",d="right"===r?"left":"right",f=xv("transform"),p=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,p="right"===d?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&f)c[f]="translate3d("+p+"px, "+m+"px, 0)",c[h]=0,c[d]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,_="right"===d?-1:1;c[h]=m*g,c[d]=p*_,c.willChange=h+", "+d}var y={"x-placement":e.placement};return e.attributes=sv({},y,e.attributes),e.styles=sv({},c,e.styles),e.arrowStyles=sv({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Dv(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&Dv(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=pv(i,t,e,n.positionFixed),s=fv(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),Dv(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Hv={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:jv},Uv=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Ub(this.update.bind(this)),this.options=sv({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(sv({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=sv({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return sv({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&zb(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return iv(e,[{key:"update",value:function(){return vv.call(this)}},{key:"destroy",value:function(){return Sv.call(this)}},{key:"enableEventListeners",value:function(){return Ev.call(this)}},{key:"disableEventListeners",value:function(){return Lv.call(this)}}]),e}();Uv.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,Uv.placements=Av,Uv.Defaults=Hv;const zv=Uv,Gv="tooltip",Wv="bs.tooltip",qv=`.${Wv}`,Bv=i().fn[Gv],Vv="bs-tooltip",Xv=new RegExp(`(^|\\s)${Vv}\\S+`,"g"),Kv=["sanitize","whiteList","sanitizeFn"],Zv="fade",Jv="show",Qv="show",ew="out",tw="hover",nw="focus",rw={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},iw={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:Ob,popperConfig:null},ow={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},sw={HIDE:`hide${qv}`,HIDDEN:`hidden${qv}`,SHOW:`show${qv}`,SHOWN:`shown${qv}`,INSERTED:`inserted${qv}`,CLICK:`click${qv}`,FOCUSIN:`focusin${qv}`,FOCUSOUT:`focusout${qv}`,MOUSEENTER:`mouseenter${qv}`,MOUSELEAVE:`mouseleave${qv}`};class aw{constructor(e,t){if(void 0===zv)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}static get VERSION(){return"4.6.2"}static get Default(){return iw}static get NAME(){return Gv}static get DATA_KEY(){return Wv}static get Event(){return sw}static get EVENT_KEY(){return qv}static get DefaultType(){return ow}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const t=this.constructor.DATA_KEY;let n=i()(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),i()(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(i()(this.getTipElement()).hasClass(Jv))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),i().removeData(this.element,this.constructor.DATA_KEY),i()(this.element).off(this.constructor.EVENT_KEY),i()(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&i()(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null}show(){if("none"===i()(this.element).css("display"))throw new Error("Please use show on visible elements");const e=i().Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){i()(this.element).trigger(e);const t=Us.findShadowRoot(this.element),n=i().contains(null!==t?t:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!n)return;const r=this.getTipElement(),o=Us.getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&i()(r).addClass(Zv);const s="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,a=this._getAttachment(s);this.addAttachmentClass(a);const l=this._getContainer();i()(r).data(this.constructor.DATA_KEY,this),i().contains(this.element.ownerDocument.documentElement,this.tip)||i()(r).appendTo(l),i()(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new zv(this.element,r,this._getPopperConfig(a)),i()(r).addClass(Jv),i()(r).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&i()(document.body).children().on("mouseover",null,i().noop);const c=()=>{this.config.animation&&this._fixTransition();const e=this._hoverState;this._hoverState=null,i()(this.element).trigger(this.constructor.Event.SHOWN),e===ew&&this._leave(null,this)};if(i()(this.tip).hasClass(Zv)){const e=Us.getTransitionDurationFromElement(this.tip);i()(this.tip).one(Us.TRANSITION_END,c).emulateTransitionEnd(e)}else c()}}hide(e){const t=this.getTipElement(),n=i().Event(this.constructor.Event.HIDE),r=()=>{this._hoverState!==Qv&&t.parentNode&&t.parentNode.removeChild(t),this._cleanTipClass(),this.element.removeAttribute("aria-describedby"),i()(this.element).trigger(this.constructor.Event.HIDDEN),null!==this._popper&&this._popper.destroy(),e&&e()};if(i()(this.element).trigger(n),!n.isDefaultPrevented()){if(i()(t).removeClass(Jv),"ontouchstart"in document.documentElement&&i()(document.body).children().off("mouseover",null,i().noop),this._activeTrigger.click=!1,this._activeTrigger[nw]=!1,this._activeTrigger[tw]=!1,i()(this.tip).hasClass(Zv)){const e=Us.getTransitionDurationFromElement(t);i()(t).one(Us.TRANSITION_END,r).emulateTransitionEnd(e)}else r();this._hoverState=""}}update(){null!==this._popper&&this._popper.scheduleUpdate()}isWithContent(){return Boolean(this.getTitle())}addAttachmentClass(e){i()(this.getTipElement()).addClass(`${Vv}-${e}`)}getTipElement(){return this.tip=this.tip||i()(this.config.template)[0],this.tip}setContent(){const e=this.getTipElement();this.setElementContent(i()(e.querySelectorAll(".tooltip-inner")),this.getTitle()),i()(e).removeClass(`${Zv} ${Jv}`)}setElementContent(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Yb(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?i()(t).parent().is(e)||e.empty().append(t):e.text(i()(t).text())}getTitle(){let e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e}_getPopperConfig(e){const t={placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:e=>{e.originalPlacement!==e.placement&&this._handlePopperPlacementChange(e)},onUpdate:e=>this._handlePopperPlacementChange(e)};return{...t,...this.config.popperConfig}}_getOffset(){const e={};return"function"==typeof this.config.offset?e.fn=e=>(e.offsets={...e.offsets,...this.config.offset(e.offsets,this.element)},e):e.offset=this.config.offset,e}_getContainer(){return!1===this.config.container?document.body:Us.isElement(this.config.container)?i()(this.config.container):i()(document).find(this.config.container)}_getAttachment(e){return rw[e.toUpperCase()]}_setListeners(){this.config.trigger.split(" ").forEach(e=>{if("click"===e)i()(this.element).on(this.constructor.Event.CLICK,this.config.selector,e=>this.toggle(e));else if("manual"!==e){const t=e===tw?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=e===tw?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;i()(this.element).on(t,this.config.selector,e=>this._enter(e)).on(n,this.config.selector,e=>this._leave(e))}}),this._hideModalHandler=()=>{this.element&&this.hide()},i()(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config={...this.config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}_enter(e,t){const n=this.constructor.DATA_KEY;(t=t||i()(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),i()(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?nw:tw]=!0),i()(t.getTipElement()).hasClass(Jv)||t._hoverState===Qv?t._hoverState=Qv:(clearTimeout(t._timeout),t._hoverState=Qv,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(()=>{t._hoverState===Qv&&t.show()},t.config.delay.show):t.show())}_leave(e,t){const n=this.constructor.DATA_KEY;(t=t||i()(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),i()(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?nw:tw]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=ew,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(()=>{t._hoverState===ew&&t.hide()},t.config.delay.hide):t.hide())}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const t=i()(this.element).data();return Object.keys(t).forEach(e=>{-1!==Kv.indexOf(e)&&delete t[e]}),"number"==typeof(e={...this.constructor.Default,...t,..."object"==typeof e&&e?e:{}}).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),Us.typeCheckConfig(Gv,e,this.constructor.DefaultType),e.sanitize&&(e.template=Yb(e.template,e.whiteList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};if(this.config)for(const t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e}_cleanTipClass(){const e=i()(this.getTipElement()),t=e.attr("class").match(Xv);null!==t&&t.length&&e.removeClass(t.join(""))}_handlePopperPlacementChange(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))}_fixTransition(){const e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(i()(e).removeClass(Zv),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)}static _jQueryInterface(e){return this.each(function(){const t=i()(this);let n=t.data(Wv);const r="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new aw(this,r),t.data(Wv,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}})}}i().fn[Gv]=aw._jQueryInterface,i().fn[Gv].Constructor=aw,i().fn[Gv].noConflict=()=>(i().fn[Gv]=Bv,aw._jQueryInterface);const lw=aw;var cw=n(6932),uw=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};class hw extends Os{constructor(e){super(),this.active_=!1,this.title_=!1,this.subscriptions=[],this.panelName_=e}connectedCallback(){super.connectedCallback(),this.subscriptions.push(Ab.getActiveToolPanel().subscribe({next:e=>{this.active_=e&&e==this.panelName_}}))}activePanels_(e){}click_(){Ab.openToolPanel(this.panelName_)}render(){return rs`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${this.title_}"><slot></slot></button>`}firstUpdated(){cw(this.shadowRoot.querySelectorAll("[data-toggle='tooltip']")).tooltip()}}hw.styles=[...Os.styles,bo`button.btn{margin:0;margin-top:-1px;width:2rem;height:2rem;display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;user-select:none;padding:.25rem .5rem;font-size:.8rem;line-height:1.5;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;background-color:var(--brand-primary);border-radius:0;border:var(--border);border-color:var(--border-color);border-right-width:0;border-left-width:0}button.btn:focus{box-shadow:unset}button:hover{background-color:var(--hover-background-color)}button.active,button:active{box-shadow:none}button.active{background-color:var(--brand-secondary);border-left:.06rem solid;border-left-color:var(--brand-secondary);margin-left:-.06rem}`];const dw=hw;uw([Ls()],hw.prototype,"active_",void 0),uw([Ls()],hw.prototype,"title_",void 0);let fw=class extends hw{connectedCallback(){super.connectedCallback(),this.panelName_=this.panelName}render(){return rs`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${this.title}">${this.iconClasses?rs`<span class="${this.iconClasses}"></span>`:rs`<slot></slot>`}</button>`}};uw([Es({type:String})],fw.prototype,"panelName",void 0),uw([Es({type:String})],fw.prototype,"title",void 0),uw([Es({type:String})],fw.prototype,"iconClasses",void 0),fw=uw([Ms("gmf-tool-button")],fw);var pw=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let mw=class extends dw{constructor(){super("auth"),this.login_=!1}connectedCallback(){super.connectedCallback(),this.subscriptions.push(ia.getProperties().subscribe({next:e=>{this.login_=!!e.username}}))}render(){return rs`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${W.t("Login")}"><span class="fa-solid ${this.login_?"fa-user-xmark":"fa-user"}"></span></button>`}};pw([Ls()],mw.prototype,"login_",void 0),mw=pw([Ms("gmf-auth-button")],mw);var gw=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let _w=class extends dw{constructor(){super("lidar")}connectedCallback(){super.connectedCallback()}render(){return rs`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${W.t("LIDAR profile")}"><span class="fa-solid fa-chart-line"></span></button>`}};_w=gw([Ms("gmf-lidar-button")],_w);const yw=new class{constructor(){ho.getConfig().subscribe({next:e=>{e&&(this.pytreeLidarprofileJsonUrl=e.pytreeLidarprofileJsonUrl)}}),this.loaded=!1,this.clientConfig={autoWidth:!0,margin:{left:40,top:10,right:200,bottom:40},pointAttributes:{},pointSum:0,tolerance:5},this.serverConfig=null}initProfileConfig(){const e=`${this.pytreeLidarprofileJsonUrl}/profile/config`;return fetch(e).then(e=>e.json().then(e=>{this.serverConfig={classification_colors:e.classification_colors||null,debug:!!e.debug,default_attribute:e.default_attribute||"",default_color:e.default_color||"",default_point_attribute:e.default_point_attribute||"",default_point_cloud:e.default_point_cloud||"",initialLOD:e.initialLOD||0,max_levels:e.max_levels||null,max_point_number:e.max_point_number||5e4,minLOD:e.minLOD||0,point_attributes:e.point_attributes||null,point_size:e.point_size||0,width:e.width||0};const t=[];for(const e in this.serverConfig.point_attributes)1==this.serverConfig.point_attributes[e].visible&&t.push(this.serverConfig.point_attributes[e]);const n=this.serverConfig.point_attributes[this.serverConfig.default_point_attribute];this.clientConfig.pointAttributes={availableOptions:t,selectedOption:n}}))}},bw=yw;function vw(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ww(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xw(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=vw,n=(t,n)=>vw(e(t),n),r=(t,n)=>e(t)-n):(t=e===vw||e===ww?e:Sw,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const s=i(e,t,n,o-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function Sw(){return 0}const Mw=xw(vw),kw=Mw.right,Tw=(Mw.left,xw(function(e){return null===e?NaN:+e}).center,kw);Ew(Dw),Ew(function(e){const t=Dw(e);return(e,n,r,i,o)=>{t(e,n,(r<<=2)+0,(i<<=2)+0,o<<=2),t(e,n,r+1,i+1,o),t(e,n,r+2,i+2,o),t(e,n,r+3,i+3,o)}});function Ew(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return t;const a=n&&e(n),l=r&&e(r),c=i.slice();return a&&l?(Lw(a,c,i,o,s),Lw(a,i,c,o,s),Lw(a,c,i,o,s),Cw(l,i,c,o,s),Cw(l,c,i,o,s),Cw(l,i,c,o,s)):a?(Lw(a,i,c,o,s),Lw(a,c,i,o,s),Lw(a,i,c,o,s)):l&&(Cw(l,i,c,o,s),Cw(l,c,i,o,s),Cw(l,i,c,o,s)),t}}function Lw(e,t,n,r,i){for(let o=0,s=r*i;o<s;)e(t,n,o,o+=r,1)}function Cw(e,t,n,r,i){for(let o=0,s=r*i;o<r;++o)e(t,n,o,o+s,r)}function Dw(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=e*r[i];const l=s*e;for(let e=i,t=i+l;e<t;e+=s)a+=r[Math.min(o,e)];for(let e=i,c=o;e<=c;e+=s)a+=r[Math.min(o,e+l)],n[e]=a/t,a-=r[Math.max(i,e-l)]}}(e);const n=e-t,r=2*e+1;return(e,i,o,s,a)=>{if(!((s-=a)>=o))return;let l=t*i[o];const c=a*t,u=c+a;for(let e=o,t=o+c;e<t;e+=a)l+=i[Math.min(s,e)];for(let t=o,h=s;t<=h;t+=a)l+=i[Math.min(s,t+c)],e[t]=(l+n*(i[Math.max(o,t-u)]+i[Math.min(s,t+u)]))/r,l-=i[Math.max(o,t-c)]}}class Pw{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=e+i,s=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);s&&(t[n++]=s),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,n=e[--i],o=t+n,r=n-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=o+n,n==t-o&&(o=t))}return o}}Map;Set;var $w=Array.prototype;$w.slice,$w.map;const Aw=Math.sqrt(50),Rw=Math.sqrt(10),Ow=Math.sqrt(2);function Iw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Aw?10:o>=Rw?5:o>=Ow?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Iw(e,t,2*n):[a,l,c]}function Fw(e,t,n){return Iw(e=+e,t=+t,n=+n)[2]}function Nw(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Fw(t,e,n):Fw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}Yw=Math.random;var Yw;function jw(e){return e}var Hw=1e-6;function Uw(e){return"translate("+e+",0)"}function zw(e){return"translate(0,"+e+")"}function Gw(e){return t=>+e(t)}function Ww(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function qw(){return!this.__axis}function Bw(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",h=1===e||3===e?Uw:zw;function d(d){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,p=null==i?t.tickFormat?t.tickFormat.apply(t,n):jw:i,m=Math.max(o,0)+a,g=t.range(),_=+g[0]+l,y=+g[g.length-1]+l,b=(t.bandwidth?Ww:Gw)(t.copy(),l),v=d.selection?d.selection():d,w=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(f,t).order(),S=x.exit(),M=x.enter().append("g").attr("class","tick"),k=x.select("line"),T=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),T=T.merge(M.append("text").attr("fill","currentColor").attr(u,c*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),d!==v&&(w=w.transition(d),x=x.transition(d),k=k.transition(d),T=T.transition(d),S=S.transition(d).attr("opacity",Hw).attr("transform",function(e){return isFinite(e=b(e))?h(e+l):this.getAttribute("transform")}),M.attr("opacity",Hw).attr("transform",function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:b(e))+l)})),S.remove(),w.attr("d",4===e||2===e?s?"M"+c*s+","+_+"H"+l+"V"+y+"H"+c*s:"M"+l+","+_+"V"+y:s?"M"+_+","+c*s+"V"+l+"H"+y+"V"+c*s:"M"+_+","+l+"H"+y),x.attr("opacity",1).attr("transform",function(e){return h(b(e)+l)}),k.attr(u+"2",c*o),T.attr(u,c*m).text(p),v.filter(qw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),v.each(function(){this.__axis=b})}return d.scale=function(e){return arguments.length?(t=e,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),d):n.slice()},d.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),d):r&&r.slice()},d.tickFormat=function(e){return arguments.length?(i=e,d):i},d.tickSize=function(e){return arguments.length?(o=s=+e,d):o},d.tickSizeInner=function(e){return arguments.length?(o=+e,d):o},d.tickSizeOuter=function(e){return arguments.length?(s=+e,d):s},d.tickPadding=function(e){return arguments.length?(a=+e,d):a},d.offset=function(e){return arguments.length?(l=+e,d):l},d}function Vw(e){return Bw(3,e)}function Xw(e){return Bw(4,e)}var Kw={value:()=>{}};function Zw(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Jw(r)}function Jw(e){this._=e}function Qw(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function ex(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Kw,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Jw.prototype=Zw.prototype={constructor:Jw,on:function(e,t){var n,r=this._,i=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=i[o]).type)r[n]=ex(r[n],e.name,t);else if(null==t)for(n in r)r[n]=ex(r[n],e.name,null);return this}for(;++o<s;)if((n=(e=i[o]).type)&&(n=Qw(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Jw(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const tx=Zw;var nx="http://www.w3.org/1999/xhtml";const rx={svg:"http://www.w3.org/2000/svg",xhtml:nx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ix(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),rx.hasOwnProperty(t)?{space:rx[t],local:e}:e}function ox(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nx&&t.documentElement.namespaceURI===nx?t.createElement(e):t.createElementNS(n,e)}}function sx(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ax(e){var t=ix(e);return(t.local?sx:ox)(t)}function lx(){}function cx(e){return null==e?lx:function(){return this.querySelector(e)}}function ux(){return[]}function hx(e){return null==e?ux:function(){return this.querySelectorAll(e)}}function dx(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function fx(e){return function(){return this.matches(e)}}function px(e){return function(t){return t.matches(e)}}var mx=Array.prototype.find;function gx(){return this.firstElementChild}var _x=Array.prototype.filter;function yx(){return Array.from(this.children)}function bx(e){return new Array(e.length)}function vx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function wx(e,t,n,r,i,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new vx(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function xx(e,t,n,r,i,o,s){var a,l,c,u=new Map,h=t.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(f[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new vx(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function Sx(e){return e.__data__}function Mx(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function kx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Tx(e){return function(){this.removeAttribute(e)}}function Ex(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lx(e,t){return function(){this.setAttribute(e,t)}}function Cx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Dx(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Px(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $x(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ax(e){return function(){this.style.removeProperty(e)}}function Rx(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ox(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ix(e,t){return e.style.getPropertyValue(t)||$x(e).getComputedStyle(e,null).getPropertyValue(t)}function Fx(e){return function(){delete this[e]}}function Nx(e,t){return function(){this[e]=t}}function Yx(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function jx(e){return e.trim().split(/^|\s+/)}function Hx(e){return e.classList||new Ux(e)}function Ux(e){this._node=e,this._names=jx(e.getAttribute("class")||"")}function zx(e,t){for(var n=Hx(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Gx(e,t){for(var n=Hx(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Wx(e){return function(){zx(this,e)}}function qx(e){return function(){Gx(this,e)}}function Bx(e,t){return function(){(t.apply(this,arguments)?zx:Gx)(this,e)}}function Vx(){this.textContent=""}function Xx(e){return function(){this.textContent=e}}function Kx(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Zx(){this.innerHTML=""}function Jx(e){return function(){this.innerHTML=e}}function Qx(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function eS(){this.nextSibling&&this.parentNode.appendChild(this)}function tS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nS(){return null}function rS(){var e=this.parentNode;e&&e.removeChild(this)}function iS(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oS(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sS(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function aS(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function lS(e,t,n){var r=$x(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function cS(e,t){return function(){return lS(this,e,t)}}function uS(e,t){return function(){return lS(this,e,t.apply(this,arguments))}}vx.prototype={constructor:vx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Ux.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var hS=[null];function dS(e,t){this._groups=e,this._parents=t}function fS(){return new dS([[document.documentElement]],hS)}dS.prototype=fS.prototype={constructor:dS,select:function(e){"function"!=typeof e&&(e=cx(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=t[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new dS(r,this._parents)},selectAll:function(e){e="function"==typeof e?dx(e):hx(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),i.push(s));return new dS(r,i)},selectChild:function(e){return this.select(null==e?gx:function(e){return function(){return mx.call(this.children,e)}}("function"==typeof e?e:px(e)))},selectChildren:function(e){return this.selectAll(null==e?yx:function(e){return function(){return _x.call(this.children,e)}}("function"==typeof e?e:px(e)))},filter:function(e){"function"!=typeof e&&(e=fx(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new dS(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Sx);var n=t?xx:wx,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=Mx(e.call(u,u&&u.__data__,c,r)),p=f.length,m=a[c]=new Array(p),g=s[c]=new Array(p);n(u,h,m,g,l[c]=new Array(d),f,t);for(var _,y,b=0,v=0;b<p;++b)if(_=m[b]){for(b>=v&&(v=b+1);!(y=g[v])&&++v<p;);_._next=y||null}}return(s=new dS(s,r))._enter=a,s._exit=l,s},enter:function(){return new dS(this._enter||this._groups.map(bx),this._parents)},exit:function(){return new dS(this._exit||this._groups.map(bx),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],h=r[l],d=u.length,f=a[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)a[l]=n[l];return new dS(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=kx);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new dS(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,a=o.length;s<a;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this},attr:function(e,t){var n=ix(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Ex:Tx:"function"==typeof t?n.local?Px:Dx:n.local?Cx:Lx)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Ax:"function"==typeof t?Ox:Rx)(e,t,null==n?"":n)):Ix(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Fx:"function"==typeof t?Yx:Nx)(e,t)):this.node()[e]},classed:function(e,t){var n=jx(e+"");if(arguments.length<2){for(var r=Hx(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Bx:t?Wx:qx)(n,t))},text:function(e){return arguments.length?this.each(null==e?Vx:("function"==typeof e?Kx:Xx)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Zx:("function"==typeof e?Qx:Jx)(e)):this.node().innerHTML},raise:function(){return this.each(eS)},lower:function(){return this.each(tS)},append:function(e){var t="function"==typeof e?e:ax(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:ax(e),r=null==t?nS:"function"==typeof t?t:cx(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(rS)},clone:function(e){return this.select(e?oS:iS)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?aS:sS,r=0;r<s;++r)this.each(a(o[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?uS:cS)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const pS=fS;function mS(e){return"string"==typeof e?new dS([[document.querySelector(e)]],[document.documentElement]):new dS([[e]],hS)}var gS=0;function _S(){this._="@"+(++gS).toString(36)}function yS(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}_S.prototype=function(){return new _S}.prototype={constructor:_S,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const bS={capture:!0,passive:!1};function vS(e){e.preventDefault(),e.stopImmediatePropagation()}function wS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function SS(){}var MS=.7,kS=1/MS,TS="\\s*([+-]?\\d+)\\s*",ES="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",LS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CS=/^#([0-9a-f]{3,8})$/,DS=new RegExp(`^rgb\\(${TS},${TS},${TS}\\)$`),PS=new RegExp(`^rgb\\(${LS},${LS},${LS}\\)$`),$S=new RegExp(`^rgba\\(${TS},${TS},${TS},${ES}\\)$`),AS=new RegExp(`^rgba\\(${LS},${LS},${LS},${ES}\\)$`),RS=new RegExp(`^hsl\\(${ES},${LS},${LS}\\)$`),OS=new RegExp(`^hsla\\(${ES},${LS},${LS},${ES}\\)$`),IS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function FS(){return this.rgb().formatHex()}function NS(){return this.rgb().formatRgb()}function YS(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=CS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?jS(t):3===n?new GS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?HS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?HS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=DS.exec(e))?new GS(t[1],t[2],t[3],1):(t=PS.exec(e))?new GS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=$S.exec(e))?HS(t[1],t[2],t[3],t[4]):(t=AS.exec(e))?HS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=RS.exec(e))?KS(t[1],t[2]/100,t[3]/100,1):(t=OS.exec(e))?KS(t[1],t[2]/100,t[3]/100,t[4]):IS.hasOwnProperty(e)?jS(IS[e]):"transparent"===e?new GS(NaN,NaN,NaN,0):null}function jS(e){return new GS(e>>16&255,e>>8&255,255&e,1)}function HS(e,t,n,r){return r<=0&&(e=t=n=NaN),new GS(e,t,n,r)}function US(e){return e instanceof SS||(e=YS(e)),e?new GS((e=e.rgb()).r,e.g,e.b,e.opacity):new GS}function zS(e,t,n,r){return 1===arguments.length?US(e):new GS(e,t,n,null==r?1:r)}function GS(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function WS(){return`#${XS(this.r)}${XS(this.g)}${XS(this.b)}`}function qS(){const e=BS(this.opacity);return`${1===e?"rgb(":"rgba("}${VS(this.r)}, ${VS(this.g)}, ${VS(this.b)}${1===e?")":`, ${e})`}`}function BS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function VS(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function XS(e){return((e=VS(e))<16?"0":"")+e.toString(16)}function KS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new QS(e,t,n,r)}function ZS(e){if(e instanceof QS)return new QS(e.h,e.s,e.l,e.opacity);if(e instanceof SS||(e=YS(e)),!e)return new QS;if(e instanceof QS)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new QS(s,a,l,e.opacity)}function JS(e,t,n,r){return 1===arguments.length?ZS(e):new QS(e,t,n,null==r?1:r)}function QS(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function eM(e){return(e=(e||0)%360)<0?e+360:e}function tM(e){return Math.max(0,Math.min(1,e||0))}function nM(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}wS(SS,YS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:FS,formatHex:FS,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ZS(this).formatHsl()},formatRgb:NS,toString:NS}),wS(GS,zS,xS(SS,{brighter(e){return e=null==e?kS:Math.pow(kS,e),new GS(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?MS:Math.pow(MS,e),new GS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new GS(VS(this.r),VS(this.g),VS(this.b),BS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WS,formatHex:WS,formatHex8:function(){return`#${XS(this.r)}${XS(this.g)}${XS(this.b)}${XS(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:qS,toString:qS})),wS(QS,JS,xS(SS,{brighter(e){return e=null==e?kS:Math.pow(kS,e),new QS(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?MS:Math.pow(MS,e),new QS(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new GS(nM(e>=240?e-240:e+120,i,r),nM(e,i,r),nM(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new QS(eM(this.h),tM(this.s),tM(this.l),BS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=BS(this.opacity);return`${1===e?"hsl(":"hsla("}${eM(this.h)}, ${100*tM(this.s)}%, ${100*tM(this.l)}%${1===e?")":`, ${e})`}`}}));const rM=Math.PI/180,iM=180/Math.PI,oM=.96422,sM=.82521,aM=4/29,lM=6/29,cM=3*lM*lM,uM=lM*lM*lM;function hM(e){if(e instanceof dM)return new dM(e.l,e.a,e.b,e.opacity);if(e instanceof bM)return vM(e);e instanceof GS||(e=US(e));var t,n,r=gM(e.r),i=gM(e.g),o=gM(e.b),s=fM((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?t=n=s:(t=fM((.4360747*r+.3850649*i+.1430804*o)/oM),n=fM((.0139322*r+.0971045*i+.7141733*o)/sM)),new dM(116*s-16,500*(t-s),200*(s-n),e.opacity)}function dM(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function fM(e){return e>uM?Math.pow(e,1/3):e/cM+aM}function pM(e){return e>lM?e*e*e:cM*(e-aM)}function mM(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function gM(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _M(e){if(e instanceof bM)return new bM(e.h,e.c,e.l,e.opacity);if(e instanceof dM||(e=hM(e)),0===e.a&&0===e.b)return new bM(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*iM;return new bM(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function yM(e,t,n,r){return 1===arguments.length?_M(e):new bM(e,t,n,null==r?1:r)}function bM(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function vM(e){if(isNaN(e.h))return new dM(e.l,0,0,e.opacity);var t=e.h*rM;return new dM(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}wS(dM,function(e,t,n,r){return 1===arguments.length?hM(e):new dM(e,t,n,null==r?1:r)},xS(SS,{brighter(e){return new dM(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new dM(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new GS(mM(3.1338561*(t=oM*pM(t))-1.6168667*(e=1*pM(e))-.4906146*(n=sM*pM(n))),mM(-.9787684*t+1.9161415*e+.033454*n),mM(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),wS(bM,yM,xS(SS,{brighter(e){return new bM(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new bM(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return vM(this).rgb()}}));var wM=-.14861,xM=1.78277,SM=-.29227,MM=-.90649,kM=1.97294,TM=-1.7884503806,EM=3.5172982438,LM=-.6557636667999999;function CM(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof DM)return new DM(e.h,e.s,e.l,e.opacity);e instanceof GS||(e=US(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(LM*r+TM*t-EM*n)/(LM+TM-EM),o=r-i,s=(kM*(n-i)-SM*o)/MM,a=Math.sqrt(s*s+o*o)/(kM*i*(1-i)),l=a?Math.atan2(s,o)*iM-120:NaN;return new DM(l<0?l+360:l,a,i,e.opacity)}(e):new DM(e,t,n,null==r?1:r)}function DM(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function PM(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}wS(DM,CM,xS(SS,{brighter(e){return e=null==e?kS:Math.pow(kS,e),new DM(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?MS:Math.pow(MS,e),new DM(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*rM,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new GS(255*(t+n*(wM*r+xM*i)),255*(t+n*(SM*r+MM*i)),255*(t+n*(kM*r)),this.opacity)}}));const $M=e=>()=>e;function AM(e,t){return function(n){return e+n*t}}function RM(e,t){var n=t-e;return n?AM(e,n>180||n<-180?n-360*Math.round(n/360):n):$M(isNaN(e)?t:e)}function OM(e){return 1===(e=+e)?IM:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):$M(isNaN(t)?n:t)}}function IM(e,t){var n=t-e;return n?AM(e,n):$M(isNaN(e)?t:e)}const FM=function e(t){var n=OM(t);function r(e,t){var r=n((e=zS(e)).r,(t=zS(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=IM(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function NM(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=zS(t[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=e(o),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=a(e),r+""}}}var YM=NM(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return PM((n-r/t)*t,s,i,o,a)}});NM(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return PM((n-r/t)*t,i,o,s,a)}});function jM(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function HM(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=VM(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function UM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function zM(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function GM(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=VM(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var WM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qM=new RegExp(WM.source,"g");function BM(e,t){var n,r,i,o=WM.lastIndex=qM.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=WM.exec(e))&&(r=qM.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:zM(n,r)})),o=qM.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function VM(e,t){var n,r=typeof t;return null==t||"boolean"===r?$M(t):("number"===r?zM:"string"===r?(n=YS(t))?(t=n,FM):BM:t instanceof YS?FM:t instanceof Date?UM:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?jM:Array.isArray(t)?HM:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?GM:zM)(e,t)}function XM(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var KM,ZM=180/Math.PI,JM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function QM(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ZM,skewX:Math.atan(l)*ZM,scaleX:s,scaleY:a}}function ek(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var a=[],l=[];return o=e(o),s=e(s),function(e,r,i,o,s,a){if(e!==i||r!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:zM(e,i)},{i:l-2,x:zM(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:zM(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,a,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:zM(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,a,l),function(e,t,n,r,o,s){if(e!==n||t!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:zM(e,n)},{i:a-2,x:zM(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var tk=ek(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?JM:QM(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),nk=ek(function(e){return null==e?JM:(KM||(KM=document.createElementNS("http://www.w3.org/2000/svg","g")),KM.setAttribute("transform",e),(e=KM.transform.baseVal.consolidate())?QM((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):JM)},", ",")",")");function rk(e){return((e=Math.exp(e))+1/e)/2}const ik=function e(t,n,r){function i(e,i){var o,s,a=e[0],l=e[1],c=e[2],u=i[0],h=i[1],d=i[2],f=u-a,p=h-l,m=f*f+p*p;if(m<1e-12)s=Math.log(d/c)/t,o=function(e){return[a+e*f,l+e*p,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(m),_=(d*d-c*c+r*m)/(2*c*n*g),y=(d*d-c*c-r*m)/(2*d*n*g),b=Math.log(Math.sqrt(_*_+1)-_),v=Math.log(Math.sqrt(y*y+1)-y);s=(v-b)/t,o=function(e){var r=e*s,i=rk(b),o=c/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[a+o*f,l+o*p,c*i/rk(t*r+b)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function ok(e){return function(t,n){var r=e((t=JS(t)).h,(n=JS(n)).h),i=IM(t.s,n.s),o=IM(t.l,n.l),s=IM(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=s(e),t+""}}}ok(RM);ok(IM);function sk(e){return function(t,n){var r=e((t=yM(t)).h,(n=yM(n)).h),i=IM(t.c,n.c),o=IM(t.l,n.l),s=IM(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=s(e),t+""}}}sk(RM);sk(IM);function ak(e){return function t(n){function r(t,r){var i=e((t=CM(t)).h,(r=CM(r)).h),o=IM(t.s,r.s),s=IM(t.l,r.l),a=IM(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=s(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,r.gamma=t,r}(1)}ak(RM);var lk=ak(IM);var ck,uk,hk=0,dk=0,fk=0,pk=0,mk=0,gk=0,_k="object"==typeof performance&&performance.now?performance:Date,yk="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bk(){return mk||(yk(vk),mk=_k.now()+gk)}function vk(){mk=0}function wk(){this._call=this._time=this._next=null}function xk(e,t,n){var r=new wk;return r.restart(e,t,n),r}function Sk(){mk=(pk=_k.now())+gk,hk=dk=0;try{!function(){bk(),++hk;for(var e,t=ck;t;)(e=mk-t._time)>=0&&t._call.call(void 0,e),t=t._next;--hk}()}finally{hk=0,function(){var e,t,n=ck,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ck=t);uk=e,kk(r)}(),mk=0}}function Mk(){var e=_k.now(),t=e-pk;t>1e3&&(gk-=t,pk=e)}function kk(e){hk||(dk&&(dk=clearTimeout(dk)),e-mk>24?(e<1/0&&(dk=setTimeout(Sk,e-_k.now()-gk)),fk&&(fk=clearInterval(fk))):(fk||(pk=_k.now(),fk=setInterval(Mk,1e3)),hk=1,yk(Sk)))}function Tk(e,t,n){var r=new wk;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}wk.prototype=xk.prototype={constructor:wk,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?bk():+n)+(null==t?0:+t),this._next||uk===this||(uk?uk._next=this:ck=this,uk=this),this._call=e,this._time=n,kk()},stop:function(){this._call&&(this._call=null,this._time=1/0,kk())}};var Ek=tx("start","end","cancel","interrupt"),Lk=[];function Ck(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(o){var c,u,h,d;if(1!==n.state)return l();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Tk(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[c])}if(Tk(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=xk(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:Ek,tween:Lk,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Dk(e,t){var n=$k(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Pk(e,t){var n=$k(e,t);if(n.state>3)throw new Error("too late; already running");return n}function $k(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ak(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}function Rk(e,t){var n,r;return function(){var i=Pk(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function Ok(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Pk(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Ik(e,t,n){var r=e._id;return e.each(function(){var e=Pk(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return $k(e,r).value[t]}}function Fk(e,t){var n;return("number"==typeof t?zM:t instanceof YS?FM:(n=YS(t))?(t=n,FM):BM)(e,t)}function Nk(e){return function(){this.removeAttribute(e)}}function Yk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jk(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Hk(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Uk(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttribute(e)}}function zk(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function Gk(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Wk(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function qk(e,t){return function(){Dk(this,e).delay=+t.apply(this,arguments)}}function Bk(e,t){return t=+t,function(){Dk(this,e).delay=t}}function Vk(e,t){return function(){Pk(this,e).duration=+t.apply(this,arguments)}}function Xk(e,t){return t=+t,function(){Pk(this,e).duration=t}}var Kk=pS.prototype.constructor;function Zk(e){return function(){this.style.removeProperty(e)}}var Jk=0;function Qk(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function eT(){return++Jk}var tT=pS.prototype;Qk.prototype=function(e){return pS().transition(e)}.prototype={constructor:Qk,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=cx(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,Ck(h[d],t,n,d,h,$k(a,n)));return new Qk(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=hx(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=e.call(l,l.__data__,h,c),p=$k(l,n),m=0,g=f.length;m<g;++m)(d=f[m])&&Ck(d,t,n,m,f,p);o.push(f),s.push(l)}return new Qk(o,s,t,n)},selectChild:tT.selectChild,selectChildren:tT.selectChildren,filter:function(e){"function"!=typeof e&&(e=fx(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Qk(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<r;++a)s[a]=t[a];return new Qk(s,this._parents,this._name,this._id)},selection:function(){return new Kk(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=eT(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=$k(s,t);Ck(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Qk(r,this._parents,e,n)},call:tT.call,nodes:tT.nodes,node:tT.node,size:tT.size,empty:tT.empty,each:tT.each,on:function(e,t){var n=this._id;return arguments.length<2?$k(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?Dk:Pk;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=ix(e),r="transform"===n?nk:Fk;return this.attrTween(e,"function"==typeof t?(n.local?zk:Uk)(n,r,Ik(this,"attr."+e,t)):null==t?(n.local?Yk:Nk)(n):(n.local?Hk:jk)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=ix(e);return this.tween(n,(r.local?Gk:Wk)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?tk:Fk;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Ix(this,e),s=(this.style.removeProperty(e),Ix(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,Zk(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var s=Ix(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=Ix(this,e)),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}(e,r,Ik(this,"style."+e,t))).each(function(e,t){var n,r,i,o,s="style."+t,a="end."+s;return function(){var l=Pk(this,e),c=l.on,u=null==l.value[s]?o||(o=Zk(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var s=Ix(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Ik(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=$k(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?Rk:Ok)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?qk:Bk)(t,e)):$k(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Vk:Xk)(t,e)):$k(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){Pk(this,e).ease=t}}(t,e)):$k(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Pk(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0===--i&&o()}};n.each(function(){var n=Pk(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t}),0===i&&o()})},[Symbol.iterator]:tT[Symbol.iterator]};(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Math.PI;function nT(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}var rT=1.70158,iT=(function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(rT),function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(rT),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(rT),2*Math.PI),oT=(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=iT);function i(e){return t*nT(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*iT)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=iT);function i(e){return 1-t*nT(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*iT)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=iT);function i(e){return((e=2*e-1)<0?t*nT(-e)*Math.sin((r-e)/n):2-t*nT(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*iT)},i.period=function(n){return e(t,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function sT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}pS.prototype.interrupt=function(e){return this.each(function(){Ak(this,e)})},pS.prototype.transition=function(e){var t,n;e instanceof Qk?(t=e._id,e=e._name):(t=eT(),(n=oT).time=bk(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&Ck(s,e,t,c,a,n||sT(s,t));return new Qk(r,this._parents,e,t)};const{abs:aT,max:lT,min:cT}=Math;function uT(e){return[+e[0],+e[1]]}function hT(e){return[uT(e[0]),uT(e[1])]}["w","e"].map(dT),["n","s"].map(dT),["n","w","e","s","nw","ne","sw","se"].map(dT);function dT(e){return{type:e}}Math.abs,Math.cos,Math.sin,Math.PI,Math.max;Math.PI;Array.prototype.slice;Array.prototype.slice;function fT(e){return new Float64Array(e)}fT(4),fT(8),fT(12),fT(16),fT(4);fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(8),fT(8),fT(8),fT(4),fT(8),fT(8),fT(8),fT(12);fT(192),fT(192);fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(8),fT(8),fT(8),fT(8),fT(8),fT(8),fT(8),fT(8),fT(8),fT(4),fT(4),fT(4),fT(8),fT(16),fT(16),fT(16),fT(32),fT(32),fT(48),fT(64);fT(1152),fT(1152);fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(4),fT(24),fT(24),fT(24),fT(24),fT(24),fT(24),fT(24),fT(24),fT(24),fT(24),fT(1152),fT(1152),fT(1152),fT(1152),fT(1152),fT(2304),fT(2304),fT(3456),fT(5760),fT(8),fT(8),fT(8),fT(16),fT(24),fT(48),fT(48),fT(96),fT(192),fT(384),fT(384),fT(384),fT(768);fT(96),fT(96),fT(96),fT(1152);Math.pow(2,-52),new Uint32Array(512);Math.PI,Math.pow;var pT={},mT={};function gT(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function _T(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function yT(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function bT(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+yT(-t,6):t>9999?"+"+yT(t,6):yT(t,4))+"-"+yT(e.getUTCMonth()+1,2)+"-"+yT(e.getUTCDate(),2)+(o?"T"+yT(n,2)+":"+yT(r,2)+":"+yT(i,2)+"."+yT(o,3)+"Z":i?"T"+yT(n,2)+":"+yT(r,2)+":"+yT(i,2)+"Z":r||n?"T"+yT(n,2)+":"+yT(r,2)+"Z":"")}function vT(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,s=0,a=0,l=o<=0,c=!1;function u(){if(l)return mT;if(c)return c=!1,pT;var t,r,i=s;if(34===e.charCodeAt(i)){for(;s++<o&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=o?l=!0:10===(r=e.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(s)&&++s),e.slice(i+1,t-1).replace(/""/g,'"')}for(;s<o;){if(10===(r=e.charCodeAt(t=s++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(s)&&++s;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==mT;){for(var h=[];r!==pT&&r!==mT;)h.push(r),r=u();t&&null==(h=t(h,a++))||i.push(h)}return i}function i(t,n){return t.map(function(t){return n.map(function(e){return s(t[e])}).join(e)})}function o(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?bT(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=gT(e);return function(r,i){return t(n(r),i,e)}}(e,t):gT(e)});return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=_T(t)),[n.map(s).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=_T(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:s}}var wT=vT(","),xT=wT.parse,ST=(wT.parseRows,wT.format,wT.formatBody,wT.formatRows,wT.formatRow,wT.formatValue,vT("\t")),MT=ST.parse;ST.parseRows,ST.format,ST.formatBody,ST.formatRows,ST.formatRow,ST.formatValue;new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function kT(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function TT(e,t){return fetch(e,t).then(kT)}function ET(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),TT(t,n).then(function(t){return e(t,r)})}}ET(xT),ET(MT);function LT(e){return(t,n)=>TT(t,n).then(t=>(new DOMParser).parseFromString(t,e))}LT("application/xml");LT("text/html"),LT("image/svg+xml");function CT(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,s,a,l,c,u,h,d,f=e._root,p={data:r},m=e._x0,g=e._y0,_=e._x1,y=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((c=t>=(o=(m+_)/2))?m=o:_=o,(u=n>=(s=(g+y)/2))?g=s:y=s,i=f,!(f=f[h=u<<1|c]))return i[h]=p,e;if(a=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===a&&n===l)return p.next=f,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+_)/2))?m=o:_=o,(u=n>=(s=(g+y)/2))?g=s:y=s}while((h=u<<1|c)==(d=(l>=s)<<1|a>=o));return i[d]=f,i[h]=p,e}function DT(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function PT(e){return e[0]}function $T(e){return e[1]}function AT(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function RT(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var OT=function(e,t,n){var r=new AT(null==t?PT:t,null==n?$T:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}.prototype=AT.prototype;OT.copy=function(){var e,t,n=new AT(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=RT(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=RT(t));return n},OT.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return CT(this.cover(t,n),t,n,e)},OT.addAll=function(e){var t,n,r,i,o=e.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)CT(this,s[n],a[n],e[n]);return this},OT.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s,a,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(a=(t<r)<<1|e<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},OT.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},OT.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},OT.find=function(e,t,n){var r,i,o,s,a,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new DT(m,u,h,d,f)),null==n?n=1/0:(u=e-n,h=t-n,d=e+n,f=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>d||(o=l.y0)>f||(s=l.x1)<u||(a=l.y1)<h))if(m.length){var g=(i+s)/2,_=(o+a)/2;p.push(new DT(m[3],g,_,s,a),new DT(m[2],i,_,g,a),new DT(m[1],g,o,s,_),new DT(m[0],i,o,g,_)),(c=(t>=_)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),v=y*y+b*b;if(v<n){var w=Math.sqrt(n=v);u=e-w,h=t-w,d=e+w,f=t+w,r=m.data}}return r},OT.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,o,s,a,l,c,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,_=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(a=(p+g)/2))?p=a:g=a,(u=s>=(l=(m+_)/2))?m=l:_=l,t=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,d=h)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},OT.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},OT.root=function(){return this._root},OT.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},OT.visit=function(e){var t,n,r,i,o,s,a=[],l=this._root;for(l&&a.push(new DT(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,s=t.y1)&&l.length){var c=(r+o)/2,u=(i+s)/2;(n=l[3])&&a.push(new DT(n,c,u,o,s)),(n=l[2])&&a.push(new DT(n,r,u,c,s)),(n=l[1])&&a.push(new DT(n,c,i,o,u)),(n=l[0])&&a.push(new DT(n,r,i,c,u))}return this},OT.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new DT(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,s=t.x0,a=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,h=(a+c)/2;(o=i[0])&&n.push(new DT(o,s,a,u,h)),(o=i[1])&&n.push(new DT(o,u,a,l,h)),(o=i[2])&&n.push(new DT(o,s,h,u,c)),(o=i[3])&&n.push(new DT(o,u,h,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},OT.x=function(e){return arguments.length?(this._x=e,this):this._x},OT.y=function(e){return arguments.length?(this._y=e,this):this._y};Math.PI,Math.sqrt(5);function IT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function FT(e){return(e=IT(Math.abs(e)))?e[1]:NaN}var NT,YT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jT(e){if(!(t=YT.exec(e)))throw new Error("invalid format: "+e);var t;return new HT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function HT(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function UT(e,t){var n=IT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}jT.prototype=HT.prototype,HT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const zT={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UT(100*e,t),r:UT,s:function(e,t){var n=IT(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(NT=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+IT(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GT(e){return e}var WT,qT,BT,VT=Array.prototype.map,XT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function KT(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?GT:(t=VT.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?GT:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(VT.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=jT(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,_=e.trim,y=e.type;"n"===y?(m=!0,y="g"):zT[y]||(void 0===g&&(g=12),_=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===d?o:/[%p]/.test(y)?l:"",w=zT[y],x=/[defgprs%]/.test(y);function S(e){var i,o,l,d=b,S=v;if("c"===y)S=w(e)+S,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),_&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0===+e&&"+"!==h&&(M=!1),d=(M?"("===h?h:c:"-"===h||"("===h?"":h)+d,S=("s"===y?XT[8+NT/3]:"")+S+(M&&"("===h?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?s+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var k=d.length+e.length+S.length,T=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=r(T+e,T.length?p-S.length:1/0),T=""),n){case"<":e=d+e+S+T;break;case"=":e=d+T+e+S;break;case"^":e=T.slice(0,k=T.length>>1)+d+e+S+T.slice(k);break;default:e=T+d+e+S}return a(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:h,formatPrefix:function(e,t){var n=h(((e=jT(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(FT(t)/3))),i=Math.pow(10,-r),o=XT[8+r/3];return function(e){return n(i*e)+o}}}}WT=KT({thousands:",",grouping:[3],currency:["$",""]}),qT=WT.format,BT=WT.formatPrefix;var ZT=1e-6,JT=1e-12,QT=Math.PI,eE=QT/2,tE=QT/4,nE=2*QT,rE=QT/180,iE=Math.abs,oE=Math.atan,sE=Math.atan2,aE=Math.cos,lE=(Math.ceil,Math.exp),cE=(Math.floor,Math.hypot,Math.log),uE=(Math.pow,Math.sin),hE=Math.sign||function(e){return e>0?1:e<0?-1:0},dE=Math.sqrt,fE=Math.tan;function pE(e){return e>1?eE:e<-1?-eE:Math.asin(e)}function mE(){}new Pw,new Pw;function gE(e){var t=e[0],n=e[1],r=aE(n);return[r*aE(t),r*uE(t),uE(n)]}function _E(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yE(e){var t=dE(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function bE(e,t){return iE(e)>QT&&(e-=Math.round(e/nE)*nE),[e,t]}function vE(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wE(e,t,n,r,i){var o,s,a=[],l=[];if(e.forEach(function(e){if(!(e.length-1<=0)){var t,n,r=e[0],s=e[t];if(function(e,t){return iE(e[0]-t[0])<ZT&&iE(e[1]-t[1])<ZT}(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),0;o<t;++o)i.point(e[o][0],r[1]);return void i.lineEnd()}s[0]+=2e-6}a.push(new vE(r,e,null,!0)),l.push(n.o=new vE(r,null,n,!1)),a.push(new vE(s,e,null,!1)),l.push(n.o=new vE(s,null,n,!0))}}),a.length){for(l.sort(t),xE(a),xE(l),l.length;o<s;++o)l[o].e=!n;for(var c,u,h=a[0];;){for(var d=h,f=!0;d.v;)if(d.n===h)return;d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(c.length;o<s;++o)i.point(c[o][0],u[1]);else r(d.x,d.n.x,1,i);d.n}else{if(f)for(d.p.z,c.length-1;o>=0;--o)i.point(c[o][0],u[1]);else r(d.x,d.p.x,-1,i);d.p}d.o.z}while(!d.v);i.lineEnd()}}}function xE(e){if(e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=e[r],n.p=i;i.n=e[0],n.p=i}}function SE(e){return iE(e[0])<=QT?e[0]:hE(e[0])*((iE(e[0])+QT)%nE-QT)}function ME(e,t){var n=SE(t),r=t[1],i=uE(r),o=[uE(n),-aE(n),0],s=0,a=0,l=new Pw;1===i?eE+ZT:-1===i&&-eE-ZT;for(var c=0,u=e.length;c<u;++c)if(e[c].length)for(var h,d,f=h[d-1],p=SE(f),m=f[1]/2+tE,g=uE(m),_=aE(m),y=0;y<d;b){var b=h[y],v=SE(b),w=b[1]/2+tE,x=uE(w),S=aE(w),M=v-p,k=M>=0?1:-1,T=k*M,E=T>QT,L=g*x;if(l.add(sE(L*k*uE(T),_*S+L*aE(T))),E^p>=n^v>=n){var C=_E(gE(f),gE(b));yE(C);var D=_E(o,C);yE(D);var P=(E^M>=0?-1:1)*pE(D[2]);(r>P||r===P&&(C[0]||C[1]))&&(E^M>=0?1:-1)}}return(s<-1e-6||s<ZT&&l<-1e-12)^1&a}function kE(e){return e.length>1}function TE(e,t){return(e.x[0]<0?e[1]-eE-ZT:eE-e[1])-(t.x[0]<0?t[1]-eE-ZT:eE-t[1])}bE.invert=bE;new Pw,new Pw;new Pw;function EE(e){return function(t){var n=new LE;for(var r in e)n[r]=e[r];return n.stream=t,n}}function LE(){}LE.prototype={constructor:LE,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};aE(30*rE);EE({point:function(e,t){this.stream.point(e*rE,t*rE)}});function CE(e){return function(t,n){var r=aE(t),i=aE(n),o=e(r*i);return o===1/0?[2,0]:[o*i*uE(t),o*uE(n)]}}function DE(e){return function(t,n){var r=dE(t*t+n*n),i=e(r),o=uE(i),s=aE(i);return[sE(t*o,r*s),pE(r&&n*o/r)]}}var PE=CE(function(e){return dE(2/(1+e))});PE.invert=DE(function(e){return 2*pE(e/2)});var $E=CE(function(e){return(e=function(e){return e>1?0:e<-1?QT:Math.acos(e)}(e))&&e/uE(e)});function AE(e,t){return[e,cE(fE((eE+t)/2))]}function RE(e,t){return[e,t]}$E.invert=DE(function(e){return e}),AE.invert=function(e,t){return[e,2*oE(lE(t))-eE]},RE.invert=RE;var OE=1.340264,IE=-.081106,FE=893e-6,NE=.003796,YE=dE(3)/2;function jE(e,t){var n=pE(YE*uE(t)),r=n*n,i=r*r*r;return[e*aE(n)/(YE*(OE+3*IE*r+i*(7*FE+9*NE*r))),n*(OE+IE*r+i*(FE+NE*r))]}function HE(e,t){var n=aE(t),r=aE(e)*n;return[n*uE(e)/r,uE(t)/r]}function UE(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function zE(e,t){return[aE(t)*uE(e),uE(t)]}function GE(e,t){var n=aE(t),r=1+aE(e)*n;return[n*uE(e)/r,uE(t)/r]}function WE(e,t){return[cE(fE((eE+t)/2)),-e]}function qE(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function BE(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=XE)):void 0===t&&(t=VE);for(var n,r,i,o,s,a=new JE(e),l=[a];n=l.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)l.push(r=i[o]=new JE(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(ZE)}function VE(e){return e.children}function XE(e){return Array.isArray(e)?e[1]:null}function KE(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function ZE(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function JE(e){this.data=e,this.depth=this.height=0,this.parent=null}jE.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,s=0;s<12&&(o=(i=(r-=n=(r*(OE+IE*i+o*(FE+NE*i))-t)/(OE+3*IE*i+o*(7*FE+9*NE*i)))*r)*i*i,!(iE(n)<JT));++s);return[YE*e*(OE+3*IE*i+o*(7*FE+9*NE*i))/aE(r),pE(uE(r)/YE)]},HE.invert=DE(oE),UE.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(iE(n)>ZT&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},zE.invert=DE(pE),GE.invert=DE(function(e){return 2*oE(e)}),WE.invert=function(e,t){return[-t,2*oE(lE(e))-eE]},JE.prototype=BE.prototype={constructor:JE,count:function(){return this.eachAfter(qE)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,s=[o],a=[],l=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return BE(this).eachBefore(KE)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};function QE(e,t,n,r,i){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(r-t)/e.value;++a<l;)(o=s[a]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function eL(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function tL(e,t,n,r,i){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(i-n)/e.value;++a<l;)(o=s[a]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}eL.prototype=Object.create(JE.prototype);var nL=(1+Math.sqrt(5))/2;function rL(e,t,n,r,i,o){for(var s,a,l,c,u,h,d,f,p,m,g,_=[],y=t.children,b=0,v=0,w=y.length,x=t.value;b<w;){l=i-n,c=o-r;do{u=y[v++].value}while(!u&&v<w);for(h=d=u,g=u*u*(m=Math.max(c/l,l/c)/(x*e)),p=Math.max(d/g,g/h);v<w;++v){if(u+=a=y[v].value,a<h&&(h=a),a>d&&(d=a),g=u*u*m,(f=Math.max(d/g,g/h))>p){u-=a;break}p=f}_.push(s={value:u,dice:l<c,children:y.slice(b,v)}),s.dice?QE(s,n,r,i,x?r+=c*u/x:o):tL(s,n,r,x?n+=l*u/x:i,o),x-=u,b=v}return _}(function e(t){function n(e,n,r,i,o){rL(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n})(nL);(function e(t){function n(e,n,r,i,o){if((s=e._squarify)&&s.ratio===t)for(var s,a,l,c,u,h=-1,d=s.length,f=e.value;++h<d;){for(l=(a=s[h]).children,c=a.value=0,u=l.length;c<u;++c)a.value+=l[c].value;a.dice?QE(a,n,r,i,f?r+=(o-r)*a.value/f:o):tL(a,n,r,f?n+=(i-n)*a.value/f:i,o),f-=a.value}else e._squarify=s=rL(t,e,n,r,i,o),s.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n})(nL);const iL=Math.random,oL=(function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(iL),function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(iL),function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(iL)),sL=(function e(t){var n=oL.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(iL),function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(iL)),aL=(function e(t){var n=sL.source(t);function r(e){if(0===(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(iL),function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(iL),function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(iL),function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(iL),function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(iL)),lL=function e(t){var n=oL.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,o=1/(3*Math.sqrt(i)),s=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),a=1+o*e}while(a<=0);a*=a*a;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+i*(1-a+Math.log(a)));return i*a*s()*r}}return r.source=e,r}(iL),cL=function e(t){var n=lL.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(iL),uL=function e(t){var n=aL.source(t),r=cL.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,o=e,s=t;o*s>16&&o*(1-s)>16;){var a=Math.floor((o+1)*s),l=r(a,o-a+1)();l<=s?(i+=a,o-=a,s=(s-l)/(1-l)):(o=a-1,s/=l)}for(var c=s<.5,u=n(c?s:1-s),h=u(),d=0;h<=o;++d)h+=u();return i+(c?d:o-d)}}return i.source=e,i}(iL);(function e(t){function n(e,n,r){var i;return 0===(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n})(iL),function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(iL),function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(iL),function e(t){var n=lL.source(t),r=uL.source(t);function i(e){return function(){for(var i=0,o=e;o>16;){var s=Math.floor(.875*o),a=n(s)();if(a>o)return i+r(s-1,o/a)();i+=s,o-=a}for(var l=-Math.log1p(-t()),c=0;l<=o;++c)l-=Math.log1p(-t());return i+c}}return i.source=e,i}(iL);function hL(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}Symbol("implicit");function dL(e){return+e}var fL=[0,1];function pL(e){return e}function mL(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function gL(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=mL(i,r),o=n(s,o)):(r=mL(r,i),o=n(o,s)),function(e){return o(r(e))}}function _L(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=mL(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=Tw(e,t,1,r)-1;return o[n](i[n](t))}}function yL(){var e,t,n,r,i,o,s=fL,a=fL,l=VM,c=pL;function u(){var e=Math.min(s.length,a.length);return c!==pL&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?_L:gL,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(a,s.map(e),zM)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,dL),u()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),l=XM,u()},h.clamp=function(e){return arguments.length?(c=!!e||pL,u()):c!==pL},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function bL(e,t,n,r){var i,o=Nw(e,t,n);switch((r=jT(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(FT(t)/3)))-FT(Math.abs(e)))}(o,s))||(r.precision=i),BT(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,FT(t)-FT(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-FT(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return qT(r)}function vL(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,s]=r?Iw(t,e,n):Iw(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let e=0;e<a;++e)l[e]=(o-e)/-s;else for(let e=0;e<a;++e)l[e]=(o-e)*s;else if(s<0)for(let e=0;e<a;++e)l[e]=(i+e)/-s;else for(let e=0;e<a;++e)l[e]=(i+e)*s;return l}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return bL(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=Fw(l,c,n))===r)return o[s]=l,o[a]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function wL(){var e=yL()(pL,pL);return e.copy=function(){return function(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}(e,wL())},hL.apply(e,arguments),vL(e)}const xL=new Date,SL=new Date;function ML(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;let a;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=n=>ML(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(xL.setTime(+t),SL.setTime(+r),e(xL),e(SL),Math.floor(n(xL,SL))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const kL=ML(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kL.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ML(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):kL:null);kL.range;const TL=1e3,EL=6e4,LL=36e5,CL=864e5,DL=6048e5,PL=2592e6,$L=31536e6,AL=ML(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*TL)},(e,t)=>(t-e)/TL,e=>e.getUTCSeconds()),RL=(AL.range,ML(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*TL)},(e,t)=>{e.setTime(+e+t*EL)},(e,t)=>(t-e)/EL,e=>e.getMinutes())),OL=(RL.range,ML(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*EL)},(e,t)=>(t-e)/EL,e=>e.getUTCMinutes())),IL=(OL.range,ML(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*TL-e.getMinutes()*EL)},(e,t)=>{e.setTime(+e+t*LL)},(e,t)=>(t-e)/LL,e=>e.getHours())),FL=(IL.range,ML(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*LL)},(e,t)=>(t-e)/LL,e=>e.getUTCHours())),NL=(FL.range,ML(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*EL)/CL,e=>e.getDate()-1)),YL=(NL.range,ML(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/CL,e=>e.getUTCDate()-1)),jL=(YL.range,ML(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/CL,e=>Math.floor(e/CL)));jL.range;function HL(e){return ML(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*EL)/DL)}const UL=HL(0),zL=HL(1),GL=HL(2),WL=HL(3),qL=HL(4),BL=HL(5),VL=HL(6);UL.range,zL.range,GL.range,WL.range,qL.range,BL.range,VL.range;function XL(e){return ML(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/DL)}const KL=XL(0),ZL=XL(1),JL=XL(2),QL=XL(3),eC=XL(4),tC=XL(5),nC=XL(6),rC=(KL.range,ZL.range,JL.range,QL.range,eC.range,tC.range,nC.range,ML(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),iC=(rC.range,ML(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),oC=(iC.range,ML(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));oC.every=e=>isFinite(e=Math.floor(e))&&e>0?ML(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;oC.range;const sC=ML(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sC.every=e=>isFinite(e=Math.floor(e))&&e>0?ML(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;sC.range;function aC(e,t,n,r,i,o){const s=[[AL,1,TL],[AL,5,5e3],[AL,15,15e3],[AL,30,3e4],[o,1,EL],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,LL],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,CL],[r,2,1728e5],[n,1,DL],[t,1,PL],[t,3,7776e6],[e,1,$L]];function a(t,n,r){const i=Math.abs(n-t)/r,o=xw(([,,e])=>e).right(s,i);if(o===s.length)return e.every(Nw(t/$L,n/$L,r));if(0===o)return kL.every(Math.max(Nw(t,n,r),1));const[a,l]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:a(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},a]}const[lC,cC]=aC(sC,iC,KL,jL,FL,OL),[uC,hC]=aC(oC,rC,UL,NL,IL,RL);function dC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pC(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var mC,gC,_C,yC={"-":"",_:" ",0:"0"},bC=/^\s*\d+/,vC=/^%/,wC=/[\\^$*+?|[\]().{}]/g;function xC(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function SC(e){return e.replace(wC,"\\$&")}function MC(e){return new RegExp("^(?:"+e.map(SC).join("|")+")","i")}function kC(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function TC(e,t,n){var r=bC.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function EC(e,t,n){var r=bC.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function LC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function CC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function DC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function PC(e,t,n){var r=bC.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $C(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function AC(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function RC(e,t,n){var r=bC.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function OC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function IC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function FC(e,t,n){var r=bC.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function NC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function YC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function HC(e,t,n){var r=bC.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function UC(e,t,n){var r=bC.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zC(e,t,n){var r=vC.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function GC(e,t,n){var r=bC.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function WC(e,t,n){var r=bC.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qC(e,t){return xC(e.getDate(),t,2)}function BC(e,t){return xC(e.getHours(),t,2)}function VC(e,t){return xC(e.getHours()%12||12,t,2)}function XC(e,t){return xC(1+NL.count(oC(e),e),t,3)}function KC(e,t){return xC(e.getMilliseconds(),t,3)}function ZC(e,t){return KC(e,t)+"000"}function JC(e,t){return xC(e.getMonth()+1,t,2)}function QC(e,t){return xC(e.getMinutes(),t,2)}function eD(e,t){return xC(e.getSeconds(),t,2)}function tD(e){var t=e.getDay();return 0===t?7:t}function nD(e,t){return xC(UL.count(oC(e)-1,e),t,2)}function rD(e){var t=e.getDay();return t>=4||0===t?qL(e):qL.ceil(e)}function iD(e,t){return e=rD(e),xC(qL.count(oC(e),e)+(4===oC(e).getDay()),t,2)}function oD(e){return e.getDay()}function sD(e,t){return xC(zL.count(oC(e)-1,e),t,2)}function aD(e,t){return xC(e.getFullYear()%100,t,2)}function lD(e,t){return xC((e=rD(e)).getFullYear()%100,t,2)}function cD(e,t){return xC(e.getFullYear()%1e4,t,4)}function uD(e,t){var n=e.getDay();return xC((e=n>=4||0===n?qL(e):qL.ceil(e)).getFullYear()%1e4,t,4)}function hD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xC(t/60|0,"0",2)+xC(t%60,"0",2)}function dD(e,t){return xC(e.getUTCDate(),t,2)}function fD(e,t){return xC(e.getUTCHours(),t,2)}function pD(e,t){return xC(e.getUTCHours()%12||12,t,2)}function mD(e,t){return xC(1+YL.count(sC(e),e),t,3)}function gD(e,t){return xC(e.getUTCMilliseconds(),t,3)}function _D(e,t){return gD(e,t)+"000"}function yD(e,t){return xC(e.getUTCMonth()+1,t,2)}function bD(e,t){return xC(e.getUTCMinutes(),t,2)}function vD(e,t){return xC(e.getUTCSeconds(),t,2)}function wD(e){var t=e.getUTCDay();return 0===t?7:t}function xD(e,t){return xC(KL.count(sC(e)-1,e),t,2)}function SD(e){var t=e.getUTCDay();return t>=4||0===t?eC(e):eC.ceil(e)}function MD(e,t){return e=SD(e),xC(eC.count(sC(e),e)+(4===sC(e).getUTCDay()),t,2)}function kD(e){return e.getUTCDay()}function TD(e,t){return xC(ZL.count(sC(e)-1,e),t,2)}function ED(e,t){return xC(e.getUTCFullYear()%100,t,2)}function LD(e,t){return xC((e=SD(e)).getUTCFullYear()%100,t,2)}function CD(e,t){return xC(e.getUTCFullYear()%1e4,t,4)}function DD(e,t){var n=e.getUTCDay();return xC((e=n>=4||0===n?eC(e):eC.ceil(e)).getUTCFullYear()%1e4,t,4)}function PD(){return"+0000"}function $D(){return"%"}function AD(e){return+e}function RD(e){return Math.floor(+e/1e3)}!function(e){mC=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=MC(i),u=kC(i),h=MC(o),d=kC(o),f=MC(s),p=kC(s),m=MC(a),g=kC(a),_=MC(l),y=kC(l),b={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:qC,e:qC,f:ZC,g:lD,G:uD,H:BC,I:VC,j:XC,L:KC,m:JC,M:QC,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:AD,s:RD,S:eD,u:tD,U:nD,V:iD,w:oD,W:sD,x:null,X:null,y:aD,Y:cD,Z:hD,"%":$D},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:dD,e:dD,f:_D,g:LD,G:DD,H:fD,I:pD,j:mD,L:gD,m:yD,M:bD,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:AD,s:RD,S:vD,u:wD,U:xD,V:MD,w:kD,W:TD,x:null,X:null,y:ED,Y:CD,Z:PD,"%":$D},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=_.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:IC,e:IC,f:UC,g:$C,G:PC,H:NC,I:NC,j:FC,L:HC,m:OC,M:YC,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:RC,Q:GC,s:WC,S:jC,u:EC,U:LC,V:CC,w:TC,W:DC,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:$C,Y:PC,Z:AC,"%":zC};function x(e,t){return function(n){var r,i,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(i=yC[r=e.charAt(++a)])?r=e.charAt(++a):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),s.push(r),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function S(e,t){return function(n){var r,i,o=pC(1900,void 0,1);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=fC(pC(o.y,0,1))).getUTCDay(),r=i>4||0===i?ZL.ceil(r):ZL(r),r=YL.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=dC(pC(o.y,0,1))).getDay(),r=i>4||0===i?zL.ceil(r):zL(r),r=NL.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?fC(pC(o.y,0,1)).getUTCDay():dC(pC(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,fC(o)):dC(o)}}function M(e,t,n,r){for(var i,o,s=0,a=t.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(o=w[i in yC?t.charAt(s++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),v.x=x(n,v),v.X=x(r,v),v.c=x(t,v),{format:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),mC.format,mC.parse,gC=mC.utcFormat,_C=mC.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var OD="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||gC(OD);+new Date("2000-01-01T00:00:00.000Z")||_C(OD);function ID(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}ID("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ID("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ID("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),ID("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),ID("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ID("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ID("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ID("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ID("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ID("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ID("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");const FD=e=>YM(e[e.length-1]);FD(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ID));FD(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ID));FD(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ID));FD(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ID));FD(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ID));FD(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ID));FD(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ID));FD(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ID));FD(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ID));FD(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ID));FD(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ID));FD(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ID));FD(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ID));FD(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ID));FD(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ID));FD(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ID));FD(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ID));FD(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ID));FD(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ID));FD(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ID));FD(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ID));FD(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ID));FD(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ID));FD(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ID));FD(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ID));FD(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ID));FD(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ID));lk(CM(300,.5,0),CM(-240,.5,1));lk(CM(-100,.75,.35),CM(80,1.5,.8)),lk(CM(260,.75,.35),CM(80,1.5,.8)),CM();zS(),Math.PI,Math.PI;function ND(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}ND(ID("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));ND(ID("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ND(ID("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ND(ID("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));Math.abs,Math.atan2;const YD=Math.cos,jD=(Math.max,Math.min,Math.sin),HD=Math.sqrt,UD=Math.PI,zD=2*UD;Array.prototype.slice;function GD(e){this._context=e}GD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};!function(e){function t(t){return new WD(e(t))}t._curve=e}(function(e){return new GD(e)});function WD(e){this._curve=e}WD.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};HD(3),HD(1/3);const qD=jD(UD/10)/jD(7*UD/10);jD(zD/10),YD(zD/10),HD(3),HD(3),HD(3),HD(12);function BD(){}function VD(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function XD(e){this._context=e}function KD(e){this._context=e}function ZD(e){this._context=e}function JD(e,t){this._basis=new XD(e),this._beta=t}XD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:VD(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:VD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},KD.prototype={areaStart:BD,areaEnd:BD,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:VD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ZD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:VD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},JD.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],s=e[n]-i,a=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*s),this._beta*t[l]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};(function e(t){function n(e){return 1===t?new XD(e):new JD(e,t)}return n.beta=function(t){return e(+t)},n})(.85);function QD(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function eP(e,t){this._context=e,this._k=(1-t)/6}eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:QD(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:QD(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new eP(e,t)}return n.tension=function(t){return e(+t)},n})(0);function tP(e,t){this._context=e,this._k=(1-t)/6}tP.prototype={areaStart:BD,areaEnd:BD,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:QD(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new tP(e,t)}return n.tension=function(t){return e(+t)},n})(0);function nP(e,t){this._context=e,this._k=(1-t)/6}nP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:QD(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new nP(e,t)}return n.tension=function(t){return e(+t)},n})(0);function rP(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>1e-12){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function iP(e,t){this._context=e,this._alpha=t}iP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:rP(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new iP(e,t):new eP(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function oP(e,t){this._context=e,this._alpha=t}oP.prototype={areaStart:BD,areaEnd:BD,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:rP(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new oP(e,t):new tP(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function sP(e,t){this._context=e,this._alpha=t}sP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rP(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new sP(e,t):new nP(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function aP(e){this._context=e}function lP(e){return e<0?-1:1}function cP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(lP(o)+lP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function uP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function hP(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function dP(e){this._context=e}function fP(e){this._context=new pP(e)}function pP(e){this._context=e}function mP(e){this._context=e}function gP(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function _P(e,t){this._context=e,this._t=t}aP.prototype={areaStart:BD,areaEnd:BD,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},dP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hP(this,this._t0,uP(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hP(this,uP(this,n=cP(this,e,t)),n);break;default:hP(this,this._t0,n=cP(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(fP.prototype=Object.create(dP.prototype)).point=function(e,t){dP.prototype.point.call(this,t,e)},pP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=gP(e),i=gP(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const yP=e=>()=>e;function bP(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function vP(e,t,n){this.k=e,this.x=t,this.y=n}vP.prototype={constructor:vP,scale:function(e){return 1===e?this:new vP(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new vP(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wP=new vP(1,0,0);function xP(e){e.stopImmediatePropagation()}function SP(e){e.preventDefault(),e.stopImmediatePropagation()}function MP(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function kP(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function TP(){return this.__zoom||wP}function EP(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function LP(){return navigator.maxTouchPoints||"ontouchstart"in this}function CP(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function DP(){var e,t,n,r=MP,i=kP,o=CP,s=EP,a=LP,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=ik,d=tx("start","zoom","end"),f=0,p=10;function m(e){e.property("__zoom",TP).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new vP(t,e.x,e.y)}function _(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new vP(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",function(){v(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,o=arguments,s=v(e,o).event(r),a=i.apply(e,o),l=null==n?y(a):"function"==typeof n?n.apply(e,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,d="function"==typeof t?t.apply(e,o):t,f=h(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=f(e),n=c/t[2];e=new vP(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}})}function v(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function x(e,...t){if(r.apply(this,arguments)){var n=v(this,t).event(e),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=yS(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],Ak(this),n.start()}SP(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",o(_(g(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function S(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=v(this,t,!0).event(e),a=mS(e.view).on("mousemove.zoom",function(e){if(SP(e),!s.moved){var t=e.clientX-u,n=e.clientY-h;s.moved=t*t+n*n>f}s.event(e).zoom("mouse",o(_(s.that.__zoom,s.mouse[0]=yS(e,i),s.mouse[1]),s.extent,c))},!0).on("mouseup.zoom",function(e){a.on("mousemove.zoom mouseup.zoom",null),function(e,t){var n=e.document.documentElement,r=mS(e).on("dragstart.drag",null);t&&(r.on("click.drag",vS,bS),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,s.moved),SP(e),s.event(e).end()},!0),l=yS(e,i),u=e.clientX,h=e.clientY;!function(e){var t=e.document.documentElement,n=mS(e).on("dragstart.drag",vS,bS);"onselectstart"in t?n.on("selectstart.drag",vS,bS):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(e.view),xP(e),s.mouse=[l,this.__zoom.invert(l)],Ak(this),s.start()}}function M(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=yS(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(s),l=n.k*(e.shiftKey?.5:2),h=o(_(g(n,l),s,a),i.apply(this,t),c);SP(e),u>0?mS(this).transition().duration(u).call(b,h,s,e):mS(this).call(m.transform,h,s,e)}}function k(n,...i){if(r.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,h=v(this,i,n.changedTouches.length===u).event(n);for(xP(n),s=0;s<u;++s)l=[l=yS(a=c[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(h.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),Ak(this),h.start())}}function T(e,...t){if(this.__zooming){var n,r,i,s,a=v(this,t).event(e),l=e.changedTouches,u=l.length;for(SP(e),n=0;n<u;++n)i=yS(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],d=a.touch0[1],f=a.touch1[0],p=a.touch1[1],m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m,y=(y=p[0]-d[0])*y+(y=p[1]-d[1])*y;r=g(r,Math.sqrt(m/y)),i=[(h[0]+f[0])/2,(h[1]+f[1])/2],s=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(_(r,i,s),a.extent,c))}}function E(e,...r){if(this.__zooming){var i,o,s=v(this,r).event(e),a=e.changedTouches,l=a.length;for(xP(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=yS(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<p)){var c=mS(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",TP),e!==i?b(e,t,n,r):i.interrupt().each(function(){v(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?y(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return o(_(g(r,l),s,a),e,c)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)},null,r)},m.translateTo=function(e,t,n,r,s){m.transform(e,function(){var e=i.apply(this,arguments),s=this.__zoom,a=null==r?y(e):"function"==typeof r?r.apply(this,arguments):r;return o(wP.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)},r,s)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=mS(this.that).datum();d.call(e,this.that,new bP(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:d}),t)}},m.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:yP(+e),m):s},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:yP(!!e),m):r},m.touchable=function(e){return arguments.length?(a="function"==typeof e?e:yP(!!e),m):a},m.extent=function(e){return arguments.length?(i="function"==typeof e?e:yP([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(h=e,m):h},m.on=function(){var e=d.on.apply(d,arguments);return e===d?m:e},m.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,m):Math.sqrt(f)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m}vP.prototype;const PP=class{constructor(e){this.manager_=e,this.pStart_={},this.pEnd_={}}clearMeasure(){this.pStart_={},this.pEnd_={};const e=document.querySelector("#lidar-footer").shadowRoot;if(null===e)return;const t=mS(e.querySelector("#gmf-lidarprofile-container svg.lidar-svg"));t.selectAll("#text_m").remove(),t.selectAll("#start_m").remove(),t.selectAll("#end_m").remove(),t.selectAll("#line_m").remove(),t.on("click",null),t.style("cursor","default")}setMeasureActive(){const e=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container svg.lidar-svg"));e.style("cursor","pointer"),e.on("click",e=>this.measureHeight(e))}measureHeight(e){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.plot)throw new Error("Missing manager.plot");const t=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container svg.lidar-svg")),n=t.node(),r=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node(),i=yS(e,n),o=yS(e,r),s=this.manager_.config.clientConfig.margin,a=i[0],l=i[1],c=this.manager_.plot.updateScaleX,u=this.manager_.plot.updateScaleY;if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");const h=this.manager_.utils.getClosestPoint(this.manager_.profilePoints,o[0],o[1],2,this.manager_.plot.updateScaleX,this.manager_.plot.updateScaleY,this.manager_.config.serverConfig.classification_colors);if(this.pStart_.set?this.pEnd_.set||(null!==h?(this.pEnd_.distance=h.distance,this.pEnd_.altitude=h.altitude,this.pEnd_.cx=c(h.distance)+s.left,this.pEnd_.cy=u(h.altitude)+s.top):(this.pEnd_.distance=c.invert(a),this.pEnd_.altitude=u.invert(l),this.pEnd_.cx=a,this.pEnd_.cy=l),this.pEnd_.set=!0,t.append("circle").attr("id","end_m").attr("cx",this.pEnd_.cx).attr("cy",this.pEnd_.cy).attr("r",3).style("fill","red"),t.append("line").attr("id","line_m").attr("x1",this.pStart_.cx).attr("y1",this.pStart_.cy).attr("x2",this.pEnd_.cx).attr("y2",this.pEnd_.cy).attr("stroke-width",2).attr("stroke","red")):(null!==h?(this.pStart_.distance=h.distance,this.pStart_.altitude=h.altitude,this.pStart_.cx=c(h.distance)+s.left,this.pStart_.cy=u(h.altitude)+s.top):(this.pStart_.distance=c.invert(a),this.pStart_.altitude=u.invert(l),this.pStart_.cx=a,this.pStart_.cy=l),this.pStart_.set=!0,t.append("circle").attr("id","start_m").attr("cx",this.pStart_.cx).attr("cy",this.pStart_.cy).attr("r",3).style("fill","red")),this.pStart_.set&&this.pEnd_.set){const e=this.pEnd_.altitude-this.pStart_.altitude,n=this.pEnd_.distance-this.pStart_.distance,r=Math.round(10*Math.sqrt(Math.pow(e,2)+Math.pow(n,2)))/10;isNaN(r)||t.append("text").attr("id","text_m").attr("x",10+(this.pStart_.cx+this.pEnd_.cx)/2).attr("y",(this.pStart_.cy+this.pEnd_.cy)/2).text(`${r} m`).attr("font-family","sans-serif").attr("font-size","14px").style("font-weight","bold").attr("fill","red"),this.pEnd_.set=!1,this.pStart_.set=!1}}};class $P extends An{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new $P(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(pn(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=dn(e,Nt,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;let t;if(Array.isArray(e))t=e;else{Oe("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");t=[e]}return function(){return t}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const AP=$P,RP=0,OP=1,IP=2,FP=4,NP=8,YP=16;function jP(e){const t=VP();for(let n=0,r=e.length;n<r;++n)t$(t,e[n]);return t}function HP(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function UP(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function zP(e,t,n){let r,i;return r=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,i=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0,r*r+i*i}function GP(e,t){return qP(e,t[0],t[1])}function WP(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function qP(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function BP(e,t){const n=e[0],r=e[1],i=e[2],o=e[3],s=t[0],a=t[1];let l=RP;return s<n?l|=YP:s>i&&(l|=FP),a<r?l|=NP:a>o&&(l|=IP),l===RP&&(l=OP),l}function VP(){return[1/0,1/0,-1/0,-1/0]}function XP(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function KP(e){return XP(1/0,1/0,-1/0,-1/0,e)}function ZP(e,t){const n=e[0],r=e[1];return XP(n,r,n,r,t)}function JP(e,t,n,r,i){return n$(KP(i),e,t,n,r)}function QP(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function e$(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function t$(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function n$(e,t,n,r,i){for(;n<r;n+=i)r$(e,t[n],t[n+1]);return e}function r$(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function i$(e,t){let n;return n=t(s$(e)),n||(n=t(a$(e)),n||(n=t(m$(e)),n||(n=t(p$(e)),n||!1)))}function o$(e){let t=0;return y$(e)||(t=g$(e)*d$(e)),t}function s$(e){return[e[0],e[1]]}function a$(e){return[e[2],e[1]]}function l$(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function c$(e,t){let n;if("bottom-left"===t)n=s$(e);else if("bottom-right"===t)n=a$(e);else if("top-left"===t)n=p$(e);else{if("top-right"!==t)throw new Error("Invalid corner");n=m$(e)}return n}function u$(e,t,n,r,i){const[o,s,a,l,c,u,h,d]=h$(e,t,n,r);return XP(Math.min(o,a,c,h),Math.min(s,l,u,d),Math.max(o,a,c,h),Math.max(s,l,u,d),i)}function h$(e,t,n,r){const i=t*r[0]/2,o=t*r[1]/2,s=Math.cos(n),a=Math.sin(n),l=i*s,c=i*a,u=o*s,h=o*a,d=e[0],f=e[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}function d$(e){return e[3]-e[1]}function f$(e,t,n){const r=n||[1/0,1/0,-1/0,-1/0];return _$(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):KP(r),r}function p$(e){return[e[0],e[3]]}function m$(e){return[e[2],e[3]]}function g$(e){return e[2]-e[0]}function _$(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function y$(e){return e[2]<e[0]||e[3]<e[1]}function b$(e,t,n,r){if(y$(e))return KP(n);let i=[];if(r>1){const t=e[2]-e[0],n=e[3]-e[1];for(let o=0;o<r;++o)i.push(e[0]+t*o/r,e[1],e[2],e[1]+n*o/r,e[2]-t*o/r,e[3],e[0],e[3]-n*o/r)}else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);const o=[],s=[];for(let e=0,t=i.length;e<t;e+=2)o.push(i[e]),s.push(i[e+1]);return function(e,t,n){return XP(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}(o,s,n)}function v$(e,t){const n=t.getExtent(),r=l$(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const t=g$(n),i=Math.floor((r[0]-n[0])/t)*t;e[0]-=i,e[2]-=i}return e}function w$(e,t,n){if(t.canWrapX()){const r=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[r[0],e[1],r[2],e[3]]];v$(e,t);const i=g$(r);if(g$(e)>i&&!n)return[[r[0],e[1],r[2],e[3]]];if(e[0]<r[0])return[[e[0]+i,e[1],r[2],e[3]],[r[0],e[1],e[2],e[3]]];if(e[2]>r[2])return[[e[0],e[1],r[2],e[3]],[r[0],e[1],e[2]-i,e[3]]]}return[e]}const x$={info:1,warn:2,error:3,none:4};let S$=x$.info;function M$(...e){S$>x$.warn||console.warn(...e)}function k$(e,t,n){const r=void 0!==n?e.toFixed(n):""+e;let i=r.indexOf(".");return i=-1===i?r.length:i,i>t?r:new Array(1+t-i).join("0")+r}function T$(e,t){const n=(""+e).split("."),r=(""+t).split(".");for(let e=0;e<Math.max(n.length,r.length);e++){const t=parseInt(n[e]||"0",10),i=parseInt(r[e]||"0",10);if(t>i)return 1;if(i>t)return-1}return 0}function E$(e,t){const n=t.getRadius(),r=t.getCenter(),i=r[0],o=r[1];let s=e[0]-i;const a=e[1]-o;0===s&&0===a&&(s=1);const l=Math.sqrt(s*s+a*a);return[i+n*s/l,o+n*a/l]}function L$(e,t){const n=e[0],r=e[1],i=t[0],o=t[1],s=i[0],a=i[1],l=o[0],c=o[1],u=l-s,h=c-a,d=0===u&&0===h?0:(u*(n-s)+h*(r-a))/(u*u+h*h||0);let f,p;return d<=0?(f=s,p=a):d>=1?(f=l,p=c):(f=s+d*u,p=a+d*h),[f,p]}function C$(e,t){let n=!0;for(let r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function D$(e,t){const n=Math.cos(t),r=Math.sin(t),i=e[0]*n-e[1]*r,o=e[1]*n+e[0]*r;return e[0]=i,e[1]=o,e}function P$(e,t){const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function $$(e,t){return Math.sqrt(P$(e,t))}function A$(e,t){if(t.canWrapX()){const n=g$(t.getExtent()),r=R$(e,t,n);r&&(e[0]-=r*n)}return e}function R$(e,t,n){const r=t.getExtent();let i=0;return t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(n=n||g$(r),i=Math.floor((e[0]-r[0])/n)),i}const O$={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};const I$=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||O$[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},F$=6378137,N$=Math.PI*F$,Y$=[-N$,-N$,N$,N$],j$=[-180,-85,180,85],H$=F$*Math.log(Math.tan(Math.PI/2));class U$ extends I${constructor(e){super({code:e,units:"m",extent:Y$,global:!0,worldExtent:j$,getPointResolution:function(e,t){return e/Math.cosh(t[1]/F$)}})}}const z$=[new U$("EPSG:3857"),new U$("EPSG:102100"),new U$("EPSG:102113"),new U$("EPSG:900913"),new U$("http://www.opengis.net/def/crs/EPSG/0/3857"),new U$("http://www.opengis.net/gml/srs/epsg.xml#3857")];function G$(e,t,n,r){const i=e.length;n=n>1?n:2,r=r??n,void 0===t&&(t=n>2?e.slice():new Array(i));for(let n=0;n<i;n+=r){t[n]=N$*e[n]/180;let r=F$*Math.log(Math.tan(Math.PI*(+e[n+1]+90)/360));r>H$?r=H$:r<-H$&&(r=-H$),t[n+1]=r}return t}function W$(e,t,n,r){const i=e.length;n=n>1?n:2,r=r??n,void 0===t&&(t=n>2?e.slice():new Array(i));for(let n=0;n<i;n+=r)t[n]=180*e[n]/N$,t[n+1]=360*Math.atan(Math.exp(e[n+1]/F$))/Math.PI-90;return t}const q$=[-180,-90,180,90],B$=6378137*Math.PI/180;class V$ extends I${constructor(e,t){super({code:e,units:"degrees",extent:q$,axisOrientation:t,global:!0,metersPerUnit:B$,worldExtent:q$})}}const X$=[new V$("CRS:84"),new V$("EPSG:4326","neu"),new V$("urn:ogc:def:crs:OGC:1.3:CRS84"),new V$("urn:ogc:def:crs:OGC:2:84"),new V$("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new V$("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new V$("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let K$={};function Z$(e){return K$[e]||K$[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}let J$={};function Q$(e,t,n){const r=e.getCode(),i=t.getCode();r in J$||(J$[r]={}),J$[r][i]=n}function eA(e,t){return e in J$&&t in J$[e]?J$[e][t]:null}const tA=.9996,nA=.00669438,rA=nA*nA,iA=rA*nA,oA=nA/(1-nA),sA=Math.sqrt(1-nA),aA=(1-sA)/(1+sA),lA=aA*aA,cA=lA*aA,uA=cA*aA,hA=uA*aA,dA=.9983242984503243,fA=15*rA/256+45*iA/1024,pA=35*iA/3072,mA=1.5*aA-27/32*cA+269/512*hA,gA=21/16*lA-55/32*uA,_A=151/96*cA-417/128*hA,yA=1097/512*uA,bA=6378137;function vA(e,t,n){const r=e-5e5,i=(n.north?t:t-1e7)/tA/(bA*dA),o=i+mA*Math.sin(2*i)+gA*Math.sin(4*i)+_A*Math.sin(6*i)+yA*Math.sin(8*i),s=Math.sin(o),a=s*s,l=Math.cos(o),c=s/l,u=c*c,h=u*u,d=1-nA*a,f=Math.sqrt(1-nA*a),p=oA*l**2,m=p*p,g=r/(bA/f*tA),_=g*g,y=_*g,b=y*g,v=b*g,w=o-c/((1-nA)/d)*(_/2-b/24*(5+3*u+10*p-4*m-9*oA))+v*g/720*(61+90*u+298*p+45*h-252*oA-3*m);let x=(g-y/6*(1+2*u+p)+v/120*(5-2*p+28*u-3*m+8*oA+24*h))/l;return x=_t(x+ut(xA(n.number)),-Math.PI,Math.PI),[ct(x),ct(w)]}function wA(e,t,n){e=_t(e,-180,180),t<-80?t=-80:t>84&&(t=84);const r=ut(t),i=Math.sin(r),o=Math.cos(r),s=i/o,a=s*s,l=a*a,c=ut(e),u=ut(xA(n.number)),h=bA/Math.sqrt(1-nA*i**2),d=oA*o**2,f=o*_t(c-u,-Math.PI,Math.PI),p=f*f,m=p*f,g=m*f,_=g*f,y=_*f,b=bA*(dA*r-.002514607064228144*Math.sin(2*r)+fA*Math.sin(4*r)-pA*Math.sin(6*r)),v=tA*h*(f+m/6*(1-a+d)+_/120*(5-18*a+l+72*d-58*oA))+5e5;let w=tA*(b+h*s*(p/2+g/24*(5-a+9*d+4*d**2)+y/720*(61-58*a+l+600*d-330*oA)));return n.north||(w+=1e7),[v,w]}function xA(e){return 6*(e-1)-180+3}const SA=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function MA(e){let t=0;for(const n of SA){const r=e.match(n);if(r){t=parseInt(r[1]);break}}if(!t)return null;let n=0,r=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(r=!0,n=t-32600),n?{number:n,north:r}:null}function kA(e,t){return function(n,r,i,o){const s=n.length;i=i>1?i:2,o=o??i,r||(r=i>2?n.slice():new Array(s));for(let i=0;i<s;i+=o){const o=n[i],s=n[i+1],a=e(o,s,t);r[i]=a[0],r[i+1]=a[1]}return r}}const TA=6371008.8;function EA(e,t,n){n=n||TA;const r=ut(e[1]),i=ut(t[1]),o=(i-r)/2,s=ut(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function LA(e,t){let n=0;const r=e.length;let i=e[r-1][0],o=e[r-1][1];for(let t=0;t<r;t++){const r=e[t][0],s=e[t][1];n+=ut(r-i)*(2+Math.sin(ut(o))+Math.sin(ut(s))),i=r,o=s}return n*t*t/2}function CA(e,t){const n=(t=t||{}).radius||TA,r=t.projection||"EPSG:3857",i=e.getType();"GeometryCollection"!==i&&(e=e.clone().transform(r,"EPSG:4326"));let o,s,a,l,c,u,h=0;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(o=e.getCoordinates(),h=Math.abs(LA(o[0],n)),a=1,l=o.length;a<l;++a)h-=Math.abs(LA(o[a],n));break;case"MultiPolygon":for(o=e.getCoordinates(),a=0,l=o.length;a<l;++a)for(s=o[a],h+=Math.abs(LA(s[0],n)),c=1,u=s.length;c<u;++c)h-=Math.abs(LA(s[c],n));break;case"GeometryCollection":{const n=e.getGeometries();for(a=0,l=n.length;a<l;++a)h+=CA(n[a],t);break}default:throw new Error("Unsupported geometry type: "+i)}return h}function DA(e,t,n,r){r=r||TA;const i=ut(e[1]),o=ut(e[0]),s=t/r,a=Math.asin(Math.sin(i)*Math.cos(s)+Math.cos(i)*Math.sin(s)*Math.cos(n));return[ct(o+Math.atan2(Math.sin(n)*Math.sin(s)*Math.cos(i),Math.cos(s)-Math.sin(i)*Math.sin(a))),ct(a)]}const PA=[function(e){const t=MA(e.getCode());return t?{forward:kA(wA,t),inverse:kA(vA,t)}:null}],$A=[function(e){return MA(e)?new I$({code:e,units:"m"}):null}];let AA=!0;function RA(e){AA=!(void 0===e||e)}function OA(e,t){if(void 0!==t)for(let n=0,r=e.length;n<r;++n)t[n]=e[n];else t=e.slice();return t}function IA(e,t){if(void 0!==t&&e!==t){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];e=t}return e}function FA(e){!function(e,t){K$[e]=t}(e.getCode(),e),Q$(e,e,OA)}function NA(e){if("string"!=typeof e)return e;const t=Z$(e);if(t)return t;for(const t of $A){const n=t(e);if(n)return n}return null}function YA(e,t,n,r){let i;const o=(e=NA(e)).getPointResolutionFunc();if(o){if(i=o(t,n),r&&r!==e.getUnits()){const t=e.getMetersPerUnit();t&&(i=i*t/O$[r])}}else{const o=e.getUnits();if("degrees"==o&&!r||"degrees"==r)i=t;else{const s=WA(e,NA("EPSG:4326"));if(s||"degrees"===o){let e=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];e=s(e,e,2);i=(EA(e.slice(0,2),e.slice(2,4))+EA(e.slice(4,6),e.slice(6,8)))/2}else i=t*e.getMetersPerUnit();const a=r?O$[r]:e.getMetersPerUnit();void 0!==a&&(i/=a)}}return i}function jA(e){!function(e){e.forEach(FA)}(e),e.forEach(function(t){e.forEach(function(e){t!==e&&Q$(t,e,OA)})})}function HA(e,t){return e?"string"==typeof e?NA(e):e:NA(t)}function UA(e){return function(t,n,r,i){const o=t.length;r=void 0!==r?r:2,i=i??r,n=void 0!==n?n:new Array(o);for(let s=0;s<o;s+=i){const o=e(t.slice(s,s+r)),a=o.length;for(let e=0,r=i;e<r;++e)n[s+e]=e>=a?t[s+e]:o[e]}return n}}function zA(e,t,n,r){const i=NA(e),o=NA(t);Q$(i,o,UA(n)),Q$(o,i,UA(r))}function GA(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return n;return WA(e,t)===OA&&n}function WA(e,t){const n=e.getCode(),r=t.getCode();let i=eA(n,r);if(i)return i;let o=null,s=null;for(const n of PA)o||(o=n(e)),s||(s=n(t));if(!o&&!s)return null;const a="EPSG:4326";if(s)if(o)i=qA(o.inverse,s.forward);else{const e=eA(n,a);e&&(i=qA(e,s.forward))}else{const e=eA(a,r);e&&(i=qA(o.inverse,e))}return i&&(FA(e),FA(t),Q$(e,t,i)),i}function qA(e,t){return function(n,r,i,o){return r=e(n,r,i,o),t(r,r,i,o)}}function BA(e,t){return WA(NA(e),NA(t))}function VA(e,t,n){const r=BA(t,n);if(!r){const e=NA(t).getCode(),r=NA(n).getCode();throw new Error(`No transform available between ${e} and ${r}`)}return r(e,void 0,e.length)}function XA(e,t,n,r){return b$(e,BA(t,n),void 0,r)}let KA=null;function ZA(){return KA}function JA(e,t){return KA?VA(e,t,KA):e}function QA(e,t){return KA?VA(e,KA,t):(AA&&!C$(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(AA=!1,M$("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function eR(e,t){return KA?XA(e,t,KA):e}function tR(e,t){return KA?XA(e,KA,t):e}function nR(e,t){if(!KA)return e;const n=NA(t).getMetersPerUnit(),r=KA.getMetersPerUnit();return n&&r?e*n/r:e}function rR(e,t,n){return function(r){let i,o;if(e.canWrapX()){const t=e.getExtent(),s=g$(t);o=R$(r=r.slice(0),e,s),o&&(r[0]=r[0]-o*s),r[0]=st(r[0],t[0],t[2]),r[1]=st(r[1],t[1],t[3]),i=n(r)}else i=n(r);return o&&t.canWrapX()&&(i[0]+=o*g$(t.getExtent())),i}}var iR,oR,sR;jA(z$),jA(X$),iR=z$,oR=G$,sR=W$,X$.forEach(function(e){iR.forEach(function(t){Q$(e,t,oR),Q$(t,e,sR)})});const aR=new Array(6);function lR(e){return uR(e,1,0,0,1,0,0)}function cR(e,t){const n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=t[0],c=t[1],u=t[2],h=t[3],d=t[4],f=t[5];return e[0]=n*l+i*c,e[1]=r*l+o*c,e[2]=n*u+i*h,e[3]=r*u+o*h,e[4]=n*d+i*f+s,e[5]=r*d+o*f+a,e}function uR(e,t,n,r,i,o,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e}function hR(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function dR(e,t,n){return cR(e,uR(aR,t,0,0,n,0,0))}function fR(e,t,n){return cR(e,uR(aR,1,0,0,1,t,n))}function pR(e,t,n,r,i,o,s,a){const l=Math.sin(o),c=Math.cos(o);return e[0]=r*c,e[1]=i*l,e[2]=-r*l,e[3]=i*c,e[4]=s*r*c-a*r*l+t,e[5]=s*i*l+a*i*c+n,e}function mR(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;Oe(0!==n,"Transformation matrix cannot be inverted");const i=t[0],o=t[1],s=t[2],a=t[3],l=t[4],c=t[5];return e[0]=a/n,e[1]=-o/n,e[2]=-s/n,e[3]=i/n,e[4]=(s*c-a*l)/n,e[5]=-(i*c-o*l)/n,e}const gR=[1e5,1e5,1e5,1e5,2,2];function _R(e){return"matrix("+e.join(", ")+")"}function yR(e){return e.substring(7,e.length-1).split(",").map(parseFloat)}function bR(e,t,n,r,i,o,s){o=o||[],s=s||2;let a=0;for(let l=t;l<n;l+=r){const t=e[l],n=e[l+1];o[a++]=i[0]*t+i[2]*n+i[4],o[a++]=i[1]*t+i[3]*n+i[5];for(let t=2;t<s;t++)o[a++]=e[l+t]}return o&&o.length!=a&&(o.length=a),o}function vR(e,t,n,r,i,o,s){s=s||[];const a=Math.cos(i),l=Math.sin(i),c=o[0],u=o[1];let h=0;for(let i=t;i<n;i+=r){const t=e[i]-c,n=e[i+1]-u;s[h++]=c+t*a-n*l,s[h++]=u+t*l+n*a;for(let t=i+2;t<i+r;++t)s[h++]=e[t]}return s&&s.length!=h&&(s.length=h),s}const wR=[1,0,0,1,0,0],xR=[NaN,NaN];const SR=class extends An{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=sn((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Cn()}closestPointXY(e,t,n,r){return Cn()}containsXY(e,t){return 0===this.closestPointXY(e,t,xR,Number.MIN_VALUE)}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Cn()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&KP(e),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,e)}rotate(e,t){Cn()}scale(e,t,n){Cn()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Cn()}getType(){return Cn()}applyTransform(e){Cn()}intersectsExtent(e){return Cn()}translate(e,t){Cn()}transform(e,t){const n=NA(e),r="tile-pixels"==n.getUnits()?function(e,r,i){const o=n.getExtent(),s=n.getWorldExtent(),a=d$(s)/d$(o);pR(wR,s[0],s[3],a,-a,0,0,0);const l=bR(e,0,e.length,i,wR,r),c=BA(n,t);return c?c(l,l,i):l}:BA(n,t);return this.applyTransform(r),this}};function MR(e){let t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}function kR(e){let t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}const TR=class extends SR{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return JP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Cn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=kR(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Cn()}setLayout(e,t,n){let r;if(e)r=kR(e);else{for(let e=0;e<n;++e){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}r=t.length,e=MR(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();vR(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){void 0===t&&(t=e),n||(n=l$(this.getExtent()));const r=this.getFlatCoordinates();if(r){const i=this.getStride();!function(e,t,n,r,i,o,s,a){a=a||[];const l=s[0],c=s[1];let u=0;for(let s=t;s<n;s+=r){const t=e[s]-l,n=e[s+1]-c;a[u++]=l+i*t,a[u++]=c+o*n;for(let t=s+2;t<s+r;++t)a[u++]=e[t]}a&&a.length!=u&&(a.length=u)}(r,0,r.length,i,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();!function(e,t,n,r,i,o,s){s=s||[];let a=0;for(let l=t;l<n;l+=r){s[a++]=e[l]+i,s[a++]=e[l+1]+o;for(let t=l+2;t<l+r;++t)s[a++]=e[t]}s&&s.length!=a&&(s.length=a)}(n,0,n.length,r,e,t,n),this.changed()}}};function ER(e,t,n,r){for(let r=0,i=n.length;r<i;++r)e[t++]=n[r];return t}function LR(e,t,n,r){for(let i=0,o=n.length;i<o;++i){const o=n[i];for(let n=0;n<r;++n)e[t++]=o[n]}return t}function CR(e,t,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=LR(e,t,n[s],r);i[o++]=a,t=a}return i.length=o,i}function DR(e,t,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=CR(e,t,n[s],r,i[o]);0===a.length&&(a[0]=t),i[o++]=a,t=a[a.length-1]}return i.length=o,i}class PR extends TR{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new PR(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const i=this.flatCoordinates,o=lt(e,t,i[0],i[1]);if(o<r){const e=this.stride;for(let t=0;t<e;++t)n[t]=i[t];return n.length=e,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return ZP(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return qP(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ER(this.flatCoordinates,0,e,this.stride),this.changed()}}const $R=PR,AR=class{constructor(e){this.manager_=e,this.scaleX=null,this.updateScaleX=e=>e,this.scaleY=null,this.updateScaleY=e=>e,this.material=null,this.width_=0,this.height_=0,this.previousDomainX=[],this.moved_=!1}drawPoints(e){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");let t=-1;const n=e.distance.length;let r,i;const o=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node().getContext("2d");if(null===o)throw new Error("Missing ctx");const s=this.manager_.config.serverConfig;for(;++t<n;){const n=e.distance[t],a=e.altitude[t],l=e.color_packed[t],c=e.intensity[t],u=e.classification[t];s.classification_colors[u]&&s.classification_colors[u].visible&&(r=this.updateScaleX(n),i=this.updateScaleY(a),o.beginPath(),o.moveTo(r,i),"COLOR_PACKED"==this.material?o.fillStyle=`RGB(${l[0]}, ${l[1]}, ${l[2]})`:"INTENSITY"==this.material?o.fillStyle=`RGB(${c}, ${c}, ${c})`:"CLASSIFICATION"==this.material?o.fillStyle=`RGB(${s.classification_colors[u].color})`:o.fillStyle=s.default_color,o.arc(r,i,s.point_size,0,2*Math.PI,!1),o.fill())}}setupPlot(e,t){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");const n=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")),r=n.node(),i=r.getContext("2d");if(null===i)throw new Error("Missing ctx");i.clearRect(0,0,r.getBoundingClientRect().width,r.getBoundingClientRect().height);const o=this.manager_.config.clientConfig.margin,s=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container")).node(),a=s.getBoundingClientRect().width,l=s.getBoundingClientRect().height;this.width_=a-(o.left+o.right),this.height_=l-(o.top+o.bottom),this.material=this.manager_.config.serverConfig.default_attribute,n.attr("height",this.height_).attr("width",this.width_).style("background-color","black").style("z-index",0).style("position","absolute").style("margin-left",`${o.left.toString()}px`).style("margin-top",`${o.top.toString()}px`);const c=e[1]-e[0],u=t[1]-t[0],h=c/u,d=this.width_/this.height_;let f;if(h<d){const e=c*(d/h);this.scaleX=wL(),this.scaleX.domain([0,e]),this.scaleX.range([0,this.width_]),this.scaleY=wL(),this.scaleY.domain(t),this.scaleY.range([this.height_,0])}else{f=h/d;const n=u*f,r=(t[1]+t[0])/2;this.scaleX=wL(),this.scaleX.domain(e),this.scaleX.range([0,this.width_]),this.scaleY=wL(),this.scaleY.domain([r-n/2,r+n/2]),this.scaleY.range([this.height_,0])}const p=DP().scaleExtent([-10,100]).translateExtent([[0,0],[this.width_,this.height_]]).extent([[0,0],[this.width_,this.height_]]).on("zoom",e=>this.zoomed(e));p.on("end",e=>this.zoomEnd(e)),this.previousDomainX=this.scaleX.domain(),this.updateScaleX=this.scaleX,this.updateScaleY=this.scaleY;const m=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container svg.lidar-svg"));m.call(p).on("dblclick.zoom",null),m.selectAll("*").remove(),m.attr("width",this.width_+o.left).attr("height",this.height_+o.top+o.bottom),m.on("mousemove",e=>{this.pointHighlight(e)});const g=Vw(this.scaleX),_=Xw(this.scaleY).tickSize(-this.width_);m.select(".y.axis").selectAll("g.tick line").style("stroke","#b7cff7"),m.append("g").attr("class","y axis").call(_),m.append("g").attr("class","x axis").call(g),m.select(".y.axis").attr("transform",`translate(${o.left}, ${o.top})`),m.select(".x.axis").attr("transform",`translate(${o.left}, ${this.height_+o.top})`),m.select(".y.axis").selectAll("g.tick line").style("opacity","0.5").style("stroke","#b7cff7")}zoomEnd(e){if(e.sourceEvent&&!1===this.moved_)return void this.manager_.updateData();this.moved_=!1;const t=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node().getContext("2d");if(null===t)throw new Error("Missing ctx");t.clearRect(0,0,this.width_,this.height_),this.manager_.updateData()}zoomed(e){if(!this.manager_.measure)throw new Error("Missing manager.measure");if(!this.scaleX)throw new Error("Missing scaleX");if(!this.scaleY)throw new Error("Missing scaleY");if(e.sourceEvent&&"mousemove"===e.sourceEvent.type&&(this.moved_=!0,0==e.sourceEvent.movementX&&0==e.sourceEvent.movementY))return;this.manager_.measure.clearMeasure();const t=e.transform,n=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container svg.lidar-svg")),r=Vw(this.scaleX),i=Xw(this.scaleY).tickSize(-this.width_),o=t.rescaleX(this.scaleX),s=t.rescaleY(this.scaleY);n.select(".x.axis").call(r.scale(o)),n.select(".y.axis").call(i.scale(s));const a=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node().getContext("2d");if(null===a)throw new Error("Missing ctx");a.clearRect(0,0,this.width_,this.height_),n.select(".y.axis").selectAll("g.tick line").style("opacity","0.5").style("stroke","#b7cff7"),this.updateScaleX=o,this.updateScaleY=s}pointHighlight(e){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");const t=document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container "),n=mS(t.querySelector("svg.lidar-svg")),r=mS(t.querySelector(".lidar-info")),i=this.manager_.config.serverConfig.point_size,o=this.manager_.config.clientConfig.margin,s=this.manager_.config.clientConfig.tolerance||0,a=yS(e,mS(t.querySelector(".lidar-canvas")).node()),l=this.manager_.config.serverConfig.classification_colors;let c,u;const h=this.manager_.utils.getClosestPoint(this.manager_.profilePoints,a[0],a[1],s,this.updateScaleX,this.updateScaleY,l),d=this.manager_.lidarPointHighlight.getSource();if(null!=h){c=this.updateScaleX(h.distance)+o.left,u=this.updateScaleY(h.altitude)+o.top,n.selectAll("#highlightCircle").remove(),n.append("circle").attr("id","highlightCircle").attr("cx",c).attr("cy",u).attr("r",i+1).style("fill","orange");const e=l[h.classification||-1]||{},t=this.getInfoHTML(h,e,1);r.html(t),this.manager_.cartoHighlight.setElement(void 0);const s=document.createElement("div");s.className+="tooltip gmf-tooltip-measure",s.innerHTML=t,this.manager_.cartoHighlight.setElement(s),this.manager_.cartoHighlight.setPosition([h.coords[0],h.coords[1]]),d.clear();const a=new $R([h.coords[0],h.coords[1]]),f=new AP(a);void 0!==e.color&&f.setStyle(new Er({image:new gr({fill:new yr({color:`rgba(${e.color}, 1)`}),radius:3})})),d.addFeature(f)}else d.clear(),n.select("#highlightCircle").remove(),r.html(""),this.manager_.cartoHighlight.setPosition(void 0)}getInfoHTML(e,t,n){const r=[],i=e.distance,o=e.altitude,s=W.t(t.name),a=e.intensity;if(void 0!==i){const e=W.t("Distance: ");r.push(`${e+this.formatDecimals(i,n)}`)}if(void 0!==o){const e=W.t("Altitude: ");r.push(`${e+this.formatDecimals(o,n)}`)}if(s.length>0){const e=W.t("Classification: ");r.push(`${e+s}`)}if(void 0!==a){const e=W.t("Intensity: ");r.push(`${e+this.formatDecimals(a,0)}`)}return r.join("</br>")}formatDecimals(e,t){return Number((Math.round(100*e)/100).toFixed(t))}changeStyle(e){this.material=e;const t=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node(),n=t.getContext("2d");if(null===n)throw new Error("Missing ctx");n.clearRect(0,0,t.width,t.height),this.drawPoints(this.manager_.profilePoints)}setClassActive(e,t){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");this.manager_.config.serverConfig.classification_colors=e,this.changeStyle(t)}};function RR(e,t,n,r,i,o,s){const a=e[t],l=e[t+1],c=e[n]-a,u=e[n+1]-l;let h;if(0===c&&0===u)h=t;else{const d=((i-a)*c+(o-l)*u)/(c*c+u*u);if(d>1)h=n;else{if(d>0){for(let i=0;i<r;++i)s[i]=dt(e[t+i],e[n+i],d);return void(s.length=r)}h=t}}for(let t=0;t<r;++t)s[t]=e[h+t];s.length=r}function OR(e,t,n,r,i){let o=e[t],s=e[t+1];for(t+=r;t<n;t+=r){const n=e[t],r=e[t+1],a=lt(o,s,n,r);a>i&&(i=a),o=n,s=r}return i}function IR(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];i=OR(e,t,s,r,i),t=s}return i}function FR(e,t,n,r,i,o,s,a,l,c,u){if(t==n)return c;let h,d;if(0===i){if(d=lt(s,a,e[t],e[t+1]),d<c){for(h=0;h<r;++h)l[h]=e[t+h];return l.length=r,d}return c}u=u||[NaN,NaN];let f=t+r;for(;f<n;)if(RR(e,f-r,f,r,s,a,u),d=lt(s,a,u[0],u[1]),d<c){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(d)-Math.sqrt(c))/i|0,1);if(o&&(RR(e,n-r,t,r,s,a,u),d=lt(s,a,u[0],u[1]),d<c)){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r}return c}function NR(e,t,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];c=FR(e,t,d,r,i,o,s,a,l,c,u),t=d}return c}function YR(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=t;s<n;s+=r)i[o++]=e.slice(s,s+r);return i.length=o,i}function jR(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];i[o++]=YR(e,t,a,r,i[o]),t=a}return i.length=o,i}function HR(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];i[o++]=1===a.length&&a[0]===t?[]:jR(e,t,a,r,i[o]),t=a[a.length-1]}return i.length=o,i}function UR(e,t,n,r,i,o,s){let a,l;const c=(n-t)/r;if(1===c)a=t;else if(2===c)a=t,l=i;else if(0!==c){let o=e[t],s=e[t+1],c=0;const u=[0];for(let i=t+r;i<n;i+=r){const t=e[i],n=e[i+1];c+=Math.sqrt((t-o)*(t-o)+(n-s)*(n-s)),u.push(c),o=t,s=n}const h=i*c,d=function(e,t,n){let r,i;n=n||Xt;let o=0,s=e.length,a=!1;for(;o<s;)r=o+(s-o>>1),i=+n(e[r],t),i<0?o=r+1:(s=r,a=!i);return a?o:~o}(u,h);d<0?(l=(h-u[-d-2])/(u[-d-1]-u[-d-2]),a=t+(-d-2)*r):a=t+d*r}s=s>1?s:2,o=o||new Array(s);for(let t=0;t<s;++t)o[t]=void 0===a?NaN:void 0===l?e[a+t]:dt(e[a+t],e[a+r+t],l);return o}function zR(e,t,n,r,i,o){if(n==t)return null;let s;if(i<e[t+r-1])return o?(s=e.slice(t,t+r),s[r-1]=i,s):null;if(e[n-1]<i)return o?(s=e.slice(n-r,n),s[r-1]=i,s):null;if(i==e[t+r-1])return e.slice(t,t+r);let a=t/r,l=n/r;for(;a<l;){const t=a+l>>1;i<e[(t+1)*r-1]?l=t:a=t+1}const c=e[a*r-1];if(i==c)return e.slice((a-1)*r,(a-1)*r+r);const u=(i-c)/(e[(a+1)*r-1]-c);s=[];for(let t=0;t<r-1;++t)s.push(dt(e[(a-1)*r+t],e[a*r+t],u));return s.push(i),s}function GR(e,t,n,r,i){return!i$(i,function(i){return!WR(e,t,n,r,i[0],i[1])})}function WR(e,t,n,r,i,o){let s=0,a=e[n-r],l=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];l<=o?r>o&&(n-a)*(o-l)-(i-a)*(r-l)>0&&s++:r<=o&&(n-a)*(o-l)-(i-a)*(r-l)<0&&s--,a=n,l=r}return 0!==s}function qR(e,t,n,r,i,o){if(0===n.length)return!1;if(!WR(e,t,n[0],r,i,o))return!1;for(let t=1,s=n.length;t<s;++t)if(WR(e,n[t-1],n[t],r,i,o))return!1;return!0}function BR(e,t,n,r,i){let o;for(t+=r;t<n;t+=r)if(o=i(e.slice(t-r,t),e.slice(t,t+r)),o)return o;return!1}function VR(e,t){const[n,r]=e,[i,o]=t,s=((n[0]-i[0])*(i[1]-o[1])-(n[1]-i[1])*(i[0]-o[0]))/((n[0]-r[0])*(i[1]-o[1])-(n[1]-r[1])*(i[0]-o[0])),a=((n[0]-i[0])*(n[1]-r[1])-(n[1]-i[1])*(n[0]-r[0]))/((n[0]-r[0])*(i[1]-o[1])-(n[1]-r[1])*(i[0]-o[0]));if(0<=s&&s<=1&&0<=a&&a<=1)return[n[0]+s*(r[0]-n[0]),n[1]+s*(r[1]-n[1])]}function XR(e,t,n,r,i,o){return o=o??n$([1/0,1/0,-1/0,-1/0],e,t,n,r),!!_$(i,o)&&(o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||BR(e,t,n,r,function(e,t){return function(e,t,n){let r=!1;const i=BP(e,t),o=BP(e,n);if(i===OP||o===OP)r=!0;else{const s=e[0],a=e[1],l=e[2],c=e[3],u=t[0],h=t[1],d=n[0],f=n[1],p=(f-h)/(d-u);let m,g;o&IP&&!(i&IP)&&(m=d-(f-c)/p,r=m>=s&&m<=l),r||!(o&FP)||i&FP||(g=f-(d-l)*p,r=g>=a&&g<=c),r||!(o&NP)||i&NP||(m=d-(f-a)/p,r=m>=s&&m<=l),r||!(o&YP)||i&YP||(g=f-(d-s)*p,r=g>=a&&g<=c)}return r}(i,e,t)}))}function KR(e,t,n,r,i){return!!XR(e,t,n,r,i)||(!!WR(e,t,n,r,i[0],i[1])||(!!WR(e,t,n,r,i[0],i[3])||(!!WR(e,t,n,r,i[2],i[1])||!!WR(e,t,n,r,i[2],i[3]))))}function ZR(e,t,n,r,i){if(!KR(e,t,n[0],r,i))return!1;if(1===n.length)return!0;for(let t=1,o=n.length;t<o;++t)if(GR(e,n[t-1],n[t],r,i)&&!XR(e,n[t-1],n[t],r,i))return!1;return!0}function JR(e,t,n,r){let i=e[t],o=e[t+1],s=0;for(let a=t+r;a<n;a+=r){const t=e[a],n=e[a+1];s+=Math.sqrt((t-i)*(t-i)+(n-o)*(n-o)),i=t,o=n}return s}function QR(e,t,n,r,i,o,s){const a=(n-t)/r;if(a<3){for(;t<n;t+=r)o[s++]=e[t],o[s++]=e[t+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,n-r];let u=0;for(;c.length>0;){const n=c.pop(),o=c.pop();let s=0;const a=e[o],h=e[o+1],d=e[n],f=e[n+1];for(let t=o+r;t<n;t+=r){const n=at(e[t],e[t+1],a,h,d,f);n>s&&(u=t,s=n)}s>i&&(l[(u-t)/r]=1,o+r<u&&c.push(o,u),u+r<n&&c.push(u,n))}for(let n=0;n<a;++n)l[n]&&(o[s++]=e[t+n*r],o[s++]=e[t+n*r+1]);return s}function eO(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];s=QR(e,t,c,r,i,o,s),a.push(s),t=c}return s}function tO(e,t){return t*Math.round(e/t)}function nO(e,t,n,r,i,o,s){if(t==n)return s;let a,l,c=tO(e[t],i),u=tO(e[t+1],i);t+=r,o[s++]=c,o[s++]=u;do{if(a=tO(e[t],i),l=tO(e[t+1],i),(t+=r)==n)return o[s++]=a,o[s++]=l,s}while(a==c&&l==u);for(;t<n;){const n=tO(e[t],i),h=tO(e[t+1],i);if(t+=r,n==a&&h==l)continue;const d=a-c,f=l-u,p=n-c,m=h-u;d*m==f*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(f<0&&m<f||f==m||f>0&&m>f)?(a=n,l=h):(o[s++]=a,o[s++]=l,c=a,u=l,a=n,l=h)}return o[s++]=a,o[s++]=l,s}function rO(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];s=nO(e,t,c,r,i,o,s),a.push(s),t=c}return s}class iO extends TR{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){Qt(this.flatCoordinates,e),this.changed()}clone(){const e=new iO(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<zP(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(OR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),FR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,r))}forEachSegment(e){return BR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,zR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return YR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return UR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return JR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=QR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new iO(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return XR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=LR(this.flatCoordinates,0,e,this.stride),this.changed()}}const oO=iO;var sO=n(4213);const aO=class{clipLineByMeasure(e,t,n,r,i){const o=new oO([]);let s=0,a=0;const l=n.getLength(),c=r/l,u=i/l;let h=n.getCoordinates().length-1,d=0;n.forEachSegment((e,t)=>{d+=1;const l=new oO([e,t]);a+=l.getLength(),r==s?o.appendCoordinate(e):r>s&&r<a&&o.appendCoordinate(n.getCoordinateAt(c)),s>r&&s<i&&o.appendCoordinate(e),i==a?o.appendCoordinate(t):(i>s&&i<a||i>s&&i>a&&d===h)&&o.appendCoordinate(n.getCoordinateAt(u)),s+=l.getLength()});const f=new AP({geometry:o}),p=new Er({stroke:new vr({color:"rgba(255,0,0,1)",width:2,lineCap:"square"})});let m=0,g=0;h=o.getCoordinates().length-1;let _=1;o.forEachSegment((e,t)=>{if(1==_){const n=t[0]-e[0],r=t[1]-e[1];m=Math.atan2(n,r)}if(_==h){const n=t[0]-e[0],r=t[1]-e[1];g=Math.atan2(n,r)}_+=1});const y=[p],b=o.getLastCoordinate(),v=o.getFirstCoordinate();return y.push(new Er({geometry:new $R(v),image:new pr({fill:new yr({color:"rgba(255, 0, 0, 1)"}),stroke:new vr({color:"rgba(255,0,0,1)",width:1,lineCap:"square"}),points:3,radius:5,rotation:m,angle:Math.PI/3})}),new Er({geometry:new $R(b),image:new pr({fill:new yr({color:"rgba(255, 0, 0, 1)"}),stroke:new vr({color:"rgba(255,0,0,1)",width:1,lineCap:"square"}),points:3,radius:5,rotation:g,angle:4*Math.PI/3})})),{clippedLine:o.getCoordinates(),distanceOffset:r,bufferGeom:f,bufferStyle:y}}getNiceLOD(e,t){let n=0,r=0;for(const i in t){const o=parseInt(i,10);e<o&&t[o].max>n&&(n=t[o].max,r=t[o].width)}return{maxLOD:n,width:r}}downloadProfileAsImageFile(e){const t=document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container "),n=mS(t.querySelector("svg.lidar-svg")),r=parseInt(n.attr("width"),10),i=parseInt(n.attr("height"),10),o=e.margin,s=document.createElement("canvas");s.style.display="none",s.width=r,s.height=i;const a=s.getContext("2d");if(!a)throw new Error("Missing ctx");a.fillStyle="white",a.fillRect(0,0,r,i);const l=mS(t.querySelector(".lidar-canvas")).node();a.drawImage(l,o.left,o.top);const c=new Image,u=new XMLSerializer,h=n.node(),d=u.serializeToString(h),f="lidare_profile_for_export_uid";c.id=f,c.src=`data:image/svg+xml;base64,${btoa(d)}`,c.style.setProperty("display","none");const p=document.getElementsByTagName("body")[0];c.onload=()=>{a.drawImage(c,0,0,r,i);const e=document.getElementById(f);if(!e)throw new Error("Missing elImg");p.removeChild(e),s.toBlob(e=>{e||window.alert(W.t("No graph to export in PNG!")),(0,sO.saveAs)(e,"LIDAR_profile.png")})},p.appendChild(c)}getFlatPointsByDistance(e){const t=[];for(let n=0;n<e.distance.length;n++){const r={distance:e.distance[n],altitude:e.altitude[n],color_packed:e.color_packed[n],intensity:e.intensity[n],classification:e.classification[n],coords:e.coords[n]};t.push(r)}return t.sort((e,t)=>e.distance-t.distance),t}getCSVData(e){return e.map(e=>{const t={};for(const n in e){const r=e[n];if("altitude"==n){const r=e?.altitude;t[n]=r?r.toFixed(4):NaN}else t[n]="color_packed"==n?(e.color_packed??[]).join(" "):"coords"==n?(e.coords??[]).join(" "):r}return t})}arrayMax(e){return e.reduce((e,t)=>Math.max(e,t))}arrayMin(e){let t=1/0;for(const n of e)n<t&&(t=n);return t}getPytreeLinestring(e){const t=e.getCoordinates();let n="";for(const e of t){const t=e[0],r=e[1];n+=`{${Math.round(100*t)/100}, ${Math.round(100*r)/100}},`}return n.substr(0,n.length-1)}getClosestPoint(e,t,n,r,i,o,s){const a=e,l=r,c=[],u=[];for(let e=0;e<a.distance.length;e++)if(i(a.distance[e])<t+l&&i(a.distance[e])>t-l&&o(a.altitude[e])<n+l&&o(a.altitude[e])>n-l){const r=Math.sqrt(Math.pow(i(a.distance[e])-t,2)+Math.pow(o(a.altitude[e])-n,2)),l=s[a.classification[e]];l&&1==l.visible&&(u.push({distance:a.distance[e],altitude:a.altitude[e],classification:a.classification[e],color_packed:a.color_packed[e],intensity:a.intensity[e],coords:a.coords[e]}),c.push(r))}let h=null;if(u.length>0){const e=Math.min(...c),t=c.indexOf(e);h=-1!=t?u[t]:u[0]}return h}};function lO(e,t){let n=null;return function(...r){null!==n&&clearTimeout(n),n=window.setTimeout(()=>{n=null,e.apply(this,r)},t)}}const cO=0,uO=1,hO="prerender",dO="postrender",fO="precompose",pO="postcompose",mO="rendercomplete";const gO=class{drawCustom(e,t,n,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,n){}drawFeature(e,t,n){}drawGeometryCollection(e,t,n){}drawLineString(e,t,n){}drawMultiLineString(e,t,n){}drawMultiPoint(e,t,n){}drawMultiPolygon(e,t,n){}drawPoint(e,t,n){}drawPolygon(e,t,n){}drawText(e,t,n){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},_O={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},yO=[_O.FILL],bO=[_O.STROKE],vO=[_O.BEGIN_PATH],wO=[_O.CLOSE_PATH],xO=_O;const SO=class extends gO{constructor(e,t,n,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})}appendFlatPointCoordinates(e,t){const n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates;let o=i.length;for(let s=0,a=e.length;s<a;s+=t)r[0]=e[s],r[1]=e[s+1],GP(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,n,r,i,o){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();o&&(t+=r);let c=e[t],u=e[t+1];const h=this.tmpCoordinate_;let d,f,p,m=!0;for(d=t+r;d<n;d+=r)h[0]=e[d],h[1]=e[d+1],p=BP(l,h),p!==f?(m&&(s[a++]=c,s[a++]=u,m=!1),s[a++]=h[0],s[a++]=h[1]):p===OP?(s[a++]=h[0],s[a++]=h[1],m=!1):m=!0,c=h[0],u=h[1],f=p;return(i&&m||d===t+r)&&(s[a++]=c,s[a++]=u),a}drawCustomCoordinates_(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(e,t,s,r,!1,!1);i.push(a),t=s}return t}drawCustom(e,t,n,r,i){this.beginGeometry(e,t,i);const o=e.getType(),s=e.getStride(),a=this.coordinates.length;let l,c,u,h,d;switch(o){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),h=[];const t=e.getEndss();d=0;for(let e=0,n=t.length;e<n;++e){const n=[];d=this.drawCustomCoordinates_(l,d,t[e],s,n),h.push(n)}this.instructions.push([xO.CUSTOM,a,h,e,n,HR,i]),this.hitDetectionInstructions.push([xO.CUSTOM,a,h,e,r||n,HR,i]);break;case"Polygon":case"MultiLineString":u=[],l="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,e.getEnds(),s,u),this.instructions.push([xO.CUSTOM,a,u,e,n,jR,i]),this.hitDetectionInstructions.push([xO.CUSTOM,a,u,e,r||n,jR,i]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([xO.CUSTOM,a,c,e,n,YR,i]),this.hitDetectionInstructions.push([xO.CUSTOM,a,c,e,r||n,YR,i]);break;case"MultiPoint":l=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>a&&(this.instructions.push([xO.CUSTOM,a,c,e,n,YR,i]),this.hitDetectionInstructions.push([xO.CUSTOM,a,c,e,r||n,YR,i]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([xO.CUSTOM,a,c,e,n,void 0,i]),this.hitDetectionInstructions.push([xO.CUSTOM,a,c,e,r||n,void 0,i])}this.endGeometry(t)}beginGeometry(e,t,n){this.beginGeometryInstruction1_=[xO.BEGIN_GEOMETRY,t,0,e,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[xO.BEGIN_GEOMETRY,t,0,e,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let t;e.reverse();const n=e.length;let r,i,o=-1;for(t=0;t<n;++t)r=e[t],i=r[0],i==xO.END_GEOMETRY?o=t:i==xO.BEGIN_GEOMETRY&&(r[2]=t,Jt(this.hitDetectionInstructions,o,t),o=-1)}fillStyleToState(e,t={}){if(e){const n=e.getColor();t.fillPatternScale=n&&"object"==typeof n&&"src"in n?this.pixelRatio:1,t.fillStyle=kn(n||zn)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const n=e.getColor();t.strokeStyle=kn(n||Bn);const r=e.getLineCap();t.lineCap=void 0!==r?r:Gn;const i=e.getLineDash();t.lineDash=i?i.slice():Wn;const o=e.getLineDashOffset();t.lineDashOffset=o||0;const s=e.getLineJoin();t.lineJoin=void 0!==s?s:qn;const a=e.getWidth();t.lineWidth=void 0!==a?a:1;const l=e.getMiterLimit();t.miterLimit=void 0!==l?l:10,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const n=this.state;this.fillStyleToState(e,n),this.strokeStyleToState(t,n)}createFill(e){const t=e.fillStyle,n=[xO.SET_FILL_STYLE,t];return"string"!=typeof t&&n.push(e.fillPatternScale),n}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[xO.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const n=e.fillStyle;"string"==typeof n&&e.currentFillStyle==n||(this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}updateStrokeStyle(e,t){const n=e.strokeStyle,r=e.lineCap,i=e.lineDash,o=e.lineDashOffset,s=e.lineJoin,a=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=r||i!=e.currentLineDash&&!tn(e.currentLineDash,i)||e.currentLineDashOffset!=o||e.currentLineJoin!=s||e.currentLineWidth!=a||e.currentMiterLimit!=l)&&(t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=r,e.currentLineDash=i,e.currentLineDashOffset=o,e.currentLineJoin=s,e.currentLineWidth=a,e.currentMiterLimit=l)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[xO.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=UP(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;HP(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};const MO=class extends SO{constructor(e,t,n,r){super(e,t,n,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,n){if(!this.image_||this.maxExtent&&!GP(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,n);const r=e.getFlatCoordinates(),i=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([xO.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([xO.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,n){if(!this.image_)return;this.beginGeometry(e,t,n);const r=e.getFlatCoordinates(),i=[];for(let t=0,n=r.length;t<n;t+=e.getStride())this.maxExtent&&!GP(this.maxExtent,r.slice(t,t+2))||i.push(r[t],r[t+1]);const o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,2);this.instructions.push([xO.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([xO.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const n=e.getAnchor(),r=e.getSize(),i=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}};const kO=class extends SO{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinates_(e,t,n,r){const i=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,r,!1,!1),s=[xO.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n}drawLineString(e,t,n){const r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0===i||void 0===o)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([xO.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Wn,0],vO);const s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(bO),this.endGeometry(t)}drawMultiLineString(e,t,n){const r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0===i||void 0===o)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([xO.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Wn,0],vO);const s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride();let c=0;for(let e=0,t=s.length;e<t;++e)c=this.drawFlatCoordinates_(a,c,s[e],l);this.hitDetectionInstructions.push(bO),this.endGeometry(t)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(bO),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(bO),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(vO)}};const TO=class extends SO{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinatess_(e,t,n,r){const i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,a=n.length;this.instructions.push(vO),this.hitDetectionInstructions.push(vO);for(let i=0;i<a;++i){const o=n[i],a=this.coordinates.length,l=this.appendFlatLineCoordinates(e,t,o,r,!0,!s),c=[xO.MOVE_TO_LINE_TO,a,l];this.instructions.push(c),this.hitDetectionInstructions.push(c),s&&(this.instructions.push(wO),this.hitDetectionInstructions.push(wO)),t=o}return o&&(this.instructions.push(yO),this.hitDetectionInstructions.push(yO)),s&&(this.instructions.push(bO),this.hitDetectionInstructions.push(bO)),t}drawCircle(e,t,n){const r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([xO.SET_FILL_STYLE,zn]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([xO.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Wn,0]);const s=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const c=[xO.CIRCLE,l];this.instructions.push(vO,c),this.hitDetectionInstructions.push(vO,c),void 0!==r.fillStyle&&(this.instructions.push(yO),this.hitDetectionInstructions.push(yO)),void 0!==r.strokeStyle&&(this.instructions.push(bO),this.hitDetectionInstructions.push(bO)),this.endGeometry(t)}drawPolygon(e,t,n){const r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([xO.SET_FILL_STYLE,zn]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([xO.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Wn,0]);const s=e.getEnds(),a=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(t)}drawMultiPolygon(e,t,n){const r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([xO.SET_FILL_STYLE,zn]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([xO.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Wn,0]);const s=e.getEndss(),a=e.getOrientedFlatCoordinates(),l=e.getStride();let c=0;for(let e=0,t=s.length;e<t;++e)c=this.drawFlatCoordinatess_(a,c,s[e],l);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let n=0,r=t.length;n<r;++n)t[n]=tO(t[n],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}};function EO(e,t,n,r,i){const o=[];let s=n,a=0,l=t.slice(n,2);for(;a<e&&s+i<r;){const[n,r]=l.slice(-2),c=t[s+i],u=t[s+i+1],h=Math.sqrt((c-n)*(c-n)+(u-r)*(u-r));if(a+=h,a>=e){const t=(e-a+h)/h,d=dt(n,c,t),f=dt(r,u,t);l.push(d,f),o.push(l),l=[d,f],a==e&&(s+=i),a=0}else if(a<e)l.push(t[s+i],t[s+i+1]),s+=i;else{const e=h-a,t=dt(n,c,e/h),d=dt(r,u,e/h);l.push(t,d),o.push(l),l=[t,d],a=0,s+=i}}return a>0&&o.push(l),o}function LO(e,t,n,r,i){let o,s,a,l,c,u,h,d,f,p,m=n,g=n,_=0,y=0,b=n;for(s=n;s<r;s+=i){const n=t[s],r=t[s+1];void 0!==c&&(f=n-c,p=r-u,l=Math.sqrt(f*f+p*p),void 0!==h&&(y+=a,o=Math.acos((h*f+d*p)/(a*l)),o>e&&(y>_&&(_=y,m=b,g=s),y=0,b=s-i)),a=l,h=f,d=p),c=n,u=r}return y+=l,y>_?[b,s]:[m,g]}const CO={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const DO=class extends SO{constructor(e,t,n,r){super(e,t,n,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[zn]={fillStyle:zn},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,n){const r=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!r&&!i)return;const s=this.coordinates;let a=s.length;const l=e.getType();let c=null,u=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let r=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),u=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||r.push(c[2]/this.resolution),u=3;break;case"MultiPolygon":const t=e.getFlatInteriorPoints();c=[];for(let e=0,n=t.length;e<n;e+=3)o.overflow||r.push(t[e+2]/this.resolution),c.push(t[e],t[e+1]);if(0===c.length)return;u=2}const i=this.appendFlatPointCoordinates(c,u);if(i===a)return;if(r&&(i-a)/2!==c.length/u){let e=a/2;r=r.filter((t,n)=>{const r=s[2*(e+n)]===c[n*u]&&s[2*(e+n)+1]===c[n*u+1];return r||--e,r})}this.saveTextStates_();const h=o.backgroundFill?this.createFill(this.fillStyleToState(o.backgroundFill)):null,d=o.backgroundStroke?this.createStroke(this.strokeStyleToState(o.backgroundStroke)):null;this.beginGeometry(e,t,n);let f=o.padding;if(f!=Kn&&(o.scale[0]<0||o.scale[1]<0)){let e=o.padding[0],t=o.padding[1],n=o.padding[2],r=o.padding[3];o.scale[0]<0&&(t=-t,r=-r),o.scale[1]<0&&(e=-e,n=-n),f=[e,t,n,r]}const p=this.pixelRatio;this.instructions.push([xO.DRAW_IMAGE,a,i,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,f==Kn?Kn:f.map(function(e){return e*p}),h,d,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]);const m=1/p,g=h?h.slice(0):null;g&&(g[1]=zn),this.hitDetectionInstructions.push([xO.DRAW_IMAGE,a,i,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,this.declutterMode_,this.declutterImageWithText_,f,g,d,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?zn:this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]),this.endGeometry(t)}else{if(!_$(this.maxExtent,e.getExtent()))return;let r;if(c=e.getFlatCoordinates(),"LineString"==l)r=[c.length];else if("MultiLineString"==l)r=e.getEnds();else if("Polygon"==l)r=e.getEnds().slice(0,1);else if("MultiPolygon"==l){const t=e.getEndss();r=[];for(let e=0,n=t.length;e<n;++e)r.push(t[e][0])}this.beginGeometry(e,t,n);const i=o.repeat,h=i?void 0:o.textAlign;let d=0;for(let e=0,t=r.length;e<t;++e){let t;t=i?EO(i*this.resolution,c,d,r[e],u):[c.slice(d,r[e])];for(let n=0,i=t.length;n<i;++n){const i=t[n];let l=0,c=i.length;if(null==h){const e=LO(o.maxAngle,i,0,i.length,2);l=e[0],c=e[1]}for(let e=l;e<c;e+=u)s.push(i[e],i[e+1]);const f=s.length;d=r[e],this.drawChars_(a,f),a=f}}this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const i=this.textKey_;i in this.textStates||(this.textStates[i]={font:t.font,textAlign:t.textAlign||Vn,justify:t.justify,textBaseline:t.textBaseline||Xn,scale:t.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(e,t){const n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=CO[r.textBaseline],c=this.textOffsetY_*a,u=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([xO.DRAW_CHARS,e,t,l,r.overflow,s,r.maxAngle,a,c,i,h*a,u,o,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([xO.DRAW_CHARS,e,t,l,r.overflow,s?zn:s,r.maxAngle,a,c,i,h*a,u,o,1/a,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let n,r,i;if(e){const t=e.getFill();t?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=kn(t.getColor()||zn)):(r=null,this.textFillState_=r);const o=e.getStroke();if(o){i=this.textStrokeState_,i||(i={},this.textStrokeState_=i);const e=o.getLineDash(),t=o.getLineDashOffset(),n=o.getWidth(),r=o.getMiterLimit();i.lineCap=o.getLineCap()||Gn,i.lineDash=e?e.slice():Wn,i.lineDashOffset=void 0===t?0:t,i.lineJoin=o.getLineJoin()||qn,i.lineWidth=void 0===n?1:n,i.miterLimit=void 0===r?10:r,i.strokeStyle=kn(o.getColor()||Bn)}else i=null,this.textStrokeState_=i;n=this.textState_;const s=e.getFont()||Un;rr(s);const a=e.getScaleArray();n.overflow=e.getOverflow(),n.font=s,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||Xn,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||Kn,n.scale=void 0===a?[1,1]:a;const l=e.getOffsetX(),c=e.getOffsetY(),u=e.getRotateWithView(),h=e.getKeepUpright(),d=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===c?0:c,this.textRotateWithView_=void 0!==u&&u,this.textKeepUpright_=void 0===h||h,this.textRotation_=void 0===d?0:d,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:Pn(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?"string"==typeof r.fillStyle?r.fillStyle:"|"+Pn(r.fillStyle):""}else this.text_="";this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},PO={Circle:TO,Default:SO,Image:MO,LineString:kO,Polygon:TO,Text:DO};const $O=class{constructor(e,t,n,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const n=this.buildersByZIndex_[t];for(const r in n){const i=n[r].finish();e[t][r]=i}}return e}getBuilder(e,t){const n=void 0!==e?e.toString():"0";let r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);let i=r[t];if(void 0===i){i=new(0,PO[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=i}return i}};function AO(e,t,n,r,i,o,s,a,l,c,u,h,d=!0){let f=e[t],p=e[t+1],m=0,g=0,_=0,y=0;function b(){m=f,g=p,f=e[t+=r],p=e[t+1],y+=_,_=Math.sqrt((f-m)*(f-m)+(p-g)*(p-g))}do{b()}while(t<n-r&&y+_<o);let v=0===_?0:(o-y)/_;const w=dt(m,f,v),x=dt(g,p,v),S=t-r,M=y,k=o+a*l(c,i,u);for(;t<n-r&&y+_<k;)b();v=0===_?0:(k-y)/_;const T=dt(m,f,v),E=dt(g,p,v);let L=!1;if(d)if(h){const e=[w,x,T,E];vR(e,0,4,2,h,e,e),L=e[0]>e[2]}else L=w>T;const C=Math.PI,D=[],P=S+r===t;let $;if(_=0,y=M,f=e[t=S],p=e[t+1],P){b(),$=Math.atan2(p-g,f-m),L&&($+=$>0?-C:C);const e=(T+w)/2,t=(E+x)/2;return D[0]=[e,t,(k-o)/2,$,i],D}for(let e=0,h=(i=i.replace(/\n/g," ")).length;e<h;){b();let d=Math.atan2(p-g,f-m);if(L&&(d+=d>0?-C:C),void 0!==$){let e=d-$;if(e+=e>C?-2*C:e<-C?2*C:0,Math.abs(e)>s)return null}$=d;const w=e;let x=0;for(;e<h;++e){const s=a*l(c,i[L?h-e-1:e],u);if(t+r<n&&y+_<o+x+s/2)break;x+=s}if(e===w)continue;const S=L?i.substring(h-w,h-e):i.substring(w,e);v=0===_?0:(o+x/2-y)/_;const M=dt(m,f,v),k=dt(g,p,v);D.push([M,k,x/2,d,S]),o+=x}return D}const RO=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Je(),{get:(e,t)=>{if("function"==typeof Je()[t])return this.push_(t),this.pushMethodArgs_},set:(e,t,n)=>(this.push_(t,n),!0)})}push_(...e){const t=this.instructions_,n=this.zIndex+this.offset_;t[n]||(t[n]=[]),t[n].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let n=0,r=t.length;n<r;++n){const r=t[n];if("function"==typeof r){r(e);continue}const i=t[++n];if("function"==typeof e[r])e[r](...i);else{if("function"==typeof i){e[r]=i(e);continue}e[r]=i}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},OO=[1/0,1/0,-1/0,-1/0],IO=[],FO=[],NO=[],YO=[];function jO(e){return e[3].declutterBox}const HO=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function UO(e,t){return"start"===t?t=HO.test(e)?"right":"left":"end"===t&&(t=HO.test(e)?"left":"right"),CO[t]}function zO(e,t,n){return n>0&&e.push("\n",""),e.push(t,""),e}function GO(e,t,n){return n%2==0&&(e+=t),e}const WO=class{constructor(e,t,n,r,i){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=i?new RO:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,n,r){const i=e+t+n+r;if(this.labels_[i])return this.labels_[i];const o=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,a=this.textStates[t],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],u=a.justify?CO[a.justify]:UO(Array.isArray(e)?e[0]:e,a.textAlign||Vn),h=r&&o.lineWidth?o.lineWidth:0,d=Array.isArray(e)?e:String(e).split("\n").reduce(zO,[]),{width:f,height:p,widths:m,heights:g,lineWidths:_}=function(e,t){const n=[],r=[],i=[];let o=0,s=0,a=0,l=0;for(let c=0,u=t.length;c<=u;c+=2){const h=t[c];if("\n"===h||c===u){o=Math.max(o,s),i.push(s),s=0,a+=l,l=0;continue}const d=t[c+1]||e.font,f=sr(d,h);n.push(f),s+=f;const p=ir(d);r.push(p),l=Math.max(l,p)}return{width:o,height:a,widths:n,heights:r,lineWidths:i}}(a,d),y=f+h,b=[],v=(y+2)*c[0],w=(p+h)*c[1],x={width:v<0?Math.floor(v):Math.ceil(v),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:b};1==c[0]&&1==c[1]||b.push("scale",c),r&&(b.push("strokeStyle",o.strokeStyle),b.push("lineWidth",h),b.push("lineCap",o.lineCap),b.push("lineJoin",o.lineJoin),b.push("miterLimit",o.miterLimit),b.push("setLineDash",[o.lineDash]),b.push("lineDashOffset",o.lineDashOffset)),n&&b.push("fillStyle",s.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");const S=.5-u;let M=u*y+S*h;const k=[],T=[];let E,L=0,C=0,D=0,P=0;for(let e=0,t=d.length;e<t;e+=2){const t=d[e];if("\n"===t){C+=L,L=0,M=u*y+S*h,++P;continue}const i=d[e+1]||a.font;i!==E&&(r&&k.push("font",i),n&&T.push("font",i),E=i),L=Math.max(L,g[D]);const o=[t,M+S*m[D]+u*(m[D]-_[P]),.5*(h+L)+C];M+=m[D],r&&k.push("strokeText",o),n&&T.push("fillText",o),++D}return Array.prototype.push.apply(b,k),Array.prototype.push.apply(b,T),this.labels_[i]=x,x}replayTextBackground_(e,t,n,r,i,o,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],e.fillStyle=o[1],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,r,i,o,s,a,l,c,u,h,d,f,p,m){let g=n-(s*=h[0]),_=r-(a*=h[1]);const y=i+l>e?e-l:i,b=o+c>t?t-c:o,v=f[3]+y*h[0]+f[1],w=f[0]+b*h[1]+f[2],x=g-f[3],S=_-f[0];let M;return(p||0!==u)&&(IO[0]=x,YO[0]=x,IO[1]=S,FO[1]=S,FO[0]=x+v,NO[0]=FO[0],NO[1]=S+w,YO[1]=NO[1]),0!==u?(M=pR([1,0,0,1,0,0],n,r,1,1,u,-n,-r),hR(M,IO),hR(M,FO),hR(M,NO),hR(M,YO),XP(Math.min(IO[0],FO[0],NO[0],YO[0]),Math.min(IO[1],FO[1],NO[1],YO[1]),Math.max(IO[0],FO[0],NO[0],YO[0]),Math.max(IO[1],FO[1],NO[1],YO[1]),OO)):XP(Math.min(x,x+v),Math.min(S,S+w),Math.max(x,x+v),Math.max(S,S+w),OO),d&&(g=Math.round(g),_=Math.round(_)),{drawImageX:g,drawImageY:_,drawImageW:y,drawImageH:b,originX:l,originY:c,declutterBox:{minX:OO[0],minY:OO[1],maxX:OO[2],maxY:OO[3],value:m},canvasTransform:M,scale:h}}replayImageOrLabel_(e,t,n,r,i,o,s){const a=!(!o&&!s),l=r.declutterBox,c=s?s[2]*r.scale[0]/2:0;return l.minX-c<=t[0]&&l.maxX+c>=0&&l.minY-c<=t[1]&&l.maxY+c>=0&&(a&&this.replayTextBackground_(e,IO,FO,NO,YO,o,s),lr(e,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const n=hR(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),1!==t&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,n,r){const i=this.textStates[t],o=this.createLabel(e,t,r,n),s=this.strokeStates[n],a=this.pixelRatio,l=UO(Array.isArray(e)?e[0]:e,i.textAlign||Vn),c=CO[i.textBaseline||Xn],u=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*i.scale[0])+2*(.5-l)*u,anchorY:c*o.height/a+2*(.5-c)*u}}execute_(e,t,n,r,i,o,s,a){const l=this.zIndexContext_;let c;var u,h;this.pixelCoordinates_&&tn(n,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=bR(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),u=this.renderedTransform_,h=n,u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5]);let d=0;const f=r.length;let p,m,g,_,y,b,v,w,x,S,M,k,T,E=0,L=0,C=0;const D=this.coordinateCache_,P=this.viewRotation_,$=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,A={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:P},R=this.instructions!=r||this.overlaps?0:200;let O,I,F,N;for(;d<f;){const n=r[d];switch(n[0]){case xO.BEGIN_GEOMETRY:O=n[1],N=n[3],O.getGeometry()?void 0===s||_$(s,N.getExtent())?++d:d=n[2]+1:d=n[2],l&&(l.zIndex=n[4]);break;case xO.BEGIN_PATH:L>R&&(this.fill_(e),L=0),C>R&&(e.stroke(),C=0),L||C||(e.beginPath(),y=NaN,b=NaN),++d;break;case xO.CIRCLE:E=n[1];const r=c[E],u=c[E+1],h=c[E+2]-r,f=c[E+3]-u,Y=Math.sqrt(h*h+f*f);e.moveTo(r+Y,u),e.arc(r,u,Y,0,2*Math.PI,!0),++d;break;case xO.CLOSE_PATH:e.closePath(),++d;break;case xO.CUSTOM:E=n[1],p=n[2];const j=n[3],H=n[4],U=n[5];A.geometry=j,A.feature=O,d in D||(D[d]=[]);const z=D[d];U?U(c,E,p,2,z):(z[0]=c[E],z[1]=c[E+1],z.length=2),l&&(l.zIndex=n[6]),H(z,A),++d;break;case xO.DRAW_IMAGE:E=n[1],p=n[2],x=n[3],m=n[4],g=n[5];let G=n[6];const W=n[7],q=n[8],B=n[9],V=n[10];let X=n[11];const K=n[12];let Z=n[13];_=n[14]||"declutter";const J=n[15];if(!x&&n.length>=20){S=n[19],M=n[20],k=n[21],T=n[22];const e=this.drawLabelWithPointPlacement_(S,M,k,T);x=e.label,n[3]=x;const t=n[23];m=(e.anchorX-t)*this.pixelRatio,n[4]=m;const r=n[24];g=(e.anchorY-r)*this.pixelRatio,n[5]=g,G=x.height,n[6]=G,Z=x.width,n[13]=Z}let Q,ee,te,ne;n.length>25&&(Q=n[25]),n.length>17?(ee=n[16],te=n[17],ne=n[18]):(ee=Kn,te=null,ne=null),V&&$?X+=P:V||$||(X-=P);let re=0;for(;E<p;E+=2){if(Q&&Q[re++]<Z/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(x.width,x.height,c[E],c[E+1],Z,G,m,g,q,B,X,K,i,ee,!!te||!!ne,O),r=[e,t,x,n,W,te,ne];if(a){let e,t,i,o,s;if(J){const n=p-E;if(!J[n]){J[n]={args:r,declutterMode:_};continue}const o=J[n];e=o.args,t=o.declutterMode,delete J[n],i=jO(e)}if(!e||"declutter"===t&&a.collides(i)||(o=!0),"declutter"===_&&a.collides(n.declutterBox)||(s=!0),"declutter"===t&&"declutter"===_){const e=o&&s;o=e,s=e}o&&("none"!==t&&a.insert(i),this.replayImageOrLabel_.apply(this,e)),s&&("none"!==_&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,r))}else this.replayImageOrLabel_.apply(this,r)}++d;break;case xO.DRAW_CHARS:const ie=n[1],oe=n[2],se=n[3],ae=n[4];T=n[5];const le=n[6],ce=n[7],ue=n[8];k=n[9];const he=n[10];S=n[11],Array.isArray(S)&&(S=S.reduce(GO,"")),M=n[12];const de=[n[13],n[13]];_=n[14]||"declutter";const fe=n[15],pe=this.textStates[M],me=pe.font,ge=[pe.scale[0]*ce,pe.scale[1]*ce];let _e;me in this.widths_?_e=this.widths_[me]:(_e={},this.widths_[me]=_e);const ye=JR(c,ie,oe,2),be=Math.abs(ge[0])*ar(me,S,_e);if(ae||be<=ye){const n=AO(c,ie,oe,2,S,(ye-be)*UO(S,this.textStates[M].textAlign),le,Math.abs(ge[0]),ar,me,_e,$?0:this.viewRotation_,fe);e:if(n){const r=[];let i,o,s,l,c;if(k)for(i=0,o=n.length;i<o;++i){c=n[i],s=c[4],l=this.createLabel(s,M,"",k),m=c[2]+(ge[0]<0?-he:he),g=se*l.height+2*(.5-se)*he*ge[1]/ge[0]-ue;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,m,g,0,0,c[3],de,!1,Kn,!1,O);if(a&&"declutter"===_&&a.collides(o.declutterBox))break e;r.push([e,t,l,o,1,null,null])}if(T)for(i=0,o=n.length;i<o;++i){c=n[i],s=c[4],l=this.createLabel(s,M,T,""),m=c[2],g=se*l.height-ue;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,m,g,0,0,c[3],de,!1,Kn,!1,O);if(a&&"declutter"===_&&a.collides(o.declutterBox))break e;r.push([e,t,l,o,1,null,null])}a&&"none"!==_&&a.load(r.map(jO));for(let e=0,t=r.length;e<t;++e)this.replayImageOrLabel_.apply(this,r[e])}}++d;break;case xO.END_GEOMETRY:if(void 0!==o){O=n[1];const e=o(O,N,_);if(e)return e}++d;break;case xO.FILL:R?L++:this.fill_(e),++d;break;case xO.MOVE_TO_LINE_TO:for(E=n[1],p=n[2],I=c[E],F=c[E+1],e.moveTo(I,F),y=I+.5|0,b=F+.5|0,E+=2;E<p;E+=2)I=c[E],F=c[E+1],v=I+.5|0,w=F+.5|0,E!=p-2&&v===y&&w===b||(e.lineTo(I,F),y=v,b=w);++d;break;case xO.SET_FILL_STYLE:this.alignAndScaleFill_=n[2],L&&(this.fill_(e),L=0,C&&(e.stroke(),C=0)),e.fillStyle=n[1],++d;break;case xO.SET_STROKE_STYLE:C&&(e.stroke(),C=0),this.setStrokeStyle_(e,n),++d;break;case xO.STROKE:R?C++:e.stroke(),++d;break;default:++d}}L&&this.fill_(e),C&&e.stroke()}execute(e,t,n,r,i,o){this.viewRotation_=r,this.execute_(e,t,n,this.instructions,i,void 0,void 0,o)}executeHitDetection(e,t,n,r,i){return this.viewRotation_=n,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,i)}},qO=["Polygon","Circle","LineString","Image","Text","Default"],BO=["Image","Text"],VO=qO.filter(e=>!BO.includes(e));const XO={};const KO=class{constructor(e,t,n,r,i,o,s){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(i,s)}clip(e,t){const n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}createExecutors_(e,t){for(const n in e){let r=this.executorsByZIndex_[n];void 0===r&&(r={},this.executorsByZIndex_[n]=r);const i=e[n];for(const e in i){const n=i[e];r[e]=new WO(this.resolution_,this.pixelRatio_,this.overlaps_,n,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const n=this.executorsByZIndex_[t];for(let t=0,r=e.length;t<r;++t)if(e[t]in n)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,r,i,o){const s=2*(r=Math.round(r))+1,a=pR(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Ke(s,s));const c=this.hitDetectionContext_;let u;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(u=[1/0,1/0,-1/0,-1/0],t$(u,e),HP(u,t*(this.renderBuffer_+r),u));const h=function(e){if(void 0!==XO[e])return XO[e];const t=2*e+1,n=e*e,r=new Array(n+1);for(let i=0;i<=e;++i)for(let o=0;o<=e;++o){const s=i*i+o*o;if(s>n)break;let a=r[s];a||(a=[],r[s]=a),a.push(4*((e+i)*t+(e+o))+3),i>0&&a.push(4*((e-i)*t+(e+o))+3),o>0&&(a.push(4*((e+i)*t+(e-o))+3),i>0&&a.push(4*((e-i)*t+(e-o))+3))}const i=[];for(let e=0,t=r.length;e<t;++e)r[e]&&i.push(...r[e]);return XO[e]=i,i}(r);let d;function f(e,t,n){const a=c.getImageData(0,0,s,s).data;for(let l=0,u=h.length;l<u;l++)if(a[h[l]]>0){if(!o||"none"===n||"Image"!==d&&"Text"!==d||o.includes(e)){const n=(h[l]-3)/4,o=r-n%s,a=r-(n/s|0),c=i(e,t,o*o+a*a);if(c)return c}c.clearRect(0,0,s,s);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);let m,g,_,y,b;for(p.sort(Xt),m=p.length-1;m>=0;--m){const e=p[m].toString();for(_=this.executorsByZIndex_[e],g=qO.length-1;g>=0;--g)if(d=qO[g],y=_[d],void 0!==y&&(b=y.executeHitDetection(c,a,n,f,u),b))return b}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const n=t[0],r=t[1],i=t[2],o=t[3],s=[n,r,n,o,i,o,i,r];return bR(s,0,8,2,e,s),s}isEmpty(){return cn(this.executorsByZIndex_)}execute(e,t,n,r,i,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(s?Kt:Xt),o=o||qO;const l=qO.length;for(let c=0,u=a.length;c<u;++c){const u=a[c].toString(),h=this.executorsByZIndex_[u];for(let u=0,d=o.length;u<d;++u){const d=o[u],f=h[d];if(void 0!==f){const o=null===s?void 0:f.getZIndexContext(),u=o?o.getContext():e,h=this.maxExtent_&&"Image"!==d&&"Text"!==d;if(h&&(u.save(),this.clip(u,n)),o&&"Text"!==d&&"Image"!==d?o.pushFunction(e=>f.execute(e,t,n,r,i,s)):f.execute(u,t,n,r,i,s),h&&u.restore(),o){o.offset();const e=a[c]*l+qO.indexOf(d);this.deferredZIndexContexts_[e]||(this.deferredZIndexContexts_[e]=[]),this.deferredZIndexContexts_[e].push(o)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Xt);for(let n=0,r=t.length;n<r;++n)e[t[n]].forEach(e=>{e.draw(this.renderedContext_),e.clear()}),e[t[n]].length=0}};function ZO(e,t,n,r){return void 0!==n&&void 0!==r?[n/e,r/t]:void 0!==n?n/e:void 0!==r?r/t:1}class JO extends dr{constructor(e){const t=void 0!==(e=e||{}).opacity?e.opacity:1,n=void 0!==e.rotation?e.rotation:0,r=void 0!==e.scale?e.scale:1,i=void 0!==e.rotateWithView&&e.rotateWithView;super({opacity:t,rotation:n,scale:r,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:i,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const o=void 0!==e.img?e.img:null;let s,a=e.src;if(Oe(!(void 0!==a&&o),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!o||(a=o.src||Pn(o)),Oe(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Oe(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?s=Ie:void 0!==o&&(s="complete"in o?o.complete?o.src?Ne:Ie:Fe:Ne),this.color_=void 0!==e.color?It(e.color):null,this.iconImage_=Sn(o,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,this.initialOptions_,void 0!==e.width||void 0!==e.height){let t,n;if(e.size)[t,n]=e.size;else{const r=this.getImage(1);if(r.width&&r.height)t=r.width,n=r.height;else if(r instanceof HTMLImageElement){this.initialOptions_=e;const t=()=>{if(this.unlistenImageChange(t),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(ZO(n[0],n[1],e.width,e.height))};return void this.listenImageChange(t)}}void 0!==t&&this.setScale(ZO(t,n,e.width,e.height))}}clone(){let e,t,n;return this.initialOptions_?(t=this.initialOptions_.width,n=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new JO({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]-t[0]/n[0],e[1]+t[1]/n[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=n[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}setSrc(e){this.iconImage_=Sn(null,e,this.crossOrigin_,Ie,this.color_)}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==Ne?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==Ne?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Nt,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Nt,e)}ready(){return this.iconImage_.ready()}}const QO=JO;class eI{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=ur(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new yr({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new eI({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()instanceof yr?this.getFill().clone():this.getFill(),stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=ur(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const tI=eI;const nI=class extends gO{constructor(e,t,n,r,i,o,s){super(),this.context_=e,this.pixelRatio_=t,this.extent_=n,this.transform_=r,this.transformRotation_=r?ft(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=i,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,n,r){if(!this.image_)return;const i=bR(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let e=0,t=i.length;e<t;e+=2){const t=i[e]-this.imageAnchorX_,n=i[e+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const e=t+this.imageAnchorX_,r=n+this.imageAnchorY_;pR(s,e,r,1,1,l,-e,-r),o.save(),o.transform.apply(o,s),o.translate(e,r),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,n,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(e,t,n,r){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const i=bR(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);t<n;t+=r){const e=i[t]+this.textOffsetX_,n=i[t+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(e-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,e,n),this.textFillState_&&o.fillText(this.text_,e,n))}}moveToLineTo_(e,t,n,r,i){const o=this.context_,s=bR(e,t,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;i&&(a-=2);for(let e=2;e<a;e+=2)o.lineTo(s[e],s[e+1]);return i&&o.closePath(),n}drawRings_(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t=this.moveToLineTo_(e,t,n[i],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_$(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function(e,t,n){const r=e.getFlatCoordinates();if(!r)return null;const i=e.getStride();return bR(r,0,r.length,i,t,n)}(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],r=t[3]-t[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){const n=t.getGeometryFunction()(e);n&&(this.setStyle(t),this.drawGeometry(n))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let e=0,n=t.length;e<n;++e)this.drawGeometry(t[e])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_$(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(_$(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();let r=0;const i=e.getEnds(),o=e.getStride();t.beginPath();for(let e=0,t=i.length;e<t;++e)r=this.moveToLineTo_(n,r,i[e],o,!1);t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_$(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_$(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getOrientedFlatCoordinates();let r=0;const i=e.getEndss(),o=e.getStride();t.beginPath();for(let e=0,t=i.length;e<t;++e){const t=i[e];r=this.drawRings_(n,r,t,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),tn(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,n=this.contextTextState_,r=e.textAlign?e.textAlign:Vn;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=r&&(n.textAlign=r,t.textAlign=r),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const t=e.getColor();this.fillState_={fillStyle:kn(t||zn)}}else this.fillState_=null;if(t){const e=t.getColor(),n=t.getLineCap(),r=t.getLineDash(),i=t.getLineDashOffset(),o=t.getLineJoin(),s=t.getWidth(),a=t.getMiterLimit(),l=r||Wn;this.strokeState_={lineCap:void 0!==n?n:Gn,lineDash:1===this.pixelRatio_?l:l.map(e=>e*this.pixelRatio_),lineDashOffset:(i||0)*this.pixelRatio_,lineJoin:void 0!==o?o:qn,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:kn(e||Bn)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize()))return void(this.image_=null);const n=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),i=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}setTextStyle(e){if(e){const t=e.getFill();if(t){const e=t.getColor();this.textFillState_={fillStyle:kn(e||zn)}}else this.textFillState_=null;const n=e.getStroke();if(n){const e=n.getColor(),t=n.getLineCap(),r=n.getLineDash(),i=n.getLineDashOffset(),o=n.getLineJoin(),s=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t?t:Gn,lineDash:r||Wn,lineDashOffset:i||0,lineJoin:void 0!==o?o:qn,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:kn(e||Bn)}}else this.textStrokeState_=null;const r=e.getFont(),i=e.getOffsetX(),o=e.getOffsetY(),s=e.getRotateWithView(),a=e.getRotation(),l=e.getScaleArray(),c=e.getText(),u=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:void 0!==r?r:Un,textAlign:void 0!==u?u:Vn,textBaseline:void 0!==h?h:Xn},this.text_=void 0!==c?Array.isArray(c)?c.reduce((e,t,n)=>e+(n%2?" ":t),""):c:"",this.textOffsetX_=void 0!==i?this.pixelRatio_*i:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},rI=.5;function iI(e,t,n,r,i,o,s,a,l){const c=l?eR(i,l):i,u=Ke(e[0]*rI,e[1]*rI);u.imageSmoothingEnabled=!1;const h=u.canvas,d=new nI(u,rI,i,null,s,a,l?WA(ZA(),l):null),f=n.length,p=Math.floor(16777215/f),m={};for(let e=1;e<=f;++e){const t=n[e-1],i=t.getStyleFunction()||r;if(!i)continue;let s=i(t,o);if(!s)continue;Array.isArray(s)||(s=[s]);const a=(e*p).toString(16).padStart(7,"#00000");for(let e=0,n=s.length;e<n;++e){const n=s[e],r=n.getGeometryFunction()(t);if(!r||!_$(c,r.getExtent()))continue;const i=n.clone(),o=i.getFill();o&&o.setColor(a);const l=i.getStroke();l&&(l.setColor(a),l.setLineDash(null)),i.setText(void 0);const u=n.getImage();if(u){const e=u.getImageSize();if(!e)continue;const t=Ke(e[0],e[1],void 0,{alpha:!1}),n=t.canvas;t.fillStyle=a,t.fillRect(0,0,n.width,n.height),i.setImage(new QO({img:n,anchor:u.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:u.getOrigin(),opacity:1,size:u.getSize(),scale:u.getScale(),rotation:u.getRotation(),rotateWithView:u.getRotateWithView()}))}const h=i.getZIndex()||0;let d=m[h];d||(d={},m[h]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const f=r.getType();if("GeometryCollection"===f){const e=r.getGeometriesArrayRecursive();for(let t=0,n=e.length;t<n;++t){const n=e[t];d[n.getType().replace("Multi","")].push(n,i)}}else d[f.replace("Multi","")].push(r,i)}}const g=Object.keys(m).map(Number).sort(Xt);for(let e=0,n=g.length;e<n;++e){const n=m[g[e]];for(const e in n){const r=n[e];for(let e=0,n=r.length;e<n;e+=2){d.setStyle(r[e+1]);for(let n=0,i=t.length;n<i;++n)d.setTransform(t[n]),d.drawGeometry(r[e])}}}return u.getImageData(0,0,h.width,h.height)}function oI(e,t,n){const r=[];if(n){const i=Math.floor(Math.round(e[0])*rI),o=Math.floor(Math.round(e[1])*rI),s=4*(st(i,0,n.width-1)+st(o,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],c=n.data[s+2]+256*(l+256*a),u=Math.floor(16777215/t.length);c&&c%u===0&&r.push(t[c/u-1])}return r}const sI={Point:function(e,t,n,r,i,o){const s=n.getImage(),a=n.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=Ne)return;const o=e.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,c),o.drawPoint(t,r,i)}if(l){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a,c),o.drawText(t,r,i)}},LineString:function(e,t,n,r,i){const o=n.getStroke();if(o){const s=e.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(t,r,i)}const s=n.getText();if(s&&s.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r,i)}},Polygon:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const a=e.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(t,r,i)}const a=n.getText();if(a&&a.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,r,i)}},MultiPoint:function(e,t,n,r,i,o){const s=n.getImage(),a=s&&0!==s.getOpacity(),l=n.getText(),c=l&&l.getText(),u=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=Ne)return;const o=e.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,u),o.drawMultiPoint(t,r,i)}if(c){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(l,u),o.drawText(t,r,i)}},MultiLineString:function(e,t,n,r,i){const o=n.getStroke();if(o){const s=e.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(t,r,i)}const s=n.getText();if(s&&s.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r,i)}},MultiPolygon:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(s||o){const a=e.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(t,r,i)}const a=n.getText();if(a&&a.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,r,i)}},GeometryCollection:function(e,t,n,r,i,o){const s=t.getGeometriesArray();let a,l;for(a=0,l=s.length;a<l;++a){(0,sI[s[a].getType()])(e,s[a],n,r,i,o)}},Circle:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const a=e.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(t,r,i)}const a=n.getText();if(a&&a.getText()){const i=e.getBuilder(n.getZIndex(),"Text");i.setTextStyle(a),i.drawText(t,r)}}};function aI(e,t){return parseInt(Pn(e),10)-parseInt(Pn(t),10)}function lI(e,t){const n=cI(e,t);return n*n}function cI(e,t){return.5*e/t}function uI(e,t,n,r,i,o,s,a){const l=[],c=n.getImage();if(c){let e=!0;const t=c.getImageState();t==Ne||t==Ye?e=!1:t==Ie&&c.load(),e&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>i(null)),function(e,t,n,r,i,o,s){const a=n.getGeometryFunction()(t);if(!a)return;const l=a.simplifyTransformed(r,i),c=n.getRenderer();if(c)hI(e,l,n,t,s);else{(0,sI[l.getType()])(e,l,n,t,s,o)}}(e,t,n,r,o,s,a),h}function hI(e,t,n,r,i){if("GeometryCollection"==t.getType()){const o=t.getGeometries();for(let t=0,s=o.length;t<s;++t)hI(e,o[t],n,r,i);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer(),i)}const dI=class extends un{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}};const fI=class extends Ln{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Cn()}getData(e){return null}prepareFrame(e){return Cn()}renderFrame(e,t){return Cn()}forEachFeatureAtCoordinate(e,t,n,r,i){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;t.getState()!==Ne&&t.getState()!==Ye||this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Ne&&t!=Ye&&e.addEventListener(Nt,this.boundHandleImageChange_),t==Ie&&(e.load(),t=e.getState()),t==Ne}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},pI=[];let mI=null;const gI=class extends fI{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,n){let r;mI||(mI=Ke(1,1,void 0,{willReadFrequently:!0})),mI.clearRect(0,0,1,1);try{mI.drawImage(e,t,n,1,1,0,0,1,1),r=mI.getImageData(0,0,1,1).data}catch{return mI=null,null}return r}getBackground(e){let t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let i,o;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&tn(It(e.style.backgroundColor),It(n)))){const t=e.firstElementChild;ot(t)&&(o=t.getContext("2d"))}if(o&&function(e,t){const n=yR(e),r=yR(t);for(let e=0;e<6;++e)if(0!==Math.round((n[e]-r[e])*gR[e]))return!1;return!0}(o.canvas.style.transform,t)?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){i=qe?it():document.createElement("div"),i.className=r;let e=i.style;e.position="absolute",e.width="100%",e.height="100%",o=Ke();const t=o.canvas;i.appendChild(t),e=t.style,e.position="absolute",e.left="0",e.transformOrigin="top left",this.container=i,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=p$(n),i=m$(n),o=a$(n),s=s$(n);hR(t.coordinateToPixelTransform,r),hR(t.coordinateToPixelTransform,i),hR(t.coordinateToPixelTransform,o),hR(t.coordinateToPixelTransform,s);const a=this.inversePixelTransform;hR(a,r),hR(a,i),hR(a,o),hR(a,s),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()}prepareContainer(e,t){const n=e.extent,r=e.viewState.resolution,i=e.viewState.rotation,o=e.pixelRatio,s=Math.round(g$(n)/r*o),a=Math.round(d$(n)/r*o);pR(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,i,-s/2,-a/2),mR(this.inversePixelTransform,this.pixelTransform);const l=_R(this.pixelTransform);if(this.useContainer(t,l,this.getBackground(e)),!this.containerReused){const e=this.context.canvas;e.width!=s||e.height!=a?(e.width=s,e.height=a):this.context.clearRect(0,0,s,a),l!==e.style.transform&&(e.style.transform=l)}}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const i=new dI(e,this.inversePixelTransform,n,t);r.dispatchEvent(i)}}preRender(e,t){this.frameState=t,t.declutter||this.dispatchRenderEvent_(hO,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(dO,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new RO),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(hO,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(dO,this.context,e))}getRenderTransform(e,t,n,r,i,o,s){const a=i/2,l=o/2,c=r/t,u=-c,h=-e[0]+s,d=-e[1];return pR(this.tempTransform,a,l,c,u,-n,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}};const _I=class extends gI{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,n){const r=t.extent,i=t.viewState,o=i.center,s=i.resolution,a=i.projection,l=i.rotation,c=a.getExtent(),u=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),d=t.pixelRatio,f=t.viewHints,p=!(f[cO]||f[uO]),m=this.context,g=Math.round(g$(r)/s*d),_=Math.round(d$(r)/s*d),y=u.getWrapX()&&a.canWrapX(),b=y?g$(c):null,v=y?Math.ceil((r[2]-c[2])/b)+1:1;let w=y?Math.floor((r[0]-c[0])/b):0;do{let r=this.getRenderTransform(o,s,0,d,g,_,w*b);t.declutter&&(r=r.slice(0)),e.execute(m,[m.canvas.width,m.canvas.height],r,l,p,void 0===n?qO:n?BO:VO,n?h&&t.declutter[h]:void 0)}while(++w<v)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=Ke(this.context.canvas.width,this.context.canvas.height,pI))}resetDrawContext_(){if(1!==this.opacity_&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Qe(this.context),pI.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex];this.opacity_=n.opacity;const r=e.viewState;this.prepareContainer(e,t);const i=this.context,o=this.replayGroup_;let s=o&&!o.isEmpty();if(!s){if(!(this.getLayer().hasListener(hO)||this.getLayer().hasListener(dO)))return this.container}this.setDrawContext_(),this.preRender(i,e);const a=r.projection;if(this.clipped_=!1,s&&n.extent&&this.clipping){const t=tR(n.extent,a);s=_$(t,e.extent),this.clipped_=s&&!WP(t,e.extent),this.clipped_&&this.clipUnrotated(i,e,t)}return s&&this.renderWorlds(o,e,!this.getLayer().getDeclutter()&&void 0),!e.declutter&&this.clipped_&&i.restore(),this.postRender(i,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const e=this.frameState.size.slice(),t=this.renderedCenter_,n=this.renderedResolution_,r=this.renderedRotation_,i=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=e[0]*rI,c=e[1]*rI;a.push(this.getRenderTransform(t,n,r,rI,l,c,0).slice());const u=s.getSource(),h=i.getExtent();if(u.getWrapX()&&i.canWrapX()&&!WP(h,o)){let e=o[0];const i=g$(h);let s,u=0;for(;e<h[0];)--u,s=i*u,a.push(this.getRenderTransform(t,n,r,rI,l,c,s).slice()),e+=i;for(u=0,e=o[2];e>h[2];)++u,s=i*u,a.push(this.getRenderTransform(t,n,r,rI,l,c,s).slice()),e-=i}const d=ZA();this.hitDetectionImageData_=iI(e,a,this.renderedFeatures_,s.getStyleFunction(),o,n,r,lI(n,this.renderedPixelRatio_),d?i:null)}t(oI(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,n,r,i){if(!this.replayGroup_)return;const o=t.viewState.resolution,s=t.viewState.rotation,a=this.getLayer(),l={},c=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,o,s,n,function(e,t,n){const o=Pn(e),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,i.splice(i.lastIndexOf(s),1),r(e,a,t);s.geometry=t,s.distanceSq=n}}else{if(0===n)return l[o]=!0,r(e,a,t);i.push(l[o]={feature:e,layer:a,geometry:t,distanceSq:n,callback:r})}},c?t.declutter?.[c]?.all().map(e=>e.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const r=e.viewHints[cO],i=e.viewHints[uO],o=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!s&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=e.extent,l=e.viewState,c=l.projection,u=l.resolution,h=e.pixelRatio,d=t.getRevision(),f=t.getRenderBuffer();let p=t.getRenderOrder();void 0===p&&(p=aI);const m=l.center.slice(),g=HP(a,f*u),_=g.slice(),y=[g.slice()],b=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!WP(b,e.extent)){const e=g$(b),t=Math.max(g$(g)/2,e);g[0]=b[0]-t,g[2]=b[2]+t,A$(m,c);const n=v$(y[0],c);n[0]<b[0]&&n[2]<b[2]?y.push([n[0]+e,n[1],n[2]+e,n[3]]):n[0]>b[0]&&n[2]>b[2]&&y.push([n[0]-e,n[1],n[2]-e,n[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!e.declutter&&WP(this.wrappedRenderedExtent_,g))return tn(this.renderedExtent_,_)||(this.hitDetectionImageData_=null,this.renderedExtent_=_),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const v=new $O(cI(u,h),g,u,h),w=ZA();let x;if(w){for(let e=0,t=y.length;e<t;++e){const t=eR(y[e],c);n.loadFeatures(t,nR(u,c),w)}x=WA(w,c)}else for(let e=0,t=y.length;e<t;++e)n.loadFeatures(y[e],u,c);const S=lI(u,h);let M=!0;const k=(e,n)=>{let r;const i=e.getStyleFunction()||t.getStyleFunction();if(i&&(r=i(e,u)),r){const t=this.renderFeature(e,S,r,v,x,this.getLayer().getDeclutter(),n);M=M&&!t}},T=eR(g,c),E=n.getFeaturesInExtent(T);p&&E.sort(p);for(let e=0,t=E.length;e<t;++e)k(E[e],e);this.renderedFeatures_=E,this.ready=M;const L=v.finish(),C=new KO(g,u,h,n.getOverlaps(),L,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=_,this.wrappedRenderedExtent_=g,this.renderedCenter_=m,this.renderedProjection_=c,this.renderedPixelRatio_=h,this.replayGroup_=C,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,r,i,o,s){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,c=n.length;l<c;++l)a=uI(r,e,n[l],t,this.boundHandleStyleImageChange_,i,o,s)||a;else a=uI(r,e,n,t,this.boundHandleStyleImageChange_,i,o,s);return a}};function yI(e,t,n=0,r=e.length-1,i=vI){for(;r>n;){if(r-n>600){const o=r-n+1,s=t-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);yI(e,t,Math.max(n,Math.floor(t-s*l/o+c)),Math.min(r,Math.floor(t+(o-s)*l/o+c)),i)}const o=e[t];let s=n,a=r;for(bI(e,n,t),i(e[r],o)>0&&bI(e,n,r);s<a;){for(bI(e,s,a),s++,a--;i(e[s],o)<0;)s++;for(;i(e[a],o)>0;)a--}0===i(e[n],o)?bI(e,n,a):(a++,bI(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}}function bI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vI(e,t){return e<t?-1:e>t?1:0}class wI{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!AI(e,t))return n;const r=this.toBBox,i=[];for(;t;){for(let o=0;o<t.children.length;o++){const s=t.children[o],a=t.leaf?r(s):s;AI(e,a)&&(t.leaf?n.push(s):$I(e,a)?this._all(s,n):i.push(s))}t=i.pop()}return n}collides(e){let t=this.data;if(!AI(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const i=t.children[r],o=t.leaf?this.toBBox(i):i;if(AI(e,o)){if(t.leaf||$I(e,o))return!0;n.push(i)}}t=n.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=RI([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),i=[],o=[];let s,a,l;for(;n||i.length;){if(n||(n=i.pop(),a=i[i.length-1],s=o.pop(),l=!0),n.leaf){const r=xI(e,n.children,t);if(-1!==r)return n.children.splice(r,1),i.push(n),this._condense(i),this}l||n.leaf||!$I(n,r)?a?(s++,n=a.children[s],l=!1):n=null:(i.push(n),o.push(s),s=0,a=n,n=n.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const i=n-t+1;let o,s=this._maxEntries;if(i<=s)return o=RI(e.slice(t,n+1)),SI(o,this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),o=RI([]),o.leaf=!1,o.height=r;const a=Math.ceil(i/s),l=a*Math.ceil(Math.sqrt(s));OI(e,t,n,l,this.compareMinX);for(let i=t;i<=n;i+=l){const t=Math.min(i+l-1,n);OI(e,i,t,a,this.compareMinY);for(let n=i;n<=t;n+=a){const i=Math.min(n+a-1,t);o.children.push(this._build(e,n,i,r-1))}}return SI(o,this.toBBox),o}_chooseSubtree(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let o=0;o<t.children.length;o++){const s=t.children[o],a=LI(s),l=DI(e,s)-a;l<i?(i=l,r=a<r?a:r,n=s):l===i&&a<r&&(r=a,n=s)}t=n||t.children[0]}return t}_insert(e,t,n){const r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),kI(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)}_split(e,t){const n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const o=this._chooseSplitIndex(n,i,r),s=RI(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,SI(n,this.toBBox),SI(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)}_splitRoot(e,t){this.data=RI([e,t]),this.data.height=e.height+1,this.data.leaf=!1,SI(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,i=1/0,o=1/0;for(let s=t;s<=n-t;s++){const t=MI(e,0,s,this.toBBox),a=MI(e,s,n,this.toBBox),l=PI(t,a),c=LI(t)+LI(a);l<i?(i=l,r=s,o=c<o?c:o):l===i&&c<o&&(o=c,r=s)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:TI,i=e.leaf?this.compareMinY:EI;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const i=this.toBBox,o=MI(e,0,t,i),s=MI(e,n-t,n,i);let a=CI(o)+CI(s);for(let r=t;r<n-t;r++){const t=e.children[r];kI(o,e.leaf?i(t):t),a+=CI(o)}for(let r=n-t-1;r>=t;r--){const t=e.children[r];kI(s,e.leaf?i(t):t),a+=CI(s)}return a}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)kI(t[r],e)}_condense(e){for(let t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children,t.splice(t.indexOf(e[n]),1)):this.clear():SI(e[n],this.toBBox)}}function xI(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function SI(e,t){MI(e,0,e.children.length,t,e)}function MI(e,t,n,r,i){i||(i=RI(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=t;o<n;o++){const t=e.children[o];kI(i,e.leaf?r(t):t)}return i}function kI(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function TI(e,t){return e.minX-t.minX}function EI(e,t){return e.minY-t.minY}function LI(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function CI(e){return e.maxX-e.minX+(e.maxY-e.minY)}function DI(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function PI(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function $I(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function AI(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function RI(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function OI(e,t,n,r,i){const o=[t,n];for(;o.length;){if((n=o.pop())-(t=o.pop())<=r)continue;const s=t+Math.ceil((n-t)/r/2)*r;yI(e,s,t,n,i),o.push(t,s,s,n)}}let II=0;const FI=1<<II++,NI=1<<II++,YI=1<<II++,jI=1<<II++,HI=1<<II++,UI=1<<II++,zI=Math.pow(2,6)-1,GI={[FI]:"boolean",[NI]:"number",[YI]:"string",[jI]:"color",[HI]:"number[]",[UI]:"size"},WI=Object.keys(GI).map(Number).sort(Xt);function qI(e){const t=[];for(const n of WI)BI(e,n)&&t.push(GI[n]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function BI(e,t){return(e&t)===t}function VI(e,t){return e===t}class XI{constructor(e,t){if(!function(e){return e in GI}(e))throw new Error(`literal expressions must have a specific type, got ${qI(e)}`);this.type=e,this.value=t}}class KI{constructor(e,t,...n){this.type=e,this.operator=t,this.args=n}}function ZI(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function JI(e,t,n){switch(typeof e){case"boolean":if(VI(t,YI))return new XI(YI,e?"true":"false");if(!BI(t,FI))throw new Error(`got a boolean, but expected ${qI(t)}`);return new XI(FI,e);case"number":if(VI(t,UI))return new XI(UI,ur(e));if(VI(t,FI))return new XI(FI,!!e);if(VI(t,YI))return new XI(YI,e.toString());if(!BI(t,NI))throw new Error(`got a number, but expected ${qI(t)}`);return new XI(NI,e);case"string":if(VI(t,jI))return new XI(jI,Ot(e));if(VI(t,FI))return new XI(FI,!!e);if(!BI(t,YI))throw new Error(`got a string, but expected ${qI(t)}`);return new XI(YI,e)}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(0===e.length)throw new Error("empty expression");if("string"==typeof e[0])return function(e,t,n){const r=e[0],i=qF[r];if(!i)throw new Error(`unknown operator: ${r}`);return i(e,t,n)}(e,t,n);for(const t of e)if("number"!=typeof t)throw new Error("expected an array of numbers");if(VI(t,UI)){if(2!==e.length)throw new Error(`expected an array of two values for a size, got ${e.length}`);return new XI(UI,e)}if(VI(t,jI)){if(3===e.length)return new XI(jI,[...e,1]);if(4===e.length)return new XI(jI,e);throw new Error(`expected an array of 3 or 4 values for a color, got ${e.length}`)}if(!BI(t,HI))throw new Error(`got an array of numbers, but expected ${qI(t)}`);return new XI(HI,e)}const QI="get",eF="var",tF="concat",nF="geometry-type",rF="line-metric",iF="any",oF="all",sF="!",aF="resolution",lF="zoom",cF="time",uF="==",hF="!=",dF=">",fF=">=",pF="<",mF="<=",gF="*",_F="/",yF="+",bF="-",vF="clamp",wF="%",xF="^",SF="abs",MF="floor",kF="ceil",TF="round",EF="sin",LF="cos",CF="atan",DF="sqrt",PF="match",$F="between",AF="interpolate",RF="coalesce",OF="case",IF="in",FF="number",NF="string",YF="array",jF="color",HF="id",UF="band",zF="palette",GF="to-string",WF="has",qF={[QI]:eN(KF(1,1/0),BF),[eF]:eN(KF(1,1),function(e,t,n){const r=e[1];if("string"!=typeof r)throw new Error("expected a string argument for var operation");return n.variables.add(r),[new XI(YI,r)]}),[WF]:eN(KF(1,1/0),BF),[HF]:eN(function(e,t,n){n.featureId=!0},XF),[tF]:eN(KF(2,1/0),JF(YI)),[nF]:eN(function(e,t,n){n.geometryType=!0},XF),[rF]:eN(XF),[aF]:eN(VF,XF),[lF]:eN(VF,XF),[cF]:eN(VF,XF),[iF]:eN(KF(2,1/0),JF(FI)),[oF]:eN(KF(2,1/0),JF(FI)),[sF]:eN(KF(1,1),JF(FI)),[uF]:eN(KF(2,2),JF(zI)),[hF]:eN(KF(2,2),JF(zI)),[dF]:eN(KF(2,2),JF(NI)),[fF]:eN(KF(2,2),JF(NI)),[pF]:eN(KF(2,2),JF(NI)),[mF]:eN(KF(2,2),JF(NI)),[gF]:eN(KF(2,1/0),ZF),[RF]:eN(KF(2,1/0),ZF),[_F]:eN(KF(2,2),JF(NI)),[yF]:eN(KF(2,1/0),JF(NI)),[bF]:eN(KF(2,2),JF(NI)),[vF]:eN(KF(3,3),JF(NI)),[wF]:eN(KF(2,2),JF(NI)),[xF]:eN(KF(2,2),JF(NI)),[SF]:eN(KF(1,1),JF(NI)),[MF]:eN(KF(1,1),JF(NI)),[kF]:eN(KF(1,1),JF(NI)),[TF]:eN(KF(1,1),JF(NI)),[EF]:eN(KF(1,1),JF(NI)),[LF]:eN(KF(1,1),JF(NI)),[CF]:eN(KF(1,2),JF(NI)),[DF]:eN(KF(1,1),JF(NI)),[PF]:eN(KF(4,1/0),QF,function(e,t,n){const r=e.length-1,i=YI|NI|FI,o=JI(e[1],i,n),s=JI(e[e.length-1],t,n),a=new Array(r-2);for(let t=0;t<r-2;t+=2){try{const r=JI(e[t+2],o.type,n);a[t]=r}catch(e){throw new Error(`failed to parse argument ${t+1} of match expression: ${e.message}`)}try{const r=JI(e[t+3],s.type,n);a[t+1]=r}catch(e){throw new Error(`failed to parse argument ${t+2} of match expression: ${e.message}`)}}return[o,...a,s]}),[$F]:eN(KF(3,3),JF(NI)),[AF]:eN(KF(6,1/0),QF,function(e,t,n){const r=e[1];let i;switch(r[0]){case"linear":i=1;break;case"exponential":const e=r[1];if("number"!=typeof e||e<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(e)} instead`);i=e;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(r)}`)}const o=new XI(NI,i);let s;try{s=JI(e[2],NI,n)}catch(e){throw new Error(`failed to parse argument 1 in interpolate expression: ${e.message}`)}const a=new Array(e.length-3);for(let r=0;r<a.length;r+=2){try{const t=JI(e[r+3],NI,n);a[r]=t}catch(e){throw new Error(`failed to parse argument ${r+2} for interpolate expression: ${e.message}`)}try{const i=JI(e[r+4],t,n);a[r+1]=i}catch(e){throw new Error(`failed to parse argument ${r+3} for interpolate expression: ${e.message}`)}}return[o,s,...a]}),[OF]:eN(KF(3,1/0),function(e,t,n){const r=e[0],i=e.length-1;if(i%2==0)throw new Error(`expected an odd number of arguments for ${r}, got ${i} instead`)},function(e,t,n){const r=JI(e[e.length-1],t,n),i=new Array(e.length-1);for(let t=0;t<i.length-1;t+=2){try{const r=JI(e[t+1],FI,n);i[t]=r}catch(e){throw new Error(`failed to parse argument ${t} of case expression: ${e.message}`)}try{const o=JI(e[t+2],r.type,n);i[t+1]=o}catch(e){throw new Error(`failed to parse argument ${t+1} of case expression: ${e.message}`)}}return i[i.length-1]=r,i}),[IF]:eN(KF(2,2),function(e,t,n){let r,i=e[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');if("string"==typeof i[0]){if("literal"!==i[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=YI}else r=NI;const o=new Array(i.length);for(let e=0;e<o.length;e++)try{const t=JI(i[e],r,n);o[e]=t}catch(t){throw new Error(`failed to parse haystack item ${e} for "in" expression: ${t.message}`)}const s=JI(e[1],r,n);return[s,...o]}),[FF]:eN(KF(1,1/0),JF(zI)),[NF]:eN(KF(1,1/0),JF(zI)),[YF]:eN(KF(1,1/0),JF(NI)),[jF]:eN(KF(1,4),JF(NI)),[UF]:eN(KF(1,3),JF(NI)),[zF]:eN(KF(2,2),function(e,t,n){let r;try{r=JI(e[1],NI,n)}catch(e){throw new Error(`failed to parse first argument in palette expression: ${e.message}`)}const i=e[2];if(!Array.isArray(i))throw new Error("the second argument of palette must be an array");const o=new Array(i.length);for(let e=0;e<o.length;e++){let t;try{t=JI(i[e],jI,n)}catch(t){throw new Error(`failed to parse color at index ${e} in palette expression: ${t.message}`)}if(!(t instanceof XI))throw new Error(`the palette color at index ${e} must be a literal value`);o[e]=t}return[r,...o]}),[GF]:eN(KF(1,1),JF(FI|NI|YI|jI))};function BF(e,t,n){const r=e.length-1,i=new Array(r);for(let t=0;t<r;++t){const r=e[t+1];switch(typeof r){case"number":i[t]=new XI(NI,r);break;case"string":i[t]=new XI(YI,r);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${r}`)}0===t&&n.properties.add(String(r))}return i}function VF(e,t,n){n.mapState=!0}function XF(e,t,n){const r=e[0];if(1!==e.length)throw new Error(`expected no arguments for ${r} operation`);return[]}function KF(e,t){return function(n,r,i){const o=n[0],s=n.length-1;if(e===t){if(s!==e){throw new Error(`expected ${e} argument${1===e?"":"s"} for ${o}, got ${s}`)}}else if(s<e||s>t){throw new Error(`expected ${t===1/0?`${e} or more`:`${e} to ${t}`} arguments for ${o}, got ${s}`)}}}function ZF(e,t,n){const r=e.length-1,i=new Array(r);for(let o=0;o<r;++o){const r=JI(e[o+1],t,n);i[o]=r}return i}function JF(e){return function(t,n,r){const i=t.length-1,o=new Array(i);for(let n=0;n<i;++n){const i=JI(t[n+1],e,r);o[n]=i}return o}}function QF(e,t,n){const r=e[0],i=e.length-1;if(i%2==1)throw new Error(`expected an even number of arguments for operation ${r}, got ${i} instead`)}function eN(...e){return function(t,n,r){const i=t[0];let o;for(let i=0;i<e.length;i++){const s=e[i](t,n,r);if(i==e.length-1){if(!s)throw new Error("expected last argument validator to return the parsed args");o=s}}return new KI(n,i,...o)}}function tN(e){if(!e)return"";const t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return tN(e.getGeometries()[0]);default:return""}}function nN(e,t,n){return rN(JI(e,t,n),n)}function rN(e,t){if(e instanceof XI){if(e.type===jI&&"string"==typeof e.value){const t=Ot(e.value);return function(){return t}}return function(){return e.value}}const n=e.operator;switch(n){case FF:case NF:case RF:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=rN(e.args[n],t);switch(n){case RF:return e=>{for(let t=0;t<r;++t){const n=i[t](e);if(null!=n)return n}throw new Error("Expected one of the values to be non-null")};case FF:case NF:return e=>{for(let t=0;t<r;++t){const r=i[t](e);if(typeof r===n)return r}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}(e,t);case QI:case eF:case WF:return function(e){const t=e.args[0],n=t.value;switch(e.operator){case QI:return t=>{const r=e.args;let i=t.properties[n];for(let e=1,t=r.length;e<t;++e){i=i[r[e].value]}return i};case eF:return e=>e.variables[n];case WF:return t=>{const r=e.args;if(!(n in t.properties))return!1;let i=t.properties[n];for(let e=1,t=r.length;e<t;++e){const t=r[e].value;if(!i||!Object.hasOwn(i,t))return!1;i=i[t]}return!0};default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}(e);case HF:return e=>e.featureId;case nF:return e=>e.geometryType;case tF:{const n=e.args.map(e=>rN(e,t));return e=>"".concat(...n.map(t=>t(e).toString()))}case aF:return e=>e.resolution;case iF:case oF:case $F:case IF:case sF:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=rN(e.args[n],t);switch(n){case iF:return e=>{for(let t=0;t<r;++t)if(i[t](e))return!0;return!1};case oF:return e=>{for(let t=0;t<r;++t)if(!i[t](e))return!1;return!0};case $F:return e=>{const t=i[0](e),n=i[1](e),r=i[2](e);return t>=n&&t<=r};case IF:return e=>{const t=i[0](e);for(let n=1;n<r;++n)if(t===i[n](e))return!0;return!1};case sF:return e=>!i[0](e);default:throw new Error(`Unsupported logical operator ${n}`)}}(e,t);case uF:case hF:case pF:case mF:case dF:case fF:return function(e,t){const n=e.operator,r=rN(e.args[0],t),i=rN(e.args[1],t);switch(n){case uF:return e=>r(e)===i(e);case hF:return e=>r(e)!==i(e);case pF:return e=>r(e)<i(e);case mF:return e=>r(e)<=i(e);case dF:return e=>r(e)>i(e);case fF:return e=>r(e)>=i(e);default:throw new Error(`Unsupported comparison operator ${n}`)}}(e,t);case gF:case _F:case yF:case bF:case vF:case wF:case xF:case SF:case MF:case kF:case TF:case EF:case LF:case CF:case DF:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=rN(e.args[n],t);switch(n){case gF:return e=>{let t=1;for(let n=0;n<r;++n)t*=i[n](e);return t};case _F:return e=>i[0](e)/i[1](e);case yF:return e=>{let t=0;for(let n=0;n<r;++n)t+=i[n](e);return t};case bF:return e=>i[0](e)-i[1](e);case vF:return e=>{const t=i[0](e),n=i[1](e);if(t<n)return n;const r=i[2](e);return t>r?r:t};case wF:return e=>i[0](e)%i[1](e);case xF:return e=>Math.pow(i[0](e),i[1](e));case SF:return e=>Math.abs(i[0](e));case MF:return e=>Math.floor(i[0](e));case kF:return e=>Math.ceil(i[0](e));case TF:return e=>Math.round(i[0](e));case EF:return e=>Math.sin(i[0](e));case LF:return e=>Math.cos(i[0](e));case CF:return 2===r?e=>Math.atan2(i[0](e),i[1](e)):e=>Math.atan(i[0](e));case DF:return e=>Math.sqrt(i[0](e));default:throw new Error(`Unsupported numeric operator ${n}`)}}(e,t);case OF:return function(e,t){const n=e.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=rN(e.args[i],t);return e=>{for(let t=0;t<n-1;t+=2){if(r[t](e))return r[t+1](e)}return r[n-1](e)}}(e,t);case PF:return function(e,t){const n=e.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=rN(e.args[i],t);return e=>{const t=r[0](e);for(let i=1;i<n-1;i+=2)if(t===r[i](e))return r[i+1](e);return r[n-1](e)}}(e,t);case AF:return function(e,t){const n=e.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=rN(e.args[i],t);return e=>{const t=r[0](e),i=r[1](e);let o,s;for(let a=2;a<n;a+=2){const n=r[a](e);let l=r[a+1](e);const c=Array.isArray(l);if(c&&(l=Ct(l)),n>=i)return 2===a?l:c?oN(t,i,o,s,n,l):iN(t,i,o,s,n,l);o=n,s=l}return s}}(e,t);case GF:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=rN(e.args[n],t);if(n===GF)return t=>{const n=i[0](t);return e.args[0].type===jI?Ft(n):n.toString()};throw new Error(`Unsupported convert operator ${n}`)}(e,t);default:throw new Error(`Unsupported operator ${n}`)}}function iN(e,t,n,r,i,o){const s=i-n;if(0===s)return r;const a=t-n;return r+(1===e?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1))*(o-r)}function oN(e,t,n,r,i,o){if(0===i-n)return r;const s=Rt(r),a=Rt(o);let l=a[2]-s[2];l>180?l-=360:l<-180&&(l+=360);return function(e){const t=(e[0]+16)/116,n=e[1],r=e[2]*Math.PI/180,i=Pt(t),o=Pt(t+n/500*Math.cos(r)),s=Pt(t-n/200*Math.sin(r)),a=Dt(3.021973625*o-1.617392459*i-.404875592*s),l=Dt(-.943766287*o+1.916279586*i+.027607165*s),c=Dt(.069407491*o-.22898585*i+1.159737864*s);return[st(a+.5|0,0,255),st(l+.5|0,0,255),st(c+.5|0,0,255),e[3]]}([iN(e,t,n,s[0],i,a[0]),iN(e,t,n,s[1],i,a[1]),s[2]+iN(e,t,n,0,i,l),iN(e,t,n,r[3],i,o[3])])}function sN(e){return!0}function aN(e){const t=ZI(),n=function(e,t){const n=e.length,r=new Array(n);for(let i=0;i<n;++i){const n=e[i],o="filter"in n?nN(n.filter,FI,t):sN;let s;if(Array.isArray(n.style)){const e=n.style.length;s=new Array(e);for(let r=0;r<e;++r)s[r]=cN(n.style[r],t)}else s=[cN(n.style,t)];r[i]={filter:o,styles:s}}return function(t){const i=[];let o=!1;for(let s=0;s<n;++s){if((0,r[s].filter)(t)&&(!e[s].else||!o)){o=!0;for(const e of r[s].styles){const n=e(t);n&&i.push(n)}}}return i}}(e,t),r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(e,i){if(r.properties=e.getPropertiesInternal(),r.resolution=i,t.featureId){const t=e.getId();r.featureId=void 0!==t?t:null}return t.geometryType&&(r.geometryType=tN(e.getGeometry())),n(r)}}function lN(e){const t=ZI(),n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=cN(e[i],t);const i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(e,s){if(i.properties=e.getPropertiesInternal(),i.resolution=s,t.featureId){const t=e.getId();i.featureId=void 0!==t?t:null}let a=0;for(let e=0;e<n;++e){const t=r[e](i);t&&(o[a]=t,a+=1)}return o.length=a,o}}function cN(e,t){const n=uN(e,"",t),r=hN(e,"",t),i=function(e,t){const n="text-",r=fN(e,n+"value",t);if(!r)return null;const i=uN(e,n,t),o=uN(e,n+"background-",t),s=hN(e,n,t),a=hN(e,n+"background-",t),l=fN(e,n+"font",t),c=dN(e,n+"max-angle",t),u=dN(e,n+"offset-x",t),h=dN(e,n+"offset-y",t),d=pN(e,n+"overflow",t),f=fN(e,n+"placement",t),p=dN(e,n+"repeat",t),m=bN(e,n+"scale",t),g=pN(e,n+"rotate-with-view",t),_=dN(e,n+"rotation",t),y=fN(e,n+"align",t),b=fN(e,n+"justify",t),v=fN(e,n+"baseline",t),w=pN(e,n+"keep-upright",t),x=gN(e,n+"padding",t),S=SN(e,n+"declutter-mode"),M=new tI({declutterMode:S});return function(e){if(M.setText(r(e)),i&&M.setFill(i(e)),o&&M.setBackgroundFill(o(e)),s&&M.setStroke(s(e)),a&&M.setBackgroundStroke(a(e)),l&&M.setFont(l(e)),c&&M.setMaxAngle(c(e)),u&&M.setOffsetX(u(e)),h&&M.setOffsetY(h(e)),d&&M.setOverflow(d(e)),f){const t=f(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");M.setPlacement(t)}if(p&&M.setRepeat(p(e)),m&&M.setScale(m(e)),g&&M.setRotateWithView(g(e)),_&&M.setRotation(_(e)),y){const t=y(e);if("left"!==t&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw new Error("Expected left, right, center, start, or end for text-align");M.setTextAlign(t)}if(b){const t=b(e);if("left"!==t&&"right"!==t&&"center"!==t)throw new Error("Expected left, right, or center for text-justify");M.setJustify(t)}if(v){const t=v(e);if("bottom"!==t&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");M.setTextBaseline(t)}return x&&M.setPadding(x(e)),w&&M.setKeepUpright(w(e)),M}}(e,t),o=function(e,t){if("icon-src"in e)return function(e,t){const n="icon-",r=n+"src",i=kN(e[r],r),o=_N(e,n+"anchor",t),s=bN(e,n+"scale",t),a=dN(e,n+"opacity",t),l=_N(e,n+"displacement",t),c=dN(e,n+"rotation",t),u=pN(e,n+"rotate-with-view",t),h=wN(e,n+"anchor-origin"),d=xN(e,n+"anchor-x-units"),f=xN(e,n+"anchor-y-units"),p=function(e,t){const n=e[t];if(void 0===n)return;return EN(n,t)}(e,n+"color"),m=function(e,t){const n=e[t];if(void 0===n)return;if("string"!=typeof n)throw new Error(`Expected a string for ${t}`);return n}(e,n+"cross-origin"),g=function(e,t){const n=e[t];if(void 0===n)return;return MN(n,t)}(e,n+"offset"),_=wN(e,n+"offset-origin"),y=vN(e,n+"width"),b=vN(e,n+"height"),v=function(e,t){const n=e[t];if(void 0===n)return;if("number"==typeof n)return ur(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])throw new Error(`Expected a number or size array for ${t}`);return n}(e,n+"size"),w=SN(e,n+"declutter-mode"),x=new QO({src:i,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:p,crossOrigin:m,offset:g,offsetOrigin:_,height:b,width:y,size:v,declutterMode:w});return function(e){return a&&x.setOpacity(a(e)),l&&x.setDisplacement(l(e)),c&&x.setRotation(c(e)),u&&x.setRotateWithView(u(e)),s&&x.setScale(s(e)),o&&x.setAnchor(o(e)),x}}(e,t);if("shape-points"in e)return function(e,t){const n="shape-",r=n+"points",i=n+"radius",o=TN(e[r],r),s=TN(e[i],i),a=uN(e,n,t),l=hN(e,n,t),c=bN(e,n+"scale",t),u=_N(e,n+"displacement",t),h=dN(e,n+"rotation",t),d=pN(e,n+"rotate-with-view",t),f=vN(e,n+"radius2"),p=vN(e,n+"angle"),m=SN(e,n+"declutter-mode"),g=new pr({points:o,radius:s,radius2:f,angle:p,declutterMode:m});return function(e){return a&&g.setFill(a(e)),l&&g.setStroke(l(e)),u&&g.setDisplacement(u(e)),h&&g.setRotation(h(e)),d&&g.setRotateWithView(d(e)),c&&g.setScale(c(e)),g}}(e,t);if("circle-radius"in e)return function(e,t){const n="circle-",r=uN(e,n,t),i=hN(e,n,t),o=dN(e,n+"radius",t),s=bN(e,n+"scale",t),a=_N(e,n+"displacement",t),l=dN(e,n+"rotation",t),c=pN(e,n+"rotate-with-view",t),u=SN(e,n+"declutter-mode"),h=new gr({radius:5,declutterMode:u});return function(e){return o&&h.setRadius(o(e)),r&&h.setFill(r(e)),i&&h.setStroke(i(e)),a&&h.setDisplacement(a(e)),l&&h.setRotation(l(e)),c&&h.setRotateWithView(c(e)),s&&h.setScale(s(e)),h}}(e,t);return null}(e,t),s=dN(e,"z-index",t);if(!(n||r||i||o||cn(e)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new Er;return function(e){let t=!0;if(n){const r=n(e);r&&(t=!1),a.setFill(r)}if(r){const n=r(e);n&&(t=!1),a.setStroke(n)}if(i){const n=i(e);n&&(t=!1),a.setText(n)}if(o){const n=o(e);n&&(t=!1),a.setImage(n)}return s&&a.setZIndex(s(e)),t?null:a}}function uN(e,t,n){let r;if(t+"fill-pattern-src"in e)r=function(e,t,n){const r=fN(e,t+"pattern-src",n),i=yN(e,t+"pattern-offset",n),o=yN(e,t+"pattern-size",n),s=mN(e,t+"color",n);return function(e){return{src:r(e),offset:i&&i(e),size:o&&o(e),color:s&&s(e)}}}(e,t+"fill-",n);else{if("none"===e[t+"fill-color"])return e=>null;r=mN(e,t+"fill-color",n)}if(!r)return null;const i=new yr;return function(e){const t=r(e);return t===yt?null:(i.setColor(t),i)}}function hN(e,t,n){const r=dN(e,t+"stroke-width",n),i=mN(e,t+"stroke-color",n);if(!r&&!i)return null;const o=fN(e,t+"stroke-line-cap",n),s=fN(e,t+"stroke-line-join",n),a=gN(e,t+"stroke-line-dash",n),l=dN(e,t+"stroke-line-dash-offset",n),c=dN(e,t+"stroke-miter-limit",n),u=new vr;return function(e){if(i){const t=i(e);if(t===yt)return null;u.setColor(t)}if(r&&u.setWidth(r(e)),o){const t=o(e);if("butt"!==t&&"round"!==t&&"square"!==t)throw new Error("Expected butt, round, or square line cap");u.setLineCap(t)}if(s){const t=s(e);if("bevel"!==t&&"round"!==t&&"miter"!==t)throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(t)}return a&&u.setLineDash(a(e)),l&&u.setLineDashOffset(l(e)),c&&u.setMiterLimit(c(e)),u}}function dN(e,t,n){if(!(t in e))return;const r=nN(e[t],NI,n);return function(e){return TN(r(e),t)}}function fN(e,t,n){if(!(t in e))return null;const r=nN(e[t],YI,n);return function(e){return kN(r(e),t)}}function pN(e,t,n){if(!(t in e))return null;const r=nN(e[t],FI,n);return function(e){const n=r(e);if("boolean"!=typeof n)throw new Error(`Expected a boolean for ${t}`);return n}}function mN(e,t,n){if(!(t in e))return null;const r=nN(e[t],jI,n);return function(e){return EN(r(e),t)}}function gN(e,t,n){if(!(t in e))return null;const r=nN(e[t],HI,n);return function(e){return MN(r(e),t)}}function _N(e,t,n){if(!(t in e))return null;const r=nN(e[t],HI,n);return function(e){const n=MN(r(e),t);if(2!==n.length)throw new Error(`Expected two numbers for ${t}`);return n}}function yN(e,t,n){if(!(t in e))return null;const r=nN(e[t],HI,n);return function(e){return LN(r(e),t)}}function bN(e,t,n){if(!(t in e))return null;const r=nN(e[t],HI|NI,n);return function(e){return function(e,t){if("number"==typeof e)return e;return LN(e,t)}(r(e),t)}}function vN(e,t){const n=e[t];if(void 0!==n){if("number"!=typeof n)throw new Error(`Expected a number for ${t}`);return n}}function wN(e,t){const n=e[t];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function xN(e,t){const n=e[t];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${t}`);return n}}function SN(e,t){const n=e[t];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${t}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function MN(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const n=e.length;for(let r=0;r<n;++r)if("number"!=typeof e[r])throw new Error(`Expected an array of numbers for ${t}`);return e}function kN(e,t){if("string"!=typeof e)throw new Error(`Expected a string for ${t}`);return e}function TN(e,t){if("number"!=typeof e)throw new Error(`Expected a number for ${t}`);return e}function EN(e,t){if("string"==typeof e)return e;const n=MN(e,t),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function LN(e,t){const n=MN(e,t);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${t}`);return n}const CN={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function DN(e,t,n){return function(r,i,o,s,a){if(!r)return;if(!i&&!t)return r;const l=t?0:o[0]*i,c=t?0:o[1]*i,u=a?a[0]:0,h=a?a[1]:0;let d=e[0]+l/2+u,f=e[2]-l/2+u,p=e[1]+c/2+h,m=e[3]-c/2+h;d>f&&(d=(f+d)/2,f=d),p>m&&(p=(m+p)/2,m=p);let g=st(r[0],d,f),_=st(r[1],p,m);if(s&&n&&i){const e=30*i;g+=-e*Math.log(1+Math.max(0,d-r[0])/e)+e*Math.log(1+Math.max(0,r[0]-f)/e),_+=-e*Math.log(1+Math.max(0,p-r[1])/e)+e*Math.log(1+Math.max(0,r[1]-m)/e)}return[g,_]}}function PN(e){return e}function $N(e){return Math.pow(e,3)}function AN(e){return 1-$N(1-e)}function RN(e){return 3*e*e-2*e*e*e}function ON(e){return e}function IN(e,t,n,r){let i=0;const o=e[n-r],s=e[n-r+1];let a=0,l=0;for(;t<n;t+=r){const n=e[t]-o,r=e[t+1]-s;i+=l*n-a*r,a=n,l=r}return i/2}function FN(e,t,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];i+=IN(e,t,s,r),t=s}return i}class NN extends TR{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new NN(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<zP(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(OR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),FR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return IN(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return YR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=QR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new NN(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=LR(this.flatCoordinates,0,e,this.stride),this.changed()}}const YN=NN;function jN(e,t,n,r,i,o,s){let a,l,c,u,h,d,f;const p=i[o+1],m=[];for(let i=0,o=n.length;i<o;++i){const o=n[i];for(u=e[o-r],d=e[o-r+1],a=t;a<o;a+=r)h=e[a],f=e[a+1],(p<=d&&f<=p||d<=p&&p<=f)&&(c=(p-d)/(f-d)*(h-u)+u,m.push(c)),u=h,d=f}let g=NaN,_=-1/0;for(m.sort(Xt),u=m[0],a=1,l=m.length;a<l;++a){h=m[a];const i=Math.abs(h-u);i>_&&(c=(u+h)/2,qR(e,t,n,r,c,p)&&(g=c,_=i)),u=h}return isNaN(g)&&(g=i[o]),s?(s.push(g,p,_),s):[g,p,_]}function HN(e,t,n,r,i){let o=[];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=jN(e,t,a,r,i,2*s,o),t=a[a.length-1]}return o}function UN(e,t,n,r){for(;t<n-r;){for(let i=0;i<r;++i){const o=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=o}t+=r,n-=r}}function zN(e,t,n,r){let i=0,o=e[n-r],s=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];i+=(n-o)*(r+s),o=n,s=r}return 0===i?void 0:i>0}function GN(e,t,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=zN(e,t,s,r);if(0===o){if(i&&a||!i&&!a)return!1}else if(i&&!a||!i&&a)return!1;t=s}return!0}function WN(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(!GN(e,t,s,r,i))return!1;s.length&&(t=s[s.length-1])}return!0}function qN(e,t,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=zN(e,t,s,r);(0===o?i&&a||!i&&!a:i&&!a||!i&&a)&&UN(e,t,s,r),t=s}return t}function BN(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o)t=qN(e,t,n[o],r,i);return t}function VN(e,t){const n=[];let r,i=0,o=0;for(let s=0,a=t.length;s<a;++s){const a=t[s],l=zN(e,i,a,2);if(void 0===r&&(r=l),l===r)n.push(t.slice(o,s+1));else{if(0===n.length)continue;n[n.length-1].push(t[o])}o=s+1,i=a}return n}class XN extends TR{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Qt(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new XN(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<zP(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(IR(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),NR(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return qR(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return FN(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),qN(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,jR(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=l$(this.getExtent());this.flatInteriorPoint_=jN(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new $R(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new YN(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=new YN(t.slice(i,s),e);r.push(a),i=s}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;GN(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=qN(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=rO(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new XN(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return ZR(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=CR(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const KN=XN;function ZN(e){if(y$(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],r=e[2],i=e[3],o=[t,n,t,i,r,i,r,n,t,n];return new XN(o,"XY",[o.length])}function JN(e,t,n){t=t||32;const r=e.getStride(),i=e.getLayout(),o=e.getCenter(),s=r*(t+1),a=new Array(s);for(let e=0;e<s;e+=r){a[e]=0,a[e+1]=0;for(let t=2;t<r;t++)a[e+t]=o[t]}const l=[a.length],c=new XN(a,i,l);return function(e,t,n,r){const i=e.getFlatCoordinates(),o=e.getStride(),s=i.length/o-1,a=r||0;for(let e=0;e<=s;++e){const r=e*o,l=a+2*ht(e,s)*Math.PI/s;i[r]=t[0]+n*Math.cos(l),i[r+1]=t[1]+n*Math.sin(l)}e.changed()}(c,o,e.getRadius(),n),c}function QN(e,t,n,r){const i=g$(t)/n[0],o=d$(t)/n[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function eY(e,t,n){let r=Math.min(e,t);return r*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/e-1))/50+1),st(r,n/2,2*t)}function tY(e,t,n,r,i){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=r?QN(e,r,a,i):e;return n&&l?eY(o,s,t):st(o,t,s)}}}function nY(e){if(void 0!==e)return 0}function rY(e){if(void 0!==e)return e}const iY=256;function oY(e,t){setTimeout(function(){e(t)},0)}function sY(e){return!(e.sourceCenter&&e.targetCenter&&!C$(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function aY(e,t,n,r,i){const o=Math.cos(-i);let s=Math.sin(-i),a=e[0]*o-e[1]*s,l=e[1]*o+e[0]*s;a+=(t[0]/2-n[0])*r,l+=(n[1]-t[1]/2)*r,s=-s;return[a*o-l*s,l*o+a*s]}const lY=class extends An{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=HA(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&RA(),e.center&&(e.center=QA(e.center,this.projection_)),e.extent&&(e.extent=tR(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const e in CN)delete t[e];this.setProperties(t,!0);const n=function(e){let t,n,r;const i=28,o=2;let s=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:i;const l=void 0!==e.zoomFactor?e.zoomFactor:o,c=void 0!==e.multiWorld&&e.multiWorld,u=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,h=void 0!==e.showFullExtent&&e.showFullExtent,d=HA(e.projection,"EPSG:3857"),f=d.getExtent();let p=e.constrainOnlyCenter,m=e.extent;c||m||!d.isGlobal()||(p=!1,m=f);if(void 0!==e.resolutions){const i=e.resolutions;n=i[s],r=void 0!==i[a]?i[a]:i[i.length-1],t=e.constrainResolution?function(e,t,n,r){return t=void 0===t||t,function(i,o,s,a){if(void 0!==i){const l=e[0],c=e[e.length-1],u=n?QN(l,n,s,r):l;if(a)return t?eY(i,u,c):st(i,c,u);const h=Math.min(u,i),d=Math.floor(Zt(e,h,o));return e[d]>u&&d<e.length-1?e[d+1]:e[d]}}}(i,u,!p&&m,h):tY(n,r,u,!p&&m,h)}else{const c=(f?Math.max(g$(f),d$(f)):360*O$.degrees/d.getMetersPerUnit())/iY/Math.pow(o,0),g=c/Math.pow(o,i-0);n=e.maxResolution,void 0!==n?s=0:n=c/Math.pow(l,s),r=e.minResolution,void 0===r&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(l,a):c/Math.pow(l,a):g),a=s+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-s),t=e.constrainResolution?function(e,t,n,r,i,o){return r=void 0===r||r,n=void 0!==n?n:0,function(s,a,l,c){if(void 0!==s){const u=i?QN(t,i,l,o):t;if(c)return r?eY(s,u,n):st(s,n,u);const h=1e-9,d=Math.ceil(Math.log(t/u)/Math.log(e)-h),f=-a*(.5-h)+.5,p=Math.min(u,s),m=Math.floor(Math.log(t/p)/Math.log(e)+f),g=Math.max(d,m);return st(t/Math.pow(e,g),n,u)}}}(l,n,r,u,!p&&m,h):tY(n,r,u,!p&&m,h)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=function(e){if(void 0!==e.extent){const t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return DN(e.extent,e.constrainOnlyCenter,t)}const t=HA(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,DN(e,!1,!1)}return PN}(e),i=n.constraint,o=function(e){const t=void 0===e.enableRotation||e.enableRotation;if(t){const t=e.constrainRotation;return void 0===t||!0===t?function(e){const t=void 0===e?ut(5):e;return function(e,n){return n||void 0===e?e:Math.abs(e)<=t?0:e}}():!1===t?rY:"number"==typeof t?function(e){const t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(t):rY}return nY}(e);this.constraints_={center:r,resolution:i,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const i=this.getResolution(),o=i/2*(r[3]-t[3]+t[1]-r[1]),s=i/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let e=0;e<t.length;++e){let n=arguments[e];n.center&&(n=Object.assign({},n),n.center=QA(n.center,this.getProjection())),n.anchor&&(n=Object.assign({},n),n.anchor=QA(n.anchor,this.getProjection())),t[e]=n}this.animateInternal.apply(this,t)}animateInternal(e){let t,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const e=arguments[r];e.center&&this.setCenterInternal(e.center),void 0!==e.zoom?this.setZoom(e.zoom):e.resolution&&this.setResolution(e.resolution),void 0!==e.rotation&&this.setRotation(e.rotation)}if(r===n)return void(t&&oY(t,!0));let i=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;r<n;++r){const e=arguments[r],n={start:i,complete:!1,anchor:e.anchor,duration:void 0!==e.duration?e.duration:1e3,easing:e.easing||RN,callback:t};if(e.center&&(n.sourceCenter=o,n.targetCenter=e.center.slice(),o=n.targetCenter),void 0!==e.zoom?(n.sourceResolution=s,n.targetResolution=this.getResolutionForZoom(e.zoom),s=n.targetResolution):e.resolution&&(n.sourceResolution=s,n.targetResolution=e.resolution,s=n.targetResolution),void 0!==e.rotation){n.sourceRotation=a;const t=ht(e.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+t,a=n.targetRotation}sY(n)?n.complete=!0:i+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(cO,1),this.updateAnimations_()}getAnimating(){return this.hints_[cO]>0}getInteracting(){return this.hints_[uO]>0}cancelAnimations(){let e;this.setHint(cO,-this.hints_[cO]);for(let t=0,n=this.animations_.length;t<n;++t){const n=this.animations_[t];if(n[0].callback&&oY(n[0].callback,!1),!e)for(let t=0,r=n.length;t<r;++t){const r=n[t];if(!r.complete){e=r.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let i=!0;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o.complete)continue;const s=e-o.start;let a=o.duration>0?s/o.duration:1;a>=1?(o.complete=!0,a=1):i=!1;const l=o.easing(a);if(o.sourceCenter){const e=o.sourceCenter[0],t=o.sourceCenter[1],n=o.targetCenter[0],r=o.targetCenter[1];this.nextCenter_=o.targetCenter;const i=e+l*(n-e),s=t+l*(r-t);this.targetCenter_=[i,s]}if(o.sourceResolution&&o.targetResolution){const e=1===l?o.targetResolution:o.sourceResolution+l*(o.targetResolution-o.sourceResolution);if(o.anchor){const t=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(e,0,t,!0);this.targetCenter_=this.calculateCenterZoom(n,o.anchor)}this.nextResolution_=o.targetResolution,this.targetResolution_=e,this.applyTargetState_(!0)}if(void 0!==o.sourceRotation&&void 0!==o.targetRotation){const e=1===l?ht(o.targetRotation+Math.PI,2*Math.PI)-Math.PI:o.sourceRotation+l*(o.targetRotation-o.sourceRotation);if(o.anchor){const t=this.constraints_.rotation(e,!0);this.targetCenter_=this.calculateCenterRotate(t,o.anchor)}this.nextRotation_=o.targetRotation,this.targetRotation_=e}if(this.applyTargetState_(!0),t=!0,!o.complete)break}if(i){this.animations_[n]=null,this.setHint(cO,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const e=r[0].callback;e&&oY(e,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();var i,o;return void 0!==r&&(n=[r[0]-t[0],r[1]-t[1]],D$(n,e-this.getRotation()),o=t,(i=n)[0]+=+o[0],i[1]+=+o[1]),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),i=this.getResolution();if(void 0!==r&&void 0!==i){n=[t[0]-e*(t[0]-r[0])/i,t[1]-e*(t[1]-r[1])/i]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e?JA(e,this.getProjection()):e}getCenterInternal(){return this.get(CN.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return eR(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Oe(t,"The view center is not defined");const n=this.getResolution();Oe(void 0!==n,"The view resolution is not defined");const r=this.getRotation();return Oe(void 0!==r,"The view rotation is not defined"),u$(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(CN.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(tR(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=g$(e)/t[0],r=d$(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*r)}}getRotation(){return this.get(CN.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/t;return function(e){return Math.log(n/e)/t/i}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const i=this.padding_;if(i){const e=this.getViewportSizeMinusPadding_();r=aY(r,this.getViewportSize_(),[e[0]/2+i[3],e[1]/2+i[0]],t,n)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t,n,r=this.minZoom_||0;if(this.resolutions_){const i=Zt(this.resolutions_,e,1);r=i,t=this.resolutions_[i],n=i==this.resolutions_.length-1?2:t/this.resolutions_[i+1]}else t=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(t/e)/Math.log(n)}getResolutionForZoom(e){if(this.resolutions_?.length){if(1===this.resolutions_.length)return this.resolutions_[0];const t=st(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,st(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(Oe(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Oe(!y$(e),"Cannot fit empty extent provided as `geometry`");n=ZN(tR(e,this.getProjection()))}else if("Circle"===e.getType()){const t=tR(e.getExtent(),this.getProjection());n=ZN(t),n.rotate(this.getRotation(),l$(t))}else{const t=ZA();n=t?e.clone().transform(t,this.getProjection()):e}this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),i=e.getFlatCoordinates(),o=e.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let e=0,t=i.length;e<t;e+=o){const t=i[e]*n-i[e+1]*r,o=i[e]*r+i[e+1]*n;s=Math.min(s,t),a=Math.min(a,o),l=Math.max(l,t),c=Math.max(c,o)}return[s,a,l,c]}fitInternal(e,t){let n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());const r=void 0!==t.padding?t.padding:[0,0,0,0],i=void 0!==t.nearest&&t.nearest;let o;o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const s=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(s,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,i?0:1);const l=this.getRotation(),c=Math.sin(l),u=Math.cos(l),h=l$(s);h[0]+=(r[1]-r[3])/2*a,h[1]+=(r[0]-r[2])/2*a;const d=h[0]*u-h[1]*c,f=h[1]*u+h[0]*c,p=this.getConstrainedCenter([d,f],a),m=t.callback?t.callback:on;void 0!==t.duration?this.animateInternal({resolution:a,center:p,duration:t.duration,easing:t.easing},m):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),oY(m,!0))}centerOn(e,t,n){this.centerOnInternal(QA(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(aY(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let i;const o=this.padding_;if(o&&e){const s=this.getViewportSizeMinusPadding_(-n),a=aY(e,r,[s[0]/2+o[3],s[1]/2+o[0]],t,n);i=[e[0]-a[0],e[1]-a[1]]}return i}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=JA(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&QA(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(i,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=QA(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e?QA(e,this.getProjection()):e)}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),s=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get(CN.ROTATION)!==r&&this.set(CN.ROTATION,r),this.get(CN.RESOLUTION)!==o&&(this.set(CN.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),s&&this.get(CN.CENTER)&&C$(this.get(CN.CENTER),s)||this.set(CN.CENTER,s),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=void 0!==e?e:200;const r=t||0,i=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,r,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,i,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&C$(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:a,resolution:s,duration:e,easing:AN,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(uO,1)}endInteraction(e,t,n){n=n&&QA(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(uO,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}},cY="opacity",uY="visible",hY="extent",dY="zIndex",fY="maxResolution",pY="minResolution",mY="maxZoom",gY="minZoom",_Y="source",yY="map";const bY=class extends An{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t[cY]=void 0!==e.opacity?e.opacity:1,Oe("number"==typeof t[cY],"Layer opacity must be a number"),t[uY]=void 0===e.visible||e.visible,t[dY]=e.zIndex,t[fY]=void 0!==e.maxResolution?e.maxResolution:1/0,t[pY]=void 0!==e.minResolution?e.minResolution:0,t[gY]=void 0!==e.minZoom?e.minZoom:-1/0,t[mY]=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=st(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Cn()}getLayerStatesArray(e){return Cn()}getExtent(){return this.get(hY)}getMaxResolution(){return this.get(fY)}getMinResolution(){return this.get(pY)}getMinZoom(){return this.get(gY)}getMaxZoom(){return this.get(mY)}getOpacity(){return this.get(cY)}getSourceState(){return Cn()}getVisible(){return this.get(uY)}getZIndex(){return this.get(dY)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(hY,e)}setMaxResolution(e){this.set(fY,e)}setMinResolution(e){this.set(pY,e)}setMaxZoom(e){this.set(mY,e)}setMinZoom(e){this.set(gY,e)}setOpacity(e){Oe("number"==typeof e,"Layer opacity must be a number"),this.set(cY,e)}setVisible(e){this.set(uY,e)}setZIndex(e){this.set(dY,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}};function vY(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}const wY=class extends bY{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(_Y,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(_Y)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(pn(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=dn(e,Nt,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;const n=this.getMapInternal();let r;if(!e&&n&&(e=n.getView()),t=e instanceof lY?{viewState:e.getState(),extent:e.calculateExtent()}:e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),t.layerStatesArray){if(r=t.layerStatesArray.find(e=>e.layer===this),!r)return!1}else r=this.getLayerState();const i=this.getExtent();return vY(r,t.viewState)&&(!i||_$(i,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];let n=t(e instanceof lY?e.getViewStateAndExtent():e);return Array.isArray(n)||(n=[n]),n}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(yY,e)}getMapInternal(){return this.get(yY)}setMap(e){this.mapPrecomposeKey_&&(pn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(pn(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=dn(e,fO,this.handlePrecompose_,this),this.mapRenderKey_=dn(this,Nt,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);Oe(!t.some(e=>e.layer===n.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}setSource(e){this.set(_Y,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}},xY="renderOrder";const SY=class extends wY{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(xY)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const n=this.getDeclutter();n in e.declutter==!1&&(e.declutter[n]=new wI(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(xY,e)}setStyle(e){this.style_=void 0===e?Mr:e;const t=function(e){if(void 0===e)return Mr;if(!e)return null;if("function"==typeof e)return e;if(e instanceof Er)return e;if(!Array.isArray(e))return lN([e]);if(0===e.length)return[];const t=e.length,n=e[0];if(n instanceof Er){const n=new Array(t);for(let r=0;r<t;++r){const t=e[r];if(!(t instanceof Er))throw new Error("Expected a list of style instances");n[r]=t}return n}if("style"in n){const n=new Array(t);for(let r=0;r<t;++r){const t=e[r];if(!("style"in t))throw new Error("Expected a list of rules with a style property");n[r]=t}return aN(n)}const r=e;return lN(r)}(e);this.styleFunction_=null===e?void 0:xr(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}};const MY=class extends SY{constructor(e){super(e)}createRenderer(){return new _I(this)}},kY="postrender",TY="movestart",EY="moveend",LY="loadstart",CY="loadend",DY="element",PY="map",$Y="offset",AY="position",RY="positioning";const OY=class extends An{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(DY,this.handleElementChanged),this.addChangeListener(PY,this.handleMapChanged),this.addChangeListener($Y,this.handleOffsetChanged),this.addChangeListener(AY,this.handlePositionChanged),this.addChangeListener(RY,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(DY)}getId(){return this.id}getMap(){return this.get(PY)||null}getOffset(){return this.get($Y)}getPosition(){return this.get(AY)}getPositioning(){return this.get(RY)}handleElementChanged(){rt(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),pn(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=dn(e,kY,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(DY,e)}setMap(e){this.set(PY,e)}setOffset(e){this.set($Y,e)}setPosition(e){this.set(AY,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(AY))return;const n=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),i=this.getRect(r,[et(r),tt(r)]),o=void 0===(e=e||{}).margin?20:e.margin;if(!WP(n,i)){const r=i[0]-n[0],s=n[2]-i[2],a=i[1]-n[1],l=n[3]-i[3],c=[0,0];if(r<0?c[0]=r-o:s<0&&(c[0]=Math.abs(s)+o),a<0?c[1]=a-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){const n=t.getView().getCenterInternal(),r=t.getPixelFromCoordinateInternal(n);if(!r)return;const i=[r[0]+c[0],r[1]+c[1]],o=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(i),duration:o.duration,easing:o.easing})}}}getRect(e,t){const n=e.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+t[0],i+t[1]]}setPositioning(e){this.set(RY,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const n=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(n,r)}updateRenderedPosition(e,t){const n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);let o="0%",s="0%";"bottom-right"==i||"center-right"==i||"top-right"==i?o="-100%":"bottom-center"!=i&&"center-center"!=i&&"top-center"!=i||(o="-50%"),"bottom-left"==i||"bottom-center"==i||"bottom-right"==i?s="-100%":"center-left"!=i&&"center-center"!=i&&"center-right"!=i||(s="-50%");const a=`translate(${o}, ${s}) translate(${`${e[0]+r[0]}px`}, ${`${e[1]+r[1]}px`})`;this.rendered.transform_!=a&&(this.rendered.transform_=a,n.transform=a)}getOptions(){return this.options}},IY="add",FY="remove",NY="length";class YY extends un{constructor(e,t,n){super(e),this.element=t,this.index=n}}const jY=class extends An{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e??[],this.unique_)for(let e=1,t=this.array_.length;e<t;++e)this.assertUnique_(this.array_[e],e);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(NY)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new YY(IY,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new YY(FY,t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new YY(FY,n,e)),this.dispatchEvent(new YY(IY,t,e))}updateLength_(){this.set(NY,this.array_.length)}assertUnique_(e,t){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e&&r!==t)throw new Error("Duplicate item added to a unique collection")}};let HY=!1;function UY(e,t,n,r,i,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof e?e(n,r,i):e,!0),"arraybuffer"==t.getType()&&(a.responseType="arraybuffer"),a.withCredentials=HY,a.onload=function(e){if(!a.status||a.status>=200&&a.status<300){const e=t.getType();try{let r;"text"==e||"json"==e?r=a.responseText:"xml"==e?r=a.responseXML||a.responseText:"arraybuffer"==e&&(r=a.response),r?o(t.readFeatures(r,{extent:n,featureProjection:i}),t.readProjection(r)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function zY(e,t){return function(n,r,i,o,s){UY(e,t,n,r,i,(e,t)=>{this.addFeatures(e),void 0!==o&&o(e)},()=>{this.changed(),void 0!==s&&s()})}}function GY(e,t){return[[-1/0,-1/0,1/0,1/0]]}function WY(e,t,n,r){const i=[];let o=[1/0,1/0,-1/0,-1/0];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=JP(e,t,a[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=a[a.length-1]}return i}class qY extends TR{constructor(e,t,n){super(),void 0!==n&&void 0===t?this.setFlatCoordinates(n,e):(t=t||0,this.setCenterAndRadius(e,t,n))}clone(){const e=new qY(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const i=this.flatCoordinates,o=e-i[0],s=t-i[1],a=o*o+s*s;if(a<r){if(0===a)for(let e=0;e<this.stride;++e)n[e]=i[e];else{const e=this.getRadius()/Math.sqrt(a);n[0]=i[0]+e*o,n[1]=i[1]+e*s;for(let e=2;e<this.stride;++e)n[e]=i[e]}return n.length=this.stride,a}return r}containsXY(e,t){const n=this.flatCoordinates,r=e-n[0],i=t-n[1];return r*r+i*i<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,n=t[this.stride]-t[0];return XP(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){if(_$(e,this.getExtent())){const t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]||(e[1]<=t[1]&&e[3]>=t[1]||i$(e,this.intersectsCoordinate.bind(this)))}return!1}setCenter(e){const t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],r=e.slice();r[t]=r[0]+n;for(let n=1;n<t;++n)r[t+n]=e[n];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let i=ER(r,0,e,this.stride);r[i++]=r[0]+t;for(let e=1,t=this.stride;e<t;++e)r[i++]=r[e];r.length=i,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const n=this.getCenter(),r=this.getStride();this.setCenter(vR(n,0,n.length,r,e,t,n)),this.changed()}}qY.prototype.transform;const BY=qY;class VY extends SR{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(pn),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,n=e.length;t<n;++t)this.changeEventsKeys_.push(dn(e[t],Nt,this.changed,this))}clone(){const e=new VY(XY(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,n,r){if(r<zP(this.getExtent(),e,t))return r;const i=this.geometries_;for(let o=0,s=i.length;o<s;++o)r=i[o].closestPointXY(e,t,n,r);return r}containsXY(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].containsXY(e,t))return!0;return!1}computeExtent(e){KP(e);const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)e$(e,t[n].getExtent());return e}getGeometries(){return XY(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let r=!1;for(let i=0,o=n.length;i<o;++i){const o=n[i],s=o.getSimplifiedGeometry(e);t.push(s),s!==o&&(r=!0)}if(r){return new VY(t)}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].rotate(e,t);this.changed()}scale(e,t,n){n||(n=l$(this.getExtent()));const r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(XY(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)t[n].applyTransform(e);this.changed()}translate(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function XY(e){return e.map(e=>e.clone())}const KY=VY;class ZY extends TR{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{const t=e,n=[],r=[];for(let e=0,i=t.length;e<i;++e){Qt(n,t[e].getFlatCoordinates()),r.push(n.length)}const i=0===t.length?this.getLayout():t[0].getLayout();this.setFlatCoordinates(i,n),this.ends_=r}}appendLineString(e){Qt(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new ZY(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<zP(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(IR(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),NR(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,r))}getCoordinateAtM(e,t,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,n=void 0!==n&&n,function(e,t,n,r,i,o,s){if(s)return zR(e,t,n[n.length-1],r,i,o);let a;if(i<e[r-1])return o?(a=e.slice(0,r),a[r-1]=i,a):null;if(e[e.length-1]<i)return o?(a=e.slice(e.length-r),a[r-1]=i,a):null;for(let o=0,s=n.length;o<s;++o){const s=n[o];if(t!=s){if(i<e[t+r-1])return null;if(i<=e[s-1])return zR(e,t,s,r,i,!1);t=s}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return jR(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new oO(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,r=[];let i=0;for(let o=0,s=t.length;o<s;++o){const s=t[o],a=new oO(e.slice(i,s),n);r.push(a),i=s}return r}getLength(){const e=this.ends_;let t=0,n=0;for(let r=0,i=e.length;r<i;++r)n+=JR(this.flatCoordinates,t,e[r],this.stride),t=e[r];return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const r=this.ends_,i=this.stride;for(let o=0,s=r.length;o<s;++o){const s=r[o];Qt(e,UR(t,n,s,i,.5)),n=s}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=eO(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new ZY(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){if(XR(e,t,n[o],r,i))return!0;t=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=CR(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const JY=ZY;class QY extends TR{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){Qt(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new QY(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){if(r<zP(this.getExtent(),e,t))return r;const i=this.flatCoordinates,o=this.stride;for(let s=0,a=i.length;s<a;s+=o){const a=lt(e,t,i[s],i[s+1]);if(a<r){r=a;for(let e=0;e<o;++e)n[e]=i[s+e];n.length=o}}return r}getCoordinates(){return YR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new $R(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,r=[];for(let i=0,o=e.length;i<o;i+=n){const o=new $R(e.slice(i,i+n),t);r.push(o)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let r=0,i=t.length;r<i;r+=n){if(qP(e,t[r],t[r+1]))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=LR(this.flatCoordinates,0,e,this.stride),this.changed()}}const ej=QY;class tj extends TR{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const r=e,i=[],o=[];for(let e=0,t=r.length;e<t;++e){const t=r[e],n=i.length,s=t.getEnds();for(let e=0,t=s.length;e<t;++e)s[e]+=n;Qt(i,t.getFlatCoordinates()),o.push(s)}t=0===r.length?this.getLayout():r[0].getLayout(),e=i,n=o}void 0!==t&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){const n=this.flatCoordinates.length;Qt(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let e=0,r=t.length;e<r;++e)t[e]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const n=new tj(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,r){return r<zP(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];i=IR(e,t,s,r,i),t=s[s.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(e,t,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];c=NR(e,t,d,r,i,o,s,a,l,c,u),t=d[d.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return function(e,t,n,r,i,o){if(0===n.length)return!1;for(let s=0,a=n.length;s<a;++s){const a=n[s];if(qR(e,t,a,r,i,o))return!0;t=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return function(e,t,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];i+=FN(e,t,s,r),t=s[s.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),BN(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,HR(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=WY(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=HN(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new ej(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;WN(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=BN(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=function(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l],u=[];s=rO(e,t,c,r,i,o,s,u),a.push(u),t=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new tj(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const n=this.endss_[e-1];t=n[n.length-1]}const n=this.endss_[e].slice(),r=n[n.length-1];if(0!==t)for(let e=0,r=n.length;e<r;++e)n[e]-=t;return new KN(this.flatCoordinates.slice(t,r),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,r=[];let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o].slice(),a=s[s.length-1];if(0!==i)for(let e=0,t=s.length;e<t;++e)s[e]-=i;const l=new KN(t.slice(i,a),e,s);r.push(l),i=a}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(ZR(e,t,s,r,i))return!0;t=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=DR(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const e=n[n.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}}const nj=tj,rj=[1,0,0,1,0,0];class ij{constructor(e,t,n,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=i,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?ZP(this.flatCoordinates_):JP(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=l$(this.getExtent());this.flatInteriorPoints_=jN(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=VN(this.flatCoordinates_,this.ends_),t=WY(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=HN(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=UR(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let r=0,i=n.length;r<i;++r){const i=n[r],o=UR(e,t,i,2,.5);Qt(this.flatMidpoints_,o),t=i}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=NA(e)).getExtent(),n=e.getWorldExtent();if(t&&n){const e=d$(n)/d$(t);pR(rj,n[0],n[3],e,-e,0,0,0),bR(this.flatCoordinates_,0,this.flatCoordinates_.length,2,rj,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new ij(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=sn((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const n=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":n.length=QR(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,n,0),r=[n.length];break;case"MultiLineString":r=[],n.length=eO(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,n,0,r);break;case"Polygon":r=[],n.length=rO(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),n,0,r)}return r&&(this.simplifiedGeometry_=new ij(this.type_,n,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}ij.prototype.getFlatCoordinates=ij.prototype.getOrientedFlatCoordinates;const oj=ij;const sj=class{constructor(e){this.rbush_=new wI(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[Pn(t)]=n}load(e,t){const n=new Array(t.length);for(let r=0,i=t.length;r<i;r++){const i=e[r],o=t[r],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:o};n[r]=s,this.items_[Pn(o)]=s}this.rbush_.load(n)}remove(e){const t=Pn(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}update(e,t){const n=this.items_[Pn(t)];QP([n.minX,n.minY,n.maxX,n.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(e){return e.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let r=0,i=e.length;r<i;r++)if(n=t(e[r]),n)return n;return n}isEmpty(){return cn(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return XP(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}};function aj(e){return e?"function"==typeof e?e:(Array.isArray(e)||(e=[e]),t=>e):null}const lj=class extends An{constructor(e){super(),this.projection=NA(e.projection),this.attributions_=aj(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(e,n){t.viewResolver=e,t.viewRejector=n})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=aj(e),this.changed()}setState(e){this.state_=e,this.changed()}},cj="addfeature",uj="changefeature",hj="clear",dj="removefeature",fj="featuresloadstart",pj="featuresloadend",mj="featuresloaderror";class gj extends un{constructor(e,t,n){super(e),this.feature=t,this.features=n}}const _j=class extends lj{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=on,this.format_=e.format||null,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(Oe(this.format_,"`format` must be set when `url` is set"),this.loader_=zY(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:GY;const t=void 0===e.useSpatialIndex||e.useSpatialIndex;let n,r;this.featuresRtree_=t?new sj:null,this.loadedExtentsRtree_=new sj,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(n=e.features,r=n.getArray()),t||void 0!==n||(n=new jY(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Pn(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const t=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new gj(cj,e))}setupChangeEvents_(e,t){t instanceof oj||(this.featureChangeKeys_[e]=[dn(t,Nt,this.handleFeatureChange_,this),dn(t,Tn,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(void 0!==t.getId()){const e=String(t.getId());if(e in this.idIndex_)if(t instanceof oj){const r=this.idIndex_[e];r instanceof oj?Array.isArray(r)?r.push(t):this.idIndex_[e]=[r,t]:n=!1}else n=!1;else this.idIndex_[e]=t}return n&&(Oe(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],r=[];for(let t=0,r=e.length;t<r;t++){const r=e[t],i=Pn(r);this.addToIndex_(i,r)&&n.push(r)}for(let e=0,i=n.length;e<i;e++){const i=n[e],o=Pn(i);this.setupChangeEvents_(o,i);const s=i.getGeometry();if(s){const e=s.getExtent();t.push(e),r.push(i)}else this.nullGeometryFeatures_[o]=i}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(cj))for(let e=0,t=n.length;e<t;e++)this.dispatchEvent(new gj(cj,n[e]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(cj,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(dj,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(IY,e=>{t||(t=!0,this.addFeature(e.element),t=!1)}),e.addEventListener(FY,e=>{t||(t=!0,this.removeFeature(e.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(pn)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(e=>{this.removeFeatureInternal(e)});for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new gj(hj);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(n){const r=n.getGeometry();if(r instanceof oj||r.intersectsCoordinate(e))return t(n)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(n){const r=n.getGeometry();if(r instanceof oj||r.intersectsExtent(e)){const e=t(n);if(e)return e}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),cn(this.nullGeometryFeatures_)||Qt(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=w$(e,t);return[].concat(...n.map(e=>this.featuresRtree_.getInExtent(e)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],r=e[1];let i=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return t=t||nn,this.featuresRtree_.forEachInExtent(a,function(e){if(t(e)){const t=e.getGeometry(),l=s;if(s=t instanceof oj?0:t.closestPointXY(n,r,o,s),s<l){i=e;const t=Math.sqrt(s);a[0]=n-t,a[1]=r-t,a[2]=n+t,a[3]=r+t}}}),i}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=Pn(t),r=t.getGeometry();if(r){const e=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);const i=t.getId();if(void 0!==i){const e=i.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new gj(uj,t))}hasFeature(e){const t=e.getId();return void 0!==t?t in this.idIndex_:Pn(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&cn(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,n){const r=this.loadedExtentsRtree_,i=this.strategy_(e,t,n);for(let e=0,o=i.length;e<o;++e){const o=i[e],s=r.forEachInExtent(o,function(e){return WP(e.extent,o)});s||(++this.loadingExtentsCount_,this.dispatchEvent(new gj(fj)),this.loader_.call(this,o,t,n,e=>{--this.loadingExtentsCount_,this.dispatchEvent(new gj(pj,void 0,e))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new gj(mj))}),r.insert(o,{extent:o.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,n=t.forEachInExtent(e,function(t){if(QP(t.extent,e))return t});n&&t.remove(n)}removeFeatures(e){let t=!1;for(let n=0,r=e.length;n<r;++n)t=this.removeFeatureInternal(e[n])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Pn(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);const n=this.featureChangeKeys_[t];n?.forEach(pn),delete this.featureChangeKeys_[t];const r=e.getId();if(void 0!==r){const t=r.toString(),n=this.idIndex_[t];n===e?delete this.idIndex_[t]:Array.isArray(n)&&(n.splice(n.indexOf(e),1),1===n.length&&(this.idIndex_[t]=n[0]))}return delete this.uidIndex_[t],this.hasListener(dj)&&this.dispatchEvent(new gj(dj,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Oe(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(zY(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}};const yj=new class{constructor(){this.debouncer=lO(()=>this.updateData_(),200),this.promise_=null,this.plot=null,this.measure=null,this.config=null,this.map_=null,this.cartoHighlight=new OY({offset:[0,-15],positioning:"bottom-center"}),this.lidarPointHighlight=new MY({className:"canvas2d",source:new _j({}),style:new Er({image:new gr({fill:new yr({color:"rgba(0, 0, 255, 1)"}),radius:3})})}),this.lidarBuffer=new MY({className:"canvas2d",source:new _j({})}),this.profilePoints=this.getEmptyProfilePoints_(),this.isPlotSetup_=!1,this.line_=null,this.utils=new aO}init(e,t){this.config=e,this.plot=new AR(this),this.measure=new PP(this),this.setMap(t)}clearBuffer(){this.lidarBuffer&&this.lidarBuffer.getSource().clear()}setLine(e){this.line_=e}setMap(e){this.map_=e,this.cartoHighlight.setMap(e),this.lidarPointHighlight.setMap(e),this.lidarBuffer.setMap(e)}getEmptyProfilePoints_(){return{distance:[],altitude:[],color_packed:[],intensity:[],classification:[],coords:[]}}getProfileByLOD(e,t,n,r){if(!this.config)throw new Error("Missing config");if(!this.plot)throw new Error("Missing plot");if(!this.line_)throw new Error("Missing line");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");this.profilePoints=this.getEmptyProfilePoints_(),n&&(this.isPlotSetup_=!1);const i=document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container");mS(i.querySelector(".lidar-error")).style("visibility","hidden");let o,s=this.utils.getPytreeLinestring(this.line_);const a=this.config.serverConfig.max_levels;if(0==t)o=this.utils.getNiceLOD(this.line_.getLength(),a);else{const t=this.plot.updateScaleX.domain();s="";for(const t of e)s+=`{${t[0]},${t[1]}},`;s=s.substr(0,s.length-1),o=this.utils.getNiceLOD(t[1]-t[0],a)}let l=!1;mS(i.querySelector(".lod-info")).html(""),this.config.clientConfig.pointSum=0;let c=0;c=this.config.clientConfig.autoWidth?o.width:this.config.serverConfig.width;const u=W.t("Profile width: ");mS(i.querySelector(".width-info")).html(`${u} ${c}m`);for(let e=0;e<o.maxLOD;e++)0==e?(this.queryPytree_(r,this.config.serverConfig.initialLOD,e,s,t,l,c,n),e+=this.config.serverConfig.initialLOD-1):(e<o.maxLOD-1||(l=!0),this.queryPytree_(r+e,r+e+1,e,s,t,l,c,!1))}queryPytree_(e,t,n,r,i,o,s,a){if(!this.config)throw new Error("Missing config");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");const l=mS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lod-info"));if(this.config.serverConfig.debug){let n=l.html();n+=`${W.t("Loading LOD: ")} ${e}-${t}..<br>`,l.html(n)}const c=this.config.serverConfig.default_point_cloud,u=`${this.config.pytreeLidarprofileJsonUrl}/profile/get?minLOD=${e}&maxLOD=${t}&width=${s}&coordinates=${r}&pointCloud=${c}&attributes=`;fetch(u,{method:"GET",headers:{"Content-Type":"text/plain; charset=x-user-defined"},responseType:"arraybuffer"}).then(e=>e.arrayBuffer()).then(r=>{if(!this.config)throw new Error("Missing config");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");if(this.config.serverConfig.debug){let n=l.html();const r=W.t("LOD: "),i=W.t("loaded");n+=`${r} ${e}-${t} ${i}<br>`,l.html(n)}this.processBuffer_(r,n,i,o,a)}).catch(e=>{throw new Error(`Error on pytree query: ${e.message}`)})}processBuffer_(e,t,n,r,i){if(!this.config)throw new Error("Missing config");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");if(!this.plot)throw new Error("Missing plot");if(!this.line_)throw new Error("Missing line");const o=document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container"),s=mS(o.querySelector(".lidar-error")),a=new Int32Array(e,0,4)[0],l=new Uint8Array(e,4,a);let c="";for(const e of l)c+=String.fromCharCode(e);try{JSON.parse(c)}catch(e){if(!this.isPlotSetup_){const e=mS(o.querySelector(".lidar-canvas")),t=e.node(),n=t.getContext("2d");if(null===n)throw new Error("Missing ctx");n.clearRect(0,0,t.getBoundingClientRect().width,t.getBoundingClientRect().height),e.selectAll("*").remove();const r=this.getHTMLError_();s.style("visibility","visible"),s.html(r)}return}s.style("visibility","hidden");const u=JSON.parse(c);this.config.clientConfig.pointSum+=u.points,this.config.clientConfig.pointSum>this.config.serverConfig.max_point_number&&console.warn("Number of points is higher than Pytree configuration max value !");const h=u.pointAttributes,d=[];for(const e of h)null!=this.config.serverConfig.point_attributes[e]&&d.push(this.config.serverConfig.point_attributes[e]);const f=u.scale;if(u.points<3)return;const p=this.getEmptyProfilePoints_(),m=u.bytesPerPoint,g=e.slice(4+a);for(let e=0;e<u.points;e++){const t=new DataView(g,m*e,m);let r=0;for(const e of d){if("POSITION_PROJECTED_PROFILE"==e.value){const e=t.getUint32(r,!0)*f;p.distance.push(Math.round(100*(n+e))/100),this.profilePoints.distance.push(Math.round(100*(n+e))/100)}else if("CLASSIFICATION"==e.value){const e=t.getUint8(r);p.classification.push(e),this.profilePoints.classification.push(e)}else if("INTENSITY"==e.value){const e=t.getUint8(r);p.intensity.push(e),this.profilePoints.intensity.push(e)}else if("COLOR_PACKED"==e.value){const e=t.getUint8(r),n=t.getUint8(r+1),i=t.getUint8(r+2);p.color_packed.push([e,n,i]),this.profilePoints.color_packed.push([e,n,i])}else if("POSITION_CARTESIAN"==e.value){const e=u.boundingBox.lx;if("number"!=typeof e)throw new Error("Wrong lx type");const n=u.boundingBox.ly;if("number"!=typeof n)throw new Error("Wrong ly type");const i=u.boundingBox.lz;if("number"!=typeof i)throw new Error("Wrong lz type");const o=t.getInt32(r,!0)*f+e,s=t.getInt32(r+4,!0)*f+n,a=t.getInt32(r+8,!0)*f+i;p.coords.push([o,s]),p.altitude.push(a),this.profilePoints.altitude.push(a),this.profilePoints.coords.push([o,s])}r+=e.bytes}}const _=[0,this.line_.getLength()],y=[this.utils.arrayMin(p.altitude),this.utils.arrayMax(p.altitude)];(0==t&&i||!this.isPlotSetup_)&&(this.plot.setupPlot(_,y),this.isPlotSetup_=!0),this.plot.drawPoints(p)}getHTMLError_(){return`\n      <div class="lidarprofile-error">\n      <p class="bold">${W.t("LIDAR profile service error")}</p>\n      <p>${W.t("It might be offline")}</p>\n      <p>${W.t("Or did you attempt to draw a profile outside data extent?")}</p>\n      <p>${W.t("Or did you attempt to draw such a small profile that no point was returned?")}</p>\n    `}updateData(){this.debouncer()}updateData_(){if(!this.config)throw new Error("Missing config");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");if(!this.plot)throw new Error("Missing plot");if(!this.line_)throw new Error("Missing line");const e=this.plot.updateScaleX.domain();let t=this.map_?this.map_.getView().getResolution():0;t=t||0;const n=this.utils.clipLineByMeasure(this.config,t,this.line_,e[0],e[1]),r=this.lidarBuffer.getSource();r.clear(),r.addFeature(n.bufferGeom),this.lidarBuffer.setStyle(n.bufferStyle);const i=e[1]-e[0],o=this.utils.getNiceLOD(i,this.config.serverConfig.max_levels);Math.abs(e[0]-this.plot.previousDomainX[0])<.2&&Math.abs(e[1]-this.plot.previousDomainX[1])<.2||o.maxLOD<=this.config.serverConfig.initialLOD?this.plot.drawPoints(this.profilePoints):this.getProfileByLOD(n.clippedLine,n.distanceOffset,!1,0),this.plot.previousDomainX=e}},bj=yj,vj={SINGLECLICK:"singleclick",CLICK:Ht,DBLCLICK:Ut,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};function wj(e){const t=arguments;return function(e){let n=!0;for(let r=0,i=t.length;r<i&&(n=n&&t[r](e),n);++r);return n}}const xj=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Sj=function(e){const t=e.map.getTargetElement(),n=t.getRootNode();return!(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")||function(e){const t=e.map.getTargetElement(),n=t.getRootNode(),r=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(r):t.contains(r)}(e)},Mj=nn,kj=function(e){const t=e.originalEvent;return"pointerId"in t&&0==t.button&&!(ze&&Ge&&t.ctrlKey)},Tj=rn,Ej=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Lj=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Cj=function(e){const t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},Dj=function(e){const t=e.originalEvent;return"pointerId"in t&&"mouse"==t.pointerType},Pj=function(e){const t=e.originalEvent;return"pointerId"in t&&t.isPrimary&&0===t.button};function $j(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}const Aj="webglcontextlost",Rj="webglcontextrestored",Oj=34962,Ij=34963,Fj=35044,Nj=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Yj(e,t){t=Object.assign({preserveDrawingBuffer:!0,antialias:!Ue},t);const n=Nj.length;for(let r=0;r<n;++r)try{const n=e.getContext(Nj[r],t);if(n)return n}catch{}return null}const jj=class{constructor(e){this.gl_=e.webGlContext;const t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer(),this.depthBuffer_=t.createRenderbuffer();const n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,e.vertexShader||"\n  precision mediump float;\n\n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n\n  uniform vec2 u_screenSize;\n\n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),t.compileShader(n);const r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,e.fragmentShader||"\n  precision mediump float;\n\n  uniform sampler2D u_image;\n  uniform float u_opacity;\n\n  varying vec2 v_texCoord;\n\n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"),t.compileShader(r),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,n),t.attachShader(this.renderTargetProgram_,r),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(n=>{this.uniforms_.push({value:e.uniforms[n],location:t.getUniformLocation(this.renderTargetProgram_,n)})})}getRenderTargetTexture(){return this.renderTargetTexture_}getGL(){return this.gl_}init(e){const t=this.getGL(),n=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.bindRenderbuffer(t.RENDERBUFFER,this.getDepthBuffer()),t.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;const e=0,r=t.RGBA,i=0,o=t.RGBA,s=t.UNSIGNED_BYTE,a=null;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,e,r,n[0],n[1],i,o,s,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n[0],n[1]),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthBuffer_)}}apply(e,t,n,r){const i=this.getGL(),o=e.size;if(i.bindFramebuffer(i.FRAMEBUFFER,t?t.getFrameBuffer():null),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.renderTargetTexture_),!t){const t=Pn(i.canvas);if(!e.renderTargets[t]){const n=i.getContextAttributes();n&&n.preserveDrawingBuffer&&(i.clearColor(0,0,0,0),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)),e.renderTargets[t]=!0}}i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.bindBuffer(i.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),i.useProgram(this.renderTargetProgram_),i.enableVertexAttribArray(this.renderTargetAttribLocation_),i.vertexAttribPointer(this.renderTargetAttribLocation_,2,i.FLOAT,!1,0,0),i.uniform2f(this.renderTargetUniformLocation_,o[0],o[1]),i.uniform1i(this.renderTargetTextureLocation_,0);const s=e.layerStatesArray[e.layerIndex].opacity;i.uniform1f(this.renderTargetOpacityLocation_,s),this.applyUniforms(e),n&&n(i,e),i.drawArrays(i.TRIANGLES,0,6),r&&r(i,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){const t=this.getGL();let n,r=1;this.uniforms_.forEach(function(i){if(n="function"==typeof i.value?i.value(e):i.value,n instanceof HTMLCanvasElement||n instanceof ImageData)i.texture||(i.texture=t.createTexture()),t.activeTexture(t[`TEXTURE${r}`]),t.bindTexture(t.TEXTURE_2D,i.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n instanceof ImageData?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,n.width,n.height,0,t.UNSIGNED_BYTE,new Uint8Array(n.data)):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.uniform1i(i.location,r++);else if(Array.isArray(n))switch(n.length){case 2:return void t.uniform2f(i.location,n[0],n[1]);case 3:return void t.uniform3f(i.location,n[0],n[1],n[2]);case 4:return void t.uniform4f(i.location,n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&t.uniform1f(i.location,n)})}},Hj="u_time",Uj="u_zoom",zj="u_resolution",Gj="u_rotation",Wj="u_viewportSizePx",qj="u_pixelRatio",Bj="u_hitDetection",Vj=5121,Xj=5123,Kj=5125,Zj=5126,Jj={};function Qj(e){return"shared/"+e}let eH=0;function tH(e){switch(e){case Vj:return Uint8Array.BYTES_PER_ELEMENT;case Xj:return Uint16Array.BYTES_PER_ELEMENT;case Kj:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}const nH=class extends Vt{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?Qj(e.canvasCacheKey):function(){const e="unique/"+eH;return eH+=1,e}(),this.gl_=function(e){let t=Jj[e];if(!t){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0",t={users:0,context:Yj(n)},Jj[e]=t}return t.users+=1,t.context}(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const t=this.gl_.canvas;t.addEventListener(Aj,this.boundHandleWebGLContextLost_),t.addEventListener(Rj,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=[1,0,0,1,0,0],this.offsetScaleMatrix_=[1,0,0,1,0,0],this.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map(e=>new jj({webGlContext:this.gl_,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})):[new jj({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now(),this.maxAttributeCount_=this.gl_.getParameter(this.gl_.MAX_VERTEX_ATTRIBS)}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(const t in e)this.uniforms_.push({name:t,value:e[t]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_===Qj(e)}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];const t=this.gl_.getExtension(e);return this.extensionCache_[e]=t,t}getInstancedRenderingExtension_(){const e=this.getExtension("ANGLE_instanced_arrays");return Oe(!!e,"WebGL extension 'ANGLE_instanced_arrays' is required for vector rendering"),e}bindBuffer(e){const t=this.gl_,n=Pn(e);let r=this.bufferCache_[n];if(!r){r={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[n]=r}t.bindBuffer(e.getType(),r.webGlBuffer)}flushBufferData(e){const t=this.gl_;this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){const t=Pn(e);delete this.bufferCache_[t]}disposeInternal(){const e=this.gl_.canvas;e.removeEventListener(Aj,this.boundHandleWebGLContextLost_),e.removeEventListener(Rj,this.boundHandleWebGLContextRestored_),function(e){const t=Jj[e];if(!t)return;if(t.users-=1,t.users>0)return;const n=t.context,r=n.getExtension("WEBGL_lose_context");r&&r.loseContext();const i=n.canvas;i.width=1,i.height=1,delete Jj[e]}(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,t,n){const r=this.gl_,i=this.getCanvas(),o=e.size,s=e.pixelRatio;i.width===o[0]*s&&i.height===o[1]*s||(i.width=o[0]*s,i.height=o[1]*s,i.style.width=o[0]+"px",i.style.height=o[1]+"px");for(let t=this.postProcessPasses_.length-1;t>=0;t--)this.postProcessPasses_[t].init(e);r.bindTexture(r.TEXTURE_2D,null),r.clearColor(0,0,0,0),r.depthRange(0,1),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,t?r.ZERO:r.ONE_MINUS_SRC_ALPHA),n?(r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL)):r.disable(r.DEPTH_TEST)}bindFrameBuffer(e,t){const n=this.getGL();n.bindFramebuffer(n.FRAMEBUFFER,e),t&&n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0)}bindInitialFrameBuffer(){const e=this.getGL(),t=this.postProcessPasses_[0].getFrameBuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);const n=this.postProcessPasses_[0].getRenderTargetTexture();e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}bindTexture(e,t,n){const r=this.gl_;r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,e),r.uniform1i(this.getUniformLocation(n),t)}bindAttribute(e,t,n){const r=this.getGL();this.bindBuffer(e);const i=this.getAttributeLocation(t);r.enableVertexAttribArray(i),r.vertexAttribPointer(i,n,r.FLOAT,!1,0,0)}prepareDrawToRenderTarget(e,t,n,r){const i=this.gl_,o=t.getSize();i.bindFramebuffer(i.FRAMEBUFFER,t.getFramebuffer()),i.bindRenderbuffer(i.RENDERBUFFER,t.getDepthbuffer()),i.viewport(0,0,o[0],o[1]),i.bindTexture(i.TEXTURE_2D,t.getTexture()),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),r?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}drawElements(e,t){const n=this.gl_;this.getExtension("OES_element_index_uint");const r=n.UNSIGNED_INT,i=t-e,o=4*e;n.drawElements(n.TRIANGLES,i,r,o)}drawElementsInstanced(e,t,n){const r=this.gl_;this.getExtension("OES_element_index_uint");const i=this.getInstancedRenderingExtension_(),o=r.UNSIGNED_INT,s=t-e,a=4*e;i.drawElementsInstancedANGLE(r.TRIANGLES,s,o,a,n);for(let e=0;e<this.maxAttributeCount_;e++)i.vertexAttribDivisorANGLE(e,0)}finalizeDraw(e,t,n){for(let r=0,i=this.postProcessPasses_.length;r<i;r++)r===i-1?this.postProcessPasses_[r].apply(e,null,t,n):this.postProcessPasses_[r].apply(e,this.postProcessPasses_[r+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){const t=e.size,n=e.viewState.rotation,r=e.pixelRatio;this.setUniformFloatValue(Hj,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(Uj,e.viewState.zoom),this.setUniformFloatValue(zj,e.viewState.resolution),this.setUniformFloatValue(qj,r),this.setUniformFloatVec2(Wj,[t[0],t[1]]),this.setUniformFloatValue(Gj,n)}applyHitDetectionUniform(e){const t=this.getUniformLocation(Bj);this.getGL().uniform1i(t,e?1:0),e&&this.setUniformFloatValue(qj,.5)}applyUniforms(e){const t=this.gl_;let n,r=0;this.uniforms_.forEach(i=>{if(n="function"==typeof i.value?i.value(e):i.value,n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof ImageData||n instanceof WebGLTexture){n instanceof WebGLTexture&&!i.texture?(i.prevValue=void 0,i.texture=n):i.texture||(i.prevValue=void 0,i.texture=t.createTexture()),this.bindTexture(i.texture,r,i.name),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);const e=!(n instanceof HTMLImageElement)||n.complete;n instanceof WebGLTexture||!e||i.prevValue===n||(i.prevValue=n,t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),r++}else if(Array.isArray(n)&&6===n.length)this.setUniformMatrixValue(i.name,$j(this.tmpMat4_,n));else if(Array.isArray(n)&&n.length<=4)switch(n.length){case 2:return void t.uniform2f(this.getUniformLocation(i.name),n[0],n[1]);case 3:return void t.uniform3f(this.getUniformLocation(i.name),n[0],n[1],n[2]);case 4:return void t.uniform4f(this.getUniformLocation(i.name),n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&t.uniform1f(this.getUniformLocation(i.name),n)})}useProgram(e,t){this.disableAllAttributes_();this.gl_.useProgram(e),this.currentProgram_=e,t&&(this.applyFrameState(t),this.applyUniforms(t))}compileShader(e,t){const n=this.gl_,r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}getProgram(e,t){const n=this.gl_,r=this.compileShader(e,n.FRAGMENT_SHADER),i=this.compileShader(t,n.VERTEX_SHADER),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getShaderParameter(r,n.COMPILE_STATUS)){const e=`Fragment shader compilation failed: ${n.getShaderInfoLog(r)}`;throw new Error(e)}if(n.deleteShader(r),!n.getShaderParameter(i,n.COMPILE_STATUS)){const e=`Vertex shader compilation failed: ${n.getShaderInfoLog(i)}`;throw new Error(e)}if(n.deleteShader(i),!n.getProgramParameter(o,n.LINK_STATUS)){const e=`GL program linking failed: ${n.getProgramInfoLog(o)}`;throw new Error(e)}return o}getUniformLocation(e){const t=Pn(this.currentProgram_);return void 0===this.uniformLocationsByProgram_[t]&&(this.uniformLocationsByProgram_[t]={}),void 0===this.uniformLocationsByProgram_[t][e]&&(this.uniformLocationsByProgram_[t][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[t][e]}getAttributeLocation(e){const t=Pn(this.currentProgram_);return void 0===this.attribLocationsByProgram_[t]&&(this.attribLocationsByProgram_[t]={}),void 0===this.attribLocationsByProgram_[t][e]&&(this.attribLocationsByProgram_[t][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[t][e]}makeProjectionTransform(e,t){const n=e.size,r=e.viewState.rotation,i=e.viewState.resolution,o=e.viewState.center;return pR(t,0,0,2/(i*n[0]),2/(i*n[1]),-r,-o[0],-o[1]),t}setUniformFloatValue(e,t){this.gl_.uniform1f(this.getUniformLocation(e),t)}setUniformFloatVec2(e,t){this.gl_.uniform2fv(this.getUniformLocation(e),t)}setUniformFloatVec4(e,t){this.gl_.uniform4fv(this.getUniformLocation(e),t)}setUniformMatrixValue(e,t){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,t)}disableAllAttributes_(){for(let e=0;e<this.maxAttributeCount_;e++)this.gl_.disableVertexAttribArray(e)}enableAttributeArray_(e,t,n,r,i,o){const s=this.getAttributeLocation(e);s<0||(this.gl_.enableVertexAttribArray(s),this.gl_.vertexAttribPointer(s,t,n,!1,r,i),o&&this.getInstancedRenderingExtension_().vertexAttribDivisorANGLE(s,1))}enableAttributes_(e,t){const n=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];t+=r.size*tH(r.type)}return t}(e);let r=0;for(let i=0;i<e.length;i++){const o=e[i];o.name&&this.enableAttributeArray_(o.name,o.size,o.type||5126,n,r,t),r+=o.size*tH(o.type)}}enableAttributes(e){this.enableAttributes_(e,!1)}enableAttributesInstanced(e){this.enableAttributes_(e,!0)}handleWebGLContextLost(e){ln(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,t,n,r){const i=this.gl_;n=n||i.createTexture();const o=r?i.NEAREST:i.LINEAR;i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const s=i.RGBA,a=i.RGBA,l=i.UNSIGNED_BYTE;return t instanceof Uint8Array?i.texImage2D(i.TEXTURE_2D,0,s,e[0],e[1],0,a,l,t):t?i.texImage2D(i.TEXTURE_2D,0,s,a,l,t):i.texImage2D(i.TEXTURE_2D,0,s,e[0],e[1],0,a,l,null),n}},rH=0,iH=1,oH=2,sH=3,aH=4,lH=Fj;function cH(e){switch(e){case Oj:return Float32Array;case Ij:return Uint32Array;default:return Float32Array}}const uH=class{constructor(e,t){this.array_=null,this.type_=e,Oe(e===Oj||e===Ij,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=void 0!==t?t:lH}ofSize(e){return this.array_=new(cH(this.type_))(e),this}fromArray(e){return this.array_=cH(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(cH(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}setArray(e){const t=cH(this.type_);if(!(e instanceof t))throw new Error(`Expected ${t}`);this.array_=e}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}};const hH=class extends hn{constructor(e,t,n){super(),n=n||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(Nt)}release(){this.setState(aH)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==aH){if(this.state!==sH&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Cn()}getAlpha(e,t){if(!this.transition_)return 1;let n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;const r=t-n+1e3/60;return r>=this.transition_?1:$N(r/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}};function dH(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}function fH(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e instanceof DataView?e:null}const pH=new Error("disposed");const mH=[256,256];const gH=class extends hH{constructor(e){const t=rH;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=dH(this.data_);return e?[e.width,e.height]:mH}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==rH&&this.state!==sH)return;this.state=iH,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=oH,e.changed()}).catch(function(t){e.error_=t,e.state=sH,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(pH),this.controller_=null),super.disposeInternal()}};const _H=class extends hH{constructor(e,t,n,r,i,o){super(e,t,o),this.crossOrigin_=r,this.src_=n,this.key=n,this.image_,qe?this.image_=new OffscreenCanvas(1,1):(this.image_=new Image,null!==r&&(this.image_.crossOrigin=r)),this.unlisten_=null,this.tileLoadFunction_=i}getImage(){return this.image_}setImage(e){this.image_=e,this.state=oH,this.unlistenImage_(),this.changed()}getCrossOrigin(){return this.crossOrigin_}handleImageError_(){this.state=sH,this.unlistenImage_(),this.image_=function(){const e=Ke(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}handleImageLoad_(){if(qe)this.state=oH;else{const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=oH:this.state=aH}this.unlistenImage_(),this.changed()}load(){this.state==sH&&(this.state=rH,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==rH&&(this.state=iH,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,t,n){const r=e;let i=!0,o=!1,s=!1;const a=[fn(r,Wt,function(){s=!0,o||t()})];return r.src&&Be?(o=!0,r.decode().then(function(){i&&t()}).catch(function(e){i&&(s?t():n())})):a.push(fn(r,Yt,n)),function(){i=!1,a.forEach(pn)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};let yH;const bH=[];function vH(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function wH(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function xH(e,t,n,r){const i=VA(n,t,e);let o=YA(t,r,n);const s=t.getMetersPerUnit();void 0!==s&&(o*=s);const a=e.getMetersPerUnit();void 0!==a&&(o/=a);const l=e.getExtent();if(!l||GP(l,i)){const t=YA(e,o,i)/o;isFinite(t)&&t>0&&(o/=t)}return o}function SH(e,t,n,r,i,o,s,a,l,c,u,h,d,f){const p=Ke(Math.round(n*e),Math.round(n*t),bH);if(h||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function m(e){return Math.round(e*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";const g=[1/0,1/0,-1/0,-1/0];let _;l.forEach(function(e,t,n){e$(g,e.extent)});const y=n/r,b=(h?1:1+Math.pow(2,-24))/y;if(!d||1!==l.length||0!==c){if(_=Ke(Math.round(g$(g)*y),Math.round(d$(g)*y),bH),h||(_.imageSmoothingEnabled=!1),i&&f){const e=(i[0]-g[0])*y,t=-(i[3]-g[3])*y,n=g$(i)*y,r=d$(i)*y;_.rect(e,t,n,r),_.clip()}l.forEach(function(e,t,n){if(e.image.width>0&&e.image.height>0){if(e.clipExtent){_.save();const t=(e.clipExtent[0]-g[0])*y,n=-(e.clipExtent[3]-g[3])*y,r=g$(e.clipExtent)*y,i=d$(e.clipExtent)*y;_.rect(h?t:Math.round(t),h?n:Math.round(n),h?r:Math.round(t+r)-Math.round(t),h?i:Math.round(n+i)-Math.round(n)),_.clip()}const t=(e.extent[0]-g[0])*y,n=-(e.extent[3]-g[3])*y,r=g$(e.extent)*y,i=d$(e.extent)*y;_.drawImage(e.image,c,c,e.image.width-2*c,e.image.height-2*c,h?t:Math.round(t),h?n:Math.round(n),h?r:Math.round(t+r)-Math.round(t),h?i:Math.round(n+i)-Math.round(n)),e.clipExtent&&_.restore()}})}const v=p$(s);return a.getTriangles().forEach(function(e,t,n){const r=e.source,i=e.target;let s=r[0][0],a=r[0][1],c=r[1][0],u=r[1][1],d=r[2][0],f=r[2][1];const y=m((i[0][0]-v[0])/o),w=m(-(i[0][1]-v[1])/o),x=m((i[1][0]-v[0])/o),S=m(-(i[1][1]-v[1])/o),M=m((i[2][0]-v[0])/o),k=m(-(i[2][1]-v[1])/o),T=s,E=a;s=0,a=0,c-=T,u-=E,d-=T,f-=E;const L=function(e){const t=e.length;for(let n=0;n<t;n++){let r=n,i=Math.abs(e[n][n]);for(let o=n+1;o<t;o++){const t=Math.abs(e[o][n]);t>i&&(i=t,r=o)}if(0===i)return null;const o=e[r];e[r]=e[n],e[n]=o;for(let r=n+1;r<t;r++){const i=-e[r][n]/e[n][n];for(let o=n;o<t+1;o++)n==o?e[r][o]=0:e[r][o]+=i*e[n][o]}}const n=new Array(t);for(let r=t-1;r>=0;r--){n[r]=e[r][t]/e[r][r];for(let i=r-1;i>=0;i--)e[i][t]-=e[i][r]*n[r]}return n}([[c,u,0,0,x-y],[d,f,0,0,M-y],[0,0,c,u,S-w],[0,0,d,f,k-w]]);if(!L)return;if(p.save(),p.beginPath(),function(){if(void 0===yH){const e=Ke(6,6,bH);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",vH(e,4,5,4,0),vH(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;yH=wH(t,0)||wH(t,4)||wH(t,8),Qe(e),bH.push(e.canvas)}return yH}()||!h){p.moveTo(x,S);const e=4,t=y-x,n=w-S;for(let r=0;r<e;r++)p.lineTo(x+m((r+1)*t/e),S+m(r*n/(e-1))),r!=e-1&&p.lineTo(x+m((r+1)*t/e),S+m((r+1)*n/(e-1)));p.lineTo(M,k)}else p.moveTo(x,S),p.lineTo(y,w),p.lineTo(M,k);let C;if(p.clip(),p.transform(L[0],L[2],L[1],L[3],y,w),p.translate(g[0]-T,g[3]-E),_)C=_.canvas,p.scale(b,-b);else{const e=l[0],t=e.extent;C=e.image,p.scale(g$(t)/C.width,-d$(t)/C.height)}p.drawImage(C,0,0),p.restore()}),_&&(Qe(_),bH.push(_.canvas)),u&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach(function(e,t,n){const r=e.target,i=(r[0][0]-v[0])/o,s=-(r[0][1]-v[1])/o,a=(r[1][0]-v[0])/o,l=-(r[1][1]-v[1])/o,c=(r[2][0]-v[0])/o,u=-(r[2][1]-v[1])/o;p.beginPath(),p.moveTo(a,l),p.lineTo(i,s),p.lineTo(c,u),p.closePath(),p.stroke()}),p.restore()),p.canvas}const MH=class{constructor(e,t,n,r,i,o,s){this.sourceProj_=e,this.targetProj_=t;let a={};const l=s?UA(e=>hR(s,VA(e,this.targetProj_,this.sourceProj_))):BA(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){const t=e[0]+"/"+e[1];return a[t]||(a[t]=l(e)),a[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&g$(r)>=g$(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?g$(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?g$(this.targetProj_.getExtent()):null;const c=p$(n),u=m$(n),h=a$(n),d=s$(n),f=this.transformInv_(c),p=this.transformInv_(u),m=this.transformInv_(h),g=this.transformInv_(d),_=10+(o?Math.max(0,Math.ceil(Math.log2(o$(n)/(o*o*256*256)))):0);if(this.addQuad_(c,u,h,d,f,p,m,g,_),this.wrapsXInSource_){let e=1/0;this.triangles_.forEach(function(t,n,r){e=Math.min(e,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(t=>{if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2){const n=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];n[0][0]-e>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-e>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-e>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const r=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-r<this.sourceWorldWidth_/2&&(t.source=n)}})}a={}}addTriangle_(e,t,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[e,t,n]})}addQuad_(e,t,n,r,i,o,s,a,l){const c=jP([i,o,s,a]),u=this.sourceWorldWidth_?g$(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1;let f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){f=g$(jP([e,t,n,r]))/this.targetWorldWidth_>.25||f}!d&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!_$(c,this.maxSourceExtent_))return;let p=0;if(!(f||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)f=!0;else if(p=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!f){const t=[(e[0]+n[0])/2,(e[1]+n[1])/2],r=this.transformInv_(t);let o;if(d){o=(ht(i[0],h)+ht(s[0],h))/2-ht(r[0],h)}else o=(i[0]+s[0])/2-r[0];const a=(i[1]+s[1])/2-r[1];f=o*o+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const c=[(t[0]+n[0])/2,(t[1]+n[1])/2],u=this.transformInv_(c),h=[(r[0]+e[0])/2,(r[1]+e[1])/2],d=this.transformInv_(h);this.addQuad_(e,t,c,h,i,o,u,d,l-1),this.addQuad_(h,c,n,r,d,u,s,a,l-1)}else{const c=[(e[0]+t[0])/2,(e[1]+t[1])/2],u=this.transformInv_(c),h=[(n[0]+r[0])/2,(n[1]+r[1])/2],d=this.transformInv_(h);this.addQuad_(e,c,h,r,i,u,d,a,l-1),this.addQuad_(c,t,n,h,u,o,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&p||this.addTriangle_(e,n,r,i,s,a),14&p||this.addTriangle_(e,n,t,i,s,o),p&&(13&p||this.addTriangle_(t,r,e,o,a,i),7&p||this.addTriangle_(t,r,n,o,a,s))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(t,n,r){const i=t.source;t$(e,i[0]),t$(e,i[1]),t$(e,i[2])}),e}getTriangles(){return this.triangles_}};const kH=class extends hH{constructor(e,t,n,r,i,o,s,a,l,c,u,h){super(i,rH,h),this.renderEdges_=void 0!==u&&u,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||i,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const d=r.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const m=f?f$(d,f):d;if(0===o$(m))return void(this.state=aH);const g=e.getExtent();g&&(p=p?f$(p,g):g);const _=r.getResolution(this.wrappedTileCoord_[0]),y=function(e,t,n,r){const i=l$(n);let o=xH(e,t,i,r);return(!isFinite(o)||o<=0)&&i$(n,function(n){return o=xH(e,t,n,r),isFinite(o)&&o>0}),o}(e,n,m,_);if(!isFinite(y)||y<=0)return void(this.state=aH);const b=void 0!==c?c:.5;if(this.triangulation_=new MH(e,n,m,p,y*b,_),0===this.triangulation_.getTriangles().length)return void(this.state=aH);this.sourceZ_=t.getZForResolution(y);let v=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(v[1]=st(v[1],p[1],p[3]),v[3]=st(v[3],p[1],p[3])):v=f$(v,p)),o$(v)){let n=0,r=0;e.canWrapX()&&(n=g$(g),r=Math.floor((v[0]-g[0])/n));w$(v.slice(),e,!0).forEach(e=>{const i=t.getTileRangeForExtentAndZ(e,this.sourceZ_);for(let e=i.minX;e<=i.maxX;e++)for(let t=i.minY;t<=i.maxY;t++){const i=l(this.sourceZ_,e,t,s);if(i){const e=r*n;this.sourceTiles_.push({tile:i,offset:e})}}++r}),0===this.sourceTiles_.length&&(this.state=aH)}else this.state=aH}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{const n=t.tile;if(n&&n.getState()==oH){const r=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);r[0]+=t.offset,r[2]+=t.offset;const i=this.clipExtent_?.slice();i&&(i[0]+=t.offset,i[2]+=t.offset),e.push({extent:r,clipExtent:i,image:n.getImage()})}}),this.sourceTiles_.length=0,0===e.length)this.state=sH;else{const t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=SH(r,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=oH}this.changed()}load(){if(this.state==rH){this.state=iH,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const n=t.getState();if(n==rH||n==iH){e++;const n=dn(t,Nt,r=>{const i=t.getState();i!=oH&&i!=sH&&i!=aH||(pn(n),e--,0===e&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(n)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:e},t,n){e.getState()==rH&&e.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(pn),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Qe(this.canvas_.getContext("2d")),bH.push(this.canvas_),this.canvas_=null),super.release()}};const TH=class extends hn{constructor(e){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter=e.gutter||0,this.helper=e.helper,this.loaded=!1,this.ready=!1}setTile(e){if(e!==this.tile)if(this.tile&&this.tile.removeEventListener(Nt,this.handleTileChange_),this.tile=e,this.loaded=e.getState()===oH,this.loaded)this.uploadTile();else{if(e instanceof _H){const t=e.getImage();t instanceof Image&&!t.crossOrigin&&(t.crossOrigin="anonymous")}e.addEventListener(Nt,this.handleTileChange_)}}uploadTile(){Cn()}setReady(){this.ready=!0,this.dispatchEvent(Nt)}handleTileChange_(){this.tile.getState()===oH&&(this.loaded=!0,this.uploadTile())}setHelper(e){this.helper=e,this.helper&&this.loaded&&this.uploadTile()}disposeInternal(){this.setHelper(null),this.tile.removeEventListener(Nt,this.handleTileChange_)}};function EH(e,t,n){const r=n?e.LINEAR:e.NEAREST;e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r)}function LH(e,t,n,r,i,o){const s=e.getGL();let a,l;if(n instanceof Float32Array){a=s.FLOAT,e.getExtension("OES_texture_float");l=null!==e.getExtension("OES_texture_float_linear")}else a=s.UNSIGNED_BYTE,l=!0;EH(s,t,o&&l);const c=n.byteLength/r[1];let u,h=1;switch(c%8==0?h=8:c%4==0?h=4:c%2==0&&(h=2),i){case 1:u=s.LUMINANCE;break;case 2:u=s.LUMINANCE_ALPHA;break;case 3:u=s.RGB;break;case 4:u=s.RGBA;break;default:throw new Error(`Unsupported number of bands: ${i}`)}const d=s.getParameter(s.UNPACK_ALIGNMENT);s.pixelStorei(s.UNPACK_ALIGNMENT,h),s.texImage2D(s.TEXTURE_2D,0,u,r[0],r[1],0,u,a,n),s.pixelStorei(s.UNPACK_ALIGNMENT,d)}let CH=null;const DH=class extends TH{constructor(e){super(e),this.textures=[],this.renderSize_=ur(e.grid.getTileSize(e.tile.tileCoord[0])),this.bandCount=NaN;const t=new uH(Oj,Fj);t.fromArray([0,1,1,1,1,0,0,0]),this.helper.flushBufferData(t),this.coords=t,this.setTile(e.tile)}setHelper(e){const t=this.helper?.getGL();if(t){this.helper.deleteBuffer(this.coords);for(let e=0;e<this.textures.length;++e)t.deleteTexture(this.textures[e])}super.setHelper(e),e&&e.flushBufferData(this.coords)}uploadTile(){const e=this.helper,t=e.getGL(),n=this.tile;let r;this.textures.length=0,r=n instanceof _H||n instanceof kH?n.getImage():n.getData();const i=dH(r);if(i){const e=t.createTexture();return this.textures.push(e),this.bandCount=4,function(e,t,n,r){EH(e,t,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}(t,e,i,n.interpolate),void this.setReady()}r=fH(r);const o=n.getSize(),s=[o[0]+2*this.gutter,o[1]+2*this.gutter],a=r instanceof Float32Array,l=s[0]*s[1],c=a?Float32Array:Uint8Array,u=c.BYTES_PER_ELEMENT,h=r.byteLength/s[1];this.bandCount=Math.floor(h/u/s[0]);const d=Math.ceil(this.bandCount/4);if(1===d){const i=t.createTexture();return this.textures.push(i),LH(e,i,r,s,this.bandCount,n.interpolate),void this.setReady()}const f=new Array(d);for(let e=0;e<d;++e){const n=t.createTexture();this.textures.push(n);const r=e<d-1?4:(this.bandCount-1)%4+1;f[e]=new c(l*r)}let p=0,m=0;const g=s[0]*this.bandCount;for(let e=0;e<s[1];++e){for(let e=0;e<g;++e){const t=r[m+e],n=Math.floor(p/this.bandCount),i=e%this.bandCount,o=f[Math.floor(i/4)];o[n*(o.length/l)+i%4]=t,++p}m+=h/u}for(let t=0;t<d;++t){const r=this.textures[t],i=f[t];LH(e,r,i,s,i.length/l,n.interpolate)}this.setReady()}getImagePixelData_(e,t,n){const r=this.gutter,i=this.renderSize_[0],o=this.renderSize_[1];CH||(CH=Ke(1,1,void 0,{willReadFrequently:!0})),CH.clearRect(0,0,1,1);const s=e.width-2*r,a=e.height-2*r,l=r+Math.floor(s*(t/i)),c=r+Math.floor(a*(n/o));let u;try{CH.drawImage(e,l,c,1,1,0,0,1,1),u=CH.getImageData(0,0,1,1).data}catch{return CH=null,null}return u}getArrayPixelData_(e,t,n,r){const i=this.gutter,o=this.renderSize_[0],s=this.renderSize_[1],a=t[0],l=t[1],c=a+2*i,u=l+2*i,h=i+Math.floor(a*(n/o)),d=i+Math.floor(l*(r/s));if(e instanceof DataView){const t=e.byteLength/(c*u),n=t*(d*c+h),r=e.buffer.slice(n,n+t);return new DataView(r)}const f=this.bandCount*(d*c+h);return e.slice(f,f+this.bandCount)}getPixelData(e,t){if(!this.loaded)return null;if(this.tile instanceof gH){const n=this.tile.getData(),r=fH(n);if(r){const n=this.tile.getSize();return this.getArrayPixelData_(r,n,e,t)}return this.getImagePixelData_(dH(n),e,t)}return this.getImagePixelData_(this.tile.getImage(),e,t)}};class PH{constructor(e,t,n,r){this.minX=e,this.maxX=t,this.minY=n,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function $H(e,t,n,r,i){return void 0!==i?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new PH(e,t,n,r)}const AH=PH;const RH=class{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Vt&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const n=this.entries_[e];return Oe(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(e){const t=this.entries_[e];return Oe(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t,n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e}getValues(){const e=new Array(this.count_);let t,n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Oe(!(e in this.entries_),"Tried to set a value for a key that is used already");const n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}setSize(e){this.highWaterMark=e}};function OH(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function IH(e,t,n){return e+"/"+t+"/"+n}function FH(e){return IH(e[0],e[1],e[2])}function NH(e,t,n,r,i){return`${Pn(e)},${t},${IH(n,r,i)}`}function YH(e){return function(e,t,n){return(t<<e)+n}(e[0],e[1],e[2])}class jH extends fI{constructor(e,t){super(e),t=t||{},this.inversePixelTransform_=[1,0,0,1,0,0],this.postProcesses_=t.postProcesses,this.uniforms_=t.uniforms,this.helper,this.onMapChanged_=()=>{this.clearCache(),this.removeHelper()},e.addChangeListener(yY,this.onMapChanged_),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,t){const n=this.getLayer();if(n.hasListener(fO)){const r=new dI(fO,void 0,t,e);n.dispatchEvent(r)}}dispatchPostComposeEvent(e,t){const n=this.getLayer();if(n.hasListener(pO)){const r=new dI(pO,void 0,t,e);n.dispatchEvent(r)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let t,n=!0,r=-1;for(let i=0,o=e.layerStatesArray.length;i<o;i++){const o=e.layerStatesArray[i].layer,s=o.getRenderer();if(!(s instanceof jH)){n=!0;continue}const a=o.getClassName();if((n||a!==t)&&(r+=1,n=!1),t=a,s===this)break}const i="map/"+e.mapId+"/group/"+r;this.helper&&this.helper.canvasCacheKeyMatches(i)&&!this.helper.needsToBeRecreated()||(this.removeHelper(),this.helper=new nH({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:i}),t&&(this.helper.getCanvas().className=t),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}clearCache(){}disposeInternal(){this.clearCache(),this.removeHelper(),this.getLayer()?.removeChangeListener(yY,this.onMapChanged_),super.disposeInternal()}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){pR(this.inversePixelTransform_,0,0,n.pixelRatio,-n.pixelRatio,0,0,-n.size[1]);const i=new dI(e,this.inversePixelTransform_,n,t);r.dispatchEvent(i)}}preRender(e,t){this.dispatchRenderEvent_(hO,e,t)}postRender(e,t){this.dispatchRenderEvent_(dO,e,t)}}const HH=jH;function UH(e){return 1/(e+2)}function zH(e,t){return e.tileIds.has(Pn(t))}function GH(e,t,n){const r=e.representationsByZ;n in r||(r[n]=new Set),r[n].add(t),e.tileIds.add(Pn(t.tile))}function WH(e,t){const n=e.layerStatesArray[e.layerIndex];n.extent&&(t=f$(t,tR(n.extent,e.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const n=r.getTileGridForProjection(e.viewState.projection).getExtent();n&&(t=f$(t,n))}return t}function qH(e,t){return`${Pn(e)},${e.getKey()},${e.getRevision()},${FH(t)}`}const BH=class extends HH{constructor(e,t){super(e,{uniforms:t.uniforms,postProcesses:t.postProcesses}),this.renderComplete=!1,this.tileTransform_=[1,0,0,1,0,0],this.tempMat4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.tempTileRange_=new AH(0,0,0,0),this.tempTileCoord_=OH(0,0,0),this.tempSize_=[0,0];const n=void 0!==t.cacheSize?t.cacheSize:512;this.tileRepresentationCache=new RH(n),this.frameState=null,this.renderedProjection_=void 0}reset(e){super.reset({uniforms:e.uniforms})}prepareFrameInternal(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.clearCache(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const t=this.getLayer().getRenderSource();return!!t&&(!y$(WH(e,e.extent))&&"ready"===t.getState())}createTileRepresentation(e){return Cn()}enqueueTiles(e,t,n,r,i){const o=e.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getGutterForProjection(o.projection),u=Pn(a);u in e.wantedTiles||(e.wantedTiles[u]={});const h=e.wantedTiles[u],d=this.tileRepresentationCache,f=s.getMapInternal(),p=Math.max(n-i,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection)),m=o.rotation,g=m?h$(o.center,o.resolution,m,e.size):void 0;for(let i=n;i>=p;--i){const n=l.getTileRangeForExtentAndZ(t,i,this.tempTileRange_),s=l.getResolution(i);for(let t=n.minX;t<=n.maxX;++t)for(let f=n.minY;f<=n.maxY;++f){if(m&&!l.tileCoordIntersectsViewport([i,t,f],g))continue;const n=OH(i,t,f,this.tempTileCoord_),p=qH(a,n);let _,y;if(d.containsKey(p)&&(_=d.get(p),y=_.tile),!(_&&_.tile.key===a.getKey()||(y=a.getTile(i,t,f,e.pixelRatio,o.projection),y)))continue;if(zH(r,y))continue;_?_.setTile(y):(_=this.createTileRepresentation({tile:y,grid:l,helper:this.helper,gutter:c}),d.set(p,_)),GH(r,_,i);const b=y.getKey();h[b]=!0,y.getState()===rH&&(e.tileQueue.isKeyQueued(b)||e.tileQueue.enqueue([y,u,l.getTileCoordCenter(n),s]))}}}beforeTilesRender(e,t){this.helper.prepareDraw(this.frameState,!t,!0)}beforeTilesMaskRender(e){return!1}renderTile(e,t,n,r,i,o,s,a,l,c,u){}renderTileMask(e,t,n,r){}drawTile_(e,t,n,r,i,o,s){if(!t.ready)return;const a=t.tile.tileCoord,l=FH(a),c=l in o?o[l]:1,u=s.getResolution(n),h=ur(s.getTileSize(n),this.tempSize_),d=s.getOrigin(n),f=s.getTileCoordExtent(a),p=c<1?-1:UH(n);c<1&&(e.animate=!0);const m=e.viewState,g=m.center[0],_=m.center[1],y=h[0]+2*r,b=h[1]+2*r,v=y/b,w=(g-d[0])/(h[0]*u),x=(d[1]-_)/(h[1]*u),S=m.resolution/u,M=a[1],k=a[2];lR(this.tileTransform_),dR(this.tileTransform_,2/(e.size[0]*S/y),-2/(e.size[1]*S/y)),function(e,t){const n=Math.cos(t),r=Math.sin(t);cR(e,uR(aR,n,r,-r,n,0,0))}(this.tileTransform_,m.rotation),dR(this.tileTransform_,1,1/v),fR(this.tileTransform_,(h[0]*(M-w)-r)/y,(h[1]*(k-x)-r)/b),this.renderTile(t,this.tileTransform_,e,i,u,h,d,f,p,r,c)}renderFrame(e){this.frameState=e,this.renderComplete=!0;const t=this.helper.getGL();this.preRender(t,e);const n=e.viewState,r=this.getLayer(),i=r.getRenderSource(),o=i.getTileGridForProjection(n.projection),s=i.getGutterForProjection(n.projection),a=WH(e,e.extent),l=o.getZForResolution(n.resolution,i.zDirection),c={tileIds:new Set,representationsByZ:{}},u=r.getPreload();if(e.nextExtent){const t=o.getZForResolution(n.nextResolution,i.zDirection),r=WH(e,e.nextExtent);this.enqueueTiles(e,r,t,c,u)}this.enqueueTiles(e,a,l,c,0),u>0&&setTimeout(()=>{this.enqueueTiles(e,a,l-1,c,u-1)},0);const h={};let d=!1;const f=c.representationsByZ;if(l in f){const t=Pn(this),n=e.time;for(const e of f[l]){const r=e.tile;if(r.getState()===aH)continue;const i=r.tileCoord;if(e.ready){const e=r.getAlpha(t,n);if(1===e){r.endTransition(t);continue}d=!0;h[FH(i)]=e}this.renderComplete=!1;if(this.findAltTiles_(o,i,l+1,c))continue;const s=o.getMinZoom();for(let e=l-1;e>=s;--e){if(this.findAltTiles_(o,i,e,c))break}}}const p=Object.keys(f).map(Number).sort(Kt);if(this.beforeTilesMaskRender(e))for(let e=0,t=p.length;e<t;++e){const t=p[e];for(const e of f[t]){const n=e.tile.tileCoord;if(FH(n)in h)continue;const r=o.getTileCoordExtent(n);this.renderTileMask(e,t,r,UH(t))}}this.beforeTilesRender(e,d);for(let t=0,n=p.length;t<n;++t){const n=p[t];for(const t of f[n]){FH(t.tile.tileCoord)in h||this.drawTile_(e,t,n,s,a,h,o)}}if(l in f)for(const t of f[l]){FH(t.tile.tileCoord)in h&&this.drawTile_(e,t,l,s,a,h,o)}this.beforeFinalize(e),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const m=this.helper.getCanvas();return this.tileRepresentationCache.expireCache(),this.postRender(t,e),m}beforeFinalize(e){}findAltTiles_(e,t,n,r){const i=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!i)return!1;let o=!0;const s=this.tileRepresentationCache,a=this.getLayer().getRenderSource();for(let e=i.minX;e<=i.maxX;++e)for(let t=i.minY;t<=i.maxY;++t){const i=qH(a,[n,e,t]);let l=!1;if(s.containsKey(i)){const e=s.get(i);e.ready&&!zH(r,e.tile)&&(GH(r,e,n),l=!0)}l||(o=!1)}return o}clearCache(){super.clearCache();const e=this.tileRepresentationCache;e.forEach(e=>e.dispose()),e.clear()}afterHelperCreated(){super.afterHelperCreated(),this.tileRepresentationCache.forEach(e=>e.setHelper(this.helper))}disposeInternal(){super.disposeInternal(),delete this.frameState}},VH={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},XH="a_textureCoord",KH=[{name:XH,size:2,type:Zj}];const ZH=class extends BH{constructor(e,t){super(e,t),this.program_,this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.indices_=new uH(Ij,Fj),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=t.paletteTextures||[]}reset(e){if(super.reset(e),this.helper){const e=this.helper.getGL();for(const t of this.paletteTextures_)t.delete(e)}if(this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.paletteTextures_=e.paletteTextures||[],this.helper){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);const e=this.helper.getGL();for(const t of this.paletteTextures_)t.getTexture(e)}}afterHelperCreated(){super.afterHelperCreated();const e=this.helper.getGL();for(const t of this.paletteTextures_)t.getTexture(e);this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}removeHelper(){if(this.helper){const e=this.helper.getGL();for(const t of this.paletteTextures_)t.delete(e)}super.removeHelper()}createTileRepresentation(e){return new DH(e)}beforeTilesRender(e,t){super.beforeTilesRender(e,t),this.helper.useProgram(this.program_,e)}renderTile(e,t,n,r,i,o,s,a,l,c,u){const h=this.helper.getGL();this.helper.bindBuffer(e.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(KH);let d=0;for(;d<e.textures.length;){const t=`${VH.TILE_TEXTURE_ARRAY}[${d}]`;this.helper.bindTexture(e.textures[d],d,t),++d}for(let e=0;e<this.paletteTextures_.length;++e){const t=this.paletteTextures_[e],n=t.getTexture(h);this.helper.bindTexture(n,d,t.name),++d}const f=n.viewState,p=o[0]+2*c,m=o[1]+2*c,g=e.tile.tileCoord,_=g[1],y=g[2];this.helper.setUniformMatrixValue(VH.TILE_TRANSFORM,$j(this.tempMat4,t)),this.helper.setUniformFloatValue(VH.TRANSITION_ALPHA,u),this.helper.setUniformFloatValue(VH.DEPTH,l);let b=r;c>0&&(b=a,f$(b,r,b)),this.helper.setUniformFloatVec4(VH.RENDER_EXTENT,b),this.helper.setUniformFloatValue(VH.RESOLUTION,f.resolution),this.helper.setUniformFloatValue(VH.ZOOM,f.zoom),this.helper.setUniformFloatValue(VH.TEXTURE_PIXEL_WIDTH,p),this.helper.setUniformFloatValue(VH.TEXTURE_PIXEL_HEIGHT,m),this.helper.setUniformFloatValue(VH.TEXTURE_RESOLUTION,i),this.helper.setUniformFloatValue(VH.TEXTURE_ORIGIN_X,s[0]+_*o[0]*i-c*i),this.helper.setUniformFloatValue(VH.TEXTURE_ORIGIN_Y,s[1]-y*o[1]*i+c*i),this.helper.drawElements(0,this.indices_.getSize())}getData(e){if(!this.helper.getGL())return null;const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=hR(t.pixelToCoordinateTransform,e.slice()),i=t.viewState,o=n.getExtent();if(o&&!GP(tR(o,i.projection),r))return null;const s=n.getSources(jP([r]),i.resolution);let a,l,c;for(a=s.length-1;a>=0;--a)if(l=s[a],"ready"===l.getState()){if(c=l.getTileGridForProjection(i.projection),l.getWrapX())break;const e=c.getExtent();if(!e||GP(e,r))break}if(a<0)return null;const u=this.tileRepresentationCache;for(let e=c.getZForResolution(i.resolution);e>=c.getMinZoom();--e){const t=c.getTileCoordForCoordAndZ(r,e),n=qH(l,t);if(!u.containsKey(n))continue;const i=u.get(n);if(i.tile.getState()===aH)return null;if(!i.loaded)continue;const o=c.getOrigin(e),s=ur(c.getTileSize(e)),a=c.getResolution(e),h=(r[0]-o[0])/a-t[1]*s[0],d=(o[1]-r[1])/a-t[2]*s[1];return i.getPixelData(h,d)}return null}disposeInternal(){const e=this.helper;if(e){const t=e.getGL();for(const e of this.paletteTextures_)e.delete(t);this.paletteTextures_.length=0,t.deleteProgram(this.program_),delete this.program_,e.deleteBuffer(this.indices_)}super.disposeInternal(),delete this.indices_}};const JH=class{constructor(e,t){this.name=e,this.data=t,this.texture_=null}getTexture(e){if(!this.texture_){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_}delete(e){this.texture_&&e.deleteTexture(this.texture_),this.texture_=null}};function QH(e){const t=e.toString();return t.includes(".")?t:t+".0"}function eU(e){if(e.length<2||e.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${e.length}(${e.map(QH).join(", ")})`}const tU={};let nU=0;function rU(e){return e in tU||(tU[e]=nU++),tU[e]}function iU(e){return"u_var_"+e}const oU="getBandValue",sU="u_paletteTextures";function aU(e){return(t,n,r)=>{const i=n.args.length,o=new Array(i);for(let e=0;e<i;++e)o[e]=cU(n.args[e],r,t);return e(o,t)}}const lU={[QI]:(e,t)=>{const n=t.args[0].value;n in e.properties||(e.properties[n]={name:n,type:t.type});let r="a_prop_"+n;return VI(t.type,FI)&&(r=`(${r} > 0.0)`),r},[HF]:e=>(e.featureId=!0,"a_featureId"),[nF]:e=>(e.geometryType=!0,"a_geometryType"),[rF]:()=>"currentLineMetric",[eF]:(e,t)=>{const n=t.args[0].value;n in e.variables||(e.variables[n]={name:n,type:t.type});let r=iU(n);return VI(t.type,FI)&&(r=`(${r} > 0.0)`),r},[WF]:(e,t)=>{const n=t.args[0].value;return n in e.properties||(e.properties[n]={name:n,type:t.type}),`(a_prop_${n} != ${QH(-9999999)})`},[aF]:()=>"u_resolution",[lF]:()=>"u_zoom",[cF]:()=>"u_time",[iF]:aU(e=>`(${e.join(" || ")})`),[oF]:aU(e=>`(${e.join(" && ")})`),[sF]:aU(([e])=>`(!${e})`),[uF]:aU(([e,t])=>`(${e} == ${t})`),[hF]:aU(([e,t])=>`(${e} != ${t})`),[dF]:aU(([e,t])=>`(${e} > ${t})`),[fF]:aU(([e,t])=>`(${e} >= ${t})`),[pF]:aU(([e,t])=>`(${e} < ${t})`),[mF]:aU(([e,t])=>`(${e} <= ${t})`),[gF]:aU(e=>`(${e.join(" * ")})`),[_F]:aU(([e,t])=>`(${e} / ${t})`),[yF]:aU(e=>`(${e.join(" + ")})`),[bF]:aU(([e,t])=>`(${e} - ${t})`),[vF]:aU(([e,t,n])=>`clamp(${e}, ${t}, ${n})`),[wF]:aU(([e,t])=>`mod(${e}, ${t})`),[xF]:aU(([e,t])=>`pow(${e}, ${t})`),[SF]:aU(([e])=>`abs(${e})`),[MF]:aU(([e])=>`floor(${e})`),[kF]:aU(([e])=>`ceil(${e})`),[TF]:aU(([e])=>`floor(${e} + 0.5)`),[EF]:aU(([e])=>`sin(${e})`),[LF]:aU(([e])=>`cos(${e})`),[CF]:aU(([e,t])=>void 0!==t?`atan(${e}, ${t})`:`atan(${e})`),[DF]:aU(([e])=>`sqrt(${e})`),[PF]:aU(e=>{const t=e[0],n=e[e.length-1];let r=null;for(let i=e.length-3;i>=1;i-=2){r=`(${t} == ${e[i]} ? ${e[i+1]} : ${r||n})`}return r}),[$F]:aU(([e,t,n])=>`(${e} >= ${t} && ${e} <= ${n})`),[AF]:aU(([e,t,...n])=>{let r="";for(let i=0;i<n.length-2;i+=2){const o=n[i],s=r||n[i+1],a=n[i+2],l=n[i+3];let c;c=e===QH(1)?`(${t} - ${o}) / (${a} - ${o})`:`(pow(${e}, (${t} - ${o})) - 1.0) / (pow(${e}, (${a} - ${o})) - 1.0)`,r=`mix(${s}, ${l}, clamp(${c}, 0.0, 1.0))`}return r}),[OF]:aU(e=>{const t=e[e.length-1];let n=null;for(let r=e.length-3;r>=0;r-=2){n=`(${e[r]} ? ${e[r+1]} : ${n||t})`}return n}),[IF]:aU(([e,...t],n)=>{const r=function(e,t){return`operator_${e}_${Object.keys(t.functions).length}`}("in",n),i=[];for(let e=0;e<t.length;e+=1)i.push(`  if (inputValue == ${t[e]}) { return true; }`);return n.functions[r]=`bool ${r}(float inputValue) {\n${i.join("\n")}\n  return false;\n}`,`${r}(${e})`}),[YF]:aU(e=>`vec${e.length}(${e.join(", ")})`),[jF]:aU(e=>{if(1===e.length)return`vec4(vec3(${e[0]} / 255.0), 1.0)`;if(2===e.length)return`vec4(vec3(${e[0]} / 255.0), ${e[1]})`;const t=e.slice(0,3).map(e=>`${e} / 255.0`);if(3===e.length)return`vec4(${t.join(", ")}, 1.0)`;const n=e[3];return`vec4(${t.join(", ")}, ${n})`}),[UF]:aU(([e,t,n],r)=>{if(!(oU in r.functions)){let e="";const t=r.bandCount||1;for(let n=0;n<t;n++){const r=Math.floor(n/4);let i=n%4;n===t-1&&1===i&&(i=3);e+=`  if (band == ${n+1}.0) {\n    return texture2D(${`${VH.TILE_TEXTURE_ARRAY}[${r}]`}, v_textureCoord + vec2(dx, dy))[${i}];\n  }\n`}r.functions[oU]=`float getBandValue(float band, float xOffset, float yOffset) {\n  float dx = xOffset / ${VH.TEXTURE_PIXEL_WIDTH};\n  float dy = yOffset / ${VH.TEXTURE_PIXEL_HEIGHT};\n${e}\n}`}return`${oU}(${e}, ${t??"0.0"}, ${n??"0.0"})`}),[zF]:(e,t)=>{const[n,...r]=t.args,i=r.length,o=new Uint8Array(4*i);for(let e=0;e<r.length;e++){const t=It(r[e].value),n=4*e;o[n]=t[0],o[n+1]=t[1],o[n+2]=t[2],o[n+3]=255*t[3]}e.paletteTextures||(e.paletteTextures=[]);const s=`${sU}[${e.paletteTextures.length}]`,a=new JH(s,o);e.paletteTextures.push(a);return`texture2D(${s}, vec2((${cU(n,NI,e)} + 0.5) / ${i}.0, 0.5))`}};function cU(e,t,n){if(e instanceof KI){const r=lU[e.operator];if(void 0===r)throw new Error(`No compiler defined for this operator: ${JSON.stringify(e.operator)}`);return r(n,e,t)}if((e.type&NI)>0)return QH(e.value);if((e.type&FI)>0)return e.value.toString();if((e.type&YI)>0)return function(e){return QH(rU(e))}(e.value.toString());if((e.type&jI)>0)return function(e){const t=It(e),n=t.length>3?t[3]:1;return eU([t[0]/255,t[1]/255,t[2]/255,n])}(e.value);if((e.type&HI)>0)return eU(e.value);if((e.type&UI)>0)return function(e){return eU(ur(e))}(e.value);throw new Error(`Unexpected expression ${e.value} (expected type ${qI(t)})`)}function uU(e,t,n){return function(e,t,n,r){return cU(JI(e,t,n),t,r)}(t,n,ZI(),e)}const hU="preload",dU="useInterimTilesOnError";const fU=class extends wY{constructor(e){e=e||{};const t=Object.assign({},e),n=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(hU)}setPreload(e){this.set(hU,e)}getUseInterimTilesOnError(){return this.get(dU)}setUseInterimTilesOnError(e){this.set(dU,e)}getData(e){return super.getData(e)}};function pU(e,t){const n=`\n    attribute vec2 ${XH};\n    uniform mat4 ${VH.TILE_TRANSFORM};\n    uniform float ${VH.TEXTURE_PIXEL_WIDTH};\n    uniform float ${VH.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${VH.TEXTURE_RESOLUTION};\n    uniform float ${VH.TEXTURE_ORIGIN_X};\n    uniform float ${VH.TEXTURE_ORIGIN_Y};\n    uniform float ${VH.DEPTH};\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord = ${XH};\n      v_mapCoord = vec2(\n        ${VH.TEXTURE_ORIGIN_X} + ${VH.TEXTURE_RESOLUTION} * ${VH.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],\n        ${VH.TEXTURE_ORIGIN_Y} - ${VH.TEXTURE_RESOLUTION} * ${VH.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]\n      );\n      gl_Position = ${VH.TILE_TRANSFORM} * vec4(${XH}, ${VH.DEPTH}, 1.0);\n    }\n  `,r={variables:{},properties:{},functions:{},bandCount:0,featureId:!1,geometryType:!1,bandCount:t},i=[];if(void 0!==e.color){const t=uU(r,e.color,jI);i.push(`color = ${t};`)}if(void 0!==e.contrast){const t=uU(r,e.contrast,NI);i.push(`color.rgb = clamp((${t} + 1.0) * color.rgb - (${t} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(void 0!==e.exposure){const t=uU(r,e.exposure,NI);i.push(`color.rgb = clamp((${t} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(void 0!==e.saturation){const t=uU(r,e.saturation,NI);i.push(`\n      float saturation = ${t} + 1.0;\n      float sr = (1.0 - saturation) * 0.2126;\n      float sg = (1.0 - saturation) * 0.7152;\n      float sb = (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix = mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    `)}if(void 0!==e.gamma){const t=uU(r,e.gamma,NI);i.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${t}));`)}if(void 0!==e.brightness){const t=uU(r,e.brightness,NI);i.push(`color.rgb = clamp(color.rgb + ${t}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}const o={},s=Object.keys(r.variables).length;if(s>1&&!e.variables)throw new Error(`Missing variables in style (expected ${r.variables})`);for(let t=0;t<s;++t){const n=r.variables[Object.keys(r.variables)[t]];if(!(n.name in e.variables))throw new Error(`Missing '${n.name}' in style variables`);o[iU(n.name)]=function(){let t=e.variables[n.name];return"string"==typeof t&&(t=rU(t)),void 0!==t?t:-9999999}}const a=Object.keys(o).map(function(e){return`uniform float ${e};`}),l=Math.ceil(t/4);a.push(`uniform sampler2D ${VH.TILE_TEXTURE_ARRAY}[${l}];`),r.paletteTextures&&a.push(`uniform sampler2D ${sU}[${r.paletteTextures.length}];`);const c=Object.keys(r.functions).map(function(e){return r.functions[e]});return{vertexShader:n,fragmentShader:`\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ${VH.RENDER_EXTENT};\n    uniform float ${VH.TRANSITION_ALPHA};\n    uniform float ${VH.TEXTURE_PIXEL_WIDTH};\n    uniform float ${VH.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${VH.RESOLUTION};\n    uniform float ${VH.ZOOM};\n\n    ${a.join("\n")}\n\n    ${c.join("\n")}\n\n    void main() {\n      if (\n        v_mapCoord[0] < ${VH.RENDER_EXTENT}[0] ||\n        v_mapCoord[1] < ${VH.RENDER_EXTENT}[1] ||\n        v_mapCoord[0] > ${VH.RENDER_EXTENT}[2] ||\n        v_mapCoord[1] > ${VH.RENDER_EXTENT}[3]\n      ) {\n        discard;\n      }\n\n      vec4 color = texture2D(${VH.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);\n\n      ${i.join("\n")}\n\n      gl_FragColor = color;\n      gl_FragColor.rgb *= gl_FragColor.a;\n      gl_FragColor *= ${VH.TRANSITION_ALPHA};\n    }`,uniforms:o,paletteTextures:r.paletteTextures}}class mU extends fU{constructor(e){const t=(e=e?Object.assign({},e):{}).style||{};delete e.style,super(e),this.sources_=e.sources,this.renderedSource_=null,this.renderedResolution_=NaN,this.style_=t,this.styleVariables_=this.style_.variables||{},this.handleSourceUpdate_(),this.addChangeListener(_Y,this.handleSourceUpdate_)}getSources(e,t){const n=this.getSource();return this.sources_?"function"==typeof this.sources_?this.sources_(e,t):this.sources_:n?[n]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const e=this.getRenderSource();return e?e.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache();const e=this.getSource();if(e)if("loading"===e.getState()){const t=()=>{"ready"===e.getState()&&(e.removeEventListener("change",t),this.setStyle(this.style_))};e.addEventListener("change",t)}else this.setStyle(this.style_)}getSourceBandCount_(){const e=Number.MAX_SAFE_INTEGER,t=this.getSources([-e,-e,e,e],e);return t&&t.length&&"bandCount"in t[0]?t[0].bandCount:4}createRenderer(){const e=pU(this.style_,this.getSourceBandCount_());return new ZH(this,{vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,cacheSize:this.getCacheSize(),paletteTextures:e.paletteTextures})}renderSources(e,t){const n=this.getRenderer();let r;for(let i=0,o=t.length;i<o;++i)this.renderedSource_=t[i],n.prepareFrame(e)&&(r=n.renderFrame(e));return r}render(e,t){this.rendered=!0;const n=e.viewState,r=this.getSources(e.extent,n.resolution);let i=!0;for(let e=0,t=r.length;e<t;++e){const t=r[e],n=t.getState();if("loading"==n){const e=()=>{"ready"==t.getState()&&(t.removeEventListener("change",e),this.changed())};t.addEventListener("change",e)}i=i&&"ready"==n}const o=this.renderSources(e,r);if(this.getRenderer().renderComplete&&i)return this.renderedResolution_=n.resolution,o;if(this.renderedResolution_>.5*n.resolution){const t=this.getSources(e.extent,this.renderedResolution_).filter(e=>!r.includes(e));if(t.length>0)return this.renderSources(e,t)}return o}setStyle(e){if(this.styleVariables_=e.variables||{},this.style_=e,this.hasRenderer()){const e=pU(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,paletteTextures:e.paletteTextures}),this.changed()}}updateStyleVariables(e){Object.assign(this.styleVariables_,e),this.changed()}}mU.prototype.dispose;const gU=mU;function _U(e,t,n){if(!(n in e))return e[n]=new Set([t]),!0;const r=e[n],i=r.has(t);return i||r.add(t),!i}function yU(e,t,n){const r=e[n];return!!r&&r.delete(t)}function bU(e,t){const n=e.layerStatesArray[e.layerIndex];n.extent&&(t=f$(t,tR(n.extent,e.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const n=r.getTileGridForProjection(e.viewState.projection).getExtent();n&&(t=f$(t,n))}return t}const vU=class extends gI{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=[1/0,1/0,-1/0,-1/0],this.tempTileRange_=new AH(0,0,0,0),this.tempTileCoord_=OH(0,0,0);const n=void 0!==t.cacheSize?t.cacheSize:512;this.tileCache_=new RH(n),this.sourceTileCache_=null,this.maxStaleKeys=.5*n}getTileCache(){return this.tileCache_}getSourceTileCache(){return this.sourceTileCache_||(this.sourceTileCache_=new RH(512)),this.sourceTileCache_}getOrCreateTile(e,t,n,r){const i=this.tileCache_,o=this.getLayer().getSource(),s=NH(o,o.getKey(),e,t,n);let a;if(i.containsKey(s))a=i.get(s);else{const l=r.viewState.projection,c=o.getProjection();if(a=o.getTile(e,t,n,r.pixelRatio,l,!c||GA(c,l)?void 0:this.getSourceTileCache()),!a)return null;i.set(s,a)}return a}getTile(e,t,n,r){const i=this.getOrCreateTile(e,t,n,r);return i||null}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=hR(t.pixelToCoordinateTransform,e.slice()),i=n.getExtent();if(i&&!GP(i,r))return null;const o=t.viewState,s=n.getRenderSource(),a=s.getTileGridForProjection(o.projection),l=s.getTilePixelRatio(t.pixelRatio);for(let e=a.getZForResolution(o.resolution);e>=a.getMinZoom();--e){const n=a.getTileCoordForCoordAndZ(r,e),i=this.getTile(e,n[1],n[2],t);if(!i||i.getState()!==oH)continue;const c=a.getOrigin(e),u=ur(a.getTileSize(e)),h=a.getResolution(e);let d;if(i instanceof _H||i instanceof kH)d=i.getImage();else{if(!(i instanceof gH))continue;if(d=dH(i.getData()),!d)continue}const f=Math.floor(l*((r[0]-c[0])/h-n[1]*u[0])),p=Math.floor(l*((c[1]-r[1])/h-n[2]*u[1])),m=Math.round(l*s.getGutterForProjection(o.projection));return this.getImageData(d,f+m,p+m)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const n=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==n&&(this.renderedSourceRevision_=n,this.renderedSourceKey_===t.getKey()&&(this.tileCache_.clear(),this.sourceTileCache_?.clear())):this.renderedSourceRevision_=n,!0}enqueueTilesForNextExtent(){return!0}enqueueTiles(e,t,n,r,i){const o=e.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=Pn(a);c in e.wantedTiles||(e.wantedTiles[c]={});const u=e.wantedTiles[c],h=s.getMapInternal(),d=Math.max(n-i,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection)),f=o.rotation,p=f?h$(o.center,o.resolution,f,e.size):void 0;for(let i=n;i>=d;--i){const n=l.getTileRangeForExtentAndZ(t,i,this.tempTileRange_),o=l.getResolution(i);for(let t=n.minX;t<=n.maxX;++t)for(let s=n.minY;s<=n.maxY;++s){if(f&&!l.tileCoordIntersectsViewport([i,t,s],p))continue;const n=this.getTile(i,t,s,e);if(!n)continue;if(!_U(r,n,i))continue;const a=n.getKey();if(u[a]=!0,n.getState()===rH&&!e.tileQueue.isKeyQueued(a)){const r=OH(i,t,s,this.tempTileCoord_);e.tileQueue.enqueue([n,c,l.getTileCoordCenter(r),o])}}}}findStaleTile_(e,t){const n=this.tileCache_,r=e[0],i=e[1],o=e[2],s=this.getStaleKeys();for(let e=0;e<s.length;++e){const a=NH(this.getLayer().getSource(),s[e],r,i,o);if(n.containsKey(a)){const e=n.peek(a);if(e.getState()===oH)return e.endTransition(Pn(this)),_U(t,e,r),!0}}return!1}findAltTiles_(e,t,n,r){const i=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!i)return!1;let o=!0;const s=this.tileCache_,a=this.getLayer().getRenderSource(),l=a.getKey();for(let e=i.minX;e<=i.maxX;++e)for(let t=i.minY;t<=i.maxY;++t){const i=NH(a,l,n,e,t);let c=!1;if(s.containsKey(i)){const e=s.peek(i);e.getState()===oH&&(_U(r,e,n),c=!0)}c||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;const n=e.layerStatesArray[e.layerIndex],r=e.viewState,i=r.projection,o=r.resolution,s=r.center,a=e.pixelRatio,l=this.getLayer(),c=l.getSource(),u=c.getTileGridForProjection(i),h=u.getZForResolution(o,c.zDirection),d=u.getResolution(h),f=c.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==f&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=f):this.renderedSourceKey_=f;let p=e.extent;const m=c.getTilePixelRatio(a);this.prepareContainer(e,t);const g=this.context.canvas.width,_=this.context.canvas.height,y=n.extent&&tR(n.extent,i);y&&(p=f$(p,tR(n.extent,i)));const b=d*g/2/m,v=d*_/2/m,w=[s[0]-b,s[1]-v,s[0]+b,s[1]+v],x={};this.renderedTiles.length=0;const S=l.getPreload();if(e.nextExtent&&this.enqueueTilesForNextExtent()){const t=u.getZForResolution(r.nextResolution,c.zDirection),n=bU(e,e.nextExtent);this.enqueueTiles(e,n,t,x,S)}const M=bU(e,p);if(this.enqueueTiles(e,M,h,x,0),S>0&&setTimeout(()=>{this.enqueueTiles(e,M,h-1,x,S-1)},0),!(h in x))return this.container;const k=Pn(this),T=e.time;for(const t of x[h]){const n=t.getState();if(n===aH)continue;const r=t.tileCoord;if(n===oH){if(1===t.getAlpha(k,T)){t.endTransition(k);continue}}n!==sH&&(this.renderComplete=!1);if(this.findStaleTile_(r,x)){yU(x,t,h),e.animate=!0;continue}if(this.findAltTiles_(u,r,h+1,x))continue;const i=u.getMinZoom();for(let e=h-1;e>=i;--e){if(this.findAltTiles_(u,r,e,x))break}}const E=d/o*a/m,L=this.getRenderContext(e);pR(this.tempTransform,g/2,_/2,E,E,0,-g/2,-_/2),n.extent&&this.clipUnrotated(L,e,y),c.getInterpolate()||(L.imageSmoothingEnabled=!1),this.preRender(L,e);const C=Object.keys(x).map(Number);let D;C.sort(Xt);const P=[],$=[];for(let t=C.length-1;t>=0;--t){const n=C[t],r=c.getTilePixelSize(n,a,i),o=u.getResolution(n)/d,s=r[0]*o*E,l=r[1]*o*E,h=u.getTileCoordForCoordAndZ(p$(w),n),f=u.getTileCoordExtent(h),p=hR(this.tempTransform,[m*(f[0]-w[0])/d,m*(w[3]-f[3])/d]),g=m*c.getGutterForProjection(i);for(const t of x[n]){if(t.getState()!==oH)continue;const r=t.tileCoord,i=h[1]-r[1],o=Math.round(p[0]-(i-1)*s),a=h[2]-r[2],u=Math.round(p[1]-(a-1)*l),d=Math.round(p[0]-i*s),f=Math.round(p[1]-a*l),m=o-d,_=u-f,y=1===C.length;let b=!1;D=[d,f,d+m,f,d+m,f+_,d,f+_];for(let e=0,t=P.length;e<t;++e)if(!y&&n<$[e]){const t=P[e];_$([d,f,d+m,f+_],[t[0],t[3],t[4],t[7]])&&(b||(L.save(),b=!0),L.beginPath(),L.moveTo(D[0],D[1]),L.lineTo(D[2],D[3]),L.lineTo(D[4],D[5]),L.lineTo(D[6],D[7]),L.moveTo(t[6],t[7]),L.lineTo(t[4],t[5]),L.lineTo(t[2],t[3]),L.lineTo(t[0],t[1]),L.clip())}P.push(D),$.push(n),this.drawTile(t,e,d,f,m,_,g,y),b&&L.restore(),this.renderedTiles.unshift(t),this.updateUsedTiles(e.usedTiles,c,t)}}if(this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!QP(this.renderedExtent_,w),this.renderedExtent_=w,this.renderedPixelRatio=a,this.postRender(this.context,e),n.extent&&L.restore(),L.imageSmoothingEnabled=!0,this.renderComplete){const t=(e,t)=>{const n=Pn(c),r=t.wantedTiles[n],i=r?Object.keys(r).length:0;this.updateCacheSize(i),this.tileCache_.expireCache(),this.sourceTileCache_?.expireCache()};e.postRenderFunctions.push(t)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*e)}drawTile(e,t,n,r,i,o,s,a){let l;if(e instanceof gH){if(l=dH(e.getData()),!l)throw new Error("Rendering array data is not yet supported")}else l=this.getTileImage(e);if(!l)return;const c=this.getRenderContext(t),u=Pn(this),h=t.layerStatesArray[t.layerIndex],d=h.opacity*(a?e.getAlpha(u,t.time):1),f=d!==c.globalAlpha;f&&(c.save(),c.globalAlpha=d),c.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,r,i,o),f&&c.restore(),d!==h.opacity?t.animate=!0:a&&e.endTransition(u)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,n){const r=Pn(t);r in e||(e[r]={}),e[r][n.getKey()]=!0}};const wU=class extends fU{constructor(e){super(e)}createRenderer(){return new vU(this,{cacheSize:this.getCacheSize()})}};let xU;const SU=e=>(()=>{if(void 0!==xU)return xU;try{const e=new nH,t=e.getGL();if(t instanceof WebGLRenderingContext){const n=t.createShader(t.VERTEX_SHADER);e.compileShader(n,t.VERTEX_SHADER),xU=!0}else xU=!1}catch(e){xU=!1,console.error(e)}return xU||console.error("WebGL is not supported on this browser. The portal could be slower and some functions could not work as expected."),xU})()?new gU(e):new wU(e);function MU(e){return!!e&&((Ge?e.metaKey:e.ctrlKey)||"Control"===e.key)}function kU(e){return!e.altKey&&MU(e)&&!e.shiftKey}function TU(e){return!e.altKey&&!MU(e)&&e.shiftKey}function EU(e){return 1==e.length?`0${e}`:e}function LU(e){const t=e[0],n=e[1],r=e[2];if(t!=(255&t)||n!=(255&n)||r!=(255&r))throw new Error(`"(${t},${n},${r})" is not a valid RGB color`);return`#${EU(t.toString(16))}${EU(n.toString(16))}${EU(r.toString(16))}`}function CU(e){const t={};if(e){const n=e.substring(1).split("&");for(const e of n){const n=e.indexOf("=");if(n>=0){const r=e.substring(0,n),i=e.substring(n+1);try{t[decodeURIComponent(r)]=decodeURIComponent(i)}catch(e){console.error(`Malformed parameter: ${r}=${i}`)}}else t[e]=""}}return t}function DU(e){const t=[];for(const n in e){const r=e[n];t.push(`${encodeURIComponent(n)}=${encodeURIComponent(r)}`)}return t.join("&")}function PU(e,t,n){const r=void 0===n||navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?"text/plain;charset=utf-8":n,i=new Blob([new Uint8Array([239,187,191]),e],{type:r});(0,sO.saveAs)(i,t)}const $U=new class{constructor(){this.subscriptions=[],this.subscriptions.push(ho.getConfig().subscribe({next:e=>{e&&(this.encoding_=e.ngeoCsvEncoding,this.extension_=e.ngeoCsvExtension,this.includeHeader_=e.ngeoCsvIncludeHeader,this.quote_=e.ngeoCsvQuote,this.separator_=e.ngeoCsvSeparator)}}))}generateCsv(e,t){if(0==e.length||0==t.length)return"";const n=t.map(e=>0!==Object.keys(W.options).length?W.t(e.name):e.name),r=this.getRow_(n),i=e.map(e=>{const n=t.map(t=>e[t.name]);return this.getRow_(n)});return this.includeHeader_?r+i.join(""):i.join("")}getRow_(e){const t=new RegExp(this.quote_,"g"),n=this.quote_+this.quote_;return`${e.map(e=>{if(null!=e){const r=`${e}`;return`${this.quote_}${r.replace(t,n)}${this.quote_}`}return""}).join(this.separator_)}\n`}startDownload(e,t,n){PU(this.generateCsv(e,t),n,`text/csv;charset=${this.encoding_}`)}},AU=$U;const RU=class extends un{constructor(e,t,n){super(e),this.map=t,this.frameState=void 0!==n?n:null}};const OU=class extends RU{constructor(e,t,n,r,i,o){super(e,t,i),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},IU="active";function FU(e,t,n,r){const i=e.getZoom();if(void 0===i)return;const o=e.getConstrainedZoom(i+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:AN})}const NU=class extends An{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(IU)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(IU,e)}setMap(e){this.map_=e}};function YU(e){const t=e.length;let n=0,r=0;for(let i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return{clientX:n/t,clientY:r/t}}const jU=class extends NU{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==vj.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==vj.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(e.type==vj.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==vj.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function HU(e,t){const n=e.length;return t<0?e[t+n]:t>=n?e[t-n]:e[t]}function UU(e,t){const n=e.length;let r=Math.floor(t);const i=t-r;r>=n?r-=n:r<0&&(r+=n);let o=r+1;o>=n&&(o-=n);const s=e[r],a=s[0],l=s[1],c=e[o];return[a+(c[0]-a)*i,l+(c[1]-l)*i]}const zU={index:-1,endIndex:NaN,closestTargetDistance:1/0};function GU(e,t,n,r){const i=e[0],o=e[1];let s=1/0,a=-1,l=NaN;for(let e=0;e<t.targets.length;++e){const n=t.targets[e],r=n.coordinates;let c,u=1/0;for(let e=0;e<r.length-1;++e){const t=ZU(i,o,r[e],r[e+1]);t.squaredDistance<u&&(u=t.squaredDistance,c=e+t.along)}u<s&&(s=u,n.ring&&t.targetIndex===e&&(n.endIndex>n.startIndex?c<n.startIndex&&(c+=r.length):n.endIndex<n.startIndex&&c>n.startIndex&&(c-=r.length)),l=c,a=e)}const c=t.targets[a];let u=c.ring;if(t.targetIndex===a&&u){const e=UU(c.coordinates,l);$$(n.getPixelFromCoordinate(e),n.getPixelFromCoordinate(t.startCoord))>r&&(u=!1)}if(u){const e=c.coordinates,t=e.length,n=c.startIndex,r=l;if(n<r){const i=XU(e,n,r);XU(e,n,r-t)<i&&(l-=t)}else{const i=XU(e,n,r);XU(e,n,r+t)<i&&(l+=t)}}return zU.index=a,zU.endIndex=l,zU.closestTargetDistance=s,zU}function WU(e,t){const n=[];for(let r=0;r<t.length;++r){qU(e,t[r].getGeometry(),n)}return n}function qU(e,t,n){if(t instanceof oO)BU(e,t.getCoordinates(),!1,n);else{if(t instanceof JY){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t)BU(e,r[t],!1,n);return}if(t instanceof KN){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t)BU(e,r[t],!0,n);return}if(t instanceof nj){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t){const i=r[t];for(let t=0,r=i.length;t<r;++t)BU(e,i[t],!0,n)}return}if(t instanceof KY){const r=t.getGeometries();for(let t=0;t<r.length;++t)qU(e,r[t],n);return}}}function BU(e,t,n,r){const i=e[0],o=e[1];for(let e=0,s=t.length-1;e<s;++e){const s=ZU(i,o,t[e],t[e+1]);if(0===s.squaredDistance){const i=e+s.along;return void r.push({coordinates:t,ring:n,startIndex:i,endIndex:i})}}}function VU(e,t){return lt(e[0],e[1],t[0],t[1])}function XU(e,t,n){let r,i;t<n?(r=t,i=n):(r=n,i=t);const o=Math.ceil(r),s=Math.floor(i);if(o>s){return VU(UU(e,r),UU(e,i))}let a=0;if(r<o){a+=VU(UU(e,r),HU(e,o))}if(s<i){a+=VU(HU(e,s),UU(e,i))}for(let t=o;t<s-1;++t){a+=VU(HU(e,t),HU(e,t+1))}return a}const KU={along:0,squaredDistance:0};function ZU(e,t,n,r){const i=n[0],o=n[1],s=r[0]-i,a=r[1]-o;let l=0,c=i,u=o;return 0===s&&0===a||(l=st(((e-i)*s+(t-o)*a)/(s*s+a*a),0,1),c+=s*l,u+=a*l),KU.along=l,KU.squaredDistance=ft(lt(e,t,c,u),10),KU}const JU="drawstart",QU="drawend",ez="drawabort";class tz extends un{constructor(e,t){super(e),this.feature=t}}function nz(){const e=kr();return function(t,n){return e[t.getGeometry().getType()]}}const rz=class extends jU{constructor(e){const t=e;t.stopDown||(t.stopDown=rn),super(t),this.on,this.once,this.un,this.options_=e,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(e){switch(e){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+e)}}(this.type_),this.stopClick_=!!e.stopClick,this.ignoreNextUpEvent_=!1,this.minPoints_=e.minPoints?e.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:nn,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let n=e.geometryFunction;if(!n){const e=this.mode_;if("Circle"===e)n=(e,t,n)=>{const r=t||new BY([NaN,NaN]),i=QA(e[0],n),o=P$(i,QA(e[e.length-1],n));r.setCenterAndRadius(i,Math.sqrt(o),this.geometryLayout_);const s=ZA();return s&&r.transform(n,s),r};else{let t;"Point"===e?t=$R:"LineString"===e?t=oO:"Polygon"===e&&(t=KN),n=(n,r,i)=>(r?"Polygon"===e?n[0].length?r.setCoordinates([n[0].concat([n[0][0]])],this.geometryLayout_):r.setCoordinates([],this.geometryLayout_):r.setCoordinates(n,this.geometryLayout_):r=new t(n,this.geometryLayout_),r)}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new MY({source:new _j({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:nz(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:Ej,this.freehandCondition_,e.freehand?this.freehandCondition_=Mj:this.freehandCondition_=e.freehandCondition?e.freehandCondition:Lj,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(IU,this.updateState_)}setTrace(e){let t;t=e?!0===e?Mj:e:Tj,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}setFreehand(e){this.freehand_=e,this.freehand_?this.freehandCondition_=Mj:this.freehandCondition_=this.options_&&this.options_.freehandCondition?this.options_.freehandCondition:Lj}getOverlay(){return this.overlay_}getFreehand(){return this.freehand_}handleEvent(e){e.originalEvent.type===jt&&e.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(e);let t=e.type===vj.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===vj.POINTERDRAG){Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===vj.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===vj.POINTERDOWN?n=!1:t&&this.getPointerCount()<2?(n=e.type===vj.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===vj.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===vj.DBLCLICK&&(n=!1),super.handleEvent(e)&&n}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new OU(vj.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active)return void this.deactivateTrace_();const t=this.getMap(),n=jP([t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_])]),r=this.traceSource_.getFeaturesInExtent(n);if(0===r.length)return;const i=WU(e.coordinate,r);i.length&&(this.traceState_={active:!0,startCoord:e.coordinate.slice(),targets:i,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const n=e.startIndex<=e.endIndex;n===e.startIndex<=t?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let n=0;if(e<t){const r=Math.ceil(e);let i=Math.floor(t);i===t&&(i-=1),n=i-r+1}else{const r=Math.floor(e);let i=Math.ceil(t);i===t&&(i+=1),n=r-i+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(e,t,n){if(t===n)return;const r=[];if(t<n){const i=Math.ceil(t);let o=Math.floor(n);o===n&&(o-=1);for(let t=i;t<=o;++t)r.push(HU(e.coordinates,t))}else{const i=Math.floor(t);let o=Math.ceil(n);o===n&&(o+=1);for(let t=i;t>=o;--t)r.push(HU(e.coordinates,t))}r.length&&this.appendCoordinates(r)}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(-1===t.targetIndex){if($$(e.map.getPixelFromCoordinate(t.startCoord),e.pixel)<this.snapTolerance_)return}const n=GU(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==n.index){if(-1!==t.targetIndex){const e=t.targets[t.targetIndex];this.removeTracedCoordinates_(e.startIndex,e.endIndex)}const e=t.targets[n.index];this.addTracedCoordinates_(e,e.startIndex,n.endIndex)}else{const e=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(e,n.endIndex)}t.targetIndex=n.index;const r=t.targets[t.targetIndex];r.endIndex=n.endIndex;const i=UU(r.coordinates,r.endIndex),o=this.getMap().getPixelFromCoordinate(i);e.coordinate=i,e.pixel=[Math.round(o[0]),Math.round(o[1])]}handleDragEvent(e){this.ignoreNextUpEvent_=!0,super.handleDragEvent(e)}handleUpEvent(e){let t=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const n=this.traceState_.active;if(this.ignoreNextUpEvent_||this.toggleTraceState_(e),this.shouldHandle_){const r=!this.finishCoordinate_;r&&this.startDrawing_(e.coordinate),!r&&this.freehand_?this.finishDrawing():this.freehand_||r&&"Point"!==this.mode_||(this.atFinish_(e.pixel,n)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return this.ignoreNextUpEvent_=!1,!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,n=e.pixel,r=t[0]-n[0],i=t[1]-n[1],o=r*r+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(e),this.modifyDrawing_(e.coordinate)):this.createOrUpdateSketchPoint_(e.coordinate.slice())}atFinish_(e,t){let n=!1;if(this.sketchFeature_){let r=!1,i=[this.finishCoordinate_];const o=this.mode_;if("Point"===o)n=!0;else if("Circle"===o)n=2===this.sketchCoords_.length;else if("LineString"===o)r=!t&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===o){const e=this.sketchCoords_;r=e[0].length>this.minPoints_,i=[e[0][0],e[0][e[0].length-2]],i=t?[e[0][0]]:[e[0][0],e[0][e[0].length-2]]}if(r){const t=this.getMap();for(let r=0,o=i.length;r<o;r++){const o=i[r],s=t.getPixelFromCoordinate(o),a=e[0]-s[0],l=e[1]-s[1],c=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(a*a+l*l)<=c,n){this.finishCoordinate_=o;break}}}}return n}createOrUpdateSketchPoint_(e){if(this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(e)}else this.sketchPoint_=new AP(new $R(e)),this.updateSketchFeatures_()}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new AP);const t=e.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),n.changed()):(n=new oO(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(e){const t=this.getMap().getView().getProjection(),n=kR(this.geometryLayout_);for(;e.length<n;)e.push(0);this.finishCoordinate_=e,"Point"===this.mode_?this.sketchCoords_=e.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new AP(new oO(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new AP,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new tz(JU,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),n=this.sketchFeature_.getGeometry(),r=t.getView().getProjection(),i=kR(this.geometryLayout_);let o,s;for(;e.length<i;)e.push(0);if("Point"===this.mode_?s=this.sketchCoords_:"Polygon"===this.mode_?(o=this.sketchCoords_[0],s=o[o.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(o=this.sketchCoords_,s=o[o.length-1]),s[0]=e[0],s[1]=e[1],this.geometryFunction_(this.sketchCoords_,n,r),this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(e)}if("Polygon"===n.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let r,i;const o=this.mode_;return"LineString"===o||"Circle"===o?(this.finishCoordinate_=e.slice(),i=this.sketchCoords_,i.length>=this.maxPoints_&&(this.freehand_?i.pop():r=!0),i.push(e.slice()),this.geometryFunction_(i,t,n)):"Polygon"===o&&(i=this.sketchCoords_[0],i.length>=this.maxPoints_&&(this.freehand_?i.pop():r=!0),i.push(e.slice()),r&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,t,n)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),r?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;for(let i=0;i<e;++i){let e;if("LineString"===r||"Circle"===r){if(e=this.sketchCoords_,e.splice(-2,1),e.length>=2){this.finishCoordinate_=e[e.length-2].slice();const t=this.finishCoordinate_.slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}this.geometryFunction_(e,t,n),"Polygon"===t.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if("Polygon"===r){e=this.sketchCoords_[0],e.splice(-2,1);const r=this.sketchLine_.getGeometry();if(e.length>=2){const t=e[e.length-2].slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}r.setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t,n)}if(1===e.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return null;let t=this.sketchCoords_;const n=e.getGeometry(),r=this.getMap().getView().getProjection();return"LineString"===this.mode_?(t.pop(),this.geometryFunction_(t,n,r)):"Polygon"===this.mode_&&(t[0].pop(),this.geometryFunction_(t,n,r),t=n.getCoordinates()),"MultiPoint"===this.type_?e.setGeometry(new ej([t])):"MultiLineString"===this.type_?e.setGeometry(new JY([t])):"MultiPolygon"===this.type_&&e.setGeometry(new nj([t])),this.dispatchEvent(new tz(QU,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new tz(ez,e))}appendCoordinates(e){const t=this.mode_,n=!this.sketchFeature_;let r;if(n&&this.startDrawing_(e[0]),"LineString"===t||"Circle"===t)r=this.sketchCoords_;else{if("Polygon"!==t)return;r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&r.shift(),r.pop();for(let t=0;t<e.length;t++)this.addToDrawing_(e[t]);const i=e[e.length-1];this.sketchFeature_=this.addToDrawing_(i),this.modifyDrawing_(i)}extend(e){const t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new AP(new $R(n)),this.updateSketchFeatures_(),this.dispatchEvent(new tz(JU,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing(),this.overlay_.setMap(t?e:null)}};class iz{constructor(e,t){this.manager_=e,this.index_=t,this.listenerKeys_=[]}addFeature(e){this.manager_.addFeature(e,this.index_)}removeFeature(e){this.manager_.removeFeature(e,this.index_)}isEmpty(){return this.manager_.isEmpty(this.index_)}clear(){this.manager_.clear(this.index_)}setFeatures(e){this.clear(),this.listenerKeys_.forEach(pn),null!==e&&(e.forEach(e=>{this.addFeature(e)}),this.listenerKeys_.push(dn(e,"add",e=>this.handleFeatureAdd_(e))),this.listenerKeys_.push(dn(e,"remove",e=>this.handleFeatureRemove_(e))))}setStyle(e){this.manager_.setStyle(e,this.index_)}handleFeatureAdd_(e){if(e instanceof YY){const t=e.element;this.addFeature(t)}}handleFeatureRemove_(e){if(e instanceof YY){const t=e.element;this.removeFeature(t)}}}const oz=new class{constructor(){this.featureUidToGroupIndex_={},this.groups_=[],this.source_=new _j({useSpatialIndex:!1}),this.layer_=new MY({className:"canvas2d",source:this.source_,style:this.styleFunction_.bind(this),updateWhileAnimating:!0,updateWhileInteracting:!0})}isEmpty(e){return console.assert(e>=0),console.assert(e<this.groups_.length),cn(this.groups_[e].features)}addFeature(e,t){console.assert(t>=0),console.assert(t<this.groups_.length);const n=Pn(e).toString();this.featureUidToGroupIndex_[n]=t,this.groups_[t].features[n]=e,this.source_.addFeature(e)}removeFeature(e,t){console.assert(t>=0),console.assert(t<this.groups_.length);const n=Pn(e).toString();delete this.featureUidToGroupIndex_[n],delete this.groups_[t].features[n],this.source_.removeFeature(e)}clear(e){console.assert(e>=0),console.assert(e<this.groups_.length);const t=this.groups_[e];for(const n in t.features)this.removeFeature(t.features[n],e);console.assert(cn(t.features))}getLayer(){return this.layer_}getFeatureOverlay(){const e=this.groups_.length;return this.groups_.push({styleFunction:Mr,features:{}}),new iz(this,e)}init(e){this.layer_.setMap(e)}setStyle(e,t){console.assert(t>=0),console.assert(t<this.groups_.length),this.groups_[t].styleFunction=null===e?Mr:xr(e)}styleFunction_(e,t){const n=Pn(e).toString();console.assert(n in this.featureUidToGroupIndex_);const r=this.featureUidToGroupIndex_[n];return this.groups_[r].styleFunction(e,t)}},sz=oz,az="addlayer",lz="removelayer";class cz extends un{constructor(e,t){super(e),this.layer=t}}const uz="layers";class hz extends bY{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(uz,this.handleLayersChanged_),n?Array.isArray(n)?n=new jY(n.slice(),{unique:!0}):Oe("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new jY(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(pn),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(dn(e,IY,this.handleLayersAdd_,this),dn(e,FY,this.handleLayersRemove_,this));for(const e in this.listenerKeys_)this.listenerKeys_[e].forEach(pn);ln(this.listenerKeys_);const t=e.getArray();for(let e=0,n=t.length;e<n;e++){const n=t[e];this.registerLayerListeners_(n),this.dispatchEvent(new cz(az,n))}this.changed()}registerLayerListeners_(e){const t=[dn(e,Tn,this.handleLayerChange_,this),dn(e,Nt,this.handleLayerChange_,this)];e instanceof hz&&t.push(dn(e,az,this.handleLayerGroupAdd_,this),dn(e,lz,this.handleLayerGroupRemove_,this)),this.listenerKeys_[Pn(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new cz(az,e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new cz(lz,e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new cz(az,t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=Pn(t);this.listenerKeys_[n].forEach(pn),delete this.listenerKeys_[n],this.dispatchEvent(new cz(lz,t)),this.changed()}getLayers(){return this.get(uz)}setLayers(e){const t=this.getLayers();if(t){const e=t.getArray();for(let t=0,n=e.length;t<n;++t)this.dispatchEvent(new cz(lz,e[t]))}this.set(uz,e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=void 0!==e?e:[],n=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});const r=this.getLayerState();let i=r.zIndex;e||void 0!==r.zIndex||(i=0);for(let e=n,o=t.length;e<o;e++){const n=t[e];n.opacity*=r.opacity,n.visible=n.visible&&r.visible,n.maxResolution=Math.min(n.maxResolution,r.maxResolution),n.minResolution=Math.max(n.minResolution,r.minResolution),n.minZoom=Math.max(n.minZoom,r.minZoom),n.maxZoom=Math.min(n.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==n.extent?n.extent=f$(n.extent,r.extent):n.extent=r.extent),void 0===n.zIndex&&(n.zIndex=i)}return t}getSourceState(){return"ready"}}const dz=hz;function fz(e){return Array.isArray(e)?Math.min(...e):e}const pz=class extends _n{constructor(e,t,n,r,i,o,s){let a=e.getExtent();a&&e.canWrapX()&&(a=a.slice(),a[0]=-1/0,a[2]=1/0);let l=t.getExtent();l&&t.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);const c=l?f$(n,l):n,u=xH(e,t,l$(c),r),h=new MH(e,t,c,a,.5*u,r),d=h.calculateSourceExtent(),f=y$(d)?null:o(d,u,i),p=f?Ie:je,m=f?f.getPixelRatio():1;super(n,r,m,p),this.targetProj_=t,this.maxSourceExtent_=a,this.triangulation_=h,this.targetResolution_=r,this.targetExtent_=n,this.sourceImage_=f,this.sourcePixelRatio_=m,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Fe&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Ne){const e=g$(this.targetExtent_)/this.targetResolution_,t=d$(this.targetExtent_)/this.targetResolution_;this.canvas_=SH(e,t,this.sourcePixelRatio_,fz(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==Ie){this.state=Fe,this.changed();const e=this.sourceImage_.getState();e==Ne||e==Ye?this.reproject_():(this.sourceListenerKey_=dn(this.sourceImage_,Nt,e=>{const t=this.sourceImage_.getState();t!=Ne&&t!=Ye||(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){pn(this.sourceListenerKey_),this.sourceListenerKey_=null}},mz="imageloadstart",gz="imageloadend",_z="imageloaderror";class yz extends un{constructor(e,t){super(e),this.image=t}}function bz(e,t){e.getImage().src=t}function vz(e,t,n,r){const i=t/n,o=l$(e),s=gt(g$(e)/i,4),a=gt(d$(e)/i,4);return u$(o,i,0,[s+2*gt((r-1)*s/2,4),a+2*gt((r-1)*a/2,4)])}const wz=class extends lj{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:void 0===e.interpolate||e.interpolate}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!e.loader&&0===e.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){e=t[Zt(t,e,0)]}return e}getImage(e,t,n,r){const i=this.getProjection();if(!i||!r||GA(i,r))return i&&(r=i),this.getImageInternal(e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&GA(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&QP(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new pz(i,r,e,t,n,(e,t,n)=>this.getImageInternal(e,t,n,i),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,r){if(this.loader){const i=vz(e,t,n,1),o=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&WP(this.wantedExtent_,i)||WP(this.image.getExtent(),i))&&(this.wantedResolution_&&fz(this.wantedResolution_)===o||fz(this.image.getResolution())===o)))return this.image;this.wantedProjection_=r,this.wantedExtent_=i,this.wantedResolution_=o,this.image=new _n(i,o,n,this.loader),this.image.addEventListener(Nt,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case Fe:this.loading=!0,n=mz;break;case Ne:this.loading=!1,n=gz;break;case Ye:this.loading=!1,n=_z;break;default:return}this.hasListener(n)&&this.dispatchEvent(new yz(n,t))}},xz=[0,0,0];const Sz=class{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Oe(function(e,t,n){const r=t||Xt;return e.every(function(t,i){if(0===i)return!0;const o=r(e[i-1],t);return!(o>0||n&&0===o)})}(this.resolutions_,(e,t)=>t-e,!0),"`resolutions` must be sorted in descending order"),!e.origins)for(let e=0,n=this.resolutions_.length-1;e<n;++e)if(t){if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}else t=this.resolutions_[e]/this.resolutions_[e+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Oe(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;void 0===n||this.origin_||this.origins_||(this.origin_=p$(n)),Oe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Oe(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:iY,Oe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((e,t)=>{const r=new AH(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(n){const e=this.getTileRangeForExtentAndZ(n,t);r.minX=Math.max(e.minX,r.minX),r.maxX=Math.min(e.maxX,r.maxX),r.minY=Math.max(e.minY,r.minY),r.maxY=Math.min(e.maxY,r.maxY)}return r}):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const r=this.getTileRangeForExtentAndZ(e,t);for(let e=r.minX,i=r.maxX;e<=i;++e)for(let i=r.minY,o=r.maxY;i<=o;++i)n([t,e,i])}forEachTileCoordParentTileRange(e,t,n,r){let i,o,s,a=null,l=e[0]-1;for(2===this.zoomFactor_?(o=e[1],s=e[2]):a=this.getTileCoordExtent(e,r);l>=this.minZoom;){if(void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),i=$H(o,o,s,s,n)):i=this.getTileRangeForExtentAndZ(a,l,n),t(l,i))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*e[1],r=2*e[2];return $H(n,n+1,r,r+1,t)}const r=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],i=e[1],o=e[2];if(t===r)return $H(i,o,i,o,n);if(this.zoomFactor_){const e=Math.pow(this.zoomFactor_,t-r),s=Math.floor(i*e),a=Math.floor(o*e);if(t<r)return $H(s,s,a,a,n);return $H(s,Math.floor(e*(i+1))-1,a,Math.floor(e*(o+1))-1,n)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,xz);const r=xz[1],i=xz[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,xz);return $H(r,xz[1],i,xz[2],n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=ur(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=ur(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*i[0]*r,s=n[1]-(e[2]+1)*i[1]*r;return XP(o,s,o+i[0]*r,s+i[1]*r,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,r,i){const o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=ur(this.getTileSize(o),this.tmpSize_);let c=s*(e-a[0])/n/l[0],u=s*(a[1]-t)/n/l[1];return r?(c=gt(c,5)-1,u=gt(u,5)-1):(c=mt(c,5),u=mt(u,5)),OH(o,c,u,i)}getTileCoordForXYAndZ_(e,t,n,r,i){const o=this.getOrigin(n),s=this.getResolution(n),a=ur(this.getTileSize(n),this.tmpSize_);let l=(e-o[0])/s/a[0],c=(o[1]-t)/s/a[1];return r?(l=gt(l,5)-1,c=gt(c,5)-1):(l=mt(l,5),c=mt(c,5)),OH(n,l,c,i)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){return st(Zt(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return KR(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n}};class Mz extends Sz{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function kz(e){let t=e.getDefaultTileGrid();return t||(t=function(e,t,n,r){const i=Lz(e);return function(e,t,n,r){r=void 0!==r?r:"top-left";const i=Ez(e,t,n);return new Sz({extent:e,origin:c$(e,r),resolutions:i,tileSize:n})}(i,t,n,r)}(e),e.setDefaultTileGrid(t)),t}function Tz(e){const t=e||{},n=t.extent||NA("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Ez(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Sz(r)}function Ez(e,t,n,r){t=void 0!==t?t:42,n=ur(void 0!==n?n:iY);const i=d$(e),o=g$(e);r=r>0?r:Math.max(o/n[0],i/n[1]);const s=t+1,a=new Array(s);for(let e=0;e<s;++e)a[e]=r/Math.pow(2,e);return a}function Lz(e){let t=(e=NA(e)).getExtent();if(!t){const n=180*O$.degrees/e.getMetersPerUnit();t=XP(-n,-n,n,n)}return t}class Cz extends un{constructor(e,t){super(e),this.tile=t}}const Dz=class extends lj{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;const t=[256,256];this.tileGrid&&ur(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Pn(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,r,i,o){return Cn()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:kz(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(t),o=ur(r.getTileSize(e),this.tmpSize);return 1==i?o:function(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}(o,i,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const n=void 0!==t?t:this.getProjection(),r=void 0!==t?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function(e,t,n){const r=t[0],i=e.getTileCoordCenter(t),o=Lz(n);if(!GP(o,i)){const t=g$(o),n=Math.ceil((o[0]-i[0])/t);return i[0]+=t*n,e.getTileCoordForCoordAndZ(i,r)}return t}(r,e,n)),function(e,t){const n=e[0],r=e[1],i=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return!o||o.containsXY(r,i)}(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}};function Pz(e){console.assert(e instanceof NU),Object.defineProperty(e,"active",{get:()=>e.getActive(),set:t=>{e.setActive(t)}})}const $z=new class{constructor(){this.line_=new Mi(null)}getLine(){return this.line_}setLine(e){this.line_.next(e)}};const Az=new class{constructor(){this.map_=new Mi(null)}getMap(){return this.map_}setMap(e){this.map_.next(e)}};const Rz=new class{constructor(){this.map_=null,this.line=null,this.features_=new jY;const e=sz.getFeatureOverlay();e.setFeatures(this.features_);const t=new Er({stroke:new vr({color:"#ffcc33",width:2})});e.setStyle(t),this.interaction=new rz({type:"LineString",features:this.features_}),Pz(this.interaction),this.subscriptions=[],this.subscriptions.push($z.getLine().subscribe({next:e=>{e?this.line=e:this.clear_()}})),this.subscriptions.push(Az.getMap().subscribe({next:e=>{e&&(this.map_=e)}})),this.subscriptions.push(Ab.getActiveToolPanel().subscribe({next:e=>{this.active="lidar"===e,this.active?(this.map_.addInteraction(this.interaction),this.initInteraction(),this.interaction.setActive(this.active)):(this.map_&&this.map_.removeInteraction(this.interaction),this.clear_())}}))}initInteraction(){this.interaction.on("drawstart",()=>{this.features_.clear()}),this.interaction.on("drawend",e=>{this.line=e.feature.getGeometry(),setTimeout(()=>{this.interaction.setActive(!1),$z.setLine(this.line)},0)})}clear_(){this.features_.clear(),this.line=null}};var Oz=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Iz=class extends Cb{constructor(){super(...arguments),this.customCSS_="",this.profileConfig_=null,this.profile=null,this.ready=!1,this.active=!1,this.map=null,this.drawlineClass="",this.line=null,this.classifications=[],this.availablePointAttributes=[]}connectedCallback(){this.initSubscribe(),super.connectedCallback()}initSubscribe(){this.profile=bj,this.profileConfig_=bw,this.subscriptions.push($z.getLine().subscribe({next:e=>{this.line=e,e?(this.drawlineClass="",this.update_()):this.clearAll()}})),this.subscriptions.push(Az.getMap().subscribe({next:e=>{e&&(this.map=e,this.profile.init(this.profileConfig_,this.map))}})),this.subscriptions.push(Ab.getActiveToolPanel().subscribe({next:e=>{this.active="lidar"===e,this.active?(this.drawlineClass="active",this.updateEventsListening_(this.active)):$z.setLine(null)}}))}initConfig(e){e.gmfCustomCSS&&void 0!==e.gmfCustomCSS.lidarPanel&&(this.customCSS_=e.gmfCustomCSS.lidarPanel)}render(){return rs`<style>${yo(this.customCSS_)}</style>${this.getTitle(W.t("LIDAR profile"))}<div class="lidar-panel" gmf-drawprofileline><p><button class="btn btn-default ${this.drawlineClass}" @click="${()=>this.toggleDrawLine()}">${W.t("Draw LIDAR profile line")}</button></p><p>${Rz.interaction.getActive()?rs`<em class="text-muted small">${W.t("Draw a line on the map to display the corresponding LIDAR profile. Use double-click to finish the drawing.")}</em>`:rs``}</p>${this.ready?rs`${this.line?rs`<div><button class="btn btn-default" @click="${()=>this.csvExport()}">${W.t("CSV export")}</button> <button class="btn btn-default" @click="${()=>this.pngExport()}">${W.t("PNG export")}</button> <button class="btn btn-default" @click="${()=>this.resetPlot()}" data-toggle="tooltip" data-placement="left" data-original-title="${W.t("Reset profile")}"><span class="fa-solid fa-arrows-rotate"></span></button></div><hr><button class="btn btn-default" @click="${()=>this.setMeasureActive()}" data-toggle="tooltip" data-placement="left" data-original-title="${W.t("Take measure on the graph")}">${W.t("Take measure")}</button> <button class="btn btn-default" @click="${()=>this.clearMeasure()}" data-toggle="tooltip" data-placement="left" data-original-title="${W.t("Clear measure")}"><span class="fa-solid fa-eraser"></span></button>`:""}<div><hr><p>${W.t("Material")}</p><select id="select-attributes" @change="${()=>this.selectPointAttribute()}">${Object.entries(this.availablePointAttributes).map(([e,t])=>rs`<option value="${e}">${t.name}</option>`)}</select></div><hr><p>${W.t("Classes")}</p>${Object.entries(this.classifications).map(([e,t])=>rs`<div><input type="checkbox" id="${t.name}" .checked="${!!t.visible}" @click="${()=>this.toggleVisibility(t,e)}"> <label for="${t.name}">${t.name}</label></div>`)}`:rs`<p>${W.t("Initializing, please wait...")}</p>`}</div>`}toggleDrawLine(){this.drawlineClass="";const e=Rz.interaction.getActive();e||(this.drawlineClass="active"),Rz.interaction.setActive(!e)}toggleVisibility(e,t){e.visible=0===e.visible?1:0,this.setClassification(e,parseInt(t))}selectPointAttribute(){const e=this.renderRoot.querySelector("#select-attributes").value;Object.entries(this.availablePointAttributes).map(([t,n])=>{t===e&&this.setSelectedPointAttribute(n)})}initConfigAndActivateTool_(){this.profileConfig_.initProfileConfig().then(()=>{this.ready=!0,this.classifications=this.getClassification(),this.availablePointAttributes=this.getAvailablePointAttributes()}).catch(e=>{throw new Error(`Error getting profile config: ${e}`)})}updateEventsListening_(e){!0===e?this.ready||this.initConfigAndActivateTool_():this.clearAll()}update_(){if(this.profile.clearBuffer(),!this.profileConfig_.serverConfig)throw new Error("Missing profileConfig_.serverConfig");Ab.openFooterPanel("lidar",{state:!0}),this.profile.setLine(this.line),this.profile.getProfileByLOD([],0,!0,this.profileConfig_.serverConfig.minLOD)}clearAll(){this.line=null,this.profile.setLine(null),this.profile.cartoHighlight.setPosition(void 0),this.profile.measure&&this.clearMeasure(),this.resetPlot()}setMeasureActive(){if(!this.profile.measure)throw new Error("Missing profile.measure");this.profile.measure.clearMeasure(),this.profile.measure.setMeasureActive()}clearMeasure(){if(!this.profile.measure)throw new Error("Missing profile.measure");this.profile.measure.clearMeasure()}resetPlot(){this.profile.clearBuffer(),this.line&&this.profile.getProfileByLOD([],0,!0,0)}getAvailablePointAttributes(){return this.profileConfig_.clientConfig.pointAttributes.availableOptions}setSelectedPointAttribute(e){this.profileConfig_.clientConfig.pointAttributes.selectedOption=e,this.profile.plot.changeStyle(e.value)}getClassification(){if(!this.profileConfig_.serverConfig)throw new Error("Missing profileConfig_.serverConfig");return this.profileConfig_.serverConfig.classification_colors}setClassification(e,t){if(!this.profile.plot)throw new Error("Missing profile.plot");if(!this.profileConfig_.serverConfig)throw new Error("Missing profileConfig_.serverConfig");this.profileConfig_.serverConfig.classification_colors[t].visible=e.visible,this.line&&this.profile.plot.setClassActive(this.profileConfig_.serverConfig.classification_colors,this.profileConfig_.serverConfig.default_attribute)}csvExport(){if(this.line){const e=this.profile.utils.getFlatPointsByDistance(this.profile.profilePoints)||[],t=this.profile.utils.getCSVData(e),n=Object.keys(e[0]).map(e=>({name:e}));AU.startDownload(t,n,"LIDAR_profile.csv")}}pngExport(){this.line&&this.profile.utils.downloadProfileAsImageFile(this.profileConfig_.clientConfig)}};Iz.styles=[...Cb.styles,bo`.btn.btn-default{background-color:var(--map-tools-bg-color);border-color:var(--onhover-color);color:var(--map-tools-color)}.btn.btn-default.active{box-shadow:inset 0 .37rem .75rem var(--light-box-shadow-color)}.btn.btn-default.active,.btn.btn-default:hover{background-color:var(--onhover-color);border-color:var(--onhover-color-darken)}`],Oz([Ls()],Iz.prototype,"customCSS_",void 0),Oz([Ls()],Iz.prototype,"profileConfig_",void 0),Oz([Ls()],Iz.prototype,"profile",void 0),Oz([Ls()],Iz.prototype,"ready",void 0),Oz([Ls()],Iz.prototype,"active",void 0),Oz([Ls()],Iz.prototype,"map",void 0),Oz([Ls()],Iz.prototype,"drawlineClass",void 0),Oz([Ls()],Iz.prototype,"line",void 0),Oz([Ls()],Iz.prototype,"classifications",void 0),Oz([Ls()],Iz.prototype,"availablePointAttributes",void 0),Iz=Oz([Ms("gmf-lidar-panel")],Iz);const Fz=1;class Nz{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const Yz=(e=>(...t)=>({_$litDirective$:e,values:t}))(class extends Nz{constructor(e){if(super(e),e.type!==Fz||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(e=>""!==e)));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const n=e.element.classList;for(const e of this.st)e in t||(n.remove(e),this.st.delete(e));for(const e in t){const r=!!t[e];r===this.st.has(e)||this.nt?.has(e)||(r?(n.add(e),this.st.add(e)):(n.remove(e),this.st.delete(e)))}return os}});var jz=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Hz=class extends Os{constructor(){super(...arguments),this.customCSS_="",this.open=!1}connectedCallback(){this.subscriptions.push($z.getLine().subscribe({next:e=>{this.open=!!e,e||Ab.closeFooterPanel()}})),super.connectedCallback()}initConfig(e){e.gmfCustomCSS&&void 0!==e.gmfCustomCSS.lidarFooter&&(this.customCSS_=e.gmfCustomCSS.lidarFooter)}render(){return rs`<style>${yo(this.customCSS_)}</style><div id="gmf-lidarprofile-container" class="${Yz({panel:!0,hidden:!this.open})}"><div class="lidarprofile"><div class="lidar-error"></div><canvas class="lidar-canvas"></canvas><svg class="lidar-svg" style="fill:#ff0;position:absolute;z-index:1"></svg></div><div class="lidar-legend"><div class="width-info"></div><div class="lod-info"></div><div class="lidar-info"></div></div><div class="close" @click="${()=>this.closePanel()}">×</div></div>`}closePanel(){$z.setLine(null),Ab.closeFooterPanel()}};Hz.styles=[...Os.styles,bo`.hidden{display:none!important}#gmf-lidarprofile-container{position:relative;overflow:hidden;padding:var(--app-margin);border-top:solid .06rem #000;background-color:#fff;height:var(--lidarprofile-height);display:flex}#gmf-lidarprofile-container .lidarprofile{width:calc(100% - var(--profile-legend-width));background-color:#f5f5f5}#gmf-lidarprofile-container .lidar-legend{list-style-type:none;width:var(--profile-legend-width);padding:var(--app-margin)}#gmf-lidarprofile-container .close{height:.62rem;cursor:pointer}#gmf-lidarprofile-container .lidar-error{visibility:hidden;position:absolute;z-index:10;margin:var(--app-margin);padding-left:6.25rem;padding-top:6.25rem;width:calc(100% - 3.12rem - var(--profile-legend-width));height:calc(var(--lidarprofile-height) - 3.12rem);font-size:1.5em;opacity:1;background:#e1f1f7;color:#4b717f}#gmf-lidarprofile-container .lod-info{max-height:6.25rem;overflow-y:auto}.gmf-lidarprofile-automatic-width{color:gray}.gmf-lidarprofile-chart-active main{height:calc(100% - var(--lidarprofile-height))}.gmf-tooltip-measure{font-weight:700}`],jz([Ls()],Hz.prototype,"customCSS_",void 0),jz([Ls()],Hz.prototype,"open",void 0),Hz=jz([Ms("gmf-lidar-footer")],Hz);const Uz=function(e){const n=i()("meta[name=interface]")[0].getAttribute("content"),r=i()("meta[name=dynamicUrl]")[0].getAttribute("content"),o=i()("meta[name=appName]")[0],s=o?o.getAttribute("content"):`App${n}`,a=document.location&&document.location.search||"",l=`${r}?interface=${n}&query=${encodeURIComponent(a)}&path=${encodeURIComponent(document.location.pathname)}`;i().ajax(l,{dataType:"json",xhrFields:{withCredentials:!1}}).fail((e,t)=>{window.alert(`Failed to get the dynamic: ${t}`)}).done(n=>{if(n.doRedirect){!!window.matchMedia&&window.matchMedia("(max-width: 1024px)")&&"ontouchstart"in window&&(window.location.href=n.redirectUrl)}if("gmfCustomJavascriptUrl"in n.constants){const e=n.constants.gmfCustomJavascriptUrl;(Array.isArray(e)?e:[e]).forEach(e=>{!function(e){const t=document.createElement("script");t.src=e,t.crossOrigin="anonymous",t.type="module",document.body.append(t)}(e)})}if("gmfCustomStylesheetUrl"in n.constants){const e=n.constants.gmfCustomStylesheetUrl;(Array.isArray(e)?e:[e]).forEach(e=>{!function(e){const t=document.createElement("link");t.href=e,t.rel="stylesheet",t.crossOrigin="anonymous",document.head.append(t)}(e)})}ho.setConfig(n.constants);for(const t in n.constants)e.constant(t,n.constants[t]);!function(e){const t=e.gmfI18nextConfiguration||{};W.use(pe).use(Re).init(t).catch(e=>{console.error(`Unable to initialize the i18next: ${e}`)});const n=B().init(W);W.on("languageChanged",e=>{document.documentElement.lang=e,n("[data-i18n]")})}(n.constants),t().bootstrap(document,[s])}).catch(e=>{window.alert(`Failed to get the dynamic: ${e}`)})},zz=4294967296,Gz=1/zz,Wz="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");class qz{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const n=this.readVarint(),r=n>>3,i=this.pos;this.type=7&n,e(r,t,this),this.pos===i&&this.skip(n)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*zz;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*zz;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,r;return r=t[this.pos++],n=127&r,r<128?n:(r=t[this.pos++],n|=(127&r)<<7,r<128?n:(r=t[this.pos++],n|=(127&r)<<14,r<128?n:(r=t[this.pos++],n|=(127&r)<<21,r<128?n:(r=t[this.pos],n|=(15&r)<<28,function(e,t,n){const r=n.buf;let i,o;if(o=r[n.pos++],i=(112&o)>>4,o<128)return Bz(e,i,t);if(o=r[n.pos++],i|=(127&o)<<3,o<128)return Bz(e,i,t);if(o=r[n.pos++],i|=(127&o)<<10,o<128)return Bz(e,i,t);if(o=r[n.pos++],i|=(127&o)<<17,o<128)return Bz(e,i,t);if(o=r[n.pos++],i|=(127&o)<<24,o<128)return Bz(e,i,t);if(o=r[n.pos++],i|=(1&o)<<31,o<128)return Bz(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(n,e,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2==1?(e+1)/-2:e/2}readBoolean(){return Boolean(this.readVarint())}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Wz?Wz.decode(this.buf.subarray(t,e)):function(e,t,n){let r="",i=t;for(;i<n;){const t=e[i];let o,s,a,l=null,c=t>239?4:t>223?3:t>191?2:1;if(i+c>n)break;1===c?t<128&&(l=t):2===c?(o=e[i+1],128==(192&o)&&(l=(31&t)<<6|63&o,l<=127&&(l=null))):3===c?(o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&t)<<12|(63&o)<<6|63&s,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&t)<<18|(63&o)<<12|(63&s)<<6|63&a,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return 2===this.type?this.readVarint()+this.pos:this.pos+1}skip(e){const t=7&e;if(0===t)for(;this.buf[this.pos++]>127;);else if(2===t)this.pos=this.readVarint()+this.pos;else if(5===t)this.pos+=4;else{if(1!==t)throw new Error(`Unimplemented type: ${t}`);this.pos+=8}}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const e=new Uint8Array(t);e.set(this.buf),this.buf=e,this.dataView=new DataView(e.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Gz),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Gz),!0),this.pos+=8}writeVarint(e){(e=+e||0)>268435455||e<0?function(e,t){let n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){const n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))}writeSVarint(e){this.writeVarint(e<0?2*-e-1:2*e)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(4*e.length),this.pos++;const t=this.pos;this.pos=function(e,t,n){for(let r,i,o=0;o<t.length;o++){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);const n=this.pos-t;n>=128&&Vz(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const r=this.pos-n;r>=128&&Vz(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,n){this.writeTag(e,2),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,Xz,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,Kz,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,Qz,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,Zz,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,Jz,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,eG,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,tG,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,nG,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,rG,t)}writeBytesField(e,t){this.writeTag(e,2),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,5),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,5),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,1),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,1),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,0),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,0),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,2),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,5),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,1),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function Bz(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Vz(e,t,n){const r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(let t=n.pos-1;t>=e;t--)n.buf[t+r]=n.buf[t]}function Xz(e,t){for(let n=0;n<e.length;n++)t.writeVarint(e[n])}function Kz(e,t){for(let n=0;n<e.length;n++)t.writeSVarint(e[n])}function Zz(e,t){for(let n=0;n<e.length;n++)t.writeFloat(e[n])}function Jz(e,t){for(let n=0;n<e.length;n++)t.writeDouble(e[n])}function Qz(e,t){for(let n=0;n<e.length;n++)t.writeBoolean(e[n])}function eG(e,t){for(let n=0;n<e.length;n++)t.writeFixed32(e[n])}function tG(e,t){for(let n=0;n<e.length;n++)t.writeSFixed32(e[n])}function nG(e,t){for(let n=0;n<e.length;n++)t.writeFixed64(e[n])}function rG(e,t){for(let n=0;n<e.length;n++)t.writeSFixed64(e[n])}const iG=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=AP,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?NA(t.dataProjection):this.readProjection(e);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=NA(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Cn()}readFeature(e,t){return Cn()}readFeatures(e,t){return Cn()}readGeometry(e,t){return Cn()}readProjection(e){return Cn()}writeFeature(e,t){return Cn()}writeFeatures(e,t){return Cn()}writeGeometry(e,t){return Cn()}};function oG(e,t,n){const r=n?NA(n.featureProjection):null,i=n?NA(n.dataProjection):null;let o=e;if(r&&i&&!GA(r,i)){t&&(o=e.clone());const n=t?r:i,s=t?i:r;"tile-pixels"===n.getUnits()?o.transform(n,s):o.applyTransform(BA(n,s))}if(t&&n&&void 0!==n.decimals){const t=Math.pow(10,n.decimals),r=function(e){for(let n=0,r=e.length;n<r;++n)e[n]=Math.round(e[n]*t)/t;return e};o===e&&(o=e.clone()),o.applyTransform(r)}return o}function sG(e,t){const n=t?NA(t.featureProjection):null,r=t?NA(t.dataProjection):null;return n&&r&&!GA(n,r)?XA(e,r,n):e}const aG={Point:$R,LineString:oO,Polygon:KN,MultiPoint:ej,MultiLineString:JY,MultiPolygon:nj};function lG(e,t){const n=e.geometry;if(!n)return[];if(Array.isArray(n))return n.map(t=>lG({...e,geometry:t})).flat();const r="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const i=n.layout.length;return oG(new oj(r,"Polygon"===r?function(e,t,n){return Array.isArray(t[0])?(WN(e,0,t,n)||BN(e=e.slice(),0,t,n),e):(GN(e,0,t,n)||qN(e=e.slice(),0,t,n),e)}(n.flatCoordinates,n.ends,i):n.flatCoordinates,n.ends?.flat(),i,e.properties||{},e.id).enableSimplifyTransformed(),!1,t)}function cG(e,t){if(!e)return null;if(Array.isArray(e)){const n=e.map(e=>cG(e,t));return new KY(n)}return oG(new(0,aG[e.type])(e.flatCoordinates,e.layout||"XY",e.ends),!1,t)}function uG(e,t,n){if(3===e){const e={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(hG,e,r),e.length=e.features.length,e.length&&(t[e.name]=e)}}function hG(e,t,n){if(15===e)t.version=n.readVarint();else if(1===e)t.name=n.readString();else if(5===e)t.extent=n.readVarint();else if(2===e)t.features.push(n.pos);else if(3===e)t.keys.push(n.readString());else if(4===e){let r=null;const i=n.readVarint()+n.pos;for(;n.pos<i;)r=1===(e=n.readVarint()>>3)?n.readString():2===e?n.readFloat():3===e?n.readDouble():4===e?n.readVarint64():5===e?n.readVarint():6===e?n.readSVarint():7===e?n.readBoolean():null;t.values.push(r)}}function dG(e,t,n){if(1==e)t.id=n.readVarint();else if(2==e){const e=n.readVarint()+n.pos;for(;n.pos<e;){const e=t.layer.keys[n.readVarint()],r=t.layer.values[n.readVarint()];t.properties[e]=r}}else 3==e?t.type=n.readVarint():4==e&&(t.geometry=n.pos)}function fG(e,t,n){e.pos=t.features[n];const r=e.readVarint()+e.pos,i={layer:t,type:0,properties:{}};return e.readFields(dG,i,r),i}const pG=class extends iG{constructor(e){super(),e=e||{},this.dataProjection=new I$({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:oj,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,n,r){e.pos=t.geometry;const i=e.readVarint()+e.pos;let o=1,s=0,a=0,l=0,c=0,u=0;for(;e.pos<i;){if(!s){const t=e.readVarint();o=7&t,s=t>>3}if(s--,1===o||2===o)a+=e.readSVarint(),l+=e.readSVarint(),1===o&&c>u&&(r.push(c),u=c),n.push(a,l),c+=2;else{if(7!==o)throw new Error("Invalid command found in the PBF");c>u&&(n.push(n[u],n[u+1]),c+=2)}}c>u&&(r.push(c),u=c)}createFeature_(e,t,n){const r=t.type;if(0===r)return null;let i;const o=t.properties;let s;this.idProperty_?(s=o[this.idProperty_],delete o[this.idProperty_]):s=t.id,o[this.layerName_]=t.layer.name;const a=[],l=[];this.readRawGeometry_(e,t,a,l);const c=function(e,t){let n;1===e?n=1===t?"Point":"MultiPoint":2===e?n=1===t?"LineString":"MultiLineString":3===e&&(n="Polygon");return n}(r,l.length);if(this.featureClass===oj)i=new this.featureClass(c,a,l,2,o,s),i.transform(n.dataProjection);else{let e;if("Polygon"==c){const t=VN(a,l);e=t.length>1?new nj(a,"XY",t):new KN(a,"XY",l)}else e="Point"===c?new $R(a,"XY"):"LineString"===c?new oO(a,"XY"):"MultiPoint"===c?new ej(a,"XY"):"MultiLineString"===c?new JY(a,"XY",l):null;i=new(0,this.featureClass),this.geometryName_&&i.setGeometryName(this.geometryName_);const t=oG(e,!1,n);i.setGeometry(t),void 0!==s&&i.setId(s),i.setProperties(o,!0)}return i}getType(){return"arraybuffer"}readFeatures(e,t){const n=this.layers_,r=NA((t=this.adaptOptions(t)).dataProjection);r.setWorldExtent(t.extent),t.dataProjection=r;const i=new qz(e),o=i.readFields(uG,{}),s=[];for(const e in o){if(n&&!n.includes(e))continue;const a=o[e],l=a?[0,0,a.extent,a.extent]:null;r.setExtent(l);for(let e=0,n=a.length;e<n;++e){const n=fG(i,a,e),r=this.createFeature_(i,n,t);null!==r&&s.push(r)}}return s}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}},mG="http://www.w3.org/2001/XMLSchema-instance";function gG(e,t){return NG().createElementNS(e,t)}function _G(e,t){return yG(e,t,[]).join("")}function yG(e,t,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else{let r;for(r=e.firstChild;r;r=r.nextSibling)yG(r,t,n)}return n}function bG(e){return"documentElement"in e}function vG(e){return(new DOMParser).parseFromString(e,"application/xml")}function wG(e,t){return function(n,r){const i=e.call(t??this,n,r);if(void 0!==i){Qt(r[r.length-1],i)}}}function xG(e,t){return function(n,r){const i=e.call(t??this,n,r);if(void 0!==i){r[r.length-1].push(i)}}}function SG(e,t){return function(n,r){const i=e.call(t??this,n,r);void 0!==i&&(r[r.length-1]=i)}}function MG(e,t,n){return function(r,i){const o=e.call(n??this,r,i);if(void 0!==o){const e=i[i.length-1],n=void 0!==t?t:r.localName;let s;n in e?s=e[n]:(s=[],e[n]=s),s.push(o)}}}function kG(e,t,n){return function(r,i){const o=e.call(n??this,r,i);if(void 0!==o){i[i.length-1][void 0!==t?t:r.localName]=o}}}function TG(e,t){return function(n,r,i){e.call(t??this,n,r,i);i[i.length-1].node.appendChild(n)}}function EG(e,t){let n,r;return function(t,i,o){if(void 0===n){n={};const i={};i[t.localName]=e,n[t.namespaceURI]=i,r=LG(t.localName)}RG(n,r,i,o)}}function LG(e,t){return function(n,r,i){const o=r[r.length-1].node;let s=e;void 0===s&&(s=i);return gG(void 0!==t?t:o.namespaceURI,s)}}const CG=LG();function DG(e,t){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=e[t[i]];return r}function PG(e,t,n){let r,i;for(n=void 0!==n?n:{},r=0,i=e.length;r<i;++r)n[e[r]]=t;return n}function $G(e,t,n,r){let i;for(i=t.firstElementChild;i;i=i.nextElementSibling){const t=e[i.namespaceURI];if(void 0!==t){const e=t[i.localName];void 0!==e&&e.call(r,i,n)}}}function AG(e,t,n,r,i){return r.push(e),$G(t,n,r,i),r.pop()}function RG(e,t,n,r,i,o){const s=(void 0!==i?i:n).length;let a,l;for(let c=0;c<s;++c)a=n[c],void 0!==a&&(l=t.call(o,a,r,void 0!==i?i[c]:void 0),void 0!==l&&e[l.namespaceURI][l.localName].call(o,l,a,r))}function OG(e,t,n,r,i,o,s){return i.push(e),RG(t,n,r,i,o,s),i.pop()}let IG,FG;function NG(){return void 0===FG&&"undefined"!=typeof document&&(FG=document.implementation.createDocument("","",null)),FG}const YG=class{read(e){if(!e)return null;if("string"==typeof e){const t=vG(e);return this.readFromDocument(t)}return bG(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}readFromNode(e){Cn()}};function jG(e){return e.getAttributeNS("http://www.w3.org/1999/xlink","href")}function HG(e){return UG(_G(e,!1))}function UG(e){const t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return void 0!==t[1]||!1}function zG(e){const t=_G(e,!1),n=Date.parse(t);return isNaN(n)?void 0:n/1e3}function GG(e){return WG(_G(e,!1))}function WG(e){const t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function qG(e){return BG(_G(e,!1))}function BG(e){const t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function VG(e){return _G(e,!1).trim()}function XG(e,t){tW(e,t?"1":"0")}function KG(e,t){const n=t.toPrecision();e.appendChild(NG().createTextNode(n))}function ZG(e,t){const n=t.toString();e.appendChild(NG().createTextNode(n))}const JG=/^\s/,QG=/\s$/,eW=/(\n|\t|\r|<|&| {2})/;function tW(e,t){"string"==typeof t&&(JG.test(t)||QG.test(t)||eW.test(t))?t.split("]]>").forEach((t,n,r)=>{n<r.length-1&&(t+="]]"),n>0&&(t=">"+t),function(e,t){e.appendChild(NG().createCDATASection(t))}(e,t)}):e.appendChild(NG().createTextNode(t))}const nW=[null,"http://www.opengis.net/ows/1.1"],rW=PG(nW,{ServiceIdentification:kG(function(e,t){return AG({},mW,e,t)}),ServiceProvider:kG(function(e,t){return AG({},gW,e,t)}),OperationsMetadata:kG(function(e,t){return AG({},hW,e,t)})});const iW=PG(nW,{DeliveryPoint:kG(VG),City:kG(VG),AdministrativeArea:kG(VG),PostalCode:kG(VG),Country:kG(VG),ElectronicMailAddress:kG(VG)}),oW=PG(nW,{Value:MG(function(e,t){return VG(e)})}),sW=PG(nW,{AllowedValues:kG(function(e,t){return AG({},oW,e,t)})}),aW=PG(nW,{Phone:kG(function(e,t){return AG({},dW,e,t)}),Address:kG(function(e,t){return AG({},iW,e,t)})}),lW=PG(nW,{HTTP:kG(function(e,t){return AG({},cW,e,t)})}),cW=PG(nW,{Get:MG(function(e,t){const n=jG(e);if(!n)return;return AG({href:n},fW,e,t)}),Post:void 0}),uW=PG(nW,{DCP:kG(function(e,t){return AG({},lW,e,t)})}),hW=PG(nW,{Operation:function(e,t){const n=e.getAttribute("name"),r=AG({},uW,e,t);if(!r)return;const i=t[t.length-1];i[n]=r}}),dW=PG(nW,{Voice:kG(VG),Facsimile:kG(VG)}),fW=PG(nW,{Constraint:MG(function(e,t){const n=e.getAttribute("name");if(!n)return;return AG({name:n},sW,e,t)})}),pW=PG(nW,{IndividualName:kG(VG),PositionName:kG(VG),ContactInfo:kG(function(e,t){return AG({},aW,e,t)})}),mW=PG(nW,{Abstract:kG(VG),AccessConstraints:kG(VG),Fees:kG(VG),Title:kG(VG),ServiceTypeVersion:kG(VG),ServiceType:kG(VG)}),gW=PG(nW,{ProviderName:kG(VG),ProviderSite:kG(jG),ServiceContact:kG(function(e,t){return AG({},pW,e,t)})});const _W=class extends YG{constructor(){super()}readFromNode(e){const t=AG({},rW,e,[]);return t||null}},yW=[null,"http://www.opengis.net/wmts/1.0"],bW=[null,"http://www.opengis.net/ows/1.1"],vW=PG(yW,{Contents:kG(function(e,t){return AG({},wW,e,t)})});const wW=PG(yW,{Layer:MG(function(e,t){return AG({},xW,e,t)}),TileMatrixSet:MG(function(e,t){return AG({},CW,e,t)})}),xW=PG(yW,{Style:MG(function(e,t){const n=AG({},SW,e,t);if(!n)return;const r="true"===e.getAttribute("isDefault");return n.isDefault=r,n}),Format:MG(VG),TileMatrixSetLink:MG(function(e,t){return AG({},MW,e,t)}),Dimension:MG(function(e,t){return AG({},EW,e,t)}),ResourceURL:MG(function(e,t){const n=e.getAttribute("format"),r=e.getAttribute("template"),i=e.getAttribute("resourceType"),o={};n&&(o.format=n);r&&(o.template=r);i&&(o.resourceType=i);return o})},PG(bW,{Title:kG(VG),Abstract:kG(VG),WGS84BoundingBox:kG(PW),BoundingBox:MG(function(e,t){const n=e.getAttribute("crs"),r=AG([],LW,e,t);if(2!=r.length)return;return{extent:jP(r),crs:n}}),Identifier:kG(VG)})),SW=PG(yW,{LegendURL:MG(function(e,t){const n={};return n.format=e.getAttribute("format"),n.href=jG(e),n})},PG(bW,{Title:kG(VG),Identifier:kG(VG)})),MW=PG(yW,{TileMatrixSet:kG(VG),TileMatrixSetLimits:kG(function(e,t){return AG([],kW,e,t)})}),kW=PG(yW,{TileMatrixLimits:xG(function(e,t){return AG({},TW,e,t)})}),TW=PG(yW,{TileMatrix:kG(VG),MinTileRow:kG(qG),MaxTileRow:kG(qG),MinTileCol:kG(qG),MaxTileCol:kG(qG)}),EW=PG(yW,{Default:kG(VG),Value:MG(VG)},PG(bW,{Identifier:kG(VG)})),LW=PG(bW,{LowerCorner:xG($W),UpperCorner:xG($W)}),CW=PG(yW,{WellKnownScaleSet:kG(VG),TileMatrix:MG(function(e,t){return AG({},DW,e,t)})},PG(bW,{SupportedCRS:kG(VG),Identifier:kG(VG),BoundingBox:kG(PW)})),DW=PG(yW,{TopLeftCorner:kG($W),ScaleDenominator:kG(GG),TileWidth:kG(qG),TileHeight:kG(qG),MatrixWidth:kG(qG),MatrixHeight:kG(qG)},PG(bW,{Identifier:kG(VG)}));function PW(e,t){const n=AG([],LW,e,t);if(2==n.length)return jP(n)}function $W(e,t){const n=VG(e).split(/\s+/);if(!n||2!=n.length)return;const r=+n[0],i=+n[1];return isNaN(r)||isNaN(i)?void 0:[r,i]}const AW=class extends YG{constructor(){super(),this.owsParser_=new _W}readFromNode(e){let t=e.getAttribute("version");t&&(t=t.trim());let n=this.owsParser_.readFromNode(e);return n?(n.version=t,n=AG(n,vW,e,[]),n||null):null}};const RW=class extends gI{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,r=e.viewState,i=r.resolution,o=this.getLayer().getSource(),s=e.viewHints;let a=e.extent;if(void 0!==t.extent&&(a=f$(a,tR(t.extent,r.projection))),!s[cO]&&!s[uO]&&!y$(a))if(o){const e=r.projection,t=o.getImage(a,i,n,e);t&&(this.loadImage(t)?this.image=t:t.getState()===je&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=hR(t.pixelToCoordinateTransform,e.slice()),i=n.getExtent();if(i&&!GP(i,r))return null;const o=this.image.getExtent(),s=this.image.getImage(),a=g$(o),l=Math.floor(s.width*((r[0]-o[0])/a));if(l<0||l>=s.width)return null;const c=d$(o),u=Math.floor(s.height*((o[3]-r[1])/c));return u<0||u>=s.height?null:this.getImageData(s,l,u)}renderFrame(e,t){const n=this.image,r=n.getExtent(),i=n.getResolution(),[o,s]=Array.isArray(i)?i:[i,i],a=n.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,u=e.viewState,h=u.center,d=u.resolution,f=c*o/(d*a),p=c*s/(d*a);this.prepareContainer(e,t);const m=this.context.canvas.width,g=this.context.canvas.height,_=this.getRenderContext(e);let y=!1,b=!0;if(l.extent){const t=tR(l.extent,u.projection);b=_$(t,e.extent),y=b&&!WP(t,e.extent),y&&this.clipUnrotated(_,e,t)}const v=n.getImage(),w=pR(this.tempTransform,m/2,g/2,f,p,0,a*(r[0]-h[0])/o,a*(h[1]-r[3])/s);this.renderedResolution=s*c/a;const x=v.width*w[0],S=v.height*w[3];if(this.getLayer().getSource().getInterpolate()||(_.imageSmoothingEnabled=!1),this.preRender(_,e),b&&x>=.5&&S>=.5){const e=w[4],t=w[5],n=l.opacity;1!==n&&(_.save(),_.globalAlpha=n),_.drawImage(v,0,0,+v.width,+v.height,e,t,x,S),1!==n&&_.restore()}return this.postRender(this.context,e),y&&_.restore(),_.imageSmoothingEnabled=!0,this.container}};const OW=class extends wY{constructor(e){super(e=e||{})}};const IW=class extends OW{constructor(e){super(e)}createRenderer(){return new RW(this)}getData(e){return super.getData(e)}},FW={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},NW={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};const YW=class extends vU{constructor(e,t){super(e,t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=[1,0,0,1,0,0],this.tileClipContexts_=null}enqueueTilesForNextExtent(){return"vector"!==this.getLayer().getRenderMode()}drawTile(e,t,n,r,i,o,s,a){this.updateExecutorGroup_(e,t.pixelRatio,t.viewState.projection),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,t),super.drawTile(e,t,n,r,i,o,s,a)}getTile(e,t,n,r){const i=this.getOrCreateTile(e,t,n,r);if(!i)return null;const o=r.viewState,s=o.resolution,a=r.viewHints,l=this.getLayer().getSource(),c=l.getTileGridForProjection(o.projection),u=!(a[cO]||a[uO]),h=c.getZForResolution(s,l.zDirection)===e;return u&&h?i.wantedResolution=s:i.wantedResolution||(i.wantedResolution=c.getResolution(e)),i}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,n){const r=this.getLayer(),i=r.getRevision(),o=r.getRenderOrder()||null,s=e.wantedResolution,a=e.getReplayState(r);if(!a.dirty&&a.renderedResolution===s&&a.renderedRevision==i&&a.renderedRenderOrder==o)return;const l=r.getSource(),c=!!r.getDeclutter(),u=l.getTileGrid(),h=l.getTileGridForProjection(n).getTileCoordExtent(e.wrappedTileCoord),d=l.getSourceTiles(t,n,e),f=Pn(r);delete e.hitDetectionImageData[f],e.executorGroups[f]=[],a.dirty=!1;for(let i=0,p=d.length;i<p;++i){const p=d[i];if(p.getState()!=oH)continue;const m=l.getProjection(),g=p.tileCoord;let _=u.getTileCoordExtent(g);n&&m&&!GA(n,m)&&(_=XA(_,m,n,32));const y=f$(h,_),b=HP(y,r.getRenderBuffer()*s,this.tempExtent),v=QP(_,y)?null:b,w=new $O(0,y,s,t),x=lI(s,t),S=function(e,t){let n;const i=e.getStyleFunction()||r.getStyleFunction();if(i&&(n=i(e,s)),n){const r=this.renderFeature(e,x,n,w,c,t);a.dirty=a.dirty||r}},M=p.getFeatures();o&&o!==a.renderedRenderOrder&&M.sort(o);for(let e=0,t=M.length;e<t;++e){let t=M[e];n&&p.projection&&!GA(n,p.projection)&&(t=t.clone(),t.getGeometry().applyTransform(BA(p.projection,n))),v&&!_$(v,t.getGeometry().getExtent())||S.call(this,t,e)}const k=w.finish(),T="vector"!==r.getRenderMode()&&c&&1===d.length?null:y,E=new KO(T,s,t,l.getOverlaps(),k,r.getRenderBuffer(),!0);e.executorGroups[f].push(E)}a.renderedRevision=i,a.renderedRenderOrder=o,a.renderedResolution=s}forEachFeatureAtCoordinate(e,t,n,r,i){const o=t.viewState.resolution,s=t.viewState.rotation;n=null==n?0:n;const a=this.getLayer(),l=a.getSource().getTileGridForProjection(t.viewState.projection),c=jP([e]);HP(c,o*n,c);const u={},h=function(e,t,n){let o=e.getId();void 0===o&&(o=Pn(e));const s=u[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return u[o]=!0,i.splice(i.lastIndexOf(s),1),r(e,a,t);s.geometry=t,s.distanceSq=n}}else{if(0===n)return u[o]=!0,r(e,a,t);i.push(u[o]={feature:e,layer:a,geometry:t,distanceSq:n,callback:r})}},d=this.renderedTiles,f=Pn(a),p=a.getDeclutter(),m=p?t.declutter?.[p]?.all().map(e=>e.value):null;let g;e:for(let t=0,r=d.length;t<r;++t){const r=d[t];if(!_$(l.getTileCoordExtent(r.wrappedTileCoord),c))continue;const i=r.executorGroups[f];for(let t=0,r=i.length;t<r;++t)if(g=i[t].forEachFeatureAtCoordinate(e,o,s,n,h,m),g)break e}return g}getFeatures(e){return 0===this.renderedTiles.length?Promise.resolve([]):new Promise((t,n)=>{const r=this.getLayer(),i=r.getSource(),o=this.renderedProjection,s=o.getExtent(),a=this.renderedResolution,l=i.getTileGridForProjection(o),c=hR(this.renderedPixelToCoordinateTransform_,e.slice()),u=l.getTileCoordForCoordAndResolution(c,a).toString(),h=this.renderedTiles.find(e=>e.tileCoord.toString()===u&&e.getState()===oH);if(!h||h.loadingSourceTiles>0)return void t([]);i.getWrapX()&&o.canWrapX()&&!WP(s,l.getTileCoordExtent(h.tileCoord))&&A$(c,o);const d=Pn(r),f=p$(l.getTileCoordExtent(h.wrappedTileCoord)),p=[(c[0]-f[0])/a,(f[1]-c[1])/a],m=h.getSourceTiles().reduce((e,t)=>e.concat(t.getFeatures()),[]);let g=h.hitDetectionImageData[d];if(!g){const e=ur(l.getTileSize(l.getZForResolution(a,i.zDirection))),t=this.renderedRotation_;g=iI(e,[this.getRenderTransform(l.getTileCoordCenter(h.wrappedTileCoord),a,0,rI,e[0]*rI,e[1]*rI,0)],m,r.getStyleFunction(),l.getTileCoordExtent(h.wrappedTileCoord),h.getReplayState(r).renderedResolution,t),h.hitDetectionImageData[d]=g}t(oI(p,m,g))})}getFeaturesInExtent(e){const t=[],n=this.getTileCache();if(0===n.getCount())return t;const r=this.getLayer().getSource().getTileGridForProjection(this.frameState.viewState.projection),i=r.getZForResolution(this.renderedResolution),o={};return n.forEach(n=>{if(n.tileCoord[0]!==i||n.getState()!==oH)return;const s=n.getSourceTiles();for(let n=0,i=s.length;n<i;++n){const i=s[n],a=i.getKey();if(a in o)continue;o[a]=!0;const l=i.tileCoord;if(_$(e,r.getTileCoordExtent(l))){const n=i.getFeatures();if(n)for(let r=0,i=n.length;r<i;++r){const i=n[r],o=i.getGeometry();_$(e,o.getExtent())&&t.push(i)}}}}),t}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,t){const n=this.context,r=n.globalAlpha;n.globalAlpha=t.opacity;const i=e.viewHints,o=!(i[cO]||i[uO]),s=[this.context.canvas.width,this.context.canvas.height],a=this.getLayer().getDeclutter(),l=a?e.declutter?.[a]:void 0,c=Pn(this.getLayer()),u=this.renderedTiles;for(let t=0,n=u.length;t<n;++t){const n=u[t],r=n.executorGroups[c];if(r)for(let t=r.length-1;t>=0;--t)r[t].execute(this.context,s,this.getTileRenderTransform(n,e),e.viewState.rotation,o,BO,l)}n.globalAlpha=r}renderDeferredInternal(e){const t=this.renderedTiles,n=Pn(this.getLayer()),r=t.reduce((e,t,r)=>(t.executorGroups[n].forEach(t=>e.push({executorGroup:t,index:r})),e),[]),i=r.map(({executorGroup:e})=>e.getDeferredZIndexContexts()),o={};for(let e=0,t=r.length;e<t;++e){const t=r[e].executorGroup.getDeferredZIndexContexts();for(const e in t)o[e]=!0}Object.keys(o).map(Number).sort(Xt).forEach(e=>{i.forEach((t,n)=>{t[e]&&(t[e].forEach(e=>{const{executorGroup:t,index:i}=r[n],o=t.getRenderedContext(),s=o.globalAlpha;o.globalAlpha=this.renderedOpacity_;const a=this.tileClipContexts_[i];a&&a.draw(o),e.draw(o),a&&o.restore(),o.globalAlpha=s,e.clear()}),t[e].length=0)})})}getTileRenderTransform(e,t){const n=t.pixelRatio,r=t.viewState,i=r.center,o=r.resolution,s=r.rotation,a=t.size,l=Math.round(a[0]*n),c=Math.round(a[1]*n),u=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),h=e.tileCoord,d=u.getTileCoordExtent(e.wrappedTileCoord),f=u.getTileCoordExtent(h,this.tempExtent)[0]-d[0];return cR(dR(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(i,o,s,n,l,c,f))}postRender(e,t){const n=t.viewHints,r=!(n[cO]||n[uO]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation,this.renderedOpacity_=t.layerStatesArray[t.layerIndex].opacity;const i=this.getLayer(),o=i.getRenderMode(),s=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const a=i.getDeclutter(),l=a?NW[o].filter(e=>!BO.includes(e)):NW[o],c=t.viewState,u=c.rotation,h=i.getSource(),d=h.getTileGridForProjection(c.projection).getZForResolution(c.resolution,h.zDirection),f=this.renderedTiles,p=[],m=[],g=[],_=Pn(i);let y=!0;for(let n=f.length-1;n>=0;--n){const o=f[n];y=y&&!o.getReplayState(i).dirty;const s=o.executorGroups[_].filter(e=>e.hasExecutors(l));if(0===s.length)continue;const c=this.getTileRenderTransform(o,t),h=o.tileCoord[0];let b=!1;const v=s[0].getClipCoords(c);let w,x=e;if(v){w=new RO,x=w.getContext();for(let e=0,t=p.length;e<t;++e)if(d!==h&&h<m[e]){const t=p[e];_$([v[0],v[3],v[4],v[7]],[t[0],t[3],t[4],t[7]])&&(b||(x.save(),b=!0),x.beginPath(),x.moveTo(v[0],v[1]),x.lineTo(v[2],v[3]),x.lineTo(v[4],v[5]),x.lineTo(v[6],v[7]),x.moveTo(t[6],t[7]),x.lineTo(t[4],t[5]),x.lineTo(t[2],t[3]),x.lineTo(t[0],t[1]),x.clip())}p.push(v),m.push(h)}for(let n=0,i=s.length;n<i;++n){s[n].execute(e,[e.canvas.width,e.canvas.height],c,u,r,l,t.declutter?.[a])}b&&(x===e?x.restore():g[n]=w)}e.globalAlpha=s,this.ready=y,this.tileClipContexts_=g,t.declutter||this.renderDeferredInternal(t),super.postRender(e,t)}renderFeature(e,t,n,r,i,o){if(!n)return!1;let s=!1;if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)s=uI(r,e,n[a],t,this.boundHandleStyleImageChange_,void 0,i,o)||s;else s=uI(r,e,n,t,this.boundHandleStyleImageChange_,void 0,i,o);return s}tileImageNeedsRender_(e){const t=this.getLayer();if("vector"===t.getRenderMode())return!1;const n=e.getReplayState(t),r=t.getRevision(),i=e.wantedResolution;return n.renderedTileResolution!==i||n.renderedTileRevision!==r}renderTileImage_(e,t){const n=this.getLayer(),r=e.getReplayState(n),i=n.getRevision(),o=e.executorGroups[Pn(n)];r.renderedTileRevision=i;const s=e.wrappedTileCoord,a=s[0],l=n.getSource();let c=t.pixelRatio;const u=t.viewState.projection,h=l.getTileGridForProjection(u),d=h.getResolution(e.tileCoord[0]),f=t.pixelRatio/e.wantedResolution*d,p=h.getResolution(a),m=e.getContext();c=Math.round(Math.max(c,f/c));const g=l.getTilePixelSize(a,c,u);m.canvas.width=g[0],m.canvas.height=g[1];const _=c/f;if(1!==_){const e=lR(this.tmpTransform_);dR(e,_,_),m.setTransform.apply(m,e)}const y=h.getTileCoordExtent(s,this.tempExtent),b=f/p,v=lR(this.tmpTransform_);dR(v,b,-b),fR(v,-y[0],-y[3]);for(let e=0,t=o.length;e<t;++e){o[e].execute(m,[m.canvas.width*_,m.canvas.height*_],v,0,!0,FW[n.getRenderMode()],null)}r.renderedTileResolution=e.wantedResolution}};const jW=class extends SY{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload;const n=void 0===e.cacheSize?0:e.cacheSize;delete e.cacheSize,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n;const r=e.renderMode||"hybrid";Oe("hybrid"==r||"vector"==r,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new YW(this,{cacheSize:this.cacheSize_})}getFeatures(e){return super.getFeatures(e)}getFeaturesInExtent(e){return this.getRenderer().getFeaturesInExtent(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(hU)}getUseInterimTilesOnError(){return this.get(dU)}setPreload(e){this.set(hU,e)}setUseInterimTilesOnError(e){this.set(dU,e)}};function HW(e,t){const n=[];Object.keys(t).forEach(function(e){null!==t[e]&&void 0!==t[e]&&n.push(e+"="+encodeURIComponent(t[e]))});const r=n.join("&");return e=e.replace(/[?&]$/,""),(e+=e.includes("?")?"&":"?")+r}const UW=/\{z\}/g,zW=/\{x\}/g,GW=/\{y\}/g,WW=/\{-y\}/g;function qW(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let o;for(o=r;o<=i;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)t.push(e.replace(n[0],i.toString()));return t}return t.push(e),t}const BW="1.3.0",VW=[101,101];function XW(e,t,n,r,i){i.WIDTH=n[0],i.HEIGHT=n[1];const o=r.getAxisOrientation(),s=T$(i.VERSION,"1.3")>=0;i[s?"CRS":"SRS"]=r.getCode();const a=s&&o.startsWith("ne")?[t[1],t[0],t[3],t[2]]:t;return i.BBOX=a.join(","),HW(e,i)}function KW(e,t,n,r,i,o,s){o=Object.assign({REQUEST:"GetMap"},o);const a=t/n,l=[pt(g$(e)/a,4),pt(d$(e)/a,4)];if(1!=n)switch(s){case"geoserver":const e=90*n+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+e:o.FORMAT_OPTIONS="dpi:"+e;break;case"mapserver":o.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":o.DPI=90*n;break;default:throw new Error("Unknown `serverType` configured")}return XW(i,e,l,r,o)}function ZW(e,t){return Object.assign({REQUEST:t,SERVICE:"WMS",VERSION:BW,FORMAT:"image/png",STYLES:"",TRANSPARENT:"TRUE"},e)}const JW=class extends wz{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:bz,this.params_=Object.assign({},e.params),this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,n,r){const i=NA(n),o=this.getProjection();o&&o!==i&&(t=xH(o,i,e,t),e=VA(e,i,o));return function(e,t,n){if(void 0===e.url)return;const r=NA(e.projection||"EPSG:3857"),i=u$(t,n,0,VW),o={QUERY_LAYERS:e.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(o,ZW(e.params,"GetFeatureInfo"),e.params);const s=mt((t[0]-i[0])/n,4),a=mt((i[3]-t[1])/n,4),l=T$(o.VERSION,"1.3")>=0;return o[l?"I":"X"]=s,o[l?"J":"Y"]=a,XW(e.url,i,VW,r,o)}({url:this.url_,params:{...this.params_,...r},projection:o||i},e,t)}getLegendUrl(e,t){return function(e,t){if(void 0===e.url)return;const n={SERVICE:"WMS",VERSION:BW,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0!==t){const r=NA(e.projection||"EPSG:3857").getMetersPerUnit()||1,i=28e-5;n.SCALE=t*r/i}if(Object.assign(n,e.params),void 0!==e.params&&void 0===n.LAYER){const e=n.LAYERS;if(Array.isArray(e)&&1===e.length)return;n.LAYER=e}return HW(e.url,n)}({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,n,r){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===r||(this.loaderProjection_=r,this.loader=function(e){const t=void 0===e.hidpi||e.hidpi,n=NA(e.projection||"EPSG:3857"),r=e.ratio||1.5,i=e.load||gn,o=e.crossOrigin??null;return(s,a,l)=>{s=vz(s,a,l,r),1==l||t&&void 0!==e.serverType||(l=1);const c=KW(s,a,l,n,e.url,ZW(e.params,"GetMap"),e.serverType),u=new Image;return u.crossOrigin=o,i(u,c).then(e=>({image:e,extent:s,pixelRatio:l}))}}({crossOrigin:this.crossOrigin_,params:this.params_,projection:r,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(e,t)=>(this.image.setImage(e),this.imageLoadFunction_(this.image,t),gn(e))})),super.getImageInternal(e,t,n,r))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}setParams(e){this.params_=Object.assign({},e),this.changed()}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}};function QW(e,t){return function(n,r,i){if(!n)return;let o;const s=n[0];if(t){const e=t.getFullTileRange(s);e&&(o=e.getHeight()-1)}return function(e,t,n,r,i){return e.replace(UW,t.toString()).replace(zW,n.toString()).replace(GW,r.toString()).replace(WW,function(){if(void 0===i)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-r).toString()})}(e,s,n[1],n[2],o)}}function eq(e,t){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=QW(e[i],t);return tq(r)}function tq(e){return 1===e.length?e[0]:function(t,n,r){if(!t)return;const i=ht(YH(t),e.length);return e[i](t,n,r)}}const nq="tileloadstart",rq="tileloadend",iq="tileloaderror";class oq extends Dz{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===oq.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=Pn(t),r=t.getState();let i;r==iH?(this.tileLoadingKeys_[n]=!0,i=nq):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],i=r==sH?iq:r==oH?rq:void 0),null!=i&&this.dispatchEvent(new Cz(i,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,void 0!==t?this.setKey(t):this.changed()}setUrl(e){const t=qW(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(eq(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}}const sq=oq;function aq(e,t){if(qe){const n=e.getCrossOrigin();let r="same-origin",i="same-origin";return"anonymous"===n||""===n?(r="cors",i="omit"):"use-credentials"===n&&(r="cors",i="include"),void fetch(t,{mode:r,credentials:i}).then(e=>{if(!e.ok)throw new Error(`HTTP ${e.status}`);return e.blob()}).then(e=>createImageBitmap(e)).then(t=>{const n=e.getImage();n.width=t.width,n.height=t.height;n.getContext("2d").drawImage(t,0,0),t.close?.(),n.dispatchEvent(new Event("load"))}).catch(()=>{e.getImage().dispatchEvent(new Event("error"))})}e.getImage().src=t}const lq=class extends sq{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:aq,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:_H,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!GA(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||GA(t,e)))return this.tileGrid;const n=Pn(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=kz(e)),this.tileGridForProjection[n]}createTile_(e,t,n,r,i,o){const s=[e,t,n],a=this.getTileCoordForTileUrlFunction(s,i),l=a?this.tileUrlFunction(a,r,i):void 0,c=new this.tileClass(s,void 0!==l?rH:aH,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(Nt,this.handleTileChange.bind(this)),c}getTile(e,t,n,r,i,o){const s=this.getProjection();if(!s||!i||GA(s,i))return this.getTileInternal(e,t,n,r,s||i);const a=[e,t,n],l=this.getKey(),c=this.getTileGridForProjection(s),u=this.getTileGridForProjection(i),h=this.getTileCoordForTileUrlFunction(a,i),d=new kH(s,c,i,u,a,h,this.getTilePixelRatio(r),this.getGutter(),(e,t,n,r)=>this.getTileInternal(e,t,n,r,s,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return d.key=l,d}getTileInternal(e,t,n,r,i,o){const s=this.getKey(),a=NH(this,s,e,t,n);if(o&&o.containsKey(a)){return o.get(a)}const l=this.createTile_(e,t,n,r,i,s);return o?.set(a,l),l}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const n=NA(e);if(n){const e=Pn(n);e in this.tileGridForProjection||(this.tileGridForProjection[e]=t)}}};const cq=class extends lq{constructor(e){e=e||{};const t=Object.assign({},e.params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=[1/0,1/0,-1/0,-1/0],this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,n,r){const i=NA(n),o=this.getProjection()||i;let s=this.getTileGrid();s||(s=this.getTileGridForProjection(o));const a=VA(e,i,o),l=xH(o,i,e,t),c=s.getZForResolution(l,this.zDirection),u=s.getResolution(c),h=s.getTileCoordForCoordAndZ(a,c);if(s.getResolutions().length<=h[0])return;let d=s.getTileCoordExtent(h,this.tmpExtent_);const f=this.gutter_;0!==f&&(d=HP(d,u*f,d));const p={QUERY_LAYERS:this.params_.LAYERS};Object.assign(p,ZW(this.params_,"GetFeatureInfo"),r);const m=Math.floor((a[0]-d[0])/u),g=Math.floor((d[3]-a[1])/u);return p[this.v13_?"I":"X"]=m,p[this.v13_?"J":"Y"]=g,this.getRequestUrl_(h,d,1,o||i,p)}getLegendUrl(e,t){if(void 0===this.urls[0])return;const n={SERVICE:"WMS",VERSION:BW,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){const e=this.params_.LAYERS;if(!(!Array.isArray(e)||1===e.length))return;n.LAYER=e}if(void 0!==e){const t=this.getProjection()?this.getProjection().getMetersPerUnit():1,r=28e-5;n.SCALE=e*t/r}return Object.assign(n,t),HW(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,n,r,i){const o=this.urls;if(!o)return;let s;if(1==o.length)s=o[0];else{s=o[ht(YH(e),o.length)]}return KW(t,(this.tileGrid||this.getTileGridForProjection(r)).getResolution(e[0]),n,r,s,i,this.serverType_)}getTilePixelRatio(e){return this.hidpi_&&void 0!==this.serverType_?e:1}getKeyForParams_(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}setParams_(e){this.params_=e,this.updateV13_(),this.setKey(this.getKeyForParams_())}setParams(e){this.setParams_(Object.assign({},e))}updateParams(e){this.setParams_(Object.assign(this.params_,e))}updateV13_(){const e=this.params_.VERSION||BW;this.v13_=T$(e,"1.3")>=0}tileUrlFunction(e,t,n){let r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),r.getResolutions().length<=e[0])return;1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);const i=r.getResolution(e[0]);let o=r.getTileCoordExtent(e,this.tmpExtent_);const s=this.gutter_;0!==s&&(o=HP(o,i*s,o));const a=Object.assign({},ZW(this.params_,"GetMap"));return this.getRequestUrl_(e,o,t,n,a)}},uq=[];const hq=class extends hH{constructor(e,t,n,r,i){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.removeSourceTiles_=i,this.wrappedTileCoord=n}getContext(){return this.context_||(this.context_=Ke(1,1,uq)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=Pn(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(Qe(this.context_),uq.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}};const dq=class extends hH{constructor(e,t,n,r,i,o){super(e,t,o),this.extent=null,this.format_=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=i,this.url_=n,this.key=n}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==rH&&(this.setState(iH),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(sH)}setFeatures(e){this.features_=e,this.setState(oH)}setLoader(e){this.loader_=e}};const fq=class extends sq{constructor(e){const t=e.projection||"EPSG:3857",n=e.extent||Lz(t),r=e.tileGrid||Tz({extent:n,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:pq,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=null==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:dq,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,n){if(n.getState()===rH){n.setState(iH);const r=n.wrappedTileCoord,i=this.getTileGridForProjection(t);let o=i.getTileCoordExtent(r);const s=r[0],a=i.getResolution(s);HP(o,-a,o);const l=this.projection;t&&this.projection&&!GA(t,l)&&(o=XA(o,t,l));const c=this.tileGrid,u=c.getExtent();u&&f$(o,u,o);let h=a;t&&l&&!GA(t,l)&&(h=a/l.getMetersPerUnit()/t.getMetersPerUnit());const d=c.getZForResolution(h,this.zDirection);c.forEachTileCoord(o,d,r=>{const i=this.tileUrlFunction(r,e,t);this.sourceTiles_[i]||(this.sourceTiles_[i]=new this.tileClass(r,i?rH:aH,i,this.format_,this.tileLoadFunction));const o=this.sourceTiles_[i];n.sourceTiles.push(o),this.tileKeysBySourceTileUrl_[i]||(this.tileKeysBySourceTileUrl_[i]=[]),this.tileKeysBySourceTileUrl_[i].push(n.getKey());const s=o.getState();if(s<oH){const e=t=>{this.handleTileChange(t);const r=o.getState();if(r===oH||r===sH){const t=o.getKey();t in n.errorTileKeys?o.getState()===oH&&delete n.errorTileKeys[t]:n.loadingSourceTiles--,r===sH?n.errorTileKeys[t]=!0:o.removeEventListener(Nt,e),0===n.loadingSourceTiles&&n.setState(cn(n.errorTileKeys)?oH:sH)}};o.addEventListener(Nt,e),n.loadingSourceTiles++}s===rH&&(o.extent=c.getTileCoordExtent(r),o.projection=this.projection,o.resolution=c.getResolution(r[0]),o.load())}),n.loadingSourceTiles||n.setState(n.sourceTiles.some(e=>e.getState()===sH)?sH:oH)}return n.sourceTiles}removeSourceTiles(e){const t=e.getKey(),n=e.sourceTiles;for(let e=0,r=n.length;e<r;++e){const r=n[e].getTileUrl();if(!this.tileKeysBySourceTileUrl_[r])return;const i=this.tileKeysBySourceTileUrl_[r].indexOf(t);-1!==i&&(this.tileKeysBySourceTileUrl_[r].splice(i,1),0===this.tileKeysBySourceTileUrl_[r].length&&(delete this.tileKeysBySourceTileUrl_[r],delete this.sourceTiles_[r]))}}getTile(e,t,n,r,i){const o=[e,t,n];let s=this.getTileCoordForTileUrlFunction(o,i);const a=this.getTileGrid().getExtent(),l=this.projection,c=this.getTileGridForProjection(i);if(s&&a){const t=c.getTileCoordExtent(s);HP(t,-c.getResolution(e),t),_$(a,i&&l&&!GA(i,l)?XA(t,i,l):t)||(s=null)}let u=!0;if(null!==s){const t=this.tileGrid,n=c.getResolution(e);let o=n;i&&l&&!GA(i,l)&&(o=n/l.getMetersPerUnit()/i.getMetersPerUnit());const a=t.getZForResolution(o,1),h=c.getTileCoordExtent(s);HP(h,-n,h),t.forEachTileCoord(i&&l&&!GA(i,l)?XA(h,i,l):h,a,e=>{u=u&&!this.tileUrlFunction(e,r,l)})}const h=new hq(o,u?aH:rH,s,this.getSourceTiles.bind(this,r,i),this.removeSourceTiles.bind(this));return h.key=this.getKey(),h}getTileGridForProjection(e){const t=e.getCode();let n=this.tileGrids_[t];if(!n){const r=this.projection;if(null!==r&&!GA(r,e))return kz(e);const i=this.tileGrid,o=i.getResolutions().slice(),s=o.map(function(e,t){return i.getOrigin(t)}),a=o.map(function(e,t){return i.getTileSize(t)}),l=43;for(let e=o.length;e<l;++e)o.push(o[e-1]/2),s.push(s[e-1]),a.push(a[e-1]);n=new Sz({extent:i.getExtent(),origins:s,resolutions:o,tileSizes:a}),this.tileGrids_[t]=n}return n}getTilePixelRatio(e){return e}getTilePixelSize(e,t,n){const r=ur(this.getTileGridForProjection(n).getTileSize(e),this.tmpSize);return[Math.round(r[0]*t),Math.round(r[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}};function pq(e,t){e.setLoader(function(n,r,i){UY(t,e.getFormat(),n,r,i,e.onLoad.bind(e),e.onError.bind(e))})}const mq=class extends lq{constructor(e){const t=void 0!==e.requestEncoding?e.requestEncoding:"KVP",n=e.tileGrid;let r=e.urls;void 0===r&&void 0!==e.url&&(r=qW(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:r,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=t,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=tq(r.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const t=e.join("\n");this.setTileUrlFunction(tq(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const t in this.dimensions_)e.push(t+"-"+this.dimensions_[t]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const t=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==t&&Object.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e="KVP"==t?HW(e,n):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase()in n?n[t.toLowerCase()]:e});const r=this.tileGrid,i=this.dimensions_;return function(n,o,s){if(!n)return;const a={TileMatrix:r.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object.assign(a,i);let l=e;return l="KVP"==t?HW(l,a):l.replace(/\{(\w+?)\}/g,function(e,t){return encodeURIComponent(a[t])}),l}}};function gq(e,t){const n=e.Contents.Layer,r=n?.find(function(e){return e.Identifier==t.layer});if(!r)return null;const i=e.Contents.TileMatrixSet;let o;o=r.TileMatrixSetLink.length>1?"projection"in t?r.TileMatrixSetLink.findIndex(function(e){const n=i.find(function(t){return t.Identifier==e.TileMatrixSet}).SupportedCRS,r=NA(n),o=NA(t.projection);return r&&o?GA(r,o):n==t.projection}):r.TileMatrixSetLink.findIndex(function(e){return e.TileMatrixSet==t.matrixSet}):0,o<0&&(o=0);const s=r.TileMatrixSetLink[o].TileMatrixSet,a=r.TileMatrixSetLink[o].TileMatrixSetLimits;let l=r.Format[0];"format"in t&&(l=t.format),o=r.Style.findIndex(function(e){return"style"in t?e.Title==t.style:e.isDefault}),o<0&&(o=0);const c=r.Style[o].Identifier,u={};"Dimension"in r&&r.Dimension.forEach(function(e,t,n){const r=e.Identifier;let i=e.Default;void 0===i&&(i=e.Value[0]),u[r]=i});const h=e.Contents.TileMatrixSet.find(function(e){return e.Identifier==s});let d;const f=h.SupportedCRS;if(f&&(d=NA(f)),"projection"in t){const e=NA(t.projection);e&&(d&&!GA(e,d)||(d=e))}let p=!1;const m=d.getAxisOrientation().startsWith("ne");let g=h.TileMatrix[0],_={MinTileCol:0,MinTileRow:0,MaxTileCol:g.MatrixWidth-1,MaxTileRow:g.MatrixHeight-1};if(a){_=a[a.length-1];const e=h.TileMatrix.find(e=>e.Identifier===_.TileMatrix||h.Identifier+":"+e.Identifier===_.TileMatrix);e&&(g=e)}const y=r.BoundingBox?.find(e=>NA(e.crs)&&GA(NA(e.crs),d)),b=28e-5*g.ScaleDenominator/d.getMetersPerUnit(),v=m?[g.TopLeftCorner[1],g.TopLeftCorner[0]]:g.TopLeftCorner,w=g.TileWidth*b,x=g.TileHeight*b;let S=y?.extent??h.BoundingBox;S&&m&&(S=[S[1],S[0],S[3],S[2]]);let M=[v[0]+w*_.MinTileCol,v[1]-x*(1+_.MaxTileRow),v[0]+w*(1+_.MaxTileCol),v[1]-x*_.MinTileRow];if(void 0!==S&&!WP(S,M)){const e=r.WGS84BoundingBox,t=NA("EPSG:4326").getExtent();if(M=S,e)p=e[0]===t[0]&&e[2]===t[2];else{const e=XA(S,h.SupportedCRS,"EPSG:4326");p=e[0]-1e-10<=t[0]&&e[2]+1e-10>=t[2]}}const k=function(e,t,n){const r=[],i=[],o=[],s=[],a=[];n=void 0!==n?n:[];const l="TileMatrix",c="Identifier",u="ScaleDenominator",h="TopLeftCorner",d=NA(e.SupportedCRS),f=d.getMetersPerUnit(),p=d.getAxisOrientation().startsWith("ne");return e[l].sort(function(e,t){return t[u]-e[u]}),e[l].forEach(function(t){let d;if(d=!(n.length>0)||n.find(function(n){return t[c]==n[l]||!t[c].includes(":")&&e[c]+":"+t[c]===n[l]}),d){i.push(t[c]);const e=28e-5*t[u]/f,n=t.TileWidth,l=t.TileHeight;p?o.push([t[h][1],t[h][0]]):o.push(t[h]),r.push(e),s.push(n==l?n:[n,l]),a.push([t.MatrixWidth,t.MatrixHeight])}}),new Mz({extent:t,origins:o,resolutions:r,matrixIds:i,tileSizes:s,sizes:a})}(h,M,a),T=[];let E=t.requestEncoding;if(E=void 0!==E?E:"","OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata){const t=e.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let e=0,n=t.length;e<n;++e)if(t[e].Constraint){const n=t[e].Constraint.find(function(e){return"GetEncoding"==e.name}).AllowedValues.Value;if(""===E&&(E=n[0]),"KVP"!==E)break;n.includes("KVP")&&T.push(t[e].href)}else t[e].href&&(E="KVP",T.push(t[e].href))}return 0===T.length&&(E="REST",r.ResourceURL.forEach(function(e){"tile"===e.resourceType&&(l=e.format,T.push(e.template))})),{urls:T,layer:t.layer,matrixSet:s,format:l,projection:d,requestEncoding:E,tileGrid:k,style:c,dimensions:u,wrapX:p,crossOrigin:t.crossOrigin}}var _q={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const yq=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function bq(e,t){const n={};for(const t in e)"ref"!==t&&(n[t]=e[t]);return yq.forEach(e=>{e in t&&(n[e]=t[e])}),n}class vq{constructor(e,t,n,r){this.message=(e?`${e}: `:"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)}}function wq(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}class xq extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class Sq{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new Sq(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const Mq={kind:"null"},kq={kind:"number"},Tq={kind:"string"},Eq={kind:"boolean"},Lq={kind:"color"},Cq={kind:"projectionDefinition"},Dq={kind:"object"},Pq={kind:"value"},$q={kind:"collator"},Aq={kind:"formatted"},Rq={kind:"padding"},Oq={kind:"colorArray"},Iq={kind:"numberArray"},Fq={kind:"resolvedImage"},Nq={kind:"variableAnchorOffsetCollection"};function Yq(e,t){return{kind:"array",itemType:e,N:t}}function jq(e){if("array"===e.kind){const t=jq(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const Hq=[Mq,kq,Tq,Eq,Lq,Cq,Aq,Dq,Yq(Pq),Rq,Iq,Oq,Fq,Nq];function Uq(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Uq(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of Hq)if(!Uq(e,t))return null}return`Expected ${jq(e)} but found ${jq(t)} instead.`}function zq(e,t){return t.some(t=>t.kind===e.kind)}function Gq(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}function Wq(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}const qq=.96422,Bq=.82521,Vq=4/29,Xq=6/29,Kq=3*Xq*Xq,Zq=Math.PI/180,Jq=180/Math.PI;function Qq(e){return(e%=360)<0&&(e+=360),e}function eB([e,t,n,r]){let i,o;const s=nB((.2225045*(e=tB(e))+.7168786*(t=tB(t))+.0606169*(n=tB(n)))/1);e===t&&t===n?i=o=s:(i=nB((.4360747*e+.3850649*t+.1430804*n)/qq),o=nB((.0139322*e+.0971045*t+.7141733*n)/Bq));const a=116*s-16;return[a<0?0:a,500*(i-s),200*(s-o),r]}function tB(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function nB(e){return e>.008856451679035631?Math.pow(e,1/3):e/Kq+Vq}function rB([e,t,n,r]){let i=(e+16)/116,o=isNaN(t)?i:i+t/500,s=isNaN(n)?i:i-n/200;return i=1*oB(i),o=qq*oB(o),s=Bq*oB(s),[iB(3.1338561*o-1.6168667*i-.4906146*s),iB(-.9787684*o+1.9161415*i+.033454*s),iB(.0719453*o-.2289914*i+1.4052427*s),r]}function iB(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:e>1?1:e}function oB(e){return e>Xq?e*e*e:Kq*(e-Vq)}const sB=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function aB(e,t){return sB(e,t)?e[t]:void 0}function lB(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];const t=aB(fB,e);if(t){const[e,n,r]=t;return[e/255,n/255,r/255,1]}if(e.startsWith("#")){if(/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const t=e.length<6?1:2;let n=1;return[cB(e.slice(n,n+=t)),cB(e.slice(n,n+=t)),cB(e.slice(n,n+=t)),cB(e.slice(n,n+t)||"ff")]}}if(e.startsWith("rgb")){const t=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,n=e.match(t);if(n){const[e,t,r,i,o,s,a,l,c,u,h,d]=n,f=[i||" ",a||" ",u].join("");if("  "===f||"  /"===f||",,"===f||",,,"===f){const e=[r,s,c].join(""),n="%%%"===e?100:""===e?255:0;if(n){const e=[hB(+t/n,0,1),hB(+o/n,0,1),hB(+l/n,0,1),h?uB(+h,d):1];if(dB(e))return e}}return}}const n=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(n){const[e,t,r,i,o,s,a,l,c]=n,u=[r||" ",o||" ",a].join("");if("  "===u||"  /"===u||",,"===u||",,,"===u){const e=[+t,hB(+i,0,100),hB(+s,0,100),l?uB(+l,c):1];if(dB(e))return function([e,t,n,r]){function i(r){const i=(r+e/30)%12,o=t*Math.min(n,1-n);return n-o*Math.max(-1,Math.min(i-3,9-i,1))}return e=Qq(e),t/=100,n/=100,[i(0),i(8),i(4),r]}(e)}}}function cB(e){return parseInt(e.padEnd(2,e),16)/255}function uB(e,t){return hB(t?e/100:e,0,1)}function hB(e,t,n){return Math.min(Math.max(t,e),n)}function dB(e){return!e.some(Number.isNaN)}const fB={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function pB(e,t,n){return e+n*(t-e)}function mB(e,t,n){return e.map((e,r)=>pB(e,t[r],n))}class gB{constructor(e,t,n,r=1,i=!0){this.r=e,this.g=t,this.b=n,this.a=r,i||(this.r*=r,this.g*=r,this.b*=r,r||this.overwriteGetter("rgb",[e,t,n,r]))}static parse(e){if(e instanceof gB)return e;if("string"!=typeof e)return;const t=lB(e);return t?new gB(...t,!1):void 0}get rgb(){const{r:e,g:t,b:n,a:r}=this,i=r||1/0;return this.overwriteGetter("rgb",[e/i,t/i,n/i,r])}get hcl(){return this.overwriteGetter("hcl",function(e){const[t,n,r,i]=eB(e),o=Math.sqrt(n*n+r*r);return[Math.round(1e4*o)?Qq(Math.atan2(r,n)*Jq):NaN,o,t,i]}(this.rgb))}get lab(){return this.overwriteGetter("lab",eB(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,n,r]=this.rgb;return`rgba(${[e,t,n].map(e=>Math.round(255*e)).join(",")},${r})`}static interpolate(e,t,n,r="rgb"){switch(r){case"rgb":{const[r,i,o,s]=mB(e.rgb,t.rgb,n);return new gB(r,i,o,s,!1)}case"hcl":{const[r,i,o,s]=e.hcl,[a,l,c,u]=t.hcl;let h,d;if(isNaN(r)||isNaN(a))isNaN(r)?isNaN(a)?h=NaN:(h=a,1!==o&&0!==o||(d=l)):(h=r,1!==c&&0!==c||(d=i));else{let e=a-r;a>r&&e>180?e-=360:a<r&&r-a>180&&(e+=360),h=r+n*e}const[f,p,m,g]=function([e,t,n,r]){return e=isNaN(e)?0:e*Zq,rB([n,Math.cos(e)*t,Math.sin(e)*t,r])}([h,null!=d?d:pB(i,l,n),pB(o,c,n),pB(s,u,n)]);return new gB(f,p,m,g,!1)}case"lab":{const[r,i,o,s]=rB(mB(e.lab,t.lab,n));return new gB(r,i,o,s,!1)}}}}gB.black=new gB(0,0,0,1),gB.white=new gB(1,1,1,1),gB.transparent=new gB(0,0,0,0),gB.red=new gB(1,0,0,1);class _B{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const yB=["bottom","center","top"];class bB{constructor(e,t,n,r,i,o){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i,this.verticalAlign=o}}class vB{constructor(e){this.sections=e}static fromString(e){return new vB([new bB(e,null,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof vB?e:vB.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}}class wB{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof wB)return e;if("number"==typeof e)return new wB([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new wB(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new wB(mB(e.values,t.values,n))}}class xB{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof xB)return e;if("number"==typeof e)return new xB([e]);if(Array.isArray(e)){for(const t of e)if("number"!=typeof t)return;return new xB(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new xB(mB(e.values,t.values,n))}}class SB{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof SB)return e;if("string"==typeof e){const t=gB.parse(e);if(!t)return;return new SB([t])}if(!Array.isArray(e))return;const t=[];for(const n of e){if("string"!=typeof n)return;const e=gB.parse(n);if(!e)return;t.push(e)}return new SB(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n,r="rgb"){const i=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let o=0;o<e.values.length;o++)i.push(gB.interpolate(e.values[o],t.values[o],n,r));return new SB(i)}}class MB extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}}const kB=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class TB{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof TB)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let t=0;t<e.length;t+=2){const n=e[t],r=e[t+1];if("string"!=typeof n||!kB.has(n))return;if(!Array.isArray(r)||2!==r.length||"number"!=typeof r[0]||"number"!=typeof r[1])return}return new TB(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){const r=e.values,i=t.values;if(r.length!==i.length)throw new MB(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const o=[];for(let e=0;e<r.length;e+=2){if(r[e]!==i[e])throw new MB(`Cannot interpolate values containing mismatched anchors. from[${e}]: ${r[e]}, to[${e}]: ${i[e]}`);o.push(r[e]);const[t,s]=r[e+1],[a,l]=i[e+1];o.push([pB(t,a,n),pB(s,l,n)])}return new TB(o)}}class EB{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new EB({name:e,available:!1}):null}}class LB{constructor(e,t,n){this.from=e,this.to=t,this.transition=n}static interpolate(e,t,n){return new LB(e,t,n)}static parse(e){return e instanceof LB?e:Array.isArray(e)&&3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]&&"number"==typeof e[2]?new LB(e[0],e[1],e[2]):"object"==typeof e&&"string"==typeof e.from&&"string"==typeof e.to&&"number"==typeof e.transition?new LB(e.from,e.to,e.transition):"string"==typeof e?new LB(e,e,1):void 0}}function CB(e,t,n,r){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255)){return`Invalid rgba value [${("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`}function DB(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof LB||e instanceof gB||e instanceof _B||e instanceof vB||e instanceof wB||e instanceof xB||e instanceof SB||e instanceof TB||e instanceof EB)return!0;if(Array.isArray(e)){for(const t of e)if(!DB(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!DB(e[t]))return!1;return!0}return!1}function PB(e){if(null===e)return Mq;if("string"==typeof e)return Tq;if("boolean"==typeof e)return Eq;if("number"==typeof e)return kq;if(e instanceof gB)return Lq;if(e instanceof LB)return Cq;if(e instanceof _B)return $q;if(e instanceof vB)return Aq;if(e instanceof wB)return Rq;if(e instanceof xB)return Iq;if(e instanceof SB)return Oq;if(e instanceof TB)return Nq;if(e instanceof EB)return Fq;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=PB(t);if(n){if(n===e)continue;n=Pq;break}n=e}return Yq(n||Pq,t)}return Dq}function $B(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof gB||e instanceof LB||e instanceof vB||e instanceof wB||e instanceof xB||e instanceof SB||e instanceof TB||e instanceof EB?e.toString():JSON.stringify(e)}class AB{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!DB(e[1]))return t.error("invalid value");const n=e[1];let r=PB(n);const i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new AB(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const RB={string:Tq,number:kq,boolean:Eq,object:Dq};class OB{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,r=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in RB)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=RB[n],r++}else i=Pq;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=Yq(i,o)}else{if(!RB[i])throw new Error(`Types doesn't contain name = ${i}`);n=RB[i]}const o=[];for(;r<e.length;r++){const n=t.parse(e[r],r,Pq);if(!n)return null;o.push(n)}return new OB(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!Uq(this.type,PB(n)))return n;if(t===this.args.length-1)throw new MB(`Expected value to be of type ${jq(this.type)}, but found ${jq(PB(n))} instead.`)}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const IB={"to-boolean":Eq,"to-color":Lq,"to-number":kq,"to-string":Tq};class FB{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!IB[n])throw new Error(`Can't parse ${n} as it is not part of the known types`);if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const r=IB[n],i=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],n,Pq);if(!r)return null;i.push(r)}return new FB(r,i)}evaluate(e){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(e));case"color":{let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof gB)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:CB(t[0],t[1],t[2],t[3]),!n))return new gB(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new MB(n||`Could not parse color from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);const r=wB.parse(t);if(r)return r}throw new MB(`Could not parse padding from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const n of this.args){t=n.evaluate(e);const r=xB.parse(t);if(r)return r}throw new MB(`Could not parse numberArray from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const n of this.args){t=n.evaluate(e);const r=SB.parse(t);if(r)return r}throw new MB(`Could not parse colorArray from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const n of this.args){t=n.evaluate(e);const r=TB.parse(t);if(r)return r}throw new MB(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new MB(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return vB.fromString($B(this.args[0].evaluate(e)));case"resolvedImage":return EB.fromString($B(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return $B(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const NB=["Unknown","Point","LineString","Polygon"];class YB{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?NB[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=gB.parse(e),this._parseColorCache.set(e,t)),t}}class jB{constructor(e,t,n=[],r,i=new Sq,o=[]){this.registry=e,this.path=n,this.key=n.map(e=>`[${e}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r,this._isConstant=t}parse(e,t,n,r,i={}){return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}_parse(e,t){function n(e,t,n){return"assert"===n?new OB(t,[e]):"coerce"===n?new FB(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[r];if(i){let r=i.parse(e,this);if(!r)return null;if(this.expectedType){const e=this.expectedType,i=r.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind){if("projectionDefinition"===e.kind&&["string","array"].includes(i.kind)||["color","formatted","resolvedImage"].includes(e.kind)&&["value","string"].includes(i.kind)||["padding","numberArray"].includes(e.kind)&&["value","number","array"].includes(i.kind)||"colorArray"===e.kind&&["value","string","array"].includes(i.kind)||"variableAnchorOffsetCollection"===e.kind&&["value","array"].includes(i.kind))r=n(r,e,t.typeAnnotation||"coerce");else if(this.checkSubtype(e,i))return null}else r=n(r,e,t.typeAnnotation||"assert")}if(!(r instanceof AB)&&"resolvedImage"!==r.type.kind&&this._isConstant(r)){const e=new YB;try{r=new AB(r.type,r.evaluate(e))}catch(e){return this.error(e.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new jB(this.registry,this._isConstant,r,t||null,i,this.errors)}error(e,...t){const n=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new xq(n,e))}checkSubtype(e,t){const n=Uq(e,t);return n&&this.error(n),n}}class HB{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new HB(n,r):null}outputDefined(){return this.result.outputDefined()}}class UB{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new UB(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class zB{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,kq),r=t.parse(e[2],2,Yq(t.expectedType||Pq));if(!n||!r)return null;const i=r.type;return new zB(i.itemType,n,r)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new MB(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new MB(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new MB(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class GB{constructor(e,t){this.type=Eq,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Pq),r=t.parse(e[2],2,Pq);return n&&r?zq(n.type,[Eq,Tq,kq,Mq,Pq])?new GB(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${jq(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Gq(t,["boolean","string","number","null"]))throw new MB(`Expected first argument to be of type boolean, string, number or null, but found ${jq(PB(t))} instead.`);if(!Gq(n,["string","array"]))throw new MB(`Expected second argument to be of type array or string, but found ${jq(PB(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class WB{constructor(e,t,n){this.type=kq,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Pq),r=t.parse(e[2],2,Pq);if(!n||!r)return null;if(!zq(n.type,[Eq,Tq,kq,Mq,Pq]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${jq(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,kq);return i?new WB(n,r,i):null}return new WB(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Gq(t,["boolean","string","number","null"]))throw new MB(`Expected first argument to be of type boolean, string, number or null, but found ${jq(PB(t))} instead.`);let r;if(this.fromIndex&&(r=this.fromIndex.evaluate(e)),Gq(n,["string"])){const e=n.indexOf(t,r);return-1===e?-1:[...n.slice(0,e)].length}if(Gq(n,["array"]))return n.indexOf(t,r);throw new MB(`Expected second argument to be of type array or string, but found ${jq(PB(n))} instead.`)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class qB{constructor(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const i={},o=[];for(let s=2;s<e.length-1;s+=2){let a=e[s];const l=e[s+1];Array.isArray(a)||(a=[a]);const c=t.concat(s);if(0===a.length)return c.error("Expected at least one branch label.");for(const e of a){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,PB(e)))return null}else n=PB(e);if(void 0!==i[String(e)])return c.error("Branch labels must be unique.");i[String(e)]=o.length}const u=t.parse(l,s,r);if(!u)return null;r=r||u.type,o.push(u)}const s=t.parse(e[1],1,Pq);if(!s)return null;const a=t.parse(e[e.length-1],e.length-1,r);return a?"value"!==s.type.kind&&t.concat(1).checkSubtype(n,s.type)?null:new qB(n,r,s,i,o,a):null}evaluate(e){const t=this.input.evaluate(e);return(PB(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class BB{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r=[];for(let i=1;i<e.length-1;i+=2){const o=t.parse(e[i],i,Eq);if(!o)return null;const s=t.parse(e[i+1],i+1,n);if(!s)return null;r.push([o,s]),n=n||s.type}const i=t.parse(e[e.length-1],e.length-1,n);if(!i)return null;if(!n)throw new Error("Can't infer output type");return new BB(n,r,i)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class VB{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Pq),r=t.parse(e[2],2,kq);if(!n||!r)return null;if(!zq(n.type,[Yq(Pq),Tq,Pq]))return t.error(`Expected first argument to be of type array or string, but found ${jq(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,kq);return i?new VB(n.type,n,r,i):null}return new VB(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);let r;if(this.endIndex&&(r=this.endIndex.evaluate(e)),Gq(t,["string"]))return[...t].slice(n,r).join("");if(Gq(t,["array"]))return t.slice(n,r);throw new MB(`Expected first argument to be of type array or string, but found ${jq(PB(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function XB(e,t){const n=e.length-1;let r,i,o=0,s=n,a=0;for(;o<=s;)if(a=Math.floor((o+s)/2),r=e[a],i=e[a+1],r<=t){if(a===n||t<i)return a;o=a+1}else{if(!(r>t))throw new MB("Input is not a number.");s=a-1}return 0}class KB{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,kq);if(!n)return null;const r=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let n=1;n<e.length;n+=2){const o=1===n?-1/0:e[n],s=e[n+1],a=n,l=n+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',a);const c=t.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([o,c])}return new KB(i,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);return n[XB(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function ZB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var JB,QB;var eV=function(){if(QB)return JB;function e(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}return QB=1,JB=e,e.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=i/o}var s=0,a=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?s=n:a=n,n=.5*(a-s)+s;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},JB}(),tV=ZB(eV);class nV{constructor(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,n,r){let i=0;if("exponential"===e.name)i=rV(t,e.base,n,r);else if("linear"===e.name)i=rV(t,1,n,r);else if("cubic-bezier"===e.name){const o=e.controlPoints;i=new tV(o[0],o[1],o[2],o[3]).solve(rV(t,1,n,r))}return i}static parse(e,t){let[n,r,i,...o]=e;if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const e=r[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:e}}else{if("cubic-bezier"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,kq),!i)return null;const s=[];let a=null;"interpolate-hcl"!==n&&"interpolate-lab"!==n||t.expectedType==Oq?t.expectedType&&"value"!==t.expectedType.kind&&(a=t.expectedType):a=Lq;for(let e=0;e<o.length;e+=2){const n=o[e],r=o[e+1],i=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(s.length&&s[s.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(r,l,a);if(!c)return null;a=a||c.type,s.push([n,c])}return Wq(a,kq)||Wq(a,Cq)||Wq(a,Lq)||Wq(a,Rq)||Wq(a,Iq)||Wq(a,Oq)||Wq(a,Nq)||Wq(a,Yq(kq))?new nV(a,n,r,i,s):t.error(`Type ${jq(a)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);const o=XB(t,r),s=t[o],a=t[o+1],l=nV.interpolationFactor(this.interpolation,r,s,a),c=n[o].evaluate(e),u=n[o+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return pB(c,u,l);case"color":return gB.interpolate(c,u,l);case"padding":return wB.interpolate(c,u,l);case"colorArray":return SB.interpolate(c,u,l);case"numberArray":return xB.interpolate(c,u,l);case"variableAnchorOffsetCollection":return TB.interpolate(c,u,l);case"array":return mB(c,u,l);case"projectionDefinition":return LB.interpolate(c,u,l)}case"interpolate-hcl":switch(this.type.kind){case"color":return gB.interpolate(c,u,l,"hcl");case"colorArray":return SB.interpolate(c,u,l,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return gB.interpolate(c,u,l,"lab");case"colorArray":return SB.interpolate(c,u,l,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function rV(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}gB.interpolate,wB.interpolate,xB.interpolate,SB.interpolate,TB.interpolate;class iV{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=null;const r=t.expectedType;r&&"value"!==r.kind&&(n=r);const i=[];for(const r of e.slice(1)){const e=t.parse(r,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,i.push(e)}if(!n)throw new Error("No output type");const o=r&&i.some(e=>Uq(r,e.type));return new iV(o?Pq:n,i)}evaluate(e){let t,n=null,r=0;for(const i of this.args)if(r++,n=i.evaluate(e),n&&n instanceof EB&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function oV(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function sV(e,t,n,r){return 0===r.compare(t,n)}function aV(e,t,n){const r="=="!==e&&"!="!==e;return class i{constructor(e,t,n){this.type=Eq,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,Pq);if(!o)return null;if(!oV(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${jq(o.type)}'.`);let s=t.parse(e[2],2,Pq);if(!s)return null;if(!oV(n,s.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${jq(s.type)}'.`);if(o.type.kind!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return t.error(`Cannot compare types '${jq(o.type)}' and '${jq(s.type)}'.`);r&&("value"===o.type.kind&&"value"!==s.type.kind?o=new OB(s.type,[o]):"value"!==o.type.kind&&"value"===s.type.kind&&(s=new OB(o.type,[s])));let a=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return t.error("Cannot use collator to compare non-string types.");if(a=t.parse(e[3],3,$q),!a)return null}return new i(o,s,a)}evaluate(i){const o=this.lhs.evaluate(i),s=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){const t=PB(o),n=PB(s);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new MB(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=PB(o),n=PB(s);if("string"!==e.kind||"string"!==n.kind)return t(i,o,s)}return this.collator?n(i,o,s,this.collator.evaluate(i)):t(i,o,s)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}const lV=aV("==",function(e,t,n){return t===n},sV),cV=aV("!=",function(e,t,n){return t!==n},function(e,t,n,r){return!sV(0,t,n,r)}),uV=aV("<",function(e,t,n){return t<n},function(e,t,n,r){return r.compare(t,n)<0}),hV=aV(">",function(e,t,n){return t>n},function(e,t,n,r){return r.compare(t,n)>0}),dV=aV("<=",function(e,t,n){return t<=n},function(e,t,n,r){return r.compare(t,n)<=0}),fV=aV(">=",function(e,t,n){return t>=n},function(e,t,n,r){return r.compare(t,n)>=0});class pV{constructor(e,t,n){this.type=$q,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Eq);if(!r)return null;const i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Eq);if(!i)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,Tq),!o)?null:new pV(r,i,o)}evaluate(e){return new _B(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class mV{constructor(e,t,n,r,i){this.type=Tq,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,kq);if(!n)return null;const r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let i=null;if(r.locale&&(i=t.parse(r.locale,1,Tq),!i))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,Tq),!o))return null;let s=null;if(r["min-fraction-digits"]&&(s=t.parse(r["min-fraction-digits"],1,kq),!s))return null;let a=null;return r["max-fraction-digits"]&&(a=t.parse(r["max-fraction-digits"],1,kq),!a)?null:new mV(n,i,o,s,a)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class gV{constructor(e){this.type=Aq,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const r=[];let i=!1;for(let n=1;n<=e.length-1;++n){const o=e[n];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,kq),!e))return null;let n=null;if(o["text-font"]&&(n=t.parse(o["text-font"],1,Yq(Tq)),!n))return null;let s=null;if(o["text-color"]&&(s=t.parse(o["text-color"],1,Lq),!s))return null;let a=null;if(o["vertical-align"]){if("string"==typeof o["vertical-align"]&&!yB.includes(o["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${o["vertical-align"]}' instead.`);if(a=t.parse(o["vertical-align"],1,Tq),!a)return null}const l=r[r.length-1];l.scale=e,l.font=n,l.textColor=s,l.verticalAlign=a}else{const o=t.parse(e[n],1,Pq);if(!o)return null;const s=o.type.kind;if("string"!==s&&"value"!==s&&"null"!==s&&"resolvedImage"!==s)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:o,scale:null,font:null,textColor:null,verticalAlign:null})}}return new gV(r)}evaluate(e){return new vB(this.sections.map(t=>{const n=t.content.evaluate(e);return PB(n)===Fq?new bB("",n,null,null,null,t.verticalAlign?t.verticalAlign.evaluate(e):null):new bB($B(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null,t.verticalAlign?t.verticalAlign.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class _V{constructor(e){this.type=Fq,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Tq);return n?new _V(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=EB.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class yV{constructor(e){this.type=kq,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${jq(n.type)} instead.`):new yV(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return[...t].length;if(Array.isArray(t))return t.length;throw new MB(`Expected value to be of type string or array, but found ${jq(PB(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const bV=8192;function vV(e,t){const n=(180+e[0])/360;const r=(i=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360);var i;const o=Math.pow(2,t.z);return[Math.round(n*o*bV),Math.round(r*o*bV)]}function wV(e,t){const n=Math.pow(2,t.z),r=(e[0]/bV+t.x)/n,i=(e[1]/bV+t.y)/n;return[(s=r,360*s-180),(o=i,360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90)];var o,s}function xV(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function SV(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function MV(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function kV(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],s=e[1]-n[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function TV(e,t,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];return 0!==(s=o)[0]*(a=i)[1]-s[1]*a[0]&&!(!$V(e,t,n,r)||!$V(n,r,e,t));var s,a}function EV(e,t,n){for(const r of n)for(let n=0;n<r.length-1;++n)if(TV(e,t,r[n],r[n+1]))return!0;return!1}function LV(e,t,n=!1){let r=!1;for(const i of t)for(let t=0;t<i.length-1;t++){if(kV(e,i[t],i[t+1]))return n;MV(e,i[t],i[t+1])&&(r=!r)}return r}function CV(e,t){for(const n of t)if(LV(e,n))return!0;return!1}function DV(e,t){for(const n of e)if(!LV(n,t))return!1;for(let n=0;n<e.length-1;++n)if(EV(e[n],e[n+1],t))return!1;return!0}function PV(e,t){for(const n of t)if(DV(e,n))return!0;return!1}function $V(e,t,n,r){const i=e[0]-n[0],o=e[1]-n[1],s=t[0]-n[0],a=t[1]-n[1],l=r[0]-n[0],c=r[1]-n[1],u=i*c-l*o,h=s*c-l*a;return u>0&&h<0||u<0&&h>0}function AV(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let r=0;r<e[i].length;r++){const s=vV(e[i][r],n);xV(t,s),o.push(s)}r.push(o)}return r}function RV(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=AV(e[i],t,n);r.push(o)}return r}function OV(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const t=.5*r;let i=e[0]-n[0]>t?-r:n[0]-e[0]>t?r:0;0===i&&(i=e[0]-n[2]>t?-r:n[2]-e[0]>t?r:0),e[0]+=i}xV(t,e)}function IV(e,t,n,r){const i=Math.pow(2,r.z)*bV,o=[r.x*bV,r.y*bV],s=[];for(const r of e)for(const e of r){const r=[e.x+o[0],e.y+o[1]];OV(r,t,n,i),s.push(r)}return s}function FV(e,t,n,r){const i=Math.pow(2,r.z)*bV,o=[r.x*bV,r.y*bV],s=[];for(const n of e){const e=[];for(const r of n){const n=[r.x+o[0],r.y+o[1]];xV(t,n),e.push(n)}s.push(e)}if(t[2]-t[0]<=i/2){!function(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}(t);for(const e of s)for(const r of e)OV(r,t,n,i)}return s}class NV{constructor(e,t){this.type=Eq,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(DB(e[1])){const t=e[1];if("FeatureCollection"===t.type){const e=[];for(const n of t.features){const{type:t,coordinates:r}=n.geometry;"Polygon"===t&&e.push(r),"MultiPolygon"===t&&e.push(...r)}if(e.length){return new NV(t,{type:"MultiPolygon",coordinates:e})}}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new NV(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new NV(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=AV(t.coordinates,r,i),s=IV(e.geometry(),n,r,i);if(!SV(n,r))return!1;for(const e of s)if(!LV(e,o))return!1}if("MultiPolygon"===t.type){const o=RV(t.coordinates,r,i),s=IV(e.geometry(),n,r,i);if(!SV(n,r))return!1;for(const e of s)if(!CV(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=AV(t.coordinates,r,i),s=FV(e.geometry(),n,r,i);if(!SV(n,r))return!1;for(const e of s)if(!DV(e,o))return!1}if("MultiPolygon"===t.type){const o=RV(t.coordinates,r,i),s=FV(e.geometry(),n,r,i);if(!SV(n,r))return!1;for(const e of s)if(!PV(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class YV{constructor(e=[],t=(e,t)=>e<t?-1:e>t?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,i=t[e];for(;e<r;){let r=1+(e<<1);const o=r+1;if(o<this.length&&n(t[o],t[r])<0&&(r=o),n(t[r],i)>=0)break;t[e]=t[r],e=r}t[e]=i}}function jV(e,t,n=0,r=e.length-1,i=UV){for(;r>n;){if(r-n>600){const o=r-n+1,s=t-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);jV(e,t,Math.max(n,Math.floor(t-s*l/o+c)),Math.min(r,Math.floor(t+(o-s)*l/o+c)),i)}const o=e[t];let s=n,a=r;for(HV(e,n,t),i(e[r],o)>0&&HV(e,n,r);s<a;){for(HV(e,s,a),s++,a--;i(e[s],o)<0;)s++;for(;i(e[a],o)>0;)a--}0===i(e[n],o)?HV(e,n,a):(a++,HV(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}}function HV(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function UV(e,t){return e<t?-1:e>t?1:0}function zV(e,t){return t.area-e.area}function GV(e){let t=0;for(let n,r,i=0,o=e.length,s=o-1;i<o;s=i++)n=e[i],r=e[s],t+=(r.x-n.x)*(n.y+r.y);return t}const WV=1/298.257223563,qV=WV*(2-WV),BV=Math.PI/180;class VV{constructor(e){const t=6378.137*BV*1e3,n=Math.cos(e*BV),r=1/(1-qV*(1-n*n)),i=Math.sqrt(r);this.kx=t*i*n,this.ky=t*i*r*(1-qV)}distance(e,t){const n=this.wrap(e[0]-t[0])*this.kx,r=(e[1]-t[1])*this.ky;return Math.sqrt(n*n+r*r)}pointOnLine(e,t){let n,r,i,o,s=1/0;for(let a=0;a<e.length-1;a++){let l=e[a][0],c=e[a][1],u=this.wrap(e[a+1][0]-l)*this.kx,h=(e[a+1][1]-c)*this.ky,d=0;0===u&&0===h||(d=(this.wrap(t[0]-l)*this.kx*u+(t[1]-c)*this.ky*h)/(u*u+h*h),d>1?(l=e[a+1][0],c=e[a+1][1]):d>0&&(l+=u/this.kx*d,c+=h/this.ky*d)),u=this.wrap(t[0]-l)*this.kx,h=(t[1]-c)*this.ky;const f=u*u+h*h;f<s&&(s=f,n=l,r=c,i=a,o=d)}return{point:[n,r],index:i,t:Math.max(0,Math.min(1,o))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}function XV(e,t){return t[0]-e[0]}function KV(e){return e[1]-e[0]+1}function ZV(e,t){return e[1]>=e[0]&&e[1]<t}function JV(e,t){if(e[0]>e[1])return[null,null];const n=KV(e);if(t){if(2===n)return[e,null];const t=Math.floor(n/2);return[[e[0],e[0]+t],[e[0]+t,e[1]]]}if(1===n)return[e,null];const r=Math.floor(n/2)-1;return[[e[0],e[0]+r],[e[0]+r+1,e[1]]]}function QV(e,t){if(!ZV(t,e.length))return[1/0,1/0,-1/0,-1/0];const n=[1/0,1/0,-1/0,-1/0];for(let r=t[0];r<=t[1];++r)xV(n,e[r]);return n}function eX(e){const t=[1/0,1/0,-1/0,-1/0];for(const n of e)for(const e of n)xV(t,e);return t}function tX(e){return e[0]!==-1/0&&e[1]!==-1/0&&e[2]!==1/0&&e[3]!==1/0}function nX(e,t,n){if(!tX(e)||!tX(t))return NaN;let r=0,i=0;return e[2]<t[0]&&(r=t[0]-e[2]),e[0]>t[2]&&(r=e[0]-t[2]),e[1]>t[3]&&(i=e[1]-t[3]),e[3]<t[1]&&(i=t[1]-e[3]),n.distance([0,0],[r,i])}function rX(e,t,n){const r=n.pointOnLine(t,e);return n.distance(e,r.point)}function iX(e,t,n,r,i){const o=Math.min(rX(e,[n,r],i),rX(t,[n,r],i)),s=Math.min(rX(n,[e,t],i),rX(r,[e,t],i));return Math.min(o,s)}function oX(e,t,n,r,i){if(!(ZV(t,e.length)&&ZV(r,n.length)))return 1/0;let o=1/0;for(let s=t[0];s<t[1];++s){const t=e[s],a=e[s+1];for(let e=r[0];e<r[1];++e){const r=n[e],s=n[e+1];if(TV(t,a,r,s))return 0;o=Math.min(o,iX(t,a,r,s,i))}}return o}function sX(e,t,n,r,i){if(!(ZV(t,e.length)&&ZV(r,n.length)))return NaN;let o=1/0;for(let s=t[0];s<=t[1];++s)for(let t=r[0];t<=r[1];++t)if(o=Math.min(o,i.distance(e[s],n[t])),0===o)return o;return o}function aX(e,t,n){if(LV(e,t,!0))return 0;let r=1/0;for(const i of t){const t=i[0],o=i[i.length-1];if(t!==o&&(r=Math.min(r,rX(e,[o,t],n)),0===r))return r;const s=n.pointOnLine(i,e);if(r=Math.min(r,n.distance(e,s.point)),0===r)return r}return r}function lX(e,t,n,r){if(!ZV(t,e.length))return NaN;for(let r=t[0];r<=t[1];++r)if(LV(e[r],n,!0))return 0;let i=1/0;for(let o=t[0];o<t[1];++o){const t=e[o],s=e[o+1];for(const e of n)for(let n=0,o=e.length,a=o-1;n<o;a=n++){const o=e[a],l=e[n];if(TV(t,s,o,l))return 0;i=Math.min(i,iX(t,s,o,l,r))}}return i}function cX(e,t){for(const n of e)for(const e of n)if(LV(e,t,!0))return!0;return!1}function uX(e,t,n,r=1/0){const i=eX(e),o=eX(t);if(r!==1/0&&nX(i,o,n)>=r)return r;if(SV(i,o)){if(cX(e,t))return 0}else if(cX(t,e))return 0;let s=1/0;for(const r of e)for(let e=0,i=r.length,o=i-1;e<i;o=e++){const i=r[o],a=r[e];for(const e of t)for(let t=0,r=e.length,o=r-1;t<r;o=t++){const r=e[o],l=e[t];if(TV(i,a,r,l))return 0;s=Math.min(s,iX(i,a,r,l,n))}}return s}function hX(e,t,n,r,i,o){if(!o)return;const s=nX(QV(r,o),i,n);s<t&&e.push([s,o,[0,0]])}function dX(e,t,n,r,i,o,s){if(!o||!s)return;const a=nX(QV(r,o),QV(i,s),n);a<t&&e.push([a,o,s])}function fX(e,t,n,r,i=1/0){let o=Math.min(r.distance(e[0],n[0][0]),i);if(0===o)return o;const s=new YV([[0,[0,e.length-1],[0,0]]],XV),a=eX(n);for(;s.length>0;){const i=s.pop();if(i[0]>=o)continue;const l=i[1],c=t?50:100;if(KV(l)<=c){if(!ZV(l,e.length))return NaN;if(t){const t=lX(e,l,n,r);if(isNaN(t)||0===t)return t;o=Math.min(o,t)}else for(let t=l[0];t<=l[1];++t){const i=aX(e[t],n,r);if(o=Math.min(o,i),0===o)return 0}}else{const n=JV(l,t);hX(s,o,r,e,a,n[0]),hX(s,o,r,e,a,n[1])}}return o}function pX(e,t,n,r,i,o=1/0){let s=Math.min(o,i.distance(e[0],n[0]));if(0===s)return s;const a=new YV([[0,[0,e.length-1],[0,n.length-1]]],XV);for(;a.length>0;){const o=a.pop();if(o[0]>=s)continue;const l=o[1],c=o[2],u=t?50:100,h=r?50:100;if(KV(l)<=u&&KV(c)<=h){if(!ZV(l,e.length)&&ZV(c,n.length))return NaN;let o;if(t&&r)o=oX(e,l,n,c,i),s=Math.min(s,o);else if(t&&!r){const t=e.slice(l[0],l[1]+1);for(let e=c[0];e<=c[1];++e)if(o=rX(n[e],t,i),s=Math.min(s,o),0===s)return s}else if(!t&&r){const t=n.slice(c[0],c[1]+1);for(let n=l[0];n<=l[1];++n)if(o=rX(e[n],t,i),s=Math.min(s,o),0===s)return s}else o=sX(e,l,n,c,i),s=Math.min(s,o)}else{const o=JV(l,t),u=JV(c,r);dX(a,s,i,e,n,o[0],u[0]),dX(a,s,i,e,n,o[0],u[1]),dX(a,s,i,e,n,o[1],u[0]),dX(a,s,i,e,n,o[1],u[1])}}return s}function mX(e,t){const n=e.geometry();if(0===n.length||0===n[0].length)return NaN;const r=function(e,t){if(e.length<=1)return[e];const n=[];let r,i;for(const t of e){const e=GV(t);0!==e&&(t.area=Math.abs(e),void 0===i&&(i=e<0),i===e<0?(r&&n.push(r),r=[t]):r.push(t))}if(r&&n.push(r),t>1)for(let e=0;e<n.length;e++)n[e].length<=t||(jV(n[e],t,1,n[e].length-1,zV),n[e]=n[e].slice(0,t));return n}(n,0).map(t=>t.map(t=>t.map(t=>wV([t.x,t.y],e.canonical)))),i=new VV(r[0][0][0][1]);let o=1/0;for(const e of t)for(const t of r){switch(e.type){case"Point":o=Math.min(o,fX([e.coordinates],!1,t,i,o));break;case"LineString":o=Math.min(o,fX(e.coordinates,!0,t,i,o));break;case"Polygon":o=Math.min(o,uX(t,e.coordinates,i,o))}if(0===o)return o}return o}function gX(e){return"MultiPolygon"===e.type?e.coordinates.map(e=>({type:"Polygon",coordinates:e})):"MultiLineString"===e.type?e.coordinates.map(e=>({type:"LineString",coordinates:e})):"MultiPoint"===e.type?e.coordinates.map(e=>({type:"Point",coordinates:e})):[e]}class _X{constructor(e,t){this.type=kq,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(DB(e[1])){const t=e[1];if("FeatureCollection"===t.type)return new _X(t,t.features.map(e=>gX(e.geometry)).flat());if("Feature"===t.type)return new _X(t,gX(t.geometry));if("type"in t&&"coordinates"in t)return new _X(t,gX(t))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=e.geometry(),r=n.flat().map(t=>wV([t.x,t.y],e.canonical));if(0===n.length)return NaN;const i=new VV(r[0][1]);let o=1/0;for(const e of t){switch(e.type){case"Point":o=Math.min(o,pX(r,!1,[e.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,pX(r,!1,e.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,fX(r,!1,e.coordinates,i,o))}if(0===o)return o}return o}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=e.geometry(),r=n.flat().map(t=>wV([t.x,t.y],e.canonical));if(0===n.length)return NaN;const i=new VV(r[0][1]);let o=1/0;for(const e of t){switch(e.type){case"Point":o=Math.min(o,pX(r,!0,[e.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,pX(r,!0,e.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,fX(r,!0,e.coordinates,i,o))}if(0===o)return o}return o}(e,this.geometries);if("Polygon"===e.geometryType())return mX(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class yX{constructor(e){this.type=Pq,this.key=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=e[1];return null==n?t.error("Global state property must be defined."):"string"!=typeof n?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new yX(n)}evaluate(e){var t;const n=null===(t=e.globals)||void 0===t?void 0:t.globalState;return n&&0!==Object.keys(n).length?aB(n,this.key):null}eachChild(){}outputDefined(){return!1}}const bX={"==":lV,"!=":cV,">":hV,"<":uV,">=":fV,"<=":dV,array:OB,at:zB,boolean:OB,case:BB,coalesce:iV,collator:pV,format:gV,image:_V,in:GB,"index-of":WB,interpolate:nV,"interpolate-hcl":nV,"interpolate-lab":nV,length:yV,let:HB,literal:AB,match:qB,number:OB,"number-format":mV,object:OB,slice:VB,step:KB,string:OB,"to-boolean":FB,"to-color":FB,"to-number":FB,"to-string":FB,var:UB,within:NV,distance:_X,"global-state":yX};class vX{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],r=vX.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let a=null;for(const[r,o]of s){a=new jB(t.registry,kX,t.path,null,t.scope);const s=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],i=Array.isArray(r)?r[t-1]:r.type,o=a.parse(n,1+s.length,i);if(!o){l=!0;break}s.push(o)}if(!l)if(Array.isArray(r)&&r.length!==s.length)a.error(`Expected ${r.length} arguments, but found ${s.length} instead.`);else{for(let e=0;e<s.length;e++){const t=Array.isArray(r)?r[e]:r.type,n=s[e];a.concat(e+1).checkSubtype(t,n.type)}if(0===a.errors.length)return new vX(n,i,o,s)}}if(1===s.length)t.errors.push(...a.errors);else{const n=(s.length?s:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(jq).join(", ")})`:`(${jq(t.type)}...)`;var t}).join(" | "),r=[];for(let n=1;n<e.length;n++){const i=t.parse(e[n],1+r.length);if(!i)return null;r.push(jq(i.type))}t.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){vX.definitions=t;for(const n in t)e[n]=vX}}function wX(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,s=CB(t,n,r,o);if(s)throw new MB(s);return new gB(t/255,n/255,r/255,o,!1)}function xX(e,t){return e in t}function SX(e,t){const n=t[e];return void 0===n?null:n}function MX(e){return{type:e}}function kX(e){if(e instanceof UB)return kX(e.boundExpression);if(e instanceof vX&&"error"===e.name)return!1;if(e instanceof pV)return!1;if(e instanceof NV)return!1;if(e instanceof _X)return!1;if(e instanceof yX)return!1;const t=e instanceof FB||e instanceof OB;let n=!0;return e.eachChild(e=>{n=t?n&&kX(e):n&&e instanceof AB}),!!n&&(TX(e)&&LX(e,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"]))}function TX(e){if(e instanceof vX){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof NV)return!1;if(e instanceof _X)return!1;let t=!0;return e.eachChild(e=>{t&&!TX(e)&&(t=!1)}),t}function EX(e){if(e instanceof vX&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!EX(e)&&(t=!1)}),t}function LX(e,t){if(e instanceof vX&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(e=>{n&&!LX(e,t)&&(n=!1)}),n}function CX(e){return{result:"success",value:e}}function DX(e){return{result:"error",value:e}}function PX(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function $X(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function AX(e){return!!e.expression&&e.expression.interpolated}function RX(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function OX(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&PB(e)===Dq}vX.register(bX,{error:[{kind:"error"},[Tq],(e,[t])=>{throw new MB(t.evaluate(e))}],typeof:[Tq,[Pq],(e,[t])=>jq(PB(t.evaluate(e)))],"to-rgba":[Yq(kq,4),[Lq],(e,[t])=>{const[n,r,i,o]=t.evaluate(e).rgb;return[255*n,255*r,255*i,o]}],rgb:[Lq,[kq,kq,kq],wX],rgba:[Lq,[kq,kq,kq,kq],wX],has:{type:Eq,overloads:[[[Tq],(e,[t])=>xX(t.evaluate(e),e.properties())],[[Tq,Dq],(e,[t,n])=>xX(t.evaluate(e),n.evaluate(e))]]},get:{type:Pq,overloads:[[[Tq],(e,[t])=>SX(t.evaluate(e),e.properties())],[[Tq,Dq],(e,[t,n])=>SX(t.evaluate(e),n.evaluate(e))]]},"feature-state":[Pq,[Tq],(e,[t])=>SX(t.evaluate(e),e.featureState||{})],properties:[Dq,[],e=>e.properties()],"geometry-type":[Tq,[],e=>e.geometryType()],id:[Pq,[],e=>e.id()],zoom:[kq,[],e=>e.globals.zoom],"heatmap-density":[kq,[],e=>e.globals.heatmapDensity||0],elevation:[kq,[],e=>e.globals.elevation||0],"line-progress":[kq,[],e=>e.globals.lineProgress||0],accumulated:[Pq,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[kq,MX(kq),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[kq,MX(kq),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:kq,overloads:[[[kq,kq],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[kq],(e,[t])=>-t.evaluate(e)]]},"/":[kq,[kq,kq],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[kq,[kq,kq],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[kq,[],()=>Math.LN2],pi:[kq,[],()=>Math.PI],e:[kq,[],()=>Math.E],"^":[kq,[kq,kq],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[kq,[kq],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[kq,[kq],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[kq,[kq],(e,[t])=>Math.log(t.evaluate(e))],log2:[kq,[kq],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[kq,[kq],(e,[t])=>Math.sin(t.evaluate(e))],cos:[kq,[kq],(e,[t])=>Math.cos(t.evaluate(e))],tan:[kq,[kq],(e,[t])=>Math.tan(t.evaluate(e))],asin:[kq,[kq],(e,[t])=>Math.asin(t.evaluate(e))],acos:[kq,[kq],(e,[t])=>Math.acos(t.evaluate(e))],atan:[kq,[kq],(e,[t])=>Math.atan(t.evaluate(e))],min:[kq,MX(kq),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[kq,MX(kq),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[kq,[kq],(e,[t])=>Math.abs(t.evaluate(e))],round:[kq,[kq],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[kq,[kq],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[kq,[kq],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Eq,[Tq,Pq],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[Eq,[Pq],(e,[t])=>e.id()===t.value],"filter-type-==":[Eq,[Tq],(e,[t])=>e.geometryType()===t.value],"filter-<":[Eq,[Tq,Pq],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Eq,[Pq],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[Eq,[Tq,Pq],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[Eq,[Pq],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[Eq,[Tq,Pq],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Eq,[Pq],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[Eq,[Tq,Pq],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Eq,[Pq],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[Eq,[Pq],(e,[t])=>t.value in e.properties()],"filter-has-id":[Eq,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[Eq,[Yq(Tq)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Eq,[Yq(Pq)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Eq,[Tq,Yq(Pq)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Eq,[Tq,Yq(Pq)],(e,[t,n])=>function(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Eq,overloads:[[[Eq,Eq],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[MX(Eq),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:Eq,overloads:[[[Eq,Eq],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[MX(Eq),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[Eq,[Eq],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Eq,[Tq],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[Tq,[Tq],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Tq,[Tq],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Tq,MX(Pq),(e,t)=>t.map(t=>$B(t.evaluate(e))).join("")],"resolved-locale":[Tq,[$q],(e,[t])=>t.evaluate(e).resolvedLocale()]});class IX{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new YB,this._defaultValue=t?function(e){if("color"===e.type&&OX(e.default))return new gB(0,0,0,0);switch(e.type){case"color":return gB.parse(e.default)||null;case"padding":return wB.parse(e.default)||null;case"numberArray":return xB.parse(e.default)||null;case"colorArray":return SB.parse(e.default)||null;case"variableAnchorOffsetCollection":return TB.parse(e.default)||null;case"projectionDefinition":return LB.parse(e.default)||null;default:return void 0===e.default?null:e.default}}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new MB(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function FX(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in bX}function NX(e,t){const n=new jB(bX,kX,[],t?function(e){const t={color:Lq,string:Tq,number:kq,enum:Tq,boolean:Eq,formatted:Aq,padding:Rq,numberArray:Iq,colorArray:Oq,projectionDefinition:Cq,resolvedImage:Fq,variableAnchorOffsetCollection:Nq};if("array"===e.type)return Yq(t[e.value]||Pq,e.length);return t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?CX(new IX(r,t)):DX(n.errors)}class YX{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!EX(t.expression),this.globalStateRefs=zX(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}}class jX{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!EX(t.expression),this.globalStateRefs=zX(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}interpolationFactor(e,t,n){return this.interpolationType?nV.interpolationFactor(this.interpolationType,e,t,n):0}}function HX(e,t){const n=NX(e,t);if("error"===n.result)return n;const r=n.value.expression,i=TX(r);if(!i&&!PX(t))return DX([new xq("","data expressions not supported")]);const o=LX(r,["zoom"]);if(!o&&!$X(t))return DX([new xq("","zoom expressions not supported")]);const s=UX(r);if(!s&&!o)return DX([new xq("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof xq)return DX([s]);if(s instanceof nV&&!AX(t))return DX([new xq("",'"interpolate" expressions cannot be used with this property')]);if(!s)return CX(new YX(i?"constant":"source",n.value));const a=s instanceof nV?s.interpolation:void 0;return CX(new jX(i?"camera":"composite",n.value,s.labels,a))}function UX(e){let t=null;if(e instanceof HB)t=UX(e.result);else if(e instanceof iV){for(const n of e.args)if(t=UX(n),t)break}else(e instanceof KB||e instanceof nV)&&e.input instanceof vX&&"zoom"===e.input.name&&(t=e);return t instanceof xq||e.eachChild(e=>{const n=UX(e);n instanceof xq?t=n:!t&&n?t=new xq("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new xq("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function zX(e,t=new Set){return e instanceof yX&&t.add(e.key),e.eachChild(e=>{zX(e,t)}),t}function GX(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!GX(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const WX={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function qX(e){if(null==e)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};GX(e)||(e=XX(e));const t=NX(e,WX);if("error"===t.result)throw new Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));return{filter:(e,n,r)=>t.value.evaluate(e,n,{},r),needGeometry:VX(e),getGlobalStateRefs:()=>zX(t.value.expression)}}function BX(e,t){return e<t?-1:e>t?1:0}function VX(e){if(!Array.isArray(e))return!1;if("within"===e[0]||"distance"===e[0])return!0;for(let t=1;t<e.length;t++)if(VX(e[t]))return!0;return!1}function XX(e){if(!e)return!0;const t=e[0];if(e.length<=1)return"any"!==t;const n="=="===t?KX(e[1],e[2],"=="):"!="===t?QX(KX(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?KX(e[1],e[2],t):"any"===t?function(e){return["any"].concat(e.map(XX))}(e.slice(1)):"all"===t?["all"].concat(e.slice(1).map(XX)):"none"===t?["all"].concat(e.slice(1).map(XX).map(QX)):"in"===t?ZX(e[1],e.slice(2)):"!in"===t?QX(ZX(e[1],e.slice(2))):"has"===t?JX(e[1]):"!has"!==t||QX(JX(e[1]));return n}function KX(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function ZX(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(BX)]]:["filter-in-small",e,["literal",t]]}}function JX(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function QX(e){return["!",e]}function eK(e){return"object"==typeof e?["literal",e]:e}function tK(e,t){let n=e.stops;if(!n)return function(e,t){const n=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",n]:n;if("enum"===t.type)return["match",n,Object.keys(t.values),n,e.default];{const r=["color"===t.type?"to-color":t.type,n,eK(e.default)];return"array"===t.type&&r.splice(1,0,t.value,t.length||null),r}}(e,t);const r=n&&"object"==typeof n[0][0],i=r||void 0!==e.property,o=r||!i;return n=n.map(e=>!i&&t.tokens&&"string"==typeof e[1]?[e[0],lK(e[1])]:[e[0],eK(e[1])]),r?function(e,t,n){const r={},i={},o=[];for(let t=0;t<n.length;t++){const s=n[t],a=s[0].zoom;void 0===r[a]&&(r[a]={zoom:a,type:e.type,property:e.property,default:e.default},i[a]=[],o.push(a)),i[a].push([s[0].value,s[1]])}const s=aK({},t);if("exponential"===s){const n=[nK(e),["linear"],["zoom"]];for(const e of o){sK(n,e,iK(r[e],t,i[e]),!1)}return n}{const e=["step",["zoom"]];for(const n of o){sK(e,n,iK(r[n],t,i[n]),!0)}return oK(e),e}}(e,t,n):o?function(e,t,n,r=["zoom"]){const i=aK(e,t);let o,s=!1;if("interval"===i)o=["step",r],s=!0;else{if("exponential"!==i)throw new Error(`Unknown zoom function type "${i}"`);{const t=void 0!==e.base?e.base:1;o=[nK(e),1===t?["linear"]:["exponential",t],r]}}for(const e of n)sK(o,e[0],e[1],s);return oK(o),o}(e,t,n):iK(e,t,n)}function nK(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function rK(e,t){const n=eK(function(e,t){return void 0!==e?e:void 0!==t?t:void 0}(e.default,t.default));return void 0===n&&"resolvedImage"===t.type?"":n}function iK(e,t,n){const r=aK(e,t),i=["get",e.property];if("categorical"===r&&"boolean"==typeof n[0][0]){const r=["case"];for(const e of n)r.push(["==",i,e[0]],e[1]);return r.push(rK(e,t)),r}if("categorical"===r){const r=["match",i];for(const e of n)sK(r,e[0],e[1],!1);return r.push(rK(e,t)),r}if("interval"===r){const t=["step",["number",i]];for(const e of n)sK(t,e[0],e[1],!0);return oK(t),void 0===e.default?t:["case",["==",["typeof",i],"number"],t,eK(e.default)]}if("exponential"===r){const t=void 0!==e.base?e.base:1,r=[nK(e),1===t?["linear"]:["exponential",t],["number",i]];for(const e of n)sK(r,e[0],e[1],!1);return void 0===e.default?r:["case",["==",["typeof",i],"number"],r,eK(e.default)]}throw new Error(`Unknown property function type ${r}`)}function oK(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function sK(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&2===e.length||e.push(t),e.push(n))}function aK(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function lK(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(e);null!==i;i=n.exec(e)){const o=e.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(1===t.length)return e;if(r<e.length)t.push(e.slice(r));else if(2===t.length)return["to-string",t[1]];return t}function cK(e){const t=e.key,n=e.value;return n?[new vq(t,n,"constants have been deprecated as of v8")]:[]}function uK(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function hK(e){if(Array.isArray(e))return e.map(hK);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=hK(e[n]);return t}return uK(e)}function dK(e){const t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,s=e.styleSpec,a=e.validateSpec;let l=[];const c=RX(n);if("object"!==c)return[new vq(t,n,`object expected, ${c} found`)];for(const e in n){const c=e.split(".")[0],u=aB(r,c)||r["*"];let h;if(aB(i,c))h=i[c];else if(aB(r,c))h=a;else if(i["*"])h=i["*"];else{if(!r["*"]){l.push(new vq(t,n[e],`unknown property "${e}"`));continue}h=a}l=l.concat(h({key:(t?`${t}.`:t)+e,value:n[e],valueSpec:u,style:o,styleSpec:s,object:n,objectKey:e,validateSpec:a},n))}for(const e in r)i[e]||r[e].required&&void 0===r[e].default&&void 0===n[e]&&l.push(new vq(t,n,`missing required property "${e}"`));return l}function fK(e){const t=e.value,n=e.valueSpec,r=e.validateSpec,i=e.style,o=e.styleSpec,s=e.key,a=e.arrayElementValidator||r;if("array"!==RX(t))return[new vq(s,t,`array expected, ${RX(t)} found`)];if(n.length&&t.length!==n.length)return[new vq(s,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new vq(s,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let l={type:n.value,values:n.values};o.$version<7&&(l.function=n.function),"object"===RX(n.value)&&(l=n.value);let c=[];for(let n=0;n<t.length;n++)c=c.concat(a({array:t,arrayIndex:n,value:t[n],valueSpec:l,validateSpec:e.validateSpec,style:i,styleSpec:o,key:`${s}[${n}]`}));return c}function pK(e){const t=e.key,n=e.value,r=e.valueSpec;let i=RX(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new vq(t,n,`number expected, ${i} found`)]:"minimum"in r&&n<r.minimum?[new vq(t,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new vq(t,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function mK(e){const t=e.valueSpec,n=uK(e.value.type);let r,i,o,s={};const a="categorical"!==n&&void 0===e.value.property,l=!a,c="array"===RX(e.value.stops)&&"array"===RX(e.value.stops[0])&&"object"===RX(e.value.stops[0][0]),u=dK({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new vq(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const r=e.value;t=t.concat(fK({key:e.key,value:r,valueSpec:e.valueSpec,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===RX(r)&&0===r.length&&t.push(new vq(e.key,r,"array must have at least one stop"));return t},default:function(e){return e.validateSpec({key:e.key,value:e.value,valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&a&&u.push(new vq(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new vq(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!AX(e.valueSpec)&&u.push(new vq(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!PX(e.valueSpec)?u.push(new vq(e.key,e.value,"property functions not supported")):a&&!$X(e.valueSpec)&&u.push(new vq(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new vq(e.key,e.value,'"property" property is required')),u;function h(e){let n=[];const r=e.value,a=e.key;if("array"!==RX(r))return[new vq(a,r,`array expected, ${RX(r)} found`)];if(2!==r.length)return[new vq(a,r,`array length 2 expected, length ${r.length} found`)];if(c){if("object"!==RX(r[0]))return[new vq(a,r,`object expected, ${RX(r[0])} found`)];if(void 0===r[0].zoom)return[new vq(a,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new vq(a,r,"object stop key must have value")];if(o&&o>uK(r[0].zoom))return[new vq(a,r[0].zoom,"stop zoom values must appear in ascending order")];uK(r[0].zoom)!==o&&(o=uK(r[0].zoom),i=void 0,s={}),n=n.concat(dK({key:`${a}[0]`,value:r[0],valueSpec:{zoom:{}},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:pK,value:d}}))}else n=n.concat(d({key:`${a}[0]`,value:r[0],validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec},r));return FX(hK(r[1]))?n.concat([new vq(`${a}[1]`,r[1],"expressions are not allowed in function stops.")]):n.concat(e.validateSpec({key:`${a}[1]`,value:r[1],valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const a=RX(e.value),l=uK(e.value),c=null!==e.value?e.value:o;if(r){if(a!==r)return[new vq(e.key,c,`${a} stop domain type must match previous stop domain type ${r}`)]}else r=a;if("number"!==a&&"string"!==a&&"boolean"!==a)return[new vq(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==a&&"categorical"!==n){let r=`number expected, ${a} found`;return PX(t)&&void 0===n&&(r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new vq(e.key,c,r)]}return"categorical"!==n||"number"!==a||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===a&&void 0!==i&&l<i?[new vq(e.key,c,"stop domain values must appear in ascending order")]:(i=l,"categorical"===n&&l in s?[new vq(e.key,c,"stop domain values must be unique")]:(s[l]=!0,[])):[new vq(e.key,c,`integer expected, found ${l}`)]}}function gK(e){const t=("property"===e.expressionContext?HX:NX)(hK(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new vq(`${e.key}${t.key}`,e.value,t.message));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new vq(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!EX(n))return[new vq(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!EX(n))return[new vq(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!LX(n,["zoom","feature-state"]))return[new vq(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!TX(n))return[new vq(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function _K(e){const t=e.key,n=e.value,r=RX(n);return"string"!==r?[new vq(t,n,`color expected, ${r} found`)]:gB.parse(String(n))?[]:[new vq(t,n,`color expected, "${n}" found`)]}function yK(e){const t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(uK(n))&&i.push(new vq(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(r.values).indexOf(uK(n))&&i.push(new vq(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function bK(e){return GX(hK(e.value))?gK(wq({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):vK(e)}function vK(e){const t=e.value,n=e.key;if("array"!==RX(t))return[new vq(n,t,`array expected, ${RX(t)} found`)];const r=e.styleSpec;let i,o=[];if(t.length<1)return[new vq(n,t,"filter array must have at least 1 element")];switch(o=o.concat(yK({key:`${n}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),uK(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===uK(t[1])&&o.push(new vq(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&o.push(new vq(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(i=RX(t[1]),"string"!==i&&o.push(new vq(`${n}[1]`,t[1],`string expected, ${i} found`)));for(let s=2;s<t.length;s++)i=RX(t[s]),"$type"===uK(t[1])?o=o.concat(yK({key:`${n}[${s}]`,value:t[s],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new vq(`${n}[${s}]`,t[s],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let r=1;r<t.length;r++)o=o.concat(vK({key:`${n}[${r}]`,value:t[r],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=RX(t[1]),2!==t.length?o.push(new vq(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==i&&o.push(new vq(`${n}[1]`,t[1],`string expected, ${i} found`))}return o}function wK(e,t){const n=e.key,r=e.validateSpec,i=e.style,o=e.styleSpec,s=e.value,a=e.objectKey,l=o[`${t}_${e.layerType}`];if(!l)return[];const c=a.match(/^(.*)-transition$/);if("paint"===t&&c&&l[c[1]]&&l[c[1]].transition)return r({key:n,value:s,valueSpec:o.transition,style:i,styleSpec:o});const u=e.valueSpec||l[a];if(!u)return[new vq(n,s,`unknown property "${a}"`)];let h;if("string"===RX(s)&&PX(u)&&!u.tokens&&(h=/^{([^}]+)}$/.exec(s)))return[new vq(n,s,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(h[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&("text-field"===a&&i&&!i.glyphs&&d.push(new vq(n,s,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&OX(hK(s))&&"identity"===uK(s.type)&&d.push(new vq(n,s,'"text-font" does not support identity functions'))),d.concat(r({key:e.key,value:s,valueSpec:u,style:i,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:a}))}function xK(e){return wK(e,"paint")}function SK(e){return wK(e,"layout")}function MK(e){let t=[];const n=e.value,r=e.key,i=e.style,o=e.styleSpec;if("object"!==RX(n))return[new vq(r,n,`object expected, ${RX(n)} found`)];n.type||n.ref||t.push(new vq(r,n,'either "type" or "ref" is required'));let s=uK(n.type);const a=uK(n.ref);if(n.id){const o=uK(n.id);for(let s=0;s<e.arrayIndex;s++){const e=i.layers[s];uK(e.id)===o&&t.push(new vq(r,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in n&&t.push(new vq(r,n[e],`"${e}" is prohibited for ref layers`))}),i.layers.forEach(t=>{uK(t.id)===a&&(e=t)}),e?e.ref?t.push(new vq(r,n.ref,"ref cannot reference another ref layer")):s=uK(e.type):t.push(new vq(r,n.ref,`ref layer "${a}" not found`))}else if("background"!==s)if(n.source){const e=i.sources&&i.sources[n.source],o=e&&uK(e.type);e?"vector"===o&&"raster"===s?t.push(new vq(r,n.source,`layer "${n.id}" requires a raster source`)):"raster-dem"!==o&&"hillshade"===s||"raster-dem"!==o&&"color-relief"===s?t.push(new vq(r,n.source,`layer "${n.id}" requires a raster-dem source`)):"raster"===o&&"raster"!==s?t.push(new vq(r,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==s&&"color-relief"!==s?t.push(new vq(r,n.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===o&&e.lineMetrics||t.push(new vq(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new vq(r,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new vq(r,n.source,`source "${n.source}" not found`))}else t.push(new vq(r,n,'missing required property "source"'));return t=t.concat(dK({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":()=>[],type:()=>e.validateSpec({key:`${r}.type`,value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:n,objectKey:"type"}),filter:bK,layout:e=>dK({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>SK(wq({layerType:s},e))}}),paint:e=>dK({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>xK(wq({layerType:s},e))}})}})),t}function kK(e){const t=e.value,n=e.key,r=RX(t);return"string"!==r?[new vq(n,t,`string expected, ${r} found`)]:[]}const TK={promoteId:function({key:e,value:t}){if("string"===RX(t))return kK({key:e,value:t});{const n=[];for(const r in t)n.push(...kK({key:`${e}.${r}`,value:t[r]}));return n}}};function EK(e){const t=e.value,n=e.key,r=e.styleSpec,i=e.style,o=e.validateSpec;if(!t.type)return[new vq(n,t,'"type" is required')];const s=uK(t.type);let a;switch(s){case"vector":case"raster":return a=dK({key:n,value:t,valueSpec:r[`source_${s.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:TK,validateSpec:o}),a;case"raster-dem":return a=function(e){var t;const n=null!==(t=e.sourceName)&&void 0!==t?t:"",r=e.value,i=e.styleSpec,o=i.source_raster_dem,s=e.style;let a=[];const l=RX(r);if(void 0===r)return a;if("object"!==l)return a.push(new vq("source_raster_dem",r,`object expected, ${l} found`)),a;const c="custom"===uK(r.encoding),u=["redFactor","greenFactor","blueFactor","baseShift"],h=e.value.encoding?`"${e.value.encoding}"`:"Default";for(const t in r)!c&&u.includes(t)?a.push(new vq(t,r[t],`In "${n}": "${t}" is only valid when "encoding" is set to "custom". ${h} encoding found`)):o[t]?a=a.concat(e.validateSpec({key:t,value:r[t],valueSpec:o[t],validateSpec:e.validateSpec,style:s,styleSpec:i})):a.push(new vq(t,r[t],`unknown property "${t}"`));return a}({sourceName:n,value:t,style:e.style,styleSpec:r,validateSpec:o}),a;case"geojson":if(a=dK({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:TK}),t.cluster)for(const e in t.clusterProperties){const[r,i]=t.clusterProperties[e],o="string"==typeof r?[r,["accumulated"],["get",e]]:r;a.push(...gK({key:`${n}.${e}.map`,value:i,expressionContext:"cluster-map"})),a.push(...gK({key:`${n}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return dK({key:n,value:t,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return dK({key:n,value:t,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new vq(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return yK({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function LK(e){const t=e.value,n=e.styleSpec,r=n.light,i=e.style;let o=[];const s=RX(t);if(void 0===t)return o;if("object"!==s)return o=o.concat([new vq("light",t,`object expected, ${s} found`)]),o;for(const s in t){const a=s.match(/^(.*)-transition$/);o=a&&r[a[1]]&&r[a[1]].transition?o.concat(e.validateSpec({key:s,value:t[s],valueSpec:n.transition,validateSpec:e.validateSpec,style:i,styleSpec:n})):r[s]?o.concat(e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n})):o.concat([new vq(s,t[s],`unknown property "${s}"`)])}return o}function CK(e){const t=e.value,n=e.styleSpec,r=n.sky,i=e.style,o=RX(t);if(void 0===t)return[];if("object"!==o)return[new vq("sky",t,`object expected, ${o} found`)];let s=[];for(const o in t)s=r[o]?s.concat(e.validateSpec({key:o,value:t[o],valueSpec:r[o],style:i,styleSpec:n})):s.concat([new vq(o,t[o],`unknown property "${o}"`)]);return s}function DK(e){const t=e.value,n=e.styleSpec,r=n.terrain,i=e.style;let o=[];const s=RX(t);if(void 0===t)return o;if("object"!==s)return o=o.concat([new vq("terrain",t,`object expected, ${s} found`)]),o;for(const s in t)o=r[s]?o.concat(e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n})):o.concat([new vq(s,t[s],`unknown property "${s}"`)]);return o}function PK(e){let t=[];const n=e.value,r=e.key;if(Array.isArray(n)){const i=[],o=[];for(const s in n){n[s].id&&i.includes(n[s].id)&&t.push(new vq(r,n,`all the sprites' ids must be unique, but ${n[s].id} is duplicated`)),i.push(n[s].id),n[s].url&&o.includes(n[s].url)&&t.push(new vq(r,n,`all the sprites' URLs must be unique, but ${n[s].url} is duplicated`)),o.push(n[s].url);const a={id:{type:"string",required:!0},url:{type:"string",required:!0}};t=t.concat(dK({key:`${r}[${s}]`,value:n[s],valueSpec:a,validateSpec:e.validateSpec}))}return t}return kK({key:r,value:n})}function $K(e){return t=e.value,Boolean(t)&&t.constructor===Object?[]:[new vq(e.key,e.value,`object expected, ${RX(e.value)} found`)];var t}const AK={"*":()=>[],array:fK,boolean:function(e){const t=e.value,n=e.key,r=RX(t);return"boolean"!==r?[new vq(n,t,`boolean expected, ${r} found`)]:[]},number:pK,color:_K,constants:cK,enum:yK,filter:bK,function:mK,layer:MK,object:dK,source:EK,light:LK,sky:CK,terrain:DK,projection:function(e){const t=e.value,n=e.styleSpec,r=n.projection,i=e.style,o=RX(t);if(void 0===t)return[];if("object"!==o)return[new vq("projection",t,`object expected, ${o} found`)];let s=[];for(const o in t)s=r[o]?s.concat(e.validateSpec({key:o,value:t[o],valueSpec:r[o],style:i,styleSpec:n})):s.concat([new vq(o,t[o],`unknown property "${o}"`)]);return s},projectionDefinition:function(e){const t=e.key;let n=e.value;n=n instanceof String?n.valueOf():n;const r=RX(n);return"array"!==r||function(e){return Array.isArray(e)&&3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]&&"number"==typeof e[2]}(n)||function(e){if(["interpolate","step","literal"].includes(e[0]))return!0;return!1}(n)?["array","string"].includes(r)?[]:[new vq(t,n,`projection expected, invalid type "${r}" found`)]:[new vq(t,n,`projection expected, invalid array ${JSON.stringify(n)} found`)]},string:kK,formatted:function(e){return 0===kK(e).length?[]:gK(e)},resolvedImage:function(e){return 0===kK(e).length?[]:gK(e)},padding:function(e){const t=e.key,n=e.value;if("array"===RX(n)){if(n.length<1||n.length>4)return[new vq(t,n,`padding requires 1 to 4 values; ${n.length} values found`)];const r={type:"number"};let i=[];for(let o=0;o<n.length;o++)i=i.concat(e.validateSpec({key:`${t}[${o}]`,value:n[o],validateSpec:e.validateSpec,valueSpec:r}));return i}return pK({key:t,value:n,valueSpec:{}})},numberArray:function(e){const t=e.key,n=e.value;if("array"===RX(n)){const r={type:"number"};if(n.length<1)return[new vq(t,n,"array length at least 1 expected, length 0 found")];let i=[];for(let o=0;o<n.length;o++)i=i.concat(e.validateSpec({key:`${t}[${o}]`,value:n[o],validateSpec:e.validateSpec,valueSpec:r}));return i}return pK({key:t,value:n,valueSpec:{}})},colorArray:function(e){const t=e.key,n=e.value;if("array"===RX(n)){if(n.length<1)return[new vq(t,n,"array length at least 1 expected, length 0 found")];let e=[];for(let r=0;r<n.length;r++)e=e.concat(_K({key:`${t}[${r}]`,value:n[r]}));return e}return _K({key:t,value:n})},variableAnchorOffsetCollection:function(e){const t=e.key,n=e.value,r=RX(n),i=e.styleSpec;if("array"!==r||n.length<1||n.length%2!=0)return[new vq(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let r=0;r<n.length;r+=2)o=o.concat(yK({key:`${t}[${r}]`,value:n[r],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(fK({key:`${t}[${r+1}]`,value:n[r+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o},sprite:PK,state:$K};function RK(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;if(e.validateSpec=RK,n.expression&&OX(uK(t)))return mK(e);if(n.expression&&FX(hK(t)))return gK(e);if(n.type&&AK[n.type])return AK[n.type](e);return dK(wq({},e,{valueSpec:n.type?r[n.type]:n}))}function OK(e){const t=e.value,n=e.key,r=kK(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new vq(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new vq(n,t,'"glyphs" url must include a "{range}" token'))),r}function IK(e,t=_q){let n=[];return n=n.concat(RK({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:RK,objectElementValidators:{glyphs:OK,"*":()=>[]}})),e.constants&&(n=n.concat(cK({key:"constants",value:e.constants}))),NK(n)}function FK(e){return function(t){return e({...t,validateSpec:RK})}}function NK(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function YK(e){return function(...t){return NK(e.apply(this,t))}}IK.source=YK(FK(EK)),IK.sprite=YK(FK(PK)),IK.glyphs=YK(FK(OK)),IK.light=YK(FK(LK)),IK.sky=YK(FK(CK)),IK.terrain=YK(FK(DK)),IK.state=YK(FK($K)),IK.layer=YK(FK(MK)),IK.filter=YK(FK(bK)),IK.paintProperty=YK(FK(xK)),IK.layoutProperty=YK(FK(SK));const jK=_q;var HK={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},UK=" ",zK=/(italic|oblique)$/i,GK={};function WK(e,t,n){var r=GK[e];if(!r){Array.isArray(e)||(e=[e]);for(var i,o,s=400,a="normal",l=[],c=0,u=e.length;c<u;++c){var h=e[c].split(" "),d=h[h.length-1].toLowerCase();for(var f in"normal"==d||"italic"==d||"oblique"==d?(a=o?a:d,o=!0,h.pop(),d=h[h.length-1].toLowerCase()):zK.test(d)&&(d=d.replace(zK,""),a=o?a:h[h.length-1].replace(d,""),o=!0),HK){var p=h.length>1?h[h.length-2].toLowerCase():"";if(d==f||d==f.replace("-","")||p+"-"+d==f){s=i?s:HK[f],h.pop(),p&&f.startsWith(p)&&h.pop();break}}i||"number"!=typeof d||(s=d,i=!0);var m=h.join(UK).replace("Klokantech Noto Sans","Noto Sans").replace("DIN Pro","Barlow").replace("Arial Unicode MS","Arial");-1!==m.indexOf(UK)&&(m='"'+m+'"'),l.push(m)}r=GK[e]=[a,s,l]}return r[0]+UK+r[1]+UK+t+"px"+(n?"/"+n:"")+UK+r[2]}const qK="pointermove",BK="pointerdown",VK="pointerout";const XK=class extends hn{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=dn(n,BK,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=dn(n,qK,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(qt,this.boundHandleTouchMove_,!!Xe&&{passive:!1})}emulateClick_(e){let t=new OU(vj.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new OU(vj.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const t=new OU(vj.SINGLECLICK,this.map_,e);this.dispatchEvent(t)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==vj.POINTERUP||t.type==vj.POINTERCANCEL){delete this.trackedTouches_[n];for(const e in this.trackedTouches_)if(this.trackedTouches_[e].target!==t.target){delete this.trackedTouches_[e];break}}else t.type!=vj.POINTERDOWN&&t.type!=vj.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new OU(vj.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(pn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new OU(vj.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const e=this.map_.getOwnerDocument();this.dragListenerKeys_.push(dn(e,vj.POINTERMOVE,this.handlePointerMove_,this),dn(e,vj.POINTERUP,this.handlePointerUp_,this),dn(this.element_,vj.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push(dn(this.element_.getRootNode(),vj.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new OU(vj.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new OU(vj.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(pn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(qt,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(pn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(pn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},KK="layergroup",ZK="size",JK="target",QK="view",eZ=1/0;const tZ=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ln(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(n);return delete this.queuedElements_[r],n}enqueue(e){Oe(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=eZ&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,r=t.length,i=t[e],o=n[e],s=e;for(;e<r>>1;){const i=this.getLeftChildIndex_(e),o=this.getRightChildIndex_(e),s=o<r&&n[o]<n[i]?o:i;t[e]=t[s],n[e]=n[s],e=s}t[e]=i,n[e]=o,this.siftDown_(s,e)}siftDown_(e,t){const n=this.elements_,r=this.priorities_,i=n[t],o=r[t];for(;t>e;){const e=this.getParentIndex_(t);if(!(r[e]>o))break;n[t]=n[e],r[t]=r[e],t=e}n[t]=i,r[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let r=0;const i=t.length;let o,s,a;for(s=0;s<i;++s)o=t[s],a=e(o),a==eZ?delete this.queuedElements_[this.keyFunction_(o)]:(n[r]=a,t[r++]=o);t.length=r,n.length=r,this.heapify_()}};const nZ=class extends tZ{constructor(e,t){super(t=>e.apply(null,t),e=>e[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);if(t){e[0].addEventListener(Nt,this.boundHandleTileChange_)}return t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===oH||n===sH||n===aH){n!==sH&&t.removeEventListener(Nt,this.boundHandleTileChange_);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;){const e=this.dequeue()[0],t=e.getKey();e.getState()!==rH||t in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[t]=!0,++this.tilesLoading_,++n,e.load())}}};const rZ=class extends An{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let e=0,t=this.listenerKeys.length;e<t;++e)pn(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==on&&this.listenerKeys.push(dn(e,kY,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}};const iZ=class extends rZ{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=void 0!==e.className?e.className:"ol-attribution",n=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.expandClassName?e.expandClassName:t+"-expand",i=void 0!==e.collapseLabel?e.collapseLabel:"›",o=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i,this.collapseLabel_.className=o):this.collapseLabel_=i;const s=void 0!==e.label?e.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=r):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(Ht,this.handleClick_.bind(this),!1);const l=t+" "+On+" "+In+(this.collapsed_&&this.collapsible_?" "+Fn:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),n=new Set(t.flatMap(t=>t.getAttributions(e)));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach(e=>n.add(e)):n.add(this.attributions_)),!this.overrideCollapsible_){const e=!t.some(e=>!1===e.getSource()?.getAttributionsCollapsible());this.setCollapsible(e)}return Array.from(n)}async updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=await Promise.all(this.collectSourceAttributions_(e).map(e=>an(()=>e))),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!tn(t,this.renderedAttributions_)){rt(this.ulElement_);for(let e=0,n=t.length;e<n;++e){const n=document.createElement("li");n.innerHTML=t[e],this.ulElement_.appendChild(n)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Fn),this.collapsed_?nt(this.collapseLabel_,this.label_):nt(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}};const oZ=class extends rZ{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",n=void 0!==e.label?e.label:"⇧",r=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const i=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.label_),o.addEventListener(Ht,this.handleClick_.bind(this),!1);const s=t+" "+On+" "+In,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Rn)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:AN}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const e="rotate("+n+"rad)";if(this.autoHide_){const e=this.element.classList.contains(Rn);e||0!==n?e&&0!==n&&this.element.classList.remove(Rn):this.element.classList.add(Rn)}this.label_.style.transform=e}this.rotation_=n}};const sZ=class extends rZ{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",n=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",i=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",s=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",l=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener(Ht,this.handleClick_.bind(this,n),!1);const u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof s?document.createTextNode(s):s),u.addEventListener(Ht,this.handleClick_.bind(this,-n),!1);const h=t+" "+On+" "+In,d=this.element;d.className=h,d.appendChild(c),d.appendChild(u),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const n=t.getZoom();if(void 0!==n){const r=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:r,duration:this.duration_,easing:AN})):t.setZoom(r)}}};const aZ=class{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const r=this.points_[t+2]-this.points_[n+2];if(r<1e3/60)return!1;const i=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}};const lZ=class extends NU{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==vj.DBLCLICK){const n=e.originalEvent,r=e.map,i=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_;FU(r.getView(),o,i,this.duration_),n.preventDefault(),t=!0}return!t}};const cZ=class extends jU{constructor(e){super({stopDown:rn}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:wj(Ej,Pj);this.condition_=e.onFocusOnly?wj(Sj,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,r=t.getEventPixel(YU(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const t=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],n=e.map.getView();!function(e,t){e[0]*=t,e[1]*=t}(t,n.getResolution()),D$(t,n.getRotation()),n.adjustCenterInternal(t)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const e=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),i=n.getCenterInternal(),o=t.getPixelFromCoordinateInternal(i),s=t.getCoordinateFromPixelInternal([o[0]-e*Math.cos(r),o[1]-e*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:AN})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};const uZ=class extends jU{constructor(e){e=e||{},super({stopDown:rn}),this.condition_=e.condition?e.condition:xj,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!Dj(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===nY)return;const r=t.getSize(),i=e.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){const e=o-this.lastAngle_;n.adjustRotationInternal(-e)}this.lastAngle_=o}handleUpEvent(e){if(!Dj(e))return!0;return e.map.getView().endInteraction(this.duration_),!1}handleDownEvent(e){if(!Dj(e))return!1;if(kj(e)&&this.condition_(e)){return e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}};const hZ=class extends Vt{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+n,r.top=Math.min(e[1],t[1])+n,r.width=Math.abs(t[0]-e[0])+n,r.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new KN([n])}getGeometry(){return this.geometry_}},dZ="boxstart",fZ="boxdrag",pZ="boxend",mZ="boxcancel";class gZ extends un{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}const _Z=class extends jU{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new hZ(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??kj,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const r=n[0]-t[0],i=n[1]-t[1];return r*r+i*i>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new gZ(fZ,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new gZ(t?pZ:mZ,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new gZ(dZ,e.coordinate,e)),!0)}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new gZ(mZ,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new gZ(mZ,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}};const yZ=class extends _Z{constructor(e){super({condition:(e=e||{}).condition?e.condition:Lj,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const t=this.getMap().getView();let n=this.getGeometry();if(this.out_){const e=t.rotatedExtentForGeometry(n),r=t.getResolutionForExtentInternal(e),i=t.getResolution()/r;n=n.clone(),n.scale(i*i)}t.fitInternal(n,{duration:this.duration_,easing:AN})}},bZ="ArrowLeft",vZ="ArrowUp",wZ="ArrowRight",xZ="ArrowDown";const SZ=class extends NU{constructor(e){super(),e=e||{},this.defaultCondition_=function(e){return Ej(e)&&Cj(e)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==zt){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&(r==xZ||r==bZ||r==wZ||r==vZ)){const i=e.map.getView(),o=i.getResolution()*this.pixelDelta_;let s=0,a=0;r==xZ?a=-o:r==bZ?s=-o:r==wZ?s=o:a=o;const l=[s,a];D$(l,i.getRotation()),function(e,t,n){const r=e.getCenterInternal();if(r){const i=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:ON,center:e.getConstrainedCenter(i)})}}(i,l,this.duration_),n.preventDefault(),t=!0}}return!t}};const MZ=class extends NU{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(e){return!function(e){const t=e.originalEvent;return Ge?t.metaKey:t.ctrlKey}(e)&&Cj(e)},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==zt||e.type==Gt){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&("+"===r||"-"===r)){const i=e.map,o="+"===r?this.delta_:-this.delta_;FU(i.getView(),o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}};const kZ=class extends NU{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:Mj;this.condition_=e.onFocusOnly?wj(Sj,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e))return!0;if(e.type!==Bt)return!0;const t=e.map,n=e.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let r=n.deltaY;switch(n.deltaMode){case WheelEvent.DOM_DELTA_LINE:r*=40;break;case WheelEvent.DOM_DELTA_PAGE:r*=300}if(0===r)return!1;this.lastDelta_=r;const i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const o=t.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=i,!1;this.totalDelta_+=r;const s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-st(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),FU(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}};const TZ=class extends jU{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=rn),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){const e=i-this.lastAngle_;this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=e}this.lastAngle_=i;const o=e.map,s=o.getView();s.getConstraints().rotation!==nY&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(YU(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){if(this.targetPointers.length<2){return e.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};const EZ=class extends jU{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=rn),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,s=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;const a=e.map,l=a.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(YU(this.targetPointers))),a.render(),l.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};function LZ(e){e=e||{};const t=new jY,n=new aZ(-.005,.05,100);(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new uZ);(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new lZ({delta:e.zoomDelta,duration:e.zoomDuration}));(void 0===e.dragPan||e.dragPan)&&t.push(new cZ({onFocusOnly:e.onFocusOnly,kinetic:n}));(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new TZ);(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new EZ({duration:e.zoomDuration}));(void 0===e.keyboard||e.keyboard)&&(t.push(new SZ),t.push(new MZ({delta:e.zoomDelta,duration:e.zoomDuration})));(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new kZ({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));return(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new yZ({duration:e.zoomDuration})),t}function CZ(e,t){vn.expire()}const DZ=class extends Vt{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Cn()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;pR(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),mR(r,n)}forEachFeatureAtCoordinate(e,t,n,r,i,o,s,a){let l;const c=t.viewState;function u(e,t,n,r){return i.call(o,t,e?n:null,r)}const h=c.projection,d=A$(e.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){const e=g$(h.getExtent());f.push([-e,0],[e,0])}const p=t.layerStatesArray,m=p.length,g=[],_=[];for(let r=0;r<f.length;r++)for(let i=m-1;i>=0;--i){const o=p[i],h=o.layer;if(h.hasRenderer()&&vY(o,c)&&s.call(a,h)){const i=h.getRenderer(),s=h.getSource();if(i&&s){const a=s.getWrapX()?d:e,c=u.bind(null,o.managed);_[0]=a[0]+f[r][0],_[1]=a[1]+f[r][1],l=i.forEachFeatureAtCoordinate(_,t,n,c,g)}if(l)return l}}if(0===g.length)return;const y=1/g.length;return g.forEach((e,t)=>e.distanceSq+=t*y),g.sort((e,t)=>e.distanceSq-t.distanceSq),g.some(e=>l=e.callback(e.feature,e.layer,e.geometry)),l}hasFeatureAtCoordinate(e,t,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,r,nn,this,i,o)}getMap(){return this.map_}renderFrame(e){Cn()}scheduleExpireIconCache(e){vn.canExpireCache()&&e.postRenderFunctions.push(CZ)}};const PZ=class extends DZ{constructor(e){super(e),this.fontChangeListenerKey_=dn(Zn,Tn,e.redrawText,e),this.element_=qe?it():document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=On+" ol-layers";const n=e.getViewport();n&&n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const r=new dI(e,void 0,t);n.dispatchEvent(r)}}disposeInternal(){pn(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent(fO,e);const t=e.layerStatesArray.sort((e,t)=>e.zIndex-t.zIndex);t.some(e=>e.layer instanceof SY&&e.layer.getDeclutter())&&(e.declutter={});const n=e.viewState;this.children_.length=0;const r=[];let i=null;for(let o=0,s=t.length;o<s;++o){const s=t[o];e.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!vY(s,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(e,i);c&&(c!==i&&(this.children_.push(c),i=c),r.push(s))}this.declutter(e,r),function(e,t){const n=e.childNodes;for(let r=0;;++r){const i=n[r],o=t[r];if(!i&&!o)break;i!==o&&(i?o?e.insertBefore(o,i):(e.removeChild(i),--r):e.appendChild(o))}}(this.element_,this.children_);const o=this.getMap().getTargetElement();if(ot(o)){const e=o.getContext("2d");for(const t of this.children_){const n=t.firstElementChild||t,r=t.style.backgroundColor;if(r&&(!ot(n)||n.width>0)&&(e.fillStyle=r,e.fillRect(0,0,o.width,o.height)),ot(n)&&n.width>0){const r=t.style.opacity||n.style.opacity;e.globalAlpha=""===r?1:Number(r);const i=n.style.transform;if(i)e.setTransform(...yR(i));else{const t=parseFloat(n.style.width)/n.width,r=parseFloat(n.style.height)/n.height;e.setTransform(t,0,0,r,0,0)}e.drawImage(n,0,0)}}e.globalAlpha=1,e.setTransform(1,0,0,1,0,0)}this.dispatchRenderEvent(pO,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let n=t.length-1;n>=0;--n){const r=t[n],i=r.layer;i.getDeclutter()&&i.renderDeclutter(e,r)}t.forEach(t=>t.layer.renderDeferred(e))}}};function $Z(e){e instanceof wY?e.setMapInternal(null):e instanceof dz&&e.getLayers().forEach($Z)}function AZ(e,t){if(e instanceof wY)e.setMapInternal(t);else if(e instanceof dz){const n=e.getLayers().getArray();for(let e=0,r=n.length;e<r;++e)AZ(n[e],t)}}const RZ=class extends An{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=function(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},r=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new dz({layers:e.layers});let i,o,s;n[KK]=r,n[JK]=e.target,n[QK]=e.view instanceof lY?e.view:new lY,void 0!==e.controls&&(Array.isArray(e.controls)?i=new jY(e.controls.slice()):(Oe("function"==typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),i=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?o=new jY(e.interactions.slice()):(Oe("function"==typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?s=new jY(e.overlays.slice()):(Oe("function"==typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new jY;return{controls:i,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:We,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,qe||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,qe||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=t.controls||(qe?new jY:function(e){e=e||{};const t=new jY;return(void 0===e.zoom||e.zoom)&&t.push(new sZ(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new oZ(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new iZ(e.attributionOptions)),t}()),this.interactions=t.interactions||(qe?new jY:LZ({onFocusOnly:!0})),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new nZ(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(KK,this.handleLayerGroupChanged_),this.addChangeListener(QK,this.handleViewChanged_),this.addChangeListener(ZK,this.handleSizeChanged_),this.addChangeListener(JK,this.handleTargetChanged_),this.setProperties(t.values);const n=this;!e.view||e.view instanceof lY||e.view.then(function(e){n.setView(new lY(e))}),this.controls.addEventListener(IY,e=>{e.element.setMap(this)}),this.controls.addEventListener(FY,e=>{e.element.setMap(null)}),this.interactions.addEventListener(IY,e=>{e.element.setMap(this)}),this.interactions.addEventListener(FY,e=>{e.element.setMap(null)}),this.overlays_.addEventListener(IY,e=>{this.addOverlayInternal_(e.element)}),this.overlays_.addEventListener(FY,e=>{const t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}),this.controls.forEach(e=>{e.setMap(this)}),this.interactions.forEach(e=>{e.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){AZ(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:nn,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,s,t,null,o,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,function(e){n.push(e)},t),n}getAllLayers(){const e=[];return function t(n){n.forEach(function(n){n instanceof dz?t(n.getLayers()):e.push(n)})}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:nn,i=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),n=this.getSize(),r=t.width/n[0],i=t.height/n[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-t.left)/r,(o.clientY-t.top)/i]}getTarget(){return this.get(JK)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return JA(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?hR(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(KK)}setLayers(e){const t=this.getLayerGroup();if(e instanceof jY)return void t.setLayers(e);const n=t.getLayers();n.clear(),n.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const n=e[t];if(!n.visible)continue;const r=n.layer.getRenderer();if(r&&!r.ready)return!0;const i=n.layer.getSource();if(i&&i.loading)return!0}return!1}getPixelFromCoordinate(e){const t=QA(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?hR(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ZK)}getView(){return this.get(QK)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,r){return function(e,t,n,r,i){if(!e||!(n in e.wantedTiles))return eZ;if(!e.wantedTiles[n][t.getKey()])return eZ;const o=e.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,e,t,n,r)}handleBrowserEvent(e,t){t=t||e.type;const n=new OU(t,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,n=t.type;if(n===BK||n===Bt||n===zt){const e=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():e,r=t.target,i=n instanceof ShadowRoot?n.host===r?n.host.ownerDocument:n:n===e?e.documentElement:n;if(this.overlayContainerStopEvent_.contains(r)||!i.contains(r))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const t=this.getInteractions().getArray().slice();for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.getMap()!==this||!r.getActive()||!this.getTargetElement())continue;if(!r.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let n=this.maxTilesLoading_,r=n;if(e){const t=e.viewHints;if(t[cO]||t[uO]){const t=Date.now()-e.time>8;n=t?0:8,r=t?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,r))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(mO)&&this.renderer_.dispatchRenderEvent(mO,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new RU(CY,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new RU(LY,this,e))));const n=this.postRenderFunctions_;if(e)for(let t=0,r=n.length;t<r;++t)n[t](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)pn(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(jt,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Bt,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!ot(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);const e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){if(ot(t)||t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new PZ(this)),!ot(t)){this.mapBrowserEventHandler_=new XK(this,this.moveTolerance_);for(const e in vj)this.mapBrowserEventHandler_.addEventListener(vj[e],this.handleMapBrowserEvent.bind(this));let e;if(this.viewport_.addEventListener(jt,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Bt,this.boundHandleBrowserEvent_,!!Xe&&{passive:!1}),this.keyboardEventTarget_)e=this.keyboardEventTarget_;else{const n=t.getRootNode();e=n instanceof ShadowRoot?n.host:t}if(this.targetChangeHandlerKeys_=[dn(e,zt,this.handleBrowserEvent,this),dn(e,Gt,this.handleBrowserEvent,this)],t instanceof HTMLElement){const e=t.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.observe(e.host),this.resizeObserver_?.observe(t)}}this.updateSize()}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0)}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(pn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(pn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=dn(e,Tn,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=dn(e,Nt,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(pn),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new cz("addlayer",e)),this.layerGroupPropertyListenerKeys_=[dn(e,Tn,this.render,this),dn(e,Nt,this.render,this),dn(e,"addlayer",this.handleLayerAdd_,this),dn(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,n=e.length;t<n;++t){const n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){$Z(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),r=this.frameState_;let i=null;if(void 0!==t&&cr(t)&&n&&n.isDef()){const r=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:u$(o.center,o.resolution,o.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:r,wantedTiles:{},mapId:Pn(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const e=isNaN(o.nextRotation)?o.rotation:o.nextRotation;i.nextExtent=u$(o.nextCenter,o.nextResolution,e,t)}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r){(!this.previousExtent_||!y$(this.previousExtent_)&&!QP(i.extent,this.previousExtent_))&&(this.dispatchEvent(new RU(TY,this,r)),this.previousExtent_=KP(this.previousExtent_))}this.previousExtent_&&!i.viewHints[cO]&&!i.viewHints[uO]&&!QP(i.extent,this.previousExtent_)&&(this.dispatchEvent(new RU(EY,this,i)),UP(i.extent,this.previousExtent_))}this.dispatchEvent(new RU(kY,this,i)),this.renderComplete_=(this.hasListener(LY)||this.hasListener(CY)||this.hasListener(mO))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new cz("removelayer",t)),this.set(KK,e)}setSize(e){this.set(ZK,e)}setTarget(e){this.set(JK,e)}setView(e){if(!e||e instanceof lY)return void this.set(QK,e);this.set(QK,new lY);const t=this;e.then(function(e){t.setView(new lY(e))})}updateSize(){const e=this.getTargetElement();let t;if(e){let n,r;if(ot(e))n=e.width,r=e.height;else{const t=getComputedStyle(e);n=e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),r=e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)}isNaN(n)||isNaN(r)||(t=[Math.max(0,n),Math.max(0,r)],!cr(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&M$("No map visible because the map container's width or height are 0."))}const n=this.getSize();!t||n&&tn(t,n)||(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}},OZ="accuracy",IZ="accuracyGeometry",FZ="altitude",NZ="altitudeAccuracy",YZ="heading",jZ="position",HZ="projection",UZ="speed",zZ="tracking",GZ="trackingOptions",WZ="error";class qZ extends un{constructor(e){super(WZ),this.code=e.code,this.message=e.message}}const BZ=class extends An{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.position_=null,this.transform_=IA,this.watchId_=void 0,this.addChangeListener(HZ,this.handleProjectionChanged_),this.addChangeListener(zZ,this.handleTrackingChanged_),void 0!==e.projection&&this.setProjection(e.projection),void 0!==e.trackingOptions&&this.setTrackingOptions(e.trackingOptions),this.setTracking(void 0!==e.tracking&&e.tracking)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const e=this.getProjection();e&&(this.transform_=WA(NA("EPSG:4326"),e),this.position_&&this.set(jZ,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const e=this.getTracking();e&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):e||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(e){const t=e.coords;this.set(OZ,t.accuracy),this.set(FZ,null===t.altitude?void 0:t.altitude),this.set(NZ,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(YZ,null===t.heading?void 0:ut(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];const n=this.transform_(this.position_);this.set(jZ,n.slice()),this.set(UZ,null===t.speed?void 0:t.speed);const r=function(e,t,n,r){n=n||32;const i=[];for(let o=0;o<n;++o)Qt(i,DA(e,t,2*Math.PI*o/n,r));return i.push(i[0],i[1]),new XN(i,"XY",[i.length])}(this.position_,t.accuracy);r.applyTransform(this.transform_),this.set(IZ,r),this.changed()}positionError_(e){this.dispatchEvent(new qZ(e))}getAccuracy(){return this.get(OZ)}getAccuracyGeometry(){return this.get(IZ)||null}getAltitude(){return this.get(FZ)}getAltitudeAccuracy(){return this.get(NZ)}getHeading(){return this.get(YZ)}getPosition(){return this.get(jZ)}getProjection(){return this.get(HZ)}getSpeed(){return this.get(UZ)}getTracking(){return this.get(zZ)}getTrackingOptions(){return this.get(GZ)}setProjection(e){this.set(HZ,NA(e))}setTracking(e){this.set(zZ,e)}setTrackingOptions(e){this.set(GZ,e)}};new vr({color:"rgba(0,0,0,0.2)"});const VZ=class extends _n{constructor(e,t,n,r,i){super(e,t,n,void 0!==i?Ie:Ne),this.loader_=void 0!==i?i:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Ye):this.state=Ne,this.changed()}load(){this.state==Ie&&(this.state=Fe,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}};const XZ=Object.freeze({}),KZ={},ZZ={};let JZ=0;function QZ(e){return e.id||(e.id=JZ++),e.id}function eJ(e){return e*Math.PI/180}const tJ=function(){const e=[];for(let t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function nJ(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);const n=document.createElement("canvas");return n.width=e,n.height=t,n}function rJ(e,t){let n=0;const r=t.length;for(;n<r;++n){if(t[n]<e&&n+1<r){const r=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(r)}}return r-1}function iJ(e,t,n,r){const i=[2*n*t.pixelRatio+t.width,2*n*t.pixelRatio+t.height],o=nJ(i[0],i[1]),s=o.getContext("2d");s.drawImage(e,t.x,t.y,t.width,t.height,n*t.pixelRatio,n*t.pixelRatio,t.width,t.height);const a=s.getImageData(0,0,i[0],i[1]);s.globalCompositeOperation="destination-over",s.fillStyle=`rgba(${255*r.r},${255*r.g},${255*r.b},${r.a})`;const l=a.data;for(let e=0,r=a.width;e<r;++e)for(let i=0,o=a.height;i<o;++i){l[4*(i*r+e)+3]>0&&s.arc(e,i,n*t.pixelRatio,0,2*Math.PI)}return s.fill(),o}function oJ(e,t,n){const r=Math.max(0,Math.min(1,(n-e)/(t-e)));return r*r*(3-2*r)}function sJ(e,t,n){const r=nJ(t.width,t.height),i=r.getContext("2d");i.drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const o=i.getImageData(0,0,t.width,t.height),s=o.data;for(let e=0,t=o.width;e<t;++e)for(let r=0,i=o.height;r<i;++r){const i=4*(r*t+e),o=.75,a=.1,l=oJ(o-a,o+a,s[i+3]/255);l>0?(s[i+0]=Math.round(255*n.r*l),s[i+1]=Math.round(255*n.g*l),s[i+2]=Math.round(255*n.b*l),s[i+3]=Math.round(255*l)):s[i+3]=0}return i.putImageData(o,0,0),r}const aJ=Array(256).join(" ");function lJ(e,t){if(t>=.05){let n="";const r=e.split("\n"),i=aJ.slice(0,Math.round(t/.1));for(let e=0,t=r.length;e<t;++e)e>0&&(n+="\n"),n+=r[e].split("").join(i);return n}return e}let cJ;function uJ(){return cJ||(cJ=nJ(1,1).getContext("2d")),cJ}function hJ(e,t){return uJ().measureText(e).width+(e.length-1)*t}const dJ={};function fJ(e,t,n,r){if(-1!==e.indexOf("\n")){const i=e.split("\n"),o=[];for(let e=0,s=i.length;e<s;++e)o.push(fJ(i[e],t,n,r));return o.join("\n")}const i=n+","+t+","+e+","+r;let o=dJ[i];if(!o){const s=e.split(" ");if(s.length>1){const e=uJ();e.font=t;const i=e.measureText("M").width*n;let a="";const l=[];for(let e=0,t=s.length;e<t;++e){const t=s[e],n=a+(a?" ":"")+t;hJ(n,r)<=i?a=n:(a&&l.push(a),a=t)}a&&l.push(a);for(let e=0,t=l.length;e<t&&t>1;++e){const n=l[e];if(hJ(n,r)<.35*i){const i=e>0?hJ(l[e-1],r):1/0,o=e<t-1?hJ(l[e+1],r):1/0;l.splice(e,1),t-=1,i<o?(l[e-1]+=" "+n,e-=1):l[e]=n+" "+l[e]}}for(let e=0,t=l.length-1;e<t;++e){const n=l[e],o=l[e+1];if(hJ(n,r)>.7*i&&hJ(o,r)<.6*i){const s=n.split(" "),a=s.pop();hJ(a,r)<.2*i&&(l[e]=s.join(" "),l[e+1]=a+" "+o),t-=1}}o=l.join("\n")}else o=e;o=lJ(o,r),dJ[i]=o}return o}const pJ={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},mJ={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},gJ={zoom:0,distanceFromCenter:0};let _J,yJ;function bJ(e,t,n,r,i,o){const s=e.id;i||(i={},console.warn("No functionCache provided to getValue()")),i[s]||(i[s]={});const a=i[s];if(!a[n]){let r=(e[t]||XZ)[n];const i=jK[`${t}_${e.type}`][n];void 0===r&&(r=i.default);let o=FX(r);if(!o&&OX(r)&&(r=tK(r,i),o=!0),o){const e=function(e,t){const n=HX(e,t);if("error"===n.result)throw new Error(n.value.map(e=>`${e.key}: ${e.message}`).join(", "));return n.value}(r,i);a[n]=e.evaluate.bind(e)}else"color"==i.type&&(r=gB.parse(r)),a[n]=function(){return r}}return a[n](gJ,r,o)}function vJ(e,t,n,r){if(!bJ(e,"layout",`${n}-allow-overlap`,t,r))return"declutter";return bJ(e,"layout",`${n}-ignore-placement`,t,r)?"none":"obstacle"}function wJ(e,t,n,r){if(r||console.warn("No filterCache provided to evaluateFilter()"),!(e in r))try{r[e]=qX(t).filter}catch(t){console.warn("Filter will evaluate to false: "+t.message),r[e]=function(){return!1}}return r[e](gJ,n)}vX.register(bX,{...vX.definitions,pitch:[{kind:"number"},[],e=>gJ.pitch||90],"distance-from-center":[{kind:"number"},[],e=>gJ.distanceFromCenter||0]});let xJ=!1;function SJ(e,t){if(e){if(!xJ&&(0===e.a||0===t))return;const n=e.a;return t=void 0===t?1:t,0===n?"transparent":"rgba("+Math.round(255*e.r/n)+","+Math.round(255*e.g/n)+","+Math.round(255*e.b/n)+","+n*t+")"}return e}const MJ=/\{[^{}}]*\}/g;function kJ(e,t){return e.replace(MJ,function(e){return t[e.slice(1,-1)]||""})}function TJ(e,t){let n=e.split(":")[0];return n===e&&(n="default"),t[n]}let EJ=!1;const LJ={};function CJ(e,t,n,r=tJ,i=void 0,o=void 0,s=void 0,a=void 0){if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");LJ[function(e,t){return QZ(e)+"."+Pn(t)}(t,e)]=Array.from(arguments);const l={};("string"==typeof o||o instanceof Request||o instanceof Response||o instanceof Promise)&&(o={default:o});for(const t in o){const n=o[t];an(()=>n).then(async n=>{let r;if("undefined"!=typeof Image){const i=new Image;if("string"==typeof n)i.crossOrigin="anonymous",i.src=n;else{let e;n instanceof Request?e=await fetch(n):n instanceof Response&&(e=n);const t=await e.blob();r=URL.createObjectURL(t),i.src=r}i.addEventListener("load",function n(){i.removeEventListener("load",n),l[t]={image:i,size:[i.width,i.height]},e.changed(),r&&URL.revokeObjectURL(r)}),i.addEventListener("error",function e(){URL.revokeObjectURL(r),i.removeEventListener("error",e)})}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const e=self;e.postMessage({action:"loadImage",src:n}),e.addEventListener("message",function(e){"imageLoaded"===e.data.action&&e.data.src===n&&(l[t]={image:e.data.image,size:[e.data.image.width,e.data.image.height]})})}})}const c=function(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=bq(e[n],t[e[n].ref]));return e}(t.layers),u={},h=[],d={},f={},p=function(e){let t=KZ[e.id];return t||(t={},KZ[QZ(e)]=t),t}(t),m=function(e){let t=ZZ[e.id];return t||(t={},ZZ[QZ(e)]=t),t}(t);let g;for(let e=0,r=c.length;e<r;++e){const r=c[e],i=r.id;if("string"==typeof n&&r.source==n||Array.isArray(n)&&-1!==n.indexOf(i)){const n=r["source-layer"];if(g){if(r.source!==g)throw new Error(`Layer "${i}" does not use source "${g}`)}else{g=r.source;const e=t.sources[g];if(!e)throw new Error(`Source "${g}" is not defined`);const n=e.type;if("vector"!==n&&"geojson"!==n)throw new Error(`Source "${g}" is not of type "vector" or "geojson", but "${n}"`)}let o=u[n];o||(o=[],u[n]=o),o.push({layer:r,index:e}),h.push(i)}}const _=new vr,y=new yr,b=[],v=function(n,o,c){const h=n.getProperties(),g=u[h.layer];if(!g)return;let v=r.indexOf(o);-1==v&&(v=rJ(o,r)),gJ.zoom=v,gJ.distanceFromCenter=0;const w=n.getGeometry(),x=pJ[w.getType()],S=e.get("map");if(S&&S instanceof RZ&&1===x){const e=S.getSize();if(e){const t=S.getView().getCenter(),n=l$(w.getExtent());gJ.distanceFromCenter=$$(t,n)/o/e[1]}}const M={id:n.getId(),properties:h,type:x},k=e.get("mapbox-featurestate")[n.getId()];let T,E=-1;for(let r=0,u=g.length;r<u;++r){const u=g[r],w=u.layer,S=w.id;if(void 0!==c&&c!==S)continue;const L=w.layout||XZ,C=w.paint||XZ;if("none"===L.visibility||"minzoom"in w&&v<w.minzoom||"maxzoom"in w&&v>=w.maxzoom)continue;const D=w.filter;if(!D||wJ(S,D,M,m)){let r,c,m,g,v,S;T=w;const D=u.index;if(3==x&&("fill"==w.type||"fill-extrusion"==w.type))if(c=bJ(w,"paint",w.type+"-opacity",M,p,k),w.type+"-pattern"in C){const e=bJ(w,"paint",w.type+"-pattern",M,p,k);if(e){const t="string"==typeof e?kJ(e,h):e.toString(),n=TJ(t,l);if(i&&i[t]&&n){++E,S=b[E],S&&S.getFill()&&!S.getStroke()&&!S.getText()||(S=new Er({fill:new yr}),b[E]=S),m=S.getFill(),S.setZIndex(D);const e=t+"."+c;let r=f[e];if(!r){const o=i[t],s=nJ(o.width,o.height),a=s.getContext("2d");a.globalAlpha=c,a.drawImage(n.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r=a.createPattern(s,"repeat"),f[e]=r}m.setColor(r)}}}else r=SJ(bJ(w,"paint",w.type+"-color",M,p,k),c),w.type+"-outline-color"in C&&(v=SJ(bJ(w,"paint",w.type+"-outline-color",M,p,k),c)),v||(v=r),(r||v)&&(++E,S=b[E],(!S||r&&!S.getFill()||!r&&S.getFill()||v&&!S.getStroke()||!v&&S.getStroke()||S.getText())&&(S=new Er({fill:r?new yr:void 0,stroke:v?new vr:void 0}),b[E]=S),r&&(m=S.getFill(),m.setColor(r)),v&&(g=S.getStroke(),g.setColor(v),g.setWidth(.5)),S.setZIndex(D));if(1!=x&&"line"==w.type){r="line-pattern"in C?void 0:SJ(bJ(w,"paint","line-color",M,p,k),bJ(w,"paint","line-opacity",M,p,k));const e=bJ(w,"paint","line-width",M,p,k);r&&e>0&&(++E,S=b[E],S&&S.getStroke()&&!S.getFill()&&!S.getText()||(S=new Er({stroke:new vr}),b[E]=S),g=S.getStroke(),g.setLineCap(bJ(w,"layout","line-cap",M,p,k)),g.setLineJoin(bJ(w,"layout","line-join",M,p,k)),g.setMiterLimit(bJ(w,"layout","line-miter-limit",M,p,k)),g.setColor(r),g.setWidth(e),g.setLineDash(C["line-dasharray"]?bJ(w,"paint","line-dasharray",M,p,k).map(function(t){return t*e}):null),S.setZIndex(D))}let P,$,A,R,O,I,F,N,Y,j=!1,H=null,U=0;if((1==x||2==x)&&"icon-image"in L){const t=bJ(w,"layout","icon-image",M,p,k);if(t){let r;P="string"==typeof t?kJ(t,h):t.toString();const s=a?a(e,P):void 0,c=TJ(P,l);if(i&&i[P]&&c||s){const e=bJ(w,"layout","icon-rotation-alignment",M,p,k);if(2==x){const t=n.getGeometry();if(t.getFlatMidpoint||t.getFlatMidpoints){const n=t.getExtent();if(Math.sqrt(Math.max(Math.pow((n[2]-n[0])/o,2),Math.pow((n[3]-n[1])/o,2)))>150){const n="MultiLineString"===t.getType()?t.getFlatMidpoints():t.getFlatMidpoint();yJ||(_J=[NaN,NaN],yJ=new oj("Point",_J,[],2,{},void 0)),r=yJ,_J[0]=n[0],_J[1]=n[1];if("line"===bJ(w,"layout","symbol-placement",M,p,k)&&"map"===e){const e=t.getStride(),r=t.getFlatCoordinates();for(let t=0,i=r.length-e;t<i;t+=e){const i=r[t],o=r[t+1],s=r[t+e],a=r[t+e+1],l=Math.min(i,s),c=Math.max(i,s),u=n[0],h=(a-o)*(u-i)-(s-i)*(n[1]-o);if(Math.abs(h)<.001&&u<=c&&u>=l){U=Math.atan2(o-a,s-i);break}}}}}}if(2!==x||r){const t=bJ(w,"layout","icon-size",M,p,k),n=void 0!==C["icon-color"]?bJ(w,"paint","icon-color",M,p,k):null;if(!n||0!==n.a){const r=bJ(w,"paint","icon-halo-color",M,p,k),o=bJ(w,"paint","icon-halo-width",M,p,k);let a=`${P}.${t}.${o}.${r}`;if(null!==n&&(a+=`.${n}`),$=d[a],!$){const l=vJ(w,M,"icon",p);let u;"icon-offset"in L&&(u=bJ(w,"layout","icon-offset",M,p,k).slice(0),u[0]*=t,u[1]*=-t);let h=n?[255*n.r,255*n.g,255*n.b,n.a]:void 0;if(s){const n={color:h,rotateWithView:"map"===e,displacement:u,declutterMode:l,scale:t};"string"==typeof s?n.src=s:(n.img=s,n.imgSize=[s.width,s.height]),$=new QO(n)}else{const s=i[P];let a,d,f;if(o)s.sdf?(a=iJ(sJ(c.image,s,n||[0,0,0,1]),{x:0,y:0,width:s.width,height:s.height,pixelRatio:s.pixelRatio},o,r),h=void 0):a=iJ(c.image,s,o,r);else{if(s.sdf&&!c.unSDFed){const e=sJ(c.image,{x:0,y:0,width:c.size[0],height:c.size[1]},{r:1,g:1,b:1,a:1});c.image=e,c.unSDFed=!0}a=c.image,d=[s.width,s.height],f=[s.x,s.y]}$=new QO({color:h,img:a,imgSize:c.size,size:d,offset:f,rotateWithView:"map"===e,scale:t/s.pixelRatio,displacement:u,declutterMode:l})}d[a]=$}}$&&(++E,S=b[E],S&&S.getImage()&&!S.getFill()&&!S.getStroke()||(S=new Er,b[E]=S),S.setGeometry(r),$.setRotation(U+eJ(bJ(w,"layout","icon-rotate",M,p,k))),$.setOpacity(bJ(w,"paint","icon-opacity",M,p,k)),$.setAnchor(mJ[bJ(w,"layout","icon-anchor",M,p,k)]),S.setImage($),H=S.getText(),S.setText(void 0),S.setZIndex(D),j=!0,A=!1)}else A=!0}}}if(1==x&&"circle"===w.type){++E,S=b[E],S&&S.getImage()&&!S.getFill()&&!S.getStroke()||(S=new Er,b[E]=S);const e="circle-radius"in C?bJ(w,"paint","circle-radius",M,p,k):5,t=SJ(bJ(w,"paint","circle-stroke-color",M,p,k),bJ(w,"paint","circle-stroke-opacity",M,p,k)),n=bJ(w,"paint","circle-translate",M,p,k),r=SJ(bJ(w,"paint","circle-color",M,p,k),bJ(w,"paint","circle-opacity",M,p,k)),i=bJ(w,"paint","circle-stroke-width",M,p,k),o=e+"."+t+"."+r+"."+i+"."+n[0]+"."+n[1];$=d[o],$||($=new gr({radius:e,displacement:[n[0],-n[1]],stroke:t&&i>0?new vr({width:i,color:t}):void 0,fill:r?new yr({color:r}):void 0,declutterMode:"none"}),d[o]=$),S.setImage($),H=S.getText(),S.setText(void 0),S.setGeometry(void 0),S.setZIndex(D),j=!0}if("text-field"in L){F=Math.round(bJ(w,"layout","text-size",M,p,k));const e=bJ(w,"layout","text-font",M,p,k);I=bJ(w,"layout","text-line-height",M,p,k),O=WK(s?s(e,t.metadata?t.metadata["ol:webfonts"]:void 0):e,F,I),O.includes("sans-serif")||(O+=",sans-serif"),N=bJ(w,"layout","text-letter-spacing",M,p,k),Y=bJ(w,"layout","text-max-width",M,p,k);const n=bJ(w,"layout","text-field",M,p,k);R="object"==typeof n&&n.sections?1===n.sections.length?n.toString():n.sections.reduce((t,n,r)=>{const i=n.fontStack?n.fontStack.split(","):e,o=WK(s?s(i):i,F*(n.scale||1),I);let a=n.text;if("\n"===a)return t.push("\n",""),t;if(2==x)return t.push(lJ(a,N),o),t;a=fJ(a,o,Y,N).split("\n");for(let e=0,n=a.length;e<n;++e)e>0&&t.push("\n",""),t.push(a[e],o);return t},[]):kJ(n,h).trim(),c=bJ(w,"paint","text-opacity",M,p,k)}if(R&&c&&!A){j||(++E,S=b[E],S&&S.getText()&&!S.getFill()&&!S.getStroke()||(S=new Er,b[E]=S),S.setImage(void 0),S.setGeometry(void 0));const e=vJ(w,M,"text",p);S.getText()||S.setText(H),H=S.getText(),(!H||"getDeclutterMode"in H&&H.getDeclutterMode()!==e)&&(H=new tI({padding:[2,2,2,2],declutterMode:e}),S.setText(H));const t=bJ(w,"layout","text-transform",M,p,k);"uppercase"==t?R=Array.isArray(R)?R.map((e,t)=>t%2?e:e.toUpperCase()):R.toUpperCase():"lowercase"==t&&(R=Array.isArray(R)?R.map((e,t)=>t%2?e:e.toLowerCase()):R.toLowerCase());const n=Array.isArray(R)?R:2==x?lJ(R,N):fJ(R,O,Y,N);if(H.setText(n),H.setFont(O),H.setRotation(eJ(bJ(w,"layout","text-rotate",M,p,k))),"function"==typeof H.setKeepUpright){const e=bJ(w,"layout","text-keep-upright",M,p,k);H.setKeepUpright(e)}const r=bJ(w,"layout","text-anchor",M,p,k),i=j||1==x?"point":bJ(w,"layout","symbol-placement",M,p,k);let o;if("line-center"===i?(H.setPlacement("line"),o="center"):H.setPlacement(i),"line"===i&&"function"==typeof H.setRepeat){const e=bJ(w,"layout","symbol-spacing",M,p,k);H.setRepeat(2*e)}H.setOverflow("point"===i);let s=bJ(w,"paint","text-halo-width",M,p,k);const a=bJ(w,"layout","text-offset",M,p,k),l=bJ(w,"paint","text-translate",M,p,k);let u=0,h=0;if("point"==i){o="center",-1!==r.indexOf("left")?(o="left",h=s):-1!==r.indexOf("right")&&(o="right",h=-s);const e=bJ(w,"layout","text-rotation-alignment",M,p,k);H.setRotateWithView("map"==e)}else H.setMaxAngle(eJ(bJ(w,"layout","text-max-angle",M,p,k))*R.length/n.length),H.setRotateWithView(!1);H.setTextAlign(o);let d="middle";0==r.indexOf("bottom")?(d="bottom",u=-s-.5*(I-1)*F):0==r.indexOf("top")&&(d="top",u=s+.5*(I-1)*F),H.setTextBaseline(d);const f=bJ(w,"layout","text-justify",M,p,k);H.setJustify("auto"===f?void 0:f),H.setOffsetX(a[0]*F+h+l[0]),H.setOffsetY(a[1]*F+u+l[1]),y.setColor(SJ(bJ(w,"paint","text-color",M,p,k),c)),H.setFill(y);const m=SJ(bJ(w,"paint","text-halo-color",M,p,k),c);if(m&&s>0){_.setColor(m),s*=2;const e=.5*F;_.setWidth(s<=e?s:e),H.setStroke(_)}else H.setStroke(void 0);const g=bJ(w,"layout","text-padding",M,p,k),v=H.getPadding();g!==v[0]&&(v[0]=g,v[1]=g,v[2]=g,v[3]=g),S.setZIndex(D)}}}return E>-1?(b.length=E+1,EJ&&("set"in n?n.set("mapbox-layer",T):n.getProperties()["mapbox-layer"]=T),b):void 0};return e.setStyle(v),e.set("mapbox-layers",h),e.set("mapbox-source",g),e.set("mapbox-featurestate",e.get("mapbox-featurestate")||{}),v}function DJ(e){if("string"==typeof e){const t=JSON.parse(e);return t||null}return null!==e?e:null}const PJ=class extends iG{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(DJ(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(DJ(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Cn()}readFeaturesFromObject(e,t){return Cn()}readGeometry(e,t){return this.readGeometryFromObject(DJ(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Cn()}readProjection(e){return this.readProjectionFromObject(DJ(e))}readProjectionFromObject(e){return Cn()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Cn()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Cn()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Cn()}};function $J(e,t){if(!e)return null;let n;switch(e.type){case"Point":n=function(e){const t=e.coordinates;return{type:"Point",flatCoordinates:t,layout:MR(t.length)}}(e);break;case"LineString":n=function(e){const t=e.coordinates,n=t.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:MR(t[0]?.length||2)}}(e);break;case"Polygon":n=function(e){const t=e.coordinates,n=[],r=t[0]?.[0]?.length,i=CR(n,0,t,r);return{type:"Polygon",flatCoordinates:n,ends:i,layout:MR(r)}}(e);break;case"MultiPoint":n=function(e){const t=e.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:MR(t[0]?.length||2)}}(e);break;case"MultiLineString":n=function(e){const t=e.coordinates,n=t[0]?.[0]?.length||2,r=[],i=CR(r,0,t,n);return{type:"MultiLineString",flatCoordinates:r,ends:i,layout:MR(n)}}(e);break;case"MultiPolygon":n=function(e){const t=e.coordinates,n=[],r=t[0]?.[0]?.[0].length||2,i=DR(n,0,t,r);return{type:"MultiPolygon",flatCoordinates:n,ends:i,layout:MR(r)}}(e);break;case"GeometryCollection":n=function(e,t){const n=e.geometries.map(function(e){return $J(e,t)});return n}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return n}function AJ(e,t){const n=(e=oG(e,!0,t)).getType();let r;switch(n){case"Point":r=function(e){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":r=function(e){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":r=function(e,t){let n;t&&(n=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"MultiPoint":r=function(e){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":r=function(e){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":r=function(e,t){let n;t&&(n=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"GeometryCollection":r=function(e,t){t=Object.assign({},t),delete t.featureProjection;const n=e.getGeometriesArray().map(function(e){return AJ(e,t)});return{type:"GeometryCollection",geometries:n}}(e,t);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}const RJ=class extends PJ{constructor(e){e=e||{},super(),this.dataProjection=NA(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=NA(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;n="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const r=$J(n.geometry,t);if(this.featureClass===oj)return lG({geometry:r,id:n.id,properties:n.properties},t);const i=new AP;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&i.setGeometryName(n.geometry_name),i.setGeometry(cG(r,t)),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i}readFeaturesFromObject(e,t){let n=null;if("FeatureCollection"===e.type){n=[];const r=e.features;for(let e=0,i=r.length;e<i;++e){const i=this.readFeatureFromObject(r[e],t);i&&n.push(i)}}else n=[this.readFeatureFromObject(e,t)];return n.flat()}readGeometryFromObject(e,t){return function(e,t){const n=$J(e,t);return cG(n,t)}(e,t)}readProjectionFromObject(e){const t=e.crs;let n;if(t)if("name"==t.type)n=NA(t.properties.name);else{if("EPSG"!==t.type)throw new Error("Unknown SRS type");n=NA("EPSG:"+t.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},r=e.getId();if(void 0!==r&&(n.id=r),!e.hasProperties())return n;const i=e.getProperties(),o=e.getGeometry();return o&&(n.geometry=AJ(o,t),delete i[e.getGeometryName()]),cn(i)||(n.properties=i),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let r=0,i=e.length;r<i;++r)n.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return AJ(e,this.adaptOptions(t))}};function OJ(e){return function(t){const n=t.buffers,r=t.meta,i=t.imageOps,o=t.width,s=t.height,a=n.length,l=n[0].byteLength;if(i){const t=new Array(a);for(let e=0;e<a;++e)t[e]=new ImageData(new Uint8ClampedArray(n[e]),o,s);return e(t,r).data.buffer}const c=new Uint8ClampedArray(l),u=new Array(a),h=new Array(a);for(let e=0;e<a;++e)u[e]=new Uint8ClampedArray(n[e]),h[e]=[0,0,0,0];for(let t=0;t<l;t+=4){for(let e=0;e<a;++e){const n=u[e];h[e][0]=n[t],h[e][1]=n[t+1],h[e][2]=n[t+2],h[e][3]=n[t+3]}const n=e(h,r);c[t]=n[0],c[t+1]=n[1],c[t+2]=n[2],c[t+3]=n[3]}return c.buffer}}function IJ(e,t){const n=Object.keys(e.lib||{}).map(function(t){return"const "+t+" = "+e.lib[t].toString()+";"}).concat(["const __minion__ = ("+OJ.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),r=new Worker("undefined"==typeof Blob?"data:text/javascript;base64,"+Buffer.from(n.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(n,{type:"text/javascript"})));return r.addEventListener("message",t),r}class FJ extends Vt{constructor(e){let t;super(),this.imageOps_=!!e.imageOps,t=0===e.threads?0:this.imageOps_?1:e.threads||1;const n=new Array(t);if(t)for(let r=0;r<t;++r)n[r]=IJ(e,this.onWorkerMessage_.bind(this,r));else n[0]=function(e,t){const n=OJ(e.operation);let r=!1;return{postMessage:function(e){setTimeout(function(){r||t({data:{buffer:n(e),meta:e.meta}})},0)},terminate:function(){r=!0}}}(e,this.onWorkerMessage_.bind(this,0));this.workers_=n,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,n){this.enqueue_({inputs:e,meta:t,callback:n}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||0===this.queue_.length)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,n=e.inputs[0].height,r=e.inputs.map(function(e){return e.data.buffer}),i=this.workers_.length;if(this.running_=i,1===i)return void this.workers_[0].postMessage({buffers:r,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},r);const o=e.inputs[0].data.length,s=4*Math.ceil(o/4/i);for(let o=0;o<i;++o){const i=o*s,a=[];for(let e=0,t=r.length;e<t;++e)a.push(r[e].slice(i,i+s));this.workers_[o].postMessage({buffers:a,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},a)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,0===this.running_&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let n,r;if(1===t)n=new Uint8ClampedArray(this.dataLookup_[0].buffer),r=this.dataLookup_[0].meta;else{const i=e.inputs[0].data.length;n=new Uint8ClampedArray(i),r=new Array(t);const o=4*Math.ceil(i/4/t);for(let e=0;e<t;++e){const t=this.dataLookup_[e].buffer,i=e*o;n.set(new Uint8ClampedArray(t),i),r[e]=this.dataLookup_[e].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(n,e.inputs[0].width,e.inputs[0].height),r),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const NJ="beforeoperations",YJ="afteroperations";class jJ extends un{constructor(e,t,n){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=n}}class HJ extends wz{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=void 0!==e.operationType?e.operationType:"pixel",this.threads_=void 0!==e.threads?e.threads:1,this.layers_=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=GJ(e[r]);return n}(e.sources);const t=this.changed.bind(this);for(let e=0,n=this.layers_.length;e<n;++e)this.layers_[e].addEventListener(Nt,t);var n;this.useResolutions_=null!==e.resolutions,this.tileQueue_=new nZ(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:(n=this.layers_,n.map(function(e){return e.getLayerState()})),pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:Pn(this),renderTargets:{}},this.setAttributions(function(t){const n=[];for(let r=0,i=e.sources.length;r<i;++r){const i=e.sources[r],o=i instanceof lj?i:i.getSource();if(!o)continue;const s=o.getAttributions()?.(t);"string"==typeof s?n.push(s):void 0!==s&&n.push(...s)}return n}),void 0!==e.operation&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new FJ({operation:e,imageOps:"image"===this.operationType_,queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,n){const r=Object.assign({},this.frameState_);r.viewState=Object.assign({},r.viewState);const i=l$(e);r.size[0]=Math.ceil(g$(e)/t),r.size[1]=Math.ceil(d$(e)/t),r.extent=[i[0]-r.size[0]*t/2,i[1]-r.size[1]*t/2,i[0]+r.size[0]*t/2,i[1]+r.size[1]*t/2],r.time=Date.now();const o=r.viewState;return o.center=i,o.projection=n,o.resolution=t,r}allSourcesReady_(){let e,t=!0;for(let n=0,r=this.layers_.length;n<r;++n)if(e=this.layers_[n].getSource(),!e||"ready"!==e.getState()){t=!1;break}return t}getImage(e,t,n,r){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const i=this.updateFrameState_(e,t,r);if(this.requestedFrameState_=i,this.renderedImageCanvas_){const e=this.renderedImageCanvas_.getResolution(),n=this.renderedImageCanvas_.getExtent();t===e&&QP(i.extent,n)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),i.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,n=new Array(t);for(let r=0;r<t;++r){e.layerIndex=r,e.renderTargets={};const t=zJ(this.layers_[r],e);if(!t)return;n[r]=t}const r={};this.dispatchEvent(new jJ(NJ,e,r)),this.processor_.process(n,r,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,n,r){if(t||!n)return;const i=e.extent,o=e.viewState.resolution;if(o!==this.requestedFrameState_.viewState.resolution||!QP(i,this.requestedFrameState_.extent))return;let s;if(this.renderedImageCanvas_)s=this.renderedImageCanvas_.getImage().getContext("2d");else{s=Ke(Math.round(g$(i)/o),Math.round(d$(i)/o)),this.renderedImageCanvas_=new VZ(i,o,1,s.canvas)}s.putImageData(n,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new jJ(YJ,e,r))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let n=0,r=this.layers_.length;n<r;++n){if(t=this.layers_[n].getSource().getResolutions(e),t)break}return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}HJ.prototype.dispose;let UJ=null;function zJ(e,t){const n=e.getRenderer();if(!n)throw new Error("Unsupported layer type: "+e);if(!n.prepareFrame(t))return null;const r=t.size[0],i=t.size[1];if(0===r||0===i)return null;const o=n.renderFrame(t,null);let s;if(o instanceof HTMLCanvasElement)s=o;else{if(o&&(s=o.firstElementChild),!(s instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+s);if(s.width===r&&s.height===i){return s.getContext("2d").getImageData(0,0,r,i)}}if(UJ){const e=UJ.canvas;e.width!==r||e.height!==i?UJ=Ke(r,i,void 0,{willReadFrequently:!0}):UJ.clearRect(0,0,r,i)}else UJ=Ke(r,i,void 0,{willReadFrequently:!0});return UJ.drawImage(s,0,0,r,i),UJ.getImageData(0,0,r,i)}function GJ(e){let t;return e instanceof lj?e instanceof Dz?t=new wU({source:e}):e instanceof wz&&(t=new IW({source:e})):t=e,t}Error;Error;function WJ(e,t){let n=!1;return e.includes(t)||(e.push(t),n=!0),n}const qJ=class{constructor(e){this.inRange=!1!==e.inRange,this.visible=!0===e.visible,this.attributes=e.attributes||null,this.id_=e.id,this.identifierAttribute_=e.identifierAttribute,this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.name_=e.name}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e}get id(){return this.id_}get identifierAttribute(){return this.identifierAttribute_}get maxResolution(){return this.maxResolution_}get minResolution(){return this.minResolution_}get name(){return this.name_}get queryable(){return!1}get supportsDynamicInRange(){return null!==this.maxResolution||null!==this.minResolution}},BJ="&&",VJ="!",XJ="||";const KJ=class extends RJ{constructor(e){const t=e||{};super(e),this.layers_=t.layers?t.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeaturesFromObject(e,t){const n=[];let r=null;if("FeatureCollection"===e.type){r=e.features}else r=[e];for(let e=0,i=r.length;e<i;++e){const i=r[e].layerName;this.layers_&&!this.layers_.includes(i)||n.push(this.readFeatureFromObject(r[e],t))}return n}},ZJ="boolean",JJ="date",QJ="datetime",eQ="time",tQ="geometry",nQ="number",rQ="select",iQ="text";const oQ=class extends iG{constructor(){super(),this.xmlSerializer_=(void 0===IG&&"undefined"!=typeof XMLSerializer&&(IG=new XMLSerializer),IG)}getType(){return"xml"}readFeature(e,t){if(!e)return null;if("string"==typeof e){const n=vG(e);return this.readFeatureFromDocument(n,t)}return bG(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){const n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if("string"==typeof e){const n=vG(e);return this.readFeaturesFromDocument(n,t)}return bG(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){const n=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Qt(n,this.readFeaturesFromNode(r,t));return n}readFeaturesFromNode(e,t){return Cn()}readGeometry(e,t){if(!e)return null;if("string"==typeof e){const n=vG(e);return this.readGeometryFromDocument(n,t)}return bG(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if("string"==typeof e){const t=vG(e);return this.readProjectionFromDocument(t)}return bG(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){const n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(e,t){return null}writeFeatures(e,t){const n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){const n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(e,t){return null}},sQ="http://www.opengis.net/gml",aQ=/^\s*$/;class lQ extends oQ{constructor(e){super(),e=e||{},this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:xG(this.readFeaturesInternal),featureMembers:SG(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(e,t){const n=e.localName;let r=null;if("FeatureCollection"==n)r=AG([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==n||"featureMember"==n||"member"==n){const i=t[0];let o=i.featureType,s=i.featureNS;const a="p",l="p0";if(!o&&e.childNodes){o=[],s={};for(let t=0,n=e.childNodes.length;t<n;++t){const n=e.childNodes[t];if(1===n.nodeType){const e=n.nodeName.split(":").pop();if(!o.includes(e)){let t="",r=0;const i=n.namespaceURI;for(const e in s){if(s[e]===i){t=e;break}++r}t||(t=a+r,s[t]=i),o.push(t+":"+e)}}}"featureMember"!=n&&(i.featureType=o,i.featureNS=s)}if("string"==typeof s){const e=s;s={},s[l]=e}const c={},u=Array.isArray(o)?o:[o];for(const e in s){const t={};for(let r=0,i=u.length;r<i;++r){(u[r].includes(":")?u[r].split(":")[0]:l)===e&&(t[u[r].split(":").pop()]="featureMembers"==n?xG(this.readFeatureElement,this):SG(this.readFeatureElement,this))}c[s[e]]=t}r=AG("featureMember"==n||"member"==n?void 0:[],c,e,t)}return null===r&&(r=[]),r}readGeometryOrExtent(e,t){const n=t[0];return n.srsName=e.firstElementChild.getAttribute("srsName"),n.srsDimension=e.firstElementChild.getAttribute("srsDimension"),AG(null,this.GEOMETRY_PARSERS,e,t,this)}readExtentElement(e,t){const n=t[0],r=this.readGeometryOrExtent(e,t);return r?sG(r,n):void 0}readGeometryElement(e,t){const n=t[0],r=this.readGeometryOrExtent(e,t);return r?oG(r,!1,n):void 0}readFeatureElementInternal(e,t,n){let r;const i={};for(let o=e.firstElementChild;o;o=o.nextElementSibling){let e;const s=o.localName;0===o.childNodes.length||1===o.childNodes.length&&(3===o.firstChild.nodeType||4===o.firstChild.nodeType)?(e=_G(o,!1),aQ.test(e)&&(e=void 0)):(n&&(e="boundedBy"===s?this.readExtentElement(o,t):this.readGeometryElement(o,t)),e?"boundedBy"!==s&&(r=s):e=this.readFeatureElementInternal(o,t,!1));const a=o.attributes.length;if(a>0&&!(e instanceof SR)){e={_content_:e};for(let t=0;t<a;t++){e[o.attributes[t].name]=o.attributes[t].value}}i[s]?(i[s]instanceof Array||(i[s]=[i[s]]),i[s].push(e)):i[s]=e}if(!n)return i;const o=new AP(i);r&&o.setGeometryName(r);const s=e.getAttribute("fid")||function(e,t,n){return e.getAttributeNS(t,n)||""}(e,this.namespace,"id");return s&&o.setId(s),o}readFeatureElement(e,t){return this.readFeatureElementInternal(e,t,!0)}readPoint(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new $R(n,"XYZ")}readMultiPoint(e,t){const n=AG([],this.MULTIPOINT_PARSERS,e,t,this);if(n)return new ej(n)}readMultiLineString(e,t){const n=AG([],this.MULTILINESTRING_PARSERS,e,t,this);if(n)return new JY(n)}readMultiPolygon(e,t){const n=AG([],this.MULTIPOLYGON_PARSERS,e,t,this);if(n)return new nj(n)}pointMemberParser(e,t){$G(this.POINTMEMBER_PARSERS,e,t,this)}lineStringMemberParser(e,t){$G(this.LINESTRINGMEMBER_PARSERS,e,t,this)}polygonMemberParser(e,t){$G(this.POLYGONMEMBER_PARSERS,e,t,this)}readLineString(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n){return new oO(n,"XYZ")}}readFlatLinearRing(e,t){const n=AG(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);if(n)return n}readLinearRing(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new YN(n,"XYZ")}readPolygon(e,t){const n=AG([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this);if(n&&n[0]){const e=n[0],t=[e.length];let r,i;for(r=1,i=n.length;r<i;++r)Qt(e,n[r]),t.push(e.length);return new KN(e,"XYZ",t)}}readFlatCoordinatesFromNode(e,t){return AG(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}readGeometryFromNode(e,t){const n=this.readGeometryElement(e,[this.getReadOptions(e,t||{})]);return n||null}readFeaturesFromNode(e,t){const n={featureType:this.featureType,featureNS:this.featureNS};n&&Object.assign(n,this.getReadOptions(e,t));return this.readFeaturesInternal(e,[n])||[]}readProjectionFromNode(e){return NA(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))}}lQ.prototype.namespace=sQ,lQ.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},lQ.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},lQ.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},lQ.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:xG(lQ.prototype.pointMemberParser),pointMembers:xG(lQ.prototype.pointMemberParser)}},lQ.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:xG(lQ.prototype.lineStringMemberParser),lineStringMembers:xG(lQ.prototype.lineStringMemberParser)}},lQ.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:xG(lQ.prototype.polygonMemberParser),polygonMembers:xG(lQ.prototype.polygonMemberParser)}},lQ.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:xG(lQ.prototype.readFlatCoordinatesFromNode)}},lQ.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:xG(lQ.prototype.readLineString)}},lQ.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:xG(lQ.prototype.readPolygon)}},lQ.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:SG(lQ.prototype.readFlatLinearRing)}};const cQ=lQ,uQ=sQ+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",hQ={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class dQ extends cQ{constructor(e){super(e=e||{}),this.FEATURE_COLLECTION_PARSERS[sQ].featureMember=xG(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:uQ}readFlatCoordinates(e,t){const n=_G(e,!1).replace(/^\s*|\s*$/g,""),r=t[0].srsName;let i="enu";if(r){const e=NA(r);e&&(i=e.getAxisOrientation())}const o=n.trim().split(/\s+/),s=[];for(let e=0,t=o.length;e<t;e++){const t=o[e].split(/,+/),n=parseFloat(t[0]),r=parseFloat(t[1]),a=3===t.length?parseFloat(t[2]):0;i.startsWith("en")?s.push(n,r,a):s.push(r,n,a)}return s}readBox(e,t){const n=AG([null],this.BOX_PARSERS_,e,t,this);return XP(n[1][0],n[1][1],n[1][3],n[1][4])}innerBoundaryIsParser(e,t){const n=AG(void 0,this.RING_PARSERS,e,t,this);if(n){t[t.length-1].push(n)}}outerBoundaryIsParser(e,t){const n=AG(void 0,this.RING_PARSERS,e,t,this);if(n){t[t.length-1][0]=n}}GEOMETRY_NODE_FACTORY_(e,t,n){const r=t[t.length-1],i=r.multiSurface,o=r.surface,s=r.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===o?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve"),gG("http://www.opengis.net/gml",n)}writeFeatureElement(e,t,n){const r=t.getId();r&&e.setAttribute("fid",r);const i=n[n.length-1],o=i.featureNS,s=t.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const a=[],l=[];if(t.hasProperties()){const e=t.getProperties();for(const t in e){const n=e[t];null!=n&&(a.push(t),l.push(n),t==s||"function"==typeof n.getSimplifiedGeometry?t in i.serializers[o]||(i.serializers[o][t]=TG(this.writeGeometryElement,this)):t in i.serializers[o]||(i.serializers[o][t]=TG(tW)))}}const c=Object.assign({},i);c.node=e,OG(c,i.serializers,LG(void 0,o),l,n,a)}writeCurveOrLineString(e,t,n){const r=n[n.length-1].srsName;if("LineStringSegment"!==e.nodeName&&r&&e.setAttribute("srsName",r),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){const r=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(r),this.writeCoordinates_(r,t,n)}else if("Curve"===e.nodeName){const r=gG(e.namespaceURI,"segments");e.appendChild(r),this.writeCurveSegments_(r,t,n)}}writeLineStringOrCurveMember(e,t,n){const r=this.GEOMETRY_NODE_FACTORY_(t,n);r&&(e.appendChild(r),this.writeCurveOrLineString(r,t,n))}writeMultiCurveOrLineString(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.curve;o&&e.setAttribute("srsName",o);const a=t.getLineStrings();OG({node:e,hasZ:i,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeGeometryElement(e,t,n){const r=n[n.length-1],i=Object.assign({},r);let o;i.node=e,o=Array.isArray(t)?sG(t,r):oG(t,!0,r),OG(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],n,void 0,this)}createCoordinatesNode_(e){const t=gG(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}writeCoordinates_(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=t.getCoordinates(),a=s.length,l=new Array(a);for(let e=0;e<a;++e){const t=s[e];l[e]=this.getCoords_(t,o,i)}tW(e,l.join(" "))}writeCurveSegments_(e,t,n){const r=gG(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString(r,t,n)}writeSurfaceOrPolygon(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;if("PolygonPatch"!==e.nodeName&&o&&e.setAttribute("srsName",o),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){const r=t.getLinearRings();OG({node:e,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,r,n,void 0,this)}else if("Surface"===e.nodeName){const r=gG(e.namespaceURI,"patches");e.appendChild(r),this.writeSurfacePatches_(r,t,n)}}RING_NODE_FACTORY_(e,t,n){const r=t[t.length-1],i=r.node,o=r.exteriorWritten;return void 0===o&&(r.exteriorWritten=!0),gG(i.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,t,n){const r=gG(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon(r,t,n)}writeRing(e,t,n){const r=gG(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing(r,t,n)}getCoords_(e,t,n){let r=(t?NA(t).getAxisOrientation():"enu").startsWith("en")?e[0]+","+e[1]:e[1]+","+e[0];if(n){r+=","+(e[2]||0)}return r}writePoint(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;o&&e.setAttribute("srsName",o);const s=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(s);const a=t.getCoordinates();tW(s,this.getCoords_(a,o,i))}writeMultiPoint(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;o&&e.setAttribute("srsName",o);const s=t.getPoints();OG({node:e,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS,LG("pointMember"),s,n,void 0,this)}writePointMember(e,t,n){const r=gG(e.namespaceURI,"Point");e.appendChild(r),this.writePoint(r,t,n)}writeLinearRing(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(i),this.writeCoordinates_(i,t,n)}writeMultiSurfaceOrPolygon(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.surface;o&&e.setAttribute("srsName",o);const a=t.getPolygons();OG({node:e,hasZ:i,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeSurfaceOrPolygonMember(e,t,n){const r=this.GEOMETRY_NODE_FACTORY_(t,n);r&&(e.appendChild(r),this.writeSurfaceOrPolygon(r,t,n))}writeEnvelope(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=[t[0]+" "+t[1],t[2]+" "+t[3]];OG({node:e},this.ENVELOPE_SERIALIZERS,CG,i,n,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const r=t[t.length-1].node;return gG("http://www.opengis.net/gml",hQ[r.nodeName])}}dQ.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:SG(dQ.prototype.readFlatCoordinates)}},dQ.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:dQ.prototype.innerBoundaryIsParser,outerBoundaryIs:dQ.prototype.outerBoundaryIsParser}},dQ.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:xG(dQ.prototype.readFlatCoordinates)}},dQ.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:SG(cQ.prototype.readPoint),MultiPoint:SG(cQ.prototype.readMultiPoint),LineString:SG(cQ.prototype.readLineString),MultiLineString:SG(cQ.prototype.readMultiLineString),LinearRing:SG(cQ.prototype.readLinearRing),Polygon:SG(cQ.prototype.readPolygon),MultiPolygon:SG(cQ.prototype.readMultiPolygon),Box:SG(dQ.prototype.readBox)}},dQ.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:TG(dQ.prototype.writeCurveOrLineString),MultiCurve:TG(dQ.prototype.writeMultiCurveOrLineString),Point:TG(dQ.prototype.writePoint),MultiPoint:TG(dQ.prototype.writeMultiPoint),LineString:TG(dQ.prototype.writeCurveOrLineString),MultiLineString:TG(dQ.prototype.writeMultiCurveOrLineString),LinearRing:TG(dQ.prototype.writeLinearRing),Polygon:TG(dQ.prototype.writeSurfaceOrPolygon),MultiPolygon:TG(dQ.prototype.writeMultiSurfaceOrPolygon),Surface:TG(dQ.prototype.writeSurfaceOrPolygon),MultiSurface:TG(dQ.prototype.writeMultiSurfaceOrPolygon),Envelope:TG(dQ.prototype.writeEnvelope)}},dQ.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:TG(dQ.prototype.writeLineStringOrCurveMember),curveMember:TG(dQ.prototype.writeLineStringOrCurveMember)}},dQ.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:TG(dQ.prototype.writeRing),innerBoundaryIs:TG(dQ.prototype.writeRing)}},dQ.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:TG(dQ.prototype.writePointMember)}},dQ.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:TG(dQ.prototype.writeSurfaceOrPolygonMember),polygonMember:TG(dQ.prototype.writeSurfaceOrPolygonMember)}},dQ.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:TG(tW),upperCorner:TG(tW)}};const fQ=dQ,pQ=sQ+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",mQ={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class gQ extends cQ{constructor(e){super(e=e||{}),this.surface_=void 0!==e.surface&&e.surface,this.curve_=void 0!==e.curve&&e.curve,this.multiCurve_=void 0===e.multiCurve||e.multiCurve,this.multiSurface_=void 0===e.multiSurface||e.multiSurface,this.schemaLocation=e.schemaLocation?e.schemaLocation:pQ,this.hasZ=void 0!==e.hasZ&&e.hasZ}readMultiCurve(e,t){const n=AG([],this.MULTICURVE_PARSERS,e,t,this);if(n){return new JY(n)}}readFlatCurveRing(e,t){const n=AG([],this.MULTICURVE_PARSERS,e,t,this),r=[];for(let e=0,t=n.length;e<t;++e)Qt(r,n[e].getFlatCoordinates());return r}readMultiSurface(e,t){const n=AG([],this.MULTISURFACE_PARSERS,e,t,this);if(n)return new nj(n)}curveMemberParser(e,t){$G(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){$G(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return AG([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return AG([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return AG([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return AG([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){const n=AG(void 0,this.RING_PARSERS,e,t,this);if(n){t[t.length-1].push(n)}}exteriorParser(e,t){const n=AG(void 0,this.RING_PARSERS,e,t,this);if(n){t[t.length-1][0]=n}}readSurface(e,t){const n=AG([null],this.SURFACE_PARSERS,e,t,this);if(n&&n[0]){const e=n[0],t=[e.length];let r,i;for(r=1,i=n.length;r<i;++r)Qt(e,n[r]),t.push(e.length);return new KN(e,"XYZ",t)}}readCurve(e,t){const n=AG([null],this.CURVE_PARSERS,e,t,this);if(n){return new oO(n,"XYZ")}}readEnvelope(e,t){const n=AG([null],this.ENVELOPE_PARSERS,e,t,this);return XP(n[1][0],n[1][1],n[2][0],n[2][1])}readFlatPos(e,t){let n=_G(e,!1);const r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];let o;for(;o=r.exec(n);)i.push(parseFloat(o[1])),n=n.substr(o[0].length);if(""!==n)return;const s=t[0].srsName;if("neu"===(s?NA(s).getAxisOrientation():"enu"))for(let e=0,t=i.length;e<t;e+=3){const t=i[e],n=i[e+1];i[e]=n,i[e+1]=t}const a=i.length;return 2==a&&i.push(0),0!==a?i:void 0}readFlatPosList(e,t){const n=_G(e,!1).replace(/^\s*|\s*$/g,""),r=t[0],i=r.srsName,o=r.srsDimension,s=i?NA(i).getAxisOrientation():"enu",a=n.split(/\s+/);let l=2;e.getAttribute("srsDimension")?l=BG(e.getAttribute("srsDimension")):e.getAttribute("dimension")?l=BG(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?l=BG(e.parentNode.getAttribute("srsDimension")):o&&(l=BG(o));const c=s.startsWith("en");let u,h,d;const f=[];for(let e=0,t=a.length;e<t;e+=l)u=parseFloat(a[e]),h=parseFloat(a[e+1]),d=3===l?parseFloat(a[e+2]):0,c?f.push(u,h,d):f.push(h,u,d);return f}writePos_(e,t,n){const r=n[n.length-1],i=r.hasZ,o=i?"3":"2";e.setAttribute("srsDimension",o);const s=r.srsName,a=s?NA(s).getAxisOrientation():"enu",l=t.getCoordinates();let c=a.startsWith("en")?l[0]+" "+l[1]:l[1]+" "+l[0];if(i){c+=" "+(l[2]||0)}tW(e,c)}getCoords_(e,t,n){let r=(t?NA(t).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];if(n){r+=" "+(e[2]||0)}return r}writePosList_(e,t,n){const r=n[n.length-1],i=r.hasZ,o=i?"3":"2";e.setAttribute("srsDimension",o);const s=r.srsName,a=t.getCoordinates(),l=a.length,c=new Array(l);let u;for(let e=0;e<l;++e)u=a[e],c[e]=this.getCoords_(u,s,i);tW(e,c.join(" "))}writePoint(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=gG(e.namespaceURI,"pos");e.appendChild(i),this.writePos_(i,t,n)}writeEnvelope(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=[t[0]+" "+t[1],t[2]+" "+t[3]];OG({node:e},this.ENVELOPE_SERIALIZERS,CG,i,n,["lowerCorner","upperCorner"],this)}writeLinearRing(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=gG(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,t,n)}RING_NODE_FACTORY_(e,t,n){const r=t[t.length-1],i=r.node,o=r.exteriorWritten;return void 0===o&&(r.exteriorWritten=!0),gG(i.namespaceURI,void 0!==o?"interior":"exterior")}writeSurfaceOrPolygon(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;if("PolygonPatch"!==e.nodeName&&o&&e.setAttribute("srsName",o),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){const r=t.getLinearRings();OG({node:e,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,r,n,void 0,this)}else if("Surface"===e.nodeName){const r=gG(e.namespaceURI,"patches");e.appendChild(r),this.writeSurfacePatches_(r,t,n)}}writeCurveOrLineString(e,t,n){const r=n[n.length-1].srsName;if("LineStringSegment"!==e.nodeName&&r&&e.setAttribute("srsName",r),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){const r=gG(e.namespaceURI,"posList");e.appendChild(r),this.writePosList_(r,t,n)}else if("Curve"===e.nodeName){const r=gG(e.namespaceURI,"segments");e.appendChild(r),this.writeCurveSegments_(r,t,n)}}writeMultiSurfaceOrPolygon(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.surface;o&&e.setAttribute("srsName",o);const a=t.getPolygons();OG({node:e,hasZ:i,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeMultiPoint(e,t,n){const r=n[n.length-1],i=r.srsName,o=r.hasZ;i&&e.setAttribute("srsName",i);const s=t.getPoints();OG({node:e,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS,LG("pointMember"),s,n,void 0,this)}writeMultiCurveOrLineString(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.curve;o&&e.setAttribute("srsName",o);const a=t.getLineStrings();OG({node:e,hasZ:i,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeRing(e,t,n){const r=gG(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing(r,t,n)}writeSurfaceOrPolygonMember(e,t,n){const r=this.GEOMETRY_NODE_FACTORY_(t,n);r&&(e.appendChild(r),this.writeSurfaceOrPolygon(r,t,n))}writePointMember(e,t,n){const r=gG(e.namespaceURI,"Point");e.appendChild(r),this.writePoint(r,t,n)}writeLineStringOrCurveMember(e,t,n){const r=this.GEOMETRY_NODE_FACTORY_(t,n);r&&(e.appendChild(r),this.writeCurveOrLineString(r,t,n))}writeSurfacePatches_(e,t,n){const r=gG(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon(r,t,n)}writeCurveSegments_(e,t,n){const r=gG(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString(r,t,n)}writeGeometryElement(e,t,n){const r=n[n.length-1],i=Object.assign({},r);let o;i.node=e,o=Array.isArray(t)?sG(t,r):oG(t,!0,r),OG(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],n,void 0,this)}writeFeatureElement(e,t,n){const r=t.getId();r&&e.setAttribute("fid",r);const i=n[n.length-1],o=i.featureNS,s=t.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const a=[],l=[];if(t.hasProperties()){const e=t.getProperties();for(const t in e){const n=e[t];null!=n&&(a.push(t),l.push(n),t==s||"function"==typeof n.getSimplifiedGeometry?t in i.serializers[o]||(i.serializers[o][t]=TG(this.writeGeometryElement,this)):t in i.serializers[o]||(i.serializers[o][t]=TG(tW)))}}const c=Object.assign({},i);c.node=e,OG(c,i.serializers,LG(void 0,o),l,n,a)}writeFeatureMembers_(e,t,n){const r=n[n.length-1],i=r.featureType,o=r.featureNS,s={};s[o]={},s[o][i]=TG(this.writeFeatureElement,this);const a=Object.assign({},r);a.node=e,OG(a,s,LG(i,o),t,n)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const r=t[t.length-1].node;return gG(this.namespace,mQ[r.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,n){const r=t[t.length-1],i=r.multiSurface,o=r.surface,s=r.curve,a=r.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===o?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===a&&(n="MultiCurve"),gG(this.namespace,n)}writeGeometryNode(e,t){t=this.adaptOptions(t);const n=gG(this.namespace,"geom"),r={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(r,t),this.writeGeometryElement(n,e,[r]),n}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=gG(this.namespace,"featureMembers");n.setAttributeNS(mG,"xsi:schemaLocation",this.schemaLocation);const r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(r,t),this.writeFeatureMembers_(n,e,[r]),n}}gQ.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:SG(gQ.prototype.readFlatPos),posList:SG(gQ.prototype.readFlatPosList),coordinates:SG(fQ.prototype.readFlatCoordinates)}},gQ.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:gQ.prototype.interiorParser,exterior:gQ.prototype.exteriorParser}},gQ.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:SG(cQ.prototype.readPoint),MultiPoint:SG(cQ.prototype.readMultiPoint),LineString:SG(cQ.prototype.readLineString),MultiLineString:SG(cQ.prototype.readMultiLineString),LinearRing:SG(cQ.prototype.readLinearRing),Polygon:SG(cQ.prototype.readPolygon),MultiPolygon:SG(cQ.prototype.readMultiPolygon),Surface:SG(gQ.prototype.readSurface),MultiSurface:SG(gQ.prototype.readMultiSurface),Curve:SG(gQ.prototype.readCurve),MultiCurve:SG(gQ.prototype.readMultiCurve),Envelope:SG(gQ.prototype.readEnvelope)}},gQ.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:xG(gQ.prototype.curveMemberParser),curveMembers:xG(gQ.prototype.curveMemberParser)}},gQ.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:xG(gQ.prototype.surfaceMemberParser),surfaceMembers:xG(gQ.prototype.surfaceMemberParser)}},gQ.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:xG(cQ.prototype.readLineString),Curve:xG(gQ.prototype.readCurve)}},gQ.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:xG(cQ.prototype.readPolygon),Surface:xG(gQ.prototype.readSurface)}},gQ.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:SG(gQ.prototype.readPatch)}},gQ.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:SG(gQ.prototype.readSegment)}},gQ.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:xG(gQ.prototype.readFlatPosList),upperCorner:xG(gQ.prototype.readFlatPosList)}},gQ.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:SG(gQ.prototype.readPolygonPatch)}},gQ.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:wG(gQ.prototype.readLineStringSegment)}},cQ.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:SG(cQ.prototype.readFlatLinearRing),Ring:SG(gQ.prototype.readFlatCurveRing)}},gQ.prototype.writeFeatures,gQ.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:TG(gQ.prototype.writeRing),interior:TG(gQ.prototype.writeRing)}},gQ.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:TG(tW),upperCorner:TG(tW)}},gQ.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:TG(gQ.prototype.writeSurfaceOrPolygonMember),polygonMember:TG(gQ.prototype.writeSurfaceOrPolygonMember)}},gQ.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:TG(gQ.prototype.writePointMember)}},gQ.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:TG(gQ.prototype.writeLineStringOrCurveMember),curveMember:TG(gQ.prototype.writeLineStringOrCurveMember)}},gQ.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:TG(gQ.prototype.writeCurveOrLineString),MultiCurve:TG(gQ.prototype.writeMultiCurveOrLineString),Point:TG(gQ.prototype.writePoint),MultiPoint:TG(gQ.prototype.writeMultiPoint),LineString:TG(gQ.prototype.writeCurveOrLineString),MultiLineString:TG(gQ.prototype.writeMultiCurveOrLineString),LinearRing:TG(gQ.prototype.writeLinearRing),Polygon:TG(gQ.prototype.writeSurfaceOrPolygon),MultiPolygon:TG(gQ.prototype.writeMultiSurfaceOrPolygon),Surface:TG(gQ.prototype.writeSurfaceOrPolygon),MultiSurface:TG(gQ.prototype.writeMultiSurfaceOrPolygon),Envelope:TG(gQ.prototype.writeEnvelope)}};const _Q=gQ;class yQ extends _Q{constructor(e){super(e=e||{}),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(e,t,n){const r=n[n.length-1];n[n.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},r),super.writeGeometryElement(e,t,n)}}yQ.prototype.namespace="http://www.opengis.net/gml/3.2",yQ.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:SG(_Q.prototype.readFlatPos),posList:SG(_Q.prototype.readFlatPosList),coordinates:SG(fQ.prototype.readFlatCoordinates)}},yQ.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:_Q.prototype.interiorParser,exterior:_Q.prototype.exteriorParser}},yQ.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:SG(cQ.prototype.readPoint),MultiPoint:SG(cQ.prototype.readMultiPoint),LineString:SG(cQ.prototype.readLineString),MultiLineString:SG(cQ.prototype.readMultiLineString),LinearRing:SG(cQ.prototype.readLinearRing),Polygon:SG(cQ.prototype.readPolygon),MultiPolygon:SG(cQ.prototype.readMultiPolygon),Surface:SG(yQ.prototype.readSurface),MultiSurface:SG(_Q.prototype.readMultiSurface),Curve:SG(yQ.prototype.readCurve),MultiCurve:SG(_Q.prototype.readMultiCurve),Envelope:SG(yQ.prototype.readEnvelope)}},yQ.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:xG(_Q.prototype.curveMemberParser),curveMembers:xG(_Q.prototype.curveMemberParser)}},yQ.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:xG(_Q.prototype.surfaceMemberParser),surfaceMembers:xG(_Q.prototype.surfaceMemberParser)}},yQ.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:xG(cQ.prototype.readLineString),Curve:xG(_Q.prototype.readCurve)}},yQ.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:xG(cQ.prototype.readPolygon),Surface:xG(_Q.prototype.readSurface)}},yQ.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:SG(_Q.prototype.readPatch)}},yQ.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:SG(_Q.prototype.readSegment)}},yQ.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:xG(_Q.prototype.readFlatPosList),upperCorner:xG(_Q.prototype.readFlatPosList)}},yQ.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:SG(_Q.prototype.readPolygonPatch)}},yQ.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:wG(_Q.prototype.readLineStringSegment)}},yQ.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:xG(cQ.prototype.pointMemberParser),pointMembers:xG(cQ.prototype.pointMemberParser)}},yQ.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:xG(cQ.prototype.lineStringMemberParser),lineStringMembers:xG(cQ.prototype.lineStringMemberParser)}},yQ.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:xG(cQ.prototype.polygonMemberParser),polygonMembers:xG(cQ.prototype.polygonMemberParser)}},yQ.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:xG(cQ.prototype.readFlatCoordinatesFromNode)}},yQ.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:xG(cQ.prototype.readLineString)}},yQ.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:xG(cQ.prototype.readPolygon)}},yQ.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:SG(cQ.prototype.readFlatLinearRing),Ring:SG(yQ.prototype.readFlatCurveRing)}},yQ.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:TG(_Q.prototype.writeRing),interior:TG(_Q.prototype.writeRing)}},yQ.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:TG(tW),upperCorner:TG(tW)}},yQ.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:TG(_Q.prototype.writeSurfaceOrPolygonMember),polygonMember:TG(_Q.prototype.writeSurfaceOrPolygonMember)}},yQ.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:TG(_Q.prototype.writePointMember)}},yQ.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:TG(_Q.prototype.writeLineStringOrCurveMember),curveMember:TG(_Q.prototype.writeLineStringOrCurveMember)}},yQ.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:TG(_Q.prototype.writeCurveOrLineString),MultiCurve:TG(_Q.prototype.writeMultiCurveOrLineString),Point:TG(yQ.prototype.writePoint),MultiPoint:TG(_Q.prototype.writeMultiPoint),LineString:TG(_Q.prototype.writeCurveOrLineString),MultiLineString:TG(_Q.prototype.writeMultiCurveOrLineString),LinearRing:TG(_Q.prototype.writeLinearRing),Polygon:TG(_Q.prototype.writeSurfaceOrPolygon),MultiPolygon:TG(_Q.prototype.writeMultiSurfaceOrPolygon),Surface:TG(_Q.prototype.writeSurfaceOrPolygon),MultiSurface:TG(_Q.prototype.writeMultiSurfaceOrPolygon),Envelope:TG(_Q.prototype.writeEnvelope)}};const bQ=yQ;const vQ=class{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}};const wQ=class extends vQ{constructor(e,t){super(e),this.conditions=t,Oe(this.conditions.length>=2,"At least 2 conditions are required")}};const xQ=class extends wQ{constructor(e){super("And",Array.prototype.slice.call(arguments))}};const SQ=class extends vQ{constructor(e,t,n){if(super("BBOX"),this.geometryName=e,this.extent=t,4!==t.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=n}};const MQ=class extends vQ{constructor(e,t,n,r){super(e),this.geometryName=t||"the_geom",this.geometry=n,this.srsName=r}};const kQ=class extends MQ{constructor(e,t,n){super("Contains",e,t,n)}};const TQ=class extends vQ{constructor(e,t){super(e),this.propertyName=t}};const EQ=class extends TQ{constructor(e,t,n){super("During",e),this.begin=t,this.end=n}};const LQ=class extends TQ{constructor(e,t,n,r){super(e,t),this.expression=n,this.matchCase=r}};const CQ=class extends LQ{constructor(e,t,n){super("PropertyIsEqualTo",e,t,n)}};const DQ=class extends LQ{constructor(e,t){super("PropertyIsGreaterThan",e,t)}};const PQ=class extends LQ{constructor(e,t){super("PropertyIsGreaterThanOrEqualTo",e,t)}};const $Q=class extends MQ{constructor(e,t,n){super("Intersects",e,t,n)}};const AQ=class extends TQ{constructor(e,t,n){super("PropertyIsBetween",e),this.lowerBoundary=t,this.upperBoundary=n}};const RQ=class extends TQ{constructor(e,t,n,r,i,o){super("PropertyIsLike",e),this.pattern=t,this.wildCard=void 0!==n?n:"*",this.singleChar=void 0!==r?r:".",this.escapeChar=void 0!==i?i:"!",this.matchCase=o}};const OQ=class extends LQ{constructor(e,t){super("PropertyIsLessThan",e,t)}};const IQ=class extends LQ{constructor(e,t){super("PropertyIsLessThanOrEqualTo",e,t)}};const FQ=class extends vQ{constructor(e){super("Not"),this.condition=e}};const NQ=class extends LQ{constructor(e,t,n){super("PropertyIsNotEqualTo",e,t,n)}};const YQ=class extends wQ{constructor(e){super("Or",Array.prototype.slice.call(arguments))}};const jQ=class extends MQ{constructor(e,t,n){super("Within",e,t,n)}};function HQ(e){const t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(xQ,t))}function UQ(e){const t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(YQ,t))}function zQ(e,t,n){return new $Q(e,t,n)}function GQ(e,t,n){return new CQ(e,t,n)}function WQ(e,t,n){return new EQ(e,t,n)}const qQ={"http://www.opengis.net/gml":{boundedBy:kG(cQ.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:xG(cQ.prototype.readFeaturesInternal)}},BQ={"http://www.opengis.net/wfs":{totalInserted:kG(qG),totalUpdated:kG(qG),totalDeleted:kG(qG)},"http://www.opengis.net/wfs/2.0":{totalInserted:kG(qG),totalUpdated:kG(qG),totalDeleted:kG(qG)}},VQ={"http://www.opengis.net/wfs":{TransactionSummary:kG(o0,"transactionSummary"),InsertResults:kG(c0,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:kG(o0,"transactionSummary"),InsertResults:kG(c0,"insertIds")}},XQ={"http://www.opengis.net/wfs":{PropertyName:TG(tW)},"http://www.opengis.net/wfs/2.0":{PropertyName:TG(tW)}},KQ={"http://www.opengis.net/wfs":{Insert:TG(u0),Update:TG(p0),Delete:TG(f0),Property:TG(m0),Native:TG(g0)},"http://www.opengis.net/wfs/2.0":{Insert:TG(u0),Update:TG(p0),Delete:TG(f0),Property:TG(m0),Native:TG(g0)}},ZQ="feature",JQ="http://www.w3.org/2000/xmlns/",QQ={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},e0={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},t0={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},n0={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},r0={"2.0.0":bQ,"1.1.0":_Q,"1.0.0":fQ};function i0(e,t,n,r){OG(r,KQ,LG(e),t,n)}function o0(e,t){return AG({},BQ,e,t)}const s0={"http://www.opengis.net/ogc":{FeatureId:xG(function(e,t){return e.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:xG(function(e,t){return e.getAttribute("fid")})}};function a0(e,t){$G(s0,e,t)}const l0={"http://www.opengis.net/wfs":{Feature:a0},"http://www.opengis.net/wfs/2.0":{Feature:a0}};function c0(e,t){return AG([],l0,e,t)}function u0(e,t,n){const r=n[n.length-1],i=r.featureType,o=r.featureNS,s=r.gmlVersion,a=gG(o,i);e.appendChild(a),2===s?fQ.prototype.writeFeatureElement(a,t,n):3===s?_Q.prototype.writeFeatureElement(a,t,n):bQ.prototype.writeFeatureElement(a,t,n)}function h0(e,t,n){const r=n[n.length-1].version,i=QQ[r],o=gG(i,"Filter"),s=gG(i,"FeatureId");o.appendChild(s),s.setAttribute("fid",t),e.appendChild(o)}function d0(e,t){const n=(e=e||ZQ)+":";return t.startsWith(n)?t:n+t}function f0(e,t,n){const r=n[n.length-1];Oe(void 0!==t.getId(),"Features must have an id set");const i=r.featureType,o=r.featurePrefix,s=r.featureNS,a=d0(o,i);e.setAttribute("typeName",a),e.setAttributeNS(JQ,"xmlns:"+o,s);const l=t.getId();void 0!==l&&h0(e,l,n)}function p0(e,t,n){const r=n[n.length-1];Oe(void 0!==t.getId(),"Features must have an id set");const i=r.version,o=r.featureType,s=r.featurePrefix,a=r.featureNS,l=d0(s,o),c=t.getGeometryName();e.setAttribute("typeName",l),e.setAttributeNS(JQ,"xmlns:"+s,a);const u=t.getId();if(void 0!==u){const o=t.getKeys(),s=[];for(let e=0,n=o.length;e<n;e++){const n=t.get(o[e]);if(void 0!==n){let t=o[e];n&&"function"==typeof n.getSimplifiedGeometry&&(t=c),s.push({name:t,value:n})}}OG({version:i,gmlVersion:r.gmlVersion,node:e,hasZ:r.hasZ,srsName:r.srsName},KQ,LG("Property"),s,n),h0(e,u,n)}}function m0(e,t,n){const r=n[n.length-1],i=r.version,o=e0[i],s=gG(o,"2.0.0"===i?"ValueReference":"Name"),a=r.gmlVersion;if(e.appendChild(s),tW(s,t.name),void 0!==t.value&&null!==t.value){const r=gG(o,"Value");e.appendChild(r),t.value&&"function"==typeof t.value.getSimplifiedGeometry?2===a?fQ.prototype.writeGeometryElement(r,t.value,n):3===a?_Q.prototype.writeGeometryElement(r,t.value,n):bQ.prototype.writeGeometryElement(r,t.value,n):tW(r,t.value)}}function g0(e,t,n){t.vendorId&&e.setAttribute("vendorId",t.vendorId),void 0!==t.safeToIgnore&&e.setAttribute("safeToIgnore",String(t.safeToIgnore)),void 0!==t.value&&tW(e,t.value)}const _0={"http://www.opengis.net/wfs":{Query:TG(y0)},"http://www.opengis.net/wfs/2.0":{Query:TG(y0)},"http://www.opengis.net/ogc":{During:TG(S0),And:TG(M0),Or:TG(M0),Not:TG(k0),BBOX:TG(v0),Contains:TG(w0),Intersects:TG(w0),Within:TG(w0),DWithin:TG(x0),PropertyIsEqualTo:TG(T0),PropertyIsNotEqualTo:TG(T0),PropertyIsLessThan:TG(T0),PropertyIsLessThanOrEqualTo:TG(T0),PropertyIsGreaterThan:TG(T0),PropertyIsGreaterThanOrEqualTo:TG(T0),PropertyIsNull:TG(E0),PropertyIsBetween:TG(L0),PropertyIsLike:TG(C0)},"http://www.opengis.net/fes/2.0":{During:TG(S0),And:TG(M0),Or:TG(M0),Not:TG(k0),BBOX:TG(v0),Contains:TG(w0),Disjoint:TG(w0),Intersects:TG(w0),ResourceId:TG(function(e,t,n){e.setAttribute("rid",t.rid)}),Within:TG(w0),DWithin:TG(x0),PropertyIsEqualTo:TG(T0),PropertyIsNotEqualTo:TG(T0),PropertyIsLessThan:TG(T0),PropertyIsLessThanOrEqualTo:TG(T0),PropertyIsGreaterThan:TG(T0),PropertyIsGreaterThanOrEqualTo:TG(T0),PropertyIsNull:TG(E0),PropertyIsBetween:TG(L0),PropertyIsLike:TG(C0)}};function y0(e,t,n){const r=n[n.length-1],i=r.version,o=r.featurePrefix,s=r.featureNS,a=r.propertyNames,l=r.srsName;let c,u;c=o?d0(o,t):t,u="2.0.0"===i?"typeNames":"typeName",e.setAttribute(u,c),l&&e.setAttribute("srsName",l),s&&e.setAttributeNS(JQ,"xmlns:"+o,s);const h=Object.assign({},r);h.node=e,OG(h,XQ,LG("PropertyName"),a,n);const d=r.filter;if(d){const t=gG(O0(i),"Filter");e.appendChild(t),b0(t,d,n)}}function b0(e,t,n){const r=n[n.length-1],i={node:e};Object.assign(i,{context:r}),OG(i,_0,LG(t.getTagName()),[t],n)}function v0(e,t,n){const r=n[n.length-1],i=r.context.version;r.srsName=t.srsName;const o=r0[i];$0(i,e,t.geometryName),o.prototype.writeGeometryElement(e,t.extent,n)}function w0(e,t,n){const r=n[n.length-1],i=r.context.version;r.srsName=t.srsName;const o=r0[i];$0(i,e,t.geometryName),o.prototype.writeGeometryElement(e,t.geometry,n)}function x0(e,t,n){const r=n[n.length-1].context.version;w0(e,t,n);const i=gG(O0(r),"Distance");tW(i,t.distance.toString()),"2.0.0"===r?i.setAttribute("uom",t.unit):i.setAttribute("units",t.unit),e.appendChild(i)}function S0(e,t,n){const r=n[n.length-1].context.version;D0(t0[r],"ValueReference",e,t.propertyName);const i=gG(sQ,"TimePeriod");e.appendChild(i);const o=gG(sQ,"begin");i.appendChild(o),A0(o,t.begin);const s=gG(sQ,"end");i.appendChild(s),A0(s,t.end)}function M0(e,t,n){const r=n[n.length-1].context,i={node:e};Object.assign(i,{context:r});const o=t.conditions;for(let e=0,t=o.length;e<t;++e){const t=o[e];OG(i,_0,LG(t.getTagName()),[t],n)}}function k0(e,t,n){const r=n[n.length-1].context,i={node:e};Object.assign(i,{context:r});const o=t.condition;OG(i,_0,LG(o.getTagName()),[o],n)}function T0(e,t,n){const r=n[n.length-1].context.version;void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),$0(r,e,t.propertyName),P0(r,e,""+t.expression)}function E0(e,t,n){$0(n[n.length-1].context.version,e,t.propertyName)}function L0(e,t,n){const r=n[n.length-1].context.version,i=O0(r);$0(r,e,t.propertyName);const o=gG(i,"LowerBoundary");e.appendChild(o),P0(r,o,""+t.lowerBoundary);const s=gG(i,"UpperBoundary");e.appendChild(s),P0(r,s,""+t.upperBoundary)}function C0(e,t,n){const r=n[n.length-1].context.version;e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),$0(r,e,t.propertyName),P0(r,e,""+t.pattern)}function D0(e,t,n,r){const i=gG(e,t);tW(i,r),n.appendChild(i)}function P0(e,t,n){D0(O0(e),"Literal",t,n)}function $0(e,t,n){"2.0.0"===e?D0(t0[e],"ValueReference",t,n):D0(QQ[e],"PropertyName",t,n)}function A0(e,t){const n=gG(sQ,"TimeInstant");e.appendChild(n);const r=gG(sQ,"timePosition");n.appendChild(r),tW(r,t)}function R0(e,t,n){const r=n[n.length-1],i=Object.assign({},r);i.node=e,OG(i,_0,LG("Query"),t,n)}function O0(e){let t;return t="2.0.0"===e?t0[e]:QQ[e],t}const I0=class extends oQ{constructor(e){super(),e=e||{},this.version_=e.version?e.version:"1.1.0",this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new r0[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:n0[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,t){const n={node:e};Object.assign(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(n,this.getReadOptions(e,t||{}));const r=[n];let i;i="2.0.0"===this.version_?qQ:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let o=AG([],i,e,r,this.gmlFormat_);return o||(o=[]),o}readTransactionResponse(e){if(e){if("string"==typeof e){const t=vG(e);return this.readTransactionResponseFromDocument(t)}return bG(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if("string"==typeof e){const t=vG(e);return this.readFeatureCollectionMetadataFromDocument(t)}return bG(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)}readFeatureCollectionMetadataFromNode(e){const t={},n=BG(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=n,AG(t,qQ,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)}readTransactionResponseFromNode(e){return AG({},VQ,e,[])}writeGetFeature(e){const t=gG(e0[this.version_],"GetFeature");t.setAttribute("service","WFS"),t.setAttribute("version",this.version_),e.handle&&t.setAttribute("handle",e.handle),e.outputFormat&&t.setAttribute("outputFormat",e.outputFormat),void 0!==e.maxFeatures&&t.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&t.setAttribute("resultType",e.resultType),void 0!==e.startIndex&&t.setAttribute("startIndex",String(e.startIndex)),void 0!==e.count&&t.setAttribute("count",String(e.count)),void 0!==e.viewParams&&t.setAttribute("viewParams",e.viewParams),t.setAttributeNS(mG,"xsi:schemaLocation",this.schemaLocation_);const n={node:t};if(Object.assign(n,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),Oe(Array.isArray(e.featureTypes),"`options.featureTypes` must be an Array"),"string"==typeof e.featureTypes[0]){let r=e.filter;e.bbox&&(Oe(e.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),r=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,r)),Object.assign(n,{geometryName:e.geometryName,filter:r}),R0(t,e.featureTypes,[n])}else e.featureTypes.forEach(r=>{const i=this.combineBboxAndFilter(r.geometryName,r.bbox,e.srsName,e.filter);Object.assign(n,{geometryName:r.geometryName,filter:i}),R0(t,[r.name],[n])});return t}combineBboxAndFilter(e,t,n,r){const i=function(e,t,n){return new SQ(e,t,n)}(e,t,n);return r?HQ(r,i):i}writeTransaction(e,t,n,r){const i=[],o=r.version?r.version:this.version_,s=gG(e0[o],"Transaction");let a;s.setAttribute("service","WFS"),s.setAttribute("version",o),r&&(a=r.gmlOptions?r.gmlOptions:{},r.handle&&s.setAttribute("handle",r.handle)),s.setAttributeNS(mG,"xsi:schemaLocation",n0[o]);const l=function(e,t,n,r){const i=r.featurePrefix?r.featurePrefix:ZQ;let o;"1.0.0"===n?o=2:"1.1.0"===n?o=3:"2.0.0"===n&&(o=3.2);const s=Object.assign({node:e},{version:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:i,gmlVersion:o,hasZ:r.hasZ,srsName:r.srsName},t);return s}(s,a,o,r);return e&&i0("Insert",e,i,l),t&&i0("Update",t,i,l),n&&i0("Delete",n,i,l),r.nativeElements&&i0("Native",r.nativeElements,i,l),s}readProjectionFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(let t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){const e=[{}];return this.gmlFormat_.readGeometryElement(t,e),NA(e.pop().srsName)}return null}};const F0=class extends oQ{constructor(e){super(),e=e||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new fQ,this.layers_=e.layers?e.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeatures_(e,t){e.setAttribute("namespaceURI",this.featureNS_);const n=e.localName;let r=[];if(0===e.childNodes.length)return r;if("msGMLOutput"==n)for(let n=0,i=e.childNodes.length;n<i;n++){const i=e.childNodes[n];if(i.nodeType!==Node.ELEMENT_NODE)continue;const o=i,s=t[0],a="_layer",l=o.localName.replace(a,"");if(this.layers_&&!this.layers_.includes(l))continue;const c=l+"_feature";s.featureType=c,s.featureNS=this.featureNS_;const u={};u[c]=xG(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const h=PG([s.featureNS,null],u);o.setAttribute("namespaceURI",this.featureNS_);const d=AG([],h,o,t,this.gmlFormat_);d&&Qt(r,d)}if("FeatureCollection"==n){const t=AG([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);t&&(r=t)}return r}readFeaturesFromNode(e,t){const n={};return t&&Object.assign(n,this.getReadOptions(e,t)),this.readFeatures_(e,[n])}},N0="arcgis",Y0="mapserver",j0="qgisserver",H0="WMS",U0="WMTS",z0="feature",G0="GML2",W0="GML3",q0="application/geojson",B0="application/geo+json",V0="application/vnd.ogc.gml",X0="geom";function K0(e){let t;return t=/(wmts)/i.test(e)?U0:H0,t}const Z0="range",J0="day",Q0="month",e1="second",t1=class extends qJ{constructor(e){let t;super(e),this.dimensionsConfig=e.dimensionsConfig||null,this.dimensionsFiltersConfig=e.dimensionsFiltersConfig||null,this.filterCondition_=e.filterCondition||BJ,this.filterRules=e.filterRules||null,this.filtrable=e.filtrable||null,this.copyable_=!0===e.copyable,this.dimensions_=e.dimensions||null,this.geometryName_=X0,this.ogcImageType_=e.ogcImageType||"image/png",this.wmsLayers_=e.wmsLayers||null,this.wfsLayers_=e.wfsLayers||null,this.ogcServerType_=e.ogcServerType||Y0,this.ogcType_=e.ogcType||H0,this.ogcAttributes_=e.ogcAttributes,this.queryIconPosition_=e.queryIconPosition,this.snappable_=!0===e.snappable,this.snappingToEdges_=!1!==e.snappingToEdges,this.snappingToVertice_=!1!==e.snappingToVertice,this.snappingTolerance_=void 0!==e.snappingTolerance?e.snappingTolerance:10,this.timeAttributeName_=e.timeAttributeName,this.timeLowerValue=e.timeLowerValue,this.timeProperty_=void 0!==e.timeProperty?e.timeProperty:null,this.timeUpperValue=e.timeUpperValue,this.wfsFeatureNS_=e.wfsFeatureNS,this.wfsFeaturePrefix_=e.wfsFeaturePrefix||z0,this.wfsOutputFormat_=e.wfsOutputFormat||W0,this.wfsUrl_=e.wfsUrl,t=e.wmsInfoFormat?e.wmsInfoFormat:this.ogcServerType_===N0?q0:V0,this.wmsInfoFormat_=t,this.wmsIsSingleTile_=!0===e.wmsIsSingleTile,this.wmsUrl_=e.wmsUrl,this.wmtsLayer_=e.wmtsLayer,this.wmtsUrl_=e.wmtsUrl,this.gmfLayer_=e.gmfLayer;const n=[],r=[];if(this.queryable){const e=this.wfsLayers||[];for(const t of e)t.queryable&&(n.push(t.name),r.push(t.name));const t=this.wmsLayers||[];for(const e of t)e.queryable&&WJ(r,e.name)}let i=null;if(this.supportsWFS&&n.length){let e;if(this.wfsOutputFormat_===W0)e=new _Q;else{if(this.wfsOutputFormat_!==G0)throw new Error("Unknown GML output version");e=new fQ}i=new I0({featureNS:this.wfsFeatureNS,featureType:n,gmlFormat:e})}this.wfsFormat_=i;let o=null;this.supportsWMS&&r.length&&(this.wmsInfoFormat===V0?o=new F0({layers:r}):this.wmsInfoFormat!==q0&&this.wmsInfoFormat!==B0||(o=new KJ({layers:r}))),this.wmsFormat_=o}get dimensions(){return this.dimensions_}get filterCondition(){return this.filterCondition_}set filterCondition(e){this.filterCondition_=e}get timeRangeValue(){let e=null;const t=this.timeLowerValue,n=this.timeUpperValue;return(t||0===t)&&(e={start:t},(n||0===n)&&(e.end=n)),e}set timeRangeValue(e){e?(this.timeUpperValue=e.end,this.timeLowerValue=e.start):(this.timeUpperValue=void 0,this.timeLowerValue=void 0)}setAttributes(e){super.setAttributes(e),this.updateGeometryNameFromAttributes_()}get copyable(){return this.copyable_}geometryName(e){let t=null;if(e&&this.ogcAttributes_){const n=this.ogcAttributes_[e];for(const e in n)if("http://www.opengis.net/gml"==n[e].namespace){t=e;break}}return t||(t=this.geometryName_),t}get ogcImageType(){return this.ogcImageType_}get wmsLayers(){return this.wmsLayers_}get wfsLayers(){return this.wfsLayers_}get ogcServerType(){return this.ogcServerType_}get ogcType(){return this.ogcType_}get queryIconPosition(){return this.queryIconPosition_}get snappable(){return this.snappable_}get snappingToEdges(){return this.snappingToEdges_}get snappingToVertice(){return this.snappingToVertice_}get snappingTolerance(){return this.snappingTolerance_}get timeAttributeName(){return this.timeAttributeName_}get timeProperty(){return this.timeProperty_}get wfsFeatureNS(){return this.wfsFeatureNS_}get wfsFeaturePrefix(){return this.wfsFeaturePrefix_}get wfsOutputFormat(){return this.wfsOutputFormat_}get wfsUrl(){return this.wfsUrl_}get wmsInfoFormat(){return this.wmsInfoFormat_}get wmsIsSingleTile(){return this.wmsIsSingleTile_}get wmsUrl(){return this.wmsUrl_}get wmtsLayer(){return this.wmtsLayer_}get wmtsUrl(){return this.wmtsUrl_}get gmfLayer(){return this.gmfLayer_}get activeDimensions(){const e={},t=this.dimensions_||{},n=this.dimensionsConfig||{};for(const r in n){const i=n[r];if(null===i){const n=t[r];null!=n&&(e[r]=n)}else e[r]=i}return e}get combinableForWFS(){return null===this.filterRules&&null===this.timeRangeValue}get combinableForWMS(){return null===this.filterRules&&null===this.timeRangeValue}get ogcAttributesWFS(){const e=[];for(const t of this.wfsLayers_)t.queryable&&e.push(t.name);return this.getCommonOGCAttributes_(e)}get ogcAttributesWMS(){const e=[];for(const t of this.wmsLayers_)t.queryable&&e.push(t.name);return this.getCommonOGCAttributes_(e)}get queryable(){let e=!1;if(this.supportsWFS&&this.wfsLayers)for(const t of this.wfsLayers)if(!0===t.queryable){e=!0;break}return this.supportsWMS&&this.wmsLayers&&this.wmsLayers.length>0&&(e=!0),e}get supportsWFS(){return void 0!==this.wfsUrl}get supportsAttributes(){return null!==this.attributes||this.supportsWFS&&null!==this.wfsLayers&&1===this.wfsLayers.length&&!0===this.wfsLayers[0].queryable}get supportsWMS(){return void 0!==this.wmsUrl}get supportsWMTS(){return void 0!==this.wmtsUrl}get wfsFormat(){return this.wfsFormat_}get wmsFormat(){return this.wmsFormat_}combinableWithDataSourceForWFS(e){return this.combinableForWFS&&e.combinableForWFS&&this.supportsWFS&&e.supportsWFS&&this.queryable&&e.queryable&&this.wfsUrl===e.wfsUrl&&this.haveTheSameActiveDimensions(e)&&this.haveTheSameActiveDimensionsFilters(e)}combinableWithDataSourceForWMS(e){return this.combinableForWMS&&e.combinableForWMS&&this.supportsWMS&&e.supportsWMS&&this.queryable&&e.queryable&&this.wmsUrl===e.wmsUrl&&this.haveTheSameActiveDimensions(e)}isAnyOGCLayerInRange(e,t=!1){return!!this.getInRangeWFSLayerNames(e,t).length}getWMSLayerNames(e=!1){const t=[];if(this.wmsLayers)for(const n of this.wmsLayers)(!e||n.queryable&&!1!==n.getData)&&t.push(n.name);return t}getInRangeWFSLayerNames(e,t=!1){const n=[];if(this.wfsLayers)for(const r of this.wfsLayers){const i=r.maxResolution,o=r.minResolution;(void 0===o||e>=o)&&(void 0===i||e<=i)&&(!t||r.queryable&&!1!==r.getData)&&n.push(r.name)}return n}getWFSLayerNames(e=!1){const t=[];if(this.wfsLayers)for(const n of this.wfsLayers)(!e||n.queryable&&!1!==n.getData)&&t.push(n.name);return t}getFiltrableWFSLayerName(){if(!this.filtrable)throw new Error("Missing filtrable");return this.getWFSLayerNames(!0)[0]}updateGeometryNameFromAttributes_(){if(this.attributes)for(const e of this.attributes)if(e.type===tQ){this.geometryName_=e.name;break}}haveTheSameActiveDimensions(e){let t=!0;const n=this.activeDimensions,r=e.activeDimensions;for(const e in n)if(n[e]!==r[e]){t=!1;break}if(t)for(const e in r)if(r[e]!==n[e]){t=!1;break}return t}haveTheSameActiveDimensionsFilters(e){const t=this.dimensionsFiltersConfig||{},n=e.dimensionsFiltersConfig||{},r=r=>{const i=t[r],o=n[r];if(void 0===i||void 0===o)return!1;if(i.field!=o.field)return!1;return(null!==i.value?i.value:this.dimensions[r])==(null!==o.value?o.value:e.dimensions[r])};for(const e in this.dimensionsFiltersConfig)if(!r(e))return!1;for(const t in e.dimensionsFiltersConfig)if(!r(t))return!1;return!0}getCommonOGCAttributes_(e){const t=this.ogcAttributes_;if(!t||!e.length)return null;const n=[];for(const r of e){const e=t[r];e&&n.push(e)}if(!n.length)return null;const r={},i=n.shift();for(const e in i){const t=i[e];let o=!0;for(const t of n)if(!t[e]){o=!1;break}o&&(r[e]=t)}return r}};function n1(e,t,n){this.$q_=e,this.$http_=t,this.tilesPreloadingLimit_=null===n?1/0:n}n1.$inject=["$q","$http","ngeoTilesPreloadingLimit"];const r1="layerNodeName",i1="dataSourceId",o1="groupName";n1.prototype.copyProperties=function(e,t,n){const r=e.getProperties();if(n){const e=n,i=Object.keys(r);for(const n of i)e.includes(n)||t.set(n,r[n])}else t.setProperties(r)},n1.prototype.createBasicWMSLayer=function(e,t,n,r,i,o,s,a,l){const c={FORMAT:n,LAYERS:t};let u;i&&(c.TIME=i),r&&(c.SERVERTYPE=r,u=r.replace(j0,"qgis"));const h=Object.assign({},a,{url:e,params:c,serverType:u,crossOrigin:s});"mapserver"!=r&&"geoserver"!=r&&"carmentaserver"!=r&&"qgis"!=r&&(h.hidpi=!1);const d=new JW(h);if(o&&d.updateParams(o),!o||!o.STYLES){c.STYLES="";let e=t.split(",").length;for(;e>1;)c.STYLES.concat(","),e--}const f=Object.assign({},l,{source:d});return new IW(f)},n1.prototype.createBasicWMSLayerFromDataSource=function(e,t){const n=e.wmsUrl;if(void 0===n)throw new Error("Missing url");const r=e.getWMSLayerNames().join(","),i=e.ogcServerType,o=e.ogcImageType,s=this.createBasicWMSLayer(n,r,o,i,void 0,void 0,t);return s.setVisible(e.visible),s.set("querySourceIds",[e.id]),s.set(i1,e.id),s},n1.prototype.fixResolution_=function(e){return e&&(e*=1.0000001),e},n1.prototype.createWMTSLayerFromCapabilitites=function(e,t,n,r,i,o,s,a){s=this.fixResolution_(s);const l=new AW,c={preload:this.tilesPreloadingLimit_,minResolution:o,maxResolution:s,className:"canvas3d"},u=SU(c),h=this.$q_;return this.$http_.get(e,{cache:!0}).then(o=>{let s;if(o.data&&(s=l.read(o.data)),s){const o=Object.assign({},i,gq(s,{matrixSet:n,crossOrigin:"anonymous",layer:t})),l=new mq(o);r&&!cn(r)&&l.updateDimensions(r),u.setSource(l);const c=s.Contents.Layer.find(e=>e.Identifier==t);return c?(u.set("capabilitiesStyles",c.Style),void 0!==a&&u.setOpacity(a),h.resolve(u)):h.reject(`Layer ${t} not available in WMTS capabilities from ${e}`)}return h.reject(`Failed to get WMTS capabilities from ${e}`)})},n1.prototype.createWMTSLayerFromCapabilititesObj=function(e,t,n){const r=gq(e,{crossOrigin:"anonymous",layer:t.Identifier,className:"canvas3d"});console.assert(r);const i=new mq(r);n&&!cn(n)&&i.updateDimensions(n);const o=SU({preload:1/0,source:i,className:"canvas3d"});return o.set("capabilitiesStyles",t.Style),o},n1.prototype.createBasicVectorTilesLayer=function(e,t,n,r,i,o,s,a){s=this.fixResolution_(s);const l=new pG,c=new jW({declutter:!0,minResolution:o,maxResolution:s,source:new fq({format:l,projection:r,tileGrid:i,url:e})});return CJ(c,t,n),void 0!==a&&c.setOpacity(a),c},n1.prototype.createBasicGroup=function(e){const t=new dz;return e&&t.setLayers(e),t},n1.prototype.getGroupFromMap=function(e,t){let n;return e.getLayerGroup().getLayers().getArray().some(e=>e.get(o1)===t&&(n=e,!0)),n||(n=this.createBasicGroup(),n.set(o1,t),e.addLayer(n)),n},n1.prototype.getFlatLayers=function(e){if(e instanceof dz){const t=e.getLayers().getArray();if(!t.some(e=>e instanceof dz))return t.slice()}return this.getFlatLayers_(e,[],void 0)},n1.prototype.getFlatLayers_=function(e,t,n){const r=e.getOpacity();if(void 0!==n?n*=r:n=r,e instanceof dz){e.getLayers().forEach(e=>{this.getFlatLayers_(e,t,n)})}else e instanceof wY&&(t.includes(e)||(e.set("inheritedOpacity",n,!0),t.push(e)));return t},n1.prototype.getLayerByNodeName=function(e,t){let n=null;return t.some(t=>{if(t.get(r1)===e)n=t;else if(t instanceof dz){const r=t.getLayers().getArray();n=this.getLayerByNodeName(e,r)}return!!n}),n},n1.prototype.getWMTSLegendURL=function(e){let t;const n=e.get("capabilitiesStyles");if(void 0!==n){const e=n[0].legendURL;void 0!==e&&(t=e[0].href)}return t},n1.prototype.getWMSLegendURL=function(e,t,n,r,i,o,s,a,l,c,u){if(!e)return;const h={FORMAT:"image/png",TRANSPARENT:!0,SERVICE:"WMS",VERSION:"1.1.1",REQUEST:"GetLegendGraphic",LAYER:t};return void 0!==n&&(h.SCALE=n),void 0!==r&&(h.RULE=r,void 0!==i&&(h.WIDTH=i),void 0!==o&&(h.HEIGHT=o)),"qgis"==s&&(null!=a&&(h.DPI=a),null!=l&&null!=c&&null!=n&&null!=a&&null==r&&(h.BBOX=l.join(","),h.SRS=c,h.SRCWIDTH=Math.round((l[2]-l[0])/n*39.37*a),h.SRCHEIGHT=Math.round((l[3]-l[1])/n*39.37*a),delete h.SCALE)),u&&Object.assign(h,u),HW(e,h)},n1.prototype.isLayerVisible=function(e,t){if(!e.getVisible())return!1;const n=t.getView().getResolution();if(void 0===n)throw new Error("Missing resolution");return n>e.getMinResolution()&&n<e.getMaxResolution()},n1.prototype.refreshWMSLayer=function(e){const t=e.getSource();console.assert(t instanceof JW||t instanceof cq);const n=t,r=n.getParams();r.random=Math.random(),n.updateParams(r)},n1.prototype.setZIndexToFirstLevelChildren=function(e,t){if(e instanceof dz){e.getLayers().forEach(e=>e.setZIndex(t))}},n1.prototype.updateWMSLayerState=function(e,t,n){if(t.length<=0)e.setVisible(!1);else{e.setVisible(!0);const r=e.getSource();if(!(r instanceof JW))throw new Error("Wrong source type");n?r.updateParams({LAYERS:t,TIME:n}):r.updateParams({LAYERS:t})}},n1.prototype.getQuerySourceIds=function(e){return e.get("querySourceIds")};const s1=t().module("ngeoLayerHelper",[]);s1.service("ngeoLayerHelper",n1);const a1=s1;class l1 extends hn{constructor(e,t,n,r,i,o,s,a,l,c){super(),this.addBlankBackgroundLayer_=!0,void 0!==o.addBlankBackgroundLayer&&(this.addBlankBackgroundLayer_=o.addBlankBackgroundLayer),this.$q_=n,this.$http_=e,this.treeUrl_=s,this.gmfVectorTilesUrl_=a,this.gmfVectorTilesOptions_=l,this.gmfWMSSourceOptions_=c,this.ngeoLocation_=null,t.has("ngeoLocation")&&(this.ngeoLocation_=t.get("ngeoLocation")),this.layerHelper_=r,this.gettextCatalog=i,this.deferred_=n.defer(),this.promise_=this.deferred_.promise,this.loaded=!1,this.bgLayerPromise_=null}getBgLayers(){return this.bgLayerPromise_||(this.bgLayerPromise_=this.promise_.then(this.bgLayerPromiseSuccessFn_.bind(this)).then(e=>{const t=[];if(this.addBlankBackgroundLayer_){const e=this.getBgBlankLayer_();t.push(e)}return e.forEach(e=>{e&&t.push(e)}),t})),this.bgLayerPromise_}getLayerGroupIds_(e,t){t.push(Pn(e));(e.children||[]).forEach(e=>{this.getLayerGroupIds_(e,t)})}setLayerProperties_(e,t){t.set("label",e.name),t.set("metadata",e.metadata),t.set("dimensions",e.dimensions);const n=[];return this.getLayerGroupIds_(e,n),t.set("querySourceIds",n),t.set(i1,e.id),t}layerLayerCreationFn_(e,t){if("WMTS"===t.type){const e=t;return this.layerLayerWMTSCreationFn_(e)}if("WMS"===t.type){const n=t;return this.layerLayerWMSCreationFn_(e,n)}if("VectorTiles"===t.type){const e=t;return this.layerLayerVectorTilesCreationFn_(e)}throw new Error(`Unsupported type: ${t.type}`)}layerLayerWMTSCreationFn_(e){if(!e.url)throw new Error("Layer URL is required");const t=g1(e),n=m1(e);return this.layerHelper_.createWMTSLayerFromCapabilitites(e.url,e.layer||"",e.matrixSet,e.dimensions,e.metadata.customOpenLayersOptions,t,n,e.metadata.opacity).then(this.setLayerProperties_.bind(this,e)).then(null,t=>{let n=`Unable to build layer "${e.layer}" from WMTSCapabilities: ${e.url}\n`;return n+=`OpenLayers error is "${t.message}`,console.error(n),this.$q_.resolve(void 0)})}layerLayerWMSCreationFn_(e,t){if(!t.ogcServer)throw new Error("Missing gmfLayerWMS.ogcServer");const n=e[t.ogcServer];if(!n)throw new Error("Missing server");if(!n.url)throw new Error("Missing server.url");if(!n.imageType)throw new Error("Missing server.imageType");const r={STYLES:t.style};if(t.dimensions)for(const[e,n]of Object.entries(t.dimensions))null!==n&&(r[e]=n);return this.setLayerProperties_(t,this.layerHelper_.createBasicWMSLayer(n.url,t.layers||"",n.imageType,n.type,void 0,r,n.credential?"use-credentials":"anonymous",Object.assign({},this.gmfWMSSourceOptions_,t.metadata.customOpenLayersOptions)))}layerLayerVectorTilesCreationFn_(e){const t=this.$q_.defer(),n=t.promise,r=e.name,i=g1(e),o=m1(e),s=this.gmfVectorTilesOptions_.tileGrid;return s&&s.resolutions?(this.$http_.get(e.style).then(n=>{const s=`${this.gmfVectorTilesUrl_}/${r}/{z}/{x}/{y}.pbf`,a=new Sz(this.gmfVectorTilesOptions_.tileGrid),l=this.layerHelper_.createBasicVectorTilesLayer(s,n.data,r,this.gmfVectorTilesOptions_.projection,a,i,o,e.metadata.opacity);t.resolve(this.setLayerProperties_(e,l))},e=>{t.reject(e)}),n):null}layerGroupCreationFn_(e,t){const n=t.children.map(e=>e).reverse().map(t=>this.layerLayerCreationFn_(e,t));return this.$q_.all(n).then(e=>{let n;e&&(e=e.filter(e=>e),n=new jY(e));const r=this.layerHelper_.createBasicGroup(n);return this.setLayerProperties_(t,r),r})}bgLayerPromiseSuccessFn_(e){const t=e.background_layers.map(t=>{const n=t,r=t;return["WMS","WMTS","VectorTiles"].includes(n.type)?this.layerLayerCreationFn_(e.ogcServers,n):r.children?this.layerGroupCreationFn_(e.ogcServers,r):void 0});return this.$q_.all(t)}getBgBlankLayer_(){this.gettextCatalog.getString("blank");const e=new MY({className:"canvas2d",source:new _j});return e.set("label","blank"),e.set("metadata",{thumbnail:""}),e}getThemeObject(e){return this.promise_.then(t=>h1(t.themes,e))}getThemesObject(){return this.promise_.then(e=>e.themes)}getBackgroundLayersObject(){if(null===this.promise_)throw new Error("Missing promise");return this.promise_.then(e=>e.background_layers)}getOgcServersObject(){if(null===this.promise_)throw new Error("Missing promise");return this.promise_.then(e=>e.ogcServers)}hasEditableLayers(){if(null===this.promise_)throw new Error("Missing promise");return this.promise_.then(this.hasEditableLayers_.bind(this))}hasEditableLayers_(e){return e.themes.some(e=>e.children.some(this.hasNodeEditableLayers_.bind(this)))}hasNodeEditableLayers_(e){const t=e;if(e.editable)return!0;let n=!1;const r=t.children;return r&&r.length&&(n=r.some(this.hasNodeEditableLayers_.bind(this))),n}loadThemes(e){if(!this.treeUrl_)throw new Error("gmfTreeUrl should be defined.");this.loaded&&(this.deferred_=this.$q_.defer(),this.promise_=this.deferred_.promise,this.bgLayerPromise_=null,this.loaded=!1),this.$http_.get(this.treeUrl_,{params:void 0!==e?{role:e}:{},cache:!1,withCredentials:!0}).then(e=>{if(0!=e.data.errors.length){const t=`The themes contain some errors:\n${e.data.errors.join("\n")}`;console.warn(t),null!==this.ngeoLocation_&&this.ngeoLocation_.hasParam("debug")&&window.alert(t)}Object.values(e.data.ogcServers).forEach(e=>{e.geometryName=e.geometryName||"geometry"}),this.deferred_.resolve(e.data),this.dispatchEvent("change"),this.loaded=!0},e=>{this.deferred_.reject(e)})}}function c1(e,t){for(let n=0,r=e.length;n<r;n++){const r=e[n];for(let e=0,n=r.children.length;e<n;e++){const n=r.children[e],i=[];if(d1(n,i),u1(i,t))return n}}return null}function u1(e,t){return e.find(e=>e.name===t)}function h1(e,t){return u1(e,t)}function d1(e,t){const n=e.children;if(void 0!==n){t.push(e);for(const e of n)d1(e,t)}}function f1(e,t){const n=e.children;if(void 0!==n)for(const e of n)f1(e,t);else t.push(e)}function p1(e){const t=e.metadata&&void 0!==e.metadata.snappingConfig?e.metadata.snappingConfig:null;return t&&void 0===t.activated&&(t.activated=!0),t}function m1(e){const t=e.metadata;let n=e.maxResolutionHint;return void 0===n&&void 0!==t&&(n=t.maxResolution),n}function g1(e){const t=e.metadata;let n=e.minResolutionHint;return void 0===n&&void 0!==t&&(n=t.minResolution),n}l1.$inject=["$http","$injector","$q","ngeoLayerHelper","gettextCatalog","gmfThemesOptions","gmfTreeUrl","gmfVectorTilesUrl","gmfVectorTilesOptions","gmfWMSSourceOptions"];const _1="VectorTiles",y1="WMTS",b1="WMS",v1=t().module("gmfThemes",[a1.name]);v1.service("gmfThemes",l1);const w1=v1,x1=class extends un{constructor(e,t={}){super(e),this.detail=t}},S1="background";class M1 extends Ln{constructor(e){super(),this.mapUids_={},this.ngeoLayerHelper_=e}get(e){return Pn(e).toString()in this.mapUids_?this.ngeoLayerHelper_.getGroupFromMap(e,S1).getLayers().item(0):null}set(e,t){const n=Pn(e).toString(),r=this.get(e);null!==t&&(t.setZIndex(-200),this.ngeoLayerHelper_.setZIndexToFirstLevelChildren(t,-200));const i=this.ngeoLayerHelper_.getGroupFromMap(e,S1);null!==r?(console.assert(n in this.mapUids_),null!==t?i.getLayers().setAt(0,t):(i.getLayers().removeAt(0),delete this.mapUids_[n])):null!==t&&(i.getLayers().insertAt(0,t),this.mapUids_[n]=!0);const o=new x1("change",{current:t,previous:r});return this.dispatchEvent(o),r}getOpacityBgLayer(e){return Pn(e).toString()in this.mapUids_?this.ngeoLayerHelper_.getGroupFromMap(e,S1).getLayers().item(1):null}setOpacityBgLayer(e,t){const n=this.ngeoLayerHelper_.getGroupFromMap(e,S1),r=this.getOpacityBgLayer(e);if(r){const e=n.getLayers().remove(r);t.setOpacity(e?e.getOpacity():0),t.setVisible(!e||e.getVisible())}t.setZIndex(-100),this.ngeoLayerHelper_.setZIndexToFirstLevelChildren(t,-100);-1===n.getLayers().getArray().indexOf(t)&&n.getLayers().push(t)}updateDimensions(e,t){const n=this.get(e);if(n){let e=[n];n instanceof dz&&(e=n.getLayers().getArray()),e.forEach(e=>{if(e instanceof wY){let n=!1;const r={};for(const i in e.get("dimensions")){const e=t[i];void 0!==e&&(r[i]=e,n=!0)}if(n){const t=e.getSource();t instanceof mq?(t.updateDimensions(r),t.refresh()):(t instanceof cq||t instanceof JW)&&(t.updateParams(r),t.refresh())}}})}}}M1.$inject=["ngeoLayerHelper"];const k1=t().module("ngeoBackgroundLayerMgr",[a1.name]);k1.service("ngeoBackgroundLayerMgr",M1);const T1=k1;D1.$inject=["$scope","ngeoBackgroundLayerMgr","gmfThemes","gmfBackgroundLayerSelectorOptions"];const E1=t().module("gmfBackgroundlayerselector",[w1.name,T1.name]);function L1(e,t,n){return n(e,t)}E1.value("gmfBackgroundlayerselectorTemplateUrl",(e,t)=>{const n=t.gmfBackgroundlayerselectorTemplateurl;return void 0!==n?n:"gmf/backgroundlayerselector"}),E1.run(["$templateCache",e=>{e.put("gmf/backgroundlayerselector",'<ul class="gmf-backgroundlayerselector">\n  <li\n    ng-repeat="layer in ctrl.bgLayers"\n    ng-click="ctrl.setLayer(layer)"\n    ng-class="{\'gmf-backgroundlayerselector-active\': ctrl.bgLayer == layer, \'gmf-backgroundlayerselector-disabled\': ctrl.opacityLayer == layer}"\n  >\n    <img class="gmf-thumb" ng-src="{{::layer.get(\'metadata\')[\'thumbnail\']}}" />\n    <span class="gmf-text">{{layer.get("label") | translate}}</span>\n    <span ng-class="{\'gmf-backgroundlayerselector-opacity-check\': ctrl.opacityLayer == layer}"></span>\n  </li>\n\n  <input\n    ng-if="ctrl.opacityLayer"\n    class="input-action gmf-backgroundlayerselector-opacity-slider"\n    name="bg-layer-opacity"\n    type="range"\n    min="0"\n    max="1"\n    step="0.01"\n    ng-model="ctrl.getSetBgLayerOpacity"\n    ng-model-options="{getterSetter: true}"\n  />\n</ul>')}]),L1.$inject=["$element","$attrs","gmfBackgroundlayerselectorTemplateUrl"];const C1={controller:"GmfBackgroundlayerselectorController as ctrl",bindings:{map:"=gmfBackgroundlayerselectorMap",select:"&?gmfBackgroundlayerselectorSelect"},templateUrl:L1};function D1(e,t,n,r){this.map=null,this.options=r,this.select=null,this.bgLayer=null,this.bgLayers=null,this.opacityLayer=null,this.gmfThemes_=n,this.listenerKeys_=[],this.listenerKeys_.push(dn(n,"change",this.handleThemesChange_,this)),this.backgroundLayerMgr_=t,this.listenerKeys_.push(dn(this.backgroundLayerMgr_,"change",e=>{this.bgLayer=e.detail.current})),e.$on("$destroy",this.handleDestroy_.bind(this))}E1.component("gmfBackgroundlayerselector",C1),D1.prototype.$onInit=function(){this.handleThemesChange_()},D1.prototype.handleThemesChange_=function(){this.gmfThemes_.getBgLayers().then(e=>{if(this.bgLayers=e,void 0!==this.options.opacityLayer){const t=e.find(e=>e.get("label")===this.options.opacityLayer);if(void 0!==t){this.setOpacityBgLayer(t),this.bgLayers=this.bgLayers.slice();const e=this.bgLayers.findIndex(e=>e===this.opacityLayer);this.bgLayers.splice(e,1),this.bgLayers.push(t)}}})},D1.prototype.getSetBgLayerOpacity=function(e){if(!this.opacityLayer)throw new Error("Missing opacityLayer");return void 0!==e&&(this.opacityLayer.setOpacity(e),this.opacityLayer.setVisible(0!==e),this.bgLayer.setVisible(1!==e)),this.opacityLayer.getOpacity()},D1.prototype.setLayer=function(e,t){ea.touchedByUser=!0;const n=this.opacityLayer?this.opacityLayer.getOpacity():0;this.bgLayer=e,this.backgroundLayerMgr_.set(this.map,e),e.setVisible(1!==n),this.opacityLayer&&(this.opacityLayer.setVisible(0!==n),this.opacityLayer.setOpacity(n)),!t&&this.select&&this.select()},D1.prototype.setOpacityBgLayer=function(e){const t=this.opacityLayer?this.opacityLayer.getOpacity():0;e.setOpacity(t),this.opacityLayer=e,this.opacityLayer.setVisible(0!==t),this.bgLayer&&this.bgLayer.setVisible(1!==t),this.backgroundLayerMgr_.setOpacityBgLayer(this.map,e)},D1.prototype.handleDestroy_=function(){this.listenerKeys_.forEach(pn),this.listenerKeys_.length=0},E1.controller("GmfBackgroundlayerselectorController",D1);const P1=E1;class $1{constructor(){this.collection_=new jY,this.map_=null,this.listenerKeys_=[],dn(this.collection_,"add",this.handleDataSourcesAdd_,this)}set map(e){this.map_!==e&&(this.map_&&this.unbindMap_(this.map_),this.map_=e,e&&this.bindMap_(e))}get collection(){return this.collection_}bindMap_(e){const t=e.getView();this.listenerKeys_.push(dn(t,"change:resolution",this.handleViewResolutionChange_,this));const n=t.getResolution();if(void 0===n)throw new Error("Missing resolution");this.syncDataSourcesToResolution_(n)}unbindMap_(e){this.listenerKeys_.forEach(pn),this.listenerKeys_=[]}handleViewResolutionChange_(e){const t=e.target;if(t instanceof lY){const e=t.getResolution();if(void 0===e)throw new Error("Missing resolution");this.syncDataSourcesToResolution_(e)}}syncDataSourcesToResolution_(e){this.collection_.forEach(t=>{this.syncDataSourceToResolution_(t,e)})}syncDataSourceToResolution_(e,t){if(!e.supportsDynamicInRange)return;const n=e.maxResolution,r=e.minResolution,i=(null==r||t>=r)&&(null==n||t<=n);e.inRange=i}handleDataSourcesAdd_(e){if(e instanceof YY){const t=e.element;if(this.map_){const e=this.map_.getView().getResolution();if(void 0===e)throw new Error("Missing resolution");this.syncDataSourceToResolution_(t,e)}}}}$1.$inject=[];const A1=t().module("ngeoDataSources",[]);A1.service("ngeoDataSources",$1);const R1=A1;function O1(e,t){return/gml:((Multi)?(Point|Line|Polygon|Curve|Surface|Geometry)).*/.exec(t)&&(e.type=tQ,/^gml:Point/.exec(t)?e.geomType="Point":/^gml:LineString|^gml:Curve/.exec(t)?e.geomType="LineString":/^gml:Polygon|^gml:Surface/.exec(t)?e.geomType="Polygon":/^gml:MultiPoint/.exec(t)?e.geomType="MultiPoint":/^gml:MultiLineString|^gml:MultiCurve/.exec(t)?e.geomType="MultiLineString":/^gml:MultiPolygon|^gml:MultiSurface/.exec(t)&&(e.geomType="MultiPolygon")),!!e.type&&!!e.geomType}const I1="float",F1="integer";const N1=class{read(e){return e.map(e=>this.readFromComplexTypeElement_(e))}setAttributeType(e,t){"gml:TimeInstantType"===t||"dateTime"===t?e.type=QJ:"date"===t?e.type=JJ:"time"===t?e.type=eQ:"decimal"===t||"double"===t?(e.type=nQ,e.numType=I1):"int"===t||"integer"===t||"long"===t?(e.type=nQ,e.numType=F1):e.type="boolean"===t?ZJ:iQ}readFromComplexTypeElement_(e){const t={name:e.name,alias:e.alias||null,required:"0"!=e.minOccurs},n=e.type;return O1(t,n)||this.setAttributeType(t,n),t}};class Y1 extends TQ{constructor(e,t,n){super("PropertyIsBetween",e),this.lowerBoundary=t,this.upperBoundary=n}}B1.$inject=["gettextCatalog"],q1.$inject=["$sce","ngeoStringToHtmlReplacements"],W1.$inject=["$sce"],G1.$inject=["$filter"],z1.$inject=["$filter"],U1.$inject=["$locale"],H1.$inject=["$filter"];const j1=t().module("ngeoAngularFilters",[]);function H1(e){const t=e("ngeoNumber"),n=function(e,n){void 0===n&&(n=2);const r=t(e,n);return r?`1 : ${r}`:""};return n.$stateful=!0,n}function U1(e){const t=e.NUMBER_FORMATS;return function(e,n){const r=t.GROUP_SEP,i=t.DECIMAL_SEP;if(void 0===n&&(n=3),e===1/0)return"∞";if(e===-1/0)return"-∞";if(0===e)return"0";const o=e<0;e=Math.abs(e);const s=n-Math.floor(Math.log(e)/Math.log(10))-1,a=Math.pow(10,s);e=Math.round(e*a);let l="";const c=Math.floor(e/a);if(s>0){let t=`${e}`;for(;t.length<s;)t=`0${t}`;for(l=t.substring(t.length-s);l.endsWith("0");)l=l.substring(0,l.length-1)}const u=[];let h=`${c}`;for(;h.length>3;){const e=h.length-3;u.unshift(h.substring(e)),h=h.substring(0,e)}return u.unshift(h),(o?"-":"")+u.join(r)+(0===l.length?"":i+l)}}function z1(e){const t=e("ngeoNumber"),n=["","k","M","G","T","P"],r=["","Ki","Mi","Gi","Ti","Pi"];return function(e,i,o,s){void 0===i&&(i="");const a=1-.1**(s||3)*.5;let l=1e3,c=n;"square"===o?l=1e6:"binary"===o&&(l=1024,c=r);let u=0;const h=c.length-1;for(;e>=l*a&&u<h;)e/=l,u++;const d=c[u]+i,f=0==d.length?"":" ";return t(e,s)+f+d}}function G1(e){return function(t,n,r){const i=r||"{x} {y}",o=t[0],s=t[1],a=0|parseInt(n,10),l=e("number")(o,a),c=e("number")(s,a);return i.replace("{x}",l).replace("{y}",c)}}function W1(e){return function(t){return null!=t?e.trustAsHtml(`${t}`):e.trustAsHtml("&nbsp;")}}function q1(e,t){return function(n){if(null!=n){if("string"==typeof n){for(const e of t)if(void 0===e.compiled_expression&&(e.compiled_expression=new RegExp(e.expression,e.flags)),e.compiled_expression.exec(n)){n=e.template.replace(/\$1/g,n);break}return e.trustAsHtml(`${n}`)}return e.trustAsHtml(`${n}`)}return e.trustAsHtml("&nbsp;")}}function B1(e){const t=Object.freeze({SECONDS:Symbol("seconds"),MINUTES:Symbol("minutes"),HOURS:Symbol("hours"),DAYS:Symbol("days")}),n=function(n,r){let i="";switch(r){case t.SECONDS:i=e.getPlural(n,"second","seconds");break;case t.MINUTES:i=e.getPlural(n,"minute","minutes");break;case t.HOURS:i=e.getPlural(n,"hour","hours");break;case t.DAYS:i=e.getPlural(n,"day","days")}return`${n} ${i}`};return function(e){let r;if((e=Math.round(e))<60)return n(e,t.SECONDS);let i=e%60;return(e=Math.floor(e/60))<60?(r=n(e,t.MINUTES),i>0&&(r+=` ${n(i,t.SECONDS)}`),r):(i=e%60,(e=Math.floor(e/60))<24?(r=n(e,t.HOURS),i>0&&(r+=` ${n(i,t.MINUTES)}`),r):(i=e%24,e=Math.floor(e/24),r=n(e,t.DAYS),i>0&&(r+=` ${n(i,t.HOURS)}`),r))}}j1.filter("ngeoScalify",H1),j1.filter("ngeoNumber",U1),j1.filter("ngeoUnitPrefix",z1),j1.filter("ngeoNumberCoordinates",G1),j1.filter("ngeoDMSCoordinates",function(){const e=function(e,t,n){const r=ht(e+180,360)-180,i=Math.abs(3600*r),o=i%60;return`${Math.floor(i/3600)}° ${k$(Math.floor(i/60%60),2)}′ ${k$(o,2,n)}″ ${t.charAt(r<0?1:0)}`};return function(t,n,r){const i=0|parseInt(n,10),o=r||"{x} {y}",s=e(t[0],"EW",i),a=e(t[1],"NS",i);return o.replace("{x}",s).replace("{y}",a)}}),j1.filter("ngeoTrustHtml",W1),j1.filter("ngeoTrustHtmlAuto",q1),j1.filter("ngeoDuration",B1);j1.filter("removeCDATA",function(){return function(e){if(e&&e.replace)return e.replace(/<!\[CDATA\[(.*)\]\]>/,"$1")}});const V1=j1,X1="a",K1="c",Z1="l",J1="r",Q1="t",e2="n",t2="b",n2="o",r2="z",i2="m",o2="s",s2="k",a2="d",l2="p",c2="Circle",u2="LineString",h2="MultiLineString",d2="MultiPoint",f2="MultiPolygon",p2="Point",m2="Polygon",g2="Rectangle",_2="Text";function y2(e,t,n,r,i=!1){let o;if(i){const n=e.clone().transform(t,"EPSG:4326");o=Math.abs(CA(n,{projection:"EPSG:4326"}))}else o=e.getArea();return r(o,"m²","square",n)}function b2(e,t,n,r,i=!1){let o=0;if(i){const n=e.getCoordinates();for(let e=0,r=n.length-1;e<r;++e){o+=EA(VA(n[e],t,"EPSG:4326"),VA(n[e+1],t,"EPSG:4326"))}}else o=e.getLength();return r(o,"m","unit",n)}function v2(e,t,n,r){return n(e.getCoordinates(),t,r)}function w2(e){if("pointermove"!=e.type||e.dragging)return!0;const t=null===this.sketchFeature?this.startMsg:this.continueMsg;if(this.displayHelpTooltip_&&t){if(!this.helpTooltipElement_)throw new Error("Missing helpTooltipElement");if(!this.helpTooltipOverlay_)throw new Error("Missing helpTooltipOverlay");rt(this.helpTooltipElement_),this.helpTooltipElement_.appendChild(t),this.helpTooltipOverlay_.setPosition(e.coordinate)}return!0}const x2=class extends NU{constructor(e={}){let t;super({handleEvent:w2}),this.helpTooltipElement_=null,this.helpTooltipOverlay_=null,this.measureTooltipElement_=null,this.measureTooltipOverlay_=null,this.measureTooltipOverlayCoord_=null,this.sketchFeature=null,this.continueMsg=null,this.decimals=e.decimals,this.precision=e.precision,this.displayHelpTooltip_=void 0===e.displayHelpTooltip||e.displayHelpTooltip,void 0!==e.startMsg?t=e.startMsg:(t=document.createElement("span"),t.textContent="Click to start drawing."),this.startMsg=t,this.changeEventKey_=null,this.postcomposeEventKey_=null;const n=void 0!==e.style?e.style:[new Er({fill:new yr({color:"rgba(255, 255, 255, 0.2)"})}),new Er({stroke:new vr({color:"white",width:5})}),new Er({stroke:new vr({color:"#ffcc33",width:3})})];this.vectorLayer_=void 0!==e.layer?e.layer:new MY({className:"canvas2d",source:new _j,style:n});const r=this.vectorLayer_.getSource();if(!(r instanceof _j))throw new Error("Missing source");const i=this.createDrawInteraction(e.sketchStyle,r);if(!i)throw new Error("Missing drawInteraction");this.drawInteraction_=i,this.shouldHandleDrawInteractionActiveChange_=!0,dn(this.drawInteraction_,"change:active",this.handleDrawInteractionActiveChange_,this),dn(this.drawInteraction_,"drawstart",this.onDrawStart_,this),dn(this.drawInteraction_,"drawend",this.onDrawEnd_,this),dn(this,"change:active",this.updateState_,this)}getDrawInteraction(){return this.drawInteraction_}createDrawInteraction(e,t){return null}setMap(e){NU.prototype.setMap.call(this,e),this.vectorLayer_.setMap(e);const t=this.drawInteraction_.getMap();null!==t&&t.removeInteraction(this.drawInteraction_),null!==e&&e.addInteraction(this.drawInteraction_)}onDrawStart_(e){const t=e.detail?e.detail:e;this.sketchFeature=t.feature;const n=this.vectorLayer_.getSource();if(!(n instanceof _j))throw new Error("Missing source");if(n.clear(!0),this.createMeasureTooltip_(),!this.sketchFeature)throw new Error("Missing sketchFeature");const r=this.sketchFeature.getGeometry();if(!r)throw new Error("Missing geometry");this.changeEventKey_=dn(r,"change",e=>{this.handleMeasure((e,t)=>{if(null!==t){if(!this.measureTooltipElement_)throw new Error("Missing measureTooltipElement");this.measureTooltipElement_.innerHTML=e,this.measureTooltipOverlayCoord_=t}})}),this.postcomposeEventKey_=dn(this.getMap(),"postcompose",()=>{this.measureTooltipOverlay_&&this.measureTooltipOverlayCoord_&&this.measureTooltipOverlay_.setPosition(this.measureTooltipOverlayCoord_)})}onDrawEnd_(e){if(!this.measureTooltipElement_)throw new Error("Missing measureTooltipElement");if(!this.measureTooltipOverlay_)throw new Error("Missing measureTooltipOverlay");if(!this.sketchFeature)throw new Error("Missing sketchFeature");this.measureTooltipElement_.classList.add("ngeo-tooltip-static"),this.measureTooltipOverlay_.setOffset([0,-7]);const t=new x1("measureend",{feature:this.sketchFeature});this.dispatchEvent(t),this.sketchFeature=null,this.unlistenerEvent_()}unlistenerEvent_(){null!==this.changeEventKey_&&null!==this.postcomposeEventKey_&&(pn(this.changeEventKey_),pn(this.postcomposeEventKey_),this.changeEventKey_=null,this.postcomposeEventKey_=null)}createHelpTooltip_(){this.removeHelpTooltip_(),this.displayHelpTooltip_&&(this.helpTooltipElement_=document.createElement("div"),this.helpTooltipElement_.classList.add("tooltip"),this.helpTooltipOverlay_=new OY({stopEvent:!1,element:this.helpTooltipElement_,offset:[15,0],positioning:"center-left"}),this.getMap().addOverlay(this.helpTooltipOverlay_))}removeHelpTooltip_(){this.displayHelpTooltip_&&(null!==this.helpTooltipOverlay_&&(this.getMap().removeOverlay(this.helpTooltipOverlay_),this.helpTooltipOverlay_=null),null!==this.helpTooltipElement_&&(this.helpTooltipElement_.parentNode&&this.helpTooltipElement_.parentNode.removeChild(this.helpTooltipElement_),this.helpTooltipElement_=null))}createMeasureTooltip_(){this.removeMeasureTooltip_(),this.measureTooltipElement_=document.createElement("div"),this.measureTooltipElement_.classList.add("tooltip"),this.measureTooltipElement_.classList.add("ngeo-tooltip-measure"),this.measureTooltipOverlay_=new OY({element:this.measureTooltipElement_,offset:[0,-15],positioning:"bottom-center",stopEvent:!1}),this.getMap().addOverlay(this.measureTooltipOverlay_)}removeMeasureTooltip_(){if(null!==this.measureTooltipElement_){if(!this.measureTooltipElement_.parentNode)throw new Error("Missing measureTooltipElement_.parentNode");this.measureTooltipElement_.parentNode.removeChild(this.measureTooltipElement_),this.measureTooltipElement_=null,this.measureTooltipOverlay_=null,this.measureTooltipOverlayCoord_=null}}updateState_(e){const t=this.getActive();if(this.shouldHandleDrawInteractionActiveChange_=!1,this.drawInteraction_.setActive(t),this.shouldHandleDrawInteractionActiveChange_=!0,this.getMap())if(t)this.measureTooltipOverlay_||(this.createMeasureTooltip_(),this.createHelpTooltip_());else{if(!this.measureTooltipOverlay_)throw new Error("Missing measureTooltipOverlay");const e=this.vectorLayer_.getSource();if(!(e instanceof _j))throw new Error("Missing measureTooltipOverlay");e.clear(!0),this.getMap().removeOverlay(this.measureTooltipOverlay_),this.removeMeasureTooltip_(),this.removeHelpTooltip_(),this.unlistenerEvent_()}}handleMeasure(e){}getTooltipElement(){if(!this.measureTooltipElement_)throw new Error("Missing measureTooltipElement");return this.measureTooltipElement_}handleDrawInteractionActiveChange_(e){this.shouldHandleDrawInteractionActiveChange_&&this.setActive(this.drawInteraction_.getActive())}};function S2(){const e=kr();return function(t,n){const r=t.getGeometry();if(r)return e[r.getType()]}}function M2(e,t,n){const r=function(e){const t=e.getCoordinates(),n=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return(n>0?1:-1)*Math.acos(r/Math.sqrt(n*n+r*r))*180/Math.PI%360}(e);return`${n(r,t)}°`}function k2(e,t,n,r,i,o){let s=M2(e,n,o);return s+=`, ${b2(e,t,r,i)}`,s}const T2=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],E2={rte:r3,trk:i3,wpt:o3},L2=PG(T2,{rte:xG(r3),trk:xG(i3),wpt:xG(o3)}),C2=PG(T2,{text:kG(VG,"linkText"),type:kG(VG,"linkType")}),D2=PG(T2,{name:kG(VG),email:function(e,t){const n=t[t.length-1],r=e.getAttribute("id"),i=e.getAttribute("domain");null!==r&&null!==i&&(n.email=`${r}@${i}`)},link:t3}),P2=PG(T2,{name:kG(VG),desc:kG(VG),author:kG(function(e,t){const n=AG({},D2,e,t);if(n)return n;return}),copyright:kG(function(e,t){const n=AG({},$2,e,t);if(n){const t=e.getAttribute("author");return null!==t&&(n.author=t),n}return}),link:t3,time:kG(zG),keywords:kG(VG),bounds:function(e,t){const n=t[t.length-1],r=e.getAttribute("minlat"),i=e.getAttribute("minlon"),o=e.getAttribute("maxlat"),s=e.getAttribute("maxlon");null!==i&&null!==r&&null!==s&&null!==o&&(n.bounds=[[parseFloat(i),parseFloat(r)],[parseFloat(s),parseFloat(o)]])},extensions:n3}),$2=PG(T2,{year:kG(qG),license:kG(VG)}),A2=PG(T2,{rte:TG(function(e,t,n){const r=n[0],i=t.getProperties(),o={node:e};o.properties=i;const s=t.getGeometry();if("LineString"==s.getType()){const e=oG(s,!0,r);o.geometryLayout=e.getLayout(),i.rtept=e.getCoordinates()}const a=n[n.length-1].node,l=U2[a.namespaceURI],c=DG(i,l);OG(o,z2,CG,c,n,l)}),trk:TG(function(e,t,n){const r=n[0],i=t.getProperties(),o={node:e};o.properties=i;const s=t.getGeometry();if("MultiLineString"==s.getType()){const e=oG(s,!0,r);i.trkseg=e.getLineStrings()}const a=n[n.length-1].node,l=W2[a.namespaceURI],c=DG(i,l);OG(o,q2,CG,c,n,l)}),wpt:TG(function(e,t,n){const r=n[0],i=n[n.length-1];i.properties=t.getProperties();const o=t.getGeometry();if("Point"==o.getType()){const t=oG(o,!0,r);i.geometryLayout=t.getLayout(),a3(e,t.getCoordinates(),n)}})});const R2=PG(T2,{name:kG(VG),cmt:kG(VG),desc:kG(VG),src:kG(VG),link:t3,number:kG(qG),extensions:n3,type:kG(VG),rtept:function(e,t){const n=AG({},O2,e,t);if(n){const r=t[t.length-1];Q2(r.flatCoordinates,r.layoutOptions,e,n)}}}),O2=PG(T2,{ele:kG(GG),time:kG(zG)}),I2=PG(T2,{name:kG(VG),cmt:kG(VG),desc:kG(VG),src:kG(VG),link:t3,number:kG(qG),type:kG(VG),extensions:n3,trkseg:function(e,t){const n=t[t.length-1];$G(F2,e,t);const r=n.flatCoordinates;n.ends.push(r.length)}}),F2=PG(T2,{trkpt:function(e,t){const n=AG({},N2,e,t);if(n){const r=t[t.length-1];Q2(r.flatCoordinates,r.layoutOptions,e,n)}}}),N2=PG(T2,{ele:kG(GG),time:kG(zG)}),Y2=PG(T2,{ele:kG(GG),time:kG(zG),magvar:kG(GG),geoidheight:kG(GG),name:kG(VG),cmt:kG(VG),desc:kG(VG),src:kG(VG),link:t3,sym:kG(VG),type:kG(VG),fix:kG(VG),sat:kG(qG),hdop:kG(GG),vdop:kG(GG),pdop:kG(GG),ageofdgpsdata:kG(GG),dgpsid:kG(qG),extensions:n3}),j2=["text","type"],H2=PG(T2,{text:TG(tW),type:TG(tW)}),U2=PG(T2,["name","cmt","desc","src","link","number","type","rtept"]),z2=PG(T2,{name:TG(tW),cmt:TG(tW),desc:TG(tW),src:TG(tW),link:TG(s3),number:TG(ZG),type:TG(tW),rtept:EG(TG(a3))}),G2=PG(T2,["ele","time"]),W2=PG(T2,["name","cmt","desc","src","link","number","type","trkseg"]),q2=PG(T2,{name:TG(tW),cmt:TG(tW),desc:TG(tW),src:TG(tW),link:TG(s3),number:TG(ZG),type:TG(tW),trkseg:EG(TG(function(e,t,n){const r={node:e};r.geometryLayout=t.getLayout(),r.properties={},OG(r,V2,B2,t.getCoordinates(),n)}))}),B2=LG("trkpt"),V2=PG(T2,{trkpt:TG(a3)}),X2=PG(T2,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),K2=PG(T2,{ele:TG(KG),time:TG(function(e,t){const n=new Date(1e3*t),r=n.getUTCFullYear()+"-"+k$(n.getUTCMonth()+1,2)+"-"+k$(n.getUTCDate(),2)+"T"+k$(n.getUTCHours(),2)+":"+k$(n.getUTCMinutes(),2)+":"+k$(n.getUTCSeconds(),2)+"Z";e.appendChild(NG().createTextNode(r))}),magvar:TG(KG),geoidheight:TG(KG),name:TG(tW),cmt:TG(tW),desc:TG(tW),src:TG(tW),link:TG(s3),sym:TG(tW),type:TG(tW),fix:TG(tW),sat:TG(ZG),hdop:TG(KG),vdop:TG(KG),pdop:TG(KG),ageofdgpsdata:TG(KG),dgpsid:TG(ZG)}),Z2={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function J2(e,t,n){const r=e.getGeometry();if(r){const e=Z2[r.getType()];if(e){return gG(t[t.length-1].node.namespaceURI,e)}}}function Q2(e,t,n,r){return e.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in r?(e.push(r.ele),delete r.ele,t.hasZ=!0):e.push(0),"time"in r?(e.push(r.time),delete r.time,t.hasM=!0):e.push(0),e}function e3(e,t,n){let r="XY",i=2;if(e.hasZ&&e.hasM?(r="XYZM",i=4):e.hasZ?(r="XYZ",i=3):e.hasM&&(r="XYM",i=3),4!==i){for(let n=0,r=t.length/4;n<r;n++)t[n*i]=t[4*n],t[n*i+1]=t[4*n+1],e.hasZ&&(t[n*i+2]=t[4*n+2]),e.hasM&&(t[n*i+2]=t[4*n+3]);if(t.length=t.length/4*i,n)for(let e=0,t=n.length;e<t;e++)n[e]=n[e]/4*i}return r}function t3(e,t){const n=t[t.length-1],r=e.getAttribute("href");null!==r&&(n.link=r),$G(C2,e,t)}function n3(e,t){t[t.length-1].extensionsNode_=e}function r3(e,t){const n=t[0],r=AG({flatCoordinates:[],layoutOptions:{}},R2,e,t);if(!r)return;const i=r.flatCoordinates;delete r.flatCoordinates;const o=r.layoutOptions;delete r.layoutOptions;const s=e3(o,i),a=new oO(i,s);oG(a,!1,n);const l=new AP(a);return l.setProperties(r,!0),l}function i3(e,t){const n=t[0],r=AG({flatCoordinates:[],ends:[],layoutOptions:{}},I2,e,t);if(!r)return;const i=r.flatCoordinates;delete r.flatCoordinates;const o=r.ends;delete r.ends;const s=r.layoutOptions;delete r.layoutOptions;const a=e3(s,i,o),l=new JY(i,a,o);oG(l,!1,n);const c=new AP(l);return c.setProperties(r,!0),c}function o3(e,t){const n=t[0],r=AG({},Y2,e,t);if(!r)return;const i={},o=Q2([],i,e,r),s=e3(i,o),a=new $R(o,s);oG(a,!1,n);const l=new AP(a);return l.setProperties(r,!0),l}function s3(e,t,n){e.setAttribute("href",t);const r=n[n.length-1].properties,i=[r.linkText,r.linkType];OG({node:e},H2,CG,i,n,j2)}function a3(e,t,n){const r=n[n.length-1],i=r.node.namespaceURI,o=r.properties;e.setAttributeNS(null,"lat",String(t[1])),e.setAttributeNS(null,"lon",String(t[0]));switch(r.geometryLayout){case"XYZM":0!==t[3]&&(o.time=t[3]);case"XYZ":0!==t[2]&&(o.ele=t[2]);break;case"XYM":0!==t[2]&&(o.time=t[2])}const s="rtept"==e.nodeName?G2[i]:X2[i],a=DG(o,s);OG({node:e,properties:o},K2,CG,a,n,s)}const l3=class extends oQ{constructor(e){super(),e=e||{},this.dataProjection=NA("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let t=0,n=e.length;t<n;++t){const n=e[t];if(this.readExtensions_){const e=n.get("extensionsNode_")||null;this.readExtensions_(n,e)}n.set("extensionsNode_",void 0)}}readMetadata(e){return e?"string"==typeof e?this.readMetadataFromDocument(vG(e)):bG(e)?this.readMetadataFromDocument(e):this.readMetadataFromNode(e):null}readMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType===Node.ELEMENT_NODE){const e=this.readMetadataFromNode(t);if(e)return e}return null}readMetadataFromNode(e){if(!T2.includes(e.namespaceURI))return null;for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(T2.includes(t.namespaceURI)&&"metadata"===t.localName)return AG({},P2,t,[]);return null}readFeatureFromNode(e,t){if(!T2.includes(e.namespaceURI))return null;const n=E2[e.localName];if(!n)return null;const r=n(e,[this.getReadOptions(e,t)]);return r?(this.handleReadExtensions_([r]),r):null}readFeaturesFromNode(e,t){if(!T2.includes(e.namespaceURI))return[];if("gpx"==e.localName){const n=AG([],L2,e,[this.getReadOptions(e,t)]);return n?(this.handleReadExtensions_(n),n):[]}return[]}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=gG("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",mG),n.setAttributeNS(mG,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),OG({node:n},A2,J2,e,[t]),n}},c3=["http://www.google.com/kml/ext/2.2"],u3=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],h3={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},d3=PG(u3,{ExtendedData:m5,Region:g5,MultiGeometry:kG(s5,"geometry"),LineString:kG(r5,"geometry"),LinearRing:kG(i5,"geometry"),Point:kG(a5,"geometry"),Polygon:kG(c5,"geometry"),Style:kG(h5),StyleMap:function(e,t){const n=z3.call(this,e,t);if(!n)return;const r=t[t.length-1];if(Array.isArray(n))r.Style=n;else{if("string"!=typeof n)throw new Error("`styleMapValue` has an unknown type");r.styleUrl=n}},address:kG(VG),description:kG(VG),name:kG(VG),open:kG(HG),phoneNumber:kG(VG),styleUrl:kG(j3),visibility:kG(HG)},PG(c3,{MultiTrack:kG(function(e,t){const n=AG([],K3,e,t);if(!n)return;return new JY(n)},"geometry"),Track:kG(J3,"geometry")})),f3=PG(u3,{ExtendedData:m5,Region:g5,Link:function(e,t){$G(p3,e,t)},address:kG(VG),description:kG(VG),name:kG(VG),open:kG(HG),phoneNumber:kG(VG),visibility:kG(HG)}),p3=PG(u3,{href:kG(Y3)}),m3=PG(u3,{Altitude:kG(GG),Longitude:kG(GG),Latitude:kG(GG),Tilt:kG(GG),AltitudeMode:kG(VG),Heading:kG(GG),Roll:kG(GG)}),g3=PG(u3,{LatLonAltBox:function(e,t){const n=AG({},b5,e,t);if(!n)return;const r=t[t.length-1],i=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=i,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)},Lod:function(e,t){const n=AG({},v5,e,t);if(!n)return;const r=t[t.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)}}),_3=PG(u3,["Document","Placemark"]),y3=PG(u3,{Document:TG(function(e,t,n){const r={node:e};OG(r,k5,T5,t,n,void 0,this)}),Placemark:TG(K5)});let b3,v3,w3,x3,S3,M3,k3=null;let T3,E3=null;let L3,C3=null;let D3=null;let P3=null;let $3,A3=null;function R3(e){return 32/Math.min(e[0],e[1])}function O3(e){return e}function I3(e,t,n){return Array.isArray(e)?e:"string"==typeof e?I3(n[e],t,n):t}function F3(e){const t=_G(e,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(n){const e=n[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}}function N3(e){let t=_G(e,!1);const n=[];t=t.replace(/\s*,\s*/g,",");const r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let i;for(;i=r.exec(t);){const e=parseFloat(i[1]),r=parseFloat(i[2]),o=i[3]?parseFloat(i[3]):0;n.push(e,r,o),t=t.substr(i[0].length)}if(""===t)return n}function Y3(e){const t=_G(e,!1).trim();let n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){return new URL(t,n).href}return t}function j3(e){const t=_G(e,!1).trim().replace(/^(?!.*#)/,"#");let n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){return new URL(t,n).href}return t}function H3(e){return GG(e)}const U3=PG(u3,{Pair:function(e,t){const n=AG({},_5,e,t,this);if(!n)return;const r=n.key;if(r&&"normal"==r){const e=n.styleUrl;e&&(t[t.length-1]=e);const r=n.Style;r&&(t[t.length-1]=r)}}});function z3(e,t){return AG(void 0,U3,e,t,this)}const G3=PG(u3,{Icon:kG(function(e,t){const n=AG({},Q3,e,t);if(n)return n;return null}),color:kG(F3),heading:kG(GG),hotSpot:kG(function(e){const t=e.getAttribute("xunits"),n=e.getAttribute("yunits");let r;return r="insetPixels"!==t?"insetPixels"!==n?"bottom-left":"top-left":"insetPixels"!==n?"bottom-right":"top-right",{x:parseFloat(e.getAttribute("x")),xunits:h3[t],y:parseFloat(e.getAttribute("y")),yunits:h3[n],origin:r}}),scale:kG(H3)});const W3=PG(u3,{color:kG(F3),scale:kG(H3)});const q3=PG(u3,{color:kG(F3),width:kG(GG)});const B3=PG(u3,{color:kG(F3),fill:kG(HG),outline:kG(HG)});const V3=PG(u3,{coordinates:SG(N3)});function X3(e,t){return AG(null,V3,e,t)}const K3=PG(c3,{Track:xG(J3)});const Z3=PG(u3,{when:function(e,t){const n=t[t.length-1].whens,r=_G(e,!1),i=Date.parse(r);n.push(isNaN(i)?0:i)}},PG(c3,{coord:function(e,t){const n=t[t.length-1].coordinates,r=_G(e,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(i){const e=parseFloat(i[1]),t=parseFloat(i[2]),r=parseFloat(i[3]);n.push([e,t,r])}else n.push([])}}));function J3(e,t){const n=AG({coordinates:[],whens:[]},Z3,e,t);if(!n)return;const r=[],i=n.coordinates,o=n.whens;for(let e=0,t=Math.min(i.length,o.length);e<t;++e)3==i[e].length&&r.push(i[e][0],i[e][1],i[e][2],o[e]);return new oO(r,"XYZM")}const Q3=PG(u3,{href:kG(Y3)},PG(c3,{x:kG(GG),y:kG(GG),w:kG(GG),h:kG(GG)}));const e5=PG(u3,{coordinates:SG(N3)});function t5(e,t){return AG(null,e5,e,t)}const n5=PG(u3,{extrude:kG(HG),tessellate:kG(HG),altitudeMode:kG(VG)});function r5(e,t){const n=AG({},n5,e,t),r=t5(e,t);if(r){const e=new oO(r,"XYZ");return e.setProperties(n,!0),e}}function i5(e,t){const n=AG({},n5,e,t),r=t5(e,t);if(r){const e=new KN(r,"XYZ",[r.length]);return e.setProperties(n,!0),e}}const o5=PG(u3,{LineString:xG(r5),LinearRing:xG(i5),MultiGeometry:xG(s5),Point:xG(a5),Polygon:xG(c5)});function s5(e,t){const n=AG([],o5,e,t);if(!n)return null;if(0===n.length)return new KY(n);let r,i=!0;const o=n[0].getType();let s;for(let e=1,t=n.length;e<t;++e)if(s=n[e],s.getType()!=o){i=!1;break}if(i){let e,t;if("Point"==o){const i=n[0];e=i.getLayout(),t=i.getFlatCoordinates();for(let e=1,r=n.length;e<r;++e)s=n[e],Qt(t,s.getFlatCoordinates());r=new ej(t,e),d5(r,n)}else if("LineString"==o)r=new JY(n),d5(r,n);else if("Polygon"==o)r=new nj(n),d5(r,n);else{if("GeometryCollection"!=o&&!o.startsWith("Multi"))throw new Error("Unknown geometry type found");r=new KY(n)}}else r=new KY(n);return r}function a5(e,t){const n=AG({},n5,e,t),r=t5(e,t);if(r){const e=new $R(r,"XYZ");return e.setProperties(n,!0),e}}const l5=PG(u3,{innerBoundaryIs:function(e,t){const n=AG([],w5,e,t);if(n.length>0){t[t.length-1].push(...n)}},outerBoundaryIs:function(e,t){const n=AG(void 0,x5,e,t);if(n){t[t.length-1][0]=n}}});function c5(e,t){const n=AG({},n5,e,t),r=AG([null],l5,e,t);if(r&&r[0]){const e=r[0],t=[e.length];for(let n=1,i=r.length;n<i;++n)Qt(e,r[n]),t.push(e.length);const i=new KN(e,"XYZ",t);return i.setProperties(n,!0),i}}const u5=PG(u3,{IconStyle:function(e,t){const n=AG({},G3,e,t);if(!n)return;const r=t[t.length-1],i="Icon"in n?n.Icon:{},o=!("Icon"in n)||Object.keys(i).length>0;let s;const a=i.href;let l,c,u;a?s=a:o&&(s=M3);let h="bottom-left";const d=n.hotSpot;let f;d?(l=[d.x,d.y],c=d.xunits,u=d.yunits,h=d.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(s)&&(s.includes("pushpin")?(l=v3,c=w3,u=x3):s.includes("arrow-reverse")?(l=[54,42],c=w3,u=x3):s.includes("paddle")&&(l=[32,1],c=w3,u=x3));const p=i.x,m=i.y;let g;void 0!==p&&void 0!==m&&(f=[p,m]);const _=i.w,y=i.h;let b;void 0!==_&&void 0!==y&&(g=[_,y]);const v=n.heading;void 0!==v&&(b=ut(v));const w=n.scale,x=n.color;if(o){s==M3&&(g=S3);const e=new QO({anchor:l,anchorOrigin:h,anchorXUnits:c,anchorYUnits:u,crossOrigin:this.crossOrigin_,offset:f,offsetOrigin:"bottom-left",rotation:b,scale:w,size:g,src:this.iconUrlFunction_(s),color:x}),t=e.getScaleArray()[0],n=e.getSize();if(null===n){const n=e.getImageState();if(n===Ie||n===Fe){const r=function(){const n=e.getImageState();if(n!==Ie&&n!==Fe){const n=e.getSize();if(n&&2==n.length){const r=R3(n);e.setScale(t*r)}e.unlistenImageChange(r)}};e.listenImageChange(r),n===Ie&&e.load()}}else if(2==n.length){const r=R3(n);e.setScale(t*r)}r.imageStyle=e}else r.imageStyle=T3},LabelStyle:function(e,t){const n=AG({},W3,e,t);if(!n)return;const r=t[t.length-1],i=new tI({fill:new yr({color:"color"in n?n.color:b3}),scale:n.scale});r.textStyle=i},LineStyle:function(e,t){const n=AG({},q3,e,t);if(!n)return;const r=t[t.length-1],i=new vr({color:"color"in n?n.color:b3,width:"width"in n?n.width:1});r.strokeStyle=i},PolyStyle:function(e,t){const n=AG({},B3,e,t);if(!n)return;const r=t[t.length-1],i=new yr({color:"color"in n?n.color:b3});r.fillStyle=i;const o=n.fill;void 0!==o&&(r.fill=o);const s=n.outline;void 0!==s&&(r.outline=s)}});function h5(e,t){const n=AG({},u5,e,t,this);if(!n)return null;let r="fillStyle"in n?n.fillStyle:k3;const i=n.fill;let o;void 0===i||i||(r=null),"imageStyle"in n?n.imageStyle!=T3&&(o=n.imageStyle):o=E3;const s="textStyle"in n?n.textStyle:D3,a="strokeStyle"in n?n.strokeStyle:C3,l=n.outline;return void 0===l||l?[new Er({fill:r,image:o,stroke:a,text:s,zIndex:void 0})]:[new Er({geometry:function(e){const t=e.getGeometry(),n=t.getType();if("GeometryCollection"===n){return new KY(t.getGeometriesArrayRecursive().filter(function(e){const t=e.getType();return"Polygon"!==t&&"MultiPolygon"!==t}))}if("Polygon"!==n&&"MultiPolygon"!==n)return t},fill:r,image:o,stroke:a,text:s,zIndex:void 0}),new Er({geometry:function(e){const t=e.getGeometry(),n=t.getType();if("GeometryCollection"===n){return new KY(t.getGeometriesArrayRecursive().filter(function(e){const t=e.getType();return"Polygon"===t||"MultiPolygon"===t}))}if("Polygon"===n||"MultiPolygon"===n)return t},fill:r,stroke:null,zIndex:void 0})]}function d5(e,t){const n=t.length,r=new Array(t.length),i=new Array(t.length),o=new Array(t.length);let s,a,l;s=!1,a=!1,l=!1;for(let e=0;e<n;++e){const n=t[e];r[e]=n.get("extrude"),i[e]=n.get("tessellate"),o[e]=n.get("altitudeMode"),s=s||void 0!==r[e],a=a||void 0!==i[e],l=l||o[e]}s&&e.set("extrude",r),a&&e.set("tessellate",i),l&&e.set("altitudeMode",o)}const f5=PG(u3,{displayName:kG(VG),value:kG(VG)});const p5=PG(u3,{Data:function(e,t){const n=e.getAttribute("name");$G(f5,e,t);const r=t[t.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:null!==n?r[n]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value},SchemaData:function(e,t){$G(y5,e,t)}});function m5(e,t){$G(p5,e,t)}function g5(e,t){$G(g3,e,t)}const _5=PG(u3,{Style:kG(h5),key:kG(VG),styleUrl:kG(j3)});const y5=PG(u3,{SimpleData:function(e,t){const n=e.getAttribute("name");if(null!==n){const r=VG(e);t[t.length-1][n]=r}}});const b5=PG(u3,{altitudeMode:kG(VG),minAltitude:kG(GG),maxAltitude:kG(GG),north:kG(GG),south:kG(GG),east:kG(GG),west:kG(GG)});const v5=PG(u3,{minLodPixels:kG(GG),maxLodPixels:kG(GG),minFadeExtent:kG(GG),maxFadeExtent:kG(GG)});const w5=PG(u3,{LinearRing:xG(X3)});const x5=PG(u3,{LinearRing:SG(X3)});function S5(e,t){const n=It(t),r=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(let e=0;e<4;++e){const t=Math.floor(r[e]).toString(16);r[e]=1==t.length?"0"+t:t}tW(e,r.join(""))}const M5=PG(u3,{Data:TG(function(e,t,n){e.setAttribute("name",t.name);const r={node:e},i=t.value;"object"==typeof i?(null!==i&&i.displayName&&OG(r,M5,CG,[i.displayName],n,["displayName"]),null!==i&&i.value&&OG(r,M5,CG,[i.value],n,["value"])):OG(r,M5,CG,[i],n,["value"])}),value:TG(function(e,t){tW(e,t)}),displayName:TG(function(e,t){tW(e,t)})});const k5=PG(u3,{Placemark:TG(K5)}),T5=function(e,t,n){return gG(t[t.length-1].node.namespaceURI,"Placemark")};const E5=LG("Data");const L5=PG(u3,["href"],PG(c3,["x","y","w","h"])),C5=PG(u3,{href:TG(tW)},PG(c3,{x:TG(KG),y:TG(KG),w:TG(KG),h:TG(KG)})),D5=function(e,t,n){return gG(c3[0],"gx:"+n)};const P5=PG(u3,["scale","heading","Icon","color","hotSpot"]),$5=PG(u3,{Icon:TG(function(e,t,n){const r={node:e},i=n[n.length-1].node;let o=L5[i.namespaceURI],s=DG(t,o);OG(r,C5,CG,s,n,o),o=L5[c3[0]],s=DG(t,o),OG(r,C5,D5,s,n,o)}),color:TG(S5),heading:TG(KG),hotSpot:TG(function(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)}),scale:TG(s4)});const A5=PG(u3,["color","scale"]),R5=PG(u3,{color:TG(S5),scale:TG(s4)});const O5=PG(u3,["color","width"]),I5=PG(u3,{color:TG(S5),width:TG(KG)});const F5={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},N5=function(e,t,n){if(e){return gG(t[t.length-1].node.namespaceURI,F5[e.getType()])}},Y5=LG("Point"),j5=LG("LineString"),H5=LG("LinearRing"),U5=LG("Polygon"),z5=PG(u3,{LineString:TG(Q5),Point:TG(Q5),Polygon:TG(i4),GeometryCollection:TG(G5)});function G5(e,t,n){const r={node:e},i=t.getType();let o,s=[];if("GeometryCollection"===i)t.getGeometriesArrayRecursive().forEach(function(e){const t=e.getType();if("MultiPoint"===t)s=s.concat(e.getPoints());else if("MultiLineString"===t)s=s.concat(e.getLineStrings());else if("MultiPolygon"===t)s=s.concat(e.getPolygons());else{if("Point"!==t&&"LineString"!==t&&"Polygon"!==t)throw new Error("Unknown geometry type");s.push(e)}}),o=N5;else if("MultiPoint"===i)s=t.getPoints(),o=Y5;else if("MultiLineString"===i)s=t.getLineStrings(),o=j5;else{if("MultiPolygon"!==i)throw new Error("Unknown geometry type");s=t.getPolygons(),o=U5}OG(r,z5,o,s,n)}const W5=PG(u3,{LinearRing:TG(Q5)});function q5(e,t,n){OG({node:e},W5,H5,[t],n)}const B5=PG(u3,{ExtendedData:TG(function(e,t,n){const r={node:e},i=t.names,o=t.values,s=i.length;for(let e=0;e<s;e++)OG(r,M5,E5,[{name:i[e],value:o[e]}],n)}),MultiGeometry:TG(G5),LineString:TG(Q5),LinearRing:TG(Q5),Point:TG(Q5),Polygon:TG(i4),Style:TG(function(e,t,n){const r={node:e},i={};if(t.pointStyles.length){const e=t.pointStyles[0].getText();e&&(i.LabelStyle=e);const n=t.pointStyles[0].getImage();n&&"function"==typeof n.getSrc&&(i.IconStyle=n)}if(t.lineStyles.length){const e=t.lineStyles[0].getStroke();e&&(i.LineStyle=e)}if(t.polyStyles.length){const e=t.polyStyles[0].getStroke();e&&!i.LineStyle&&(i.LineStyle=e),i.PolyStyle=t.polyStyles[0]}const o=n[n.length-1].node,s=a4[o.namespaceURI],a=DG(i,s);OG(r,l4,CG,a,n,s)}),address:TG(tW),description:TG(tW),name:TG(tW),open:TG(XG),phoneNumber:TG(tW),styleUrl:TG(tW),visibility:TG(XG)}),V5=PG(u3,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),X5=LG("ExtendedData");function K5(e,t,n){const r={node:e};t.getId()&&e.setAttribute("id",t.getId());const i=t.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[t.getGeometryName()]=1;const s=Object.keys(i||{}).sort().filter(function(e){return!o[e]}),a=t.getStyleFunction();if(a){const e=a(t,0);if(e){const n=Array.isArray(e)?e:[e];let r=n;if(t.getGeometry()&&(r=n.filter(function(e){const n=e.getGeometryFunction()(t);if(n){const e=n.getType();return"GeometryCollection"===e?n.getGeometriesArrayRecursive().filter(function(e){const t=e.getType();return"Point"===t||"MultiPoint"===t}).length:"Point"===e||"MultiPoint"===e}})),this.writeStyles_){let e=n,o=n;t.getGeometry()&&(e=n.filter(function(e){const n=e.getGeometryFunction()(t);if(n){const e=n.getType();return"GeometryCollection"===e?n.getGeometriesArrayRecursive().filter(function(e){const t=e.getType();return"LineString"===t||"MultiLineString"===t}).length:"LineString"===e||"MultiLineString"===e}}),o=n.filter(function(e){const n=e.getGeometryFunction()(t);if(n){const e=n.getType();return"GeometryCollection"===e?n.getGeometriesArrayRecursive().filter(function(e){const t=e.getType();return"Polygon"===t||"MultiPolygon"===t}).length:"Polygon"===e||"MultiPolygon"===e}})),i.Style={pointStyles:r,lineStyles:e,polyStyles:o}}if(r.length&&void 0===i.name){const e=r[0].getText();e&&(i.name=e.getText())}}}const l=n[n.length-1].node,c=V5[l.namespaceURI],u=DG(i,c);if(OG(r,B5,CG,u,n,c),s.length>0){const e=DG(i,s);OG(r,B5,X5,[{names:s,values:e}],n)}const h=n[0];let d=t.getGeometry();d&&(d=oG(d,!0,h)),OG(r,B5,N5,[d],n)}const Z5=PG(u3,["extrude","tessellate","altitudeMode","coordinates"]),J5=PG(u3,{extrude:TG(XG),tessellate:TG(XG),altitudeMode:TG(tW),coordinates:TG(function(e,t,n){const r=n[n.length-1],i=r.layout,o=r.stride;let s;if("XY"==i||"XYM"==i)s=2;else{if("XYZ"!=i&&"XYZM"!=i)throw new Error("Invalid geometry layout");s=3}const a=t.length;let l="";if(a>0){l+=t[0];for(let e=1;e<s;++e)l+=","+t[e];for(let e=o;e<a;e+=o){l+=" "+t[e];for(let n=1;n<s;++n)l+=","+t[e+n]}}tW(e,l)})});function Q5(e,t,n){const r=t.getFlatCoordinates(),i={node:e};i.layout=t.getLayout(),i.stride=t.getStride();const o=t.getProperties();o.coordinates=r;const s=n[n.length-1].node,a=Z5[s.namespaceURI],l=DG(o,a);OG(i,J5,CG,l,n,a)}const e4=PG(u3,["color","fill","outline"]),t4=PG(u3,{outerBoundaryIs:TG(q5),innerBoundaryIs:TG(q5)}),n4=LG("innerBoundaryIs"),r4=LG("outerBoundaryIs");function i4(e,t,n){const r=t.getLinearRings(),i=r.shift(),o={node:e};OG(o,t4,n4,r,n),OG(o,t4,r4,[i],n)}const o4=PG(u3,{color:TG(S5),fill:TG(XG),outline:TG(XG)});function s4(e,t){KG(e,Math.round(1e6*t)/1e6)}const a4=PG(u3,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),l4=PG(u3,{IconStyle:TG(function(e,t,n){const r={node:e},i={},o=t.getSrc(),s=t.getSize(),a=t.getImageSize(),l={href:o};if(s){l.w=s[0],l.h=s[1];const e=t.getAnchor(),n=t.getOrigin();if(n&&a&&0!==n[0]&&n[1]!==s[1]&&(l.x=n[0],l.y=a[1]-(n[1]+s[1])),e&&(e[0]!==s[0]/2||e[1]!==s[1]/2)){const t={x:e[0],xunits:"pixels",y:s[1]-e[1],yunits:"pixels"};i.hotSpot=t}}i.Icon=l;let c=t.getScaleArray()[0],u=s;if(null===u&&(u=S3),2==u.length){c/=R3(u)}1!==c&&(i.scale=c);const h=t.getRotation();0!==h&&(i.heading=h);const d=t.getColor();d&&(i.color=d);const f=n[n.length-1].node,p=P5[f.namespaceURI],m=DG(i,p);OG(r,$5,CG,m,n,p)}),LabelStyle:TG(function(e,t,n){const r={node:e},i={},o=t.getFill();o&&(i.color=o.getColor());const s=t.getScale();s&&1!==s&&(i.scale=s);const a=n[n.length-1].node,l=A5[a.namespaceURI],c=DG(i,l);OG(r,R5,CG,c,n,l)}),LineStyle:TG(function(e,t,n){const r={node:e},i={color:t.getColor(),width:Number(t.getWidth())||1},o=n[n.length-1].node,s=O5[o.namespaceURI],a=DG(i,s);OG(r,I5,CG,a,n,s)}),PolyStyle:TG(function(e,t,n){const r={node:e},i=t.getFill(),o=t.getStroke(),s={color:i?i.getColor():void 0,fill:!!i&&void 0,outline:!!o&&void 0},a=n[n.length-1].node,l=e4[a.namespaceURI],c=DG(s,l);OG(r,o4,CG,c,n,l)})});const c4=class extends oQ{constructor(e){super(),e=e||{},A3||(b3=[255,255,255,1],k3=new yr({color:b3}),v3=[20,2],w3="pixels",x3="pixels",S3=[64,64],M3="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",E3=new QO({anchor:v3,anchorOrigin:"bottom-left",anchorXUnits:w3,anchorYUnits:x3,crossOrigin:"anonymous",rotation:0,scale:R3(S3),size:S3,src:M3}),T3="NO_IMAGE",C3=new vr({color:b3,width:1}),L3=new vr({color:[51,51,51,1],width:2}),D3=new tI({font:"bold 16px Helvetica",fill:k3,stroke:L3,scale:.8}),P3=new Er({fill:k3,image:E3,text:D3,stroke:C3,zIndex:0}),A3=[P3]),this.dataProjection=NA("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:A3,this.extractStyles_=void 0===e.extractStyles||e.extractStyles,this.writeStyles_=void 0===e.writeStyles||e.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===e.showPointNames||e.showPointNames,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:O3,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,t){const n=AG([],PG(u3,{Document:wG(this.readDocumentOrFolder_,this),Folder:wG(this.readDocumentOrFolder_,this),Placemark:xG(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),e,t,this);if(n)return n}readPlacemark_(e,t){const n=AG({geometry:null},d3,e,t,this);if(!n)return;const r=new AP,i=e.getAttribute("id");null!==i&&r.setId(i);const o=t[0],s=n.geometry;if(s&&oG(s,!1,o),r.setGeometry(s),delete n.geometry,this.extractStyles_){const e=function(e,t,n,r,i){return function(o,s){let a=i,l="",c=[];if(a){const e=o.getGeometry();if(e)if(e instanceof KY)c=e.getGeometriesArrayRecursive().filter(function(e){const t=e.getType();return"Point"===t||"MultiPoint"===t}),a=c.length>0;else{const t=e.getType();a="Point"===t||"MultiPoint"===t}}a&&(l=o.get("name"),a=a&&!!l,a&&/&[^&]+;/.test(l)&&($3||($3=document.createElement("textarea")),$3.innerHTML=l,l=$3.value));let u=n;if(e?u=e:t&&(u=I3(t,n,r)),a){const e=function(e,t){const n=[0,0];let r="start";const i=e.getImage();if(i){const e=i.getSize();if(e&&2==e.length){const t=i.getScaleArray(),o=i.getAnchor();n[0]=t[0]*(e[0]-o[0]),n[1]=t[1]*(e[1]/2-o[1]),r="left"}}let o=e.getText();o?(o=o.clone(),o.setFont(o.getFont()||D3.getFont()),o.setScale(o.getScale()||D3.getScale()),o.setFill(o.getFill()||D3.getFill()),o.setStroke(o.getStroke()||L3)):o=D3.clone();o.setText(t),o.setOffsetX(n[0]),o.setOffsetY(n[1]),o.setTextAlign(r);const s=new Er({image:i,text:o});return s}(u[0],l);if(c.length>0){e.setGeometry(new KY(c));return[e,new Er({geometry:u[0].getGeometry(),image:null,fill:u[0].getFill(),stroke:u[0].getStroke(),text:null})].concat(u.slice(1))}return e}return u}}(n.Style,n.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(e)}return delete n.Style,r.setProperties(n,!0),r}readSharedStyle_(e,t){const n=e.getAttribute("id");if(null!==n){const r=h5.call(this,e,t);if(r){let t,i=e.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i){t=new URL("#"+n,i).href}else t="#"+n;this.sharedStyles_[t]=r}}}readSharedStyleMap_(e,t){const n=e.getAttribute("id");if(null===n)return;const r=z3.call(this,e,t);if(!r)return;let i,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){i=new URL("#"+n,o).href}else i="#"+n;this.sharedStyles_[i]=r}readFeatureFromNode(e,t){if(!u3.includes(e.namespaceURI))return null;const n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n||null}readFeaturesFromNode(e,t){if(!u3.includes(e.namespaceURI))return[];let n;const r=e.localName;if("Document"==r||"Folder"==r)return n=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),n||[];if("Placemark"==r){const n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n?[n]:[]}if("kml"==r){n=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling){const e=this.readFeaturesFromNode(r,t);e&&Qt(n,e)}return n}return[]}readName(e){if(e){if("string"==typeof e){const t=vG(e);return this.readNameFromDocument(t)}return bG(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){const e=this.readNameFromNode(t);if(e)return e}}readNameFromNode(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(u3.includes(t.namespaceURI)&&"name"==t.localName)return VG(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){const e=t.localName;if(u3.includes(t.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)){const e=this.readNameFromNode(t);if(e)return e}}}readNetworkLinks(e){const t=[];if("string"==typeof e){const n=vG(e);Qt(t,this.readNetworkLinksFromDocument(n))}else bG(e)?Qt(t,this.readNetworkLinksFromDocument(e)):Qt(t,this.readNetworkLinksFromNode(e));return t}readNetworkLinksFromDocument(e){const t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Qt(t,this.readNetworkLinksFromNode(n));return t}readNetworkLinksFromNode(e){const t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(u3.includes(n.namespaceURI)&&"NetworkLink"==n.localName){const e=AG({},f3,n,[]);t.push(e)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){const e=n.localName;!u3.includes(n.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Qt(t,this.readNetworkLinksFromNode(n))}return t}readRegion(e){const t=[];if("string"==typeof e){const n=vG(e);Qt(t,this.readRegionFromDocument(n))}else bG(e)?Qt(t,this.readRegionFromDocument(e)):Qt(t,this.readRegionFromNode(e));return t}readRegionFromDocument(e){const t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Qt(t,this.readRegionFromNode(n));return t}readRegionFromNode(e){const t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(u3.includes(n.namespaceURI)&&"Region"==n.localName){const e=AG({},g3,n,[]);t.push(e)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){const e=n.localName;!u3.includes(n.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Qt(t,this.readRegionFromNode(n))}return t}readCamera(e){const t=[];if("string"==typeof e){const n=vG(e);Qt(t,this.readCameraFromDocument(n))}else bG(e)?Qt(t,this.readCameraFromDocument(e)):Qt(t,this.readCameraFromNode(e));return t}readCameraFromDocument(e){const t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType===Node.ELEMENT_NODE&&Qt(t,this.readCameraFromNode(n));return t}readCameraFromNode(e){const t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(u3.includes(n.namespaceURI)&&"Camera"===n.localName){const e=AG({},m3,n,[]);t.push(e)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){const e=n.localName;!u3.includes(n.namespaceURI)||"Document"!==e&&"Folder"!==e&&"Placemark"!==e&&"kml"!==e||Qt(t,this.readCameraFromNode(n))}return t}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=gG(u3[4],"kml"),r="http://www.w3.org/2000/xmlns/";n.setAttributeNS(r,"xmlns:gx",c3[0]),n.setAttributeNS(r,"xmlns:xsi",mG),n.setAttributeNS(mG,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");const i={node:n},o={};e.length>1?o.Document=e:1==e.length&&(o.Placemark=e[0]);const s=_3[n.namespaceURI],a=DG(o,s);return OG(i,y3,CG,a,[t],s,this),n}};p4.$inject=["$filter","ngeoMeasurePrecision","ngeoMeasureDecimals","ngeoMeasureSpherical","ngeoPointfilter"];const u4="GPX",h4="KML",d4={NONE:"none",FORWARD:"forward",BACKWARD:"backward",BOTH:"both"},f4={FIRST:"first",LAST:"last",EVERY:"every"};function p4(e,t,n,r,i){if(this.$filter_=e,this.decimals_=n,this.precision_=t,this.spherical=r,this.numberFormat_=e("number"),this.unitPrefixFormat_=e("ngeoUnitPrefix"),this.ngeoNumberCoordinates_=e("ngeoNumberCoordinates"),this.pointFilterFn_=null,this.pointFilterArgs_=[],i){const e=i.split(":"),t=e.shift(),n=this.$filter_(t);console.assert("function"==typeof n),this.pointFilterFn_=n,this.pointFilterArgs_=e}else this.pointFilterFn_=null;this.projection_=null}function m4(e){const t=e.getProperties();delete t.boundedBy,delete t[e.getGeometryName()],delete t.ngeo_feature_type_;for(const e in t){const n=t[e];"object"==typeof n&&("true"==n["xsi:nil"]?t[e]=void 0:n._content_&&(t[e]=n._content_))}return t}p4.prototype.setProjection=function(e){this.projection_=e},p4.prototype.setStyle=function(e,t){const n=this.getStyle(e);t&&(this.supportsVertex_(e)&&n.push(this.getVertexStyle()),n.unshift(this.getHaloStyle_(e))),e.setStyle(n)},p4.prototype.getStyle=function(e){let t,n;switch(this.getType(e)){case u2:t=this.getLineStringStyle_(e);break;case p2:t=this.getPointStyle_(e);break;case c2:case m2:case g2:t=this.getPolygonStyle_(e);break;case _2:t=this.getTextStyle_(e)}if(!t)throw new Error("Missing style");return n=t instanceof Array?t:[t],n},p4.prototype.getLineStringStyle_=function(e){const t=this.getStrokeProperty(e),n=this.getShowLabelProperty(e),r=this.getShowMeasureProperty(e),i=this.getRGBAColorProperty(e),o=this.getArrowDirectionProperty(e),s=this.getArrowPositionProperty(e),a=[new Er({stroke:new vr({color:i,width:t})})];o!==d4.NONE&&a.push(...this.getArrowLineStyles_(e,o,s,i));const l=[];if(r&&l.push(this.getMeasure(e)),n&&l.push(this.getNameProperty(e)),n||r){const e=l.join("\n");a.push(new Er({text:this.createTextStyle_({propertyName:"",name:"",text:e})}))}return a},p4.prototype.getArrowLineStyles_=function(e,t,n,r){const i=e.getGeometry(),o=[],s=(e,n)=>{const i=n[0]-e[0],s=n[1]-e[1],a=Math.atan2(s,i),l=(e,t)=>new Er({geometry:new $R(e),text:new tI({fill:new yr({color:r}),font:'900 20px "Font Awesome 6 Free"',stroke:new vr({width:1,color:r}),text:"",rotateWithView:!0,rotation:t?Math.PI-a:-a})});t!==d4.FORWARD&&t!==d4.BOTH||o.push(l(n,!1)),t!==d4.BACKWARD&&t!==d4.BOTH||o.push(l(e,!0))};let a=null;return i.forEachSegment((e,t)=>{n!==f4.FIRST?n!==f4.LAST?s(e,t):a=[[...e],[...t]]:null===a&&(a=[[...e],[...t]])}),a&&s(a[0],a[1]),o},p4.prototype.getPointStyle_=function(e){const t=this.getSizeProperty(e),n=this.getRGBAColorProperty(e),r=this.getShowLabelProperty(e),i=this.getShowMeasureProperty(e),o=[new Er({image:new gr({radius:t,fill:new yr({color:n})})})],s=[];if(i&&s.push(this.getMeasure(e)),r&&s.push(this.getNameProperty(e)),r||i){const e=s.join("\n"),n=10,r=1.3;o.push(new Er({text:this.createTextStyle_({propertyName:"",name:"",text:e,size:n,offsetY:-(t+n/2*s.length*r+4)})}))}return o},p4.prototype.optNumber=function(e,t){const n=e.get(t);return void 0!==n?"string"==typeof n?+n:n:void 0},p4.prototype.getNumber=function(e,t){const n=e.get(t);return"string"==typeof n?+n:n},p4.prototype.getPolygonStyle_=function(e){const t=this.getStrokeProperty(e),n=this.getOpacityProperty(e),r=this.getRGBAColorProperty(e),i=this.getShowLabelProperty(e),o=this.getShowMeasureProperty(e),s=r.slice();s[3]=n;const a=this.optNumber(e,r2),l=[new Er({fill:new yr({color:s}),stroke:new vr({color:r,width:t})})];if(o||i)if(o&&void 0!==a){if(!this.projection_)throw new Error("Missing projection");const n=this.getRadiusLine(e,a),o=b2(n,this.projection_,this.precision_,this.unitPrefixFormat_);l.push(new Er({geometry:n,fill:new yr({color:s}),stroke:new vr({color:r,width:t}),text:this.createTextStyle_({propertyName:"",name:"",text:o,angle:(a%180+180)%180-90})})),l.push(new Er({geometry:new $R(n.getLastCoordinate()),text:this.createTextStyle_({propertyName:"",name:"",text:`${this.numberFormat_(a,this.decimals_)}°`,size:10,offsetX:20*Math.cos((a-90)*Math.PI/180),offsetY:20*Math.sin((a-90)*Math.PI/180)})})),i&&l.push(new Er({text:this.createTextStyle_({propertyName:"",name:"",text:this.getNameProperty(e),offsetY:-8,exceedLength:!0})}))}else{const t=[];if(o&&t.push(this.getMeasure(e)),i&&t.push(this.getNameProperty(e)),i||o){const e=t.join("\n");l.push(new Er({text:this.createTextStyle_({propertyName:"",name:"",text:e,exceedLength:!0})}))}}return l},p4.prototype.getTextStyle_=function(e){return new Er({text:this.createTextStyle_({propertyName:"",name:"",rotateWithView:!0,text:this.getNameProperty(e),size:this.getSizeProperty(e),angle:this.getAngleProperty(e),color:this.getRGBAColorProperty(e),width:this.getStrokeProperty(e)})})},p4.prototype.createEditingStyles=function(e){const t=[255,255,255,1],n=[0,153,255,1],r=[],i=e.getGeometry();if(!i)throw new Error("Missing geom");const o=i.getType();return"Point"===o?r.push(new Er({image:new gr({radius:6,fill:new yr({color:n}),stroke:new vr({color:t,width:1.5})}),zIndex:1/0})):("LineString"===o?(r.push(new Er({stroke:new vr({color:t,width:5})})),r.push(new Er({stroke:new vr({color:n,width:3})}))):r.push(new Er({stroke:new vr({color:n,width:1.5}),fill:new yr({color:[255,255,255,.5]})})),r.push(this.getVertexStyle(!0))),r},p4.prototype.createNoEditingSelectionStyles=function(e){const t=[255,255,255,1],n=[128,128,128,.7],r=[],i=e.getGeometry();if(!i)throw new Error("Missing geom");const o=i.getType();return"Point"===o||"MultiPoint"===o?r.push(new Er({image:new gr({radius:8,fill:new yr({color:n}),stroke:new vr({color:t,width:1})}),zIndex:1/0})):"LineString"===o||"MultiLineString"===o?(r.push(new Er({stroke:new vr({color:t,width:4})})),r.push(new Er({stroke:new vr({color:n,width:2})}))):r.push(new Er({stroke:new vr({color:n,width:1}),fill:new yr({color:[255,255,255,.5]})})),r},p4.prototype.getVertexInfoAtCoordinate=function(e,t,n){let r=null;if(this.supportsVertexRemoval_(e)){const i=6*n;let o=null,s=null,a=null,l=-1;const c=e.getGeometry();if(c instanceof oO?(o=c.getCoordinates(),l=2):c instanceof KN?(s=c.getCoordinates(),l=4):c instanceof JY?(s=c.getCoordinates(),l=2):c instanceof nj&&(a=c.getCoordinates(),l=4),o){const e=this.getCoordinateIndexThatHitsAt_(o,t,l,i);-1!==e&&(r=[e])}else if(s){const e=s.length;for(let n=0;n<e;n++){const e=this.getCoordinateIndexThatHitsAt_(s[n],t,l,i);if(-1!==e){r=[n,e];break}}}else if(a){const e=a.length;for(let n=0;n<e;n++){const e=a[n],o=e.length;for(let s=0;s<o;s++){const o=this.getCoordinateIndexThatHitsAt_(e[s],t,l,i);if(-1!==o){r=[n,s,o];break}}if(r)break}}}return r},p4.prototype.getCoordinateIndexThatHitsAt_=function(e,t,n,r){let i=-1;const o=e.length;if(o>n)for(let n=0;n<o;n++){if(GP(HP(ZP(e[n]),r),t)){i=n;break}}return i},p4.prototype.getVertexStyle=function(e){const t=void 0===e||e,n={image:new pr({radius:6,points:4,angle:Math.PI/4,fill:new yr({color:[255,255,255,.5]}),stroke:new vr({color:[0,0,0,1]})})};return t&&(n.geometry=function(e){const t=e.getGeometry();if(!(t instanceof TR))return;if("Point"==t.getType())return;let n,r=[],i=[];if(t instanceof oO?i=t.getCoordinates():t instanceof JY?r=t.getCoordinates():t instanceof KN?i=t.getCoordinates()[0]:t instanceof nj&&(n=t.getCoordinates()),n)for(let e=0,t=n.length;e<t;e++)r=r.concat(n[e]);for(let e=0,t=r.length;e<t;e++)i=i.concat(r[e]);return i.length?new ej(i):t}),new Er(n)},p4.prototype.removeVertex=function(e,t){let n=!1;const r=e.getGeometry();if(!(r instanceof TR))throw new Error("Wrong geometry type");if(r instanceof oO){const e=r.getCoordinates(),i=t[0];e.length>2&&(e.splice(i,1),n=!0),n&&r.setCoordinates(e)}else if(r instanceof KN){const e=r.getCoordinates(),i=t[0],o=t[1],s=e[i];s.length>4&&(s.splice(o,1),n=!0,0===o&&(s.pop(),s.push(s[0]))),n&&r.setCoordinates(e)}else if(r instanceof JY){const e=r.getCoordinates(),i=t[0],o=t[1],s=e[i];s.length>2&&(s.splice(o,1),n=!0),n&&r.setCoordinates(e)}else if(r instanceof nj){const e=r.getCoordinates(),i=t[0],o=t[1],s=t[2],a=e[i][o];a.length>4&&(a.splice(s,1),n=!0,0===s&&(a.pop(),a.push(a[0]))),n&&r.setCoordinates(e)}},p4.prototype.supportsVertex_=function(e){const t=[u2,h2,f2,m2,g2],n=this.getType(e);return t.includes(n)},p4.prototype.supportsVertexRemoval_=function(e){const t=[u2,h2,f2,m2],n=this.getType(e);return t.includes(n)},p4.prototype.getHaloStyle_=function(e){let t;switch(this.getType(e)){case p2:const n=this.getSizeProperty(e);t=new Er({image:new gr({radius:n+3,fill:new yr({color:[255,255,255,1]})})});break;case u2:case c2:case m2:case g2:const r=this.getStrokeProperty(e);t=new Er({stroke:new vr({color:[255,255,255,1],width:r+6})});break;case _2:t=new Er({text:this.createTextStyle_({propertyName:"",name:"",rotateWithView:!0,text:this.getNameProperty(e),size:this.getSizeProperty(e),angle:this.getAngleProperty(e),width:9})})}if(!t)throw new Error("Missing style");return t},p4.prototype.getAngleProperty=function(e){const t=+e.get(X1);return console.assert("number"==typeof t),t},p4.prototype.getColorProperty=function(e){return e.get(K1)},p4.prototype.getRGBAColorProperty=function(e){const t=this.getColorProperty(e);return"string"!=typeof t?null:Ot(t)},p4.prototype.getNameProperty=function(e){const t=e.get(e2);return console.assert("string"==typeof t),t},p4.prototype.getOpacityProperty=function(e){return this.getNumber(e,n2)},p4.prototype.getShowMeasureProperty=function(e){let t=e.get(i2);return void 0===t?t=!1:"string"==typeof t&&(t="true"===t),t},p4.prototype.getShowLabelProperty=function(e){let t=e.get(t2);return void 0===t?t=!1:"string"==typeof t&&(t="true"===t),t},p4.prototype.getShowArrowsProperty=function(e){const t=e.get(a2);return void 0!==t&&t!==d4.NONE},p4.prototype.getSizeProperty=function(e){return this.getNumber(e,o2)},p4.prototype.getStrokeProperty=function(e){return this.getNumber(e,s2)},p4.prototype.getArrowDirectionProperty=function(e){const t=e.get(a2);return Object.values(d4).includes(t)?t:d4.NONE},p4.prototype.getArrowPositionProperty=function(e){const t=e.get(l2);return Object.values(f4).includes(t)?t:f4.FIRST},p4.prototype.export=function(e,t){switch(t){case u4:this.exportGPX(e);break;case h4:this.exportKML(e)}},p4.prototype.exportGPX=function(e){const t=new l3;this.export_(e,t,"export.gpx","application/gpx+xml")},p4.prototype.exportKML=function(e){const t=new c4;this.export_(e,t,"export.kml","application/vnd.google-earth.kml+xml")},p4.prototype.export_=function(e,t,n,r){const i=void 0!==r?r:"text/plain",o=[];let s;e.forEach(e=>{s=new AP(e.getProperties()),this.setStyle(s,!1),o.push(s)});const a=this.projection_?{dataProjection:"EPSG:4326",featureProjection:this.projection_}:{},l=t.writeFeatures(o,a);"string"==typeof l?PU(l,n,`${i};charset=utf-8`):console.error("Unsupported type: "+typeof l)},p4.prototype.createTextStyle_=function(e){const t=e;if(e.angle){const n=(void 0!==e.angle?e.angle:0)*Math.PI/180;t.rotation=n,delete e.angle}return t.overflow=!0,t.font=["normal",`${e.size||10}pt`,"Arial"].join(" "),e.color&&(t.fill=new yr({color:e.color||[0,0,0,1]}),delete e.color),t.stroke=new vr({color:[255,255,255,1],width:e.width||3}),delete e.width,new tI(t)},p4.prototype.getMeasure=function(e){if(!this.projection_)throw new Error("Missing projection");const t=e.getGeometry();if(!t)throw new Error("Missing geometry");let n="";if(t instanceof KN)if(this.getType(e)===c2){const t=this.optNumber(e,r2);if("number"!=typeof t)throw new Error("Missing azimut");n=k2(this.getRadiusLine(e,t),this.projection_,this.decimals_,this.precision_,this.unitPrefixFormat_,this.numberFormat_)}else n=y2(t,this.projection_,this.precision_,this.unitPrefixFormat_,this.spherical);else if(t instanceof oO)n=b2(t,this.projection_,this.precision_,this.unitPrefixFormat_,this.spherical);else if(t instanceof $R)if(null===this.pointFilterFn_)n=v2(t,this.decimals_,this.ngeoNumberCoordinates_);else{const e=t.getCoordinates();n=this.pointFilterArgs_.length>1?this.pointFilterFn_(e,this.pointFilterArgs_[0],this.pointFilterArgs_[1]).join(", "):this.pointFilterFn_(e,this.pointFilterArgs_[0]).join(", ")}return n},p4.prototype.getType=function(e){const t=e.getGeometry();let n;if(console.assert(t,"Geometry should be thruthy"),t instanceof $R?n=e.get(Q1)?_2:p2:t instanceof ej?n=d2:t instanceof KN?n=e.get(Z1)?c2:e.get(J1)?g2:m2:t instanceof nj?n=f2:t instanceof oO?n=u2:t instanceof JY&&(n=h2),!n)throw new Error("Missing type");return n},p4.prototype.fitMapToFeature=function(e,t,n){const r=void 0!==n?n:250,i=t.getSize();if(!Array.isArray(i))throw new Error("Missing size");const o=t.getView(),s=o.calculateExtent(i),a=e.getGeometry();if(!a)throw new Error("Missing geometry");const l=a.intersectsExtent(s),c=o.getCenter();if(!Array.isArray(c))throw new Error("Missing mapCenter");const u=a.getExtent();if(l){if(!(a instanceof $R)){const e=o.getResolutionForExtent(u),t=o.getZoomForResolution(e);if(!t)throw new Error("Missing featureZoom");const n=Math.floor(t),i=o.getZoom();if(!i)throw new Error("Missing zoom");n<i&&o.animate({center:c,duration:r},{center:c,duration:r,zoom:n})}}else{const e=d$(u),t=g$(u),n=d$(s),l=g$(s);if(n>=e&&l>=t){let e;e=a instanceof oO?a.getCoordinateAt(.5):a instanceof KN?a.getInteriorPoint().getCoordinates():a instanceof $R?a.getCoordinates():l$(a.getExtent()),o.animate({center:c,duration:r},{center:e,duration:r})}else o.fit(u,{duration:r,size:i})}},p4.prototype.getRadiusLine=function(e,t){const n=e.getGeometry();if(!n)throw new Error("Missing geometry");const r=n.getExtent(),i=(r[3]-r[1])/2,o=l$(n.getExtent()),s=Math.cos((t-90)*Math.PI/180)*i,a=-Math.sin((t-90)*Math.PI/180)*i,l=[s+o[0],a+o[1]];return new oO([o,l])},p4.prototype.getNonSpatialProperties=function(e){const t=e.getGeometryName(),n={},r=e.getProperties();for(const e in r)e!==t&&(n[e]=r[e]);return n},p4.prototype.clearNonSpatialProperties=function(e){const t=e.getGeometryName(),n=e.getProperties();for(const r in n)r!==t&&e.set(r,void 0)},p4.prototype.findFeatureIndexByFid=function(e,t){let n=-1;for(let r=0,i=e.length;r<i;r++)if(e[r].getId()==t){n=r;break}return n};const g4=t().module("ngeoFeatureHelper",[V1.name]);g4.service("ngeoFeatureHelper",p4);const _4=g4;function y4(){}y4.prototype.createDate=function(e,t=null){return null!==e&&null!=e?new Date(e):t},y4.prototype.getTime=function(e,t=null){return e?e.getTime():t},y4.prototype.getOptions=function(e){const t=this.createDate(e.minValue),n=this.createDate(e.maxValue),r=this.createDate(e.minDefValue,t),i=this.createDate(e.maxDefValue,n);if(!r)throw new Error("Missing minDefaultDate");if(!i)throw new Error("Missing maxDefaultDate");const o=this.getTime(t),s=this.getTime(n),a=this.getTime(r),l=this.getTime(i);if(!a)throw new Error("Missing minDefaultTime");let c=a;if("range"===e.mode){if(!l)throw new Error("Missing maxDefaultTime");c=[a,l]}return{minDate:o,maxDate:s,values:c}},y4.prototype.getUTCDate=function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())};const b4=t().module("ngeoTime",[]);b4.service("ngeoTime",y4);const v4=b4;class w4 extends y4{constructor(e,t){super(),this.$filter_=e,this.gettextCatalog_=t}formatTimeValue(e,t,n,r){const i=new Date(e),o=r?"UTC":void 0;let s="yyyy",a="yyyy-MM",l="yyyy-MM-dd",c=null;if(!n){const e=this.gettextCatalog_;s=e.getString("yyyy"),a=e.getString("M/yyyy"),l=e.getString("M/d/yyyy"),c=e.getString("M/d/yyyy HH:MM:ss")}switch(t){case"year":return this.$filter_("date")(i,s,o);case"month":return this.$filter_("date")(i,a,o);case"day":return this.$filter_("date")(i,l,o);case"second":return c?this.$filter_("date")(i,c,o):i.toISOString().replace(/\.\d{3}/,"");default:return i.toISOString().replace(/\.\d{3}/,"")}}formatWMSTimeParam(e,t,n){return console.assert(void 0!==e.resolution),"range"===e.mode?(console.assert(void 0!==t.end),`${this.formatTimeValue(t.start,e.resolution,!0,n)}/${this.formatTimeValue(t.end,e.resolution,!0,n)}`):this.formatTimeValue(t.start,e.resolution,!0,n)}}w4.$inject=["$filter","gettextCatalog"];const x4=t().module("ngeoWMSTime",[v4.name]);x4.service("ngeoWMSTime",w4);const S4=x4,M4={BETWEEN:"..",EQUAL_TO:"=",GREATER_THAN:">",GREATER_THAN_OR_EQUAL_TO:">=",LESSER_THAN:"<",LESSER_THAN_OR_EQUAL_TO:"<=",LIKE:"~",NOT_EQUAL_TO:"!="},k4={CONTAINS:"contains",INTERSECTS:"intersects",WITHIN:"within"},T4={BEGINS:"time_start",DURING:"time_during",ENDS:"time_end",EQUALS:"time_equal"};class E4{constructor(e){this.active=!0===e.active,this.literal_=void 0!==e.literal?e.literal:null,this.lowerBoundary=void 0!==e.lowerBoundary?e.lowerBoundary:null,this.operator=e.operator||null,this.upperBoundary=void 0!==e.upperBoundary?e.upperBoundary:null,this.isCustom_=!1!==e.isCustom,this.name_=e.name,this.operators_=e.operators||null,this.propertyName_=e.propertyName,this.type_=e.type,this.listenerKeys=[]}get literal(){return this.literal_}set literal(e){this.literal_=e}get isCustom(){return this.isCustom_}get name(){return this.name_}get operators(){return this.operators_}get propertyName(){return this.propertyName_}get type(){return this.type_}get value(){let e=null;const t=this.literal,n=this.lowerBoundary,r=this.operator,i=this.propertyName,o=this.upperBoundary;return r&&(r===M4.BETWEEN||r===T4.DURING?null!==n&&null!==o&&(e={operator:r,lowerBoundary:n,propertyName:i,upperBoundary:o}):null!==t&&(e={literal:t,operator:r,propertyName:i})),e}reset(){null!==this.literal&&(this.literal=null),null!==this.lowerBoundary&&(this.lowerBoundary=null),null!==this.upperBoundary&&(this.upperBoundary=null)}destroy(){this.listenerKeys.forEach(pn),this.listenerKeys.length=0}}const L4=class extends E4{constructor(e){e.type=e.type||JJ,super(e)}},C4=class extends E4{constructor(e){e.type=tQ,super(e);const t=e.featureProperties||{};this.feature_=new AP(t),this.format_=new RJ,this.updatingLiteral_=!1,this.updatingGeometry_=!1,this.geometryChangeListenerKey_=null,this.listenerKeys.push(dn(this.feature_,`change:${this.feature.getGeometryName()}`,this.handleFeatureGeometryChange_,this)),this.setGeometryFromLiteral_()}get feature(){return this.feature_}get literal(){return this.literal_}set literal(e){this.updatingLiteral_=!0,this.literal_=e,this.updatingGeometry_||this.setGeometryFromLiteral_(),this.registerGeometryChange_(),this.updatingLiteral_=!1}get geometry(){return this.feature_.getGeometry()||null}set geometry(e){this.feature_.setGeometry(e||void 0)}handleFeatureGeometryChange_(){if(this.updatingLiteral_)return;this.updatingGeometry_=!0;const e=this.feature_.getGeometry();if(e){const t=this.format_.writeGeometry(e);"string"==typeof t?this.literal_=t:console.error("Unsupported type: "+typeof t)}else this.literal_=null;this.registerGeometryChange_(),this.updatingGeometry_=!1}handleGeometryChange_(e){const t=e.target;this.updatingGeometry_=!0;const n=this.format_.writeGeometry(t);"string"==typeof n?this.literal_=n:console.error("Unsupported type: "+typeof n),this.updatingGeometry_=!1}setGeometryFromLiteral_(){let e=null;if(this.literal){const t=`${this.literal}`;e=this.format_.readGeometry(t)}this.geometry=e}registerGeometryChange_(){null!==this.geometryChangeListenerKey_&&(pn(this.geometryChangeListenerKey_),this.geometryChangeListenerKey_=null);const e=this.feature_.getGeometry();e&&(this.geometryChangeListenerKey_=dn(e,"change",this.handleGeometryChange_,this))}},D4=class extends E4{constructor(e){e.operator=M4.EQUAL_TO,e.type=rQ,super(e),this.choices_=e.choices}get choices(){return this.choices_}get selectedChoices(){let e;return e=this.literal?this.literal:[],e}},P4=class extends E4{constructor(e){e.operator=e.operator||M4.LIKE,e.type=iQ,super(e)}};var $4=n(5093),A4=n.n($4);class R4{constructor(e,t,n){this.gettextCatalog_=e,this.ngeoFeatureHelper_=t,this.ngeoWMSTime_=n}createRulesFromAttributes(e,t){const n=[];for(const r of e)n.push(this.createRuleFromAttribute(r,t));return n}createRuleFromAttribute(e,t){let n;const r=!0===t,i=this.gettextCatalog_.getString(e.name);switch(e.type){case JJ:case QJ:n=new L4(r?{name:i,operator:T4.EQUALS,operators:[T4.EQUALS,T4.BEGINS,T4.ENDS],propertyName:e.name,type:e.type}:{name:i,operator:T4.DURING,propertyName:e.name,type:e.type});break;case tQ:n=new C4({name:i,operator:k4.INTERSECTS,operators:[k4.CONTAINS,k4.INTERSECTS,k4.WITHIN],propertyName:e.name,type:e.type});break;case nQ:n=new E4(r?{name:i,operator:M4.EQUAL_TO,operators:[M4.EQUAL_TO,M4.GREATER_THAN,M4.GREATER_THAN_OR_EQUAL_TO,M4.LESSER_THAN,M4.LESSER_THAN_OR_EQUAL_TO,M4.NOT_EQUAL_TO],propertyName:e.name,type:nQ}:{name:i,operator:M4.BETWEEN,propertyName:e.name,type:nQ});break;case rQ:n=new D4({choices:e.choices,name:i,propertyName:e.name});break;default:n=new P4(r?{text:"",name:i,operator:M4.LIKE,operators:[M4.LIKE,M4.EQUAL_TO,M4.NOT_EQUAL_TO],propertyName:e.name}:{text:"",name:i,operator:M4.LIKE,propertyName:e.name})}return n}createRules(e){const t=[];for(const n of e)t.push(this.createRule(n));return t}createRule(e){let t;switch(e.expression&&(e.literal=e.expression),e.type){case JJ:case QJ:t=new L4(e);break;case tQ:t=new C4(e);break;case rQ:if(e.expression){const t=e.expression;e.literal=t.split(",")}const n=e;console.assert(n.choices),t=new D4(n);break;default:t=new P4(e)}return t}cloneRule(e){const t={isCustom:e.isCustom,name:e.name,propertyName:e.propertyName,type:e.type},n=e.literal;let r;if(null!==n&&(t.literal=n),null!==e.lowerBoundary&&(t.lowerBoundary=e.lowerBoundary),e.operator&&(t.operator=e.operator),e.operators&&(t.operators=e.operators.slice(0)),null!==e.upperBoundary&&(t.upperBoundary=e.upperBoundary),e instanceof L4)r=new L4(t);else if(e instanceof C4)r=new C4(t),r.feature.setProperties(this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature));else if(e instanceof D4){const n=t;n.choices=e.choices.slice(0),r=new D4(n)}else if(e instanceof P4){r=new P4(t)}else r=new E4(t);return r}extendRule(e,t){t.literal!==e.literal&&(t.literal=e.literal),t.lowerBoundary!==e.lowerBoundary&&(t.lowerBoundary=e.lowerBoundary),t.operator!==e.operator&&(t.operator=e.operator),t.upperBoundary!==e.upperBoundary&&(t.upperBoundary=e.upperBoundary),e instanceof C4&&t instanceof C4&&(this.ngeoFeatureHelper_.clearNonSpatialProperties(t.feature),t.feature.setProperties(this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature)))}serializeRules(e){return e.map(e=>this.serializeRule(e))}serializeRule(e){const t={name:e.name,propertyName:e.propertyName,type:e.type};if(null!==e.literal&&(t.literal=e.literal),null!==e.lowerBoundary&&(t.lowerBoundary=e.lowerBoundary),null!==e.operator&&(t.operator=e.operator),null!==e.operators&&(t.operators=e.operators.slice(0)),null!==e.upperBoundary&&(t.upperBoundary=e.upperBoundary),e instanceof C4){t.featureProperties=this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature)}if(e instanceof D4){t.choices=e.choices}return t}createFilter(e){const t=e.dataSource;let n=null;if(e.filter)n=e.filter;else{const r=e.filterRules||t.filterRules,i=[];if(r&&r.length)for(const n of r){const r=this.createFilterFromRule_(n,t,e.srsName);r&&i.push(r)}const o=t.filterCondition;1===i.length?n=i[0]:i.length>=2&&(o===BJ?n=HQ.apply(null,i):o!==XJ&&o!==VJ||(n=UQ.apply(null,i))),n&&o===VJ&&(n=function(e){return new FQ(e)}(n))}if(e.incTime){const e=this.createTimeFilterFromDataSource_(t);n=this.joinFilters(n,e)}if(e.incDimensions){const e=this.createDimensionsFilterFromDataSource_(t);n=this.joinFilters(n,e)}return n}createFilterString(e){let t=null;const n=this.createFilter(e);if(n){const e=function(e,t){const n=gG(O0(t=t||"1.1.0"),"Filter"),r={node:n};return Object.assign(r,{version:t,filter:e}),b0(n,e,[r]),n}(n,"1.1.0");t=(new XMLSerializer).serializeToString(e)}return t}joinFilters(e,t){let n=null;return e&&t?n=HQ.apply(null,[e,t]):e?n=e:t&&(n=t),n}createFilterFromRule_(e,t,n){let r=null;const i=e.value;if(!i)return null;const o=i.literal,s=i.lowerBoundary,a=i.operator,l=i.propertyName,c=i.upperBoundary,u=M4,h=k4,d=T4,f=[h.CONTAINS,h.INTERSECTS,h.WITHIN],p=[u.GREATER_THAN,u.GREATER_THAN_OR_EQUAL_TO,u.LESSER_THAN,u.LESSER_THAN_OR_EQUAL_TO];if(e instanceof L4){let e,n;a===d.DURING?(e=A4()(s).format("YYYY-MM-DD"),n=A4()(c).format("YYYY-MM-DD")):a===d.EQUALS?(e=A4()(o).format("YYYY-MM-DD"),n=e):a===d.BEGINS?(e=A4()(o).format("YYYY-MM-DD"),n=A4()(o).add(100,"years").format("YYYY-MM-DD")):a===d.ENDS&&(e="1800-01-01",n=A4()(o).format("YYYY-MM-DD")),e&&n&&(r="qgisserver"==t.ogcServerType?function(e,t,n){return new Y1(e,t,n)}(l,e,n):WQ(l,e,n))}else if(e instanceof D4){const t=e.selectedChoices;if(1===t.length)r=GQ(l,t[0]);else if(t.length>=2){const e=[];for(const n of t)e.push(GQ(l,n));r=UQ.apply(null,e)}}else if(f.includes(a)){const i=t.getFiltrableWFSLayerName(),o=t.geometryName(i?i[0]:null);if(e instanceof C4){const t=e.geometry;if(!t)throw new Error("Missing geometry");if(null===o)throw new Error("Missing geometryName");a===h.CONTAINS?r=function(e,t,n){return new kQ(e,t,n)}(o,t,n):a===h.INTERSECTS?r=zQ(o,t,n):a===h.WITHIN&&(r=function(e,t,n){return new jQ(e,t,n)}(o,t,n))}}else if(p.includes(a)){if("number"!=typeof o)throw new Error("Wrong literal type");a===u.GREATER_THAN?r=function(e,t){return new DQ(e,t)}(l,o):a===u.GREATER_THAN_OR_EQUAL_TO?r=function(e,t){return new PQ(e,t)}(l,o):a===u.LESSER_THAN?r=function(e,t){return new OQ(e,t)}(l,o):a===u.LESSER_THAN_OR_EQUAL_TO&&(r=function(e,t){return new IQ(e,t)}(l,o))}else if(a===u.BETWEEN)r=function(e,t,n){return new AQ(e,t,n)}(l,s,c);else if(a===u.EQUAL_TO)r=GQ(l,o);else if(a===u.LIKE){r=function(e,t,n,r,i,o){return new RQ(e,t,n,r,i,o)}(l,`*${String(o).replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*")}*`,"*",".","!",!1)}else a===u.NOT_EQUAL_TO&&(r=function(e,t,n){return new NQ(e,t,n)}(l,o));return r}createDimensionsFilterFromDataSource_(e){const t=e.dimensionsFiltersConfig||{},n=e.dimensions,r=[];for(const e in t){let i=t[e].value;if(null===i){const t=n[e];null!=t&&(i=t)}null!==i&&r.push(GQ(t[e].field,i,!0))}return 1===r.length?r[0]:r.length>=2?HQ.apply(null,r):null}createTimeFilterFromDataSource_(e){let t=null;const n=e.timeRangeValue,r=e.timeProperty,i=e.timeAttributeName;if(n&&r&&i)if(void 0!==n.end){const e=this.ngeoWMSTime_.formatWMSTimeParam(r,n).split("/");t=WQ(i,e[0],e[1])}else{const e=r.resolution||"seconds",o=this.ngeoWMSTime_.formatWMSTimeParam(r,n);let s;switch(e){case"year":s=A4()(o).add(1,"years").subtract(1,"seconds");break;case"month":s=A4()(o).add(1,"months").subtract(1,"seconds");break;case"day":s=A4()(o).add(1,"days").subtract(1,"seconds")}if(s){t=WQ(i,A4()(o).utc().format("YYYY-MM-DD HH:mm:ss"),s.utc().format("YYYY-MM-DD HH:mm:ss"))}}return t}}R4.$inject=["gettextCatalog","ngeoFeatureHelper","ngeoWMSTime"];const O4=t().module("ngeoRuleHelper",[_4.name,S4.name]);O4.service("ngeoRuleHelper",R4);const I4=O4,F4=[null,"http://www.w3.org/2001/XMLSchema"];function N4(e,t){return PG(e,t)}const Y4=N4(F4,{element:MG(W4),complexType:MG(function(e,t){const n=e.getAttribute("name"),r=AG({name:n},j4,e,t);return r.complexContent=r.complexContent.extension.sequence.element,r})}),j4=N4(F4,{complexContent:kG(function(e,t){return AG({},H4,e,t)})}),H4=N4(F4,{extension:kG(function(e,t){return AG({},U4,e,t)})}),U4=N4(F4,{sequence:kG(function(e,t){return AG({},z4,e,t)})}),z4=N4(F4,{element:MG(W4)});class G4 extends YG{}function W4(e,t){const n={};for(let t=0,r=e.attributes.length;t<r;t++){const r=e.attributes.item(t);if(!r)throw new Error("Missing attribute");n[r.name]=r.value}if(1===t.length){const e=n.type.split(":").pop();if(!e)throw new Error("Missing attribute");n.type=e}return n}G4.prototype.read,G4.prototype.readFromDocument=function(e){let t;for(t=e.firstChild;t;t=t.nextSibling)if(t&&t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},G4.prototype.readFromNode=function(e){let t={};return t=AG(t,Y4,e,[]),t};const q4=G4,B4=[null,"http://www.opengis.net/wms","http://www.opengis.net/sld"];function V4(e){return T$(e[0].version,"1.3")>=0}const X4=PG(B4,{Service:kG(function(e,t){return AG({},V4(t)?Q4:J4,e,t)}),Capability:kG(function(e,t){return AG({},K4,e,t)})}),K4=PG(B4,{Request:kG(function(e,t){return AG({},c6,e,t)}),Exception:kG(function(e,t){return AG([],r6,e,t)}),Layer:kG(function(e,t){const n=AG({},V4(t)?s6:o6,e,t);if(void 0===n.Layer)return Object.assign(n,_6(e,t));return n}),UserDefinedSymbolization:kG(function(e,t){return{SupportSLD:!!UG(e.getAttribute("SupportSLD")),UserLayer:!!UG(e.getAttribute("UserLayer")),UserStyle:!!UG(e.getAttribute("UserStyle")),RemoteWFS:!!UG(e.getAttribute("RemoteWFS")),InlineFeatureData:!!UG(e.getAttribute("InlineFeatureData")),RemoteWCS:!!UG(e.getAttribute("RemoteWCS"))}})});const Z4={Name:kG(VG),Title:kG(VG),Abstract:kG(VG),KeywordList:kG(w6),OnlineResource:kG(jG),ContactInformation:kG(function(e,t){return AG({},e6,e,t)}),Fees:kG(VG),AccessConstraints:kG(VG)},J4=PG(B4,Z4),Q4=PG(B4,{...Z4,LayerLimit:kG(qG),MaxWidth:kG(qG),MaxHeight:kG(qG)}),e6=PG(B4,{ContactPersonPrimary:kG(function(e,t){return AG({},t6,e,t)}),ContactPosition:kG(VG),ContactAddress:kG(function(e,t){return AG({},n6,e,t)}),ContactVoiceTelephone:kG(VG),ContactFacsimileTelephone:kG(VG),ContactElectronicMailAddress:kG(VG)}),t6=PG(B4,{ContactPerson:kG(VG),ContactOrganization:kG(VG)}),n6=PG(B4,{AddressType:kG(VG),Address:kG(VG),City:kG(VG),StateOrProvince:kG(VG),PostCode:kG(VG),Country:kG(VG)}),r6=PG(B4,{Format:xG(VG)}),i6={Name:kG(VG),Title:kG(VG),Abstract:kG(VG),KeywordList:kG(w6),BoundingBox:MG(g6),Dimension:MG(function(e,t){const n={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol")};V4(t)&&Object.assign(n,{default:e.getAttribute("default"),multipleValues:UG(e.getAttribute("multipleValues")),nearestValue:UG(e.getAttribute("nearestValue")),current:UG(e.getAttribute("current")),values:VG(e)});return n}),Attribution:kG(function(e,t){return AG({},a6,e,t)}),AuthorityURL:MG(function(e,t){const n=y6(e,t);if(n)return n.name=e.getAttribute("name"),n;return}),Identifier:MG(VG),MetadataURL:MG(function(e,t){const n=y6(e,t);if(n)return n.type=e.getAttribute("type"),n;return}),DataURL:MG(y6),FeatureListURL:MG(y6),Style:MG(function(e,t){return AG({},f6,e,t)}),Layer:MG(_6)},o6=PG(B4,{...i6,SRS:MG(VG),Extent:kG(function(e,t){return{name:e.getAttribute("name"),default:e.getAttribute("default"),nearestValue:UG(e.getAttribute("nearestValue"))}}),ScaleHint:MG(function(e,t){return{min:WG(e.getAttribute("min")),max:WG(e.getAttribute("max"))}}),LatLonBoundingBox:kG((e,t)=>g6(e,t,!1)),Layer:MG(_6)}),s6=PG(B4,{...i6,CRS:MG(VG),EX_GeographicBoundingBox:kG(function(e,t){const n=AG({},l6,e,t);if(!n)return;const r=n.westBoundLongitude,i=n.southBoundLatitude,o=n.eastBoundLongitude,s=n.northBoundLatitude;if(void 0===r||void 0===i||void 0===o||void 0===s)return;return[r,i,o,s]}),MinScaleDenominator:kG(GG),MaxScaleDenominator:kG(GG),Layer:MG(_6)}),a6=PG(B4,{Title:kG(VG),OnlineResource:kG(jG),LogoURL:kG(v6)}),l6=PG(B4,{westBoundLongitude:kG(GG),eastBoundLongitude:kG(GG),southBoundLatitude:kG(GG),northBoundLatitude:kG(GG)}),c6=PG(B4,{GetCapabilities:kG(b6),GetMap:kG(b6),GetFeatureInfo:kG(b6),DescribeLayer:kG(b6),GetLegendGraphic:kG(b6)}),u6=PG(B4,{Format:MG(VG),DCPType:MG(function(e,t){return AG({},h6,e,t)})}),h6=PG(B4,{HTTP:kG(function(e,t){return AG({},d6,e,t)})}),d6=PG(B4,{Get:kG(y6),Post:kG(y6)}),f6=PG(B4,{Name:kG(VG),Title:kG(VG),Abstract:kG(VG),LegendURL:MG(v6),StyleSheetURL:kG(y6),StyleURL:kG(y6)}),p6=PG(B4,{Format:kG(VG),OnlineResource:kG(jG)}),m6=PG(B4,{Keyword:xG(VG)});function g6(e,t,n=!0){const r={extent:[WG(e.getAttribute("minx")),WG(e.getAttribute("miny")),WG(e.getAttribute("maxx")),WG(e.getAttribute("maxy"))],res:[WG(e.getAttribute("resx")),WG(e.getAttribute("resy"))]};return n?(V4(t)?r.crs=e.getAttribute("CRS"):r.srs=e.getAttribute("SRS"),r):r}function _6(e,t){const n=V4(t),r=t[t.length-1],i=AG({},n?s6:o6,e,t);if(!i)return;let o=UG(e.getAttribute("queryable"));void 0===o&&(o=r.queryable),i.queryable=void 0!==o&&o;let s=BG(e.getAttribute("cascaded"));void 0===s&&(s=r.cascaded),i.cascaded=s;let a=UG(e.getAttribute("opaque"));void 0===a&&(a=r.opaque),i.opaque=void 0!==a&&a;let l=UG(e.getAttribute("noSubsets"));void 0===l&&(l=r.noSubsets),i.noSubsets=void 0!==l&&l;let c=WG(e.getAttribute("fixedWidth"));c||(c=r.fixedWidth),i.fixedWidth=c;let u=WG(e.getAttribute("fixedHeight"));u||(u=r.fixedHeight),i.fixedHeight=u;const h=["Style","AuthorityURL"];n?h.push("CRS"):h.push("SRS","Dimension"),h.forEach(function(e){if(e in r){const t=i[e]||[];i[e]=t.concat(r[e])}});const d=["BoundingBox","Attribution"];return n?d.push("Dimension","EX_GeographicBoundingBox","MinScaleDenominator","MaxScaleDenominator"):d.push("LatLonBoundingBox","ScaleHint","Extent"),d.forEach(function(e){if(!(e in i)){const t=r[e];i[e]=t}}),i}function y6(e,t){return AG({},p6,e,t)}function b6(e,t){return AG({},u6,e,t)}function v6(e,t){const n=y6(e,t);if(n){const t=[BG(e.getAttribute("width")),BG(e.getAttribute("height"))];return n.size=t,n}}function w6(e,t){return AG([],m6,e,t)}const x6=class extends YG{constructor(){super(),this.version=void 0}readFromNode(e){this.version=e.getAttribute("version").trim();const t=AG({version:this.version},X4,e,[]);return t||null}};class S6{constructor(e,t,n,r){this.http_=e,this.q_=t,this.ngeoRuleHelper_=n,this.ngeoWMSTime_=r,this.requestCancelers_=[],this.wmsGetCapabilitiesPromises_={},this.wmtsGetCapabilitiesPromises_={}}issue(e){const t=[],n=e.map;let r;if(this.cancelStillRunningRequests_(),e.queryableDataSources)r=e.queryableDataSources;else{const t=e.dataSources;console.assert(t,"DataSources should be set"),r=this.getQueryableDataSources(t,n)}const i=this.getCombinableWFSDataSources_(r.wfs);t.push(this.issueCombinedWFS_(i,e));if(e.coordinate){const n=this.getCombinableWMSDataSources_(r.wms);t.push(this.issueCombinedWMS_(n,e))}return this.q_.all(t).then(M6)}getQueryableDataSources(e,t){const n={wfs:[],wms:[]},r=t.getView().getResolution();if(void 0===r)throw new Error("Missing resolution");for(const t of e)this.isDataSourceQueryable_(t,r)&&t instanceof t1&&(t.supportsWFS?n.wfs.push(t):n.wms.push(t));return n}wfsDescribeFeatureType(e){if(!e.supportsAttributes)throw new Error("The data source must support WFS, have a single OGCLayer that\n      is queryable in order to issue WFS DescribeFeatureType requests");if(!e.wfsUrl)throw new Error("Missing WFS URL");const t=e.getWFSLayerNames(),n=HW(e.wfsUrl,{REQUEST:"DescribeFeatureType",SERVICE:"WFS",VERSION:"2.0.0",TYPENAME:t});return this.http_.get(n).then(e=>(new q4).read(e.data))}wmsFindLayerCapability(e,t){let n=null;for(const r of e){if(r.Name===t){n=r;break}if(r.Layer&&(n=this.wmsFindLayerCapability(r.Layer,t),n))break}return n}wmsGetCapabilities(e,t){const n=!1!==t,r=HW(e,{REQUEST:"GetCapabilities",SERVICE:"WMS",VERSION:"1.3.0"});let i;if(n&&this.wmsGetCapabilitiesPromises_[e]?n&&this.wmsGetCapabilitiesPromises_[e]&&(i=this.wmsGetCapabilitiesPromises_[e]):i=this.http_.get(r).then(e=>(new x6).read(e.data)),!i)throw new Error("Missing promise");return n&&!this.wmsGetCapabilitiesPromises_[e]&&(this.wmsGetCapabilitiesPromises_[e]=i),i}wmtsFindLayerCapability(e,t){let n=null;for(const r of e)if(r.Identifier===t){n=r;break}return n}wmtsGetCapabilities(e,t){const n=!1!==t;let r;if(n&&this.wmtsGetCapabilitiesPromises_[e]?n&&this.wmtsGetCapabilitiesPromises_[e]&&(r=this.wmtsGetCapabilitiesPromises_[e]):r=this.http_.get(e).then(e=>(new AW).read(e.data)),!r)throw new Error("Missing promise");return n&&!this.wmtsGetCapabilitiesPromises_[e]&&(this.wmtsGetCapabilitiesPromises_[e]=r),r}handleWFSQueryResult_(e,t,n,r,i){const o={};let s=new I0;e.length>0&&"GML2"===e[0].wfsOutputFormat&&(s=new I0({version:"1.0.0"}));const a=s.readFeatures(i.data).length,l=n>0?n>a:t<=a,c=[];for(const t of e){const e=t.id;c.push(t.name);const s=t instanceof t1?this.readAndTypeFeatures_(t,i.data,r):[];this.setUniqueIds_(s,t.id),o[e]={features:s,featuresCount:a,tooManyFeatures:l,totalFeatureCount:n}}return Object.values(o).forEach(function(e,t){e.featuresCount=a,e.tooManyFeatures=l,e.requestPartners=c}),o}handleQueryResult_(e,t,n,r){const i={};for(const o of e){const e=o.id;if("number"==typeof r){const n=[],s=!0,a=r;this.setUniqueIds_(n,o.id),i[e]={features:n,featuresCount:t,tooManyFeatures:s,totalFeatureCount:a}}else{const s=o instanceof t1?this.readAndTypeFeatures_(o,r.data,n):[];this.setUniqueIds_(s,o.id),i[e]={features:s,featuresCount:t}}}return i}readAndTypeFeatures_(e,t,n){const r=[];let i;const o=this.getSetOlFormatTypes_(e,n).slice();return o.forEach(o=>{if(this.getSetOlFormatTypes_(e,n,[o]),n){if(!e.wfsFormat)throw new Error("Missing wfsFormat");i=e.wfsFormat.readFeatures(t)}else{if(!e.wmsFormat)throw new Error("Missing wmsFormat");i=e.wmsFormat.readFeatures(t)}i.length>0&&i.forEach(e=>{e.set("ngeo_feature_type_",o),r.push(e)})}),this.getSetOlFormatTypes_(e,n,o),r}getSetOlFormatTypes_(e,t,n){let r;if(t){if(!e.wfsFormat)throw new Error("Missing wfsFormat");n&&e.wfsFormat.setFeatureType(n),r=e.wfsFormat.getFeatureType()}else{if(!e.wmsFormat)throw new Error("Missing wmsFormat");n&&e.wmsFormat.setLayers(n),r=e.wmsFormat.getLayers()}return r?Array.isArray(r)?r:[r]:[]}issueCombinedWFS_(e,t){const n=[],r=t.limit,i=t.map.getView(),o=i.getResolution(),s=i.getProjection().getCode();if(void 0===o)throw new Error("Missing resolution");let a;const l=t.coordinate;if(l){const e=t.tolerance;console.assert(e),a=HP(ZP(l),e*o)}else a=t.extent;const c=new I0,u=new XMLSerializer;let h=!1;for(const i of e){let e=null,d=[];const f=[];let p=null;const m={};t.bboxAsGETParam&&a&&(m.bbox=a.join(","));for(const n of i){const r=n.getInRangeWFSLayerNames(o,!0),c=n.geometryName(r[0]);if(!e){const t=n.wfsFeatureNS,r=n.wfsFeaturePrefix,i=n.wfsOutputFormat;if(!c)throw new Error("Missing geometryName");e={bbox:a,featureNS:t,featurePrefix:r,geometryName:c,outputFormat:i,srsName:s,featureTypes:[]},p=n.wfsUrl,Object.assign(m,n.activeDimensions)}d=d.concat(r);let u=null;if(t.filter?u=this.ngeoRuleHelper_.createFilter({dataSource:n,filter:t.filter,incDimensions:!0,incTime:!0}):(n.filterRules&&n.filterRules.length||n.timeRangeValue||n.dimensionsFiltersConfig&&Object.keys(n.dimensionsFiltersConfig).length>0)&&(console.assert(1===i.length||!(n.timeRangeValue||n.filterRules&&n.filterRules.length),"A data source having filterRules or timeRangeValue should issue\n            a single query, alone."),u=this.ngeoRuleHelper_.createFilter({dataSource:n,incDimensions:!0,incTime:!0,srsName:s})),t.geometry){const e=zQ(c,t.geometry,s);u=this.ngeoRuleHelper_.joinFilters(u,e)}if(u&&(e.filter=u),l){let e;n.queryIconPosition&&(h=!0,e=this.makeBboxWithQueryIconPosition_(n.queryIconPosition,o,l),console.assert(null!==e,"Bad queryIconPosition values"),e=e$(e,a)),r.forEach(t=>{f.push({geometryName:c,name:t,bbox:e||a})})}}if(!e)throw new Error("Missing getFeatureCommonOptions");if(h?(e.featureTypes=f,delete e.bbox,delete e.geometryName):e.featureTypes=d,!p)throw new Error("Missing url");const g=this.registerCanceler_(),_=new Promise((n,o)=>{const s=t=>{if(!i[0].wfsFormat)throw new Error("Missing wfsFormat");let o=-1;if(void 0!==t){const e=i[0].wfsFormat.readFeatureCollectionMetadata(t.data);if(!e)throw new Error("Missing metadata");o=e.numberOfFeatures}const s=Object.assign({maxFeatures:r},e),a=c.writeGetFeature(s),l=u.serializeToString(a);if("string"!=typeof p)throw new Error("Wrong URL type");this.http_.post(p,l,{params:m,headers:{"Content-Type":"text/xml; charset=UTF-8"},timeout:g.promise}).then(e=>{const t=this.handleWFSQueryResult_(i,r,o,!0,e);n(t)})};if(t.queryCountFirst){const t=Object.assign({resultType:"hits"},e),n=c.writeGetFeature(t),r=u.serializeToString(n);this.http_.post(p,r,{params:m,headers:{"Content-Type":"text/xml; charset=UTF-8"},timeout:g.promise}).then(e=>{s(e)})}else s()});n.push(_)}return Promise.all(n).then(M6)}makeBboxWithQueryIconPosition_(e,t,n){const r=ZP(n),i=e.map(e=>e*t),o=i.length;if(!o||o>4)return null;if(1===o)return HP(r,i[0]);const s=[i[0],i[1],2===o?i[0]:i[2],4===o?i[3]:i[1]];return[r[0]-s[1],r[1]-s[0],r[2]+s[3],r[3]+s[2]]}issueCombinedWMS_(e,t){const n=[],r=t.limit,i=t.map,o=i.getView(),s=o.getResolution(),a=o.getProjection().getCode();if(void 0===s)throw new Error("Missing resolution");const l=t.coordinate;if(!l)throw new Error("Missing coordinate");for(const t of e){let e,o,c=[],u=!1;const h={};let d=null,f=null;for(const n of t)o||(o=n.wmsInfoFormat,e=n.wmsUrl),c=c.concat(n.getWMSLayerNames(!0)),u||(Object.assign(h,n.activeDimensions),u=!0),n.filterRules&&n.filterRules.length&&(console.assert(1===t.length),f=n.getFiltrableWFSLayerName(),d=this.ngeoRuleHelper_.createFilterString({dataSource:n,srsName:a})),n.timeRangeValue&&n.timeProperty&&(console.assert(1===t.length),h.TIME=this.ngeoWMSTime_.formatWMSTimeParam(n.timeProperty,n.timeRangeValue));if(h.LAYERS=c,h.QUERY_LAYERS=c,d&&f){let e=null;if(1===c.length)e=d;else{const t=[];for(let e=0,n=c.length;e<n;e++)c[e]===f?t.push(`(${d})`):t.push("()");e=t.join("")}h.FILTER=e}if(!e)throw new Error("Missing url");const p=new JW({params:h,url:e,projection:i.getView().getProjection()}).getFeatureInfoUrl(l,s,a,{FEATURE_COUNT:r,INFO_FORMAT:o});if(!p)throw new Error("Missing wmsGetFeatureInfoUrl");const m=this.registerCanceler_();n.push(this.http_.get(p,{timeout:m.promise}).then(this.handleQueryResult_.bind(this,t,r,!1)))}return this.q_.all(n).then(M6)}getCombinableWFSDataSources_(e){const t=[],n=[];for(const r of e)if(r.combinableForWFS){let e=!1;for(const n of t)r.combinableWithDataSourceForWFS(n[0])&&(n.push(r),e=!0);e||t.push([r])}else n.push([r]);return t.concat(n)}getCombinableWMSDataSources_(e){const t=[],n=[];for(const r of e)if(r.combinableForWMS){let e=!1;for(const n of t)r.combinableWithDataSourceForWMS(n[0])&&(n.push(r),e=!0);e||t.push([r])}else n.push([r]);return t.concat(n)}isDataSourceQueryable_(e,t){let n=e.visible&&e.inRange&&e.queryable;if(n&&e instanceof t1&&e.supportsWFS){n=e.isAnyOGCLayerInRange(t,!0)}return n}setUniqueIds_(e,t){e.forEach(e=>{if(void 0!==e.getId()){const n=`${t}_${e.getId()}`;e.setId(n)}})}registerCanceler_(){const e=this.q_.defer();return this.requestCancelers_.push(e),e}cancelStillRunningRequests_(){for(const e of this.requestCancelers_)e.resolve();this.requestCancelers_.length=0}}function M6(e){const t={};for(const n of e)for(const e in n){const r=Number(e);t[r]=n[r]}return t}S6.$inject=["$http","$q","ngeoRuleHelper","ngeoWMSTime"];const k6=t().module("ngeoQuerent",[I4.name,S4.name]);k6.service("ngeoQuerent",S6);const T6=k6;class E6{constructor(e,t){this.http_=e,this.baseUrl_=t,this.promises_={}}getAttributeValues(e,t){const n=`${e.id}_${t}`,r=e.name;if(!this.promises_[n]){const e=`${this.baseUrl_}/${r}/values/${t}`;this.promises_[n]=this.http_.get(e).then(e=>e.data.items)}return this.promises_[n]}}E6.$inject=["$http","gmfLayersUrl"];const L6=t().module("gmfEnumerateAttribute",[]);L6.service("gmfEnumerateAttribute",E6);const C6=L6;class D6{constructor(e,t,n,r){this.q_=e,this.collection_=t.collection,this.ngeoQuerent_=n,this.gmfEnumerateAttribute_=r,this.cache_={},dn(this.collection_,"add",this.handleDataSourcesAdd_,this),dn(this.collection_,"remove",this.handleDataSourcesRemove_,this),this.collection_.forEach(this.registerDataSource_.bind(this))}get collection(){return this.collection_}getDataSource(e){return this.cache_[e]||null}getDataSourceAttributes(e){const t=this.q_.defer();if(e.attributes)t.resolve(e.attributes);else{const n=this.createDataSourceAttributesFromOGCAttributes_(e);n?(e.setAttributes(n),t.resolve(n)):e.supportsAttributes&&this.ngeoQuerent_.wfsDescribeFeatureType(e).then(n=>{const r=e.getWFSLayerNames()[0];console.assert("string"==typeof r,"The data source should have only one ogcLayer.");const i=n;for(const n of i.element)if(n.name===r)for(const r of i.complexType)if(r.name==n.type){const n=r.complexContent,i=(new N1).read(n);e.setAttributes(i),t.resolve(i);break}})}return t.promise}registerDataSource_(e){this.cache_[e.id]=e}unregisterDataSource_(e){delete this.cache_[e.id]}handleDataSourcesAdd_(e){if(e instanceof YY){const t=e.element;console.assert(t instanceof qJ),this.registerDataSource_(t)}}handleDataSourcesRemove_(e){if(e instanceof YY){const t=e.element;this.unregisterDataSource_(t)}}createDataSourceAttributesFromOGCAttributes_(e){let t=null;const n=new N1,r=e.ogcAttributesWFS;if(r){t=[];for(const e in r){const i=r[e],o=i.alias,s="0"!=i.minOccurs,a=i.type,l={alias:o,name:e,required:s};O1(l,`gml:${a}`)||n.setAttributeType(l,a.toLowerCase()),t.push(l)}}return t}prepareFiltrableDataSource(e){const t=this.q_.defer();return this.getDataSourceAttributes(e).then(n=>{const r=e.gmfLayer.metadata?e.gmfLayer.metadata.enumeratedAttributes:void 0;if(r&&r.length){const i=[];for(const t of n)!r.includes(t.name)||t.type===rQ||t.choices&&t.choices.length||i.push(this.gmfEnumerateAttribute_.getAttributeValues(e,t.name).then(e=>{const n=e.map(e=>e.value);t.type=rQ,t.choices=n}));return this.q_.all(i).then(()=>{t.resolve(e)})}t.resolve(e)}),t.promise}}D6.$inject=["$q","ngeoDataSources","ngeoQuerent","gmfEnumerateAttribute"];const P6=t().module("gmfDataSourcesHelper",[R1.name,T6.name,C6.name]);P6.service("gmfDataSourcesHelper",D6);const $6=P6,A6=t().module("gmfDataSourceBeingFiltered",[]);A6.value("gmfDataSourceBeingFiltered",{dataSource:null});const R6=A6,O6="data",I6={BG_LAYER:"baselayer_ref",BG_LAYER_OPACITY:"baselayer_opacity",EXTERNAL_DATASOURCES_NAMES:"eds_n",EXTERNAL_DATASOURCES_URLS:"eds_u",FEATURES:"rl_features",MAP_CROSSHAIR:"map_crosshair",MAP_SWIPE:"map_swipe",MAP_SWIPE_VALUE:"map_swipe_value",MAP_TOOLTIP:"map_tooltip",MAP_X:"map_x",MAP_Y:"map_y",MAP_Z:"map_zoom",TREE_GROUPS:"tree_groups",WFS_LAYER:"wfs_layer",WFS_NGROUPS:"wfs_ngroups",WFS_SHOW_FEATURES:"wfs_showFeatures"};function F6(e,t,n){this.isValidFileSize=function(e){return e<=2e7},this.isWmsGetCap=function(e){return/<(WMT_MS_Capabilities|WMS_Capabilities)/.test(e)},this.isWmtsGetCap=function(e){return e.includes("<Capabilities")},this.isKml=function(e){return e.includes("<kml")&&e.includes("</kml>")},this.isGpx=function(e){return e.includes("<gpx")&&e.includes("</gpx>")};let r,i=null;this.read=function(t){const r=e.defer();return i&&i.readyState===FileReader.LOADING&&i.abort(),i=new FileReader,i.onload=function(e){const t=e.target;if(!(t instanceof FileReader))throw new Error("Wrong target type");r.resolve(t.result)},i.onerror=function(e){const t=e.target;if(!(t instanceof FileReader))throw new Error("Wrong target type");const i=t.error;if(!i)throw new Error("Missing error");console.error("Reading file failed: ",i),r.reject({message:20==i.code?n("Operation canceled"):n("Read failed"),reason:i.message})},i.onprogress=function(e){r.notify(e)},i.readAsText(t),r.promise},this.load=function(i,o){r&&r.resolve(),r=o||e.defer();const s=e.defer();return t.get(i,{timeout:r.promise}).then(e=>{s.resolve(e.data)},e=>{console.error("Uploading file failed: ",e),s.reject({message:n("Upload failed"),reason:e})}),s.promise}}F6.$inject=["$q","$http","gettext"];const N6=t().module("ngeoFile",[]);N6.service("ngeoFile",F6);const Y6=N6,j6=class extends qJ{constructor(e){super(e),this.featuresCollection_=e.features||new jY,this.source_=new _j({features:this.featuresCollection_,wrapX:!1}),this.layer_=new MY({className:"canvas2d",source:this.source_})}get features(){return this.featuresCollection_.getArray()}get featuresCollection(){return this.featuresCollection_}get layer(){return this.layer_}get extent(){return this.source_.getExtent()}},H6="indeterminate",U6="off",z6="on";const G6=class{constructor(e){this.dataSourcesCollection_=new jY(e.dataSources),this.title_=e.title}destroy(){this.dataSourcesCollection_.clear()}get dataSources(){return this.dataSourcesCollection_.getArray()}get dataSourcesCollection(){return this.dataSourcesCollection_}get title(){return this.title_}get visibilityState(){let e;for(const t of this.dataSources){if(void 0===e)e=this.getDataSourceState(t);else{this.getDataSourceState(t)!==e&&(e=H6)}if(e===H6)break}if("string"!=typeof e)throw new Error("missing state");return e}getDataSourceState(e){return e.visible?z6:U6}addDataSource(e){this.dataSourcesCollection_.push(e)}removeDataSource(e){this.dataSourcesCollection_.remove(e)}toggleVisibilityState(){const e=this.visibilityState!==z6;for(const t of this.dataSources)t.visible!==e&&(t.visible=e)}},W6=class extends G6{constructor(e){super(e);const t=e.injector;this.rootScope_=t.get("$rootScope"),this.unregister_={}}addDataSource(e){if(super.addDataSource(e),!(e instanceof j6))throw new Error("Wrong datasource type");this.registerDataSource_(e)}registerDataSource_(e){this.unregister_[e.id]=this.rootScope_.$watch(()=>e.visible,this.handleDataSourceVisibleChange_.bind(this,e))}handleDataSourceVisibleChange_(e,t,n){void 0!==t&&e.layer.setVisible(t)}removeDataSource(e){if(super.removeDataSource(e),this.unregister_.hasOwnProperty(e.id)){if(!(e instanceof j6))throw new Error("Wrong datasource type");this.unregisterDataSource_(e)}}unregisterDataSource_(e){this.unregister_[e.id](),delete this.unregister_[e.id]}},q6=t().module("gmfDatasourceFileGroup",[]);q6.value("gmfDatasourceFileGroup",{fileGroup:null});const B6=q6;const V6=class extends t1{constructor(e,t){super(e),this.legend_=t}get legend(){return this.legend_}},X6=class extends G6{constructor(e){super(e),this.url_=e.url}get url(){return this.url_}},K6=class extends X6{constructor(e,t){super(e);const n=e.injector;this.layer_=null,this.ngeoLayerHelper_=t,this.rootScope_=n.get("$rootScope"),this.wmsDataSourceUnregister_={},this.init_()}init_(){if(!this.dataSources.length)throw new Error("Missing dataSources");for(const e of this.dataSources)e instanceof t1&&this.registerDataSource_(e)}destroy(){for(const e of this.dataSources)e instanceof t1&&this.unregisterDataSource_(e);super.destroy()}get layer(){if(!this.layer_)throw new Error("Missing layer");return this.layer_}addDataSource(e){if(super.addDataSource(e),!(e instanceof t1))throw new Error("Wrong datasource type");this.registerDataSource_(e)}registerDataSource_(e){const t=e.id;this.wmsDataSourceUnregister_[t]=this.rootScope_.$watch(()=>e.visible,this.handleDataSourceVisibleChange_.bind(this)),this.layer_?(this.layer_.get("querySourceIds").push(t),this.updateLayer_()):this.layer_=this.ngeoLayerHelper_.createBasicWMSLayerFromDataSource(e)}handleDataSourceVisibleChange_(e,t){void 0!==e&&e!==t&&this.updateLayer_()}updateLayer_(){const e=this.layer;let t=[];for(const e of this.dataSources)e instanceof t1&&e.visible&&(t=t.concat(e.getWMSLayerNames()));this.ngeoLayerHelper_.updateWMSLayerState(e,t.join(","))}removeDataSource(e){super.removeDataSource(e),e instanceof t1&&this.unregisterDataSource_(e)}unregisterDataSource_(e){const t=e.id,n=this.layer;(0,this.wmsDataSourceUnregister_[t])(),delete this.wmsDataSourceUnregister_[t],en(this.dataSources,e);const r=this.ngeoLayerHelper_.getQuerySourceIds(n);r&&en(r,t),this.dataSources.length&&this.updateLayer_()}};class Z6{constructor(e,t,n,r,i,o,s,a){this.injector_=t,this.q_=n,this.rootScope_=r,this.dataSources_=o.collection,this.ngeoFile_=s,this.ngeoLayerHelper_=a,this.extDataSources_={},this.files_={},this.map_=null,this.fileGroup_=new W6({dataSources:[],injector:this.injector_,title:e.getString("Local files")}),i.fileGroup=this.fileGroup_,this.wmsGroupsCollection_=new jY,this.wmtsGroupsCollection_=new jY,this.wmtsCache_={},dn(this.dataSources_,"remove",this.handleDataSourcesRemove_,this)}get fileGroup(){return this.fileGroup_}addWMSGroup_(e){this.wmsGroupsCollection.push(e)}removeWMSGroup_(e){this.wmsGroupsCollection.remove(e)}getWMSGroup(e){let t=null;for(const n of this.wmsGroups)if(n.url===e){t=n;break}return t}get wmsGroups(){return this.wmsGroupsCollection_.getArray()}get wmsGroupsCollection(){return this.wmsGroupsCollection_}addWMTSGroup_(e){this.wmtsGroupsCollection.push(e)}removeWMTSGroup_(e){this.wmtsGroupsCollection.remove(e)}getWMTSGroup(e){let t=null;for(const n of this.wmtsGroups)if(n.url===e){t=n;break}return t}get wmtsGroups(){return this.wmtsGroupsCollection_.getArray()}get wmtsGroupsCollection(){return this.wmtsGroupsCollection_}isExternalDataSource(e){return!!this.extDataSources_[e.id]}get layerGroup(){if(!this.map_)throw new Error("Missing map");return this.ngeoLayerHelper_.getGroupFromMap(this.map_,"external")}set map(e){this.map_=e}addLayer_(e){this.layerGroup.getLayers().push(e)}removeLayer_(e){this.layerGroup.getLayers().remove(e)}createAndAddDataSourceFromWMSCapability(e,t,n){const r=J6(e),i=t.Service,o=t.Capability.Request,s=o.GetMap.DCPType.find(e=>e.hasOwnProperty("HTTP")),a=void 0!==s?s.HTTP.Get.OnlineResource:n,l=n||a;let c;if(this.extDataSources_[r])c=this.extDataSources_[r];else{const t=o.GetMap.Format,n="image/png",i=t.includes(n)?n:t[0],s=o.GetFeatureInfo.Format;let u=s.includes(V0)?V0:void 0;void 0===u&&(u=s.includes(q0)?q0:void 0),void 0===u&&(u=s.includes(B0)?B0:void 0);const h=!0===e.queryable&&void 0!==u,d={id:r,name:e.Title,ogcImageType:i,wmsLayers:[{name:e.Name,queryable:h}],ogcType:H0,visible:!0,wmsUrl:a};u&&(d.wmsInfoFormat=u);const f={title:e.Title,url:l,name:e.Name};c=new V6(d,f),this.extDataSources_[r]=c}let u=this.getWMSGroup(a);u?u.dataSources.includes(c)||(u.addDataSource(c),this.dataSources_.push(c)):(u=new K6({dataSources:[c],injector:this.injector_,title:i.Title,url:a},this.ngeoLayerHelper_),this.addLayer_(u.layer),this.addWMSGroup_(u),this.dataSources_.push(c))}createAndAddDataSourceFromWMTSCapability(e,t,n){const r=J6(e);if(this.wmtsCache_[r])return;let i;if(this.extDataSources_[r])i=this.extDataSources_[r];else{const t=e.Title,o=e.Identifier;i=new t1({id:r,name:t,ogcType:U0,visible:!0,wmtsLayer:o,wmtsUrl:n}),this.extDataSources_[r]=i}let o=this.getWMTSGroup(n);o||(o=new X6({dataSources:[],title:t.ServiceIdentification.Title,url:n}),this.addWMTSGroup_(o)),o.addDataSource(i);const s=this.ngeoLayerHelper_.createWMTSLayerFromCapabilititesObj(t,e);this.addLayer_(s),this.dataSources_.push(i),this.wmtsCache_[r]={layerObj:s,unregister:this.rootScope_.$watch(()=>i.visible,this.handleWMTSDataSourceVisibleChange_.bind(this,s))}}createAndAddDataSourceFromFile(e,t){this.getFileDataSource_(e).then(e=>{let n=!0;const r=this.fileGroup_;if(y$(e.extent))n=!1;else{if(!this.map_)throw new Error("Missing map");if(r.dataSources.includes(e))return;this.addLayer_(e.layer),r.addDataSource(e),this.map_.getView().fit(e.extent),this.dataSources_.push(e)}t&&t(n)},n=>{console.error(`Failed to load file: ${e.name}`),t&&t(!1)})}getFileDataSource_(e){const t=this.q_.defer();if(this.files_[e.name])t.resolve(this.files_[e.name]);else{const n=this.ngeoFile_;n.read(e).then(r=>{if(!this.map_)throw new Error("Missing map");let i;const o={featureProjection:this.map_.getView().getProjection()};if(n.isKml(r)?i=(new c4).readFeatures(r,o):n.isGpx(r)&&(i=(new l3).readFeatures(r,o)),i){const n=J6(e),r=new j6({features:new jY(i),id:n,name:e.name,visible:!0});this.files_[e.name]=r,this.extDataSources_[n]=r,t.resolve(r)}else t.reject()})}return t.promise}handleWMTSDataSourceVisibleChange_(e,t,n){void 0!==t&&t!==n&&e.setVisible(t)}handleDataSourcesRemove_(e){if(e instanceof YY){const t=e.element;this.extDataSources_[t.id]===t&&(t instanceof j6?this.removeFileDataSource_(t):t instanceof t1&&this.removeOGCDataSource_(t))}}removeFileDataSource_(e){this.removeLayer_(e.layer),this.fileGroup_.removeDataSource(e)}removeOGCDataSource_(e){if(e.ogcType===H0){if(!e.wmsUrl)throw new Error("Missing dataSource.wmsUrl");const t=this.getWMSGroup(e.wmsUrl);t&&t.dataSources.includes(e)&&(t.removeDataSource(e),t.dataSources.length||(this.removeLayer_(t.layer),t.destroy(),this.removeWMSGroup_(t)))}else if(e.ogcType===U0){if(!e.wmtsUrl)throw new Error("Missing dataSource.wmsUrl");const t=this.getWMTSGroup(e.wmtsUrl);if(t&&t.dataSources.includes(e)){t.removeDataSource(e);const n=e.id;this.removeLayer_(this.wmtsCache_[n].layerObj),this.wmtsCache_[n].unregister(),delete this.wmtsCache_[n],t.dataSources.length||(t.destroy(),this.removeWMTSGroup_(t))}}}isEmpty(){return 0==this.wmsGroupsCollection_.getLength()&&0==this.wmtsGroupsCollection_.getLength()&&0==this.fileGroup_.dataSourcesCollection.getLength()}removeAll(){for(const e of this.dataSources_.getArray())this.extDataSources_[e.id]===e&&(e instanceof j6?this.removeFileDataSource_(e):e instanceof t1&&this.removeOGCDataSource_(e))}}function J6(e){return Number(Pn(e))+1e6}Z6.$inject=["gettextCatalog","$injector","$q","$rootScope","gmfDatasourceFileGroup","ngeoDataSources","ngeoFile","ngeoLayerHelper"];const Q6=t().module("gmfExternalDataSourcesManager",[B6.name,a1.name,Y6.name,R1.name]);Q6.service("gmfExternalDataSourcesManager",Z6);const e8=Q6;class t8{constructor(e){this.gmfDataSourcesHelper_=e}describe(e){e.ogcServerType===j0&&e.wfsUrl_&&1==e.getWFSLayerNames().length&&!e.attributes&&this.gmfDataSourcesHelper_.getDataSourceAttributes(e)}}t8.$inject=["gmfDataSourcesHelper"];const n8=t().module("gmfDatasourceWFSAliases",[$6.name]);n8.service("gmfWFSAliases",t8);const r8=n8;function i8(e,t,n){const r=void 0===n.gmfLayertreeNodeNotroot;this.isRoot=r;const i=n.gmfLayertreeNode;let o;this.rootScope_=t,this.properties={},this.state_="off",r?e.$watch(i,(e,t)=>{this.node=e}):o=e.$eval(i),this.node=o;const s=n.gmfLayertreeNodeMap,a=e.$eval(s);console.assert(void 0!==a),this.parent=e.$parent.layertreeCtrl,this.children=[],this.parent&&this.parent.children.push(this),e.$on("$destroy",()=>{if(this.parent){const e=this.parent.children.indexOf(this);console.assert(e>=0),this.parent.children.splice(e,1)}}),this.uid=Pn(this),this.depth=r?0:this.parent.depth+1,e.uid=this.uid,e.depth=this.depth,this.map=a;let l=n.gmfLayertreeNodeNodelayer;if(void 0===l){const t=n.gmfLayertreeNodeNodelayerexpr,r=e.$eval(t);console.assert("string"==typeof r),l=r}if(console.assert(void 0!==l),this.nodelayerExpr=l,this.layer=null,!r){const t=e.$eval(l,{treeCtrl:this})||null;t&&(console.assert(t instanceof wY||t instanceof dz),this.layer=t)}var c;this.dataSource_=null,this.layer&&(!function(e,t){let n,r=[],i=[];const o=function e(t){let n=t.get("load_count");const r=t.get("parent_group");t.set("load_count",++n,!0),r&&e(r)},s=function e(t){let n=t.get("load_count");const r=t.get("parent_group");t.set("load_count",--n,!0),r&&e(r)};if(e.set("load_count",0,!0),e instanceof dz&&e.getLayers().on("add",t=>{t.element.set("parent_group",e)}),e instanceof wY){if(n=e.getSource(),null===n)return;n instanceof Dz?(r=["tileloadstart"],i=["tileloadend","tileloaderror"]):n instanceof wz?(r=["imageloadstart"],i=["imageloadend","imageloaderror"]):console.assert(!1,"unsupported source type"),n.on(r,()=>{o(e),t.$applyAsync()}),n.on(i,()=>{s(e),t.$applyAsync()})}Object.defineProperty(e,"loading",{configurable:!0,get:()=>e.get("load_count")>0})}(this.layer,e),c=this.layer,console.assert(c instanceof bY),Object.defineProperty(c,"visible",{configurable:!0,get:()=>c.getVisible(),set:e=>{c.setVisible(e)}}),Object.defineProperty(c,"opacity",{configurable:!0,get:()=>c.getOpacity(),set:e=>{c.setOpacity(e)}}),dn(this.layer,"change:opacity",e=>{this.rootScope_.$broadcast("ngeo-layertree-opacity",this)}));let u=n.gmfLayertreeNodeListeners;if(void 0===u){const t=n.gmfLayertreeNodeListenersexpr;u=e.$eval(t)}void 0!==u&&console.assert("string"==typeof u),this.listenersExpr=u,u&&e.$eval(u,{treeScope:e,treeCtrl:this}),e.layertreeCtrl=this}function o8(e){let t=e;for(;!t.parent.isRoot;)t=t.parent;return t}i8.$inject=["$scope","$rootScope","$attrs"],i8.prototype.getState=function(){return this.state_},i8.prototype.setState=function(e,t){if(e===this.state_)return;this.setStateInternal_(e),this.parent&&this.parent.refreshState(this,t);const n=this.isRoot?this.children:[o8(this)];(void 0===t||t)&&(n.forEach(e=>{this.rootScope_.$broadcast("ngeo-layertree-state",this,e)}),this.rootScope_.$broadcast("ngeo-disclaimer-state"))},i8.prototype.setStateInternal_=function(e){if(this.state_="on"===e?"on":"off","on"===this.state_&&this.node.metadata&&this.node.metadata.exclusiveGroup){let e;for(const t of this.children)e?t.setStateInternal_("off"):(e=t,t.setStateInternal_("on"))}else this.children.forEach(e=>{e.setStateInternal_(this.state_)})},i8.prototype.refreshState=function(e,t){if(this.node.children&&e&&"off"!==e.getState()&&this.node.metadata&&this.node.metadata.exclusiveGroup){const n=e;this.children.forEach(e=>{e!==n&&e.setState("off",t)})}const n=this.getCalculateState();this.state_!==n&&(this.state_=n,this.parent&&this.parent.refreshState(this,t))},i8.prototype.getCalculateState=function(){if(void 0===this.node.children)return this.state_;let e,t="";return this.children.some(n=>(t=n.getState(),e&&e!==t?(t="indeterminate",!0):(e=t,!1))),t},i8.prototype.getSetActive=function(e){const t=this.layer,n=this.map;if(t)return void 0===e?n.getLayers().getArray().includes(t):void(e?n.addLayer(t):n.removeLayer(t))},i8.prototype.getDataSource=function(){return this.dataSource_},i8.prototype.setDataSource=function(e){this.dataSource_=e};const s8="STOP",a8="SKIP",l8="DESCEND";i8.prototype.traverseDepthFirst=function(e){switch(e(this)||l8){case s8:return!0;case a8:return!1;case l8:for(const t of this.children){if(t.traverseDepthFirst(e))return!0}return!1;default:throw new Error("Unhandled case")}};const c8=t().module("ngeoLayertreeController",[]);c8.controller("ngeoLayertreeController",i8);const u8=c8;function h8(e,t,n,r,i){this.layerHelper_=t,this.ngeoWMSTime_=n,this.gmfWMSSourceOptions_=i,this.ogcServersObject_=null,r.getOgcServersObject().then(e=>{this.ogcServersObject_=e}),e.$on("ngeo-layertree-state",(e,t,n)=>{this.sync_(n)})}function d8(e){let t=e,n=null;for(;!t.isRoot&&null===n;)t.layer&&(n=t.layer),t=t.parent;if(!n)throw new Error("Missing layer");return n}h8.$inject=["$rootScope","ngeoLayerHelper","ngeoWMSTime","gmfThemes","gmfWMSSourceOptions"],h8.prototype.createLayer=function(e,t,n,r){let i=null;const o=e.node,s=e.parent.node;return void 0!==o.children&&o.mixed?i=this.createGroup_(e,t,n,r):void 0===o.children&&s.mixed?i=this.createLeafInAMixedGroup_(e,t):void 0===o.children?this.initGmfLayerInANotMixedGroup_(e,t):1!==e.depth||o.mixed||(i=this.createGroup_(e,t,n,r)),i&&e.node.metadata.opacity&&i.setOpacity(e.node.metadata.opacity),i},h8.prototype.sync_=function(e){e.traverseDepthFirst(e=>{const t=e.node;if(e.layer&&!t.mixed)return this.updateLayerState_(e.layer,e),l8})},h8.prototype.updateLayerState_=function(e,t){const n=t.node,r=t.node,i="on"===t.getState();if("WMTS"===r.type)e.setVisible(i);else if(n.mixed||1!==t.depth){if(!(e instanceof IW))throw new Error("Wrong dataSource type");e.setVisible(i)}else{if(!(e instanceof IW))throw new Error("Wrong dataSource type");const n=[],r=[];t.traverseDepthFirst(e=>{if(void 0===e.node.children&&"on"===e.getState()){const t=e.node;n.push(t.layers);const i=void 0!==t.style?t.style:"";return r.push(i),l8}}),0===n.length&&e.setVisible(!1),e.getSource().updateParams({LAYERS:n.reverse().join(","),STYLES:r.reverse().join(",")}),0!==n.length&&e.setVisible(!0)}},h8.prototype.createGroup_=function(e,t,n,r){const i=e.node;let o=null;const s=e.parent.isRoot;let a=!0;if(void 0!==i.metadata.printNativeAngle&&(a=i.metadata.printNativeAngle),s){o=this.createLayerFromGroup_(e,!!i.mixed);const t=r||0;n.getLayers().insertAt(t,o)}else{if(!this.isOneParentNotMixed_(e)){o=this.createLayerFromGroup_(e,!0);const t=d8(e.parent);if(!(t instanceof dz))throw new Error("Wrong layerGroup type");t.getLayers().insertAt(0,o)}}if(!o)throw new Error("Missing layer");return o.set("printNativeAngle",a),o},h8.prototype.createLayerFromGroup_=function(e,t){let n;const r=e.node;if(t)n=this.layerHelper_.createBasicGroup();else{if(!this.ogcServersObject_)throw new Error("Missing ogcServersObject");const t=this.getTimeParam_(e),i=this.ogcServersObject_[r.ogcServer||""];if(!i)throw new Error("Missing ogcServer");if(!i.url)throw new Error("Missing ogcServer.url");if(!i.type)throw new Error("Missing ogcServer.type");if(!i.imageType)throw new Error("Missing ogcServer.imageType");n=this.layerHelper_.createBasicWMSLayer(i.url,"",i.imageType,i.type,t,void 0,i.credential?"use-credentials":"anonymous",this.gmfWMSSourceOptions_),n.set(i1,r.id);let o=!1;e.traverseDepthFirst(e=>{if(this.updateLayerReferences_(e.node,n),e.node.metadata.isChecked)return e.setState("on",!1),this.updateLayerState_(n,e),o=!0,l8}),n.setVisible(o)}return n.set(r1,r.name),n},h8.prototype.createLeafInAMixedGroup_=function(e,t){const n=e.node;let r;if("WMTS"===n.type)r=this.createWMTSLayer_(n);else{if(!this.ogcServersObject_)throw new Error("Missing ogcServersObject");const t=n,i=this.getTimeParam_(e),o=this.ogcServersObject_[t.ogcServer];if(!o)throw new Error("Missing ogcServer");if(!o.url)throw new Error("Missing ogcServer.url");if(!o.type)throw new Error("Missing ogcServer.type");if(!o.imageType)throw new Error("Missing ogcServer.imageType");if(!t.layers)throw new Error("Missing gmfLayerWMS.layers");const s={STYLES:t.style};r=this.layerHelper_.createBasicWMSLayer(o.url,t.layers,o.imageType,o.type,i,s,o.credential?"use-credentials":"anonymous",this.gmfWMSSourceOptions_)}r.set(i1,n.id),r.set(r1,n.name),r.set("layerIsLeaf",!0),this.updateLayerReferences_(n,r);const i=!0===n.metadata.isChecked;i&&e.setState("on",!1),r.setVisible(i);return d8(e.parent).getLayers().insertAt(0,r),r},h8.prototype.initGmfLayerInANotMixedGroup_=function(e,t){const n=e.node,r=this.getFirstLevelGroupCtrl_(e);if(!r)throw new Error("Missing firstLevelGroup");const i=r.layer;if(!(i instanceof IW))throw new Error("Wrong layer type");if(!(i instanceof IW))throw new Error("Wrong dataSource type");this.updateLayerReferences_(n,i),n.metadata.isChecked?(e.setState("on",!1),this.updateLayerState_(i,r)):e.parent.refreshState()},h8.prototype.createWMTSLayer_=function(e){const t=SU();if(!e.url)throw new Error("Missing gmfLayerWMTS.url");if(!e.layer)throw new Error("Missing gmfLayerWMTS.layer");const n=g1(e),r=m1(e);return this.layerHelper_.createWMTSLayerFromCapabilitites(e.url,e.layer,e.matrixSet,e.dimensions,void 0,n,r,e.metadata.opacity).then(e=>{this.layerHelper_.copyProperties(e,t,["visible","opacity"])}),t},h8.prototype.updateLayerReferences_=function(e,t){const n=Pn(e),r=t.get("querySourceIds")||[];r.push(n),t.set("querySourceIds",r);const i=e.metadata.disclaimer;if(i){const n=t.get("disclaimers")||{};let r="all";"layers"in e&&(r=e.layers),n[r]=i,t.set("disclaimers",n)}},h8.prototype.getTimeParam_=function(e){let t,n;const r=e.node;if(r.time?t=r.time:r.children&&e.traverseDepthFirst(e=>{const n=e.node;if(void 0===n.children&&n.time)return t=n.time,s8}),t){const e=this.ngeoWMSTime_.getOptions(t),r=e.values,i=e.values;n=this.ngeoWMSTime_.formatWMSTimeParam(t,{start:i[0]||r,end:i[1]})}return n},h8.prototype.isOneParentNotMixed_=function(e){let t=e.parent,n=!1;do{n=!1===t.node.mixed,t=t.parent}while(t.parent&&!n);return n},h8.prototype.getFirstLevelGroupCtrl_=function(e){let t=e;for(;!t.parent.isRoot;)t=t.parent;return t};const f8=t().module("gmfSyncLayertreeMap",[w1.name,u8.name,S4.name]);f8.service("gmfSyncLayertreeMap",h8);const p8=f8;function m8(e,t){this.history_=t,this.schema_=e.protocol.substring(0,e.protocol.length-1),this.domain_=e.hostname,this.port_=e.port?parseInt(e.port,10):void 0,this.path_=e.pathname,this.queryData_=CU(e.search),this.fragment_=CU(e.hash)}function g8(e,t){try{e.replaceState(null,"",t),window.dispatchEvent(new PopStateEvent("popstate",{state:t}))}catch(e){}}function _8(e,t){const n=t.history,r=new m8(t.location,t.history);let i=r.getUriString();return e.$watch(()=>{const t=r.getUriString();i!==t&&e.$evalAsync(()=>{i=t,void 0!==n&&void 0!==n.replaceState&&g8(n,t),e.$broadcast("ngeoLocationChange")})}),r}_8.$inject=["$rootScope","$window"],m8.prototype.getPath=function(){return this.path_},m8.prototype.getUriString=function(){const e=[];this.schema_&&e.push(this.schema_,":"),(this.domain_||"file"===this.schema_)&&(e.push("//"),e.push(this.domain_),void 0!==this.port_&&e.push(":",String(this.port_))),this.path_&&(this.domain_&&!this.path_.startsWith("/")&&e.push("/"),e.push(this.path_));const t=DU(this.queryData_);t.length>0&&e.push("?",t);const n=DU(this.fragment_);return n.length>0&&e.push("#",n),e.join("")},m8.prototype.hasParam=function(e){return e in this.queryData_},m8.prototype.hasFragmentParam=function(e){return e in this.fragment_},m8.prototype.getParam=function(e){return this.queryData_[e]},m8.prototype.getFragmentParam=function(e){return this.fragment_[e]},m8.prototype.getParamAsInt=function(e){const t=this.getParam(e);if(void 0===t)return;console.assert("string"==typeof t);const n=parseInt(t,10);return isNaN(n)?void 0:n},m8.prototype.getParamAsFloat=function(e){const t=this.getParam(e);if(void 0===t)return;console.assert("string"==typeof t);const n=parseFloat(t);return isNaN(n)?void 0:n},m8.prototype.getFragmentParamAsInt=function(e){const t=this.getFragmentParam(e);if(void 0===t)return;console.assert("string"==typeof t);const n=parseInt(t,10);return isNaN(n)?void 0:n},m8.prototype.getParamKeys=function(){const e=[];for(const t in this.queryData_)e.push(t);return e},m8.prototype.getFragmentParamKeys=function(){const e=[];for(const t in this.fragment_)e.push(t);return e},m8.prototype.getParamKeysWithPrefix=function(e){const t=[];for(const n in this.queryData_)n.startsWith(e)&&t.push(n);return t},m8.prototype.getFragmentParamKeysWithPrefix=function(e){const t=[];for(const n in this.fragment_)n.startsWith(e)&&t.push(n);return t},m8.prototype.updateParams=function(e){for(const t in e)this.queryData_[t]=e[t]},m8.prototype.updateFragmentParams=function(e){for(const t in e)this.fragment_[t]=e[t]},m8.prototype.deleteParam=function(e){delete this.queryData_[e]},m8.prototype.deleteFragmentParam=function(e){delete this.fragment_[e]},m8.prototype.refresh=function(){g8(this.history_,this.getUriString())},m8.prototype.setPath=function(e){this.path_=e};const y8=t().module("ngeoLocation",[]);y8.factory("ngeoLocation",_8);const b8=y8;class v8{constructor(e,t){this.initialState={},this.ngeoLocation=e,this.usedKeyRegexp=[];for(const e of t)this.usedKeyRegexp.push(RegExp(e));this.useLocalStorage_=!1,this.setUseLocalStorage(!1);const n=e.getParamKeys().filter(e=>"debug"!=e&&"no_redirect"!=e);if(0===n.length){if(this.useLocalStorage_)for(const e in window.localStorage)console.assert(e),this.usedKeyRegexp.some(t=>{if(t.exec(e)){const t=window.localStorage[e];return this.initialState[e]=void 0!==t||null!==t?t:"",!0}return!1})}else n.forEach(e=>{this.usedKeyRegexp.some(t=>{if(t.exec(e)){const t=this.ngeoLocation.getParam(e);if(void 0!==t)return this.initialState[e]=t,!0}return!1})})}setUseLocalStorage(e){if(this.useLocalStorage_=e,this.useLocalStorage_)try{"localStorage"in window?(window.localStorage.test="",delete window.localStorage.test):this.useLocalStorage_=!1}catch(e){console.error(e),this.useLocalStorage_=!1}return this.useLocalStorage_}getInitialStringValue(e){return this.initialState[e]}getInitialNumberValue(e){const t=this.initialState[e];if(void 0!==t)return parseFloat(t)}getInitialBooleanValue(e){const t=this.initialState[e];if(void 0!==t)return"true"===t}updateState(e){if(this.ngeoLocation.updateParams(e),this.useLocalStorage_)for(const t in e){console.assert(t);const n=e[t];console.assert(void 0!==n),window.localStorage[t]=n}}deleteParam(e){this.ngeoLocation.deleteParam(e),this.useLocalStorage_&&delete window.localStorage[e]}}v8.$inject=["ngeoLocation","ngeoUsedKeyRegexp"];const w8=t().module("ngeoStateManager",[b8.name]);w8.service("ngeoStateManager",v8);const x8=w8;var S8=n(6932);function M8(e,t,n,r,i,o,s){this.rootScope_=e,this.$timeout_=t,this.$injector_=n,this.gettextCatalog_=r,this.layerHelper_=i,this.gmfThemes_=o,this.root={children:[]},this.rootCtrl=null,this.numberOfGroupsToAddInThisDigestLoop=0,this.groupsToAddInThisDigestLoop_=[],this.promiseForGroupsToAddInThisDigestLoop_=null,this.ngeoStateManager_=s,this.initialLevelFirstGroups_=void 0,this.ogcServers_=null,dn(this.gmfThemes_,"change",this.handleThemesChange_,this)}M8.$inject=["$rootScope","$timeout","$injector","gettextCatalog","ngeoLayerHelper","gmfThemes","ngeoStateManager"],M8.prototype.handleThemesChange_=function(){this.gmfThemes_.getOgcServersObject().then(e=>{this.ogcServers_=e}),this.rootCtrl&&this.rootCtrl.children&&this.gmfThemes_.getThemesObject().then(e=>{this.refreshFirstLevelGroups_(e)})},M8.prototype.setFirstLevelGroups=function(e){return this.parseTreeNodes(this.root),this.rootScope_.$broadcast("ngeo-pre-empty-layertree"),this.root.children.length=0,this.rootScope_.$broadcast("ngeo-post-empty-layertree"),this.ngeoStateManager_.deleteParam(I6.TREE_GROUPS),this.addFirstLevelGroups(e)},M8.prototype.addFirstLevelGroups=function(e,t,n){const r=[];return e.slice().reverse().forEach(e=>{this.addFirstLevelGroup_(e)||r.push(e)}),r.length>0&&!n&&this.notifyCantAddGroups_(r),0===r.length},M8.prototype.addSecondLevelGroups=function(e,t,n,r){const i=[];return e.slice().reverse().forEach(e=>{this.addFirstLevelGroup_(e)||i.push(e),e.children.forEach(e=>{let n=e.name===t;this.setSearchedChild(e,n)}),setTimeout(()=>{const t=this.getTreeCtrlByNodeId(e.id);this.rootScope_.$broadcast("ngeo-layertree-state",t,t)},0)}),i.length>0&&!r&&this.notifyCantAddGroups_(i),0===i.length},M8.prototype.setSearchedChild=function(e,t){e.children?e.children.forEach(e=>{this.setSearchedChild(e,t)}):e.metadata.isChecked=t},M8.prototype.setInitialFirstLevelGroups=function(e){this.initialLevelFirstGroups_=e},M8.prototype.parseTreeNodes=function(e){const t=e;t.children&&t.children.forEach(e=>{this.parseTreeNodes(e)}),t.popupId&&this.removePopup_(t)},M8.prototype.removePopup_=function(e){const t=e.popupId;S8(`#${t}`).remove(),delete e.popupId},M8.prototype.reorderChild_=function(e,t,n){e.splice(n,0,e.splice(t,1)[0])},M8.prototype.updateTreeGroupsState_=function(e,t){const n={};n[I6.TREE_GROUPS]=e.map(e=>e.name).join(","),this.ngeoStateManager_.updateState(n),this.$injector_.has("gmfPermalink")&&this.$injector_.get("gmfPermalink").cleanParams(t)},M8.prototype.addFirstLevelGroup_=function(e){let t=!1;const n=e.id;return this.root.children.some(e=>n===e.id&&(t=!0,!0),this),this.groupsToAddInThisDigestLoop_.some(e=>n===e.id&&(t=!0,!0),this),!t&&(this.groupsToAddInThisDigestLoop_.push(e),this.numberOfGroupsToAddInThisDigestLoop=0,null!==this.promiseForGroupsToAddInThisDigestLoop_&&this.$timeout_.cancel(this.promiseForGroupsToAddInThisDigestLoop_),this.promiseForGroupsToAddInThisDigestLoop_=this.$timeout_(()=>{this.numberOfGroupsToAddInThisDigestLoop=this.groupsToAddInThisDigestLoop_.length,this.groupsToAddInThisDigestLoop_.forEach(e=>{this.root.children.unshift(e),this.root.children.forEach((e,t)=>{if(void 0!==this.initialLevelFirstGroups_){const n=this.initialLevelFirstGroups_.findIndex(t=>t.id===e.id);-1!==n&&n!==t&&this.reorderChild_(this.root.children,t,n)}})}),this.initialLevelFirstGroups_=void 0,this.updateTreeGroupsState_(this.root.children,[]),this.groupsToAddInThisDigestLoop_.length=0,this.promiseForGroupsToAddInThisDigestLoop_=null}),!0)},M8.prototype.addGroupByName=function(e,t){this.gmfThemes_.getThemesObject().then(n=>{const r=c1(n,e);r&&(r.name===e?this.addFirstLevelGroups([r],t,!1):this.addSecondLevelGroups([r],e,t,!1))})},M8.prototype.addGroupByLayerName=function(e,t,n){this.gmfThemes_.getThemesObject().then(r=>{const i=function(e,t){for(let n=0,r=e.length;n<r;n++){const r=e[n];for(let e=0,n=r.children.length;e<n;e++){const n=r.children[e],i=[];if(f1(n,i),u1(i,t))return n}}return null}(r,e);if(i){const r=this.addFirstLevelGroups([i],t,n);this.$timeout_(()=>{const t=this.getTreeCtrlByNodeId(i.id);if(!t)return void console.warn("Tree controller not found, unable to add the group");let n=null;t.traverseDepthFirst(t=>{if(t.node.name===e)return n=t,s8}),r&&t.setState("off"),n instanceof i8&&n.setState("on")})}})},M8.prototype.removeGroup=function(e){const t=this.root.children;let n=0,r=!1;if(t.some(t=>t.name===e.name?r=!0:(n++,!1)),r){const e=t.splice(n,1);this.updateTreeGroupsState_(t,e)}},M8.prototype.removeAll=function(){for(;this.root.children.length;)this.removeGroup(this.root.children[0])},M8.prototype.cloneGroupNode_=function(e,t){const n=Object.assign({},e);return this.toggleNodeCheck_(n,t),n},M8.prototype.toggleNodeCheck_=function(e,t){const n=e;n.children&&n.children.forEach(e=>{const n=e;n.children?this.toggleNodeCheck_(n,t):e.metadata&&(e.metadata.isChecked=t.includes(e.name))})},M8.prototype.notifyCantAddGroups_=function(e){const t=[],n=this.gettextCatalog_;e.forEach(e=>{t.push(n.getString(e.name))});const r=t.length<2?n.getString("group is already loaded."):n.getString("groups are already loaded.");Qs.notify({msg:`${t.join(", ")} ${r}`,type:Is.INFORMATION})},M8.prototype.getTreeCtrlByNodeId=function(e){let t=null;return this.rootCtrl&&this.rootCtrl.traverseDepthFirst&&this.rootCtrl.traverseDepthFirst(n=>n.node.id===e?(t=n,s8):l8),t},M8.prototype.getOgcServer=function(e){if(!this.ogcServers_)throw new Error("Missing ogcServers");if(e.parent.node.mixed){const t=e.node;if(!t.ogcServer)throw new Error("Missing gmfLayerWMS.ogcServer");return this.ogcServers_[t.ogcServer]}{let t=e;for(;!t.parent.isRoot;)t=t.parent;const n=t.node;if(!n.ogcServer)throw new Error("Missing gmfGroup.ogcServer");return this.ogcServers_[n.ogcServer]}},M8.prototype.refreshFirstLevelGroups_=function(e){if(!this.rootCtrl)throw new Error("Missing rootCtrl");const t={};this.rootCtrl.children.forEach(e=>{const n=e.node.name;t[n]=this.getFirstLevelGroupFullState_(e)});const n=[];this.root.children.forEach(t=>{const r=t.name,i=c1(e,r);i&&n.push(i)}),this.setFirstLevelGroups(n),this.$timeout_(()=>{this.rootCtrl.children.forEach(e=>{const n=e.node.name;this.setFirstLevelGroupFullState_(e,t[n])}),this.updateTreeGroupsState_(this.root.children,[])})},M8.prototype.getFirstLevelGroupFullState_=function(e){const t={};let n,r,i;if(e.children.forEach(e=>{t[e.node.name]=this.getFirstLevelGroupFullState_(e)}),e.children.length>0){const t=S8(`#gmf-layertree-layer-group-${e.uid}`);t&&(r=t.hasClass("show"))}else{n=e.getState(),n="on"===n||"off"!==n&&void 0;const t=S8(`#gmf-layertree-node-${e.uid}-legend`);t&&(i=t.hasClass("show"))}return{children:t,isChecked:n,isExpanded:r,isLegendExpanded:i}},M8.prototype.setFirstLevelGroupFullState_=function(e,t){if(void 0!==t){if(e.children.length>0){const n=S8(`#gmf-layertree-layer-group-${e.uid}`);n&&(t.isExpanded?n.addClass("show"):n.removeClass("show"))}else{!0===t.isChecked?e.setState("on"):!1===t.isChecked&&e.setState("off");const n=S8(`#gmf-layertree-node-${e.uid}-legend`);t.isLegendExpanded?n.addClass("show"):n.removeClass("show")}e.children.forEach(e=>{this.setFirstLevelGroupFullState_(e,t.children[e.node.name])})}};const k8=t().module("gmfTreeManager",[w1.name,u8.name,x8.name]);k8.service("gmfTreeManager",M8);const T8=k8;class E8{constructor(e,t,n,r,i,o,s,a,l,c,u,h){this.q_=e,this.rootScope_=t,this.timeout_=n,this.gmfThemes_=i,this.gmfTreeManager_=o,this.ngeoBackgroundLayerMgr_=s,this.ngeoDataSources_=a,this.dataSources_=a.collection,this.ngeoLayerHelper_=l,this.ngeoRuleHelper_=c,this.ngeoWMSTime_=u,this.gmfWFSAliases_=h,this.dataSourcesCache_={},this.dimensions_,this.dimensionsWatcherUnregister=null,this.treeCtrlCache_={},this.treeCtrlsUnregister_=null,this.gmfDatasourceOptions=r.has("gmfDatasourceOptions")?r.get("gmfDatasourceOptions"):{},dn(this.ngeoBackgroundLayerMgr_,"change",this.handleNgeoBackgroundLayerChange_,this),dn(this.gmfThemes_,"change",this.handleThemesChange_,this)}setDatasourceMap(e){this.ngeoDataSources_.map=e}getDatasource(e){return this.dataSourcesCache_[e]}setDimensions(e){this.dimensionsWatcherUnregister&&this.dimensionsWatcherUnregister(),this.dimensions_=e,this.dimensionsWatcherUnregister=this.rootScope_.$watch(()=>this.dimensions_,this.handleDimensionsChange_.bind(this),!0),this.handleDimensionsChange_()}handleDimensionsChange_(){const e=[],t=[],n=this.dataSources_.getArray();for(const r of n)if(r instanceof t1&&r.dimensionsFiltersConfig)for(const n in r.dimensionsFiltersConfig)if(null===r.dimensionsFiltersConfig[n].value){const n=this.getDataSourceLayer_(r);if(null==n)return;const i=Pn(n);t.includes(i)||(e.push(n),t.push(i))}e.forEach(this.updateLayerFilter_.bind(this))}handleThemesChange_(){this.clearDataSources_(),this.treeCtrlsUnregister_&&this.treeCtrlsUnregister_(),this.clearTreeCtrlCache_(),this.gmfThemes_.getOgcServersObject().then(e=>{const t=this.gmfThemes_.getThemesObject().then(t=>{for(const n of t)for(const t of n.children)this.createDataSource_(t,t,e)}),n=this.gmfThemes_.getBackgroundLayersObject().then(t=>{for(const n of t)this.createDataSource_(null,n,e)});this.q_.all([t,n]).then(()=>{this.treeCtrlsUnregister_=this.rootScope_.$watchCollection(()=>{if(this.gmfTreeManager_.rootCtrl)return this.gmfTreeManager_.rootCtrl.children},this.handleTreeManagerRootChildrenChange_.bind(this))})})}handleTreeManagerRootChildrenChange_(e){this.timeout_(()=>{if(!e)return;const t=[],n=e=>{e.node.children||t.push(e)};for(let t=0,r=e.length;t<r;t++)e[t].traverseDepthFirst(n);for(let e=0,n=t.length;e<n;e++){const n=t[e];this.getTreeCtrlCacheItem_(n)||this.addTreeCtrlToCache_(n)}const r=this.treeCtrlCache_;for(const e in this.treeCtrlCache_){const n=r[e];t.includes(n.treeCtrl)||this.removeTreeCtrlCacheItem_(n)}})}clearDataSources_(){const e=this.dataSources_.getArray();for(let t=e.length-1,n=0;t>=n;t--)this.dataSourcesCache_[e[t].id]&&this.dataSources_.remove(e[t]);ln(this.dataSourcesCache_)}createDataSource_(e,t,n){const r=t.children;if(r){for(const t of r)this.createDataSource_(e,t,n);return}const i=t,o=Number(Pn(i));if(this.dataSourcesCache_[o])return;const s=i.metadata,a=i.type;let l,c,u,h,d,f,p,m,g=0,_=0;if(a===y1||a===_1){g=void 0!==s.maxQueryResolution?s.maxQueryResolution:s.maxResolution,_=void 0!==s.minQueryResolution?s.minQueryResolution:s.minResolution;const e=s.queryLayers||s.wmsLayers;e&&(h=e.split(",").map(e=>({name:e,queryable:!0})),d=e.split(",").map(e=>({maxResolution:g,minResolution:_,name:e,queryable:!0}))),s.ogcServer&&n[s.ogcServer]&&(m=s.ogcServer,p=n[s.ogcServer])}if(a===y1){const e=i;l=e.layer,c=e.url,u=e.imageType}else if(a===b1){const t=i;g=t.maxResolutionHint,_=t.minResolutionHint;let r=!1;for(const e of t.childLayers)if(e.queryable){r=!0;break}const o=s.queryLayers?s.queryLayers.split(","):null;h=t.layers.split(",").map(e=>{const t={name:e,queryable:r};return o&&!o.includes(e)&&(t.getData=!1),t}),d=t.childLayers.map(e=>{const t={maxResolution:e.maxResolutionHint,minResolution:e.minResolutionHint,name:e.name,queryable:e.queryable};return o&&!o.includes(e.name)&&(t.getData=!1),t}),m=!e||e.mixed?t.ogcServer:e.ogcServer,p=n[m],u=p.imageType,t.time?f=t.time:e&&e.time&&(f=e.time)}const y=p?p.type:void 0,b=p?p.namespace:void 0,v=p?p.isSingleTile:void 0,w=p&&p.wfsSupport?p.urlWfs:void 0,x=p?p.url:void 0;let S=W0;y===j0&&(S=G0);const M=!!s.snappingConfig,k=s.snappingConfig?s.snappingConfig.tolerance:void 0,T=s.snappingConfig?s.snappingConfig.edge:void 0,E=s.snappingConfig?s.snappingConfig.vertex:void 0,L=this.dimensions_,C=t.dimensions||(null===e?{}:e.dimensions),D=i.dimensionsFilters;let P,$;if(f){const e=this.ngeoWMSTime_.getOptions(f).values;Array.isArray(e)?(P=e[0],$=e[1]):P=e}const A=s.copyable,R=s.identifierAttributeField,O=i.name,I=s.queryIconPosition,F=s.timeAttribute,N=!0===s.isChecked,Y={copyable:A,dimensionsConfig:C,dimensionsFiltersConfig:D,gmfLayer:i,id:o,identifierAttribute:R,name:O,ogcType:a,ogcAttributes:p?p.attributes:null,queryIconPosition:I,snappable:M,timeAttributeName:F,visible:N,wfsOutputFormat:S};L&&(Y.dimensions=L),g&&(Y.maxResolution=g),_&&(Y.minResolution=_),u&&(Y.ogcImageType=u),y&&(Y.ogcServerType=y),k&&(Y.snappingTolerance=k),T&&(Y.snappingToEdges=T),E&&(Y.snappingToVertice=E),P&&(Y.timeLowerValue=P),f&&(Y.timeProperty=f),$&&(Y.timeUpperValue=$),b&&(Y.wfsFeatureNS=b),d&&(Y.wfsLayers=d),w&&(Y.wfsUrl=w),v&&(Y.wmsIsSingleTile=v),h&&(Y.wmsLayers=h),x&&(Y.wmsUrl=x),l&&(Y.wmtsLayer=l),c&&(Y.wmtsUrl=c),y===N0&&(this.gmfDatasourceOptions.ogcServersSpecific&&this.gmfDatasourceOptions.ogcServersSpecific[m]&&this.gmfDatasourceOptions.ogcServersSpecific[m].arcgisWMSInfoFormat?Y.wmsInfoFormat=this.gmfDatasourceOptions.ogcServersSpecific[m].arcgisWMSInfoFormat:this.gmfDatasourceOptions.arcgisWMSInfoFormat&&(Y.wmsInfoFormat=this.gmfDatasourceOptions.arcgisWMSInfoFormat)),this.dataSourcesCache_[o]=new t1(Y)}addTreeCtrlToCache_(e){const t=Pn(e.node),n=this.dataSourcesCache_[t];if(!n)throw new Error("Missing dataSource");e.setDataSource(n);const r=this.rootScope_.$watch(()=>e.getState(),this.handleTreeCtrlStateChange_.bind(this,e)),i=this.rootScope_.$watch(()=>{const e=null!==n.filterRules,t=n.visible;return e&&t},this.handleDataSourceFilterRulesChange_.bind(this,n));let o,s,a;n.timeProperty&&n.ogcType===H0&&(o=this.rootScope_.$watch(()=>n.timeLowerValue,this.handleDataSourceTimeValueChange_.bind(this,n)),"range"===n.timeProperty.mode&&(s=this.rootScope_.$watch(()=>n.timeUpperValue,this.handleDataSourceTimeValueChange_.bind(this,n))),a=d8(e)),this.treeCtrlCache_[t]={filterRulesWatcherUnregister:i,stateWatcherUnregister:r,timeLowerValueWatcherUnregister:o,timeUpperValueWatcherUnregister:s,treeCtrl:e,wmsLayer:a},this.dataSources_.push(n),this.gmfWFSAliases_.describe(n)}removeTreeCtrlCacheItem_(e){const t=e.treeCtrl.getDataSource();if(!t)throw new Error("DataSource should be set");this.dataSources_.remove(t),e.treeCtrl.setDataSource(null),e.filterRulesWatcherUnregister(),e.stateWatcherUnregister(),e.timeLowerValueWatcherUnregister&&e.timeLowerValueWatcherUnregister(),e.timeUpperValueWatcherUnregister&&e.timeUpperValueWatcherUnregister(),delete this.treeCtrlCache_[Pn(e.treeCtrl.node)]}clearTreeCtrlCache_(){for(const e in this.treeCtrlCache_)this.removeTreeCtrlCacheItem_(this.treeCtrlCache_[e])}handleTreeCtrlStateChange_(e,t){const n=e.getDataSource();if(!n)throw new Error("DataSource should be set");const r="on"===t;n.visible=r;const i=this.getDataSourceLayer_(n);null!=i&&this.updateLayerFilter_(i)}getTreeCtrlCacheItem_(e){return this.treeCtrlCache_[Pn(e.node)]||null}getDataSourceLayer_(e){if(!(e instanceof t1)||null==e.gmfLayer)return;const t=Pn(e.gmfLayer);if(null==t)return;const n=this.treeCtrlCache_[t];if(null==n)return;return d8(n.treeCtrl)}updateLayerFilter_(e){if(!(e instanceof IW||e instanceof gU||e instanceof wU))return;const t=e.getSource();if(!(t instanceof JW||t instanceof cq))return;const n=t.getParams().LAYERS.split(",");if(!n.length)throw new Error("Missing layersList");const r="FILTER",i=[];let o=!1;for(const t of n){let n="()";const r=this.dataSources_.getArray();for(const i of r){const r=this.getDataSourceLayer_(i);if(null==r)continue;if(!(i instanceof t1))throw new Error("Wrong dataSource type");const s=i.gmfLayer;if(Pn(r)==Pn(e)&&e.get("querySourceIds").includes(String(i.id))&&s.layers.split(",").includes(t)){const e=Pn(i.gmfLayer),t=this.treeCtrlCache_[e];if(!t)throw new Error("Missing item");const r=t.treeCtrl.map.getView().getProjection().getCode();if(!(i instanceof t1))throw new Error("Wrong datasource");const s=i.visible?this.ngeoRuleHelper_.createFilterString({dataSource:i,projCode:r,incDimensions:!0}):null;s&&(n=`(${s})`,o=!0)}}i.push(n)}t.updateParams({[r]:o?i.join(""):null})}handleDataSourceFilterRulesChange_(e){if(!0!==e.filtrable||e.ogcType!==H0)return;const t=this.getDataSourceLayer_(e);void 0!==t&&this.updateLayerFilter_(t)}handleDataSourceTimeValueChange_(e){const t=Pn(e.gmfLayer),n=this.treeCtrlCache_[t];if(!n)throw new Error("Missing item");const r=n.wmsLayer,i=r.getSource(),o=e.timeProperty;let s;const a=e.timeRangeValue;if(a){if(!o)throw new Error("Missing timeProperty");s=this.ngeoWMSTime_.formatWMSTimeParam(o,a)}i.getParams().TIME!==s&&this.ngeoLayerHelper_.updateWMSLayerState(r,i.getParams().LAYERS,s)}handleNgeoBackgroundLayerChange_(e){const t=e,n=t.detail.previous,r=t.detail.current,i=this.dataSourcesCache_;if(n){const e=n.get("querySourceIds");if(Array.isArray(e))for(const t of e){const e=i[t];e&&(e.visible=!1,this.dataSources_.remove(e))}}if(r){const e=r.get("querySourceIds");if(Array.isArray(e))for(const t of e){const e=i[t];e&&(e.visible=!0,this.dataSources_.push(e))}}}}E8.$inject=["$q","$rootScope","$timeout","$injector","gmfThemes","gmfTreeManager","ngeoBackgroundLayerMgr","ngeoDataSources","ngeoLayerHelper","ngeoRuleHelper","ngeoWMSTime","gmfWFSAliases"];const L8=t().module("gmfDataSourcesManager",[r8.name,p8.name,T8.name,w1.name,I4.name,R1.name,T1.name,a1.name,S4.name]);L8.service("gmfDataSourcesManager",E8);const C8=L8,D8=t().module("ngeoDatasourceModule",[R1.name,R6.name,e8.name,B6.name,$6.name,C8.name,r8.name]);n(6415);$8.$inject=["ngeoPopupTemplateUrl"];const P8=t().module("ngeoPopup",["ngSanitize"]);function $8(e){return{restrict:"A",templateUrl:e,link:(e,t,n)=>{t.addClass("popover"),e.close=function(e){e&&(e.stopPropagation(),e.preventDefault()),t.addClass("hidden")},e.$watch("open",(e,n)=>{t.css("display",e?"block":"none")})}}}P8.value("ngeoPopupTemplateUrl",(e,t)=>{const n=t.ngeoPopupTemplateurl;return void 0!==n?n:"ngeo/message/popupcomponent"}),P8.run(["$templateCache",e=>{e.put("ngeo/message/popupcomponent",'<h4 class="popover-title ngeo-popup-title">\n  <span ng-bind-html="title"></span>\n  <button type="button" class="close" ng-click="open = false">&times;</button>\n</h4>\n<div class="popover-body" ng-bind-html="content"></div>')}]),P8.directive("ngeoPopup",$8);const A8=P8;function R8(e,n,r,i){this.scope=n.$new(!0),this.scope.$watch(()=>this.scope.open,e=>{!e&&this.autoDestroy_&&this.timeout_(()=>{this.destroy()})}),this.sce_=r,this.timeout_=i,this.element_=t().element("<div ngeo-popup></div>"),this.autoDestroy_=!1,e(this.element_)(this.scope),t().element(document.body).append(this.element_)}function O8(e,t,n,r){return function(){return new R8(e,t,n,r)}}O8.$inject=["$compile","$rootScope","$sce","$timeout"],R8.prototype.getOpen=function(){return this.scope.open},R8.prototype.setOpen=function(e){this.scope.open=e},R8.prototype.destroy=function(){this.scope.$destroy(),this.element_.remove()},R8.prototype.setTitle=function(e){const t=this.sce_.trustAsHtml(e);this.scope.title=t},R8.prototype.setContent=function(e,t){this.scope.content=t?this.sce_.trustAsHtml(e):e},R8.prototype.setUrl=function(e){const t=this.sce_.trustAsHtml(`<iframe src="${e}" width="100%" height="100%"></iframe>`);this.setContent(t)},R8.prototype.setWidth=function(e){this.element_.width(e)},R8.prototype.setHeight=function(e){this.element_.height(e)},R8.prototype.setSize=function(e,t){this.setWidth(e),this.setHeight(t)},R8.prototype.setAutoDestroy=function(e){this.autoDestroy_=e},R8.prototype.addClass=function(e){this.element_.addClass(e)},R8.prototype.open=function(e){e.url?this.setUrl(e.url):e.content?this.setContent(e.content):console.assert(!1,'ngeo.message.Popup options requirest "url" or "content".'),void 0!==e.autoDestroy&&this.setAutoDestroy(e.autoDestroy),void 0!==e.cls&&this.addClass(e.cls),void 0!==e.height&&this.setHeight(e.height),void 0!==e.title&&this.setTitle(e.title),void 0!==e.width&&this.setWidth(e.width),this.setOpen(!0)};const I8=t().module("ngeoCreatePopup",[A8.name]);I8.factory("ngeoCreatePopup",O8);const F8=I8,N8="error",Y8="information",j8="success",H8="warning",U8=class{showMessage(e){}show(e){this.getMessageObjects(e).forEach(e=>this.showMessage(e))}error(e){this.show(this.getMessageObjects(e,N8))}info(e){this.show(this.getMessageObjects(e,Y8))}success(e){this.show(this.getMessageObjects(e,j8))}warn(e){this.show(this.getMessageObjects(e,H8))}getMessageObjects(e,t){const n=[],r=Y8;if("string"==typeof e)n.push({msg:e,type:void 0!==t?t:r});else if(Array.isArray(e))e.forEach(i=>{if("string"==typeof e)n.push({msg:i,type:void 0!==t?t:r});else{if("string"==typeof i)throw new Error("Wrong msg type");void 0!==t&&(i.type=t),n.push(i)}});else{const i=e;void 0!==t&&(i.type=t),void 0===i.type&&(i.type=r),n.push(i)}return n}};class z8 extends U8{constructor(e,n,r){super(),this.sce_=e,this.gettextCatalog_=n,this.createPopup_=r;const i=t().element('<div class="ngeo-disclaimer"></div>');t().element(document.body).append(i),this.container_=i,this.messages_={},this.messagesConsumerCount_={},this.uids_={},this.validMessages_=[],this.closedMessages_=[]}alert(e){this.show(e)}close(e){this.getMessageObjects(e).forEach(e=>this.closeMessage_(e))}showMessage(e){const n=this.gettextCatalog_,r=e.type;console.assert("string"==typeof r,"Type should be set.");const i=this.getMessageUid_(e);if(!(this.uids_[i]||this.isClosedMessage_(i)&&this.isValidMessage_(i)))if(this.validMessages_=this.validMessages_.filter(e=>e!==i),this.validMessages_.push(i),this.uids_[i]=!0,!0===e.popup){const t=this.createPopup_(),n=this.sce_.trustAsHtml(e.msg);t.open({autoDestroy:!0,content:n,title:"&nbsp;"}),t.scope.$watch("open",t=>{t||this.closeMessage_(e)}),this.messages_[i]=t}else{const o=this.getCompatibleMessageUid_(e);if(this.messages_[o])return void this.messagesConsumerCount_[o]++;const s=["alert","fade","alert-dismissible","show"];switch(r){case N8:s.push("alert-danger");break;case Y8:s.push("alert-info");break;case j8:s.push("alert-success");break;case H8:s.push("alert-warning")}const a=t().element(`<div role="alert" class="${s.join(" ")}"></div>`),l=t().element(`<button type="button" class="close" data-dismiss="alert" aria-label="${n.getString("Close")}"><span aria-hidden="true" class="fa-solid fa-xmark"></span></button>`),c=t().element("<span />").html(e.msg);let u;a.append(l).append(c),l.on("click",()=>this.closedMessages_.push(i)),u=e.target?t().element(e.target):this.container_,u.append(a),a.addClass("show"),a.on("closed.bs.alert",()=>{this.closeMessage_(e,!0)}),this.messages_[o]=a,this.messagesConsumerCount_[o]=1}}getMessageUid_(e){return`${e.msg}-${e.type}-${e.layerUid}`}getCompatibleMessageUid_(e){return`${e.msg}-${e.type}`}isClosedMessage_(e){return!!this.closedMessages_.find(t=>t===e)}isValidMessage_(e){return!!this.validMessages_.find(t=>t===e)}closeMessage_(e,t=!1){const n=this.getMessageUid_(e);if(!this.uids_[n])return void(this.isClosedMessage_(n)&&this.isValidMessage_(n)&&(this.closedMessages_=this.closedMessages_.filter(e=>e!==n),this.validMessages_=this.validMessages_.filter(e=>e!==n)));delete this.uids_[n];const r=this.getCompatibleMessageUid_(e);if(t?this.messagesConsumerCount_[r]=0:this.messagesConsumerCount_[r]--,this.messagesConsumerCount_[r]>0)return;const i=this.messages_[r];if(i instanceof R8){const e=i;e.getOpen()&&e.setOpen(!1)}else if(i){const e=i;e.hasClass("show")&&e.alert("close")}else console.log(`No disclaimer found for '${e.msg}'.`);delete this.messages_[r],delete this.messagesConsumerCount_[r]}}z8.$inject=["$sce","gettextCatalog","ngeoCreatePopup"];const G8=t().module("ngeoDisclaimer",[F8.name]);G8.service("ngeoDisclaimer",z8);const W8=G8;function q8(){this.listenerKeys_={}}q8.prototype.addListenerKey=function(e,t){this.listenerKeys_[e]||this.initListenerKey_(e),this.listenerKeys_[e].push(t)},q8.prototype.clearListenerKey=function(e){this.initListenerKey_(e)},q8.prototype.initListenerKey_=function(e){this.listenerKeys_[e]?this.listenerKeys_[e].length&&(this.listenerKeys_[e].forEach(pn),this.listenerKeys_[e].length=0):this.listenerKeys_[e]=[]};const B8=t().module("ngeoEventHelper",[]);B8.service("ngeoEventHelper",q8);const V8=B8;K8.$inject=["$element","$sce","$timeout","$rootScope","gettextCatalog","ngeoDisclaimer","ngeoEventHelper","ngeoLayerHelper","gmfDisclaimerOptions"];const X8=t().module("gmfDisclaimer",["ngSanitize",a1.name,W8.name,V8.name]);function K8(e,t,n,r,i,o,s,a,l){this.options=l,this.map=null,this.visibility=!1,this.msg,this.msgs_=[],this.sce_=t,this.timeout_=n,this.rootScope_=r,this.gettextCatalog_=i,this.element_=e,this.disclaimer_=o,this.eventHelper_=s,this.ngeoLayerHelper_=a,this.dataLayerGroup_=null}K8.prototype.$onInit=function(){if(!this.map)throw new Error("Missing map");this.dataLayerGroup_=this.ngeoLayerHelper_.getGroupFromMap(this.map,O6),this.registerLayer_(this.dataLayerGroup_),this.rootScope_.$on("ngeo-pre-empty-layertree",()=>{for(const e of this.map.getAllLayers())this.closeAll_(e)})},K8.prototype.handleLayersAdd_=function(e){e instanceof YY&&this.timeout_(()=>{const t=e.element;if(!(t instanceof bY))throw new Error("Wrong layer type");this.registerLayer_(t)})},K8.prototype.handleLayersRemove_=function(e){if(e instanceof YY){const t=e.element;if(!(t instanceof bY))throw new Error("Wrong layer type");this.unregisterLayer_(t)}},K8.prototype.registerLayer_=function(e){const t=Pn(e);e instanceof dz?(this.eventHelper_.addListenerKey(t,dn(e.getLayers(),"add",this.handleLayersAdd_,this)),this.eventHelper_.addListenerKey(t,dn(e.getLayers(),"remove",this.handleLayersRemove_,this)),e.getLayers().forEach(e=>{this.registerLayer_(e)})):this.options.layerVisibility||void 0===this.options.layerVisibility?(e.getVisible()&&this.map.getAllLayers().includes(e)?this.update_(e):this.closeAll_(e),this.rootScope_.$on("ngeo-disclaimer-state",()=>{e.getVisible()&&this.map.getAllLayers().includes(e)?this.update_(e):this.closeAll_(e)})):this.showAll_(e)},K8.prototype.unregisterLayer_=function(e){const t=Pn(e);e instanceof dz?(this.eventHelper_.clearListenerKey(t),e.getLayers().forEach(e=>this.unregisterLayer_(e))):this.closeAll_(e)},K8.prototype.$onDestroy=function(){if(!this.dataLayerGroup_)throw new Error("Missing dataLayerGroup");this.unregisterLayer_(this.dataLayerGroup_)},K8.prototype.showDisclaimerMessage_=function(e,t){if(t=this.gettextCatalog_.getString(t),this.options.external)this.msgs_.includes(t)||this.msgs_.push(t),this.msg=`${this.sce_.trustAsHtml(this.msgs_.join("<br />"))}`,this.visibility=!0;else{const n={msg:t,layerUid:e,target:this.element_,type:Is.WARNING};this.options.popup&&(n.popup=this.options.popup),this.disclaimer_.alert(n)}},K8.prototype.closeAll_=function(e){const t=e.get("disclaimers");if(t){const n=Pn(e);for(const e in t){const r=`${n}-${e}`;this.closeDisclaimerMessage_(r,t[e])}}},K8.prototype.showAll_=function(e){const t=e.get("disclaimers");if(!t)return;const n=Pn(e);for(const e in t){const r=`${n}-${e}`;this.showDisclaimerMessage_(r,t[e])}},K8.prototype.update_=function(e){const t=e.get("disclaimers");if(t)if("all"in t)console.assert(1===Object.keys(t).length),this.showAll_(e);else{const n=e.getSource();if(n.getParams){const r=n.getParams().LAYERS,i=Pn(e);for(const e in t){const n=`${i}-${e}`;-1!==r.indexOf(e)?this.showDisclaimerMessage_(n,t[e]):this.closeDisclaimerMessage_(n,t[e])}}}},K8.prototype.closeDisclaimerMessage_=function(e,t){if(t=this.gettextCatalog_.getString(t),this.options.external)this.visibility=!1,this.msgs_.length=0,this.msg="";else{const n={msg:t,layerUid:e,target:this.element_,type:Is.WARNING};this.options.popup&&(n.popup=this.options.popup),this.disclaimer_.close(n)}};const Z8={controller:K8,bindings:{map:"=gmfDisclaimerMap",visibility:"=?gmfDisclaimerExternalVisibility",msg:"=?gmfDisclaimerExternalMsg"}};X8.component("gmfDisclaimer",Z8);const J8=X8,Q8="collapse",e7="bs.collapse",t7=`.${e7}`,n7=i().fn[Q8],r7="show",i7="collapse",o7="collapsing",s7="collapsed",a7="width",l7=`show${t7}`,c7=`shown${t7}`,u7=`hide${t7}`,h7=`hidden${t7}`,d7=`click${t7}.data-api`,f7='[data-toggle="collapse"]',p7={toggle:!0,parent:""},m7={toggle:"boolean",parent:"(string|element)"};class g7{constructor(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll(`[data-toggle="collapse"][href="#${e.id}"],[data-toggle="collapse"][data-target="#${e.id}"]`));const n=[].slice.call(document.querySelectorAll(f7));for(let t=0,r=n.length;t<r;t++){const r=n[t],i=Us.getSelectorFromElement(r),o=[].slice.call(document.querySelectorAll(i)).filter(t=>t===e);null!==i&&o.length>0&&(this._selector=i,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get VERSION(){return"4.6.2"}static get Default(){return p7}toggle(){i()(this._element).hasClass(r7)?this.hide():this.show()}show(){if(this._isTransitioning||i()(this._element).hasClass(r7))return;let e,t;if(this._parent&&(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(e=>"string"==typeof this._config.parent?e.getAttribute("data-parent")===this._config.parent:e.classList.contains(i7)),0===e.length&&(e=null)),e&&(t=i()(e).not(this._selector).data(e7),t&&t._isTransitioning))return;const n=i().Event(l7);if(i()(this._element).trigger(n),n.isDefaultPrevented())return;e&&(g7._jQueryInterface.call(i()(e).not(this._selector),"hide"),t||i()(e).data(e7,null));const r=this._getDimension();i()(this._element).removeClass(i7).addClass(o7),this._element.style[r]=0,this._triggerArray.length&&i()(this._triggerArray).removeClass(s7).attr("aria-expanded",!0),this.setTransitioning(!0);const o=`scroll${r[0].toUpperCase()+r.slice(1)}`,s=Us.getTransitionDurationFromElement(this._element);i()(this._element).one(Us.TRANSITION_END,()=>{i()(this._element).removeClass(o7).addClass(`${i7} ${r7}`),this._element.style[r]="",this.setTransitioning(!1),i()(this._element).trigger(c7)}).emulateTransitionEnd(s),this._element.style[r]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!i()(this._element).hasClass(r7))return;const e=i().Event(u7);if(i()(this._element).trigger(e),e.isDefaultPrevented())return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Us.reflow(this._element),i()(this._element).addClass(o7).removeClass(`${i7} ${r7}`);const n=this._triggerArray.length;if(n>0)for(let e=0;e<n;e++){const t=this._triggerArray[e],n=Us.getSelectorFromElement(t);if(null!==n){i()([].slice.call(document.querySelectorAll(n))).hasClass(r7)||i()(t).addClass(s7).attr("aria-expanded",!1)}}this.setTransitioning(!0);this._element.style[t]="";const r=Us.getTransitionDurationFromElement(this._element);i()(this._element).one(Us.TRANSITION_END,()=>{this.setTransitioning(!1),i()(this._element).removeClass(o7).addClass(i7).trigger(h7)}).emulateTransitionEnd(r)}setTransitioning(e){this._isTransitioning=e}dispose(){i().removeData(this._element,e7),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}_getConfig(e){return(e={...p7,...e}).toggle=Boolean(e.toggle),Us.typeCheckConfig(Q8,e,m7),e}_getDimension(){return i()(this._element).hasClass(a7)?a7:"height"}_getParent(){let e;Us.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);const t=`[data-toggle="collapse"][data-parent="${this._config.parent}"]`,n=[].slice.call(e.querySelectorAll(t));return i()(n).each((e,t)=>{this._addAriaAndCollapsedClass(g7._getTargetFromElement(t),[t])}),e}_addAriaAndCollapsedClass(e,t){const n=i()(e).hasClass(r7);t.length&&i()(t).toggleClass(s7,!n).attr("aria-expanded",n)}static _getTargetFromElement(e){const t=Us.getSelectorFromElement(e);return t?document.querySelector(t):null}static _jQueryInterface(e){return this.each(function(){const t=i()(this);let n=t.data(e7);const r={...p7,...t.data(),..."object"==typeof e&&e?e:{}};if(!n&&r.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(r.toggle=!1),n||(n=new g7(this,r),t.data(e7,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}})}}i()(document).on(d7,f7,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();const t=i()(this),n=Us.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(n));i()(r).each(function(){const e=i()(this),n=e.data(e7)?"toggle":t.data();g7._jQueryInterface.call(e,n)})}),i().fn[Q8]=g7._jQueryInterface,i().fn[Q8].Constructor=g7,i().fn[Q8].noConflict=()=>(i().fn[Q8]=n7,g7._jQueryInterface);y7.$inject=["gmfLayertreeNodeTemplateUrl"];const _7=t().module("gmfLayertreeNode",[u8.name]);function y7(e){return{restrict:"A",scope:!0,templateUrl:e,controller:i8}}_7.value("gmfLayertreeNodeTemplateUrl",(e,t)=>{const n=t.gmfLayertreeNodeTemplateurl;return void 0!==n?n:"gmf/layertree/layertreeNode"}),_7.run(["$templateCache",e=>{e.put("gmf/layertree/layertreeNode",'<span ng-if="::!layertreeCtrl.isRoot">{{::layertreeCtrl.node.name}}</span>\n<input\n  type="checkbox"\n  ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children"\n  ng-model="layertreeCtrl.getSetActive"\n  ng-model-options="{getterSetter: true}"\n/>\n<ul ng-if="::layertreeCtrl.node.children">\n  <li\n    ng-repeat="node in ::layertreeCtrl.node.children"\n    gmf-layertree-node="::node"\n    gmf-layertree-node-notroot\n    gmf-layertree-node-map="layertreeCtrl.map"\n    gmf-layertree-node-nodelayer="layertreeCtrl.nodelayerExpr"\n    gmf-layertree-node-listenersexpr="layertreeCtrl.listenersExpr"\n  ></li>\n</ul>')}]),_7.directive("gmfLayertreeNode",y7);const b7=_7,v7=t().module("gmfLayerBeingSwipe",[]);v7.value("gmfLayerBeingSwipe",{layer:null,swipeValue:null});const w7=v7;S7.$inject=["$rootScope","gmfThemes","gmfTreeManagerModeFlush","gmfTreeManager","ngeoStateManager"];const x7="gmf-thememanager-theme_name_set";function S7(e,t,n,r,i){this.$rootScope_=e,this.gmfThemes_=t,this.modeFlush=n,this.gmfTreeManager_=r,this.ngeoStateManager_=i,this.themeName_=""}S7.prototype.addTheme=function(e,t){this.modeFlush?(this.ngeoStateManager_.updateState({theme:e.name}),this.setThemeName(e.name),this.gmfTreeManager_.setFirstLevelGroups(e.children)):this.gmfTreeManager_.addFirstLevelGroups(e.children,!1,t)},S7.prototype.getThemeName=function(){return this.themeName_},S7.prototype.isLoading=function(){return!this.gmfThemes_.loaded},S7.prototype.updateCurrentTheme=function(e,t,n,r){this.gmfThemes_.getThemesObject().then(i=>{if(!e&&this.modeFlush){const e=h1(i,t);e&&(this.gmfTreeManager_.setInitialFirstLevelGroups(e.children),r&&this.gmfTreeManager_.addFirstLevelGroups(e.children,!1,n))}if(e){const t=h1(i,e);t&&this.addTheme(t,!0)}else this.setThemeName(t)})},S7.prototype.setThemeName=function(e,t){this.themeName_=e,t||this.$rootScope_.$emit(x7,e)},S7.prototype.removeAll=function(){this.gmfTreeManager_.removeAll()};const M7=t().module("gmfThemeManager",[T8.name,w1.name,x8.name]);M7.service("gmfThemeManager",S7);const k7=M7;var T7=n(6932);const E7=class extends OY{constructor(e={}){const t=e.element?e.element:document.createElement("div");e.element=document.createElement("div"),super(e);const n=document.createElement("div");n.className="close",n.innerHTML="&times;",n.addEventListener("click",this.close.bind(this)),this.contentEl_=document.createElement("div"),this.contentEl_.append(n,t)}close(){const e=this.getMap();e&&e.removeOverlay(this)}setMap(e){const t=this.getElement();if(!t)throw new Error("Missing element");if(this.getMap()&&T7(t).popover("dispose"),super.setMap(e),e){const e=this.contentEl_;window.setTimeout(()=>{T7(t).popover({container:t.parentElement,placement:"top",content:e,html:!0}),T7(t).popover("show")},0)}}},L7=t().module("ngeoFeatures",[]);L7.value("ngeoFeatures",new jY);const C7=L7,D7="LineString",P7="Point",$7="Polygon";function A7(e){return"string"==typeof e?e:""}const R7=class extends iG{constructor(){super()}getType(){return"text"}readFeature(e,t){return this.readFeatureFromText(A7(e),this.adaptOptions(t))}readFeatureFromText(e,t){return Cn()}readFeatures(e,t){return this.readFeaturesFromText(A7(e),this.adaptOptions(t))}readFeaturesFromText(e,t){return Cn()}readGeometry(e,t){return this.readGeometryFromText(A7(e),this.adaptOptions(t))}readGeometryFromText(e,t){return Cn()}readProjection(e){return this.readProjectionFromText(A7(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,t){return this.writeFeatureText(e,this.adaptOptions(t))}writeFeatureText(e,t){return Cn()}writeFeatures(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))}writeFeaturesText(e,t){return Cn()}writeGeometry(e,t){return this.writeGeometryText(e,this.adaptOptions(t))}writeGeometryText(e,t){return Cn()}};let O7={};const I7={LineString:D7,Point:P7,Polygon:$7,MultiLineString:D7,MultiPoint:P7,MultiPolygon:$7},F7=".-_!*ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghjkmnpqrstuvwxyz",N7={P:function(e){console.assert(e.startsWith("P(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);const t=this.decodeCoordinates_(e);return new ej(t,"XY")},L:function(e){console.assert(e.startsWith("L(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);let t=[];const n=[],r=e.split("'");for(let e=0,i=r.length;e<i;++e)t=this.decodeCoordinates_(r[e],t),n[e]=t.length;return new JY(t,"XY",n)},A:function(e){console.assert(e.startsWith("A(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);let t=[];const n=[],r=e.split(")(");for(let e=0,i=r.length;e<i;++e){const i=r[e].split("'");n[e]=[];const o=n[e];for(let e=0,n=i.length;e<n;++e){t=this.decodeCoordinates_(i[e],t);let n=t.length;0===e?(t[n++]=t[0],t[n++]=t[1]):(t[n++]=t[o[e-1]],t[n++]=t[o[e-1]+1]),o[e]=n}}return new nj(t,"XY",n)},l:function(e){console.assert(e.startsWith("l(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);const t=this.decodeCoordinates_(e);return new oO(t,"XY")},p:function(e){console.assert(e.startsWith("p(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);const t=this.decodeCoordinates_(e);return console.assert(2===t.length),new $R(t,"XY")},a:function(e){console.assert(e.startsWith("a(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);let t=[];const n=[],r=e.split("'");for(let e=0,i=r.length;e<i;++e){t=this.decodeCoordinates_(r[e],t);let i=t.length;0===e?(t[i++]=t[0],t[i++]=t[1]):(t[i++]=t[n[e-1]],t[i++]=t[n[e-1]+1]),n[e]=i}return new KN(t,"XY",n)}},Y7={MultiLineString:function(e){if(e instanceof JY){const t=e.getEnds(),n=t.length,r=e.getFlatCoordinates(),i=e.getStride();let o=0;const s=["L("];for(let e=0;e<n;++e){const n=t[e],a=this.encodeCoordinates_(r,i,o,n);0!==e&&s.push("'"),s.push(a),o=n}return s.push(")"),s.join("")}return null},MultiPoint:function(e){if(e instanceof ej){const t=e.getFlatCoordinates(),n=e.getStride(),r=t.length;return`P(${this.encodeCoordinates_(t,n,0,r)})`}return null},MultiPolygon:function(e){if(e instanceof nj){const t=e.getFlatCoordinates(),n=e.getStride(),r=e.getEndss(),i=r.length;let o=0;const s=["A"];for(let e=0;e<i;++e){const i=r[e];s.push("("),o=Z7.call(this,t,n,o,i,s),s.push(")")}return s.join("")}throw new Error("Wrong geometry type")},LineString:function(e){if(e instanceof oO){const t=e.getFlatCoordinates(),n=e.getStride(),r=t.length;return`l(${this.encodeCoordinates_(t,n,0,r)})`}return null},Point:function(e){if(e instanceof $R){const t=e.getFlatCoordinates(),n=e.getStride(),r=t.length;return`p(${this.encodeCoordinates_(t,n,0,r)})`}return null},Polygon:function(e){if(e instanceof KN){const t=e.getFlatCoordinates(),n=e.getStride(),r=e.getEnds(),i=0,o=["a("];return Z7.call(this,t,n,i,r,o),o.push(")"),o.join("")}return null}};const j7=class extends R7{constructor(e){super();const t=e||{};this.accuracy_=t.accuracy||.1,this.encodeStyles_=t.encodeStyles||!0,this.propertiesFunction_=t.properties||H7,this.setStyle_=void 0===t.setStyle||t.setStyle,this.prevX_=0,this.prevY_=0,O7=t.propertiesType||{},this.defaultValues_=t.defaultValues||{}}decodeCoordinates_(e,t){const n=e.length;let r=0;const i=void 0!==t?t:[];let o=i.length;for(;r<n;){let t,n=0,s=0;do{t=F7.indexOf(e.charAt(r++)),s|=(31&t)<<n,n+=5}while(t>=32);const a=1&s?~(s>>1):s>>1;this.prevX_+=a,n=0,s=0;do{t=F7.indexOf(e.charAt(r++)),s|=(31&t)<<n,n+=5}while(t>=32);const l=1&s?~(s>>1):s>>1;this.prevY_+=l,i[o++]=this.prevX_*this.accuracy_,i[o++]=this.prevY_*this.accuracy_}return i}encodeCoordinates_(e,t,n,r){let i="";for(let o=n;o<r;o+=t){let t=e[o],n=e[o+1];t=Math.floor(t/this.accuracy_),n=Math.floor(n/this.accuracy_);const r=t-this.prevX_,s=n-this.prevY_;this.prevX_=t,this.prevY_=n,i+=U7(r)+U7(s)}return i}readFeatureFromText(e,t){console.assert(e.length>2),console.assert("("===e[1]),console.assert(e.endsWith(")"));let n=e.indexOf("~");const r=n>=0?`${e.substring(0,n)})`:e,i=this.readGeometryFromText(r,t),o=new AP(i);if(n>=0){const t=e.substring(n+1,e.length-1);n=t.indexOf("~");const r=n>=0?t.substring(0,n):t;if(""!=r){const e=r.split("'");for(const t of e){const e=decodeURIComponent(t).split("*");console.assert(2===e.length);let n=e[0];const r=e[1];!this.setStyle_&&O7[n]&&(n=O7[n]),o.set(n,X7(n,r))}}if(n>=0){const e=t.substring(n+1);this.setStyle_?function(e,t){if(""==e)return;const n=K7(e,t),r=n.fillColor,i=n.fontSize,o=n.fontColor,s=n.pointRadius,a=n.strokeColor,l=n.strokeWidth;let c=null;void 0!==r&&(c=new yr({color:r}));let u=null;if(void 0!==a&&void 0!==l){if("number"!=typeof l)throw new Error("Missing strokeWidth");u=new vr({color:a,width:l})}let h=null;if(void 0!==s){if("number"!=typeof s)throw new Error("Missing pointRadius");const e={radius:s};c&&(e.fill=c),u&&(e.stroke=u),h=new gr(e),c=null,u=null}let d=null;void 0!==i&&void 0!==o&&(d=new tI({font:`${i} sans-serif`,fill:new yr({color:o})}));const f={};c&&(f.fill=c);u&&(f.stroke=u);h&&(f.image=h);d&&(f.text=d);const p=new Er(f);t.setStyle(p)}(e,o):function(e,t){const n=K7(e,t),r=t.getGeometry();r instanceof $R?n.isLabel||n[Q1]?(delete n.strokeColor,delete n.fillColor):(delete n.fontColor,delete n.fontSize):(delete n.fontColor,r instanceof oO&&(delete n.fillColor,delete n.fillOpacity));if(n.fontSize){const e=n.fontSize;if("string"!=typeof e)throw new Error("Wrong fontSizeStr type");let t=parseFloat(e);e.includes("px")&&(t=Math.round(t/1.333333)),n.fontSize=t}const i={};for(const e in n){const t=n[e];O7[e]?i[O7[e]]=t:i[e]=t}t.setProperties(i)}(e,o)}}return o}readFeaturesFromText(e,t){console.assert(e.startsWith("F")),this.prevX_=0,this.prevY_=0;const n=[];for(e=e.substring(1);e.length>0;){const r=e.indexOf(")");console.assert(r>=0);const i=this.readFeatureFromText(e.substring(0,r+1),t);n.push(i),e=e.substring(r+1)}return n.forEach(e=>{for(const t in this.defaultValues_){const n=O7[t];void 0===e.get(n)&&e.set(n,this.defaultValues_[t].call(null,e))}}),n}readGeometryFromText(e,t){const n=N7[e[0]];return console.assert(void 0!==n),n.call(this,e)}writeFeatureText(e,t){const n=[];let r="";const i=e.getGeometry();i&&(r=this.writeGeometryText(i,t)),r.length>0&&(console.assert(r.endsWith(")")),r=r.substring(0,r.length-1),n.push(r));const o=[],s=this.propertiesFunction_(e);for(const t in s){const n=s[t];if(null!=n&&t!==e.getGeometryName()){0!==o.length&&o.push("'");const e=encodeURIComponent(`${t.replace(/[()'*]/g,"_")}*${n.toString().replace(/[()'*]/g,"_")}`);o.push(e)}}if(o.length>0&&(n.push("~"),Array.prototype.push.apply(n,o)),this.encodeStyles_){const t=e.getStyleFunction();if(void 0!==t){let r=t(e,0);if(r){const e=[];if(r=Array.isArray(r)?r:[r],!i)throw new Error("Missing geometry");!function(e,t,n){const r=I7[t];console.assert(void 0!==r);for(const t of e){const e=t.getFill(),i=t.getImage(),o=t.getStroke(),s=t.getText();r==$7?null!==e&&W7(e,o,n):r==D7?null!==o&&z7(o,n):r==P7&&null!==i&&G7(i,n),null!==s&&V7(s,n)}}(r,i.getType(),e),e.length>0&&(n.push("~"),Array.prototype.push.apply(n,e))}}}return n.push(")"),n.join("")}writeFeaturesText(e,t){this.prevX_=0,this.prevY_=0;const n=[];if(e.length>0){n.push("F");for(let r=0,i=e.length;r<i;++r)n.push(this.writeFeatureText(e[r],t))}return n.join("")}writeGeometryText(e,t){const n=Y7[e.getType()];console.assert(void 0!==n);const r=oG(e,!0,t);if(!(r instanceof SR))throw new Error("Missing transformedGeometry");const i=n.call(this,r);if(!i)throw new Error("Missing encodedGeometry");return i}};function H7(e){return e.getProperties()}function U7(e){let t=e<<1;return e<0&&(t=~t),function(e){let t="";for(;e>=32;)t+=F7.charAt(32|31&e),e>>=5;return t+=F7.charAt(e),t}(t)}function z7(e,t){B7(e,t)}function G7(e,t){if(e instanceof gr){const n=e.getRadius();t.length>0&&t.push("'"),t.push(encodeURIComponent(`pointRadius*${n}`));const r=e.getFill();null!==r&&q7(r,t);const i=e.getStroke();null!==i&&B7(i,t)}}function W7(e,t,n){q7(e,n),null!==t&&B7(t,n)}function q7(e,t,n="fillColor"){const r=e.getColor();let i;if(null!==r){if(Array.isArray(r))i=LU(r);else{if("string"!=typeof r)throw new Error("Unsupported color");i=LU(It(r))}t.length>0&&t.push("'"),t.push(encodeURIComponent(`${n}*${i}`))}}function B7(e,t){const n=e.getColor();if(null!==n&&Array.isArray(n)){const e=LU(n);t.length>0&&t.push("'"),t.push(encodeURIComponent(`strokeColor*${e}`))}const r=e.getWidth();void 0!==r&&(t.length>0&&t.push("'"),t.push(encodeURIComponent(`strokeWidth*${r}`)))}function V7(e,t){const n=e.getFont();if(void 0!==n){const e=n.split(" ");e.length>=3&&(t.length>0&&t.push("'"),t.push(encodeURIComponent(`fontSize*${e[1]}`)))}const r=e.getFill();null!==r&&q7(r,t,"fontColor")}function X7(e,t){const n=[Z1,J1,Q1,i2,t2,"isCircle","isRectangle","isLabel","showMeasure","showLabel"];return[X1,n2,o2,s2,"pointRadius","strokeWidth"].includes(e)?+t:n.includes(e)?"true"===t:t}function K7(e,t){const n=e.split("'"),r={};for(const e of n){const t=decodeURIComponent(e).split("*");console.assert(2===t.length);const n=t[0],i=t[1];r[n]=X7(n,i)}return r}function Z7(e,t,n,r,i){const o=r.length;for(let s=0;s<o;++s){const o=r[s]-t,a=this.encodeCoordinates_(e,t,n,o);0!==s&&i.push("'"),i.push(a),n=r[s]}return n}e9.$inject=["$timeout"];const J7=t().module("ngeoDebounce",[]);function Q7(e,t,n,r){let i=null;return function(...o){null!==i&&r.cancel(i),i=r(()=>{i=null,e.apply(this,o)},t,n)}}function e9(e){const t=Q7;return(n,r,i)=>t(n,r,i,e)}J7.factory("ngeoDebounce",e9);const t9=J7,n9=t().module("ngeoStatemanagerModule",[b8.name,x8.name]);function r9(e){if(e instanceof Er)return e;if(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(r9(n));return t}{const t={};Object.assign(t,e);const n=e;if(n.fill&&(t.fill=new yr(n.fill)),n.stroke&&(t.stroke=new vr(n.stroke)),n.circle){const e={};Object.assign(e,n.circle),n.circle.fill&&(e.fill=new yr(n.circle.fill)),n.circle.stroke&&(e.stroke=new vr(n.circle.stroke)),t.image=new gr(e),delete t.circle}else if(n.regularShape){const e={};Object.assign(e,n.regularShape),n.regularShape.fill&&(e.fill=new yr(n.regularShape.fill)),n.regularShape.stroke&&(e.stroke=new vr(n.regularShape.stroke)),n.regularShape.angle&&(n.regularShape.angle=n.regularShape.angle/180*Math.PI),n.regularShape.rotation&&(n.regularShape.rotation=n.regularShape.angle/180*Math.PI),t.image=new pr(e),delete t.regularShape}return new Er(t)}}return Mr}var i9=n(6932);l9.$inject=["$q","$timeout","$rootScope","$injector","ngeoDebounce","gettextCatalog","ngeoEventHelper","ngeoStateManager","ngeoLocation","gmfLayerBeingSwipe","gmfPermalinkOptions","gmfDataSourcesManager","ngeoWMSTime"];const o9=",",s9=";",a9={DIMENSIONS:"dim_",TREE_ENABLE:"tree_enable_",TREE_GROUP_LAYERS:"tree_group_layers_",TREE_GROUP_OPACITY:"tree_group_opacity_",TREE_OPACITY:"tree_opacity_",TREE_TIME:"tree_time_",WFS:"wfs_"};function l9(e,t,n,r,i,o,s,a,l,c,u,h,d){if(this.q_=e,this.rootScope_=n,this.$timeout_=t,this.mapViewPropertyChangeEventKey_=null,this.ngeoDebounce_=i,this.ngeoEventHelper_=s,this.ngeoStateManager_=a,this.gmfDataSourcesManager_=h,this.ngeoWMSTime_=d,this.ngeoFeatures_=r.has("ngeoFeatures")?r.get("ngeoFeatures"):null,this.ngeoBackgroundLayerMgr_=r.has("ngeoBackgroundLayerMgr")?r.get("ngeoBackgroundLayerMgr"):null,this.gmfLayerBeingSwipe_=c,this.featureOverlay_=sz.getFeatureOverlay(),this.featureHelper_=r.has("ngeoFeatureHelper")?r.get("ngeoFeatureHelper"):null,this.ngeoQuerent_=r.has("ngeoQuerent")?r.get("ngeoQuerent"):null,!0===u.useLocalStorage&&this.ngeoStateManager_.setUseLocalStorage(!0),this.crosshairEnabledByDefault_=!!u.crosshairEnabledByDefault,this.pointRecenterZoom_=u.pointRecenterZoom,this.gmfExternalDataSourcesManager_=r.has("gmfExternalDataSourcesManager")?r.get("gmfExternalDataSourcesManager"):null,this.gmfThemes_=r.has("gmfThemes")?r.get("gmfThemes"):null,this.gmfObjectEditingManager_=r.has("gmfObjectEditingManager")?r.get("gmfObjectEditingManager"):null,this.gmfThemeManager_=r.has("gmfThemeManager")?r.get("gmfThemeManager"):null,this.defaultTheme_=r.has("defaultTheme")?r.get("defaultTheme"):void 0,this.gmfTreeManager_=r.has("gmfTreeManager")?r.get("gmfTreeManager"):null,this.ngeoLocation_=l,this.ngeoWfsPermalink_=r.has("ngeoWfsPermalink")?r.get("ngeoWfsPermalink"):null,this.gmfUser=null,ia.getProperties().subscribe({next:e=>this.gmfUser=e}),this.map_=null,this.ngeoAutoProjection_=r.has("ngeoAutoProjection")?r.get("ngeoAutoProjection"):null,this.listenerKeys_=[],this.sourceProjections_=null,void 0!==u.projectionCodes&&this.ngeoAutoProjection_){const e=this.ngeoAutoProjection_.getProjectionList(u.projectionCodes);e.length>0&&(this.sourceProjections_=e)}this.crosshairFeature_=null,this.crosshairStyle_=r9(u.crosshairStyle),this.mapTooltip_=null,this.featureHashFormat_=new j7({setStyle:!1,encodeStyles:!1,propertiesType:{fillColor:K1,fillOpacity:n2,fontColor:K1,fontSize:o2,isBox:J1,isCircle:Z1,isLabel:Q1,name:e2,pointRadius:o2,showLabel:t2,showMeasure:i2,strokeColor:K1,strokeWidth:s2},defaultValues:{name:e=>{const t=e.getGeometry();if(!t)throw new Error("Missing geometry");return o.getString(t.getType())},fillOpacity:()=>.5,showLabel:()=>!1,showMeasure:()=>!1}}),this.ngeoBackgroundLayerMgr_&&dn(this.ngeoBackgroundLayerMgr_,"change",this.handleBackgroundLayerManagerChange_,this),this.rootScope_.$on("ngeo-layertree-state",(e,t,n)=>{const r={};if(n.node.mixed){const e=t.getState();if("on"!==e&&"off"!==e)throw new Error("Wrong state");const n="on"===e;t.traverseDepthFirst(e=>{const t=e.node;if(void 0===t.children){const i=`${a9.TREE_ENABLE}${e.node.name}`;!0===t.metadata.isChecked!==n?r[i]=`${n}`:this.ngeoStateManager_.deleteParam(i)}})}else{const e=[];n.traverseDepthFirst(t=>{void 0===t.node.children&&"on"===t.getState()&&e.push(t.node.name)}),r[`${a9.TREE_GROUP_LAYERS}${n.node.name}`]=e.join(",")}this.ngeoStateManager_.updateState(r)}),this.rootScope_.$on("ngeo-layertree-opacity",(e,t)=>{const n={},r=t.layer.getOpacity();n[`${t.parent.node.mixed?a9.TREE_OPACITY:a9.TREE_GROUP_OPACITY}${t.node.name}`]=r,this.ngeoStateManager_.updateState(n)});const f=this.getFeatures();this.ngeoFeatures_&&(f.forEach(e=>{this.featureHelper_&&this.featureHelper_.setStyle(e),this.addNgeoFeature_(e)}),this.ngeoFeatures_.extend(f),dn(this.ngeoFeatures_,"add",this.handleNgeoFeaturesAdd_,this),dn(this.ngeoFeatures_,"remove",this.handleNgeoFeaturesRemove_,this)),this.featureHelper_&&this.rootScope_.$on("$localeChangeSuccess",()=>{f.forEach(e=>{if(!this.featureHelper_)throw new Error("Missing featureHelper");this.featureHelper_.setStyle(e)})}),this.gmfThemeManager_&&this.rootScope_.$on(x7,(e,t)=>{this.setThemeInUrl_(t)}),this.rootScope_.$watch(()=>this.gmfLayerBeingSwipe_.layer,this.handleLayerBeingSwipeChange_.bind(this)),this.rootScope_.$watch(()=>this.gmfLayerBeingSwipe_.swipeValue,this.handleMapSwipeValue_.bind(this)),this.setExternalDataSourcesStatePromise_=null,this.ngeoQuerent_&&this.gmfExternalDataSourcesManager_&&this.initExternalDataSources_().then(()=>{if(!this.gmfExternalDataSourcesManager_)throw new Error("Missing gmfExternalDataSourcesManager");dn(this.gmfExternalDataSourcesManager_.wmsGroupsCollection,"add",this.handleExternalDSGroupCollectionAdd_,this),dn(this.gmfExternalDataSourcesManager_.wmsGroupsCollection,"remove",this.handleExternalDSGroupCollectionRemove_,this),dn(this.gmfExternalDataSourcesManager_.wmtsGroupsCollection,"add",this.handleExternalDSGroupCollectionAdd_,this),dn(this.gmfExternalDataSourcesManager_.wmtsGroupsCollection,"remove",this.handleExternalDSGroupCollectionRemove_,this);for(const e of this.gmfExternalDataSourcesManager_.wmsGroups)this.registerExternalDSGroup_(e);for(const e of this.gmfExternalDataSourcesManager_.wmtsGroups)this.registerExternalDSGroup_(e)}).catch(e=>console.error(e)),this.initLayers_()}l9.prototype.handleLayerBeingSwipeChange_=function(e,t){if(e!==t)if(e){const t={},n=this.gmfLayerBeingSwipe_.swipeValue;null===n&&(this.gmfLayerBeingSwipe_.swipeValue=.5);const r=e.get("dataSourceId");t[I6.MAP_SWIPE]=r,t[I6.MAP_SWIPE_VALUE]=`${n}`,this.ngeoStateManager_.updateState(t)}else this.ngeoStateManager_.deleteParam(I6.MAP_SWIPE),this.ngeoStateManager_.deleteParam(I6.MAP_SWIPE_VALUE)},l9.prototype.handleMapSwipeValue_=function(){const e=this.gmfLayerBeingSwipe_.swipeValue,t={};e&&(t[I6.MAP_SWIPE_VALUE]=`${e}`,this.ngeoStateManager_.updateState(t))},l9.prototype.getMapCenter=function(){const e=this.ngeoStateManager_.getInitialNumberValue(I6.MAP_X),t=this.ngeoStateManager_.getInitialNumberValue(I6.MAP_Y);if(void 0!==e&&void 0!==t&&!isNaN(e)&&!isNaN(t)){const n=[e,t];if(null!==this.sourceProjections_&&this.ngeoAutoProjection_){if(!this.map_)throw new Error("Missing map");const e=this.map_.getView().getProjection(),t=this.ngeoAutoProjection_.tryProjectionsWithInversion(n,e.getExtent(),e,this.sourceProjections_);if(t)return t}return n}return null},l9.prototype.getMapZoom=function(){const e=this.ngeoStateManager_.getInitialNumberValue(I6.MAP_Z);return void 0!==e&&isNaN(e)?void 0:e},l9.prototype.getMapCrosshair=function(){const e=this.ngeoStateManager_.getInitialBooleanValue(I6.MAP_CROSSHAIR);return void 0===e?this.crosshairEnabledByDefault_:e},l9.prototype.setMapCrosshair=function(e){if(!this.map_)throw new Error("Missing map");if(!this.featureOverlay_)throw new Error("Missing featureOverlay");let t;if(t=e||this.map_.getView().getCenter(),!Array.isArray(t))throw new Error("Wrong crosshairCoordinate");this.crosshairFeature_&&this.featureOverlay_.removeFeature(this.crosshairFeature_),this.crosshairFeature_=new AP(new $R(t)),this.crosshairFeature_.setStyle(this.crosshairStyle_),this.featureOverlay_.addFeature(this.crosshairFeature_)},l9.prototype.getMapTooltip=function(){return this.ngeoStateManager_.getInitialStringValue(I6.MAP_TOOLTIP)},l9.prototype.setMapTooltip=function(e,t){if(!this.map_)throw new Error("Missing map");let n;if(t)n=t;else{const e=this.map_.getView().getCenter();if(!e)throw new Error("Missing center");n=e}if(!Array.isArray(n))throw new Error("Wrong tooltipPosition type");const r=i9("<div/>",{class:"gmf-permalink-tooltip",text:e})[0];null!==this.mapTooltip_&&this.map_.removeOverlay(this.mapTooltip_),this.mapTooltip_=new E7({element:r,position:n}),this.map_.addOverlay(this.mapTooltip_)},l9.prototype.getFeatures=function(){const e=this.ngeoStateManager_.getInitialStringValue(I6.FEATURES);return void 0!==e&&""!==e?this.featureHashFormat_.readFeatures(e):[]},l9.prototype.setDimensions=function(e){const t=this.ngeoLocation_.getParamKeysWithPrefix(a9.DIMENSIONS);for(const n of t){const t=this.ngeoLocation_.getParam(n);if(!t)throw new Error("Missing value");e[n.slice(a9.DIMENSIONS.length)]=t}this.rootScope_.$watchCollection(()=>e,e=>{const t={};for(const n in e)t[a9.DIMENSIONS+n]=e[n];this.ngeoLocation_.updateParams(t)})},l9.prototype.setMap=function(e){e!==this.map_&&(this.map_&&(this.unregisterMap_(),this.map_=null),e&&(this.map_=e,this.gmfObjectEditingManager_?this.gmfObjectEditingManager_.getFeature().then(t=>{this.registerMap_(e,t)}):this.registerMap_(e,null)))},l9.prototype.registerMap_=function(e,t){const n=e.getView();let r,i;const o=null!=t?t.getGeometry():void 0;if(o){const t=e.getSize();if(!t)throw new Error("Missing size");let r;(o instanceof $R||o instanceof ej)&&(r=this.pointRecenterZoom_);const i={size:t};r&&(i.maxZoom=r),n.fit(o.getExtent(),i)}else i=this.getMapZoom(),void 0!==i&&n.setZoom(i),r=this.getMapCenter(),r&&n.setCenter([...r]);this.mapViewPropertyChangeEventKey_=dn(n,"propertychange",this.ngeoDebounce_(()=>{const e=n.getCenter();if(!e)throw new Error("Missing center");const t=n.getZoom(),r={};r[I6.MAP_X]=`${Math.round(e[0])}`,r[I6.MAP_Y]=`${Math.round(e[1])}`,r[I6.MAP_Z]=`${t}`,this.ngeoStateManager_.updateState(r)},300,!0),this),this.getMapCrosshair()&&this.featureOverlay_&&this.setMapCrosshair(r);const s=this.getMapTooltip();s&&this.setMapTooltip(s,r);const a=this.getWfsPermalinkData_();null!==a&&this.ngeoWfsPermalink_&&this.ngeoWfsPermalink_.issue(a,e,i)},l9.prototype.unregisterMap_=function(){if(!this.mapViewPropertyChangeEventKey_)throw new Error("Missing mapViewPropertyChangeEventKey");pn(this.mapViewPropertyChangeEventKey_),this.mapViewPropertyChangeEventKey_=null},l9.prototype.getBackgroundLayer=function(e){const t=this.ngeoStateManager_.getInitialStringValue(I6.BG_LAYER);if(void 0!==t)for(const n of e)if(n.get("label")===t)return n;return null},l9.prototype.getBackgroundLayerOpacity=function(){const e=this.ngeoStateManager_.getInitialNumberValue(I6.BG_LAYER_OPACITY);return void 0===e?null:e/100},l9.prototype.handleBackgroundLayerManagerChange_=function(){if(!this.map_||!this.ngeoBackgroundLayerMgr_)return;const e=this.ngeoBackgroundLayerMgr_.get(this.map_);if(!e)throw new Error("Missing layer");const t=e.get("label");if("string"!=typeof t)throw new Error("Wrong layerName type");const n={};n[I6.BG_LAYER]=t,this.ngeoStateManager_.updateState(n);const r=this.ngeoBackgroundLayerMgr_.getOpacityBgLayer(this.map_);if(r){const e=this.getBackgroundLayerOpacity();if(null!==e)r.setOpacity(e);else{const e=r.getOpacity(),t={};t[I6.BG_LAYER_OPACITY]=""+100*e,this.ngeoStateManager_.updateState(t)}dn(r,"change:opacity",()=>{const e=r.getOpacity(),t={};t[I6.BG_LAYER_OPACITY]=""+100*e,this.ngeoStateManager_.updateState(t)})}},l9.prototype.refreshFirstLevelGroups=function(){if(!this.gmfTreeManager_)return;if(!this.gmfTreeManager_.rootCtrl)throw new Error("Missing gmfTreeManager_.rootCtrl");const e=this.gmfTreeManager_.rootCtrl.node.children,t=e?e.map(e=>e.name):[],n={};n[I6.TREE_GROUPS]=t.join(","),this.ngeoStateManager_.updateState(n)},l9.prototype.refreshLayerTime=function(e,t){const n={},r=`${a9.TREE_TIME}${e.node.name}`,i=e.node,o=this.ngeoWMSTime_.formatWMSTimeParam(i.time,t);n[r]=o,this.ngeoStateManager_.updateState(n)},l9.prototype.themeInUrl_=function(e){const t=e.indexOf("theme");return-1!=t&&t==e.length-2},l9.prototype.setThemeInUrl_=function(e){const t=this.ngeoLocation_.getPath();if(!t)throw new Error("Missing path");if(e){const n=t.split("/");if(n.length<=1)throw new Error("Wrong pathElements");""===n[n.length-1]&&n.splice(n.length-1),this.themeInUrl_(n)?n[n.length-1]=e:n.push("theme",e),this.ngeoLocation_.setPath(n.join("/"))}},l9.prototype.defaultThemeName=function(){const e=this.ngeoLocation_.getPath();if(!e)throw new Error("Missing path");const t=e.split("/");if(this.themeInUrl_(t))return decodeURI(t[t.length-1]);const n=this.ngeoStateManager_.getInitialStringValue("theme");if(n)return n;const r=this.defaultThemeNameFromFunctionalities();return null!==r?r:this.defaultTheme_?this.defaultTheme_:null},l9.prototype.defaultThemeNameFromFunctionalities=function(){if(!this.gmfUser)return null;const e=this.gmfUser.functionalities;if(e&&"default_theme"in e){const t=e.default_theme;if(t.length>0)return t[0]}return null},l9.prototype.initLayers_=function(){const e=window.location.href;let t=!1;this.gmfThemes_&&this.gmfThemes_.getThemesObject().then(n=>{const r=this.ngeoLocation_.getParamKeys().filter(e=>!(!e.startsWith(a9.TREE_ENABLE)||"true"!==this.ngeoLocation_.getParam(e))),i=this.defaultThemeName();this.gmfThemeManager_&&this.gmfThemeManager_.setThemeName(this.gmfThemeManager_.modeFlush?i:"");let o,s=[];const a=this.ngeoLocation_.getParam(I6.TREE_GROUPS);void 0===a?(o=h1(n,i),o&&(s=o.children)):a.split(",").forEach(e=>{const r=c1(n,e);r?s.push(r):t=!0}),this.gmfTreeManager_&&this.gmfTreeManager_.setFirstLevelGroups(s),this.$timeout_(()=>{const n=[];if(!this.gmfTreeManager_||!this.gmfTreeManager_.rootCtrl)return void(t&&this.gmfUser&&null===this.gmfUser.roles&&(this.rootScope_.$broadcast("authenticationrequired",{url:e}),ia.setLoginMessage(na)));const i=this.ngeoStateManager_.getInitialNumberValue(I6.MAP_SWIPE),o=this.ngeoStateManager_.getInitialNumberValue(I6.MAP_SWIPE_VALUE);this.gmfTreeManager_.rootCtrl.traverseDepthFirst(e=>{if(e.isRoot)return;const r=e.node,s=e.parent.node,a=this.ngeoStateManager_.getInitialNumberValue(s.mixed?`${a9.TREE_OPACITY}${e.node.name}`:`${a9.TREE_GROUP_OPACITY}${e.node.name}`);e.layer&&(void 0!==a&&e.layer.setOpacity(a),null!=i&&e.layer.get("dataSourceId")===i&&(null!=o&&(this.gmfLayerBeingSwipe_.swipeValue=o),this.gmfLayerBeingSwipe_.layer=e.layer));const l=e.node;if(l&&l.time&&this.setNodeTime_(e),e.parent.node&&s.mixed&&null==r.children){const t=`${a9.TREE_ENABLE}${e.node.name}`;n.push(t);const r=this.ngeoStateManager_.getInitialBooleanValue(t);void 0!==r&&e.setState(r?"on":"off",!1)}else if(!r.mixed&&1==e.depth){const n=this.ngeoStateManager_.getInitialStringValue(`${a9.TREE_GROUP_LAYERS}${e.node.name}`);if(void 0!==n){const r=""==n?[]:n.split(","),i=e=>{if(void 0===e.node.children){const t=r.includes(e.node.name);t&&r.splice(r.indexOf(e.node.name),1),e.setState(t?"on":"off",!1)}};e.traverseDepthFirst(i),r.length>0&&(t=!0)}}});this.gmfTreeManager_.rootCtrl.children.forEach(e=>{e.traverseDepthFirst(t=>{if("indeterminate"!==t.getState())return this.rootScope_.$broadcast("ngeo-layertree-state",t,e),s8})});for(const e of r)n.includes(e)||(t=!0);t&&this.gmfUser&&null===this.gmfUser.roles&&(this.rootScope_.$broadcast("authenticationrequired",{url:e}),ia.setLoginMessage(na))}).catch(e=>console.error(e))}).catch(e=>console.error(e))},l9.prototype.handleNgeoFeaturesAdd_=function(e){if(e instanceof YY){const t=e.element;if(!(t instanceof AP))throw new Error("Wrong feature type");this.addNgeoFeature_(t)}},l9.prototype.handleNgeoFeaturesRemove_=function(e){if(e instanceof YY){const t=e.element;if(!(t instanceof AP))throw new Error("Wrong feature type");this.removeNgeoFeature_(t)}},l9.prototype.addNgeoFeature_=function(e){const t=Pn(e);this.ngeoEventHelper_.addListenerKey(t,dn(e,"change",this.ngeoDebounce_(this.handleNgeoFeaturesChange_,250,!0),this))},l9.prototype.removeNgeoFeature_=function(e){const t=Pn(e);this.ngeoEventHelper_.clearListenerKey(t),this.handleNgeoFeaturesChange_()},l9.prototype.handleNgeoFeaturesChange_=function(){if(!this.ngeoFeatures_)return;const e=this.ngeoFeatures_.getArray(),t=this.featureHashFormat_.writeFeatures(e),n={};"string"==typeof t?n[I6.FEATURES]=t:console.error("Unsupported type: "+typeof t),this.ngeoStateManager_.updateState(n)},l9.prototype.getWfsPermalinkData_=function(){const e=this.ngeoLocation_.getParam(I6.WFS_LAYER);if(!e)return null;const t=this.ngeoLocation_.getParamAsInt(I6.WFS_NGROUPS),n=this.ngeoLocation_.getParamKeysWithPrefix(a9.WFS),r=[];let i;if(void 0===t)i=this.createFilterGroup_(a9.WFS,n),null!==i&&r.push(i);else for(let e=0;e<t;e++)i=this.createFilterGroup_(`${a9.WFS}${e}_`,n),null!==i&&r.push(i);if(0==r.length)return null;const o=this.ngeoLocation_.getParam(I6.WFS_SHOW_FEATURES);return{wfsType:e,showFeatures:!("0"===o||"false"===o),filterGroups:r}},l9.prototype.createFilterGroup_=function(e,t){const n=[];return t.forEach(t=>{if(t==I6.WFS_LAYER||t==I6.WFS_SHOW_FEATURES||t==I6.WFS_NGROUPS||!t.startsWith(e))return;const r=this.ngeoLocation_.getParam(t);if(!r)return;const i=r.split(","),o={property:t.replace(e,""),condition:i};n.push(o)}),n.length>0?{filters:n}:null},l9.prototype.initExternalDataSources_=function(){if(!this.ngeoQuerent_)throw new Error("Missing ngeoQuerent");if(!this.gmfExternalDataSourcesManager_)throw new Error("Missing gmfExternalDataSourcesManager");const e=this.ngeoQuerent_,t=this.gmfExternalDataSourcesManager_,n=[],r=this.ngeoStateManager_.getInitialStringValue(I6.EXTERNAL_DATASOURCES_NAMES),i=this.ngeoStateManager_.getInitialStringValue(I6.EXTERNAL_DATASOURCES_URLS);if(r&&i){const t=r.split(o9),o=i.split(o9);for(let r=0,i=o.length;r<i;r++){const i=t[r];if(!i)break;const s=i.split(s9),a=o[r],l=K0(a),c=this.q_.defer();n.push(c.promise),l===H0?e.wmsGetCapabilities(a).then(e=>{c.resolve({capabilities:e,groupLayerNames:s,serviceType:l,url:a})},()=>{c.reject({groupLayerNames:s,serviceType:l,url:a})}):l===U0?e.wmtsGetCapabilities(a).then(e=>{c.resolve({capabilities:e,groupLayerNames:s,serviceType:l,url:a})},()=>{c.reject({groupLayerNames:s,serviceType:l,url:a})}):c.reject({groupLayerNames:s,serviceType:l,url:a})}}return this.q_.all(n).then(n=>{for(const r of n)if(r.serviceType===H0)for(const n of r.groupLayerNames){const i=e.wmsFindLayerCapability(r.capabilities.Capability.Layer.Layer,n);i&&t.createAndAddDataSourceFromWMSCapability(i,r.capabilities,r.url)}else if(r.serviceType===U0)for(const n of r.groupLayerNames){const i=e.wmtsFindLayerCapability(r.capabilities.Contents.Layer,n);i&&t.createAndAddDataSourceFromWMTSCapability(i,r.capabilities,r.url)}},e=>{})},l9.prototype.handleExternalDSGroupCollectionAdd_=function(e){if(e instanceof YY){const t=e.element;if(!(t instanceof G6))throw new Error("Wrong group type");this.registerExternalDSGroup_(t),this.setExternalDataSourcesState_()}},l9.prototype.registerExternalDSGroup_=function(e){this.listenerKeys_.push(dn(e.dataSourcesCollection,"add",this.setExternalDataSourcesState_,this),dn(e.dataSourcesCollection,"remove",this.setExternalDataSourcesState_,this))},l9.prototype.containsLayerName=function(e,t){if(e instanceof dz){for(const n of e.getLayers().getArray()){if(!n)throw new Error("Missing layer");if(this.containsLayerName(n,t))return!0}return!1}return e.get(r1)==t},l9.prototype.handleExternalDSGroupCollectionRemove_=function(e){if(e instanceof YY){const t=e.element;if(!(t instanceof G6))throw new Error("Wrong group type");this.unregisterExternalDSGroup_(t),this.setExternalDataSourcesState_()}},l9.prototype.unregisterExternalDSGroup_=function(e){this.listenerKeys_.forEach(pn)},l9.prototype.setExternalDataSourcesState_=function(){this.setExternalDataSourcesStatePromise_&&this.$timeout_.cancel(this.setExternalDataSourcesStatePromise_),this.setExternalDataSourcesStatePromise_=this.$timeout_(()=>{if(!this.gmfExternalDataSourcesManager_)throw new Error("Missing gmfExternalDataSourcesManager");const e=[],t=[];for(const n of this.gmfExternalDataSourcesManager_.wmsGroups){t.push(n.url);const r=[];for(const e of n.dataSources)if(e instanceof t1){const t=e.getWFSLayerNames()[0];r.push(t)}e.push(r.join(s9))}for(const n of this.gmfExternalDataSourcesManager_.wmtsGroups){t.push(n.url);const r=[];for(const e of n.dataSources){if(!e.wmtsLayer)throw new Error("Missing wmtsDataSource.wmtsLayer");r.push(e.wmtsLayer)}e.push(r.join(s9))}this.ngeoStateManager_.updateState({[I6.EXTERNAL_DATASOURCES_NAMES]:e.join(o9),[I6.EXTERNAL_DATASOURCES_URLS]:t.join(o9)}),this.setExternalDataSourcesStatePromise_=null})},l9.prototype.cleanParams=function(e){const t=this.ngeoLocation_.getParamKeys();for(const n of t){if(n.startsWith(a9.TREE_GROUP_LAYERS)){const t=n.substring(a9.TREE_GROUP_LAYERS.length);for(const r of e)if(r.name==t){this.ngeoStateManager_.deleteParam(n);break}}if(n.startsWith(a9.TREE_GROUP_OPACITY)){const t=n.substring(a9.TREE_GROUP_OPACITY.length);for(const r of e)if(r.name==t){this.ngeoStateManager_.deleteParam(n);break}}}this.$timeout_(()=>{if(!this.map_)return;const e=this.map_.getLayerGroup();if(!e)throw new Error("Missing layer");for(const n of t){if(n.startsWith(a9.TREE_ENABLE)){const t=n.substring(a9.TREE_ENABLE.length);this.containsLayerName(e,t)||this.ngeoStateManager_.deleteParam(n)}if(n.startsWith(a9.TREE_OPACITY)){const t=n.substring(a9.TREE_OPACITY.length);this.containsLayerName(e,t)||this.ngeoStateManager_.deleteParam(n)}}}).catch(e=>console.error(e))},l9.prototype.setNodeTime_=function(e){const t=this.ngeoStateManager_.getInitialStringValue(`${a9.TREE_TIME}${e.node.name}`);if(t){const n=t.split("/"),r=e.node;r.time.minDefValue=n[0],r.time.maxDefValue=n[1];const i=this.gmfDataSourcesManager_.getDatasource(Pn(e.node));if(i){if(!(i instanceof t1))throw new Error("Wrong dataSource type");i.timeLowerValue=new Date(n[0]).getTime(),i.timeUpperValue=new Date(n[1]).getTime()}else e.children&&e.children.forEach(e=>{const t=this.gmfDataSourcesManager_.getDatasource(Pn(e.node));t&&(t.timeLowerValue=new Date(n[0]).getTime(),t.timeUpperValue=new Date(n[1]).getTime())})}};const c9=t().module("gmfPermalink",[k7.name,w1.name,C8.name,C7.name,w7.name,u8.name,t9.name,V8.name,n9.name]);c9.service("gmfPermalink",l9),function(){const e=[];for(const t in a9)e.push(new RegExp(`${a9[t]}.*`));for(const t in I6)e.push(new RegExp(a9[t]));x8.value("ngeoUsedKeyRegexp",e)}();const u9=c9,h9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="1em" height="1em"><path d="M19.984 6.256 10 1.264.016 6.256 10 11.248zM10 2.921l6.67 3.335L10 9.591 3.33 6.256zM17.984 9l2 .999L10 14.992.016 10l2-1L10 12.992Zm0 3.743 2 1L10 18.736.016 13.744l2-1L10 16.736Z"/></svg>',d9=`<div class="gmf-layertree-group gmf-layertree-depth-1 {{$ctrl.group.visibilityState}}">\n  <a\n    data-toggle="collapse"\n    href="#gmf-layertree-layer-group-{{::$ctrl.getGroupUid()}}"\n    aria-expanded="true"\n    class="fa-solid gmf-layertree-expand-node fa-fw"\n  >\n  </a>\n\n  <a class="fa-solid fa-fw gmf-layertree-state" href ng-click="$ctrl.toggle()"\n    >${h9}</a>\n\n  <a class="gmf-layertree-name" href ng-click="$ctrl.toggle()">\n    <span>{{$ctrl.group.title | translate}}</span>\n  </a>\n\n  <span class="gmf-layertree-right-buttons">\n    <a href="" ng-click="$ctrl.remove()">\n      <span class="fa-solid fa-trash"></span>\n    </a>\n  </span>\n</div>\n\n<ul id="gmf-layertree-layer-group-{{::$ctrl.getGroupUid()}}" class="collapse in show">\n  <li\n    class="gmf-layertree-node gmf-layertree-depth-2"\n    ng-class="[dataSource.visible ? 'on' : 'off']"\n    ng-repeat="dataSource in $ctrl.group.dataSources"\n  >\n    <div class="gmf-layertree-leaf">\n      <a\n        href\n        ng-click="$ctrl.toggleDataSource(dataSource)"\n        class="gmf-layertree-layer-icon gmf-layertree-no-layer-icon"\n      >\n      </a>\n      <a class="gmf-layertree-name" href ng-click="$ctrl.toggleDataSource(dataSource)">\n        <span>{{dataSource.name | translate}}</span>\n      </a>\n\n      <span class="gmf-layertree-right-buttons">\n        <a href="" ng-click="$ctrl.removeDataSource(dataSource)">\n          <span class="fa-solid fa-trash"></span>\n        </a>\n        <a class="gmf-layertree-node-menu-btn" href="" ng-if="ctrl.getLegendUrl(dataSource.legend)">\n          <span class="fa-solid fa-gear"></span>\n        </a>\n        <span ngeo-popover ng-if="$ctrl.getLegendUrl(dataSource.legend)" ngeo-popover-dismiss=".content">\n          <span ngeo-popover-anchor class="extra-actions fa-solid fa-gear" id="popup-id-{{dataSource.id}}"> </span>\n\n          <div ngeo-popover-content>\n            <ul>\n              <li ng-if="$ctrl.getLegendUrl(dataSource.legend)">\n                <i class="fa-solid fa-table-list fa-fw"></i>\n                <a\n                  ng-click="$ctrl.toggleNodeLegend(dataSource.id + 'legend'); popoverCtrl.dismissPopover()"\n                  href=""\n                >\n                  {{'Show/hide legend'|translate}}\n                </a>\n              </li>\n            </ul>\n          </div>\n        </span>\n      </span>\n    </div>\n    <div id="{{dataSource.id + 'legend'}}" class="gmf-layertree-legend">\n      <a\n        title="{{'Hide legend'|translate}}"\n        ng-click="$ctrl.toggleNodeLegend(dataSource.id + 'legend')"\n        href=""\n      >\n        {{'Hide legend'|translate}}\n      </a>\n      <div ng-if="$ctrl.getLegendUrl(dataSource.legend)" class="gmf-imported-legend">\n        <div class="gmf-legend-image">\n          <img ng-src="{{$ctrl.getLegendUrl(dataSource.legend)}}" />\n        </div>\n      </div>\n    </div>\n  </li>\n</ul>`,f9=t().module("gmfLayertreeDatasourceGroupTreeComponent",[R1.name,a1.name]);function p9(e,t){return t(e)}f9.run(["$templateCache",e=>{e.put("gmf/layertree/datasourceGroupTreeComponent",d9)}]),f9.value("gmfLayertreeDatasourceGroupTreeTemplateUrl",e=>{const t=e.gmfLayertreeDatasourceGroupTreeTemplateUrl;return void 0!==t?t:"gmf/layertree/datasourceGroupTreeComponent"}),p9.$inject=["$attrs","gmfLayertreeDatasourceGroupTreeTemplateUrl"];class m9{constructor(e,t,n){this.group=null,this.scope_=e,this.dataSources_=t.collection,this.layerHelper_=n,this.getScale=null}getGroupUid(){return`datasourcegrouptree-${Pn(this.group)}`}toggle(){if(!this.group)throw new Error("Missing group");this.group.toggleVisibilityState()}toggleDataSource(e){e.visible=!e.visible,e.visible?this.setLegendVisibility(!0,e.id.toString()+"legend"):this.setLegendVisibility(!1,e.id.toString()+"legend")}remove(){if(!this.group)throw new Error("Missing group");for(let e=this.group.dataSources.length-1,t=0;e>=t;e--)this.dataSources_.remove(this.group.dataSources[e])}removeDataSource(e){this.dataSources_.remove(e)}toggleNodeLegend(e){const t=document.getElementById(e);t&&t.classList.toggle("show")}getLegendUrl(e){return e?this.layerHelper_.getWMSLegendURL(e.url,e.name,this.getScale()):null}setLegendVisibility(e,t){const n=document.getElementById(t);n&&(e?n.classList.remove("off"):n.classList.add("off"))}}m9.$inject=["$scope","ngeoDataSources","ngeoLayerHelper"],f9.component("gmfDatasourcegrouptree",{bindings:{group:"<",getScale:"&"},controller:m9,templateUrl:p9});const g9=f9;const _9=function(e,t,n,r,i){const o=r.$watchCollection(()=>e,()=>{let r,o,s;if(n)for(r=e.length-1,s=0;r>=0;--r)i(e[r])&&(t[s++]=e[r]);else for(r=0,o=e.length,s=0;r<o;++r)i(e[r])&&(t[s++]=e[r]);t.length=s}),s=r.$watchCollection(()=>t,()=>{let r,o,s;if(n){for(r=0,o=e.length,s=t.length-1;r<o;++r)i(e[r])&&(e[r]=t[s--]);console.assert(-1==s)}else{for(r=0,o=e.length,s=0;r<o;++r)i(e[r])&&(e[r]=t[s++]);console.assert(s==t.length)}});return function(){o(),s()}};var y9=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};class b9 extends xs{set time(e){this._time!==e&&(this._time=e,e&&(this.getCorrectTimeObject(),this.setupMinMaxDefaultValues(),setTimeout(()=>this.emitChangeEvent(),100)))}get time(){return this._time}setupMinMaxDefaultValues(){this.dateStart=+new Date(this.timeProp.minDefValue??this.timeProp.minValue),this.dateEnd=+new Date(this.timeProp.maxDefValue??this.timeProp.maxValue),this.updateTime(this.dateStart,this.dateEnd)}onDateStartSelected(e){const t=e.target;this.updateTime(+new Date(t.value)),this.emitChangeEvent()}onDateEndSelected(e){const t=e.target;this.updateTime(this.dateStart,+new Date(t.value)),this.emitChangeEvent()}updateTime(e,t){this.dateStart=e,t&&(this.dateEnd=t)}emitChangeEvent(){const e={start:this.dateStart};this.isTimeRange()&&(e.end=this.dateEnd);const t=new CustomEvent("change",{bubbles:!0,composed:!0,detail:e});this.dispatchEvent(t)}getCorrectTimeObject(){this.timeProp={...this.time},this.time.minValue&&(this.timeProp.minValue=this.asIsoDateString(this.time.minValue)),this.time.maxValue&&(this.timeProp.maxValue=this.asIsoDateString(this.time.maxValue)),this.timeProp.minDefValue&&(this.timeProp.minDefValue=this.asIsoDateString(this.time.minDefValue)),this.time.maxDefValue&&(this.timeProp.maxDefValue=this.asIsoDateString(this.time.maxDefValue))}asIsoDateString(e){return new Date(e).toISOString().slice(0,10)}isTimeRange(){return this.timeProp.mode===Z0}}y9([Es({type:Object})],b9.prototype,"time",null),y9([Ls()],b9.prototype,"timeProp",void 0),y9([Ls()],b9.prototype,"dateStart",void 0),y9([Ls()],b9.prototype,"dateEnd",void 0);var v9=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let w9=class extends b9{constructor(){super(...arguments),this.isInitialRendering=!0,this.onSliderRelease=lO(()=>{this.emitChangeEvent()},300),this.getLimitedArray=e=>Array(Math.min(e,1e4)).fill(null)}render(){if(!this.timeProp||!this.datesSteps)return rs``;this.isInitialRendering&&this.isTimeRange()&&setTimeout(()=>this.fillColor(),100),this.isInitialRendering=!1;const e=rs`<input class="slider-start" type="range" .min="0" .max="${this.datesSteps.length-1}" .value="${this.sliderStart}" step="1" @input="${e=>this.onDateStartMoved(e)}">`,t=rs`<div class="date-start">${this.getLocalDate(this.dateStart)}</div>`;let n=null,r=null;return this.isTimeRange()&&(n=rs`<input class="slider-end" type="range" .min="0" .max="${this.datesSteps.length-1}" .value="${this.sliderEnd}" step="1" @input="${e=>this.onDateEndMoved(e)}">`,r=rs`<div class="date-end">${this.getLocalDate(this.dateEnd)}</div>`),rs`<style>${yo(b9.styles)}</style><div class="container"><div class="slider-track">${e} ${n?rs`${n}`:rs``}</div><div class="dates-txt">${t} ${r?rs`${r}`:rs``}</div></div>`}setupMinMaxDefaultValues(){this.datesSteps=this.computeDatesSteps();const e=+new Date(this.timeProp.minDefValue??this.timeProp.minValue),t=+new Date(this.timeProp.maxDefValue??this.timeProp.maxValue),n=this.findNearestValue(e,this.datesSteps),r=this.findNearestValue(t,this.datesSteps);this.sliderStart=this.datesSteps.indexOf(n),this.sliderEnd=this.datesSteps.indexOf(r),this.updateTime(e,t),this.onSliderRelease()}findNearestValue(e,t){return t.reduce((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t,0)}onDateStartSelected(e){const t=e.target,n=parseInt(t.value);this.sliderStart=n,this.updateTime(this.datesSteps[n]),this.onSliderRelease()}onDateEndSelected(e){const t=e.target,n=parseInt(t.value);this.sliderEnd=n,this.updateTime(this.datesSteps[this.sliderStart],this.datesSteps[n]),this.onSliderRelease()}onDateStartMoved(e){this.onDateMoved(!0,e)}onDateEndMoved(e){this.onDateMoved(!1,e)}getLocalDate(e){const t={year:"numeric"};return this.timeProp.resolution===e1&&(t.hour="numeric",t.day="numeric",t.month="numeric"),this.timeProp.resolution===J0?(t.day="numeric",t.month="numeric"):this.timeProp.resolution===Q0&&(t.month="numeric"),new Date(e).toLocaleDateString(void 0,t)}computeDatesSteps(){if(this.timeProp.values)return this.computeDatesStepsFromValues();const e=+new Date(this.timeProp.minValue),t=+new Date(this.timeProp.maxValue);if(!this.timeProp.interval&&4!==this.time.interval.length)return console.error("No valid time interval provided."),[e,t];const n=this.timeProp.interval[3];if(n>0)return this.computeDatesStepsForSeconds(e,t,n);const r=this.timeProp.interval[2];if(r>0)return this.computeDatesStepsForDays(e,t,r);const i=this.timeProp.interval[1];if(i>0)return this.computeDatesStepsForMonth(e,t,i);const o=this.timeProp.interval[0];return this.computeDatesStepsForYear(e,t,o)}computeDatesStepsFromValues(){return this.timeProp.values.map(e=>+new Date(e))}computeDatesStepsForSeconds(e,t,n){const r=t-e,i=Math.ceil(r/(1e3*n)),o=this.getLimitedArray(i).map((t,n)=>{const r=new Date(e);return r.setSeconds(r.getSeconds()+1e3*n),+r});return o.push(+new Date(this.timeProp.maxValue)),o}computeDatesStepsForDays(e,t,n){const r=t-e,i=Math.ceil(r/(864e5*n)),o=this.getLimitedArray(i).map((t,n)=>{const r=new Date(e);return r.setDate(r.getDate()+n),+r});return o.push(+new Date(this.timeProp.maxValue)),o}computeDatesStepsForMonth(e,t,n){let r=this.getMonthDiff(new Date(e),new Date(t));r=r>0?r:1,r=Math.ceil(r/n);const i=this.getLimitedArray(r).map((t,n)=>{const r=new Date(e);return r.setMonth(r.getMonth()+n),+r});return i.push(+new Date(this.timeProp.maxValue)),i}computeDatesStepsForYear(e,t,n){let r=this.getYearDiff(new Date(e),new Date(t));r=r>0?r:1,r=Math.ceil(r/n);const i=this.getLimitedArray(r).map((t,n)=>{const r=new Date(e);return r.setFullYear(r.getFullYear()+n),+r});return i.push(+new Date(this.timeProp.maxValue)),i}getMonthDiff(e,t){let n=12*(t.getFullYear()-e.getFullYear());return n-=e.getMonth(),n+=t.getMonth(),n<=0?0:n}getYearDiff(e,t){return t.getFullYear()-e.getFullYear()}onDateMoved(e,t){if(!this.isTimeRange())return void this.onDateStartSelected(t);const n=this.shadowRoot.querySelector(".slider-start"),r=this.shadowRoot.querySelector(".slider-end");parseInt(r.value)-parseInt(n.value)<=0&&(e?n.value=""+(parseInt(r.value)-0):r.value=`${parseInt(n.value)+0}`),e?this.onDateStartSelected(t):this.onDateEndSelected(t),this.fillColor()}fillColor(){const e=this.shadowRoot.querySelector(".slider-track"),t=this.datesSteps.length-1,n=this.sliderStart/t*100,r=this.sliderEnd/t*100;e.style.background=`linear-gradient(to right, var(--brand-secondary) ${n}% , var(--brand-primary) ${n}% , var(--brand-primary) ${r}%, var(--brand-secondary) ${r}%)`}};w9.styles=[bo`.container{position:relative;width:100%;height:3rem}input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;outline:0;position:absolute;margin:auto;top:0;bottom:0;background-color:transparent;pointer-events:none}.slider-track{width:100%;height:5px;position:absolute;margin:.5rem 0;top:0;bottom:0;border-radius:5px;background:linear-gradient(to right,var(--brand-secondary) 0,var(--brand-primary) 0,var(--brand-primary) 100%,var(--brand-secondary) 100%)}input[type=range]::-webkit-slider-runnable-track{-webkit-appearance:none;height:5px}input[type=range]::-moz-range-track{-moz-appearance:none;height:5px}input[type=range]::-ms-track{appearance:none;height:5px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:1.2em;width:.4em;background-color:var(--main-bg-color);border:solid 1px var(--btn-default-border);cursor:pointer;margin-top:-.3rem;pointer-events:auto;border-radius:2px}input[type=range]::-moz-range-thumb{-webkit-appearance:none;height:1.2em;width:.4em;cursor:pointer;border-radius:2px;background-color:var(--main-bg-color);border:solid 1px var(--btn-default-border);pointer-events:auto}input[type=range]::-ms-thumb{appearance:none;height:1.2em;width:.4em;cursor:pointer;border-radius:2px;background-color:var(--main-bg-color);border:solid 1px var(--btn-default-border);pointer-events:auto}input[type=range]:active::-webkit-slider-thumb{background-color:#fff;border:1px solid var(--brand-secondary)}.dates-txt{position:relative;display:flex;justify-content:space-between;top:2rem}`],v9([Ls()],w9.prototype,"sliderStart",void 0),v9([Ls()],w9.prototype,"sliderEnd",void 0),w9=v9([Ms("gmf-timeslider")],w9);var x9,S9=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let M9=x9=class extends b9{render(){if(!this.timeProp)return rs``;const e=this.isTimeRange()?"From:":"Date:",t={nsSeparator:"#"},n=rs`<span>${W.t(e,t)}</span> <input class="datepicker-start" type="date" .min="${this.timeProp.minValue}" .max="${this.getDateMax()}" .value="${this.timeProp.minDefValue??this.timeProp.minValue}" @change="${e=>this.onDateStartSelected(e)}">`;let r=null;return this.isTimeRange()&&(r=rs`<span>${W.t("To:",t)}</span> <input class="datepicker-end" type="date" .min="${this.getDateMin()}" .max="${this.timeProp.maxValue}" .value="${this.timeProp.maxDefValue??this.timeProp.maxValue}" @change="${e=>this.onDateEndSelected(e)}">`),rs`<style>${yo(x9.styles)}</style><div><span>${n}</span> ${r?rs`<span>${r}</span>`:rs``}</div>`}getDateMin(){if(!this.isTimeRange())return this.timeProp.minValue;const e=this.shadowRoot.querySelector(".datepicker-start");return e?e.value:this.timeProp.minValue}getDateMax(){if(!this.isTimeRange())return this.timeProp.maxValue;const e=this.shadowRoot.querySelector(".datepicker-end");return e?e.value:this.timeProp.maxValue}};M9.styles=[bo`input[type=date]{font-size:80%}`],M9=x9=S9([Ms("gmf-datepicker")],M9);const k9=t().module("ngeoEvent",[]);k9.directive("ngeoEvent",()=>({restrict:"A",scope:{model:"=ngeoEventModel",on:"<ngeoEventOn",cb:"&ngeoEventCb"},link:function(e,t){const n=`${e.on}`,r=e.cb;n?r?t[0].addEventListener(n,t=>{const n=t;e.$apply(()=>{e.model=n.detail}),e.$apply(()=>{r()})}):console.error('Missing callback, did you forget the callback "cb" attribute?'):console.error('Missing event name, did you forget the quotes around the "on" attribute?')}}));const T9=k9,E9='<svg\n        xmlns="http://www.w3.org/2000/svg"\n        aria-hidden="true"\n        class="svg-inline--fa-solid fa-sort fa-w-10"\n        data-icon="sort"\n        data-prefix="fas"\n        viewBox="0 0 16 16"\n        width="1em"\n        height="1em"\n      >\n        <path\n          d="M9.286 12.783V3.217c0-.86 1.041-1.29 1.648-.683l4.783 4.783a.96.96 0 0 1 0 1.362l-4.783 4.787c-.607.607-1.648.177-1.648-.683M5.066 2.534.283 7.317a.96.96 0 0 0 0 1.362l4.783 4.787c.607.607 1.648.177 1.648-.683V3.217c0-.86-1.041-1.29-1.648-.683"\n          style="fill: currentColor; stroke-width: 0.04019091"\n        /></svg>',L9=`<div class="gmf-layertree-root-tools" ng-if="layertreeCtrl.isRoot">\n  <a\n    href\n    ng-if="gmfLayertreeCtrl.nodesCount() > 0 || !gmfLayertreeCtrl.gmfExternalDataSourcesManager.isEmpty()"\n    ng-click="gmfLayertreeCtrl.removeAllNodes()"\n  >\n    <span class="fa-solid fa-trash"></span> {{'Clear all' | translate}}\n  </a>\n</div>\n<div\n  ng-if="::!layertreeCtrl.isRoot"\n  id="gmf-layertree-node-{{::layertreeCtrl.uid}}"\n  ng-class="[layertreeCtrl.node.children ? 'gmf-layertree-group' : 'gmf-layertree-leaf', 'gmf-layertree-depth-' + layertreeCtrl.depth, gmfLayertreeCtrl.getResolutionStyle(layertreeCtrl.node), gmfLayertreeCtrl.getNodeState(layertreeCtrl), 'gmf-layertree-node-' + layertreeCtrl.node.id]"\n>\n  <div\n    class="ngeo-sortable-handle"\n    ng-show="layertreeCtrl.depth === 1 && layertreeCtrl.parent.children.length > 1"\n  >\n    <i class="gmf-layertree-sortable-handle-icon fa-solid fa-ellipsis-vertical"></i>\n  </div>\n\n  <a\n    ng-if="::layertreeCtrl.node.children"\n    data-toggle="collapse"\n    href="#gmf-layertree-layer-group-{{::layertreeCtrl.uid}}"\n    aria-expanded="{{::layertreeCtrl.node.metadata.isExpanded}}"\n    class="fa-solid gmf-layertree-expand-node fa-fw"\n  >\n  </a>\n\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="::!layertreeCtrl.node.children && gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl)"\n    class="gmf-layertree-layer-icon"\n  >\n    <div>\n      \x3c!--This div is required for flex issues with IE11--\x3e\n      <img\n        ng-if="::(legendIconUrl=gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl))"\n        ng-src="{{::legendIconUrl}}"\n        loading="lazy"\n      />\n    </div>\n  </a>\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="::!layertreeCtrl.node.children && !gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl)"\n    class="gmf-layertree-layer-icon gmf-layertree-no-layer-icon"\n    ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="1em" height="1em">\n      <path\n        d="M6.458 9.63c-1.521.01-2.925-1.246-3.072-2.758-.156-1.27.533-2.603 1.689-3.162.984-.506 2.248-.454 3.16.184.962.642 1.542 1.84 1.371 2.998-.14 1.121-.921 2.14-1.986 2.53-.369.143-.765.217-1.162.209m-.024-1.102c.997.052 1.949-.748 2.075-1.736.123-.849-.344-1.756-1.124-2.12-.811-.395-1.892-.181-2.453.538-.607.722-.619 1.88.011 2.592.366.433.921.715 1.491.726"\n      /></svg></a>\n\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="layertreeCtrl.node.children && layertreeCtrl.layer.loading"\n    class="fa-solid fa-fw custom-spinner-generic fa-spin"\n    >${Cs("1rem")}</a>\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="layertreeCtrl.node.children && !layertreeCtrl.layer.loading"\n    class="gmf-layertree-state gmf-not-intermediate"\n    >${h9}</a>\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="layertreeCtrl.node.children && !layertreeCtrl.layer.loading"\n    class="gmf-layertree-state gmf-intermediate"\n    ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="1em" height="1em">\n      <path\n        d="m6.513.614-6.5 3.25 6.5 3.25 6.5-3.25zm0 1.078 4.342 2.172-4.342 2.172L2.17 3.864zm5.198 6.396 1.302.65-6.5 3.25-6.5-3.25 1.302-.65 5.198 2.6ZM1.315 5.65l-1.302.651 2.114 1.057 1.3-.65Zm10.396 0L9.599 6.708l1.302.651 2.112-1.058ZM8.127 7.443l-1.614.807-1.136-.568-1.302.65 2.438 1.22 2.437-1.22-1.3-.65Z"\n      /></svg></a>\n\n  <a\n    href\n    data-sentry="id:{{layertreeCtrl.node.id}}"\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    class="gmf-layertree-name"\n  >\n    {{layertreeCtrl.node.name | translate}}\n    <i\n      ng-if="gmfLayertreeCtrl.gmfLayerBeingSwipe.layer && gmfLayertreeCtrl.gmfLayerBeingSwipe.layer === layertreeCtrl.layer"\n      >${E9}</i>\n\n    <i\n      class="gmf-layertree-zoom"\n      data-toggle="tooltip"\n      data-placement="top"\n      data-title="{{'Not visible at current scale. Click to zoom.'|translate}}"\n      ng-click="::gmfLayertreeCtrl.zoomToResolution(layertreeCtrl); $event.preventDefault(); $event.stopPropagation();"\n      ng-if="gmfLayertreeCtrl.getNodeState(layertreeCtrl) == 'on'"\n      ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="1em" height="1em">\n        <path\n          d="M5.111 0q-1.04.002-1.99.407a5.1 5.1 0 0 0-1.625 1.089c-.458.457-.82.994-1.09 1.626A5.05 5.05 0 0 0 0 5.112C0 5.802.138 6.468.407 7.1a5.1 5.1 0 0 0 1.089 1.627c.457.457.994.82 1.626 1.089a5.05 5.05 0 0 0 1.99.406c1.064 0 2.022-.3 2.889-.9l2.497 2.483a.86.86 0 0 0 .654.276q.377 0 .653-.276a.9.9 0 0 0 .276-.653.88.88 0 0 0-.261-.654L9.322 8.001c.324-.468.563-.956.712-1.481-.003-.034-.015-.07-.015-.102 0-.104.037-.211.058-.32h-.334c-.417 0-.941-.247-1.205-.551-.065-.075-.135-.154-.189-.247a3.1 3.1 0 0 1-.944 2.105q-.953.956-2.294.959c-.895 0-1.657-.322-2.294-.959s-.958-1.399-.958-2.294.321-1.657.958-2.294 1.399-.959 2.294-.958q1.341.002 2.294.958c.315.315.567.653.726 1.03.024-.378.18-.769.407-1.03a1.8 1.8 0 0 1 .857-.508 5 5 0 0 0-.668-.813A5.1 5.1 0 0 0 7.1.406 5.05 5.05 0 0 0 5.111 0M15 4.182q0 .21-.143.353l-2.524 2.524q-.152.143-.353.143-.198 0-.35-.143l-.29-.291q-.147-.148-.147-.353t.147-.353l1.136-1.136h-2.73q-.2 0-.327-.145-.126-.146-.126-.351v-.496q0-.206.126-.351.126-.146.328-.146h2.729l-1.136-1.14q-.147-.139-.147-.348 0-.21.147-.35l.29-.29q.148-.147.35-.147.205 0 .353.147l2.524 2.524q.143.136.143.349"\n        /></svg></i>\n\n    <span\n      ngeo-popover\n      ngeo-popover-dismiss=".content"\n      ng-if="gmfLayertreeCtrl.getNodeState(layertreeCtrl) !== 'off' && layertreeCtrl.node.time && layertreeCtrl.node.time.mode !== 'disabled'"\n    >\n      <span\n        ngeo-popover-anchor\n        class="fa-regular fa-clock"\n        ng-click="$event.preventDefault(); $event.stopPropagation()"\n        data-toggle="tooltip"\n        data-placement="top"\n        title="{{'Click to enter a period.'|translate}}"\n      >\n      </span>\n\n      <div ngeo-popover-content>\n        <gmf-datepicker\n          ng-if="::layertreeCtrl.node.time.widget === 'datepicker'"\n          ngeo-event\n          ngeo-event-on="'change'"\n          ngeo-event-model="time"\n          ngeo-event-cb="gmfLayertreeCtrl.updateTimeData(layertreeCtrl, time)"\n          ng-prop-time="layertreeCtrl.node.time">\n        </gmf-datepicker>\n\n        <gmf-timeslider\n          ng-if="::layertreeCtrl.node.time.widget === 'slider'"\n          ngeo-event\n          ngeo-event-on="'change'"\n          ngeo-event-model="time"\n          ngeo-event-cb="gmfLayertreeCtrl.updateTimeData(layertreeCtrl, time)"\n          ng-prop-time="layertreeCtrl.node.time">\n        </gmf-timeslider>\n      </div>\n    </span>\n\n    <span\n      class="fa-solid fa-pen-to-square"\n      data-toggle="tooltip"\n      data-placement="right"\n      title="{{'Currently editing this layer'|translate}}"\n      ng-if="layertreeCtrl.properties.editing"\n    >\n    </span>\n\n    <span\n      class="fa-solid fa-magnet"\n      ng-if="layertreeCtrl.node.metadata.snappingConfig"\n      ng-class="gmfLayertreeCtrl.isSnappingActivated(layertreeCtrl) ? 'on' : 'off'"\n      ng-click="gmfLayertreeCtrl.toggleSnapping(layertreeCtrl); $event.preventDefault(); $event.stopPropagation();"\n      data-toggle="tooltip"\n      data-placement="top"\n      data-title="{{'Click to toggle snapping.'|translate}}"\n    >\n    </span>\n  </a>\n\n  <span class="gmf-layertree-right-buttons">\n    <a href="" ng-if="::layertreeCtrl.depth == 1" ng-click="gmfLayertreeCtrl.removeNode(layertreeCtrl.node)">\n      <span class="fa-solid fa-trash"></span>\n    </a>\n\n    <a\n      class="gmf-layertree-node-menu-btn"\n      href=""\n      ng-if="::gmfLayertreeCtrl.supportsCustomization(layertreeCtrl)"\n      ng-click="::gmfLayertreeCtrl.toggleNodeMenu('#gmf-layertree-node-menu-' + layertreeCtrl.uid)"\n    >\n      <span class="fa-solid fa-gear"></span>\n    </a>\n\n    <span\n      ngeo-popover\n      ng-if="::(layertreeCtrl.depth === 1 && !layertreeCtrl.node.mixed) || (layertreeCtrl.depth > 1 && layertreeCtrl.parent.node.mixed && !layertreeCtrl.node.children) || (gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend) || layertreeCtrl.getDataSource().filtrable"\n      ngeo-popover-dismiss=".content"\n      ng-click="::gmfLayertreeCtrl.tagPopup(layertreeCtrl.node)"\n    >\n      <span ngeo-popover-anchor class="extra-actions fa-solid fa-gear" id="popup-id-{{layertreeCtrl.node.ol_uid}}">\n      </span>\n\n      <div ngeo-popover-content>\n        <ul>\n          <li ng-if="::gmfLayertreeCtrl.supportsOpacityChange(layertreeCtrl)">\n            <i class="fa-solid fa-droplet fa-fw"></i>\n            <span>{{'Opacity'|translate}}</span>\n            <input\n              class="input-action"\n              type="range"\n              min="0"\n              max="1"\n              step="0.01"\n              ng-model="layertreeCtrl.layer.opacity"\n            />\n          </li>\n\n          <li\n            ng-if="::gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend"\n          >\n            <i class="fa-solid fa-table-list fa-fw"></i>\n            <a\n              ng-click="::gmfLayertreeCtrl.toggleNodeLegend('#gmf-layertree-node-' + layertreeCtrl.uid + '-legend'); popoverCtrl.dismissPopover()"\n              href=""\n            >\n              {{'Show/hide legend'|translate}}\n            </a>\n          </li>\n\n          <li ng-if="::gmfLayertreeCtrl.supportsOpacityChange(layertreeCtrl)">\n            <i\n              >${E9}</i>\n            <a\n              ng-click="::gmfLayertreeCtrl.toggleSwipeLayer(layertreeCtrl); popoverCtrl.dismissPopover()"\n              href=""\n              ng-model="layertreeCtrl.layer"\n            >\n              {{'Swipe with this layer'| translate}}\n            </a>\n          </li>\n\n          <li ng-if="gmfLayertreeCtrl.isFiltrable(layertreeCtrl)">\n            <i class="fa-solid fa-filter fa-fw"></i>\n            <a ng-click="gmfLayertreeCtrl.toggleFiltrableDataSource(layertreeCtrl.getDataSource())" href="">\n              {{'Filter'|translate}}\n            </a>\n          </li>\n\n          <li\n            class="more-options-info"\n            ng-if="::gmfLayertreeCtrl.getFirstParentWithLayerFunctions(layertreeCtrl) !== null"\n          >\n            <span>{{'More options at the group level'|translate}}</span>\n          </li>\n        </ul>\n      </div>\n    </span>\n\n    <span class="gmf-layertree-metadata" ng-if="::layertreeCtrl.node.metadata.metadataUrl">\n      <span ng-if="::gmfLayertreeCtrl.options.openLinksInNewWindow === true">\n        <a\n          title="{{'More information'|translate}}"\n          href="{{::layertreeCtrl.node.metadata.metadataUrl}}"\n          target="blank_"\n        >\n        </a>\n      </span>\n\n      <span ng-if="::gmfLayertreeCtrl.options.openLinksInNewWindow !== true">\n        <a\n          title="{{'More information'|translate}}"\n          href=""\n          ng-click="gmfLayertreeCtrl.displayMetadata(layertreeCtrl)"\n        >\n        </a>\n      </span>\n    </span>\n  </span>\n</div>\n\n<div\n  class="gmf-layertree-node-menu d-none"\n  id="gmf-layertree-node-menu-{{::layertreeCtrl.uid}}"\n  ng-class="'gmf-layertree-node-menu-' + layertreeCtrl.node.id"\n  ng-if="::gmfLayertreeCtrl.supportsCustomization(layertreeCtrl)"\n>\n  <div\n    class="more-options-info"\n    ng-if="::gmfLayertreeCtrl.getFirstParentWithLayerFunctions(layertreeCtrl) !== null"\n  >\n    <span>{{'More options at the group level'|translate}}</span>\n  </div>\n\n  <div ng-if="::gmfLayertreeCtrl.supportsOpacityChange(layertreeCtrl)">\n    <i class="fa-solid fa-droplet fa-fw"></i>\n    <span>{{'Opacity'|translate}}</span>\n    <input\n      class="input-action"\n      type="range"\n      min="0"\n      max="1"\n      step="0.01"\n      ng-model="layertreeCtrl.layer.opacity"\n    />\n  </div>\n\n  <a\n    class="gmf-layertree-node-menu-togglelegend"\n    ng-if="::gmfLayertreeCtrl.supportsLegend(layertreeCtrl)"\n    ng-click="::gmfLayertreeCtrl.toggleNodeLegend('#gmf-layertree-node-' + layertreeCtrl.uid + '-legend')"\n    href=""\n  >\n    <span class="fa-solid fa-table-list"> </span>\n    {{'Show/hide legend'|translate}}\n  </a>\n</div>\n<div\n  ng-if="::!layertreeCtrl.isRoot && gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend"\n  id="gmf-layertree-node-{{::layertreeCtrl.uid}}-legend"\n  class="gmf-layertree-legend"\n  ng-class="[gmfLayertreeCtrl.getNodeState(layertreeCtrl), layertreeCtrl.node.metadata.isLegendExpanded ? 'show' : '']"\n>\n  <a\n    title="{{'Hide legend'|translate}}"\n    ng-click="::gmfLayertreeCtrl.toggleNodeLegend('#gmf-layertree-node-' + layertreeCtrl.uid + '-legend')"\n    href=""\n  >\n    {{'Hide legend'|translate}}\n  </a>\n  <div ng-if="gmfLayertreeCtrl.isNodeLegendVisible('#gmf-layertree-node-' + layertreeCtrl.uid + '-legend')">\n    <div ng-repeat="(title, url) in gmfLayertreeCtrl.getLegendsObject(layertreeCtrl)">\n      <p ng-if="gmfLayertreeCtrl.getNumberOfLegendsObject(layertreeCtrl) > 1">{{title|translate}}</p>\n      <img ng-src="{{url}}" />\n    </div>\n  </div>\n</div>\n\n<ul\n  class="gmf-layertree-root-external-datasources"\n  ng-if="layertreeCtrl.isRoot && (gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmsGroups.length || gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmtsGroups.length || gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup.dataSources.length)"\n>\n  <gmf-datasourcegrouptree\n    class="gmf-layertree-node gmf-layertree-depth-1"\n    ng-repeat="wmtsGroup in gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmtsGroups"\n    group="wmtsGroup"\n  >\n  </gmf-datasourcegrouptree>\n  <gmf-datasourcegrouptree\n    class="gmf-layertree-node gmf-layertree-depth-1"\n    ng-repeat="wmsGroup in gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmsGroups"\n    group="wmsGroup"\n    get-scale="gmfLayertreeCtrl.getScale_()"\n  >\n  </gmf-datasourcegrouptree>\n  <gmf-datasourcegrouptree\n    class="gmf-layertree-node gmf-layertree-depth-1"\n    ng-if="gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup.dataSources.length"\n    group="gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup"\n  >\n  </gmf-datasourcegrouptree>\n</ul>\n\n<ul\n  id="gmf-layertree-layer-group-{{::layertreeCtrl.uid}}"\n  ng-if="::layertreeCtrl.node.children"\n  ng-class="{collapse: !(layertreeCtrl.isRoot || gmfLayertreeCtrl.options.isExpanded), show: layertreeCtrl.node.metadata.isExpanded}"\n  ngeo-sortable="::layertreeCtrl.isRoot && layertreeCtrl.node.children"\n  ngeo-sortable-options="{handleClassName: 'ngeo-sortable-handle', draggerClassName: 'gmf-layertree-dragger', placeholderClassName : 'gmf-layertree-curr-drag-item'}"\n  ngeo-sortable-callback="::gmfLayertreeCtrl.afterReorder"\n  ngeo-sortable-callback-ctx="::gmfLayertreeCtrl"\n>\n  <li\n    class="gmf-layertree-node"\n    ng-repeat="node in layertreeCtrl.node.children"\n    ng-class="'gmf-layertree-depth-' + layertreeCtrl.depth"\n    gmf-layertree-node="node"\n    gmf-layertree-node-notroot\n    gmf-layertree-node-map="layertreeCtrl.map"\n    gmf-layertree-node-nodelayerexpr="layertreeCtrl.nodelayerExpr"\n    gmf-layertree-node-listenersexpr="layertreeCtrl.listenersExpr"\n  ></li>\n</ul>`;var C9=n(6932);A9.$inject=["$element","$scope","ngeoLayerHelper","gmfLayerBeingSwipe","gmfDataSourceBeingFiltered","gmfExternalDataSourcesManager","gmfPermalink","gmfTreeManager","gmfSyncLayertreeMap","ngeoWMSTime","gmfThemes","$timeout","gmfLayerTreeOptions"];const D9=t().module("gmfLayertreeComponent",[R6.name,e8.name,u9.name,g9.name,p8.name,T8.name,w1.name,b7.name,u8.name,a1.name,S4.name,T9.name,w7.name]);function P9(e,t,n){return n(e,t)}D9.value("gmfLayertreeNodeTemplateUrl",(e,t)=>"gmf/layertree"),D9.run(["$templateCache",e=>{e.put("gmf/layertree",L9)}]),D9.value("gmfLayertreeTemplate",(e,t)=>'<div gmf-layertree-node="gmfLayertreeCtrl.root" gmf-layertree-node-map="gmfLayertreeCtrl.map" gmf-layertree-node-nodelayer="gmfLayertreeCtrl.getLayer(treeCtrl)" gmf-layertree-node-listeners="gmfLayertreeCtrl.listeners(treeScope, treeCtrl)" gmf-layertree-node-templateurl="gmf/layertree"></div>'),P9.$inject=["$element","$attrs","gmfLayertreeTemplate"];const $9={controller:"GmfLayertreeController as gmfLayertreeCtrl",bindings:{map:"=gmfLayertreeMap",dimensions:"=?gmfLayertreeDimensions"},template:P9};function A9(e,t,n,r,i,o,s,a,l,c,u,h,d){this.options=d,this.map,this.dimensions=null,this.scope_=t,this.layerHelper_=n,this.gmfLayerBeingSwipe=r,this.gmfDataSourceBeingFiltered=i,this.gmfExternalDataSourcesManager=o,this.gmfPermalink_=s,this.gmfTreeManager_=a;const f=a.root;if(!f)throw new Error("Missing root");this.root=f,this.gmfSyncLayertreeMap_=l,this.ngeoWMSTime_=c,this.groupNodeStates_={},this.dataLayerGroup_=null,this.layers=[],this.gmfThemes_=u,this.$timeout_=h,e.on("shown.bs.collapse",()=>{this.scope_.$apply()})}D9.component("gmfLayertree",$9),A9.prototype.$onInit=function(){this.dataLayerGroup_=this.layerHelper_.getGroupFromMap(this.map,O6),_9(this.dataLayerGroup_.getLayers().getArray(),this.layers,!0,this.scope_,()=>!0),this.scope_.$watchCollection(()=>this.layers,()=>{this.map.render(),this.gmfLayerBeingSwipe.layer&&!this.layers.includes(this.gmfLayerBeingSwipe.layer)&&(this.gmfLayerBeingSwipe.layer=null)}),this.scope_.$watchCollection(()=>{if(this.gmfTreeManager_.rootCtrl)return this.dimensions},e=>{if(e){if(!this.gmfTreeManager_.rootCtrl)throw new Error("Missing gmfTreeManager_.rootCtrl");this.updateDimensions_(this.gmfTreeManager_.rootCtrl)}})},A9.prototype.updateDimensions_=function(e){e.traverseDepthFirst(e=>{if(e.node.dimensions){const t=e.layer;if(!(t instanceof wY))throw new Error("Wrong feature type");return this.updateLayerDimensions_(t,e.node),l8}})},A9.prototype.updateLayerDimensions_=function(e,t){if(this.dimensions&&t.dimensions){const n={};for(const e in t.dimensions)if(null===t.dimensions[e]){const t=this.dimensions[e];void 0!==t&&(n[e]=t)}else n[e]=t.dimensions[e];if(!cn(n)){const r=e.getSource();r instanceof mq?r.updateDimensions(n):r instanceof cq||r instanceof JW?r.updateParams(n):e.once("change:source",()=>{if(!(e instanceof wY))throw new Error("Wrong feature type");this.updateLayerDimensions_(e,t)})}}},A9.prototype.getLayer=function(e){if(!this.dataLayerGroup_)throw new Error("Missing dataLayerGroup");let t;e.parent.isRoot&&(this.gmfTreeManager_.rootCtrl=e.parent,t=this.gmfTreeManager_.root.children.length-this.gmfTreeManager_.numberOfGroupsToAddInThisDigestLoop||0);const n=this.gmfSyncLayertreeMap_.createLayer(e,this.map,this.dataLayerGroup_,t);if(n instanceof wY){const t=e.node;this.updateLayerDimensions_(n,t)}return n},A9.prototype.listeners=function(e,t){if(!this.dataLayerGroup_)throw new Error("Missing dataLayerGroup");const n=this.dataLayerGroup_;e.$on("$destroy",()=>{t.layer&&n.getLayers().remove(t.layer)})},A9.prototype.toggleActive=function(e){const t=e.getState();e.node.metadata&&e.node.metadata.exclusiveGroup?e.setState("off"===t?"on":"off"):e.setState("on"===t?"off":"on")},A9.prototype.getNodeState=function(e){return e.getState()},A9.prototype.updateTimeData=function(e,t){this.updateWMSTimeLayerState(e,t),this.gmfPermalink_.refreshLayerTime(e,t)},A9.prototype.updateWMSTimeLayerState=function(e,t){if(!t)return;const n=e.getDataSource();if(n){if(!(n instanceof t1))throw new Error("Wrong dataSource type");n.timeRangeValue=t}else if(e.children)for(let n=0,r=e.children.length;n<r;n++)this.updateWMSTimeLayerState(e.children[n],t)},A9.prototype.getLegendIconURL=function(e){const t=e.node.metadata.iconUrl;if(void 0!==t)return t;if(void 0!==e.node.children)return;const n=e.node;if("WMS"!==n.type)return;const r=n,i=r.metadata.legendRule;if(void 0===i)return;const o=r.layers.split(",")[0],s=this.gmfTreeManager_.getOgcServer(e);return this.layerHelper_.getWMSLegendURL(s.url,o,void 0,i,this.options.layerIcon?this.options.layerIcon.width:void 0,this.options.layerIcon?this.options.layerIcon.height:void 0)},A9.prototype.getLegendsObject=function(e){const t={};if(void 0!==e.node.children)return null;const n=e.node,r=n.name;if(n.metadata.legendImage)return t[r]=n.metadata.legendImage,t;const i=e.layer;if("WMTS"===n.type){if(!(i instanceof gU||i instanceof wU))throw new Error("Wrong layer");const e=this.layerHelper_.getWMTSLegendURL(i);return void 0!==e&&(t[r]=e),e?t:null}{const r=n.layers,i=this.gmfTreeManager_.getOgcServer(e),o=this.getScale_();let s;return s=i.type===j0?[r]:r.split(","),s.forEach(e=>{const n=this.layerHelper_.getWMSLegendURL(i.url,e,o);if(!n)throw new Error("Missing wmtsLegendURL");t[e]=n}),t}},A9.prototype.getNumberOfLegendsObject=function(e){const t=this.getLegendsObject(e);return t?Object.keys(t).length:0},A9.prototype.getScale_=function(){const e=this.map.getView(),t=e.getResolution();if(void 0===t)throw new Error("Missing resolution");const n=e.getProjection().getMetersPerUnit();if(!n)throw new Error("Missing mpu");return t*n*39.37*(25.4/.28)},A9.prototype.isSnappingActivated=function(e){if(void 0!==e.properties.snapping){if("boolean"!=typeof e.properties.snapping)throw new Error("Wrong snappingActive type");return e.properties.snapping}const t=p1(e.node);return null!==t&&t.activated},A9.prototype.toggleSnapping=function(e){e.properties.snapping=!this.isSnappingActivated(e)},A9.prototype.displayMetadata=function(e){const t=e.node,n=t.metadata.metadataUrl;if(void 0!==n){const e=window.gmfx;e.openIframePopup&&e.openIframePopup(n,t.name,void 0,void 0,!1)}},A9.prototype.afterReorder=function(){if(!this.gmfTreeManager_.rootCtrl)throw new Error("Missing gmfTreeManager_.rootCtrl");const e=this.gmfTreeManager_.rootCtrl.node.children,t=this.gmfTreeManager_.rootCtrl.children,n=[];e.forEach(e=>{t.some(t=>t.node===e&&(n.push(t),!1))}),this.gmfTreeManager_.rootCtrl.children=n,this.layers.length=0,this.gmfTreeManager_.rootCtrl.children.forEach(e=>{if(!(e.layer instanceof bY))throw new Error("Wrong child.layer");this.layers.push(e.layer)}),this.gmfPermalink_.refreshFirstLevelGroups()},A9.prototype.tagPopup=function(e){const t=Pn(e),n=C9(`#popup-id-${t}`).attr("aria-describedby");e.popupId?delete e.popupId:e.popupId=n},A9.prototype.removeNode=function(e){this.gmfTreeManager_.parseTreeNodes(e),this.gmfTreeManager_.removeGroup(e)},A9.prototype.removeAllNodes=function(){this.gmfTreeManager_.parseTreeNodes(this.root),this.gmfTreeManager_.removeAll(),this.gmfExternalDataSourcesManager.removeAll()},A9.prototype.nodesCount=function(){return this.gmfTreeManager_.root.children.length},A9.prototype.getResolutionStyle=function(e){const t=this.map.getView().getResolution();if(void 0===t)throw new Error("Missing resolution");const n=g1(e);if(void 0!==n&&t<n)return"out-of-resolution";const r=m1(e);return void 0!==r&&t>r?"out-of-resolution":void 0},A9.prototype.zoomToResolution=function(e){const t=e.node,n=this.map.getView(),r=n.getResolution();if(void 0===r)throw new Error("Missing resolution");const i=g1(t),o=n.getConstraints().resolution,s=this.map.getSize();if(void 0===s)throw new Error("Missing size");if(void 0!==i&&r<i)n.setResolution(o(i,1,s,void 0));else{const e=m1(t);void 0!==e&&r>e&&n.setResolution(o(e,-1,s,void 0))}},A9.prototype.toggleSwipeLayer=function(e){e.layer?this.gmfLayerBeingSwipe.layer===e.layer?(this.gmfLayerBeingSwipe.layer=null,this.map.render()):(this.gmfLayerBeingSwipe.layer=null,this.$timeout_(()=>{this.gmfLayerBeingSwipe.layer=e.layer,this.map.render()},0)):console.error("No layer")},A9.prototype.toggleNodeLegend=function(e){const t=document.querySelector(e);t&&t.classList.toggle("show")},A9.prototype.toggleNodeMenu=function(e){const t=document.querySelector(e);t&&t.classList.toggle("d-none")},A9.prototype.toggleFiltrableDataSource=function(e){this.gmfDataSourceBeingFiltered.dataSource=null,this.$timeout_(()=>{this.gmfDataSourceBeingFiltered.dataSource=e},0)},A9.prototype.isNodeLegendVisible=function(e){return C9(e).is(":visible")},A9.prototype.supportsCustomization=function(e){return!e.isRoot&&(this.supportsLegend(e)||this.supportsOpacityChange(e))},A9.prototype.supportsLegend=function(e){const t=e.node;return!!t.metadata&&!!t.metadata.legend&&!!this.getLegendsObject(e)},A9.prototype.supportsOpacityChange=function(e){const t=e.node,n=e.parent?e.parent.node:void 0;return!!e.layer&&(1===e.depth&&!t.mixed||e.depth>1&&n.mixed&&(!t.children||t.children&&!t.mixed))},A9.prototype.isFiltrable=function(e){const t=e.getDataSource();return!!t&&t.filtrable},A9.prototype.getFirstParentWithLayerFunctions=function(e){const t=e.parent;return t?this.supportsOpacityChange(t)||this.isFiltrable(t)?t:this.getFirstParentWithLayerFunctions(t):null},D9.controller("GmfLayertreeController",A9);const R9=D9,O9=t().module("ngeoLayertreeModule",[b7.name,R9.name,g9.name,p8.name,T8.name]);var I9=n(6932);const F9=t().module("ngeoRecenter",[]);F9.directive("ngeoRecenter",function(){return{restrict:"A",link:(e,n,r)=>{const i=r.ngeoRecenterMap,o=e.$eval(i);function s(t){const n=t.attr("ngeo-extent");if(void 0!==n){const t=o.getSize();if(void 0===t)throw new Error("Missing size");o.getView().fit(e.$eval(n),{size:t})}const r=t.attr("ngeo-zoom");void 0!==r&&o.getView().setZoom(e.$eval(r))}n.on("click","*",function(e){s(t().element(I9(this)))});n.on({change:e=>{const n=e.target.options[e.target.selectedIndex];s(t().element(n))}})}}});const N9=F9;j9.$inject=["$window"];const Y9=t().module("ngeoResizemap",[]);function j9(e){return{restrict:"A",link:(t,n,r)=>{const i=r.ngeoResizemap,o=t.$eval(i);console.assert(o instanceof RZ);const s=r.ngeoResizemapState;let a,l;console.assert(void 0!==s);const c=()=>{o.updateSize(),o.renderSync(),Date.now()-a<1e3&&(l=e.requestAnimationFrame(c))};n.on("transitionend",()=>{o.updateSize(),o.renderSync()}),t.$watch(s,(t,n)=>{t!=n&&(a=Date.now(),e.cancelAnimationFrame(l),l=e.requestAnimationFrame(c))})}}}Y9.directive("ngeoResizemap",j9);const H9=Y9,U9="dropdown",z9="bs.dropdown",G9=`.${z9}`,W9=".data-api",q9=i().fn[U9],B9=new RegExp("38|40|27"),V9="disabled",X9="show",K9="dropdown-menu-right",Z9=`hide${G9}`,J9=`hidden${G9}`,Q9=`show${G9}`,eee=`shown${G9}`,tee=`click${G9}`,nee=`click${G9}${W9}`,ree=`keydown${G9}${W9}`,iee=`keyup${G9}${W9}`,oee='[data-toggle="dropdown"]',see=".dropdown-menu",aee={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},lee={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"};class cee{constructor(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}static get VERSION(){return"4.6.2"}static get Default(){return aee}static get DefaultType(){return lee}toggle(){if(this._element.disabled||i()(this._element).hasClass(V9))return;const e=i()(this._menu).hasClass(X9);cee._clearMenus(),e||this.show(!0)}show(e=!1){if(this._element.disabled||i()(this._element).hasClass(V9)||i()(this._menu).hasClass(X9))return;const t={relatedTarget:this._element},n=i().Event(Q9,t),r=cee._getParentFromElement(this._element);if(i()(r).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===zv)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=r:Us.isElement(this._config.reference)&&(e=this._config.reference,void 0!==this._config.reference.jquery&&(e=this._config.reference[0])),"scrollParent"!==this._config.boundary&&i()(r).addClass("position-static"),this._popper=new zv(e,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===i()(r).closest(".navbar-nav").length&&i()(document.body).children().on("mouseover",null,i().noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),i()(this._menu).toggleClass(X9),i()(r).toggleClass(X9).trigger(i().Event(eee,t))}}hide(){if(this._element.disabled||i()(this._element).hasClass(V9)||!i()(this._menu).hasClass(X9))return;const e={relatedTarget:this._element},t=i().Event(Z9,e),n=cee._getParentFromElement(this._element);i()(n).trigger(t),t.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i()(this._menu).toggleClass(X9),i()(n).toggleClass(X9).trigger(i().Event(J9,e)))}dispose(){i().removeData(this._element,z9),i()(this._element).off(G9),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}_addEventListeners(){i()(this._element).on(tee,e=>{e.preventDefault(),e.stopPropagation(),this.toggle()})}_getConfig(e){return e={...this.constructor.Default,...i()(this._element).data(),...e},Us.typeCheckConfig(U9,e,this.constructor.DefaultType),e}_getMenuElement(){if(!this._menu){const e=cee._getParentFromElement(this._element);e&&(this._menu=e.querySelector(see))}return this._menu}_getPlacement(){const e=i()(this._element.parentNode);let t="bottom-start";return e.hasClass("dropup")?t=i()(this._menu).hasClass(K9)?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":i()(this._menu).hasClass(K9)&&(t="bottom-end"),t}_detectNavbar(){return i()(this._element).closest(".navbar").length>0}_getOffset(){const e={};return"function"==typeof this._config.offset?e.fn=e=>(e.offsets={...e.offsets,...this._config.offset(e.offsets,this._element)},e):e.offset=this._config.offset,e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),{...e,...this._config.popperConfig}}static _jQueryInterface(e){return this.each(function(){let t=i()(this).data(z9);if(t||(t=new cee(this,"object"==typeof e?e:null),i()(this).data(z9,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static _clearMenus(e){if(e&&(3===e.which||"keyup"===e.type&&9!==e.which))return;const t=[].slice.call(document.querySelectorAll(oee));for(let n=0,r=t.length;n<r;n++){const r=cee._getParentFromElement(t[n]),o=i()(t[n]).data(z9),s={relatedTarget:t[n]};if(e&&"click"===e.type&&(s.clickEvent=e),!o)continue;const a=o._menu;if(!i()(r).hasClass(X9))continue;if(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&i().contains(r,e.target))continue;const l=i().Event(Z9,s);i()(r).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i()(document.body).children().off("mouseover",null,i().noop),t[n].setAttribute("aria-expanded","false"),o._popper&&o._popper.destroy(),i()(a).removeClass(X9),i()(r).removeClass(X9).trigger(i().Event(J9,s)))}}static _getParentFromElement(e){let t;const n=Us.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode}static _dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||i()(e.target).closest(see).length):!B9.test(e.which))return;if(this.disabled||i()(this).hasClass(V9))return;const t=cee._getParentFromElement(this),n=i()(t).hasClass(X9);if(!n&&27===e.which)return;if(e.preventDefault(),e.stopPropagation(),!n||27===e.which||32===e.which)return 27===e.which&&i()(t.querySelector(oee)).trigger("focus"),void i()(this).trigger("click");const r=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(e=>i()(e).is(":visible"));if(0===r.length)return;let o=r.indexOf(e.target);38===e.which&&o>0&&o--,40===e.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}i()(document).on(ree,oee,cee._dataApiKeydownHandler).on(ree,see,cee._dataApiKeydownHandler).on(`${nee} ${iee}`,cee._clearMenus).on(nee,oee,function(e){e.preventDefault(),e.stopPropagation(),cee._jQueryInterface.call(i()(this),"toggle")}).on(nee,".dropdown form",e=>{e.stopPropagation()}),i().fn[U9]=cee._jQueryInterface,i().fn[U9].Constructor=cee,i().fn[U9].noConflict=()=>(i().fn[U9]=q9,cee._jQueryInterface);const uee=t().module("ngeoScaleselector",[]);uee.value("ngeoScaleselectorTemplateUrl",(e,t)=>{const n=t.ngeoScaleselectorTemplateurl;return void 0!==n?n:"ngeo/map/scaleselector"}),uee.run(["$templateCache",e=>{e.put("ngeo/map/scaleselector",'<div class="btn-group btn-block" ng-class="::{\'dropup\': scaleselectorCtrl.options.dropup}">\n  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n    <span ng-bind-html="scaleselectorCtrl.currentScale | ngeoScalify | ngeoTrustHtml"></span>\n  </button>\n  <ul class="dropdown-menu btn-block" role="menu">\n    <li ng-repeat="zoomLevel in ::scaleselectorCtrl.getZooms()">\n      <a\n        href\n        ng-click="scaleselectorCtrl.changeZoom(zoomLevel)"\n        ng-bind-html="scaleselectorCtrl.getScale(zoomLevel) | ngeoScalify | ngeoTrustHtml"\n      >\n      </a>\n    </li>\n  </ul>\n</div>')}]);const hee=function(e){return{restrict:"A",scope:!0,controller:"NgeoScaleselectorController",templateUrl:e}};hee.$inject=["ngeoScaleselectorTemplateUrl"],hee.$inject=["ngeoScaleselectorTemplateUrl"],uee.directive("ngeoScaleselector",hee);class dee{constructor(e,t,n){this.scales=n.values;const r=t.ngeoScaleselectorMap;this.map_=e.$eval(r),console.assert(this.map_ instanceof RZ),this.options=n,this.$scope_=e,this.resolutionChangeKey_=null,this.currentScale=void 0;const i=this.map_.getView();if(this.scales)for(let e=i.getMinZoom();e<=i.getMaxZoom();e++){const t=Math.round(39.37*i.getResolutionForZoom(e)*96),n=this.scales[e];null==n?(console.warn(`Missing scale for zoom '${e}', set it to real calculated scale '${t}'.`),this.scales[e]=t):Math.exp(Math.abs(Math.log(t/n)))>1.5&&console.warn(`Big difference between configured scale '${n}' for zoom '${e}' and real calculated scale '${t}'.`)}else{this.scales=[];for(let e=i.getMinZoom();e<=i.getMaxZoom();e++)this.scales[e]=Math.round(39.37*i.getResolutionForZoom(e)*96)}const o=this.map_.getView().getZoom();void 0!==o&&(this.currentScale=this.getScale(o)),dn(this.map_,"change:view",this.handleViewChange_,this),this.registerResolutionChangeListener_(),e.scaleselectorCtrl=this}getZooms(){return Object.keys(this.scales).map(Number)}getScale(e){if(void 0===e)return;let t=this.scales[e];if(void 0!==t)return t;const n=Math.floor(e),r=this.scales[n];return t=r-(r-this.scales[n+1])*(e-n),isNaN(t)?void 0:Math.round(t)}changeZoom(e){this.map_.getView().setZoom(e)}handleResolutionChange_(e){const t=this.map_.getView(),n=this.getScale(t.getZoom());void 0!==n&&this.$scope_.$applyAsync(()=>{this.currentScale=n})}handleViewChange_(e){this.registerResolutionChangeListener_(),this.handleResolutionChange_(null)}registerResolutionChangeListener_(){null!==this.resolutionChangeKey_&&pn(this.resolutionChangeKey_);const e=this.map_.getView();this.resolutionChangeKey_=dn(e,"change:resolution",this.handleResolutionChange_,this)}}dee.$inject=["$scope","$attrs","ngeoScaleSelectorOptions"],uee.controller("NgeoScaleselectorController",dee);const fee=uee,pee="projection",mee="coordinateFormat";const gee=class extends rZ{constructor(e){e=e||{};const t=document.createElement("div");t.className=void 0!==e.className?e.className:"ol-mouse-position",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un,this.addChangeListener(pee,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=void 0!==e.placeholder,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==e.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(mee)}getProjection(){return this.get(pee)}handleMouseMove(e){const t=this.getMap();this.updateHTML_(t.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){const t=e.getViewport();this.listenerKeys.push(dn(t,qK,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(dn(t,VK,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set(mee,e)}setProjection(e){this.set(pee,NA(e))}updateHTML_(e){let t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){const e=this.getProjection();this.transform_=e?WA(this.mapProjection_,e):IA}const n=this.getMap().getCoordinateFromPixelInternal(e);if(n){const e=ZA();if(e&&(this.transform_=WA(this.mapProjection_,e)),this.transform_(n,n),this.wrapX_){A$(n,e||this.getProjection()||this.mapProjection_)}const r=this.getCoordinateFormat();t=r?r(n):n.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)}render(e){const t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}};vee.$inject=["$element","$filter","$scope","gettextCatalog","gmfMousePositionOptions"];const _ee=t().module("gmfMapMouseposition",[V1.name]);function yee(e,t){return t(e)}_ee.run(["$templateCache",e=>{e.put("gmf/map/mousepositionComponent",'<div class="btn-group dropup">\n  <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n    <span class="gmf-mouseposition-control-target"></span>\n  </button>\n  <ul class="dropdown-menu dropdown-menu-right" role="menu">\n    <li class="dropdown-header" translate>Coordinate systems</li>\n    <li ng-repeat="projitem in ::ctrl.projections">\n      <a href ng-click="ctrl.setProjection(projitem)">\n        <span class="fa-solid fa-fw" ng-class="{\'fa-check\': ctrl.projection == projitem}"></span>\n        {{::projitem.label}}\n      </a>\n    </li>\n  </ul>\n</div>')}]),_ee.value("gmfMapMousepositionTemplateUrl",e=>{const t=e.gmfMapMousepositionTemplateUrl;return void 0!==t?t:"gmf/map/mousepositionComponent"}),yee.$inject=["$attrs","gmfMapMousepositionTemplateUrl"];const bee={controller:"gmfMousepositionController as ctrl",bindings:{map:"<gmfMousepositionMap"},templateUrl:yee};function vee(e,t,n,r,i){this.options_=i,this.map=null,this.projections=this.options_.projections,this.projection=null,this.$scope_=n,this.gettextCatalog_=r,this.$element_=e,this.$filter_=t,this.control_=null}_ee.component("gmfMouseposition",bee),vee.prototype.$onInit=function(){this.$scope_.$on("gettextLanguageChanged",()=>{this.initOlControl_()}),this.initOlControl_()},vee.prototype.initOlControl_=function(){if(!this.map)throw new Error("Missing map");null!==this.control_&&this.map.removeControl(this.control_);const e=this.gettextCatalog_;this.control_=new gee({className:"gmf-mouseposition-control",coordinateFormat:e=>{if(!this.projection)throw new Error("Missing projection");const t=this.projection.filter.split(":"),n=t.shift();if(!n)throw new Error("Missing shiftedFilterAndArgs");const r=this.$filter_(n);if("function"!=typeof r)throw new Error("Wrong filter type");const i=t;return i.unshift(e),r.apply(this,i)},target:this.$element_.find(".gmf-mouseposition-control-target").get(0),placeholder:e.getString("Coordinates")}),this.setProjection(this.projections[0]),this.map.addControl(this.control_)},vee.prototype.setProjection=function(e){if(!this.control_)throw new Error("Missing control");this.control_.setProjection(e.code),this.projection=e},_ee.controller("gmfMousepositionController",vee);const wee=_ee;var xee=n(6932);function See(e,t){this.$http_=e,this.gmfShortenerCreateUrl_=t}See.$inject=["$http","gmfShortenerCreateUrl"],See.prototype.getShortUrl=function(e){const t={url:e};return this.gmfShortenerCreateUrl_?this.postShortUrl_(t):{data:{short_url:e},status:200}},See.prototype.sendShortUrl=function(e,t,n){const r={url:e,email:t};return n&&(r.message=n),this.postShortUrl_(r)},See.prototype.postShortUrl_=function(e){return this.$http_.post(this.gmfShortenerCreateUrl_,xee.param(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})};const Mee=t().module("gmfShareService",[]);Mee.service("gmfShareService",See);const kee=Mee,Tee=`<div class="modal-header ui-draggable-handle">\n  <h4 class="modal-title" translate>Share this map</h4>\n  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n  </button>\n</div>\n<div class="modal-body">\n  <form role="form" name="gmfShareForm" novalidate>\n    <div class="form-group">\n      <label for="gmfShareInputShortLink-{{::$ctrl.uid}}" translate>Permalink</label>\n      <input\n        type="text"\n        class="form-control"\n        id="gmfShareInputShortLink-{{::$ctrl.uid}}"\n        onclick="this.select()"\n        ng-model="$ctrl.shortLink"\n        readonly="True"\n      />\n      <p class="help-block" translate>Copy this link to share it.</p>\n      <p class="text-danger" ng-if="$ctrl.showLengthWarning">\n        <span class="fa-solid fa-triangle-exclamation"></span>\n        \x3c!-- prettier-ignore --\x3e\n        {{'You have a lot of drawn elements in this map. The above link may not be correctly supported by some browsers.' | translate}}\n      </p>\n      <p class="text-danger" ng-if="$ctrl.errorOnGetShortUrl">\n        <span class="fa-solid fa-exclamation"></span>\n        {{'Error, cannot get the shortened URL.' | translate}}\n      </p>\n    </div>\n    <hr ng-if="::$ctrl.options.enableEmail !== false" />\n    <div class="gmf-share-email" ng-if="::$ctrl.options.enableEmail !== false">\n      <div class="form-group">\n        <label for="gmfShareInputEmail-{{::$ctrl.uid}}" translate>Send this link to</label>\n        <input\n          type="email"\n          class="form-control"\n          name="inputEmail"\n          id="gmfShareInputEmail-{{::$ctrl.uid}}"\n          placeholder="E-mail"\n          ng-model="$ctrl.email"\n          required\n        />\n        <span ng-show="gmfShareForm.$submitted || gmfShareForm.inputEmail.$touched">\n          <span\n            class="text-danger"\n            ng-show="gmfShareForm.inputEmail.$error.email || gmfShareForm.inputEmail.$error.required"\n          >\n            <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>\n            {{'Invalid email.' | translate}}</span\n          >\n        </span>\n      </div>\n      <div class="form-group">\n        <textarea\n          class="form-control"\n          ng-attr-placeholder="{{'Message (optional)' | translate }}"\n          ng-model="$ctrl.message"\n        ></textarea>\n      </div>\n      <span class="text-default" ng-if="!$ctrl.isFinishedState">\n        <i class="fa-solid custom-spinner-generic fa-spin"\n          >${Cs("1rem")}</i>\n      </span>\n      <span class="text-success" ng-if="$ctrl.successfullySent">\n        <i class="fa-solid fa-check" aria-hidden="true"></i>\n        {{ 'Link successfully sent.' | translate }}\n      </span>\n      <span class="text-danger" ng-if="$ctrl.errorOnsend">\n        <i class="fa-solid fa-exclamation" aria-hidden="true"></i>\n        {{ 'Error, the link has not been sent.' | translate }}\n      </span>\n    </div>\n    <div class="text-right">\n      <button type="button" class="btn btn-default" data-dismiss="modal" translate>Close</button>\n      <button\n        ng-if="::$ctrl.options.enableEmail !== false"\n        type="submit"\n        class="btn prime"\n        ng-click="$ctrl.sendShortUrl()"\n        ng-disabled="!gmfShareForm.$valid"\n        translate\n      >\n        Send\n      </button>\n    </div>\n  </form>\n</div>`,Eee=t().module("gmfPermalinkShareComponent",[kee.name,b8.name]);function Lee(e,t){return t(e)}Eee.run(["$templateCache",e=>{e.put("gmf/permalink/shareComponent",Tee)}]),Eee.value("gmfPermalinkShareTemplateUrl",e=>{const t=e.gmfPermalinkShareTemplateUrl;return void 0!==t?t:"gmf/permalink/shareComponent"}),Lee.$inject=["$attrs","gmfPermalinkShareTemplateUrl"];const Cee={controller:"GmfShareController",templateUrl:Lee};Eee.component("gmfShare",Cee);class Dee{constructor(e,t,n,r,i,o){this.options=o,this.uid=Pn(this),this.$scope_=e,this.gmfShareService_=n,this.$q_=r,this.ngeoLocation_=t,this.shortLink="",this.email="",this.message="",this.permalink_=this.ngeoLocation_.getUriString();const s=t.getPath();if(!s)throw new Error("Missing path");this.showLengthWarning=this.permalink_.length>2083||s.length>2048,this.successfullySent=!1,this.errorOnsend=!1,this.isFinishedState=!0,this.errorOnGetShortUrl=!1,this.getShortUrl()}getShortUrl(){this.$q_.when(this.gmfShareService_.getShortUrl(this.permalink_)).then(e=>{this.shortLink=e.data.short_url,this.errorOnGetShortUrl=!1},e=>{this.shortLink=this.permalink_,this.errorOnGetShortUrl=!0})}sendShortUrl(){this.errorOnsend=!1,this.successfullySent=!1,this.isFinishedState=!1,this.$scope_.gmfShareForm.$valid&&this.$q_.when(this.gmfShareService_.sendShortUrl(this.permalink_,this.email,this.message)).then(e=>{this.successfullySent=!0,this.isFinishedState=!0},e=>{this.errorOnsend=!0,this.isFinishedState=!0})}}Dee.$inject=["$scope","ngeoLocation","gmfShareService","$q","$attrs","gmfShareOptions"],Eee.controller("GmfShareController",Dee);const Pee=Eee,$ee=t().module("gmfPermalinkModule",[u9.name,kee.name,Pee.name]),Aee="snap",Ree="unsnap";class Oee extends un{constructor(e,t){super(e),this.vertex=t.vertex,this.vertexPixel=t.vertexPixel,this.feature=t.feature,this.segment=t.segment}}const Iee={Circle(e,t){let n=e;const r=ZA();r&&(n=n.clone().transform(r,t));const i=JN(n);return r&&i.transform(t,r),Iee.Polygon(i)},GeometryCollection(e,t){const n=[],r=e.getGeometriesArray();for(let e=0;e<r.length;++e){const i=this[r[e].getType()];i&&n.push(i(r[e],t))}return n.flat()},LineString(e){const t=[],n=e.getFlatCoordinates(),r=e.getStride();for(let e=0,i=n.length-r;e<i;e+=r)t.push([n.slice(e,e+2),n.slice(e+r,e+r+2)]);return t},MultiLineString(e){const t=[],n=e.getFlatCoordinates(),r=e.getStride(),i=e.getEnds();let o=0;for(let e=0,s=i.length;e<s;++e){const s=i[e];for(let e=o,i=s-r;e<i;e+=r)t.push([n.slice(e,e+2),n.slice(e+r,e+r+2)]);o=s}return t},MultiPoint(e){const t=[],n=e.getFlatCoordinates(),r=e.getStride();for(let e=0,i=n.length;e<i;e+=r)t.push([n.slice(e,e+2)]);return t},MultiPolygon(e){const t=[],n=e.getFlatCoordinates(),r=e.getStride(),i=e.getEndss();let o=0;for(let e=0,s=i.length;e<s;++e){const s=i[e];for(let e=0,i=s.length;e<i;++e){const i=s[e];for(let e=o,s=i-r;e<s;e+=r)t.push([n.slice(e,e+2),n.slice(e+r,e+r+2)]);o=i}}return t},Point:e=>[[e.getFlatCoordinates().slice(0,2)]],Polygon(e){const t=[],n=e.getFlatCoordinates(),r=e.getStride(),i=e.getEnds();let o=0;for(let e=0,s=i.length;e<s;++e){const s=i[e];for(let e=o,i=s-r;e<i;e+=r)t.push([n.slice(e,e+2),n.slice(e+r,e+r+2)]);o=s}return t}};function Fee(e){return e.feature?e.feature:e.element?e.element:null}const Nee=[],Yee=[],jee=[];const Hee=class extends jU{constructor(e){e=e||{},super({handleDownEvent:nn,stopDown:rn}),this.on,this.once,this.un,this.source_=e.source?e.source:null,this.vertex_=void 0===e.vertex||e.vertex,this.edge_=void 0===e.edge||e.edge,this.intersection_=void 0!==e.intersection&&e.intersection,this.features_=e.features?e.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.rBush_=new sj,this.snapped_=null,this.segmenters_=Object.assign({},Iee,e.segmenters)}addFeature(e,t){t=void 0===t||t;const n=Pn(e),r=e.getGeometry();if(r){const t=this.segmenters_[r.getType()];if(t){this.indexedFeaturesExtents_[n]=r.getExtent([1/0,1/0,-1/0,-1/0]);const i=t.call(this.segmenters_,r,this.getMap().getView().getProjection());let o=i.length;for(let t=0;t<o;++t){const n=i[t];Yee[t]=jP(n),jee[t]={feature:e,segment:n}}if(this.intersection_)for(let t=0,n=i.length;t<n;++t){const n=i[t];if(1===n.length)continue;const r=Yee[t];for(let s=0,a=t-1;s<a;++s){const t=i[s];if(!_$(r,Yee[s]))continue;const a=VR(n,t);if(!a)continue;const l=[a];Yee[o]=jP(l),jee[o++]={feature:e,intersectionFeature:e,segment:l}}const s=this.rBush_.getInExtent(Yee[t]);for(let t=0,r=s.length;t<r;++t){const r=s[t].segment;if(1===r.length)continue;const i=VR(n,r);if(!i)continue;const a=[i];Yee[o]=jP(a),jee[o++]={feature:e,intersectionFeature:s[t].feature,segment:a}}}1===o?this.rBush_.insert(Yee[0],jee[0]):(Yee.length=o,jee.length=o,this.rBush_.load(Yee,jee))}}t&&(this.featureChangeListenerKeys_[n]&&pn(this.featureChangeListenerKeys_[n]),this.featureChangeListenerKeys_[n]=dn(e,Nt,this.handleFeatureChange_,this))}getFeatures_(){let e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e}areSnapDataEqual_(e,t){return e.segment===t.segment&&e.feature===t.feature}handleEvent(e){const t=this.snapTo(e.pixel,e.coordinate,e.map);return t?(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel,this.snapped_&&!this.areSnapDataEqual_(this.snapped_,t)&&this.dispatchEvent(new Oee(Ree,this.snapped_)),this.snapped_={vertex:e.coordinate,vertexPixel:e.pixel,feature:t.feature,segment:t.segment},this.dispatchEvent(new Oee(Aee,this.snapped_))):this.snapped_&&(this.dispatchEvent(new Oee(Ree,this.snapped_)),this.snapped_=null),super.handleEvent(e)}handleFeatureAdd_(e){const t=Fee(e);t&&this.addFeature(t)}handleFeatureRemove_(e){const t=Fee(e);t&&(this.removeFeature(t),delete this.pendingFeatures_[Pn(t)])}handleFeatureChange_(e){const t=e.target;this.handlingDownUpSequence?this.pendingFeatures_[Pn(t)]=t:this.updateFeature_(t)}handleUpEvent(e){const t=Object.values(this.pendingFeatures_);if(t.length){for(const e of t)this.updateFeature_(e);ln(this.pendingFeatures_)}return!1}removeFeature(e,t){const n=void 0===t||t,r=Pn(e),i=this.indexedFeaturesExtents_[r];if(i){const t=this.rBush_;t.getInExtent(i).forEach(n=>{e!==n.feature&&e!==n.intersectionFeature||t.remove(n)})}n&&(pn(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])}setMap(e){const t=this.getMap(),n=this.featuresListenerKeys_;let r=this.getFeatures_();if(Array.isArray(r)||(r=r.getArray()),t&&(n.forEach(pn),n.length=0,this.rBush_.clear(),Object.values(this.featureChangeListenerKeys_).forEach(pn),this.featureChangeListenerKeys_={}),super.setMap(e),e){this.features_?n.push(dn(this.features_,IY,this.handleFeatureAdd_,this),dn(this.features_,FY,this.handleFeatureRemove_,this)):this.source_&&n.push(dn(this.source_,cj,this.handleFeatureAdd_,this),dn(this.source_,dj,this.handleFeatureRemove_,this));for(const e of r)this.addFeature(e)}}snapTo(e,t,n){const r=n.getView().getProjection(),i=QA(t,r),o=eR(HP(jP([i]),n.getView().getResolution()*this.pixelTolerance_),r),s=this.rBush_.getInExtent(o),a=s.length;if(0===a)return null;let l,c,u=1/0,h=null;const d=this.pixelTolerance_*this.pixelTolerance_,f=()=>{if(!l)return null;const t=n.getPixelFromCoordinate(l);return P$(e,t)>d?null:{vertex:l,vertexPixel:[Math.round(t[0]),Math.round(t[1])],feature:c,segment:h}};if(this.vertex_||this.intersection_){for(let e=0;e<a;++e){const t=s[e];if("Circle"!==t.feature.getGeometry().getType())for(const e of t.segment){const n=P$(i,QA(e,r));n<u&&(this.intersection_&&t.intersectionFeature||this.vertex_&&!t.intersectionFeature)&&(l=e,u=n,c=t.feature)}}const e=f();if(e)return e}if(this.edge_){for(let e=0;e<a;++e){let t=null;const n=s[e];if("Circle"===n.feature.getGeometry().getType()){let e=n.feature.getGeometry();const o=ZA();o&&(e=e.clone().transform(o,r)),t=E$(i,e)}else{const[e,o]=n.segment;o&&(Nee[0]=QA(e,r),Nee[1]=QA(o,r),t=L$(i,Nee))}if(t){const e=P$(i,t);e<u&&(l=JA(t,r),h="Circle"===n.feature.getGeometry().getType()?null:n.segment,u=e,c=n.feature)}}const e=f();if(e)return e}return null}updateFeature_(e){this.removeFeature(e,!1),this.addFeature(e,!1)}};zee.$inject=["$http","$q","$rootScope","$injector","$timeout","gmfDatasourceFileGroup","gmfSnappingConfig","gmfThemes","gmfTreeManager","ngeoFeatures","gmfSnappingOptions"];class Uee extends Hee{constructor(e){super(e),document.body.addEventListener("keydown",e=>{this.setActive(17!==e.keyCode)}),document.body.addEventListener("keyup",()=>{this.setActive(!0)})}}function zee(e,t,n,r,i,o,s,a,l,c,u){this.http_=e,this.q_=t,this.rootScope_=n,this.timeout_=i,this.injector_=r,this.gmfDatasourceFileGroup_=o,this.gmfSnappingConfig_=s,this.gmfSnappingOptions_=u,this.gmfThemes_=a,this.gmfTreeManager_=l,this.ngeoFeatures_=c,this.cache_={},this.cacheFileDataSource_={},this.listenerKeys_=[],this.map_=null,this.mapViewChangePromise_=null,this.ngeoFeaturesSnapInteraction_=new Uee({edge:s.edge,features:c,pixelTolerance:s.tolerance,vertex:s.vertex}),this.ogcServers_=null,this.ngeoSnappingSource_=this.injector_.has("ngeoSnappingSource")?this.injector_.get("ngeoSnappingSource"):void 0}zee.prototype.ensureSnapInteractionsOnTop=function(){if(!this.map_)throw new Error("Missing map");const e=this.map_;let t;for(const n in this.cache_)if(t=this.cache_[n],t.active){if(!t.interaction)throw new Error("Missing item.interaction");e.removeInteraction(t.interaction),e.addInteraction(t.interaction)}for(const n in this.cacheFileDataSource_)if(t=this.cacheFileDataSource_[n],t.active){if(!t.interaction)throw new Error("Missing item.interaction");e.removeInteraction(t.interaction),e.addInteraction(t.interaction)}e.removeInteraction(this.ngeoFeaturesSnapInteraction_),e.addInteraction(this.ngeoFeaturesSnapInteraction_)},zee.prototype.setMap=function(e){const t=this.listenerKeys_;if(this.map_){if(!this.treeCtrlsUnregister_)throw new Error("Missing treeCtrlsUnregister");this.treeCtrlsUnregister_(),this.unregisterAllTreeCtrl_(),t.forEach(pn),t.length=0,this.map_.removeInteraction(this.ngeoFeaturesSnapInteraction_)}if(this.map_=e,e){this.treeCtrlsUnregister_=this.rootScope_.$watchCollection(()=>{if(this.gmfTreeManager_.rootCtrl)return this.gmfTreeManager_.rootCtrl.children},e=>{this.timeout_(()=>{if(e){if(!this.gmfTreeManager_.rootCtrl)throw new Error("Missing gmfTreeManager_.rootCtrl");this.unregisterAllTreeCtrl_(),this.gmfTreeManager_.rootCtrl.traverseDepthFirst(this.registerTreeCtrl_.bind(this))}},0)}),t.push(dn(this.gmfThemes_,"change",this.handleThemesChange_,this),dn(e,"moveend",this.handleMapMoveEnd_,this));const n=this.gmfDatasourceFileGroup_.fileGroup;n&&t.push(dn(n.dataSourcesCollection,"add",this.handleFileGroupDataSourcesCollectionAdd_,this),dn(n.dataSourcesCollection,"remove",this.handleFileGroupDataSourcesCollectionRemove_,this)),e.addInteraction(this.ngeoFeaturesSnapInteraction_)}},zee.prototype.handleThemesChange_=function(){this.ogcServers_=null,this.gmfThemes_.getOgcServersObject().then(e=>{this.ogcServers_=e})},zee.prototype.registerTreeCtrl_=function(e){let t=e.node;if(t.children)return;t=e.node;const n=p1(t),r=this.gmfSnappingOptions_.maxFeatures||50;if(n){const t=this.getWFSConfig_(e);if(t){const i=Pn(e),o=this.rootScope_.$watch(()=>this.isSnappingActiveForTreeCtrl_(e),this.handleTreeCtrlStateChange_.bind(this,e)),s=this.getOGCServer_(e);if(!s)throw new Error("Missing ogcServer");this.cache_[i]={active:!1,featureNS:s.wfsFeatureNS,featurePrefix:"feature",features:new jY,interaction:null,maxFeatures:r,requestDeferred:null,snappingConfig:n,treeCtrl:e,wfsConfig:t,stateWatcherUnregister:o},this.handleTreeCtrlStateChange_(e,this.isSnappingActiveForTreeCtrl_(e))}}},zee.prototype.unregisterAllTreeCtrl_=function(){for(const e in this.cache_){const t=this.cache_[e];t&&(t.stateWatcherUnregister(),this.deactivateItem_(t),delete this.cache_[e])}},zee.prototype.getOGCServer_=function(e){const t=e.node;if(t.type!==b1)return null;const n=t;let r;if(e.parent.node.mixed)r=n.ogcServer;else{r=o8(e).node.ogcServer}if(!r)return null;if(!this.ogcServers_)throw new Error("Missing ogcServers");return this.ogcServers_[r]},zee.prototype.getWFSConfig_=function(e){if(null===this.ogcServers_)return null;const t=e.node;if(t.type!==b1)return null;const n=t,r=[];for(let e=0,t=n.childLayers.length;e<t;e++)n.childLayers[e].queryable&&r.push(n.childLayers[e].name);if(!r.length)return null;const i=this.getOGCServer_(e);if(!i||!i.wfsSupport)return null;const o=i.urlWfs;if(!o)throw new Error("Missing urlWfs");return{featureTypes:r.join(","),url:o}},zee.prototype.isSnappingActiveForTreeCtrl_=function(e){if("on"!==e.getState())return!1;if(void 0!==e.properties.snapping){if("boolean"!=typeof e.properties.snapping)throw new Error("Wrong snappingActive type");return e.properties.snapping}const t=p1(e.node);return null!==t&&t.activated},zee.prototype.handleTreeCtrlStateChange_=function(e,t){const n=Pn(e),r=this.cache_[n];t?this.activateItem_(r):this.deactivateItem_(r)},zee.prototype.activateItem_=function(e){if(!this.map_)throw new Error("Missing map");if(e.active)return;const t=this.map_,n=new Uee({edge:e.snappingConfig.edge,features:e.features,pixelTolerance:e.snappingConfig.tolerance,vertex:e.snappingConfig.vertex});t.addInteraction(n),e.interaction=n,e.active=!0,this.loadItemFeatures_(e)},zee.prototype.deactivateItem_=function(e){if(!this.map_)throw new Error("Missing map");if(!e.active)return;const t=this.map_,n=e.interaction;if(!n)throw new Error("Missing interaction");t.removeInteraction(n),e.interaction=null,e.features.clear(),e.requestDeferred&&(e.requestDeferred.resolve(),e.requestDeferred=null),e.active=!1,this.refreshSnappingSource_()},zee.prototype.loadAllItems_=function(){let e;this.mapViewChangePromise_=null;for(const t in this.cache_)e=this.cache_[t],e.active&&this.loadItemFeatures_(e)},zee.prototype.refresh=function(){this.loadAllItems_()},zee.prototype.loadItemFeatures_=function(e){if(!this.map_)throw new Error("Missing map");e.requestDeferred&&e.requestDeferred.resolve();const t=this.map_,n=t.getView(),r=t.getSize();if(!r)throw new Error("Missing size");const i=n.calculateExtent(r),o=n.getProjection().getCode(),s=e.wfsConfig.featureTypes.split(","),a={srsName:o,featureNS:e.featureNS,featurePrefix:e.featurePrefix,featureTypes:s,outputFormat:"GML3",bbox:i,geometryName:X0,maxFeatures:e.maxFeatures},l=new I0,c=new XMLSerializer,u=l.writeGetFeature(a),h=c.serializeToString(u),d=e.wfsConfig.url;e.requestDeferred=this.q_.defer();this.http_.post(d,h,{timeout:e.requestDeferred.promise,headers:{"Content-Type":"text/xml"}}).then(t=>{e.requestDeferred=null,e.features.clear();const n=(new I0).readFeatures(t.data);n&&(e.features.extend(n),this.refreshSnappingSource_())}).catch(e=>{"abort"===e.xhrStatus?console.error("WFS request aborted."):console.error(e)})},zee.prototype.handleMapMoveEnd_=function(){this.mapViewChangePromise_&&this.timeout_.cancel(this.mapViewChangePromise_),this.mapViewChangePromise_=this.timeout_(this.loadAllItems_.bind(this),400)},zee.prototype.refreshSnappingSource_=function(){if(void 0!==this.ngeoSnappingSource_){this.ngeoSnappingSource_.clear();for(const e in this.cache_){const t=this.cache_[e];if(void 0===t.features)throw new Error("Missing features");t.active&&this.ngeoSnappingSource_.addFeatures(t.features.getArray())}}},zee.prototype.handleFileGroupDataSourcesCollectionAdd_=function(e){if(!(e instanceof YY))return;const t=e.element;if(!(t instanceof j6))return;const n=t.featuresCollection,r=this.gmfSnappingConfig_,i=new Uee({edge:r.edge,features:n,pixelTolerance:r.tolerance,vertex:r.vertex}),o=this.rootScope_.$watch(()=>t.visible,this.handleFileDataSourceVisibleChange_.bind(this,t)),s=Pn(t);this.cacheFileDataSource_[s]={active:!1,fileDataSource:t,interaction:i,visibleWatcherUnregister:o},this.handleFileDataSourceVisibleChange_(t)},zee.prototype.handleFileGroupDataSourcesCollectionRemove_=function(e){if(!(e instanceof YY))return;const t=e.element;if(!(t instanceof j6))return;const n=Pn(t);if(!this.cacheFileDataSource_[n])return;const r=this.cacheFileDataSource_[n],i=this.map_;r.visibleWatcherUnregister(),r.active&&i.removeInteraction(r.interaction),delete this.cacheFileDataSource_[n]},zee.prototype.handleFileDataSourceVisibleChange_=function(e){const t=Pn(e),n=this.cacheFileDataSource_[t],r=e.visible;if(n.active===r)return;n.active=r;const i=this.map_;r?i.addInteraction(n.interaction):i.removeInteraction(n.interaction)};const Gee=t().module("gmfSnapping",[B6.name,T8.name,w1.name,u8.name]);Gee.service("gmfSnapping",zee);const Wee=Gee;Bee.$inject=["gmfPermalink","gmfSnapping","$injector","$element"];const qee=t().module("gmfMapComponent",[$ee.name,Wee.name]);function Bee(e,t,n,r){this.map=null,this.gmfPermalink_=e,this.gmfSnapping_=t,this.$element_=r}qee.directive("gmfMap",function(){return{scope:{map:"<gmfMapMap"},controller:"GmfMapController as ctrl",bindToController:!0}}),Bee.prototype.$onInit=function(){if(!this.map)throw new Error("Missing map");sz.init(this.map),this.gmfPermalink_.setMap(this.map),this.gmfSnapping_.setMap(this.map),this.map.setTarget(this.$element_[0]),window.overlayMgr=sz},qee.controller("GmfMapController",Bee);const Vee=qee,Xee=t().module("ngeoMapModule",[T1.name,N9.name,H9.name,fee.name,wee.name,Vee.name]);function Kee(e,t){this.data=e,this.columnDefs=t,this.selectedRows={}}function Zee(e){return`${Pn(e)}`}Kee.prototype.isRowSelected=function(e){return!!this.selectedRows[Zee(e)]},Kee.prototype.getSelectedCount=function(){return Object.keys(this.selectedRows).length},Kee.prototype.getSelectedRows=function(){if(!this.data)throw new Error("Missing data");return this.data.filter(e=>this.isRowSelected(e))},Kee.prototype.selectRow=function(e){const t=Zee(e);this.selectedRows[t]=e},Kee.prototype.toggleRow=function(e){const t=Zee(e);this.isRowSelected(e)?delete this.selectedRows[t]:this.selectedRows[t]=e},Kee.prototype.selectAll=function(){if(!this.data)throw new Error("Missing data");this.data.forEach(e=>{this.selectRow(e)})},Kee.prototype.unselectAll=function(){for(const e in this.selectedRows)delete this.selectedRows[e]},Kee.prototype.invertSelection=function(){if(!this.data)throw new Error("Missing data");this.data.forEach(e=>{this.toggleRow(e)})};const Jee=Kee;n(6204),n(4996);nte.$inject=["$scope"];const Qee=t().module("ngeoGrid",[V1.name,"floatThead"]);function ete(e,t){return t(e)}Qee.run(["$templateCache",e=>{e.put("ngeo/grid",'<div class="ngeo-grid-table-container">\n  <table\n    float-thead="$ctrl.floatTheadConfig"\n    ng-model="$ctrl.configuration.data"\n    class="table table-bordered table-striped table-hover"\n  >\n    <thead class="table-header">\n      <tr>\n        <th\n          ng-repeat="columnDefs in $ctrl.configuration.columnDefs"\n          ng-click="$ctrl.sort(columnDefs.name)"\n          ng-bind-html="columnDefs.name | ngeoTrustHtml | translate"\n        >\n          <i ng-show="$ctrl.sortedBy !== columnDefs.name" class="fa-solid fa-fw"></i>\n          <i\n            ng-show="$ctrl.sortedBy === columnDefs.name && $ctrl.sortAscending === true"\n            class="fa-solid fa-caret-up"\n          ></i>\n          <i\n            ng-show="$ctrl.sortedBy === columnDefs.name && $ctrl.sortAscending === false"\n            class="fa-solid fa-caret-down"\n          ></i>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        ng-repeat="attributes in $ctrl.configuration.data"\n        ng-class="[\'row-\' + $ctrl.configuration.getRowUid(attributes), $ctrl.configuration.isRowSelected(attributes) ? \'ngeo-grid-active\': \'\']"\n        ng-click="$ctrl.clickRow(attributes, $event)"\n        ng-mousedown="$ctrl.preventTextSelection($event)"\n      >\n        <td\n          ng-repeat="columnDefs in $ctrl.configuration.columnDefs"\n          ng-bind-html="attributes[columnDefs.name] | removeCDATA | ngeoTrustHtmlAuto"\n        ></td>\n      </tr>\n    </tbody>\n  </table>\n</div>')}]),Qee.value("ngeoGridTemplateUrl",e=>{const t=e.ngeoGridTemplateurl;return void 0!==t?t:"ngeo/grid"}),ete.$inject=["$attrs","ngeoGridTemplateUrl"];const tte={controller:nte,bindings:{configuration:"=ngeoGridConfiguration"},templateUrl:ete};function nte(e){this.scope_=e,this.configuration=null,this.selectedRows={},this.sortedBy="",this.sortAscending=!0,this.floatTheadConfig={scrollContainer:function(e){return e.closest(".ngeo-grid-table-container")}}}Qee.component("ngeoGrid",tte),nte.prototype.$onInit=function(){if(!this.configuration)throw new Error("Missing configuration");this.selectedRows=this.configuration.selectedRows},nte.prototype.sort=function(e){if(!this.configuration)throw new Error("Missing configuration");if(!this.configuration.data)throw new Error("Missing configuration.data");this.sortAscending=this.sortedBy!==e||!this.sortAscending,this.sortedBy=e;const t=this.sortAscending?1:-1;this.configuration.data.sort((n,r)=>n[e]?r[e]?n[e]>r[e]?t:-t:-1:1)},nte.prototype.clickRow=function(e,t){const n=TU(t),r=kU(t);this.clickRow_(e,n,r)},nte.prototype.clickRow_=function(e,t,n){if(!this.configuration)throw new Error("Missing configuration");if(t&&!n)this.selectRange_(e);else if(!t&&n)this.configuration.toggleRow(e);else{const t=this.configuration.isRowSelected(e);this.configuration.unselectAll(),t||this.configuration.selectRow(e)}},nte.prototype.selectRange_=function(e){if(!this.configuration)throw new Error("Missing configuration");if(!this.configuration.data)throw new Error("Missing configuration.data");const t=Zee(e),n=this.configuration.data;if(this.configuration.isRowSelected(e))return;let r=0;const i=[];for(let e=0;e<n.length;e++){const o=n[e];t===Zee(o)?r=e:this.configuration.isRowSelected(o)&&i.push(e)}0==i.length&&this.configuration.selectRow(e);let o=1/0,s=i[0];for(const e of i){const t=e,n=Math.abs(t-r);o>n&&(o=n,s=t)}const a=r>s?r:s;for(let e=r<s?r:s;e<=a;e++)this.configuration.selectRow(n[e])},nte.prototype.preventTextSelection=function(e){const t=TU(e),n=kU(e);(t||n)&&e.preventDefault()},Qee.controller("ngeoGridController",nte);const rte=Qee,ite="add",ote="remove",ste="replace";class ate{constructor(e,t,n,r,i,o){const s=o;this.dataSources_=e.collection,this.featureHelper_=n,this.gmfDataSourcesHelper_=t,this.ngeoQuerent_=r,this.result_=i,this.limit_=void 0!==s.limit?s.limit:50,this.queryCountFirst_=void 0===s.queryCountFirst||s.queryCountFirst,this.tolerance_,matchMedia("(pointer: coarse)").matches?this.tolerance_=void 0!==s.toleranceTouch?s.toleranceTouch:10:this.tolerance_=void 0!==s.tolerance?s.tolerance:3,this.bboxAsGETParam_=s.bboxAsGETParam||!1,this.dataSourceNames_={},this.cleared_=!1}issue(e){const t=e.action?e.action:ste;let n;this.clear(t!==ste),void 0===e.dataSources&&void 0===e.queryableDataSources&&(n=this.ngeoQuerent_.getQueryableDataSources(this.dataSources_.getArray(),e.map));const r=void 0!==e.limit?e.limit:this.limit_;return Object.assign(e,{queryableDataSources:n,limit:r,tolerance:this.tolerance_,bboxAsGETParam:this.bboxAsGETParam_,queryCountFirst:this.queryCountFirst_}),this.result_.pending=!0,this.ngeoQuerent_.issue(e).then(this.handleResult_.bind(this,t))}clear(e=!1){if(!this.cleared_){this.result_.total=0;for(const t of this.result_.sources)e?this.result_.total+=t.features.length:(t.features.length=0,delete t.totalFeatureCount),t.pending=!1,t.tooManyResults=!1;e||(this.result_.sources.length=0),this.result_.pending=!1,this.cleared_=!0}}handleResult_(e,t){let n=e===ste?0:this.result_.total;for(const r in t){const i=Number(r),o=this.gmfDataSourcesHelper_.getDataSource(i);if(!o)throw new Error("Missing dataSource");let s=o.name;console.assert(o);const a=t[i],l=a.features,c=a.featuresCount,u=!0===a.tooManyFeatures,h=a.totalFeatureCount,d=a.requestPartners,f={};l.forEach(e=>{const t=e.get("ngeo_feature_type_");if(f[t]||(f[t]=[]),o.attributes&&o.attributes.length){const t=e.getProperties(),n={};o.attributes.forEach(r=>{r.alias?(n[r.alias]=t[r.name],e.unset(r.name,!0)):n[r.name]=t[r.name]}),e.setProperties(n,!0)}f[t].push(e)});for(const t in f){s=t||s;const r=f[t];let a=!1;if(e===ste)a=!0;else{let t;for(const e of this.result_.sources)if(e.id===i&&e.label===s){t=e;break}if(t)for(const i of r){const r=this.featureHelper_.findFeatureIndexByFid(t.features,`${i.getId()}`);-1===r?e===ite&&(t.features.push(i),n+=1):e===ote&&(t.features.splice(r,1),n-=1)}else e===ite&&(a=!0)}a&&(this.result_.sources.push({features:r,id:i,label:s,featuresCount:c,pending:!1,tooManyResults:u,totalFeatureCount:h,identifierAttributeField:o.identifierAttribute,requestPartners:d}),n+=l.length)}}this.result_.total=n,this.result_.pending=!1,this.cleared_=!1}}ate.$inject=["ngeoDataSources","gmfDataSourcesHelper","ngeoFeatureHelper","ngeoQuerent","ngeoQueryResult","ngeoQueryOptions"];const lte=t().module("ngeoMapQuerent",[R1.name,$6.name,T6.name,_4.name]);lte.service("ngeoMapQuerent",ate),lte.value("ngeoQueryResult",{sources:[],total:0,pending:!1});const cte=lte,ute=`<div class="gmf-displayquerygrid panel" ng-show="ctrl.active">\n  <div class="close" ng-click="ctrl.clear()">&times;</div>\n\n  <ul class="nav nav-pills" role="tablist">\n    <li\n      class="nav-item"\n      ng-repeat="gridSource in ctrl.getGridSources() track by gridSource.source.label"\n      role="presentation"\n      ng-click="ctrl.selectTab(gridSource)"\n    >\n      <a\n        class="nav-link"\n        href="#{{ctrl.escapeValue(gridSource.source.label)}}"\n        ng-class="{'active' : ctrl.isSelected(gridSource)}"\n        data-target="#{{ctrl.escapeValue(gridSource.source.label)}}"\n        aria-controls="{{ctrl.escapeValue(gridSource.source.label)}}"\n        role="tab"\n        data-toggle="tab"\n      >\n        <span> {{gridSource.source.label | translate}} ({{gridSource.source.features.length}}) </span>\n      </a>\n    </li>\n  </ul>\n\n  <div class="tab-content">\n    <div\n      ng-repeat="gridSource in ctrl.getGridSources() track by gridSource.source.label"\n      role="tabpanel"\n      class="tab-pane"\n      ng-class="{'active' : ctrl.isSelected(gridSource)}"\n      id="{{ctrl.escapeValue(gridSource.source.label)}}"\n    >\n      <ngeo-grid ngeo-grid-configuration="gridSource.configuration"> </ngeo-grid>\n    </div>\n    <div class="container-fluid">\n      <div\n        ng-show="!ctrl.pending && ctrl.getActiveGridSource() && ctrl.getActiveGridSource().configuration !== null"\n        class="row"\n      >\n        <div class="col-md-5 my-auto">\n          <span ng-if="ctrl.hasOneWithTooManyResults_()" class="gmf-query-grid-too-many text-warning"\n            ><span ng-if="ctrl.sumOfAvailableResults >= 0">{{'Only' | translate}} {{ctrl.sumOfFeatures}} {{'of' | translate}} {{ctrl.sumOfAvailableResults}}\n            {{'results displayed, as the maximum number is reached. Please refine your query.' | translate\n            }}</span\n          ><span ng-if="ctrl.sumOfAvailableResults < 0">{{'One of the queries returns the maximum number of results, but probably not all the  results are displayed. Please refine your query.' | translate}}\n          </span\n          ></span\n          >\n        </div>\n        <div class="col-md-7" class="pull-right">\n          <ul class="nav justify-content-end">\n            <li class="ng-hide" ng-show="ctrl.isOneSelected()">\n              <div class="btn btn-sm ng-binding">\n                {{ctrl.getSelectedRowCount()}} <span translate>selected element(s)</span>\n              </div>\n            </li>\n\n            <li ng-show="ctrl.isOneSelected()" class="ng-hide">\n              <button\n                class="btn btn-link btn-sm"\n                title="{{'Zoom to selection' | translate}}"\n                ng-click="ctrl.zoomToSelection()"\n              >\n                <i class="fa-solid fa-magnifying-glass-plus"></i> <span translate>Zoom to</span>\n              </button>\n            </li>\n\n            <li ng-show="ctrl.isOneSelected()" class="ng-hide">\n              <button\n                class="btn btn-link btn-sm"\n                title="{{'Export selection as CSV' | translate}}"\n                ng-click="ctrl.downloadCsv()"\n              >\n                <i class="fa-solid fa-download"></i> <span translate>Export as CSV</span>\n              </button>\n            </li>\n\n            <li class="dropdown">\n              <button\n                type="button"\n                class="dropup btn btn-default btn-sm dropdown-toggle"\n                data-toggle="dropdown"\n                aria-haspopup="true"\n                aria-expanded="false"\n              >\n                <span translate>Select</span>\n              </button>\n              <ul class="dropdown-menu" aria-labelledby="dLabel">\n                <li>\n                  <a href="" ng-click="ctrl.selectAll()" translate>All</a>\n                </li>\n\n                <li>\n                  <a href="" ng-click="ctrl.unselectAll()" translate>None</a>\n                </li>\n\n                <li>\n                  <a href="" ng-click="ctrl.invertSelection()" translate>Reverse selection</a>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="ctrl.pending" class="spinner-grid">\n      <i class="fa-solid fa-spin"\n        >${Cs("3rem")}</i>\n    </div>\n  </div>\n</div>`;pte.$inject=["$scope","ngeoQueryResult","ngeoMapQuerent","$timeout","ngeoQueryOptions","gmfCsvFilename","$element","gmfDisplayQueryGridOptions"];const hte=t().module("gmfQueryGridComponent",[rte.name,cte.name]);function dte(e,t,n){return n(e,t)}hte.value("gmfDisplayquerygridTemplateUrl",(e,t)=>{const n=t.gmfDisplayquerygridTemplateurl;return void 0!==n?n:"gmf/query/gridComponent"}),hte.run(["$templateCache",e=>{e.put("gmf/query/gridComponent",ute)}]),dte.$inject=["$element","$attrs","gmfDisplayquerygridTemplateUrl"];const fte={controller:"GmfDisplayquerygridController as ctrl",bindings:{active:"=?gmfDisplayquerygridActive",getMapFn:"&gmfDisplayquerygridMap"},templateUrl:dte};function pte(e,t,n,r,i,o,s,a){this.options=a,this.$scope_=e,this.$timeout_=r,this.ngeoQueryResult=t,this.ngeoMapQuerent_=n,this.ngeoCsvDownload_=AU,this.$element_=s,this.maxResults=void 0!==i.limit?i.limit:50,this.active=!1,this.pending=!1,this.gridSources={},this.loadedGridSources=[],this.selectedTab=null,this.featuresForSources_={},this.features_=new jY,this.highlightFeatures_=new jY,this.filename_=o,this.map_=null,this.sumOfFeatures=0,this.sumOfAvailableResults=0,this.$scope_.$watchCollection(()=>t,(e,n)=>{t.pending&&(this.active=!0,this.pending=!0,Ab.openFooterPanel("queryresult",{state:!0,noError:!0})),e!==n&&this.updateData_()}),this.unregisterSelectWatcher_=null,this.getMapFn=null}hte.component("gmfDisplayquerygrid",fte),pte.prototype.$onInit=function(){if(!this.getMapFn)throw new Error("Missing getMapFn");const e=sz.getFeatureOverlay();e.setFeatures(this.features_),e.setStyle(r9(this.options.featuresStyle));const t=sz.getFeatureOverlay();t.setFeatures(this.highlightFeatures_);const n=r9(this.options.selectedFeatureStyle);t.setStyle(n);const r=this.getMapFn;if(r){const e=r();if(!(e instanceof RZ))throw new Error("Wrong map type");this.map_=e}},pte.prototype.getGridSources=function(){return this.loadedGridSources.map(e=>this.gridSources[e])},pte.prototype.updateData_=function(){if((this.ngeoQueryResult.pending||0===this.ngeoQueryResult.total)&&!this.hasOneWithTooManyResults_()){const e=this.active;return this.clear(),void(e&&(this.active=this.ngeoQueryResult.pending,Ab.openFooterPanel("queryresult",{state:this.active,noError:!0}),this.pending=this.ngeoQueryResult.pending))}this.sumOfAvailableResults=0,this.sumOfFeatures=0;const e=[];this.ngeoQueryResult.sources.forEach(t=>{e.includes(t.label)||(this.sumOfFeatures+=t.features.length),t.requestPartners&&t.requestPartners.some(t=>e.includes(t))||(t.totalFeatureCount<0||this.sumOfAvailableResults<0?this.sumOfAvailableResults=-1:this.sumOfAvailableResults+=t.totalFeatureCount),e.push(t.label)}),this.active=!0,Ab.openFooterPanel("queryresult",{state:!0}),this.pending=!1;let t=this.ngeoQueryResult.sources;if(Object.keys(this.options.mergeTabs||{}).length>0&&(t=this.getMergedSources_(t)),t.forEach(e=>{if(e.tooManyResults&&0===e.features.length)this.makeGrid_(null,e);else{e.id=this.escapeValue(e.id);e.features.length>0&&this.collectData_(e)}}),0===this.loadedGridSources.length)return this.active=!1,void Ab.openFooterPanel("queryresult",{state:!1,noError:!0});null!==this.selectedTab&&`${this.selectedTab}`in this.gridSources||this.$timeout_(()=>{const e=this.loadedGridSources[0];this.selectTab(this.gridSources[e])},0)},pte.prototype.hasOneWithTooManyResults_=function(){return this.ngeoQueryResult.sources.some(e=>e.tooManyResults)},pte.prototype.escapeValue=function(e){if("number"==typeof e)return e;{const t=/[-[\]/{}()*+?.\\^$ |]/g;return null!==e.match(t)?e.replace(t,"_"):e}},pte.prototype.isSelected=function(e){return this.selectedTab===e.source.label},pte.prototype.getMergedSources_=function(e){const t=[],n={};e.forEach(e=>{null===this.getMergedSource_(e,n)&&t.push(e)});for(const e in n)t.push(n[e]);return t},pte.prototype.getMergedSource_=function(e,t){let n=null;for(const t in this.options.mergeTabs||{}){if(this.options.mergeTabs[t].some(t=>t==e.label)){n=t;break}}if(null===n)return null;let r,i=!0;return n in t?(r=t[n],e.requestPartners&&(i=!e.requestPartners.some(e=>r.mergeComposants.includes(e))),r.mergeComposants.push(e.label)):(r={features:[],id:n,label:n,featuresCount:0,pending:!1,tooManyResults:!1,mergeComposants:[e.label]},t[n]=r),e.features.forEach(e=>{r.features.push(e)}),r.tooManyResults=r.tooManyResults||e.tooManyResults,i&&(void 0!==e.totalFeatureCount&&(r.totalFeatureCount=void 0!==r.totalFeatureCount?r.totalFeatureCount+e.totalFeatureCount:e.totalFeatureCount),r.featuresCount+=e.featuresCount),r},pte.prototype.collectData_=function(e){const t=e.features,n=[],r=[],i={};let o,s;if(t.forEach(e=>{o=e.getProperties(),void 0!==o&&(s=e.getGeometryName(),r.includes(s)||r.push(s),n.push(o),i[Zee(o)]=e)}),this.cleanProperties_(n,r),n.length>0){this.makeGrid_(n,e)&&(this.featuresForSources_[`${e.label}`]=i)}},pte.prototype.cleanProperties_=function(e,t){e.forEach(e=>{t.forEach(t=>{delete e[t]}),delete e.boundedBy,delete e.ngeo_feature_type_}),!0===this.options.removeEmptyColumns&&this.removeEmptyColumnsFn_(e)},pte.prototype.removeEmptyColumnsFn_=function(e){const t=[];let n,r,i;for(r in e[0])for(n=0;n<e.length;n++)if(void 0!==e[n][r]){t.push(r);break}e.forEach(e=>{for(r in i=[],e)t.includes(r)||i.push(r);i.forEach(t=>{delete e[t]})})},pte.prototype.makeGrid_=function(e,t){const n=`${t.label}`;let r=null;return(null===e||(r=this.getGridConfiguration_(e),null!==r))&&(this.loadedGridSources.includes(n)||this.loadedGridSources.push(n),this.gridSources[n]={source:t},r&&(this.gridSources[n].configuration=r),!0)},pte.prototype.getGridConfiguration_=function(e){if(!e.length)throw new Error("Missing data");const t={};Object.assign(t,e[0]),delete t.ol_uid;const n=Object.keys(t),r=[];return n.forEach(e=>{r.push({name:e})}),r.length>0?new Jee(e,r):null},pte.prototype.getActiveGridSource=function(){return null===this.selectedTab?null:this.gridSources[`${this.selectedTab}`]},pte.prototype.clear=function(){this.active=!1,Ab.openFooterPanel("queryresult",{state:!1,noError:!0}),this.pending=!1,this.gridSources={},this.loadedGridSources=[],this.selectedTab=null,this.tooManyResults=!1,this.features_.clear(),this.highlightFeatures_.clear(),this.ngeoMapQuerent_.clear(),this.featuresForSources_={},this.unregisterSelectWatcher_&&this.unregisterSelectWatcher_()},pte.prototype.selectTab=function(e){const t=e.source;this.selectedTab=t.label,this.unregisterSelectWatcher_&&(this.unregisterSelectWatcher_(),this.unregisterSelectWatcher_=null),void 0!==e.configuration&&(this.unregisterSelectWatcher_=this.$scope_.$watchCollection(()=>e.configuration.selectedRows,(e,t)=>{Object.keys(e)!==Object.keys(t)&&this.onSelectionChanged_()})),this.updateFeatures_(e),this.reflowGrid_()},pte.prototype.reflowGrid_=function(){const e=this.escapeValue(this.selectedTab||""),t=this.$element_.find(`div.tab-pane#${e}`);t.removeClass("active").addClass("active"),this.$timeout_(()=>{t.find("div.ngeo-grid-table-container table").trigger("reflow")})},pte.prototype.onSelectionChanged_=function(){if(null===this.selectedTab)return;const e=this.gridSources[`${this.selectedTab}`];this.updateFeatures_(e)},pte.prototype.updateFeatures_=function(e){if(this.features_.clear(),this.highlightFeatures_.clear(),!e.configuration)return;const t=`${e.source.label}`,n=this.featuresForSources_[t],r=e.configuration.selectedRows;for(const e in n){const t=n[e];e in r?this.highlightFeatures_.push(t):this.features_.push(t)}},pte.prototype.isOneSelected=function(){const e=this.getActiveGridSource();return null!==e&&null!==e.configuration&&e.configuration.getSelectedCount()>0},pte.prototype.getSelectedRowCount=function(){const e=this.getActiveGridSource();return null===e||null===e.configuration?0:e.configuration.getSelectedCount()},pte.prototype.selectAll=function(){const e=this.getActiveGridSource();null!==e&&e.configuration.selectAll()},pte.prototype.unselectAll=function(){const e=this.getActiveGridSource();null!==e&&e.configuration.unselectAll()},pte.prototype.invertSelection=function(){const e=this.getActiveGridSource();null!==e&&e.configuration.invertSelection()},pte.prototype.zoomToSelection=function(){if(!this.map_)throw new Error("Missing map");if(null!==this.getActiveGridSource()){const e=[1/0,1/0,-1/0,-1/0];this.highlightFeatures_.forEach(t=>{const n=t.getGeometry();if(!n)throw new Error("Missing geometry");e$(e,n.getExtent())});const t=this.map_.getSize();if(!t)throw new Error("Missing size");this.map_.getView().fit(e,{size:t,maxZoom:this.options.maxRecenterZoom})}},pte.prototype.downloadCsv=function(){const e=this.getActiveGridSource();if(null!==e){const t=e.configuration.columnDefs;if(!t)throw new Error("Missing columnDefs");const n=e.configuration.getSelectedRows();this.ngeoCsvDownload_.startDownload(n,t,this.filename_)}},hte.controller("GmfDisplayquerygridController",pte);const mte=hte,gte=t().module("ngeoMiscSwipe",[]);function _te(e,n,r){gte.directive(e,["$parse","$verticalSwipe",function(i,o){return function(s,a,l){const c=i(l[e]);let u,h;const d=["touch"];t().isDefined(l.ngeoSwipeDisableMouse)&&d.push("mouse"),o.bind(a,{start:function(e,t){u=e,h=!0},cancel:function(e){h=!1},end:function(e,t){(function(e){if(!u)return!1;const t=(e.y-u.y)*n,r=Math.abs(e.x-u.x);return h&&r<75&&t>0&&t>30&&r/t<.3})(e)&&s.$apply(()=>{a.triggerHandler(r),c(s,{$event:t})})}},d)}}])}gte.factory("$verticalSwipe",[function(){const e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function n(e){let t;const n=e.originalEvent;return t=n.changedTouches&&n.changedTouches.length>0?n.changedTouches[0]:e.originalEvent,{x:t.clientX,y:t.clientY}}function r(n,r){const i=[];return t().forEach(n,t=>{const n=e[t][r];n&&i.push(n)}),i.join(" ")}return{bind(e,t,i){let o,s,a,l,c=!1;i=i||["mouse","touch","pointer"],e.on(r(i,"start"),e=>{a=n(e),c=!0,o=0,s=0,l=a,t.start&&t.start(a,e)});const u=r(i,"cancel");u&&e.on(u,e=>{c=!1,t.cancel&&t.cancel(e)}),e.on(r(i,"move"),e=>{if(!c)return;if(!a)return;const r=n(e);return o+=Math.abs(r.x-l.x),s+=Math.abs(r.y-l.y),l=r,o<10&&s<10?void 0:o>s?(c=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(r,e)))}),e.on(r(i,"end"),e=>{c&&(c=!1,t.end&&t.end(n(e),e))})}}}]),_te("ngeoSwipeDown",1,"swipedown"),_te("ngeoSwipeUp",-1,"swipeup");const yte=gte;n(6652),n(6751);const bte=`<div class="spinner-window" ng-if="ctrl.isLoading">\n  <i class="fa-solid fa-spin"\n    >${Cs("3rem")}</i>\n</div>\n\n<div\n  class="gmf-displayquerywindow"\n  ng-class="{'desktop': ctrl.desktop, 'mobile': !ctrl.desktop}"\n  ng-show="ctrl.open"\n>\n  <button\n    class="collapse-button"\n    type="button"\n    ng-show="::!ctrl.desktop"\n    ngeo-swipe-up="ctrl.collapsed = false"\n    ngeo-swipe-down="ctrl.collapsed = true"\n    ngeo-swipe-disable-mouse\n    ng-click="ctrl.collapsed = !ctrl.collapsed"\n    ng-class="[ctrl.collapsed ? 'collapse-button-up' : 'collapse-button-down']"\n  ></button>\n\n  <div\n    class="windowcontainer"\n    ng-swipe-disable-mouse\n    ng-swipe-left="ctrl.next()"\n    ng-swipe-right="ctrl.previous()"\n  >\n    <button type="button" class="btn fa-solid fa-xmark close" ng-click="ctrl.close()"></button>\n\n    <div\n      class="animation-container"\n      ng-class="[ctrl.collapsed ? '' : 'animation-container-detailed', ctrl.isNext ? 'next' : 'previous']"\n    >\n      <div ng-animate-swap="ctrl.animate" class="slide-animation gmf-animatable">\n        <div class="header ui-draggable-handle">\n          <p class="title">{{ctrl.source.label | translate}}</p>\n          <p class="subtitle">{{ctrl.getFeatureValues()[ctrl.source.identifierAttributeField]}}</p>\n        </div>\n\n        <div class="details">\n          <table>\n            <tr\n              ng-repeat="(key, value) in ctrl.getFeatureValues()"\n              ng-if="value !== undefined || ctrl.options.displayNullAttributes == true"\n            >\n              <td class="details-key" ng-bind-html="key | translate | ngeoTrustHtml"></td>\n              <td class="details-value" ng-bind-html="value | removeCDATA | ngeoTrustHtmlAuto"></td>\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n\n    <div class="navigate">\n      <div class="placeholder">\n        <button\n          type="button"\n          class="previous btn"\n          ng-disabled="ctrl.isFirst()"\n          ng-show="ctrl.getResultLength() > 1"\n          ng-click="ctrl.previous()"\n        >\n          <span ng-show="::ctrl.desktop">{{'Prev.' | translate}}</span>\n        </button>\n      </div>\n\n      <div class="results">\n        <span ng-show="::!ctrl.desktop">{{'Result' | translate}}</span>\n        <span>{{ctrl.currentResult + 1}}</span>\n        <span>/</span>\n        <span>{{ctrl.getResultLength()}}</span>\n\n        <div ng-show="::ctrl.desktop" class="dropup">\n          <button\n            type="button"\n            class="btn btn-default dropdown-toggle"\n            data-toggle="dropdown"\n            aria-expanded="false"\n          >\n            <span class="fa-solid fa-filter"></span>\n          </button>\n\n          <ul class="dropdown-menu dropdown-menu-right" role="menu">\n            <li>\n              <a href="#" ng-click="ctrl.setSelectedSource(null)">\n                <i class="fa-solid fa-fw" ng-class="{'fa-check': ctrl.selectedSource === null}"> </i>\n                <span>{{'All layers' | translate}} ({{ctrl.ngeoQueryResult.total}})</span>\n              </a>\n            </li>\n\n            <li role="separator" class="divider"></li>\n\n            <li\n              ng-repeat-start="source in ctrl.ngeoQueryResult.sources"\n              ng-repeat-end\n              ng-class="{'disabled': source.features.length <= 0}"\n            >\n              <a href="#" ng-click="ctrl.setSelectedSource(source)">\n                <i class="fa-solid fa-fw" ng-class="{'fa-check': ctrl.selectedSource === source}"> </i>\n                <span>{{source.label | translate}} ({{source.features.length}})</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <div ng-show="::ctrl.desktop" class="dropup">\n          <button\n            type="button"\n            class="btn btn-default dropdown-toggle"\n            data-toggle="dropdown"\n            aria-expanded="false"\n          >\n            <span class="fa-solid fa-download"></span>\n          </button>\n\n          <ul class="dropdown-menu dropdown-menu-right" role="menu">\n            <li\n              ng-repeat-start="source in ctrl.ngeoQueryResult.sources"\n              ng-repeat-end\n              ng-class="{'disabled': source.features.length <= 0}"\n            >\n              <a href="#" ng-click="ctrl.downloadCSV(source)">\n                <span>{{'Export' | translate}} {{source.label | translate}}</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="placeholder">\n        <button\n          type="button"\n          class="next btn"\n          ng-disabled="ctrl.isLast()"\n          ng-show="ctrl.getResultLength() > 1"\n          ng-click="ctrl.next()"\n        >\n          <span ng-show="::ctrl.desktop">{{'Next' | translate}}</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>`;Ste.$inject=["$element","$scope","ngeoQueryResult","ngeoMapQuerent","gmfCsvFilename","gmfDisplayQueryWindowOptions"];const vte=t().module("gmfQueryWindowComponent",[_4.name,yte.name,cte.name,"ngAnimate","ngTouch"]);function wte(e,t,n){return n(e,t)}vte.config(["$animateProvider",function(e){e.classNameFilter(/gmf-animatable/)}]),vte.value("gmfDisplayquerywindowTemplateUrl",(e,t)=>{const n=t.gmfDisplayquerywindowTemplateurl;return void 0!==n?n:"gmf/query/windowComponent"}),vte.run(["$templateCache",e=>{e.put("gmf/query/windowComponent",bte)}]),wte.$inject=["$element","$attrs","gmfDisplayquerywindowTemplateUrl"];const xte={controller:"GmfDisplayquerywindowController as ctrl",bindings:{draggableContainment:"<?gmfDisplayquerywindowDraggableContainment",desktop:"=gmfDisplayquerywindowDesktop"},templateUrl:wte};function Ste(e,t,n,r,i,o){this.options=o,this.draggableContainment="",this.desktop=!1,this.collapsed=!1,this.ngeoQueryResult={sources:[],total:0,pending:!1},this.ngeoMapQuerent_=r,this.ngeoCsvDownload_=AU,this.filename_=i,this.selectedSource=null,this.features_=new jY,this.highlightFeatures_=new jY,this.source=null,this.feature=null,this.currentResult=-1,this.isNext=!0,this.animate=0,this.open=!1,this.element_=e,this.isLoading=!1,t.$watchCollection(()=>n,(e,t)=>{this.isLoading=e.pending,this.updateQueryResult_(e),e.total>0?this.show():t!==e&&(this.open=!1,this.clear())})}vte.component("gmfDisplayquerywindow",xte),Ste.prototype.$onInit=function(){void 0!==this.options.collapsed&&(this.collapsed=this.options.collapsed),this.draggableContainment=this.draggableContainment||"document";const e=sz.getFeatureOverlay();e.setFeatures(this.features_),e.setStyle(r9(this.options.featuresStyle));const t=sz.getFeatureOverlay();t.setFeatures(this.highlightFeatures_),t.setStyle(r9(this.options.selectedFeatureStyle));const n=this.element_.find(".gmf-displayquerywindow .windowcontainer");this.desktop&&(n.draggable({handle:".header",containment:this.draggableContainment}),n.resizable({handles:"all",minHeight:240,minWidth:270}))},Ste.prototype.show=function(){this.clear(),this.updateFeatures_()},Ste.prototype.updateFeatures_=function(){this.setCurrentResult_(0,!1),null!==this.source&&(this.collectFeatures_(),this.highlightCurrentFeature_(),this.open=!0)},Ste.prototype.setCurrentResult_=function(e,t){let n=!1;if(e!==this.currentResult){let r,i,o;const s=this.feature,a=this.ngeoQueryResult.sources;for(this.currentResult=e,r=0;r<a.length;r++)if(i=a[r],null===this.selectedSource||this.selectedSource===i){if(o=i.features,!(e>=o.length)){this.source=i,this.feature=i.features[e],n=!0;break}e-=o.length}t&&this.highlightCurrentFeature_(s||void 0)}return n},Ste.prototype.previous=function(){let e=this.currentResult-1;e<0&&(e=this.getResultLength()-1);this.setCurrentResult_(e,!0)&&this.animate_(!1)},Ste.prototype.next=function(){let e=this.currentResult+1;e>this.getResultLength()-1&&(e=0);this.setCurrentResult_(e,!0)&&this.animate_(!0)},Ste.prototype.updateQueryResult_=function(e){this.ngeoQueryResult.total=0,this.ngeoQueryResult.sources.length=0;for(const t of e.sources)t.features=t.features.filter(e=>{if(!e)throw new Error("Missing feature");return!cn(m4(e))}),this.ngeoQueryResult.sources.push(t),this.ngeoQueryResult.total+=t.features.length},Ste.prototype.getResultLength=function(){return null===this.selectedSource?this.ngeoQueryResult.total:this.selectedSource.features.length},Ste.prototype.isFirst=function(){return 0==this.currentResult},Ste.prototype.isLast=function(){return this.currentResult==this.getResultLength()-1},Ste.prototype.getFeatureValues=function(){return this.feature?m4(this.feature):null},Ste.prototype.animate_=function(e){this.isNext=e,this.animate++},Ste.prototype.collectFeatures_=function(){const e=this.ngeoQueryResult.sources;this.features_.clear();for(const t of e){if(null!==this.selectedSource&&this.selectedSource!==t)continue;const e=t.features;for(const t of e)this.features_.push(t)}},Ste.prototype.highlightCurrentFeature_=function(e){if(!this.feature)throw new Error("Missing feature");this.highlightFeatures_.clear(),this.features_.remove(this.feature),this.highlightFeatures_.push(this.feature),void 0!==e&&this.features_.push(e)},Ste.prototype.close=function(){this.open=!1,this.clear(),this.ngeoMapQuerent_.clear()},Ste.prototype.clear=function(){this.feature=null,this.source=null,this.currentResult=-1,this.features_.clear(),this.highlightFeatures_.clear(),this.selectedSource=null},Ste.prototype.setSelectedSource=function(e){null!==e&&e.features.length<=0||(this.clear(),this.selectedSource=e,this.updateFeatures_())},Ste.prototype.downloadCSV=function(e){const t=this.getCSVData_(e),n=this.getCSVHeaderDefinition_(t);n&&this.ngeoCsvDownload_.startDownload(t,n,this.filename_)},Ste.prototype.getCSVData_=function(e){if(e&&!(e.features.length<=0))return e.features.map(e=>m4(e))},Ste.prototype.getCSVHeaderDefinition_=function(e){if(!e)return;const t=new Set;e.forEach(e=>{Object.keys(e).filter(t=>void 0!==e[t]).forEach(e=>t.add(e))});const n=[];return t.forEach(e=>n.push({name:e})),n},vte.controller("GmfDisplayquerywindowController",Ste);const Mte=vte,kte=t().module("gmfQueryExtraModule",[mte.name,Mte.name]);const Tte=t().module("ngeoSearchDirective",[]);Tte.directive("ngeoSearch",function(){return{restrict:"A",link:(e,t,n)=>{const r=n.ngeoSearch,i=e.$eval(r),o=n.ngeoSearchDatasets,s=e.$eval(o);t.typeahead(i,s);const a=n.ngeoSearchListeners,l=function(e){let t;t=void 0===e?{open(){},close(){},cursorchange(){},datasetsempty(){},select(){},autocomplete(){},change(){}}:{open:void 0!==e.open?e.open:()=>{},close:void 0!==e.close?e.close:()=>{},cursorchange:void 0!==e.cursorchange?e.cursorchange:()=>{},datasetsempty:void 0!==e.datasetsempty?e.datasetsempty:()=>{},select:void 0!==e.select?e.select:()=>{},autocomplete:void 0!==e.autocomplete?e.autocomplete:()=>{},change:void 0!==e.change?e.change:()=>{}};return t}(e.$eval(a));t.on("typeahead:open",()=>{e.$apply(()=>{l.open()})}),t.on("typeahead:close",()=>{e.$apply(()=>{l.close()})}),t.on("typeahead:cursorchange",(t,n,r)=>{e.$apply(()=>{l.cursorchange(t,n,r)})}),t.on("typeahead:select",(t,n,r)=>{e.$apply(()=>{l.select(t,n,r)})}),t.on("typeahead:autocomplete",(t,n,r)=>{e.$apply(()=>{l.autocomplete(t,n,r)})}),t.on("typeahead:asyncreceive",(n,r,i)=>{e.$apply(()=>{const e=t.data("tt-typeahead").menu._allDatasetsEmpty();l.datasetsempty(n,i,e)})}),t.on("typeahead:change",n=>{e.$apply(()=>{const e=t.data("tt-typeahead").input.query;l.change(n,e)})}),t.on("typeahead:asyncrequest",()=>{t.parent().addClass("search-loading")}),t.on("typeahead:asynccancel typeahead:asyncreceive",()=>{setTimeout(()=>{t.parent().removeClass("search-loading")},50)})}}});const Ete=Tte;const Lte=t().module("ngeoSearchCreategeojsonbloodhound",[]);Lte.value("ngeoSearchCreateGeoJSONBloodhound",function(e,t,n,r,i,o){const s=new RJ,a={remote:{url:e,prepare:(e,t)=>(t.url&&(t.url=t.url.replace("%QUERY",e)),t),transform(e){let i=e;return void 0!==t&&(i={type:"FeatureCollection",features:i.features.filter(t)}),s.readFeatures(i,{featureProjection:n,dataProjection:r})}},datumTokenizer:e=>[],queryTokenizer:Bloodhound.tokenizers.whitespace},l=Object.assign({},i||{datumTokenizer:e=>[],queryTokenizer:Bloodhound.tokenizers.whitespace}),c=Object.assign({},o||{});return l.remote&&(Object.assign(c,l.remote),delete l.remote),Object.assign(a,l),Object.assign(a.remote,c),new Bloodhound(a)});const Cte=Lte;const Dte=t().module("ngeoCreateLocationSearchBloodhound",[]);Dte.value("ngeoCreateLocationSearchBloodhound",function(e){const t=e||{},n=NA("EPSG:21781"),r=t.targetProjection,i={remote:{url:"https://api3.geo.admin.ch/rest/services/api/SearchServer?type=locations&searchText=%QUERY",prepare:(e,n)=>(n.url&&(n.url=n.url.replace("%QUERY",e),void 0!==t.limit&&(n.url+=`&limit=${t.limit}`),void 0!==t.origins&&(n.url+=`&origins=${t.origins}`)),void 0!==t.prepare?t.prepare(e,n):n),transform:e=>{const t=e;if(Array.isArray(t))throw new Error("Wrong parsedResponse type");const i=t.results.map(e=>{const t=e.attrs,i=new $R([t.y,t.x]);let o=(e=>{const t=/BOX\((.*?) (.*?),(.*?) (.*?)\)/g.exec(e);return null!==t?[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])]:null})(t.geom_st_box2d);void 0!==r&&(i.transform(n,r),null!==o&&(o=XA(o,n,r))),t.geometry=i,t.bbox=o;const s=t.label;t.label_no_html=(e=>e.replace(/<\/?[ib]>/g,""))(s),t.label_simple=(e=>{const t=/<b>(.*?)<\/b>/g.exec(e);return null!==t?t[1]:e})(s);const a=new AP(t);return a.setId(t.featureId),a});return i}},datumTokenizer:e=>[],queryTokenizer:Bloodhound.tokenizers.whitespace},o=Object.assign({},t.options||{datumTokenizer:e=>[],queryTokenizer:Bloodhound.tokenizers.whitespace}),s=Object.assign({},t.remoteOptions||{});return o.remote&&(Object.assign(s,o.remote),delete o.remote),Object.assign(i,o),Object.assign(i.remote,s),new Bloodhound(i)});const Pte=Dte;function $te(e,t){this.$http_=e,this.url_=t;const n=this.url_.split("?");this.baseUrl_=n[0];const r=2==n.length?`?${n[1]}`:"";this.defaultParams_=CU(r)}$te.$inject=["$http","fulltextsearchUrl"],$te.prototype.search=function(e,t){const n=Object.assign({},this.defaultParams_,t);n.query=e;const r=`${this.baseUrl_}?${DU(n)}`;return new Promise((e,t)=>{this.$http_.get(r).then(t=>e(t.data)).catch(t)})};const Ate=t().module("gmfSearchFulltextSearch",[]);Ate.service("gmfSearchFulltextSearch",$te);const Rte=Ate;function Ote(){}Ote.prototype.stringToCoordinates=function(e){const t=/([\d.']+)[\s,]+([\d.']+)/.exec(e);if(t){const e=parseFloat(t[1].replace(/'/g,"")),n=parseFloat(t[2].replace(/'/g,""));if(!isNaN(e)&&!isNaN(n))return[e,n]}return null},Ote.prototype.getProjectionList=function(e){let t,n;const r=[];return e.forEach(e=>{t=e.toUpperCase(),"EPSG:"!=t.substr(0,5)&&(t=`EPSG:${t}`),n=NA(t),null!==n?r.push(n):console.error(`The projection ${t} is not defined in ol.proj.`)}),r},Ote.prototype.tryProjections=function(e,t,n,r){let i=null;return void 0===r&&(r=[n]),r.some(r=>{try{if(i=VA(e,r,n),GP(t,i))return!0}catch(e){}return i=null,!1}),i},Ote.prototype.tryProjectionsWithInversion=function(e,t,n,r){let i=this.tryProjections(e,t,n,r);return null===i&&(i=this.tryProjections(e.reverse(),t,n,r)),i};const Ite=t().module("ngeoAutoProjection",[]);Ite.service("ngeoAutoProjection",Ote);const Fte=Ite;Yte.$inject=["ngeoColorpickerTemplateUrl"];const Nte=t().module("ngeoColorpicker",[]);function Yte(e){return{restrict:"A",scope:{colors:"<?ngeoColorpicker",color:"=?ngeoColorpickerColor"},controller:"NgeoColorpickerController as ctrl",bindToController:!0,templateUrl:e}}Nte.value("ngeoColorpickerTemplateUrl",(e,t)=>{const n=t.ngeoColorpickerTemplateurl;return void 0!==n?n:"ngeo/misc/colorpickerComponent"}),Nte.run(["$templateCache",e=>{e.put("ngeo/misc/colorpickerComponent",'<table class="ngeo-colorpicker-palette">\n  <tr ng-repeat="colors in ::ctrl.colors">\n    <td\n      ng-repeat="color in ::colors"\n      ng-click="ctrl.setColor(color)"\n      ng-class="{\'ngeo-colorpicker-selected\': color == ctrl.color}"\n    >\n      <div ng-style="::{\'background-color\': color}"></div>\n    </td>\n  </tr>\n</table>')}]),Nte.directive("ngeoColorpicker",Yte);const jte=[["#F4EB37","#CDDC39","#62AF44","#009D57","#0BA9CC","#4186F0","#3F5BA9","#7C3592","#A61B4A","#DB4436","#F8971B","#F4B400","#795046"],["#F9F7A6","#E6EEA3","#B7DBAB","#7CCFA9","#93D7E8","#9FC3FF","#A7B5D7","#C6A4CF","#D698AD","#EE9C96","#FAD199","#FFDD5E","#B29189"],["#ffffff","#CCCCCC","#777","#000000"]];function Hte(){this.colors=this.colors||jte,this.color}Hte.prototype.setColor=function(e){this.color=e},Nte.controller("NgeoColorpickerController",Hte);const Ute=Nte,zte="popover",Gte="bs.popover",Wte=`.${Gte}`,qte=i().fn[zte],Bte="bs-popover",Vte=new RegExp(`(^|\\s)${Bte}\\S+`,"g"),Xte={...lw.Default,placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Kte={...lw.DefaultType,content:"(string|element|function)"},Zte={HIDE:`hide${Wte}`,HIDDEN:`hidden${Wte}`,SHOW:`show${Wte}`,SHOWN:`shown${Wte}`,INSERTED:`inserted${Wte}`,CLICK:`click${Wte}`,FOCUSIN:`focusin${Wte}`,FOCUSOUT:`focusout${Wte}`,MOUSEENTER:`mouseenter${Wte}`,MOUSELEAVE:`mouseleave${Wte}`};class Jte extends lw{static get VERSION(){return"4.6.2"}static get Default(){return Xte}static get NAME(){return zte}static get DATA_KEY(){return Gte}static get Event(){return Zte}static get EVENT_KEY(){return Wte}static get DefaultType(){return Kte}isWithContent(){return this.getTitle()||this._getContent()}addAttachmentClass(e){i()(this.getTipElement()).addClass(`${Bte}-${e}`)}getTipElement(){return this.tip=this.tip||i()(this.config.template)[0],this.tip}setContent(){const e=i()(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());let t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")}_getContent(){return this.element.getAttribute("data-content")||this.config.content}_cleanTipClass(){const e=i()(this.getTipElement()),t=e.attr("class").match(Vte);null!==t&&t.length>0&&e.removeClass(t.join(""))}static _jQueryInterface(e){return this.each(function(){let t=i()(this).data(Gte);const n="object"==typeof e?e:null;if((t||!/dispose|hide/.test(e))&&(t||(t=new Jte(this,n),i()(this).data(Gte,t)),"string"==typeof e)){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}i().fn[zte]=Jte._jQueryInterface,i().fn[zte].Constructor=Jte,i().fn[zte].noConflict=()=>(i().fn[zte]=qte,Jte._jQueryInterface);var Qte=n(6932);tne.$inject=["$scope"];const ene=t().module("ngeoPopover",[]);function tne(e){this.shown=!1,this.anchorElm=null,this.bodyElm=null;const t=e=>{if(!this.anchorElm)throw new Error("Missing anchorElm");if(!this.bodyElm)throw new Error("Missing bodyElm");this.anchorElm[0]!==e.target&&this.bodyElm.parent()[0]!==e.target&&0===this.bodyElm.parent().find(e.target).length&&this.shown&&this.dismissPopover()};document.body.addEventListener("click",t),e.$on("$destroy",()=>{document.body.removeEventListener("click",t)})}tne.prototype.dismissPopover=function(){if(!this.anchorElm)throw new Error("Missing anchorElm");this.shown=!1,this.anchorElm.popover("hide")},ene.controller("NgeoPopoverController",tne),ene.directive("ngeoPopover",function(){return{restrict:"A",scope:!0,controller:"NgeoPopoverController as popoverCtrl",link:(e,t,n,r)=>{if(!r)throw new Error("Missing ngeoPopoverCtrl");r.anchorElm.on("inserted.bs.popover",()=>{r.bodyElm.show(),r.shown=!0}),r.anchorElm.popover({container:"body",html:!0,content:r.bodyElm,boundary:"viewport",placement:n.ngeoPopoverPlacement||"right"}),n.ngeoPopoverDismiss&&Qte(n.ngeoPopoverDismiss).on("scroll",()=>{r.dismissPopover()}),e.$on("$destroy",()=>{r.anchorElm.popover("dispose"),r.anchorElm.unbind("inserted.bs.popover"),r.anchorElm.unbind("hidden.bs.popover")})}}}),ene.directive("ngeoPopoverAnchor",function(){return{restrict:"A",require:"^^ngeoPopover",link:(e,t,n,r)=>{if(!r)throw new Error("Missing ngeoPopoverCtrl");r.anchorElm=t}}}),ene.directive("ngeoPopoverContent",function(){return{restrict:"A",require:"^^ngeoPopover",link:(e,t,n,r)=>{if(!r)throw new Error("Missing ngeoPopoverCtrl");r.bodyElm=t,t.hide()}}});const nne=ene;var rne=n(6932);const ine=t().module("gmfSearch",[T8.name,Rte.name,w1.name,Fte.name,Ute.name,nne.name]);function one(e,t,n){return n(e,t)}ine.run(["$templateCache",e=>{e.put("gmf/search",'<div class="gmf-search">\n  <input\n    type="text"\n    ng-attr-placeholder="{{$ctrl.placeholder|translate}}"\n    class="form-control"\n    ng-model="$ctrl.inputValue"\n    ngeo-search="$ctrl.options"\n    ngeo-search-datasets="$ctrl.datasets"\n    ngeo-search-listeners="$ctrl.listeners"\n  />\n  <span\n    class="gmf-clear-button ng-hide"\n    ng-hide="!$ctrl.clearButton || $ctrl.inputValue == \'\' && $ctrl.featureOverlay_.isEmpty()"\n    ng-click="$ctrl.onClearButton()"\n  >\n  </span>\n</div>\n<span ng-if="$ctrl.options.colorChooser">\n  <span ng-show="$ctrl.displayColorPicker" ngeo-popover ngeo-popover-placement="bottom">\n    <button\n      class="gmf-color-button fa-solid fa-droplet"\n      ngeo-popover-anchor\n      data-original-title="{{\'Change the color of the search result\'|translate}}"\n    ></button>\n    <div ngeo-popover-content>\n      <div ngeo-colorpicker ngeo-colorpicker-color="$ctrl.color"></div>\n    </div>\n  </span>\n</span>')}]),one.$inject=["$element","$attrs","gmfSearchTemplateUrl"];const sne={bindings:{inputValue:"=?gmfSearchInputValue",map:"<gmfSearchMap",typeaheadOptions:"<?gmfSearchOptions",additionalListeners:"<gmfSearchListeners",onInitCallback:"<?gmfSearchOnInit",searchActionCallback:"&?gmfSearchAction",optionsName:"<?gmfSearchOptionsName"},controller:"gmfSearchController",templateUrl:one};ine.value("gmfSearchTemplateUrl",function(e,t){const n=t.gmfSearchTemplateurl;return void 0!==n?n:"gmf/search"}),ine.component("gmfSearch",sne);class ane{constructor(e,t,n,r,i,o,s,a,l,c,u,h,d,f,p){if(this.options=d,this.groups=f,this.fulltextsearchUrl=p,this.element_=e,this.scope_=t,this.compile_=n,this.timeout_=r,this.injector_=i,this.gettextCatalog_=o,this.gmfThemes_=l,this.gmfTreeManager_=c,this.fullTextSearch_=u,this.ngeoSearchCreateGeoJSONBloodhound_=a,this.ngeoLocation_=h,this.ngeoAutoProjection_=s,this.map=null,this.onInitCallback=null,this.searchActionCallback,this.coordinatesProjectionsInstances_=[],this.featureOverlay_=sz.getFeatureOverlay(),this.typeaheadOptions={highlight:!0},this.datasets=[],this.inputValue="",this.color="",this.displayColorPicker=!1,this.listeners=null,this.additionalListeners={},this.clearButton=!1!==this.options.clearButton,this.optionsName=null,this.clearButton||this.element_.find("input").on("focus blur",()=>{this.clear()}),this.featureOverlay_.setStyle(this.getSearchStyle_.bind(this)),this.scope_.$watch(()=>this.color,this.setStyleColor.bind(this)),this.ngeoLocation_){const e=this.ngeoLocation_.getParam("search");if(e){let t,n=1;this.ngeoLocation_.getParam("search-select-index")&&(n=parseInt(this.ngeoLocation_.getParam("search-select-index")||"",10)),this.ngeoLocation_.getParam("search-maxzoom")?t=parseInt(this.ngeoLocation_.getParam("search-maxzoom")||"",10):this.ngeoLocation_.getParam("map_zoom")&&(t=parseInt(this.ngeoLocation_.getParam("map_zoom")||"",10)),this.fulltextsearch_(e,n,t)}}}$onInit(){const e=this.optionsName||"gmfSearchOptions",t=this.gettextCatalog_;this.options=this.injector_.get(e),this.placeholder=this.options.placeholder||"Search…",t.getString("Search…"),this.coordinatesProjectionsInstances_=void 0===this.options.coordinatesProjections?[this.map.getView().getProjection()]:this.ngeoAutoProjection_.getProjectionList(this.options.coordinatesProjections),this.typeaheadOptions&&Object.assign(this.options,this.typeaheadOptions),this.initDatasets_(),this.listeners=this.mergeListeners_(this.additionalListeners,{select:this.select_.bind(this),change:this.handleChange_.bind(this),close:this.close_.bind(this),datasetsempty:this.datasetsempty_.bind(this)}),this.onInitCallback&&this.onInitCallback()}mergeListeners_(e,t){return void 0===e?t:{open:e.open,close:void 0===e.close?t.close:function(){t.close(),e.close()},change:e.change,cursorchange:e.cursorchange,datasetsempty:e.datasetsempty,select:void 0===e.select?t.select:function(n,r,i){t.select(n,r,i),e.select(n,r,i)},autocomplete:e.autocomplete}}initDatasets_(){const e=this.gettextCatalog_;for(const t of this.options.datasources||[]){const n=void 0!==t.groupValues?t.groupValues:this.groups,r=t.groupActions||[],i=[];0===n.length?i.push({title:"",filter:this.filterLayername_()}):n.forEach(e=>{i.push({title:e,filter:this.filterLayername_(e)})}),r.forEach(t=>{i.push({title:e.getString(t.title),filter:this.filterAction_(t.action)})}),i.forEach(e=>{this.datasets.push(this.createDataset_({bloodhoundOptions:t.bloodhoundOptions,datasetTitle:e.title,labelKey:t.labelKey,projection:t.projection,typeaheadDatasetOptions:t.typeaheadDatasetOptions,url:t.url||this.fulltextsearchUrl},e.filter))})}this.datasets.push({source:this.createSearchCoordinates_(this.map.getView()),name:"coordinates",display:"label",templates:{header:()=>`<div class="gmf-search-header" translate>${e.getString("Recenter to")}</div>`,suggestion:e=>{let t=`<p class="gmf-search-label">${e.label}</p>`;return t=`<div class="gmf-search-datum">${t}</div>`,t}}})}createDataset_(e,t){const n=this.gettextCatalog_,r=this.scope_,i=this.compile_,o={limit:1/0,source:this.createAndInitBloodhound_(e,t).ttAdapter(),display:t=>t.get(e.labelKey),templates:{header:()=>{if(e.datasetTitle){return`<div class="gmf-search-header">${n.getString(e.datasetTitle)}</div>`}return""},suggestion:t=>{const n=r.$new(!0);n.feature=t;let o=`<p class="gmf-search-label" translate>${t.get(e.labelKey)}</p>`;return o+=`<p class="gmf-search-group" translate>${t.get("layer_name")||e.datasetTitle}</p>`,o=`<div class="gmf-search-datum">${o}</div>`,i(o)(n).html()}}};return e.typeaheadDatasetOptions&&Object.assign(o,e.typeaheadDatasetOptions),o}filterAction_(e){return function(t){const n=t.properties||{};return!!n.actions&&(!n.layer_name&&n.actions.some(t=>t.action===e))}}filterLayername_(e){return function(t){const n=(t.properties||{}).layer_name;return void 0!==n&&(void 0===e||n===e)}}createAndInitBloodhound_(e,t){if(!this.map)throw new Error("Missing map");const n=this.map.getView().getProjection().getCode(),r=this.getBloodhoudRemoteOptions_(),i=this.ngeoSearchCreateGeoJSONBloodhound_(e.url,t,NA(n),NA(e.projection),e.bloodhoundOptions,r);return i.initialize(),i}getBloodhoudRemoteOptions_(){const e=this.gettextCatalog_;return{rateLimitWait:null==this.options.delay?50:this.options.delay,prepare:(t,n)=>{const r=n.url;if(!r)throw new Error("Missing URL");const i=e.getCurrentLanguage();return n.xhrFields={withCredentials:!0},n.url=HW(r,{query:t,lang:i}),n}}}createSearchCoordinates_(e){const t=e.getProjection(),n=t.getExtent();return(e,r)=>{const i=[],o=this.ngeoAutoProjection_.stringToCoordinates(e);if(null===o)return;const s=this.ngeoAutoProjection_.tryProjectionsWithInversion(o,n,t,this.coordinatesProjectionsInstances_.map(e=>e.getCode()));null!==s&&(i.push({label:o.join(" "),position:s,tt_source:"coordinates"}),r(i))}}getSearchStyle_(e,t){if(!e)throw new Error("Missing feature");const n=r9(this.options.styles[e.get("layer_name")]||this.options.styles.default);if(this.color){const e=It(this.color),t=n.getStroke(),r=t.getColor(),i=e.slice();i[3]=r[3],t&&t.setColor(i);const o=n.getFill(),s=o.getColor(),a=e.slice();a[3]=s[3],o&&o.setColor(a);let l=n.getImage();if(l){const e=l,t=e.getStroke();t&&t.setColor(i);const r=e.getFill();r&&r.setColor(a),l=l.clone(),n.setImage(l)}}return n}setStyleColor(e){e&&(this.color=e,sz.getLayer().changed())}setTTDropdownVisibility_(){if(this.clearButton){const e=this.element_.find(".twitter-typeahead .tt-menu");this.inputValue?e.show():e.hide()}}onClearButton(){this.featureOverlay_.clear(),this.clear(),this.displayColorPicker=!1}clear(){const e=this.element_.find(".twitter-typeahead"),t=e.children(".tt-menu"),n=e.children("input");this.inputValue="",rne(n[1]).typeahead("val",""),t.children(".tt-dataset").empty(),this.setTTDropdownVisibility_()}blur(){const e=this.element_.find(".twitter-typeahead").children("input");this.timeout_(()=>{rne(e[1]).blur()})}select_(e,t,n){if(!this.map)throw new Error("Missing map");if("coordinates"===t.tt_source){const e=t,n=new $R(e.position);this.featureOverlay_.clear(),this.featureOverlay_.addFeature(new AP({geometry:n,layer_name:"gmfCoordinatesLayerName",name:"SearchFeature"})),this.map.getView().setCenter(e.position),this.leaveSearch_()}else{if(!(t instanceof AP))throw new Error("Wrong suggestion type");this.selectFromGMF_(e,t,n)}}selectFromGMF_(e,t,n){if(!this.map)throw new Error("Missing map");const r=t.get("actions"),i=t.getGeometry();if(r)for(let e=0,t=r.length;e<t;e++){const t=r[e],n=t.action,o=t.data;if("add_theme"==n)this.gmfThemes_.getThemesObject().then(e=>{const t=h1(e,o);t&&(ea.touchedByUser=!0,this.gmfTreeManager_.addFirstLevelGroups(t.children))});else if("add_group"==n)this.gmfTreeManager_.addGroupByName(o,!0);else if("add_layer"==n){let e;if(this.options.datasources[0].groupActions.forEach(t=>{if("add_layer"===t.action)return e=!0,!0}),e){const e=!!i;this.gmfTreeManager_.addGroupByLayerName(o,!0,e)}}else this.searchActionCallback&&this.searchActionCallback(t)}const o=this.map.getSize();if(i instanceof SR&&o){const e=this.map.getView();this.featureOverlay_.clear(),t.set("name","SearchFeature"),this.featureOverlay_.addFeature(t),this.displayColorPicker=!0;const n="GeometryCollection"===i.getType()?i.getExtent():i;e.fit(n,{size:o,maxZoom:this.options.maxZoom||16})}this.leaveSearch_()}leaveSearch_(){this.clearButton||this.clear(),this.blur()}close_(){this.clearButton||this.setTTDropdownVisibility_()}datasetsempty_(e,t,n){this.clearButton||(this.featureOverlay_.clear(),this.displayColorPicker=!1);const r=this.element_.find(".twitter-typeahead .tt-menu"),i=r.children(".gmf-search-no-results");if(0==i.length){const e=this.gettextCatalog_.getString("No result found"),t=rne(`<div class="gmf-search-no-results" translate>${e}</div>`);r.append(t)}n?(i.show(),r.addClass("gmf-search-no-results")):(r.removeClass("gmf-search-no-results"),i.hide())}fulltextsearch_(e,t,n){t<1&&(t=1),this.fullTextSearch_.search(e,{limit:`${t}`}).then(e=>{if(!this.map)throw new Error("Missing map");if(e&&e.features[t-1]){const r=(new RJ).readFeature(e.features[t-1]);r.set("name","SearchFeature"),this.featureOverlay_.addFeature(r);const i={};void 0!==n&&(i.maxZoom=n,i.size=this.map.getSize()||null);const o=r.getGeometry();if(!o)throw new Error("Missing geometry");this.map.getView().fit(o.getExtent(),i),this.inputValue=r.get("label")}})}handleChange_(e,t){t||this.datasetsempty_(e,t,!1)}}ane.$inject=["$element","$scope","$compile","$timeout","$injector","gettextCatalog","ngeoAutoProjection","ngeoSearchCreateGeoJSONBloodhound","gmfThemes","gmfTreeManager","gmfSearchFulltextSearch","ngeoLocation","gmfSearchOptions","gmfSearchGroups","fulltextsearchUrl"],ine.controller("gmfSearchController",ane);const lne=ine,cne=t().module("ngeoSearchModule",[Ete.name,Cte.name,Pte.name,lne.name,Rte.name]);fne.$inject=["$scope","gmfThemeManager","gmfThemes"];const une=t().module("gmfThemeSelectorComponent",[k7.name,w1.name]);function hne(e,t){return t(e)}une.run(["$templateCache",e=>{e.put("gmf/theme/selectorComponent",'<ul class="gmf-theme-selector">\n  <li\n    ng-repeat="theme in $ctrl.themes"\n    ng-click="$ctrl.setTheme(theme)"\n    ng-class="{\'gmf-theme-selector-active\': $ctrl.gmfThemeManager.getThemeName() == theme.name}"\n  >\n    <img class="gmf-thumb" ng-src="{{::theme.icon}}" />\n    <span class="gmf-text">{{theme.name | translate}}</span>\n  </li>\n</ul>')}]),une.value("gmfThemeSelectorTemplateUrl",e=>{const t=e.gmfThemeSelectorTemplateUrl;return void 0!==t?t:"gmf/theme/selectorComponent"}),hne.$inject=["$attrs","gmfThemeSelectorTemplateUrl"];const dne={bindings:{filter:"<gmfThemeselectorFilter"},controller:"gmfThemeselectorController",templateUrl:hne};function fne(e,t,n){this.gmfThemeManager=t,this.gmfThemes_=n,this.themes=[],this.filter=e=>{},this.listenerKeys_=[],this.listenerKeys_.push(dn(this.gmfThemes_,"change",this.setThemes_,this)),e.$on("$destroy",this.handleDestroy_.bind(this))}une.component("gmfThemeselector",dne),fne.prototype.setThemes_=function(){this.gmfThemes_.getThemesObject().then(e=>{this.themes=this.filter?e.filter(this.filter):e})},fne.prototype.setTheme=function(e,t){ea.touchedByUser=!0,e&&this.gmfThemeManager.addTheme(e,t)},fne.prototype.handleDestroy_=function(){this.listenerKeys_.forEach(pn),this.listenerKeys_.length=0},une.controller("gmfThemeselectorController",fne);const pne=une,mne=t().module("gmfThemeModule",[pne.name,k7.name,w1.name]);function gne(e){return gne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gne(e)}var _ne=/^\s+/,yne=/\s+$/;function bne(e,t){if(t=t||{},(e=e||"")instanceof bne)return e;if(!(this instanceof bne))return new bne(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;"string"==typeof e&&(e=function(e){e=e.replace(_ne,"").replace(yne,"").toLowerCase();var t,n=!1;if(Ine[e])e=Ine[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=Xne.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=Xne.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=Xne.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=Xne.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=Xne.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=Xne.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=Xne.hex8.exec(e))return{r:Hne(t[1]),g:Hne(t[2]),b:Hne(t[3]),a:Wne(t[4]),format:n?"name":"hex8"};if(t=Xne.hex6.exec(e))return{r:Hne(t[1]),g:Hne(t[2]),b:Hne(t[3]),format:n?"name":"hex"};if(t=Xne.hex4.exec(e))return{r:Hne(t[1]+""+t[1]),g:Hne(t[2]+""+t[2]),b:Hne(t[3]+""+t[3]),a:Wne(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=Xne.hex3.exec(e))return{r:Hne(t[1]+""+t[1]),g:Hne(t[2]+""+t[2]),b:Hne(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==gne(e)&&(Kne(e.r)&&Kne(e.g)&&Kne(e.b)?(t=function(e,t,n){return{r:255*Yne(e,255),g:255*Yne(t,255),b:255*Yne(n,255)}}(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):Kne(e.h)&&Kne(e.s)&&Kne(e.v)?(r=zne(e.s),i=zne(e.v),t=function(e,t,n){e=6*Yne(e,360),t=Yne(t,100),n=Yne(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],h=[o,o,a,n,n,s][l];return{r:255*c,g:255*u,b:255*h}}(e.h,r,i),s=!0,a="hsv"):Kne(e.h)&&Kne(e.s)&&Kne(e.l)&&(r=zne(e.s),o=zne(e.l),t=function(e,t,n){var r,i,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=Yne(e,360),t=Yne(t,100),n=Yne(n,100),0===t)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=Nne(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function vne(e,t,n){e=Yne(e,255),t=Yne(t,255),n=Yne(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function wne(e,t,n){e=Yne(e,255),t=Yne(t,255),n=Yne(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function xne(e,t,n,r){var i=[Une(Math.round(e).toString(16)),Une(Math.round(t).toString(16)),Une(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Sne(e,t,n,r){return[Une(Gne(r)),Une(Math.round(e).toString(16)),Une(Math.round(t).toString(16)),Une(Math.round(n).toString(16))].join("")}function Mne(e,t){t=0===t?0:t||10;var n=bne(e).toHsl();return n.s-=t/100,n.s=jne(n.s),bne(n)}function kne(e,t){t=0===t?0:t||10;var n=bne(e).toHsl();return n.s+=t/100,n.s=jne(n.s),bne(n)}function Tne(e){return bne(e).desaturate(100)}function Ene(e,t){t=0===t?0:t||10;var n=bne(e).toHsl();return n.l+=t/100,n.l=jne(n.l),bne(n)}function Lne(e,t){t=0===t?0:t||10;var n=bne(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),bne(n)}function Cne(e,t){t=0===t?0:t||10;var n=bne(e).toHsl();return n.l-=t/100,n.l=jne(n.l),bne(n)}function Dne(e,t){var n=bne(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,bne(n)}function Pne(e){var t=bne(e).toHsl();return t.h=(t.h+180)%360,bne(t)}function $ne(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=bne(e).toHsl(),r=[bne(e)],i=360/t,o=1;o<t;o++)r.push(bne({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Ane(e){var t=bne(e).toHsl(),n=t.h;return[bne(e),bne({h:(n+72)%360,s:t.s,l:t.l}),bne({h:(n+216)%360,s:t.s,l:t.l})]}function Rne(e,t,n){t=t||6,n=n||30;var r=bne(e).toHsl(),i=360/n,o=[bne(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(bne(r));return o}function One(e,t){t=t||6;for(var n=bne(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(bne({h:r,s:i,v:o})),o=(o+a)%1;return s}bne.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=Nne(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=wne(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=wne(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=vne(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=vne(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return xne(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[Une(Math.round(e).toString(16)),Une(Math.round(t).toString(16)),Une(Math.round(n).toString(16)),Une(Gne(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Yne(this._r,255))+"%",g:Math.round(100*Yne(this._g,255))+"%",b:Math.round(100*Yne(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*Yne(this._r,255))+"%, "+Math.round(100*Yne(this._g,255))+"%, "+Math.round(100*Yne(this._b,255))+"%)":"rgba("+Math.round(100*Yne(this._r,255))+"%, "+Math.round(100*Yne(this._g,255))+"%, "+Math.round(100*Yne(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Fne[xne(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+Sne(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=bne(e);n="#"+Sne(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return bne(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Ene,arguments)},brighten:function(){return this._applyModification(Lne,arguments)},darken:function(){return this._applyModification(Cne,arguments)},desaturate:function(){return this._applyModification(Mne,arguments)},saturate:function(){return this._applyModification(kne,arguments)},greyscale:function(){return this._applyModification(Tne,arguments)},spin:function(){return this._applyModification(Dne,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(Rne,arguments)},complement:function(){return this._applyCombination(Pne,arguments)},monochromatic:function(){return this._applyCombination(One,arguments)},splitcomplement:function(){return this._applyCombination(Ane,arguments)},triad:function(){return this._applyCombination($ne,[3])},tetrad:function(){return this._applyCombination($ne,[4])}},bne.fromRatio=function(e,t){if("object"==gne(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:zne(e[r]));e=n}return bne(e,t)},bne.equals=function(e,t){return!(!e||!t)&&bne(e).toRgbString()==bne(t).toRgbString()},bne.random=function(){return bne.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},bne.mix=function(e,t,n){n=0===n?0:n||50;var r=bne(e).toRgb(),i=bne(t).toRgb(),o=n/100;return bne({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},bne.readability=function(e,t){var n=bne(e),r=bne(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},bne.isReadable=function(e,t,n){var r,i,o=bne.readability(e,t);switch(i=!1,r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},bne.mostReadable=function(e,t,n){var r,i,o,s,a=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=bne.readability(e,t[c]))>l&&(l=r,a=bne(t[c]));return bne.isReadable(e,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,bne.mostReadable(e,["#fff","#000"],n))};var Ine=bne.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Fne=bne.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Ine);function Nne(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Yne(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function jne(e){return Math.min(1,Math.max(0,e))}function Hne(e){return parseInt(e,16)}function Une(e){return 1==e.length?"0"+e:""+e}function zne(e){return e<=1&&(e=100*e+"%"),e}function Gne(e){return Math.round(255*parseFloat(e)).toString(16)}function Wne(e){return Hne(e)/255}var qne,Bne,Vne,Xne=(Bne="[\\s|\\(]+("+(qne="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+qne+")[,|\\s]+("+qne+")\\s*\\)?",Vne="[\\s|\\(]+("+qne+")[,|\\s]+("+qne+")[,|\\s]+("+qne+")[,|\\s]+("+qne+")\\s*\\)?",{CSS_UNIT:new RegExp(qne),rgb:new RegExp("rgb"+Bne),rgba:new RegExp("rgba"+Vne),hsl:new RegExp("hsl"+Bne),hsla:new RegExp("hsla"+Vne),hsv:new RegExp("hsv"+Bne),hsva:new RegExp("hsva"+Vne),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Kne(e){return!!Xne.CSS_UNIT.exec(e)}const Zne=t().module("ngeoMessageDisplaywindowComponent",["ngSanitize"]);function Jne(e,t){return t(e)}Zne.run(["$templateCache",e=>{e.put("ngeo/message/displaywindowComponent",'<div class="ngeo-displaywindow" ng-show="$ctrl.open" title="">\n  <div class="windowcontainer" ng-style="$ctrl.style">\n    <button type="button" class="btn fa-xmark close" ng-click="$ctrl.close()"></button>\n\n    <div class="animation-container">\n      <div class="slide-animation">\n        <div class="header ui-draggable-handle" ng-if="$ctrl.title !== null">\n          <p class="title">{{$ctrl.title | translate}}</p>\n        </div>\n        <div class="details content" ng-if="$ctrl.content" ng-bind-html="$ctrl.content"></div>\n        <div class="details iframe" ng-if="$ctrl.url !== null">\n          <iframe\n            frameborder="0"\n            type="text/html"\n            height="100%"\n            width="100%"\n            ng-src="{{ $ctrl.urlTrusted }}"\n          ></iframe>\n        </div>\n        <div class="content-template-container"></div>\n      </div>\n    </div>\n  </div>\n</div>')}]),Zne.value("ngeoMessageDisplaywindowTemplateUrl",e=>{const t=e.ngeoMessageDisplaywindowTemplateUrl;return void 0!==t?t:"ngeo/message/displaywindowComponent"}),Jne.$inject=["$attrs","ngeoMessageDisplaywindowTemplateUrl"];class Qne{constructor(e,t,n,r){this.clearOnClose,this.content,this.contentTemplate,this.contentScope,this.draggable,this.draggableContainment,this.desktop,this.height,this.open,this.resizable,this.title,this.url,this.width,this.element_=e,this.sce_=t,this.scope_=n,this.compile_=r}$onInit(){if(this.clearOnClose=!1!==this.clearOnClose,this.content=this.content||null,this.contentTemplate=this.contentTemplate||null,this.contentScope=this.contentScope||null,this.desktop=!1!==this.desktop,this.draggableContainment=this.draggableContainment||"document",this.open=!0===this.open,this.height=this.height||"240px",this.width=this.width||"240px",this.containingElement=null,"string"==typeof this.draggableContainment)if("document"!==this.draggableContainment){let e=String(this.draggableContainment);e.startsWith(".")&&(e=e.substring(1)),this.containingElement=document.getElementsByClassName(e)[0]}else this.containingElement=document.documentElement;else this.containingElement=this.draggableContainment;this.draggable=void 0!==this.draggable?this.draggable:this.desktop,this.resizable=void 0!==this.resizable?this.resizable:this.desktop,this.draggable&&this.element_.find(".ngeo-displaywindow .windowcontainer").draggable({containment:this.draggableContainment,handle:"div.header"}),this.resizable&&this.element_.find(".ngeo-displaywindow .windowcontainer").resizable({minHeight:240,minWidth:240,resize:(e,t)=>{this.height=`${t.size.height}px`,this.width=`${t.size.width}px`}}),this.contentTemplate&&this.updateContentTemplate_(),this.scope_.$watch(()=>this.contentTemplate,()=>this.updateContentTemplate_())}updateContentTemplate_(){if(!this.contentTemplate)return;const e=this.contentScope||this.scope_,t=this.compile_(this.contentTemplate)(e),n=this.element_.find(".ngeo-displaywindow .windowcontainer .animation-container .content-template-container");n.empty(),n.append(t)}close(){this.open=!1,this.clearOnClose&&this.clear_()}get style(){return this.maxWidth=this.containingElement.clientWidth-20,this.maxHeight=this.containingElement.clientHeight-20,{height:this.height,width:this.width,"max-width":this.maxWidth.toString()+"px","max-height":this.maxHeight.toString()+"px"}}get urlTrusted(){if(this.url)return this.sce_.trustAsResourceUrl(this.url)}clear_(){this.content=null,this.title=null,this.url=null}}Qne.$inject=["$element","$sce","$scope","$compile"];const ere={bindings:{clearOnClose:"<?",content:"=?",contentTemplate:"=?",contentScope:"<?",desktop:"<?",draggable:"<?",draggableContainment:"<?",height:"=?",open:"=?",resizable:"<?",title:"=?",url:"=?",width:"=?"},controller:Qne,templateUrl:Jne};Zne.component("ngeoDisplaywindow",ere);const tre=Zne;ore.$inject=["$parse"],rre.$inject=["$parse"];const nre=t().module("ngeoBtnComponent",[]);function rre(e){return{restrict:"A",controller:"ngeoBtnGroupController",link:(t,n,r,i)=>{if(!i)throw new Error("Missing controller");const o=e(r.ngeoBtnGroupActive).assign;o&&t.$watch(()=>i.buttons_.some(e=>!0===e(t)),e=>{o(t,e)})}}}nre.directive("ngeoBtnGroup",rre);class ire{constructor(e){this.buttons_=[],this.scope_=e}activate(e){this.buttons_.forEach((t,n)=>{n!=e&&t.assign(this.scope_,!1)})}addButton(e){return this.buttons_.push(e),this.buttons_.length-1}}function ore(e){return{require:["?^ngeoBtnGroup","ngModel"],restrict:"A",link:(t,n,r,i)=>{if(!i)throw new Error("Missing ctrls");const o=i[0],s=i[1];let a=-1;const l=e(r.ngModel),c=l.assign;void 0===l(t)&&c(t,!1),null!==o&&(a=o.addButton(l)),n.on("click",()=>{t.$apply(()=>{s.$setViewValue(!s.$viewValue),s.$render()})}),s.$render=function(){s.$viewValue&&null!==o&&o.activate(a),n.toggleClass("active",s.$viewValue)}}}}ire.$inject=["$scope"],nre.controller("ngeoBtnGroupController",ire),nre.directive("ngeoBtn",ore);const sre=nre,are=t().module("ngeoControl",[]);are.directive("ngeoControl",function(){return{restrict:"A",link:(e,t,n)=>{const r=e.$eval(n.ngeoControl);console.assert(r instanceof rZ);const i=e.$eval(n.ngeoControlMap);console.assert(i instanceof RZ),r.setTarget(t[0]),i.addControl(r)}}});const lre=are;ure.$inject=["$window"];const cre=t().module("ngeoFilereader",[]);function ure(e){return{restrict:"A",scope:{fileContent:"=ngeoFilereader",supported:"=?ngeoFilereaderSupported"},link:(t,n)=>{const r="FileReader"in e;if(t.supported=r,!r)return;n.on({change:n=>{const r=new e.FileReader;r.onload=function(e){const n=e.target;t.$apply(()=>{t.fileContent=n.result})};const i=n.target.files;if(!i)throw new Error("Missing files");r.readAsText(i[0])}})}}}cre.directive("ngeoFilereader",ure);const hre=cre;var dre=n(6932);pre.$inject=["$timeout"];const fre=t().module("ngeoSortable",[]);function pre(e){return{restrict:"A",link:(n,r,i)=>{const o=n.$eval(i.ngeoSortable)||[];console.assert(Array.isArray(o)),n.$watchCollection(()=>o,()=>{o.length&&e(c,0)});const s=function(e){let t;const n="ngeo-sortable-handle";void 0===e?t={handleClassName:n}:(void 0===e.handleClassName&&(e.handleClassName=n),t=e);return t}(n.$eval(i.ngeoSortableOptions)),a=n.$eval(i.ngeoSortableCallback),l=n.$eval(i.ngeoSortableCallbackCtx);function c(){const e=r.children();for(let n=0;n<e.length;++n)t().element(e[n]).data("idx",n);const i=dre(r);i.data("ui-sortable")&&(i.off("sortupdate"),i.sortable("destroy"));const c={axis:"y",classes:{"ui-sortable-helper":s.draggerClassName}};s.handleClassName&&(c.handle=`.${s.handleClassName}`),s.placeholderClassName&&(c.placeholder=s.placeholderClassName,c.forcePlaceholderSize=!0),i.sortable(c),i.on("sortupdate",(e,t)=>{const i=dre(t.item[0]).data("idx"),s=t.item.index();dre(t.item[0]).data("idx",s),n.$apply(()=>{o.splice(s,0,o.splice(i,1)[0])}),a instanceof Function&&a.apply(l,[r,o])})}}}}fre.directive("ngeoSortable",pre);const mre=fre;function gre(e){this.groups_={},this.scope_=e}gre.$inject=["$rootScope"],gre.prototype.registerTool=function(e,t,n){this.groups_[e]||(this.groups_[e]=[]);const r=this.scope_.$watch(t.getActive,(n,r)=>{n!==r&&(n?this.deactivateTools_(e,t):this.activateDefault_(e))});this.groups_[e].push({tool:t,defaultTool:n||!1,unlisten:r})},gre.prototype.unregisterTool=function(e,t){const n=this.groups_[e];if(n)for(let e=0;e<n.length;e++)if(n[e].tool==t){n[e].unlisten(),n.splice(e,1);break}},gre.prototype.unregisterGroup=function(e){const t=this.groups_[e];if(t){for(const e of t)e.unlisten();delete this.groups_[e]}},gre.prototype.activateTool=function(e){e.setActive(!0)},gre.prototype.deactivateTool=function(e){e.setActive(!1)},gre.prototype.deactivateTools_=function(e,t){const n=this.groups_[e];for(const e of n)t!=e.tool&&e.tool.setActive(!1)},gre.prototype.activateDefault_=function(e){const t=this.groups_[e];let n=null,r=!1;for(const e of t)r=r||e.tool.getActive(),e.defaultTool&&(n=e.tool);r||null===n||n.setActive(!0)};const _re=t().module("ngeoToolActivateMgr",[]);_re.service("ngeoToolActivateMgr",gre);const yre=_re,bre=t().module("ngeoMiscExtraModule",[Fte.name,sre.name,lre.name,t9.name,V8.name,_4.name,Y6.name,hre.name,V1.name,mre.name,v4.name,yre.name,S4.name]);function vre(e,t){this.getActive=function(){return e[t]},this.setActive=function(n){e[t]=n}}const wre="click",xre="drawbox",Sre="drawpolygon";class Mre{constructor(e){this.keyActionAdd_="a",this.keyActionRemove_="x",this.keysAction_=[this.keyActionAdd_,this.keyActionRemove_],this.action_=ste,this.pending_=!1,this.wasPending_=!1,this.previousAction_=null,this.mode_=wre,this.previousMode_=null,this.activeActionKey_=null,this.rootScope_=e,dn(document,"keydown",this.handleKeyDown_,this),dn(document,"keyup",this.handleKeyUp_,this),setInterval(this.checkPageFocus_.bind(this),200)}get action(){return this.action_}set action(e){this.action_=e}get mode(){return this.mode_}set mode(e){this.mode_=e}get pending(){return this.pending_}set pending(e){this.pending_=e,!e&&this.wasPending_&&this.previousMode_&&(this.wasPending_=!1,this.mode=this.previousMode_,this.previousMode_=null)}handleKeyDown_(e){if(!(e instanceof KeyboardEvent))return;if(this.pending)return;const t=e.key;let n=!1;if(this.keysAction_.includes(t)&&!this.previousAction_){let e;switch(this.previousAction_=this.action,t){case this.keyActionAdd_:e=ite;break;case this.keyActionRemove_:e=ote}e&&(this.action=e,this.activeActionKey_=t,n=!0)}else MU(e)&&!this.previousMode_?(this.previousMode_=this.mode,this.mode=xre,n=!0):MU(e)||this.keysAction_.includes(t)||!this.previousMode_||(n=this.reset_());n&&this.rootScope_.$apply()}handleKeyUp_(e){if(!(e instanceof KeyboardEvent))return;let t=!1;MU(e)&&this.previousMode_&&(t=this.reset_());const n=e.key;this.activeActionKey_===n&&this.previousAction_&&(this.action=this.previousAction_,this.previousAction_=null,this.activeActionKey_=null,t=!0),t&&this.rootScope_.$apply()}checkPageFocus_(){!document.hasFocus()&&this.previousMode_&&this.reset_()&&this.rootScope_.$apply()}reset_(){return this.pending?(this.wasPending_=!0,!1):(this.mode=this.previousMode_,this.previousMode_=null,!0)}}Mre.$inject=["$rootScope"];const kre=t().module("ngeoQueryModeSelector",[]);kre.service("ngeoQueryModeSelector",Mre);const Tre=kre,Ere=t().module("ngeoQuery",[Tre.name,cte.name]);class Lre{constructor(e,t,n,r){this.active,this.autoclear,this.map,this.ngeoMapQuerent_=e,this.ngeoQueryModeSelector_=t,this.ngeoQueryOptions_=r,this.scope_=n,this.vectorSource_=new _j({wrapX:!1}),this.vectorLayer_=new MY({className:"canvas2d",source:this.vectorSource_}),this.drawBoxInteraction_=new rz({condition:Mj,geometryFunction:function(e,t,n){const r=jP([e[0],e[e.length-1]].map(function(e){return QA(e,n)})),i=[[s$(r),a$(r),m$(r),p$(r),s$(r)]];t?t.setCoordinates(i):t=new KN(i);const o=ZA();return o&&t.transform(n,o),t},source:this.vectorSource_,stopClick:!0,type:"Circle"}),this.drawPolygonInteraction_=new rz({condition:Mj,source:this.vectorSource_,stopClick:!0,type:"Polygon"}),this.listenerKeys_=[],this.mode_=null,n.$watch(()=>this.active,this.handleActiveChange_.bind(this)),n.$watch(()=>{let e=null;return this.active&&(e=this.ngeoQueryModeSelector_.mode),e},this.enableMode_.bind(this))}$onInit(){this.autoclear=!!this.autoclear}$onDestroy(){this.enableMode_(null)}enableMode_(e){if(this.disableMode_(),e){switch(e){case wre:this.listenerKeys_.push(dn(this.map,"singleclick",this.handleMapClick_,this)),this.ngeoQueryOptions_.cursorHover&&this.listenerKeys_.push(dn(this.map,"pointermove",this.handleMapPointerMove_,this));break;case xre:this.map.addLayer(this.vectorLayer_),this.map.addInteraction(this.drawBoxInteraction_),this.listenerKeys_.push(dn(this.drawBoxInteraction_,"drawend",this.handleDrawBoxInteractionDrawEnd_,this));break;case Sre:this.map.addLayer(this.vectorLayer_),this.map.addInteraction(this.drawPolygonInteraction_),this.listenerKeys_.push(dn(this.drawPolygonInteraction_,"drawend",this.handleDrawPolygonInteractionDrawEnd_,this))}this.mode_=e}}disableMode_(){if(this.mode_){switch(this.mode_){case wre:this.ngeoQueryOptions_.cursorHover&&(this.map.getTargetElement().style.cursor="");break;case xre:this.vectorSource_.clear(),this.map.removeLayer(this.vectorLayer_),this.map.removeInteraction(this.drawBoxInteraction_);break;case Sre:this.vectorSource_.clear(),this.map.removeLayer(this.vectorLayer_),this.map.removeInteraction(this.drawPolygonInteraction_)}!function(e){for(const t of e)pn(t);e.length=0}(this.listenerKeys_),this.mode_=null}}getLimitOption_(){return this.ngeoQueryOptions_&&this.ngeoQueryOptions_.limit?this.ngeoQueryOptions_.limit:void 0}handleActiveChange_(e){e||this.autoclear&&this.ngeoMapQuerent_.clear()}handleDrawBoxInteractionDrawEnd_(e){const t=e.feature,n=this.ngeoQueryModeSelector_.action,r=t.getGeometry().getExtent(),i=this.getLimitOption_(),o=this.map;this.ngeoQueryModeSelector_.pending=!0,this.ngeoMapQuerent_.issue({action:n,extent:r,limit:i,map:o}).then(()=>{}).catch(()=>{}).then(()=>{this.vectorSource_.clear(),this.ngeoQueryModeSelector_.pending=!1})}handleDrawPolygonInteractionDrawEnd_(e){const t=e.feature,n=this.ngeoQueryModeSelector_.action,r=t.getGeometry(),i=this.getLimitOption_(),o=this.map;this.ngeoQueryModeSelector_.pending=!0,this.ngeoMapQuerent_.issue({action:n,geometry:r,limit:i,map:o}).then(()=>{}).catch(()=>{}).then(()=>{this.vectorSource_.clear(),this.ngeoQueryModeSelector_.pending=!1})}handleMapClick_(e){if(!e.originalEvent)return;const t=this.ngeoQueryModeSelector_.action,n=e.coordinate,r=this.map;this.ngeoQueryModeSelector_.pending=!0,this.ngeoMapQuerent_.issue({action:t,coordinate:n,map:r}).then(()=>{}).catch(()=>{}).then(()=>{this.ngeoQueryModeSelector_.pending=!1})}handleMapPointerMove_(e){if(!e.originalEvent||e.dragging)return!1;let t=!1;this.map.getAllLayers().forEach(n=>{n.get("visible")&&n.get("querySourceIds")&&(n instanceof IW||n instanceof wU)&&n.getData(e.pixel)&&(t=!0)}),this.map.getTargetElement().style.cursor=t?"pointer":""}}Lre.$inject=["ngeoMapQuerent","ngeoQueryModeSelector","$scope","ngeoQueryOptions"],Ere.component("ngeoQuery",{bindings:{active:"=",autoclear:"=?",map:"<"},controller:Lre});const Cre=Ere;function Dre(e,t,n,r,i){const o=r;this.url_=t,this.maxFeatures_=void 0!==o.maxFeatures?o.maxFeatures:50,this._gmfFitOptions=i,this.wfsTypes_={},console.assert(Array.isArray(o.wfsTypes),"wfsTypes is not correctly set"),o.wfsTypes.forEach(e=>{this.wfsTypes_[e.featureType]=e}),this.defaultFeatureNS_=o.defaultFeatureNS,this.defaultFeaturePrefix_=o.defaultFeaturePrefix,this.pointRecenterZoom_=o.pointRecenterZoom,this.$http_=e,this.result_=n}Dre.$inject=["$http","ngeoPermalinkOgcserverUrl","ngeoQueryResult","ngeoWfsPermalinkOptions","gmfFitOptions"],Dre.prototype.clear=function(){this.clearResult_()},Dre.prototype.issue=function(e,t,n=void 0){console.assert(this.url_,"url is not set. to use the wfs permalink service, set the value `ngeoWfsPermalinkOptions`"),this.clearResult_();const r=e.wfsType;if(!this.wfsTypes_.hasOwnProperty(r))return;const i=this.wfsTypes_[r],o=this.createFilters_(e.filterGroups);null!==o&&this.issueRequest_(i,o,t,e.showFeatures,n)},Dre.prototype.issueRequest_=function(e,t,n,r,i=void 0){const o=new I0,s=o.writeGetFeature({srsName:n.getView().getProjection().getCode(),featureNS:void 0!==e.featureNS?e.featureNS:this.defaultFeatureNS_,featurePrefix:void 0!==e.featurePrefix?e.featurePrefix:this.defaultFeaturePrefix_,featureTypes:[e.featureType],outputFormat:"GML3",filter:t,maxFeatures:this.maxFeatures_}),a=(new XMLSerializer).serializeToString(s);this.$http_.post(this.url_,a,{headers:{"Content-Type":"text/xml; charset=UTF-8"}}).then(t=>{const s=o.readFeatures(t.data);if(0!=s.length&&(setTimeout(()=>{const e=n.getSize();if(void 0!==e){const t={size:e,maxZoom:void 0===i?this.pointRecenterZoom_:i,padding:[50,50,50,50]};Object.apply(t,this._gmfFitOptions),n.getView().fit(this.getExtent_(s),t)}}),r)){const t={features:s,id:e.featureType,identifierAttributeField:e.label,label:e.featureType,pending:!1};this.result_.sources.push(t),this.result_.total=s.length}})},Dre.prototype.getExtent_=function(e){return e.reduce((e,t)=>{if(t instanceof AP){const n=t.getGeometry();return n?e$(e,n.getExtent()):e}},[1/0,1/0,-1/0,-1/0])},Dre.prototype.createFilters_=function(e){if(0==e.length)return null;const t=e.map(function(e){const t=e.filters.map(e=>{const t=e.condition;return Array.isArray(t)?Dre.or_(t.map(t=>GQ(e.property,t))):GQ(e.property,t)});return Dre.and_(t)});return t?Dre.or_(t):null},Dre.and_=function(e){return Dre.joinFilters_(e,HQ)},Dre.or_=function(e){return Dre.joinFilters_(e,UQ)},Dre.joinFilters_=function(e,t){return e.reduce((e,n)=>null===e?n:(console.assert(null!==n),t(e,n)))},Dre.prototype.clearResult_=function(){this.result_.total=0,this.result_.sources.forEach(e=>{e.features.length=0})};const Pre=t().module("ngeoWfsPermalink",[]);Pre.service("ngeoWfsPermalink",Dre);const $re=Pre;Ore.$inject=["$scope","$element","gettextCatalog","ngeoGeolocationOptions"];const Are=t().module("ngeoGeolocation",[]),Rre="geolocation-error";function Ore(e,t,n,r){this.options=r,t.on("click",this.toggleTracking.bind(this)),this.$scope_=e,this.gettextCatalog_=n,this.map,this.loading}Are.directive("ngeoGeolocation",function(){return{restrict:"A",scope:{map:"<ngeoGeolocationMap",loading:"=ngeoGeolocationLoading"},controller:"ngeoGeolocationController",bindToController:!0}}),Ore.prototype.$onInit=function(){if(!(this.map instanceof RZ))throw new Error("Wrong map type");this.featureOverlay_=sz.getFeatureOverlay(),this.geolocation_=new BZ({projection:this.map.getView().getProjection(),trackingOptions:{enableHighAccuracy:!0}}),this.options.autoRotate&&this.autoRotateListener();const e=this.gettextCatalog_;this.geolocation_.on("error",t=>{let n;switch(this.untrack_(),t.code){case 1:n=e.getString("User denied the request for Geolocation.");break;case 2:n=e.getString("Location information is unavailable.");break;case 3:n=e.getString("The request to get user location timed out.");break;default:n=e.getString("Geolocation: An unknown error occurred.")}Qs.error(n),this.$scope_.$emit(Rre,t)}),this.positionFeature_=new AP({name:"GeolocationPositionFeature"}),this.positionFeature_.setStyle(r9(this.options.positionFeatureStyle)),this.accuracyFeature_=new AP({name:"GeolocationAccuracyFeature"}),this.accuracyFeature_.setStyle(r9(this.options.accuracyFeatureStyle)),this.follow_=!1,this.viewChangedByMe_=!1,dn(this.geolocation_,"change:accuracyGeometry",e=>{const t=this.geolocation_.getAccuracyGeometry();if(!t)throw new Error("Missing geometry");this.accuracyFeature_.setGeometry(t),this.setPosition_()}),dn(this.geolocation_,"change:position",()=>{this.setPosition_()});const t=this.map.getView();dn(t,"change:center",this.handleViewChange_,this),dn(t,"change:resolution",this.handleViewChange_,this),this.options.atLoadingTime&&void 0!==this.loading&&this.$scope_.$watch(()=>this.loading,e=>{!1===e&&this.toggleTracking()})},Ore.prototype.toggleTracking=function(){if(this.geolocation_.getTracking()){const e=this.geolocation_.getPosition();if(void 0===e)return this.untrack_(),void this.$scope_.$emit(Rre,null);const t=this.map.getView(),n=t.getCenter();if(!n)throw new Error("Missing center");(Math.abs(e[0]-n[0])+Math.abs(e[1]-n[1]))/t.getResolution()<2?this.untrack_():(t.setCenter(e),this.untrack_(),this.track_())}else this.track_()},Ore.prototype.track_=function(){this.featureOverlay_.addFeature(this.positionFeature_),this.featureOverlay_.addFeature(this.accuracyFeature_),this.follow_=!0,this.geolocation_.setTracking(!0)},Ore.prototype.untrack_=function(){this.featureOverlay_.clear(),this.follow_=!1,this.geolocation_.setTracking(!1),Qs.clear()},Ore.prototype.setPosition_=function(){const e=this.map.getView(),t=this.geolocation_.getPosition();if(void 0===t)throw new Error("Missing position");const n=new $R(t);this.positionFeature_.setGeometry(n);const r=this.accuracyFeature_.getGeometry();if(this.follow_){if(this.viewChangedByMe_=!0,this.options.zoom||0===this.options.zoom)e.setCenter(t),e.setZoom(this.options.zoom);else if(r instanceof KN){const t=this.map.getSize();if(void 0===t)throw new Error("Missing size");e.fit(r,{size:t})}this.viewChangedByMe_=!1}},Ore.prototype.handleViewChange_=function(e){this.follow_&&!this.viewChangedByMe_&&(this.follow_=!1)},Ore.prototype.autoRotateListener=function(){let e=0;window.hasOwnProperty("ondeviceorientationabsolute")?window.addEventListener("deviceorientationabsolute",t=>{if(!(t instanceof DeviceOrientationEvent))throw new Error("Wrong event type");null!==t.alpha&&(e=this.handleRotate_(t.alpha,e))},!0):window.hasOwnProperty("ondeviceorientation")?window.addEventListener("deviceorientation",t=>{if(t.webkitCompassHeading)e=this.handleRotate_(-t.webkitCompassHeading,e);else{if(!t.alpha)throw new Error("Missing evt.alpha");e=this.handleRotate_(t.alpha-270,e)}},!0):console.error("Orientation is not supported on this device")},Ore.prototype.handleRotate_=function(e,t){if(this.geolocation_.getTracking()&&Math.abs(e-t)>.2){const n=(t=e)*Math.PI/180;this.map.getView().animate({rotation:n,duration:350,easing:ON})}return t},Are.controller("ngeoGeolocationController",Ore);const Ire=Are;let Fre=null;function Nre(e){Fre=e;const t=Object.keys(e.defs),n=t.length;let r,i;for(r=0;r<n;++r){const n=t[r];if(!Z$(n)){const t=e.defs(n);let r=t.units;r||"longlat"!==t.projName||(r="degrees"),FA(new I$({code:n,axisOrientation:t.axis,metersPerUnit:t.to_meter,units:r}))}}for(r=0;r<n;++r){const o=t[r],s=Z$(o);for(i=0;i<n;++i){const n=t[i],r=Z$(n);if(!eA(o,n))if(e.defs[o]===e.defs[n])jA([s,r]);else{const t=e(o,n);zA(s,r,rR(s,r,t.forward),rR(r,s,t.inverse))}}}}var Yre=6378137,jre=.0066943799901413165,Hre=484813681109536e-20,Ure=Math.PI/2,zre=1e-10,Gre=.017453292519943295,Wre=57.29577951308232,qre=Math.PI/4,Bre=2*Math.PI,Vre=3.14159265359,Xre={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const Kre=Xre,Zre={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var Jre=/[\s_\-\/\(\)]/g;function Qre(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),i=t.toLowerCase().replace(Jre,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(Jre,"")===i)return e[n]}function eie(e){var t,n,r,i={},o=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),s={proj:"projName",datum:"datumCode",rf:function(e){i.rf=parseFloat(e)},lat_0:function(e){i.lat0=e*Gre},lat_1:function(e){i.lat1=e*Gre},lat_2:function(e){i.lat2=e*Gre},lat_ts:function(e){i.lat_ts=e*Gre},lon_0:function(e){i.long0=e*Gre},lon_1:function(e){i.long1=e*Gre},lon_2:function(e){i.long2=e*Gre},alpha:function(e){i.alpha=parseFloat(e)*Gre},gamma:function(e){i.rectified_grid_angle=parseFloat(e)*Gre},lonc:function(e){i.longc=e*Gre},x_0:function(e){i.x0=parseFloat(e)},y_0:function(e){i.y0=parseFloat(e)},k_0:function(e){i.k0=parseFloat(e)},k:function(e){i.k0=parseFloat(e)},a:function(e){i.a=parseFloat(e)},b:function(e){i.b=parseFloat(e)},r:function(e){i.a=i.b=parseFloat(e)},r_a:function(){i.R_A=!0},zone:function(e){i.zone=parseInt(e,10)},south:function(){i.utmSouth=!0},towgs84:function(e){i.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){i.to_meter=parseFloat(e)},units:function(e){i.units=e;var t=Qre(Zre,e);t&&(i.to_meter=t.to_meter)},from_greenwich:function(e){i.from_greenwich=e*Gre},pm:function(e){var t=Qre(Kre,e);i.from_greenwich=(t||parseFloat(e))*Gre},nadgrids:function(e){"@null"===e?i.datumCode="none":i.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(i.axis=e)},approx:function(){i.approx=!0},over:function(){i.over=!0}};for(t in o)n=o[t],t in s?"function"==typeof(r=s[t])?r(n):i[r]=n:i[t]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i.projStr=e,i}const tie=class{static getId(e){const t=e.find(e=>Array.isArray(e)&&"ID"===e[0]);return t&&t.length>=3?{authority:t[1],code:parseInt(t[2],10)}:null}static convertUnit(e,t="unit"){if(!e||e.length<3)return{type:t,name:"unknown",conversion_factor:null};const n=e[1],r=parseFloat(e[2])||null,i=e.find(e=>Array.isArray(e)&&"ID"===e[0]);return{type:t,name:n,conversion_factor:r,id:i?{authority:i[1],code:parseInt(i[2],10)}:null}}static convertAxis(e){const t=e[1]||"Unknown";let n;const r=t.match(/^\((.)\)$/);if(r){const e=r[1].toUpperCase();if("E"===e)n="east";else if("N"===e)n="north";else{if("U"!==e)throw new Error(`Unknown axis abbreviation: ${e}`);n="up"}}else n=e[2]?e[2].toLowerCase():"unknown";const i=e.find(e=>Array.isArray(e)&&"ORDER"===e[0]),o=i?parseInt(i[1],10):null,s=e.find(e=>Array.isArray(e)&&("LENGTHUNIT"===e[0]||"ANGLEUNIT"===e[0]||"SCALEUNIT"===e[0]));return{name:t,direction:n,unit:this.convertUnit(s),order:o}}static extractAxes(e){return e.filter(e=>Array.isArray(e)&&"AXIS"===e[0]).map(e=>this.convertAxis(e)).sort((e,t)=>(e.order||0)-(t.order||0))}static convert(e,t={}){switch(e[0]){case"PROJCRS":t.type="ProjectedCRS",t.name=e[1],t.base_crs=e.find(e=>Array.isArray(e)&&"BASEGEOGCRS"===e[0])?this.convert(e.find(e=>Array.isArray(e)&&"BASEGEOGCRS"===e[0])):null,t.conversion=e.find(e=>Array.isArray(e)&&"CONVERSION"===e[0])?this.convert(e.find(e=>Array.isArray(e)&&"CONVERSION"===e[0])):null;const n=e.find(e=>Array.isArray(e)&&"CS"===e[0]);n&&(t.coordinate_system={type:n[1],axis:this.extractAxes(e)});const r=e.find(e=>Array.isArray(e)&&"LENGTHUNIT"===e[0]);if(r){const e=this.convertUnit(r);t.coordinate_system.unit=e}t.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":t.type="GeographicCRS",t.name=e[1];const i=e.find(e=>Array.isArray(e)&&("DATUM"===e[0]||"ENSEMBLE"===e[0]));if(i){const n=this.convert(i);"ENSEMBLE"===i[0]?t.datum_ensemble=n:t.datum=n;const r=e.find(e=>Array.isArray(e)&&"PRIMEM"===e[0]);r&&"Greenwich"!==r[1]&&(n.prime_meridian={name:r[1],longitude:parseFloat(r[2])})}t.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},t.id=this.getId(e);break;case"DATUM":t.type="GeodeticReferenceFrame",t.name=e[1],t.ellipsoid=e.find(e=>Array.isArray(e)&&"ELLIPSOID"===e[0])?this.convert(e.find(e=>Array.isArray(e)&&"ELLIPSOID"===e[0])):null;break;case"ENSEMBLE":t.type="DatumEnsemble",t.name=e[1],t.members=e.filter(e=>Array.isArray(e)&&"MEMBER"===e[0]).map(e=>({type:"DatumEnsembleMember",name:e[1],id:this.getId(e)}));const o=e.find(e=>Array.isArray(e)&&"ENSEMBLEACCURACY"===e[0]);o&&(t.accuracy=parseFloat(o[1]));const s=e.find(e=>Array.isArray(e)&&"ELLIPSOID"===e[0]);s&&(t.ellipsoid=this.convert(s)),t.id=this.getId(e);break;case"ELLIPSOID":t.type="Ellipsoid",t.name=e[1],t.semi_major_axis=parseFloat(e[2]),t.inverse_flattening=parseFloat(e[3]);e.find(e=>Array.isArray(e)&&"LENGTHUNIT"===e[0])&&this.convert(e.find(e=>Array.isArray(e)&&"LENGTHUNIT"===e[0]),t);break;case"CONVERSION":t.type="Conversion",t.name=e[1],t.method=e.find(e=>Array.isArray(e)&&"METHOD"===e[0])?this.convert(e.find(e=>Array.isArray(e)&&"METHOD"===e[0])):null,t.parameters=e.filter(e=>Array.isArray(e)&&"PARAMETER"===e[0]).map(e=>this.convert(e));break;case"METHOD":t.type="Method",t.name=e[1],t.id=this.getId(e);break;case"PARAMETER":t.type="Parameter",t.name=e[1],t.value=parseFloat(e[2]),t.unit=this.convertUnit(e.find(e=>Array.isArray(e)&&("LENGTHUNIT"===e[0]||"ANGLEUNIT"===e[0]||"SCALEUNIT"===e[0]))),t.id=this.getId(e);break;case"BOUNDCRS":t.type="BoundCRS";const a=e.find(e=>Array.isArray(e)&&"SOURCECRS"===e[0]);if(a){const e=a.find(e=>Array.isArray(e));t.source_crs=e?this.convert(e):null}const l=e.find(e=>Array.isArray(e)&&"TARGETCRS"===e[0]);if(l){const e=l.find(e=>Array.isArray(e));t.target_crs=e?this.convert(e):null}const c=e.find(e=>Array.isArray(e)&&"ABRIDGEDTRANSFORMATION"===e[0]);t.transformation=c?this.convert(c):null;break;case"ABRIDGEDTRANSFORMATION":if(t.type="Transformation",t.name=e[1],t.method=e.find(e=>Array.isArray(e)&&"METHOD"===e[0])?this.convert(e.find(e=>Array.isArray(e)&&"METHOD"===e[0])):null,t.parameters=e.filter(e=>Array.isArray(e)&&("PARAMETER"===e[0]||"PARAMETERFILE"===e[0])).map(e=>"PARAMETER"===e[0]?this.convert(e):"PARAMETERFILE"===e[0]?{name:e[1],value:e[2],id:{authority:"EPSG",code:8656}}:void 0),7===t.parameters.length){const e=t.parameters[6];"Scale difference"===e.name&&(e.value=Math.round(1e12*(e.value-1))/1e6)}t.id=this.getId(e);break;case"AXIS":t.coordinate_system||(t.coordinate_system={type:"unspecified",axis:[]}),t.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const u=this.convertUnit(e,"LinearUnit");t.coordinate_system&&t.coordinate_system.axis&&t.coordinate_system.axis.forEach(e=>{e.unit||(e.unit=u)}),u.conversion_factor&&1!==u.conversion_factor&&t.semi_major_axis&&(t.semi_major_axis={value:t.semi_major_axis,unit:u});break;default:t.keyword=e[0]}return t}};const nie=class extends tie{static convert(e,t={}){return super.convert(e,t),t.coordinate_system&&"Cartesian"===t.coordinate_system.subtype&&delete t.coordinate_system,t.usage&&delete t.usage,t}};const rie=class extends tie{static convert(e,t={}){super.convert(e,t);const n=e.find(e=>Array.isArray(e)&&"CS"===e[0]);n&&(t.coordinate_system={subtype:n[1],axis:this.extractAxes(e)});const r=e.find(e=>Array.isArray(e)&&"USAGE"===e[0]);if(r){const e=r.find(e=>Array.isArray(e)&&"SCOPE"===e[0]),n=r.find(e=>Array.isArray(e)&&"AREA"===e[0]),i=r.find(e=>Array.isArray(e)&&"BBOX"===e[0]);t.usage={},e&&(t.usage.scope=e[1]),n&&(t.usage.area=n[1]),i&&(t.usage.bbox=i.slice(1))}return t}};function iie(e){const t=function(e){return e.find(e=>Array.isArray(e)&&"USAGE"===e[0])?"2019":(e.find(e=>Array.isArray(e)&&"CS"===e[0])||"BOUNDCRS"===e[0]||"PROJCRS"===e[0]||e[0],"2015")}(e);return("2019"===t?rie:nie).convert(e)}const oie=function(e){var t=new die(e);return t.output()};var sie=1,aie=/\s/,lie=/[A-Za-z]/,cie=/[A-Za-z84_]/,uie=/[,\]]/,hie=/[\d\.E\-\+]/;function die(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=sie}function fie(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce(function(e,t){return pie(t,e),e},r);t&&(e[t]=i)}function pie(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void pie(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var r;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&pie(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&pie(e[3],t[n]));case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":return e[0]=["name",e[0]],void fie(t,n,e);case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":return e[0]=["name",e[0]],fie(t,n,e),void(t[n].type=n);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return pie(e,t[n]);return fie(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}die.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;aie.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case sie:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},die.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(uie.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},die.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=sie)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=sie,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},die.prototype.number=function(e){if(!hie.test(e)){if(uie.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},die.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},die.prototype.keyword=function(e){if(cie.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=sie)}if(!uie.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},die.prototype.neutral=function(e){if(lie.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(hie.test(e))return this.word=e,void(this.state=3);if(!uie.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},die.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function mie(e){return.017453292519943295*e}function gie(e){const t=(e.projName||"").toLowerCase().replace(/_/g," ");e.long0||!e.longc||"albers conic equal area"!==t&&"lambert azimuthal equal area"!==t||(e.long0=e.longc),e.lat_ts||!e.lat1||"stereographic south pole"!==t&&"polar stereographic (variant b)"!==t?e.lat_ts||!e.lat0||"polar stereographic"!==t&&"polar stereographic (variant a)"!==t||(e.lat_ts=e.lat0,e.lat0=mie(e.lat0>0?90:-90),delete e.lat1):(e.lat0=mie(e.lat1>0?90:-90),e.lat_ts=e.lat1,delete e.lat1)}function _ie(e){let t={units:null,to_meter:void 0};return"string"==typeof e?(t.units=e.toLowerCase(),"metre"===t.units&&(t.units="meter"),"meter"===t.units&&(t.to_meter=1)):e&&e.name&&(t.units=e.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.to_meter=e.conversion_factor),t}function yie(e){return"object"==typeof e?e.value*e.unit.conversion_factor:e}function bie(e,t){e.ellipsoid.radius?(t.a=e.ellipsoid.radius,t.rf=0):(t.a=yie(e.ellipsoid.semi_major_axis),void 0!==e.ellipsoid.inverse_flattening?t.rf=e.ellipsoid.inverse_flattening:void 0!==e.ellipsoid.semi_major_axis&&void 0!==e.ellipsoid.semi_minor_axis&&(t.rf=t.a/(t.a-yie(e.ellipsoid.semi_minor_axis))))}function vie(e,t={}){return e&&"object"==typeof e?"BoundCRS"===e.type?(vie(e.source_crs,t),e.transformation&&(e.transformation.method&&"NTv2"===e.transformation.method.name?t.nadgrids=e.transformation.parameters[0].value:t.datum_params=e.transformation.parameters.map(e=>e.value)),t):(Object.keys(e).forEach(n=>{const r=e[n];if(null!==r)switch(n){case"name":if(t.srsCode)break;t.name=r,t.srsCode=r;break;case"type":"GeographicCRS"===r?t.projName="longlat":"ProjectedCRS"===r&&e.conversion&&e.conversion.method&&(t.projName=e.conversion.method.name);break;case"datum":case"datum_ensemble":r.ellipsoid&&(t.ellps=r.ellipsoid.name,bie(r,t)),r.prime_meridian&&(t.from_greenwich=r.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":t.ellps=r.name,bie(r,t);break;case"prime_meridian":t.long0=(r.longitude||0)*Math.PI/180;break;case"coordinate_system":if(r.axis)if(t.axis=r.axis.map(e=>{const t=e.direction;if("east"===t)return"e";if("north"===t)return"n";if("west"===t)return"w";if("south"===t)return"s";throw new Error(`Unknown axis direction: ${t}`)}).join("")+"u",r.unit){const{units:e,to_meter:n}=_ie(r.unit);t.units=e,t.to_meter=n}else if(r.axis[0]&&r.axis[0].unit){const{units:e,to_meter:n}=_ie(r.axis[0].unit);t.units=e,t.to_meter=n}break;case"id":r.authority&&r.code&&(t.title=r.authority+":"+r.code);break;case"conversion":r.method&&r.method.name&&(t.projName=r.method.name),r.parameters&&r.parameters.forEach(e=>{const n=e.name.toLowerCase().replace(/\s+/g,"_"),r=e.value;e.unit&&e.unit.conversion_factor?t[n]=r*e.unit.conversion_factor:"degree"===e.unit?t[n]=r*Math.PI/180:t[n]=r});break;case"unit":r.name&&(t.units=r.name.toLowerCase(),"metre"===t.units&&(t.units="meter")),r.conversion_factor&&(t.to_meter=r.conversion_factor);break;case"base_crs":vie(r,t),t.datumCode=r.id?r.id.authority+"_"+r.id.code:r.name}}),void 0!==t.latitude_of_false_origin&&(t.lat0=t.latitude_of_false_origin),void 0!==t.longitude_of_false_origin&&(t.long0=t.longitude_of_false_origin),void 0!==t.latitude_of_standard_parallel&&(t.lat0=t.latitude_of_standard_parallel,t.lat1=t.latitude_of_standard_parallel),void 0!==t.latitude_of_1st_standard_parallel&&(t.lat1=t.latitude_of_1st_standard_parallel),void 0!==t.latitude_of_2nd_standard_parallel&&(t.lat2=t.latitude_of_2nd_standard_parallel),void 0!==t.latitude_of_projection_centre&&(t.lat0=t.latitude_of_projection_centre),void 0!==t.longitude_of_projection_centre&&(t.longc=t.longitude_of_projection_centre),void 0!==t.easting_at_false_origin&&(t.x0=t.easting_at_false_origin),void 0!==t.northing_at_false_origin&&(t.y0=t.northing_at_false_origin),void 0!==t.latitude_of_natural_origin&&(t.lat0=t.latitude_of_natural_origin),void 0!==t.longitude_of_natural_origin&&(t.long0=t.longitude_of_natural_origin),void 0!==t.longitude_of_origin&&(t.long0=t.longitude_of_origin),void 0!==t.false_easting&&(t.x0=t.false_easting),t.easting_at_projection_centre&&(t.x0=t.easting_at_projection_centre),void 0!==t.false_northing&&(t.y0=t.false_northing),t.northing_at_projection_centre&&(t.y0=t.northing_at_projection_centre),void 0!==t.standard_parallel_1&&(t.lat1=t.standard_parallel_1),void 0!==t.standard_parallel_2&&(t.lat2=t.standard_parallel_2),void 0!==t.scale_factor_at_natural_origin&&(t.k0=t.scale_factor_at_natural_origin),void 0!==t.scale_factor_at_projection_centre&&(t.k0=t.scale_factor_at_projection_centre),void 0!==t.scale_factor_on_pseudo_standard_parallel&&(t.k0=t.scale_factor_on_pseudo_standard_parallel),void 0!==t.azimuth&&(t.alpha=t.azimuth),void 0!==t.azimuth_at_projection_centre&&(t.alpha=t.azimuth_at_projection_centre),t.angle_from_rectified_to_skew_grid&&(t.rectified_grid_angle=t.angle_from_rectified_to_skew_grid),gie(t),t):e}var wie=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function xie(e){for(var t=Object.keys(e),n=0,r=t.length;n<r;++n){var i=t[n];-1!==wie.indexOf(i)&&Sie(e[i]),"object"==typeof e[i]&&xie(e[i])}}function Sie(e){if(e.AUTHORITY){var t=Object.keys(e.AUTHORITY)[0];t&&t in e.AUTHORITY&&(e.title=t+":"+e.AUTHORITY[t])}if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var n="",r=0,i=e.AXIS.length;r<i;++r){var o=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?n+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?n+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?n+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(n+="w")}2===n.length&&(n+="u"),3===n.length&&(e.axis=n)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;function a(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_1949"===e.datumCode&&(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"belge_1972"===e.datumCode&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),e.rectified_grid_angle&&(e.rectified_grid_angle=mie(e.rectified_grid_angle));[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",mie],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",mie],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",mie],["lat0","latitude_of_origin",mie],["lat0","standard_parallel_1",mie],["lat1","standard_parallel_1",mie],["lat2","standard_parallel_2",mie],["azimuth","Azimuth"],["alpha","azimuth",mie],["srsCode","name"]].forEach(function(t){return function(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}(e,t)}),gie(e)}function Mie(e){if("object"==typeof e)return vie(e);const t=function(e){const t=e.toUpperCase();return t.includes("PROJCRS")||t.includes("GEOGCRS")||t.includes("BOUNDCRS")||t.includes("VERTCRS")||t.includes("LENGTHUNIT")||t.includes("ANGLEUNIT")||t.includes("SCALEUNIT")?"WKT2":(t.includes("PROJCS")||t.includes("GEOGCS")||t.includes("LOCAL_CS")||t.includes("VERT_CS")||t.includes("UNIT"),"WKT1")}(e);var n=oie(e);if("WKT2"===t){return vie(iie(n))}var r=n[0],i={};return pie(n,i),xie(i),i[r]}function kie(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?kie[e]=eie(arguments[1]):kie[e]=Mie(arguments[1]):n&&"object"==typeof n&&!("projName"in n)?kie[e]=Mie(arguments[1]):(kie[e]=n,n||delete kie[e])}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){return Array.isArray(e)?kie.apply(t,e):kie(e)});if("string"==typeof e){if(e in kie)return kie[e]}else"EPSG"in e?kie["EPSG:"+e.EPSG]=e:"ESRI"in e?kie["ESRI:"+e.ESRI]=e:"IAU2000"in e?kie["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var t=1;t<=60;++t)e("EPSG:"+(32600+t),"+proj=utm +zone="+t+" +datum=WGS84 +units=m"),e("EPSG:"+(32700+t),"+proj=utm +zone="+t+" +south +datum=WGS84 +units=m");e("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),e("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(kie);const Tie=kie;var Eie=["3857","900913","3785","102113"];const Lie=function(e){if(!function(e){return"string"==typeof e}(e))return"projName"in e?e:Mie(e);if(function(e){return e in Tie}(e))return Tie[e];if(function(e){return 0!==e.indexOf("+")&&-1!==e.indexOf("[")||"object"==typeof e&&!("srsCode"in e)}(e)){var t=Mie(e);if(function(e){var t=Qre(e,"authority");if(t){var n=Qre(t,"epsg");return n&&Eie.indexOf(n)>-1}}(t))return Tie["EPSG:3857"];var n=function(e){var t=Qre(e,"extension");if(t)return Qre(t,"proj4")}(t);return n?eie(n):t}return function(e){return"+"===e[0]}(e)?eie(e):void 0};function Cie(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e}function Die(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function Pie(e){return e<0?-1:1}function $ie(e,t){return t||Math.abs(e)<=Vre?e:e-Pie(e)*Bre}function Aie(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Ure-t))/r}function Rie(e,t){for(var n,r,i=.5*e,o=Ure-2*Math.atan(t),s=0;s<=15;s++)if(n=e*Math.sin(o),o+=r=Ure-2*Math.atan(t*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999}const Oie={init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Die(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,n,r=e.x,i=e.y;if(i*Wre>90&&i*Wre<-90&&r*Wre>180&&r*Wre<-180)return null;if(Math.abs(Math.abs(i)-Ure)<=zre)return null;if(this.sphere)t=this.x0+this.a*this.k0*$ie(r-this.long0,this.over),n=this.y0+this.a*this.k0*Math.log(Math.tan(qre+.5*i));else{var o=Math.sin(i),s=Aie(this.e,i,o);t=this.x0+this.a*this.k0*$ie(r-this.long0,this.over),n=this.y0-this.a*this.k0*Math.log(s)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=Ure-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=Rie(this.e,o)))return null}return t=$ie(this.long0+r/(this.a*this.k0),this.over),e.x=t,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"]};function Iie(e){return e}var Fie=["longlat","identity"];var Nie=[Oie,{init:function(){},forward:Iie,inverse:Iie,names:Fie}],Yie={},jie=[];function Hie(e,t){var n=jie.length;return e.names?(jie[n]=e,e.names.forEach(function(e){Yie[e.toLowerCase()]=n}),this):(console.log(t),!0)}function Uie(e){return e.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}const zie={start:function(){Nie.forEach(Hie)},add:Hie,get:function(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==Yie[t]&&jie[Yie[t]]||(t=Uie(t))in Yie&&jie[Yie[t]]?jie[Yie[t]]:void 0}};const Gie={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},Wie=Gie.WGS84;var qie={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var Bie in qie){var Vie=qie[Bie];Vie.datumName&&(qie[Vie.datumName]=Vie)}const Xie=qie;const Kie=function(e,t,n,r,i,o,s){var a={};return a.datum_type=void 0===e||"none"===e?5:4,t&&(a.datum_params=t.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=1),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=2,a.datum_params[3]*=Hre,a.datum_params[4]*=Hre,a.datum_params[5]*=Hre,a.datum_params[6]=a.datum_params[6]/1e6+1))),s&&(a.datum_type=3,a.grids=s),a.a=n,a.b=r,a.es=i,a.ep2=o,a};var Zie={};async function Jie(e,t){for(var n=[],r=await t.getImageCount(),i=r-1;i>=0;i--){var o=await t.getImage(i),s=await o.readRasters(),a=[o.getWidth(),o.getHeight()],l=o.getBoundingBox().map(eoe),c=[o.fileDirectory.ModelPixelScale[0],o.fileDirectory.ModelPixelScale[1]].map(eoe),u=l[0]+(a[0]-1)*c[0],h=l[3]-(a[1]-1)*c[1],d=s[0],f=s[1],p=[];for(let e=a[1]-1;e>=0;e--)for(let t=a[0]-1;t>=0;t--){var m=e*a[0]+t;p.push([-toe(f[m]),toe(d[m])])}n.push({del:c,lim:a,ll:[-u,h],cvs:p})}var g={header:{nSubgrids:r},subgrids:n};return Zie[e]=g,g}function Qie(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:Zie[e]||null,isNull:!1}}function eoe(e){return e*Math.PI/180}function toe(e){return e/3600*Math.PI/180}function noe(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function roe(e){return e.map(function(e){return[toe(e.longitudeShift),toe(e.latitudeShift)]})}function ioe(e,t,n){return{name:noe(e,t+8,t+16).trim(),parent:noe(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function ooe(e,t,n,r,i){var o=t+176,s=16;!1===i&&(s=8);for(var a=[],l=0;l<n.gridNodeCount;l++){var c={latitudeShift:e.getFloat32(o+l*s,r),longitudeShift:e.getFloat32(o+l*s+4,r)};!1!==i&&(c.latitudeAccuracy=e.getFloat32(o+l*s+8,r),c.longitudeAccuracy=e.getFloat32(o+l*s+12,r)),a.push(c)}return a}function soe(e,t){if(!(this instanceof soe))return new soe(e);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,t=t||function(e){if(e)throw e};var n=Lie(e);if("object"==typeof n){var r=soe.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=Qre(Xie,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=function(e,t,n,r,i){if(!e){var o=Qre(Gie,r);o||(o=Wie),e=o.a,t=o.b,n=o.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<zre)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(e,t,n,r){var i=e*e,o=t*t,s=(i-o)/i,a=0;return r?(i=(e*=1-s*(.16666666666666666+s*(.04722222222222222+.022156084656084655*s)))*e,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(i-o)/o}}(o.a,o.b,o.rf,n.R_A),a=function(e){return void 0===e?null:e.split(",").map(Qie)}(n.nadgrids),l=n.datum||Kie(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2,a);Cie(this,n),Cie(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,"init"in this&&"function"==typeof this.init&&this.init(),t(null,this)}else t("Could not get projection name from: "+e)}else t("Could not parse to valid json: "+e)}soe.projections=zie,soe.projections.start();const aoe=soe;function loe(e,t,n){var r,i,o,s,a=e.x,l=e.y,c=e.z?e.z:0;if(l<-Ure&&l>-1.001*Ure)l=-Ure;else if(l>Ure&&l<1.001*Ure)l=Ure;else{if(l<-Ure)return{x:-1/0,y:-1/0,z:e.z};if(l>Ure)return{x:1/0,y:1/0,z:e.z}}return a>Math.PI&&(a-=2*Math.PI),i=Math.sin(l),s=Math.cos(l),o=i*i,{x:((r=n/Math.sqrt(1-t*o))+c)*s*Math.cos(a),y:(r+c)*s*Math.sin(a),z:(r*(1-t)+c)*i}}function coe(e,t,n,r){var i,o,s,a,l,c,u,h,d,f,p,m,g,_,y,b=1e-12,v=e.x,w=e.y,x=e.z?e.z:0;if(i=Math.sqrt(v*v+w*w),o=Math.sqrt(v*v+w*w+x*x),i/n<b){if(_=0,o/n<b)return y=-r,{x:e.x,y:e.y,z:e.z}}else _=Math.atan2(w,v);s=x/o,h=(a=i/o)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*a*a)),d=s*l,g=0;do{g++,c=t*(u=n/Math.sqrt(1-t*d*d))/(u+(y=i*h+x*d-u*(1-t*d*d))),m=(p=s*(l=1/Math.sqrt(1-c*(2-c)*a*a)))*h-(f=a*(1-c)*l)*d,h=f,d=p}while(m*m>1e-24&&g<30);return{x:_,y:Math.atan(p/Math.abs(f)),z:y}}function uoe(e){return 1===e||2===e}function hoe(e,t,n){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(1===e.datum_type?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:2!==e.datum_type||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return n;if(5===e.datum_type||5===t.datum_type)return n;var r=e.a,i=e.es;if(3===e.datum_type){if(0!==doe(e,!1,n))return;r=Yre,i=jre}var o=t.a,s=t.b,a=t.es;if(3===t.datum_type&&(o=Yre,s=6356752.314,a=jre),i===a&&r===o&&!uoe(e.datum_type)&&!uoe(t.datum_type))return n;if((n=loe(n,i,r),uoe(e.datum_type)&&(n=function(e,t,n){if(1===t)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(2===t){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-s*e.z)+i,z:c*(-a*e.x+s*e.y+e.z)+o}}}(n,e.datum_type,e.datum_params)),uoe(t.datum_type)&&(n=function(e,t,n){if(1===t)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(2===t){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=(e.x-r)/c,h=(e.y-i)/c,d=(e.z-o)/c;return{x:u+l*h-a*d,y:-l*u+h+s*d,z:a*u-s*h+d}}}(n,t.datum_type,t.datum_params)),n=coe(n,a,o,s),3===t.datum_type)&&0!==doe(t,!0,n))return;return n}function doe(e,t,n){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},o=[];e:for(var s=0;s<e.grids.length;s++){var a=e.grids[s];if(o.push(a.name),a.isNull){i=r;break}if(null!==a.grid)for(var l=a.grid.subgrids,c=0,u=l.length;c<u;c++){var h=l[c],d=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,f=h.ll[0]-d,p=h.ll[1]-d,m=h.ll[0]+(h.lim[0]-1)*h.del[0]+d,g=h.ll[1]+(h.lim[1]-1)*h.del[1]+d;if(!(p>r.y||f>r.x||g<r.y||m<r.x)&&(i=foe(r,t,h),!isNaN(i.x)))break e}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*Wre+" "+r.y*Wre+" tried: '"+o+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function foe(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var i={x:e.x,y:e.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=$ie(i.x-Math.PI)+Math.PI;var o=poe(i,n);if(t){if(isNaN(o.x))return r;o.x=i.x-o.x,o.y=i.y-o.y;var s,a,l=9;do{if(a=poe(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:i.x-(a.x+o.x),y:i.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(l--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=$ie(o.x+n.ll[0]),r.y=o.y+n.ll[1]}else isNaN(o.x)||(r.x=e.x+o.x,r.y=e.y+o.y);return r}function poe(e,t){var n,r={x:e.x/t.del[0],y:e.y/t.del[1]},i=Math.floor(r.x),o=Math.floor(r.y),s=r.x-1*i,a=r.y-1*o,l={x:Number.NaN,y:Number.NaN};if(i<0||i>=t.lim[0])return l;if(o<0||o>=t.lim[1])return l;n=o*t.lim[0]+i;var c=t.cvs[n][0],u=t.cvs[n][1];n++;var h=t.cvs[n][0],d=t.cvs[n][1];n+=t.lim[0];var f=t.cvs[n][0],p=t.cvs[n][1];n--;var m=t.cvs[n][0],g=t.cvs[n][1],_=s*a,y=s*(1-a),b=(1-s)*(1-a),v=(1-s)*a;return l.x=b*c+y*h+v*m+_*f,l.y=b*u+y*d+v*g+_*p,l}function moe(e,t,n){var r,i,o,s=n.x,a=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!t||2!==o||void 0!==n.z)switch(0===o?(r=s,i=-1!=="ew".indexOf(e.axis[o])?"x":"y"):1===o?(r=a,i=-1!=="ns".indexOf(e.axis[o])?"y":"x"):(r=l,i="z"),e.axis[o]){case"e":case"n":c[i]=r;break;case"w":case"s":c[i]=-r;break;case"u":void 0!==n[i]&&(c.z=r);break;case"d":void 0!==n[i]&&(c.z=-r);break;default:return null}return c}function goe(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function _oe(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function yoe(e,t,n,r){var i,o=void 0!==(n=Array.isArray(n)?goe(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(function(e){_oe(e.x),_oe(e.y)}(n),e.datum&&t.datum&&function(e,t){return(1===e.datum.datum_type||2===e.datum.datum_type||3===e.datum.datum_type)&&"WGS84"!==t.datumCode||(1===t.datum.datum_type||2===t.datum.datum_type||3===t.datum.datum_type)&&"WGS84"!==e.datumCode}(e,t)&&(n=yoe(e,i=new aoe("WGS84"),n,r),e=i),r&&"enu"!==e.axis&&(n=moe(e,!1,n)),"longlat"===e.projName)n={x:n.x*Gre,y:n.y*Gre,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=hoe(e.datum,t.datum,n))return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*Wre,y:n.y*Wre,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&"enu"!==t.axis?moe(t,!0,n):(n&&!o&&delete n.z,n)}var boe=aoe("WGS84");function voe(e,t,n,r){var i,o,s;return Array.isArray(n)?(i=yoe(e,t,n,r)||{x:NaN,y:NaN},n.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.slice(3)):[i.x,i.y,n[2]].concat(n.slice(3)):[i.x,i.y].concat(n.slice(2)):[i.x,i.y]):(o=yoe(e,t,n,r),2===(s=Object.keys(n)).length||s.forEach(function(r){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;o[r]=n[r]}),o)}function woe(e){return e instanceof aoe?e:"object"==typeof e&&"oProj"in e?e.oProj:aoe(e)}const xoe=function(e,t,n){var r,i,o,s=!1;return void 0===t?(i=woe(e),r=boe,s=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,i=woe(e),r=boe,s=!0),r||(r=woe(e)),i||(i=woe(t)),n?voe(r,i,n):(o={forward:function(e,t){return voe(r,i,e,t)},inverse:function(e,t){return voe(i,r,e,t)}},s&&(o.oProj=i),o)};var Soe="AJSAJS",Moe="AFAFAF",koe=65,Toe=73,Eoe=79,Loe=86,Coe=90;const Doe={forward:Poe,inverse:function(e){var t=Ooe(Noe(e.toUpperCase()));if(t.lat&&t.lon)return[t.lon,t.lat,t.lon,t.lat];return[t.left,t.bottom,t.right,t.top]},toPoint:$oe};function Poe(e,t){return t=t||5,function(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+(i=e.easting,o=e.northing,s=e.zoneNumber,a=Foe(s),l=Math.floor(i/1e5),c=Math.floor(o/1e5)%20,function(e,t,n){var r=n-1,i=Soe.charCodeAt(r),o=Moe.charCodeAt(r),s=i+e-1,a=o+t,l=!1;return s>Coe&&(s=s-Coe+koe-1,l=!0),(s===Toe||i<Toe&&s>Toe||(s>Toe||i<Toe)&&l)&&s++,(s===Eoe||i<Eoe&&s>Eoe||(s>Eoe||i<Eoe)&&l)&&++s===Toe&&s++,s>Coe&&(s=s-Coe+koe-1),a>Loe?(a=a-Loe+koe-1,l=!0):l=!1,(a===Toe||o<Toe&&a>Toe||(a>Toe||o<Toe)&&l)&&a++,(a===Eoe||o<Eoe&&a>Eoe||(a>Eoe||o<Eoe)&&l)&&++a===Toe&&a++,a>Loe&&(a=a-Loe+koe-1),String.fromCharCode(s)+String.fromCharCode(a)}(l,c,a))+n.substr(n.length-5,t)+r.substr(r.length-5,t);var i,o,s,a,l,c}(function(e){var t,n,r,i,o,s,a,l,c=e.lat,u=e.lon,h=6378137,d=.00669438,f=.9996,p=Aoe(c),m=Aoe(u);l=Math.floor((u+180)/6)+1,180===u&&(l=60);c>=56&&c<64&&u>=3&&u<12&&(l=32);c>=72&&c<84&&(u>=0&&u<9?l=31:u>=9&&u<21?l=33:u>=21&&u<33?l=35:u>=33&&u<42&&(l=37));a=Aoe(6*(l-1)-180+3),t=d/(1-d),n=h/Math.sqrt(1-d*Math.sin(p)*Math.sin(p)),r=Math.tan(p)*Math.tan(p),i=t*Math.cos(p)*Math.cos(p),o=Math.cos(p)*(m-a),s=h*((1-d/4-3*d*d/64-5*d*d*d/256)*p-(3*d/8+3*d*d/32+45*d*d*d/1024)*Math.sin(2*p)+(15*d*d/256+45*d*d*d/1024)*Math.sin(4*p)-35*d*d*d/3072*Math.sin(6*p));var g=f*n*(o+(1-r+i)*o*o*o/6+(5-18*r+r*r+72*i-58*t)*o*o*o*o*o/120)+5e5,_=f*(s+n*Math.tan(p)*(o*o/2+(5-r+9*i+4*i*i)*o*o*o*o/24+(61-58*r+r*r+600*i-330*t)*o*o*o*o*o*o/720));c<0&&(_+=1e7);return{northing:Math.round(_),easting:Math.round(g),zoneNumber:l,zoneLetter:Ioe(c)}}({lat:e[1],lon:e[0]}),t)}function $oe(e){var t=Ooe(Noe(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Aoe(e){return e*(Math.PI/180)}function Roe(e){return e/Math.PI*180}function Ooe(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var o,s,a,l,c,u,h,d,f,p=.9996,m=6378137,g=.00669438,_=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),y=n-5e5,b=t;r<"N"&&(b-=1e7),h=6*(i-1)-180+3,o=.006739496752268451,f=(d=b/p/6367449.145945056)+(3*_/2-27*_*_*_/32)*Math.sin(2*d)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*d)+151*_*_*_/96*Math.sin(6*d),s=m/Math.sqrt(1-g*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),l=o*Math.cos(f)*Math.cos(f),c=.99330562*m/Math.pow(1-g*Math.sin(f)*Math.sin(f),1.5),u=y/(s*p);var v=f-s*Math.tan(f)/c*(u*u/2-(5+3*a+10*l-4*l*l-9*o)*u*u*u*u/24+(61+90*a+298*l+45*a*a-1.6983531815716497-3*l*l)*u*u*u*u*u*u/720);v=Roe(v);var w,x=(u-(1+2*a+l)*u*u*u/6+(5-2*l+28*a-3*l*l+8*o+24*a*a)*u*u*u*u*u/120)/Math.cos(f);if(x=h+Roe(x),e.accuracy){var S=Ooe({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});w={top:S.lat,right:S.lon,bottom:v,left:x}}else w={lat:v,lon:x};return w}function Ioe(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function Foe(e){var t=e%6;return 0===t&&(t=6),t}function Noe(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,i="",o=0;!/[A-Z]/.test(t=e.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,o++}var s=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(o,o+=2);for(var l=Foe(s),c=function(e,t){var n=Soe.charCodeAt(t-1),r=1e5,i=!1;for(;n!==e.charCodeAt(0);){if(++n===Toe&&n++,n===Eoe&&n++,n>Coe){if(i)throw"Bad character: "+e;n=koe,i=!0}r+=1e5}return r}(r.charAt(0),l),u=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=Moe.charCodeAt(t-1),r=0,i=!1;for(;n!==e.charCodeAt(0);){if(++n===Toe&&n++,n===Eoe&&n++,n>Loe){if(i)throw"Bad character: "+e;n=koe,i=!0}r+=1e5}return r}(r.charAt(1),l);u<Yoe(a);)u+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var d,f,p,m=h/2,g=0,_=0;return m>0&&(d=1e5/Math.pow(10,m),f=e.substring(o,o+m),g=parseFloat(f)*d,p=e.substring(o+m),_=parseFloat(p)*d),{easting:g+c,northing:_+u,zoneLetter:a,zoneNumber:s,accuracy:d}}function Yoe(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function joe(e,t,n){if(!(this instanceof joe))return new joe(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var r=e.split(",");this.x=parseFloat(r[0]),this.y=parseFloat(r[1]),this.z=parseFloat(r[2])||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}joe.fromMGRS=function(e){return new joe($oe(e))},joe.prototype.toMGRS=function(e){return Poe([this.x,this.y],e)};const Hoe=joe;var Uoe=.046875,zoe=.01953125,Goe=.01068115234375;function Woe(e){var t=[];t[0]=1-e*(.25+e*(Uoe+e*(zoe+e*Goe))),t[1]=e*(.75-e*(Uoe+e*(zoe+e*Goe)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),n*=e,t[3]=n*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t}function qoe(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}function Boe(e,t,n){for(var r=1/(1-t),i=e,o=20;o;--o){var s=Math.sin(i),a=1-t*s*s;if(i-=a=(qoe(i,s,Math.cos(i),n)-e)*(a*Math.sqrt(a))*r,Math.abs(a)<zre)return i}return i}const Voe={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Woe(this.es),this.ml0=qoe(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,n,r,i=e.x,o=e.y,s=$ie(i-this.long0,this.over),a=Math.sin(o),l=Math.cos(o);if(this.es){var c=l*s,u=Math.pow(c,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),f=Math.abs(l)>zre?Math.tan(o):0,p=Math.pow(f,2),m=Math.pow(p,2);t=1-this.es*Math.pow(a,2),c/=Math.sqrt(t);var g=qoe(o,a,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-p+h+u/20*(5-18*p+m+14*h-58*p*h+u/42*(61+179*m-m*p-479*p)))))+this.x0,r=this.a*(this.k0*(g-this.ml0+a*s*c/2*(1+u/12*(5-p+9*h+4*d+u/30*(61+m-58*p+270*h-330*p*h+u/56*(1385+543*m-m*p-3111*p))))))+this.y0}else{var _=l*Math.sin(s);if(Math.abs(Math.abs(_)-1)<zre)return 93;if(n=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,r=l*Math.cos(s)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(r))>=1){if(_-1>zre)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e},inverse:function(e){var t,n,r,i,o=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(n=Boe(t=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<Ure){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>zre?Math.tan(n):0,u=this.ep2*Math.pow(l,2),h=Math.pow(u,2),d=Math.pow(c,2),f=Math.pow(d,2);t=1-this.es*Math.pow(a,2);var p=o*Math.sqrt(t)/this.k0,m=Math.pow(p,2);r=n-(t*=c)*m/(1-this.es)*.5*(1-m/12*(5+3*d-9*u*d+u-4*h-m/30*(61+90*d-252*u*d+45*f+46*u-m/56*(1385+3633*d+4095*f+1574*f*d)))),i=$ie(this.long0+p*(1-m/6*(1+2*d+u-m/20*(5+28*d+24*f+8*u*d+6*u-m/42*(61+662*d+1320*f+720*f*d))))/l,this.over)}else r=Ure*Pie(s),i=0;else{var g=Math.exp(o/this.k0),_=.5*(g-1/g),y=this.lat0+s/this.k0,b=Math.cos(y);t=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(_,2))),r=Math.asin(t),s<0&&(r=-r),i=0===_&&0===b?0:$ie(Math.atan2(_,b)+this.long0,this.over)}return e.x=i,e.y=r,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Xoe(e){var t=Math.exp(e);return t=(t-1/t)/2}function Koe(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function Zoe(e){var t=Math.abs(e);return t=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}(t*(1+t/(Koe(1,t)+1))),e<0?-t:t}function Joe(e,t){for(var n,r=2*Math.cos(2*t),i=e.length-1,o=e[i],s=0;--i>=0;)n=r*o-s+e[i],s=o,o=n;return t+n*Math.sin(2*t)}function Qoe(e,t,n){for(var r,i,o=Math.sin(t),s=Math.cos(t),a=Xoe(n),l=function(e){var t=Math.exp(e);return(t+1/t)/2}(n),c=2*s*l,u=-2*o*a,h=e.length-1,d=e[h],f=0,p=0,m=0;--h>=0;)r=p,i=f,d=c*(p=d)-r-u*(f=m)+e[h],m=u*p-i+c*f;return[(c=o*l)*d-(u=s*a)*m,c*m+u*d]}const ese={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Voe.init.apply(this),this.forward=Voe.forward,this.inverse=Voe.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=Joe(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(e,t){for(var n,r=2*Math.cos(t),i=e.length-1,o=e[i],s=0;--i>=0;)n=r*o-s+e[i],s=o,o=n;return Math.sin(t)*n}(this.gtu,2*r))},forward:function(e){var t=$ie(e.x-this.long0,this.over),n=e.y;n=Joe(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(t),s=Math.cos(t);n=Math.atan2(r,s*i),t=Math.atan2(o*i,Koe(r,i*s)),t=Zoe(Math.tan(t));var a,l,c=Qoe(this.gtu,2*n,2*t);return n+=c[0],t+=c[1],Math.abs(t)<=2.623395162778?(a=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),e.x=a,e.y=l,e},inverse:function(e){var t,n,r=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=Qoe(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Xoe(r));var s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r);i=Math.atan2(s*c,Koe(l,c*a)),t=$ie((r=Math.atan2(l,c*a))+this.long0,this.over),n=Joe(this.cgb,i)}else t=1/0,n=1/0;return e.x=t,e.y=n,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]};const tse={init:function(){var e=function(e,t){if(void 0===e){if((e=Math.floor(30*($ie(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Gre,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ese.init.apply(this),this.forward=ese.forward,this.inverse=ese.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function nse(e,t){return Math.pow((1-e)/(1+e),t)}const rse={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+qre)/(Math.pow(Math.tan(.5*this.lat0+qre),this.C)*nse(this.e*e,this.ratexp))},forward:function(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+qre),this.C)*nse(this.e*Math.sin(n),this.ratexp))-Ure,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+qre)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(r*nse(this.e*Math.sin(e.y),-.5*this.e))-Ure,!(Math.abs(n-e.y)<1e-14));--i)e.y=n;return i?(e.x=t,e.y=n,e):null},names:["gauss"]};const ise={init:function(){rse.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,n,r,i;return e.x=$ie(e.x-this.long0,this.over),rse.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,n,r,i,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=Koe(e.x,e.y)){var s=2*Math.atan2(o,this.R2);t=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/o),r=Math.atan2(e.x*t,o*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,rse.inverse.apply(this,[e]),e.x=$ie(e.x+this.long0,this.over),e},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};function ose(e,t,n){return t*=n,Math.tan(.5*(Ure+e))*Math.pow((1-t)/(1+t),.5*n)}const sse={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=zre&&(this.k0=.5*(1+Pie(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=zre&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=zre&&Math.abs(Math.cos(this.lat_ts))>zre&&(this.k0=.5*this.cons*Die(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Aie(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Die(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(ose(this.lat0,this.sinlat0,this.e))-Ure,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,n,r,i,o,s,a=e.x,l=e.y,c=Math.sin(l),u=Math.cos(l),h=$ie(a-this.long0,this.over);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=zre&&Math.abs(l+this.lat0)<=zre?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(h)),e.x=this.a*t*u*Math.sin(h)+this.x0,e.y=this.a*t*(this.coslat0*c-this.sinlat0*u*Math.cos(h))+this.y0,e):(n=2*Math.atan(ose(l,c,this.e))-Ure,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=zre?(o=Aie(this.e,l*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,e.x=this.x0+s*Math.sin(a-this.long0),e.y=this.y0-this.con*s*Math.cos(a-this.long0),e):(Math.abs(this.sinlat0)<zre?(t=2*this.a*this.k0/(1+i*Math.cos(h)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),e.x=t*i*Math.sin(h)+this.x0,e))},inverse:function(e){var t,n,r,i,o;e.x-=this.x0,e.y-=this.y0;var s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return t=this.long0,n=this.lat0,s<=zre?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/s),t=Math.abs(this.coslat0)<zre?this.lat0>0?$ie(this.long0+Math.atan2(e.x,-1*e.y),this.over):$ie(this.long0+Math.atan2(e.x,e.y),this.over):$ie(this.long0+Math.atan2(e.x*Math.sin(a),s*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a)),this.over),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=zre){if(s<=zre)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*Rie(this.e,r),t=this.con*$ie(this.con*this.long0+Math.atan2(e.x,-1*e.y),this.over)}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,s<=zre?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/s),t=$ie(this.long0+Math.atan2(e.x*Math.sin(i),s*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)),this.over)),n=-1*Rie(this.e,Math.tan(.5*(Ure+o)));return e.x=t,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"],ssfn_:ose};const ase={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(t,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+o*t)/(1-o*t));this.K=s-this.alpha*a+this.alpha*o/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*s+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,l=0,c=o,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e},names:["somerc"]};var lse=1e-7;const cse={init:function(){var e,t,n,r,i,o,s,a,l,c,u,h=0,d=0,f=0,p=0,m=0,g=0,_=0;this.no_off=function(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n="object"==typeof e.projName?Object.keys(e.projName)[0]:e.projName;return"no_uoff"in e||"no_off"in e||-1!==t.indexOf(n)||-1!==t.indexOf(Uie(n))}(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),y&&(_=this.alpha),b&&(h=this.rectified_grid_angle),y||b)d=this.longc;else if(f=this.long1,m=this.lat1,p=this.long2,g=this.lat2,Math.abs(m-g)<=lse||(e=Math.abs(m))<=lse||Math.abs(e-Ure)<=lse||Math.abs(Math.abs(this.lat0)-Ure)<=lse||Math.abs(Math.abs(g)-Ure)<=lse)throw new Error;var v=1-this.es;t=Math.sqrt(v),Math.abs(this.lat0)>zre?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/v),this.A=this.B*this.k0*t/e,(i=(r=this.B*t/(n*Math.sqrt(e)))*r-1)<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Aie(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=i=1),y||b?(y?(u=Math.asin(Math.sin(_)/r),b||(h=_)):(u=h,_=Math.asin(r*Math.sin(u))),this.lam0=d-Math.asin(.5*(i-1/i)*Math.tan(u))/this.B):(o=Math.pow(Aie(this.e,m,Math.sin(m)),this.B),s=Math.pow(Aie(this.e,g,Math.sin(g)),this.B),i=this.E/o,l=(s-o)/(s+o),c=((c=this.E*this.E)-s*o)/(c+s*o),(e=f-p)<-Math.PI?p-=Bre:e>Math.PI&&(p+=Bre),this.lam0=$ie(.5*(f+p)-Math.atan(c*Math.tan(.5*this.B*(f-p))/l)/this.B,this.over),u=Math.atan(2*Math.sin(this.B*$ie(f-this.lam0,this.over))/(i-1/i)),h=_=Math.asin(r*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(qre-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(qre+i))},forward:function(e){var t,n,r,i,o,s,a,l,c={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-Ure)>zre){if(t=.5*((o=this.E/Math.pow(Aie(this.e,e.y,Math.sin(e.y)),this.B))-(s=1/o)),n=.5*(o+s),i=Math.sin(this.B*e.x),r=(t*this.singam-i*this.cosgam)/n,Math.abs(Math.abs(r)-1)<zre)throw new Error;l=.5*this.ArB*Math.log((1-r)/(1+r)),s=Math.cos(this.B*e.x),a=Math.abs(s)<lse?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+i*this.singam,s)}else l=e.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*e.y;return this.no_rot?(c.x=a,c.y=l):(a-=this.u_0,c.x=l*this.cosrot+a*this.sinrot,c.y=a*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(e){var t,n,r,i,o,s,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=.5*((r=Math.exp(-this.BrA*n))-1/r),o=.5*(r+1/r),a=((s=Math.sin(this.BrA*t))*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(a)-1)<zre)l.x=0,l.y=a<0?-Ure:Ure;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Rie(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};const use={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<zre)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Die(this.e,t,n),i=Aie(this.e,this.lat1,t),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=Die(this.e,o,s),l=Aie(this.e,this.lat2,o),c=Math.abs(Math.abs(this.lat0)-Ure)<zre?0:Aie(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>zre?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=zre&&(n=Pie(n)*(Ure-2e-10));var r,i,o=Math.abs(Math.abs(n)-Ure);if(o>zre)r=Aie(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var s=this.ns*$ie(t-this.long0,this.over);return e.x=this.k0*(i*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,e},inverse:function(e){var t,n,r,i,o,s=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+a*a),n=1):(t=-Math.sqrt(s*s+a*a),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*s,n*a)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(i=Rie(this.e,r)))return null}else i=-Ure;return o=$ie(l/this.ns+this.long0,this.over),e.x=o,e.y=i,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};const hse={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,n,r,i,o,s,a,l=e.x,c=e.y,u=$ie(l-this.long0,this.over);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=a*Math.cos(s)/1,e.x=a*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,n,r,i,o,s,a,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),i=Math.atan2(e.y,e.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,s=t,a=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-e.y)<1e-10&&(a=1),s=e.y,c+=1}while(0===a&&c<15);return c>=15?null:e},names:["Krovak","krovak"]};function dse(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function fse(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function pse(e){return.375*e*(1+.25*e*(1+.46875*e))}function mse(e){return.05859375*e*e*(1+.75*e)}function gse(e){return e*e*e*(35/3072)}function _se(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function yse(e){return Math.abs(e)<Ure?e:e-Pie(e)*Math.PI}function bse(e,t,n,r,i){var o,s;o=e/t;for(var a=0;a<15;a++)if(o+=s=(e-(t*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(t-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}const vse={init:function(){this.sphere||(this.e0=fse(this.es),this.e1=pse(this.es),this.e2=mse(this.es),this.e3=gse(this.es),this.ml0=this.a*dse(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,n,r=e.x,i=e.y;if(r=$ie(r-this.long0,this.over),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=_se(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,h=this.es*s*s/(1-this.es);t=a*c*(1-u*l*(1/6-(8-l+8*h)*u/120)),n=this.a*dse(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*o/s*u*(.5+(5-l+6*h)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var o=i+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var s=bse(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Ure)<=zre)return e.x=this.long0,e.y=Ure,i<0&&(e.y*=-1),e;var a=_se(this.a,this.e,Math.sin(s)),l=a*a*a/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),u=r*this.a/a,h=u*u;t=s-a*Math.tan(s)/l*u*u*(.5-(1+3*c)*u*u/24),n=u*(1-h*(c/3+(1+3*c)*c*h/15))/Math.cos(s)}return e.x=$ie(n+this.long0,this.over),e.y=yse(t),e},names:["Cassini","Cassini_Soldner","cass"]};function wse(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t}var xse=.3333333333333333,Sse=.17222222222222222,Mse=.10257936507936508,kse=.06388888888888888,Tse=.0664021164021164,Ese=.016415012942191543;const Lse={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-Ure)<zre?this.mode=this.lat0<0?1:2:Math.abs(t)<zre?this.mode=3:this.mode=4,this.es>0)switch(this.qp=wse(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,n=[];return n[0]=e*xse,t=e*e,n[0]+=t*Sse,n[1]=t*kse,t*=e,n[0]+=t*Mse,n[1]+=t*Tse,n[2]=t*Ese,n}(this.es),this.mode){case 2:case 1:this.dd=1;break;case 3:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case 4:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=wse(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else 4===this.mode&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,n,r,i,o,s,a,l,c,u,h=e.x,d=e.y;if(h=$ie(h-this.long0,this.over),this.sphere){if(o=Math.sin(d),u=Math.cos(d),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*o+this.cosph0*u*r)<=zre)return null;t=(n=Math.sqrt(2/n))*u*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(d+this.lat0)<zre)return null;n=qre-.5*d,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(h),i=Math.sin(h),o=Math.sin(d),s=wse(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=Ure+d,s=this.qp-s;break;case this.S_POLE:c=d-Ure,s=this.qp+s}if(Math.abs(c)<zre)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*l*r):(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(t=(c=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?c:-c)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,s,a,l=e.x/this.a,c=e.y/this.a;if(this.sphere){var u,h=0,d=0;if((n=.5*(u=Math.sqrt(l*l+c*c)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(u)<=zre?0:Math.asin(c*d/u),l*=d,c=h*u;break;case this.OBLIQ:n=Math.abs(u)<=zre?this.lat0:Math.asin(h*this.sinph0+c*d*this.cosph0/u),l*=d*this.cosph0,c=(h-Math.sin(n)*this.sinph0)*u;break;case this.N_POLE:c=-c,n=Ure-n;break;case this.S_POLE:n-=Ure}t=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,c):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,c*=this.dd,(s=Math.sqrt(l*l+c*c))<zre)return e.x=this.long0,e.y=this.lat0,e;i=2*Math.asin(.5*s/this.rq),r=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(a=r*this.sinb1+c*i*this.cosb1/s,o=this.qp*a,c=s*this.cosb1*r-c*this.sinb1*i):(a=c*i/s,o=this.qp*a,c=s*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(o=l*l+c*c))return e.x=this.long0,e.y=this.lat0,e;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}t=Math.atan2(l,c),n=function(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}(Math.asin(a),this.apa)}return e.x=$ie(this.long0+t,this.over),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function Cse(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}const Dse={init:function(){Math.abs(this.lat1+this.lat2)<zre||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Die(this.e3,this.sin_po,this.cos_po),this.qs1=wse(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Die(this.e3,this.sin_po,this.cos_po),this.qs2=wse(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=wse(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>zre?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=wse(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*$ie(t-this.long0,this.over),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return e.x=s,e.y=a,e},inverse:function(e){var t,n,r,i,o,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=$ie(i/this.ns0+this.long0,this.over),e.x=o,e.y=s,e},names:["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"],phi1z:function(e,t){var n,r,i,o,s=Cse(.5*t);if(e<zre)return s;for(var a=e*e,l=1;l<=25;l++)if(s+=o=.5*(i=1-(r=e*(n=Math.sin(s)))*r)*i/Math.cos(s)*(t/(1-a)-n/i+.5/e*Math.log((1-r)/(1+r))),Math.abs(o)<=1e-7)return s;return null}};const Pse={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,n,r,i,o,s,a,l=e.x,c=e.y;return r=$ie(l-this.long0,this.over),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),(o=this.sin_p14*t+this.cos_p14*n*i)>0||Math.abs(o)<=zre?(s=this.x0+1*this.a*n*Math.sin(r)/o,a=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*i)/o):(s=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=s,e.y=a,e},inverse:function(e){var t,n,r,i,o,s;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),s=Cse((r=Math.cos(i))*this.sin_p14+e.y*n*this.cos_p14/t),o=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),o=$ie(this.long0+o,this.over)):(s=this.phic0,o=0),e.x=o,e.y=s,e},names:["gnom"]};const $se={init:function(){this.sphere||(this.k0=Die(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,n,r=e.x,i=e.y,o=$ie(r-this.long0,this.over);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=wse(this.e,Math.sin(i));t=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return e.x=t,e.y=n,e},inverse:function(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=$ie(this.long0+e.x/this.a/Math.cos(this.lat_ts),this.over),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*Ure:Ure;for(var r,i,o,s,a=Math.asin(.5*t),l=0;l<30;l++)if(i=Math.sin(a),o=Math.cos(a),s=e*i,a+=r=Math.pow(1-s*s,2)/(2*o)*(t/(1-e*e)-i/(1-s*s)+.5/e*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return a;return NaN}(this.e,2*e.y*this.k0/this.a),t=$ie(this.long0+e.x/(this.a*this.k0),this.over)),e.x=t,e.y=n,e},names:["cea"]};const Ase={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,n=e.y,r=$ie(t-this.long0,this.over),i=yse(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e},inverse:function(e){var t=e.x,n=e.y;return e.x=$ie(this.long0+(t-this.x0)/(this.a*this.rc),this.over),e.y=yse(this.lat0+(n-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"]};const Rse={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=fse(this.es),this.e1=pse(this.es),this.e2=mse(this.es),this.e3=gse(this.es),this.ml0=this.a*dse(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,n,r,i=e.x,o=e.y,s=$ie(i-this.long0,this.over);if(r=s*Math.sin(o),this.sphere)Math.abs(o)<=zre?(t=this.a*s,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(o),n=this.a*(yse(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=zre)t=this.a*s,n=-1*this.ml0;else{var a=_se(this.a,this.e,Math.sin(o))/Math.tan(o);t=a*Math.sin(r),n=this.a*dse(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){var t,n,r,i,o,s,a,l,c;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=zre)t=$ie(r/this.a+this.long0,this.over),n=0;else{var u;for(s=this.lat0+i/this.a,a=r*r/this.a/this.a+s*s,l=s,o=20;o;--o)if(l+=c=-1*(s*(l*(u=Math.tan(l))+1)-l-.5*(l*l+a)*u)/((l-s)/u-1),Math.abs(c)<=zre){n=l;break}t=$ie(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n),this.over)}else if(Math.abs(i+this.ml0)<=zre)n=0,t=$ie(this.long0+r/this.a,this.over);else{var h,d,f,p,m;for(s=(this.ml0+i)/this.a,a=r*r/this.a/this.a+s*s,l=s,o=20;o;--o)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*dse(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(s*(h*(p=d/this.a)+1)-p-.5*h*(p*p+a))/(this.es*Math.sin(2*l)*(p*p+a-2*s*p)/(4*h)+(s-p)*(h*f-2/Math.sin(2*l))-f),Math.abs(c)<=zre){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=$ie(this.long0+Math.asin(r*h/this.a)/Math.sin(n),this.over)}return e.x=t,e.y=n,e},names:["Polyconic","American_Polyconic","poly"]};const Ose={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,n=e.x,r=e.y-this.lat0,i=n-this.long0,o=r/Hre*1e-5,s=i,a=1,l=0;for(t=1;t<=10;t++)a*=o,l+=this.A[t]*a;var c,u=l,h=s,d=1,f=0,p=0,m=0;for(t=1;t<=6;t++)c=f*u+d*h,d=d*u-f*h,f=c,p=p+this.B_re[t]*d-this.B_im[t]*f,m=m+this.B_im[t]*d+this.B_re[t]*f;return e.x=m*this.a+this.x0,e.y=p*this.a+this.y0,e},inverse:function(e){var t,n,r=e.x,i=e.y,o=r-this.x0,s=(i-this.y0)/this.a,a=o/this.a,l=1,c=0,u=0,h=0;for(t=1;t<=6;t++)n=c*s+l*a,l=l*s-c*a,c=n,u=u+this.C_re[t]*l-this.C_im[t]*c,h=h+this.C_im[t]*l+this.C_re[t]*c;for(var d=0;d<this.iterations;d++){var f,p=u,m=h,g=s,_=a;for(t=2;t<=6;t++)f=m*u+p*h,p=p*u-m*h,m=f,g+=(t-1)*(this.B_re[t]*p-this.B_im[t]*m),_+=(t-1)*(this.B_im[t]*p+this.B_re[t]*m);p=1,m=0;var y=this.B_re[1],b=this.B_im[1];for(t=2;t<=6;t++)f=m*u+p*h,p=p*u-m*h,m=f,y+=t*(this.B_re[t]*p-this.B_im[t]*m),b+=t*(this.B_im[t]*p+this.B_re[t]*m);var v=y*y+b*b;u=(g*y+_*b)/v,h=(_*y-g*b)/v}var w=u,x=h,S=1,M=0;for(t=1;t<=9;t++)S*=w,M+=this.D[t]*S;var k=this.lat0+M*Hre*1e5,T=this.long0+x;return e.x=T,e.y=k,e},names:["New_Zealand_Map_Grid","nzmg"]};const Ise={init:function(){},forward:function(e){var t=e.x,n=e.y,r=$ie(t-this.long0,this.over),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=o,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=$ie(this.long0+e.x/this.a,this.over),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e},names:["Miller_Cylindrical","mill"]};const Fse={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Woe(this.es)},forward:function(e){var t,n,r=e.x,i=e.y;if(r=$ie(r-this.long0,this.over),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=20;s;--s){var a=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<zre)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);n=this.a*qoe(i,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r;return e.x-=this.x0,n=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,n/=this.C_x*(this.m+Math.cos(t)),this.m?t=Cse((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Cse(Math.sin(t)/this.n)),n=$ie(n+this.long0,this.over),t=yse(t)):(t=Boe(e.y/this.a,this.es,this.en),(r=Math.abs(t))<Ure?(r=Math.sin(t),n=$ie(this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(t)),this.over)):r-zre<Ure&&(n=this.long0)),e.x=n,e.y=t,e},names:["Sinusoidal","sinu"]};const Nse={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0},forward:function(e){for(var t=e.x,n=e.y,r=$ie(t-this.long0,this.over),i=n,o=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<zre)break}i/=2,Math.PI/2-Math.abs(n)<zre&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=a,e.y=l,e},inverse:function(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=$ie(this.long0+e.x/(.900316316158*this.a*Math.cos(t)),this.over);r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e},names:["Mollweide","moll"]};const Yse={init:function(){Math.abs(this.lat1+this.lat2)<zre||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=fse(this.es),this.e1=pse(this.es),this.e2=mse(this.es),this.e3=gse(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Die(this.e,this.sin_phi,this.cos_phi),this.ml1=dse(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<zre?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Die(this.e,this.sin_phi,this.cos_phi),this.ml2=dse(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=dse(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=dse(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var o=this.ns*$ie(n-this.long0,this.over),s=this.x0+t*Math.sin(o),a=this.y0+this.rh-t*Math.cos(o);return e.x=s,e.y=a,e},inverse:function(e){var t,n,r,i;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;return 0!==n&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere?(i=$ie(this.long0+o/this.ns,this.over),r=yse(this.g-n/this.a),e.x=i,e.y=r,e):(r=bse(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),i=$ie(this.long0+o/this.ns,this.over),e.x=i,e.y=r,e)},names:["Equidistant_Conic","eqdc"]};const jse={init:function(){this.R=this.a},forward:function(e){var t,n,r=e.x,i=e.y,o=$ie(r-this.long0,this.over);Math.abs(i)<=zre&&(t=this.x0+this.R*o,n=this.y0);var s=Cse(2*Math.abs(i/Math.PI));(Math.abs(o)<=zre||Math.abs(Math.abs(i)-Ure)<=zre)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),l=a*a,c=Math.sin(s),u=Math.cos(s),h=u/(c+u-1),d=h*h,f=h*(2/c-1),p=f*f,m=Math.PI*this.R*(a*(h-p)+Math.sqrt(l*(h-p)*(h-p)-(p+l)*(d-p)))/(p+l);o<0&&(m=-m),t=this.x0+m;var g=l+h;return m=Math.PI*this.R*(f*g-a*Math.sqrt((p+l)*(l+1)-g*g))/(p+l),n=i>=0?this.y0+m:this.y0-m,e.x=t,e.y=n,e},inverse:function(e){var t,n,r,i,o,s,a,l,c,u,h,d;return e.x-=this.x0,e.y-=this.y0,h=Math.PI*this.R,o=(r=e.x/h)*r+(i=e.y/h)*i,h=3*(i*i/(l=-2*(s=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(a=s-2*i*i+r*r)*a*a/l/l/l-9*s*a/l/l)/27)/(c=(s-a*a/3/l)/l)/(u=2*Math.sqrt(-c/3)),Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=e.y>=0?(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI:-(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI,t=Math.abs(r)<zre?this.long0:$ie(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r,this.over),e.x=t,e.y=n,e},names:["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"]};const Hse={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))},forward:function(e){var t,n,r,i,o,s,a,l,c,u,h,d=e.x,f=e.y,p=Math.sin(e.y),m=Math.cos(e.y),g=$ie(d-this.long0,this.over);return this.sphere?Math.abs(this.sin_p12-1)<=zre?(e.x=this.x0+this.a*(Ure-f)*Math.sin(g),e.y=this.y0-this.a*(Ure-f)*Math.cos(g),e):Math.abs(this.sin_p12+1)<=zre?(e.x=this.x0+this.a*(Ure+f)*Math.sin(g),e.y=this.y0+this.a*(Ure+f)*Math.cos(g),e):(c=this.sin_p12*p+this.cos_p12*m*Math.cos(g),l=(a=Math.acos(c))?a/Math.sin(a):1,e.x=this.x0+this.a*l*m*Math.sin(g),e.y=this.y0+this.a*l*(this.cos_p12*p-this.sin_p12*m*Math.cos(g)),e):(t=fse(this.es),n=pse(this.es),r=mse(this.es),i=gse(this.es),Math.abs(this.sin_p12-1)<=zre?(o=this.a*dse(t,n,r,i,Ure),s=this.a*dse(t,n,r,i,f),e.x=this.x0+(o-s)*Math.sin(g),e.y=this.y0-(o-s)*Math.cos(g),e):Math.abs(this.sin_p12+1)<=zre?(o=this.a*dse(t,n,r,i,Ure),s=this.a*dse(t,n,r,i,f),e.x=this.x0+(o+s)*Math.sin(g),e.y=this.y0+(o+s)*Math.cos(g),e):Math.abs(d)<zre&&Math.abs(f-this.lat0)<zre?(e.x=e.y=0,e):(u=function(e,t,n,r,i,o){const s=r-t,a=Math.atan((1-o)*Math.tan(e)),l=Math.atan((1-o)*Math.tan(n)),c=Math.sin(a),u=Math.cos(a),h=Math.sin(l),d=Math.cos(l);let f,p,m,g,_,y,b,v,w,x,S,M,k,T,E,L=s,C=100;do{if(p=Math.sin(L),m=Math.cos(L),g=Math.sqrt(d*p*(d*p)+(u*h-c*d*m)*(u*h-c*d*m)),0===g)return{azi1:0,s12:0};_=c*h+u*d*m,y=Math.atan2(g,_),b=u*d*p/g,v=1-b*b,w=0!==v?_-2*c*h/v:0,x=o/16*v*(4+o*(4-3*v)),f=L,L=s+(1-x)*o*b*(y+x*g*(w+x*_*(2*w*w-1)))}while(Math.abs(L-f)>1e-12&&--C>0);return 0===C?{azi1:NaN,s12:NaN}:(S=v*(i*i-i*(1-o)*(i*(1-o)))/(i*(1-o)*(i*(1-o))),M=1+S/16384*(4096+S*(S*(320-175*S)-768)),k=S/1024*(256+S*(S*(74-47*S)-128)),T=k*g*(w+k/4*(_*(2*w*w-1)-k/6*w*(4*g*g-3)*(4*w*w-3))),E=i*(1-o)*M*(y-T),{azi1:Math.atan2(d*p,u*h-c*d*m),s12:E})}(this.lat0,this.long0,f,d,this.a,this.f),h=u.azi1,e.x=u.s12*Math.sin(h),e.y=u.s12*Math.cos(h),e))},inverse:function(e){var t,n,r,i,o,s,a,l,c,u,h,d,f,p,m;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*Ure*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=zre?s=this.lat0:(s=Cse(i*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-Ure,o=Math.abs(a)<=zre?this.lat0>=0?$ie(this.long0+Math.atan2(e.x,-e.y),this.over):$ie(this.long0-Math.atan2(-e.x,e.y),this.over):$ie(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r),this.over)),e.x=o,e.y=s,e}return l=fse(this.es),c=pse(this.es),u=mse(this.es),h=gse(this.es),Math.abs(this.sin_p12-1)<=zre?(s=bse(((d=this.a*dse(l,c,u,h,Ure))-(t=Math.sqrt(e.x*e.x+e.y*e.y)))/this.a,l,c,u,h),o=$ie(this.long0+Math.atan2(e.x,-1*e.y),this.over),e.x=o,e.y=s,e):Math.abs(this.sin_p12+1)<=zre?(d=this.a*dse(l,c,u,h,Ure),s=bse(((t=Math.sqrt(e.x*e.x+e.y*e.y))-d)/this.a,l,c,u,h),o=$ie(this.long0+Math.atan2(e.x,e.y),this.over),e.x=o,e.y=s,e):(f=Math.atan2(e.x,e.y),p=Math.sqrt(e.x*e.x+e.y*e.y),m=function(e,t,n,r,i,o){const s=Math.atan((1-o)*Math.tan(e)),a=Math.sin(s),l=Math.cos(s),c=Math.sin(n),u=Math.cos(n),h=Math.atan2(a,l*u),d=l*c,f=1-d*d,p=f*(i*i-i*(1-o)*(i*(1-o)))/(i*(1-o)*(i*(1-o))),m=1+p/16384*(4096+p*(p*(320-175*p)-768)),g=p/1024*(256+p*(p*(74-47*p)-128));let _,y,b,v,w,x=r/(i*(1-o)*m),S=100;do{y=Math.cos(2*h+x),b=Math.sin(x),v=Math.cos(x),w=g*b*(y+g/4*(v*(2*y*y-1)-g/6*y*(4*b*b-3)*(4*y*y-3))),_=x,x=r/(i*(1-o)*m)+w}while(Math.abs(x-_)>1e-12&&--S>0);if(0===S)return{lat2:NaN,lon2:NaN};const M=a*b-l*v*u,k=o/16*f*(4+o*(4-3*f));return{lat2:Math.atan2(a*v+l*b*u,(1-o)*Math.sqrt(d*d+M*M)),lon2:t+(Math.atan2(b*c,l*v-a*b*u)-(1-k)*o*d*(x+k*b*(y+k*v*(2*y*y-1))))}}(this.lat0,this.long0,f,p,this.a,this.f),e.x=m.lon2,e.y=m.lat2,e)},names:["Azimuthal_Equidistant","aeqd"]};const Use={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,n,r,i,o,s,a,l=e.x,c=e.y;return r=$ie(l-this.long0,this.over),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),((o=this.sin_p14*t+this.cos_p14*n*i)>0||Math.abs(o)<=zre)&&(s=1*this.a*n*Math.sin(r),a=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*i)),e.x=s,e.y=a,e},inverse:function(e){var t,n,r,i,o,s,a;return e.x-=this.x0,e.y-=this.y0,n=Cse((t=Math.sqrt(e.x*e.x+e.y*e.y))/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=zre?(a=this.lat0,e.x=s,e.y=a,e):(a=Cse(i*this.sin_p14+e.y*r*this.cos_p14/t),o=Math.abs(this.lat0)-Ure,Math.abs(o)<=zre?(s=this.lat0>=0?$ie(this.long0+Math.atan2(e.x,-e.y),this.over):$ie(this.long0-Math.atan2(-e.x,e.y),this.over),e.x=s,e.y=a,e):(s=$ie(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r),this.over),e.x=s,e.y=a,e))},names:["ortho"]};var zse=1,Gse=2,Wse=3,qse=4,Bse=5,Vse=6,Xse=1,Kse=2,Zse=3,Jse=4;function Qse(e,t,n,r){var i;return e<zre?(r.value=Xse,i=0):(i=Math.atan2(t,n),Math.abs(i)<=qre?r.value=Xse:i>qre&&i<=Ure+qre?(r.value=Kse,i-=Ure):i>Ure+qre||i<=-(Ure+qre)?(r.value=Zse,i=i>=0?i-Vre:i+Vre):(r.value=Jse,i+=Ure)),i}function eae(e,t){var n=e+t;return n<-Vre?n+=Bre:n>+Vre&&(n-=Bre),n}const tae={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Ure-qre/2?this.face=Bse:this.lat0<=-(Ure-qre/2)?this.face=Vse:Math.abs(this.long0)<=qre?this.face=zse:Math.abs(this.long0)<=Ure+qre?this.face=this.long0>0?Gse:qse:this.face=Wse,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,n,r,i,o,s,a={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===Bse)i=Ure-t,n>=qre&&n<=Ure+qre?(l.value=Xse,r=n-Ure):n>Ure+qre||n<=-(Ure+qre)?(l.value=Kse,r=n>0?n-Vre:n+Vre):n>-(Ure+qre)&&n<=-qre?(l.value=Zse,r=n+Ure):(l.value=Jse,r=n);else if(this.face===Vse)i=Ure+t,n>=qre&&n<=Ure+qre?(l.value=Xse,r=-n+Ure):n<qre&&n>=-qre?(l.value=Kse,r=-n):n<-qre&&n>=-(Ure+qre)?(l.value=Zse,r=-n-Ure):(l.value=Jse,r=n>0?-n+Vre:-n-Vre);else{var c,u,h,d,f,p;this.face===Gse?n=eae(n,+Ure):this.face===Wse?n=eae(n,+Vre):this.face===qse&&(n=eae(n,-Ure)),d=Math.sin(t),f=Math.cos(t),p=Math.sin(n),c=f*Math.cos(n),u=f*p,h=d,this.face===zse?r=Qse(i=Math.acos(c),h,u,l):this.face===Gse?r=Qse(i=Math.acos(u),h,-c,l):this.face===Wse?r=Qse(i=Math.acos(-c),h,-u,l):this.face===qse?r=Qse(i=Math.acos(-u),h,c,l):(i=r=0,l.value=Xse)}return s=Math.atan(12/Vre*(r+Math.acos(Math.sin(r)*Math.cos(qre))-Ure)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Kse?s+=Ure:l.value===Zse?s+=Vre:l.value===Jse&&(s+=1.5*Vre),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,e.x=a.x,e.y=a.y,e},inverse:function(e){var t,n,r,i,o,s,a,l,c,u,h,d,f={lam:0,phi:0},p={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?p.value=Xse:e.y>=0&&e.y>=Math.abs(e.x)?(p.value=Kse,t-=Ure):e.x<0&&-e.x>=Math.abs(e.y)?(p.value=Zse,t=t<0?t+Vre:t-Vre):(p.value=Jse,t+=Ure),c=Vre/12*Math.tan(t),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(r=Math.cos(t))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===Bse)l=Math.acos(a),f.phi=Ure-l,p.value===Xse?f.lam=s+Ure:p.value===Kse?f.lam=s<0?s+Vre:s-Vre:p.value===Zse?f.lam=s-Ure:f.lam=s;else if(this.face===Vse)l=Math.acos(a),f.phi=l-Ure,p.value===Xse?f.lam=-s+Ure:p.value===Kse?f.lam=-s:p.value===Zse?f.lam=-s-Ure:f.lam=s<0?-s-Vre:-s+Vre;else{var m,g,_;c=(m=a)*m,g=(c+=(_=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*_)>=1?0:Math.sqrt(1-c),p.value===Kse?(c=g,g=-_,_=c):p.value===Zse?(g=-g,_=-_):p.value===Jse&&(c=g,g=_,_=-c),this.face===Gse?(c=m,m=-g,g=c):this.face===Wse?(m=-m,g=-g):this.face===qse&&(c=m,m=g,g=-c),f.phi=Math.acos(-_)-Ure,f.lam=Math.atan2(g,m),this.face===Gse?f.lam=eae(f.lam,-Ure):this.face===Wse?f.lam=eae(f.lam,-Vre):this.face===qse&&(f.lam=eae(f.lam,+Ure))}return 0!==this.es&&(u=f.phi<0?1:0,h=Math.tan(f.phi),d=this.b/Math.sqrt(h*h+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),u&&(f.phi=-f.phi)),f.lam+=this.long0,e.x=f.lam,e.y=f.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var nae=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],rae=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],iae=.8487,oae=1.3523,sae=Wre/5,aae=1/sae,lae=18,cae=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))};const uae={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=$ie(e.x-this.long0,this.over),n=Math.abs(e.y),r=Math.floor(n*sae);r<0?r=0:r>=lae&&(r=17);var i={x:cae(nae[r],n=Wre*(n-aae*r))*t,y:cae(rae[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*iae+this.x0,i.y=i.y*this.a*oae+this.y0,i},inverse:function(e){var t={x:(e.x-this.x0)/(this.a*iae),y:Math.abs(e.y-this.y0)/(this.a*oae)};if(t.y>=1)t.x/=nae[18][0],t.y=e.y<0?-Ure:Ure;else{var n=Math.floor(t.y*lae);for(n<0?n=0:n>=lae&&(n=17);;)if(rae[n][0]>t.y)--n;else{if(!(rae[n+1][0]<=t.y))break;++n}var r=rae[n],i=5*(t.y-r[0])/(rae[n+1][0]-r[0]);i=function(e,t,n,r){for(var i=t;r;--r){var o=e(i);if(i-=o,Math.abs(o)<n)break}return i}(function(e){return(cae(r,e)-t.y)/function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])}(r,e)},i,zre,100),t.x/=cae(nae[n],i),t.y=(5*n+i)*Gre,e.y<0&&(t.y=-t.y)}return t.x=$ie(t.x+this.long0,this.over),t},names:["Robinson","robin"]};const hae={init:function(){this.name="geocent"},forward:function(e){return loe(e,this.es,this.a)},inverse:function(e){return coe(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var dae=0,fae=1,pae=2,mae=3,gae={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const _ae={init:function(){if(Object.keys(gae).forEach(function(e){if(void 0===this[e])this[e]=gae[e].def;else{if(gae[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);gae[e].num&&(this[e]=parseFloat(this[e]))}gae[e].degrees&&(this[e]=this[e]*Gre)}.bind(this)),Math.abs(Math.abs(this.lat0)-Ure)<zre?this.mode=this.lat0<0?fae:dae:Math.abs(this.lat0)<zre?this.mode=pae:(this.mode=mae,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,n,r,i,o=Math.sin(e.y),s=Math.cos(e.y),a=Math.cos(e.x);switch(this.mode){case mae:n=this.sinph0*o+this.cosph0*s*a;break;case pae:n=s*a;break;case fae:n=-o;break;case dae:n=o}switch(t=(n=this.pn1/(this.p-n))*s*Math.sin(e.x),this.mode){case mae:n*=this.cosph0*o-this.sinph0*s*a;break;case pae:n*=o;break;case dae:n*=-s*a;break;case fae:n*=s*a}return i=1/((r=n*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*i,n=r*i,e.x=t*this.a,e.y=n*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,n,r,i={x:e.x,y:e.y};r=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*r,n=this.pn1*e.y*this.cw*r,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var o=Koe(e.x,e.y);if(Math.abs(o)<zre)i.x=0,i.y=e.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case mae:i.y=Math.asin(s*this.sinph0+e.y*a*this.cosph0/o),e.y=(s-this.sinph0*Math.sin(i.y))*o,e.x*=a*this.cosph0;break;case pae:i.y=Math.asin(e.y*a/o),e.y=s*o,e.x*=a;break;case dae:i.y=Math.asin(s),e.y=-e.y;break;case fae:i.y=-Math.asin(s)}i.x=Math.atan2(e.x,e.y)}return e.x=i.x+this.long0,e.y=i.y,e},names:["Tilted_Perspective","tpers"]};const yae={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(e){var t,n,r,i,o=e.x,s=e.y;if(o-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/Koe(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(o)*Math.cos(s),r=a*Math.sin(o)*Math.cos(s),i=a*Math.sin(s),(this.radius_g-n)*n-r*r-i*i*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/Koe(i,t)),e.y=this.radius_g_1*Math.atan(i/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(i/Koe(r,t)))}else"sphere"===this.shape&&(t=Math.cos(s),n=Math.cos(o)*t,r=Math.sin(o)*t,i=Math.sin(s),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/Koe(i,t)),e.y=this.radius_g_1*Math.atan(i/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(i/Koe(r,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e},inverse:function(e){var t,n,r,i,o=-1,s=0,a=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),s=Math.tan(e.x/this.radius_g_1)*Koe(1,a)):(s=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Koe(1,s));var l=a/this.radius_p;if(t=s*s+l*l+o*o,(r=(n=2*this.radius_g*o)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=(-n-Math.sqrt(r))/(2*t),o=this.radius_g+i*o,s*=i,a*=i,e.x=Math.atan2(s,o),e.y=Math.atan(a*Math.cos(e.x)/o),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),s=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+s*s)),t=s*s+a*a+o*o,(r=(n=2*this.radius_g*o)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=(-n-Math.sqrt(r))/(2*t),o=this.radius_g+i*o,s*=i,a*=i,e.x=Math.atan2(s,o),e.y=Math.atan(a*Math.cos(e.x)/o)}return e.x=e.x+this.long0,e},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var bae=1.340264,vae=-.081106,wae=893e-6,xae=.003796,Sae=Math.sqrt(3)/2;const Mae={init:function(){this.es=0,this.long0=void 0!==this.long0?this.long0:0,this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0},forward:function(e){var t=$ie(e.x-this.long0,this.over),n=e.y,r=Math.asin(Sae*Math.sin(n)),i=r*r,o=i*i*i;return e.x=t*Math.cos(r)/(Sae*(bae+3*vae*i+o*(7*wae+.034164*i))),e.y=r*(bae+vae*i+o*(wae+xae*i)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t,n,r,i,o=e.y;for(i=0;i<12&&(o-=r=(o*(bae+vae*(t=o*o)+(n=t*t*t)*(wae+xae*t))-e.y)/(bae+3*vae*t+n*(7*wae+.034164*t)),!(Math.abs(r)<1e-9));++i);return n=(t=o*o)*t*t,e.x=Sae*e.x*(bae+3*vae*t+n*(7*wae+.034164*t))/Math.cos(o),e.y=Math.asin(Math.sin(o)/Sae),e.x=$ie(e.x+this.long0,this.over),e},names:["eqearth","Equal Earth","Equal_Earth"]};var kae=1e-10;function Tae(e){var t,n,r,i=$ie(e.x-(this.long0||0),this.over),o=e.y;return t=this.am1+this.m1-qoe(o,n=Math.sin(o),r=Math.cos(o),this.en),n=r*i/(t*Math.sqrt(1-this.es*n*n)),e.x=t*Math.sin(n),e.y=this.am1-t*Math.cos(n),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function Eae(e){var t,n,r,i;if(e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a,n=Koe(e.x,e.y=this.am1-e.y),i=Boe(this.am1+this.m1-n,this.es,this.en),(t=Math.abs(i))<Ure)t=Math.sin(i),r=n*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(i);else{if(!(Math.abs(t-Ure)<=kae))throw new Error;r=0}return e.x=$ie(r+(this.long0||0),this.over),e.y=yse(i),e}function Lae(e){var t,n,r=$ie(e.x-(this.long0||0),this.over),i=e.y;return n=this.cphi1+this.phi1-i,Math.abs(n)>kae?(e.x=n*Math.sin(t=r*Math.cos(i)/n),e.y=this.cphi1-n*Math.cos(t)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function Cae(e){var t,n;e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var r=Koe(e.x,e.y=this.cphi1-e.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>Ure)throw new Error;return t=Math.abs(Math.abs(n)-Ure)<=kae?0:r*Math.atan2(e.x,e.y)/Math.cos(n),e.x=$ie(t+(this.long0||0),this.over),e.y=yse(n),e}const Dae={init:function(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<kae)throw new Error;this.es?(this.en=Woe(this.es),this.m1=qoe(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Eae,this.forward=Tae):(Math.abs(this.phi1)+kae>=Ure?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Cae,this.forward=Lae)},names:["bonne","Bonne (Werner lat_1=90)"]},Pae={OBLIQUE:{forward:function(e,t){let{x:n,y:r}=t;n+=e.long0;const i=Math.cos(n),o=Math.sin(r),s=Math.cos(r);t.x=$ie(Math.atan2(s*Math.sin(n),e.sphip*s*i+e.cphip*o)+e.lamp),t.y=Math.asin(e.sphip*o-e.cphip*s*i);const a=e.obliqueProjection.forward(t);e.isIdentity&&(a.x*=Wre,a.y*=Wre);return a},inverse:function(e,t){e.isIdentity&&(t.x*=Gre,t.y*=Gre);const n=e.obliqueProjection.inverse(t);let{x:r,y:i}=n;if(r<Number.MAX_VALUE){r-=e.lamp;const n=Math.cos(r),o=Math.sin(i),s=Math.cos(i);t.x=Math.atan2(s*Math.sin(r),e.sphip*s*n-e.cphip*o),t.y=Math.asin(e.sphip*o+e.cphip*s*n)}return t.x=$ie(t.x+e.long0),t}},TRANSVERSE:{forward:function(e,t){let{x:n,y:r}=t;n+=e.long0;const i=Math.cos(r),o=Math.cos(n);t.x=$ie(Math.atan2(i*Math.sin(n),Math.sin(r))+e.lamp),t.y=Math.asin(-1*i*o);const s=e.obliqueProjection.forward(t);e.isIdentity&&(s.x*=Wre,s.y*=Wre);return s},inverse:function(e,t){e.isIdentity&&(t.x*=Gre,t.y*=Gre);const n=e.obliqueProjection.inverse(t);let{x:r,y:i}=n;if(r<Number.MAX_VALUE){const n=Math.cos(i);r-=e.lamp,t.x=Math.atan2(n*Math.sin(r),-1*Math.sin(i)),t.y=Math.asin(n*Math.cos(r))}return t.x=$ie(t.x+e.long0),t}}},$ae={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};const Aae={init:function(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=Fie.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if("ob_tran"===this.o_proj)throw new Error("Invalid value for o_proj: "+this.o_proj);const e=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),t=aoe(e);if(!t)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);let n;t.long0=0,this.obliqueProjection=t;const r=Object.keys($ae),i=e=>{if(void 0===this[e])return;const t=parseFloat(this[e])*Gre;if(isNaN(t))throw new Error("Invalid value for "+e+": "+this[e]);return t};for(let e=0;e<r.length;e++){const t=r[e],o=$ae[t],s=Object.entries(o),a=s.some(([e])=>void 0!==this[e]);if(a){n=o;for(let e=0;e<s.length;e++){const[t,n]=s[e],r=i(t);if(void 0===r)throw new Error("Missing parameter: "+t+".");this[n]=r}break}}if(!n)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:o,phip:s}=function(e,t){let n,r;if(t===$ae.ROTATE){let t=e.oLongC,i=e.oLatC,o=e.oAlpha;if(Math.abs(Math.abs(i)-Ure)<=zre)throw new Error("Invalid value for o_lat_c: "+e.o_lat_c+" should be < 90°");r=t+Math.atan2(-1*Math.cos(o),-1*Math.sin(o)*Math.sin(i)),n=Math.asin(Math.cos(i)*Math.sin(o))}else if(t===$ae.NEW_POLE)r=e.oLongP,n=e.oLatP;else{let t=e.oLong1,i=e.oLat1,o=e.oLong2,s=e.oLat2,a=Math.abs(i);if(Math.abs(i)>Ure-zre)throw new Error("Invalid value for o_lat_1: "+e.o_lat_1+" should be < 90°");if(Math.abs(s)>Ure-zre)throw new Error("Invalid value for o_lat_2: "+e.o_lat_2+" should be < 90°");if(Math.abs(i-s)<zre)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(a<zre)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");r=Math.atan2(Math.cos(i)*Math.sin(s)*Math.cos(t)-Math.sin(i)*Math.cos(s)*Math.cos(o),Math.sin(i)*Math.cos(s)*Math.sin(o)-Math.cos(i)*Math.sin(s)*Math.sin(t)),n=Math.atan(-1*Math.cos(r-t)/Math.tan(i))}return{lamp:r,phip:n}}(this,n);this.lamp=o,Math.abs(s)>zre?(this.cphip=Math.cos(s),this.sphip=Math.sin(s),this.projectionType=Pae.OBLIQUE):this.projectionType=Pae.TRANSVERSE},forward:function(e){return this.projectionType.forward(this,e)},inverse:function(e){return this.projectionType.inverse(this,e)},names:["General Oblique Transformation","General_Oblique_Transformation","ob_tran"]};const Rae=Object.assign(xoe,{defaultDatum:"WGS84",Proj:aoe,WGS84:new aoe("WGS84"),Point:Hoe,toPoint:goe,defs:Tie,nadgrid:function(e,t,n){return t instanceof ArrayBuffer?function(e,t,n){var r=!0;void 0!==n&&!1===n.includeErrorFields&&(r=!1);var i=new DataView(t),o=function(e){var t=e.getInt32(8,!1);if(11===t)return!1;t=e.getInt32(8,!0),11!==t&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(i),s=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:noe(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(i,o),a=function(e,t,n,r){for(var i=176,o=[],s=0;s<t.nSubgrids;s++){var a=ioe(e,i,n),l=ooe(e,i,a,n,r),c=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);o.push({ll:[toe(a.lowerLongitude),toe(a.lowerLatitude)],del:[toe(a.longitudeInterval),toe(a.latitudeInterval)],lim:[c,u],count:a.gridNodeCount,cvs:roe(l)});var h=16;!1===r&&(h=8),i+=176+a.gridNodeCount*h}return o}(i,s,o,r),l={header:s,subgrids:a};return Zie[e]=l,l}(e,t,n):{ready:Jie(e,t)}},transform:yoe,mgrs:Doe,version:"__VERSION__"});!function(e){e.Proj.projections.add(Voe),e.Proj.projections.add(ese),e.Proj.projections.add(tse),e.Proj.projections.add(ise),e.Proj.projections.add(sse),e.Proj.projections.add(ase),e.Proj.projections.add(cse),e.Proj.projections.add(use),e.Proj.projections.add(hse),e.Proj.projections.add(vse),e.Proj.projections.add(Lse),e.Proj.projections.add(Dse),e.Proj.projections.add(Pse),e.Proj.projections.add($se),e.Proj.projections.add(Ase),e.Proj.projections.add(Rse),e.Proj.projections.add(Ose),e.Proj.projections.add(Ise),e.Proj.projections.add(Fse),e.Proj.projections.add(Nse),e.Proj.projections.add(Yse),e.Proj.projections.add(jse),e.Proj.projections.add(Hse),e.Proj.projections.add(Use),e.Proj.projections.add(tae),e.Proj.projections.add(uae),e.Proj.projections.add(hae),e.Proj.projections.add(_ae),e.Proj.projections.add(yae),e.Proj.projections.add(Mae),e.Proj.projections.add(Dae),e.Proj.projections.add(Aae)}(Rae);const Oae=Rae;function Iae(e,t){Oae.defs(e,t.definition.join(" ").trim());const n=/^EPSG:(\d+)$/.exec(e);null!==n&&Oae.defs("http://www.opengis.net/gml/srs/epsg.xml#"+n[1],Oae.defs(e)),Nre(Oae);const r=NA(e);return r.setExtent(t.extent),r}const Fae="units",Nae=[1,2,5],Yae=25.4/.28;const jae=class extends rZ{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+On,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(Fae,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(Fae)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(Fae,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=e.center,n=e.projection,r=this.getUnits(),i="degrees"==r?"degrees":"m";let o=YA(n,e.resolution,t,i);const s=this.minWidth_*(this.dpi_||Yae)/Yae,a=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||Yae)/Yae:void 0;let l=s*o,c="";if("degrees"==r){const e=O$.degrees;l*=e,l<e/60?(c="″",o*=3600):l<e?(c="′",o*=60):c="°"}else if("imperial"==r)l<.9144?(c="in",o/=.0254):l<1609.344?(c="ft",o/=.3048):(c="mi",o/=1609.344);else if("nautical"==r)o/=1852,c="NM";else if("metric"==r)l<1e-6?(c="nm",o*=1e9):l<.001?(c="μm",o*=1e6):l<1?(c="mm",o*=1e3):l<1e3?c="m":(c="km",o/=1e3);else{if("us"!=r)throw new Error("Invalid units");l<.9144?(c="in",o*=39.37):l<1609.344?(c="ft",o/=.30480061):(c="mi",o/=1609.3472)}let u,h,d,f,p,m=3*Math.floor(Math.log(s*o)/Math.log(10)),g=0;for(;;){d=Math.floor(m/3);const e=Math.pow(10,d);if(u=Nae[(m%3+3)%3]*e,h=Math.round(u/o),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==a&&h>=a){u=g,h=f,d=p;break}if(h>=s)break;g=u,f=h,p=d,++m}const _=this.scaleBar_?this.createScaleBar(h,u,c):u.toFixed(d<0?-d:0)+" "+c;this.renderedHTML_!=_&&(this.innerElement_.innerHTML=_,this.renderedHTML_=_),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,n){const r=this.getScaleForResolution(),i=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),o=this.scaleBarSteps_,s=e/o,a=[this.createMarker("absolute")];for(let r=0;r<o;++r){const i=r%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${i}" style="width: ${s}px;"></div>`+this.createMarker("relative")+(r%2==0||2===o?this.createStepText(r,e,!1,t,n):"")+"</div>")}a.push(this.createStepText(o,e,!0,t,n));return(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+i+"</div>":"")+a.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,n,r,i){const o=(0===e?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+i);return`<div class="ol-scale-step-text" style="margin-left: ${0===e?-3:t/this.scaleBarSteps_*-1}px;text-align: ${0===e?"left":"center"};min-width: ${0===e?0:t/this.scaleBarSteps_*2}px;left: ${n?t+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){return YA(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||Yae)}render(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}};function Hae(e,t,n){if(function(e){for(const t in e)Iae(t,e[t])}(t.get("gmfProjectionsOptions")),this.options=t.get("gmfOptions"),this.options.cssVars){const e=function(e){const t={};if(e["brand-primary"]){const n=bne(e["brand-primary"]),r=bne({h:n.toHsl().h,s:.25,l:.5});t["link-color"]=r.toHexString(),t["link-hover-color"]=r.clone().darken(15).toHexString();const i=n.clone().darken(15);t["input-border-focus"]=i.toHexString(),t["input-border-focus-darken"]=i.clone().darken(15).toHexString(),t["border-color"]=i.toHexString(),t["table-border-color"]=i.toHexString(),t["hover-background-color"]=n.clone().lighten(15).toHexString();const o=n.clone();o.setAlpha(.25),t["input-btn-focus-color"]=o.toRgbString()}if(e["brand-secondary"]){const n=bne(e["brand-secondary"]);t["brand-secondary-dark"]=n.clone().darken(15).toHexString()}return Object.assign(t,e),t}(this.options.cssVars),t=document.documentElement.style;for(const n in e)t.setProperty(`--${n}`,e[n])}const r=document.getElementById("scaleline"),i=new lY(this.options.view),o=i.getConstraints(),s=o.center,a=(e,t)=>e>0?e%t:t+e%t;o.center=(e,t,n,r,i)=>{const o=s(e,t,n,r,i);if(!r){const e=this.options.wmtsTopLeft||[0,0],r=a((o[0]-e[1])/t-n[0]/2+.5,1)-.5,i=a((e[0]-o[1])/t-n[1]/2+.5,1)-.5;o[0]-=r*t,o[1]+=i*t}return o},this.originalViewSetHint=i.setHint,this.fixCenterOnGrid(i);const l=new RZ(Object.assign({layers:[],view:i,controls:this.options.mapControls||[new jae({target:r,dpi:96}),new sZ(this.options.controlZoom||{target:n?void 0:"ol-zoom-control",zoomInTipLabel:"",zoomOutTipLabel:""}),new oZ({label:Gae(),tipLabel:""})],interactions:this.options.mapInteractions||LZ(this.options.interationDefaults||(n?{}:{dragPan:!1}))},this.options.map));if(l.updateViewportSize_=function(){const e=this.getView();if(e){let t;const n=getComputedStyle(this.viewport_);n.width&&n.height&&(t=[Math.round(parseFloat(n.width)),Math.round(parseFloat(n.height))]),e.setViewportSize(t)}},n||l.addInteraction(new cZ({condition:Uae})),Az.setMap(l),window.map=l,this.ngeoLocation=t.get("ngeoLocation"),this.ngeoLocation.hasParam("debug")&&(window.injector=t),this.map=l,!(this.map instanceof RZ))throw new Error("Wrong map type");const c=t.get("ngeoFeatures");this.drawFeatureLayer=sz.getFeatureOverlay(),this.drawFeatureLayer.setFeatures(c);t.get("ngeoFeatureHelper").setProjection(this.map.getView().getProjection()),this.gmfThemeManager=t.get("gmfThemeManager"),this.gmfTreeManager_=t.get("gmfTreeManager"),this.gmfThemes=t.get("gmfThemes"),this.loading=!0,this.gmfThemes.getThemesObject().finally(()=>{this.loading=!1}),this.postLoading=!1,this.permalink_=t.get("gmfPermalink"),this.hasEditableLayers=!1,this.updateHasEditableLayers_=()=>{this.gmfThemes.hasEditableLayers().then(e=>{this.hasEditableLayers=e})},this.loginRedirectUrl=null,this.searchListeners={select:function(e,t,n){if(void 0!==t.get){const e=t.get("params")||{};for(const t in e)this.dimensions[t]=e[t].toString()}}.bind(this)},e.$on("authenticationrequired",(t,n)=>{this.loginRedirectUrl=n.url,this.loginActive=!0;const r=e.$watch(()=>this.loginActive,()=>{this.loginActive||(this.loginRedirectUrl=null,r())})}),this.hasPrivateLayers=!1,ia.getLoginMessage().subscribe({next:e=>{this.hasPrivateLayers=e==na}});const u=()=>{if(this.loginRedirectUrl)return void(window.location.href=this.loginRedirectUrl);const e=kb.getRolesIds().join(","),t=this.gmfUser.functionalities;t&&t.filterable_layers&&t.filterable_layers.length>0&&(this.filterSelectorEnabled=!0),this.gmfThemes.getThemesObject().then(e=>{t&&t.open_panel&&"layer_filter"===t.open_panel[0]&&(this.filterSelectorActive=!0)});const n=this.gmfThemeManager.getThemeName();if(this.gmfThemes.loadThemes(e),ia.getState()!==ta.READY){const e=this.permalink_.defaultThemeNameFromFunctionalities();this.gmfThemeManager.updateCurrentTheme(e,n,!0,this.hasPrivateLayers)}this.setDefaultBackground_(null),this.updateHasEditableLayers_()};this.gmfUser=null,ia.getProperties().subscribe({next:e=>{const t=ia.getState();t!==ta.DISCONNECTED||!1!==this.gmfUser.is_password_changed?(this.gmfUser=e,t!==ta.NOT_INITIALIZED&&(t===ta.DISCONNECTED&&(this.loginActive=!0),!1!==this.gmfUser.is_password_changed&&u())):this.gmfUser=e}}),this.dimensions={},this.permalink_.setDimensions(this.dimensions);const h=t.get("gmfDataSourcesManager");if(h.setDatasourceMap(this.map),h.setDimensions(this.dimensions),t.has("gmfDefaultDimensions")){const e=t.get("gmfDefaultDimensions");for(const t in e)void 0===this.dimensions[t]&&(this.dimensions[t]=e[t])}this.backgroundLayerMgr_=t.get("ngeoBackgroundLayerMgr"),e.$watchCollection(()=>this.dimensions,()=>{this.backgroundLayerMgr_.updateDimensions(this.map,this.dimensions)}),this.backgroundLayerMgr_.on("change",()=>{this.backgroundLayerMgr_.updateDimensions(this.map,this.dimensions)}),this.filterSelectorEnabled=!1,this.queryActive=!0,this.ngeoMapQuerent_=t.get("ngeoMapQuerent"),this.stateManager=t.get("ngeoStateManager"),this.tmhDynamicLocale=t.get("tmhDynamicLocale"),this.$scope=e,this.lang="",this.defaultLang=t.get("defaultLang"),this.langUrls=t.get("langUrls"),this.gettextCatalog=t.get("gettextCatalog"),this.initLanguage(),this.mapToolsGroup="mapTools";sz.init(this.map);const d=t.get("ngeoToolActivateMgr"),f=new vre(this,"queryActive");d.registerTool(this.mapToolsGroup,f,!0),e.$root.$on(x7,(e,t)=>{this.gmfThemes.getThemeObject(t).then(e=>{this.setDefaultBackground_(e)})});const p=(e,t,n,r)=>{this.displaywindowTitle=e,this.displaywindowOpen=!0,t&&(this.displaywindowWidth=`${t}px`),n&&(this.displaywindowHeight=`${n}px`),!1!==r&&this.$scope.$apply()},m=window.gmfx||{};window.gmfx=m,m.openIframePopup=(e,t,n,r,i)=>{this.displaywindowUrl=e,p(t,n,r,i)},m.openTextPopup=(e,t,n,r,i)=>{this.displaywindowContent=e,p(t,n,r,i)},this.manageResize=!1,this.resizeTransition;const g=window.cgxp||{};if(window.cgxp=g,g.tools=window.cgxp.tools||{},g.tools.openInfoWindow=function(e,t,n,r,i){m.openIframePopup(e,t,n,r,i)},this.displaywindowContent=null,this.displaywindowDraggableContainment=".gmf-map",this.displaywindowHeight="50vh",this.displaywindowOpen=!1,this.displaywindowTitle=null,this.displaywindowUrl=null,this.displaywindowWidth="50vw",t.has("sentryOptions")){const e=t.get("sentryOptions");if(e.dsn){e.integrations=[cb()];const n=e.tags||[];delete e.tags,Object.assign(e,{beforeBreadcrumb:Wae}),function(e={}){const t=!e.skipBrowserExtensionCheck&&Cg(),n={...e,enabled:!t&&e.enabled,stackParser:(r=e.stackParser||fg,Array.isArray(r)?La(...r):r),integrations:nh({integrations:e.integrations,defaultIntegrations:null==e.defaultIntegrations?[Ih(),Ah(),bg(),_g(),Mg(),Lg(),qh(),Eg(),Sg()]:e.defaultIntegrations}),transport:e.transport||sg};var r;wh(vp,n)}(e),t.has("interface")&&!n.interface&&Vu("interface",t.get("interface"));for(const e in n)Vu(e,n[e])}}}function Uae(e){return Ej(e)&&2!==e.originalEvent.button}function zae(e,t){return t&&t.length>0?e.find(e=>e.get("label")===t[0]):null}function Gae(){const e=document.createElement("span");e.className="fa-solid fa-location-arrow",e.style.transform="rotate(-0.82rad)",e.style.fontSize="1.3em";const t=document.createElement("span");return t.appendChild(e),t}function Wae(e,t){if("ui.click"===e.category){const n=t.event.target;if(n){const t=n.dataset.sentry;t&&(e.message=`${e.message} | ${t}`)}}}Hae.$inject=["$scope","$injector","mobile"],Hae.prototype.fixCenterOnGrid=function(e){const t=lO((e,t,n)=>{t===cO&&-1===n&&e.setCenter(e.getCenter())},50);e.setHint=(n,r)=>{this.originalViewSetHint.call(e,n,r),t(e,n,r)}},Hae.prototype.switchLanguage=function(e){if(!(e in this.langUrls))throw new Error("Missing lang URL");this.gettextCatalog.setCurrentLanguage(e),this.gettextCatalog.loadRemote(this.langUrls[e]),this.tmhDynamicLocale.set(e),this.lang=e},Hae.prototype.initLanguage=function(){this.$scope.$watch(()=>this.lang,e=>{this.stateManager.updateState({lang:e})});const e=function(e){let t=window.navigator.languages||[window.navigator.language];return t=t.map(e=>e.substring(0,2)),t=t.filter((e,t,n)=>n.indexOf(e)==t),t.filter(t=>e.includes(t))[0]}(Object.keys(this.langUrls)),t=this.stateManager.getInitialStringValue("lang");return void 0!==t&&t in this.langUrls?void this.switchLanguage(t):void 0!==e&&e in this.langUrls?void this.switchLanguage(e):void this.switchLanguage(this.defaultLang)},Hae.prototype.setDefaultBackground_=function(e){this.gmfThemes.getBgLayers().then(t=>{let n;if(ea.touchedByUser||(n=this.permalink_.getBackgroundLayer(t)),!n&&this.gmfUser.functionalities&&(n=zae(t,this.gmfUser.functionalities.default_basemap)),!n&&e&&(n=zae(t,e.functionalities.default_basemap)),n||(n=t[t.length>1?1:0]),!n)throw new Error("Missing layer");this.backgroundLayerMgr_.set(this.map,n)})};const qae=t().module("GmfAbstractAppControllerModule",["gettext","tmh.dynamicLocale",P1.name,D8.name,J8.name,O9.name,Xee.name,kte.name,cne.name,mne.name,tre.name,bre.name,_4.name,cte.name,Cre.name,n9.name,$re.name,Ire.name,Vee.name]);qae.controller("AbstractController",Hae),qae.value("ngeoExportFeatureFormats",[h4,u4]),qae.config(["tmhDynamicLocaleProvider","angularLocaleScript",function(e,t){e.localeLocationPattern(t)}]),Uz(qae);const Bae=qae,Vae=class extends x2{constructor(e,t,n={}){let r;if(super(n),void 0!==n.continueMsg)r=n.continueMsg;else{r=document.createElement("span"),r.textContent=t.getString("Click to continue drawing the polygon.");const e=document.createElement("br");e.textContent=t.getString("Double-click or click starting point to finish."),r.appendChild(e)}this.continueMsg=r,this.format=e}createDrawInteraction(e,t){return new rz({type:"Polygon",source:t,style:e})}handleMeasure(e){if(!this.sketchFeature)throw new Error("Missing sketchFeature");const t=this.sketchFeature.getGeometry();if(!(t instanceof KN))throw new Error("Missing geometry");const n=this.getMap().getView().getProjection();console.assert(n);const r=y2(t,n,this.precision,this.format);let i=null;t.getCoordinates()[0].length>3&&(i=t.getInteriorPoint().getCoordinates()),e(r,i)}},Xae=class extends NU{constructor(e){super({handleEvent:nn}),this.changeEventKey_=null,this.type_=e.type,this.minPoints_=e.minPoints?e.minPoints:"Polygon"===this.type_?3:2,this.sketchFeature_=null,this.sketchPoints_=[],this.sketchPoint_=null,this.overlay_=new MY({className:"canvas2d",source:new _j({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style||S2(),updateWhileAnimating:!0,updateWhileInteracting:!0}),dn(this,"change:active",this.updateState_,this),this.set("dirty",!1),this.set("drawing",!1),this.set("valid",!1)}setMap(e){this.getMap()&&this.changeEventKey_&&pn(this.changeEventKey_),NU.prototype.setMap.call(this,e),e&&(this.changeEventKey_=dn(e.getView(),"change:center",this.handleViewCenterChange_,this)),this.updateState_()}getDirty(){return this.get("dirty")}getDrawing(){return this.get("drawing")}getValid(){return this.get("valid")}getFeature(){return this.sketchFeature_}addToDrawing(){if(!this.sketchPoint_)throw new Error("Missing sketchPoint");const e=this.getActive(),t=this.getDrawing();if(!e||!t)return;let n;const r=this.getSketchPointGeometry_().getCoordinates();let i=null;if("Point"===this.type_){if(!this.sketchFeature_){this.sketchFeature_=new AP({geometry:new $R(r),name:"mobileDrawPoint"});const e=new x1("drawstart",{feature:this.sketchFeature_});this.dispatchEvent(e)}return n=this.sketchFeature_.getGeometry(),void(n instanceof TR&&n.setCoordinates(r))}if("LineString"===this.type_)if(this.sketchPoints_.push(this.sketchPoint_),this.sketchFeature_)n=this.sketchFeature_.getGeometry(),n instanceof TR&&(i=n.getCoordinates(),i.push(r.slice()),n.setCoordinates(i));else{i=[r.slice(),r.slice()],this.sketchFeature_=new AP({geometry:new oO(i),name:"mobileDrawLine"});const e=new x1("drawstart",{feature:this.sketchFeature_});this.dispatchEvent(e)}if("Polygon"===this.type_)if(this.sketchPoints_.push(this.sketchPoint_),this.sketchFeature_){if(n=this.sketchFeature_.getGeometry(),n instanceof KN){const e=n.getCoordinates();i=e[0],i.push(r.slice()),n.setCoordinates(e)}}else{i=[r.slice(),r.slice(),r.slice()],this.sketchFeature_=new AP({geometry:new KN([i]),name:"DrawMobilePolygon"});const e=new x1("drawstart",{feature:this.sketchFeature_});this.dispatchEvent(e)}if(this.getDirty()&&this.set("dirty",!1),!i)throw new Error("Missing coordinates");const o=this.getValid();"LineString"!==this.type_&&"Polygon"!==this.type_||(i.length>=this.minPoints_?o||this.set("valid",!0):o&&this.set("valid",!1)),this.sketchPoint_=null,this.updateSketchFeatures_()}clearDrawing(){this.setActive(!1),this.setActive(!0)}finishDrawing(){const e=this.getActive(),t=this.getDrawing();if(!e||!t)return;this.sketchPoint_&&this.addToDrawing(),this.set("drawing",!1);const n=new x1("drawend",{feature:this.sketchFeature_});this.dispatchEvent(n)}startDrawing_(){this.set("drawing",!0),this.createOrUpdateSketchPoint_(),this.updateSketchFeatures_(),"Point"===this.type_&&this.addToDrawing()}modifyDrawing_(){if(!this.sketchFeature_)return;const e=this.getCenter_();if("LineString"===this.type_){const t=this.sketchFeature_.getGeometry();if(t instanceof TR){const n=t.getCoordinates();n.pop(),n.push(e),t.setCoordinates(n)}}else if("Polygon"===this.type_){const t=this.sketchFeature_.getGeometry();if(t instanceof KN){const n=t.getCoordinates()[0];n.pop(),n.push(e),t.setCoordinates([n])}}this.getDirty()||this.set("dirty",!0)}abortDrawing_(){const e=this.sketchFeature_;return(e||this.sketchPoints_.length>0)&&(this.sketchFeature_=null,this.sketchPoint_=null,this.overlay_.getSource().clear(!0)),this.sketchPoints_=[],this.set("dirty",!1),this.set("drawing",!1),this.set("valid",!1),e}updateState_(){const e=this.getMap(),t=this.getActive();e&&t?this.startDrawing_():this.abortDrawing_(),this.overlay_.setMap(t?e:null)}handleViewCenterChange_(e){const t=this.getActive(),n=this.getDrawing();t&&n&&(this.createOrUpdateSketchPoint_(),"Point"===this.type_?this.addToDrawing():(this.modifyDrawing_(),this.updateSketchFeatures_()))}createOrUpdateSketchPoint_(){const e=this.getCenter_();if(this.sketchPoint_){this.getSketchPointGeometry_().setCoordinates(e)}else this.sketchPoint_=new AP({geometry:new $R(e),name:"mobileDrawPoint"})}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e),t.addFeatures(this.sketchPoints_)}getSketchPointGeometry_(){if(!this.sketchPoint_)throw new Error("Missing sketchPoint");const e=this.sketchPoint_.getGeometry();if(e instanceof $R)return e;throw new Error("Wrong geometry type")}getCenter_(){const e=this.getMap().getView().getCenter();if(!Array.isArray(e))throw new Error("Missing center");return e}};const Kae=class extends Vae{constructor(e,t,n={}){Object.assign(n,{displayHelpTooltip:!1}),super(e,t,n)}createDrawInteraction(e,t){const n=new Xae({type:"Polygon",style:e});return n.set("name","PolygonMobileDraw"),n}};Jae.$inject=["$scope","$filter","gettextCatalog"];const Zae=t().module("gmfMobileMeasureBase",[V1.name]);function Jae(e,t,n){this.scope=e,this.filter=t,this.gettextCatalog=n,this.map=null,this.active=!1,this.scope.$watch(()=>this.active,e=>{if(!this.measure)throw new Error("Missing measure");this.measure.setActive(e)}),this.measure=null,this.drawInteraction=null,this.dirty=!1,this.drawing=!1,this.valid=!1}Jae.prototype.init=function(){if(!this.map)throw new Error("Missing map");if(!this.measure)throw new Error("Missing measure");this.measure.setActive(this.active),Pz(this.measure);const e=this.measure.getDrawInteraction();if(!(e instanceof Xae))throw new Error("Wrong drawInteraction");this.drawInteraction=e,Pz(e),Object.defineProperty(this,"hasPoints",{get(){return null!==this.drawInteraction.getFeature()}}),dn(e,"change:dirty",t=>{this.dirty=e.getDirty(),this.dirty&&this.scope.$apply()},this),dn(e,"change:drawing",t=>{this.drawing=e.getDrawing()},this),dn(e,"change:valid",t=>{this.valid=e.getValid()},this),this.map.addInteraction(this.measure)},Zae.controller("gmfMeasueMobileBaseController",Jae);const Qae='<a class="btn btn-default" ng-if="ctrl.drawing && (!ctrl.valid)" ng-click="ctrl.addPoint()">\n  <span class="fa-solid fa-check"></span>\n  {{\'Set as starting point\' | translate}}\n</a>\n<a class="btn btn-default" ng-if="ctrl.dirty" ng-click="ctrl.addPoint()">\n  <span class="fa-solid fa-plus"></span>\n  {{\'Add new point\' | translate}}\n</a>\n<a class="btn btn-default" ng-if="ctrl.drawing && ctrl.valid && !ctrl.dirty" ng-click="ctrl.finish()">\n  <span class="fa-solid fa-check"></span>\n  {{\'Terminate\' | translate}}\n</a>\n<a class="btn btn-default" ng-if="ctrl.valid" ng-click="ctrl.clear()">\n  <span class="fa-solid fa-repeat"></span>\n  {{\'Clear\' | translate}}\n</a>\n<a class="btn btn-default" ng-if="ctrl.active" ng-click="ctrl.deactivate()">\n  <span class="fa-solid fa-xmark"></span>\n  {{\'Close\' | translate}}\n</a>';tle.$inject=["gmfMobileMeasureAreaTemplateUrl"];const ele=t().module("gmfMobileMeasureArea",[V1.name]);function tle(e){return{restrict:"A",scope:{active:"=gmfMobileMeasureareaActive",map:"=gmfMobileMeasureareaMap"},controller:"GmfMobileMeasureAreaController as ctrl",bindToController:!0,templateUrl:e,link:(e,t,n,r)=>{if(!r)throw new Error("Missing controller");r.init()}}}ele.value("gmfMobileMeasureAreaTemplateUrl",(e,t)=>{const n=t.gmfMobileMeasureAreaTemplateurl;return void 0!==n?n:"gmf/measure/areaComponent"}),ele.run(["$templateCache",e=>{e.put("gmf/measure/areaComponent",Qae)}]),ele.directive("gmfMobileMeasurearea",tle);class nle extends Jae{constructor(e,t,n,r){super(e,t,n),this.options=r,this.measure=null}init(){this.measure=new Kae(this.filter("ngeoUnitPrefix"),this.gettextCatalog,{precision:this.options.precision||2,sketchStyle:r9(this.options.sketchStyle)}),super.init()}addPoint(){if(!this.drawInteraction)throw new Error("Missing drawInteraction");this.drawInteraction.addToDrawing()}clear(){if(!this.drawInteraction)throw new Error("Missing drawInteraction");this.drawInteraction.clearDrawing()}finish(){if(!this.drawInteraction)throw new Error("Missing drawInteraction");this.drawInteraction.finishDrawing()}deactivate(){this.active=!1}}nle.$inject=["$scope","$filter","gettextCatalog","gmfMobileMeasureAreaOptions"],ele.controller("GmfMobileMeasureAreaController",nle);const rle=ele;let ile;const ole=class extends x2{constructor(e,t,n={}){if(super(n),void 0===ile&&(ile=!1,document.body.addEventListener("keydown",e=>{ile=17===e.keyCode}),document.body.addEventListener("keyup",()=>{ile=!1})),void 0!==n.continueMsg)this.continueMsg=n.continueMsg;else{this.continueMsg=document.createElement("span"),this.continueMsg.textContent=t.getString("Click to continue drawing the line.");const e=document.createElement("br");e.textContent=t.getString("Double-click or click last point to finish."),this.continueMsg.appendChild(e)}this.spherical=!1,this.format=e,this.tolerance=n.tolerance,this.source=n.source}createDrawInteraction(e,t){return new rz({type:"LineString",geometryFunction:(e,t)=>this.linestringGeometryFunction(e,t),condition:()=>!0,style:e,source:t})}linestringGeometryFunction(e,t){if(ile){const t=this.getMap().getView().getRotation(),n=Math.PI/4,r=e[e.length-2],i=e[e.length-1],o=r[0]-i[0],s=r[1]-i[1],a=$$(r,i),l=t+Math.round((Math.atan2(s,o)-t)/n)*n;if(i[0]=r[0]-a*Math.cos(l),i[1]=r[1]-a*Math.sin(l),void 0!==this.tolerance&&void 0!==this.source){const e=this.getMap().getView();if(!e)throw new Error("Missing view");const t=e.getResolution();if(!t)throw new Error("Missing resolution");const n=t*this.tolerance,o=[i[0]-n,i[1]-n,i[0]+n,i[1]+n];this.source.getFeaturesInExtent(o).forEach(e=>{let t=[],s=[],a=1/0;const l=$$(r,i),c=r[0],u=r[1],h=[(i[0]-c)/l,(i[1]-u)/l],d=[c+(l+n)*h[0],u+(l+n)*h[1]],f=e.getGeometry();if(!(f instanceof oO))throw new Error("Wrong geometry type");f.forEachSegment((e,n)=>{if(t=this.computeLineSegmentIntersection([r,d],[e,n]),void 0!==t&&qP(o,t[0],t[1])){const e=$$(i,t);e<a&&(a=e,s=t)}}),s&&(i[0]=s[0]||i[0],i[1]=s[1]||i[1])})}}const n=t;return n?(n.setCoordinates(e),n):new oO(e)}handleMeasure(e){if(!this.sketchFeature)throw new Error("Missing sketchFeature");const t=this.sketchFeature.getGeometry();if(!(t instanceof oO))throw new Error("Wrong geometry type");const n=this.getMap().getView().getProjection();console.assert(n);e(b2(t,n,this.precision,this.format,this.spherical),t.getLastCoordinate())}computeLineSegmentIntersection(e,t){const n=(t[1][0]-t[0][0])*(e[0][1]-t[0][1])-(t[1][1]-t[0][1])*(e[0][0]-t[0][0]),r=(e[1][0]-e[0][0])*(e[0][1]-t[0][1])-(e[1][1]-e[0][1])*(e[0][0]-t[0][0]),i=(t[1][1]-t[0][1])*(e[1][0]-e[0][0])-(t[1][0]-t[0][0])*(e[1][1]-e[0][1]);if(0===i)return;const o=n/i,s=r/i;if(o>=0&&o<=1&&s>=0&&s<=1){const t=[];return t[0]=e[0][0]+o*(e[1][0]-e[0][0]),t[1]=e[0][1]+o*(e[1][1]-e[0][1]),t}}},sle=class extends ole{constructor(e,t,n){const r=void 0!==n?n:{};Object.assign(r,{displayHelpTooltip:!1}),super(e,t,r)}createDrawInteraction(e,t){const n=new Xae({type:"LineString",style:e});return n.set("name","LineStringMobileDraw"),n}};lle.$inject=["gmfMobileMeasureLengthTemplateUrl"];const ale=t().module("gmfMobileMeasureLength",[V1.name]);function lle(e){return{restrict:"A",scope:{active:"=gmfMobileMeasurelengthActive",map:"=gmfMobileMeasurelengthMap"},controller:"GmfMobileMeasureLengthController as ctrl",bindToController:!0,templateUrl:e,link:(e,t,n,r)=>{if(!r)throw new Error("Missing controller");r.init()}}}ale.value("gmfMobileMeasureLengthTemplateUrl",(e,t)=>{const n=t.gmfMobileMeasureLengthTemplateurl;return void 0!==n?n:"gmf/measure/lengthComponent"}),ale.run(["$templateCache",e=>{e.put("gmf/measure/lengthComponent",Qae)}]),ale.directive("gmfMobileMeasurelength",lle);class cle extends Jae{constructor(e,t,n,r){super(e,t,n),this.options=r,this.measure=null}init(){this.measure=new sle(this.filter("ngeoUnitPrefix"),this.gettextCatalog,{precision:this.options.precision||3,sketchStyle:r9(this.options.sketchStyle)}),super.init()}addPoint(){if(!this.drawInteraction)throw new Error("Missing drawInteraction");this.drawInteraction.addToDrawing()}clear(){if(!this.drawInteraction)throw new Error("Missing drawInteraction");this.drawInteraction.clearDrawing()}finish(){if(!this.drawInteraction)throw new Error("Missing drawInteraction");this.drawInteraction.finishDrawing()}deactivate(){this.active=!1}}cle.$inject=["$scope","$filter","gettextCatalog","gmfMobileMeasureLengthOptions"],ale.controller("GmfMobileMeasureLengthController",cle);const ule=ale;function hle(e,t){this.$http_=e,this.url_=t}hle.$inject=["$http","gmfRasterUrl"];const dle="lon",fle="lat";hle.prototype.getRaster=function(e,t){const n=t||{};return n[dle]=e[0],n[fle]=e[1],this.$http_.get(this.url_,{params:n}).then(e=>e.data)},hle.prototype.handleGetRaster_=function(e){return e.data};const ple=t().module("gmfRaster",[]);ple.service("gmfRaster",hle);const mle=ple,gle=class extends x2{constructor(e,t,n={}){Object.assign(n,{displayHelpTooltip:!1}),super(n),this.format_=e,this.coordFormat_=t}createDrawInteraction(e,t){return new Xae({type:"Point",style:e})}handleMeasure(e){if(!this.sketchFeature)throw new Error("Missing sketchFeature");const t=this.sketchFeature.getGeometry();if(!(t instanceof $R))throw new Error("Missing geometry");e(v2(t,this.decimals,this.format_,this.coordFormat_),t.getLastCoordinate())}};ble.$inject=["gettextCatalog","$scope","$filter","gmfRaster","ngeoDebounce","gmfMobileMeasurePointOptions"],yle.$inject=["gmfMobileMeasurePointTemplateUrl"];const _le=t().module("gmfMobileMeasurePoint",[mle.name,t9.name]);function yle(e){return{restrict:"A",scope:{active:"=gmfMobileMeasurepointActive",map:"=gmfMobileMeasurepointMap"},controller:"GmfMobileMeasurePointController as ctrl",bindToController:!0,templateUrl:e,link:(e,t,n,r)=>{if(!r)throw new Error("Missing controller");r.init()}}}function ble(e,t,n,r,i,o){this.options=o,this.gmfRaster_=r,this.ngeoDebounce_=i,this.gettextCatalog_=e,this.$filter_=n,this.map=null,this.active=!1,t.$watch(()=>this.active,e=>{if(!this.measure)throw new Error("Missing measure");this.measure.setActive(e),this.handleMeasureActiveChange_()}),this.measure=null,this.drawInteraction=null,this.mapViewPropertyChangeEventKey_=null}_le.value("gmfMobileMeasurePointTemplateUrl",(e,t)=>{const n=t.gmfMobileMeasurePointTemplateurl;return void 0!==n?n:"gmf/measure/pointComponent"}),_le.run(["$templateCache",e=>{e.put("gmf/measure/pointComponent",'<a class="btn btn-default" ng-if="ctrl.active" ng-click="ctrl.deactivate()">\n  <span class="fa-solid fa-xmark"></span>\n  {{\'Close\' | translate}}\n</a>')}]),_le.directive("gmfMobileMeasurepoint",yle),ble.prototype.init=function(){this.measure=new gle(this.$filter_("ngeoNumberCoordinates"),this.options.format,{decimals:this.options.decimals,sketchStyle:r9(this.options.sketchStyle)}),this.measure.setActive(this.active),Pz(this.measure);const e=this.measure.getDrawInteraction();if(!(e instanceof Xae))throw new Error("Wrong drawInteraction");if(this.drawInteraction=e,Pz(this.drawInteraction),!this.map)throw new Error("Missing map");this.map.addInteraction(this.measure)},ble.prototype.deactivate=function(){this.active=!1},ble.prototype.translate=function(e){return this.gettextCatalog_.getString(e)},ble.prototype.handleMeasureActiveChange_=function(){if(!this.map)throw new Error("Missing map");if(!this.measure)throw new Error("Missing measure");if(this.measure.getActive()){const e=this.map.getView();this.mapViewPropertyChangeEventKey_=dn(e,"propertychange",this.ngeoDebounce_(this.getMeasure_.bind(this),300,!0),this),this.getMeasure_()}else this.mapViewPropertyChangeEventKey_&&(pn(this.mapViewPropertyChangeEventKey_),this.mapViewPropertyChangeEventKey_=null)},ble.prototype.getMeasure_=function(){if(!this.map)throw new Error("Missing map");const e=this.map.getView().getCenter();if(!Array.isArray(e))throw new Error("Wrong center");if(!this.options.rasterLayers||0===this.options.rasterLayers.length)return;const t={layers:this.options.rasterLayers.map(e=>e.name).join(",")};this.gmfRaster_.getRaster(e,t).then(e=>{if(!this.measure)throw new Error("Missing measure");const t=this.measure.getTooltipElement(),n=document.createElement("div"),r="gmf-mobile-measure-point";n.className=r;for(const t of this.options.rasterLayers){const r=t.name;if(r in e){let i=e[r];const o=document.createElement("div");o.className=`gmf-mobile-measure-point-${r}`;const s=t.unit||"",a=t.decimals>0?t.decimals:0;i=this.$filter_("number")(i,a),o.innerHTML=[this.translate(r),": ",i," ",s].join(""),n.appendChild(o)}}const i=t.getElementsByClassName(r);i[0]&&i[0].remove(),t.appendChild(n)})},_le.controller("GmfMobileMeasurePointController",ble);const vle=_le,wle=t().module("gmfMobileMeasureModule",[rle.name,ule.name,vle.name]);var xle=n(6932);const Sle=t().module("gmfMobileNav",[]),Mle="gmf-mobile-nav-active",kle="gmf-mobile-nav-back",Tle="gmf-mobile-nav-go-back",Ele="gmf-mobile-nav-slide",Lle="gmf-mobile-nav-slide-out";function Cle(){this.slid_=[],this.active_=null,this.header_=null,this.backButton_=null,this.back=this.back_.bind(this)}Sle.directive("gmfMobileNav",function(){return{restrict:"A",controller:"gmfMobileNavController as navCtrl",bindToController:!0,scope:!0,link:(e,t,n,r)=>{if(!r)throw new Error("Missing navCtrl");r.init(t)}}}),Sle.controller("gmfMobileNavController",Cle),Cle.prototype.init=function(e){this.active_=xle(e.find(`.${Mle}.${Ele}`)),this.header_=xle(e.find("> header")),this.backButton_=xle(e.find(`header > .${Tle}`));e.find("[data-toggle=slide-in]").on({click:e=>{const t=xle(e.currentTarget).parents(`.${Ele}`);if(1!=t.length)throw new Error("Wrong slideOut");this.slid_.push(t),t.addClass(Lle).removeClass(Mle);const n=xle(e.currentTarget).attr("data-target");if(!n)throw new Error("Missing datatarget");const r=xle.find(n);if(1!=r.length)throw new Error("Wrong slideIn");const i=xle(r);i.addClass(Mle),this.updateNavigationHeader_(i,!1),this.active_=i}}),this.backButton_.click(this.back.bind(this))},Cle.prototype.updateNavigationHeader_=function(e,t){if(!this.header_)throw new Error("Missing header");if(!this.backButton_)throw new Error("Missing backButton");this.header_.toggleClass(kle,t),this.header_.find(`nav:not(.${Mle} +)`).remove(),this.header_.find(`nav.${Mle}`).removeClass(Mle).addClass(Lle),this.backButton_.toggleClass(Mle,this.slid_.length>0);const n=xle("<nav>");n.append(xle("<span>",{text:e.attr("data-header-title")})),this.header_.append(n),window.setTimeout(()=>{n.css("display","none"),n.offset(),n.css("display",""),window.setTimeout(()=>{n.position(),n.addClass(Mle)},0)},0)},Cle.prototype.back_=function(){if(!this.active_)throw new Error("Missing active");if(this.slid_.length<=0)return;this.active_.removeClass(Mle);const e=this.slid_.pop();if(!e)throw new Error("Missing slideBack");e.addClass(Mle).removeClass(Lle),this.updateNavigationHeader_(e,!0),this.active_=e},Cle.prototype.backIfActive=function(e){null!==this.active_&&this.active_.is(e)&&this.back_()},Sle.directive("gmfMobileNavBack",function(){return{require:"^^gmfMobileNav",restrict:"A",scope:!1,link:(e,t,n,r)=>{e.$watch(n.gmfMobileNavBack,(e,n)=>{if(!r)throw new Error("Missing navCtrl");!0===e&&r.backIfActive(t[0])})}}}),Sle.directive("gmfMobileNavBackOnClick",function(){return{require:"^^gmfMobileNav",restrict:"A",scope:!1,link:(e,t,n,r)=>{t.on("click",()=>{if(!r)throw new Error("Missing navCtrl");r.backIfActive(t[0])})}}});const Dle=Sle,Ple=t().module("gmfMobileNavigationModule",[Dle.name]);class $le extends Hae{constructor(e,t){super(e,t,!0),this.leftNavVisible=!1,this.rightNavVisible=!1,this.searchOverlayVisible=!1,this.measureAreaActive=!1,this.measurePointActive=!1,this.measureLengthActive=!1,this.displaywindowHeight="100vh",this.displaywindowWidth="100vw";const n=t.get("ngeoToolActivateMgr"),r=new vre(this,"measureAreaActive");n.registerTool("mapTools",r,!1);const i=new vre(this,"measurePointActive");n.registerTool("mapTools",i,!1);const o=new vre(this,"measureLengthActive");n.registerTool("mapTools",o,!1),Object.assign(this.searchListeners,{open:()=>{this.searchOverlayVisible=!0},close:()=>{this.searchOverlayVisible=!1}}),this.manageResize=!0,this.resizeTransition=500,e.$watch(()=>this.gmfUser.username,e=>{null!==e&&this.navIsVisible()&&(this.rightNavVisible=!1)}),ia.getLoginMessage().subscribe({next:e=>{e&&(this.rightNavVisible=!0,this.openNavMenu("#login"))}}),this.redirectUrl=t.get("redirectUrl")}toggleLeftNavVisibility(){this.leftNavVisible=!this.leftNavVisible}toggleRightNavVisibility(){this.rightNavVisible=!this.rightNavVisible}hideNav(){this.leftNavVisible=!1,this.rightNavVisible=!1}navIsVisible(){return this.leftNavVisible||this.rightNavVisible}openNavMenu(e){const t=document.getElementsByClassName("gmf-mobile-nav-button");for(let n=0;n<t.length;n++){const r=t[n];r.dataset&&r.dataset.target===e&&r.click()}}}$le.$inject=["$scope","$injector"];const Ale=t().module("GmfAbstractMobileControllerModule",[Bae.name,wle.name,Ple.name,Mte.name]);Ale.controller("AbstractMobileController",$le),Ale.value("isMobile",!0);const Rle=Ale,Ole=t().module("app",[]);Ole.config(["$compileProvider",function(e){"debug"in CU(window.location.search)||e.debugInfoEnabled(!1)}]),Ole.run(["$injector",e=>{}]);const Ile=Ole;const Fle=t().module("Appmobile",[Ile.name,Rle.name]);Fle.controller("MobileController",class extends $le{})})()})();
//# sourceMappingURL=mobile-2dc4c3.js.map