/*! For license information please see vendor.js.LICENSE.txt */
var vendor;(()=>{var t={7903:(t,e,n)=>{n(327),n(7025),n(4271),n(1927),n(9163),n(6415),n(6751),n(842),n(2305),n(4927),n(9913),n(4957),n(3742),n(9365),n(6204),n(4692),n(9822),n(8497),n(1758),n(8604),n(4720),n(5285),n(5279),n(71),n(6717),n(5213),n(7749),n(277),n(4120),n(1854),n(1795),n(1765),n(2703),n(6514),n(3730),n(972),n(2977),n(2898),n(3965),n(9186),n(9314),n(8711),n(3474),n(9438),n(1685),n(9332),n(8704),n(915),n(8217),n(581),n(8662),n(9766),n(1365),n(3599),n(4525),n(6888),n(2684),n(9096),n(9352),n(1643),n(6890),n(978),n(8897),n(4238),n(4974),n(7430),n(4338),n(1217),n(2809),n(6702),n(503),n(2871),n(4294),n(4142),n(2096),n(7771),n(8877),n(4473),n(4620),n(6292),n(9132),n(1409),n(7326),n(4458),n(8620),n(5598),n(8044),n(764),n(945),n(2757),n(8063),n(9146),n(1597),n(3530),n(3407),n(4078),n(9960),n(6782),n(9925),n(1011),n(6017),n(2728),n(731),n(5620),n(7916),n(2490),n(2806),n(5902),n(7733),n(3628),n(9700),n(6936),n(953),n(6895),n(1426),n(6758),n(1531),n(4465),n(4087),n(9777),n(3942),n(8721),n(6535)},8981:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.DEBUG_BUILD=n},4666:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8981),o=n(7742),s={};function a(t){const e=s[t];if(e)return e;let n=o.WINDOW[t];if(r.isNativeFunction(n))return s[t]=n.bind(o.WINDOW);const a=o.WINDOW.document;if(a&&"function"==typeof a.createElement)try{const e=a.createElement("iframe");e.hidden=!0,a.head.appendChild(e);const r=e.contentWindow;r&&r[t]&&(n=r[t]),a.head.removeChild(e)}catch(e){i.DEBUG_BUILD&&r.logger.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,e)}return n?s[t]=n.bind(o.WINDOW):n}e.clearCachedImplementation=function(t){s[t]=void 0},e.fetch=function(...t){return a("fetch")(...t)},e.getNativeImplementation=a,e.setTimeout=function(...t){return a("setTimeout")(...t)}},1015:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(3872),i=n(4624),o=n(677),s=n(8577),a=n(4666),l=n(139),c=n(8412);e.addClsInstrumentationHandler=r.addClsInstrumentationHandler,e.addFidInstrumentationHandler=r.addFidInstrumentationHandler,e.addInpInstrumentationHandler=r.addInpInstrumentationHandler,e.addLcpInstrumentationHandler=r.addLcpInstrumentationHandler,e.addPerformanceInstrumentationHandler=r.addPerformanceInstrumentationHandler,e.addTtfbInstrumentationHandler=r.addTtfbInstrumentationHandler,e.addPerformanceEntries=i.addPerformanceEntries,e.startTrackingInteractions=i.startTrackingInteractions,e.startTrackingLongAnimationFrames=i.startTrackingLongAnimationFrames,e.startTrackingLongTasks=i.startTrackingLongTasks,e.startTrackingWebVitals=i.startTrackingWebVitals,e.addClickKeypressInstrumentationHandler=o.addClickKeypressInstrumentationHandler,e.addHistoryInstrumentationHandler=s.addHistoryInstrumentationHandler,e.clearCachedImplementation=a.clearCachedImplementation,e.fetch=a.fetch,e.getNativeImplementation=a.getNativeImplementation,e.setTimeout=a.setTimeout,e.SENTRY_XHR_DATA_KEY=l.SENTRY_XHR_DATA_KEY,e.addXhrInstrumentationHandler=l.addXhrInstrumentationHandler,e.registerInpInteractionListener=c.registerInpInteractionListener,e.startTrackingINP=c.startTrackingINP},677:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(7742);let o,s,a;function l(){if(!i.WINDOW.document)return;const t=r.triggerHandlers.bind(null,"dom"),e=c(t,!0);i.WINDOW.document.addEventListener("click",e,!1),i.WINDOW.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=i.WINDOW[e]&&i.WINDOW[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(r.fill(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){const r=c(t);s.handler=r,e.call(this,n,r,i)}s.refCount++}catch(t){}return e.call(this,n,r,i)}})),r.fill(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[e];o&&(o.refCount--,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}function c(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const l=function(t){try{return t.target}catch(t){return null}}(n);if(function(t,e){return"keypress"===t&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,l))return;r.addNonEnumerableProperty(n,"_sentryCaptured",!0),l&&!l._sentryId&&r.addNonEnumerableProperty(l,"_sentryId",r.uuid4());const c="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==s)return!1;try{if(!t.target||t.target._sentryId!==a)return!1}catch(t){}return!0}(n)){t({event:n,name:c,global:e}),s=n.type,a=l?l._sentryId:void 0}clearTimeout(o),o=i.WINDOW.setTimeout((()=>{a=void 0,s=void 0}),1e3)}}e.addClickKeypressInstrumentationHandler=function(t){r.addHandler("dom",t),r.maybeInstrument("dom",l)},e.instrumentDOM=l},8577:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(7742);let o;function s(){if(!r.supportsHistory())return;const t=i.WINDOW.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=o,e=String(n);o=e;const i={from:t,to:e};r.triggerHandlers("history",i)}return t.apply(this,e)}}i.WINDOW.onpopstate=function(...e){const n=i.WINDOW.location.href,s=o;o=n;const a={from:s,to:n};if(r.triggerHandlers("history",a),t)try{return t.apply(this,e)}catch(t){}},r.fill(i.WINDOW.history,"pushState",e),r.fill(i.WINDOW.history,"replaceState",e)}e.addHistoryInstrumentationHandler=function(t){const e="history";r.addHandler(e,t),r.maybeInstrument(e,s)}},139:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(7742),o="__sentry_xhr_v3__";function s(){if(!i.WINDOW.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,e,n){const i=1e3*r.timestampInSeconds(),s=r.isString(n[0])?n[0].toUpperCase():void 0,a=function(t){if(r.isString(t))return t;try{return t.toString()}catch(t){}return}(n[1]);if(!s||!a)return t.apply(e,n);e[o]={method:s,url:a,request_headers:{}},"POST"===s&&a.match(/sentry_key/)&&(e.__sentry_own_request__=!0);const l=()=>{const t=e[o];if(t&&4===e.readyState){try{t.status_code=e.status}catch(t){}const n={endTimestamp:1e3*r.timestampInSeconds(),startTimestamp:i,xhr:e};r.triggerHandlers("xhr",n)}};return"onreadystatechange"in e&&"function"==typeof e.onreadystatechange?e.onreadystatechange=new Proxy(e.onreadystatechange,{apply:(t,e,n)=>(l(),t.apply(e,n))}):e.addEventListener("readystatechange",l),e.setRequestHeader=new Proxy(e.setRequestHeader,{apply(t,e,n){const[i,s]=n,a=e[o];return a&&r.isString(i)&&r.isString(s)&&(a.request_headers[i.toLowerCase()]=s),t.apply(e,n)}}),t.apply(e,n)}}),t.send=new Proxy(t.send,{apply(t,e,n){const i=e[o];if(!i)return t.apply(e,n);void 0!==n[0]&&(i.body=n[0]);const s={startTimestamp:1e3*r.timestampInSeconds(),xhr:e};return r.triggerHandlers("xhr",s),t.apply(e,n)}})}e.SENTRY_XHR_DATA_KEY=o,e.addXhrInstrumentationHandler=function(t){r.addHandler("xhr",t),r.maybeInstrument("xhr",s)},e.instrumentXHR=s},4624:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(8981),s=n(7742),a=n(4882),l=n(3872),c=n(1604),u=n(2990),h=n(5476),d=n(750);let f,p,g=0,m={};function y(t,e,n,i,o){const s=h.getNavigationEntry(),a=c.msToSec(s?s.requestStart:0),l=o+Math.max(n,a),u=o+n,d=u+i,f={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};return l!==u&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=l),c.startAndEndSpan(t,l,d,{name:e.name,op:e.entryType,attributes:f}),l}function _(t,e,n,i,o,s){const a=s?e[s]:e[`${n}End`],l=e[`${n}Start`];l&&a&&c.startAndEndSpan(t,i+c.msToSec(l),i+c.msToSec(a),{op:`browser.${o||n}`,name:e.name,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}function v(t,e,n,o,a,l){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const u=i.parseUrl(n),h={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};b(h,e,"transferSize","http.response_transfer_size"),b(h,e,"encodedBodySize","http.response_content_length"),b(h,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(h["resource.render_blocking_status"]=e.renderBlockingStatus),u.protocol&&(h["url.scheme"]=u.protocol.split(":").pop()),u.host&&(h["server.address"]=u.host),h["url.same_origin"]=n.includes(s.WINDOW.location.origin);const d=l+o,f=d+a;c.startAndEndSpan(t,d,f,{name:n.replace(s.WINDOW.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:h})}function b(t,e,n,r){const i=e[n];null!=i&&i<2147483647&&(t[r]=i)}e._addMeasureSpans=y,e._addResourceSpans=v,e.addPerformanceEntries=function(t,e){const n=c.getBrowserPerformanceAPI();if(!n||!s.WINDOW.performance.getEntries||!i.browserPerformanceTimeOrigin)return;o.DEBUG_BUILD&&i.logger.log("[Tracing] Adding & adjusting spans using Performance API");const a=c.msToSec(i.browserPerformanceTimeOrigin),l=n.getEntries(),{op:b,start_timestamp:x}=r.spanToJSON(t);if(l.slice(g).forEach((e=>{const n=c.msToSec(e.startTime),s=c.msToSec(Math.max(0,e.duration));if(!("navigation"===b&&x&&a+n<x))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{_(t,e,r,n)})),_(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),_(t,e,"fetch",n,"cache","domainLookupStart"),_(t,e,"domainLookup",n,"DNS"),function(t,e,n){const i=n+c.msToSec(e.requestStart),o=n+c.msToSec(e.responseEnd),s=n+c.msToSec(e.responseStart);e.responseEnd&&(c.startAndEndSpan(t,i,o,{op:"browser.request",name:e.name,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),c.startAndEndSpan(t,s,o,{op:"browser.response",name:e.name,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}))}(t,e,n)}(t,e,a);break;case"mark":case"paint":case"measure":{y(t,e,n,s,a);const r=d.getVisibilityWatcher(),l=e.startTime<r.firstHiddenTime;"first-paint"===e.name&&l&&(o.DEBUG_BUILD&&i.logger.log("[Measurements] Adding FP"),m.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&l&&(o.DEBUG_BUILD&&i.logger.log("[Measurements] Adding FCP"),m.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":v(t,e,e.name,n,s,a)}})),g=Math.max(l.length-1,0),function(t){const e=s.WINDOW.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&t.setAttribute("connectionType",n.type),c.isMeasurementValue(n.rtt)&&(m["connection.rtt"]={value:n.rtt,unit:"millisecond"}));c.isMeasurementValue(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`);c.isMeasurementValue(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===b){!function(t){const e=h.getNavigationEntry();if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(o.DEBUG_BUILD&&i.logger.log("[Measurements] Adding TTFB Request Time"),t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(m);const n=m["mark.fid"];n&&m.fid&&(c.startAndEndSpan(t,n.value,n.value+c.msToSec(m.fid.value),{name:"first input delay",op:"ui.action",attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),delete m["mark.fid"]),"fcp"in m&&e.recordClsOnPageloadSpan||delete m.cls,Object.entries(m).forEach((([t,e])=>{r.setMeasurement(t,e.value,e.unit)})),t.setAttribute("performance.timeOrigin",a),t.setAttribute("performance.activationStart",u.getActivationStart()),function(t){f&&(o.DEBUG_BUILD&&i.logger.log("[Measurements] Adding LCP Data"),f.element&&t.setAttribute("lcp.element",i.htmlTreeAsString(f.element)),f.id&&t.setAttribute("lcp.id",f.id),f.url&&t.setAttribute("lcp.url",f.url.trim().slice(0,200)),t.setAttribute("lcp.size",f.size));p&&p.sources&&(o.DEBUG_BUILD&&i.logger.log("[Measurements] Adding CLS Data"),p.sources.forEach(((e,n)=>t.setAttribute(`cls.source.${n+1}`,i.htmlTreeAsString(e.node)))))}(t)}f=void 0,p=void 0,m={}},e.startTrackingInteractions=function(){l.addPerformanceInstrumentationHandler("event",(({entries:t})=>{if(r.getActiveSpan())for(const e of t)if("click"===e.name){const t=c.msToSec(i.browserPerformanceTimeOrigin+e.startTime),n=c.msToSec(e.duration),o={name:i.htmlTreeAsString(e.target),op:`ui.interaction.${e.name}`,startTime:t,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}},s=i.getComponentName(e.target);s&&(o.attributes["ui.component_name"]=s);const a=r.startInactiveSpan(o);a&&a.end(t+n)}}))},e.startTrackingLongAnimationFrames=function(){new PerformanceObserver((t=>{if(r.getActiveSpan())for(const e of t.getEntries()){if(!e.scripts[0])continue;const t=c.msToSec(i.browserPerformanceTimeOrigin+e.startTime),n=c.msToSec(e.duration),o={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"},s=e.scripts[0],{invoker:a,invokerType:l,sourceURL:u,sourceFunctionName:h,sourceCharPosition:d}=s;o["browser.script.invoker"]=a,o["browser.script.invoker_type"]=l,u&&(o["code.filepath"]=u),h&&(o["code.function"]=h),-1!==d&&(o["browser.script.source_char_position"]=d);const f=r.startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:t,attributes:o});f&&f.end(t+n)}})).observe({type:"long-animation-frame",buffered:!0})},e.startTrackingLongTasks=function(){l.addPerformanceInstrumentationHandler("longtask",(({entries:t})=>{if(r.getActiveSpan())for(const e of t){const t=c.msToSec(i.browserPerformanceTimeOrigin+e.startTime),n=c.msToSec(e.duration),o=r.startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-task",startTime:t,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}});o&&o.end(t+n)}}))},e.startTrackingWebVitals=function({recordClsStandaloneSpans:t}){const e=c.getBrowserPerformanceAPI();if(e&&i.browserPerformanceTimeOrigin){e.mark&&s.WINDOW.performance.mark("sentry-tracing-init");const n=l.addFidInstrumentationHandler((({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=c.msToSec(i.browserPerformanceTimeOrigin),r=c.msToSec(e.startTime);o.DEBUG_BUILD&&i.logger.log("[Measurements] Adding FID"),m.fid={value:t.value,unit:"millisecond"},m["mark.fid"]={value:n+r,unit:"second"}})),r=l.addLcpInstrumentationHandler((({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(o.DEBUG_BUILD&&i.logger.log("[Measurements] Adding LCP"),m.lcp={value:t.value,unit:"millisecond"},f=e)}),!0),u=l.addTtfbInstrumentationHandler((({metric:t})=>{t.entries[t.entries.length-1]&&(o.DEBUG_BUILD&&i.logger.log("[Measurements] Adding TTFB"),m.ttfb={value:t.value,unit:"millisecond"})})),h=t?a.trackClsAsStandaloneSpan():l.addClsInstrumentationHandler((({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(o.DEBUG_BUILD&&i.logger.log(`[Measurements] Adding CLS ${t.value}`),m.cls={value:t.value,unit:""},p=e)}),!0);return()=>{n(),r(),u(),h&&h()}}return()=>{}}},4882:(t,e,n)=>{var{_optionalChain:r}=n(4320);Object.defineProperty(e,"__esModule",{value:!0});const i=n(7872),o=n(4320),s=n(8981),a=n(3872),l=n(1604),c=n(3851);e.trackClsAsStandaloneSpan=function(){let t,e,n=0;if(!function(){try{return r([PerformanceObserver,"access",t=>t.supportedEntryTypes,"optionalAccess",t=>t.includes,"call",t=>t("layout-shift")])}catch(t){return!1}}())return;let u=!1;function h(){u||(u=!0,e&&function(t,e,n){s.DEBUG_BUILD&&o.logger.log(`Sending CLS span (${t})`);const a=l.msToSec((o.browserPerformanceTimeOrigin||0)+(r([e,"optionalAccess",t=>t.startTime])||0)),c=i.getCurrentScope().getScopeData().transactionName,u=e?o.htmlTreeAsString(r([e,"access",t=>t.sources,"access",t=>t[0],"optionalAccess",t=>t.node])):"Layout shift",h=o.dropUndefinedKeys({[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.cls",[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.webvital.cls",[i.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:r([e,"optionalAccess",t=>t.duration])||0,"sentry.pageload.span_id":n}),d=l.startStandaloneWebVitalSpan({name:u,transaction:c,attributes:h,startTime:a});r([d,"optionalAccess",t=>t.addEvent,"call",e=>e("cls",{[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"",[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t})]),r([d,"optionalAccess",t=>t.end,"call",t=>t(a)])}(n,t,e),d())}const d=a.addClsInstrumentationHandler((({metric:e})=>{const r=e.entries[e.entries.length-1];r&&(n=e.value,t=r)}),!0);c.onHidden((()=>{h()})),setTimeout((()=>{const t=i.getClient(),n=r([t,"optionalAccess",t=>t.on,"call",t=>t("startNavigationSpan",(()=>{h(),n&&n()}))]),o=i.getActiveSpan(),s=o&&i.getRootSpan(o),a=s&&i.spanToJSON(s);a&&"pageload"===a.op&&(e=s.spanContext().spanId)}),0)}},8412:(t,e,n)=>{var{_optionalChain:r}=n(4320);Object.defineProperty(e,"__esModule",{value:!0});const i=n(7872),o=n(4320),s=n(3872),a=n(1604),l=[],c=new Map;const u={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};e.registerInpInteractionListener=function(t){const e=({entries:t})=>{const e=i.getActiveSpan(),n=e&&i.getRootSpan(e);t.forEach((t=>{if(!s.isPerformanceEventTiming(t)||!n)return;const e=t.interactionId;if(null!=e&&!c.has(e)){if(l.length>10){const t=l.shift();c.delete(t)}l.push(e),c.set(e,n)}}))};s.addPerformanceInstrumentationHandler("event",e),s.addPerformanceInstrumentationHandler("first-input",e)},e.startTrackingINP=function(){if(a.getBrowserPerformanceAPI()&&o.browserPerformanceTimeOrigin){const t=s.addInpInstrumentationHandler((({metric:t})=>{if(null==t.value)return;const e=t.entries.find((e=>e.duration===t.value&&u[e.name]));if(!e)return;const{interactionId:n}=e,s=u[e.name],l=a.msToSec(o.browserPerformanceTimeOrigin+e.startTime),h=a.msToSec(t.value),d=i.getActiveSpan(),f=d?i.getRootSpan(d):void 0,p=(null!=n?c.get(n):void 0)||f,g=p?i.spanToJSON(p).description:i.getCurrentScope().getScopeData().transactionName,m=o.htmlTreeAsString(e.target),y=o.dropUndefinedKeys({[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.inp",[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`ui.interaction.${s}`,[i.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:e.duration}),_=a.startStandaloneWebVitalSpan({name:m,transaction:g,attributes:y,startTime:l});r([_,"optionalAccess",t=>t.addEvent,"call",e=>e("inp",{[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t.value})]),r([_,"optionalAccess",t=>t.end,"call",t=>t(l+h)])}));return()=>{t()}}return()=>{}}},3872:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8981),o=n(9462),s=n(2637),a=n(8879),l=n(6505),c=n(1188),u=n(763),h={},d={};let f,p,g,m,y;function _(t,e){const n=h[t];if(n&&n.length)for(const o of n)try{o(e)}catch(e){i.DEBUG_BUILD&&r.logger.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${r.getFunctionName(o)}\nError:`,e)}}function v(){return o.onCLS((t=>{_("cls",{metric:t}),f=t}),{reportAllChanges:!0})}function b(){return s.onFID((t=>{_("fid",{metric:t}),p=t}))}function x(){return l.onLCP((t=>{_("lcp",{metric:t}),g=t}),{reportAllChanges:!0})}function S(){return u.onTTFB((t=>{_("ttfb",{metric:t}),m=t}))}function w(){return a.onINP((t=>{_("inp",{metric:t}),y=t}))}function E(t,e,n,r,i=!1){let o;return T(t,e),d[t]||(o=n(),d[t]=!0),r&&e({metric:r}),C(t,e,i?o:void 0)}function T(t,e){h[t]=h[t]||[],h[t].push(e)}function C(t,e,n){return()=>{n&&n();const r=h[t];if(!r)return;const i=r.indexOf(e);-1!==i&&r.splice(i,1)}}e.addClsInstrumentationHandler=function(t,e=!1){return E("cls",t,v,f,e)},e.addFidInstrumentationHandler=function(t){return E("fid",t,b,p)},e.addInpInstrumentationHandler=function(t){return E("inp",t,w,y)},e.addLcpInstrumentationHandler=function(t,e=!1){return E("lcp",t,x,g,e)},e.addPerformanceInstrumentationHandler=function(t,e){return T(t,e),d[t]||(!function(t){const e={};"event"===t&&(e.durationThreshold=0);c.observe(t,(e=>{_(t,{entries:e})}),e)}(t),d[t]=!0),C(t,e)},e.addTtfbInstrumentationHandler=function(t){return E("ttfb",t,S,m)},e.isPerformanceEventTiming=function(t){return"duration"in t}},1604:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(7742);e.getBrowserPerformanceAPI=function(){return i.WINDOW&&i.WINDOW.addEventListener&&i.WINDOW.performance},e.isMeasurementValue=function(t){return"number"==typeof t&&isFinite(t)},e.msToSec=function(t){return t/1e3},e.startAndEndSpan=function(t,e,n,{...i}){const o=r.spanToJSON(t).start_timestamp;return o&&o>e&&"function"==typeof t.updateStartTime&&t.updateStartTime(e),r.withActiveSpan(t,(()=>{const t=r.startInactiveSpan({startTime:e,...i});return t&&t.end(n),t}))},e.startStandaloneWebVitalSpan=function(t){const e=r.getClient();if(!e)return;const{name:n,transaction:o,attributes:s,startTime:a}=t,{release:l,environment:c}=e.getOptions(),u=e.getIntegrationByName("Replay"),h=u&&u.getReplayId(),d=r.getCurrentScope(),f=d.getUser(),p=void 0!==f?f.email||f.id||f.ip_address:void 0;let g;try{g=d.getScopeData().contexts.profile.profile_id}catch(t){}const m={release:l,environment:c,user:p||void 0,profile_id:g||void 0,replay_id:h||void 0,transaction:o,"user_agent.original":i.WINDOW.navigator&&i.WINDOW.navigator.userAgent,...s};return r.startInactiveSpan({name:n,attributes:m,startTime:a,experimental:{standalone:!0}})}},9462:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1872),i=n(3940),o=n(1188),s=n(3851),a=n(9212),l=n(9750),c=[.1,.25];e.CLSThresholds=c,e.onCLS=(t,e={})=>{l.onFCP(a.runOnce((()=>{const n=i.initMetric("CLS",0);let a,l=0,u=[];const h=t=>{t.forEach((t=>{if(!t.hadRecentInput){const e=u[0],n=u[u.length-1];l&&e&&n&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(l+=t.value,u.push(t)):(l=t.value,u=[t])}})),l>n.value&&(n.value=l,n.entries=u,a())},d=o.observe("layout-shift",h);d&&(a=r.bindReporter(t,n,c,e.reportAllChanges),s.onHidden((()=>{h(d.takeRecords()),a(!0)})),setTimeout(a,0))})))}},2637:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1872),i=n(750),o=n(3940),s=n(1188),a=n(3851),l=n(9212),c=n(135),u=[100,300];e.FIDThresholds=u,e.onFID=(t,e={})=>{c.whenActivated((()=>{const n=i.getVisibilityWatcher(),c=o.initMetric("FID");let h;const d=t=>{t.startTime<n.firstHiddenTime&&(c.value=t.processingStart-t.startTime,c.entries.push(t),h(!0))},f=t=>{t.forEach(d)},p=s.observe("first-input",f);h=r.bindReporter(t,c,u,e.reportAllChanges),p&&a.onHidden(l.runOnce((()=>{f(p.takeRecords()),p.disconnect()})))}))}},8879:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7742),i=n(1872),o=n(3940),s=n(1188),a=n(3851),l=n(5135),c=n(135),u=[200,500],h=()=>l.getInteractionCount()-0,d=[],f={},p=t=>{const e=d[d.length-1],n=f[t.interactionId];if(n||d.length<10||e&&t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{const e={id:t.interactionId,latency:t.duration,entries:[t]};f[e.id]=e,d.push(e)}d.sort(((t,e)=>e.latency-t.latency)),d.splice(10).forEach((t=>{delete f[t.id]}))}};e.INPThresholds=u,e.onINP=(t,e={})=>{c.whenActivated((()=>{l.initInteractionCountPolyfill();const n=o.initMetric("INP");let c;const f=t=>{t.forEach((t=>{if(t.interactionId&&p(t),"first-input"===t.entryType){!d.some((e=>e.entries.some((e=>t.duration===e.duration&&t.startTime===e.startTime))))&&p(t)}}));const e=(()=>{const t=Math.min(d.length-1,Math.floor(h()/50));return d[t]})();e&&e.latency!==n.value&&(n.value=e.latency,n.entries=e.entries,c())},g=s.observe("event",f,{durationThreshold:null!=e.durationThreshold?e.durationThreshold:40});c=i.bindReporter(t,n,u,e.reportAllChanges),g&&("PerformanceEventTiming"in r.WINDOW&&"interactionId"in PerformanceEventTiming.prototype&&g.observe({type:"first-input",buffered:!0}),a.onHidden((()=>{f(g.takeRecords()),n.value<0&&h()>0&&(n.value=0,n.entries=[]),c(!0)})))}))}},6505:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7742),i=n(1872),o=n(2990),s=n(750),a=n(3940),l=n(1188),c=n(3851),u=n(9212),h=n(135),d=[2500,4e3],f={};e.LCPThresholds=d,e.onLCP=(t,e={})=>{h.whenActivated((()=>{const n=s.getVisibilityWatcher(),h=a.initMetric("LCP");let p;const g=t=>{const e=t[t.length-1];e&&e.startTime<n.firstHiddenTime&&(h.value=Math.max(e.startTime-o.getActivationStart(),0),h.entries=[e],p())},m=l.observe("largest-contentful-paint",g);if(m){p=i.bindReporter(t,h,d,e.reportAllChanges);const n=u.runOnce((()=>{f[h.id]||(g(m.takeRecords()),m.disconnect(),f[h.id]=!0,p(!0))}));["keydown","click"].forEach((t=>{r.WINDOW.document&&addEventListener(t,(()=>setTimeout(n,0)),!0)})),c.onHidden(n)}}))}},1872:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.bindReporter=(t,e,n,r)=>{let i,o;return s=>{e.value>=0&&(s||r)&&(o=e.value-(i||0),(o||void 0===i)&&(i=e.value,e.delta=o,e.rating=((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good")(e.value,n),t(e)))}}},7295:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.generateUniqueID=()=>`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`},2990:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(5476);e.getActivationStart=()=>{const t=r.getNavigationEntry();return t&&t.activationStart||0}},5476:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7742);e.getNavigationEntry=()=>r.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},750:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7742);let i=-1;const o=t=>{"hidden"===r.WINDOW.document.visibilityState&&i>-1&&(i="visibilitychange"===t.type?t.timeStamp:0,removeEventListener("visibilitychange",o,!0),removeEventListener("prerenderingchange",o,!0))};e.getVisibilityWatcher=()=>(r.WINDOW.document&&i<0&&(i="hidden"!==r.WINDOW.document.visibilityState||r.WINDOW.document.prerendering?1/0:0,addEventListener("visibilitychange",o,!0),addEventListener("prerenderingchange",o,!0)),{get firstHiddenTime(){return i}})},3940:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7742),i=n(7295),o=n(2990),s=n(5476);e.initMetric=(t,e)=>{const n=s.getNavigationEntry();let a="navigate";n&&(r.WINDOW.document&&r.WINDOW.document.prerendering||o.getActivationStart()>0?a="prerender":r.WINDOW.document&&r.WINDOW.document.wasDiscarded?a="restore":n.type&&(a=n.type.replace(/_/g,"-")));return{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:i.generateUniqueID(),navigationType:a}}},1188:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.observe=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}}},3851:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7742);e.onHidden=t=>{const e=e=>{("pagehide"===e.type||r.WINDOW.document&&"hidden"===r.WINDOW.document.visibilityState)&&t(e)};r.WINDOW.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))}},5135:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1188);let i=0,o=1/0,s=0;const a=t=>{t.forEach((t=>{t.interactionId&&(o=Math.min(o,t.interactionId),s=Math.max(s,t.interactionId),i=s?(s-o)/7+1:0)}))};let l;e.getInteractionCount=()=>l?i:performance.interactionCount||0,e.initInteractionCountPolyfill=()=>{"interactionCount"in performance||l||(l=r.observe("event",a,{type:"event",buffered:!0,durationThreshold:0}))}},9212:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.runOnce=t=>{let e=!1;return n=>{e||(t(n),e=!0)}}},135:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7742);e.whenActivated=t=>{r.WINDOW.document&&r.WINDOW.document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()}},9750:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1872),i=n(2990),o=n(750),s=n(3940),a=n(1188),l=n(135),c=[1800,3e3];e.FCPThresholds=c,e.onFCP=(t,e={})=>{l.whenActivated((()=>{const n=o.getVisibilityWatcher(),l=s.initMetric("FCP");let u;const h=a.observe("paint",(t=>{t.forEach((t=>{"first-contentful-paint"===t.name&&(h.disconnect(),t.startTime<n.firstHiddenTime&&(l.value=Math.max(t.startTime-i.getActivationStart(),0),l.entries.push(t),u(!0)))}))}));h&&(u=r.bindReporter(t,l,c,e.reportAllChanges))}))}},763:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7742),i=n(1872),o=n(2990),s=n(5476),a=n(3940),l=n(135),c=[800,1800],u=t=>{r.WINDOW.document&&r.WINDOW.document.prerendering?l.whenActivated((()=>u(t))):r.WINDOW.document&&"complete"!==r.WINDOW.document.readyState?addEventListener("load",(()=>u(t)),!0):setTimeout(t,0)};e.TTFBThresholds=c,e.onTTFB=(t,e={})=>{const n=a.initMetric("TTFB"),r=i.bindReporter(t,n,c,e.reportAllChanges);u((()=>{const t=s.getNavigationEntry();if(t){const e=t.responseStart;if(e<=0||e>performance.now())return;n.value=Math.max(e-o.getActivationStart(),0),n.entries=[t],r(!0)}}))}},7742:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320).GLOBAL_OBJ;e.WINDOW=r},6532:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=i.GLOBAL_OBJ,s=o.document,a=o.navigator,l="Report a Bug",c=(t,e={includeReplay:!0})=>{if(!t.message)throw new Error("Unable to submit feedback with empty message");const n=r.getClient();if(!n)throw new Error("No client setup, cannot send feedback.");t.tags&&Object.keys(t.tags).length&&r.getCurrentScope().setTags(t.tags);const o=r.captureFeedback({source:"api",url:i.getLocationHref(),...t},e);return new Promise(((t,e)=>{const r=setTimeout((()=>e("Unable to determine if Feedback was correctly sent.")),5e3),i=n.on("afterSendEvent",((n,s)=>{if(n.event_id===o)return clearTimeout(r),i(),s&&"number"==typeof s.statusCode&&s.statusCode>=200&&s.statusCode<300&&t(o),s&&"number"==typeof s.statusCode&&0===s.statusCode?e("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):s&&"number"==typeof s.statusCode&&403===s.statusCode?e("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):e("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")}))}))},u="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function h(t,e){return{...t,...e,tags:{...t.tags,...e.tags},onFormOpen:()=>{e.onFormOpen&&e.onFormOpen(),t.onFormOpen&&t.onFormOpen()},onFormClose:()=>{e.onFormClose&&e.onFormClose(),t.onFormClose&&t.onFormClose()},onSubmitSuccess:n=>{e.onSubmitSuccess&&e.onSubmitSuccess(n),t.onSubmitSuccess&&t.onSubmitSuccess(n)},onSubmitError:n=>{e.onSubmitError&&e.onSubmitError(n),t.onSubmitError&&t.onSubmitError(n)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted(),t.onFormSubmitted&&t.onFormSubmitted()},themeDark:{...t.themeDark,...e.themeDark},themeLight:{...t.themeLight,...e.themeLight}}}function d(t,e){return Object.entries(e).forEach((([e,n])=>{t.setAttributeNS(null,e,n)})),t}function f({triggerLabel:t,triggerAriaLabel:e,shadow:n,styleNonce:r}){const i=s.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=e||t||l,i.appendChild(function(){const t=t=>o.document.createElementNS("http://www.w3.org/2000/svg",t),e=d(t("svg"),{width:"20",height:"20",viewBox:"0 0 20 20",fill:"var(--actor-color, var(--foreground))"}),n=d(t("g"),{clipPath:"url(#clip0_57_80)"}),r=d(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(n).appendChild(r);const i=t("defs"),s=d(t("clipPath"),{id:"clip0_57_80"}),a=d(t("rect"),{width:"20",height:"20",fill:"white"});return s.appendChild(a),i.appendChild(s),e.appendChild(i).appendChild(s).appendChild(a),e}()),t){const e=s.createElement("span");e.appendChild(s.createTextNode(t)),i.appendChild(e)}const a=function(t){const e=s.createElement("style");return e.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',t&&e.setAttribute("nonce",t),e}(r);return{el:i,appendToDom(){n.appendChild(a),n.appendChild(i)},removeFromDom(){n.removeChild(i),n.removeChild(a)},show(){i.ariaHidden="false"},hide(){i.ariaHidden="true"}}}const p="rgba(88, 74, 192, 1)",g={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:p,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},m={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:p,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function y(t){return`\n  --foreground: ${t.foreground};\n  --background: ${t.background};\n  --accent-foreground: ${t.accentForeground};\n  --accent-background: ${t.accentBackground};\n  --success-color: ${t.successColor};\n  --error-color: ${t.errorColor};\n  --border: ${t.border};\n  --box-shadow: ${t.boxShadow};\n  --outline: ${t.outline};\n  --interactive-filter: ${t.interactiveFilter};\n  `}var _,v,b,x,S,w,E,T={},C=[],M=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,A=Array.isArray;function k(t,e){for(var n in e)t[n]=e[n];return t}function I(t){var e=t.parentNode;e&&e.removeChild(t)}function P(t,e,n){var r,i,o,s={};for(o in e)"key"==o?r=e[o]:"ref"==o?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?_.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===s[o]&&(s[o]=t.defaultProps[o]);return R(t,s,r,i,null)}function R(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++b:i,__i:-1,__u:0};return null==i&&null!=v.vnode&&v.vnode(o),o}function O(t){return t.children}function N(t,e){this.props=t,this.context=e}function D(t,e){if(null==e)return t.__?D(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?D(t):null}function $(t,e,n){var r,i=t.__v,o=i.__e,s=t.__P;if(s)return(r=k({},i)).__v=i.__v+1,v.vnode&&v.vnode(r),V(s,r,i,t.__n,void 0!==s.ownerSVGElement,32&i.__u?[o]:null,e,null==o?D(i):o,!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&L(r),r}function L(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return L(t)}}function F(t){(!t.__d&&(t.__d=!0)&&x.push(t)&&!j.__r++||S!==v.debounceRendering)&&((S=v.debounceRendering)||w)(j)}function j(){var t,e,n,r=[],i=[];for(x.sort(E);t=x.shift();)t.__d&&(n=x.length,e=$(t,r,i)||e,0===n||x.length>n?(Y(r,e,i),i.length=r.length=0,e=void 0,x.sort(E)):e&&v.__c&&v.__c(e,C));e&&Y(r,e,i),j.__r=0}function U(t,e,n,r,i,o,s,a,l,c,u){var h,d,f,p,g,m=r&&r.__k||C,y=e.length;for(n.__d=l,function(t,e,n){var r,i,o,s,a,l=e.length,c=n.length,u=c,h=0;for(t.__k=[],r=0;r<l;r++)null!=(i=t.__k[r]=null==(i=e[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?R(null,i,null,null,i):A(i)?R(O,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?R(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=t,i.__b=t.__b+1,a=z(i,n,s=r+h,u),i.__i=a,o=null,-1!==a&&(u--,(o=n[a])&&(o.__u|=131072)),null==o||null===o.__v?(-1==a&&h--,"function"!=typeof i.type&&(i.__u|=65536)):a!==s&&(a===s+1?h++:a>s?u>l-s?h+=a-s:h--:h=a<s&&a==s-1?a-s:0,a!==r+h&&(i.__u|=65536))):(o=n[r])&&null==o.key&&o.__e&&(o.__e==t.__d&&(t.__d=D(o)),Z(o,o,!1),n[r]=null,u--);if(u)for(r=0;r<c;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==t.__d&&(t.__d=D(o)),Z(o,o))}(n,e,m),l=n.__d,h=0;h<y;h++)null!=(f=n.__k[h])&&"boolean"!=typeof f&&"function"!=typeof f&&(d=-1===f.__i?T:m[f.__i]||T,f.__i=h,V(t,f,d,i,o,s,a,l,c,u),p=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&K(d.ref,null,f),u.push(f.ref,f.__c||p,f)),null==g&&null!=p&&(g=p),65536&f.__u||d.__k===f.__k?l=B(f,l,t):"function"==typeof f.type&&void 0!==f.__d?l=f.__d:p&&(l=p.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=g}function B(t,e,n){var r,i;if("function"==typeof t.type){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=B(r[i],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8===e.nodeType);return e}function z(t,e,n,r){var i=t.key,o=t.type,s=n-1,a=n+1,l=e[n];if(null===l||l&&i==l.key&&o===l.type)return n;if(r>(null==l||131072&l.__u?0:1))for(;s>=0||a<e.length;){if(s>=0){if((l=e[s])&&!(131072&l.__u)&&i==l.key&&o===l.type)return s;s--}if(a<e.length){if((l=e[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a++}}return-1}function G(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||M.test(e)?n:n+"px"}function H(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||G(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||G(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,o?q:W,o)):t.removeEventListener(e,o?q:W,o);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&"rowSpan"!==e&&"colSpan"!==e&&"role"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function W(t){if(this.l){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(v.event?v.event(t):t)}}function q(t){if(this.l)return this.l[t.type+!0](v.event?v.event(t):t)}function V(t,e,n,r,i,o,s,a,l,c){var u,h,d,f,p,g,m,y,_,b,x,S,w,E,T,C=e.type;if(void 0!==e.constructor)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=e.__e=n.__e]),(u=v.__b)&&u(e);t:if("function"==typeof C)try{if(y=e.props,_=(u=C.contextType)&&r[u.__c],b=u?_?_.props.value:u.__:r,n.__c?m=(h=e.__c=n.__c).__=h.__E:("prototype"in C&&C.prototype.render?e.__c=h=new C(y,b):(e.__c=h=new N(y,b),h.constructor=C,h.render=J),_&&_.sub(h),h.props=y,h.state||(h.state={}),h.context=b,h.__n=r,d=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=C.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=k({},h.__s)),k(h.__s,C.getDerivedStateFromProps(y,h.__s))),f=h.props,p=h.state,h.__v=e,d)null==C.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==C.getDerivedStateFromProps&&y!==f&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(y,b),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(y,h.__s,b)||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=y,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),x=0;x<h._sb.length;x++)h.__h.push(h._sb[x]);h._sb=[],h.__h.length&&s.push(h);break t}null!=h.componentWillUpdate&&h.componentWillUpdate(y,h.__s,b),null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(f,p,g)}))}if(h.context=b,h.props=y,h.__P=t,h.__e=!1,S=v.__r,w=0,"prototype"in C&&C.prototype.render){for(h.state=h.__s,h.__d=!1,S&&S(e),u=h.render(h.props,h.state,h.context),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[]}else do{h.__d=!1,S&&S(e),u=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++w<25);h.state=h.__s,null!=h.getChildContext&&(r=k(k({},r),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(g=h.getSnapshotBeforeUpdate(f,p)),U(t,A(T=null!=u&&u.type===O&&null==u.key?u.props.children:u)?T:[T],e,n,r,i,o,s,a,l,c),h.base=e.__e,e.__u&=-161,h.__h.length&&s.push(h),m&&(h.__E=h.__=null)}catch(t){e.__v=null,l||null!=o?(e.__e=a,e.__u|=l?160:32,o[o.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),v.__e(t,e,n)}else null==o&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=X(n.__e,e,n,r,i,o,s,l,c);(u=v.diffed)&&u(e)}function Y(t,e,n){for(var r=0;r<n.length;r++)K(n[r],n[++r],n[++r]);v.__c&&v.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){v.__e(t,e.__v)}}))}function X(t,e,n,r,i,o,s,a,l){var c,u,h,d,f,p,g,m=n.props,y=e.props,v=e.type;if("svg"===v&&(i=!0),null!=o)for(c=0;c<o.length;c++)if((f=o[c])&&"setAttribute"in f==!!v&&(v?f.localName===v:3===f.nodeType)){t=f,o[c]=null;break}if(null==t){if(null===v)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),o=null,a=!1}if(null===v)m===y||a&&t.data===y||(t.data=y);else{if(o=o&&_.call(t.childNodes),m=n.props||T,!a&&null!=o)for(m={},c=0;c<t.attributes.length;c++)m[(f=t.attributes[c]).name]=f.value;for(c in m)f=m[c],"children"==c||("dangerouslySetInnerHTML"==c?h=f:"key"===c||c in y||H(t,c,null,f,i));for(c in y)f=y[c],"children"==c?d=f:"dangerouslySetInnerHTML"==c?u=f:"value"==c?p=f:"checked"==c?g=f:"key"===c||a&&"function"!=typeof f||m[c]===f||H(t,c,f,m[c],i);if(u)a||h&&(u.__html===h.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),U(t,A(d)?d:[d],e,n,r,i&&"foreignObject"!==v,o,s,o?o[0]:n.__k&&D(n,0),a,l),null!=o)for(c=o.length;c--;)null!=o[c]&&I(o[c]);a||(c="value",void 0!==p&&(p!==t[c]||"progress"===v&&!p||"option"===v&&p!==m[c])&&H(t,c,p,m[c],!1),c="checked",void 0!==g&&g!==t[c]&&H(t,c,g,m[c],!1))}return t}function K(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){v.__e(t,n)}}function Z(t,e,n){var r,i;if(v.unmount&&v.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||K(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){v.__e(t,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Z(r[i],e,n||"function"!=typeof t.type);n||null==t.__e||I(t.__e),t.__=t.__e=t.__d=void 0}function J(t,e,n){return this.constructor(t,n)}_=C.slice,v={__e:function(t,e,n,r){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(e){t=e}throw t}},b=0,N.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=k({},this.state),"function"==typeof t&&(t=t(k({},n),this.props)),t&&k(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),F(this))},N.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),F(this))},N.prototype.render=O,x=[],w="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,E=function(t,e){return t.__v.__b-e.__v.__b},j.__r=0;var Q,tt,et,nt,rt=0,it=[],ot=[],st=v,at=st.__b,lt=st.__r,ct=st.diffed,ut=st.__c,ht=st.unmount,dt=st.__;function ft(t,e){st.__h&&st.__h(tt,t,rt||e),rt=0;var n=tt.__H||(tt.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:ot}),n.__[t]}function pt(t){return rt=1,gt(Tt,t)}function gt(t,e,n){var r=ft(Q++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Tt(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=tt,!tt.u)){var i=function(t,e,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(t){return!!t.__c}));if(i.every((function(t){return!t.__N})))return!o||o.call(this,t,e,n);var s=!1;return i.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(s=!0)}})),!(!s&&r.__c.props===t)&&(!o||o.call(this,t,e,n))};tt.u=!0;var o=tt.shouldComponentUpdate,s=tt.componentWillUpdate;tt.componentWillUpdate=function(t,e,n){if(this.__e){var r=o;o=void 0,i(t,e,n),o=r}s&&s.call(this,t,e,n)},tt.shouldComponentUpdate=i}return r.__N||r.__}function mt(t,e){var n=ft(Q++,4);!st.__s&&Et(n.__H,e)&&(n.__=t,n.i=e,tt.__h.push(n))}function yt(t,e){var n=ft(Q++,7);return Et(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function _t(t,e){return rt=8,yt((function(){return t}),e)}function vt(){for(var t;t=it.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(St),t.__H.__h.forEach(wt),t.__H.__h=[]}catch(e){t.__H.__h=[],st.__e(e,t.__v)}}st.__b=function(t){tt=null,at&&at(t)},st.__=function(t,e){e.__k&&e.__k.__m&&(t.__m=e.__k.__m),dt&&dt(t,e)},st.__r=function(t){lt&&lt(t),Q=0;var e=(tt=t.__c).__H;e&&(et===tt?(e.__h=[],tt.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=ot,t.__N=t.i=void 0}))):(e.__h.forEach(St),e.__h.forEach(wt),e.__h=[],Q=0)),et=tt},st.diffed=function(t){ct&&ct(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==it.push(e)&&nt===st.requestAnimationFrame||((nt=st.requestAnimationFrame)||xt)(vt)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==ot&&(t.__=t.__V),t.i=void 0,t.__V=ot}))),et=tt=null},st.__c=function(t,e){e.some((function(t){try{t.__h.forEach(St),t.__h=t.__h.filter((function(t){return!t.__||wt(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],st.__e(n,t.__v)}})),ut&&ut(t,e)},st.unmount=function(t){ht&&ht(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{St(t)}catch(t){e=t}})),n.__H=void 0,e&&st.__e(e,n.__v))};var bt="function"==typeof requestAnimationFrame;function xt(t){var e,n=function(){clearTimeout(r),bt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);bt&&(e=requestAnimationFrame(n))}function St(t){var e=tt,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),tt=e}function wt(t){var e=tt;t.__c=t.__(),tt=e}function Et(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function Tt(t,e){return"function"==typeof e?e(t):e}const Ct={__proto__:null,useCallback:_t,useContext:function(t){var e=tt.context[t.__c],n=ft(Q++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(tt)),e.props.value):t.__},useDebugValue:function(t,e){st.useDebugValue&&st.useDebugValue(e?e(t):t)},useEffect:function(t,e){var n=ft(Q++,3);!st.__s&&Et(n.__H,e)&&(n.__=t,n.i=e,tt.__H.__h.push(n))},useErrorBoundary:function(t){var e=ft(Q++,10),n=pt();return e.__=t,tt.componentDidCatch||(tt.componentDidCatch=function(t,r){e.__&&e.__(t,r),n[1](t)}),[n[0],function(){n[1](void 0)}]},useId:function(){var t=ft(Q++,11);if(!t.__){for(var e=tt.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__},useImperativeHandle:function(t,e,n){rt=6,mt((function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0}),null==n?n:n.concat(t))},useLayoutEffect:mt,useMemo:yt,useReducer:gt,useRef:function(t){return rt=5,yt((function(){return{current:t}}),[])},useState:pt};function Mt(){const t=t=>s.createElementNS("http://www.w3.org/2000/svg",t),e=d(t("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=d(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return e.appendChild(n),e}const At="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function kt({options:t}){const e=yt((()=>({__html:Mt().outerHTML})),[]);return P("h2",{class:"dialog__header",__self:this,__source:{fileName:At,lineNumber:16}},t.formTitle,t.showBranding?P("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:e,__self:this,__source:{fileName:At,lineNumber:19}}):null)}const It="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function Pt(t,e){const n=t.get(e);return"string"==typeof n?n.trim():""}function Rt({options:t,defaultEmail:e,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:s,onSubmitError:a,showEmail:l,showName:c,screenshotInput:h}){const{tags:d,addScreenshotButtonLabel:f,removeScreenshotButtonLabel:p,cancelButtonLabel:g,emailLabel:m,emailPlaceholder:y,isEmailRequired:_,isNameRequired:v,messageLabel:b,messagePlaceholder:x,nameLabel:S,namePlaceholder:w,submitButtonLabel:E,isRequiredLabel:T}=t,[C,M]=pt(null),[A,k]=pt(!1),I=h&&h.input,[R,O]=pt(null),N=_t((t=>{O(t),k(!1)}),[]),D=_t((t=>{const e=function(t,e){const n=[];return e.isNameRequired&&!t.name&&n.push(e.nameLabel),e.isEmailRequired&&!t.email&&n.push(e.emailLabel),t.message||n.push(e.messageLabel),n}(t,{emailLabel:m,isEmailRequired:_,isNameRequired:v,messageLabel:b,nameLabel:S});return e.length>0?M(`Please enter in the following required fields: ${e.join(", ")}`):M(null),0===e.length}),[m,_,v,b,S]),$=_t((async t=>{try{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const e=new FormData(t.target),n=await(h&&A?h.value():void 0),r={name:Pt(e,"name"),email:Pt(e,"email"),message:Pt(e,"message"),attachments:n?[n]:void 0};if(!D(r))return;try{await o({name:r.name,email:r.email,message:r.message,source:"widget",tags:d},{attachments:r.attachments}),s(r)}catch(t){u&&i.logger.error(t),M(t),a(t)}}catch(t){}}),[h&&A,s,a]);return P("form",{class:"form",onSubmit:$,__self:this,__source:{fileName:It,lineNumber:144}},I&&A?P(I,{onError:N,__self:this,__source:{fileName:It,lineNumber:146}}):null,P("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:It,lineNumber:149}},P("div",{class:"form__top",__self:this,__source:{fileName:It,lineNumber:150}},C?P("div",{class:"form__error-container",__self:this,__source:{fileName:It,lineNumber:151}},C):null,c?P("label",{for:"name",class:"form__label",__self:this,__source:{fileName:It,lineNumber:154}},P(Ot,{label:S,isRequiredLabel:T,isRequired:v,__self:this,__source:{fileName:It,lineNumber:155}}),P("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:w,required:v,type:"text",__self:this,__source:{fileName:It,lineNumber:156}})):P("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden",__self:this,__source:{fileName:It,lineNumber:167}}),l?P("label",{for:"email",class:"form__label",__self:this,__source:{fileName:It,lineNumber:171}},P(Ot,{label:m,isRequiredLabel:T,isRequired:_,__self:this,__source:{fileName:It,lineNumber:172}}),P("input",{class:"form__input",defaultValue:e,id:"email",name:"email",placeholder:y,required:_,type:"email",__self:this,__source:{fileName:It,lineNumber:173}})):P("input",{"aria-hidden":!0,value:e,name:"email",type:"hidden",__self:this,__source:{fileName:It,lineNumber:184}}),P("label",{for:"message",class:"form__label",__self:this,__source:{fileName:It,lineNumber:187}},P(Ot,{label:b,isRequiredLabel:T,isRequired:!0,__self:this,__source:{fileName:It,lineNumber:188}}),P("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:x,required:!0,rows:5,__self:this,__source:{fileName:It,lineNumber:189}})),I?P("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:It,lineNumber:201}},P("button",{class:"btn btn--default",type:"button",onClick:()=>{O(null),k((t=>!t))},__self:this,__source:{fileName:It,lineNumber:202}},A?p:f),R?P("div",{class:"form__error-container",__self:this,__source:{fileName:It,lineNumber:212}},R.message):null):null),P("div",{class:"btn-group",__self:this,__source:{fileName:It,lineNumber:216}},P("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:It,lineNumber:217}},E),P("button",{class:"btn btn--default",type:"button",onClick:r,__self:this,__source:{fileName:It,lineNumber:220}},g))))}function Ot({label:t,isRequired:e,isRequiredLabel:n}){return P("span",{class:"form__label__text",__self:this,__source:{fileName:It,lineNumber:239}},t,e&&P("span",{class:"form__label__text--required",__self:this,__source:{fileName:It,lineNumber:241}},n))}function Nt(){const t=t=>o.document.createElementNS("http://www.w3.org/2000/svg",t),e=d(t("svg"),{width:"16",height:"17",viewBox:"0 0 16 17",fill:"inherit"}),n=d(t("g"),{clipPath:"url(#clip0_57_156)"}),r=d(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=d(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(n).append(i,r);const s=t("defs"),a=d(t("clipPath"),{id:"clip0_57_156"}),l=d(t("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return a.appendChild(l),s.appendChild(a),e.appendChild(s).appendChild(a).appendChild(l),e}const Dt="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function $t({open:t,onFormSubmitted:e,...n}){const r=n.options,i=yt((()=>({__html:Nt().outerHTML})),[]),[o,s]=pt(null),a=_t((()=>{o&&(clearTimeout(o),s(null)),e()}),[o]),l=_t((t=>{n.onSubmitSuccess(t),s(setTimeout((()=>{e(),s(null)}),5e3))}),[e]);return P(O,{__self:this,__source:{fileName:Dt,lineNumber:48}},o?P("div",{class:"success__position",onClick:a,__self:this,__source:{fileName:Dt,lineNumber:50}},P("div",{class:"success__content",__self:this,__source:{fileName:Dt,lineNumber:51}},r.successMessageText,P("span",{class:"success__icon",dangerouslySetInnerHTML:i,__self:this,__source:{fileName:Dt,lineNumber:53}}))):P("dialog",{class:"dialog",onClick:r.onFormClose,open:t,__self:this,__source:{fileName:Dt,lineNumber:57}},P("div",{class:"dialog__position",__self:this,__source:{fileName:Dt,lineNumber:58}},P("div",{class:"dialog__content",onClick:t=>{t.stopPropagation()},__self:this,__source:{fileName:Dt,lineNumber:59}},P(kt,{options:r,__self:this,__source:{fileName:Dt,lineNumber:66}}),P(Rt,{...n,onSubmitSuccess:l,__self:this,__source:{fileName:Dt,lineNumber:67}})))))}function Lt(t){const e=s.createElement("style"),n="#1A141F",r="#302735";return e.textContent=`\n.editor {\n  padding: 10px;\n  padding-top: 65px;\n  padding-bottom: 65px;\n  flex-grow: 1;\n\n  background-color: ${n};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${n} 8px,\n      ${n} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${r} 15px,\n      ${r} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container canvas {\n  object-fit: contain;\n  position: relative;\n}\n\n.editor__crop-btn-group {\n  padding: 8px;\n  gap: 8px;\n  border-radius: var(--menu-border-radius, 6px);\n  background: var(--button-primary-background, var(--background));\n  width: 175px;\n  position: absolute;\n}\n\n.editor__crop-corner {\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  background: none;\n  border: 3px solid #ffffff;\n}\n\n.editor__crop-corner--top-left {\n  cursor: nwse-resize;\n  border-right: none;\n  border-bottom: none;\n}\n.editor__crop-corner--top-right {\n  cursor: nesw-resize;\n  border-left: none;\n  border-bottom: none;\n}\n.editor__crop-corner--bottom-left {\n  cursor: nesw-resize;\n  border-right: none;\n  border-top: none;\n}\n.editor__crop-corner--bottom-right {\n  cursor: nwse-resize;\n  border-left: none;\n  border-top: none;\n}\n`,t&&e.setAttribute("nonce",t),e}const Ft="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",jt=33,Ut=o.devicePixelRatio,Bt=t=>({x:Math.min(t.startX,t.endX),y:Math.min(t.startY,t.endY),width:Math.abs(t.startX-t.endX),height:Math.abs(t.startY-t.endY)}),zt=t=>{const e=t.clientHeight,n=t.clientWidth,r=t.width/t.height;let i=e*r,o=e;i>n&&(i=n,o=n/r);const s=(n-i)/2,a=(e-o)/2;return{startX:s,startY:a,endX:i+s,endY:o+a}};function Gt({h:t,hooks:e,imageBuffer:n,dialog:r,options:i}){const l=function({hooks:t}){return function({onBeforeScreenshot:e,onScreenshot:n,onAfterScreenshot:r,onError:i}){t.useEffect((()=>{(async()=>{e();const t=await a.mediaDevices.getDisplayMedia({video:{width:o.innerWidth*o.devicePixelRatio,height:o.innerHeight*o.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),i=s.createElement("video");await new Promise(((e,r)=>{i.srcObject=t,i.onloadedmetadata=()=>{n(i),t.getTracks().forEach((t=>t.stop())),e()},i.play().catch(r)})),r()})().catch(i)}),[])}}({hooks:e});return function({onError:a}){const c=e.useMemo((()=>({__html:Lt(i.styleNonce).innerText})),[]),u=function({h:t}){return function({top:e,left:n,corner:r,onGrabButton:i}){return t("button",{class:`editor__crop-corner editor__crop-corner--${r} `,style:{top:e,left:n},onMouseDown:t=>{t.preventDefault(),i(t,r)},onClick:t=>{t.preventDefault()},__self:this,__source:{fileName:"/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/CropCorner.tsx",lineNumber:22}})}}({h:t}),h=e.useRef(null),d=e.useRef(null),f=e.useRef(null),[p,g]=e.useState({startX:0,startY:0,endX:0,endY:0}),[m,y]=e.useState(!1),[_,v]=e.useState(!1);function b(){const t=f.current,e=Bt(zt(n));if(t){t.width=e.width*Ut,t.height=e.height*Ut,t.style.width=`${e.width}px`,t.style.height=`${e.height}px`;const n=t.getContext("2d");n&&n.scale(Ut,Ut)}const r=d.current;r&&(r.style.width=`${e.width}px`,r.style.height=`${e.height}px`),g({startX:0,startY:0,endX:e.width,endY:e.height})}function x(t,e){y(!1),v(!0);const n=S(e),r=()=>{s.removeEventListener("mousemove",n),s.removeEventListener("mouseup",r),y(!0),v(!1)};s.addEventListener("mouseup",r),s.addEventListener("mousemove",n)}e.useEffect((()=>{o.addEventListener("resize",b,!1)}),[]),e.useEffect((()=>{const t=f.current;if(!t)return;const e=t.getContext("2d");if(!e)return;const r=Bt(zt(n)),i=Bt(p);e.clearRect(0,0,r.width,r.height),e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,0,r.width,r.height),e.clearRect(i.x,i.y,i.width,i.height),e.strokeStyle="#ffffff",e.lineWidth=3,e.strokeRect(i.x+1,i.y+1,i.width-2,i.height-2),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(i.x+3,i.y+3,i.width-6,i.height-6)}),[p]);const S=e.useCallback((t=>function(e){if(!f.current)return;const n=f.current,r=n.getBoundingClientRect(),i=e.clientX-r.x,o=e.clientY-r.y;switch(t){case"top-left":g((t=>({...t,startX:Math.min(Math.max(0,i),t.endX-jt),startY:Math.min(Math.max(0,o),t.endY-jt)})));break;case"top-right":g((t=>({...t,endX:Math.max(Math.min(i,n.width/Ut),t.startX+jt),startY:Math.min(Math.max(0,o),t.endY-jt)})));break;case"bottom-left":g((t=>({...t,startX:Math.min(Math.max(0,i),t.endX-jt),endY:Math.max(Math.min(o,n.height/Ut),t.startY+jt)})));break;case"bottom-right":g((t=>({...t,endX:Math.max(Math.min(i,n.width/Ut),t.startX+jt),endY:Math.max(Math.min(o,n.height/Ut),t.startY+jt)})))}}),[]),w=e.useRef({initialX:0,initialY:0});return l({onBeforeScreenshot:e.useCallback((()=>{r.el.style.display="none"}),[]),onScreenshot:e.useCallback((t=>{const e=n.getContext("2d");if(!e)throw new Error("Could not get canvas context");n.width=t.videoWidth,n.height=t.videoHeight,n.style.width="100%",n.style.height="100%",e.drawImage(t,0,0)}),[n]),onAfterScreenshot:e.useCallback((()=>{r.el.style.display="block";const t=h.current;t&&t.appendChild(n),b()}),[]),onError:e.useCallback((t=>{r.el.style.display="block",a(t)}),[])}),t("div",{class:"editor",__self:this,__source:{fileName:Ft,lineNumber:315}},t("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:c,__self:this,__source:{fileName:Ft,lineNumber:316}}),t("div",{class:"editor__canvas-container",ref:h,__self:this,__source:{fileName:Ft,lineNumber:317}},t("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:d,__self:this,__source:{fileName:Ft,lineNumber:318}},t("canvas",{onMouseDown:function(t){if(_)return;w.current={initialX:t.clientX,initialY:t.clientY};const e=t=>{const e=f.current;if(!e)return;const n=t.clientX-w.current.initialX,r=t.clientY-w.current.initialY;g((i=>{const o=Math.max(0,Math.min(i.startX+n,e.width/Ut-(i.endX-i.startX))),s=Math.max(0,Math.min(i.startY+r,e.height/Ut-(i.endY-i.startY))),a=o+(i.endX-i.startX),l=s+(i.endY-i.startY);return w.current.initialX=t.clientX,w.current.initialY=t.clientY,{startX:o,startY:s,endX:a,endY:l}}))},n=()=>{s.removeEventListener("mousemove",e),s.removeEventListener("mouseup",n)};s.addEventListener("mousemove",e),s.addEventListener("mouseup",n)},style:{position:"absolute",cursor:m?"move":"auto"},ref:f,__self:this,__source:{fileName:Ft,lineNumber:319}}),t(u,{left:p.startX-3,top:p.startY-3,onGrabButton:x,corner:"top-left",__self:this,__source:{fileName:Ft,lineNumber:324}}),t(u,{left:p.endX-30+3,top:p.startY-3,onGrabButton:x,corner:"top-right",__self:this,__source:{fileName:Ft,lineNumber:330}}),t(u,{left:p.startX-3,top:p.endY-30+3,onGrabButton:x,corner:"bottom-left",__self:this,__source:{fileName:Ft,lineNumber:336}}),t(u,{left:p.endX-30+3,top:p.endY-30+3,onGrabButton:x,corner:"bottom-right",__self:this,__source:{fileName:Ft,lineNumber:342}}),t("div",{style:{left:Math.max(0,p.endX-191),top:Math.max(0,p.endY+8),display:m?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:Ft,lineNumber:348}},t("button",{onClick:t=>{t.preventDefault(),f.current&&g({startX:0,startY:0,endX:f.current.width/Ut,endY:f.current.height/Ut}),y(!1)},class:"btn btn--default",__self:this,__source:{fileName:Ft,lineNumber:356}},i.cancelButtonLabel),t("button",{onClick:t=>{t.preventDefault(),function(){const t=s.createElement("canvas"),e=Bt(zt(n)),r=Bt(p);t.width=r.width*Ut,t.height=r.height*Ut;const i=t.getContext("2d");i&&n&&i.drawImage(n,r.x/e.width*n.width,r.y/e.height*n.height,r.width/e.width*n.width,r.height/e.height*n.height,0,0,t.width,t.height);const o=n.getContext("2d");o&&(o.clearRect(0,0,n.width,n.height),n.width=t.width,n.height=t.height,n.style.width=`${r.width}px`,n.style.height=`${r.height}px`,o.drawImage(t,0,0),b())}(),y(!1)},class:"btn btn--primary",__self:this,__source:{fileName:Ft,lineNumber:373}},i.confirmButtonLabel)))))}}e.buildFeedbackIntegration=({lazyLoadIntegration:t,getModalIntegration:e,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:d=!0,showBranding:p=!0,isEmailRequired:_=!1,isNameRequired:v=!1,showEmail:b=!0,showName:x=!0,enableScreenshot:S=!0,useSentryUser:w={email:"email",name:"username"},tags:E,styleNonce:T,scriptNonce:C,colorScheme:M="system",themeLight:A={},themeDark:k={},addScreenshotButtonLabel:I="Add a screenshot",cancelButtonLabel:P="Cancel",confirmButtonLabel:R="Confirm",emailLabel:O="Email",emailPlaceholder:N="your.email@example.org",formTitle:D="Report a Bug",isRequiredLabel:$="(required)",messageLabel:L="Description",messagePlaceholder:F="What's the bug? What did you expect?",nameLabel:j="Name",namePlaceholder:U="Your Name",removeScreenshotButtonLabel:B="Remove screenshot",submitButtonLabel:z="Send Bug Report",successMessageText:G="Thank you for your report!",triggerLabel:H=l,triggerAriaLabel:W="",onFormOpen:q,onFormClose:V,onSubmitSuccess:Y,onSubmitError:X,onFormSubmitted:K}={})=>{const Z={id:o,autoInject:d,showBranding:p,isEmailRequired:_,isNameRequired:v,showEmail:b,showName:x,enableScreenshot:S,useSentryUser:w,tags:E,styleNonce:T,scriptNonce:C,colorScheme:M,themeDark:k,themeLight:A,triggerLabel:H,triggerAriaLabel:W,cancelButtonLabel:P,submitButtonLabel:z,confirmButtonLabel:R,formTitle:D,emailLabel:O,emailPlaceholder:N,messageLabel:L,messagePlaceholder:F,nameLabel:j,namePlaceholder:U,successMessageText:G,isRequiredLabel:$,addScreenshotButtonLabel:I,removeScreenshotButtonLabel:B,onFormClose:V,onFormOpen:q,onSubmitError:X,onSubmitSuccess:Y,onFormSubmitted:K};let J=null,Q=[];const tt=t=>{if(!J){const e=s.createElement("div");e.id=String(t.id),s.body.appendChild(e),J=e.attachShadow({mode:"open"}),J.appendChild(function({colorScheme:t,themeDark:e,themeLight:n,styleNonce:r}){const i=s.createElement("style");return i.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${"system"!==t?"color-scheme: only light;":""}\n\n  ${y("dark"===t?{...m,...e}:{...g,...n})}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${y({...m,...e})}\n  }\n}`:""}\n}\n`,r&&i.setAttribute("nonce",r),i}(t))}return J},et=async(e,n,i)=>{const o=r.getClient(),s=o&&o.getIntegrationByName(e);if(s)return s;const a=(n&&n()||await t(i,C))();return o&&o.addIntegration(a),a},nt=async t=>{const r=t.enableScreenshot&&!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a.userAgent)||/Macintosh/i.test(a.userAgent)&&a.maxTouchPoints&&a.maxTouchPoints>1||!isSecureContext),[o,s]=await Promise.all([et("FeedbackModal",e,"feedbackModalIntegration"),r?et("FeedbackScreenshot",n,"feedbackScreenshotIntegration"):void 0]);if(!o)throw u&&i.logger.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");r&&!s&&u&&i.logger.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.");const l=o.createDialog({options:{...t,onFormClose:()=>{l&&l.close(),t.onFormClose&&t.onFormClose()},onFormSubmitted:()=>{l&&l.close(),t.onFormSubmitted&&t.onFormSubmitted()}},screenshotIntegration:r?s:void 0,sendFeedback:c,shadow:tt(t)});return l},rt=(t,e={})=>{const n=h(Z,e),r="string"==typeof t?s.querySelector(t):"function"==typeof t.addEventListener?t:null;if(!r)throw u&&i.logger.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let o=null;const a=async()=>{o||(o=await nt({...n,onFormSubmitted:()=>{o&&o.removeFromDom(),n.onFormSubmitted&&n.onFormSubmitted()}})),o.appendToDom(),o.open()};r.addEventListener("click",a);const l=()=>{Q=Q.filter((t=>t!==l)),o&&o.removeFromDom(),o=null,r.removeEventListener("click",a)};return Q.push(l),l},it=(t={})=>{const e=h(Z,t),n=tt(e),r=f({triggerLabel:e.triggerLabel,triggerAriaLabel:e.triggerAriaLabel,shadow:n,styleNonce:T});return rt(r.el,{...e,onFormOpen(){r.hide()},onFormClose(){r.show()},onFormSubmitted(){r.show()}}),r};return{name:"Feedback",setupOnce(){i.isBrowser()&&Z.autoInject&&("loading"===s.readyState?s.addEventListener("DOMContentLoaded",(()=>it().appendToDom())):it().appendToDom())},attachTo:rt,createWidget(t={}){const e=it(h(Z,t));return e.appendToDom(),e},createForm:async(t={})=>nt(h(Z,t)),remove(){J&&(J.parentElement&&J.parentElement.remove(),J=null),Q.forEach((t=>t())),Q=[]}}},e.feedbackModalIntegration=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:t,screenshotIntegration:e,sendFeedback:n,shadow:i})=>{const o=i,a=t.useSentryUser,l=function(){const t=r.getCurrentScope().getUser(),e=r.getIsolationScope().getUser(),n=r.getGlobalScope().getUser();return t&&Object.keys(t).length?t:e&&Object.keys(e).length?e:n}(),c=s.createElement("div"),u=function(t){const e=s.createElement("style");return e.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n\n\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  width: var(--form-width, 272px);\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n}\n\n@media (max-width: 600px) {\n  .form__right {\n    width: var(--form-width, 100%);\n  }\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n\n\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n\n",t&&e.setAttribute("nonce",t),e}(t.styleNonce);let h="";const d={get el(){return c},appendToDom(){o.contains(u)||o.contains(c)||(o.appendChild(u),o.appendChild(c))},removeFromDom(){o.removeChild(c),o.removeChild(u),s.body.style.overflow=h},open(){p(!0),t.onFormOpen&&t.onFormOpen(),h=s.body.style.overflow,s.body.style.overflow="hidden"},close(){p(!1),s.body.style.overflow=h}},f=e&&e.createInput({h:P,hooks:Ct,dialog:d,options:t}),p=e=>{!function(t,e,n){var r,i,o,s;v.__&&v.__(t,e),i=(r="function"==typeof n)?null:e.__k,o=[],s=[],V(e,t=(!r&&n||e).__k=P(O,null,[t]),i||T,T,void 0!==e.ownerSVGElement,!r&&n?[n]:i?null:e.firstChild?_.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r,s),t.__d=void 0,Y(o,t,s)}(P($t,{options:t,screenshotInput:f,showName:t.showName||t.isNameRequired,showEmail:t.showEmail||t.isEmailRequired,defaultName:a&&l&&l[a.name]||"",defaultEmail:a&&l&&l[a.email]||"",onFormClose:()=>{p(!1),t.onFormClose&&t.onFormClose()},onSubmit:n,onSubmitSuccess:e=>{p(!1),t.onSubmitSuccess&&t.onSubmitSuccess(e)},onSubmitError:e=>{t.onSubmitError&&t.onSubmitError(e)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted()},open:e,__self:void 0,__source:{fileName:"/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx",lineNumber:67}}),c)};return d}}),e.feedbackScreenshotIntegration=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:t,hooks:e,dialog:n,options:r})=>{const i=s.createElement("canvas");return{input:Gt({h:t,hooks:e,imageBuffer:i,dialog:n,options:r}),value:async()=>{const t=await new Promise((t=>{i.toBlob(t,"image/png")}));if(t){return{data:new Uint8Array(await t.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}}),e.getFeedback=function(){const t=r.getClient();return t&&t.getIntegrationByName("Feedback")},e.sendFeedback=c},7143:(t,e,n)=>{var{_optionalChain:r}=n(4320);Object.defineProperty(e,"__esModule",{value:!0});const i=n(7872);var o;function s(t,e,n=1/0,r=0){return t?t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:s(t.parentNode,e,n,r+1):-1}function a(t,e){return n=>{const r=n;if(null===r)return!1;try{if(t)if("string"==typeof t){if(r.matches(`.${t}`))return!0}else if(function(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}(r,t))return!0;return!(!e||!r.matches(e))}catch(t){return!1}}}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(o||(o={}));const l="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let c={map:{},getId:()=>(console.error(l),-1),getNode:()=>(console.error(l),null),removeNodeFromMap(){console.error(l)},has:()=>(console.error(l),!1),reset(){console.error(l)}};function u(t,e,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(t,e);return i.Object.defineProperty(t,e,r?n:{set(t){m((()=>{n.set.call(this,t)}),0),o&&o.set&&o.set.call(this,t)}}),()=>u(t,e,o||{},!0)}function h(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=i,()=>{t[e]=r}}catch(t){return()=>{}}}function d(t,e,n,r,i){if(!t)return!1;const o=function(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}(t);if(!o)return!1;const l=s(o,a(e,n));let c=-1;return!(l<0)&&(r&&(c=s(o,a(null,r))),l>-1&&c<0||l<c)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(c=new Proxy(c,{get:(t,e,n)=>("map"===e&&console.error(l),Reflect.get(t,e,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());const f={};function p(t){const e=f[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const i=e.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(e)}catch(t){}return f[t]=r.bind(window)}function g(...t){return p("requestAnimationFrame")(...t)}function m(...t){return p("setTimeout")(...t)}var y=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))(y||{});let _;function v(t){_=t}const b=t=>{if(!_)return t;return(...e)=>{try{return t(...e)}catch(t){if(_&&!0===_(t))return()=>{};throw t}}};for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S="undefined"==typeof Uint8Array?[]:new Uint8Array(256),w=0;w<64;w++)S[x.charCodeAt(w)]=w;const E=new Map;const T=(t,e,n)=>{if(!t||!A(t,e)&&"object"!=typeof t)return;const r=function(t,e){let n=E.get(t);return n||(n=new Map,E.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}(n,t.constructor.name);let i=r.indexOf(t);return-1===i&&(i=r.length,r.push(t)),i};function C(t,e,n){if(t instanceof Array)return t.map((t=>C(t,e,n)));if(null===t)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray){return{rr_type:t.constructor.name,args:[Object.values(t)]}}if(t instanceof ArrayBuffer){const e=t.constructor.name,n=function(t){var e,n=new Uint8Array(t),r=n.length,i="";for(e=0;e<r;e+=3)i+=x[n[e]>>2],i+=x[(3&n[e])<<4|n[e+1]>>4],i+=x[(15&n[e+1])<<2|n[e+2]>>6],i+=x[63&n[e+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i}(t);return{rr_type:e,base64:n}}if(t instanceof DataView){return{rr_type:t.constructor.name,args:[C(t.buffer,e,n),t.byteOffset,t.byteLength]}}if(t instanceof HTMLImageElement){const e=t.constructor.name,{src:n}=t;return{rr_type:e,src:n}}if(t instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:t.toDataURL()}}if(t instanceof ImageData){return{rr_type:t.constructor.name,args:[C(t.data,e,n),t.width,t.height]}}if(A(t,e)||"object"==typeof t){return{rr_type:t.constructor.name,index:T(t,e,n)}}return t}const M=(t,e,n)=>t.map((t=>C(t,e,n))),A=(t,e)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((t=>"function"==typeof e[t]));return Boolean(n.find((n=>t instanceof e[n])))};function k(t,e,n,r,i){const o=[];try{const s=h(t.HTMLCanvasElement.prototype,"getContext",(function(t){return function(o,...s){if(!d(this,e,n,r)){const t=function(t){return"experimental-webgl"===t?"webgl":t}(o);if("__context"in this||(this.__context=t),i&&["webgl","webgl2"].includes(t))if(s[0]&&"object"==typeof s[0]){const t=s[0];t.preserveDrawingBuffer||(t.preserveDrawingBuffer=!0)}else s.splice(0,1,{preserveDrawingBuffer:!0})}return t.apply(this,[o,...s])}}));o.push(s)}catch(t){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach((t=>t()))}}function I(t,e,n,r,i,o,s,a){const l=[],c=Object.getOwnPropertyNames(t);for(const s of c)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(s))try{if("function"!=typeof t[s])continue;const c=h(t,s,(function(t){return function(...l){const c=t.apply(this,l);if(T(c,a,this),"tagName"in this.canvas&&!d(this.canvas,r,i,o)){const t=M(l,a,this),r={type:e,property:s,args:t};n(this.canvas,r)}return c}}));l.push(c)}catch(r){const i=u(t,s,{set(t){n(this.canvas,{type:e,property:s,args:[t],setter:!0})}});l.push(i)}return l}class P{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach((t=>{try{t()}catch(t){}})),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,r([this,"access",t=>t.worker,"optionalAccess",t=>t.terminate,"call",t=>t()]),this.worker=null,this.snapshotInProgressMap=new Map,(this.options.recordCanvas&&"number"==typeof this.options.sampling||this.options.enableManualSnapshot)&&(this.worker=this.initFPSWorker())}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.processMutation=(t,e)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(t)||this.pendingCanvasMutations.set(t,[]),this.pendingCanvasMutations.get(t).push(e)};const{sampling:e="all",win:n,blockClass:r,blockSelector:i,unblockSelector:o,maxCanvasSize:s,recordCanvas:a,dataURLOptions:l,errorHandler:c}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,c&&v(c),(a&&"number"==typeof e||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(n),t.enableManualSnapshot||b((()=>{a&&"all"===e&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),a&&"number"==typeof e&&this.initCanvasFPSObserver(e,r,i,o,s,{dataURLOptions:l})}))()}addWindow(t){const{sampling:e="all",blockClass:n,blockSelector:r,unblockSelector:i,recordCanvas:o,enableManualSnapshot:s}=this.options;if(!this.windowsSet.has(t)){if(s)return this.windowsSet.add(t),void this.windows.push(new WeakRef(t));b((()=>{if(o&&"all"===e&&this.initCanvasMutationObserver(t,n,r,i),o&&"number"==typeof e){const e=k(t,n,r,i,!0);this.restoreHandlers.push((()=>{e()}))}}))(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){const t=new Worker(function(){const t=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(t)}());return t.onmessage=t=>{const e=t.data,{id:n}=e;if(this.snapshotInProgressMap.set(n,!1),!("base64"in e))return;const{base64:r,type:i,width:o,height:s}=e;this.mutationCb({id:n,type:y["2D"],commands:[{property:"clearRect",args:[0,0,o,s]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:i}]},0,0,o,s]}]})},t}initCanvasFPSObserver(t,e,n,r,i,o){const s=this.takeSnapshot(!1,t,e,n,r,i,o.dataURLOptions);this.restoreHandlers.push((()=>{cancelAnimationFrame(s)}))}initCanvasMutationObserver(t,e,n,r){const i=k(t,e,n,r,!1),o=function(t,e,n,r,i){const o=[],s=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const a of s)try{if("function"!=typeof e.CanvasRenderingContext2D.prototype[a])continue;const s=h(e.CanvasRenderingContext2D.prototype,a,(function(o){return function(...s){return d(this.canvas,n,r,i)||m((()=>{const n=M(s,e,this);t(this.canvas,{type:y["2D"],property:a,args:n})}),0),o.apply(this,s)}}));o.push(s)}catch(n){const r=u(e.CanvasRenderingContext2D.prototype,a,{set(e){t(this.canvas,{type:y["2D"],property:a,args:[e],setter:!0})}});o.push(r)}return()=>{o.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,n,r),s=function(t,e,n,r,i){const o=[];return o.push(...I(e.WebGLRenderingContext.prototype,y.WebGL,t,n,r,i,0,e)),void 0!==e.WebGL2RenderingContext&&o.push(...I(e.WebGL2RenderingContext.prototype,y.WebGL2,t,n,r,i,0,e)),()=>{o.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,n,r,this.mirror);this.restoreHandlers.push((()=>{i(),o(),s()}))}snapshot(t){const{options:e}=this,n=this.takeSnapshot(!0,"all"===e.sampling?2:e.sampling||2,e.blockClass,e.blockSelector,e.unblockSelector,e.maxCanvasSize,e.dataURLOptions,t);this.restoreHandlers.push((()=>{cancelAnimationFrame(n)}))}takeSnapshot(t,e,n,i,o,s,a,l){const c=1e3/e;let u,h=0;const f=t=>{if(t)return[t];const e=[],r=t=>{t.querySelectorAll("canvas").forEach((t=>{d(t,n,i,o)||e.push(t)}))};for(const t of this.windows){const e=t.deref();e&&r(e.document)}for(const t of this.shadowDoms){const e=t.deref();e&&r(e)}return e},p=e=>{this.windows.length&&(h&&e-h<c?u=g(p):(h=e,f(l).forEach((e=>{if(!this.mirror.hasNode(e))return;const n=this.mirror.getId(e);if(!this.snapshotInProgressMap.get(n)&&e.width&&e.height){if(this.snapshotInProgressMap.set(n,!0),!t&&["webgl","webgl2"].includes(e.__context)){const t=e.getContext(e.__context);!1===r([t,"optionalAccess",t=>t.getContextAttributes,"call",t=>t(),"optionalAccess",t=>t.preserveDrawingBuffer])&&t.clear(t.COLOR_BUFFER_BIT)}createImageBitmap(e).then((t=>{r([this,"access",t=>t.worker,"optionalAccess",t=>t.postMessage,"call",r=>r({id:n,bitmap:t,width:e.width,height:e.height,dataURLOptions:a,maxCanvasSize:s},[t])])})).catch((t=>{b((()=>{throw t}))()}))}})),t||(u=g(p))))};return u=g(p),u}startPendingCanvasMutationFlusher(){g((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const t=e=>{this.rafStamps.latestId=e,g(t)};g(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((t,e)=>{const n=this.mirror.getId(e);this.flushPendingCanvasMutationFor(e,n)})),g((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(t,e){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||-1===e)return;const r=n.map((t=>{const{type:e,...n}=t;return n})),{type:i}=n[0];this.mutationCb({id:e,type:i,commands:r}),this.pendingCanvasMutations.delete(t)}}const R={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},O=1280,N=i.defineIntegration(((t={})=>{const[e,n]=t.maxCanvasSize||[],r={quality:t.quality||"medium",enableManualSnapshot:t.enableManualSnapshot,maxCanvasSize:[e?Math.min(e,O):O,n?Math.min(n,O):O]};let i;const o=new Promise((t=>i=t));return{name:"ReplayCanvas",getOptions(){const{quality:t,enableManualSnapshot:e,maxCanvasSize:n}=r;return{enableManualSnapshot:e,recordCanvas:!0,getCanvasManager:t=>{const r=new P({...t,enableManualSnapshot:e,maxCanvasSize:n,errorHandler:t=>{try{"object"==typeof t&&(t.__rrweb__=!0)}catch(t){}}});return i(r),r},...R[t||"medium"]||R.medium}},async snapshot(t){(await o).snapshot(t)}}}));e.replayCanvasIntegration=N},2992:(t,e,n)=>{var{_nullishCoalesce:r,_optionalChain:i}=n(4320);Object.defineProperty(e,"__esModule",{value:!0});const o=n(7872),s=n(4320),a=n(1015),l=s.GLOBAL_OBJ,c="sentryReplaySession",u="Unable to send Replay",h=15e4,d=5e3,f=2e7,p=36e5;function g(t,e){return null!=t?t:e()}function m(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...t)=>n.call(e,...t))),e=void 0)}return n}var y;function _(t){const e=m([t,"optionalAccess",t=>t.host]);return Boolean(m([e,"optionalAccess",t=>t.shadowRoot])===t)}function v(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function b(t){try{const n=t.rules||t.cssRules;return n?((e=Array.from(n,x).join("")).includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e):null}catch(t){return null}var e}function x(t){let e;if(function(t){return"styleSheet"in t}(t))try{e=b(t.styleSheet)||function(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return""===t.layerName?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}(t)}catch(t){}else if(function(t){return"selectorText"in t}(t)&&t.selectorText.includes(":"))return function(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}(t.cssText);return e||t.cssText}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(y||(y={}));class S{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;return g(m([this,"access",t=>t.getMeta,"call",e=>e(t),"optionalAccess",t=>t.id]),(()=>-1))}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const n=e.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,e)}replace(t,e){const n=this.getNode(t);if(n){const t=this.nodeMetaMap.get(n);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function w({maskInputOptions:t,tagName:e,type:n}){return"OPTION"===e&&(e="SELECT"),Boolean(t[e.toLowerCase()]||n&&t[n]||"password"===n||"INPUT"===e&&!n&&t.text)}function E({isMasked:t,element:e,value:n,maskInputFn:r}){let i=n||"";return t?(r&&(i=r(i,e)),"*".repeat(i.length)):i}function T(t){return t.toLowerCase()}function C(t){return t.toUpperCase()}const M="__rrweb_original__";function A(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?T(e):null}function k(t,e,n){return"INPUT"!==e||"radio"!==n&&"checkbox"!==n?t.value:t.getAttribute("value")||""}function I(t,e){let n;try{n=new URL(t,g(e,(()=>window.location.href)))}catch(t){return null}return g(m([n.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",t=>t[1]]),(()=>null))}const P={};function R(t){const e=P[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const i=e.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(e)}catch(t){}return P[t]=r.bind(window)}function O(...t){return R("setTimeout")(...t)}function N(...t){return R("clearTimeout")(...t)}let D=1;const $=new RegExp("[^a-z0-9-_:]");function L(){return D++}let F,j;const U=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,B=/^(?:[a-z+]+:)?\/\//i,z=/^www\..*/i,G=/^(data:)([^,]*),(.*)/i;function H(t,e){return(t||"").replace(U,((t,n,r,i,o,s)=>{const a=r||o||s,l=n||i||"";if(!a)return t;if(B.test(a)||z.test(a))return`url(${l}${a}${l})`;if(G.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a}${l})`;const c=e.split("/"),u=a.split("/");c.pop();for(const t of u)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${l}${c.join("/")}${l})`}))}const W=/^[^ \t\n\r\u000c]+/,q=/^[, \t\n\r\u000c]+/;const V=new WeakMap;function Y(t,e){return e&&""!==e.trim()?K(t,e):e}function X(t){return Boolean("svg"===t.tagName||t.ownerSVGElement)}function K(t,e){let n=V.get(t);if(n||(n=t.createElement("a"),V.set(t,n)),e){if(e.startsWith("blob:")||e.startsWith("data:"))return e}else e="";return n.setAttribute("href",e),n.href}function Z(t,e,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==e||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Y(t,r):"background"!==n||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===n?function(t,e){if(""===e.trim())return e;let n=0;function r(t){let r;const i=t.exec(e.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(q),!(n>=e.length);){let o=r(W);if(","===o.slice(-1))o=Y(t,o.substring(0,o.length-1)),i.push(o);else{let r="";o=Y(t,o);let s=!1;for(;;){const t=e.charAt(n);if(""===t){i.push((o+r).trim());break}if(s)")"===t&&(s=!1);else{if(","===t){n+=1,i.push((o+r).trim());break}"("===t&&(s=!0)}r+=t,n+=1}}}return i.join(", ")}(t,r):"style"===n?H(r,K(t)):"object"===e&&"data"===n?Y(t,r):"function"==typeof o?o(n,r,i):r:Y(t,r):r}function J(t,e,n){return("video"===t||"audio"===t)&&"autoplay"===e}function Q(t,e,n=1/0,r=0){return t?t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:Q(t.parentNode,e,n,r+1):-1}function tt(t,e){return n=>{const r=n;if(null===r)return!1;try{if(t)if("string"==typeof t){if(r.matches(`.${t}`))return!0}else if(function(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}(r,t))return!0;return!(!e||!r.matches(e))}catch(t){return!1}}}function et(t,e,n,r,i,o){try{const s=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===s)return!1;if("INPUT"===s.tagName){const t=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(t))return!0}let a=-1,l=-1;if(o){if(l=Q(s,tt(r,i)),l<0)return!0;a=Q(s,tt(e,n),l>=0?l:1/0)}else{if(a=Q(s,tt(e,n)),a<0)return!1;l=Q(s,tt(r,i),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!o}catch(t){}return!!o}function nt(t,e){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:p={},maskTextFn:g,maskInputFn:_,dataURLOptions:v={},inlineImages:x,recordCanvas:S,keepIframeSrcFn:I,newlyAddedElement:P=!1}=e,R=function(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return 1===n?void 0:n}(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:y.Document,childNodes:[],compatMode:t.compatMode}:{type:y.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:y.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:R};case t.ELEMENT_NODE:return function(t,e){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:h,recordCanvas:d,keepIframeSrcFn:f,newlyAddedElement:p=!1,rootId:g,maskAllText:m,maskTextClass:_,unmaskTextClass:v,maskTextSelector:x,unmaskTextSelector:S}=e,I=function(t,e,n,r){try{if(r&&t.matches(r))return!1;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}if(n)return t.matches(n)}catch(t){}return!1}(t,r,i,o),P=function(t){if(t instanceof HTMLFormElement)return"form";const e=T(t.tagName);return $.test(e)?"div":e}(t);let R={};const O=t.attributes.length;for(let e=0;e<O;e++){const r=t.attributes[e];r.name&&!J(P,r.name,r.value)&&(R[r.name]=Z(n,P,T(r.name),r.value,t,l))}if("link"===P&&s){const e=Array.from(n.styleSheets).find((e=>e.href===t.href));let r=null;e&&(r=b(e)),r&&(delete R.rel,delete R.href,R._cssText=H(r,e.href))}if("style"===P&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=b(t.sheet);e&&(R._cssText=H(e,K(n)))}if("input"===P||"textarea"===P||"select"===P||"option"===P){const e=t,n=A(e),r=k(e,C(P),n),i=e.checked;if("submit"!==n&&"button"!==n&&r){const t=et(e,_,x,v,S,w({type:n,tagName:C(P),maskInputOptions:a}));R.value=E({isMasked:t,element:e,value:r,maskInputFn:c})}i&&(R.checked=i)}"option"===P&&(t.selected&&!a.select?R.selected=!0:delete R.selected);if("canvas"===P&&d)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let n=0;n<t.width;n+=50)for(let r=0;r<t.height;r+=50){const i=e.getImageData,o=M in i?i[M]:i;if(new Uint32Array(o.call(e,n,r,Math.min(50,t.width-n),Math.min(50,t.height-r)).data.buffer).some((t=>0!==t)))return!1}return!0})(t)||(R.rr_dataURL=t.toDataURL(u.type,u.quality));else if(!("__context"in t)){const e=t.toDataURL(u.type,u.quality),r=n.createElement("canvas");r.width=t.width,r.height=t.height;e!==r.toDataURL(u.type,u.quality)&&(R.rr_dataURL=e)}if("img"===P&&h){F||(F=n.createElement("canvas"),j=F.getContext("2d"));const e=t,r=e.currentSrc||e.getAttribute("src")||"<unknown-src>",i=e.crossOrigin,o=()=>{e.removeEventListener("load",o);try{F.width=e.naturalWidth,F.height=e.naturalHeight,j.drawImage(e,0,0),R.rr_dataURL=F.toDataURL(u.type,u.quality)}catch(t){if("anonymous"!==e.crossOrigin)return e.crossOrigin="anonymous",void(e.complete&&0!==e.naturalWidth?o():e.addEventListener("load",o));console.warn(`Cannot inline img src=${r}! Error: ${t}`)}"anonymous"===e.crossOrigin&&(i?R.crossOrigin=i:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?o():e.addEventListener("load",o)}"audio"!==P&&"video"!==P||(R.rr_mediaState=t.paused?"paused":"played",R.rr_mediaCurrentTime=t.currentTime);p||(t.scrollLeft&&(R.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(R.rr_scrollTop=t.scrollTop));if(I){const{width:e,height:n}=t.getBoundingClientRect();R={class:R.class,rr_width:`${e}px`,rr_height:`${n}px`}}"iframe"!==P||f(R.src)||(I||t.contentDocument||(R.rr_src=R.src),delete R.src);let N;try{customElements.get(P)&&(N=!0)}catch(t){}return{type:y.Element,tagName:P,attributes:R,childNodes:[],isSVG:X(t)||void 0,needBlock:I,rootId:g,isCustom:N}}(t,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:p,maskInputFn:_,dataURLOptions:v,inlineImages:x,recordCanvas:S,keepIframeSrcFn:I,newlyAddedElement:P,rootId:R,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d});case t.TEXT_NODE:return function(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=e,h=t.parentNode&&t.parentNode.tagName;let d=t.textContent;const f="STYLE"===h||void 0,p="SCRIPT"===h||void 0,g="TEXTAREA"===h||void 0;if(f&&d){try{t.nextSibling||t.previousSibling||m([t,"access",t=>t.parentNode,"access",t=>t.sheet,"optionalAccess",t=>t.cssRules])&&(d=b(t.parentNode.sheet))}catch(e){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${e}`,t)}d=H(d,K(e.doc))}p&&(d="SCRIPT_PLACEHOLDER");const _=et(t,r,o,i,s,n);f||p||g||!d||!_||(d=a?a(d,t.parentElement):d.replace(/[\S]/g,"*"));g&&d&&(l.textarea||_)&&(d=c?c(d,t.parentNode):d.replace(/[\S]/g,"*"));if("OPTION"===h&&d){d=E({isMasked:et(t,r,o,i,s,w({type:null,tagName:h,maskInputOptions:l})),element:t,value:d,maskInputFn:c})}return{type:y.Text,textContent:d||"",isStyle:f,rootId:u}}(t,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d,maskTextFn:g,maskInputOptions:p,maskInputFn:_,rootId:R});case t.CDATA_SECTION_NODE:return{type:y.CDATA,textContent:"",rootId:R};case t.COMMENT_NODE:return{type:y.Comment,textContent:t.textContent||"",rootId:R};default:return!1}}function rt(t){return null==t?"":t.toLowerCase()}function it(t,e){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:d=!1,inlineStylesheet:f=!0,maskInputOptions:p={},maskAttributeFn:g,maskTextFn:m,maskInputFn:b,slimDOMOptions:x,dataURLOptions:S={},inlineImages:w=!1,recordCanvas:E=!1,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:M=5e3,onStylesheetLoad:A,stylesheetLoadTimeout:k=5e3,keepIframeSrcFn:P=()=>!1,newlyAddedElement:R=!1}=e;let{preserveWhiteSpace:D=!0}=e;const $=nt(t,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:g,maskTextFn:m,maskInputFn:b,dataURLOptions:S,inlineImages:w,recordCanvas:E,keepIframeSrcFn:P,newlyAddedElement:R});if(!$)return console.warn(t,"not serialized"),null;let F;F=r.hasNode(t)?r.getId(t):!function(t,e){if(e.comment&&t.type===y.Comment)return!0;if(t.type===y.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&"js"===I(t.attributes.href)))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(rt(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===rt(t.attributes.name)||"icon"===rt(t.attributes.rel)||"apple-touch-icon"===rt(t.attributes.rel)||"shortcut icon"===rt(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&rt(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(rt(t.attributes.property).match(/^(og|twitter|fb):/)||rt(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===rt(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===rt(t.attributes.name)||"googlebot"===rt(t.attributes.name)||"bingbot"===rt(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===rt(t.attributes.name)||"generator"===rt(t.attributes.name)||"framework"===rt(t.attributes.name)||"publisher"===rt(t.attributes.name)||"progid"===rt(t.attributes.name)||rt(t.attributes.property).match(/^article:/)||rt(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===rt(t.attributes.name)||"yandex-verification"===rt(t.attributes.name)||"csrf-token"===rt(t.attributes.name)||"p:domain_verify"===rt(t.attributes.name)||"verify-v1"===rt(t.attributes.name)||"verification"===rt(t.attributes.name)||"shopify-checkout-api-token"===rt(t.attributes.name)))return!0}}return!1}($,x)&&(D||$.type!==y.Text||$.isStyle||$.textContent.replace(/^\s+|\s+$/gm,"").length)?L():-2;const j=Object.assign($,{id:F});if(r.add(t,j),-2===F)return null;T&&T(t);let U=!d;if(j.type===y.Element){U=U&&!j.needBlock,delete j.needBlock;const e=t.shadowRoot;e&&v(e)&&(j.isShadowHost=!0)}if((j.type===y.Document||j.type===y.Element)&&U){x.headWhitespace&&j.type===y.Element&&"head"===j.tagName&&(D=!1);const e={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:d,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:g,maskTextFn:m,maskInputFn:b,slimDOMOptions:x,dataURLOptions:S,inlineImages:w,recordCanvas:E,preserveWhiteSpace:D,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:M,onStylesheetLoad:A,stylesheetLoadTimeout:k,keepIframeSrcFn:P};for(const n of Array.from(t.childNodes)){const t=it(n,e);t&&j.childNodes.push(t)}if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(const n of Array.from(t.shadowRoot.childNodes)){const r=it(n,e);r&&(v(t.shadowRoot)&&(r.isShadow=!0),j.childNodes.push(r))}}return t.parentNode&&_(t.parentNode)&&v(t.parentNode)&&(j.isShadow=!0),j.type===y.Element&&"iframe"===j.tagName&&function(t,e,n){const r=t.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(t){return}if("complete"!==i){const r=O((()=>{o||(e(),o=!0)}),n);return void t.addEventListener("load",(()=>{N(r),o=!0,e()}))}const s="about:blank";if(r.location.href!==s||t.src===s||""===t.src)return O(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}(t,(()=>{const e=t.contentDocument;if(e&&C){const n=it(e,{doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:g,maskTextFn:m,maskInputFn:b,slimDOMOptions:x,dataURLOptions:S,inlineImages:w,recordCanvas:E,preserveWhiteSpace:D,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:M,onStylesheetLoad:A,stylesheetLoadTimeout:k,keepIframeSrcFn:P});n&&C(t,n)}}),M),j.type===y.Element&&"link"===j.tagName&&"string"==typeof j.attributes.rel&&("stylesheet"===j.attributes.rel||"preload"===j.attributes.rel&&"string"==typeof j.attributes.href&&"css"===I(j.attributes.href))&&function(t,e,n){let r,i=!1;try{r=t.sheet}catch(t){return}if(r)return;const o=O((()=>{i||(e(),i=!0)}),n);t.addEventListener("load",(()=>{N(o),i=!0,e()}))}(t,(()=>{if(A){const e=it(t,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:g,maskTextFn:m,maskInputFn:b,slimDOMOptions:x,dataURLOptions:S,inlineImages:w,recordCanvas:E,preserveWhiteSpace:D,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:M,onStylesheetLoad:A,stylesheetLoadTimeout:k,keepIframeSrcFn:P});e&&A(t,e)}}),k),j}function ot(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...t)=>n.call(e,...t))),e=void 0)}return n}function st(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const at="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let lt={map:{},getId:()=>(console.error(at),-1),getNode:()=>(console.error(at),null),removeNodeFromMap(){console.error(at)},has:()=>(console.error(at),!1),reset(){console.error(at)}};function ct(t,e,n={}){let r=null,i=0;return function(...o){const s=Date.now();i||!1!==n.leading||(i=s);const a=e-(s-i),l=this;a<=0||a>e?(r&&(!function(...t){kt("clearTimeout")(...t)}(r),r=null),i=s,t.apply(l,o)):r||!1===n.trailing||(r=It((()=>{i=!1===n.leading?0:Date.now(),r=null,t.apply(l,o)}),a))}}function ut(t,e,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(t,e);return i.Object.defineProperty(t,e,r?n:{set(t){It((()=>{n.set.call(this,t)}),0),o&&o.set&&o.set.call(this,t)}}),()=>ut(t,e,o||{},!0)}function ht(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=i,()=>{t[e]=r}}catch(t){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(lt=new Proxy(lt,{get:(t,e,n)=>("map"===e&&console.error(at),Reflect.get(t,e,n))}));let dt=Date.now;function ft(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:ot([e,"optionalAccess",t=>t.documentElement,"access",t=>t.scrollLeft])||ot([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.parentElement,"optionalAccess",t=>t.scrollLeft])||ot([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.scrollLeft])||0,top:e.scrollingElement?e.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:ot([e,"optionalAccess",t=>t.documentElement,"access",t=>t.scrollTop])||ot([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.parentElement,"optionalAccess",t=>t.scrollTop])||ot([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.scrollTop])||0}}function pt(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function gt(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function mt(t){if(!t)return null;return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}function yt(t,e,n,r,i){if(!t)return!1;const o=mt(t);if(!o)return!1;const s=tt(e,n);if(!i){const t=r&&o.matches(r);return s(o)&&!t}const a=Q(o,s);let l=-1;return!(a<0)&&(r&&(l=Q(o,tt(null,r))),a>-1&&l<0||a<l)}function _t(t,e){return-2===e.getId(t)}function vt(t,e){if(_(t))return!1;const n=e.getId(t);return!e.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||vt(t.parentNode,e))}function bt(t){return Boolean(t.changedTouches)}function xt(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function St(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function wt(t){return Boolean(ot([t,"optionalAccess",t=>t.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(dt=()=>(new Date).getTime());class Et{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return r(this.styleIDMap.get(t),(()=>-1))}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let n;return n=void 0===e?this.id++:e,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Tt(t){let e=null;return ot([t,"access",t=>t.getRootNode,"optionalCall",t=>t(),"optionalAccess",t=>t.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function Ct(t){const e=t.ownerDocument;if(!e)return!1;const n=function(t){let e,n=t;for(;e=Tt(n);)n=e;return n}(t);return e.contains(n)}function Mt(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||Ct(t))}const At={};function kt(t){const e=At[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const i=e.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(e)}catch(t){}return At[t]=r.bind(window)}function It(...t){return kt("setTimeout")(...t)}var Pt=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Pt||{}),Rt=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Rt||{}),Ot=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Ot||{}),Nt=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Nt||{});function Dt(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...t)=>n.call(e,...t))),e=void 0)}return n}function $t(t){return"__ln"in t}class Lt{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let n=0;n<t;n++)e=Dt([e,"optionalAccess",t=>t.next])||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&$t(t.previousSibling)){const n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else if(t.nextSibling&&$t(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;null===e.next&&(this.tail=e),this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next?e.next.previous=e.previous:this.tail=e.previous):(this.head=e.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Ft=(t,e)=>`${t}@${e}`;class jt{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new Set,n=new Lt,r=t=>{let e=t,n=-2;for(;-2===n;)e=e&&e.nextSibling,n=e&&this.mirror.getId(e);return n},i=i=>{if(!i.parentNode||!Mt(i))return;const o=_(i.parentNode)?this.mirror.getId(Tt(i)):this.mirror.getId(i.parentNode),s=r(i);if(-1===o||-1===s)return n.addNode(i);const a=it(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{xt(t,this.mirror)&&!yt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(t),St(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),wt(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(t,e)=>{yt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(t,e),t.contentWindow&&this.canvasManager.addWindow(t.contentWindow),this.shadowDomManager.observeAttachShadow(t))},onStylesheetLoad:(t,e)=>{this.stylesheetManager.attachLinkElement(t,e)}});a&&(t.push({parentId:o,nextId:s,node:a}),e.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const t of this.movedSet)Bt(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||i(t);for(const t of this.addedSet)zt(this.droppedSet,t)||Bt(this.removes,t,this.mirror)?zt(this.movedSet,t)?i(t):this.droppedSet.add(t):i(t);let o=null;for(;n.length;){let t=null;if(o){const e=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==e&&-1!==n&&(t=o)}if(!t){let e=n.tail;for(;e;){const n=e;if(e=e.previous,n){const e=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==e){t=n;break}{const e=n.value;if(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=e.parentNode.host;if(-1!==this.mirror.getId(r)){t=n;break}}}}}}if(!t){for(;n.head;)n.removeNode(n.head.value);break}o=t.previous,n.removeNode(t.value),i(t.value)}const s={texts:this.texts.map((t=>({id:this.mirror.getId(t.node),value:t.value}))).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),attributes:this.attributes.map((t=>{const{attributes:e}=t;if("string"==typeof e.style){const n=JSON.stringify(t.styleDiff),r=JSON.stringify(t._unchangedStyles);n.length<e.style.length&&(n+r).split("var(").length===e.style.split("var(").length&&(e.style=t.styleDiff)}return{id:this.mirror.getId(t.node),attributes:e}})).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),removes:this.removes,adds:t};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=t=>{if(!_t(t.target,this.mirror))switch(t.type){case"characterData":{const e=t.target.textContent;yt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||e===t.oldValue||this.texts.push({value:et(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&e?this.maskTextFn?this.maskTextFn(e,mt(t.target)):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const e=t.target;let n=t.attributeName,r=t.target.getAttribute(n);if("value"===n){const n=A(e),i=e.tagName;r=k(e,i,n);const o=w({maskInputOptions:this.maskInputOptions,tagName:i,type:n});r=E({isMasked:et(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o),element:e,value:r,maskInputFn:this.maskInputFn})}if(yt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===t.oldValue)return;let i=this.attributeMap.get(t.target);if("IFRAME"===e.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(e.contentDocument)return;n="rr_src"}if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),"type"===n&&"INPUT"===e.tagName&&"password"===(t.oldValue||"").toLowerCase()&&e.setAttribute("data-rr-is-password","true"),!J(e.tagName,n)&&(i.attributes[n]=Z(this.doc,T(e.tagName),T(n),r,e,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");t.oldValue&&n.setAttribute("style",t.oldValue);for(const t of Array.from(e.style)){const r=e.style.getPropertyValue(t),o=e.style.getPropertyPriority(t);r!==n.style.getPropertyValue(t)||o!==n.style.getPropertyPriority(t)?i.styleDiff[t]=""===o?r:[r,o]:i._unchangedStyles[t]=[r,o]}for(const t of Array.from(n.style))""===e.style.getPropertyValue(t)&&(i.styleDiff[t]=!1)}break}case"childList":if(yt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach((e=>this.genAdds(e,t.target))),t.removedNodes.forEach((e=>{const n=this.mirror.getId(e),r=_(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);yt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||_t(e,this.mirror)||!function(t,e){return-1!==e.getId(t)}(e,this.mirror)||(this.addedSet.has(e)?(Ut(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===n||vt(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[Ft(n,r)]?Ut(this.movedSet,e):this.removes.push({parentId:r,id:n,isShadow:!(!_(t.target)||!v(t.target))||void 0})),this.mapRemoves.push(e))}))}},this.genAdds=(t,e)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!this.addedSet.has(t)&&!this.movedSet.has(t)){if(this.mirror.hasNode(t)){if(_t(t,this.mirror))return;this.movedSet.add(t);let n=null;e&&this.mirror.hasNode(e)&&(n=this.mirror.getId(e)),n&&-1!==n&&(this.movedMap[Ft(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);yt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach((t=>this.genAdds(t))),wt(t)&&t.shadowRoot.childNodes.forEach((e=>{this.processedNodeManager.add(e,this),this.genAdds(e,t)})))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((e=>{this[e]=t[e]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ut(t,e){t.delete(e),e.childNodes.forEach((e=>Ut(t,e)))}function Bt(t,e,n){return 0!==t.length&&function(t,e,n){let r=e.parentNode;for(;r;){const e=n.getId(r);if(t.some((t=>t.id===e)))return!0;r=r.parentNode}return!1}(t,e,n)}function zt(t,e){return 0!==t.size&&Gt(t,e)}function Gt(t,e){const{parentNode:n}=e;return!!n&&(!!t.has(n)||Gt(t,n))}let Ht;function Wt(t){Ht=t}function qt(){Ht=void 0}const Vt=t=>{if(!Ht)return t;return(...e)=>{try{return t(...e)}catch(t){if(Ht&&!0===Ht(t))return()=>{};throw t}}};function Yt(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...t)=>n.call(e,...t))),e=void 0)}return n}const Xt=[];function Kt(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function Zt(t,e){const n=new jt;Xt.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const i=Yt([window,"optionalAccess",t=>t.Zone,"optionalAccess",t=>t.__symbol__,"optionalCall",t=>t("MutationObserver")]);i&&window[i]&&(r=window[i]);const o=new r(Vt((e=>{t.onMutation&&!1===t.onMutation(e)||n.processMutations.bind(n)(e)})));return o.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Jt({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];let c=null;return Object.keys(Ot).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==a[t])).forEach((s=>{let a=T(s);const u=(e=>s=>{const a=Kt(s);if(yt(a,r,i,o,!0))return;let l=null,u=e;if("pointerType"in s){switch(s.pointerType){case"mouse":l=Nt.Mouse;break;case"touch":l=Nt.Touch;break;case"pen":l=Nt.Pen}l===Nt.Touch?Ot[e]===Ot.MouseDown?u="TouchStart":Ot[e]===Ot.MouseUp&&(u="TouchEnd"):Nt.Pen}else bt(s)&&(l=Nt.Touch);null!==l?(c=l,(u.startsWith("Touch")&&l===Nt.Touch||u.startsWith("Mouse")&&l===Nt.Mouse)&&(l=null)):Ot[e]===Ot.Click&&(l=c,c=null);const h=bt(s)?s.changedTouches[0]:s;if(!h)return;const d=n.getId(a),{clientX:f,clientY:p}=h;Vt(t)({type:Ot[u],id:d,x:f,y:p,...null!==l&&{pointerType:l}})})(s);if(window.PointerEvent)switch(Ot[s]){case Ot.MouseDown:case Ot.MouseUp:a=a.replace("mouse","pointer");break;case Ot.TouchStart:case Ot.TouchEnd:return}l.push(st(a,u,e))})),Vt((()=>{l.forEach((t=>t()))}))}function Qt({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){return st("scroll",Vt(ct(Vt((s=>{const a=Kt(s);if(!a||yt(a,r,i,o,!0))return;const l=n.getId(a);if(a===e&&e.defaultView){const n=ft(e.defaultView);t({id:l,x:n.left,y:n.top})}else t({id:l,x:a.scrollLeft,y:a.scrollTop})})),s.scroll||100)),e)}const te=["INPUT","TEXTAREA","SELECT"],ee=new WeakMap;function ne({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:h,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g}){function m(t){let n=Kt(t);const u=t.isTrusted,m=n&&C(n.tagName);if("OPTION"===m&&(n=n.parentElement),!n||!m||te.indexOf(m)<0||yt(n,r,i,o,!0))return;const _=n;if(_.classList.contains(s)||a&&_.matches(a))return;const v=A(n);let b=k(_,m,v),x=!1;const S=w({maskInputOptions:l,tagName:m,type:v}),T=et(n,d,p,f,g,S);"radio"!==v&&"checkbox"!==v||(x=n.checked),b=E({isMasked:T,element:n,value:b,maskInputFn:c}),y(n,h?{text:b,isChecked:x,userTriggered:u}:{text:b,isChecked:x});const M=n.name;"radio"===v&&M&&x&&e.querySelectorAll(`input[type="radio"][name="${M}"]`).forEach((t=>{if(t!==n){const e=E({isMasked:T,element:t,value:k(t,m,v),maskInputFn:c});y(t,h?{text:e,isChecked:!x,userTriggered:!1}:{text:e,isChecked:!x})}}))}function y(e,r){const i=ee.get(e);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){ee.set(e,r);const i=n.getId(e);Vt(t)({...r,id:i})}}const _=("last"===u.input?["change"]:["input","change"]).map((t=>st(t,Vt(m),e))),v=e.defaultView;if(!v)return()=>{_.forEach((t=>t()))};const b=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),x=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&_.push(...x.map((t=>ut(t[0],t[1],{set(){Vt(m)({target:this,isTrusted:!1})}},!1,v)))),Vt((()=>{_.forEach((t=>t()))}))}function re(t){return function(t,e){if(ae("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||ae("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||ae("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||ae("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else if(t.parentStyleSheet){const n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function ie(t,e,n){let r,i;return t?(t.ownerNode?r=e.getId(t.ownerNode):i=n.getId(t),{styleId:i,id:r}):{}}function oe({mirror:t,stylesheetManager:e},n){let r=null;r="#document"===n.nodeName?t.getId(n):t.getId(n.host);const i="#document"===n.nodeName?Yt([n,"access",t=>t.defaultView,"optionalAccess",t=>t.Document]):Yt([n,"access",t=>t.ownerDocument,"optionalAccess",t=>t.defaultView,"optionalAccess",t=>t.ShadowRoot]),o=Yt([i,"optionalAccess",t=>t.prototype])?Object.getOwnPropertyDescriptor(Yt([i,"optionalAccess",t=>t.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&i&&o?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return Yt([o,"access",t=>t.get,"optionalAccess",t=>t.call,"call",t=>t(this)])},set(t){const n=Yt([o,"access",t=>t.set,"optionalAccess",t=>t.call,"call",e=>e(this,t)]);if(null!==r&&-1!==r)try{e.adoptStyleSheets(t,r)}catch(t){}return n}}),Vt((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))):()=>{}}function se(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};let r;t.recordDOM&&(r=Zt(t,t.doc));const i=function({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(!1===e.mousemove)return()=>{};const i="number"==typeof e.mousemove?e.mousemove:50,o="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let s,a=[];const l=ct(Vt((e=>{const n=Date.now()-s;t(a.map((t=>(t.timeOffset-=n,t))),e),a=[],s=null})),o),c=Vt(ct(Vt((t=>{const e=Kt(t),{clientX:n,clientY:i}=bt(t)?t.changedTouches[0]:t;s||(s=dt()),a.push({x:n,y:i,id:r.getId(e),timeOffset:dt()-s}),l("undefined"!=typeof DragEvent&&t instanceof DragEvent?Rt.Drag:t instanceof MouseEvent?Rt.MouseMove:Rt.TouchMove)})),i,{trailing:!1})),u=[st("mousemove",c,n),st("touchmove",c,n),st("drag",c,n)];return Vt((()=>{u.forEach((t=>t()))}))}(t),o=Jt(t),s=Qt(t),a=function({viewportResizeCb:t},{win:e}){let n=-1,r=-1;return st("resize",Vt(ct(Vt((()=>{const e=pt(),i=gt();n===e&&r===i||(t({width:Number(i),height:Number(e)}),n=e,r=i)})),200)),e)}(t,{win:n}),l=ne(t),c=function({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:s}){const a=Vt((s=>ct(Vt((o=>{const a=Kt(o);if(!a||yt(a,e,n,r,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:h}=a;t({type:s,id:i.getId(a),currentTime:l,volume:c,muted:u,playbackRate:h})})),o.media||500))),l=[st("play",a(0),s),st("pause",a(1),s),st("seeked",a(2),s),st("volumechange",a(3),s),st("ratechange",a(4),s)];return Vt((()=>{l.forEach((t=>t()))}))}(t);let u=()=>{},h=()=>{},d=()=>{},f=()=>{};t.recordDOM&&(u=function({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Vt(((r,i,o)=>{const[s,a]=o,{id:l,styleId:c}=ie(i,e,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&t({id:l,styleId:c,adds:[{rule:s,index:a}]}),r.apply(i,o)}))});const o=r.CSSStyleSheet.prototype.deleteRule;let s,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Vt(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=ie(i,e,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&t({id:a,styleId:l,removes:[{index:s}]}),r.apply(i,o)}))}),r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Vt(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=ie(i,e,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&t({id:a,styleId:l,replace:s}),r.apply(i,o)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Vt(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=ie(i,e,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&t({id:a,styleId:l,replaceSync:s}),r.apply(i,o)}))}));const l={};le("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(le("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),le("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),le("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach((([r,i])=>{c[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(c[r].insertRule,{apply:Vt(((r,i,o)=>{const[s,a]=o,{id:l,styleId:c}=ie(i.parentStyleSheet,e,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&t({id:l,styleId:c,adds:[{rule:s,index:[...re(i),a||0]}]}),r.apply(i,o)}))}),i.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:Vt(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=ie(i.parentStyleSheet,e,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&t({id:a,styleId:l,removes:[{index:[...re(i),s]}]}),r.apply(i,o)}))})})),Vt((()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach((([t,e])=>{e.prototype.insertRule=c[t].insertRule,e.prototype.deleteRule=c[t].deleteRule}))}))}(t,{win:n}),h=oe(t,t.doc),d=function({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Vt(((i,s,a)=>{const[l,c,u]=a;if(n.has(l))return o.apply(s,[l,c,u]);const{id:h,styleId:d}=ie(Yt([s,"access",t=>t.parentRule,"optionalAccess",t=>t.parentStyleSheet]),e,r.styleMirror);return(h&&-1!==h||d&&-1!==d)&&t({id:h,styleId:d,set:{property:l,value:c,priority:u},index:re(s.parentRule)}),i.apply(s,a)}))});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Vt(((i,o,a)=>{const[l]=a;if(n.has(l))return s.apply(o,[l]);const{id:c,styleId:u}=ie(Yt([o,"access",t=>t.parentRule,"optionalAccess",t=>t.parentStyleSheet]),e,r.styleMirror);return(c&&-1!==c||u&&-1!==u)&&t({id:c,styleId:u,remove:{property:l},index:re(o.parentRule)}),i.apply(o,a)}))}),Vt((()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s}))}(t,{win:n}),t.collectFonts&&(f=function({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(t,e,n){const r=new o(t,e,n);return i.set(r,{family:t,buffer:"string"!=typeof e,descriptors:n,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),r};const s=ht(e.fonts,"add",(function(e){return function(n){return It(Vt((()=>{const e=i.get(n);e&&(t(e),i.delete(n))})),0),e.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(s),Vt((()=>{r.forEach((t=>t()))}))}(t)));const p=function(t){const{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:s}=t;let a=!0;const l=Vt((()=>{const t=e.getSelection();if(!t||a&&Yt([t,"optionalAccess",t=>t.isCollapsed]))return;a=t.isCollapsed||!1;const l=[],c=t.rangeCount||0;for(let e=0;e<c;e++){const s=t.getRangeAt(e),{startContainer:a,startOffset:c,endContainer:u,endOffset:h}=s;yt(a,r,i,o,!0)||yt(u,r,i,o,!0)||l.push({start:n.getId(a),startOffset:c,end:n.getId(u),endOffset:h})}s({ranges:l})}));return l(),st("selectionchange",l)}(t),g=function({doc:t,customElementCb:e}){const n=t.defaultView;return n&&n.customElements?ht(n.customElements,"define",(function(t){return function(n,r,i){try{e({define:{name:n}})}catch(t){}return t.apply(this,[n,r,i])}})):()=>{}}(t),m=[];for(const e of t.plugins)m.push(e.observer(e.callback,n,e.options));return Vt((()=>{Xt.forEach((t=>t.reset())),Yt([r,"optionalAccess",t=>t.disconnect,"call",t=>t()]),i(),o(),s(),a(),l(),c(),u(),h(),d(),f(),p(),g(),m.forEach((t=>t()))}))}function ae(t){return void 0!==window[t]}function le(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class ce{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,e,n,r){const i=n||this.getIdToRemoteIdMap(t),o=r||this.getRemoteIdToIdMap(t);let s=i.get(e);return s||(s=this.generateIdFn(),i.set(e,s),o.set(s,e)),s}getIds(t,e){const n=this.getIdToRemoteIdMap(t),r=this.getRemoteIdToIdMap(t);return e.map((e=>this.getId(t,e,n,r)))}getRemoteId(t,e,n){const r=n||this.getRemoteIdToIdMap(t);if("number"!=typeof e)return e;const i=r.get(e);return i||-1}getRemoteIds(t,e){const n=this.getRemoteIdToIdMap(t);return e.map((e=>this.getRemoteId(t,e,n)))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}getRemoteIdToIdMap(t){let e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}function ue(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...t)=>n.call(e,...t))),e=void 0)}return n}class he{constructor(){this.crossOriginIframeMirror=new ce(L),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class de{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ce(L),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ce(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),ue([this,"access",t=>t.loadListener,"optionalCall",e=>e(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const e=t;if("rrweb"!==e.data.type||e.origin!==e.data.origin)return;if(!t.source)return;const n=this.crossOriginIframeMap.get(t.source);if(!n)return;const r=this.transformCrossOriginEvent(n,e.data.event);r&&this.wrappedEmit(r,e.data.isCheckout)}transformCrossOriginEvent(t,e){switch(e.type){case Pt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t);const n=e.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(e.data.node,n),{timestamp:e.timestamp,type:Pt.IncrementalSnapshot,data:{source:Rt.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Pt.Meta:case Pt.Load:case Pt.DomContentLoaded:return!1;case Pt.Plugin:return e;case Pt.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case Pt.IncrementalSnapshot:switch(e.data.source){case Rt.Mutation:return e.data.adds.forEach((e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t);const n=this.crossOriginIframeRootIdMap.get(t);n&&this.patchRootIdOnNode(e.node,n)})),e.data.removes.forEach((e=>{this.replaceIds(e,t,["parentId","id"])})),e.data.attributes.forEach((e=>{this.replaceIds(e,t,["id"])})),e.data.texts.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case Rt.Drag:case Rt.TouchMove:case Rt.MouseMove:return e.data.positions.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case Rt.ViewportResize:return!1;case Rt.MediaInteraction:case Rt.MouseInteraction:case Rt.Scroll:case Rt.CanvasMutation:case Rt.Input:return this.replaceIds(e.data,t,["id"]),e;case Rt.StyleSheetRule:case Rt.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case Rt.Font:return e;case Rt.Selection:return e.data.ranges.forEach((e=>{this.replaceIds(e,t,["start","end"])})),e;case Rt.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),ue([e,"access",t=>t.data,"access",t=>t.styles,"optionalAccess",t=>t.forEach,"call",e=>e((e=>{this.replaceStyleIds(e,t,["styleId"])}))]),e}}return!1}replace(t,e,n,r){for(const i of r)(Array.isArray(e[i])||"number"==typeof e[i])&&(Array.isArray(e[i])?e[i]=t.getIds(n,e[i]):e[i]=t.getId(n,e[i]));return e}replaceIds(t,e,n){return this.replace(this.crossOriginIframeMirror,t,e,n)}replaceStyleIds(t,e,n){return this.replace(this.crossOriginIframeStyleMirror,t,e,n)}replaceIdOnNode(t,e){this.replaceIds(t,e,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach((t=>{this.replaceIdOnNode(t,e)}))}patchRootIdOnNode(t,e){t.type===y.Document||t.rootId||(t.rootId=e),"childNodes"in t&&t.childNodes.forEach((t=>{this.patchRootIdOnNode(t,e)}))}}class fe{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class pe{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,e){if(!v(t))return;if(this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const n=Zt({...this.bypassOptions,doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Qt({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),It((()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(oe({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))}),0)}observeAttachShadow(t){t.contentWindow&&t.contentDocument&&this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,e){const n=this;this.restoreHandlers.push(ht(t.prototype,"attachShadow",(function(t){return function(r){const i=t.call(this,r);return this.shadowRoot&&Mt(this)&&n.addShadowRoot(this.shadowRoot,e),i}})))}reset(){this.restoreHandlers.forEach((t=>{try{t()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class ge{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class me{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Et,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,e){if(0===t.length)return;const n={id:e,styleIds:[]},r=[];for(const e of t){let t;this.styleMirror.has(e)?t=this.styleMirror.getId(e):(t=this.styleMirror.add(e),r.push({styleId:t,rules:Array.from(e.rules||CSSRule,((t,e)=>({rule:x(t),index:e})))})),n.styleIds.push(t)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ye{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,e){const n=this.nodeMap.get(t);return n&&Array.from(n).some((t=>t!==e))}add(t,e){this.active||(this.active=!0,function(...t){kt("requestAnimationFrame")(...t)}((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(e))}destroy(){}}let _e,ve;try{if(2!==Array.from([1],(t=>2*t))[0]){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=i([t,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const be=new S;function xe(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:s=null,unblockSelector:a=null,ignoreClass:l="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:h="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:g=!0,maskAllInputs:m,maskInputOptions:y,slimDOMOptions:_,maskAttributeFn:v,maskInputFn:b,maskTextFn:x,maxCanvasSize:w=null,packFn:E,sampling:T={},dataURLOptions:C={},mousemoveWait:M,recordDOM:A=!0,recordCanvas:k=!1,recordCrossOriginIframes:I=!1,recordAfter:P=("DOMContentLoaded"===t.recordAfter?t.recordAfter:"load"),userTriggeredOnInput:R=!1,collectFonts:O=!1,inlineImages:N=!1,plugins:D,keepIframeSrcFn:$=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:F,onMutation:j,getCanvasManager:U}=t;Wt(F);const B=!I||window.parent===window;let z=!1;if(!B)try{window.parent.document&&(z=!1)}catch(t){z=!0}if(B&&!e)throw new Error("emit function is required");if(!B&&!z)return()=>{};void 0!==M&&void 0===T.mousemove&&(T.mousemove=M),be.reset();const G=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==y?y:{},H=!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===_,headMetaDescKeywords:"all"===_}:_||{};let W;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let e=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}();let q=0;const V=t=>{for(const e of D||[])e.eventProcessor&&(t=e.eventProcessor(t));return E&&!z&&(t=E(t)),t};_e=(t,o)=>{const s=t;if(s.timestamp=dt(),!i([Xt,"access",t=>t[0],"optionalAccess",t=>t.isFrozen,"call",t=>t()])||s.type===Pt.FullSnapshot||s.type===Pt.IncrementalSnapshot&&s.data.source===Rt.Mutation||Xt.forEach((t=>t.unfreeze())),B)i([e,"optionalCall",t=>t(V(s),o)]);else if(z){const t={type:"rrweb",event:V(s),origin:window.location.origin,isCheckout:o};window.parent.postMessage(t,"*")}if(s.type===Pt.FullSnapshot)W=s,q=0;else if(s.type===Pt.IncrementalSnapshot){if(s.data.source===Rt.Mutation&&s.data.isAttachIframe)return;q++;const t=r&&q>=r,e=n&&W&&s.timestamp-W.timestamp>n;(t||e)&&nt(!0)}};const Y=t=>{_e({type:Pt.IncrementalSnapshot,data:{source:Rt.Mutation,...t}})},X=t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.Scroll,...t}}),K=t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.CanvasMutation,...t}}),Z=new me({mutationCb:Y,adoptedStyleSheetCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.AdoptedStyleSheet,...t}})}),J="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new he:new de({mirror:be,mutationCb:Y,stylesheetManager:Z,recordCrossOriginIframes:I,wrappedEmit:_e});for(const t of D||[])t.getMirror&&t.getMirror({nodeMirror:be,crossOriginIframeMirror:J.crossOriginIframeMirror,crossOriginIframeStyleMirror:J.crossOriginIframeStyleMirror});const Q=new ye,tt=function(t,e){try{return t?t(e):new ge}catch(t){return console.warn("Unable to initialize CanvasManager"),new ge}}(U,{mirror:be,win:window,mutationCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.CanvasMutation,...t}}),recordCanvas:k,blockClass:o,blockSelector:s,unblockSelector:a,maxCanvasSize:w,sampling:T.canvas,dataURLOptions:C,errorHandler:F}),et="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new fe:new pe({mutationCb:Y,scrollCb:X,bypassOptions:{onMutation:j,blockClass:o,blockSelector:s,unblockSelector:a,maskAllText:u,maskTextClass:h,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:g,maskInputOptions:G,dataURLOptions:C,maskAttributeFn:v,maskTextFn:x,maskInputFn:b,recordCanvas:k,inlineImages:N,sampling:T,slimDOMOptions:H,iframeManager:J,stylesheetManager:Z,canvasManager:tt,keepIframeSrcFn:$,processedNodeManager:Q},mirror:be}),nt=(t=!1)=>{if(!A)return;_e({type:Pt.Meta,data:{href:window.location.href,width:gt(),height:pt()}},t),Z.reset(),et.init(),Xt.forEach((t=>t.lock()));const e=function(t,e){const{mirror:n=new S,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:h=!0,inlineImages:d=!1,recordCanvas:f=!1,maskAllInputs:p=!1,maskAttributeFn:g,maskTextFn:m,maskInputFn:y,slimDOM:_=!1,dataURLOptions:v,preserveWhiteSpace:b,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:M=()=>!1}=e||{};return it(t,{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:h,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,maskAttributeFn:g,maskTextFn:m,maskInputFn:y,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:v,inlineImages:d,recordCanvas:f,preserveWhiteSpace:b,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:M,newlyAddedElement:!1})}(document,{mirror:be,blockClass:o,blockSelector:s,unblockSelector:a,maskAllText:u,maskTextClass:h,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:g,maskAllInputs:G,maskAttributeFn:v,maskInputFn:b,maskTextFn:x,slimDOM:H,dataURLOptions:C,recordCanvas:k,inlineImages:N,onSerialize:t=>{xt(t,be)&&J.addIframe(t),St(t,be)&&Z.trackLinkElement(t),wt(t)&&et.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{J.attachIframe(t,e),t.contentWindow&&tt.addWindow(t.contentWindow),et.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{Z.attachLinkElement(t,e)},keepIframeSrcFn:$});if(!e)return console.warn("Failed to snapshot the document");_e({type:Pt.FullSnapshot,data:{node:e,initialOffset:ft(window)}}),Xt.forEach((t=>t.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Z.adoptStyleSheets(document.adoptedStyleSheets,be.getId(document))};ve=nt;try{const t=[],e=t=>Vt(se)({onMutation:j,mutationCb:Y,mousemoveCb:(t,e)=>_e({type:Pt.IncrementalSnapshot,data:{source:e,positions:t}}),mouseInteractionCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.MouseInteraction,...t}}),scrollCb:X,viewportResizeCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.ViewportResize,...t}}),inputCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.Input,...t}}),mediaInteractionCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.MediaInteraction,...t}}),styleSheetRuleCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.StyleSheetRule,...t}}),styleDeclarationCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.StyleDeclaration,...t}}),canvasMutationCb:K,fontCb:t=>_e({type:Pt.IncrementalSnapshot,data:{source:Rt.Font,...t}}),selectionCb:t=>{_e({type:Pt.IncrementalSnapshot,data:{source:Rt.Selection,...t}})},customElementCb:t=>{_e({type:Pt.IncrementalSnapshot,data:{source:Rt.CustomElement,...t}})},blockClass:o,ignoreClass:l,ignoreSelector:c,maskAllText:u,maskTextClass:h,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:G,inlineStylesheet:g,sampling:T,recordDOM:A,recordCanvas:k,inlineImages:N,userTriggeredOnInput:R,collectFonts:O,doc:t,maskAttributeFn:v,maskInputFn:b,maskTextFn:x,keepIframeSrcFn:$,blockSelector:s,unblockSelector:a,slimDOMOptions:H,dataURLOptions:C,mirror:be,iframeManager:J,stylesheetManager:Z,shadowDomManager:et,processedNodeManager:Q,canvasManager:tt,ignoreCSSAttributes:L,plugins:i([D,"optionalAccess",t=>t.filter,"call",t=>t((t=>t.observer)),"optionalAccess",t=>t.map,"call",t=>t((t=>({observer:t.observer,options:t.options,callback:e=>_e({type:Pt.Plugin,data:{plugin:t.name,payload:e}})})))])||[]},{});J.addLoadListener((n=>{try{t.push(e(n.contentDocument))}catch(t){console.warn(t)}}));const n=()=>{nt(),t.push(e(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(t.push(st("DOMContentLoaded",(()=>{_e({type:Pt.DomContentLoaded,data:{}}),"DOMContentLoaded"===P&&n()}))),t.push(st("load",(()=>{_e({type:Pt.Load,data:{}}),"load"===P&&n()}),window))),()=>{t.forEach((t=>t())),Q.destroy(),ve=void 0,qt()}}catch(t){console.warn(t)}}xe.mirror=be,xe.takeFullSnapshot=function(t){if(!ve)throw new Error("please take full snapshot after start recording");ve(t)};const Se="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,we=["info","warn","error","log"],Ee="[Replay] ";function Te(t,e="info"){o.addBreadcrumb({category:"console",data:{logger:"replay"},level:e,message:`${Ee}${t}`},{level:e})}const Ce=function(){let t=!1,e=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{t=n.captureExceptions,e=n.traceInternals}};return Se?(we.forEach((t=>{n[t]=(...n)=>{s.logger[t](Ee,...n),e&&Te(n.join(""),s.severityLevelFromString(t))}})),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),s.logger.error(Ee,r),t?o.captureException(r):e&&Te(r,"error")},n.infoTick=(...t)=>{s.logger.info(Ee,...t),e&&setTimeout((()=>Te(t[0])),0)}):we.forEach((t=>{n[t]=()=>{}})),n}();function Me(t){return t>9999999999?t:1e3*t}function Ae(t){return t>9999999999?t/1e3:t}function ke(t,e){"sentry.transaction"!==e.category&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate((()=>(t.throttledAddEvent({type:Pt.Custom,timestamp:1e3*(e.timestamp||0),data:{tag:"breadcrumb",payload:s.normalize(e,10,1e3)}}),"console"===e.category))))}function Ie(t){return t.closest("button,a")||t}function Pe(t){const e=Re(t);return e&&e instanceof Element?Ie(e):e}function Re(t){return function(t){return"object"==typeof t&&!!t&&"target"in t}(t)?t.target:t}let Oe;function Ne(t){return Oe||(Oe=[],s.fill(l,"open",(function(t){return function(...e){if(Oe)try{Oe.forEach((t=>t()))}catch(t){}return t.apply(l,e)}}))),Oe.push(t),()=>{const e=Oe?Oe.indexOf(t):-1;e>-1&&Oe.splice(e,1)}}const De=new Set([Rt.Mutation,Rt.StyleSheetRule,Rt.StyleDeclaration,Rt.AdoptedStyleSheet,Rt.CanvasMutation,Rt.Selection,Rt.MediaInteraction]);class $e{constructor(t,e,n=ke){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=e.timeout/1e3,this._threshold=e.threshold/1e3,this._scollTimeout=e.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=e.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const t=Ne((()=>{this._lastMutation=Fe()}));this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,e){if(function(t,e){if(!Le.includes(t.tagName))return!0;if("INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||""))return!0;if("A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target")))return!0;if(e&&t.matches(e))return!0;return!1}(e,this._ignoreSelector)||!function(t){return!(!t.data||"number"!=typeof t.data.nodeId||!t.timestamp)}(t))return;const n={timestamp:Ae(t.timestamp),clickBreadcrumb:t,clickCount:0,node:e};this._clicks.some((t=>t.node===n.node&&Math.abs(t.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ae(t)}registerScroll(t=Date.now()){this._lastScroll=Ae(t)}registerClick(t){const e=Ie(t);this._handleMultiClick(e)}_handleMultiClick(t){this._getClicks(t).forEach((t=>{t.clickCount++}))}_getClicks(t){return this._clicks.filter((e=>e.node===t))}_checkClicks(){const t=[],e=Fe();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=e&&t.push(n)}));for(const e of t){const t=this._clicks.indexOf(e);t>-1&&(this._generateBreadcrumbs(e),this._clicks.splice(t,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const e=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,r=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:o,clickBreadcrumb:s}=t;if(i){const n=1e3*Math.min(t.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",i={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:l.location.href,route:e.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:o||1}};this._addBreadcrumbEvent(e,i)}else if(o>1){const t={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:l.location.href,route:e.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(e,t)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=a.setTimeout((()=>this._checkClicks()),1e3)}}const Le=["A","BUTTON","INPUT"];function Fe(){return Date.now()/1e3}function je(t,e){try{if(!function(t){return 3===t.type}(e))return;const{source:n}=e.data;if(De.has(n)&&t.registerMutation(e.timestamp),n===Rt.Scroll&&t.registerScroll(e.timestamp),function(t){return t.data.source===Rt.MouseInteraction}(e)){const{type:n,id:r}=e.data,i=xe.mirror.getNode(r);i instanceof HTMLElement&&n===Ot.Click&&t.registerClick(i)}}catch(t){}}function Ue(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Be;!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(Be||(Be={}));const ze=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Ge(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const n in t)if(ze.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),e[r]=t[n]}return e}const He=t=>e=>{if(!t.isEnabled())return;const n=function(t){const{target:e,message:n}=function(t){const e="click"===t.name;let n,r=null;try{r=e?Pe(t.event):Re(t.event),n=s.htmlTreeAsString(r,{maxStringLength:200})||"<unknown>"}catch(t){n="<unknown>"}return{target:r,message:n}}(t);return Ue({category:`ui.${t.name}`,...We(e,n)})}(e);if(!n)return;const r="click"===e.name,i=r?e.event:void 0;var o,a,l;!(r&&t.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||(o=t.clickDetector,a=n,l=Pe(e.event),o.handleClick(a,l)),ke(t,n)};function We(t,e){const n=xe.mirror.getId(t),r=n&&xe.mirror.getNode(n),i=r&&xe.mirror.getMeta(r),o=i&&function(t){return t.type===Be.Element}(i)?i:null;return{message:e,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map((t=>t.type===Be.Text&&t.textContent)).filter(Boolean).map((t=>t.trim())).join(""),attributes:Ge(o.attributes)}}:{}}}function qe(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=function(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:a}=t;if(!a||function(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable}(a)||!o)return null;const l=e||r||i,c=1===o.length;if(!l&&c)return null;const u=s.htmlTreeAsString(a,{maxStringLength:200})||"<unknown>",h=We(a,u);return Ue({category:"ui.keyDown",message:u,data:{...h.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:i,key:o}})}(e);n&&ke(t,n)}const Ve={resource:function(t){const{entryType:e,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=t;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${e}.${n}`,start:Ke(o),end:Ke(i),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}},paint:function(t){const{duration:e,entryType:n,name:r,startTime:i}=t,o=Ke(i);return{type:n,name:r,start:o,end:o+e,data:void 0}},navigation:function(t){const{entryType:e,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:h,redirectCount:d,startTime:f,transferSize:p,type:g}=t;if(0===i)return null;return{type:`${e}.${g}`,start:Ke(f),end:Ke(o),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:s,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:h,domComplete:o,redirectCount:d}}}};function Ye(t,e){return({metric:n})=>{e.replayPerformanceEntries.push(t(n))}}function Xe(t){const e=Ve[t.entryType];return e?e(t):null}function Ke(t){return((s.browserPerformanceTimeOrigin||l.performance.timeOrigin)+t)/1e3}function Ze(t){const e=t.entries[t.entries.length-1];return nn(t,"largest-contentful-paint",e&&e.element?[e.element]:void 0)}function Je(t){return void 0!==t.sources}function Qe(t){const e=[],n=[];for(const r of t.entries)if(Je(r)){const t=[];for(const e of r.sources)if(e.node){n.push(e.node);const r=xe.mirror.getId(e.node);r&&t.push(r)}e.push({value:r.value,nodeIds:t.length?t:void 0})}return nn(t,"cumulative-layout-shift",n,e)}function tn(t){const e=t.entries[t.entries.length-1];return nn(t,"first-input-delay",e&&e.target?[e.target]:void 0)}function en(t){const e=t.entries[t.entries.length-1];return nn(t,"interaction-to-next-paint",e&&e.target?[e.target]:void 0)}function nn(t,e,n,r){const i=t.value,o=t.rating,s=Ke(i);return{type:"web-vital",name:e,start:s,end:s,data:{value:i,size:i,rating:o,nodeIds:n?n.map((t=>xe.mirror.getId(t))):void 0,attributions:r}}}class rn extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class on{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const e=JSON.stringify(t).length;if(this._totalSize+=e,this._totalSize>f)throw new rn;this.events.push(t)}finish(){return new Promise((t=>{const e=this.events;this.clear(),t(JSON.stringify(e))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map((t=>t.timestamp)).sort()[0];return t?Me(t):null}}class sn{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((t,e)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?t():e()}),{once:!0}),this._worker.addEventListener("error",(t=>{e(t)}),{once:!0})}))),this._ensureReadyPromise}destroy(){Se&&Ce.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,e){const n=this._getAndIncrementId();return new Promise(((r,i)=>{const o=({data:e})=>{const s=e;if(s.method===t&&s.id===n){if(this._worker.removeEventListener("message",o),!s.success)return Se&&Ce.error("Error in compression worker: ",s.response),void i(new Error("Error in compression worker"));r(s.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:t,arg:e})}))}_getAndIncrementId(){return this._id++}}class an{constructor(t){this._worker=new sn(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const e=Me(t.timestamp);(!this._earliestTimestamp||e<this._earliestTimestamp)&&(this._earliestTimestamp=e);const n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>f?Promise.reject(new rn):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(t=>{Se&&Ce.exception(t,'Sending "clear" message to worker failed',t)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class ln{constructor(t){this._fallback=new on,this._compression=new an(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){return void(Se&&Ce.exception(t,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:e}=this._fallback,n=[];for(const e of t)n.push(this._compression.addEvent(e));this._compression.hasCheckout=e,this._used=this._compression;try{await Promise.all(n),this._fallback.clear()}catch(t){Se&&Ce.exception(t,"Failed to add events when switching buffers.")}}}function cn({useCompression:t,workerUrl:e}){if(t&&window.Worker){const t=function(t){try{const e=t||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const t=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(t)}();return""}();if(!e)return;Se&&Ce.info("Using compression worker"+(t?` from ${t}`:""));const n=new Worker(e);return new ln(n)}catch(t){Se&&Ce.exception(t,"Failed to create compression worker")}}(e);if(t)return t}return Se&&Ce.info("Using simple buffer"),new on}function un(){try{return"sessionStorage"in l&&!!l.sessionStorage}catch(t){return!1}}function hn(t){!function(){if(!un())return;try{l.sessionStorage.removeItem(c)}catch(t){}}(),t.session=void 0}function dn(t){return void 0!==t&&Math.random()<t}function fn(t){const e=Date.now();return{id:t.id||s.uuid4(),started:t.started||e,lastActivity:t.lastActivity||e,segmentId:t.segmentId||0,sampled:t.sampled,previousSessionId:t.previousSessionId}}function pn(t){if(un())try{l.sessionStorage.setItem(c,JSON.stringify(t))}catch(t){}}function gn({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const i=function(t,e){return dn(t)?"session":!!e&&"buffer"}(t,e),o=fn({sampled:i,previousSessionId:r});return n&&pn(o),o}function mn(t,e,n=+new Date){return null===t||void 0===e||e<0||0!==e&&t+e<=n}function yn(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return mn(t.started,e,r)||mn(t.lastActivity,n,r)}function _n(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!!yn(t,{sessionIdleExpire:e,maxReplayDuration:n})&&("buffer"!==t.sampled||0!==t.segmentId)}function vn({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:n},r){const i=r.stickySession&&function(){if(!un())return null;try{const t=l.sessionStorage.getItem(c);if(!t)return null;const e=JSON.parse(t);return Se&&Ce.infoTick("Loading existing session"),fn(e)}catch(t){return null}}();return i?_n(i,{sessionIdleExpire:t,maxReplayDuration:e})?(Se&&Ce.infoTick("Session in sessionStorage is expired, creating new one..."),gn(r,{previousSessionId:i.id})):i:(Se&&Ce.infoTick("Creating new session"),gn(r,{previousSessionId:n}))}function bn(t,e,n){return!!Sn(t,e)&&(xn(t,e,n),!0)}async function xn(t,e,n){if(!t.eventBuffer)return null;try{n&&"buffer"===t.recordingMode&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=function(t,e){try{if("function"==typeof e&&function(t){return t.type===Pt.Custom}(t))return e(t)}catch(t){return Se&&Ce.exception(t,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}(e,t.getOptions().beforeAddRecordingEvent);if(!r)return;return await t.eventBuffer.addEvent(r)}catch(e){const n=e&&e instanceof rn?"addEventSizeExceeded":"addEvent";t.handleException(e),await t.stop({reason:n});const r=o.getClient();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function Sn(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=Me(e.timestamp);return!(n+t.timeouts.sessionIdlePause<Date.now())&&(!(n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration)||(Se&&Ce.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1))}function wn(t){return!t.type}function En(t){return"transaction"===t.type}function Tn(t){return"feedback"===t.type}function Cn(t){return(e,n)=>{if(!t.isEnabled()||!wn(e)&&!En(e))return;const r=n&&n.statusCode;!r||r<200||r>=300||(En(e)?function(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}(t,e):function(t,e){const n=t.getContext();e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id);if("buffer"!==t.recordingMode||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();if("function"==typeof r&&!r(e))return;a.setTimeout((async()=>{try{await t.sendBufferedReplayOrFlush()}catch(e){t.handleException(e)}}))}(t,e))}}function Mn(t){return e=>{t.isEnabled()&&wn(e)&&function(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){ke(t,Ue({category:"replay.hydrate-error",data:{url:s.getLocationHref()}}))}}(t,e)}}function An(t){const e=o.getClient();e&&e.on("beforeAddBreadcrumb",(e=>function(t,e){if(!t.isEnabled()||!kn(e))return;const n=function(t){if(!kn(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||0===e.length)return Ue(t);let n=!1;const r=e.map((t=>{if(!t)return t;if("string"==typeof t)return t.length>d?(n=!0,`${t.slice(0,d)}…`):t;if("object"==typeof t)try{const e=s.normalize(t,7);return JSON.stringify(e).length>d?(n=!0,`${JSON.stringify(e,null,2).slice(0,d)}…`):e}catch(t){}return t}));return Ue({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Ue(t)}(e);n&&ke(t,n)}(t,e)))}function kn(t){return!!t.category}function In(t){return Object.assign(((e,n)=>{if(!t.isEnabled()||t.isPaused())return e;if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!wn(e)&&!En(e)&&!Tn(e))return e;if(!t.checkAndHandleExpiredSession())return e;if(Tn(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),function(t,e){t.triggerUserActivity(),t.addUpdate((()=>!e.timestamp||(t.throttledAddEvent({type:Pt.Custom,timestamp:1e3*e.timestamp,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1)))}(t,e),e;if(function(t,e){return!(t.type||!t.exception||!t.exception.values||!t.exception.values.length||!e.originalException||!e.originalException.__rrweb__)}(e,n)&&!t.getOptions()._experiments.captureExceptions)return Se&&Ce.log("Ignoring error from rrweb internals",e),null;const r=function(t,e){return"buffer"===t.recordingMode&&e.message!==u&&!(!e.exception||e.type)&&dn(t.getOptions().errorSampleRate)}(t,e);return(r||"session"===t.recordingMode)&&(e.tags={...e.tags,replayId:t.getSessionId()}),e}),{id:"Replay"})}function Pn(t,e){return e.map((({type:e,start:n,end:r,name:i,data:o})=>{const s=t.throttledAddEvent({type:Pt.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:e,description:i,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof s?Promise.resolve(null):s}))}function Rn(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}(e);null!==n&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate((()=>(Pn(t,[n]),!1))))}}function On(t,e){t.isEnabled()&&null!==e&&(function(t,e){return(!Se||!t.getOptions()._experiments.traceInternals)&&o.isSentryRequestUrl(e,o.getClient())}(t,e.name)||t.addUpdate((()=>(Pn(t,[e]),!0))))}function Nn(t){if(!t)return;const e=new TextEncoder;try{if("string"==typeof t)return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=zn(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(t){}}function Dn(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function $n(t){try{if("string"==typeof t)return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[zn(t)];if(!t)return[void 0]}catch(e){return Se&&Ce.exception(e,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Se&&Ce.info("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ln(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function Fn(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:a,request:l,response:c}=e;return{type:t,start:n/1e3,end:r/1e3,name:i,data:s.dropUndefinedKeys({method:o,statusCode:a,request:l,response:c})}}function jn(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function Un(t,e,n){if(!e&&0===Object.keys(t).length)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:i,warnings:o}=function(t){if(!t||"string"!=typeof t)return{body:t};const e=t.length>h,n=function(t){const e=t[0],n=t[t.length-1];return"["===e&&"]"===n||"{"===e&&"}"===n}(t);if(e){const e=t.slice(0,h);return n?{body:e,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${e}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch(t){}return{body:t}}(n);return r.body=i,o&&o.length>0&&(r._meta={warnings:o}),r}function Bn(t,e){return Object.entries(t).reduce(((n,[r,i])=>{const o=r.toLowerCase();return e.includes(o)&&t[r]&&(n[o]=i),n}),{})}function zn(t){return new URLSearchParams(t).toString()}function Gn(t,e){const n=function(t,e=l.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(l.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;if(!t.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(t);return s.stringMatchesSomePattern(n,e)}async function Hn(t,e,n){try{const r=await async function(t,e,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=e,{url:s,method:l,status_code:c=0,request_body_size:u,response_body_size:h}=t.data,d=Gn(s,n.networkDetailAllowUrls)&&!Gn(s,n.networkDetailDenyUrls),f=d?function({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const i=n?function(t,e){if(1===t.length&&"string"!=typeof t[0])return Vn(t[0],e);if(2===t.length)return Vn(t[1],e);return{}}(n,e):{};if(!t)return Un(i,r,void 0);const o=Wn(n),[s,a]=$n(o),l=Un(i,r,s);if(a)return Ln(l,a);return l}(n,e.input,u):jn(u),p=await async function(t,{networkCaptureBodies:e,networkResponseHeaders:n},r,i){if(!t&&void 0!==i)return jn(i);const o=r?qn(r.headers,n):{};if(!r||!e&&void 0!==i)return Un(o,i,void 0);const[s,l]=await async function(t){const e=function(t){try{return t.clone()}catch(t){Se&&Ce.exception(t,"Failed to clone response body")}}(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{const t=await function(t){return new Promise(((e,n)=>{const r=a.setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(t){return await t.text()})(t).then((t=>e(t)),(t=>n(t))).finally((()=>clearTimeout(r)))}))}(e);return[t]}catch(t){return t instanceof Error&&t.message.indexOf("Timeout")>-1?(Se&&Ce.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Se&&Ce.exception(t,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(r),c=function(t,{networkCaptureBodies:e,responseBodySize:n,captureDetails:r,headers:i}){try{const o=t&&t.length&&void 0===n?Nn(t):n;return r?Un(i,o,e?t:void 0):jn(o)}catch(t){return Se&&Ce.exception(t,"Failed to serialize response body"),Un(i,n,void 0)}}(s,{networkCaptureBodies:e,responseBodySize:i,captureDetails:t,headers:o});if(l)return Ln(c,l);return c}(d,n,e.response,h);return{startTimestamp:i,endTimestamp:o,url:s,method:l,statusCode:c,request:f,response:p}}(t,e,n),i=Fn("resource.fetch",r);On(n.replay,i)}catch(t){Se&&Ce.exception(t,"Failed to capture fetch breadcrumb")}}function Wn(t=[]){if(2===t.length&&"object"==typeof t[1])return t[1].body}function qn(t,e){const n={};return e.forEach((e=>{t.get(e)&&(n[e]=t.get(e))})),n}function Vn(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?qn(n,e):Array.isArray(n)?{}:Bn(n,e):{}}async function Yn(t,e,n){try{const r=function(t,e,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:s,xhr:l}=e,{url:c,method:u,status_code:h=0,request_body_size:d,response_body_size:f}=t.data;if(!c)return null;if(!l||!Gn(c,n.networkDetailAllowUrls)||Gn(c,n.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:h,request:jn(d),response:jn(f)}}const p=l[a.SENTRY_XHR_DATA_KEY],g=p?Bn(p.request_headers,n.networkRequestHeaders):{},m=Bn(function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce(((t,e)=>{const[n,r]=e.split(": ");return r&&(t[n.toLowerCase()]=r),t}),{})}(l),n.networkResponseHeaders),[y,_]=n.networkCaptureBodies?$n(s):[void 0],[v,b]=n.networkCaptureBodies?function(t){const e=[];try{return[t.responseText]}catch(t){e.push(t)}try{return function(t,e){try{if("string"==typeof t)return[t];if(t instanceof Document)return[t.body.outerHTML];if("json"===e&&t&&"object"==typeof t)return[JSON.stringify(t)];if(!t)return[void 0]}catch(e){return Se&&Ce.exception(e,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Se&&Ce.info("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}(t.response,t.responseType)}catch(t){e.push(t)}return Se&&Ce.warn("Failed to get xhr response body",...e),[void 0]}(l):[void 0],x=Un(g,d,y),S=Un(m,f,v);return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:h,request:_?Ln(x,_):x,response:b?Ln(S,b):S}}(t,e,n),i=Fn("resource.xhr",r);On(n.replay,i)}catch(t){Se&&Ce.exception(t,"Failed to capture xhr breadcrumb")}}function Xn(t,e){const{xhr:n,input:r}=e;if(!n)return;const i=Nn(r),o=n.getResponseHeader("content-length")?Dn(n.getResponseHeader("content-length")):function(t,e){try{return Nn("json"===e&&t&&"object"==typeof t?JSON.stringify(t):t)}catch(t){return}}(n.response,n.responseType);void 0!==i&&(t.data.request_body_size=i),void 0!==o&&(t.data.response_body_size=o)}function Kn(t){const e=o.getClient();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s}=t.getOptions(),a={replay:t,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s};e&&e.on("beforeAddBreadcrumb",((t,e)=>function(t,e,n){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return t&&t.xhr}(n)&&(Xn(e,n),Yn(e,n,t)),function(t){return"fetch"===t.category}(e)&&function(t){return t&&t.response}(n)&&(!function(t,e){const{input:n,response:r}=e,i=Nn(n?Wn(n):void 0),o=r?Dn(r.headers.get("content-length")):void 0;void 0!==i&&(t.data.request_body_size=i),void 0!==o&&(t.data.response_body_size=o)}(e,n),Hn(e,n,t))}catch(t){Se&&Ce.exception(t,"Error when enriching network breadcrumb")}}(a,t,e)))}catch(t){}}function Zn(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Jn(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession())return void(Se&&Ce.warn("Received replay event after session expired."));const i=r||!e;e=!0,t.clickDetector&&je(t.clickDetector,n),t.addUpdate((()=>{if("buffer"===t.recordingMode&&i&&t.setInitialState(),!bn(t,n,i))return!0;if(!i)return!1;const e=t.session;if(function(t,e){if(!e||!t.session||0!==t.session.segmentId)return;bn(t,function(t){const e=t.getOptions();return{type:Pt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:!!t.eventBuffer&&"worker"===t.eventBuffer.type,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}(t),!1)}(t,i),"buffer"===t.recordingMode&&e&&t.eventBuffer){const n=t.eventBuffer.getEarliestTimestamp();n&&(Se&&Ce.info(`Updating session start time to earliest event in buffer to ${new Date(n)}`),e.started=n,t.getOptions().stickySession&&pn(e))}return e&&e.previousSessionId||"session"===t.recordingMode&&t.flush(),!0}))}}async function Qn({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:i,session:a}){const l=function({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}\n`;if("string"==typeof t)n=`${r}${t}`;else{const e=(new TextEncoder).encode(r);n=new Uint8Array(e.length+t.length),n.set(e),n.set(t,e.length)}return n}({recordingData:t,headers:{segment_id:n}}),{urls:c,errorIds:h,traceIds:d,initialTimestamp:f}=r,p=o.getClient(),g=o.getCurrentScope(),m=p&&p.getTransport(),y=p&&p.getDsn();if(!(p&&m&&y&&a.sampled))return s.resolvedSyncPromise({});const _={type:"replay_event",replay_start_timestamp:f/1e3,timestamp:i/1e3,error_ids:h,trace_ids:d,urls:c,replay_id:e,segment_id:n,replay_type:a.sampled},v=await async function({client:t,scope:e,replayId:n,event:r}){const i={event_id:n,integrations:"object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit("preprocessEvent",r,i);const s=await o.prepareEvent(t.getOptions(),r,i,e,t,o.getIsolationScope());if(!s)return null;s.platform=s.platform||"javascript";const a=t.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return s.sdk={...s.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},s}({scope:g,client:p,replayId:e,event:_});if(!v)return p.recordDroppedEvent("event_processor","replay",_),Se&&Ce.info("An event processor returned `null`, will not send event."),s.resolvedSyncPromise({});delete v.sdkProcessingMetadata;const b=function(t,e,n,r){return s.createEnvelope(s.createEventEnvelopeHeaders(t,s.getSdkMetadataForEnvelopeHeader(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"==typeof e?(new TextEncoder).encode(e).length:e.length},e]])}(v,l,y,p.getOptions().tunnel);let x;try{x=await m.send(b)}catch(t){const e=new Error(u);try{e.cause=t}catch(t){}throw e}if("number"==typeof x.statusCode&&(x.statusCode<200||x.statusCode>=300))throw new tr(x.statusCode);const S=s.updateRateLimits({},x);if(s.isRateLimited(S,"replay"))throw new er(S);return x}class tr extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class er extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function nr(t,e={count:0,interval:5e3}){const{recordingData:n,onError:r}=t;if(n.length)try{return await Qn(t),!0}catch(n){if(n instanceof tr||n instanceof er)throw n;if(o.setContext("Replays",{_retryCount:e.count}),r&&r(n),e.count>=3){const t=new Error(`${u} - max retries exceeded`);try{t.cause=n}catch(t){}throw t}return e.interval*=++e.count,new Promise(((n,r)=>{a.setTimeout((async()=>{try{await nr(t,e),n(!0)}catch(t){r(t)}}),e.interval)}))}}const rr="__THROTTLED";function ir(t,e,n){const r=new Map;let i=!1;return(...o)=>{const s=Math.floor(Date.now()/1e3);if((t=>{const e=t-n;r.forEach(((t,n)=>{n<e&&r.delete(n)}))})(s),[...r.values()].reduce(((t,e)=>t+e),0)>=e){const t=i;return i=!0,t?"__SKIPPED":rr}i=!1;const a=r.get(s)||0;return r.set(s,a+1),t(...o)}}class or{constructor({options:t,recordingOptions:e}){or.prototype.__init.call(this),or.prototype.__init2.call(this),or.prototype.__init3.call(this),or.prototype.__init4.call(this),or.prototype.__init5.call(this),or.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=e,this._options=t,this._debouncedFlush=function(t,e,n){let r,i,o;const s=n&&n.maxWait?Math.max(n.maxWait,e):0;function l(){return c(),r=t(),r}function c(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0}function u(){return i&&clearTimeout(i),i=a.setTimeout(l,e),s&&void 0===o&&(o=a.setTimeout(l,s)),r}return u.cancel=c,u.flush=function(){return void 0!==i||void 0!==o?l():r},u}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=ir(((t,e)=>function(t,e,n){return Sn(t,e)?xn(t,e,n):Promise.resolve(null)}(this,t,e)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(i&&(this.clickDetector=new $e(this,i)),Se){const e=t._experiments;Ce.setConfig({captureExceptions:!!e.captureExceptions,traceInternals:!!e.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(t){Se&&Ce.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:e,sessionSampleRate:n}=this._options,r=e<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(t),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Se&&Ce.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):Se&&Ce.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(Se&&Ce.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(Se&&Ce.info("Buffering is in progress, call `flush()` to save the replay"));Se&&Ce.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=vn({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(Se&&Ce.info("Buffering is in progress, call `flush()` to save the replay"));Se&&Ce.infoTick("Starting replay in buffer mode");const t=vn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=xe({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Jn(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:e}={}){if(this._isEnabled){this._isEnabled=!1;try{Se&&Ce.info("Stopping Replay"+(e?` triggered by ${e}`:"")),function(){const t=o.getCurrentScope().getPropagationContext().dsc;t&&delete t.replay_id;const e=o.getActiveSpan();e&&delete o.getDynamicSamplingContextFromSpan(e).replay_id}(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,hn(this)}catch(t){this.handleException(t)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Se&&Ce.info("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),Se&&Ce.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const e=Date.now();Se&&Ce.info("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();t&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(e),this._updateSessionActivity(e),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const e=t();"buffer"!==this.recordingMode&&!0!==e&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&mn(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const t=`${l.location.pathname}${l.location.hash}${l.location.search}`,e=`${l.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=e,this._context.initialTimestamp=Date.now(),this._context.urls.push(e)}throttledAddEvent(t,e){const n=this._throttledAddEvent(t,e);if(n===rr){const t=Ue({category:"replay.throttled"});this.addUpdate((()=>!bn(this,{type:5,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t,metric:!0}})))}return n}getCurrentRoute(){const t=this.lastActiveSpan||o.getActiveSpan(),e=t&&o.getRootSpan(t),n=(e&&o.spanToJSON(e).data||{})[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(e&&n&&["route","custom"].includes(n))return o.spanToJSON(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=cn({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const e=this._options.errorSampleRate>0,n=vn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:e});this.session=n}_checkSession(){if(!this.session)return!1;const t=this.session;return!_n(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(t),!1)}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{l.document.addEventListener("visibilitychange",this._handleVisibilityChange),l.addEventListener("blur",this._handleWindowBlur),l.addEventListener("focus",this._handleWindowFocus),l.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(t){const e=o.getClient();a.addClickKeypressInstrumentationHandler(He(t)),a.addHistoryInstrumentationHandler(Rn(t)),An(t),Kn(t);const n=In(t);o.addEventProcessor(n),e&&(e.on("beforeSendEvent",Mn(t)),e.on("afterSendEvent",Cn(t)),e.on("createDsc",(e=>{const n=t.getSessionId();n&&t.isEnabled()&&"session"===t.recordingMode&&t.checkAndHandleExpiredSession()&&(e.replay_id=n)})),e.on("spanStart",(e=>{t.lastActiveSpan=e})),e.on("spanEnd",(e=>{t.lastActiveSpan=e})),e.on("beforeSendFeedback",((e,n)=>{const r=t.getSessionId();n&&n.includeReplay&&t.isEnabled()&&r&&e.contexts&&e.contexts.feedback&&(e.contexts.feedback.replay_id=r)})))}(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=function(t){function e(e){t.performanceEntries.includes(e)||t.performanceEntries.push(e)}function n({entries:t}){t.forEach(e)}const r=[];return["navigation","paint","resource"].forEach((t=>{r.push(a.addPerformanceInstrumentationHandler(t,n))})),r.push(a.addLcpInstrumentationHandler(Ye(Ze,t)),a.addClsInstrumentationHandler(Ye(Qe,t)),a.addFidInstrumentationHandler(Ye(tn,t)),a.addInpInstrumentationHandler(Ye(en,t))),()=>{r.forEach((t=>t()))}}(this)}_removeListeners(){try{l.document.removeEventListener("visibilitychange",this._handleVisibilityChange),l.removeEventListener("blur",this._handleWindowBlur),l.removeEventListener("focus",this._handleWindowFocus),l.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{"visible"===l.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Ue({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Ue({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{qe(this,t)}}_doChangeToBackgroundTasks(t){if(!this.session)return;yn(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;this.checkAndHandleExpiredSession()?t&&this._createCustomBreadcrumb(t):Se&&Ce.info("Document has become active, but session has expired")}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate((()=>{this.throttledAddEvent({type:Pt.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})}))}_addPerformanceEntries(){let t=(e=this.performanceEntries,e.map(Xe).filter(Boolean)).concat(this.replayPerformanceEntries);var e;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const e=this._context.initialTimestamp/1e3;t=t.filter((t=>t.start>=e))}return Promise.all(Pn(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:e}=this;if(!t||!e||this._requiresManualStart)return;if(t.segmentId)return;const n=e.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(this.session&&this.eventBuffer&&t){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(t){try{return Promise.all(Pn(t,[Zn(l.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const e=Date.now();if(e-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await nr({replayId:t,recordingData:i,segmentId:r,eventContext:n,session:this.session,timestamp:e,onError:t=>this.handleException(t)})}catch(t){this.handleException(t),this.stop({reason:"sendReplay"});const e=o.getClient();if(e){const n=t instanceof er?"ratelimit_backoff":"send_error";e.recordDroppedEvent(n,"replay")}}}else Se&&Ce.error("No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession())return void(Se&&Ce.error("Attempting to finish replay event after session expired."));if(!this.session)return;const e=this.session.started,n=Date.now()-e;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i)return Se&&Ce.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());const o=this.eventBuffer;o&&0===this.session.segmentId&&!o.hasCheckout&&Se&&Ce.info("Flushing initial segment without checkout.");const s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(t){this.handleException(t)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&pn(this.session)}__init6(){this._onMutationHandler=t=>{const e=t.length,n=this._options.mutationLimit,r=n&&e>n;if(e>this._options.mutationBreadcrumbLimit||r){const t=Ue({category:"replay.mutations",data:{count:e,limit:r}});this._createCustomBreadcrumb(t)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function sr(t,e){return[...t,...e].join(",")}const ar='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',lr=["content-length","content-type","accept"];let cr=!1;class ur{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=5e3,flushMaxDelay:e=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:d=750,mutationLimit:f=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=!0,networkRequestHeaders:b=[],networkResponseHeaders:x=[],mask:S=[],maskAttributes:w=["title","placeholder"],unmask:E=[],block:T=[],unblock:C=[],ignore:M=[],maskFn:A,beforeAddRecordingEvent:k,beforeErrorSampling:I,onError:P}={}){this.name=ur.id;const R=function({mask:t,unmask:e,block:n,unblock:r,ignore:i}){return{maskTextSelector:sr(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:sr(e,[]),blockSelector:sr(n,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:sr(r,[]),ignoreSelector:sr(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:S,unmask:E,block:T,unblock:C,ignore:M});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:A,maskInputFn:A,maskAttributeFn:(t,e,n)=>function({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return r?i.unmaskTextSelector&&t.matches(i.unmaskTextSelector)?o:n.includes(e)||"value"===e&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:w,maskAllText:c,privacyOptions:R,key:t,value:e,el:n}),...R,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:t=>{try{t.__rrweb__=!0}catch(t){}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:e,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,p),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:h,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:d,mutationLimit:f,slowClickTimeout:g,slowClickIgnoreSelectors:m,networkDetailAllowUrls:y,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:hr(b),networkResponseHeaders:hr(x),beforeAddRecordingEvent:k,beforeErrorSampling:I,onError:P,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ar}`:ar),this._isInitialized&&s.isBrowser())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return cr}set _isInitialized(t){cr=t}afterAllSetup(t){s.isBrowser()&&!this._replay&&(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay&&this._replay.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const e=function(t,e){const n=e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...s.dropUndefinedKeys(t)},i=o.parseSampleRate(n.replaysSessionSampleRate),a=o.parseSampleRate(n.replaysOnErrorSampleRate);null==i&&null==a&&s.consoleSandbox((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));null!=i&&(r.sessionSampleRate=i);null!=a&&(r.errorSampleRate=a);return r}(this._initialOptions,t);this._replay=new or({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const e=t.getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(t){}}}function hr(t){return[...lr,...t.map((t=>t.toLowerCase()))]}ur.__initStatic(),e.getReplay=function(){const t=o.getClient();return t&&t.getIntegrationByName("Replay")},e.replayIntegration=t=>new ur(t)},800:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(6421),s=n(4288),a=n(7670),l=n(7227);class c extends r.BaseClient{constructor(t){const e={parentSpanIsAlwaysRootSpan:!0,...t},n=a.WINDOW.SENTRY_SDK_SOURCE||i.getSDKSource();r.applySdkMetadata(e,"browser",["browser"],n),super(e),e.sendClientReports&&a.WINDOW.document&&a.WINDOW.document.addEventListener("visibilitychange",(()=>{"hidden"===a.WINDOW.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return s.eventFromException(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return s.eventFromMessage(this._options.stackParser,t,e,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(o.DEBUG_BUILD&&i.logger.warn("SDK not enabled, will not capture user feedback."));const e=l.createUserFeedbackEnvelope(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}}e.BrowserClient=c},6421:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.DEBUG_BUILD=n},4288:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320);function o(t,e){const n=l(t,e),r={type:h(e),value:d(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function s(t,e,n,s){const a=r.getClient(),c=a&&a.getOptions().normalizeDepth,u=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}return}(e),h={__serialized__:i.normalizeToSize(e,c)};if(u)return{exception:{values:[o(t,u)]},extra:h};const d={exception:{values:[{type:i.isEvent(e)?e.constructor.name:s?"UnhandledRejection":"Error",value:g(e,{isUnhandledRejection:s})}]},extra:h};if(n){const e=l(t,n);e.length&&(d.exception.values[0].stacktrace={frames:e})}return d}function a(t,e){return{exception:{values:[o(t,e)]}}}function l(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t&&c.test(t.message))return 1;return 0}(e),i=function(t){if("number"==typeof t.framesToPop)return t.framesToPop;return 0}(e);try{return t(n,r,i)}catch(t){}return[]}const c=/Minified React error #\d+;/i;function u(t){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&t instanceof WebAssembly.Exception}function h(t){const e=t&&t.name;if(!e&&u(t)){return t.message&&Array.isArray(t.message)&&2==t.message.length?t.message[0]:"WebAssembly.Exception"}return e}function d(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:u(t)&&Array.isArray(t.message)&&2==t.message.length?t.message[1]:e:"No error message"}function f(t,e,n,r,o){let l;if(i.isErrorEvent(e)&&e.error){return a(t,e.error)}if(i.isDOMError(e)||i.isDOMException(e)){const o=e;if("stack"in e)l=a(t,e);else{const e=o.name||(i.isDOMError(o)?"DOMError":"DOMException"),s=o.message?`${e}: ${o.message}`:e;l=p(t,s,n,r),i.addExceptionTypeValue(l,s)}return"code"in o&&(l.tags={...l.tags,"DOMException.code":`${o.code}`}),l}if(i.isError(e))return a(t,e);if(i.isPlainObject(e)||i.isEvent(e)){return l=s(t,e,n,o),i.addExceptionMechanism(l,{synthetic:!0}),l}return l=p(t,e,n,r),i.addExceptionTypeValue(l,`${e}`,void 0),i.addExceptionMechanism(l,{synthetic:!0}),l}function p(t,e,n,r){const o={};if(r&&n){const r=l(t,n);r.length&&(o.exception={values:[{value:e,stacktrace:{frames:r}}]})}if(i.isParameterizedString(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return o.logentry={message:t,params:n},o}return o.message=e,o}function g(t,{isUnhandledRejection:e}){const n=i.extractExceptionKeysForMessage(t),r=e?"promise rejection":"exception";if(i.isErrorEvent(t))return`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``;if(i.isEvent(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}e.eventFromException=function(t,e,n,r){const o=f(t,e,n&&n.syntheticException||void 0,r);return i.addExceptionMechanism(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),i.resolvedSyncPromise(o)},e.eventFromMessage=function(t,e,n="info",r,o){const s=p(t,e,r&&r.syntheticException||void 0,o);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),i.resolvedSyncPromise(s)},e.eventFromUnknownInput=f,e.exceptionFromError=o,e.extractMessage=d,e.extractType=h},6342:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(6532),i=n(5201),o=r.buildFeedbackIntegration({lazyLoadIntegration:i.lazyLoadIntegration});e.feedbackAsyncIntegration=o},6339:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(6532),i=n(5201),o=r.buildFeedbackIntegration({lazyLoadIntegration:i.lazyLoadIntegration,getModalIntegration:()=>r.feedbackModalIntegration,getScreenshotIntegration:()=>r.feedbackScreenshotIntegration});e.feedbackSyncIntegration=o},7670:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=i.GLOBAL_OBJ;let s=0;function a(){s++,setTimeout((()=>{s--}))}e.WINDOW=o,e.ignoreNextOnError=a,e.shouldIgnoreOnError=function(){return s>0},e.wrap=function t(e,n={},o){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(i.getOriginalFunction(e))return e}catch(t){return e}const s=function(){const o=Array.prototype.slice.call(arguments);try{const r=o.map((e=>t(e,n)));return e.apply(this,r)}catch(t){throw a(),r.withScope((e=>{e.addEventProcessor((t=>(n.mechanism&&(i.addExceptionTypeValue(t,void 0,void 0),i.addExceptionMechanism(t,n.mechanism)),t.extra={...t.extra,arguments:o},t))),r.captureException(t)})),t}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t])}catch(t){}i.markFunctionWrapped(s,e),i.addNonEnumerableProperty(e,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get:()=>e.name})}catch(t){}return s}},327:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(7670),o=n(800),s=n(6750),a=n(7558),l=n(4288),c=n(7227),u=n(8508),h=n(1673),d=n(4449),f=n(8968),p=n(2357),g=n(5196),m=n(5201),y=n(2855),_=n(44),v=n(8585),b=n(2992),x=n(7143),S=n(6342),w=n(6339),E=n(6532),T=n(7578),C=n(7299),M=n(3646),A=n(213),k=n(4012);e.SDK_VERSION=r.SDK_VERSION,e.SEMANTIC_ATTRIBUTE_SENTRY_OP=r.SEMANTIC_ATTRIBUTE_SENTRY_OP,e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=r.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,e.Scope=r.Scope,e.addBreadcrumb=r.addBreadcrumb,e.addEventProcessor=r.addEventProcessor,e.addIntegration=r.addIntegration,e.addTracingExtensions=r.addTracingExtensions,e.captureConsoleIntegration=r.captureConsoleIntegration,e.captureEvent=r.captureEvent,e.captureException=r.captureException,e.captureFeedback=r.captureFeedback,e.captureMessage=r.captureMessage,e.captureSession=r.captureSession,e.close=r.close,e.continueTrace=r.continueTrace,e.createTransport=r.createTransport,e.debugIntegration=r.debugIntegration,e.dedupeIntegration=r.dedupeIntegration,e.endSession=r.endSession,e.extraErrorDataIntegration=r.extraErrorDataIntegration,e.flush=r.flush,e.functionToStringIntegration=r.functionToStringIntegration,e.getActiveSpan=r.getActiveSpan,e.getClient=r.getClient,e.getCurrentHub=r.getCurrentHub,e.getCurrentScope=r.getCurrentScope,e.getGlobalScope=r.getGlobalScope,e.getIsolationScope=r.getIsolationScope,e.getRootSpan=r.getRootSpan,e.getSpanDescendants=r.getSpanDescendants,e.getSpanStatusFromHttpCode=r.getSpanStatusFromHttpCode,e.inboundFiltersIntegration=r.inboundFiltersIntegration,e.isInitialized=r.isInitialized,e.lastEventId=r.lastEventId,e.makeMultiplexedTransport=r.makeMultiplexedTransport,e.moduleMetadataIntegration=r.moduleMetadataIntegration,e.parameterize=r.parameterize,e.registerSpanErrorInstrumentation=r.registerSpanErrorInstrumentation,e.rewriteFramesIntegration=r.rewriteFramesIntegration,e.sessionTimingIntegration=r.sessionTimingIntegration,e.setContext=r.setContext,e.setCurrentClient=r.setCurrentClient,e.setExtra=r.setExtra,e.setExtras=r.setExtras,e.setHttpStatus=r.setHttpStatus,e.setMeasurement=r.setMeasurement,e.setTag=r.setTag,e.setTags=r.setTags,e.setUser=r.setUser,e.spanToBaggageHeader=r.spanToBaggageHeader,e.spanToJSON=r.spanToJSON,e.spanToTraceHeader=r.spanToTraceHeader,e.startInactiveSpan=r.startInactiveSpan,e.startNewTrace=r.startNewTrace,e.startSession=r.startSession,e.startSpan=r.startSpan,e.startSpanManual=r.startSpanManual,e.suppressTracing=r.suppressTracing,e.thirdPartyErrorFilterIntegration=r.thirdPartyErrorFilterIntegration,e.withActiveSpan=r.withActiveSpan,e.withIsolationScope=r.withIsolationScope,e.withScope=r.withScope,e.zodErrorsIntegration=r.zodErrorsIntegration,e.WINDOW=i.WINDOW,e.BrowserClient=o.BrowserClient,e.makeFetchTransport=s.makeFetchTransport,e.chromeStackLineParser=a.chromeStackLineParser,e.defaultStackLineParsers=a.defaultStackLineParsers,e.defaultStackParser=a.defaultStackParser,e.geckoStackLineParser=a.geckoStackLineParser,e.opera10StackLineParser=a.opera10StackLineParser,e.opera11StackLineParser=a.opera11StackLineParser,e.winjsStackLineParser=a.winjsStackLineParser,e.eventFromException=l.eventFromException,e.eventFromMessage=l.eventFromMessage,e.exceptionFromError=l.exceptionFromError,e.createUserFeedbackEnvelope=c.createUserFeedbackEnvelope,e.captureUserFeedback=u.captureUserFeedback,e.forceLoad=u.forceLoad,e.getDefaultIntegrations=u.getDefaultIntegrations,e.init=u.init,e.onLoad=u.onLoad,e.showReportDialog=u.showReportDialog,e.breadcrumbsIntegration=h.breadcrumbsIntegration,e.globalHandlersIntegration=d.globalHandlersIntegration,e.httpContextIntegration=f.httpContextIntegration,e.linkedErrorsIntegration=p.linkedErrorsIntegration,e.browserApiErrorsIntegration=g.browserApiErrorsIntegration,e.lazyLoadIntegration=m.lazyLoadIntegration,e.reportingObserverIntegration=y.reportingObserverIntegration,e.httpClientIntegration=_.httpClientIntegration,e.contextLinesIntegration=v.contextLinesIntegration,e.getReplay=b.getReplay,e.replayIntegration=b.replayIntegration,e.replayCanvasIntegration=x.replayCanvasIntegration,e.feedbackAsyncIntegration=S.feedbackAsyncIntegration,e.feedbackIntegration=w.feedbackSyncIntegration,e.feedbackSyncIntegration=w.feedbackSyncIntegration,e.getFeedback=E.getFeedback,e.sendFeedback=E.sendFeedback,e.metrics=T.metrics,e.defaultRequestInstrumentationOptions=C.defaultRequestInstrumentationOptions,e.instrumentOutgoingRequests=C.instrumentOutgoingRequests,e.browserTracingIntegration=M.browserTracingIntegration,e.startBrowserTracingNavigationSpan=M.startBrowserTracingNavigationSpan,e.startBrowserTracingPageLoadSpan=M.startBrowserTracingPageLoadSpan,e.makeBrowserOfflineTransport=A.makeBrowserOfflineTransport,e.browserProfilingIntegration=k.browserProfilingIntegration},1673:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1015),i=n(7872),o=n(4320),s=n(6421),a=n(7670),l=1024,c=i.defineIntegration(((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){e.console&&o.addConsoleInstrumentationHandler(function(t){return function(e){if(i.getClient()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:o.severityLevelFromString(e.level),message:o.safeJoin(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${o.safeJoin(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}i.addBreadcrumb(n,{input:e.args,level:e.level})}}(t)),e.dom&&r.addClickKeypressInstrumentationHandler(function(t,e){return function(n){if(i.getClient()!==t)return;let r,a,c="object"==typeof e?e.serializeAttribute:void 0,u="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;u&&u>l&&(s.DEBUG_BUILD&&o.logger.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${u} was configured. Sentry will use 1024 instead.`),u=l),"string"==typeof c&&(c=[c]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=o.htmlTreeAsString(e,{keyAttrs:c,maxStringLength:u}),a=o.getComponentName(e)}catch(t){r="<unknown>"}if(0===r.length)return;const h={category:`ui.${n.name}`,message:r};a&&(h.data={"ui.component_name":a}),i.addBreadcrumb(h,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&r.addXhrInstrumentationHandler(function(t){return function(e){if(i.getClient()!==t)return;const{startTimestamp:n,endTimestamp:s}=e,a=e.xhr[r.SENTRY_XHR_DATA_KEY];if(!n||!s||!a)return;const{method:l,url:c,status_code:u,body:h}=a,d={method:l,url:c,status_code:u},f={xhr:e.xhr,input:h,startTimestamp:n,endTimestamp:s},p=o.getBreadcrumbLogLevelFromHttpStatusCode(u);i.addBreadcrumb({category:"xhr",data:d,type:"http",level:p},f)}}(t)),e.fetch&&o.addFetchInstrumentationHandler(function(t){return function(e){if(i.getClient()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){const t=e.fetchData,o={data:e.error,input:e.args,startTimestamp:n,endTimestamp:r};i.addBreadcrumb({category:"fetch",data:t,level:"error",type:"http"},o)}else{const t=e.response,s={...e.fetchData,status_code:t&&t.status},a={input:e.args,response:t,startTimestamp:n,endTimestamp:r},l=o.getBreadcrumbLogLevelFromHttpStatusCode(s.status_code);i.addBreadcrumb({category:"fetch",data:s,type:"http",level:l},a)}}}(t)),e.history&&r.addHistoryInstrumentationHandler(function(t){return function(e){if(i.getClient()!==t)return;let n=e.from,r=e.to;const s=o.parseUrl(a.WINDOW.location.href);let l=n?o.parseUrl(n):void 0;const c=o.parseUrl(r);l&&l.path||(l=s),s.protocol===c.protocol&&s.host===c.host&&(r=c.relative),s.protocol===l.protocol&&s.host===l.host&&(n=l.relative),i.addBreadcrumb({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){i.getClient()===t&&i.addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:o.getEventDescription(e)},{event:e})}}(t))}}}));e.breadcrumbsIntegration=c},5196:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(7670),s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=r.defineIntegration(((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&i.fill(o.WINDOW,"setTimeout",l),e.setInterval&&i.fill(o.WINDOW,"setInterval",l),e.requestAnimationFrame&&i.fill(o.WINDOW,"requestAnimationFrame",c),e.XMLHttpRequest&&"XMLHttpRequest"in o.WINDOW&&i.fill(XMLHttpRequest.prototype,"send",u);const t=e.eventTarget;if(t){(Array.isArray(t)?t:s).forEach(h)}}}}));function l(t){return function(...e){const n=e[0];return e[0]=o.wrap(n,{mechanism:{data:{function:i.getFunctionName(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function c(t){return function(e){return t.apply(this,[o.wrap(e,{mechanism:{data:{function:"requestAnimationFrame",handler:i.getFunctionName(t)},handled:!1,type:"instrument"}})])}}function u(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&i.fill(n,t,(function(e){const n={mechanism:{data:{function:t,handler:i.getFunctionName(e)},handled:!1,type:"instrument"}},r=i.getOriginalFunction(e);return r&&(n.mechanism.data.handler=i.getFunctionName(r)),o.wrap(e,n)}))})),t.apply(this,e)}}function h(t){const e=o.WINDOW,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(i.fill(n,"addEventListener",(function(e){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=o.wrap(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:i.getFunctionName(r),target:t},handled:!1,type:"instrument"}}))}catch(t){}return e.apply(this,[n,o.wrap(r,{mechanism:{data:{function:"addEventListener",handler:i.getFunctionName(r),target:t},handled:!1,type:"instrument"}}),s])}})),i.fill(n,"removeEventListener",(function(t){return function(e,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&t.call(this,e,n,r)}catch(t){}return t.call(this,e,i,r)}})))}e.browserApiErrorsIntegration=a},8585:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=i.GLOBAL_OBJ,s=r.defineIntegration(((t={})=>{const e=null!=t.frameContextLines?t.frameContextLines:7;return{name:"ContextLines",processEvent:t=>function(t,e){const n=o.document,r=o.location&&i.stripUrlQueryAndFragment(o.location.href);if(!n||!r)return t;const s=t.exception&&t.exception.values;if(!s||!s.length)return t;const l=n.documentElement.innerHTML;if(!l)return t;const c=["<!DOCTYPE html>","<html>",...l.split("\n"),"</html>"];return s.forEach((t=>{const n=t.stacktrace;n&&n.frames&&(n.frames=n.frames.map((t=>a(t,c,r,e))))})),t}(t,e)}}));function a(t,e,n,r){return t.filename===n&&t.lineno&&e.length?(i.addContextToFrame(e,t,r),t):t}e.applySourceContextToFrame=a,e.contextLinesIntegration=s},4449:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(6421),s=n(4288),a=n(7670),l=r.defineIntegration(((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){i.addGlobalErrorInstrumentationHandler((e=>{const{stackParser:n,attachStacktrace:o}=u();if(r.getClient()!==t||a.shouldIgnoreOnError())return;const{msg:l,url:c,line:h,column:d,error:f}=e,p=function(t,e,n,r){const o=t.exception=t.exception||{},s=o.values=o.values||[],a=s[0]=s[0]||{},l=a.stacktrace=a.stacktrace||{},c=l.frames=l.frames||[],u=isNaN(parseInt(r,10))?void 0:r,h=isNaN(parseInt(n,10))?void 0:n,d=i.isString(e)&&e.length>0?e:i.getLocationHref();0===c.length&&c.push({colno:u,filename:d,function:i.UNKNOWN_FUNCTION,in_app:!0,lineno:h});return t}(s.eventFromUnknownInput(n,f||l,void 0,o,!1),c,h,d);p.level="error",r.captureEvent(p,{originalException:f,mechanism:{handled:!1,type:"onerror"}})}))}(t),c("onerror")),e.onunhandledrejection&&(!function(t){i.addGlobalUnhandledRejectionInstrumentationHandler((e=>{const{stackParser:n,attachStacktrace:o}=u();if(r.getClient()!==t||a.shouldIgnoreOnError())return;const l=function(t){if(i.isPrimitive(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(t){}return t}(e),c=i.isPrimitive(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:s.eventFromUnknownInput(n,l,void 0,o,!0);c.level="error",r.captureEvent(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),c("onunhandledrejection"))}}}));function c(t){o.DEBUG_BUILD&&i.logger.log(`Global Handler attached: ${t}`)}function u(){const t=r.getClient();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}e.globalHandlersIntegration=l},44:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1015),i=n(7872),o=n(4320),s=n(6421),a=i.defineIntegration(((t={})=>{const e={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...t};return{name:"HttpClient",setup(t){!function(t,e){if(!o.supportsNativeFetch())return;o.addFetchInstrumentationHandler((n=>{if(i.getClient()!==t)return;const{response:r,args:o}=n,[s,a]=o;r&&function(t,e,n,r){if(h(t,n.status,n.url)){const t=function(t,e){if(!e&&t instanceof Request)return t;if(t instanceof Request&&t.bodyUsed)return t;return new Request(t,e)}(e,r);let o,s,a,c;f()&&([o,a]=l("Cookie",t),[s,c]=l("Set-Cookie",n));const u=d({url:t.url,method:t.method,status:n.status,requestHeaders:o,responseHeaders:s,requestCookies:a,responseCookies:c});i.captureEvent(u)}}(e,s,r,a)}))}(t,e),function(t,e){if(!("XMLHttpRequest"in o.GLOBAL_OBJ))return;r.addXhrInstrumentationHandler((n=>{if(i.getClient()!==t)return;const a=n.xhr,l=a[r.SENTRY_XHR_DATA_KEY];if(!l)return;const{method:c,request_headers:p}=l;try{!function(t,e,n,r){if(h(t,e.status,e.responseURL)){let t,a,l;if(f()){try{const t=e.getResponseHeader("Set-Cookie")||e.getResponseHeader("set-cookie")||void 0;t&&(a=u(t))}catch(t){s.DEBUG_BUILD&&o.logger.log("Could not extract cookies from response headers")}try{l=function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce(((t,e)=>{const[n,r]=e.split(": ");return n&&r&&(t[n]=r),t}),{})}(e)}catch(t){s.DEBUG_BUILD&&o.logger.log("Could not extract headers from response")}t=r}const c=d({url:e.responseURL,method:n,status:e.status,requestHeaders:t,responseHeaders:l,responseCookies:a});i.captureEvent(c)}}(e,a,c,p)}catch(t){s.DEBUG_BUILD&&o.logger.warn("Error while extracting response event form XHR response",t)}}))}(t,e)}}}));function l(t,e){const n=function(t){const e={};return t.forEach(((t,n)=>{e[n]=t})),e}(e.headers);let r;try{const e=n[t]||n[t.toLowerCase()]||void 0;e&&(r=u(e))}catch(e){s.DEBUG_BUILD&&o.logger.log(`Could not extract cookies from header ${t}`)}return[n,r]}function c(t){if(t){const e=t["Content-Length"]||t["content-length"];if(e)return parseInt(e,10)}}function u(t){return t.split("; ").reduce(((t,e)=>{const[n,r]=e.split("=");return n&&r&&(t[n]=r),t}),{})}function h(t,e,n){return function(t,e){return t.some((t=>"number"==typeof t?t===e:e>=t[0]&&e<=t[1]))}(t.failedRequestStatusCodes,e)&&(r=t.failedRequestTargets,o=n,r.some((t=>"string"==typeof t?o.includes(t):t.test(o))))&&!i.isSentryRequestUrl(n,i.getClient());var r,o}function d(t){const e=`HTTP Client Error with status code: ${t.status}`,n={message:e,exception:{values:[{type:"Error",value:e}]},request:{url:t.url,method:t.method,headers:t.requestHeaders,cookies:t.requestCookies},contexts:{response:{status_code:t.status,headers:t.responseHeaders,cookies:t.responseCookies,body_size:c(t.responseHeaders)}}};return o.addExceptionMechanism(n,{type:"http.client",handled:!1}),n}function f(){const t=i.getClient();return!!t&&Boolean(t.getOptions().sendDefaultPii)}e.httpClientIntegration=a},8968:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(7670),o=r.defineIntegration((()=>({name:"HttpContext",preprocessEvent(t){if(!i.WINDOW.navigator&&!i.WINDOW.location&&!i.WINDOW.document)return;const e=t.request&&t.request.url||i.WINDOW.location&&i.WINDOW.location.href,{referrer:n}=i.WINDOW.document||{},{userAgent:r}=i.WINDOW.navigator||{},o={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...t.request,...e&&{url:e},headers:o};t.request=s}})));e.httpContextIntegration=o},2357:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(4288),s=r.defineIntegration(((t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,r,s){const a=s.getOptions();i.applyAggregateErrorsToEvent(o.exceptionFromError,a.stackParser,a.maxValueLength,n,e,t,r)}}}));e.linkedErrorsIntegration=s},2855:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=i.GLOBAL_OBJ,s=new WeakMap,a=r.defineIntegration(((t={})=>{const e=t.types||["crash","deprecation","intervention"];function n(t){if(s.has(r.getClient()))for(const e of t)r.withScope((t=>{t.setExtra("url",e.url);const n=`ReportingObserver [${e.type}]`;let i="No details available";if(e.body){const n={};for(const t in e.body)n[t]=e.body[t];if(t.setExtra("body",n),"crash"===e.type){const t=e.body;i=[t.crashId||"",t.reason||""].join(" ").trim()||i}else{i=e.body.message||i}}r.captureMessage(`${n}: ${i}`)}))}return{name:"ReportingObserver",setupOnce(){if(!i.supportsReportingObserver())return;new o.ReportingObserver(n,{buffered:!0,types:e}).observe()},setup(t){s.set(t,!0)}}}));e.reportingObserverIntegration=a},7578:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872);const i={increment:function(t,e=1,n){r.metrics.increment(r.BrowserMetricsAggregator,t,e,n)},distribution:function(t,e,n){r.metrics.distribution(r.BrowserMetricsAggregator,t,e,n)},set:function(t,e,n){r.metrics.set(r.BrowserMetricsAggregator,t,e,n)},gauge:function(t,e,n){r.metrics.gauge(r.BrowserMetricsAggregator,t,e,n)},timing:function(t,e,n="second",i){return r.metrics.timing(r.BrowserMetricsAggregator,t,e,n,i)}};e.metrics=i},4012:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(6421),s=n(8826),a=n(7751),l=r.defineIntegration((()=>({name:"BrowserProfiling",setup(t){const e=r.getActiveSpan(),n=e&&r.getRootSpan(e);n&&a.isAutomatedPageLoadSpan(n)&&a.shouldProfileSpan(n)&&s.startProfileForSpan(n),t.on("spanStart",(t=>{t===r.getRootSpan(t)&&a.shouldProfileSpan(t)&&s.startProfileForSpan(t)})),t.on("beforeEnvelope",(t=>{if(!a.getActiveProfilesCount())return;const e=a.findProfiledTransactionsFromEnvelope(t);if(!e.length)return;const n=[];for(const t of e){const e=t&&t.contexts,r=e&&e.profile&&e.profile.profile_id,s=e&&e.profile&&e.profile.start_timestamp;if("string"!=typeof r){o.DEBUG_BUILD&&i.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!r){o.DEBUG_BUILD&&i.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}e&&e.profile&&delete e.profile;const l=a.takeProfileFromGlobalCache(r);if(!l){o.DEBUG_BUILD&&i.logger.log(`[Profiling] Could not retrieve profile for span: ${r}`);continue}const c=a.createProfilingEvent(r,s,l,t);c&&n.push(c)}a.addProfilesToEnvelope(t,n)}))}})));e.browserProfilingIntegration=l},8826:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(6421),s=n(7670),a=n(7751);e.startProfileForSpan=function(t){let e;a.isAutomatedPageLoadSpan(t)&&(e=1e3*i.timestampInSeconds());const n=a.startJSSelfProfile();if(!n)return;o.DEBUG_BUILD&&i.logger.log(`[Profiling] started profiling span: ${r.spanToJSON(t).description}`);const l=i.uuid4();async function c(){if(t&&n)return n.stop().then((e=>{u&&(s.WINDOW.clearTimeout(u),u=void 0),o.DEBUG_BUILD&&i.logger.log(`[Profiling] stopped profiling of span: ${r.spanToJSON(t).description}`),e?a.addProfileToGlobalCache(l,e):o.DEBUG_BUILD&&i.logger.log(`[Profiling] profiler returned null profile for: ${r.spanToJSON(t).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started")})).catch((t=>{o.DEBUG_BUILD&&i.logger.log("[Profiling] error while stopping profiler:",t)}))}r.getCurrentScope().setContext("profile",{profile_id:l,start_timestamp:e});let u=s.WINDOW.setTimeout((()=>{o.DEBUG_BUILD&&i.logger.log("[Profiling] max profile duration elapsed, stopping profiling for:",r.spanToJSON(t).description),c()}),a.MAX_PROFILE_DURATION_MS);const h=t.end.bind(t);t.end=function(){return t?(c().then((()=>{h()}),(()=>{h()})),t):h()}}},7751:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(6421),s=n(7670),a=1e6,l=String(0);let c="",u="",h="",d=s.WINDOW.navigator&&s.WINDOW.navigator.userAgent||"",f="";const p=s.WINDOW.navigator&&s.WINDOW.navigator.language||s.WINDOW.navigator&&s.WINDOW.navigator.languages&&s.WINDOW.navigator.languages[0]||"";const g=s.WINDOW.navigator&&s.WINDOW.navigator.userAgentData;var m;function y(t){return function(t){return!("thread_metadata"in t)}(t)?v(t):t}function _(t,e,n,a){if("transaction"!==a.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const g=function(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return"string"==typeof e&&32!==e.length&&o.DEBUG_BUILD&&i.logger.log(`[Profiling] Invalid traceId: ${e} on profiled event`),"string"!=typeof e?"":e}(a),m=y(n),_=e||("number"==typeof a.start_timestamp?1e3*a.start_timestamp:1e3*i.timestampInSeconds()),v="number"==typeof a.timestamp?1e3*a.timestamp:1e3*i.timestampInSeconds();return{event_id:t,timestamp:new Date(_).toISOString(),platform:"javascript",version:"1",release:a.release||"",environment:a.environment||r.DEFAULT_ENVIRONMENT,runtime:{name:"javascript",version:s.WINDOW.navigator.userAgent},os:{name:c,version:u,build_number:d},device:{locale:p,model:f,manufacturer:d,architecture:h,is_emulator:!1},debug_meta:{images:x(n.resources)},profile:m,transactions:[{name:a.transaction||"",id:a.event_id||i.uuid4(),trace_id:g,active_thread_id:l,relative_start_ns:"0",relative_end_ns:(1e6*(v-_)).toFixed(0)}]}}function v(t){let e,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[l]:{name:"main"}}},o=t.samples[0];if(!o)return r;const s=o.timestamp,c="number"==typeof performance.timeOrigin?performance.timeOrigin:i.browserPerformanceTimeOrigin||0,u=c-(i.browserPerformanceTimeOrigin||c);return t.samples.forEach(((i,o)=>{if(void 0===i.stackId)return void 0===e&&(e=n,r.stacks[e]=[],n++),void(r.samples[o]={elapsed_since_start_ns:((i.timestamp+u-s)*a).toFixed(0),stack_id:e,thread_id:l});let c=t.stacks[i.stackId];const h=[];for(;c;){h.push(c.frameId);const e=t.frames[c.frameId];e&&void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:e.name,abs_path:"number"==typeof e.resourceId?t.resources[e.resourceId]:void 0,lineno:e.line,colno:e.column}),c=void 0===c.parentId?void 0:t.stacks[c.parentId]}const d={elapsed_since_start_ns:((i.timestamp+u-s)*a).toFixed(0),stack_id:n,thread_id:l};r.stacks[n]=h,r.samples[o]=d,n++})),r}"object"==typeof(m=g)&&null!==m&&"getHighEntropyValues"in m&&g.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((t=>{if(c=t.platform||"",h=t.architecture||"",f=t.model||"",u=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];d=`${e.brand} ${e.version}`}})).catch((t=>{}));const b=new WeakMap;function x(t){const e=i.GLOBAL_OBJ._sentryDebugIds;if(!e)return[];const n=r.getClient(),o=n&&n.getOptions(),s=o&&o.stackParser;if(!s)return[];let a;const l=b.get(s);l?a=l:(a=new Map,b.set(s,a));const c=Object.keys(e).reduce(((t,n)=>{let r;const i=a.get(n);i?r=i:(r=s(n),a.set(n,r));for(let i=r.length-1;i>=0;i--){const o=r[i],s=o&&o.filename;if(o&&s){t[s]=e[n];break}}return t}),{}),u=[];for(const e of t)e&&c[e]&&u.push({type:"sourcemap",code_file:e,debug_id:c[e]});return u}function S(t){return"number"!=typeof t&&"boolean"!=typeof t||"number"==typeof t&&isNaN(t)?(o.DEBUG_BUILD&&i.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):!0===t||!1===t||(!(t<0||t>1)||(o.DEBUG_BUILD&&i.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${t}.`),!1))}let w=!1;const E=new Map;e.MAX_PROFILE_DURATION_MS=3e4,e.addProfileToGlobalCache=function(t,e){if(E.set(t,e),E.size>30){const t=E.keys().next().value;E.delete(t)}},e.addProfilesToEnvelope=function(t,e){if(!e.length)return t;for(const n of e)t[1].push([{type:"profile"},n]);return t},e.applyDebugMetadata=x,e.convertJSSelfProfileToSampledFormat=v,e.createProfilePayload=_,e.createProfilingEvent=function(t,e,n,r){return function(t){return t.samples.length<2?(o.DEBUG_BUILD&&i.logger.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!t.frames.length||(o.DEBUG_BUILD&&i.logger.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?_(t,e,n,r):null},e.enrichWithThreadInformation=y,e.findProfiledTransactionsFromEnvelope=function(t){const e=[];return i.forEachEnvelopeItem(t,((t,n)=>{if("transaction"===n)for(let n=1;n<t.length;n++){const r=t[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&e.push(t[n])}})),e},e.getActiveProfilesCount=function(){return E.size},e.isAutomatedPageLoadSpan=function(t){return"pageload"===r.spanToJSON(t).op},e.isValidSampleRate=S,e.shouldProfileSpan=function(t){if(w)return o.DEBUG_BUILD&&i.logger.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.isRecording())return o.DEBUG_BUILD&&i.logger.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const e=r.getClient(),n=e&&e.getOptions();if(!n)return o.DEBUG_BUILD&&i.logger.log("[Profiling] Profiling disabled, no options found."),!1;const s=n.profilesSampleRate;return S(s)?s?!!(!0===s||Math.random()<s)||(o.DEBUG_BUILD&&i.logger.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(s)})`),!1):(o.DEBUG_BUILD&&i.logger.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(o.DEBUG_BUILD&&i.logger.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)},e.startJSSelfProfile=function(){const t=s.WINDOW.Profiler;if("function"!=typeof t)return void(o.DEBUG_BUILD&&i.logger.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const e=Math.floor(3e3);try{return new t({sampleInterval:10,maxBufferSize:e})}catch(t){o.DEBUG_BUILD&&(i.logger.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),i.logger.log("[Profiling] Disabling profiling for current user session.")),w=!0}},e.takeProfileFromGlobalCache=function(t){const e=E.get(t);return e&&E.delete(t),e}},8508:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(1015),s=n(800),a=n(6421),l=n(7670),c=n(1673),u=n(5196),h=n(4449),d=n(8968),f=n(2357),p=n(7558),g=n(6750);function m(t){return[r.inboundFiltersIntegration(),r.functionToStringIntegration(),u.browserApiErrorsIntegration(),c.breadcrumbsIntegration(),h.globalHandlersIntegration(),f.linkedErrorsIntegration(),r.dedupeIntegration(),d.httpContextIntegration()]}e.captureUserFeedback=function(t){const e=r.getClient();e&&e.captureUserFeedback(t)},e.forceLoad=function(){},e.getDefaultIntegrations=m,e.init=function(t={}){const e=function(t={}){const e={defaultIntegrations:m(),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:l.WINDOW.SENTRY_RELEASE&&l.WINDOW.SENTRY_RELEASE.id?l.WINDOW.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==t.defaultIntegrations&&delete t.defaultIntegrations,{...e,...t}}(t);if(function(){const t=void 0!==l.WINDOW.window&&l.WINDOW;if(!t)return!1;const e=t[t.chrome?"chrome":"browser"],n=e&&e.runtime&&e.runtime.id,r=l.WINDOW.location&&l.WINDOW.location.href||"",i=!!n&&l.WINDOW===l.WINDOW.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((t=>r.startsWith(`${t}//`))),o=void 0!==t.nw;return!!n&&!i&&!o}())return void i.consoleSandbox((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}));a.DEBUG_BUILD&&(i.supportsFetch()||i.logger.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...e,stackParser:i.stackParserFromStackParserOptions(e.stackParser||p.defaultStackParser),integrations:r.getIntegrationsToSetup(e),transport:e.transport||g.makeFetchTransport},c=r.initAndBind(s.BrowserClient,n);return e.autoSessionTracking&&function(){if(void 0===l.WINDOW.document)return void(a.DEBUG_BUILD&&i.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));r.startSession({ignoreDuration:!0}),r.captureSession(),o.addHistoryInstrumentationHandler((({from:t,to:e})=>{void 0!==t&&t!==e&&(r.startSession({ignoreDuration:!0}),r.captureSession())}))}(),c},e.onLoad=function(t){t()},e.showReportDialog=function(t={}){if(!l.WINDOW.document)return void(a.DEBUG_BUILD&&i.logger.error("Global document not defined in showReportDialog call"));const e=r.getCurrentScope(),n=e.getClient(),o=n&&n.getDsn();if(!o)return void(a.DEBUG_BUILD&&i.logger.error("DSN not configured for showReportDialog call"));if(e&&(t.user={...e.getUser(),...t.user}),!t.eventId){const e=r.lastEventId();e&&(t.eventId=e)}const s=l.WINDOW.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=r.getReportDialogEndpoint(o,t),t.onLoad&&(s.onload=t.onLoad);const{onClose:c}=t;if(c){const t=e=>{if("__sentry_reportdialog_closed__"===e.data)try{c()}finally{l.WINDOW.removeEventListener("message",t)}};l.WINDOW.addEventListener("message",t)}const u=l.WINDOW.document.head||l.WINDOW.document.body;u?u.appendChild(s):a.DEBUG_BUILD&&i.logger.error("Not injecting report dialog. No injection point found in HTML")}},7558:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);function i(t,e,n,i){const o={filename:t,function:"<anonymous>"===e?r.UNKNOWN_FUNCTION:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==i&&(o.colno=i),o}const o=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,s=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=[30,t=>{const e=o.exec(t);if(e){const[,t,n,o]=e;return i(t,r.UNKNOWN_FUNCTION,+n,+o)}const n=s.exec(t);if(n){if(n[2]&&0===n[2].indexOf("eval")){const t=a.exec(n[2]);t&&(n[2]=t[1],n[3]=t[2],n[4]=t[3])}const[t,e]=b(n[1]||r.UNKNOWN_FUNCTION,n[2]);return i(e,t,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,h=[50,t=>{const e=c.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=u.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||r.UNKNOWN_FUNCTION;return[n,t]=b(n,t),i(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],d=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=[40,t=>{const e=d.exec(t);return e?i(e[2],e[1]||r.UNKNOWN_FUNCTION,+e[3],e[4]?+e[4]:void 0):void 0}],p=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,g=[10,t=>{const e=p.exec(t);return e?i(e[2],e[3]||r.UNKNOWN_FUNCTION,+e[1]):void 0}],m=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,y=[20,t=>{const e=m.exec(t);return e?i(e[5],e[3]||e[4]||r.UNKNOWN_FUNCTION,+e[1],+e[2]):void 0}],_=[l,h],v=r.createStackParser(..._),b=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),i=-1!==t.indexOf("safari-web-extension");return n||i?[-1!==t.indexOf("@")?t.split("@")[0]:r.UNKNOWN_FUNCTION,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};e.chromeStackLineParser=l,e.defaultStackLineParsers=_,e.defaultStackParser=v,e.geckoStackLineParser=h,e.opera10StackLineParser=g,e.opera11StackLineParser=y,e.winjsStackLineParser=f},9233:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(6421),s=n(7670);e.registerBackgroundTabDetection=function(){s.WINDOW&&s.WINDOW.document?s.WINDOW.document.addEventListener("visibilitychange",(()=>{const t=r.getActiveSpan();if(!t)return;const e=r.getRootSpan(t);if(s.WINDOW.document.hidden&&e){const t="cancelled",{op:n,status:s}=r.spanToJSON(e);o.DEBUG_BUILD&&i.logger.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),s||e.setStatus({code:r.SPAN_STATUS_ERROR,message:t}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}})):o.DEBUG_BUILD&&i.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}},3646:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1015),i=n(7872),o=n(4320),s=n(6421),a=n(7670),l=n(9233),c=n(7299),u="BrowserTracing",h={...i.TRACING_DEFAULTS,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...c.defaultRequestInstrumentationOptions};function d(t,e,n){t.emit("startPageLoadSpan",e,n),i.getCurrentScope().setTransactionName(e.name);const r=i.getActiveSpan();return"pageload"===(r&&i.spanToJSON(r).op)?r:void 0}function f(t,e){i.getIsolationScope().setPropagationContext(o.generatePropagationContext()),i.getCurrentScope().setPropagationContext(o.generatePropagationContext()),t.emit("startNavigationSpan",e),i.getCurrentScope().setTransactionName(e.name);const n=i.getActiveSpan();return"navigation"===(n&&i.spanToJSON(n).op)?n:void 0}function p(t){const e=o.getDomElement(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}e.BROWSER_TRACING_INTEGRATION_ID=u,e.browserTracingIntegration=(t={})=>{i.registerSpanErrorInstrumentation();const{enableInp:e,enableLongTask:n,enableLongAnimationFrame:g,_experiments:{enableInteractions:m,enableStandaloneClsSpans:y},beforeStartSpan:_,idleTimeout:v,finalTimeout:b,childSpanTimeout:x,markBackgroundSpan:S,traceFetch:w,traceXHR:E,trackFetchStreamPerformance:T,shouldCreateSpanForRequest:C,enableHTTPTimings:M,instrumentPageLoad:A,instrumentNavigation:k}={...h,...t},I=r.startTrackingWebVitals({recordClsStandaloneSpans:y||!1});e&&r.startTrackingINP(),g&&o.GLOBAL_OBJ.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?r.startTrackingLongAnimationFrames():n&&r.startTrackingLongTasks(),m&&r.startTrackingInteractions();const P={name:void 0,source:void 0};function R(t,e){const n="pageload"===e.op,o=_?_(e):e,s=o.attributes||{};e.name!==o.name&&(s[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="custom",o.attributes=s),P.name=o.name,P.source=s[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const l=i.startIdleSpan(o,{idleTimeout:v,finalTimeout:b,childSpanTimeout:x,disableAutoFinish:n,beforeSpanEnd:t=>{I(),r.addPerformanceEntries(t,{recordClsOnPageloadSpan:!y})}});function c(){["interactive","complete"].includes(a.WINDOW.document.readyState)&&t.emit("idleSpanEnableAutoFinish",l)}return n&&a.WINDOW.document&&(a.WINDOW.document.addEventListener("readystatechange",(()=>{c()})),c()),l}return{name:u,afterAllSetup(t){let n,u=a.WINDOW.location&&a.WINDOW.location.href;t.on("startNavigationSpan",(e=>{i.getClient()===t&&(n&&!i.spanToJSON(n).timestamp&&(s.DEBUG_BUILD&&o.logger.log(`[Tracing] Finishing current root span with op: ${i.spanToJSON(n).op}`),n.end()),n=R(t,{op:"navigation",...e}))})),t.on("startPageLoadSpan",((e,r={})=>{if(i.getClient()!==t)return;n&&!i.spanToJSON(n).timestamp&&(s.DEBUG_BUILD&&o.logger.log(`[Tracing] Finishing current root span with op: ${i.spanToJSON(n).op}`),n.end());const a=r.sentryTrace||p("sentry-trace"),l=r.baggage||p("baggage"),c=o.propagationContextFromHeaders(a,l);i.getCurrentScope().setPropagationContext(c),n=R(t,{op:"pageload",...e})})),t.on("spanEnd",(t=>{const e=i.spanToJSON(t).op;if(t!==i.getRootSpan(t)||"navigation"!==e&&"pageload"!==e)return;const n=i.getCurrentScope(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:i.spanIsSampled(t),dsc:r.dsc||i.getDynamicSamplingContextFromSpan(t)})})),a.WINDOW.location&&(A&&d(t,{name:a.WINDOW.location.pathname,startTime:o.browserPerformanceTimeOrigin?o.browserPerformanceTimeOrigin/1e3:void 0,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.browser"}}),k&&r.addHistoryInstrumentationHandler((({to:e,from:n})=>{void 0===n&&u&&-1!==u.indexOf(e)?u=void 0:n!==e&&(u=void 0,f(t,{name:a.WINDOW.location.pathname,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.browser"}}))}))),S&&l.registerBackgroundTabDetection(),m&&function(t,e,n,r){let l;const c=()=>{const a="ui.action.click",c=i.getActiveSpan(),u=c&&i.getRootSpan(c);if(u){const t=i.spanToJSON(u).op;if(["navigation","pageload"].includes(t))return void(s.DEBUG_BUILD&&o.logger.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`))}l&&(l.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"interactionInterrupted"),l.end(),l=void 0),r.name?l=i.startIdleSpan({name:r.name,op:a,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:r.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:n}):s.DEBUG_BUILD&&o.logger.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`)};a.WINDOW.document&&addEventListener("click",c,{once:!1,capture:!0})}(v,b,x,P),e&&r.registerInpInteractionListener(),c.instrumentOutgoingRequests(t,{traceFetch:w,traceXHR:E,trackFetchStreamPerformance:T,tracePropagationTargets:t.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:C,enableHTTPTimings:M})}}},e.getMetaContent=p,e.startBrowserTracingNavigationSpan=f,e.startBrowserTracingPageLoadSpan=d},7299:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1015),i=n(7872),o=n(4320),s=n(7670),a=new WeakMap,l=new Map,c={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function u(t){const{url:e}=i.spanToJSON(t).data||{};if(!e||"string"!=typeof e)return;const n=r.addPerformanceInstrumentationHandler("resource",(({entries:r})=>{r.forEach((r=>{if(function(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"==typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}(r)&&r.name.endsWith(e)){(function(t){const{name:e,version:n}=h(t.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",e]),!o.browserPerformanceTimeOrigin)return r;return[...r,["http.request.redirect_start",d(t.redirectStart)],["http.request.fetch_start",d(t.fetchStart)],["http.request.domain_lookup_start",d(t.domainLookupStart)],["http.request.domain_lookup_end",d(t.domainLookupEnd)],["http.request.connect_start",d(t.connectStart)],["http.request.secure_connection_start",d(t.secureConnectionStart)],["http.request.connection_end",d(t.connectEnd)],["http.request.request_start",d(t.requestStart)],["http.request.response_start",d(t.responseStart)],["http.request.response_end",d(t.responseEnd)]]})(r).forEach((e=>t.setAttribute(...e))),setTimeout(n)}}))}))}function h(t){let e="unknown",n="unknown",r="";for(const i of t){if("/"===i){[e,n]=t.split("/");break}if(!isNaN(Number(i))){e="h"===r?"http":r,n=t.split(r)[1];break}r+=i}return r===t&&(e=r),{name:e,version:n}}function d(t=0){return((o.browserPerformanceTimeOrigin||performance.timeOrigin)+t)/1e3}function f(t,e){const n=s.WINDOW.location&&s.WINDOW.location.href;if(n){let r,i;try{r=new URL(t,n),i=new URL(n).origin}catch(t){return!1}const s=r.origin===i;return e?o.stringMatchesSomePattern(r.toString(),e)||s&&o.stringMatchesSomePattern(r.pathname,e):s}{const n=!!t.match(/^\/(?!\/)/);return e?o.stringMatchesSomePattern(t,e):n}}function p(t,e,n,s){const a=t.xhr,l=a&&a[r.SENTRY_XHR_DATA_KEY];if(!a||a.__sentry_own_request__||!l)return;const c=i.hasTracingEnabled()&&e(l.url);if(t.endTimestamp&&c){const t=a.__sentry_xhr_span_id__;if(!t)return;const e=s[t];return void(e&&void 0!==l.status_code&&(i.setHttpStatus(e,l.status_code),e.end(),delete s[t]))}const u=g(l.url),h=u?o.parseUrl(u).host:void 0,d=!!i.getActiveSpan(),f=c&&d?i.startInactiveSpan({name:`${l.method} ${l.url}`,attributes:{type:"xhr","http.method":l.method,"http.url":u,url:l.url,"server.address":h,[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser",[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new i.SentryNonRecordingSpan;a.__sentry_xhr_span_id__=f.spanContext().spanId,s[a.__sentry_xhr_span_id__]=f;const p=i.getClient();return a.setRequestHeader&&n(l.url)&&p&&function(t,e,n){const r=i.getCurrentScope(),s=i.getIsolationScope(),{traceId:a,spanId:l,sampled:c,dsc:u}={...s.getPropagationContext(),...r.getPropagationContext()},h=n&&i.hasTracingEnabled()?i.spanToTraceHeader(n):o.generateSentryTraceHeader(a,l,c),d=o.dynamicSamplingContextToSentryBaggageHeader(u||(n?i.getDynamicSamplingContextFromSpan(n):i.getDynamicSamplingContextFromClient(a,e)));!function(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(o.BAGGAGE_HEADER_NAME,n)}catch(t){}}(t,h,d)}(a,p,i.hasTracingEnabled()&&d?f:void 0),f}function g(t){try{return new URL(t,s.WINDOW.location.origin).href}catch(t){return}}e.defaultRequestInstrumentationOptions=c,e.extractNetworkProtocol=h,e.instrumentOutgoingRequests=function(t,e){const{traceFetch:n,traceXHR:s,trackFetchStreamPerformance:h,shouldCreateSpanForRequest:d,enableHTTPTimings:m,tracePropagationTargets:y}={traceFetch:c.traceFetch,traceXHR:c.traceXHR,trackFetchStreamPerformance:c.trackFetchStreamPerformance,...e},_="function"==typeof d?d:t=>!0,v=t=>f(t,y),b={};n&&(t.addEventProcessor((t=>("transaction"===t.type&&t.spans&&t.spans.forEach((t=>{if("http.client"===t.op){const e=l.get(t.span_id);e&&(t.timestamp=e/1e3,l.delete(t.span_id))}})),t))),h&&o.addFetchEndInstrumentationHandler((t=>{if(t.response){const e=a.get(t.response);e&&t.endTimestamp&&l.set(e,t.endTimestamp)}})),o.addFetchInstrumentationHandler((t=>{const e=i.instrumentFetchRequest(t,_,v,b);if(t.response&&t.fetchData.__span&&a.set(t.response,t.fetchData.__span),e){const n=g(t.fetchData.url),r=n?o.parseUrl(n).host:void 0;e.setAttributes({"http.url":n,"server.address":r})}m&&e&&u(e)}))),s&&r.addXhrInstrumentationHandler((t=>{const e=p(t,_,v,b);m&&e&&u(e)}))},e.shouldAttachHeaders=f,e.xhrCallback=p},6750:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(1015),i=n(7872),o=n(4320);e.makeFetchTransport=function(t,e=r.getNativeImplementation("fetch")){let n=0,s=0;return i.createTransport(t,(function(i){const a=i.body.length;n+=a,s++;const l={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&s<15,...t.fetchOptions};if(!e)return r.clearCachedImplementation("fetch"),o.rejectedSyncPromise("No fetch implementation available");try{return e(t.url,l).then((t=>(n-=a,s--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return r.clearCachedImplementation("fetch"),n-=a,s--,o.rejectedSyncPromise(t)}}))}},213:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(4320),o=n(6750);function s(t){return new Promise(((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)}))}function a(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=s(n);return t=>r.then((n=>t(n.transaction(e,"readwrite").objectStore(e))))}function l(t){return s(t.getAllKeys())}function c(t,e,n){return t((t=>l(t).then((r=>{if(!(r.length>=n))return t.put(e,Math.max(...r,0)+1),s(t.transaction)}))))}function u(t,e,n){return t((t=>l(t).then((r=>{if(!(r.length>=n))return t.put(e,Math.min(...r,0)-1),s(t.transaction)}))))}function h(t){return t((t=>l(t).then((e=>{const n=e[0];if(null!=n)return s(t.get(n)).then((e=>(t.delete(n),s(t.transaction).then((()=>e)))))}))))}function d(t){let e;function n(){return null==e&&(e=a(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{push:async e=>{try{const r=await i.serializeEnvelope(e);await c(n(),r,t.maxQueueSize||30)}catch(t){}},unshift:async e=>{try{const r=await i.serializeEnvelope(e);await u(n(),r,t.maxQueueSize||30)}catch(t){}},shift:async()=>{try{const t=await h(n());if(t)return i.parseEnvelope(t)}catch(t){}}}}e.createStore=a,e.makeBrowserOfflineTransport=function(t=o.makeFetchTransport){return function(t){return e=>t({...e,createStore:d})}(r.makeOfflineTransport(t))},e.push=c,e.shift=h,e.unshift=u},7227:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);e.createUserFeedbackEnvelope=function(t,{metadata:e,tunnel:n,dsn:i}){const o={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!i&&{dsn:r.dsnToString(i)}},s=function(t){return[{type:"user_report"},t]}(t);return r.createEnvelope(o,[s])}},5201:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7872),i=n(7670),o={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},s=i.WINDOW;e.lazyLoadIntegration=async function(t,e){const n=o[t],a=s.Sentry=s.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${t}`);const l=a[t];if("function"==typeof l&&!("_isShim"in l))return l;const c=function(t){const e=r.getClient(),n=e&&e.getOptions(),i=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${r.SDK_VERSION}/${t}.min.js`,i).toString()}(n),u=i.WINDOW.document.createElement("script");u.src=c,u.crossOrigin="anonymous",u.referrerPolicy="origin",e&&u.setAttribute("nonce",e);const h=new Promise(((t,e)=>{u.addEventListener("load",(()=>t())),u.addEventListener("error",e)})),d=i.WINDOW.document.currentScript,f=i.WINDOW.document.body||i.WINDOW.document.head||d&&d.parentElement;if(!f)throw new Error(`Could not find parent element to insert lazy-loaded ${t} script`);f.appendChild(u);try{await h}catch(e){throw new Error(`Error when loading integration: ${t}`)}const p=a[t];if("function"!=typeof p)throw new Error(`Could not load integration: ${t}`);return p}},5740:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);function i(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}e.getEnvelopeEndpointWithUrlEncodedAuth=function(t,e,n){return e||`${function(t){return`${i(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){return r.urlEncode({sentry_key:t.publicKey,sentry_version:"7",...e&&{sentry_client:`${e.name}/${e.version}`}})}(t,n)}`},e.getReportDialogEndpoint=function(t,e){const n=r.makeDsn(t);if(!n)return"";const o=`${i(n)}embed/error-page/`;let s=`dsn=${r.dsnToString(n)}`;for(const t in e)if("dsn"!==t&&"onClose"!==t)if("user"===t){const t=e.user;if(!t)continue;t.name&&(s+=`&name=${encodeURIComponent(t.name)}`),t.email&&(s+=`&email=${encodeURIComponent(t.email)}`)}else s+=`&${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`;return`${o}?${s}`}},2810:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(3220),i=n(5475);e.getAsyncContextStrategy=function(t){const e=r.getSentryCarrier(t);return e.acs?e.acs:i.getStackAsyncContextStrategy()},e.setAsyncContextStrategy=function(t){const e=r.getMainCarrier();r.getSentryCarrier(e).acs=t}},5475:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(7320),o=n(9640),s=n(3220);class a{constructor(t,e){let n,r;n=t||new o.Scope,r=e||new o.Scope,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(t){throw this._popScope(),t}return r.isThenable(n)?n.then((t=>(this._popScope(),t)),(t=>{throw this._popScope(),t})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function l(){const t=s.getMainCarrier(),e=s.getSentryCarrier(t);return e.stack=e.stack||new a(i.getDefaultCurrentScope(),i.getDefaultIsolationScope())}function c(t){return l().withScope(t)}function u(t,e){const n=l();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function h(t){return l().withScope((()=>t(l().getIsolationScope())))}e.AsyncContextStack=a,e.getStackAsyncContextStrategy=function(){return{withIsolationScope:h,withScope:c,withSetScope:u,withSetIsolationScope:(t,e)=>h(e),getCurrentScope:()=>l().getScope(),getIsolationScope:()=>l().getIsolationScope()}}},7183:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(5740),o=n(9564),s=n(8974),a=n(238),l=n(2430),c=n(1348),u=n(3754),h=n(393),d=n(1485),f="Not capturing exception because it's already been captured.";function p(t){return void 0===t.type}function g(t){return"transaction"===t.type}e.BaseClient=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=r.makeDsn(t.dsn):s.DEBUG_BUILD&&r.logger.warn("No DSN provided, client will not send events."),this._dsn){const e=i.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){const i=r.uuid4();if(r.checkOrSetAlreadyCaught(t))return s.DEBUG_BUILD&&r.logger.log(f),i;const o={event_id:i,...e};return this._process(this.eventFromException(t,o).then((t=>this._captureEvent(t,o,n)))),o.event_id}captureMessage(t,e,n,i){const o={event_id:r.uuid4(),...n},s=r.isParameterizedString(t)?t:String(t),a=r.isPrimitive(t)?this.eventFromMessage(s,e,o):this.eventFromException(t,o);return this._process(a.then((t=>this._captureEvent(t,o,i)))),o.event_id}captureEvent(t,e,n){const i=r.uuid4();if(e&&e.originalException&&r.checkOrSetAlreadyCaught(e.originalException))return s.DEBUG_BUILD&&r.logger.log(f),i;const o={event_id:i,...e},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||n)),o.event_id}captureSession(t){"string"!=typeof t.release?s.DEBUG_BUILD&&r.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),c.updateSession(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):r.resolvedSyncPromise(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.emit("close"),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some((({name:t})=>t.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];l.setupIntegration(this,t,this._integrations),e||l.afterSetupIntegrations(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=a.createEventEnvelope(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=r.addItemToEnvelope(n,r.createAttachmentEnvelopeItem(t));const i=this.sendEnvelope(n);i&&i.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const e=a.createSessionEnvelope(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const i="number"==typeof n?n:1,o=`${t}:${e}`;s.DEBUG_BUILD&&r.logger.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach((t=>t(...e)))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,(t=>(s.DEBUG_BUILD&&r.logger.error("Error while sending envelope:",t),t))):(s.DEBUG_BUILD&&r.logger.error("Transport disabled"),r.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=l.setupIntegrations(this,t),l.afterSetupIntegrations(this,t)}_updateSessionFromEvent(t,e){let n=!1,r=!1;const i=e.exception&&e.exception.values;if(i){r=!0;for(const t of i){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const o="ok"===t.status;(o&&0===t.errors||o&&n)&&(c.updateSession(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new r.SyncPromise((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,i=o.getIsolationScope()){const s=this.getOptions(),a=Object.keys(this._integrations);return!e.integrations&&a.length>0&&(e.integrations=a),this.emit("preprocessEvent",t,e),t.type||i.setLastEventId(t.event_id||e.event_id),d.prepareEvent(s,t,e,n,this,i).then((t=>{if(null===t)return t;const e={...i.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(t.contexts&&t.contexts.trace)&&e){const{traceId:n,spanId:i,parentSpanId:o,dsc:s}=e;t.contexts={trace:r.dropUndefinedKeys({trace_id:n,span_id:i,parent_span_id:o}),...t.contexts};const a=s||u.getDynamicSamplingContextFromClient(n,this);t.sdkProcessingMetadata={dynamicSamplingContext:a,...t.sdkProcessingMetadata}}return t}))}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if(s.DEBUG_BUILD){const e=t;"log"===e.logLevel?r.logger.log(e.message):r.logger.warn(e)}}))}_processEvent(t,e,n){const i=this.getOptions(),{sampleRate:o}=i,s=g(t),a=p(t),l=t.type||"error",c=`before send for type \`${l}\``,u=void 0===o?void 0:h.parseSampleRate(o);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),r.rejectedSyncPromise(new r.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const d="replay_event"===l?"replay":l,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,e,n,f).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",d,t),new r.SentryError("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const o=function(t,e,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=e;if(p(n)&&i)return i(n,r);if(g(n)){if(n.spans&&s){const e=[];for(const r of n.spans){const n=s(r);n?e.push(n):t.recordDroppedEvent("before_send","span")}n.spans=e}if(o){if(n.spans){const t=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return o(n,r)}}return n}(this,i,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(r.isThenable(t))return t.then((t=>{if(!r.isPlainObject(t)&&null!==t)throw new r.SentryError(n);return t}),(t=>{throw new r.SentryError(`${e} rejected with ${t}`)}));if(!r.isPlainObject(t)&&null!==t)throw new r.SentryError(n);return t}(o,c)})).then((i=>{if(null===i){if(this.recordDroppedEvent("before_send",d,t),s){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw new r.SentryError(`${c} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!s&&o&&this._updateSessionFromEvent(o,i),s){const t=(i.sdkProcessingMetadata&&i.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const a=i.transaction_info;if(s&&a&&i.transaction!==t.transaction){const t="custom";i.transaction_info={...a,source:t}}return this.sendEvent(i,e),i})).then(null,(t=>{if(t instanceof r.SentryError)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new r.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map((([t,e])=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e}}))}_flushOutcomes(){s.DEBUG_BUILD&&r.logger.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(s.DEBUG_BUILD&&r.logger.log("No outcomes to send"));if(!this._dsn)return void(s.DEBUG_BUILD&&r.logger.log("No dsn provided, will not send outcomes"));s.DEBUG_BUILD&&r.logger.log("Sending outcomes:",t);const e=r.createClientReportEnvelope(t,this._options.tunnel&&r.dsnToString(this._dsn));this.sendEnvelope(e)}}},7990:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=100;e.addBreadcrumb=function(t,e){const n=i.getClient(),s=i.getIsolationScope();if(!n)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:l=o}=n.getOptions();if(l<=0)return;const c={timestamp:r.dateTimestampInSeconds(),...t},u=a?r.consoleSandbox((()=>a(c,e))):c;null!==u&&(n.emit&&n.emit("beforeAddBreadcrumb",u,e),s.addBreadcrumb(u,l))}},3220:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);function i(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||r.SDK_VERSION,e[r.SDK_VERSION]=e[r.SDK_VERSION]||{}}e.getMainCarrier=function(){return i(r.GLOBAL_OBJ),r.GLOBAL_OBJ},e.getSentryCarrier=i},251:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);e.createCheckInEnvelope=function(t,e,n,i,o){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),i&&o&&(s.dsn=r.dsnToString(o)),e&&(s.trace=r.dropUndefinedKeys(e));const a=function(t){return[{type:"check_in"},t]}(t);return r.createEnvelope(s,[a])}},2501:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_ENVIRONMENT="production"},9564:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2810),o=n(3220),s=n(9640);function a(){const t=o.getMainCarrier();return i.getAsyncContextStrategy(t).getCurrentScope()}e.getClient=function(){return a().getClient()},e.getCurrentScope=a,e.getGlobalScope=function(){return r.getGlobalSingleton("globalScope",(()=>new s.Scope))},e.getIsolationScope=function(){const t=o.getMainCarrier();return i.getAsyncContextStrategy(t).getIsolationScope()},e.withIsolationScope=function(...t){const e=o.getMainCarrier(),n=i.getAsyncContextStrategy(e);if(2===t.length){const[e,r]=t;return e?n.withSetIsolationScope(e,r):n.withIsolationScope(r)}return n.withIsolationScope(t[0])},e.withScope=function(...t){const e=o.getMainCarrier(),n=i.getAsyncContextStrategy(e);if(2===t.length){const[e,r]=t;return e?n.withSetScope(e,r):n.withScope(r)}return n.withScope(t[0])}},8974:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.DEBUG_BUILD=n},7320:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9640);e.getDefaultCurrentScope=function(){return r.getGlobalSingleton("defaultCurrentScope",(()=>new i.Scope))},e.getDefaultIsolationScope=function(){return r.getGlobalSingleton("defaultIsolationScope",(()=>new i.Scope))}},238:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(3754),o=n(4583);e.createEventEnvelope=function(t,e,n,i){const o=r.getSdkMetadataForEnvelopeHeader(n),s=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const a=r.createEventEnvelopeHeaders(t,o,i,e);delete t.sdkProcessingMetadata;const l=[{type:s},t];return r.createEnvelope(a,[l])},e.createSessionEnvelope=function(t,e,n,i){const o=r.getSdkMetadataForEnvelopeHeader(n),s={sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!i&&e&&{dsn:r.dsnToString(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return r.createEnvelope(s,[a])},e.createSpanEnvelope=function(t,e){const n=i.getDynamicSamplingContextFromSpan(t[0]),s=e&&e.getDsn(),a=e&&e.getOptions().tunnel,l={sent_at:(new Date).toISOString(),...function(t){return!!t.trace_id&&!!t.public_key}(n)&&{trace:n},...!!a&&s&&{dsn:r.dsnToString(s)}},c=e&&e.getOptions().beforeSendSpan,u=c?t=>c(o.spanToJSON(t)):t=>o.spanToJSON(t),h=[];for(const e of t){const t=u(e);t&&h.push(r.createSpanEnvelopeItem(t))}return r.createEnvelope(l,h)}},1929:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8974);e.notifyEventProcessors=function t(e,n,o,s=0){return new r.SyncPromise(((a,l)=>{const c=e[s];if(null===n||"function"!=typeof c)a(n);else{const u=c({...n},o);i.DEBUG_BUILD&&c.id&&null===u&&r.logger.log(`Event processor "${c.id}" dropped event`),r.isThenable(u)?u.then((n=>t(e,n,o,s+1).then(a))).then(null,l):t(e,u,o,s+1).then(a).then(null,l)}}))}},9183:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2501),o=n(9564),s=n(8974),a=n(1348),l=n(1485);function c(t,e){const n=o.getCurrentScope(),i=o.getClient();if(i){if(i.captureCheckIn)return i.captureCheckIn(t,e,n);s.DEBUG_BUILD&&r.logger.warn("Cannot capture check-in. Client does not support sending check-ins.")}else s.DEBUG_BUILD&&r.logger.warn("Cannot capture check-in. No client defined.");return r.uuid4()}function u(){const t=o.getIsolationScope(),e=o.getCurrentScope(),n=e.getSession()||t.getSession();n&&a.closeSession(n),h(),t.setSession(),e.setSession()}function h(){const t=o.getIsolationScope(),e=o.getCurrentScope(),n=o.getClient(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}e.addEventProcessor=function(t){o.getIsolationScope().addEventProcessor(t)},e.captureCheckIn=c,e.captureEvent=function(t,e){return o.getCurrentScope().captureEvent(t,e)},e.captureException=function(t,e){return o.getCurrentScope().captureException(t,l.parseEventHintOrCaptureContext(e))},e.captureMessage=function(t,e){const n="string"==typeof e?e:void 0,r="string"!=typeof e?{captureContext:e}:void 0;return o.getCurrentScope().captureMessage(t,n,r)},e.captureSession=function(t=!1){t?u():h()},e.close=async function(t){const e=o.getClient();return e?e.close(t):(s.DEBUG_BUILD&&r.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},e.endSession=u,e.flush=async function(t){const e=o.getClient();return e?e.flush(t):(s.DEBUG_BUILD&&r.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},e.isEnabled=function(){const t=o.getClient();return!!t&&!1!==t.getOptions().enabled&&!!t.getTransport()},e.isInitialized=function(){return!!o.getClient()},e.lastEventId=function(){return o.getIsolationScope().lastEventId()},e.setContext=function(t,e){o.getIsolationScope().setContext(t,e)},e.setExtra=function(t,e){o.getIsolationScope().setExtra(t,e)},e.setExtras=function(t){o.getIsolationScope().setExtras(t)},e.setTag=function(t,e){o.getIsolationScope().setTag(t,e)},e.setTags=function(t){o.getIsolationScope().setTags(t)},e.setUser=function(t){o.getIsolationScope().setUser(t)},e.startSession=function(t){const e=o.getClient(),n=o.getIsolationScope(),s=o.getCurrentScope(),{release:l,environment:c=i.DEFAULT_ENVIRONMENT}=e&&e.getOptions()||{},{userAgent:h}=r.GLOBAL_OBJ.navigator||{},d=a.makeSession({release:l,environment:c,user:s.getUser()||n.getUser(),...h&&{userAgent:h},...t}),f=n.getSession();return f&&"ok"===f.status&&a.updateSession(f,{status:"exited"}),u(),n.setSession(d),s.setSession(d),d},e.withMonitor=function(t,e,n){const i=c({monitorSlug:t,status:"in_progress"},n),s=r.timestampInSeconds();function a(e){c({monitorSlug:t,status:e,checkInId:i,duration:r.timestampInSeconds()-s})}return o.withIsolationScope((()=>{let t;try{t=e()}catch(t){throw a("error"),t}return r.isThenable(t)?Promise.resolve(t).then((()=>{a("ok")}),(()=>{a("error")})):a("ok"),t}))}},6933:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564);e.captureFeedback=function(t,e={},n=i.getCurrentScope()){const{message:o,name:s,email:a,url:l,source:c,associatedEventId:u,tags:h}=t,d={contexts:{feedback:r.dropUndefinedKeys({contact_email:a,name:s,message:o,url:l,source:c,associated_event_id:u})},type:"feedback",level:"info",tags:h},f=n&&n.getClient()||i.getClient();return f&&f.emit("beforeSendFeedback",d,e),n.captureEvent(d,e)}},1096:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(2751);n(4038),n(8974);const s=n(73),a=n(4583),l=n(7392),c=n(5363),u=n(5908),h=n(3754);function d(t,e,n,o,s){const l=i.getIsolationScope(),{traceId:c,spanId:u,sampled:d,dsc:p}={...l.getPropagationContext(),...n.getPropagationContext()},g=s?a.spanToTraceHeader(s):r.generateSentryTraceHeader(c,u,d),m=r.dynamicSamplingContextToSentryBaggageHeader(p||(s?h.getDynamicSamplingContextFromSpan(s):h.getDynamicSamplingContextFromClient(c,e))),y=o.headers||("undefined"!=typeof Request&&r.isInstanceOf(t,Request)?t.headers:void 0);if(y){if("undefined"!=typeof Headers&&r.isInstanceOf(y,Headers)){const t=new Headers(y);if(t.set("sentry-trace",g),m){const e=t.get(r.BAGGAGE_HEADER_NAME);if(e){const n=f(e);t.set(r.BAGGAGE_HEADER_NAME,n?`${n},${m}`:m)}else t.set(r.BAGGAGE_HEADER_NAME,m)}return t}if(Array.isArray(y)){const t=[...y.filter((t=>!(Array.isArray(t)&&"sentry-trace"===t[0]))).map((t=>{if(Array.isArray(t)&&t[0]===r.BAGGAGE_HEADER_NAME&&"string"==typeof t[1]){const[e,n,...r]=t;return[e,f(n),...r]}return t})),["sentry-trace",g]];return m&&t.push([r.BAGGAGE_HEADER_NAME,m]),t}{const t="baggage"in y?y.baggage:void 0;let e=[];return Array.isArray(t)?e=t.map((t=>"string"==typeof t?f(t):t)).filter((t=>""===t)):t&&e.push(f(t)),m&&e.push(m),{...y,"sentry-trace":g,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":g,baggage:m}}function f(t){return t.split(",").filter((t=>!t.split("=")[0].startsWith(r.SENTRY_BAGGAGE_KEY_PREFIX))).join(",")}e.addTracingHeadersToFetchRequest=d,e.instrumentFetchRequest=function(t,e,n,h,f="auto.http.browser"){if(!t.fetchData)return;const p=s.hasTracingEnabled()&&e(t.fetchData.url);if(t.endTimestamp&&p){const e=t.fetchData.__span;if(!e)return;const n=h[e];return void(n&&(!function(t,e){if(e.response){c.setHttpStatus(t,e.response.status);const n=e.response&&e.response.headers&&e.response.headers.get("content-length");if(n){const e=parseInt(n);e>0&&t.setAttribute("http.response_content_length",e)}}else e.error&&t.setStatus({code:c.SPAN_STATUS_ERROR,message:"internal_error"});t.end()}(n,t),delete h[e]))}const g=i.getCurrentScope(),m=i.getClient(),{method:y,url:_}=t.fetchData,v=function(t){try{return new URL(t).href}catch(t){return}}(_),b=v?r.parseUrl(v).host:void 0,x=!!a.getActiveSpan(),S=p&&x?u.startInactiveSpan({name:`${y} ${_}`,attributes:{url:_,type:"fetch","http.method":y,"http.url":v,"server.address":b,[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:f,[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new l.SentryNonRecordingSpan;if(t.fetchData.__span=S.spanContext().spanId,h[S.spanContext().spanId]=S,n(t.fetchData.url)&&m){const e=t.args[0];t.args[1]=t.args[1]||{};const n=t.args[1];n.headers=d(e,m,g,n,s.hasTracingEnabled()&&x?S:void 0)}return S}},7249:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7990),i=n(9564),o=n(9183);function s(){return{bindClient(t){i.getCurrentScope().setClient(t)},withScope:i.withScope,getClient:()=>i.getClient(),getScope:i.getCurrentScope,getIsolationScope:i.getIsolationScope,captureException:(t,e)=>i.getCurrentScope().captureException(t,e),captureMessage:(t,e,n)=>i.getCurrentScope().captureMessage(t,e,n),captureEvent:o.captureEvent,addBreadcrumb:r.addBreadcrumb,setUser:o.setUser,setTags:o.setTags,setTag:o.setTag,setExtra:o.setExtra,setExtras:o.setExtras,setContext:o.setContext,getIntegration(t){const e=i.getClient();return e&&e.getIntegrationByName(t.id)||null},startSession:o.startSession,endSession:o.endSession,captureSession(t){if(t)return o.endSession();!function(){const t=i.getCurrentScope(),e=i.getClient(),n=t.getSession();e&&n&&e.captureSession(n)}()}}}const a=s;e.getCurrentHub=a,e.getCurrentHubShim=s},7872:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4038),i=n(4284),o=n(2188),s=n(7011),a=n(242),l=n(7392),c=n(5363),u=n(5908),h=n(3754),d=n(8945),f=n(9816),p=n(8346),g=n(2751),m=n(238),y=n(9183),_=n(9564),v=n(7320),b=n(2810),x=n(3220),S=n(1348),w=n(4751),E=n(9640),T=n(1929),C=n(5740),M=n(7183),A=n(4842),k=n(7008),I=n(4450),P=n(2256),R=n(4082),O=n(2430),N=n(5013),D=n(1485),$=n(251),L=n(73),F=n(6877),j=n(6354),U=n(2979),B=n(4583),z=n(393),G=n(5303),H=n(647),W=n(145),q=n(2501),V=n(7990),Y=n(8360),X=n(6492),K=n(2958),Z=n(2213),J=n(2215),Q=n(5003),tt=n(9097),et=n(431),nt=n(1312),rt=n(7536),it=n(200),ot=n(4208),st=n(699),at=n(2177),lt=n(3090),ct=n(9133),ut=n(2094),ht=n(4021),dt=n(1096),ft=n(6033),pt=n(6933),gt=n(7249),mt=n(4320);e.registerSpanErrorInstrumentation=r.registerSpanErrorInstrumentation,e.getCapturedScopesOnSpan=i.getCapturedScopesOnSpan,e.setCapturedScopesOnSpan=i.setCapturedScopesOnSpan,e.addTracingExtensions=o.addTracingExtensions,e.TRACING_DEFAULTS=s.TRACING_DEFAULTS,e.startIdleSpan=s.startIdleSpan,e.SentrySpan=a.SentrySpan,e.SentryNonRecordingSpan=l.SentryNonRecordingSpan,e.SPAN_STATUS_ERROR=c.SPAN_STATUS_ERROR,e.SPAN_STATUS_OK=c.SPAN_STATUS_OK,e.SPAN_STATUS_UNSET=c.SPAN_STATUS_UNSET,e.getSpanStatusFromHttpCode=c.getSpanStatusFromHttpCode,e.setHttpStatus=c.setHttpStatus,e.continueTrace=u.continueTrace,e.startInactiveSpan=u.startInactiveSpan,e.startNewTrace=u.startNewTrace,e.startSpan=u.startSpan,e.startSpanManual=u.startSpanManual,e.suppressTracing=u.suppressTracing,e.withActiveSpan=u.withActiveSpan,e.getDynamicSamplingContextFromClient=h.getDynamicSamplingContextFromClient,e.getDynamicSamplingContextFromSpan=h.getDynamicSamplingContextFromSpan,e.spanToBaggageHeader=h.spanToBaggageHeader,e.setMeasurement=d.setMeasurement,e.timedEventsToMeasurements=d.timedEventsToMeasurements,e.sampleSpan=f.sampleSpan,e.logSpanEnd=p.logSpanEnd,e.logSpanStart=p.logSpanStart,e.SEMANTIC_ATTRIBUTE_CACHE_HIT=g.SEMANTIC_ATTRIBUTE_CACHE_HIT,e.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=g.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,e.SEMANTIC_ATTRIBUTE_CACHE_KEY=g.SEMANTIC_ATTRIBUTE_CACHE_KEY,e.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=g.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME,e.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD=g.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD,e.SEMANTIC_ATTRIBUTE_PROFILE_ID=g.SEMANTIC_ATTRIBUTE_PROFILE_ID,e.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=g.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=g.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=g.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE,e.SEMANTIC_ATTRIBUTE_SENTRY_OP=g.SEMANTIC_ATTRIBUTE_SENTRY_OP,e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=g.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=g.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=g.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,e.SEMANTIC_ATTRIBUTE_URL_FULL=g.SEMANTIC_ATTRIBUTE_URL_FULL,e.createEventEnvelope=m.createEventEnvelope,e.createSessionEnvelope=m.createSessionEnvelope,e.createSpanEnvelope=m.createSpanEnvelope,e.addEventProcessor=y.addEventProcessor,e.captureCheckIn=y.captureCheckIn,e.captureEvent=y.captureEvent,e.captureException=y.captureException,e.captureMessage=y.captureMessage,e.captureSession=y.captureSession,e.close=y.close,e.endSession=y.endSession,e.flush=y.flush,e.isEnabled=y.isEnabled,e.isInitialized=y.isInitialized,e.lastEventId=y.lastEventId,e.setContext=y.setContext,e.setExtra=y.setExtra,e.setExtras=y.setExtras,e.setTag=y.setTag,e.setTags=y.setTags,e.setUser=y.setUser,e.startSession=y.startSession,e.withMonitor=y.withMonitor,e.getClient=_.getClient,e.getCurrentScope=_.getCurrentScope,e.getGlobalScope=_.getGlobalScope,e.getIsolationScope=_.getIsolationScope,e.withIsolationScope=_.withIsolationScope,e.withScope=_.withScope,e.getDefaultCurrentScope=v.getDefaultCurrentScope,e.getDefaultIsolationScope=v.getDefaultIsolationScope,e.setAsyncContextStrategy=b.setAsyncContextStrategy,e.getMainCarrier=x.getMainCarrier,e.closeSession=S.closeSession,e.makeSession=S.makeSession,e.updateSession=S.updateSession,e.SessionFlusher=w.SessionFlusher,e.Scope=E.Scope,e.notifyEventProcessors=T.notifyEventProcessors,e.getEnvelopeEndpointWithUrlEncodedAuth=C.getEnvelopeEndpointWithUrlEncodedAuth,e.getReportDialogEndpoint=C.getReportDialogEndpoint,e.BaseClient=M.BaseClient,e.ServerRuntimeClient=A.ServerRuntimeClient,e.initAndBind=k.initAndBind,e.setCurrentClient=k.setCurrentClient,e.createTransport=I.createTransport,e.makeOfflineTransport=P.makeOfflineTransport,e.makeMultiplexedTransport=R.makeMultiplexedTransport,e.addIntegration=O.addIntegration,e.defineIntegration=O.defineIntegration,e.getIntegrationsToSetup=O.getIntegrationsToSetup,e.applyScopeDataToEvent=N.applyScopeDataToEvent,e.mergeScopeData=N.mergeScopeData,e.prepareEvent=D.prepareEvent,e.createCheckInEnvelope=$.createCheckInEnvelope,e.hasTracingEnabled=L.hasTracingEnabled,e.isSentryRequestUrl=F.isSentryRequestUrl,e.handleCallbackErrors=j.handleCallbackErrors,e.parameterize=U.parameterize,e.addChildSpanToSpan=B.addChildSpanToSpan,e.getActiveSpan=B.getActiveSpan,e.getRootSpan=B.getRootSpan,e.getSpanDescendants=B.getSpanDescendants,e.getStatusMessage=B.getStatusMessage,e.spanIsSampled=B.spanIsSampled,e.spanTimeInputToSeconds=B.spanTimeInputToSeconds,e.spanToJSON=B.spanToJSON,e.spanToTraceContext=B.spanToTraceContext,e.spanToTraceHeader=B.spanToTraceHeader,e.parseSampleRate=z.parseSampleRate,e.applySdkMetadata=G.applySdkMetadata,e.getTraceData=H.getTraceData,e.getTraceMetaTags=W.getTraceMetaTags,e.DEFAULT_ENVIRONMENT=q.DEFAULT_ENVIRONMENT,e.addBreadcrumb=V.addBreadcrumb,e.functionToStringIntegration=Y.functionToStringIntegration,e.inboundFiltersIntegration=X.inboundFiltersIntegration,e.linkedErrorsIntegration=K.linkedErrorsIntegration,e.moduleMetadataIntegration=Z.moduleMetadataIntegration,e.requestDataIntegration=J.requestDataIntegration,e.captureConsoleIntegration=Q.captureConsoleIntegration,e.debugIntegration=tt.debugIntegration,e.dedupeIntegration=et.dedupeIntegration,e.extraErrorDataIntegration=nt.extraErrorDataIntegration,e.rewriteFramesIntegration=rt.rewriteFramesIntegration,e.sessionTimingIntegration=it.sessionTimingIntegration,e.zodErrorsIntegration=ot.zodErrorsIntegration,e.thirdPartyErrorFilterIntegration=st.thirdPartyErrorFilterIntegration,e.metrics=at.metrics,e.profiler=lt.profiler,e.metricsDefault=ct.metricsDefault,e.BrowserMetricsAggregator=ut.BrowserMetricsAggregator,e.getMetricSummaryJsonForSpan=ht.getMetricSummaryJsonForSpan,e.addTracingHeadersToFetchRequest=dt.addTracingHeadersToFetchRequest,e.instrumentFetchRequest=dt.instrumentFetchRequest,e.trpcMiddleware=ft.trpcMiddleware,e.captureFeedback=pt.captureFeedback,e.getCurrentHub=gt.getCurrentHub,e.getCurrentHubShim=gt.getCurrentHubShim,e.SDK_VERSION=mt.SDK_VERSION},2430:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(8974),s=[];function a(t,e,n){if(n[e.name])o.DEBUG_BUILD&&r.logger.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,-1===s.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),s.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,r)=>n(e,r,t)))}if("function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign(((e,r)=>n(e,r,t)),{id:e.name});t.addEventProcessor(r)}o.DEBUG_BUILD&&r.logger.log(`Integration installed: ${e.name}`)}}e.addIntegration=function(t){const e=i.getClient();e?e.addIntegration(t):o.DEBUG_BUILD&&r.logger.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`)},e.afterSetupIntegrations=function(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)},e.defineIntegration=function(t){return t},e.getIntegrationsToSetup=function(t){const e=t.defaultIntegrations||[],n=t.integrations;let i;e.forEach((t=>{t.isDefaultInstance=!0})),i=Array.isArray(n)?[...e,...n]:"function"==typeof n?r.arrayify(n(e)):e;const o=function(t){const e={};return t.forEach((t=>{const{name:n}=t,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.values(e)}(i),s=o.findIndex((t=>"Debug"===t.name));if(s>-1){const[t]=o.splice(s,1);o.push(t)}return o},e.installedIntegrations=s,e.setupIntegration=a,e.setupIntegrations=function(t,e){const n={};return e.forEach((e=>{e&&a(t,e,n)})),n}},5003:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(9183),s=n(2430),a=s.defineIntegration(((t={})=>{const e=t.levels||r.CONSOLE_LEVELS;return{name:"CaptureConsole",setup(t){"console"in r.GLOBAL_OBJ&&r.addConsoleInstrumentationHandler((({args:n,level:s})=>{i.getClient()===t&&e.includes(s)&&function(t,e){const n={level:r.severityLevelFromString(e),extra:{arguments:t}};i.withScope((i=>{if(i.addEventProcessor((t=>(t.logger="console",r.addExceptionMechanism(t,{handled:!1,type:"console"}),t))),"assert"===e){if(!t[0]){const e=`Assertion failed: ${r.safeJoin(t.slice(1)," ")||"console.assert"}`;i.setExtra("arguments",t.slice(1)),o.captureMessage(e,n)}return}const s=t.find((t=>t instanceof Error));if(s)return void o.captureException(s,n);const a=r.safeJoin(t," ");o.captureMessage(a,n)}))}(n,s)}))}}}));e.captureConsoleIntegration=a},9097:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o=i.defineIntegration(((t={})=>{const e={debugger:!1,stringify:!1,...t};return{name:"Debug",setup(t){t.on("beforeSendEvent",((t,n)=>{e.debugger,r.consoleSandbox((()=>{e.stringify?(console.log(JSON.stringify(t,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(t),n&&Object.keys(n).length&&console.log(n))}))}))}}}));e.debugIntegration=o},431:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o=n(8974),s=i.defineIntegration((()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(a(e,t))return o.DEBUG_BUILD&&r.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}}));function a(t,e){return!!e&&(!!function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!c(t,e))return!1;if(!l(t,e))return!1;return!0}(t,e)||!!function(t,e){const n=u(e),r=u(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!c(t,e))return!1;if(!l(t,e))return!1;return!0}(t,e))}function l(t,e){let n=r.getFramesFromEvent(t),i=r.getFramesFromEvent(e);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){const e=i[t],r=n[t];if(e.filename!==r.filename||e.lineno!==r.lineno||e.colno!==r.colno||e.function!==r.function)return!1}return!0}function c(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function u(t){return t.exception&&t.exception.values&&t.exception.values[0]}e._shouldDropEvent=a,e.dedupeIntegration=s},1312:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o=n(8974),s=i.defineIntegration(((t={})=>{const{depth:e=3,captureErrorCause:n=!0}=t;return{name:"ExtraErrorData",processEvent(t,i,s){const{maxValueLength:a=250}=s.getOptions();return function(t,e={},n,i,s){if(!e.originalException||!r.isError(e.originalException))return t;const a=e.originalException.name||e.originalException.constructor.name,l=function(t,e,n){try{const i=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const e of Object.keys(t)){if(-1!==i.indexOf(e))continue;const s=t[e];o[e]=r.isError(s)||"string"==typeof s?r.truncate(`${s}`,n):s}if(e&&void 0!==t.cause&&(o.cause=r.isError(t.cause)?t.cause.toString():t.cause),"function"==typeof t.toJSON){const e=t.toJSON();for(const t of Object.keys(e)){const n=e[t];o[t]=r.isError(n)?n.toString():n}}return o}catch(t){o.DEBUG_BUILD&&r.logger.error("Unable to extract extra data from the Error object:",t)}return null}(e.originalException,i,s);if(l){const e={...t.contexts},i=r.normalize(l,n);return r.isPlainObject(i)&&(r.addNonEnumerableProperty(i,"__sentry_skip_normalization__",!0),e[a]=i),{...t,contexts:e}}return t}(t,i,e,n,a)}}}));e.extraErrorDataIntegration=s},8360:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(2430);let s;const a=new WeakMap,l=o.defineIntegration((()=>({name:"FunctionToString",setupOnce(){s=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=r.getOriginalFunction(this),n=a.has(i.getClient())&&void 0!==e?e:this;return s.apply(n,t)}}catch(t){}},setup(t){a.set(t,!0)}})));e.functionToStringIntegration=l},6492:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8974),o=n(2430),s=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],a=o.defineIntegration(((t={})=>({name:"InboundFilters",processEvent(e,n,o){const a=o.getOptions(),c=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:s],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,a);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return i.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${r.getEventDescription(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(t){}n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`));return e}(t).some((t=>r.stringMatchesSomePattern(t,e)))}(t,e.ignoreErrors))return i.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${r.getEventDescription(t)}`),!0;if(function(t){if(t.type)return!1;if(!t.exception||!t.exception.values||0===t.exception.values.length)return!1;return!t.message&&!t.exception.values.some((t=>t.stacktrace||t.type&&"Error"!==t.type||t.value))}(t))return i.DEBUG_BUILD&&r.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${r.getEventDescription(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&r.stringMatchesSomePattern(n,e)}(t,e.ignoreTransactions))return i.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${r.getEventDescription(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const n=l(t);return!!n&&r.stringMatchesSomePattern(n,e)}(t,e.denyUrls))return i.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${r.getEventDescription(t)}.\nUrl: ${l(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=l(t);return!n||r.stringMatchesSomePattern(n,e)}(t,e.allowUrls))return i.DEBUG_BUILD&&r.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${r.getEventDescription(t)}.\nUrl: ${l(t)}`),!0;return!1}(e,c)?null:e}})));function l(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return i.DEBUG_BUILD&&r.logger.error(`Cannot extract url for event ${r.getEventDescription(t)}`),null}}e.inboundFiltersIntegration=a},2958:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o=i.defineIntegration(((t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,i,o){const s=o.getOptions();r.applyAggregateErrorsToEvent(r.exceptionFromError,s.stackParser,s.maxValueLength,n,e,t,i)}}}));e.linkedErrorsIntegration=o},2213:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o=n(6823),s=i.defineIntegration((()=>({name:"ModuleMetadata",setup(t){t.on("beforeEnvelope",(t=>{r.forEachEnvelopeItem(t,((t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(o.stripMetadataFromStackFrames(e),t[1]=e)}}))})),t.on("applyFrameMetadata",(e=>{if(e.type)return;const n=t.getOptions().stackParser;o.addMetadataToStackFrames(n,e)}))}})));e.moduleMetadataIntegration=s},2215:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},s=i.defineIntegration(((t={})=>{const e={...o,...t,include:{...o.include,...t.include,user:t.include&&"boolean"==typeof t.include.user?t.include.user:{...o.include.user,...(t.include||{}).user}}};return{name:"RequestData",processEvent(t){const{sdkProcessingMetadata:n={}}=t,i=n.request;if(!i)return t;const o=function(t){const{transactionNamingScheme:e,include:{ip:n,user:r,...i}}=t,o=["method"];for(const[t,e]of Object.entries(i))e&&o.push(t);let s;if(void 0===r)s=!0;else if("boolean"==typeof r)s=r;else{const t=[];for(const[e,n]of Object.entries(r))n&&t.push(e);s=t}return{include:{ip:n,user:s,request:0!==o.length?o:void 0,transaction:e}}}(e);return r.addRequestDataToEvent(t,i,o)}}}));e.requestDataIntegration=s},7536:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o=i.defineIntegration(((t={})=>{const e=t.root,n=t.prefix||"app:///",i="window"in r.GLOBAL_OBJ&&void 0!==r.GLOBAL_OBJ.window,o=t.iteratee||s({isBrowser:i,root:e,prefix:n});return{name:"RewriteFrames",processEvent(t){let e=t;return t.exception&&Array.isArray(t.exception.values)&&(e=function(t){try{return{...t,exception:{...t.exception,values:t.exception.values.map((t=>{return{...t,...t.stacktrace&&{stacktrace:(e=t.stacktrace,{...e,frames:e&&e.frames&&e.frames.map((t=>o(t)))})}};var e}))}}}catch(e){return t}}(e)),e}}}));function s({isBrowser:t,root:e,prefix:n}){return i=>{if(!i.filename)return i;const o=/^[a-zA-Z]:\\/.test(i.filename)||i.filename.includes("\\")&&!i.filename.includes("/"),s=/^\//.test(i.filename);if(t){if(e){const t=i.filename;0===t.indexOf(e)&&(i.filename=t.replace(e,n))}}else if(o||s){const t=o?i.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):i.filename,s=e?r.relative(e,t):r.basename(t);i.filename=`${n}${s}`}return i}}e.generateIteratee=s,e.rewriteFramesIntegration=o},200:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o=i.defineIntegration((()=>{const t=1e3*r.timestampInSeconds();return{name:"SessionTiming",processEvent(e){const n=1e3*r.timestampInSeconds();return{...e,extra:{...e.extra,"session:start":t,"session:duration":n-t,"session:end":n}}}}}));e.sessionTimingIntegration=o},699:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430),o=n(6823),s=i.defineIntegration((t=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",(t=>{r.forEachEnvelopeItem(t,((t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(o.stripMetadataFromStackFrames(e),t[1]=e)}}))})),t.on("applyFrameMetadata",(e=>{if(e.type)return;const n=t.getOptions().stackParser;o.addMetadataToStackFrames(n,e)}))},processEvent(e){const n=function(t){const e=r.getFramesFromEvent(t);if(!e)return;return e.filter((t=>!!t.filename)).map((t=>t.module_metadata?Object.keys(t.module_metadata).filter((t=>t.startsWith(a))).map((t=>t.slice(a.length))):[]))}(e);if(n){if(n["drop-error-if-contains-third-party-frames"===t.behaviour||"apply-tag-if-contains-third-party-frames"===t.behaviour?"some":"every"]((e=>!e.some((e=>t.filterKeys.includes(e)))))){if("drop-error-if-contains-third-party-frames"===t.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===t.behaviour)return null;e.tags={...e.tags,third_party_code:!0}}}return e}})));const a="_sentryBundlerPluginAppKey:";e.thirdPartyErrorFilterIntegration=s},4208:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2430);function o(t){return{...t,path:"path"in t&&Array.isArray(t.path)?t.path.join("."):void 0,keys:"keys"in t?JSON.stringify(t.keys):void 0,unionErrors:"unionErrors"in t?JSON.stringify(t.unionErrors):void 0}}function s(t){const e=new Set;for(const n of t.issues)n.path&&n.path[0]&&e.add(n.path[0]);const n=Array.from(e);return`Failed to validate keys: ${r.truncate(n.join(", "),100)}`}function a(t,e,n){return e.exception&&e.exception.values&&n&&n.originalException&&(i=n.originalException,r.isError(i)&&"ZodError"===i.name&&Array.isArray(i.errors))&&0!==n.originalException.issues.length?{...e,exception:{...e.exception,values:[{...e.exception.values[0],value:s(n.originalException)},...e.exception.values.slice(1)]},extra:{...e.extra,"zoderror.issues":n.originalException.errors.slice(0,t).map(o)}}:e;var i}const l=i.defineIntegration(((t={})=>{const e=t.limit||10;return{name:"ZodErrors",processEvent:(t,n)=>a(e,t,n)}}));e.applyZodErrorsToEvent=a,e.zodErrorsIntegration=l},6823:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=new Map,o=new Set;function s(t,e){return function(t){if(r.GLOBAL_OBJ._sentryModuleMetadata)for(const e of Object.keys(r.GLOBAL_OBJ._sentryModuleMetadata)){const n=r.GLOBAL_OBJ._sentryModuleMetadata[e];if(o.has(e))continue;o.add(e);const s=t(e);for(const t of s.reverse())if(t.filename){i.set(t.filename,n);break}}}(t),i.get(e)}e.addMetadataToStackFrames=function(t,e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const n of e.stacktrace.frames||[]){if(!n.filename||n.module_metadata)continue;const e=s(t,n.filename);e&&(n.module_metadata=e)}}))}catch(t){}},e.getMetadataForUrl=s,e.stripMetadataFromStackFrames=function(t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const e of t.stacktrace.frames||[])delete e.module_metadata}))}catch(t){}}},885:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(4583),o=n(9371),s=n(8844),a=n(8423),l=n(5608);e.MetricsAggregator=class{constructor(t){this._client=t,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval((()=>this._flush()),o.DEFAULT_FLUSH_INTERVAL),this._interval.unref&&this._interval.unref(),this._flushShift=Math.floor(Math.random()*o.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(t,e,n,s="none",c={},u=r.timestampInSeconds()){const h=Math.floor(u),d=l.sanitizeMetricKey(e),f=l.sanitizeTags(c),p=l.sanitizeUnit(s),g=l.getBucketKey(t,d,p,f);let m=this._buckets.get(g);const y=m&&t===o.SET_METRIC_TYPE?m.metric.weight:0;m?(m.metric.add(n),m.timestamp<h&&(m.timestamp=h)):(m={metric:new a.METRIC_MAP[t](n),timestamp:h,metricType:t,name:d,unit:p,tags:f},this._buckets.set(g,m));const _="string"==typeof n?m.metric.weight-y:n;i.updateMetricSummaryOnActiveSpan(t,d,_,p,c,g),this._bucketsTotalWeight+=m.metric.weight,this._bucketsTotalWeight>=o.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush)return this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),void this._buckets.clear();const t=Math.floor(r.timestampInSeconds())-o.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,e=new Map;for(const[n,r]of this._buckets)r.timestamp<=t&&(e.set(n,r),this._bucketsTotalWeight-=r.metric.weight);for(const[t]of e)this._buckets.delete(t);this._captureMetrics(e)}_captureMetrics(t){if(t.size>0){const e=Array.from(t).map((([,t])=>t));s.captureAggregateMetrics(this._client,e)}}}},2094:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(4583),o=n(9371),s=n(8844),a=n(8423),l=n(5608);e.BrowserMetricsAggregator=class{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),o.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(t,e,n,s="none",c={},u=r.timestampInSeconds()){const h=Math.floor(u),d=l.sanitizeMetricKey(e),f=l.sanitizeTags(c),p=l.sanitizeUnit(s),g=l.getBucketKey(t,d,p,f);let m=this._buckets.get(g);const y=m&&t===o.SET_METRIC_TYPE?m.metric.weight:0;m?(m.metric.add(n),m.timestamp<h&&(m.timestamp=h)):(m={metric:new a.METRIC_MAP[t](n),timestamp:h,metricType:t,name:d,unit:p,tags:f},this._buckets.set(g,m));const _="string"==typeof n?m.metric.weight-y:n;i.updateMetricSummaryOnActiveSpan(t,d,_,p,c,g)}flush(){if(0===this._buckets.size)return;const t=Array.from(this._buckets.values());s.captureAggregateMetrics(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}},9371:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.COUNTER_METRIC_TYPE="c",e.DEFAULT_BROWSER_FLUSH_INTERVAL=5e3,e.DEFAULT_FLUSH_INTERVAL=1e4,e.DISTRIBUTION_METRIC_TYPE="d",e.GAUGE_METRIC_TYPE="g",e.MAX_WEIGHT=1e4,e.SET_METRIC_TYPE="s"},8844:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(5608);function o(t,e,n,o){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),o&&e&&(s.dsn=r.dsnToString(e));const a=function(t){const e=i.serializeMetricBuckets(t);return[{type:"statsd",length:e.length},e]}(t);return r.createEnvelope(s,[a])}e.captureAggregateMetrics=function(t,e){r.logger.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const n=o(e,t.getDsn(),t.getSdkMetadata(),t.getOptions().tunnel);t.sendEnvelope(n)},e.createMetricEnvelope=o},9133:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(885),i=n(2177);const o={increment:function(t,e=1,n){i.metrics.increment(r.MetricsAggregator,t,e,n)},distribution:function(t,e,n){i.metrics.distribution(r.MetricsAggregator,t,e,n)},set:function(t,e,n){i.metrics.set(r.MetricsAggregator,t,e,n)},gauge:function(t,e,n){i.metrics.gauge(r.MetricsAggregator,t,e,n)},timing:function(t,e,n="second",o){return i.metrics.timing(r.MetricsAggregator,t,e,n,o)},getMetricsAggregatorForClient:function(t){return i.metrics.getMetricsAggregatorForClient(t,r.MetricsAggregator)}};e.metricsDefault=o},2177:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(8974);n(4038);const s=n(4583),a=n(5908),l=n(6354),c=n(9371);function u(t,e){const n=r.getGlobalSingleton("globalMetricsAggregators",(()=>new WeakMap)),i=n.get(t);if(i)return i;const o=new e(t);return t.on("flush",(()=>o.flush())),t.on("close",(()=>o.close())),n.set(t,o),o}function h(t,e,n,a,l={}){const c=l.client||i.getClient();if(!c)return;const h=s.getActiveSpan(),d=h?s.getRootSpan(h):void 0,f=d&&s.spanToJSON(d).description,{unit:p,tags:g,timestamp:m}=l,{release:y,environment:_}=c.getOptions(),v={};y&&(v.release=y),_&&(v.environment=_),f&&(v.transaction=f),o.DEBUG_BUILD&&r.logger.log(`Adding value of ${a} to ${e} metric ${n}`);u(c,t).add(e,n,a,p,{...v,...g},m)}function d(t,e,n,r){h(t,c.DISTRIBUTION_METRIC_TYPE,e,p(n),r)}const f={increment:function(t,e,n=1,r){h(t,c.COUNTER_METRIC_TYPE,e,p(n),r)},distribution:d,set:function(t,e,n,r){h(t,c.SET_METRIC_TYPE,e,n,r)},gauge:function(t,e,n,r){h(t,c.GAUGE_METRIC_TYPE,e,p(n),r)},timing:function(t,e,n,i="second",o){if("function"==typeof n){const i=r.timestampInSeconds();return a.startSpanManual({op:"metrics.timing",name:e,startTime:i,onlyIfParent:!0},(s=>l.handleCallbackErrors((()=>n()),(()=>{}),(()=>{const n=r.timestampInSeconds();d(t,e,n-i,{...o,unit:"second"}),s.end(n)}))))}d(t,e,n,{...o,unit:i})},getMetricsAggregatorForClient:u};function p(t){return"string"==typeof t?parseInt(t):t}e.metrics=f},8423:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(9371),i=n(5608);class o{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class s{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class a{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class l{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map((t=>"string"==typeof t?i.simpleHash(t):t)).join(":")}}const c={[r.COUNTER_METRIC_TYPE]:o,[r.GAUGE_METRIC_TYPE]:s,[r.DISTRIBUTION_METRIC_TYPE]:a,[r.SET_METRIC_TYPE]:l};e.CounterMetric=o,e.DistributionMetric=a,e.GaugeMetric=s,e.METRIC_MAP=c,e.SetMetric=l},4021:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i="_sentryMetrics";e.getMetricSummaryJsonForSpan=function(t){const e=t[i];if(!e)return;const n={};for(const[,[t,i]]of e){(n[t]||(n[t]=[])).push(r.dropUndefinedKeys(i))}return n},e.updateMetricSummaryOnSpan=function(t,e,n,r,o,s,a){const l=t[i]||(t[i]=new Map),c=`${e}:${n}@${o}`,u=l.get(a);if(u){const[,t]=u;l.set(a,[c,{min:Math.min(t.min,r),max:Math.max(t.max,r),count:t.count+=1,sum:t.sum+=r,tags:t.tags}])}else l.set(a,[c,{min:r,max:r,count:1,sum:r,tags:s}])}},5608:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);function i(t){return t.replace(/[^\w\-./]+/gi,"")}const o=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function s(t){return[...t].reduce(((t,e)=>t+function(t){for(const[e,n]of o)if(t===e)return n;return t}(e)),"")}e.getBucketKey=function(t,e,n,i){return`${t}${e}${n}${Object.entries(r.dropUndefinedKeys(i)).sort(((t,e)=>t[0].localeCompare(e[0])))}`},e.sanitizeMetricKey=function(t){return t.replace(/[^\w\-.]+/gi,"_")},e.sanitizeTags=function(t){const e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){e[i(n)]=s(String(t[n]))}return e},e.sanitizeUnit=function(t){return t.replace(/[^\w]+/gi,"_")},e.serializeMetricBuckets=function(t){let e="";for(const n of t){const t=Object.entries(n.tags),r=t.length>0?`|#${t.map((([t,e])=>`${t}:${e}`)).join(",")}`:"";e+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return e},e.simpleHash=function(t){let e=0;for(let n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return e>>>0}},3090:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(8974);function s(t){return!!t&&void 0!==t._profiler&&"function"==typeof t._profiler.start&&"function"==typeof t._profiler.stop}const a={startProfiler:function(){const t=i.getClient();if(!t)return void(o.DEBUG_BUILD&&r.logger.warn("No Sentry client available, profiling is not started"));const e=t.getIntegrationByName("ProfilingIntegration");e?s(e)?e._profiler.start():o.DEBUG_BUILD&&r.logger.warn("Profiler is not available on profiling integration."):o.DEBUG_BUILD&&r.logger.warn("ProfilingIntegration is not available")},stopProfiler:function(){const t=i.getClient();if(!t)return void(o.DEBUG_BUILD&&r.logger.warn("No Sentry client available, profiling is not started"));const e=t.getIntegrationByName("ProfilingIntegration");e?s(e)?e._profiler.stop():o.DEBUG_BUILD&&r.logger.warn("Profiler is not available on profiling integration."):o.DEBUG_BUILD&&r.logger.warn("ProfilingIntegration is not available")}};e.profiler=a},9640:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(1348),o=n(4865);class s{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=r.generatePropagationContext()}clone(){const t=new s;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,o._setSpanForScope(t,o._getSpanForScope(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&i.updateSession(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,[n,i]=e instanceof a?[e.getScopeData(),e.getRequestSession()]:r.isPlainObject(e)?[t,t.requestSession]:[],{tags:o,extra:s,user:l,contexts:c,level:u,fingerprint:h=[],propagationContext:d}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),h.length&&(this._fingerprint=h),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,o._setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=r.generatePropagationContext(),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const i={timestamp:r.dateTimestampInSeconds(),...t},o=this._breadcrumbs;return o.push(i),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:o._getSpanForScope(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=e&&e.event_id?e.event_id:r.uuid4();if(!this._client)return r.logger.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...e,event_id:n},this),n}captureMessage(t,e,n){const i=n&&n.event_id?n.event_id:r.uuid4();if(!this._client)return r.logger.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:o,...n,event_id:i},this),i}captureEvent(t,e){const n=e&&e.event_id?e.event_id:r.uuid4();return this._client?(this._client.captureEvent(t,{...e,event_id:n},this),n):(r.logger.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}const a=s;e.Scope=a},7008:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(8974);function s(t){i.getCurrentScope().setClient(t)}e.initAndBind=function(t,e){!0===e.debug&&(o.DEBUG_BUILD?r.logger.enable():r.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),i.getCurrentScope().update(e.initialScope);const n=new t(e);return s(n),n.init(),n},e.setCurrentClient=s},2751:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.SEMANTIC_ATTRIBUTE_CACHE_HIT="cache.hit",e.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE="cache.item_size",e.SEMANTIC_ATTRIBUTE_CACHE_KEY="cache.key",e.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME="sentry.exclusive_time",e.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD="http.request.method",e.SEMANTIC_ATTRIBUTE_PROFILE_ID="sentry.profile_id",e.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON="sentry.idle_span_finish_reason",e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT="sentry.measurement_unit",e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE="sentry.measurement_value",e.SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source",e.SEMANTIC_ATTRIBUTE_URL_FULL="url.full"},4842:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(7183),o=n(251),s=n(9564),a=n(8974),l=n(4751),c=n(4038),u=n(4865),h=n(4583),d=n(3754);class f extends i.BaseClient{constructor(t){c.registerSpanErrorInstrumentation(),super(t)}eventFromException(t,e){return r.resolvedSyncPromise(r.eventFromUnknownInput(this,this._options.stackParser,t,e))}eventFromMessage(t,e="info",n){return r.resolvedSyncPromise(r.eventFromMessage(this._options.stackParser,t,e,n,this._options.attachStacktrace))}captureException(t,e,n){if(this._options.autoSessionTracking&&this._sessionFlusher){const t=s.getIsolationScope().getRequestSession();t&&"ok"===t.status&&(t.status="errored")}return super.captureException(t,e,n)}captureEvent(t,e,n){if(this._options.autoSessionTracking&&this._sessionFlusher){if("exception"===(t.type||"exception")&&t.exception&&t.exception.values&&t.exception.values.length>0){const t=s.getIsolationScope().getRequestSession();t&&"ok"===t.status&&(t.status="errored")}}return super.captureEvent(t,e,n)}close(t){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(t)}initSessionFlusher(){const{release:t,environment:e}=this._options;t?this._sessionFlusher=new l.SessionFlusher(this,{release:t,environment:e}):a.DEBUG_BUILD&&r.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(t,e,n){const i="checkInId"in t&&t.checkInId?t.checkInId:r.uuid4();if(!this._isEnabled())return a.DEBUG_BUILD&&r.logger.warn("SDK not enabled, will not capture checkin."),i;const s=this.getOptions(),{release:l,environment:c,tunnel:u}=s,h={check_in_id:i,monitor_slug:t.monitorSlug,status:t.status,release:l,environment:c};"duration"in t&&(h.duration=t.duration),e&&(h.monitor_config={schedule:e.schedule,checkin_margin:e.checkinMargin,max_runtime:e.maxRuntime,timezone:e.timezone,failure_issue_threshold:e.failureIssueThreshold,recovery_threshold:e.recoveryThreshold});const[d,f]=this._getTraceInfoFromScope(n);f&&(h.contexts={trace:f});const p=o.createCheckInEnvelope(h,d,this.getSdkMetadata(),u,this.getDsn());return a.DEBUG_BUILD&&r.logger.info("Sending checkin:",t.monitorSlug,t.status),this.sendEnvelope(p),i}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():a.DEBUG_BUILD&&r.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(t,e,n,r){return this._options.platform&&(t.platform=t.platform||this._options.platform),this._options.runtime&&(t.contexts={...t.contexts,runtime:(t.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(t.server_name=t.server_name||this._options.serverName),super._prepareEvent(t,e,n,r)}_getTraceInfoFromScope(t){if(!t)return[void 0,void 0];const e=u._getSpanForScope(t);if(e){const t=h.getRootSpan(e);return[d.getDynamicSamplingContextFromSpan(t),h.spanToTraceContext(t)]}const{traceId:n,spanId:r,parentSpanId:i,dsc:o}=t.getPropagationContext(),s={trace_id:n,span_id:r,parent_span_id:i};return o?[o,s]:[d.getDynamicSamplingContextFromClient(n,this),s]}}e.ServerRuntimeClient=f},1348:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);function i(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||r.timestampInSeconds(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:r.uuid4()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}e.closeSession=function(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),i(t,n)},e.makeSession=function(t){const e=r.timestampInSeconds(),n={sid:r.uuid4(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return r.dropUndefinedKeys({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&i(n,t),n},e.updateSession=i},4751:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564);e.SessionFlusher=class{constructor(t,e){this._client=t,this.flushTimeout=60,this._pendingAggregates=new Map,this._isEnabled=!0,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=e}flush(){const t=this.getSessionAggregates();0!==t.aggregates.length&&(this._pendingAggregates=new Map,this._client.sendSession(t))}getSessionAggregates(){const t=Array.from(this._pendingAggregates.values()),e={attrs:this._sessionAttrs,aggregates:t};return r.dropUndefinedKeys(e)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const t=i.getIsolationScope(),e=t.getRequestSession();e&&e.status&&(this._incrementSessionStatusCount(e.status,new Date),t.setRequestSession(void 0))}_incrementSessionStatusCount(t,e){const n=new Date(e).setSeconds(0,0);let r=this._pendingAggregates.get(n);switch(r||(r={started:new Date(n).toISOString()},this._pendingAggregates.set(n,r)),t){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}}},3754:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2501),o=n(9564),s=n(2751),a=n(73),l=n(4583),c="_frozenDsc";function u(t,e){const n=e.getOptions(),{publicKey:o}=e.getDsn()||{},s=r.dropUndefinedKeys({environment:n.environment||i.DEFAULT_ENVIRONMENT,release:n.release,public_key:o,trace_id:t});return e.emit("createDsc",s),s}function h(t){const e=o.getClient();if(!e)return{};const n=u(l.spanToJSON(t).trace_id||"",e),i=l.getRootSpan(t),h=i[c];if(h)return h;const d=i.spanContext().traceState,f=d&&d.get("sentry.dsc"),p=f&&r.baggageHeaderToDynamicSamplingContext(f);if(p)return p;const g=l.spanToJSON(i),m=g.data||{},y=m[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];null!=y&&(n.sample_rate=`${y}`);const _=m[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],v=g.description;return"url"!==_&&v&&(n.transaction=v),a.hasTracingEnabled()&&(n.sampled=String(l.spanIsSampled(i))),e.emit("createDsc",n,i),n}e.freezeDscOnSpan=function(t,e){const n=t;r.addNonEnumerableProperty(n,c,e)},e.getDynamicSamplingContextFromClient=u,e.getDynamicSamplingContextFromSpan=h,e.spanToBaggageHeader=function(t){const e=h(t);return r.dynamicSamplingContextToSentryBaggageHeader(e)}},4038:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8974),o=n(4583),s=n(5363);let a=!1;function l(){const t=o.getActiveSpan(),e=t&&o.getRootSpan(t);if(e){const t="internal_error";i.DEBUG_BUILD&&r.logger.log(`[Tracing] Root span: ${t} -> Global error occured`),e.setStatus({code:s.SPAN_STATUS_ERROR,message:t})}}l.tag="sentry_tracingErrorCallback",e.registerSpanErrorInstrumentation=function(){a||(a=!0,r.addGlobalErrorInstrumentationHandler(l),r.addGlobalUnhandledRejectionInstrumentationHandler(l))}},2188:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4038);e.addTracingExtensions=function(){r.registerSpanErrorInstrumentation()}},7011:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(8974),s=n(2751),a=n(73),l=n(4865),c=n(4583),u=n(7392),h=n(5363),d=n(5908),f={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};e.TRACING_DEFAULTS=f,e.startIdleSpan=function(t,e={}){const n=new Map;let p,g=!1,m="externalFinish",y=!e.disableAutoFinish;const _=[],{idleTimeout:v=f.idleTimeout,finalTimeout:b=f.finalTimeout,childSpanTimeout:x=f.childSpanTimeout,beforeSpanEnd:S}=e,w=i.getClient();if(!w||!a.hasTracingEnabled())return new u.SentryNonRecordingSpan;const E=i.getCurrentScope(),T=c.getActiveSpan(),C=function(t){const e=d.startInactiveSpan(t);return l._setSpanForScope(i.getCurrentScope(),e),o.DEBUG_BUILD&&r.logger.log("[Tracing] Started span is an idle span"),e}(t);function M(){p&&(clearTimeout(p),p=void 0)}function A(t){M(),p=setTimeout((()=>{!g&&0===n.size&&y&&(m="idleTimeout",C.end(t))}),v)}function k(t){p=setTimeout((()=>{!g&&y&&(m="heartbeatFailed",C.end(t))}),x)}function I(t){g=!0,n.clear(),_.forEach((t=>t())),l._setSpanForScope(E,T);const e=c.spanToJSON(C),{start_timestamp:i}=e;if(!i)return;(e.data||{})[s.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||C.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,m),r.logger.log(`[Tracing] Idle span "${e.op}" finished`);const a=c.getSpanDescendants(C).filter((t=>t!==C));let u=0;a.forEach((e=>{e.isRecording()&&(e.setStatus({code:h.SPAN_STATUS_ERROR,message:"cancelled"}),e.end(t),o.DEBUG_BUILD&&r.logger.log("[Tracing] Cancelling span since span ended early",JSON.stringify(e,void 0,2)));const n=c.spanToJSON(e),{timestamp:i=0,start_timestamp:s=0}=n,a=s<=t,l=i-s<=(b+v)/1e3;if(o.DEBUG_BUILD){const t=JSON.stringify(e,void 0,2);a?l||r.logger.log("[Tracing] Discarding span since it finished after idle span final timeout",t):r.logger.log("[Tracing] Discarding span since it happened after idle span was finished",t)}l&&a||(c.removeChildSpanFromSpan(C,e),u++)})),u>0&&C.setAttribute("sentry.idle_span_discarded_spans",u)}return C.end=new Proxy(C.end,{apply(t,e,n){S&&S(C);const[i,...o]=n,s=i||r.timestampInSeconds(),a=c.spanTimeInputToSeconds(s),l=c.getSpanDescendants(C).filter((t=>t!==C));if(!l.length)return I(a),Reflect.apply(t,e,[a,...o]);const u=l.map((t=>c.spanToJSON(t).timestamp)).filter((t=>!!t)),h=u.length?Math.max(...u):void 0,d=c.spanToJSON(C).start_timestamp,f=Math.min(d?d+b/1e3:1/0,Math.max(d||-1/0,Math.min(a,h||1/0)));return I(f),Reflect.apply(t,e,[f,...o])}}),_.push(w.on("spanStart",(t=>{if(g||t===C||c.spanToJSON(t).timestamp)return;var e;c.getSpanDescendants(C).includes(t)&&(e=t.spanContext().spanId,M(),n.set(e,!0),k(r.timestampInSeconds()+x/1e3))}))),_.push(w.on("spanEnd",(t=>{var e;g||(e=t.spanContext().spanId,n.has(e)&&n.delete(e),0===n.size&&A(r.timestampInSeconds()+v/1e3))}))),_.push(w.on("idleSpanEnableAutoFinish",(t=>{t===C&&(y=!0,A(),n.size&&k())}))),e.disableAutoFinish||A(),setTimeout((()=>{g||(C.setStatus({code:h.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),m="finalTimeout",C.end())}),b),C}},8346:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8974),o=n(4583);e.logSpanEnd=function(t){if(!i.DEBUG_BUILD)return;const{description:e="< unknown name >",op:n="< unknown op >"}=o.spanToJSON(t),{spanId:s}=t.spanContext(),a=`[Tracing] Finishing "${n}" ${o.getRootSpan(t)===t?"root ":""}span "${e}" with ID ${s}`;r.logger.log(a)},e.logSpanStart=function(t){if(!i.DEBUG_BUILD)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:s}=o.spanToJSON(t),{spanId:a}=t.spanContext(),l=o.spanIsSampled(t),c=o.getRootSpan(t),u=c===t,h=`[Tracing] Starting ${l?"sampled":"unsampled"} ${u?"root ":""}span`,d=[`op: ${n}`,`name: ${e}`,`ID: ${a}`];if(s&&d.push(`parent ID: ${s}`),!u){const{op:t,description:e}=o.spanToJSON(c);d.push(`root ID: ${c.spanContext().spanId}`),t&&d.push(`root op: ${t}`),e&&d.push(`root description: ${e}`)}r.logger.log(`${h}\n  ${d.join("\n  ")}`)}},8945:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(2751),i=n(4583);e.setMeasurement=function(t,e,n,o=i.getActiveSpan()){const s=o&&i.getRootSpan(o);s&&s.addEvent(t,{[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:e,[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:n})},e.timedEventsToMeasurements=function(t){if(!t||0===t.length)return;const e={};return t.forEach((t=>{const n=t.attributes||{},i=n[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],o=n[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];"string"==typeof i&&"number"==typeof o&&(e[t.name]={value:o,unit:i})})),e}},9816:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8974),o=n(73),s=n(393);e.sampleSpan=function(t,e){if(!o.hasTracingEnabled(t))return[!1];let n;n="function"==typeof t.tracesSampler?t.tracesSampler(e):void 0!==e.parentSampled?e.parentSampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1;const a=s.parseSampleRate(n);return void 0===a?(i.DEBUG_BUILD&&r.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):a?Math.random()<a?[!0,a]:(i.DEBUG_BUILD&&r.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,a]):(i.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,a])}},7392:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(4583);e.SentryNonRecordingSpan=class{constructor(t={}){this._traceId=t.traceId||r.uuid4(),this._spanId=t.spanId||r.uuid4().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:i.TRACE_FLAG_NONE}}end(t){}setAttribute(t,e){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,e,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t,e){}}},242:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(8974),s=n(238),a=n(4021),l=n(2751),c=n(4583),u=n(3754),h=n(8346),d=n(8945),f=n(4284);class p{constructor(t={}){this._traceId=t.traceId||r.uuid4(),this._spanId=t.spanId||r.uuid4().substring(16),this._startTime=t.startTimestamp||r.timestampInSeconds(),this._attributes={},this.setAttributes({[l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[l.SEMANTIC_ATTRIBUTE_SENTRY_OP]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,e){}spanContext(){const{_spanId:t,_traceId:e,_sampled:n}=this;return{spanId:t,traceId:e,traceFlags:n?c.TRACE_FLAG_SAMPLED:c.TRACE_FLAG_NONE}}setAttribute(t,e){return void 0===e?delete this._attributes[t]:this._attributes[t]=e,this}setAttributes(t){return Object.keys(t).forEach((e=>this.setAttribute(e,t[e]))),this}updateStartTime(t){this._startTime=c.spanTimeInputToSeconds(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=c.spanTimeInputToSeconds(t),h.logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return r.dropUndefinedKeys({data:this._attributes,description:this._name,op:this._attributes[l.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:c.getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:a.getMetricSummaryJsonForSpan(this),profile_id:this._attributes[l.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[l.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:d.timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&c.getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?c.getRootSpan(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,e,n){o.DEBUG_BUILD&&r.logger.log("[Tracing] Adding an event to span:",t);const i=g(e)?e:n||r.timestampInSeconds(),s=g(e)?{}:e||{},a={name:t,time:c.spanTimeInputToSeconds(i),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=i.getClient();t&&t.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===c.getRootSpan(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(t){const e=i.getClient();if(!e)return;const n=t[1];if(!n||0===n.length)return void e.recordDroppedEvent("before_send","span");e.sendEnvelope(t)}(s.createSpanEnvelope([this],t)):(o.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span")));const e=this._convertSpanToTransaction();if(e){(f.getCapturedScopesOnSpan(this).scope||i.getCurrentScope()).captureEvent(e)}}_convertSpanToTransaction(){if(!m(c.spanToJSON(this)))return;this._name||(o.DEBUG_BUILD&&r.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:e}=f.getCapturedScopesOnSpan(this),n=(t||i.getCurrentScope()).getClient()||i.getClient();if(!0!==this._sampled)return o.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));const s=c.getSpanDescendants(this).filter((t=>t!==this&&!function(t){return t instanceof p&&t.isStandaloneSpan()}(t))).map((t=>c.spanToJSON(t))).filter(m),h=this._attributes[l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],g={contexts:{trace:c.spanToTransactionTraceContext(this)},spans:s.length>1e3?s.sort(((t,e)=>t.start_timestamp-e.start_timestamp)).slice(0,1e3):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:e,...r.dropUndefinedKeys({dynamicSamplingContext:u.getDynamicSamplingContextFromSpan(this)})},_metrics_summary:a.getMetricSummaryJsonForSpan(this),...h&&{transaction_info:{source:h}}},y=d.timedEventsToMeasurements(this._events);return y&&Object.keys(y).length&&(o.DEBUG_BUILD&&r.logger.log("[Measurements] Adding measurements to transaction event",JSON.stringify(y,void 0,2)),g.measurements=y),g}}function g(t){return t&&"number"==typeof t||t instanceof Date||Array.isArray(t)}function m(t){return!!(t.start_timestamp&&t.timestamp&&t.span_id&&t.trace_id)}e.SentrySpan=p},5363:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function n(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}e.SPAN_STATUS_ERROR=2,e.SPAN_STATUS_OK=1,e.SPAN_STATUS_UNSET=0,e.getSpanStatusFromHttpCode=n,e.setHttpStatus=function(t,e){t.setAttribute("http.response.status_code",e);const r=n(e);"unknown_error"!==r.message&&t.setStatus(r)}},5908:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(3220),o=n(9564),s=n(2810),a=n(8974),l=n(2751),c=n(6354),u=n(73),h=n(4865),d=n(4583),f=n(3754),p=n(8346),g=n(9816),m=n(7392),y=n(242),_=n(5363),v=n(4284),b="__SENTRY_SUPPRESS_TRACING__";function x(t,e){const n=E();return n.withActiveSpan?n.withActiveSpan(t,e):o.withScope((n=>(h._setSpanForScope(n,t||void 0),e(n))))}function S({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!u.hasTracingEnabled())return new m.SentryNonRecordingSpan;const i=o.getIsolationScope();let s;if(t&&!n)s=function(t,e,n){const{spanId:r,traceId:i}=t.spanContext(),s=!e.getScopeData().sdkProcessingMetadata[b]&&d.spanIsSampled(t),a=s?new y.SentrySpan({...n,parentSpanId:r,traceId:i,sampled:s}):new m.SentryNonRecordingSpan({traceId:i});d.addChildSpanToSpan(t,a);const l=o.getClient();l&&(l.emit("spanStart",a),n.endTimestamp&&l.emit("spanEnd",a));return a}(t,r,e),d.addChildSpanToSpan(t,s);else if(t){const n=f.getDynamicSamplingContextFromSpan(t),{traceId:i,spanId:o}=t.spanContext(),a=d.spanIsSampled(t);s=T({traceId:i,parentSpanId:o,...e},r,a),f.freezeDscOnSpan(s,n)}else{const{traceId:t,dsc:n,parentSpanId:o,sampled:a}={...i.getPropagationContext(),...r.getPropagationContext()};s=T({traceId:t,parentSpanId:o,...e},r,a),n&&f.freezeDscOnSpan(s,n)}return p.logSpanStart(s),v.setCapturedScopesOnSpan(s,r,i),s}function w(t){const e={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const n={...e};return n.startTimestamp=d.spanTimeInputToSeconds(t.startTime),delete n.startTime,n}return e}function E(){const t=i.getMainCarrier();return s.getAsyncContextStrategy(t)}function T(t,e,n){const r=o.getClient(),i=r&&r.getOptions()||{},{name:s="",attributes:a}=t,[c,u]=e.getScopeData().sdkProcessingMetadata[b]?[!1]:g.sampleSpan(i,{name:s,parentSampled:n,attributes:a,transactionContext:{name:s,parentSampled:n}}),h=new y.SentrySpan({...t,attributes:{[l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",...t.attributes},sampled:c});return void 0!==u&&h.setAttribute(l.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,u),r&&r.emit("spanStart",h),h}function C(t){const e=h._getSpanForScope(t);if(!e)return;const n=o.getClient();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?d.getRootSpan(e):e}function M(t){return void 0!==t?e=>x(t,e):t=>t()}e.continueTrace=({sentryTrace:t,baggage:e},n)=>o.withScope((i=>{const o=r.propagationContextFromHeaders(t,e);return i.setPropagationContext(o),n()})),e.startInactiveSpan=function(t){const e=E();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=w(t),{forceTransaction:r,parentSpan:i}=t;return(t.scope?e=>o.withScope(t.scope,e):void 0!==i?t=>x(i,t):t=>t())((()=>{const e=o.getCurrentScope(),i=C(e);return t.onlyIfParent&&!i?new m.SentryNonRecordingSpan:S({parentSpan:i,spanArguments:n,forceTransaction:r,scope:e})}))},e.startNewTrace=function(t){return o.withScope((e=>(e.setPropagationContext(r.generatePropagationContext()),a.DEBUG_BUILD&&r.logger.info(`Starting a new trace with id ${e.getPropagationContext().traceId}`),x(null,t))))},e.startSpan=function(t,e){const n=E();if(n.startSpan)return n.startSpan(t,e);const r=w(t),{forceTransaction:i,parentSpan:s}=t;return o.withScope(t.scope,(()=>M(s)((()=>{const n=o.getCurrentScope(),s=C(n),a=t.onlyIfParent&&!s?new m.SentryNonRecordingSpan:S({parentSpan:s,spanArguments:r,forceTransaction:i,scope:n});return h._setSpanForScope(n,a),c.handleCallbackErrors((()=>e(a)),(()=>{const{status:t}=d.spanToJSON(a);!a.isRecording()||t&&"ok"!==t||a.setStatus({code:_.SPAN_STATUS_ERROR,message:"internal_error"})}),(()=>a.end()))}))))},e.startSpanManual=function(t,e){const n=E();if(n.startSpanManual)return n.startSpanManual(t,e);const r=w(t),{forceTransaction:i,parentSpan:s}=t;return o.withScope(t.scope,(()=>M(s)((()=>{const n=o.getCurrentScope(),s=C(n),a=t.onlyIfParent&&!s?new m.SentryNonRecordingSpan:S({parentSpan:s,spanArguments:r,forceTransaction:i,scope:n});function l(){a.end()}return h._setSpanForScope(n,a),c.handleCallbackErrors((()=>e(a,l)),(()=>{const{status:t}=d.spanToJSON(a);!a.isRecording()||t&&"ok"!==t||a.setStatus({code:_.SPAN_STATUS_ERROR,message:"internal_error"})}))}))))},e.suppressTracing=function(t){const e=E();return e.suppressTracing?e.suppressTracing(t):o.withScope((e=>(e.setSDKProcessingMetadata({[b]:!0}),t())))},e.withActiveSpan=x},4284:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i="_sentryScope",o="_sentryIsolationScope";e.stripUrlQueryAndFragment=r.stripUrlQueryAndFragment,e.getCapturedScopesOnSpan=function(t){return{scope:t[i],isolationScope:t[o]}},e.setCapturedScopesOnSpan=function(t,e,n){t&&(r.addNonEnumerableProperty(t,o,n),r.addNonEnumerableProperty(t,i,e))}},4450:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8974);function o(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}e.DEFAULT_TRANSPORT_BUFFER_SIZE=64,e.createTransport=function(t,e,n=r.makePromiseBuffer(t.bufferSize||64)){let s={};return{send:function(a){const l=[];if(r.forEachEnvelopeItem(a,((e,n)=>{const i=r.envelopeItemTypeToDataCategory(n);if(r.isRateLimited(s,i)){const r=o(e,n);t.recordDroppedEvent("ratelimit_backoff",i,r)}else l.push(e)})),0===l.length)return r.resolvedSyncPromise({});const c=r.createEnvelope(a[0],l),u=e=>{r.forEachEnvelopeItem(c,((n,i)=>{const s=o(n,i);t.recordDroppedEvent(e,r.envelopeItemTypeToDataCategory(i),s)}))};return n.add((()=>e({body:r.serializeEnvelope(c)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&i.DEBUG_BUILD&&r.logger.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),s=r.updateRateLimits(s,t),t)),(t=>{throw u("network_error"),t})))).then((t=>t),(t=>{if(t instanceof r.SentryError)return i.DEBUG_BUILD&&r.logger.error("Skipped sending event because buffer is full."),u("queue_overflow"),r.resolvedSyncPromise({});throw t}))},flush:t=>n.drain(t)}}},4082:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(5740);function o(t,e){let n;return r.forEachEnvelopeItem(t,((t,r)=>(e.includes(r)&&(n=Array.isArray(t)?t[1]:void 0),!!n))),n}e.eventFromEnvelope=o,e.makeMultiplexedTransport=function(t,e){return n=>{const s=t(n),a=new Map;function l(e,s){const l=s?`${e}:${s}`:e;let c=a.get(l);if(!c){const u=r.dsnFromString(e);if(!u)return;const h=i.getEnvelopeEndpointWithUrlEncodedAuth(u,n.tunnel);c=s?function(t,e){return n=>{const r=t(n);return{...r,send:async t=>{const n=o(t,["event","transaction","profile","replay_event"]);return n&&(n.release=e),r.send(t)}}}}(t,s)({...n,url:h}):t({...n,url:h}),a.set(l,c)}return[e,c]}return{send:async function(t){const n=e({envelope:t,getEvent:function(e){const n=e&&e.length?e:["event"];return o(t,n)}}).map((t=>"string"==typeof t?l(t,void 0):l(t.dsn,t.release))).filter((t=>!!t)),i=n.length?n:[["",s]];return(await Promise.all(i.map((([e,n])=>n.send(function(t,e){return r.createEnvelope(e?{...t[0],dsn:e}:t[0],t[1])}(t,e))))))[0]},flush:async function(t){const e=[...a.values(),s];return(await Promise.all(e.map((e=>e.flush(t))))).every((t=>t))}}}}},2256:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8974),o=5e3;e.MIN_DELAY=100,e.START_DELAY=o,e.makeOfflineTransport=function(t){function e(...t){i.DEBUG_BUILD&&r.logger.info("[Offline]:",...t)}return n=>{const i=t(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let a,l=o;function c(t){a&&clearTimeout(a),a=setTimeout((async()=>{a=void 0;const t=await s.shift();t&&(e("Attempting to send previously queued event"),t[0].sent_at=(new Date).toISOString(),h(t,!0).catch((t=>{e("Failed to retry sending",t)})))}),t),"number"!=typeof a&&a.unref&&a.unref()}function u(){a||(c(l),l=Math.min(2*l,36e5))}async function h(t,a=!1){if(!a&&r.envelopeContainsItemType(t,["replay_event","replay_recording"]))return await s.push(t),c(100),{};try{const e=await i.send(t);let n=100;if(e)if(e.headers&&e.headers["retry-after"])n=r.parseRetryAfterHeader(e.headers["retry-after"]);else if(e.headers&&e.headers["x-sentry-rate-limits"])n=6e4;else if((e.statusCode||0)>=400)return e;return c(n),l=o,e}catch(i){if(await function(t,e,i){return!r.envelopeContainsItemType(t,["client_report"])&&(!n.shouldStore||n.shouldStore(t,e,i))}(t,i,l))return a?await s.unshift(t):await s.push(t),u(),e("Error sending. Event queued.",i),{};throw i}}return n.flushAtStartup&&u(),{send:h,flush:t=>i.flush(t)}}}},6033:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(9564),o=n(9183),s=n(2751);n(4038),n(8974);const a=n(5908),l={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};e.trpcMiddleware=function(t={}){return async function(e){const{path:n,type:c,next:u,rawInput:h,getRawInput:d}=e,f=i.getClient(),p=f&&f.getOptions(),g={procedure_type:c};if((void 0!==t.attachRpcInput?t.attachRpcInput:p&&p.sendDefaultPii)&&(void 0!==h&&(g.input=r.normalize(h)),void 0!==d&&"function"==typeof d))try{const t=await d();g.input=r.normalize(t)}catch(t){}return o.setContext("trpc",g),a.startSpanManual({name:`trpc/${n}`,op:"rpc.server",attributes:{[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"route",[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.rpc.trpc"}},(async t=>{try{const e=await u();return function(t){"object"==typeof t&&null!==t&&"ok"in t&&!t.ok&&"error"in t&&o.captureException(t.error,l)}(e),t.end(),e}catch(e){throw o.captureException(e,l),t.end(),e}}))}}},5013:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(3754),o=n(4583);function s(t,e,n){if(n&&Object.keys(n).length){t[e]={...t[e]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[e][r]=n[r])}}e.applyScopeDataToEvent=function(t,e){const{fingerprint:n,span:s,breadcrumbs:a,sdkProcessingMetadata:l}=e;!function(t,e){const{extra:n,tags:i,user:o,contexts:s,level:a,transactionName:l}=e,c=r.dropUndefinedKeys(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const u=r.dropUndefinedKeys(i);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const h=r.dropUndefinedKeys(o);h&&Object.keys(h).length&&(t.user={...h,...t.user});const d=r.dropUndefinedKeys(s);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts});a&&(t.level=a);l&&"transaction"!==t.type&&(t.transaction=l)}(t,e),s&&function(t,e){t.contexts={trace:o.spanToTraceContext(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:i.getDynamicSamplingContextFromSpan(e),...t.sdkProcessingMetadata};const n=o.getRootSpan(e),r=o.spanToJSON(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,s),function(t,e){t.fingerprint=t.fingerprint?r.arrayify(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,a),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,l)},e.mergeAndOverwriteScopeData=s,e.mergeScopeData=function(t,e){const{extra:n,tags:r,user:i,contexts:o,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:h,attachments:d,propagationContext:f,transactionName:p,span:g}=e;s(t,"extra",n),s(t,"tags",r),s(t,"user",i),s(t,"contexts",o),s(t,"sdkProcessingMetadata",l),a&&(t.level=a),p&&(t.transactionName=p),g&&(t.span=g),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),h.length&&(t.eventProcessors=[...t.eventProcessors,...h]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...f}}},6354:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);e.handleCallbackErrors=function(t,e,n=()=>{}){let i;try{i=t()}catch(t){throw e(t),n(),t}return function(t,e,n){if(r.isThenable(t))return t.then((t=>(n(),t)),(t=>{throw e(t),n(),t}));return n(),t}(i,e,n)}},73:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(9564);e.hasTracingEnabled=function(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=r.getClient(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},6877:(t,e)=>{function n(t){return"/"===t[t.length-1]?t.slice(0,-1):t}Object.defineProperty(e,"__esModule",{value:!0}),e.isSentryRequestUrl=function(t,e){const r=e&&e.getDsn(),i=e&&e.getOptions().tunnel;return function(t,e){return!!e&&t.includes(e.host)}(t,r)||function(t,e){if(!e)return!1;return n(t)===n(e)}(t,i)}},145:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(647);e.getTraceMetaTags=function(){return Object.entries(r.getTraceData()).map((([t,e])=>`<meta name="${t}" content="${e}"/>`)).join("\n")}},2979:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parameterize=function(t,...e){const n=new String(String.raw(t,...e));return n.__sentry_template_string__=t.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=e,n}},393:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(8974);e.parseSampleRate=function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;if(!("number"!=typeof e||isNaN(e)||e<0||e>1))return e;i.DEBUG_BUILD&&r.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`)}},1485:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2501),o=n(9564),s=n(1929),a=n(9640),l=n(5013);const c=new WeakMap;function u(t,e){const n=r.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let i;const o=c.get(e);o?i=o:(i=new Map,c.set(e,i));const s=Object.entries(n).reduce(((t,[n,r])=>{let o;const s=i.get(n);s?o=s:(o=e(n),i.set(n,o));for(let e=o.length-1;e>=0;e--){const n=o[e];if(n.filename){t[n.filename]=r;break}}return t}),{});try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.filename&&(t.debug_id=s[t.filename])}))}))}catch(t){}}function h(t){const e={};try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))}))}catch(t){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach((([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})}))}function d(t,e){if(!e)return t;const n=t?t.clone():new a.Scope;return n.update(e),n}const f=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];e.applyDebugIds=u,e.applyDebugMeta=h,e.parseEventHintOrCaptureContext=function(t){if(t)return function(t){return t instanceof a.Scope||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>f.includes(t)))}(t)?{captureContext:t}:t},e.prepareEvent=function(t,e,n,a,c,f){const{normalizeDepth:p=3,normalizeMaxBreadth:g=1e3}=t,m={...e,event_id:e.event_id||n.event_id||r.uuid4(),timestamp:e.timestamp||r.dateTimestampInSeconds()},y=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:o,dist:s,maxValueLength:a=250}=e;"environment"in t||(t.environment="environment"in e?n:i.DEFAULT_ENVIRONMENT);void 0===t.release&&void 0!==o&&(t.release=o);void 0===t.dist&&void 0!==s&&(t.dist=s);t.message&&(t.message=r.truncate(t.message,a));const l=t.exception&&t.exception.values&&t.exception.values[0];l&&l.value&&(l.value=r.truncate(l.value,a));const c=t.request;c&&c.url&&(c.url=r.truncate(c.url,a))}(m,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(m,y),c&&c.emit("applyFrameMetadata",e),void 0===e.type&&u(m,t.stackParser);const _=d(a,n.captureContext);n.mechanism&&r.addExceptionMechanism(m,n.mechanism);const v=c?c.getEventProcessors():[],b=o.getGlobalScope().getScopeData();if(f){const t=f.getScopeData();l.mergeScopeData(b,t)}if(_){const t=_.getScopeData();l.mergeScopeData(b,t)}const x=[...n.attachments||[],...b.attachments];x.length&&(n.attachments=x),l.applyScopeDataToEvent(m,b);const S=[...v,...b.eventProcessors];return s.notifyEventProcessors(S,m,n).then((t=>(t&&h(t),"number"==typeof p&&p>0?function(t,e,n){if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:r.normalize(t.data,e,n)}})))},...t.user&&{user:r.normalize(t.user,e,n)},...t.contexts&&{contexts:r.normalize(t.contexts,e,n)},...t.extra&&{extra:r.normalize(t.extra,e,n)}};t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=r.normalize(t.contexts.trace.data,e,n)));t.spans&&(i.spans=t.spans.map((t=>({...t,...t.data&&{data:r.normalize(t.data,e,n)}}))));return i}(t,p,g):t)))}},5303:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320);e.applySdkMetadata=function(t,e,n=[e],i="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:n.map((t=>({name:`${i}:@sentry/${t}`,version:r.SDK_VERSION}))),version:r.SDK_VERSION}),t._metadata=o}},4865:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i="_sentrySpan";e._getSpanForScope=function(t){return t[i]},e._setSpanForScope=function(t,e){e?r.addNonEnumerableProperty(t,i,e):delete t[i]}},4583:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2810),o=n(3220),s=n(9564),a=n(4021),l=n(2751),c=n(5363),u=n(4865);function h(t){return"number"==typeof t?d(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?d(t.getTime()):r.timestampInSeconds()}function d(t){return t>9999999999?t/1e3:t}function f(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:i,startTime:o,name:s,endTime:c,parentSpanId:u,status:d}=t;return r.dropUndefinedKeys({span_id:e,trace_id:n,data:i,description:s,parent_span_id:u,start_timestamp:h(o),timestamp:h(c)||void 0,status:g(d),op:i[l.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:i[l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:a.getMetricSummaryJsonForSpan(t)})}return{span_id:e,trace_id:n}}catch(t){return{}}}function p(t){const{traceFlags:e}=t.spanContext();return 1===e}function g(t){if(t&&t.code!==c.SPAN_STATUS_UNSET)return t.code===c.SPAN_STATUS_OK?"ok":t.message||"unknown_error"}const m="_sentryChildSpans",y="_sentryRootSpan";function _(){const t=o.getMainCarrier(),e=i.getAsyncContextStrategy(t);return e.getActiveSpan?e.getActiveSpan():u._getSpanForScope(s.getCurrentScope())}e.TRACE_FLAG_NONE=0,e.TRACE_FLAG_SAMPLED=1,e.addChildSpanToSpan=function(t,e){const n=t[y]||t;r.addNonEnumerableProperty(e,y,n),t[m]?t[m].add(e):r.addNonEnumerableProperty(t,m,new Set([e]))},e.getActiveSpan=_,e.getRootSpan=function(t){return t[y]||t},e.getSpanDescendants=function(t){const e=new Set;return function t(n){if(!e.has(n)&&p(n)){e.add(n);const r=n[m]?Array.from(n[m]):[];for(const e of r)t(e)}}(t),Array.from(e)},e.getStatusMessage=g,e.removeChildSpanFromSpan=function(t,e){t[m]&&t[m].delete(e)},e.spanIsSampled=p,e.spanTimeInputToSeconds=h,e.spanToJSON=f,e.spanToTraceContext=function(t){const{spanId:e,traceId:n}=t.spanContext(),{parent_span_id:i}=f(t);return r.dropUndefinedKeys({parent_span_id:i,span_id:e,trace_id:n})},e.spanToTraceHeader=function(t){const{traceId:e,spanId:n}=t.spanContext(),i=p(t);return r.generateSentryTraceHeader(e,n,i)},e.spanToTransactionTraceContext=function(t){const{spanId:e,traceId:n}=t.spanContext(),{data:i,op:o,parent_span_id:s,status:a,origin:l}=f(t);return r.dropUndefinedKeys({parent_span_id:s,span_id:e,trace_id:n,data:i,op:o,status:a,origin:l})},e.updateMetricSummaryOnActiveSpan=function(t,e,n,r,i,o){const s=_();s&&a.updateMetricSummaryOnSpan(s,t,e,n,r,i,o)}},647:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4320),i=n(2810),o=n(3220),s=n(9564),a=n(9183);n(4038),n(8974);const l=n(4583),c=n(3754);function u(t){if(!t||!t.length)return!1;const e="[-!#$%&'*+.^_`|~A-Za-z0-9]+",n="[!#-+-./0-9:<=>?@A-Z\\[\\]a-z{-}]+",r="\\s*";return new RegExp(`^${e}${r}=${r}${n}(${r},${r}${e}${r}=${r}${n})*$`).test(t)}e.getTraceData=function(){if(!a.isEnabled())return{};const t=o.getMainCarrier(),e=i.getAsyncContextStrategy(t);if(e.getTraceData)return e.getTraceData();const n=s.getClient(),h=s.getCurrentScope(),d=l.getActiveSpan(),{dsc:f,sampled:p,traceId:g}=h.getPropagationContext(),m=d&&l.getRootSpan(d),y=d?l.spanToTraceHeader(d):r.generateSentryTraceHeader(g,void 0,p),_=m?c.getDynamicSamplingContextFromSpan(m):f||(n?c.getDynamicSamplingContextFromClient(g,n):void 0),v=r.dynamicSamplingContextToSentryBaggageHeader(_);if(!r.TRACEPARENT_REGEXP.test(y))return r.logger.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const b=u(v);return b||r.logger.warn('Invalid baggage data. Not returning "baggage" value'),{"sentry-trace":y,...b&&{baggage:v}}},e.isValidBaggageString=u},7939:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(518),i=n(5551);function o(t,e,n,i,l,c,u,h){if(c.length>=n+1)return c;let d=[...c];if(r.isInstanceOf(i[l],Error)){s(u,h);const r=t(e,i[l]),c=d.length;a(r,l,c,h),d=o(t,e,n,i[l],l,[r,...d],r,c)}return Array.isArray(i.errors)&&i.errors.forEach(((i,c)=>{if(r.isInstanceOf(i,Error)){s(u,h);const r=t(e,i),f=d.length;a(r,`errors[${c}]`,f,h),d=o(t,e,n,i,l,[r,...d],r,f)}})),d}function s(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function a(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}e.applyAggregateErrorsToEvent=function(t,e,n=250,s,a,l,c){if(!(l.exception&&l.exception.values&&c&&r.isInstanceOf(c.originalException,Error)))return;const u=l.exception.values.length>0?l.exception.values[l.exception.values.length-1]:void 0;var h,d;u&&(l.exception.values=(h=o(t,e,a,c.originalException,s,l.exception.values,u,0),d=n,h.map((t=>(t.value&&(t.value=i.truncate(t.value,d)),t)))))}},2275:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(3227),i=n(3877),o=n(4683);e.callFrameToStackFrame=function(t,e,n){const s=e?e.replace(/^file:\/\//,""):void 0,a=t.location.columnNumber?t.location.columnNumber+1:void 0,l=t.location.lineNumber?t.location.lineNumber+1:void 0;return i.dropUndefinedKeys({filename:s,module:n(s),function:t.functionName||o.UNKNOWN_FUNCTION,colno:a,lineno:l,in_app:s?r.filenameIsInApp(s):void 0})},e.watchdogTimer=function(t,e,n,r){const i=t();let o=!1,s=!0;return setInterval((()=>{const t=i.getTimeMs();!1===o&&t>e+n&&(o=!0,s&&r()),t<e+n&&(o=!1)}),20),{poll:()=>{i.reset()},enabled:t=>{s=t}}}},1545:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.flatten=function(t){const e=[],n=t=>{t.forEach((t=>{Array.isArray(t)?n(t):e.push(t)}))};return n(t),e}},7542:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8750),i=n(518),o=n(8030),s="sentry-",a=/^sentry-/,l=8192;function c(t){if(t&&(i.isString(t)||Array.isArray(t)))return Array.isArray(t)?t.reduce(((t,e)=>{const n=u(e);return Object.entries(n).forEach((([e,n])=>{t[e]=n})),t}),{}):u(t)}function u(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(e&&n&&(t[e]=n),t)),{})}e.BAGGAGE_HEADER_NAME="baggage",e.MAX_BAGGAGE_STRING_LENGTH=l,e.SENTRY_BAGGAGE_KEY_PREFIX=s,e.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=a,e.baggageHeaderToDynamicSamplingContext=function(t){const e=c(t);if(!e)return;const n=Object.entries(e).reduce(((t,[e,n])=>{if(e.match(a)){t[e.slice(7)]=n}return t}),{});return Object.keys(n).length>0?n:void 0},e.dynamicSamplingContextToSentryBaggageHeader=function(t){if(!t)return;return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce(((t,[e,n],i)=>{const s=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,a=0===i?s:`${t},${s}`;return a.length>l?(r.DEBUG_BUILD&&o.logger.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):a}),"")}(Object.entries(t).reduce(((t,[e,n])=>(n&&(t[`${s}${e}`]=n),t)),{}))},e.parseBaggageHeader=c},9607:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBreadcrumbLogLevelFromHttpStatusCode=function(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}},4796:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(518),i=n(8355).GLOBAL_OBJ;function o(t,e){const n=t,o=[];if(!n||!n.tagName)return"";if(i.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}o.push(n.tagName.toLowerCase());const s=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(s&&s.length)s.forEach((t=>{o.push(`[${t[0]}="${t[1]}"]`)}));else{n.id&&o.push(`#${n.id}`);const t=n.className;if(t&&r.isString(t)){const e=t.split(/\s+/);for(const t of e)o.push(`.${t}`)}}const a=["aria-label","type","name","title","alt"];for(const t of a){const e=n.getAttribute(t);e&&o.push(`[${t}="${e}"]`)}return o.join("")}e.getComponentName=function(t){if(!i.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null},e.getDomElement=function(t){return i.document&&i.document.querySelector?i.document.querySelector(t):null},e.getLocationHref=function(){try{return i.document.location.href}catch(t){return""}},e.htmlTreeAsString=function(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let s=0,a=0;const l=" > ",c=l.length;let u;const h=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&s++<r&&(u=o(n,h),!("html"===u||s>1&&a+i.length*c+u.length>=d));)i.push(u),a+=u.length,n=n.parentNode;return i.reverse().join(l)}catch(t){return"<unknown>"}}},652:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(3050);e._asyncNullishCoalesce=async function(t,e){return r._nullishCoalesce(t,e)}},6885:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e._asyncOptionalChain=async function(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=await o(n)):"call"!==i&&"optionalCall"!==i||(n=await o(((...t)=>n.call(e,...t))),e=void 0)}return n}},6798:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(6885);e._asyncOptionalChainDelete=async function(t){const e=await r._asyncOptionalChain(t);return null==e||e}},3050:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e._nullishCoalesce=function(t,e){return null!=t?t:e()}},271:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e._optionalChain=function(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...t)=>n.call(e,...t))),e=void 0)}return n}},2160:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(271);e._optionalChainDelete=function(t){const e=r._optionalChain(t);return null==e||e}},8646:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.makeFifoCache=function(t){let e=[],n={};return{add(r,i){for(;e.length>=t;){const t=e.shift();void 0!==t&&delete n[t]}n[r]&&this.delete(r),e.push(r),n[r]=i},clear(){n={},e=[]},get:t=>n[t],size:()=>e.length,delete(t){if(!n[t])return!1;delete n[t];for(let n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}return!0}}}},5371:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(3374),i=n(6867);e.createClientReportEnvelope=function(t,e,n){const o=[{type:"client_report"},{timestamp:n||i.dateTimestampInSeconds(),discarded_events:t}];return r.createEnvelope(e?{dsn:e}:{},[o])}},5396:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseCookie=function(t){const e={};let n=0;for(;n<t.length;){const r=t.indexOf("=",n);if(-1===r)break;let i=t.indexOf(";",n);if(-1===i)i=t.length;else if(i<r){n=t.lastIndexOf(";",r-1)+1;continue}const o=t.slice(n,r).trim();if(void 0===e[o]){let n=t.slice(r+1,i).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{e[o]=-1!==n.indexOf("%")?decodeURIComponent(n):n}catch(t){e[o]=n}}n=i+1}return e}},8750:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.DEBUG_BUILD=n},7605:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8750),i=n(8030),o=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function s(t){const e=o.exec(t);if(!e)return void i.consoleSandbox((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,r,s="",l="",c="",u=""]=e.slice(1);let h="",d=u;const f=d.split("/");if(f.length>1&&(h=f.slice(0,-1).join("/"),d=f.pop()),d){const t=d.match(/^\d+/);t&&(d=t[0])}return a({host:l,pass:s,path:h,projectId:d,port:c,protocol:n,publicKey:r})}function a(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}e.dsnFromString=s,e.dsnToString=function(t,e=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=t;return`${a}://${l}${e&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`},e.makeDsn=function(t){const e="string"==typeof t?s(t):a(t);if(e&&function(t){if(!r.DEBUG_BUILD)return!0;const{port:e,projectId:n,protocol:o}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(i.logger.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(o)?e&&isNaN(parseInt(e,10))&&(i.logger.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(i.logger.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):(i.logger.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}},2827:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getSDKSource=function(){return"npm"},e.isBrowserBundle=function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}},3374:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7605),i=n(5027),o=n(3877),s=n(8355);function a(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function l(t){return s.GLOBAL_OBJ.__SENTRY__&&s.GLOBAL_OBJ.__SENTRY__.encodePolyfill?s.GLOBAL_OBJ.__SENTRY__.encodePolyfill(t):(new TextEncoder).encode(t)}const c={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};e.addItemToEnvelope=function(t,e){const[n,r]=t;return[n,[...r,e]]},e.createAttachmentEnvelopeItem=function(t){const e="string"==typeof t.data?l(t.data):t.data;return[o.dropUndefinedKeys({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]},e.createEnvelope=function(t,e=[]){return[t,e]},e.createEventEnvelopeHeaders=function(t,e,n,i){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&i&&{dsn:r.dsnToString(i)},...s&&{trace:o.dropUndefinedKeys({...s})}}},e.createSpanEnvelopeItem=function(t){return[{type:"span"},t]},e.envelopeContainsItemType=function(t,e){return a(t,((t,n)=>e.includes(n)))},e.envelopeItemTypeToDataCategory=function(t){return c[t]},e.forEachEnvelopeItem=a,e.getSdkMetadataForEnvelopeHeader=function(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}},e.parseEnvelope=function(t){let e="string"==typeof t?l(t):t;function n(t){const n=e.subarray(0,t);return e=e.subarray(t+1),n}function r(){let t=e.indexOf(10);return t<0&&(t=e.length),JSON.parse((r=n(t),s.GLOBAL_OBJ.__SENTRY__&&s.GLOBAL_OBJ.__SENTRY__.decodePolyfill?s.GLOBAL_OBJ.__SENTRY__.decodePolyfill(r):(new TextDecoder).decode(r)));var r}const i=r(),o=[];for(;e.length;){const t=r(),e="number"==typeof t.length?t.length:void 0;o.push([t,e?n(e):r()])}return[i,o]},e.serializeEnvelope=function(t){const[e,n]=t;let r=JSON.stringify(e);function o(t){"string"==typeof r?r="string"==typeof t?r+t:[l(r),t]:r.push("string"==typeof t?l(t):t)}for(const t of n){const[e,n]=t;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(i.normalize(n))}o(t)}}return"string"==typeof r?r:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(r)}},4610:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class n extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}e.SentryError=n},4521:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(518),i=n(5258),o=n(5027),s=n(3877);function a(t,e){return t(e.stack||"",1)}function l(t,e){const n={type:e.name||e.constructor.name,value:e.message},r=a(t,e);return r.length&&(n.stacktrace={frames:r}),n}function c(t){if("name"in t&&"string"==typeof t.name){let e=`'${t.name}' captured as exception`;return"message"in t&&"string"==typeof t.message&&(e+=` with message '${t.message}'`),e}if("message"in t&&"string"==typeof t.message)return t.message;const e=s.extractExceptionKeysForMessage(t);if(r.isErrorEvent(t))return`Event \`ErrorEvent\` captured as exception with message \`${t.message}\``;const n=function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t);return`${n&&"Object"!==n?`'${n}'`:"Object"} captured as exception with keys: ${e}`}function u(t,e,n,i){if(r.isError(n))return[n,void 0];if(e.synthetic=!0,r.isPlainObject(n)){const e=t&&t.getOptions().normalizeDepth,r={__serialized__:o.normalizeToSize(n,e)},s=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}(n);if(s)return[s,r];const a=c(n),l=i&&i.syntheticException||new Error(a);return l.message=a,[l,r]}const s=i&&i.syntheticException||new Error(n);return s.message=`${n}`,[s,void 0]}e.eventFromMessage=function(t,e,n="info",i,o){const s={event_id:i&&i.event_id,level:n};if(o&&i&&i.syntheticException){const n=a(t,i.syntheticException);n.length&&(s.exception={values:[{value:e,stacktrace:{frames:n}}]})}if(r.isParameterizedString(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return s.logentry={message:t,params:n},s}return s.message=e,s},e.eventFromUnknownInput=function(t,e,n,r){const o=r&&r.data&&r.data.mechanism||{handled:!0,type:"generic"},[s,a]=u(t,o,n,r),c={exception:{values:[l(e,s)]}};return a&&(c.extra=a),i.addExceptionTypeValue(c,void 0,void 0),i.addExceptionMechanism(c,o),{...c,event_id:r&&r.event_id}},e.exceptionFromError=l,e.parseStackFrames=a},4320:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7939),i=n(1545),o=n(9607),s=n(4796),a=n(7605),l=n(4610),c=n(8355),u=n(2717),h=n(7560),d=n(6127),f=n(5855),p=n(7951),g=n(518),m=n(7756),y=n(8030),_=n(6536),v=n(5258),b=n(9950),x=n(5027),S=n(3877),w=n(7417),E=n(3731),T=n(653),C=n(8773),M=n(4683),A=n(3227),k=n(5551),I=n(8786),P=n(4920),R=n(6867),O=n(8578),N=n(2827),D=n(3374),$=n(5371),L=n(2469),F=n(7542),j=n(465),U=n(8646),B=n(4521),z=n(2275),G=n(9461),H=n(652),W=n(6885),q=n(6798),V=n(3050),Y=n(271),X=n(2160),K=n(8871),Z=n(634),J=n(9276),Q=n(9747),tt=n(4551);e.applyAggregateErrorsToEvent=r.applyAggregateErrorsToEvent,e.flatten=i.flatten,e.getBreadcrumbLogLevelFromHttpStatusCode=o.getBreadcrumbLogLevelFromHttpStatusCode,e.getComponentName=s.getComponentName,e.getDomElement=s.getDomElement,e.getLocationHref=s.getLocationHref,e.htmlTreeAsString=s.htmlTreeAsString,e.dsnFromString=a.dsnFromString,e.dsnToString=a.dsnToString,e.makeDsn=a.makeDsn,e.SentryError=l.SentryError,e.GLOBAL_OBJ=c.GLOBAL_OBJ,e.getGlobalSingleton=c.getGlobalSingleton,e.addConsoleInstrumentationHandler=u.addConsoleInstrumentationHandler,e.addFetchEndInstrumentationHandler=h.addFetchEndInstrumentationHandler,e.addFetchInstrumentationHandler=h.addFetchInstrumentationHandler,e.addGlobalErrorInstrumentationHandler=d.addGlobalErrorInstrumentationHandler,e.addGlobalUnhandledRejectionInstrumentationHandler=f.addGlobalUnhandledRejectionInstrumentationHandler,e.addHandler=p.addHandler,e.maybeInstrument=p.maybeInstrument,e.resetInstrumentationHandlers=p.resetInstrumentationHandlers,e.triggerHandlers=p.triggerHandlers,e.isDOMError=g.isDOMError,e.isDOMException=g.isDOMException,e.isElement=g.isElement,e.isError=g.isError,e.isErrorEvent=g.isErrorEvent,e.isEvent=g.isEvent,e.isInstanceOf=g.isInstanceOf,e.isParameterizedString=g.isParameterizedString,e.isPlainObject=g.isPlainObject,e.isPrimitive=g.isPrimitive,e.isRegExp=g.isRegExp,e.isString=g.isString,e.isSyntheticEvent=g.isSyntheticEvent,e.isThenable=g.isThenable,e.isVueViewModel=g.isVueViewModel,e.isBrowser=m.isBrowser,e.CONSOLE_LEVELS=y.CONSOLE_LEVELS,e.consoleSandbox=y.consoleSandbox,e.logger=y.logger,e.originalConsoleMethods=y.originalConsoleMethods,e.memoBuilder=_.memoBuilder,e.addContextToFrame=v.addContextToFrame,e.addExceptionMechanism=v.addExceptionMechanism,e.addExceptionTypeValue=v.addExceptionTypeValue,e.arrayify=v.arrayify,e.checkOrSetAlreadyCaught=v.checkOrSetAlreadyCaught,e.getEventDescription=v.getEventDescription,e.parseSemver=v.parseSemver,e.uuid4=v.uuid4,e.dynamicRequire=b.dynamicRequire,e.isNodeEnv=b.isNodeEnv,e.loadModule=b.loadModule,e.normalize=x.normalize,e.normalizeToSize=x.normalizeToSize,e.normalizeUrlToBase=x.normalizeUrlToBase,e.addNonEnumerableProperty=S.addNonEnumerableProperty,e.convertToPlainObject=S.convertToPlainObject,e.dropUndefinedKeys=S.dropUndefinedKeys,e.extractExceptionKeysForMessage=S.extractExceptionKeysForMessage,e.fill=S.fill,e.getOriginalFunction=S.getOriginalFunction,e.markFunctionWrapped=S.markFunctionWrapped,e.objectify=S.objectify,e.urlEncode=S.urlEncode,e.basename=w.basename,e.dirname=w.dirname,e.isAbsolute=w.isAbsolute,e.join=w.join,e.normalizePath=w.normalizePath,e.relative=w.relative,e.resolve=w.resolve,e.makePromiseBuffer=E.makePromiseBuffer,e.DEFAULT_USER_INCLUDES=T.DEFAULT_USER_INCLUDES,e.addRequestDataToEvent=T.addRequestDataToEvent,e.extractPathForTransaction=T.extractPathForTransaction,e.extractRequestData=T.extractRequestData,e.winterCGHeadersToDict=T.winterCGHeadersToDict,e.winterCGRequestToRequestData=T.winterCGRequestToRequestData,e.severityLevelFromString=C.severityLevelFromString,e.validSeverityLevels=C.validSeverityLevels,e.UNKNOWN_FUNCTION=M.UNKNOWN_FUNCTION,e.createStackParser=M.createStackParser,e.getFramesFromEvent=M.getFramesFromEvent,e.getFunctionName=M.getFunctionName,e.stackParserFromStackParserOptions=M.stackParserFromStackParserOptions,e.stripSentryFramesAndReverse=M.stripSentryFramesAndReverse,e.filenameIsInApp=A.filenameIsInApp,e.node=A.node,e.nodeStackLineParser=A.nodeStackLineParser,e.isMatchingPattern=k.isMatchingPattern,e.safeJoin=k.safeJoin,e.snipLine=k.snipLine,e.stringMatchesSomePattern=k.stringMatchesSomePattern,e.truncate=k.truncate,e.isNativeFunction=I.isNativeFunction,e.supportsDOMError=I.supportsDOMError,e.supportsDOMException=I.supportsDOMException,e.supportsErrorEvent=I.supportsErrorEvent,e.supportsFetch=I.supportsFetch,e.supportsNativeFetch=I.supportsNativeFetch,e.supportsReferrerPolicy=I.supportsReferrerPolicy,e.supportsReportingObserver=I.supportsReportingObserver,e.SyncPromise=P.SyncPromise,e.rejectedSyncPromise=P.rejectedSyncPromise,e.resolvedSyncPromise=P.resolvedSyncPromise,Object.defineProperty(e,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>R._browserPerformanceTimeOriginMode}),e.browserPerformanceTimeOrigin=R.browserPerformanceTimeOrigin,e.dateTimestampInSeconds=R.dateTimestampInSeconds,e.timestampInSeconds=R.timestampInSeconds,e.TRACEPARENT_REGEXP=O.TRACEPARENT_REGEXP,e.extractTraceparentData=O.extractTraceparentData,e.generateSentryTraceHeader=O.generateSentryTraceHeader,e.propagationContextFromHeaders=O.propagationContextFromHeaders,e.getSDKSource=N.getSDKSource,e.isBrowserBundle=N.isBrowserBundle,e.addItemToEnvelope=D.addItemToEnvelope,e.createAttachmentEnvelopeItem=D.createAttachmentEnvelopeItem,e.createEnvelope=D.createEnvelope,e.createEventEnvelopeHeaders=D.createEventEnvelopeHeaders,e.createSpanEnvelopeItem=D.createSpanEnvelopeItem,e.envelopeContainsItemType=D.envelopeContainsItemType,e.envelopeItemTypeToDataCategory=D.envelopeItemTypeToDataCategory,e.forEachEnvelopeItem=D.forEachEnvelopeItem,e.getSdkMetadataForEnvelopeHeader=D.getSdkMetadataForEnvelopeHeader,e.parseEnvelope=D.parseEnvelope,e.serializeEnvelope=D.serializeEnvelope,e.createClientReportEnvelope=$.createClientReportEnvelope,e.DEFAULT_RETRY_AFTER=L.DEFAULT_RETRY_AFTER,e.disabledUntil=L.disabledUntil,e.isRateLimited=L.isRateLimited,e.parseRetryAfterHeader=L.parseRetryAfterHeader,e.updateRateLimits=L.updateRateLimits,e.BAGGAGE_HEADER_NAME=F.BAGGAGE_HEADER_NAME,e.MAX_BAGGAGE_STRING_LENGTH=F.MAX_BAGGAGE_STRING_LENGTH,e.SENTRY_BAGGAGE_KEY_PREFIX=F.SENTRY_BAGGAGE_KEY_PREFIX,e.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=F.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,e.baggageHeaderToDynamicSamplingContext=F.baggageHeaderToDynamicSamplingContext,e.dynamicSamplingContextToSentryBaggageHeader=F.dynamicSamplingContextToSentryBaggageHeader,e.parseBaggageHeader=F.parseBaggageHeader,e.getNumberOfUrlSegments=j.getNumberOfUrlSegments,e.getSanitizedUrlString=j.getSanitizedUrlString,e.parseUrl=j.parseUrl,e.stripUrlQueryAndFragment=j.stripUrlQueryAndFragment,e.makeFifoCache=U.makeFifoCache,e.eventFromMessage=B.eventFromMessage,e.eventFromUnknownInput=B.eventFromUnknownInput,e.exceptionFromError=B.exceptionFromError,e.parseStackFrames=B.parseStackFrames,e.callFrameToStackFrame=z.callFrameToStackFrame,e.watchdogTimer=z.watchdogTimer,e.LRUMap=G.LRUMap,e._asyncNullishCoalesce=H._asyncNullishCoalesce,e._asyncOptionalChain=W._asyncOptionalChain,e._asyncOptionalChainDelete=q._asyncOptionalChainDelete,e._nullishCoalesce=V._nullishCoalesce,e._optionalChain=Y._optionalChain,e._optionalChainDelete=X._optionalChainDelete,e.generatePropagationContext=K.generatePropagationContext,e.vercelWaitUntil=Z.vercelWaitUntil,e.SDK_VERSION=J.SDK_VERSION,e.escapeStringForRegex=Q.escapeStringForRegex,e.supportsHistory=tt.supportsHistory},2717:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8030),i=n(3877),o=n(8355),s=n(7951);function a(){"console"in o.GLOBAL_OBJ&&r.CONSOLE_LEVELS.forEach((function(t){t in o.GLOBAL_OBJ.console&&i.fill(o.GLOBAL_OBJ.console,t,(function(e){return r.originalConsoleMethods[t]=e,function(...e){const n={args:e,level:t};s.triggerHandlers("console",n);const i=r.originalConsoleMethods[t];i&&i.apply(o.GLOBAL_OBJ.console,e)}}))}))}e.addConsoleInstrumentationHandler=function(t){const e="console";s.addHandler(e,t),s.maybeInstrument(e,a)}},7560:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(518),i=n(3877),o=n(8786),s=n(6867),a=n(8355),l=n(7951);function c(t,e=!1){e&&!o.supportsNativeFetch()||i.fill(a.GLOBAL_OBJ,"fetch",(function(e){return function(...n){const{method:o,url:c}=f(n),u={args:n,fetchData:{method:o,url:c},startTimestamp:1e3*s.timestampInSeconds()};t||l.triggerHandlers("fetch",{...u});const h=(new Error).stack;return e.apply(a.GLOBAL_OBJ,n).then((async e=>(t?t(e):l.triggerHandlers("fetch",{...u,endTimestamp:1e3*s.timestampInSeconds(),response:e}),e)),(t=>{throw l.triggerHandlers("fetch",{...u,endTimestamp:1e3*s.timestampInSeconds(),error:t}),r.isError(t)&&void 0===t.stack&&(t.stack=h,i.addNonEnumerableProperty(t,"framesToPop",1)),t}))}}))}function u(t){let e;try{e=t.clone()}catch(t){return}!async function(t,e){if(t&&t.body){const n=t.body,r=n.getReader(),i=setTimeout((()=>{n.cancel().then(null,(()=>{}))}),9e4);let o=!0;for(;o;){let t;try{t=setTimeout((()=>{n.cancel().then(null,(()=>{}))}),5e3);const{done:i}=await r.read();clearTimeout(t),i&&(e(),o=!1)}catch(t){o=!1}finally{clearTimeout(t)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,(()=>{}))}}(e,(()=>{l.triggerHandlers("fetch-body-resolved",{endTimestamp:1e3*s.timestampInSeconds(),response:t})}))}function h(t,e){return!!t&&"object"==typeof t&&!!t[e]}function d(t){return"string"==typeof t?t:t?h(t,"url")?t.url:t.toString?t.toString():"":""}function f(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:d(e),method:h(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:d(e),method:h(e,"method")?String(e.method).toUpperCase():"GET"}}e.addFetchEndInstrumentationHandler=function(t){const e="fetch-body-resolved";l.addHandler(e,t),l.maybeInstrument(e,(()=>c(u)))},e.addFetchInstrumentationHandler=function(t,e){const n="fetch";l.addHandler(n,t),l.maybeInstrument(n,(()=>c(void 0,e)))},e.parseFetchArgs=f},6127:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8355),i=n(7951);let o=null;function s(){o=r.GLOBAL_OBJ.onerror,r.GLOBAL_OBJ.onerror=function(t,e,n,r,s){const a={column:r,error:s,line:n,msg:t,url:e};return i.triggerHandlers("error",a),!(!o||o.__SENTRY_LOADER__)&&o.apply(this,arguments)},r.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}e.addGlobalErrorInstrumentationHandler=function(t){const e="error";i.addHandler(e,t),i.maybeInstrument(e,s)}},5855:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8355),i=n(7951);let o=null;function s(){o=r.GLOBAL_OBJ.onunhandledrejection,r.GLOBAL_OBJ.onunhandledrejection=function(t){const e=t;return i.triggerHandlers("unhandledrejection",e),!(o&&!o.__SENTRY_LOADER__)||o.apply(this,arguments)},r.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}e.addGlobalUnhandledRejectionInstrumentationHandler=function(t){const e="unhandledrejection";i.addHandler(e,t),i.maybeInstrument(e,s)}},7951:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8750),i=n(8030),o=n(4683),s={},a={};e.addHandler=function(t,e){s[t]=s[t]||[],s[t].push(e)},e.maybeInstrument=function(t,e){a[t]||(e(),a[t]=!0)},e.resetInstrumentationHandlers=function(){Object.keys(s).forEach((t=>{s[t]=void 0}))},e.triggerHandlers=function(t,e){const n=t&&s[t];if(n)for(const s of n)try{s(e)}catch(e){r.DEBUG_BUILD&&i.logger.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${o.getFunctionName(s)}\nError:`,e)}}},518:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=Object.prototype.toString;function r(t,e){return n.call(t)===`[object ${e}]`}function i(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function o(t){return r(t,"Object")}function s(t,e){try{return t instanceof e}catch(t){return!1}}e.isDOMError=function(t){return r(t,"DOMError")},e.isDOMException=function(t){return r(t,"DOMException")},e.isElement=function(t){return"undefined"!=typeof Element&&s(t,Element)},e.isError=function(t){switch(n.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return s(t,Error)}},e.isErrorEvent=function(t){return r(t,"ErrorEvent")},e.isEvent=function(t){return"undefined"!=typeof Event&&s(t,Event)},e.isInstanceOf=s,e.isParameterizedString=i,e.isPlainObject=o,e.isPrimitive=function(t){return null===t||i(t)||"object"!=typeof t&&"function"!=typeof t},e.isRegExp=function(t){return r(t,"RegExp")},e.isString=function(t){return r(t,"String")},e.isSyntheticEvent=function(t){return o(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t},e.isThenable=function(t){return Boolean(t&&t.then&&"function"==typeof t.then)},e.isVueViewModel=function(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}},7756:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(9950),i=n(8355);e.isBrowser=function(){return"undefined"!=typeof window&&(!r.isNodeEnv()||void 0!==i.GLOBAL_OBJ.process&&"renderer"===i.GLOBAL_OBJ.process.type)}},8030:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8750),i=n(8355),o=["debug","info","warn","error","log","assert","trace"],s={};function a(t){if(!("console"in i.GLOBAL_OBJ))return t();const e=i.GLOBAL_OBJ.console,n={},r=Object.keys(s);r.forEach((t=>{const r=s[t];n[t]=e[t],e[t]=r}));try{return t()}finally{r.forEach((t=>{e[t]=n[t]}))}}const l=i.getGlobalSingleton("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return r.DEBUG_BUILD?o.forEach((n=>{e[n]=(...e)=>{t&&a((()=>{i.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...e)}))}})):o.forEach((t=>{e[t]=()=>{}})),e}));e.CONSOLE_LEVELS=o,e.consoleSandbox=a,e.logger=l,e.originalConsoleMethods=s},9461:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.LRUMap=class{constructor(t){this._maxSize=t,this._cache=new Map}get size(){return this._cache.size}get(t){const e=this._cache.get(t);if(void 0!==e)return this._cache.delete(t),this._cache.set(t,e),e}set(t,e){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(t,e)}remove(t){const e=this._cache.get(t);return e&&this._cache.delete(t),e}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const t=[];return this._cache.forEach((e=>t.push(e))),t}}},6536:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.memoBuilder=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++){if(e[t]===n)return!0}return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}},5258:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(3877),i=n(5551),o=n(8355);function s(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}const a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function l(t){return parseInt(t||"",10)}e.addContextToFrame=function(t,e,n=5){if(void 0===e.lineno)return;const r=t.length,o=Math.max(Math.min(r-1,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,o-n),o).map((t=>i.snipLine(t,0)));const s=Math.min(r-1,o);e.context_line=i.snipLine(t[s],e.colno||0),e.post_context=t.slice(Math.min(o+1,r),o+1+n).map((t=>i.snipLine(t,0)))},e.addExceptionMechanism=function(t,e){const n=s(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}},e.addExceptionTypeValue=function(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")},e.arrayify=function(t){return Array.isArray(t)?t:[t]},e.checkOrSetAlreadyCaught=function(t){if(t&&t.__sentry_captured__)return!0;try{r.addNonEnumerableProperty(t,"__sentry_captured__",!0)}catch(t){}return!1},e.getEventDescription=function(t){const{message:e,event_id:n}=t;if(e)return e;const r=s(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"},e.parseSemver=function(t){const e=t.match(a)||[],n=l(e[1]),r=l(e[2]),i=l(e[3]);return{buildmetadata:e[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:e[4]}},e.uuid4=function(){const t=o.GLOBAL_OBJ,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}},3227:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4683);function i(t,e=!1){return!(e||t&&!t.startsWith("/")&&!t.match(/^[A-Z]:/)&&!t.startsWith(".")&&!t.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&void 0!==t&&!t.includes("node_modules/")}function o(t){const e=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return o=>{const a=o.match(n);if(a){let e,n,o,l,c;if(a[1]){o=a[1];let t=o.lastIndexOf(".");if("."===o[t-1]&&t--,t>0){e=o.slice(0,t),n=o.slice(t+1);const r=e.indexOf(".Module");r>0&&(o=o.slice(r+1),e=e.slice(0,r))}l=void 0}n&&(l=e,c=n),"<anonymous>"===n&&(c=void 0,o=void 0),void 0===o&&(c=c||r.UNKNOWN_FUNCTION,o=l?`${l}.${c}`:c);let u=a[2]&&a[2].startsWith("file://")?a[2].slice(7):a[2];const h="native"===a[5];return u&&u.match(/\/[A-Z]:/)&&(u=u.slice(1)),u||!a[5]||h||(u=a[5]),{filename:u,module:t?t(u):void 0,function:o,lineno:s(a[3]),colno:s(a[4]),in_app:i(u||"",h)}}if(o.match(e))return{filename:o}}}function s(t){return parseInt(t||"",10)||void 0}e.filenameIsInApp=i,e.node=o,e.nodeStackLineParser=function(t){return[90,o(t)]}},9950:(t,e,n)=>{t=n.nmd(t),Object.defineProperty(e,"__esModule",{value:!0});const r=n(2827);function i(t,e){return t.require(e)}e.dynamicRequire=i,e.isNodeEnv=function(){return!r.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)},e.loadModule=function(e){let n;try{n=i(t,e)}catch(t){}try{const{cwd:r}=i(t,"process");n=i(t,`${r()}/node_modules/${e}`)}catch(t){}return n}},5027:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(518),i=n(6536),o=n(3877),s=n(4683);function a(t,e=100,n=1/0){try{return l("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function l(t,e,a=1/0,c=1/0,u=i.memoBuilder()){const[h,d]=u;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const f=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(void 0!==n.g&&e===n.g)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(r.isVueViewModel(e))return"[VueViewModel]";if(r.isSyntheticEvent(e))return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${s.getFunctionName(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const i=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(i)?`[HTMLElement: ${i}]`:`[object ${i}]`}catch(t){return`**non-serializable** (${t})`}}(t,e);if(!f.startsWith("[object "))return f;if(e.__sentry_skip_normalization__)return e;const p="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:a;if(0===p)return f.replace("object ","");if(h(e))return"[Circular ~]";const g=e;if(g&&"function"==typeof g.toJSON)try{return l("",g.toJSON(),p-1,c,u)}catch(t){}const m=Array.isArray(e)?[]:{};let y=0;const _=o.convertToPlainObject(e);for(const t in _){if(!Object.prototype.hasOwnProperty.call(_,t))continue;if(y>=c){m[t]="[MaxProperties ~]";break}const e=_[t];m[t]=l(t,e,p-1,c,u),y++}return d(e),m}e.normalize=a,e.normalizeToSize=function t(e,n=3,r=102400){const i=a(e,n);return o=i,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>r?t(e,n-1,r):i;var o},e.normalizeUrlToBase=function(t,e){const n=e.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let r=t;try{r=decodeURI(t)}catch(t){}return r.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${n}/*`,"ig"),"app:///")}},3877:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4796),i=n(8750),o=n(518),s=n(8030),a=n(5551);function l(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(n){i.DEBUG_BUILD&&s.logger.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function c(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,l(t,"__sentry_original__",e)}catch(t){}}function u(t){if(o.isError(t))return{message:t.message,name:t.name,stack:t.stack,...d(t)};if(o.isEvent(t)){const e={type:t.type,target:h(t.target),currentTarget:h(t.currentTarget),...d(t)};return"undefined"!=typeof CustomEvent&&o.isInstanceOf(t,CustomEvent)&&(e.detail=t.detail),e}return t}function h(t){try{return o.isElement(t)?r.htmlTreeAsString(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function d(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function f(t,e){if(function(t){if(!o.isPlainObject(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||"Object"===e}catch(t){return!0}}(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const n of Object.getOwnPropertyNames(t))void 0!==t[n]&&(r[n]=f(t[n],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach((t=>{r.push(f(t,e))})),r}return t}e.addNonEnumerableProperty=l,e.convertToPlainObject=u,e.dropUndefinedKeys=function(t){return f(t,new Map)},e.extractExceptionKeysForMessage=function(t,e=40){const n=Object.keys(u(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return a.truncate(r,e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:a.truncate(r,e)}return""},e.fill=function(t,e,n){if(!(e in t))return;const r=t[e],i=n(r);"function"==typeof i&&c(i,r),t[e]=i},e.getOriginalFunction=function(t){return t.__sentry_original__},e.markFunctionWrapped=c,e.objectify=function(t){let e;switch(!0){case null==t:e=new String(t);break;case"symbol"==typeof t||"bigint"==typeof t:e=Object(t);break;case o.isPrimitive(t):e=new t.constructor(t);break;default:e=t}return e},e.urlEncode=function(t){return Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")}},7417:(t,e)=>{function n(t,e){let n=0;for(let e=t.length-1;e>=0;e--){const r=t[e];"."===r?t.splice(e,1):".."===r?(t.splice(e,1),n++):n&&(t.splice(e,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}Object.defineProperty(e,"__esModule",{value:!0});const r=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function i(t){const e=t.length>1024?`<truncated>${t.slice(-1024)}`:t,n=r.exec(e);return n?n.slice(1):[]}function o(...t){let e="",r=!1;for(let n=t.length-1;n>=-1&&!r;n--){const i=n>=0?t[n]:"/";i&&(e=`${i}/${e}`,r="/"===i.charAt(0))}return e=n(e.split("/").filter((t=>!!t)),!r).join("/"),(r?"/":"")+e||"."}function s(t){let e=0;for(;e<t.length&&""===t[e];e++);let n=t.length-1;for(;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}function a(t){const e=l(t),r="/"===t.slice(-1);let i=n(t.split("/").filter((t=>!!t)),!e).join("/");return i||e||(i="."),i&&r&&(i+="/"),(e?"/":"")+i}function l(t){return"/"===t.charAt(0)}e.basename=function(t,e){let n=i(t)[2]||"";return e&&n.slice(-1*e.length)===e&&(n=n.slice(0,n.length-e.length)),n},e.dirname=function(t){const e=i(t),n=e[0]||"";let r=e[1];return n||r?(r&&(r=r.slice(0,r.length-1)),n+r):"."},e.isAbsolute=l,e.join=function(...t){return a(t.join("/"))},e.normalizePath=a,e.relative=function(t,e){t=o(t).slice(1),e=o(e).slice(1);const n=s(t.split("/")),r=s(e.split("/")),i=Math.min(n.length,r.length);let a=i;for(let t=0;t<i;t++)if(n[t]!==r[t]){a=t;break}let l=[];for(let t=a;t<n.length;t++)l.push("..");return l=l.concat(r.slice(a)),l.join("/")},e.resolve=o},3731:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(4610),i=n(4920);e.makePromiseBuffer=function(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(o){if(!(void 0===t||e.length<t))return i.rejectedSyncPromise(new r.SentryError("Not adding Promise because buffer limit was reached."));const s=o();return-1===e.indexOf(s)&&e.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(t){return new i.SyncPromise(((n,r)=>{let o=e.length;if(!o)return n(!0);const s=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{i.resolvedSyncPromise(t).then((()=>{--o||(clearTimeout(s),n(!0))}),r)}))}))}}}},8871:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(5258);e.generatePropagationContext=function(){return{traceId:r.uuid4(),spanId:r.uuid4().substring(16)}}},2469:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function n(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}function r(t,e){return t[e]||t.all||0}e.DEFAULT_RETRY_AFTER=6e4,e.disabledUntil=r,e.isRateLimited=function(t,e,n=Date.now()){return r(t,e)>n},e.parseRetryAfterHeader=n,e.updateRateLimits=function(t,{statusCode:e,headers:r},i=Date.now()){const o={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(const t of s.trim().split(",")){const[e,n,,,r]=t.split(":",5),s=parseInt(e,10),a=1e3*(isNaN(s)?60:s);if(n)for(const t of n.split(";"))"metric_bucket"===t&&r&&!r.split(";").includes("custom")||(o[t]=i+a);else o.all=i+a}else a?o.all=i+n(a,i):429===e&&(o.all=i+6e4);return o}},653:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(5396),i=n(8750),o=n(518),s=n(8030),a=n(5027),l=n(465),c=n(5972),u={ip:!1,request:!0,transaction:!0,user:!0},h=["cookies","data","headers","method","query_string","url"],d=["id","username","email"];function f(t,e={}){const n=t.method&&t.method.toUpperCase();let r="",i="url";e.customRoute||t.route?(r=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,i="route"):(t.originalUrl||t.url)&&(r=l.stripUrlQueryAndFragment(t.originalUrl||t.url||""));let o="";return e.method&&n&&(o+=n),e.method&&e.path&&(o+=" "),e.path&&r&&(o+=r),[o,i]}function p(t,e={}){const{include:n=h}=e,i={},s=t.headers||{},l=t.method,u=s.host||t.hostname||t.host||"<no host>",d="https"===t.protocol||t.socket&&t.socket.encrypted?"https":"http",f=t.originalUrl||t.url||"",p=f.startsWith(d)?f:`${d}://${u}${f}`;return n.forEach((e=>{switch(e){case"headers":i.headers=s,n.includes("cookies")||delete i.headers.cookie,n.includes("ip")||c.ipHeaderNames.forEach((t=>{delete i.headers[t]}));break;case"method":i.method=l;break;case"url":i.url=p;break;case"cookies":i.cookies=t.cookies||s.cookie&&r.parseCookie(s.cookie)||{};break;case"query_string":i.query_string=function(t){let e=t.originalUrl||t.url||"";if(!e)return;e.startsWith("/")&&(e=`http://dogs.are.great${e}`);try{const n=t.query||new URL(e).search.slice(1);return n.length?n:void 0}catch(t){return}}(t);break;case"data":if("GET"===l||"HEAD"===l)break;void 0!==t.body&&(i.data=o.isString(t.body)?t.body:JSON.stringify(a.normalize(t.body)));break;default:({}).hasOwnProperty.call(t,e)&&(i[e]=t[e])}})),i}function g(t){const e={};try{t.forEach(((t,n)=>{"string"==typeof t&&(e[n]=t)}))}catch(t){i.DEBUG_BUILD&&s.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return e}e.DEFAULT_USER_INCLUDES=d,e.addRequestDataToEvent=function(t,e,n){const r={...u,...n&&n.include};if(r.request){const n=Array.isArray(r.request)?[...r.request]:[...h];r.ip&&n.push("ip");const i=p(e,{include:n});t.request={...t.request,...i}}if(r.user){const n=e.user&&o.isPlainObject(e.user)?function(t,e){const n={};return(Array.isArray(e)?e:d).forEach((e=>{t&&e in t&&(n[e]=t[e])})),n}(e.user,r.user):{};Object.keys(n).length&&(t.user={...t.user,...n})}if(r.ip){const n=e.headers&&c.getClientIPAddress(e.headers)||e.ip||e.socket&&e.socket.remoteAddress;n&&(t.user={...t.user,ip_address:n})}return r.transaction&&!t.transaction&&"transaction"===t.type&&(t.transaction=function(t,e){switch(e){case"path":return f(t,{path:!0})[0];case"handler":return t.route&&t.route.stack&&t.route.stack[0]&&t.route.stack[0].name||"<anonymous>";default:return f(t,{path:!0,method:!0,customRoute:t._reconstructedRoute?t._reconstructedRoute:void 0})[0]}}(e,r.transaction)),t},e.extractPathForTransaction=f,e.extractRequestData=p,e.winterCGHeadersToDict=g,e.winterCGRequestToRequestData=function(t){const e=g(t.headers);return{method:t.method,url:t.url,headers:e}}},8773:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=["fatal","error","warning","log","info","debug"];e.severityLevelFromString=function(t){return"warn"===t?"warning":n.includes(t)?t:"log"},e.validSeverityLevels=n},4683:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=/\(error: (.*)\)/,r=/captureMessage|captureException/;function i(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,r=0,i=0)=>{const s=[],a=t.split("\n");for(let t=r;t<a.length;t++){const r=a[t];if(r.length>1024)continue;const o=n.test(r)?r.replace(n,"$1"):r;if(!o.match(/\S*Error: /)){for(const t of e){const e=t(o);if(e){s.push(e);break}}if(s.length>=50+i)break}}return o(s.slice(i))}}function o(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(s(e).function||"")&&e.pop(),e.reverse(),r.test(s(e).function||"")&&(e.pop(),r.test(s(e).function||"")&&e.pop()),e.slice(0,50).map((t=>({...t,filename:t.filename||s(e).filename,function:t.function||"?"})))}function s(t){return t[t.length-1]||{}}const a="<anonymous>";e.UNKNOWN_FUNCTION="?",e.createStackParser=i,e.getFramesFromEvent=function(t){const e=t.exception;if(e){const t=[];try{return e.values.forEach((e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)})),t}catch(t){return}}},e.getFunctionName=function(t){try{return t&&"function"==typeof t&&t.name||a}catch(t){return a}},e.stackParserFromStackParserOptions=function(t){return Array.isArray(t)?i(...t):t},e.stripSentryFramesAndReverse=o},5551:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(518);function i(t,e,n=!1){return!!r.isString(t)&&(r.isRegExp(e)?e.test(t):!!r.isString(e)&&(n?t===e:t.includes(e)))}e.isMatchingPattern=i,e.safeJoin=function(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const i=t[e];try{r.isVueViewModel(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)},e.snipLine=function(t,e){let n=t;const r=n.length;if(r<=150)return n;e>r&&(e=r);let i=Math.max(e-60,0);i<5&&(i=0);let o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n},e.stringMatchesSomePattern=function(t,e=[],n=!1){return e.some((e=>i(t,e,n)))},e.truncate=function(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}},8786:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8750),i=n(8030),o=n(8355).GLOBAL_OBJ;function s(){if(!("fetch"in o))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function a(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}e.isNativeFunction=a,e.supportsDOMError=function(){try{return new DOMError(""),!0}catch(t){return!1}},e.supportsDOMException=function(){try{return new DOMException(""),!0}catch(t){return!1}},e.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(t){return!1}},e.supportsFetch=s,e.supportsNativeFetch=function(){if("string"==typeof EdgeRuntime)return!0;if(!s())return!1;if(a(o.fetch))return!0;let t=!1;const e=o.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=a(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){r.DEBUG_BUILD&&i.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t},e.supportsReferrerPolicy=function(){if(!s())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}},e.supportsReportingObserver=function(){return"ReportingObserver"in o}},4920:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(518);var i;!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(i||(i={}));class o{constructor(t){o.prototype.__init.call(this),o.prototype.__init2.call(this),o.prototype.__init3.call(this),o.prototype.__init4.call(this),this._state=i.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new o(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new o(((e,n)=>{let r,i;return this.then((e=>{i=!1,r=e,t&&t()}),(e=>{i=!0,r=e,t&&t()})).then((()=>{i?n(r):e(r)}))}))}__init(){this._resolve=t=>{this._setResult(i.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(i.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===i.PENDING&&(r.isThenable(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===i.RESOLVED&&t[1](this._value),this._state===i.REJECTED&&t[2](this._value),t[0]=!0)}))}}}e.SyncPromise=o,e.rejectedSyncPromise=function(t){return new o(((e,n)=>{n(t)}))},e.resolvedSyncPromise=function(t){return new o((e=>{e(t)}))}},6867:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8355);function i(){return Date.now()/1e3}const o=function(){const{performance:t}=r.GLOBAL_OBJ;if(!t||!t.now)return i;const e=Date.now()-t.now(),n=null==t.timeOrigin?e:t.timeOrigin;return()=>(n+t.now())/1e3}();e._browserPerformanceTimeOriginMode=void 0;const s=(()=>{const{performance:t}=r.GLOBAL_OBJ;if(!t||!t.now)return void(e._browserPerformanceTimeOriginMode="none");const n=36e5,i=t.now(),o=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+i-o):n,a=s<n,l=t.timing&&t.timing.navigationStart,c="number"==typeof l?Math.abs(l+i-o):n;return a||c<n?s<=c?(e._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(e._browserPerformanceTimeOriginMode="navigationStart",l):(e._browserPerformanceTimeOriginMode="dateNow",o)})();e.browserPerformanceTimeOrigin=s,e.dateTimestampInSeconds=i,e.timestampInSeconds=o},8578:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(7542),i=n(5258),o=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function s(t){if(!t)return;const e=t.match(o);if(!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}e.TRACEPARENT_REGEXP=o,e.extractTraceparentData=s,e.generateSentryTraceHeader=function(t=i.uuid4(),e=i.uuid4().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${t}-${e}${r}`},e.propagationContextFromHeaders=function(t,e){const n=s(t),o=r.baggageHeaderToDynamicSamplingContext(e),{traceId:a,parentSpanId:l,parentSampled:c}=n||{};return n?{traceId:a||i.uuid4(),parentSpanId:l||i.uuid4().substring(16),spanId:i.uuid4().substring(16),sampled:c,dsc:o||{}}:{traceId:a||i.uuid4(),spanId:i.uuid4().substring(16)}}},465:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getNumberOfUrlSegments=function(t){return t.split(/\\?\//).filter((t=>t.length>0&&","!==t)).length},e.getSanitizedUrlString=function(t){const{protocol:e,host:n,path:r}=t;return`${e?`${e}://`:""}${n&&n.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||""}${r}`},e.parseUrl=function(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}},e.stripUrlQueryAndFragment=function(t){return t.split(/[?#]/,1)[0]}},9747:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.escapeStringForRegex=function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},5972:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"];e.getClientIPAddress=function(t){return n.map((e=>{const n=t[e],r=Array.isArray(n)?n.join(";"):n;return"Forwarded"===e?function(t){if(!t)return null;for(const e of t.split(";"))if(e.startsWith("for="))return e.slice(4);return null}(r):r&&r.split(",").map((t=>t.trim()))})).reduce(((t,e)=>e?t.concat(e):t),[]).find((t=>null!==t&&/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(t)))||null},e.ipHeaderNames=n},4551:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8355).GLOBAL_OBJ;e.supportsHistory=function(){const t=r.chrome,e=t&&t.app&&t.app.runtime,n="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!e&&n}},634:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(8355);e.vercelWaitUntil=function(t){const e=r.GLOBAL_OBJ[Symbol.for("@vercel/request-context")],n=e&&e.get&&e.get()?e.get():{};n&&n.waitUntil&&n.waitUntil(t)}},9276:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.SDK_VERSION="8.36.0"},8355:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(9276),i=globalThis;e.GLOBAL_OBJ=i,e.getGlobalSingleton=function(t,e,n){const o=n||i,s=o.__SENTRY__=o.__SENTRY__||{},a=s[r.SDK_VERSION]=s[r.SDK_VERSION]||{};return a[t]||(a[t]=e())}},7967:()=>{!function(t,e){"use strict";var n,r,i,o,s="-add",a="-remove",l="ng-animate",c="$$ngAnimateChildren";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(n="WebkitTransition",r="webkitTransitionEnd transitionend"):(n="transition",r="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(i="WebkitAnimation",o="webkitAnimationEnd animationend"):(i="animation",o="animationend");var u="Duration",h="Property",d="Delay",f="TimingFunction",p=i+d,g=i+u,m=n+d,y=n+u,_=e.$$minErr("ng");function v(t,e,n){if(!t)throw _("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function b(t,e){return t||e?t?e?(Y(t)&&(t=t.join(" ")),Y(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function x(t,e,n){var r="";return t=Y(t)?t:t&&Q(t)&&t.length?t.split(/\s+/):[],V(t,(function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)})),r}function S(t){if(t instanceof et)switch(t.length){case 0:return t;case 1:if(1===t[0].nodeType)return t;break;default:return et(w(t))}if(1===t.nodeType)return et(t)}function w(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(1===n.nodeType)return n}}function E(t){return function(e,n){n.addClass&&(!function(t,e,n){V(e,(function(e){t.addClass(e,n)}))}(t,e,n.addClass),n.addClass=null),n.removeClass&&(!function(t,e,n){V(e,(function(e){t.removeClass(e,n)}))}(t,e,n.removeClass),n.removeClass=null)}}function T(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||nt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=nt},t.$$prepared=!0}return t}function C(t,e){M(t,e),A(t,e)}function M(t,e){e.from&&(t.css(e.from),e.from=null)}function A(t,e){e.to&&(t.css(e.to),e.to=null)}function k(t,e,n){var r=e.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),l=(r.removeClass||"")+" "+(i.removeClass||""),c=function(t,e,n){var r=1,i=-1,o={};t=c(t),e=c(e),V(e,(function(t,e){o[e]=r})),n=c(n),V(n,(function(t,e){o[e]=o[e]===r?null:i}));var l={addClass:"",removeClass:""};function c(t){Q(t)&&(t=t.split(" "));var e={};return V(t,(function(t){t.length&&(e[t]=!0)})),e}return V(o,(function(e,n){var o,c;e===r?(o="addClass",c=!t[n]||t[n+a]):e===i&&(o="removeClass",c=t[n]||t[n+s]),c&&(l[o].length&&(l[o]+=" "),l[o]+=n)})),l}(t.attr("class"),o,l);i.preparationClasses&&(r.preparationClasses=O(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var u=r.domOperation!==nt?r.domOperation:null;return q(r,i),u&&(r.domOperation=u),c.addClass?r.addClass=c.addClass:r.addClass=null,c.removeClass?r.removeClass=c.removeClass:r.removeClass=null,e.addClass=r.addClass,e.removeClass=r.removeClass,r}function I(t){return t instanceof et?t[0]:t}function P(t,e){var n=e?"paused":"",r=i+"PlayState";return R(t,[r,n]),[r,n]}function R(t,e){var n=e[0],r=e[1];t.style[n]=r}function O(t,e){return t?e?t+" "+e:t:e}var N=function(t,e){var n=e?"-"+e+"s":"";return R(t,[m,n]),[m,n]},D=["$interpolate",function(t){return{link:function(e,n,r){var i=r.ngAnimateChildren;function o(t){t="on"===t||"true"===t,n.data(c,t)}Q(i)&&0===i.length?n.data(c,!0):(o(t(i)(e)),r.$observe("ngAnimateChildren",o))}}}],$="$$animateCss",L=1e3,F={transitionDuration:y,transitionDelay:m,transitionProperty:n+h,animationDuration:g,animationDelay:p,animationIterationCount:i+"IterationCount"},j={transitionDuration:y,transitionDelay:m,animationDuration:g,animationDelay:p};function U(t,e){return[e?p:m,t+"s"]}function B(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return V(n,(function(t,e){var n,o,s=i[t];if(s){var a=s.charAt(0);("-"===a||"+"===a||a>=0)&&(n=0,o=s.split(/\s*,\s*/),V(o,(function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t})),s=n),0===s&&(s=null),r[e]=s}})),r}function z(t){return 0===t||null!=t}function G(t,e){var r=n,i=t+"s";return e?r+=u:i+=" linear all",[r,i]}function H(t,e,n){V(n,(function(n){t[n]=X(t[n])?t[n]:e.style.getPropertyValue(n)}))}var W,q,V,Y,X,K,Z,J,Q,tt,et,nt,rt=["$animateProvider",function(t){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,e,l,c,u,d,p,m,y){var _=E(e);var v=[];function b(t){v.push(t),m.waitUntilQuiet((function(){u.flush();for(var t=d(),e=0;e<v.length;e++)v[e](t);v.length=0}))}function S(e,n,r,i){var o=function(e,n,r,i,o){var s=u.get(r);s||"infinite"===(s=B(t,e,o)).animationIterationCount&&(s.animationIterationCount=1);var a=i||s.transitionDuration>0||s.animationDuration>0;return u.put(r,s,a),s}(e,0,r,i,F),s=o.animationDelay,a=o.transitionDelay;return o.maxDelay=s&&a?Math.max(s,a):s||a,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(d,m){var v=m||{};v.$$prepared||(v=T(W(v)));var w={},E=I(d);if(!E||!E.parentNode||!y.enabled())return At();var k,O,D,F,q,X,K,Z,J,Q,tt=[],et=(d.attr("class"),function(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}(v)),rt=[];if(0===v.duration||!p.animations&&!p.transitions)return At();var it=v.event&&Y(v.event)?v.event.join(" "):v.event,ot=it&&v.structural,st="",at="";ot?st=x(it,"ng-",!0):it&&(st=it),v.addClass&&(at+=x(v.addClass,s)),v.removeClass&&(at.length&&(at+=" "),at+=x(v.removeClass,a)),v.applyClassesEarly&&at.length&&_(d,v);var lt=[st,at].join(" ").trim(),ct=et.to&&Object.keys(et.to).length>0;if(!((v.keyframeStyle||"").length>0)&&!ct&&!lt)return At();var ut,ht,dt=u.cacheKey(E,it,v.addClass,v.removeClass);if(u.containsCachedAnimationWithoutDuration(dt))return lt=null,At();if(v.stagger>0){var ft=parseFloat(v.stagger);ut={transitionDelay:ft,animationDelay:ft,transitionDuration:0,animationDuration:0}}else ut=function(n,r,i,o){var s,a="stagger-"+i;if(u.count(i)>0&&!(s=u.get(a))){var l=x(r,"-stagger");e.addClass(n,l),(s=B(t,n,o)).animationDuration=Math.max(s.animationDuration,0),s.transitionDuration=Math.max(s.transitionDuration,0),e.removeClass(n,l),u.put(a,s,!0)}return s||{}}(E,lt,dt,j);if(v.$$skipPreparationClasses||e.addClass(d,lt),v.transitionStyle){var pt=[n,v.transitionStyle];R(E,pt),tt.push(pt)}if(v.duration>=0){ht=E.style[n].length>0;var gt=G(v.duration,ht);R(E,gt),tt.push(gt)}if(v.keyframeStyle){var mt=[i,v.keyframeStyle];R(E,mt),tt.push(mt)}var yt=ut?v.staggerIndex>=0?v.staggerIndex:u.count(dt):0,_t=0===yt;_t&&!v.skipBlocking&&N(E,9999);var vt=S(E,0,dt,!ot),bt=vt.maxDelay;X=Math.max(bt,0),Z=vt.maxDuration;var xt={};if(xt.hasTransitions=vt.transitionDuration>0,xt.hasAnimations=vt.animationDuration>0,xt.hasTransitionAll=xt.hasTransitions&&"all"===vt.transitionProperty,xt.applyTransitionDuration=ct&&(xt.hasTransitions&&!xt.hasTransitionAll||xt.hasAnimations&&!xt.hasTransitions),xt.applyAnimationDuration=v.duration&&xt.hasAnimations,xt.applyTransitionDelay=z(v.delay)&&(xt.applyTransitionDuration||xt.hasTransitions),xt.applyAnimationDelay=z(v.delay)&&xt.hasAnimations,xt.recalculateTimingStyles=at.length>0,(xt.applyTransitionDuration||xt.applyAnimationDuration)&&(Z=v.duration?parseFloat(v.duration):Z,xt.applyTransitionDuration&&(xt.hasTransitions=!0,vt.transitionDuration=Z,ht=E.style[n+h].length>0,tt.push(G(Z,ht))),xt.applyAnimationDuration&&(xt.hasAnimations=!0,vt.animationDuration=Z,tt.push([g,Z+"s"]))),0===Z&&!xt.recalculateTimingStyles)return At();var St,wt=x(lt,"-active");null!=v.delay&&("boolean"!=typeof v.delay&&(St=parseFloat(v.delay),X=Math.max(St,0)),xt.applyTransitionDelay&&tt.push(U(St)),xt.applyAnimationDelay&&tt.push(U(St,!0)));return null==v.duration&&vt.transitionDuration>0&&(xt.recalculateTimingStyles=xt.recalculateTimingStyles||_t),K=X*L,J=Z*L,v.skipBlocking||(xt.blockTransition=vt.transitionDuration>0,xt.blockKeyframeAnimation=vt.animationDuration>0&&ut.animationDelay>0&&0===ut.animationDuration),v.from&&(v.cleanupStyles&&H(w,E,Object.keys(v.from)),M(d,v)),xt.blockTransition||xt.blockKeyframeAnimation?Mt(Z):v.skipBlocking||N(E,!1),{$$willAnimate:!0,end:Et,start:function(){if(!k)return F=new l(q={end:Et,cancel:Tt,resume:null,pause:null}),b(It),F}};function Et(){Ct()}function Tt(){Ct(!0)}function Ct(t){if(!(k||D&&O)){k=!0,O=!1,lt&&!v.$$skipPreparationClasses&&e.removeClass(d,lt),wt&&e.removeClass(d,wt),P(E,!1),N(E,!1),V(tt,(function(t){E.style[t[0]]=""})),_(d,v),C(d,v),Object.keys(w).length&&V(w,(function(t,e){t?E.style.setProperty(e,t):E.style.removeProperty(e)})),v.onDone&&v.onDone(),rt&&rt.length&&d.off(rt.join(" "),kt);var n=d.data($);n&&(c.cancel(n[0].timer),d.removeData($)),F&&F.complete(!t)}}function Mt(t){xt.blockTransition&&N(E,t),xt.blockKeyframeAnimation&&P(E,!!t)}function At(){return F=new l({end:Et,cancel:Tt}),b(nt),Ct(),{$$willAnimate:!1,start:function(){return F},end:Et}}function kt(t){t.stopPropagation();var e=t.originalEvent||t;if(e.target===E){var n=e.$manualTimeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(3));Math.max(n-Q,0)>=K&&r>=Z&&(D=!0,Ct())}}function It(){if(!k)if(E.parentNode){var t=function(t){if(D)O&&t&&(O=!1,Ct());else if(O=!t,vt.animationDuration){var e=P(E,O);O?tt.push(e):(r=e,i=(n=tt).indexOf(r),r>=0&&n.splice(i,1))}var n,r,i},s=yt>0&&(vt.transitionDuration&&0===ut.transitionDuration||vt.animationDuration&&0===ut.animationDuration)&&Math.max(ut.animationDelay,ut.transitionDelay);s?c(a,Math.floor(s*yt*L),!1):a(),q.resume=function(){t(!0)},q.pause=function(){t(!1)}}else Ct();function a(){if(!k){if(Mt(!1),V(tt,(function(t){var e=t[0],n=t[1];E.style[e]=n})),_(d,v),e.addClass(d,wt),xt.recalculateTimingStyles){if(E.getAttribute("class")+" "+lt,dt=u.cacheKey(E,it,v.addClass,v.removeClass),vt=S(E,0,dt,!1),bt=vt.maxDelay,X=Math.max(bt,0),0===(Z=vt.maxDuration))return void Ct();xt.hasTransitions=vt.transitionDuration>0,xt.hasAnimations=vt.animationDuration>0}if(xt.applyAnimationDelay&&(bt="boolean"!=typeof v.delay&&z(v.delay)?parseFloat(v.delay):bt,X=Math.max(bt,0),vt.animationDelay=bt,St=U(bt,!0),tt.push(St),E.style[St[0]]=St[1]),K=X*L,J=Z*L,v.easing){var t,s=v.easing;xt.hasTransitions&&(t=n+f,tt.push([t,s]),E.style[t]=s),xt.hasAnimations&&(t=i+f,tt.push([t,s]),E.style[t]=s)}vt.transitionDuration&&rt.push(r),vt.animationDuration&&rt.push(o),Q=Date.now();var a=K+1.5*J,h=Q+a,p=d.data($)||[],g=!0;if(p.length){var m=p[0];(g=h>m.expectedEndTime)?c.cancel(m.timer):p.push(Ct)}if(g){var y=c(l,a,!1);p[0]={timer:y,expectedEndTime:h},p.push(Ct),d.data($,p)}rt.length&&d.on(rt.join(" "),kt),v.to&&(v.cleanupStyles&&H(w,E,Object.keys(v.to)),A(d,v))}}function l(){var t=d.data($);if(t){for(var e=1;e<t.length;e++)t[e]();d.removeData($)}}}}}]}],it=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,o,s,a,l,c,u){if(!l.animations&&!l.transitions)return nt;var h,d=u[0].body,f=I(a),p=et((h=f).parentNode&&11===h.parentNode.nodeType||d.contains(f)?f:d);return function(o){return o.from&&o.to?function(o,a,l,c){var u=y(o),h=y(a),f=[];if(V(c,(function(o){var a=function(o,a,l){var c=et(I(a).cloneNode(!0)),u=g(b(c));a.addClass(e),l.addClass(e),c.addClass(n),p.append(c);var h,f=v();if(!f&&!(h=x()))return S();var y=f||h;return{start:function(){var t,e=y.start();return e.done((function(){if(e=null,!h&&(h=x()))return(e=h.start()).done((function(){e=null,S(),t.complete()})),e;S(),t.complete()})),t=new s({end:n,cancel:n});function n(){e&&e.end()}}};function _(t){var e={},n=I(t).getBoundingClientRect();return V(["width","height","top","left"],(function(t){var r=n[t];switch(t){case"top":r+=d.scrollTop;break;case"left":r+=d.scrollLeft}e[t]=Math.floor(r)+"px"})),e}function v(){var e=t(c,{addClass:r,delay:!0,from:_(a)});return e.$$willAnimate?e:null}function b(t){return t.attr("class")||""}function x(){var e=g(b(l)),n=m(e,u),o=m(u,e),s=t(c,{to:_(l),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return s.$$willAnimate?s:null}function S(){c.remove(),a.removeClass(e),l.removeClass(e)}}(0,o.out,o.in);a&&f.push(a)})),!u&&!h&&0===f.length)return;return{start:function(){var t=[];u&&t.push(u.start()),h&&t.push(h.start()),V(f,(function(e){t.push(e.start())}));var e=new s({end:n,cancel:n});return s.all(t,(function(t){e.complete(t)})),e;function n(){V(t,(function(t){t.end()}))}}}}(o.from,o.to,o.classes,o.anchors):y(o)};function g(t){return t.replace(/\bng-\S+\b/g,"")}function m(t,e){return Q(t)&&(t=t.split(" ")),Q(e)&&(e=e.split(" ")),t.filter((function(t){return-1===e.indexOf(t)})).join(" ")}function y(e){var n=e.element,r=e.options||{};e.structural&&(r.event=e.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===e.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=O(r.event,r.preparationClasses));var i=t(n,r);return i.$$willAnimate?i:null}}]}],ot=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,r){var i=E(r);return function(r,o,s,a){var l=!1;3===arguments.length&&J(s)&&(a=s,s=null),a=T(a),s||(s=r.attr("class")||"",a.addClass&&(s+=" "+a.addClass),a.removeClass&&(s+=" "+a.removeClass));var c,u,h,d,f,p=a.addClass,g=a.removeClass,m=function(n){n=Y(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var s=n[o],a=t.$$registeredAnimations[s];a&&!i[s]&&(r.push(e.get(a)),i[s]=!0)}return r}(s);m.length&&("leave"===o?(d="leave",h="afterLeave"):(d="before"+o.charAt(0).toUpperCase()+o.substr(1),h=o),"enter"!==o&&"move"!==o&&(c=b(r,o,a,m,d)),u=b(r,o,a,m,h));if(c||u)return{$$willAnimate:!0,end:function(){return f?f.end():(_(),(f=new n).complete(!0)),f},start:function(){if(f)return f;var t;f=new n;var e=[];return c&&e.push((function(e){t=c(e)})),e.length?e.push((function(t){y(),t(!0)})):y(),u&&e.push((function(e){t=u(e)})),f.setHost({end:function(){i()},cancel:function(){i(!0)}}),n.chain(e,r),f;function r(t){_(),f.complete(t)}function i(e){l||((t||nt)(e),r(e))}}};function y(){a.domOperation(),i(r,a)}function _(){l=!0,y(),C(r,a)}function v(t,e,r,i,o){var s=[];return V(i,(function(i){var a=i[o];a&&s.push((function(){var i,o,s=!1,l=function(t){s||(s=!0,(o||nt)(t),i.complete(!t))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=function(t,e,r,i,o){var s;switch(r){case"animate":s=[e,i.from,i.to,o];break;case"setClass":s=[e,p,g,o];break;case"addClass":s=[e,p,o];break;case"removeClass":s=[e,g,o];break;default:s=[e,o]}s.push(i);var a=t.apply(t,s);if(a)if(Z(a.start)&&(a=a.start()),a instanceof n)a.done(o);else if(Z(a))return a;return nt}(a,t,e,r,(function(t){l(!1===t)})),i}))})),s}function b(t,e,r,i,o){var s,a,l=v(t,e,r,i,o);0===l.length&&("beforeSetClass"===o?(s=v(t,"removeClass",r,i,"beforeRemoveClass"),a=v(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=v(t,"removeClass",r,i,"removeClass"),a=v(t,"addClass",r,i,"addClass")),s&&(l=l.concat(s)),a&&(l=l.concat(a)));if(0!==l.length)return function(t){var e=[];return l.length&&V(l,(function(t){e.push(t())})),e.length?n.all(e,t):t(),function(t){V(e,(function(e){t?e.cancel():e.end()}))}}}}}]}],st=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){var t=[];r&&t.push(r.start()),i&&t.push(i.start()),e.all(t,(function(t){n.complete(t)}));var n=new e({end:o(),cancel:o()});return n;function o(){return function(){V(t,(function(t){t.end()}))}}}}}return n(t)};function n(e){var n=e.element,r=e.event,i=e.options,o=e.classes;return t(n,r,o,i)}}]}],at="data-ng-animate",lt="$ngAnimatePin",ct=["$animateProvider",function(e){var n=this.rules={skip:[],cancel:[],join:[]};function r(t){return{addClass:t.addClass,removeClass:t.removeClass,from:t.from,to:t.to}}function i(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(" "),n=Object.create(null);return V(e,(function(t){n[t]=!0})),n}(e);return t.split(" ").some((function(t){return n[t]}))}}function o(t,e,r){return n[t].some((function(t){return t(e,r)}))}function l(t,e){var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}n.join.push((function(t,e){return!t.structural&&l(t)})),n.skip.push((function(t,e){return!t.structural&&!l(t)})),n.skip.push((function(t,e){return"leave"===e.event&&t.structural})),n.skip.push((function(t,e){return e.structural&&2===e.state&&!t.structural})),n.cancel.push((function(t,e){return e.structural&&t.structural})),n.cancel.push((function(t,e){return 2===e.state&&t.structural})),n.cancel.push((function(t,e){if(e.structural)return!1;var n=t.addClass,r=t.removeClass,o=e.addClass,s=e.removeClass;return!(tt(n)&&tt(r)||tt(o)&&tt(s))&&(i(n,s)||i(r,o))})),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(n,i,u,h,d,f,p,g,m,y,_){var b=new d,M=new d,A=null;function P(t){M.delete(t.target)}var R=i.$watch((function(){return 0===g.totalPendingRequests}),(function(t){t&&(R(),i.$$postDigest((function(){i.$$postDigest((function(){null===A&&(A=!0)}))})))})),N=Object.create(null),D=e.customFilter(),$=e.classNameFilter(),L=function(){return!0},F=D||L,j=$?function(t,e){var n=[t.getAttribute("class"),e.addClass,e.removeClass].join(" ");return $.test(n)}:L,U=E(m);function B(t,e){return k(t,e,{})}var z=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};function G(t,e,n){var r=w(e);return t.filter((function(t){return!(t.node===r&&(!n||t.callback===n))}))}function H(t,e){"close"!==t||e.parentNode||Z.off(e)}var Z={on:function(t,e,n){var r=w(e);N[t]=N[t]||[],N[t].push({node:r,callback:n}),et(e).on("$destroy",(function(){b.get(r)||Z.off(t,e,n)}))},off:function(t,e,n){if(1!==arguments.length||Q(arguments[0])){var r=N[t];r&&(N[t]=1===arguments.length?null:G(r,e,n))}else for(var i in e=arguments[0],N)N[i]=G(N[i],e)},pin:function(t,e){v(K(t),"element","not an element"),v(K(e),"parentElement","not an element"),t.data(lt,e)},push:function(t,e,d,g){return(d=d||{}).domOperation=g,function(t,e,d){var g=W(d),m=S(t),y=I(m),v=y&&y.parentNode;g=T(g);var w=new p,E=(P=!1,function(t){P?t():i.$$postDigest((function(){P=!0,t()}))});var P;Y(g.addClass)&&(g.addClass=g.addClass.join(" "));g.addClass&&!Q(g.addClass)&&(g.addClass=null);Y(g.removeClass)&&(g.removeClass=g.removeClass.join(" "));g.removeClass&&!Q(g.removeClass)&&(g.removeClass=null);g.from&&!J(g.from)&&(g.from=null);g.to&&!J(g.to)&&(g.to=null);if(!(A&&y&&F(y,e,d)&&j(y,g)))return ot(),w;var R=["enter","move","leave"].indexOf(e)>=0,D=_(),$=D||M.get(y),L=!$&&b.get(y)||{},G=!!L.state;$||G&&1===L.state||($=!function(t,e){var n,r=h[0].body,i=I(u),o=t===r||"HTML"===t.nodeName,s=t===i,a=!1,l=M.get(t),d=et.data(t,lt);d&&(e=I(d));for(;e&&(s||(s=e===i),1===e.nodeType);){var f=b.get(e)||{};if(!a){var p=M.get(e);if(!0===p&&!1!==l){l=!0;break}!1===p&&(l=!1),a=f.structural}if(tt(n)||!0===n){var g=et.data(e,c);X(g)&&(n=g)}if(a&&!1===n)break;if(o||(o=e===r),o&&s)break;e=s||!(d=et.data(e,lt))?e.parentNode:I(d)}return(!a||n)&&!0!==l&&s&&o}(y,v));if($)return D&&it(w,e,"start",r(g)),ot(),D&&it(w,e,"close",r(g)),w;R&&function(t){var e=t.querySelectorAll("["+at+"]");V(e,(function(t){var e=parseInt(t.getAttribute(at),10),n=b.get(t);if(n)switch(e){case 2:n.runner.end();case 1:b.delete(t)}}))}(y);var q={structural:R,element:m,event:e,addClass:g.addClass,removeClass:g.removeClass,close:ot,options:g,runner:w};if(G){if(o("skip",q,L))return 2===L.state?(ot(),w):(k(m,L,q),L.runner);if(o("cancel",q,L))if(2===L.state)L.runner.end();else{if(!L.structural)return k(m,L,q),L.runner;L.close()}else if(o("join",q,L)){if(2!==L.state)return function(t,e,n,r){var i="";n&&(i=x(n,"ng-",!0)),r.addClass&&(i=O(i,x(r.addClass,s))),r.removeClass&&(i=O(i,x(r.removeClass,a))),i.length&&(r.preparationClasses=i,e.addClass(i))}(0,m,R?e:null,g),e=q.event=L.event,g=k(m,L,q),L.runner;B(m,q)}}else B(m,q);var K=q.structural;K||(K="animate"===q.event&&Object.keys(q.options.to||{}).length>0||l(q));if(!K)return ot(),nt(y),w;var Z=(L.counter||0)+1;return q.counter=Z,rt(y,1,q),i.$$postDigest((function(){m=S(t);var n=b.get(y),i=!n;n=n||{};var o=(m.parent()||[]).length>0&&("animate"===n.event||n.structural||l(n));if(i||n.counter!==Z||!o)return i&&(U(m,g),C(m,g)),(i||R&&n.event!==e)&&(g.domOperation(),w.end()),void(o||nt(y));e=!n.structural&&l(n,!0)?"setClass":n.event,rt(y,2);var s=f(m,e,n.options);w.setHost(s),it(w,e,"start",r(g)),s.done((function(t){ot(!t);var n=b.get(y);n&&n.counter===Z&&nt(y),it(w,e,"close",r(g))}))})),w;function it(t,e,r,i){E((function(){var t=function(t,e,n){var r=[],i=N[n];return i&&V(i,(function(i){(z.call(i.node,e)||"leave"===n&&z.call(i.node,t))&&r.push(i.callback)})),r}(v,y,e);t.length?n((function(){V(t,(function(t){t(m,r,i)})),H(r,y)})):H(r,y)})),t.progress(e,r,i)}function ot(t){!function(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}(m,g),U(m,g),C(m,g),g.domOperation(),w.complete(!t)}}(t,e,d)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!A;else if(K(t)){var r=I(t);1===n?e=!M.get(r):(M.has(r)||et(t).on("$destroy",P),M.set(r,!e))}else e=A=!!t;return e}};return Z;function nt(t){t.removeAttribute(at),b.delete(t)}function rt(t,e,n){(n=n||{}).state=e,t.setAttribute(at,e);var r=b.get(t),i=r?q(r,n):n;b.set(t,i)}}]}],ut=["$animateProvider",function(t){var e="ng-animate-ref",n=this.drivers=[],r="$$animationRunner",i="$$animatePrepareClasses";function o(t){return t.data(r)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(t,s,a,c,u,h,d){var f=[],p=E(t);return function(g,m,y){y=T(y);var _=["enter","move","leave"].indexOf(m)>=0,v=new c({end:function(){M()},cancel:function(){M(!0)}});if(!n.length)return M(),v;var x=b(g.attr("class"),b(y.addClass,y.removeClass)),S=y.tempClasses;return S&&(x+=" "+S,y.tempClasses=null),_&&g.data(i,"ng-"+m+"-prepare"),function(t,e){t.data(r,e)}(g,v),f.push({element:g,classes:x,event:m,structural:_,options:y,beforeStart:function(){S=(S?S+" ":"")+l,t.addClass(g,S);var e=g.data(i);e&&(t.removeClass(g,e),e=null)},close:M}),g.on("$destroy",E),f.length>1||s.$$postDigest((function(){var r=[];V(f,(function(t){o(t.element)?r.push(t):t.close()})),f.length=0;var s=function(t){var n=[],r={};V(t,(function(t,i){var o=I(t.element),s=t.event,a=["enter","move"].indexOf(s)>=0,l=t.structural?function(t){var n="["+e+"]",r=t.hasAttribute(e)?[t]:t.querySelectorAll(n),i=[];return V(r,(function(t){var n=t.getAttribute(e);n&&n.length&&i.push(t)})),i}(o):[];if(l.length){var c=a?"to":"from";V(l,(function(t){var n=t.getAttribute(e);r[n]=r[n]||{},r[n][c]={animationID:i,element:et(t)}}))}else n.push(t)}));var i={},o={};return V(r,(function(e,r){var s=e.from,a=e.to;if(s&&a){var l=t[s.animationID],c=t[a.animationID],u=s.animationID.toString();if(!o[u]){var h=o[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:w(l.classes,c.classes),from:l,to:c,anchors:[]};h.classes.length?n.push(h):(n.push(l),n.push(c))}o[u].anchors.push({out:s.element,in:a.element})}else{var d=s?s.animationID:a.animationID,f=d.toString();i[f]||(i[f]=!0,n.push(t[d]))}})),n}(r),c=[];V(s,(function(t){var e=t.from?t.from.element:t.element,r=y.addClass;r=(r?r+" ":"")+l;var i=d.cacheKey(e[0],t.event,r,y.removeClass);c.push({element:e,domNode:I(e),fn:function(){var e,r=t.close;if(d.containsCachedAnimationWithoutDuration(i))r();else{if(t.beforeStart(),o(t.anchors?t.from.element||t.to.element:t.element)){var s=function(t){for(var e=n.length-1;e>=0;e--){var r=n[e],i=a.get(r)(t);if(i)return i}}(t);s&&(e=s.start)}if(e){var l=e();l.done((function(t){r(!t)})),function(t,e){t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element);function n(t){var n=o(t);n&&n.setHost(e)}}(t,l)}else r()}}})}));for(var p=function(t){var e,n={children:[]},r=new u;for(e=0;e<t.length;e++){var i=t[e];r.set(i.domNode,t[e]={domNode:i.domNode,element:i.element,fn:i.fn,children:[]})}for(e=0;e<t.length;e++)o(t[e]);return function(t){var e,n=[],r=[];for(e=0;e<t.children.length;e++)r.push(t.children[e]);var i=r.length,o=0,s=[];for(e=0;e<r.length;e++){var a=r[e];i<=0&&(i=o,o=0,n.push(s),s=[]),s.push(a),a.children.forEach((function(t){o++,r.push(t)})),i--}return s.length&&n.push(s),n}(n);function o(t){if(t.processed)return t;t.processed=!0;var e,i=t.domNode,s=i.parentNode;for(r.set(i,t);s;){if(e=r.get(s)){e.processed||(e=o(e));break}s=s.parentNode}return(e||n).children.push(t),t}}(c),g=0;g<p.length;g++)for(var m=p[g],_=0;_<m.length;_++){var v=m[_],b=v.element;if(p[g][_]=v.fn,0!==g){var x=b.data(i);x&&t.addClass(b,x)}else b.removeData(i)}h(p)})),v;function w(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function E(){var t=o(g);!t||"leave"===m&&y.$$domOperationFired||t.end()}function M(e){g.off("$destroy",E),function(t){t.removeData(r)}(g),p(g,y),C(g,y),y.domOperation(),S&&t.removeClass(g,S),v.complete(!e)}}}]}];e.module("ngAnimate",[],(function(){nt=e.noop,W=e.copy,q=e.extend,et=e.element,V=e.forEach,Y=e.isArray,Q=e.isString,J=e.isObject,tt=e.isUndefined,X=e.isDefined,Z=e.isFunction,K=e.isElement})).info({angularVersion:"1.8.3"}).directive("ngAnimateSwap",["$animate",function(t){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(e,n,r,i,o){var s,a;e.$watchCollection(r.ngAnimateSwap||r.for,(function(e){s&&t.leave(s),a&&(a.$destroy(),a=null),(e||0===e)&&o((function(e,r){s=e,a=r,t.enter(e,null,n)}))}))}}}]).directive("ngAnimateChildren",D).factory("$$rAFScheduler",["$$rAF",function(t){var e,n;function r(t){e=e.concat(t),i()}return e=r.queue=[],r.waitUntilQuiet=function(e){n&&n(),n=t((function(){n=null,e(),i()}))},r;function i(){if(e.length){for(var r=e.shift(),o=0;o<r.length;o++)r[o]();n||t((function(){n||i()}))}}}]).provider("$$animateQueue",ct).provider("$$animateCache",(function(){var t="$$ngAnimateParentKey",e=0,n=Object.create(null);this.$get=[function(){return{cacheKey:function(n,r,i,o){var s=n.parentNode,a=[s[t]||(s[t]=++e),r,n.getAttribute("class")];return i&&a.push(i),o&&a.push(o),a.join(" ")},containsCachedAnimationWithoutDuration:function(t){var e=n[t];return e&&!e.isValid||!1},flush:function(){n=Object.create(null)},count:function(t){var e=n[t];return e?e.total:0},get:function(t){var e=n[t];return e&&e.value},put:function(t,e,r){n[t]?(n[t].total++,n[t].value=e):n[t]={total:1,value:e,isValid:r}}}}]})).provider("$$animation",ut).provider("$animateCss",rt).provider("$$animateCssDriver",it).provider("$$animateJs",ot).provider("$$animateJsDriver",st)}(window,window.angular)},4271:(t,e,n)=>{n(7967),t.exports="ngAnimate"},1927:function(t,e){var n;void 0===(n=function(){return function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(t){function e(t){return t.$stateful=!0,t}t.decorator("dateFilter",["$delegate",e]),t.decorator("numberFilter",["$delegate",e]),t.decorator("currencyFilter",["$delegate",e])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(t){var e,n,r,i,o="angular/i18n/angular-locale_{{locale}}.js",s="tmhDynamicLocaleStorageCache",a=t,l="get",c="put",u={},h={};function d(t,e,r,i){var o=document.createElement("script"),s=n||document.getElementsByTagName("body")[0],a=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,i((function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),e())}),30,!1))}:(o.onload=function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),e())},o.onerror=function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),r())}),o.src=t,o.async=!0,s.appendChild(o)}function f(t,e,n,o,s,l,h){function f(t,e){i===n&&(angular.forEach(t,(function(n,r){e[r]?angular.isArray(e[r])&&(t[r].length=e[r].length):delete t[r]})),angular.forEach(e,(function(n,r){angular.isArray(e[r])||angular.isObject(e[r])?(t[r]||(t[r]=angular.isArray(e[r])?[]:{}),f(t[r],e[r])):t[r]=e[r]})))}if(u[n])return i=n,u[n];var p,g=s.defer();return n===i?g.resolve(e):(p=l.get(n))?(i=n,o.$evalAsync((function(){f(e,p),r[c](a,n),o.$broadcast("$localeChangeSuccess",n,e),g.resolve(e)}))):(i=n,u[n]=g.promise,d(t,(function(){var t=angular.injector(["ngLocale"]).get("$locale");f(e,t),l.put(n,t),delete u[n],o.$applyAsync((function(){r[c](a,n),o.$broadcast("$localeChangeSuccess",n,e),g.resolve(e)}))}),(function(){delete u[n],o.$applyAsync((function(){i===n&&(i=e.id),o.$broadcast("$localeChangeError",n),g.reject(n)}))}),h)),g.promise}this.localeLocationPattern=function(t){return t?(o=t,this):o},this.appendScriptTo=function(t){n=t},this.useStorage=function(t){s=t,l="get",c="put"},this.useCookieStorage=function(){angular.version.minor<7?this.useStorage("$cookieStore"):(this.useStorage("$cookies"),l="getObject",c="putObject")},this.defaultLocale=function(t){e=t},this.storageKey=function(t){return t?(a=t,this):a},this.addLocalePatternValue=function(t,e){h[t]=e},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(t,n,c,u,d,p,g){var m=c(o);return r=n.get(s),t.$evalAsync((function(){var t;(t=r[l](a)||e)&&y(t)})),{set:y,get:function(){return i}};function y(e){var n={locale:e,angularVersion:angular.version.full};return f(m(angular.extend({},h,n)),u,e,t,d,p,g)}}]}]).provider("tmhDynamicLocaleCache",(function(){this.$get=["$cacheFactory",function(t){return t("tmh.dynamicLocales")}]})).provider("tmhDynamicLocaleStorageCache",(function(){this.$get=["$cacheFactory",function(t){return t("tmh.dynamicLocales.store")}]})).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"}()}.apply(e,[]))||(t.exports=n)},6348:()=>{angular.module("gettext",[]),angular.module("gettext").constant("gettext",(function(t){return t})),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(t,e,n,r,i,o){var s,a="$$noContext",l='<span id="test" title="test" class="tested">test</span>',c=angular.element("<span>"+l+"</span>").html()!==l,u=function(t){return s.debug&&s.currentLanguage!==s.baseLanguage?s.debugPrefix+t:t},h=function(t){return s.showTranslatedMarkers?s.translatedMarkerPrefix+t+s.translatedMarkerSuffix:t};function d(){o.$broadcast("gettextLanguageChanged")}return s={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:r("strings"),setCurrentLanguage:function(t){this.currentLanguage=t,d()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(e,n){this.strings[e]||(this.strings[e]={});var r=t(e,1);for(var i in n){var o=n[i];if(c&&(i=angular.element("<span>"+i+"</span>").html()),angular.isString(o)||angular.isArray(o)){var s={};s[a]=o,o=s}for(var l in this.strings[e][i]||(this.strings[e][i]={}),o){var u=o[l];angular.isArray(u)?this.strings[e][i][l]=u:(this.strings[e][i][l]=[],this.strings[e][i][l][r]=u)}}d()},getStringFormFor:function(e,n,r,i){return e?(((this.strings[e]||{})[n]||{})[i||a]||[])[t(e,r)]:null},getString:function(t,n,r){var o=e(this.currentLanguage);return t=this.getStringFormFor(this.currentLanguage,t,1,r)||this.getStringFormFor(o,t,1,r)||u(t),t=n?i(t)(n):t,h(t)},getPlural:function(t,n,r,o,s){var a=e(this.currentLanguage);return n=this.getStringFormFor(this.currentLanguage,n,t,s)||this.getStringFormFor(a,n,t,s)||u(1===t?n:r),o&&(o.$count=t,n=i(n)(o)),h(n)},loadRemote:function(t){return n({method:"GET",url:t,cache:s.cache}).then((function(t){var e=t.data;for(var n in e)s.setStrings(n,e[n]);return t}))}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window","gettextUtil",function(t,e,n,r,i,o){var s=parseInt((/msie (\d+)/i.exec(i.navigator.userAgent)||[])[1],10),a="translateParams";function l(t,e,n){var r=Object.keys(e).filter((function(t){return o.startsWith(t,a)&&t!==a}));if(!r.length)return null;var i=t.$new(),s=[];return r.forEach((function(r){var l=t.$watch(e[r],(function(t){var e=function(t){return o.lcFirst(t.replace(a,""))}(r);i[e]=t,n(i)}));s.push(l)})),t.$on("$destroy",(function(){s.forEach((function(t){t()})),i.$destroy()})),i}return{restrict:"AE",terminal:!0,compile:function(i,a){var c=a.translate;if(!c||!c.match(/^yes|no$/i)){o.assert(!a.translatePlural||a.translateN,"translate-n","translate-plural"),o.assert(!a.translateN||a.translatePlural,"translate-plural","translate-n");var u=o.trim(i.html()),h=a.translatePlural,d=a.translateContext;return s<=8&&"\x3c!--IE fix--\x3e"===u.slice(-13)&&(u=u.slice(0,-13)),{post:function(i,s,a){var c=e(a.translateN),f=null,p=!0;function g(e){var a;e=e||null,h?((i=f||(f=i.$new())).$count=c(i),a=t.getPlural(i.$count,u,h,null,d)):a=t.getString(u,null,d);var l=s.contents();if(l||a)if(a!==o.trim(l.html())){var g=angular.element("<span>"+a+"</span>");r(g.contents())(e||i);var m=g.contents();n.enter(m,s),n.leave(l)}else p&&r(l)(i)}var m=l(i,a,g);g(m),p=!1,a.translateN&&i.$watch(a.translateN,(function(){g(m)})),i.$on("gettextLanguageChanged",(function(){g(m)}))}}}}}}]),angular.module("gettext").factory("gettextFallbackLanguage",(function(){var t={},e=/([^_]+)_[^_]+$/;return function(n){if(t[n])return t[n];var r=e.exec(n);return r?(t[n]=r[1],r[1]):null}})),angular.module("gettext").filter("translate",["gettextCatalog",function(t){function e(e,n){return t.getString(e,null,n)}return e.$stateful=!0,e}]),angular.module("gettext").factory("gettextPlurals",(function(){var t={pt_BR:"pt_BR","pt-BR":"pt_BR"};return function(e,n){switch(function(e){t[e]||(t[e]=e.split(/\-|_/).shift());return t[e]}(e)){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return n%10!=1||n%100==11?1:0;case"jv":return 0!=n?1:0;case"mk":return 1==n||n%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return n>1?1:0;case"lv":return n%10==1&&n%100!=11?0:0!=n?1:2;case"lt":return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"mnk":return 0==n?0:1==n?1:2;case"ro":return 1==n?0:0==n||n%100>0&&n%100<20?1:2;case"pl":return 1==n?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"cs":case"sk":return 1==n?0:n>=2&&n<=4?1:2;case"sl":return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0;case"mt":return 1==n?0:0==n||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3;case"gd":return 1==n||11==n?0:2==n||12==n?1:n>2&&n<20?2:3;case"cy":return 1==n?0:2==n?1:8!=n&&11!=n?2:3;case"kw":return 1==n?0:2==n?1:3==n?2:3;case"ga":return 1==n?0:2==n?1:n<7?2:n<11?3:4;case"ar":return 0==n?0:1==n?1:2==n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5;default:return 1!=n?1:0}}})),angular.module("gettext").factory("gettextUtil",(function(){return{trim:String.prototype.trim?function(t){return"string"==typeof t?t.trim():t}:function(t){return"string"==typeof t?t.replace(/^\s*/,"").replace(/\s*$/,""):t},assert:function(t,e,n){if(!t)throw new Error("You should add a "+e+" attribute whenever you add a "+n+" attribute.")},startsWith:function(t,e){return 0===t.indexOf(e)},lcFirst:function(t){return t.charAt(0).toLowerCase()+t.substr(1)}}}))},9163:(t,e,n)=>{n(6348),t.exports="gettext"},1221:()=>{!function(t,e){"use strict";var n,r,i,o,s,a,l,c,u,h,d=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",(function(){var f=!1,p=!1;this.$get=["$$sanitizeUri",function(t){return f=!0,p&&r(T,w),function(e){var n=[];return u(e,h(n,(function(e,n){return!/^unsafe:/.test(t(e,n))}))),n.join("")}}],this.enableSvg=function(t){return s(t)?(p=t,this):p},this.addValidElements=function(t){return f||(o(t)&&(t={htmlElements:t}),R(w,t.svgElements),R(y,t.htmlVoidElements),R(T,t.htmlVoidElements),R(T,t.htmlElements)),this},this.addValidAttrs=function(t){return f||r(k,P(t,!0)),this},n=e.bind,r=e.extend,i=e.forEach,o=e.isArray,s=e.isDefined,a=e.$$lowercase,l=e.noop,u=function(t,e){null==t?t="":"string"!=typeof t&&(t=""+t);var n=O(t);if(!n)return"";var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,t=n.innerHTML,n=O(t)}while(t!==n.innerHTML);var i=n.firstChild;for(;i;){switch(i.nodeType){case 1:e.start(i.nodeName.toLowerCase(),N(i.attributes));break;case 3:e.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1===i.nodeType&&e.end(i.nodeName.toLowerCase()),o=L("nextSibling",i))))for(;null==o&&(i=L("parentNode",i))!==n;)o=L("nextSibling",i),1===i.nodeType&&e.end(i.nodeName.toLowerCase());i=o}for(;i=n.firstChild;)n.removeChild(i)},h=function(t,e){var r=!1,o=n(t,t.push);return{start:function(t,n){t=a(t),!r&&E[t]&&(r=t),r||!0!==T[t]||(o("<"),o(t),i(n,(function(n,r){var i=a(r),s="img"===t&&"src"===i||"background"===i;!0!==k[i]||!0===C[i]&&!e(n,s)||(o(" "),o(r),o('="'),o(D(n)),o('"'))})),o(">"))},end:function(t){t=a(t),r||!0!==T[t]||!0===y[t]||(o("</"),o(t),o(">")),t==r&&(r=!1)},chars:function(t){r||o(D(t))}}},c=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/([^#-~ |!])/g,y=I("area,br,col,hr,img,wbr"),_=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=I("rp,rt"),b=r({},v,_),x=r({},_,I("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),S=r({},v,I("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=I("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),E=I("script,style"),T=r({},y,x,S,b),C=I("background,cite,href,longdesc,src,xlink:href,xml:base"),M=I("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),A=I("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),k=r({},C,A,M);function I(t,e){return P(t.split(","),e)}function P(t,e){var n,r={};for(n=0;n<t.length;n++)r[e?a(t[n]):t[n]]=!0;return r}function R(t,e){e&&e.length&&r(t,P(e))}var O=function(t,e){if(function(){try{return!!i("")}catch(t){return!1}}())return i;if(!e||!e.implementation)throw d("noinert","Can't create an inert html document");var n=e.implementation.createHTMLDocument("inert"),r=(n.documentElement||n.getDocumentElement()).querySelector("body");return function(t){r.innerHTML=t,e.documentMode&&$(r);return r};function i(e){e="<remove></remove>"+e;try{var n=(new t.DOMParser).parseFromString(e,"text/html").body;return n.firstChild.remove(),n}catch(t){return}}}(t,t.document);function N(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n];e[i.name]=i.value}return e}function D(t){return t.replace(/&/g,"&amp;").replace(g,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(m,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,r=0,i=n.length;r<i;r++){var o=n[r],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.lastIndexOf("ns1:",0)||(e.removeAttributeNode(o),r--,i--)}var a=e.firstChild;a&&$(a),e=L("nextSibling",e)}}function L(t,e){var n=e[t];if(n&&c.call(e,n))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return n}})).info({angularVersion:"1.8.3"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=e.$$minErr("linky"),o=e.isDefined,s=e.isFunction,a=e.isObject,c=e.isString;return function(e,u,d){if(null==e||""===e)return e;if(!c(e))throw i("notstring","Expected string but received: {0}",e);for(var f,p,g,m=s(d)?d:a(d)?function(){return d}:function(){return{}},y=e,_=[];f=y.match(n);)p=f[0],f[2]||f[4]||(p=(f[3]?"http://":"mailto:")+p),g=f.index,v(y.substr(0,g)),b(p,f[0].replace(r,"")),y=y.substring(g+f[0].length);return v(y),t(_.join(""));function v(t){var e,n;t&&_.push((e=t,h(n=[],l).chars(e),n.join("")))}function b(t,e){var n,r=m(t);for(n in _.push("<a "),r)_.push(n+'="'+r[n]+'" ');o(u)&&!("target"in r)&&_.push('target="',u,'" '),_.push('href="',t.replace(/"/g,"&quot;"),'">'),v(e),_.push("</a>")}}}])}(window,window.angular)},6415:(t,e,n)=>{n(1221),t.exports="ngSanitize"},3503:()=>{!function(t,e){"use strict";var n=e.module("ngTouch",[]);function r(t,r,i){n.directive(t,["$parse","$swipe",function(n,o){return function(s,a,l){var c,u,h=n(l[t]);var d=["touch"];e.isDefined(l.ngSwipeDisableMouse)||d.push("mouse"),o.bind(a,{start:function(t,e){c=t,u=!0},cancel:function(t){u=!1},end:function(t,e){(function(t){if(!c)return!1;var e=Math.abs(t.y-c.y),n=(t.x-c.x)*r;return u&&e<75&&n>0&&n>30&&e/n<.3})(t)&&s.$apply((function(){a.triggerHandler(i),h(s,{$event:e})}))}},d)}}])}n.info({angularVersion:"1.8.3"}),n.factory("$swipe",[function(){var t={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function n(t){var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],r=e.changedTouches&&e.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function r(n,r){var i=[];return e.forEach(n,(function(e){var n=t[e][r];n&&i.push(n)})),i.join(" ")}return{bind:function(t,e,i){var o,s,a,l,c=!1;i=i||["mouse","touch","pointer"],t.on(r(i,"start"),(function(t){a=n(t),c=!0,o=0,s=0,l=a,e.start&&e.start(a,t)}));var u=r(i,"cancel");u&&t.on(u,(function(t){c=!1,e.cancel&&e.cancel(t)})),t.on(r(i,"move"),(function(t){if(c&&a){var r=n(t);if(o+=Math.abs(r.x-l.x),s+=Math.abs(r.y-l.y),l=r,!(o<10&&s<10))return s>o?(c=!1,void(e.cancel&&e.cancel(t))):(t.preventDefault(),void(e.move&&e.move(r,t)))}})),t.on(r(i,"end"),(function(t){c&&(c=!1,e.end&&e.end(n(t),t))}))}}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular)},6751:(t,e,n)=>{n(3503),t.exports="ngTouch"},1055:(t,e,n)=>{var r=n(4692);!function(t){"use strict";var e={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(t){if(!B(t))return e;U(t.objectMaxDepth)&&(e.objectMaxDepth=i(t.objectMaxDepth)?t.objectMaxDepth:NaN),U(t.urlErrorParamsEnabled)&&J(t.urlErrorParamsEnabled)&&(e.urlErrorParamsEnabled=t.urlErrorParamsEnabled)}function i(t){return H(t)&&t>0}function o(t,n){n=n||Error;var r="https://errors.angularjs.org/1.8.3/",i=r.replace(".","\\.")+"[\\s\\S]*",o=new RegExp(i,"g");return function(){var i,s,a=arguments[0],l=arguments[1],c="["+(t?t+":":"")+a+"] ",u=ft(arguments,2).map((function(t){return Wt(t,e.objectMaxDepth)}));if(c+=l.replace(/\{\d+\}/g,(function(t){var e=+t.slice(1,-1);return e<u.length?u[e].replace(o,""):t})),c+="\n"+r+(t?t+"/":"")+a,e.urlErrorParamsEnabled)for(s=0,i="?";s<u.length;s++,i="&")c+=i+"p"+s+"="+encodeURIComponent(u[s]);return new n(c)}}var s,a,l,c,u=/^\/(.+)\/([a-z]*)$/,h="validity",d=Object.prototype.hasOwnProperty,f=function(t){return G(t)?t.toLowerCase():t},p=function(t){return G(t)?t.toUpperCase():t},g=[].slice,m=[].splice,y=[].push,_=Object.prototype.toString,v=Object.getPrototypeOf,b=o("ng"),x=t.angular||(t.angular={}),S=0;function w(t){if(null==t||K(t))return!1;if(q(t)||G(t)||a&&t instanceof a)return!0;var e="length"in Object(t)&&t.length;return H(e)&&(e>=0&&e-1 in t||"function"==typeof t.item)}function E(t,e,n){var r,i;if(t)if(Y(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if(q(t)||w(t)){var o="object"!=typeof t;for(r=0,i=t.length;r<i;r++)(o||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==E)t.forEach(e,n,t);else if(z(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)d.call(t,r)&&e.call(n,t[r],r,t);return t}function T(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function C(t){return function(e,n){t(n,e)}}function M(){return++S}function A(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function k(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var s=e[i];if(B(s)||Y(s))for(var a=Object.keys(s),l=0,c=a.length;l<c;l++){var u=a[l],h=s[u];n&&B(h)?W(h)?t[u]=new Date(h.valueOf()):X(h)?t[u]=new RegExp(h):h.nodeName?t[u]=h.cloneNode(!0):rt(h)?t[u]=h.clone():"__proto__"!==u&&(B(t[u])||(t[u]=q(h)?[]:{}),k(t[u],[h],!0)):t[u]=h}}return A(t,r),t}function I(t){return k(t,g.call(arguments,1),!1)}function P(t){return k(t,g.call(arguments,1),!0)}function R(t){return parseInt(t,10)}s=t.document.documentMode;var O=Number.isNaN||function(t){return t!=t};function N(t,e){return I(Object.create(t),e)}function D(){}function $(t){return t}function L(t){return function(){return t}}function F(t){return Y(t.toString)&&t.toString!==_}function j(t){return void 0===t}function U(t){return void 0!==t}function B(t){return null!==t&&"object"==typeof t}function z(t){return null!==t&&"object"==typeof t&&!v(t)}function G(t){return"string"==typeof t}function H(t){return"number"==typeof t}function W(t){return"[object Date]"===_.call(t)}function q(t){return Array.isArray(t)||t instanceof Array}function V(t){switch(_.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function Y(t){return"function"==typeof t}function X(t){return"[object RegExp]"===_.call(t)}function K(t){return t&&t.window===t}function Z(t){return t&&t.$evalAsync&&t.$watch}function J(t){return"boolean"==typeof t}function Q(t){return t&&Y(t.then)}D.$inject=[],$.$inject=[];var tt=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var et=function(t){return G(t)?t.trim():t},nt=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function rt(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function it(t){return f(t.nodeName||t[0]&&t[0].nodeName)}function ot(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function st(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function at(t,e,n){var r,o,s=[],a=[];if(n=i(n)?n:NaN,e){if((o=e)&&H(o.length)&&tt.test(_.call(o))||(r=e,"[object ArrayBuffer]"===_.call(r)))throw b("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw b("cpi","Can't copy! Source and destination are identical.");return q(e)?e.length=0:E(e,(function(t,n){"$$hashKey"!==n&&delete e[n]})),s.push(t),a.push(e),l(t,e,n)}return c(t,n);function l(t,e,n){if(--n<0)return"...";var r,i=e.$$hashKey;if(q(t))for(var o=0,s=t.length;o<s;o++)e.push(c(t[o],n));else if(z(t))for(r in t)e[r]=c(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=c(t[r],n));else for(r in t)d.call(t,r)&&(e[r]=c(t[r],n));return A(e,i),e}function c(t,e){if(!B(t))return t;var n=s.indexOf(t);if(-1!==n)return a[n];if(K(t)||Z(t))throw b("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(t){switch(_.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(c(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(Y(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===i&&(i=q(t)?[]:Object.create(v(t)),r=!0),s.push(t),a.push(i),r?l(t,i,e):i}}function lt(t,e){return t===e||t!=t&&e!=e}function ct(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,r,i,o=typeof t;if(o===typeof e&&"object"===o){if(!q(t)){if(W(t))return!!W(e)&&lt(t.getTime(),e.getTime());if(X(t))return!!X(e)&&t.toString()===e.toString();if(Z(t)||Z(e)||K(t)||K(e)||q(e)||W(e)||X(e))return!1;for(r in i=Bt(),t)if("$"!==r.charAt(0)&&!Y(t[r])){if(!ct(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&U(e[r])&&!Y(e[r]))return!1;return!0}if(!q(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!ct(t[r],e[r]))return!1;return!0}}return!1}var ut=function(){if(!U(ut.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ut.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ut.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return ut.rules},ht=function(){if(U(ht.name_))return ht.name_;var e,n,r,i,o=Mt.length;for(n=0;n<o;++n)if(r=Mt[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return ht.name_=i};function dt(t,e,n){return t.concat(g.call(e,n))}function ft(t,e){return g.call(t,e||0)}function pt(t,e){var n=arguments.length>2?ft(arguments,2):[];return!Y(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,dt(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function gt(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:K(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":Z(n)&&(r="$SCOPE"),r}function mt(t,e){if(!j(t))return H(e)||(e=e?2:null),JSON.stringify(t,gt,e)}function yt(t){return G(t)?JSON.parse(t):t}var _t=/:/g;function vt(t,e){t=t.replace(_t,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return O(n)?e:n}function bt(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function xt(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return bt(t,n*(vt(e,r)-r))}function St(t){t=a(t).clone().empty();var e=a("<div></div>").append(t).html();try{return t[0].nodeType===Gt?f(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(t,e){return"<"+f(e)}))}catch(t){return f(e)}}function wt(t){try{return decodeURIComponent(t)}catch(t){}}function Et(t){var e={};return E((t||"").split("&"),(function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(r=t.substring(0,n),i=t.substring(n+1)),U(r=wt(r))&&(i=!U(i)||wt(i),d.call(e,r)?q(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))})),e}function Tt(t){return Ct(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ct(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var Mt=["ng-","data-ng-","ng:","x-ng-"];var At=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every((function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(t.document);function kt(e,n){var r,i,o={};if(E(Mt,(function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,i=e.getAttribute(n))})),E(Mt,(function(t){var n,o=t+"app";!r&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))})),r){if(!At)return void t.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(t,e){var n,r,i=Mt.length;for(r=0;r<i;++r)if(n=Mt[r]+e,G(n=t.getAttribute(n)))return n;return null}(r,"strict-di"),n(r,i?[i]:[],o)}}function It(e,n,r){B(r)||(r={});r=I({strictDi:!1},r);var i=function(){if((e=a(e)).injector()){var i=e[0]===t.document?"document":St(e);throw b("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Qe(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply((function(){e.data("$injector",r),n(e)(t)}))}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&o.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(o,"")),t&&!s.test(t.name))return i();t.name=t.name.replace(s,""),x.resumeBootstrap=function(t){return E(t,(function(t){n.push(t)})),i()},Y(x.resumeDeferredBootstrap)&&x.resumeDeferredBootstrap()}function Pt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function Rt(t){var e=x.element(t).injector();if(!e)throw b("test","no injector found for element argument to getTestability");return e.get("$$testability")}var Ot=/[A-Z]/g;function Nt(t,e){return e=e||"_",t.replace(Ot,(function(t,n){return(n?e:"")+t.toLowerCase()}))}var Dt=!1;function $t(){pe.legacyXHTMLReplacement=!0}function Lt(t,e,n){if(!t)throw b("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function Ft(t,e,n){return n&&q(t)&&(t=t[t.length-1]),Lt(Y(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function jt(t,e){if("hasOwnProperty"===t)throw b("badname","hasOwnProperty is not a valid {0} name",e)}function Ut(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=a(g.call(t,0,i))),e.push(n));return e||t}function Bt(){return Object.create(null)}function zt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!F(t)||q(t)||W(t)?mt(t):t.toString()}return t}var Gt=3;function Ht(t,e){if(q(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(B(t))for(var i in e=e||{},t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i]);return e||t}function Wt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):j(t)?"undefined":"string"!=typeof t?function(t,e){var n=[];return i(e)&&(t=x.copy(t,null,e)),JSON.stringify(t,(function(t,e){if(B(e=gt(t,e))){if(n.indexOf(e)>=0)return"...";n.push(e)}return e}))}(t,e):t}var qt={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};pe.expando="ng339";var Vt=pe.cache={},Yt=1;pe._data=function(t){return this.cache[t[this.expando]]||{}};var Xt=/-([a-z])/g,Kt=/^-ms-/,Zt={mouseleave:"mouseout",mouseenter:"mouseover"},Jt=o("jqLite");function Qt(t,e){return e.toUpperCase()}function te(t){return t.replace(Xt,Qt)}var ee=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ne=/<|&#?\w+;/,re=/<([\w:-]+)/,ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td;var se={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var ae in oe){var le=oe[ae],ce=le.slice().reverse();se[ae]=[ce.length,"<"+ce.join("><")+">","</"+le.join("></")+">"]}function ue(t){return!ne.test(t)}function he(t){var e=t.nodeType;return 1===e||!e||9===e}function de(e,n){var r,i,o,a,l,c=n.createDocumentFragment(),u=[];if(ue(e))u.push(n.createTextNode(e));else{if(r=c.appendChild(n.createElement("div")),i=(re.exec(e)||["",""])[1].toLowerCase(),a=pe.legacyXHTMLReplacement?e.replace(ie,"<$1></$2>"):e,s<10)for(o=se[i]||se._default,r.innerHTML=o[1]+a+o[2],l=o[0];l--;)r=r.firstChild;else{for(l=(o=oe[i]||[]).length;--l>-1;)r.appendChild(t.document.createElement(o[l])),r=r.firstChild;r.innerHTML=a}u=dt(u,r.childNodes),(r=c.firstChild).textContent=""}return c.textContent="",c.innerHTML="",E(u,(function(t){c.appendChild(t)})),c}se.optgroup=se.option;var fe=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function pe(e){if(e instanceof pe)return e;var n,r,i,o;if(G(e)&&(e=et(e),n=!0),!(this instanceof pe)){if(n&&"<"!==e.charAt(0))throw Jt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new pe(e)}n?Ce(this,(r=e,i=i||t.document,(o=ee.exec(r))?[i.createElement(o[1])]:(o=de(r,i))?o.childNodes:[])):Y(e)?Pe(e):Ce(this,e)}function ge(t){return t.cloneNode(!0)}function me(t,e){!e&&he(t)&&a.cleanData([t]),t.querySelectorAll&&a.cleanData(t.querySelectorAll("*"))}function ye(t){var e;for(e in t)return!1;return!0}function _e(t){var e=t.ng339,n=e&&Vt[e],r=n&&n.events,i=n&&n.data;i&&!ye(i)||r&&!ye(r)||(delete Vt[e],t.ng339=void 0)}function ve(t,e,n,r){if(U(r))throw Jt("offargs","jqLite#off() does not support the `selector` argument");var i=xe(t),o=i&&i.events,s=i&&i.handle;if(s){if(e){var a=function(e){var r=o[e];U(n)&&st(r||[],n),U(n)&&r&&r.length>0||(t.removeEventListener(e,s),delete o[e])};E(e.split(" "),(function(t){a(t),Zt[t]&&a(Zt[t])}))}else for(e in o)"$destroy"!==e&&t.removeEventListener(e,s),delete o[e];_e(t)}}function be(t,e){var n=t.ng339,r=n&&Vt[n];r&&(e?delete r.data[e]:r.data={},_e(t))}function xe(t,e){var n=t.ng339,r=n&&Vt[n];return e&&!r&&(t.ng339=n=++Yt,r=Vt[n]={events:{},data:{},handle:void 0}),r}function Se(t,e,n){if(he(t)){var r,i=U(n),o=!i&&e&&!B(e),s=!e,a=xe(t,!o),l=a&&a.data;if(i)l[te(e)]=n;else{if(s)return l;if(o)return l&&l[te(e)];for(r in e)l[te(r)]=e[r]}}}function we(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Ee(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;E(e.split(" "),(function(t){t=et(t),r=r.replace(" "+t+" "," ")})),r!==n&&t.setAttribute("class",et(r))}}function Te(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;E(e.split(" "),(function(t){t=et(t),-1===r.indexOf(" "+t+" ")&&(r+=t+" ")})),r!==n&&t.setAttribute("class",et(r))}}function Ce(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Me(t,e){return Ae(t,"$"+(e||"ngController")+"Controller")}function Ae(t,e,n){9===t.nodeType&&(t=t.documentElement);for(var r=q(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(U(n=a.data(t,r[i])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function ke(t){for(me(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ie(t,e){e||me(t);var n=t.parentNode;n&&n.removeChild(t)}function Pe(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}var Re=pe.prototype={ready:Pe,toString:function(){var t=[];return E(this,(function(e){t.push(""+e)})),"["+t.join(", ")+"]"},eq:function(t){return a(t>=0?this[t]:this[this.length+t])},length:0,push:y,sort:[].sort,splice:[].splice},Oe={};E("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(t){Oe[f(t)]=t}));var Ne={};E("input,select,option,textarea,button,form,details".split(","),(function(t){Ne[t]=!0}));var De={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function $e(t,e){var n=Oe[e.toLowerCase()];return n&&Ne[it(t)]&&n}function Le(t,e,n){n.call(t,e)}function Fe(t,e,n){var r=e.relatedTarget;r&&(r===t||fe.call(t,r))||n.call(t,e)}function je(){this.$get=function(){return I(pe,{hasClass:function(t,e){return t.attr&&(t=t[0]),we(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Te(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ee(t,e)}})}}function Ue(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||M)():r+":"+t}E({data:Se,removeData:be,hasData:function(t){for(var e in Vt[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)be(t[e]),ve(t[e])}},(function(t,e){pe[e]=t})),E({data:Se,inheritedData:Ae,scope:function(t){return a.data(t,"$scope")||Ae(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return a.data(t,"$isolateScope")||a.data(t,"$isolateScopeNoTemplate")},controller:Me,injector:function(t){return Ae(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:we,css:function(t,e,n){if(e=function(t){return te(t.replace(Kt,"ms-"))}(e),!U(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r,i=t.nodeType;if(i!==Gt&&2!==i&&8!==i&&t.getAttribute){var o=f(e),s=Oe[o];if(!U(n))return r=t.getAttribute(e),s&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&s?t.removeAttribute(e):t.setAttribute(e,s?o:n)}},prop:function(t,e,n){if(!U(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(j(e)){var n=t.nodeType;return 1===n||n===Gt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(j(e)){if(t.multiple&&"select"===it(t)){var n=[];return E(t.options,(function(t){t.selected&&n.push(t.value||t.text)})),n}return t.value}t.value=e},html:function(t,e){if(j(e))return t.innerHTML;me(t,!0),t.innerHTML=e},empty:ke},(function(t,e){pe.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==ke&&j(2===t.length&&t!==we&&t!==Me?e:n)){if(B(e)){for(r=0;r<o;r++)if(t===Se)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var s=t.$dv,a=j(s)?Math.min(o,1):o,l=0;l<a;l++){var c=t(this[l],e,n);s=s?s+c:c}return s}for(r=0;r<o;r++)t(this[r],e,n);return this}})),E({removeData:be,on:function(t,e,n,r){if(U(r))throw Jt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(he(t)){var i=xe(t,!0),o=i.events,s=i.handle;s||(s=i.handle=function(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(j(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=i.specialHandlerWrapper||Le;o>1&&(i=Ht(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||a(t,n,i[l])}};return n.elem=t,n}(t,o));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],l=a.length,c=function(e,r,i){var a=o[e];a||((a=o[e]=[]).specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,s)),a.push(n)};l--;)e=a[l],Zt[e]?(c(Zt[e],Fe),c(e,void 0,!0)):c(e)}},off:ve,one:function(t,e,n){(t=a(t)).on(e,(function r(){t.off(e,n),t.off(e,r)})),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;me(t),E(new pe(e),(function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e}))},children:function(t){var e=[];return E(t.childNodes,(function(t){1===t.nodeType&&e.push(t)})),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(1===n||11===n)for(var r=0,i=(e=new pe(e)).length;r<i;r++){var o=e[r];t.appendChild(o)}},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;E(new pe(e),(function(e){t.insertBefore(e,n)}))}},wrap:function(t,e){var n,r,i;n=t,r=a(e).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:Ie,detach:function(t){Ie(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r)for(var i=0,o=(e=new pe(e)).length;i<o;i++){var s=e[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:Te,removeClass:Ee,toggleClass:function(t,e,n){e&&E(e.split(" "),(function(e){var r=n;j(r)&&(r=!we(t,e)),(r?Te:Ee)(t,e)}))},parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:ge,triggerHandler:function(t,e,n){var r,i,o,s=e.type||e,a=xe(t),l=a&&a.events,c=l&&l[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:D,type:s,target:t},e.type&&(r=I(r,e)),i=Ht(c),o=n?[r].concat(n):[r],E(i,(function(e){r.isImmediatePropagationStopped()||e.apply(t,o)})))}},(function(t,e){pe.prototype[e]=function(e,n,r){for(var i,o=0,s=this.length;o<s;o++)j(i)?U(i=t(this[o],e,n,r))&&(i=a(i)):Ce(i,t(this[o],e,n,r));return U(i)?i:this}})),pe.prototype.bind=pe.prototype.on,pe.prototype.unbind=pe.prototype.off;var Be=Object.create(null);function ze(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}ze.prototype={_idx:function(t){return t!==this._lastKey&&(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return O(t)?Be:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},has:function(t){return t=this._transformKey(t),-1!==this._idx(t)},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ge=ze,He=[function(){this.$get=[function(){return Ge}]}],We=/^([^(]+?)=>/,qe=/^[^(]*\(\s*([^)]*)\)/m,Ve=/,/,Ye=/^\s*(_?)(\S+?)\1\s*$/,Xe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ke=o("$injector");function Ze(t){return Function.prototype.toString.call(t)}function Je(t){var e=Ze(t).replace(Xe,"");return e.match(We)||e.match(qe)}function Qe(t,e){e=!0===e;var n={},r="Provider",i=[],o=new Ge,a={$provide:{provider:p(g),factory:p(y),service:p((function(t,e){return y(t,["$injector",function(t){return t.instantiate(e)}])})),value:p((function(t,e){return y(t,L(e),!1)})),constant:p((function(t,e){jt(t,"constant"),a[t]=e,u[t]=e})),decorator:function(t,e){var n=l.get(t+r),i=n.$get;n.$get=function(){var t=d.invoke(i,n);return d.invoke(e,null,{$delegate:t})}}}},l=a.$injector=v(a,(function(t,e){throw x.isString(e)&&i.push(e),Ke("unpr","Unknown provider: {0}",i.join(" <- "))})),u={},h=v(u,(function(t,e){var n=l.get(t+r,e);return d.invoke(n.$get,n,void 0,t)})),d=h;a["$injector"+r]={$get:L(h)},d.modules=l.modules=Bt();var f=_(t);return(d=h.get("$injector")).strictDi=e,E(f,(function(t){t&&d.invoke(t)})),d.loadNewModules=function(t){E(_(t),(function(t){t&&d.invoke(t)}))},d;function p(t){return function(e,n){if(!B(e))return t(e,n);E(e,C(t))}}function g(t,e){if(jt(t,"service"),(Y(e)||q(e))&&(e=l.instantiate(e)),!e.$get)throw Ke("pget","Provider '{0}' must define $get factory method.",t);return a[t+r]=e}function m(t,e){return function(){var n=d.invoke(e,this);if(j(n))throw Ke("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function y(t,e,n){return g(t,{$get:!1!==n?m(t,e):e})}function _(t){Lt(j(t)||q(t),"modulesToLoad","not an array");var e,n=[];return E(t,(function(t){if(!o.get(t)){o.set(t,!0);try{G(t)?(e=c(t),d.modules[t]=e,n=n.concat(_(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):Y(t)||q(t)?n.push(l.invoke(t)):Ft(t,"module")}catch(e){throw q(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ke("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=l.get(r[0]);i[r[1]].apply(i,r[2])}}})),n}function v(t,o){function l(e,r){if(t.hasOwnProperty(e)){if(t[e]===n)throw Ke("cdep","Circular dependency found: {0}",e+" <- "+i.join(" <- "));return t[e]}try{return i.unshift(e),t[e]=n,t[e]=o(e,r),t[e]}catch(r){throw t[e]===n&&delete t[e],r}finally{i.shift()}}function c(t,n,r){for(var i=[],o=Qe.$$annotate(t,e,r),s=0,a=o.length;s<a;s++){var c=o[s];if("string"!=typeof c)throw Ke("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:l(c,r))}return i}return{invoke:function(t,e,n,r){"string"==typeof n&&(r=n,n=null);var i=c(t,n,r);return q(t)&&(t=t[t.length-1]),function(t){if(s||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return J(e)||(e=t.$$ngIsClass=/^class\b/.test(Ze(t))),e}(t)?(i.unshift(null),new(Function.prototype.bind.apply(t,i))):t.apply(e,i)},instantiate:function(t,e,n){var r=q(t)?t[t.length-1]:t,i=c(t,e,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:l,annotate:Qe.$$annotate,has:function(e){return a.hasOwnProperty(e+r)||t.hasOwnProperty(e)}}}}function tn(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){var o=n.document;function s(t){if(t){t.scrollIntoView();var e=function(){var t=l.yOffset;if(Y(t))t=t();else if(rt(t)){var e=t[0];t="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else H(t)||(t=0);return t}();if(e){var r=t.getBoundingClientRect().top;n.scrollBy(0,r-e)}}else n.scrollTo(0,0)}function l(t){var e,n,i;(t=G(t)?t:H(t)?t.toString():r.hash())?(e=o.getElementById(t))?s(e):(n=o.getElementsByName(t),i=null,Array.prototype.some.call(n,(function(t){if("a"===it(t))return i=t,!0})),(e=i)?s(e):"top"===t&&s(null)):s(null)}return e&&i.$watch((function(){return r.hash()}),(function(e,n){var r,o;e===n&&""===e||(r=function(){i.$evalAsync(l)},"complete"===(o=o||t).document.readyState?o.setTimeout(r):a(o).on("load",r))})),l}]}Qe.$$annotate=function(t,e,n){var r,i;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw G(n)&&n||(n=t.name||function(t){var e=Je(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),Ke("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);E(Je(t)[1].split(Ve),(function(t){t.replace(Ye,(function(t,e,n){r.push(n)}))}))}t.$inject=r}}else q(t)?(Ft(t[i=t.length-1],"fn"),r=t.slice(0,i)):Ft(t,"fn",!0);return r};var en=o("$animate"),nn="ng-animate";function rn(t,e){return t||e?t?e?(q(t)&&(t=t.join(" ")),q(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function on(t){return B(t)?t:{}}var sn=function(){this.$get=D},an=function(){var t=new Ge,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:D,on:D,off:D,pin:D,push:function(s,a,l,c){c&&c(),(l=l||{}).from&&s.css(l.from),l.to&&s.css(l.to),(l.addClass||l.removeClass)&&function(n,s,a){var l=t.get(n)||{},c=i(l,s,!0),u=i(l,a,!1);(c||u)&&(t.set(n,l),e.push(n),1===e.length&&r.$$postDigest(o))}(s,l.addClass,l.removeClass);var u=new n;return u.complete(),u}};function i(t,e,n){var r=!1;return e&&E(e=G(e)?e.split(" "):q(e)?e:[],(function(e){e&&(r=!0,t[e]=n)})),r}function o(){E(e,(function(e){var n=t.get(e);if(n){var r=function(t){G(t)&&(t=t.split(" "));var e=Bt();return E(t,(function(t){t.length&&(e[t]=!0)})),e}(e.attr("class")),i="",o="";E(n,(function(t,e){t!==!!r[e]&&(t?i+=(i.length?" ":"")+e:o+=(o.length?" ":"")+e)})),E(e,(function(t){i&&Te(t,i),o&&Ee(t,o)})),t.delete(e)}})),e.length=0}}]},ln=["$provide",function(t){var e=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw en("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.customFilter=function(t){return 1===arguments.length&&(r=Y(t)?t:null),r},this.classNameFilter=function(t){if(1===arguments.length&&((n=t instanceof RegExp?t:null)&&new RegExp("[(\\s|\\/)]"+nn+"[(\\s|\\/)]").test(n.toString())))throw n=null,en("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',nn);return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(1===n.nodeType)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.cancel&&t.cancel()},enter:function(n,r,i,o){return r=r&&a(r),i=i&&a(i),e(n,r=r||i.parent(),i),t.push(n,"enter",on(o))},move:function(n,r,i,o){return r=r&&a(r),i=i&&a(i),e(n,r=r||i.parent(),i),t.push(n,"move",on(o))},leave:function(e,n){return t.push(e,"leave",on(n),(function(){e.remove()}))},addClass:function(e,n,r){return(r=on(r)).addClass=rn(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return(r=on(r)).removeClass=rn(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return(i=on(i)).addClass=rn(i.addClass,n),i.removeClass=rn(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return(o=on(o)).from=o.from?I(o.from,n):n,o.to=o.to?I(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=rn(o.tempClasses,i),t.push(e,"animate",o)}}}]}],cn=function(){this.$get=["$$rAF",function(t){var e=[];function n(n){e.push(n),e.length>1||t((function(){for(var t=0;t<e.length;t++)e[t]();e=[]}))}return function(){var t=!1;return n((function(){t=!0})),function(e){t?e():n(e)}}}]},un=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function o(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){r()?function(t){i(t,0,!1)}(t):e(t)},this._state=0}return o.chain=function(t,e){var n=0;!function r(){if(n===t.length)return void e(!0);t[n]((function(t){!1!==t?(n++,r()):e(!1)}))}()},o.all=function(t,e){var n=0,r=!0;function i(i){r=r&&i,++n===t.length&&e(r)}E(t,(function(t){t.done(i)}))},o.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:D,getPromise:function(){if(!this.promise){var e=this;this.promise=t((function(t,n){e.done((function(e){!1===e?n():t()}))}))}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick((function(){e._resolve(t)})))},_resolve:function(t){2!==this._state&&(E(this._doneCallbacks,(function(e){e(t)})),this._doneCallbacks.length=0,this._state=2)}},o}]},hn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){var i=r||{};i.$$prepared||(i=at(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(e.css(i.from),i.from=null);var o,s=new n;return{start:a,end:a};function a(){return t((function(){!function(){i.addClass&&(e.addClass(i.addClass),i.addClass=null);i.removeClass&&(e.removeClass(i.removeClass),i.removeClass=null);i.to&&(e.css(i.to),i.to=null)}(),o||s.complete(),o=!0})),s}}}]};function dn(t,e,n,r,i){var o=this,s=t.location,l=t.history,c=t.setTimeout,u=t.clearTimeout,h={},d=i(n);o.isMock=!1,o.$$completeOutstandingRequest=d.completeTask,o.$$incOutstandingRequestCount=d.incTaskCount,o.notifyWhenNoOutstandingRequests=d.notifyWhenNoPendingTasks;var f,p,g=s.href,m=e.find("base"),y=null,_=r.history?function(){try{return l.state}catch(t){}}:D;w(),o.url=function(e,n,i){if(j(i)&&(i=null),s!==t.location&&(s=t.location),l!==t.history&&(l=t.history),e){var a=p===i;if(e=fi(e).href,g===e&&(!r.history||a))return o;var c=g&&hr(g)===hr(e);return g=e,p=i,!r.history||c&&a?(c||(y=e),n?s.replace(e):c?s.hash=function(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}(e):s.href=e,s.href!==e&&(y=e)):(l[n?"replaceState":"pushState"](i,"",e),w()),y&&(y=e),o}return function(t){return t.replace(/#$/,"")}(y||s.href)},o.state=function(){return f};var v=[],b=!1;function x(){y=null,T()}var S=null;function w(){ct(f=j(f=_())?null:f,S)&&(f=S),S=f,p=f}function T(){var t=p;w(),g===o.url()&&t===f||(g=o.url(),p=f,E(v,(function(t){t(o.url(),f)})))}o.onUrlChange=function(e){return b||(r.history&&a(t).on("popstate",x),a(t).on("hashchange",x),b=!0),v.push(e),e},o.$$applicationDestroyed=function(){a(t).off("hashchange popstate",x)},o.$$checkUrlChange=T,o.baseHref=function(){var t=m.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},o.defer=function(t,e,n){var r;return e=e||0,n=n||d.DEFAULT_TASK_TYPE,d.incTaskCount(n),r=c((function(){delete h[r],d.completeTask(t,n)}),e),h[r]=n,r},o.defer.cancel=function(t){if(h.hasOwnProperty(t)){var e=h[t];return delete h[t],u(t),d.completeTask(D,e),!0}return!1}}function fn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(t,e,n,r,i){return new dn(t,r,e,n,i)}]}function pn(){this.$get=function(){var t={};function e(e,n){if(e in t)throw o("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var r=0,i=I({},n,{id:e}),s=Bt(),a=n&&n.capacity||Number.MAX_VALUE,l=Bt(),c=null,u=null;return t[e]={put:function(t,e){if(!j(e)){if(a<Number.MAX_VALUE)h(l[t]||(l[t]={key:t}));return t in s||r++,s[t]=e,r>a&&this.remove(u.key),e}},get:function(t){if(a<Number.MAX_VALUE){var e=l[t];if(!e)return;h(e)}return s[t]},remove:function(t){if(a<Number.MAX_VALUE){var e=l[t];if(!e)return;e===c&&(c=e.p),e===u&&(u=e.n),d(e.n,e.p),delete l[t]}t in s&&(delete s[t],r--)},removeAll:function(){s=Bt(),r=0,l=Bt(),c=u=null},destroy:function(){s=null,i=null,l=null,delete t[e]},info:function(){return I({},i,{size:r})}};function h(t){t!==c&&(u?u===t&&(u=t.n):u=t,d(t.n,t.p),d(t,c),(c=t).n=null)}function d(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return e.info=function(){var e={};return E(t,(function(t,n){e[n]=t.info()})),e},e.get=function(e){return t[e]},e}}function gn(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var mn=o("$compile");var yn=new function(){};function _n(e,n){var r={},i="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,c=function(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),u=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,h=/^(on[a-z]+|formaction)$/,p=Bt();function g(t,e,n){var r=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=Bt();return E(t,(function(t,o){if((t=t.trim())in p)i[o]=p[t];else{var s=t.match(r);if(!s)throw mn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(p[t]=i[o])}})),i}function m(t,e){var n={isolateScope:null,bindToController:null};if(B(t.scope)&&(!0===t.bindToController?(n.bindToController=g(t.scope,e,!0),n.isolateScope={}):n.isolateScope=g(t.scope,e,!1)),B(t.bindToController)&&(n.bindToController=g(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw mn("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}this.directive=function t(n,o){return Lt(n,"name"),jt(n,"directive"),G(n)?(!function(t){var e=t.charAt(0);if(!e||e!==f(e))throw mn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw mn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(n),Lt(o,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],e.factory(n+i,["$injector","$exceptionHandler",function(t,e){var i=[];return E(r[n],(function(r,o){try{var s=t.invoke(r);Y(s)?s={compile:L(s)}:!s.compile&&s.link&&(s.compile=L(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=function(t){var e=t.require||t.controller&&t.name;return!q(e)&&B(e)&&E(e,(function(t,n){var r=t.match(u);t.substring(r[0].length)||(e[n]=r[0]+n)})),e}(s),s.restrict=function(t,e){if(t&&(!G(t)||!/[EACM]/.test(t)))throw mn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(s.restrict,n),s.$$moduleName=r.$$moduleName,i.push(s)}catch(t){e(t)}})),i}])),r[n].push(o)):E(n,C(t)),this},this.component=function t(e,n){if(!G(e))return E(e,C(pt(this,t))),this;var r=n.controller||function(){};function i(t){function e(e){return Y(e)||q(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:Mn(n.controller)||n.controllerAs||"$ctrl",template:e(i),templateUrl:e(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return E(n,(function(t,e){"$"===e.charAt(0)&&(o[e]=t)})),o}return E(n,(function(t,e){"$"===e.charAt(0)&&(i[e]=t,Y(r)&&(r[e]=t))})),i.$inject=["$injector"],this.directive(e,i)},this.aHrefSanitizationTrustedUrlList=function(t){return U(t)?(n.aHrefSanitizationTrustedUrlList(t),this):n.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(t){this.aHrefSanitizationTrustedUrlList=t}}),this.imgSrcSanitizationTrustedUrlList=function(t){return U(t)?(n.imgSrcSanitizationTrustedUrlList(t),this):n.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(t){this.imgSrcSanitizationTrustedUrlList=t}});var y=!0;this.debugInfoEnabled=function(t){return U(t)?(y=t,this):y};var v=!1;this.strictComponentBindingsEnabled=function(t){return U(t)?(v=t,this):v};var b=10;this.onChangesTtl=function(t){return arguments.length?(b=t,this):b};var x=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(x=t,this):x};var S=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(S=t,this):S};var w=Bt();this.addPropertySecurityContext=function(t,e,n){var r=t.toLowerCase()+"|"+e.toLowerCase();if(r in w&&w[r]!==n)throw mn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",t,e,w[r],n);return w[r]=n,this},function(){function t(t,e){E(e,(function(e){w[e.toLowerCase()]=t}))}t(Xr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),t(Xr.CSS,["*|style"]),t(Xr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),t(Xr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),t(Xr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(e,n,p,g,T,C,M,A,k){var P,R=/^\w/,O=t.document.createElement("div"),L=x,F=S,U=b;function z(){try{if(! --U)throw P=void 0,mn("infchng","{0} $onChanges() iterations reached. Aborting!\n",b);M.$apply((function(){for(var t=0,e=P.length;t<e;++t)try{P[t]()}catch(t){p(t)}P=void 0}))}finally{U++}}function H(t,e){if(!t)return t;if(!G(t))throw mn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',e,t.toString());for(var n="",r=et(t),i=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=r.split(i),s=Math.floor(o.length/2),a=0;a<s;a++){var l=2*a;n+=A.getTrustedMediaUrl(et(o[l])),n+=" "+et(o[l+1])}var c=et(o[2*a]).split(/\s/);return n+=A.getTrustedMediaUrl(et(c[0])),2===c.length&&(n+=" "+et(c[1])),n}function W(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=e[i]}else this.$attr={};this.$$element=t}function X(t,e){try{t.addClass(e)}catch(t){}}W.prototype={$normalize:Sn,$addClass:function(t){t&&t.length>0&&k.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&k.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=wn(t,e);n&&n.length&&k.addClass(this.$$element,n);var r=wn(e,t);r&&r.length&&k.removeClass(this.$$element,r)},$set:function(t,e,n,r){var i=$e(this.$$element[0],t),o=De[t],s=t;i?(this.$$element.prop(t,e),r=i):o&&(this[o]=e,s=o),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t])||(this.$attr[t]=r=Nt(t,"-")),"img"===it(this.$$element)&&"srcset"===t&&(this[t]=e=H(e,"$set('srcset', value)")),!1!==n&&(null===e||j(e)?this.$$element.removeAttr(r):R.test(r)?i&&!1===e?this.$$element.removeAttr(r):this.$$element.attr(r,e):function(t,e,n){O.innerHTML="<span "+e+">";var r=O.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}(this.$$element[0],r,e));var a=this.$$observers;a&&E(a[s],(function(t){try{t(e)}catch(t){p(t)}}))},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=Bt()),i=r[t]||(r[t]=[]);return i.push(e),M.$evalAsync((function(){i.$$inter||!n.hasOwnProperty(t)||j(n[t])||e(n[t])})),function(){st(i,e)}}};var K=n.startSymbol(),Q=n.endSymbol(),tt="{{"===K&&"}}"===Q?$:function(t){return t.replace(/\{\{/g,K).replace(/}}/g,Q)},nt=/^ng(Attr|Prop|On)([A-Z].*)$/,rt=/^(.+)Start$/;return ot.$$addBindingInfo=y?function(t,e){var n=t.data("$binding")||[];q(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:D,ot.$$addBindingClass=y?function(t){X(t,"ng-binding")}:D,ot.$$addScopeInfo=y?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:D,ot.$$addScopeClass=y?function(t,e){X(t,e?"ng-isolate-scope":"ng-scope")}:D,ot.$$createComment=function(e,n){var r="";return y&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},ot;function ot(t,e,n,r,i){t instanceof a||(t=a(t));var o=at(t,e,t,n,r,i);ot.$$addScopeClass(t);var s=null;return function(e,n,r){if(!t)throw mn("multilink","This element has already been linked.");Lt(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new());var l,c,u,h=(r=r||{}).parentBoundTranscludeFn,d=r.transcludeControllers,f=r.futureParentElement;if(h&&h.$$boundTransclude&&(h=h.$$boundTransclude),s||(c=(l=f)&&l[0],s=c&&"foreignobject"!==it(c)&&_.call(c).match(/SVG/)?"svg":"html"),u="html"!==s?a(At(s,a("<div></div>").append(t).html())):n?Re.clone.call(t):t,d)for(var p in d)u.data("$"+p+"Controller",d[p].instance);return ot.$$addScopeInfo(u,e),n&&n(u,e),o&&o(e,u,u,h),n||(t=o=null),u}}function at(t,e,n,r,i,o){for(var l,c,u,h,d,f,p,g=[],m=q(t)||t instanceof a,y=0;y<t.length;y++)l=new W,11===s&&ut(t,y,m),(u=(c=dt(t[y],[],l,0===y?r:void 0,i)).length?_t(c,t[y],l,e,n,null,[],[],o):null)&&u.scope&&ot.$$addScopeClass(l.$$element),d=u&&u.terminal||!(h=t[y].childNodes)||!h.length?null:at(h,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||d)&&(g.push(y,u,d),f=!0,p=p||u),o=null;return f?function(t,n,r,i){var o,s,l,c,u,h,d,f;if(p){var m=n.length;for(f=new Array(m),u=0;u<g.length;u+=3)f[d=g[u]]=n[d]}else f=n;for(u=0,h=g.length;u<h;)l=f[g[u++]],o=g[u++],s=g[u++],o?(o.scope?(c=t.$new(),ot.$$addScopeInfo(a(l),c)):c=t,o(s,c,l,r,o.transcludeOnThisElement?ht(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?ht(t,e):null)):s&&s(t,l.childNodes,void 0,i)}:null}function ut(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===Gt)for(;(r=o?i.nextSibling:t[e+1])&&r.nodeType===Gt;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}function ht(t,e,n){function r(r,i,o,s,a){return r||((r=t.$new(!1,a)).$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var i=r.$$slots=Bt();for(var o in e.$$slots)e.$$slots[o]?i[o]=ht(t,e.$$slots[o],n):i[o]=null;return r}function dt(t,e,r,i,s){var a,c,u,h=t.nodeType,d=r.$attr;switch(h){case 1:xt(e,Sn(c=it(t)),"E",i,s);for(var f,p,g,m,y,_=t.attributes,v=0,b=_&&_.length;v<b;v++){var x,S=!1,w=!1,E=!1,T=!1,C=!1;p=(f=_[v]).name,m=f.value,(y=(g=Sn(p.toLowerCase())).match(nt))?(E="Attr"===y[1],T="Prop"===y[1],C="On"===y[1],p=p.replace(bn,"").toLowerCase().substr(4+y[1].length).replace(/_(.)/g,(function(t,e){return e.toUpperCase()}))):(x=g.match(rt))&&wt(x[1])&&(S=p,w=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),T||C?(r[g]=m,d[g]=f.name,T?It(t,e,g,p):Pt(e,g,p)):(d[g=Sn(p.toLowerCase())]=p,!E&&r.hasOwnProperty(g)||(r[g]=m,$e(t,g)&&(r[g]=!0)),Rt(t,e,m,g,E),xt(e,g,"A",i,s,S,w))}if("input"===c&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!F)break;if(B(u=t.className)&&(u=u.animVal),G(u)&&""!==u)for(;a=l.exec(u);)xt(e,g=Sn(a[2]),"C",i,s)&&(r[g]=et(a[3])),u=u.substr(a.index+a[0].length);break;case Gt:!function(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&ot.$$addBindingClass(e),function(t,e){var i=e.parent();n||ot.$$addBindingClass(i),ot.$$addBindingInfo(i,r.expressions),t.$watch(r,(function(t){e[0].nodeValue=t}))}}})}(e,t.nodeValue);break;case 8:if(!L)break;!function(t,e,n,r,i){try{var s=o.exec(t.nodeValue);if(s){var a=Sn(s[1]);xt(e,a,"M",r,i)&&(n[a]=et(s[2]))}}catch(t){}}(t,e,r,i,s)}return e.sort(Ct),e}function gt(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw mn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);1===t.nodeType&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0);else r.push(t);return a(r)}function mt(t,e,n){return function(r,i,o,s,a){return i=gt(i[0],e,n),t(r,i,o,s,a)}}function yt(t,e,n,r,i,o){var s;return t?ot(e,n,r,i,o):function(){return s||(s=ot(e,n,r,i,o),e=n=o=null),s.apply(this,arguments)}}function _t(e,n,r,i,o,s,l,c,u){u=u||{};for(var h,d,f,g,m,y=-Number.MAX_VALUE,_=u.newScopeDirective,v=u.controllerDirectives,b=u.newIsolateScopeDirective,x=u.templateDirective,S=u.nonTlbTranscludeDirective,w=!1,T=!1,M=u.hasElementTranscludeDirective,A=r.$$element=a(n),k=s,P=i,R=!1,O=!1,N=0,D=e.length;N<D;N++){var $=(h=e[N]).$$start,L=h.$$end;if($&&(A=gt(n,$,L)),f=void 0,y>h.priority)break;if((m=h.scope)&&(h.templateUrl||(B(m)?(Mt("new/isolated scope",b||_,h,A),b=h):Mt("new/isolated scope",b,h,A)),_=_||h),d=h.name,!R&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var F,U=N+1;F=e[U++];)if(F.transclude&&!F.$$tlb||F.replace&&(F.templateUrl||F.template)){O=!0;break}R=!0}if(!h.templateUrl&&h.controller&&(v=v||Bt(),Mt("'"+d+"' controller",v[d],h,A),v[d]=h),m=h.transclude)if(w=!0,h.$$tlb||(Mt("transclusion",S,h,A),S=h),"element"===m)M=!0,y=h.priority,f=A,A=r.$$element=a(ot.$$createComment(d,r[d])),n=A[0],Ot(o,ft(f),n),P=yt(O,f,i,y,k&&k.name,{nonTlbTranscludeDirective:S});else{var z=Bt();if(B(m)){f=t.document.createDocumentFragment();var G=Bt(),H=Bt();for(var V in E(m,(function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,G[t]=e,z[e]=null,H[e]=n})),E(A.contents(),(function(e){var n=G[Sn(it(e))];n?(H[n]=!0,z[n]=z[n]||t.document.createDocumentFragment(),z[n].appendChild(e)):f.appendChild(e)})),E(H,(function(t,e){if(!t)throw mn("reqslot","Required transclusion slot `{0}` was not filled.",e)})),z)if(z[V]){var X=a(z[V].childNodes);z[V]=yt(O,X,i)}f=a(f.childNodes)}else f=a(ge(n)).contents();A.empty(),(P=yt(O,f,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope})).$$slots=z}if(h.template)if(T=!0,Mt("template",x,h,A),x=h,m=Y(h.template)?h.template(A,r):h.template,m=tt(m),h.replace){if(k=h,f=ue(m)?[]:En(At(h.templateNamespace,et(m))),n=f[0],1!==f.length||1!==n.nodeType)throw mn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d,"");Ot(o,A,n);var K={$attr:{}},J=dt(n,[],K),Q=e.splice(N+1,e.length-(N+1));(b||_)&&bt(J,b,_),e=e.concat(J).concat(Q),Et(r,K),D=e.length}else A.html(m);if(h.templateUrl)T=!0,Mt("template",x,h,A),x=h,h.replace&&(k=h),st=Tt(e.splice(N,e.length-N),A,r,o,w&&P,l,c,{controllerDirectives:v,newScopeDirective:_!==h&&_,newIsolateScopeDirective:b,templateDirective:x,nonTlbTranscludeDirective:S}),D=e.length;else if(h.compile)try{g=h.compile(A,r,P);var nt=h.$$originalDirective||h;Y(g)?rt(null,pt(nt,g),$,L):g&&rt(pt(nt,g.pre),pt(nt,g.post),$,L)}catch(t){p(t,St(A))}h.terminal&&(st.terminal=!0,y=Math.max(y,h.priority))}return st.scope=_&&!0===_.scope,st.transcludeOnThisElement=w,st.templateOnThisElement=T,st.transclude=P,u.hasElementTranscludeDirective=M,st;function rt(t,e,n,r){t&&(n&&(t=mt(t,n,r)),t.require=h.require,t.directiveName=d,(b===h||h.$$isolateScope)&&(t=Dt(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=mt(e,n,r)),e.require=h.require,e.directiveName=d,(b===h||h.$$isolateScope)&&(e=Dt(e,{isolateScope:!0})),c.push(e))}function st(t,e,i,o,s){var u,h,d,f,g,m,y,S,w,T;for(var A in n===i?(w=r,S=r.$$element):w=new W(S=a(i),r),g=e,b?f=e.$new(!0):_&&(g=e.$parent),s&&(y=function(t,e,n,r){var i;Z(t)||(r=n,n=e,e=t,t=void 0);M&&(i=m);n||(n=M?S.parent():S);if(!r)return s(t,e,i,n,O);var o=s.$$slots[r];if(o)return o(t,e,i,n,O);if(j(o))throw mn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,St(S))},y.$$boundTransclude=s,y.isSlotFilled=function(t){return!!s.$$slots[t]}),v&&(m=function(t,e,n,r,i,o,s){var a=Bt();for(var l in r){var c=r[l],u={$scope:c===s||c.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=c.controller;"@"===h&&(h=e[c.name]);var d=C(h,u,!0,c.controllerAs);a[c.name]=d,t.data("$"+c.name+"Controller",d.instance)}return a}(S,w,y,v,f,e,b)),b&&(ot.$$addScopeInfo(S,f,!0,!(x&&(x===b||x===b.$$originalDirective))),ot.$$addScopeClass(S,!0),f.$$isolateBindings=b.$$isolateBindings,(T=jt(e,w,f,f.$$isolateBindings,b)).removeWatches&&f.$on("$destroy",T.removeWatches)),m){var k=v[A],P=m[A],R=k.$$bindings.bindToController;P.instance=P(),S.data("$"+k.name+"Controller",P.instance),P.bindingInfo=jt(g,w,P.instance,R,k)}for(E(v,(function(t,e){var n=t.require;t.bindToController&&!q(n)&&B(n)&&I(m[e].instance,vt(e,n,S,m))})),E(m,(function(t){var e=t.instance;if(Y(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){p(t)}if(Y(e.$onInit))try{e.$onInit()}catch(t){p(t)}Y(e.$doCheck)&&(g.$watch((function(){e.$doCheck()})),e.$doCheck()),Y(e.$onDestroy)&&g.$on("$destroy",(function(){e.$onDestroy()}))})),u=0,h=l.length;u<h;u++)$t(d=l[u],d.isolateScope?f:e,S,w,d.require&&vt(d.directiveName,d.require,S,m),y);var O=e;for(b&&(b.template||null===b.templateUrl)&&(O=f),t&&t(O,i.childNodes,void 0,s),u=c.length-1;u>=0;u--)$t(d=c[u],d.isolateScope?f:e,S,w,d.require&&vt(d.directiveName,d.require,S,m),y);E(m,(function(t){var e=t.instance;Y(e.$postLink)&&e.$postLink()}))}}function vt(t,e,n,r){var i;if(G(e)){var o=e.match(u),s=e.substring(o[0].length),a=o[1]||o[3],l="?"===o[2];if("^^"===a?n=n.parent():i=(i=r&&r[s])&&i.instance,!i){var c="$"+s+"Controller";i="^^"===a&&n[0]&&9===n[0].nodeType?null:a?n.inheritedData(c):n.data(c)}if(!i&&!l)throw mn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(q(e)){i=[];for(var h=0,d=e.length;h<d;h++)i[h]=vt(t,e[h],n,r)}else B(e)&&(i={},E(e,(function(e,o){i[o]=vt(t,e,n,r)})));return i||null}function bt(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=N(t[r],{$$isolateScope:e,$$newScope:n})}function xt(t,n,o,s,a,l,c){if(n===a)return null;var u=null;if(r.hasOwnProperty(n))for(var h,d=e.get(n+i),f=0,p=d.length;f<p;f++)if(h=d[f],(j(s)||s>h.priority)&&-1!==h.restrict.indexOf(o)){if(l&&(h=N(h,{$$start:l,$$end:c})),!h.$$bindings){var g=h.$$bindings=m(h,h.name);B(g.isolateScope)&&(h.$$isolateBindings=g.isolateScope)}t.push(h),u=h}return u}function wt(t){if(r.hasOwnProperty(t))for(var n=e.get(t+i),o=0,s=n.length;o<s;o++)if(n[o].multiElement)return!0;return!1}function Et(t,e){var n=e.$attr,r=t.$attr;E(t,(function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))})),E(e,(function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))}))}function Tt(t,e,n,r,i,o,s,l){var c,u,h=[],d=e[0],f=t.shift(),m=N(f,{templateUrl:null,transclude:null,replace:null,$$originalDirective:f}),y=Y(f.templateUrl)?f.templateUrl(e,n):f.templateUrl,_=f.templateNamespace;return e.empty(),g(y).then((function(p){var g,v,b,x;if(p=tt(p),f.replace){if(b=ue(p)?[]:En(At(_,et(p))),g=b[0],1!==b.length||1!==g.nodeType)throw mn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f.name,y);v={$attr:{}},Ot(r,e,g);var S=dt(g,[],v);B(f.scope)&&bt(S,!0),t=S.concat(t),Et(n,v)}else g=d,e.html(p);for(t.unshift(m),c=_t(t,g,n,i,e,f,o,s,l),E(r,(function(t,n){t===g&&(r[n]=e[0])})),u=at(e[0].childNodes,i);h.length;){var w=h.shift(),T=h.shift(),C=h.shift(),M=h.shift(),A=e[0];if(!w.$$destroyed){if(T!==d){var k=T.className;l.hasElementTranscludeDirective&&f.replace||(A=ge(g)),Ot(C,a(T),A),X(a(A),k)}x=c.transcludeOnThisElement?ht(w,c.transclude,M):M,c(u,w,A,r,x)}}h=null})).catch((function(t){V(t)&&p(t)})),function(t,e,n,r,i){var o=i;e.$$destroyed||(h?h.push(e,n,r,o):(c.transcludeOnThisElement&&(o=ht(e,c.transclude,i)),c(u,e,n,r,o)))}}function Ct(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Mt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw mn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,St(r))}function At(e,n){switch(e=f(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function kt(t){return H(A.valueOf(t),"ng-prop-srcset")}function It(t,e,n,r){if(h.test(r))throw mn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=it(t),o=function(t,e){var n=e.toLowerCase();return w[t+"|"+n]||w["*|"+n]}(i,r),s=$;"srcset"!==r||"img"!==i&&"source"!==i?o&&(s=A.getTrusted.bind(A,o)):s=kt,e.push({priority:100,compile:function(t,e){var i=T(e[n]),o=T(e[n],(function(t){return A.valueOf(t)}));return{pre:function(t,e){function n(){var n=i(t);e[0][r]=s(n)}n(),t.$watch(o,n)}}}})}function Pt(t,e,n){t.push(zo(T,M,p,e,n,!1))}function Rt(t,e,r,i,o){var s=it(t),a=function(t,e){return"srcdoc"===e?A.HTML:"src"===e||"ngSrc"===e?-1===["img","video","audio","source","track"].indexOf(t)?A.RESOURCE_URL:A.MEDIA_URL:"xlinkHref"===e?"image"===t?A.MEDIA_URL:"a"===t?A.URL:A.RESOURCE_URL:"form"===t&&"action"===e||"base"===t&&"href"===e||"link"===t&&"href"===e?A.RESOURCE_URL:"a"!==t||"href"!==e&&"ngHref"!==e?void 0:A.URL}(s,i),l=!o,u=c[i]||o,d=n(r,l,a,u);if(d){if("multiple"===i&&"select"===s)throw mn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",St(t));if(h.test(i))throw mn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=Bt()),l=o[i];l!==r&&(d=l&&n(l,!0,a,u),r=l),d&&(o[i]=d(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(d,(function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)})))}}}})}}function Ot(e,n,r){var i,o,s=n[0],l=n.length,c=s.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===s){e[i++]=r;for(var u=i,h=u+l-1,d=e.length;u<d;u++,h++)h<d?e[u]=e[h]:delete e[u];e.length-=l-1,e.context===s&&(e.context=r);break}c&&c.replaceChild(r,s);var f=t.document.createDocumentFragment();for(i=0;i<l;i++)f.appendChild(n[i]);for(a.hasData(s)&&(a.data(r,a.data(s)),a(s).off("$destroy")),a.cleanData(f.querySelectorAll("*")),i=1;i<l;i++)delete n[i];n[0]=r,n.length=1}function Dt(t,e){return I((function(){return t.apply(null,arguments)}),t,e)}function $t(t,e,n,r,i,o){try{t(e,n,r,i,o)}catch(t){p(t,St(n))}}function Ft(t,e){if(v)throw mn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function jt(t,e,r,i,o){var s,a=[],l={};function c(e,n,i){Y(r.$onChanges)&&!lt(n,i)&&(P||(t.$$postDigest(z),P=[]),s||(s={},P.push(u)),s[e]&&(i=s[e].previousValue),s[e]=new vn(i,n))}function u(){r.$onChanges(s),s=void 0}return E(i,(function(i,s){var u,h,f,p,g,m=i.attrName,y=i.optional;switch(i.mode){case"@":y||d.call(e,m)||(Ft(m,o.name),r[s]=e[m]=void 0),g=e.$observe(m,(function(t){if(G(t)||J(t)){var e=r[s];c(s,t,e),r[s]=t}})),e.$$observers[m].$$scope=t,G(u=e[m])?r[s]=n(u)(t):J(u)&&(r[s]=u),l[s]=new vn(yn,r[s]),a.push(g);break;case"=":if(!d.call(e,m)){if(y)break;Ft(m,o.name),e[m]=void 0}if(y&&!e[m])break;h=T(e[m]),p=h.literal?ct:lt,f=h.assign||function(){throw u=r[s]=h(t),mn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[m],m,o.name)},u=r[s]=h(t);var _=function(e){return p(e,r[s])||(p(e,u)?f(t,e=r[s]):r[s]=e),u=e};_.$stateful=!0,g=i.collection?t.$watchCollection(e[m],_):t.$watch(T(e[m],_),null,h.literal),a.push(g);break;case"<":if(!d.call(e,m)){if(y)break;Ft(m,o.name),e[m]=void 0}if(y&&!e[m])break;var v=(h=T(e[m])).literal,b=r[s]=h(t);l[s]=new vn(yn,r[s]),g=t[i.collection?"$watchCollection":"$watch"](h,(function(t,e){if(e===t){if(e===b||v&&ct(e,b))return;e=b}c(s,t,e),r[s]=t})),a.push(g);break;case"&":if(y||d.call(e,m)||Ft(m,o.name),(h=e.hasOwnProperty(m)?T(e[m]):D)===D&&y)break;r[s]=function(e){return h(t,e)}}})),{initialChanges:l,removeWatches:a.length&&function(){for(var t=0,e=a.length;t<e;++t)a[t]()}}}}]}function vn(t,e){this.previousValue=t,this.currentValue=e}_n.$inject=["$provide","$$sanitizeUriProvider"],vn.prototype.isFirstChange=function(){return this.previousValue===yn};var bn=/^((?:x|data)[:\-_])/i,xn=/[:\-_]+(.)/g;function Sn(t){return t.replace(bn,"").replace(xn,(function(t,e,n){return n?e.toUpperCase():e}))}function wn(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s===i[a])continue t;n+=(n.length>0?" ":"")+s}return n}function En(t){var e=(t=a(t)).length;if(e<=1)return t;for(;e--;){var n=t[e];(8===n.nodeType||n.nodeType===Gt&&""===n.nodeValue.trim())&&m.call(t,e,1)}return t}var Tn=o("$controller"),Cn=/^(\S+)(\s+as\s+([\w$]+))?$/;function Mn(t,e){if(e&&G(e))return e;if(G(t)){var n=Cn.exec(t);if(n)return n[3]}}function An(){var t={};this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){jt(e,"controller"),B(e)?I(t,e):t[e]=n},this.$get=["$injector",function(e){return function(r,i,o,s){var a,l,c,u;if(o=!0===o,s&&G(s)&&(u=s),G(r)){if(!(l=r.match(Cn)))throw Tn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(c=l[1],u=u||l[3],r=t.hasOwnProperty(c)?t[c]:function(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,s=i.length,a=0;a<s;a++)r=i[a],t&&(t=(o=t)[r]);return!n&&Y(t)?pt(o,t):t}(i.$scope,c,!0),!r)throw Tn("ctrlreg","The controller with the name '{0}' is not registered.",c);Ft(r,c,!0)}if(o){var h=(q(r)?r[r.length-1]:r).prototype;return a=Object.create(h||null),u&&n(i,u,a,c||r.name),I((function(){var t=e.invoke(r,a,i,c);return t!==a&&(B(t)||Y(t))&&(a=t,u&&n(i,u,a,c||r.name)),a}),{instance:a,identifier:u})}return a=e.instantiate(r,i,c),u&&n(i,u,a,c||r.name),a};function n(t,e,n,r){if(!t||!B(t.$scope))throw o("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}}]}function kn(){this.$get=["$window",function(t){return a(t.document)}]}function In(){this.$get=["$document","$rootScope",function(t,e){var n=t[0],r=n&&n.hidden;function i(){r=n.hidden}return t.on("visibilitychange",i),e.$on("$destroy",(function(){t.off("visibilitychange",i)})),function(){return r}}]}function Pn(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}var Rn=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof a&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},On="application/json",Nn={"Content-Type":On+";charset=utf-8"},Dn=/^\[|^\{(?!\{)/,$n={"[":/]$/,"{":/}$/},Ln=/^\)]\}',?\n/,Fn=o("$http");function jn(t){return B(t)?W(t)?t.toISOString():mt(t):t}function Un(){this.$get=function(){return function(t){if(!t)return"";var e=[];return T(t,(function(t,n){null===t||j(t)||Y(t)||(q(t)?E(t,(function(t){e.push(Ct(n)+"="+Ct(jn(t)))})):e.push(Ct(n)+"="+Ct(jn(t))))})),e.join("&")}}}function Bn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(n,r,i){q(n)?E(n,(function(e,n){t(e,r+"["+(B(e)?n:"")+"]")})):B(n)&&!W(n)?T(n,(function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))})):(Y(n)&&(n=n()),e.push(Ct(r)+"="+(null==n?"":Ct(jn(n)))))}(t,"",!0),e.join("&")}}}function zn(t,e){if(G(t)){var n=t.replace(Ln,"").trim();if(n){var r=e("Content-Type"),i=r&&0===r.indexOf(On);if(i||(s=(o=n).match(Dn))&&$n[s[0]].test(o))try{t=yt(n)}catch(e){if(!i)return t;throw Fn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var o,s;return t}function Gn(t){var e,n=Bt();function r(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}return G(t)?E(t.split("\n"),(function(t){e=t.indexOf(":"),r(f(et(t.substr(0,e))),et(t.substr(e+1)))})):B(t)&&E(t,(function(t,e){r(f(e),et(t))})),n}function Hn(t){var e;return function(n){if(e||(e=Gn(t)),n){var r=e[f(n)];return void 0===r&&(r=null),r}return e}}function Wn(t,e,n,r){return Y(r)?r(t,e,n):(E(r,(function(r){t=r(t,e,n)})),t)}function qn(t){return 200<=t&&t<300}function Vn(){var t=this.defaults={transformResponse:[zn],transformRequest:[function(t){return!B(t)||(e=t,"[object File]"===_.call(e))||function(t){return"[object Blob]"===_.call(t)}(t)||function(t){return"[object FormData]"===_.call(t)}(t)?t:mt(t);var e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ht(Nn),put:Ht(Nn),patch:Ht(Nn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return U(t)?(e=!!t,this):e};var n=this.interceptors=[],r=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(t){this.xsrfTrustedOrigins=t}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,s,a,l,c,u,h,d){var g=l("$http");t.paramSerializer=G(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var m=[];E(n,(function(t){m.unshift(G(t)?h.get(t):h.invoke(t))}));var y,_=(y=[hi].concat(r.map(fi)),function(t){var e=fi(t);return y.some(pi.bind(null,e))});function v(n){if(!B(n))throw o("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!G(d.valueOf(n.url)))throw o("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var r=I({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);r.headers=function(e){var n,r,i,o=t.headers,s=I({},e.headers);o=I({},o.common,o[f(e.method)]);t:for(n in o){for(i in r=f(n),s)if(f(i)===r)continue t;s[n]=o[n]}return function(t,e){var n,r={};return E(t,(function(t,i){Y(t)?null!=(n=t(e))&&(r[i]=n):r[i]=t})),r}(s,Ht(e))}(n),r.method=p(r.method),r.paramSerializer=G(r.paramSerializer)?h.get(r.paramSerializer):r.paramSerializer,i.$$incOutstandingRequestCount("$http");var l=[],y=[],b=u.resolve(r);return E(m,(function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&y.push(t.response,t.responseError)})),b=(b=x(b,l)).then((function(n){var r=n.headers,i=Wn(n.data,Hn(r),void 0,n.transformRequest);j(i)&&E(r,(function(t,e){"content-type"===f(e)&&delete r[e]}));j(n.withCredentials)&&!j(t.withCredentials)&&(n.withCredentials=t.withCredentials);return function(n,r){var i,o,l=u.defer(),h=l.promise,p=n.headers,m="jsonp"===f(n.method),y=n.url;m?y=d.getTrustedResourceUrl(y):G(y)||(y=d.valueOf(y));y=function(t,e){e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e);return t}(y,n.paramSerializer(n.params)),m&&(y=function(t,e){var n=t.split("?");if(n.length>2)throw Fn("badjsonp",'Illegal use more than one "?", in url, "{1}"',t);return E(Et(n[1]),(function(n,r){if("JSON_CALLBACK"===n)throw Fn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(r===e)throw Fn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)})),t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK",t}(y,n.jsonpCallbackParam));v.pendingRequests.push(n),h.then(C,C),!n.cache&&!t.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=B(n.cache)?n.cache:B(t.cache)?t.cache:g);i&&(U(o=i.get(y))?Q(o)?o.then(T,T):q(o)?w(o[1],o[0],Ht(o[2]),o[3],o[4]):w(o,200,{},"OK","complete"):i.put(y,h));if(j(o)){var b=_(n.url)?a()[n.xsrfCookieName||t.xsrfCookieName]:void 0;b&&(p[n.xsrfHeaderName||t.xsrfHeaderName]=b),s(n.method,y,r,S,p,n.timeout,n.withCredentials,n.responseType,x(n.eventHandlers),x(n.uploadEventHandlers))}return h;function x(t){if(t){var n={};return E(t,(function(t,r){n[r]=function(n){function r(){t(n)}e?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}})),n}}function S(t,n,r,o,s){function a(){w(n,t,r,o,s)}i&&(qn(t)?i.put(y,[t,n,Gn(r),o,s]):i.remove(y)),e?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function w(t,e,r,i,o){(qn(e=e>=-1?e:0)?l.resolve:l.reject)({data:t,status:e,headers:Hn(r),config:n,statusText:i,xhrStatus:o})}function T(t){w(t.data,t.status,Ht(t.headers()),t.statusText,t.xhrStatus)}function C(){var t=v.pendingRequests.indexOf(n);-1!==t&&v.pendingRequests.splice(t,1)}}(n,i).then(S,S)})),b=(b=x(b,y)).finally((function(){i.$$completeOutstandingRequest(D,"$http")}));function x(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function S(t){var e=I({},t);return e.data=Wn(t.data,t.headers,t.status,r.transformResponse),qn(t.status)?e:u.reject(e)}}return v.pendingRequests=[],function(t){E(arguments,(function(t){v[t]=function(e,n){return v(I({},n||{},{method:t,url:e}))}}))}("get","delete","head","jsonp"),function(t){E(arguments,(function(t){v[t]=function(e,n,r){return v(I({},r||{},{method:t,url:e,data:n}))}}))}("post","put","patch"),v.defaults=t,v}]}function Yn(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Xn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return function(t,e,n,r,i){return function(i,s,a,l,c,u,h,d,p,g){if(s=s||t.url(),"jsonp"===f(i))var m=r.createCallback(s),y=o(s,m,(function(t,e){var n=200===t&&r.getResponse(m);C(l,t,n,"",e,"complete"),r.removeCallback(m)}));else{var _=e(i,s),v=!1;_.open(i,s,!0),E(c,(function(t,e){U(t)&&_.setRequestHeader(e,t)})),_.onload=function(){var t=_.statusText||"",e="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=e?200:"file"===fi(s).protocol?404:0),C(l,n,e,_.getAllResponseHeaders(),t,"complete")};var b=function(){C(l,-1,null,null,"","error")},x=function(){C(l,-1,null,null,"",v?"timeout":"abort")},S=function(){C(l,-1,null,null,"","timeout")};if(_.onerror=b,_.ontimeout=S,_.onabort=x,E(p,(function(t,e){_.addEventListener(e,t)})),E(g,(function(t,e){_.upload.addEventListener(e,t)})),h&&(_.withCredentials=!0),d)try{_.responseType=d}catch(t){if("json"!==d)throw t}_.send(j(a)?null:a)}if(u>0)var w=n((function(){T("timeout")}),u);else Q(u)&&u.then((function(){T(U(u.$$timeoutId)?"timeout":"abort")}));function T(t){v="timeout"===t,y&&y(),_&&_.abort()}function C(t,e,r,i,o,s){U(w)&&n.cancel(w),y=_=null,t(e,r,i,o,s)}};function o(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),s=null;return o.type="text/javascript",o.src=t,o.async=!0,s=function(t){o.removeEventListener("load",s),o.removeEventListener("error",s),i.body.removeChild(o),o=null;var a=-1,l="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),n&&n(a,l)},o.addEventListener("load",s),o.addEventListener("error",s),i.body.appendChild(o),s}}(t,r,t.defer,e,n[0])}]}var Kn=x.$interpolateMinErr=o("$interpolate");function Zn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var o=t.length,s=e.length,a=new RegExp(t.replace(/./g,c),"g"),l=new RegExp(e.replace(/./g,c),"g");function c(t){return"\\\\\\"+t}function u(n){return n.replace(a,t).replace(l,e)}function h(t,e,n,r){var i=t.$watch((function(t){return i(),r(t)}),e,n);return i}function d(a,l,c,d){var f=c===i.URL||c===i.MEDIA_URL;if(!a.length||-1===a.indexOf(t)){if(l)return;var p=u(a);f&&(p=i.getTrusted(c,p));var g=L(p);return g.exp=a,g.expressions=[],g.$$watchDelegate=h,g}d=!!d;for(var m,y,_,v,b,x=0,S=[],w=a.length,E=[],T=[];x<w;){if(-1===(m=a.indexOf(t,x))||-1===(y=a.indexOf(e,m+o))){x!==w&&E.push(u(a.substring(x)));break}x!==m&&E.push(u(a.substring(x,m))),v=a.substring(m+o,y),S.push(v),x=y+s,T.push(E.length),E.push("")}b=1===E.length&&1===T.length;var C=f&&b?void 0:function(t){try{return t=c&&!f?i.getTrusted(c,t):i.valueOf(t),d&&!U(t)?t:zt(t)}catch(t){r(Kn.interr(a,t))}};if(_=S.map((function(t){return n(t,C)})),!l||S.length){var M=function(t){for(var e=0,n=S.length;e<n;e++){if(d&&j(t[e]))return;E[T[e]]=t[e]}return f?i.getTrusted(c,b?E[0]:E.join("")):(c&&E.length>1&&Kn.throwNoconcat(a),E.join(""))};return I((function(t){var e=0,n=S.length,i=new Array(n);try{for(;e<n;e++)i[e]=_[e](t);return M(i)}catch(t){r(Kn.interr(a,t))}}),{exp:a,expressions:S,$$watchDelegate:function(t,e){var n;return t.$watchGroup(_,(function(r,i){var o=M(r);e.call(this,o,r!==i?n:o,t),n=o}))}})}}return d.startSymbol=function(){return t},d.endSymbol=function(){return e},d}]}Kn.throwNoconcat=function(t){throw Kn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Kn.interr=function(t,e){return Kn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Jn=o("$interval");function Qn(){this.$get=["$$intervalFactory","$window",function(t,e){var n={},r=function(t){e.clearInterval(t),delete n[t]},i=t((function(t,r,i){var o=e.setInterval(t,r);return n[o]=i,o}),r);return i.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$intervalId"))throw Jn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(t.$$intervalId))return!1;var e=t.$$intervalId,i=n[e];return Hr(i.promise),i.reject("canceled"),r(e),!0},i}]}function tr(){this.$get=["$browser","$q","$$q","$rootScope",function(t,e,n,r){return function(i,o){return function(s,a,l,c){var u=arguments.length>4,h=u?ft(arguments,4):[],d=0,f=U(c)&&!c,p=(f?n:e).defer(),g=p.promise;function m(){u?s.apply(null,h):s(d)}return l=U(l)?l:0,g.$$intervalId=i((function(){f?t.defer(m):r.$evalAsync(m),p.notify(d++),l>0&&d>=l&&(p.resolve(d),o(g.$$intervalId)),f||r.$apply()}),a,p,f),g}}}]}var er=function(){this.$get=function(){var t=x.callbacks,e={};return{createCallback:function(n){var r="_"+(t.$$counter++).toString(36),i="angular.callbacks."+r,o=function(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}(r);return e[i]=t[r]=o,i},wasCalled:function(t){return e[t].called},getResponse:function(t){return e[t].data},removeCallback:function(n){var r=e[n];delete t[r.id],delete e[n]}}}},nr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,rr={http:80,https:443,ftp:21},ir=o("$location");function or(t,e,n){var r,i=(r=[],E(e,(function(t,e){q(t)?E(t,(function(t){r.push(Ct(e,!0)+(!0===t?"":"="+Ct(t,!0)))})):r.push(Ct(e,!0)+(!0===t?"":"="+Ct(t,!0)))})),r.length?r.join("&"):""),o=n?"#"+Tt(n):"";return function(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=Tt(e[n].replace(/%2F/g,"/"));return e.join("/")}(t)+(i?"?"+i:"")+o}function sr(t,e){var n=fi(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=R(n.port)||rr[n.protocol]||null}var ar=/^\s*[\\/]{2,}/;function lr(t,e,n){if(ar.test(t))throw ir("badpath",'Invalid url "{0}".',t);var r="/"!==t.charAt(0);r&&(t="/"+t);var i=fi(t),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;e.$$path=function(t,e){for(var n=t.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),e&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(o,n),e.$$search=Et(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function cr(t,e){return t.slice(0,e.length)===e}function ur(t,e){if(cr(e,t))return e.substr(t.length)}function hr(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function dr(t,e,n){this.$$html5=!0,n=n||"",sr(t,this),this.$$parse=function(t){var n=ur(e,t);if(!G(n))throw ir("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);lr(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(t){return e+t.substr(1)},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(U(o=ur(t,r))?(s=o,a=n&&U(o=ur(n,o))?e+(ur("/",o)||o):t+s):U(o=ur(e,r))?a=e+o:e===r+"/"&&(a=e),a&&this.$$parse(a),!!a);var o,s,a}}function fr(t,e,n){sr(t,this),this.$$parse=function(r){var i,o=ur(t,r)||ur(e,r);j(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",j(o)&&(t=r,this.replace())):j(i=ur(n,o))&&(i=o),lr(i,this,!1),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;cr(e,n)&&(e=e.replace(n,""));if(i.exec(e))return t;return(r=i.exec(t))?r[1]:t}(this.$$path,i,t),this.$$compose()},this.$$normalizeUrl=function(e){return t+(e?n+e:"")},this.$$parseLinkUrl=function(e,n){return hr(t)===hr(e)&&(this.$$parse(e),!0)}}function pr(t,e,n){this.$$html5=!0,fr.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(t===hr(r)?o=r:(s=ur(e,r))?o=t+n+s:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o);var o,s},this.$$normalizeUrl=function(e){return t+n+e}}var gr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=or(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:mr("$$absUrl"),url:function(t){if(j(t))return this.$$url;var e=nr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:mr("$$protocol"),host:mr("$$host"),port:mr("$$port"),path:yr("$$path",(function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t})),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(G(t)||H(t))t=t.toString(),this.$$search=Et(t);else{if(!B(t))throw ir("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");E(t=at(t,{}),(function(e,n){null==e&&delete t[n]})),this.$$search=t}break;default:j(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:yr("$$hash",(function(t){return null!==t?t.toString():""})),replace:function(){return this.$$replace=!0,this}};function mr(t){return function(){return this[t]}}function yr(t,e){return function(n){return j(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function _r(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return U(e)?(t=e,this):t},this.html5Mode=function(t){return J(t)?(e.enabled=t,this):B(t)?(J(t.enabled)&&(e.enabled=t.enabled),J(t.requireBase)&&(e.requireBase=t.requireBase),(J(t.rewriteLinks)||G(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){var l,c,u,h,d=r.baseHref(),f=r.url();if(e.enabled){if(!d&&e.requireBase)throw ir("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=(h=f).substring(0,h.indexOf("/",h.indexOf("//")+2))+(d||"/"),c=i.history?dr:pr}else u=hr(f),c=fr;var p=function(t){return t.substr(0,hr(t).lastIndexOf("/")+1)}(u);(l=new c(u,p,"#"+t)).$$parseLinkUrl(f,f),l.$$state=r.state();var g=/^\s*(javascript|mailto):/i;function m(t,e,n){var i=l.url(),o=l.$$state;try{r.url(t,e,n),l.$$state=r.state()}catch(t){throw l.url(i),l.$$state=o,t}}o.on("click",(function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=a(t.target);"a"!==it(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!G(i)||!j(s.attr(i))){var c=s.prop("href"),u=s.attr("href")||s.attr("xlink:href");B(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=fi(c.animVal).href),g.test(c)||!c||s.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(t.preventDefault(),l.absUrl()!==r.url()&&n.$apply())}}})),l.absUrl()!==f&&r.url(l.absUrl(),!0);var y=!0;return r.onUrlChange((function(t,e){cr(t,p)?(n.$evalAsync((function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(t),l.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,l.absUrl()===t&&(r?(l.$$parse(i),l.$$state=o,m(i,!1,o)):(y=!1,_(i,o)))})),n.$$phase||n.$digest()):s.location.href=t})),n.$watch((function(){if(y||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var t=r.url(),e=l.absUrl(),o=r.state(),s=l.$$replace,a=!((c=t)===(u=e)||fi(c).href===fi(u).href)||l.$$html5&&i.history&&o!==l.$$state;(y||a)&&(y=!1,n.$evalAsync((function(){var e=l.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(r?(l.$$parse(t),l.$$state=o):(a&&m(e,s,o===l.$$state?null:l.$$state),_(t,o)))})))}var c,u;l.$$replace=!1})),l;function _(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}}]}function vr(){var t=!0,e=this;this.debugEnabled=function(e){return U(e)?(t=e,this):t},this.$get=["$window",function(n){var r,i=s||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(r=o("debug"),function(){t&&r.apply(e,arguments)})};function o(t){var e=n.console||{},r=e[t]||e.log||D;return function(){var t=[];return E(arguments,(function(e){t.push(function(t){return V(t)&&(t.stack&&i?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}(e))})),Function.prototype.apply.call(r,e,t)}}}]}E([pr,fr,dr],(function(t){t.prototype=Object.create(gr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==dr||!this.$$html5)throw ir("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=j(e)?null:e,this.$$urlUpdatedByLocation=!0,this}}));var br=o("$parse"),xr={}.constructor.prototype.valueOf;function Sr(t){return t+""}var wr=Bt();E("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(t){wr[t]=!0}));var Er={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Tr=function(t){this.options=t};Tr.prototype={constructor:Tr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=wr[e],o=wr[n],s=wr[r];if(i||o||s){var a=s?r:o?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=U(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw br("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=f(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{n+=Er[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Cr=function(t,e){this.lexer=t,this.options=e};function Mr(t,e){return void 0!==t?t:e}function Ar(t,e){return void 0===t?e:void 0===e?t:t+e}Cr.Program="Program",Cr.ExpressionStatement="ExpressionStatement",Cr.AssignmentExpression="AssignmentExpression",Cr.ConditionalExpression="ConditionalExpression",Cr.LogicalExpression="LogicalExpression",Cr.BinaryExpression="BinaryExpression",Cr.UnaryExpression="UnaryExpression",Cr.CallExpression="CallExpression",Cr.MemberExpression="MemberExpression",Cr.Identifier="Identifier",Cr.Literal="Literal",Cr.ArrayExpression="ArrayExpression",Cr.Property="Property",Cr.ObjectExpression="ObjectExpression",Cr.ThisExpression="ThisExpression",Cr.LocalsExpression="LocalsExpression",Cr.NGValueParameter="NGValueParameter",Cr.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Cr.Program,body:t}},expressionStatement:function(){return{type:Cr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Rr(t))throw br("lval","Trying to assign a value to a non l-value");t={type:Cr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Cr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Cr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Cr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Cr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Cr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Cr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Cr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Cr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=at(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Cr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:Cr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Cr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Cr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Cr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Cr.Identifier,name:t.text}},constant:function(){return{type:Cr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Cr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Cr.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Cr.ObjectExpression,properties:e}},throwError:function(t,e){throw br("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw br("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw br("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===n||s===r||s===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Cr.ThisExpression},$locals:{type:Cr.LocalsExpression}}};var kr=2;function Ir(t,e,n){var r,i,o,s=t.isPure=function(t,e){switch(t.type){case Cr.MemberExpression:if(t.computed)return!1;break;case Cr.UnaryExpression:return 1;case Cr.BinaryExpression:return"+"!==t.operator&&1;case Cr.CallExpression:return!1}return void 0===e?kr:e}(t,n);switch(t.type){case Cr.Program:r=!0,E(t.body,(function(t){Ir(t.expression,e,s),r=r&&t.expression.constant})),t.constant=r;break;case Cr.Literal:t.constant=!0,t.toWatch=[];break;case Cr.UnaryExpression:Ir(t.argument,e,s),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Cr.BinaryExpression:Ir(t.left,e,s),Ir(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Cr.LogicalExpression:Ir(t.left,e,s),Ir(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Cr.ConditionalExpression:Ir(t.test,e,s),Ir(t.alternate,e,s),Ir(t.consequent,e,s),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Cr.Identifier:t.constant=!1,t.toWatch=[t];break;case Cr.MemberExpression:Ir(t.object,e,s),t.computed&&Ir(t.property,e,s),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Cr.CallExpression:o=!!t.filter&&function(t,e){return!t(e).$stateful}(e,t.callee.name),r=o,i=[],E(t.arguments,(function(t){Ir(t,e,s),r=r&&t.constant,i.push.apply(i,t.toWatch)})),t.constant=r,t.toWatch=o?i:[t];break;case Cr.AssignmentExpression:Ir(t.left,e,s),Ir(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Cr.ArrayExpression:r=!0,i=[],E(t.elements,(function(t){Ir(t,e,s),r=r&&t.constant,i.push.apply(i,t.toWatch)})),t.constant=r,t.toWatch=i;break;case Cr.ObjectExpression:r=!0,i=[],E(t.properties,(function(t){Ir(t.value,e,s),r=r&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(Ir(t.key,e,!1),r=r&&t.key.constant,i.push.apply(i,t.key.toWatch))})),t.constant=r,t.toWatch=i;break;case Cr.ThisExpression:case Cr.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Pr(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length||n[0]!==e?n:void 0}}function Rr(t){return t.type===Cr.Identifier||t.type===Cr.MemberExpression}function Or(t){if(1===t.body.length&&Rr(t.body[0].expression))return{type:Cr.AssignmentExpression,left:t.body[0].expression,right:{type:Cr.NGValueParameter},operator:"="}}function Nr(t){this.$filter=t}function Dr(t){this.$filter=t}function $r(t,e,n){this.ast=new Cr(t,n),this.astCompiler=n.csp?new Dr(e):new Nr(e)}function Lr(t){return Y(t.valueOf)?t.valueOf():xr.call(t)}function Fr(){var t,e,n=Bt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(i){var o={csp:ut().noUnsafeEval,literals:at(r),isIdentifierStart:Y(t)&&t,isIdentifierContinue:Y(e)&&e};return s.$$getAst=function(t){return new $r(new Tr(o),i,o).getAst(t).ast},s;function s(t,e){var r,s;switch(typeof t){case"string":if(t=t.trim(),!(r=n[s=t]))r=new $r(new Tr(o),i,o).parse(t),n[s]=d(r);return f(r,e);case"function":return f(t,e);default:return f(D,e)}}function a(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=Lr(t))&&!n)&&(t===e||t!=t&&e!=e)}function l(t,e,n,r,i){var o,s=r.inputs;if(1===s.length){var l=a;return s=s[0],t.$watch((function(t){var e=s(t);return a(e,l,s.isPure)||(o=r(t,void 0,void 0,[e]),l=e&&Lr(e)),o}),e,n,i)}for(var c=[],u=[],h=0,d=s.length;h<d;h++)c[h]=a,u[h]=null;return t.$watch((function(t){for(var e=!1,n=0,i=s.length;n<i;n++){var l=s[n](t);(e||(e=!a(l,c[n],s[n].isPure)))&&(u[n]=l,c[n]=l&&Lr(l))}return e&&(o=r(t,void 0,void 0,u)),o}),e,n,i)}function c(t,e,n,r,i){var o,s,a=r.literal?u:U,l=r.$$intercepted||r,c=r.$$interceptor||$,h=r.inputs&&!l.inputs;return p.literal=r.literal,p.constant=r.constant,p.inputs=r.inputs,d(p),o=t.$watch(p,e,n,i);function f(){a(s)&&o()}function p(t,e,n,r){return s=h&&r?r[0]:l(t,e,n,r),a(s)&&t.$$postDigest(f),c(s)}}function u(t){var e=!0;return E(t,(function(t){U(t)||(e=!1)})),e}function h(t,e,n,r){var i=t.$watch((function(t){return i(),r(t)}),e,n);return i}function d(t){return t.constant?t.$$watchDelegate=h:t.oneTime?t.$$watchDelegate=c:t.inputs&&(t.$$watchDelegate=l),t}function f(t,e){if(!e)return t;t.$$interceptor&&(e=function(t,e){function n(n){return e(t(n))}return n.$stateful=t.$stateful||e.$stateful,n.$$pure=t.$$pure&&e.$$pure,n}(t.$$interceptor,e),t=t.$$intercepted);var n=!1,r=function(r,i,o,s){var a=n&&s?s[0]:t(r,i,o,s);return e(a)};return r.$$intercepted=t,r.$$interceptor=e,r.literal=t.literal,r.oneTime=t.oneTime,r.constant=t.constant,e.$stateful||(n=!t.inputs,r.inputs=t.inputs?t.inputs:[t],e.$$pure||(r.inputs=r.inputs.map((function(t){return t.isPure===kr?function(e){return t(e)}:t})))),d(r)}}]}function jr(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Br((function(t){e.$evalAsync(t)}),n,t)}],this.errorOnUnhandledRejections=function(e){return U(e)?(t=e,this):t}}function Ur(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Br((function(t){e.defer(t)}),n,t)}],this.errorOnUnhandledRejections=function(e){return U(e)?(t=e,this):t}}function Br(t,e,n){var r=o("$q",TypeError),i=0,s=[];function a(){return new l}function l(){var t=this.promise=new c;this.resolve=function(e){d(t,e)},this.reject=function(e){p(t,e)},this.notify=function(e){m(t,e)}}function c(){this.$$state={status:0}}function u(){for(;!i&&s.length;){var t=s.shift();if(!zr(t)){Gr(t);var n="Possibly unhandled rejection: "+Wt(t.value);V(t.value)?e(t.value,n):e(n)}}}function h(r){!n||r.pending||2!==r.status||zr(r)||(0===i&&0===s.length&&t(u),s.push(r)),!r.processScheduled&&r.pending&&(r.processScheduled=!0,++i,t((function(){!function(r){var o,s,a;a=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var l=0,c=a.length;l<c;++l){Gr(r),s=a[l][0],o=a[l][r.status];try{Y(o)?d(s,o(r.value)):1===r.status?d(s,r.value):p(s,r.value)}catch(t){p(s,t),t&&!0===t.$$passToExceptionHandler&&e(t)}}}finally{--i,n&&0===i&&t(u)}}(r)})))}function d(t,e){t.$$state.status||(e===t?g(t,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):f(t,e))}function f(t,e){var n,r=!1;try{(B(e)||Y(e))&&(n=e.then),Y(n)?(t.$$state.status=-1,n.call(e,(function(e){if(r)return;r=!0,f(t,e)}),i,(function(e){m(t,e)}))):(t.$$state.value=e,t.$$state.status=1,h(t.$$state))}catch(t){i(t)}function i(e){r||(r=!0,g(t,e))}}function p(t,e){t.$$state.status||g(t,e)}function g(t,e){t.$$state.value=e,t.$$state.status=2,h(t.$$state)}function m(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&t((function(){for(var t,n,o=0,s=i.length;o<s;o++){n=i[o][0],t=i[o][3];try{m(n,Y(t)?t(r):r)}catch(t){e(t)}}}))}function y(t){var e=new c;return p(e,t),e}function _(t,e,n){var r=null;try{Y(n)&&(r=n())}catch(t){return y(t)}return Q(r)?r.then((function(){return e(t)}),y):e(t)}function v(t,e,n,r){var i=new c;return d(i,t),i.then(e,n,r)}I(c.prototype,{then:function(t,e,n){if(j(t)&&j(e)&&j(n))return this;var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&h(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then((function(e){return _(e,b,t)}),(function(e){return _(e,y,t)}),e)}});var b=v;function x(t){if(!Y(t))throw r("norslvr","Expected resolverFn, got '{0}'",t);var e=new c;return t((function(t){d(e,t)}),(function(t){p(e,t)})),e}return x.prototype=c.prototype,x.defer=a,x.reject=y,x.when=v,x.resolve=b,x.all=function(t){var e=new c,n=0,r=q(t)?[]:{};return E(t,(function(t,i){n++,v(t).then((function(t){r[i]=t,--n||d(e,r)}),(function(t){p(e,t)}))})),0===n&&d(e,r),e},x.race=function(t){var e=a();return E(t,(function(t){v(t).then(e.resolve,e.reject)})),e.promise},x}function zr(t){return!!t.pur}function Gr(t){t.pur=!0}function Hr(t){t.$$state&&Gr(t.$$state)}function Wr(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function qr(){var t=10,e=o("$rootScope"),n=null,r=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,o,a){function l(t){t.currentScope.$$destroyed=!0}function c(t){9===s&&(t.$$childHead&&c(t.$$childHead),t.$$nextSibling&&c(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function u(){this.$id=M(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}u.prototype={constructor:u,$new:function(t,e){var n;return e=e||this,t?(n=new u).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=M(),this.$$ChildScope=null,this.$$suspended=!1}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!==this)&&n.$on("$destroy",l),n},$watch:function(t,e,r,i){var s=o(t),a=Y(e)?e:D;if(s.$$watchDelegate)return s.$$watchDelegate(this,a,r,s,t);var l=this,c=l.$$watchers,u={fn:a,last:x,get:s,exp:i||t,eq:!!r};return n=null,c||((c=l.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(u),c.$$digestWatchIndex++,v(this,1),function(){var t=st(c,u);t>=0&&(v(l,-1),t<c.$$digestWatchIndex&&c.$$digestWatchIndex--),n=null}},$watchGroup:function(t,e){var n=new Array(t.length),r=new Array(t.length),i=[],o=this,s=!1,a=!0;if(!t.length){var l=!0;return o.$evalAsync((function(){l&&e(r,r,o)})),function(){l=!1}}if(1===t.length)return this.$watch(t[0],(function(t,i,o){r[0]=t,n[0]=i,e(r,t===i?r:n,o)}));function c(){s=!1;try{a?(a=!1,e(r,r,o)):e(r,n,o)}finally{for(var i=0;i<t.length;i++)n[i]=r[i]}}return E(t,(function(t,e){var n=o.$watch(t,(function(t){r[e]=t,s||(s=!0,o.$evalAsync(c))}));i.push(n)})),function(){for(;i.length;)i.shift()()}},$watchCollection:function(t,e){g.$$pure=o(t).literal,g.$stateful=!g.$$pure;var n,r,i,s=this,a=e.length>1,l=0,c=o(t,g),u=[],h={},f=!0,p=0;function g(t){var e,i,o,s;if(!j(n=t)){if(B(n))if(w(n)){r!==u&&(p=(r=u).length=0,l++),e=n.length,p!==e&&(l++,r.length=p=e);for(var a=0;a<e;a++)s=r[a],o=n[a],s!=s&&o!=o||s===o||(l++,r[a]=o)}else{for(i in r!==h&&(r=h={},p=0,l++),e=0,n)d.call(n,i)&&(e++,o=n[i],s=r[i],i in r?s!=s&&o!=o||s===o||(l++,r[i]=o):(p++,r[i]=o,l++));if(p>e)for(i in l++,r)d.call(n,i)||(p--,delete r[i])}else r!==n&&(r=n,l++);return l}}return this.$watch(c,(function(){if(f?(f=!1,e(n,n,s)):e(n,i,s),a)if(B(n))if(w(n)){i=new Array(n.length);for(var t=0;t<n.length;t++)i[t]=n[t]}else for(var r in i={},n)d.call(n,r)&&(i[r]=n[r]);else i=n}))},$digest:function(){var o,s,l,c,u,d,g,v,b,w=t,E=f.length?h:this,T=[];y("$digest"),a.$$checkUrlChange(),this===h&&null!==r&&(a.defer.cancel(r),S()),n=null;do{u=!1,g=E;for(var C=0;C<f.length;C++){try{(0,(b=f[C]).fn)(b.scope,b.locals)}catch(t){i(t)}n=null}f.length=0;t:do{if(c=!g.$$suspended&&g.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(o=c[c.$$digestWatchIndex])if((s=(0,o.get)(g))===(l=o.last)||(o.eq?ct(s,l):O(s)&&O(l))){if(o===n){u=!1;break t}}else u=!0,n=o,o.last=o.eq?at(s,null):s,(0,o.fn)(s,l===x?s:l,g),w<5&&(T[v=4-w]||(T[v]=[]),T[v].push({msg:Y(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:s,oldVal:l}))}catch(t){i(t)}if(!(d=!g.$$suspended&&g.$$watchersCount&&g.$$childHead||g!==E&&g.$$nextSibling))for(;g!==E&&!(d=g.$$nextSibling);)g=g.$parent}while(g=d);if((u||f.length)&&!w--)throw _(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,T)}while(u||f.length);for(_();m<p.length;)try{p[m++]()}catch(t){i(t)}p.length=m=0,a.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===h&&a.$$applicationDestroyed(),v(this,-this.$$watchersCount),this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=D,this.$on=this.$watch=this.$watchGroup=function(){return D},this.$$listeners={},this.$$nextSibling=null,c(this)}},$eval:function(t,e){return o(t)(this,e)},$evalAsync:function(t,e){h.$$phase||f.length||a.defer((function(){f.length&&h.$digest()}),null,"$evalAsync"),f.push({scope:this,fn:o(t),locals:e})},$$postDigest:function(t){p.push(t)},$apply:function(t){try{y("$apply");try{return this.$eval(t)}finally{_()}}catch(t){i(t)}finally{try{h.$digest()}catch(t){throw i(t),t}}},$applyAsync:function(t){var e=this;t&&g.push((function(){e.$eval(t)})),t=o(t),null===r&&(r=a.defer((function(){h.$apply(S)}),null,"$applyAsync"))},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do{r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(delete n[r],b(i,1,t))}},$emit:function(t,e){var n,r,o,s=[],a=this,l=!1,c={name:t,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=dt([c],arguments,1);do{for(n=a.$$listeners[t]||s,c.currentScope=a,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,u)}catch(t){i(t)}else n.splice(r,1),r--,o--;if(l)break;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,r=n,o=n,s={name:t,targetScope:n,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return s;for(var a,l,c,u=dt([s],arguments,1);r=o;){for(s.currentScope=r,l=0,c=(a=r.$$listeners[t]||[]).length;l<c;l++)if(a[l])try{a[l].apply(null,u)}catch(t){i(t)}else a.splice(l,1),l--,c--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(o=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var h=new u,f=h.$$asyncQueue=[],p=h.$$postDigestQueue=[],g=h.$$applyAsyncQueue=[],m=0;return h;function y(t){if(h.$$phase)throw e("inprog","{0} already in progress",h.$$phase);h.$$phase=t}function _(){h.$$phase=null}function v(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function b(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function x(){}function S(){for(;g.length;)try{g.shift()()}catch(t){i(t)}r=null}}]}function Vr(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(e){return U(e)?(t=e,this):t},this.imgSrcSanitizationTrustedUrlList=function(t){return U(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i=r?e:t,o=fi(n&&n.trim()).href;return""===o||o.match(i)?n:"unsafe:"+o}}}Nr.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ir(t,e.$filter);var n,r="";if(this.stage="assign",n=Or(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Pr(t.body);e.stage="inputs",E(o,(function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push({name:r,isPure:t.isPure}),t.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,Sr,Mr,Ar);return this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return E(e,(function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")})),e.length&&t.push("fn.inputs=["+e.map((function(t){return t.name})).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return E(this.state.filters,(function(n,r){t.push(n+"=$filter("+e.escape(r)+")")})),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,o){var s,a,l,c,u,h=this;if(r=r||D,!o&&U(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case Cr.Program:E(t.body,(function(e,n){h.recurse(e.expression,void 0,void 0,(function(t){a=t})),n!==t.body.length-1?h.current().body.push(a,";"):h.return_(a)}));break;case Cr.Literal:c=this.escape(t.value),this.assign(e,c),r(e||c);break;case Cr.UnaryExpression:this.recurse(t.argument,void 0,void 0,(function(t){a=t})),c=t.operator+"("+this.ifDefined(a,0)+")",this.assign(e,c),r(c);break;case Cr.BinaryExpression:this.recurse(t.left,void 0,void 0,(function(t){s=t})),this.recurse(t.right,void 0,void 0,(function(t){a=t})),c="+"===t.operator?this.plus(s,a):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(a,0):"("+s+")"+t.operator+"("+a+")",this.assign(e,c),r(c);break;case Cr.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case Cr.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case Cr.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),(function(){h.if_("inputs"===h.stage||"s",(function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))}))}),e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),r(e);break;case Cr.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,(function(){h.if_(h.notNull(s),(function(){t.computed?(a=h.nextId(),h.recurse(t.property,a),h.getStringValue(a),i&&1!==i&&h.if_(h.not(h.computedMember(s,a)),h.lazyAssign(h.computedMember(s,a),"{}")),c=h.computedMember(s,a),h.assign(e,c),n&&(n.computed=!0,n.name=a)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),c=h.nonComputedMember(s,t.property.name),h.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))}),(function(){h.assign(e,"undefined")})),r(e)}),!!i);break;case Cr.CallExpression:e=e||this.nextId(),t.filter?(a=h.filter(t.callee.name),l=[],E(t.arguments,(function(t){var e=h.nextId();h.recurse(t,e),l.push(e)})),c=a+"("+l.join(",")+")",h.assign(e,c),r(e)):(a=h.nextId(),s={},l=[],h.recurse(t.callee,a,s,(function(){h.if_(h.notNull(a),(function(){E(t.arguments,(function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,(function(t){l.push(t)}))})),c=s.name?h.member(s.context,s.name,s.computed)+"("+l.join(",")+")":a+"("+l.join(",")+")",h.assign(e,c)}),(function(){h.assign(e,"undefined")})),r(e)})));break;case Cr.AssignmentExpression:a=this.nextId(),s={},this.recurse(t.left,void 0,s,(function(){h.if_(h.notNull(s.context),(function(){h.recurse(t.right,a),c=h.member(s.context,s.name,s.computed)+t.operator+a,h.assign(e,c),r(e||c)}))}),1);break;case Cr.ArrayExpression:l=[],E(t.elements,(function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,(function(t){l.push(t)}))})),c="["+l.join(",")+"]",this.assign(e,c),r(e||c);break;case Cr.ObjectExpression:l=[],u=!1,E(t.properties,(function(t){t.computed&&(u=!0)})),u?(e=e||this.nextId(),this.assign(e,"{}"),E(t.properties,(function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Cr.Identifier?t.key.name:""+t.key.value,a=h.nextId(),h.recurse(t.value,a),h.assign(h.member(e,s,t.computed),a)}))):(E(t.properties,(function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,(function(t){l.push(h.escape(e.key.type===Cr.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),c="{"+l.join(",")+"}",this.assign(e,c)),r(e||c);break;case Cr.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Cr.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Cr.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var s=this;return function(){s.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(G(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(H(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw br("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Dr.prototype={compile:function(t){var e,n,r=this;Ir(t,r.$filter),(e=Or(t))&&(n=this.recurse(e));var i,o=Pr(t.body);o&&(i=[],E(o,(function(t,e){var n=r.recurse(t);n.isPure=t.isPure,t.input=n,i.push(n),t.watchId=e})));var s=[];E(t.body,(function(t){s.push(r.recurse(t.expression))}));var a=0===t.body.length?D:1===t.body.length?s[0]:function(t,e){var n;return E(s,(function(r){n=r(t,e)})),n};return n&&(a.assign=function(t,e,r){return n(t,r,e)}),i&&(a.inputs=i),a},recurse:function(t,e,n){var r,i,o,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Cr.Literal:return this.value(t.value,e);case Cr.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Cr.BinaryExpression:case Cr.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case Cr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Cr.Identifier:return s.identifier(t.name,e,n);case Cr.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,e,n):this.nonComputedMember(r,i,e,n);case Cr.CallExpression:return o=[],E(t.arguments,(function(t){o.push(s.recurse(t))})),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,r,s){for(var a=[],l=0;l<o.length;++l)a.push(o[l](t,n,r,s));var c=i.apply(void 0,a,s);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,r,s){var a,l=i(t,n,r,s);if(null!=l.value){for(var c=[],u=0;u<o.length;++u)c.push(o[u](t,n,r,s));a=l.value.apply(l.context,c)}return e?{value:a}:a};case Cr.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,o,s){var a=r(t,n,o,s),l=i(t,n,o,s);return a.context[a.name]=l,e?{value:l}:l};case Cr.ArrayExpression:return o=[],E(t.elements,(function(t){o.push(s.recurse(t))})),function(t,n,r,i){for(var s=[],a=0;a<o.length;++a)s.push(o[a](t,n,r,i));return e?{value:s}:s};case Cr.ObjectExpression:return o=[],E(t.properties,(function(t){t.computed?o.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):o.push({key:t.key.type===Cr.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})})),function(t,n,r,i){for(var s={},a=0;a<o.length;++a)o[a].computed?s[o[a].key(t,n,r,i)]=o[a].value(t,n,r,i):s[o[a].key]=o[a].value(t,n,r,i);return e?{value:s}:s};case Cr.ThisExpression:return function(t){return e?{value:t}:t};case Cr.LocalsExpression:return function(t,n){return e?{value:n}:n};case Cr.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var s=t(n,r,i,o);return s=U(s)?+s:0,e?{value:s}:s}},"unary-":function(t,e){return function(n,r,i,o){var s=t(n,r,i,o);return s=U(s)?-s:-0,e?{value:s}:s}},"unary!":function(t,e){return function(n,r,i,o){var s=!t(n,r,i,o);return e?{value:s}:s}},"binary+":function(t,e,n){return function(r,i,o,s){var a=Ar(t(r,i,o,s),e(r,i,o,s));return n?{value:a}:a}},"binary-":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s),l=e(r,i,o,s),c=(U(a)?a:0)-(U(l)?l:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)*e(r,i,o,s);return n?{value:a}:a}},"binary/":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)/e(r,i,o,s);return n?{value:a}:a}},"binary%":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)%e(r,i,o,s);return n?{value:a}:a}},"binary===":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)===e(r,i,o,s);return n?{value:a}:a}},"binary!==":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)!==e(r,i,o,s);return n?{value:a}:a}},"binary==":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)==e(r,i,o,s);return n?{value:a}:a}},"binary!=":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)!=e(r,i,o,s);return n?{value:a}:a}},"binary<":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)<e(r,i,o,s);return n?{value:a}:a}},"binary>":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)>e(r,i,o,s);return n?{value:a}:a}},"binary<=":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)<=e(r,i,o,s);return n?{value:a}:a}},"binary>=":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)>=e(r,i,o,s);return n?{value:a}:a}},"binary&&":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)&&e(r,i,o,s);return n?{value:a}:a}},"binary||":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)||e(r,i,o,s);return n?{value:a}:a}},"ternary?:":function(t,e,n,r){return function(i,o,s,a){var l=t(i,o,s,a)?e(i,o,s,a):n(i,o,s,a);return r?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,s){var a=i&&t in i?i:r;n&&1!==n&&a&&null==a[t]&&(a[t]={});var l=a?a[t]:void 0;return e?{context:a,name:t,value:l}:l}},computedMember:function(t,e,n,r){return function(i,o,s,a){var l,c,u=t(i,o,s,a);return null!=u&&(l=Sr(l=e(i,o,s,a)),r&&1!==r&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(t,e,n,r){return function(i,o,s,a){var l=t(i,o,s,a);r&&1!==r&&l&&null==l[e]&&(l[e]={});var c=null!=l?l[e]:void 0;return n?{context:l,name:e,value:c}:c}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}},$r.prototype={constructor:$r,parse:function(t){var e=this.getAst(t),n=this.astCompiler.compile(e.ast);return n.literal=function(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Cr.Literal||t.body[0].expression.type===Cr.ArrayExpression||t.body[0].expression.type===Cr.ObjectExpression)}(e.ast),n.constant=function(t){return t.constant}(e.ast),n.oneTime=e.oneTime,n},getAst:function(t){var e=!1;return":"===(t=t.trim()).charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var Yr=o("$sce"),Xr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Kr=/_([a-z])/g;function Zr(t){return t.replace(Kr,Qt)}function Jr(t){var e=[];return U(t)&&E(t,(function(t){e.push(function(t){if("self"===t)return t;if(G(t)){if(t.indexOf("***")>-1)throw Yr("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=nt(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(X(t))return new RegExp("^"+t.source+"$");throw Yr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))})),e}function Qr(){this.SCE_CONTEXTS=Xr;var e=["self"],n=[];this.trustedResourceUrlList=function(t){return arguments.length&&(e=Jr(t)),e},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(t){this.trustedResourceUrlList=t}}),this.bannedResourceUrlList=function(t){return arguments.length&&(n=Jr(t)),n},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(t){this.bannedResourceUrlList=t}}),this.$get=["$injector","$$sanitizeUri",function(r,i){var o=function(t){throw Yr("unsafe","Attempting to use an unsafe value in a safe context.")};function s(e,n){return"self"===e?pi(n,hi)||function(e){return pi(e,function(){if(t.document.baseURI)return t.document.baseURI;ci||((ci=t.document.createElement("a")).href=".",ci=ci.cloneNode(!1));return ci.href}())}(n):!!e.exec(n.href)}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}r.has("$sanitize")&&(o=r.get("$sanitize"));var l=a(),c={};return c[Xr.HTML]=a(l),c[Xr.CSS]=a(l),c[Xr.MEDIA_URL]=a(l),c[Xr.URL]=a(c[Xr.MEDIA_URL]),c[Xr.JS]=a(l),c[Xr.RESOURCE_URL]=a(c[Xr.URL]),{trustAs:function(t,e){var n=c.hasOwnProperty(t)?c[t]:null;if(!n)throw Yr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||j(e)||""===e)return e;if("string"!=typeof e)throw Yr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,r){if(null===r||j(r)||""===r)return r;var a=c.hasOwnProperty(t)?c[t]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(Y(r.$$unwrapTrustedValue)&&(r=r.$$unwrapTrustedValue()),t===Xr.MEDIA_URL||t===Xr.URL)return i(r.toString(),t===Xr.MEDIA_URL);if(t===Xr.RESOURCE_URL){if(function(t){var r,i,o=fi(t.toString()),a=!1;for(r=0,i=e.length;r<i;r++)if(s(e[r],o)){a=!0;break}if(a)for(r=0,i=n.length;r<i;r++)if(s(n[r],o)){a=!1;break}return a}(r))return r;throw Yr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",r.toString())}if(t===Xr.HTML)return o(r);throw Yr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof l?t.$$unwrapTrustedValue():t}}}]}function ti(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&s<8)throw Yr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=Ht(Xr);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=$),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,(function(e){return r.getTrusted(t,e)}))};var i=r.parseAs,o=r.getTrusted,a=r.trustAs;return E(Xr,(function(t,e){var n=f(e);r[Zr("parse_as_"+n)]=function(e){return i(t,e)},r[Zr("get_trusted_"+n)]=function(e){return o(t,e)},r[Zr("trust_as_"+n)]=function(e){return a(t,e)}})),r}]}function ei(){this.$get=["$window","$document",function(t,e){var n={},r=!(!(t.nw&&t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,i=R((/android (\d+)/.exec(f((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},l=a.body&&a.body.style,c=!1,u=!1;return l&&(c=!(!("transition"in l)&&!("webkitTransition"in l)),u=!(!("animation"in l)&&!("webkitAnimation"in l))),{history:!(!r||i<4||o),hasEvent:function(t){if("input"===t&&s)return!1;if(j(n[t])){var e=a.createElement("div");n[t]="on"+t in e}return n[t]},csp:ut(),transitions:c,animations:u,android:i}}]}function ni(){this.$get=L((function(t){return new ri(t)}))}function ri(t){var e=this,n={},r=[],i=e.ALL_TASKS_TYPE="$$all$$",o=e.DEFAULT_TASK_TYPE="$$default$$";function s(){var t=r.pop();return t&&t.cb}function a(t){for(var e=r.length-1;e>=0;--e){var n=r[e];if(n.type===t)return r.splice(e,1),n.cb}}e.completeTask=function(e,r){r=r||o;try{e()}finally{!function(t){t=t||o,n[t]&&(n[t]--,n[i]--)}(r);var l=n[r],c=n[i];if(!c||!l)for(var u,h=c?a:s;u=h(r);)try{u()}catch(e){t.error(e)}}},e.incTaskCount=function(t){n[t=t||o]=(n[t]||0)+1,n[i]=(n[i]||0)+1},e.notifyWhenNoPendingTasks=function(t,e){n[e=e||i]?r.push({type:e,cb:t}):t()}}var ii=o("$templateRequest");function oi(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function s(a,l){s.totalPendingRequests++,G(a)&&!j(n.get(a))||(a=o.getTrustedResourceUrl(a));var c=r.defaults&&r.defaults.transformResponse;return q(c)?c=c.filter((function(t){return t!==zn})):c===zn&&(c=null),r.get(a,I({cache:n,transformResponse:c},t)).finally((function(){s.totalPendingRequests--})).then((function(t){return n.put(a,t.data)}),(function(t){l||(t=ii("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText),e(t));return i.reject(t)}))}return s.totalPendingRequests=0,s}]}function si(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={findBindings:function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return E(r,(function(t){var r=x.element(t).data("$binding");r&&E(r,(function(r){n?new RegExp("(^|\\s)"+nt(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!==r.indexOf(e)&&i.push(t)}))})),i},findModels:function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+e+'"]',s=t.querySelectorAll(o);if(s.length)return s}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}};return r}]}var ai=o("$timeout");function li(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){var o={};function s(s,a,l){Y(s)||(l=a,a=s,s=D);var c,u=ft(arguments,3),h=U(l)&&!l,d=(h?r:n).defer(),f=d.promise;return c=e.defer((function(){try{d.resolve(s.apply(null,u))}catch(t){d.reject(t),i(t)}finally{delete o[f.$$timeoutId]}h||t.$apply()}),a,"$timeout"),f.$$timeoutId=c,o[c]=d,f}return s.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$timeoutId"))throw ai("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!o.hasOwnProperty(t.$$timeoutId))return!1;var n=t.$$timeoutId,r=o[n];return Hr(r.promise),r.reject("canceled"),delete o[n],e.defer.cancel(n)},s}]}var ci,ui=t.document.createElement("a"),hi=fi(t.location.href);ui.href="http://[::1]";var di="[::1]"===ui.hostname;function fi(t){if(!G(t))return t;var e=t;s&&(ui.setAttribute("href",e),e=ui.href),ui.setAttribute("href",e);var n=ui.hostname;return!di&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:ui.href,protocol:ui.protocol?ui.protocol.replace(/:$/,""):"",host:ui.host,search:ui.search?ui.search.replace(/^\?/,""):"",hash:ui.hash?ui.hash.replace(/^#/,""):"",hostname:n,port:ui.port,pathname:"/"===ui.pathname.charAt(0)?ui.pathname:"/"+ui.pathname}}function pi(t,e){return t=fi(t),e=fi(e),t.protocol===e.protocol&&t.host===e.host}function gi(){this.$get=L(t)}function mi(t){var e=t[0]||{},n={},r="";function i(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,o,s,a,l,c=function(t){try{return t.cookie||""}catch(t){return""}}(e);if(c!==r)for(t=(r=c).split("; "),n={},s=0;s<t.length;s++)(a=(o=t[s]).indexOf("="))>0&&(l=i(o.substring(0,a)),j(n[l])&&(n[l]=i(o.substring(a+1))));return n}}function yi(){this.$get=mi}function _i(t){var e="Filter";function n(r,i){if(B(r)){var o={};return E(r,(function(t,e){o[e]=n(e,t)})),o}return t.factory(r+e,i)}this.register=n,this.$get=["$injector",function(t){return function(n){return t.get(n+e)}}],n("currency",Ti),n("date",Li),n("filter",vi),n("json",Fi),n("limitTo",Bi),n("lowercase",ji),n("number",Ci),n("orderBy",Gi),n("uppercase",Ui)}function vi(){return function(t,e,n,r){if(!w(t)){if(null==t)return t;throw o("filter")("notarray","Expected array but received: {0}",t)}var i,s;switch(r=r||"$",xi(e)){case"function":i=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":i=function(t,e,n,r){var i,o=B(t)&&n in t;!0===e?e=ct:Y(e)||(e=function(t,e){return!j(t)&&(null===t||null===e?t===e:!(B(e)||B(t)&&!F(t))&&(t=f(""+t),e=f(""+e),-1!==t.indexOf(e)))});return i=function(i){return o&&!B(i)?bi(i,t[n],e,n,!1):bi(i,t,e,n,r)},i}(e,n,r,s);break;default:return t}return Array.prototype.filter.call(t,i)}}function bi(t,e,n,r,i,o){var s=xi(t),a=xi(e);if("string"===a&&"!"===e.charAt(0))return!bi(t,e.substring(1),n,r,i);if(q(t))return t.some((function(t){return bi(t,e,n,r,i)}));switch(s){case"object":var l;if(i){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&bi(t[l],e,n,r,!0))return!0;return!o&&bi(t,e,n,r,!1)}if("object"===a){for(l in e){var c=e[l];if(!Y(c)&&!j(c)){var u=l===r;if(!bi(u?t:t[l],c,n,r,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function xi(t){return null===t?"null":typeof t}mi.$inject=["$document"],_i.$inject=["$provide"];var Si=22,wi=".",Ei="0";function Ti(t){var e=t.NUMBER_FORMATS;return function(t,n,r){j(n)&&(n=e.CURRENCY_SYM),j(r)&&(r=e.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:Mi(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(i,n)}}function Ci(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Mi(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Mi(t,e,n,r,i){if(!G(t)&&!H(t)||isNaN(t))return"";var o,s=!isFinite(t),a=!1,l=Math.abs(t)+"",c="";if(s)c="∞";else{o=function(t){var e,n,r,i,o,s=0;for((n=t.indexOf(wi))>-1&&(t=t.replace(wi,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===Ei;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Ei;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>Si&&(e=e.splice(0,Si-1),s=n-1,n=1),{d:e,e:s,i:n}}(l),function(t,e,n,r){var i=t.d,o=i.length-t.i,s=(e=j(e)?Math.min(Math.max(n,o),r):+e)+t.i,a=i[s];if(s>0){i.splice(Math.max(t.i,s));for(var l=s;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,s=e+1),i[0]=0;for(var c=1;c<s;c++)i[c]=0}if(a>=5)if(s-1<0){for(var u=0;u>s;u--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[s-1]++;for(;o<Math.max(0,e);o++)i.push(0);var h=i.reduceRight((function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)}),0);h&&(i.unshift(h),t.i++)}(o,i,e.minFrac,e.maxFrac);var u=o.d,h=o.i,d=o.e,f=[];for(a=u.reduce((function(t,e){return t&&!e}),!0);h<0;)u.unshift(0),h++;h>0?f=u.splice(h,u.length):(f=u,u=[0]);var p=[];for(u.length>=e.lgSize&&p.unshift(u.splice(-e.lgSize,u.length).join(""));u.length>e.gSize;)p.unshift(u.splice(-e.gSize,u.length).join(""));u.length&&p.unshift(u.join("")),c=p.join(n),f.length&&(c+=r+f.join("")),d&&(c+="e+"+d)}return t<0&&!a?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Ai(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=Ei+t;return n&&(t=t.substr(t.length-e)),i+t}function ki(t,e,n,r,i){return n=n||0,function(o){var s=o["get"+t]();return(n>0||s>-n)&&(s+=n),0===s&&-12===n&&(s=12),Ai(s,e,r,i)}}function Ii(t,e,n){return function(r,i){var o=r["get"+t]();return i[p((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function Pi(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Ri(t){return function(e){var n,r=Pi(e.getFullYear()),i=+(n=e,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+r;return Ai(1+Math.round(i/6048e5),t)}}function Oi(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}Ti.$inject=["$locale"],Ci.$inject=["$locale"];var Ni={yyyy:ki("FullYear",4,0,!1,!0),yy:ki("FullYear",2,0,!0,!0),y:ki("FullYear",1,0,!1,!0),MMMM:Ii("Month"),MMM:Ii("Month",!0),MM:ki("Month",2,1),M:ki("Month",1,1),LLLL:Ii("Month",!1,!0),dd:ki("Date",2),d:ki("Date",1),HH:ki("Hours",2),H:ki("Hours",1),hh:ki("Hours",2,-12),h:ki("Hours",1,-12),mm:ki("Minutes",2),m:ki("Minutes",1),ss:ki("Seconds",2),s:ki("Seconds",1),sss:ki("Milliseconds",3),EEEE:Ii("Day"),EEE:Ii("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Ai(Math[r>0?"floor":"ceil"](r/60),2)+Ai(Math.abs(r%60),2)},ww:Ri(2),w:Ri(1),G:Oi,GG:Oi,GGG:Oi,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},Di=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,$i=/^-?\d+$/;function Li(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,a="",l=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,G(n)&&(n=$i.test(n)?R(n):function(t){var n;if(n=t.match(e)){var r=new Date(0),i=0,o=0,s=n[8]?r.setUTCFullYear:r.setFullYear,a=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=R(n[9]+n[10]),o=R(n[9]+n[11])),s.call(r,R(n[1]),R(n[2])-1,R(n[3]));var l=R(n[4]||0)-i,c=R(n[5]||0)-o,u=R(n[6]||0),h=Math.round(1e3*parseFloat("0."+(n[7]||0)));return a.call(r,l,c,u,h),r}return t}(n)),H(n)&&(n=new Date(n)),!W(n)||!isFinite(n.getTime()))return n;for(;r;)(s=Di.exec(r))?r=(l=dt(l,s,1)).pop():(l.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=vt(i,c),n=xt(n,i,!0)),E(l,(function(e){o=Ni[e],a+=o?o(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),a}}function Fi(){return function(t,e){return j(e)&&(e=2),mt(t,e)}}Li.$inject=["$locale"];var ji=L(f),Ui=L(p);function Bi(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):R(e),O(e)?t:(H(t)&&(t=t.toString()),w(t)?(n=(n=!n||isNaN(n)?0:R(n))<0?Math.max(0,t.length+n):n,e>=0?zi(t,n,n+e):0===n?zi(t,e,t.length):zi(t,Math.max(0,n+e),n)):t)}}function zi(t,e,n){return G(t)?t.slice(e,n):g.call(t,e,n)}function Gi(t){return function(r,i,s,a){if(null==r)return r;if(!w(r))throw o("orderBy")("notarray","Expected array but received: {0}",r);q(i)||(i=[i]),0===i.length&&(i=["+"]);var l=i.map((function(e){var n=1,r=$;if(Y(e))r=e;else if(G(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e)).constant)){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})),c=s?-1:1,u=Y(a)?a:n,h=Array.prototype.map.call(r,(function(t,n){return{value:t,tieBreaker:{value:n,type:"number",index:n},predicateValues:l.map((function(r){return function(t,n){var r=typeof t;null===t?r="null":"object"===r&&(t=function(t){if(Y(t.valueOf)&&e(t=t.valueOf()))return t;if(F(t)&&e(t=t.toString()))return t;return t}(t));return{value:t,type:r,index:n}}(r.get(t),n)}))}}));return h.sort((function(t,e){for(var r=0,i=l.length;r<i;r++){var o=u(t.predicateValues[r],e.predicateValues[r]);if(o)return o*l[r].descending*c}return(u(t.tieBreaker,e.tieBreaker)||n(t.tieBreaker,e.tieBreaker))*c})),r=h.map((function(t){return t.value}))};function e(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function n(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,s=e.value;"string"===r?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===r&&(B(o)&&(o=t.index),B(s)&&(s=e.index)),o!==s&&(n=o<s?-1:1)}else n="undefined"===r?1:"undefined"===i?-1:"null"===r?1:"null"===i||r<i?-1:1;return n}}function Hi(t){return Y(t)&&(t={link:t}),t.restrict=t.restrict||"AC",L(t)}Gi.$inject=["$parse"];var Wi=L({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===_.call(e.prop("href"))?"xlink:href":"href";e.on("click",(function(t){e.attr(n)||t.preventDefault()}))}}}}),qi={};E(Oe,(function(t,e){if("multiple"!==t){var n=Sn("ng-"+e),r=i;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[n]&&i(t,0,r)}),qi[n]=function(){return{restrict:"A",priority:100,link:r}}}function i(t,r,i){t.$watch(i[n],(function(t){i.$set(e,!!t)}))}})),E(De,(function(t,e){qi[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(u);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],(function(t){r.$set(e,t)}))}}}})),E(["src","srcset","href"],(function(t){var e=Sn("ng-"+t);qi[e]=["$sce",function(n){return{priority:99,link:function(r,i,o){var a=t,l=t;"href"===t&&"[object SVGAnimatedString]"===_.call(i.prop("href"))&&(l="xlinkHref",o.$attr[l]="xlink:href",a=null),o.$set(e,n.getTrustedMediaUrl(o[e])),o.$observe(e,(function(e){e?(o.$set(l,e),s&&a&&i.prop(a,o[l])):"href"===t&&o.$set(l,null)}))}}}]}));var Vi={$addControl:D,$getControls:L([]),$$renameControl:function(t,e){t.$name=e},$removeControl:D,$setValidity:D,$setDirty:D,$setPristine:D,$setSubmitted:D,$$setSubmitted:D},Yi="ng-pending",Xi="ng-submitted";function Ki(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Vi,this.$$element=t,this.$$animate=r,to(this)}Ki.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ki.prototype={$rollbackViewValue:function(){E(this.$$controls,(function(t){t.$rollbackViewValue()}))},$commitViewValue:function(){E(this.$$controls,(function(t){t.$commitViewValue()}))},$addControl:function(t){jt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$getControls:function(){return Ht(this.$$controls)},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],E(this.$pending,(function(e,n){this.$setValidity(n,null,t)}),this),E(this.$error,(function(e,n){this.$setValidity(n,null,t)}),this),E(this.$$success,(function(e,n){this.$setValidity(n,null,t)}),this),st(this.$$controls,t),t.$$parentForm=Vi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ko),this.$$animate.addClass(this.$$element,Zo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ko,Zo+" "+Xi),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,E(this.$$controls,(function(t){t.$setPristine()}))},$setUntouched:function(){E(this.$$controls,(function(t){t.$setUntouched()}))},$setSubmitted:function(){for(var t=this;t.$$parentForm&&t.$$parentForm!==Vi;)t=t.$$parentForm;t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Xi),this.$submitted=!0,E(this.$$controls,(function(t){t.$$setSubmitted&&t.$$setSubmitted()}))}},eo({clazz:Ki,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(st(r,n),0===r.length&&delete t[e])}});var Zi=function(t){return["$timeout","$parse",function(e,n){return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Ki,compile:function(n,i){n.addClass(Ko).addClass(Yo);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,s){var a=s[0];if(!("action"in i)){var l=function(e){t.$apply((function(){a.$commitViewValue(),a.$setSubmitted()})),e.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",(function(){e((function(){n[0].removeEventListener("submit",l)}),0,!1)}))}(s[1]||a.$$parentForm).$addControl(a);var c=o?r(a.$name):D;o&&(c(t,a),i.$observe(o,(function(e){a.$name!==e&&(c(t,void 0),a.$$parentForm.$$renameControl(a,e),(c=r(a.$name))(t,a))}))),n.on("$destroy",(function(){a.$$parentForm.$removeControl(a),c(t,void 0),I(a,Vi)}))}}}};function r(t){return""===t?n('this[""]').assign:n(t).assign||D}}]},Ji=Zi(),Qi=Zi(!0);function to(t){t.$$classCache={},t.$$classCache[Xo]=!(t.$$classCache[Yo]=t.$$element.hasClass(Yo))}function eo(t){var e=t.clazz,n=t.set,r=t.unset;function i(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function o(t,e,n){e=e?"-"+Nt(e,"-"):"",i(t,Yo+e,!0===n),i(t,Xo+e,!1===n)}e.prototype.$setValidity=function(t,e,s){var a;j(e)?function(t,e,r,i){t[e]||(t[e]={});n(t[e],r,i)}(this,"$pending",t,s):function(t,e,n,i){t[e]&&r(t[e],n,i);no(t[e])&&(t[e]=void 0)}(this,"$pending",t,s),J(e)?e?(r(this.$error,t,s),n(this.$$success,t,s)):(n(this.$error,t,s),r(this.$$success,t,s)):(r(this.$error,t,s),r(this.$$success,t,s)),this.$pending?(i(this,Yi,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(i(this,Yi,!1),this.$valid=no(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,t,a=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,a,this)}}function no(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var ro=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,io=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,oo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,so=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ao=/^(\d{4,})-(\d{2})-(\d{2})$/,lo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,co=/^(\d{4,})-W(\d\d)$/,uo=/^(\d{4,})-(\d\d)$/,ho=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fo=Bt();E("date,datetime-local,month,time,week".split(","),(function(t){fo[t]=!0}));var po={text:function(t,e,n,r,i,o){mo(t,e,n,r,i,o),go(r)},date:_o("date",ao,yo(ao,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":_o("datetimelocal",lo,yo(lo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:_o("time",ho,yo(ho,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:_o("week",co,(function(t,e){if(W(t))return t;if(G(t)){co.lastIndex=0;var n=co.exec(t);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,l=0,c=Pi(r),u=7*(i-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,c.getDate()+u,o,s,a,l)}}return NaN}),"yyyy-Www"),month:_o("month",uo,yo(uo,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,r,i,o,s,a){var l;if(vo(t,e,n,r,"number"),bo(r),mo(t,e,n,r,i,o),U(n.min)||n.ngMin){var c=n.min||a(n.ngMin)(t);l=xo(c),r.$validators.min=function(t,e){return r.$isEmpty(e)||j(l)||e>=l},n.$observe("min",(function(t){t!==c&&(l=xo(t),c=t,r.$validate())}))}if(U(n.max)||n.ngMax){var u=n.max||a(n.ngMax)(t),h=xo(u);r.$validators.max=function(t,e){return r.$isEmpty(e)||j(h)||e<=h},n.$observe("max",(function(t){t!==u&&(h=xo(t),u=t,r.$validate())}))}if(U(n.step)||n.ngStep){var d=n.step||a(n.ngStep)(t),f=xo(d);r.$validators.step=function(t,e){return r.$isEmpty(e)||j(f)||Eo(e,l||0,f)},n.$observe("step",(function(t){t!==d&&(f=xo(t),d=t,r.$validate())}))}},url:function(t,e,n,r,i,o){mo(t,e,n,r,i,o),go(r),r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||io.test(n)}},email:function(t,e,n,r,i,o){mo(t,e,n,r,i,o),go(r),r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||oo.test(n)}},radio:function(t,e,n,r){var i=!n.ngTrim||"false"!==et(n.ngTrim);j(n.name)&&e.attr("name",M());e.on("change",(function(t){var o;e[0].checked&&(o=n.value,i&&(o=et(o)),r.$setViewValue(o,t&&t.type))})),r.$render=function(){var t=n.value;i&&(t=et(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)},range:function(t,e,n,r,i,o){vo(t,e,n,r,"range"),bo(r),mo(t,e,n,r,i,o);var s=r.$$hasNativeValidators&&"range"===e[0].type,a=s?0:void 0,l=s?100:void 0,c=s?1:void 0,u=e[0].validity,h=U(n.min),d=U(n.max),f=U(n.step),p=r.$render;r.$render=s&&U(u.rangeUnderflow)&&U(u.rangeOverflow)?function(){p(),r.$setViewValue(e.val())}:p,h&&(a=xo(n.min),r.$validators.min=s?function(){return!0}:function(t,e){return r.$isEmpty(e)||j(a)||e>=a},g("min",(function(t){if(a=xo(t),O(r.$modelValue))return;if(s){var n=e.val();a>n&&(n=a,e.val(n)),r.$setViewValue(n)}else r.$validate()})));d&&(l=xo(n.max),r.$validators.max=s?function(){return!0}:function(t,e){return r.$isEmpty(e)||j(l)||e<=l},g("max",(function(t){if(l=xo(t),O(r.$modelValue))return;if(s){var n=e.val();l<n&&(e.val(l),n=l<a?a:l),r.$setViewValue(n)}else r.$validate()})));f&&(c=xo(n.step),r.$validators.step=s?function(){return!u.stepMismatch}:function(t,e){return r.$isEmpty(e)||j(c)||Eo(e,a||0,c)},g("step",(function(t){if(c=xo(t),O(r.$modelValue))return;s?r.$viewValue!==e.val()&&r.$setViewValue(e.val()):r.$validate()})));function g(t,r){e.attr(t,n[t]);var i=n[t];n.$observe(t,(function(t){t!==i&&(i=t,r(t))}))}},checkbox:function(t,e,n,r,i,o,s,a){var l=To(a,t,"ngTrueValue",n.ngTrueValue,!0),c=To(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("change",(function(t){r.$setViewValue(e[0].checked,t&&t.type)})),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push((function(t){return ct(t,l)})),r.$parsers.push((function(t){return t?l:c}))},hidden:D,button:D,submit:D,reset:D,file:D};function go(t){t.$formatters.push((function(e){return t.$isEmpty(e)?e:e.toString()}))}function mo(t,e,n,r,i,o){var s,a=f(e[0].type);if(!i.android){var l=!1;e.on("compositionstart",(function(){l=!0})),e.on("compositionupdate",(function(t){(j(t.data)||""===t.data)&&(l=!1)})),e.on("compositionend",(function(){l=!1,c()}))}var c=function(t){if(s&&(o.defer.cancel(s),s=null),!l){var i=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=et(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var u=function(t,e,n){s||(s=o.defer((function(){s=null,e&&e.value===n||c(t)})))};e.on("keydown",(function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||u(t,this,this.value)})),i.hasEvent("paste")&&e.on("paste cut drop",u)}e.on("change",c),fo[a]&&r.$$hasNativeValidators&&a===n.type&&e.on("keydown wheel mousedown",(function(t){if(!s){var e=this[h],n=e.badInput,r=e.typeMismatch;s=o.defer((function(){s=null,e.badInput===n&&e.typeMismatch===r||c(t)}))}})),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function yo(t,e){return function(n,r){var i,o;if(W(n))return n;if(G(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ro.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n)){i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},E(i,(function(t,n){n<e.length&&(o[e[n]]=+t)}));var s=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0);return o.yyyy<100&&s.setFullYear(o.yyyy),s}}return NaN}}function _o(t,e,n,r){return function(i,o,s,a,l,c,u,h){vo(i,o,s,a,t),mo(0,o,s,a,l,c);var d,f,p="time"===t||"datetimelocal"===t;if(a.$parsers.push((function(n){return a.$isEmpty(n)?null:e.test(n)?x(n,d):void(a.$$parserName=t)})),a.$formatters.push((function(t){if(t&&!W(t))throw ns("datefmt","Expected `{0}` to be a date",t);if(v(t)){d=t;var e=a.$options.getOption("timezone");return e&&(f=e,d=xt(d,e,!0)),function(t,e){var n=r;p&&G(a.$options.getOption("timeSecondsFormat"))&&(n=r.replace("ss.sss",a.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=u("date")(t,n,e);p&&a.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,""));return i}(t,e)}return d=null,f=null,""})),U(s.min)||s.ngMin){var g=s.min||h(s.ngMin)(i),m=b(g);a.$validators.min=function(t){return!v(t)||j(m)||n(t)>=m},s.$observe("min",(function(t){t!==g&&(m=b(t),g=t,a.$validate())}))}if(U(s.max)||s.ngMax){var y=s.max||h(s.ngMax)(i),_=b(y);a.$validators.max=function(t){return!v(t)||j(_)||n(t)<=_},s.$observe("max",(function(t){t!==y&&(_=b(t),y=t,a.$validate())}))}function v(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function b(t){return U(t)&&!W(t)?x(t)||void 0:t}function x(t,e){var r=a.$options.getOption("timezone");f&&f!==r&&(e=bt(e,vt(f)));var i=n(t,e);return!isNaN(i)&&r&&(i=xt(i,r)),i}}}function vo(t,e,n,r,i){var o=e[0];(r.$$hasNativeValidators=B(o.validity))&&r.$parsers.push((function(t){var n=e.prop(h)||{};if(!n.badInput&&!n.typeMismatch)return t;r.$$parserName=i}))}function bo(t){t.$parsers.push((function(e){return t.$isEmpty(e)?null:so.test(e)?parseFloat(e):void(t.$$parserName="number")})),t.$formatters.push((function(e){if(!t.$isEmpty(e)){if(!H(e))throw ns("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}))}function xo(t){return U(t)&&!H(t)&&(t=parseFloat(t)),O(t)?void 0:t}function So(t){return(0|t)===t}function wo(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function Eo(t,e,n){var r=Number(t),i=!So(r),o=!So(e),s=!So(n);if(i||o||s){var a=i?wo(r):0,l=o?wo(e):0,c=s?wo(n):0,u=Math.max(a,l,c),h=Math.pow(10,u);r*=h,e*=h,n*=h,i&&(r=Math.round(r)),o&&(e=Math.round(e)),s&&(n=Math.round(n))}return(r-e)%n==0}function To(t,e,n,r,i){var o;if(U(r)){if(!(o=t(r)).constant)throw ns("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}var Co=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(po[f(s.type)]||po.text)(i,o,s,a[0],e,t,n,r)}}}}],Mo=function(){var t={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(t){this.setAttribute("value",t)}};return{restrict:"E",priority:200,compile:function(e,n){if("hidden"===f(n.type))return{pre:function(e,n,r,i){var o=n[0];o.parentNode&&o.parentNode.insertBefore(o,o.nextSibling),Object.defineProperty&&Object.defineProperty(o,"value",t)}}}}},Ao=/^(true|false|\d+)$/,ko=function(){function t(t,e,n){var r=U(n)?n:9===s?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return Ao.test(n.ngValue)?function(e,n,r){t(n,r,e.$eval(r.ngValue))}:function(e,n,r){e.$watch(r.ngValue,(function(e){t(n,r,e)}))}}}},Io=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,(function(t){n.textContent=zt(t)}))}}}}],Po=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",(function(t){r.textContent=j(t)?"":t}))}}}}],Ro=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),s=e(i.ngBindHtml,(function(e){return t.valueOf(e)}));return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(s,(function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")}))}}}}],Oo=L({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push((function(){t.$eval(n.ngChange)}))}});function No(t,e){var n;return t="ngClass"+t,["$parse",function(s){return{restrict:"AC",link:function(a,l,c){var u,h=l.data("$classCounts"),d=!0;function f(t,e){var n=[];return E(t,(function(t){(e>0||h[t])&&(h[t]=(h[t]||0)+e,h[t]===+(e>0)&&n.push(t))})),n.join(" ")}h||(h=Bt(),l.data("$classCounts",h)),"ngClass"!==t&&(n||(n=s("$index",(function(t){return 1&t}))),a.$watch(n,(function(t){t===e?(n=f(i(n=u),1),c.$addClass(n)):function(t){t=f(i(t),-1),c.$removeClass(t)}(u);var n;d=t}))),a.$watch(s(c[t],o),(function(t){d===e&&function(t,e){var n=i(t),o=i(e),s=r(n,o),a=r(o,n),l=f(s,-1),u=f(a,1);c.$addClass(u),c.$removeClass(l)}(u,t);u=t}))}}}];function r(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function i(t){return t&&t.split(" ")}function o(t){if(!t)return t;var e=t;return q(t)?e=t.map(o).join(" "):B(t)?e=Object.keys(t).filter((function(e){return t[e]})).join(" "):G(t)||(e=t+""),e}}var Do=No("",!0),$o=No("Odd",0),Lo=No("Even",1),Fo=Hi({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),jo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Uo={},Bo={blur:!0,focus:!0};function zo(t,e,n,r,i,o){return{restrict:"A",compile:function(s,a){var l=t(a[r]);return function(t,r){r.on(i,(function(r){var i=function(){l(t,{$event:r})};if(e.$$phase)if(o)t.$evalAsync(i);else try{i()}catch(t){n(t)}else t.$apply(i)}))}}}}E("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(t){var e=Sn("ng-"+t);Uo[e]=["$parse","$rootScope","$exceptionHandler",function(n,r,i){return zo(n,r,i,e,t,Bo[t])}]}));var Go=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,l,c;n.$watch(i.ngIf,(function(n){n?l||s((function(n,o){l=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),a={clone:n},t.enter(n,r.parent(),r)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=Ut(a.clone),t.leave(c).done((function(t){!1!==t&&(c=null)})),a=null))}))}}}],Ho=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:x.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,l,c,u){var h,d,f,p=0,g=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).done((function(t){!1!==t&&(d=null)})),d=f,f=null)};r.$watch(o,(function(o){var l=function(t){!1===t||!U(a)||a&&!r.$eval(a)||e()},d=++p;o?(t(o,!0).then((function(t){if(!r.$$destroyed&&d===p){var e=r.$new();c.template=t;var a=u(e,(function(t){g(),n.enter(t,null,i).done(l)}));f=a,(h=e).$emit("$includeContentLoaded",o),r.$eval(s)}}),(function(){r.$$destroyed||d===p&&(g(),r.$emit("$includeContentError",o))})),r.$emit("$includeContentRequested",o)):(g(),c.template=null)}))}}}}],Wo=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(_.call(r[0]).match(/SVG/))return r.empty(),void e(de(o.template,t.document).childNodes)(n,(function(t){r.append(t)}),{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],qo=Hi({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Vo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,s=o?et(i):i;r.$parsers.push((function(t){if(!j(t)){var e=[];return t&&E(t.split(s),(function(t){t&&e.push(o?et(t):t)})),e}})),r.$formatters.push((function(t){if(q(t))return t.join(i)})),r.$isEmpty=function(t){return!t||!t.length}}}},Yo="ng-valid",Xo="ng-invalid",Ko="ng-pristine",Zo="ng-dirty",Jo="ng-untouched",Qo="ng-touched",ts="ng-empty",es="ng-not-empty",ns=o("ngModel");function rs(t,e,n,r,i,o,s,a,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=Vi,this.$options=is,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=t,this.$$rootScope=t.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=s,this.$$parse=i,this.$$q=a,this.$$exceptionHandler=e,to(this),(c=this).$$scope.$watch((function(t){var e=c.$$ngModelGet(t);return e===c.$modelValue||c.$modelValue!=c.$modelValue&&e!=e||c.$$setModelValue(e),e}))}rs.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],rs.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return Y(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){Y(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw ns("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,St(this.$$element))},$render:D,$isEmpty:function(t){return j(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,es),this.$$animate.addClass(this.$$element,ts)):(this.$$animate.removeClass(this.$$element,ts),this.$$animate.addClass(this.$$element,es))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Zo),this.$$animate.addClass(this.$$element,Ko)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ko),this.$$animate.addClass(this.$$element,Zo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Jo,Qo)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Qo,Jo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!O(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,(function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())}))}},$$runValidators:function(t,e,n){this.$$currentValidationRunId++;var r,i,o=this.$$currentValidationRunId,s=this;(function(){var t=s.$$parserName;if(!j(s.$$parserValid))return s.$$parserValid||(E(s.$validators,(function(t,e){a(e,null)})),E(s.$asyncValidators,(function(t,e){a(e,null)}))),a(t,s.$$parserValid),s.$$parserValid;a(t,null);return!0})()?!function(){var n=!0;if(E(s.$validators,(function(r,i){var o=Boolean(r(t,e));n=n&&o,a(i,o)})),!n)return E(s.$asyncValidators,(function(t,e){a(e,null)})),!1;return!0}()?l(!1):(r=[],i=!0,E(s.$asyncValidators,(function(n,o){var s=n(t,e);if(!Q(s))throw ns("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,void 0),r.push(s.then((function(){a(o,!0)}),(function(){i=!1,a(o,!1)})))})),r.length?s.$$q.all(r).then((function(){l(i)}),D):l(!0)):l(!1);function a(t,e){o===s.$$currentValidationRunId&&s.$setValidity(t,e)}function l(t){o===s.$$currentValidationRunId&&n(t)}},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=!j(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(j(t=this.$parsers[n](t))){this.$$parserValid=!1;break}O(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){e.$modelValue!==r&&e.$$writeModelToScope()}this.$$rawModelValue=t,i&&(this.$modelValue=t,o()),this.$$runValidators(t,this.$$lastCommittedViewValue,(function(n){i||(e.$modelValue=n?t:void 0,o())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),E(this.$viewChangeListeners,(function(t){try{t()}catch(t){this.$$exceptionHandler(t)}}),this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");H(e[t])?e=e[t]:H(e.default)&&-1===this.$options.getOption("updateOn").indexOf(t)?e=e.default:H(e["*"])&&(e=e["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),e):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,D))},$$format:function(){for(var t=this.$formatters,e=t.length,n=this.$modelValue;e--;)n=t[e](n);return n},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},eo({clazz:rs,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var is,os=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:rs,priority:1,compile:function(e){return e.addClass(Ko).addClass(Jo).addClass(Yo),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,s=r[2];s&&(i.$options=s.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",(function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)})),t.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(e,n,r,i){var o=i[0];function s(){o.$setTouched()}o.$$setUpdateOnEvents(),n.on("blur",(function(){o.$touched||(t.$$phase?e.$evalAsync(s):e.$apply(s))}))}}}}}],ss=/(\s+|^)default(\s+|$)/;function as(t){this.$$options=t}as.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return E(t=I({},t),(function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=et(n.replace(ss,(function(){return t.updateOnDefault=!0," "}))))}),this),e&&(delete t["*"],cs(t,this.$$options)),cs(t,is.$$options),new as(t)}},is=new as({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ls=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:is,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}};function cs(t,e){E(e,(function(e,n){U(t[n])||(t[n]=e)}))}var us=Hi({terminal:!0,priority:1e3}),hs=o("ngOptions"),ds=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,fs=["$compile","$document","$parse",function(e,n,r){var i=t.document.createElement("option"),o=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=D},post:function(t,s,l,c){for(var u=c[0],h=c[1],d=l.multiple,f=0,p=s.children(),g=p.length;f<g;f++)if(""===p[f].value){u.hasEmptyOption=!0,u.emptyOption=p.eq(f);break}s.empty();var m,y=!!u.emptyOption;a(i.cloneNode(!1)).val("?");var _=function(t,e,n){var i=t.match(ds);if(!i)throw hs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,St(e));var o=i[5]||i[7],s=i[6],a=/ as /.test(i[0])&&i[1],l=i[9],c=r(i[2]?i[1]:o),u=a&&r(a)||c,h=l&&r(l),d=l?function(t,e){return h(n,e)}:function(t){return Ue(t)},f=function(t,e){return d(t,v(t,e))},p=r(i[2]||i[1]),g=r(i[3]||""),m=r(i[4]||""),y=r(i[8]),_={},v=s?function(t,e){return _[s]=e,_[o]=t,_}:function(t){return _[o]=t,_};function b(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function x(t){var e;if(!s&&w(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}return{trackBy:l,getTrackByValue:f,getWatchables:r(y,(function(t){for(var e=[],r=x(t=t||[]),o=r.length,s=0;s<o;s++){var a=t===r?s:r[s],l=t[a],c=v(l,a),u=d(l,c);if(e.push(u),i[2]||i[1]){var h=p(n,c);e.push(h)}if(i[4]){var f=m(n,c);e.push(f)}}return e})),getOptions:function(){for(var t=[],e={},r=y(n)||[],i=x(r),o=i.length,s=0;s<o;s++){var a=r===i?s:i[s],c=r[a],h=v(c,a),_=u(n,h),S=d(_,h),w=new b(S,_,p(n,h),g(n,h),m(n,h));t.push(w),e[S]=w}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[f(t)]},getViewValueFromOption:function(t){return l?at(t.viewValue):t.viewValue}}}}}(l.ngOptions,s,t),v=n[0].createDocumentFragment();function b(t,e){var n=i.cloneNode(!1);e.appendChild(n),function(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label);e.value=t.selectValue}(t,n)}function x(t){var e=m.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}u.generateUnknownOptionValue=function(t){return"?"},d?(u.writeValue=function(t){if(m){var e=t&&t.map(x)||[];m.items.forEach((function(t){t.element.selected&&!ot(e,t)&&(t.element.selected=!1)}))}},u.readValue=function(){var t=s.val()||[],e=[];return E(t,(function(t){var n=m.selectValueMap[t];n&&!n.disabled&&e.push(m.getViewValueFromOption(n))})),e},_.trackBy&&t.$watchCollection((function(){if(q(h.$viewValue))return h.$viewValue.map((function(t){return _.getTrackByValue(t)}))}),(function(){h.$render()}))):(u.writeValue=function(t){if(m){var e=s[0].options[s[0].selectedIndex],n=m.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(s[0].value!==n.selectValue&&(u.removeUnknownOption(),s[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(t)}},u.readValue=function(){var t=m.selectValueMap[s.val()];return t&&!t.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),m.getViewValueFromOption(t)):null},_.trackBy&&t.$watch((function(){return _.getTrackByValue(h.$viewValue)}),(function(){h.$render()}))),y&&(e(u.emptyOption)(t),s.prepend(u.emptyOption),8===u.emptyOption[0].nodeType?(u.hasEmptyOption=!1,u.registerOption=function(t,e){""===e.val()&&(u.hasEmptyOption=!0,u.emptyOption=e,u.emptyOption.removeClass("ng-scope"),h.$render(),e.on("$destroy",(function(){var t=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,t&&h.$render()})))}):u.emptyOption.removeClass("ng-scope")),t.$watchCollection(_.getWatchables,(function(){var t=m&&u.readValue();if(m)for(var e=m.items.length-1;e>=0;e--){var n=m.items[e];U(n.group)?Ie(n.element.parentNode):Ie(n.element)}m=_.getOptions();var r={};if(m.items.forEach((function(t){var e;U(t.group)?((e=r[t.group])||(e=o.cloneNode(!1),v.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),b(t,e)):b(t,v)})),s[0].appendChild(v),h.$render(),!h.$isEmpty(t)){var i=u.readValue();(_.trackBy||d?ct(t,i):t===i)||(h.$setViewValue(i),h.$render())}}))}}}}],ps=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,a){var l,c=a.count,u=a.$attr.when&&s.attr(a.$attr.when),h=a.offset||0,d=o.$eval(u)||{},p={},g=e.startSymbol(),m=e.endSymbol(),y=g+c+"-"+h+m,_=x.noop;function v(t){s.text(t||"")}E(a,(function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+f(n[2]);d[r]=s.attr(a.$attr[e])}})),E(d,(function(t,n){p[n]=e(t.replace(r,y))})),o.$watch(c,(function(e){var r=parseFloat(e),i=O(r);if(i||r in d||(r=t.pluralCat(r-h)),!(r===l||i&&O(l))){_();var s=p[r];j(s)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+u),_=D,v()):_=o.$watch(s,v),l=r}}))}}}],gs=o("ngRef"),ms=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,n){var r=Sn(it(e)),i=t(n.ngRef),o=i.assign||function(){throw gs("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(t,e,s){var a;if(s.hasOwnProperty("ngRefRead")){if("$element"===s.ngRefRead)a=e;else if(!(a=e.data("$"+s.ngRefRead+"Controller")))throw gs("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',s.ngRefRead,n.ngRef)}else a=e.data("$"+r+"Controller");o(t,a=a||e),e.on("$destroy",(function(){i(t)===a&&o(t,null)}))}}}}],ys=["$parse","$animate","$compile",function(t,e,n){var r="$$NG_REMOVED",i=o("ngRepeat"),s=function(t,e,n,r,i,o,s){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=!(1&e))},a=function(t){return t.clone[0]},l=function(t){return t.clone[t.clone.length-1]},c=function(t,e,n){return Ue(n)},u=function(t,e){return e};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(o,h){var f=h.ngRepeat,p=n.$$createComment("end ngRepeat",f),g=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=g[1],y=g[2],_=g[3],v=g[4];if(!(g=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var b,x=g[3]||g[1],S=g[2];if(_&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(_)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(_)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",_);if(v){var T={$id:Ue},C=t(v);b=function(t,e,n,r){return S&&(T[S]=e),T[x]=n,T.$index=r,C(t,T)}}return function(t,n,o,h,g){var m=Bt();t.$watchCollection(y,(function(o){var h,y,v,C,M,A,k,I,P,R,O,N,D=n[0],$=Bt();if(_&&(t[_]=o),w(o))P=o,I=b||c;else for(var L in I=b||u,P=[],o)d.call(o,L)&&"$"!==L.charAt(0)&&P.push(L);for(C=P.length,O=new Array(C),h=0;h<C;h++)if(M=o===P?h:P[h],A=o[M],k=I(t,M,A,h),m[k])R=m[k],delete m[k],$[k]=R,O[h]=R;else{if($[k])throw E(O,(function(t){t&&t.scope&&(m[t.id]=t)})),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,k,A);O[h]={id:k,scope:void 0,clone:void 0},$[k]=!0}for(var F in T&&(T[x]=void 0),m){if(N=Ut((R=m[F]).clone),e.leave(N),N[0].parentNode)for(h=0,y=N.length;h<y;h++)N[h][r]=!0;R.scope.$destroy()}for(h=0;h<C;h++)if(M=o===P?h:P[h],A=o[M],(R=O[h]).scope){v=D;do{v=v.nextSibling}while(v&&v[r]);a(R)!==v&&e.move(Ut(R.clone),null,D),D=l(R),s(R.scope,h,x,A,S,M,C)}else g((function(t,n){R.scope=n;var r=p.cloneNode(!1);t[t.length++]=r,e.enter(t,null,D),D=r,R.clone=t,$[R.id]=R,s(R.scope,h,x,A,S,M,C)}));m=$}))}}}}],_s="ng-hide",vs="ng-hide-animate",bs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,(function(e){t[e?"removeClass":"addClass"](n,_s,{tempClasses:vs})}))}}}],xs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,(function(e){t[e?"addClass":"removeClass"](n,_s,{tempClasses:vs})}))}}}],Ss=Hi((function(t,e,n){t.$watchCollection(n.ngStyle,(function(t,n){n&&t!==n&&E(n,(function(t,n){e.css(n,"")})),t&&e.css(t)}))})),ws=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,a=[],l=[],c=[],u=[],h=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(s,(function(n){for(var r,i;c.length;)t.cancel(c.pop());for(r=0,i=u.length;r<i;++r){var s=Ut(l[r].clone);u[r].$destroy(),(c[r]=t.leave(s)).done(h(c,r))}l.length=0,u.length=0,(a=o.cases["!"+n]||o.cases["?"])&&E(a,(function(n){n.transclude((function(r,i){u.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var s={clone:r};l.push(s),t.enter(r,o.parent(),o)}))}))}))}}}],Es=Hi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){var o=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(t,e,n){return n[e-1]!==t}));E(o,(function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})}))}}),Ts=Hi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Cs=o("ngTransclude"),Ms=["$compile",function(t){return{restrict:"EAC",compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){if(!o)throw Cs("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",St(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var s=r.ngTransclude||r.ngTranscludeSlot;function a(){n(t,(function(t){e.append(t)}))}o((function(t,n){t.length&&function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==Gt||r.nodeValue.trim())return!0}}(t)?e.append(t):(a(),n.$destroy())}),null,s),s&&!o.isSlotFilled(s)&&a()}}}}],As=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],ks={$setViewValue:D,$render:D};function Is(t,e){t.prop("selected",e),t.attr("selected",e)}var Ps=["$element","$scope",function(e,n){var r=this,i=new Ge;r.selectValueMap={},r.ngModelCtrl=ks,r.multiple=!1,r.unknownOption=a(t.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(t){var n=r.generateUnknownOptionValue(t);r.unknownOption.val(n),e.prepend(r.unknownOption),Is(r.unknownOption,!0),e.val(n)},r.updateUnknownOption=function(t){var n=r.generateUnknownOptionValue(t);r.unknownOption.val(n),Is(r.unknownOption,!0),e.val(n)},r.generateUnknownOptionValue=function(t){return"? "+Ue(t)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(e.val(""),Is(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&Is(r.emptyOption,!1)},n.$on("$destroy",(function(){r.renderUnknownOption=D})),r.readValue=function(){var t=e.val(),n=t in r.selectValueMap?r.selectValueMap[t]:t;return r.hasOption(n)?n:null},r.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&Is(a(n),!1),r.hasOption(t)){r.removeUnknownOption();var i=Ue(t);e.val(i in r.selectValueMap?i:t);var o=e[0].options[e[0].selectedIndex];Is(a(o),!0)}else r.selectUnknownOrEmptyOption(t)},r.addOption=function(t,e){if(8!==e[0].nodeType){jt(t,'"option value"'),""===t&&(r.hasEmptyOption=!0,r.emptyOption=e);var n=i.get(t)||0;i.set(t,n+1),s()}},r.removeOption=function(t){var e=i.get(t);e&&(1===e?(i.delete(t),""===t&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):i.set(t,e-1))},r.hasOption=function(t){return!!i.get(t)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return e[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&e[0].options[e[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(t){null==t&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(t):r.renderUnknownOption(t)};var o=!1;function s(){o||(o=!0,n.$$postDigest((function(){o=!1,r.ngModelCtrl.$render()})))}var l=!1;function c(t){l||(l=!0,n.$$postDigest((function(){n.$$destroyed||(l=!1,r.ngModelCtrl.$setViewValue(r.readValue()),t&&r.ngModelCtrl.$render())})))}r.registerOption=function(t,e,n,i,o){var a,l;n.$attr.ngValue?n.$observe("value",(function(t){var n,i=e.prop("selected");U(l)&&(r.removeOption(a),delete r.selectValueMap[l],n=!0),l=Ue(t),a=t,r.selectValueMap[l]=t,r.addOption(t,e),e.attr("value",l),n&&i&&c()})):i?n.$observe("value",(function(t){var n;r.readValue();var i=e.prop("selected");U(a)&&(r.removeOption(a),n=!0),a=t,r.addOption(t,e),n&&i&&c()})):o?t.$watch(o,(function(t,i){n.$set("value",t);var o=e.prop("selected");i!==t&&r.removeOption(i),r.addOption(t,e),i&&o&&c()})):r.addOption(n.value,e);n.$observe("disabled",(function(t){("true"===t||t&&e.prop("selected"))&&(r.multiple?c(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))})),e.on("$destroy",(function(){var t=r.readValue(),e=n.value;r.removeOption(e),s(),(r.multiple&&t&&-1!==t.indexOf(e)||t===e)&&c(!0)}))}}],Rs=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ps,priority:1,link:{pre:function(t,e,n,r){var i=r[0],o=r[1];if(!o)return void(i.registerOption=D);if(i.ngModelCtrl=o,e.on("change",(function(){i.removeUnknownOption(),t.$apply((function(){o.$setViewValue(i.readValue())}))})),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return E(e.find("option"),(function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}})),t},i.writeValue=function(t){E(e.find("option"),(function(e){var n=!!t&&(ot(t,e.value)||ot(t,i.selectValueMap[e.value]));n!==e.selected&&Is(a(e),n)}))};var s,l=NaN;t.$watch((function(){l!==o.$viewValue||ct(s,o.$viewValue)||(s=Ht(o.$viewValue),o.$render()),l=o.$viewValue})),o.$isEmpty=function(t){return!t||0===t.length}}},post:function(t,e,n,r){var i=r[1];if(!i)return;var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}},Os=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return U(n.ngValue)||(U(n.value)?r=t(n.value,!0):(i=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o="$selectController",s=e.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(t,e,n,r,i)}}}}],Ns=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.hasOwnProperty("required")||t(r.ngRequired)(e);r.ngRequired||(r.required=!0),i.$validators.required=function(t,e){return!o||!i.$isEmpty(e)},r.$observe("required",(function(t){o!==t&&(o=t,i.$validate())}))}}}}],Ds=["$parse",function(t){return{restrict:"A",require:"?ngModel",compile:function(e,n){var r,i;return n.ngPattern&&(r=n.ngPattern,i="/"===n.ngPattern.charAt(0)&&u.test(n.ngPattern)?function(){return n.ngPattern}:t(n.ngPattern)),function(t,e,n,o){if(o){var s=n.pattern;n.ngPattern?s=i(t):r=n.pattern;var a=Fs(s,r,e);n.$observe("pattern",(function(t){var n=a;a=Fs(t,r,e),(n&&n.toString())!==(a&&a.toString())&&o.$validate()})),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||j(a)||a.test(e)}}}}}}],$s=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.maxlength||t(r.ngMaxlength)(e),s=js(o);r.$observe("maxlength",(function(t){o!==t&&(s=js(t),o=t,i.$validate())})),i.$validators.maxlength=function(t,e){return s<0||i.$isEmpty(e)||e.length<=s}}}}}],Ls=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.minlength||t(r.ngMinlength)(e),s=js(o)||-1;r.$observe("minlength",(function(t){o!==t&&(s=js(t)||-1,o=t,i.$validate())})),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=s}}}}}];function Fs(t,e,n){if(t){if(G(t)&&(t=new RegExp("^"+t+"$")),!t.test)throw o("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",e,t,St(n));return t}}function js(t){var e=R(t);return O(e)?-1:e}t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var e;if(!Dt){var n=ht();(l=j(n)?r:n?t[n]:void 0)&&l.fn.on?(a=l,I(l.fn,{scope:Re.scope,isolateScope:Re.isolateScope,controller:Re.controller,injector:Re.injector,inheritedData:Re.inheritedData})):a=pe,e=a.cleanData,a.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)(n=(a._data(r)||{}).events)&&n.$destroy&&a(r).triggerHandler("$destroy");e(t)},x.element=a,Dt=!0}}(),function(e){I(e,{errorHandlingConfig:n,bootstrap:It,copy:at,extend:I,merge:P,equals:ct,element:a,forEach:E,injector:Qe,noop:D,bind:pt,toJson:mt,fromJson:yt,identity:$,isUndefined:j,isDefined:U,isString:G,isFunction:Y,isObject:B,isNumber:H,isElement:rt,isArray:q,version:qt,isDate:W,callbacks:{$$counter:0},getTestability:Rt,reloadWithDebugInfo:Pt,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:$t,$$minErr:o,$$csp:ut,$$encodeUriSegment:Tt,$$encodeUriQuery:Ct,$$lowercase:f,$$stringify:zt,$$uppercase:p}),c=function(t){var e=o("$injector"),n=o("ng");function r(t,e,n){return t[e]||(t[e]=n())}var i=r(t,"angular",Object);return i.$$minErr=i.$$minErr||o,r(i,"module",(function(){var t={};return function(i,o,s){var a={};return function(t){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),o&&t.hasOwnProperty(i)&&(t[i]=null),r(t,i,(function(){if(!o)throw e("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],r=[],l=[],c=h("$injector","invoke","push",r),u={_invokeQueue:t,_configBlocks:r,_runBlocks:l,info:function(t){if(U(t)){if(!B(t))throw n("aobj","Argument '{0}' must be an object","value");return a=t,this}return a},requires:o,name:i,provider:d("$provide","provider"),factory:d("$provide","factory"),service:d("$provide","service"),value:h("$provide","value"),constant:h("$provide","constant","unshift"),decorator:d("$provide","decorator",r),animation:d("$animateProvider","register"),filter:d("$filterProvider","register"),controller:d("$controllerProvider","register"),directive:d("$compileProvider","directive"),component:d("$compileProvider","component"),config:c,run:function(t){return l.push(t),this}};return s&&c(s),u;function h(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),u}}function d(e,n,r){return r||(r=t),function(t,o){return o&&Y(o)&&(o.$$moduleName=i),r.push([e,n,arguments]),u}}}))}}))}(t),c("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Vr}),t.provider("$compile",_n).directive({a:Wi,input:Co,textarea:Co,form:Ji,script:As,select:Rs,option:Os,ngBind:Io,ngBindHtml:Ro,ngBindTemplate:Po,ngClass:Do,ngClassEven:Lo,ngClassOdd:$o,ngCloak:Fo,ngController:jo,ngForm:Qi,ngHide:xs,ngIf:Go,ngInclude:Ho,ngInit:qo,ngNonBindable:us,ngPluralize:ps,ngRef:ms,ngRepeat:ys,ngShow:bs,ngStyle:Ss,ngSwitch:ws,ngSwitchWhen:Es,ngSwitchDefault:Ts,ngOptions:fs,ngTransclude:Ms,ngModel:os,ngList:Vo,ngChange:Oo,pattern:Ds,ngPattern:Ds,required:Ns,ngRequired:Ns,minlength:Ls,ngMinlength:Ls,maxlength:$s,ngMaxlength:$s,ngValue:ko,ngModelOptions:ls}).directive({ngInclude:Wo,input:Mo}).directive(qi).directive(Uo),t.provider({$anchorScroll:tn,$animate:ln,$animateCss:hn,$$animateJs:sn,$$animateQueue:an,$$AnimateRunner:un,$$animateAsyncRun:cn,$browser:fn,$cacheFactory:pn,$controller:An,$document:kn,$$isDocumentHidden:In,$exceptionHandler:Pn,$filter:_i,$$forceReflow:Rn,$interpolate:Zn,$interval:Qn,$$intervalFactory:tr,$http:Vn,$httpParamSerializer:Un,$httpParamSerializerJQLike:Bn,$httpBackend:Xn,$xhrFactory:Yn,$jsonpCallbacks:er,$location:_r,$log:vr,$parse:Fr,$rootScope:qr,$q:jr,$$q:Ur,$sce:ti,$sceDelegate:Qr,$sniffer:ei,$$taskTrackerFactory:ni,$templateCache:gn,$templateRequest:oi,$$testability:si,$timeout:li,$window:gi,$$rAF:Wr,$$jqLite:je,$$Map:He,$$cookieReader:yi})}]).info({angularVersion:"1.8.3"})}(x),x.module("ngLocale",[],["$provide",function(t){var e="one",n="other";t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,r){var i=0|t,o=function(t,e){var n=e;void 0===n&&(n=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3));var r=Math.pow(10,n);return{v:n,f:(t*r|0)%r}}(t,r);return 1==i&&0==o.v?e:n}})}]),a((function(){kt(t.document,It)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))},7025:(t,e,n)=>{n(1055),t.exports=angular},842:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(4692),i=n.n(r),o=n(4626);const s="alert",a="bs.alert",l=`.${a}`,c=i().fn[s],u=`close${l}`,h=`closed${l}`,d=`click${l}.data-api`;class f{constructor(t){this._element=t}static get VERSION(){return"4.6.2"}close(t){let e=this._element;t&&(e=this._getRootElement(t));this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)}dispose(){i().removeData(this._element,a),this._element=null}_getRootElement(t){const e=o.A.getSelectorFromElement(t);let n=!1;return e&&(n=document.querySelector(e)),n||(n=i()(t).closest(".alert")[0]),n}_triggerCloseEvent(t){const e=i().Event(u);return i()(t).trigger(e),e}_removeElement(t){if(i()(t).removeClass("show"),!i()(t).hasClass("fade"))return void this._destroyElement(t);const e=o.A.getTransitionDurationFromElement(t);i()(t).one(o.A.TRANSITION_END,(e=>this._destroyElement(t,e))).emulateTransitionEnd(e)}_destroyElement(t){i()(t).detach().trigger(h).remove()}static _jQueryInterface(t){return this.each((function(){const e=i()(this);let n=e.data(a);n||(n=new f(this),e.data(a,n)),"close"===t&&n[t](this)}))}static _handleDismiss(t){return function(e){e&&e.preventDefault(),t.close(this)}}}i()(document).on(d,'[data-dismiss="alert"]',f._handleDismiss(new f)),i().fn[s]=f._jQueryInterface,i().fn[s].Constructor=f,i().fn[s].noConflict=()=>(i().fn[s]=c,f._jQueryInterface);const p=f},2305:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>E});var r=n(4692),i=n.n(r),o=n(4626);const s="collapse",a="bs.collapse",l=`.${a}`,c=i().fn[s],u="show",h="collapse",d="collapsing",f="collapsed",p="width",g=`show${l}`,m=`shown${l}`,y=`hide${l}`,_=`hidden${l}`,v=`click${l}.data-api`,b='[data-toggle="collapse"]',x={toggle:!0,parent:""},S={toggle:"boolean",parent:"(string|element)"};class w{constructor(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll(`[data-toggle="collapse"][href="#${t.id}"],[data-toggle="collapse"][data-target="#${t.id}"]`));const n=[].slice.call(document.querySelectorAll(b));for(let e=0,r=n.length;e<r;e++){const r=n[e],i=o.A.getSelectorFromElement(r),s=[].slice.call(document.querySelectorAll(i)).filter((e=>e===t));null!==i&&s.length>0&&(this._selector=i,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get VERSION(){return"4.6.2"}static get Default(){return x}toggle(){i()(this._element).hasClass(u)?this.hide():this.show()}show(){if(this._isTransitioning||i()(this._element).hasClass(u))return;let t,e;if(this._parent&&(t=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((t=>"string"==typeof this._config.parent?t.getAttribute("data-parent")===this._config.parent:t.classList.contains(h))),0===t.length&&(t=null)),t&&(e=i()(t).not(this._selector).data(a),e&&e._isTransitioning))return;const n=i().Event(g);if(i()(this._element).trigger(n),n.isDefaultPrevented())return;t&&(w._jQueryInterface.call(i()(t).not(this._selector),"hide"),e||i()(t).data(a,null));const r=this._getDimension();i()(this._element).removeClass(h).addClass(d),this._element.style[r]=0,this._triggerArray.length&&i()(this._triggerArray).removeClass(f).attr("aria-expanded",!0),this.setTransitioning(!0);const s=`scroll${r[0].toUpperCase()+r.slice(1)}`,l=o.A.getTransitionDurationFromElement(this._element);i()(this._element).one(o.A.TRANSITION_END,(()=>{i()(this._element).removeClass(d).addClass(`${h} ${u}`),this._element.style[r]="",this.setTransitioning(!1),i()(this._element).trigger(m)})).emulateTransitionEnd(l),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!i()(this._element).hasClass(u))return;const t=i().Event(y);if(i()(this._element).trigger(t),t.isDefaultPrevented())return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,o.A.reflow(this._element),i()(this._element).addClass(d).removeClass(`${h} ${u}`);const n=this._triggerArray.length;if(n>0)for(let t=0;t<n;t++){const e=this._triggerArray[t],n=o.A.getSelectorFromElement(e);if(null!==n){i()([].slice.call(document.querySelectorAll(n))).hasClass(u)||i()(e).addClass(f).attr("aria-expanded",!1)}}this.setTransitioning(!0);this._element.style[e]="";const r=o.A.getTransitionDurationFromElement(this._element);i()(this._element).one(o.A.TRANSITION_END,(()=>{this.setTransitioning(!1),i()(this._element).removeClass(d).addClass(h).trigger(_)})).emulateTransitionEnd(r)}setTransitioning(t){this._isTransitioning=t}dispose(){i().removeData(this._element,a),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}_getConfig(t){return(t={...x,...t}).toggle=Boolean(t.toggle),o.A.typeCheckConfig(s,t,S),t}_getDimension(){return i()(this._element).hasClass(p)?p:"height"}_getParent(){let t;o.A.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);const e=`[data-toggle="collapse"][data-parent="${this._config.parent}"]`,n=[].slice.call(t.querySelectorAll(e));return i()(n).each(((t,e)=>{this._addAriaAndCollapsedClass(w._getTargetFromElement(e),[e])})),t}_addAriaAndCollapsedClass(t,e){const n=i()(t).hasClass(u);e.length&&i()(e).toggleClass(f,!n).attr("aria-expanded",n)}static _getTargetFromElement(t){const e=o.A.getSelectorFromElement(t);return e?document.querySelector(e):null}static _jQueryInterface(t){return this.each((function(){const e=i()(this);let n=e.data(a);const r={...x,...e.data(),..."object"==typeof t&&t?t:{}};if(!n&&r.toggle&&"string"==typeof t&&/show|hide/.test(t)&&(r.toggle=!1),n||(n=new w(this,r),e.data(a,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}i()(document).on(v,b,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();const e=i()(this),n=o.A.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(n));i()(r).each((function(){const t=i()(this),n=t.data(a)?"toggle":e.data();w._jQueryInterface.call(t,n)}))})),i().fn[s]=w._jQueryInterface,i().fn[s].Constructor=w,i().fn[s].noConflict=()=>(i().fn[s]=c,w._jQueryInterface);const E=w},4927:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>k});var r=n(4692),i=n.n(r),o=n(8851),s=n(4626);const a="dropdown",l="bs.dropdown",c=`.${l}`,u=".data-api",h=i().fn[a],d=new RegExp("38|40|27"),f="disabled",p="show",g="dropdown-menu-right",m=`hide${c}`,y=`hidden${c}`,_=`show${c}`,v=`shown${c}`,b=`click${c}`,x=`click${c}${u}`,S=`keydown${c}${u}`,w=`keyup${c}${u}`,E='[data-toggle="dropdown"]',T=".dropdown-menu",C={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},M={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"};class A{constructor(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}static get VERSION(){return"4.6.2"}static get Default(){return C}static get DefaultType(){return M}toggle(){if(this._element.disabled||i()(this._element).hasClass(f))return;const t=i()(this._menu).hasClass(p);A._clearMenus(),t||this.show(!0)}show(t=!1){if(this._element.disabled||i()(this._element).hasClass(f)||i()(this._menu).hasClass(p))return;const e={relatedTarget:this._element},n=i().Event(_,e),r=A._getParentFromElement(this._element);if(i()(r).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===o.A)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=r:s.A.isElement(this._config.reference)&&(t=this._config.reference,void 0!==this._config.reference.jquery&&(t=this._config.reference[0])),"scrollParent"!==this._config.boundary&&i()(r).addClass("position-static"),this._popper=new o.A(t,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===i()(r).closest(".navbar-nav").length&&i()(document.body).children().on("mouseover",null,i().noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),i()(this._menu).toggleClass(p),i()(r).toggleClass(p).trigger(i().Event(v,e))}}hide(){if(this._element.disabled||i()(this._element).hasClass(f)||!i()(this._menu).hasClass(p))return;const t={relatedTarget:this._element},e=i().Event(m,t),n=A._getParentFromElement(this._element);i()(n).trigger(e),e.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i()(this._menu).toggleClass(p),i()(n).toggleClass(p).trigger(i().Event(y,t)))}dispose(){i().removeData(this._element,l),i()(this._element).off(c),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}_addEventListeners(){i()(this._element).on(b,(t=>{t.preventDefault(),t.stopPropagation(),this.toggle()}))}_getConfig(t){return t={...this.constructor.Default,...i()(this._element).data(),...t},s.A.typeCheckConfig(a,t,this.constructor.DefaultType),t}_getMenuElement(){if(!this._menu){const t=A._getParentFromElement(this._element);t&&(this._menu=t.querySelector(T))}return this._menu}_getPlacement(){const t=i()(this._element.parentNode);let e="bottom-start";return t.hasClass("dropup")?e=i()(this._menu).hasClass(g)?"top-end":"top-start":t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":i()(this._menu).hasClass(g)&&(e="bottom-end"),e}_detectNavbar(){return i()(this._element).closest(".navbar").length>0}_getOffset(){const t={};return"function"==typeof this._config.offset?t.fn=t=>(t.offsets={...t.offsets,...this._config.offset(t.offsets,this._element)},t):t.offset=this._config.offset,t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),{...t,...this._config.popperConfig}}static _jQueryInterface(t){return this.each((function(){let e=i()(this).data(l);if(e||(e=new A(this,"object"==typeof t?t:null),i()(this).data(l,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static _clearMenus(t){if(t&&(3===t.which||"keyup"===t.type&&9!==t.which))return;const e=[].slice.call(document.querySelectorAll(E));for(let n=0,r=e.length;n<r;n++){const r=A._getParentFromElement(e[n]),o=i()(e[n]).data(l),s={relatedTarget:e[n]};if(t&&"click"===t.type&&(s.clickEvent=t),!o)continue;const a=o._menu;if(!i()(r).hasClass(p))continue;if(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&i().contains(r,t.target))continue;const c=i().Event(m,s);i()(r).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i()(document.body).children().off("mouseover",null,i().noop),e[n].setAttribute("aria-expanded","false"),o._popper&&o._popper.destroy(),i()(a).removeClass(p),i()(r).removeClass(p).trigger(i().Event(y,s)))}}static _getParentFromElement(t){let e;const n=s.A.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode}static _dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||i()(t.target).closest(T).length):!d.test(t.which))return;if(this.disabled||i()(this).hasClass(f))return;const e=A._getParentFromElement(this),n=i()(e).hasClass(p);if(!n&&27===t.which)return;if(t.preventDefault(),t.stopPropagation(),!n||27===t.which||32===t.which)return 27===t.which&&i()(e.querySelector(E)).trigger("focus"),void i()(this).trigger("click");const r=[].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((t=>i()(t).is(":visible")));if(0===r.length)return;let o=r.indexOf(t.target);38===t.which&&o>0&&o--,40===t.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}i()(document).on(S,E,A._dataApiKeydownHandler).on(S,T,A._dataApiKeydownHandler).on(`${x} ${w}`,A._clearMenus).on(x,E,(function(t){t.preventDefault(),t.stopPropagation(),A._jQueryInterface.call(i()(this),"toggle")})).on(x,".dropdown form",(t=>{t.stopPropagation()})),i().fn[a]=A._jQueryInterface,i().fn[a].Constructor=A,i().fn[a].noConflict=()=>(i().fn[a]=h,A._jQueryInterface);const k=A},9913:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>P});var r=n(4692),i=n.n(r),o=n(4626);const s="modal",a="bs.modal",l=`.${a}`,c=i().fn[s],u="modal-open",h="fade",d="show",f="modal-static",p=`hide${l}`,g=`hidePrevented${l}`,m=`hidden${l}`,y=`show${l}`,_=`shown${l}`,v=`focusin${l}`,b=`resize${l}`,x=`click.dismiss${l}`,S=`keydown.dismiss${l}`,w=`mouseup.dismiss${l}`,E=`mousedown.dismiss${l}`,T=`click${l}.data-api`,C=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",M=".sticky-top",A={backdrop:!0,keyboard:!0,focus:!0,show:!0},k={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"};class I{constructor(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}static get VERSION(){return"4.6.2"}static get Default(){return A}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;const e=i().Event(y,{relatedTarget:t});i()(this._element).trigger(e),e.isDefaultPrevented()||(this._isShown=!0,i()(this._element).hasClass(h)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i()(this._element).on(x,'[data-dismiss="modal"]',(t=>this.hide(t))),i()(this._dialog).on(E,(()=>{i()(this._element).one(w,(t=>{i()(t.target).is(this._element)&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(t){if(t&&t.preventDefault(),!this._isShown||this._isTransitioning)return;const e=i().Event(p);if(i()(this._element).trigger(e),!this._isShown||e.isDefaultPrevented())return;this._isShown=!1;const n=i()(this._element).hasClass(h);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i()(document).off(v),i()(this._element).removeClass(d),i()(this._element).off(x),i()(this._dialog).off(E),n){const t=o.A.getTransitionDurationFromElement(this._element);i()(this._element).one(o.A.TRANSITION_END,(t=>this._hideModal(t))).emulateTransitionEnd(t)}else this._hideModal()}dispose(){[window,this._element,this._dialog].forEach((t=>i()(t).off(l))),i()(document).off(v),i().removeData(this._element,a),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null}handleUpdate(){this._adjustDialog()}_getConfig(t){return t={...A,...t},o.A.typeCheckConfig(s,t,k),t}_triggerBackdropTransition(){const t=i().Event(g);if(i()(this._element).trigger(t),t.isDefaultPrevented())return;const e=this._element.scrollHeight>document.documentElement.clientHeight;e||(this._element.style.overflowY="hidden"),this._element.classList.add(f);const n=o.A.getTransitionDurationFromElement(this._dialog);i()(this._element).off(o.A.TRANSITION_END),i()(this._element).one(o.A.TRANSITION_END,(()=>{this._element.classList.remove(f),e||i()(this._element).one(o.A.TRANSITION_END,(()=>{this._element.style.overflowY=""})).emulateTransitionEnd(this._element,n)})).emulateTransitionEnd(n),this._element.focus()}_showElement(t){const e=i()(this._element).hasClass(h),n=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),i()(this._dialog).hasClass("modal-dialog-scrollable")&&n?n.scrollTop=0:this._element.scrollTop=0,e&&o.A.reflow(this._element),i()(this._element).addClass(d),this._config.focus&&this._enforceFocus();const r=i().Event(_,{relatedTarget:t}),s=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,i()(this._element).trigger(r)};if(e){const t=o.A.getTransitionDurationFromElement(this._dialog);i()(this._dialog).one(o.A.TRANSITION_END,s).emulateTransitionEnd(t)}else s()}_enforceFocus(){i()(document).off(v).on(v,(t=>{document!==t.target&&this._element!==t.target&&0===i()(this._element).has(t.target).length&&this._element.focus()}))}_setEscapeEvent(){this._isShown?i()(this._element).on(S,(t=>{this._config.keyboard&&27===t.which?(t.preventDefault(),this.hide()):this._config.keyboard||27!==t.which||this._triggerBackdropTransition()})):this._isShown||i()(this._element).off(S)}_setResizeEvent(){this._isShown?i()(window).on(b,(t=>this.handleUpdate(t))):i()(window).off(b)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((()=>{i()(document.body).removeClass(u),this._resetAdjustments(),this._resetScrollbar(),i()(this._element).trigger(m)}))}_removeBackdrop(){this._backdrop&&(i()(this._backdrop).remove(),this._backdrop=null)}_showBackdrop(t){const e=i()(this._element).hasClass(h)?h:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",e&&this._backdrop.classList.add(e),i()(this._backdrop).appendTo(document.body),i()(this._element).on(x,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===this._config.backdrop?this._triggerBackdropTransition():this.hide())})),e&&o.A.reflow(this._backdrop),i()(this._backdrop).addClass(d),!t)return;if(!e)return void t();const n=o.A.getTransitionDurationFromElement(this._backdrop);i()(this._backdrop).one(o.A.TRANSITION_END,t).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){i()(this._backdrop).removeClass(d);const e=()=>{this._removeBackdrop(),t&&t()};if(i()(this._element).hasClass(h)){const t=o.A.getTransitionDurationFromElement(this._backdrop);i()(this._backdrop).one(o.A.TRANSITION_END,e).emulateTransitionEnd(t)}else e()}else t&&t()}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=`${this._scrollbarWidth}px`),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=`${this._scrollbarWidth}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}_checkScrollbar(){const t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}_setScrollbar(){if(this._isBodyOverflowing){const t=[].slice.call(document.querySelectorAll(C)),e=[].slice.call(document.querySelectorAll(M));i()(t).each(((t,e)=>{const n=e.style.paddingRight,r=i()(e).css("padding-right");i()(e).data("padding-right",n).css("padding-right",`${parseFloat(r)+this._scrollbarWidth}px`)})),i()(e).each(((t,e)=>{const n=e.style.marginRight,r=i()(e).css("margin-right");i()(e).data("margin-right",n).css("margin-right",parseFloat(r)-this._scrollbarWidth+"px")}));const n=document.body.style.paddingRight,r=i()(document.body).css("padding-right");i()(document.body).data("padding-right",n).css("padding-right",`${parseFloat(r)+this._scrollbarWidth}px`)}i()(document.body).addClass(u)}_resetScrollbar(){const t=[].slice.call(document.querySelectorAll(C));i()(t).each(((t,e)=>{const n=i()(e).data("padding-right");i()(e).removeData("padding-right"),e.style.paddingRight=n||""}));const e=[].slice.call(document.querySelectorAll(`${M}`));i()(e).each(((t,e)=>{const n=i()(e).data("margin-right");void 0!==n&&i()(e).css("margin-right",n).removeData("margin-right")}));const n=i()(document.body).data("padding-right");i()(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""}_getScrollbarWidth(){const t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}static _jQueryInterface(t,e){return this.each((function(){let n=i()(this).data(a);const r={...A,...i()(this).data(),..."object"==typeof t&&t?t:{}};if(n||(n=new I(this,r),i()(this).data(a,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}else r.show&&n.show(e)}))}}i()(document).on(T,'[data-toggle="modal"]',(function(t){let e;const n=o.A.getSelectorFromElement(this);n&&(e=document.querySelector(n));const r=i()(e).data(a)?"toggle":{...i()(e).data(),...i()(this).data()};"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();const s=i()(e).one(y,(t=>{t.isDefaultPrevented()||s.one(m,(()=>{i()(this).is(":visible")&&this.focus()}))}));I._jQueryInterface.call(i()(e),r,this)})),i().fn[s]=I._jQueryInterface,i().fn[s].Constructor=I,i().fn[s].noConflict=()=>(i().fn[s]=c,I._jQueryInterface);const P=I},4957:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(4692),i=n.n(r),o=n(3742);const s="popover",a="bs.popover",l=`.${a}`,c=i().fn[s],u="bs-popover",h=new RegExp(`(^|\\s)${u}\\S+`,"g"),d={...o.default.Default,placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},f={...o.default.DefaultType,content:"(string|element|function)"},p={HIDE:`hide${l}`,HIDDEN:`hidden${l}`,SHOW:`show${l}`,SHOWN:`shown${l}`,INSERTED:`inserted${l}`,CLICK:`click${l}`,FOCUSIN:`focusin${l}`,FOCUSOUT:`focusout${l}`,MOUSEENTER:`mouseenter${l}`,MOUSELEAVE:`mouseleave${l}`};class g extends o.default{static get VERSION(){return"4.6.2"}static get Default(){return d}static get NAME(){return s}static get DATA_KEY(){return a}static get Event(){return p}static get EVENT_KEY(){return l}static get DefaultType(){return f}isWithContent(){return this.getTitle()||this._getContent()}addAttachmentClass(t){i()(this.getTipElement()).addClass(`${u}-${t}`)}getTipElement(){return this.tip=this.tip||i()(this.config.template)[0],this.tip}setContent(){const t=i()(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());let e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")}_getContent(){return this.element.getAttribute("data-content")||this.config.content}_cleanTipClass(){const t=i()(this.getTipElement()),e=t.attr("class").match(h);null!==e&&e.length>0&&t.removeClass(e.join(""))}static _jQueryInterface(t){return this.each((function(){let e=i()(this).data(a);const n="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new g(this,n),i()(this).data(a,e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}i().fn[s]=g._jQueryInterface,i().fn[s].Constructor=g,i().fn[s].noConflict=()=>(i().fn[s]=c,g._jQueryInterface);const m=g},3742:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>P});const r=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},o=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,s=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function a(t,e){const n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===r.indexOf(n)||Boolean(o.test(t.nodeValue)||s.test(t.nodeValue));const i=e.filter((t=>t instanceof RegExp));for(let t=0,e=i.length;t<e;t++)if(i[t].test(n))return!0;return!1}function l(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);const r=(new window.DOMParser).parseFromString(t,"text/html"),i=Object.keys(e),o=[].slice.call(r.body.querySelectorAll("*"));for(let t=0,n=o.length;t<n;t++){const n=o[t],r=n.nodeName.toLowerCase();if(-1===i.indexOf(n.nodeName.toLowerCase())){n.parentNode.removeChild(n);continue}const s=[].slice.call(n.attributes),l=[].concat(e["*"]||[],e[r]||[]);s.forEach((t=>{a(t,l)||n.removeAttribute(t.nodeName)}))}return r.body.innerHTML}var c=n(4692),u=n.n(c),h=n(8851),d=n(4626);const f="tooltip",p="bs.tooltip",g=`.${p}`,m=u().fn[f],y="bs-tooltip",_=new RegExp(`(^|\\s)${y}\\S+`,"g"),v=["sanitize","whiteList","sanitizeFn"],b="fade",x="show",S="show",w="out",E="hover",T="focus",C={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},M={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:i,popperConfig:null},A={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},k={HIDE:`hide${g}`,HIDDEN:`hidden${g}`,SHOW:`show${g}`,SHOWN:`shown${g}`,INSERTED:`inserted${g}`,CLICK:`click${g}`,FOCUSIN:`focusin${g}`,FOCUSOUT:`focusout${g}`,MOUSEENTER:`mouseenter${g}`,MOUSELEAVE:`mouseleave${g}`};class I{constructor(t,e){if(void 0===h.A)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}static get VERSION(){return"4.6.2"}static get Default(){return M}static get NAME(){return f}static get DATA_KEY(){return p}static get Event(){return k}static get EVENT_KEY(){return g}static get DefaultType(){return A}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this.constructor.DATA_KEY;let n=u()(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),u()(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(u()(this.getTipElement()).hasClass(x))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),u().removeData(this.element,this.constructor.DATA_KEY),u()(this.element).off(this.constructor.EVENT_KEY),u()(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&u()(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null}show(){if("none"===u()(this.element).css("display"))throw new Error("Please use show on visible elements");const t=u().Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){u()(this.element).trigger(t);const e=d.A.findShadowRoot(this.element),n=u().contains(null!==e?e:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!n)return;const r=this.getTipElement(),i=d.A.getUID(this.constructor.NAME);r.setAttribute("id",i),this.element.setAttribute("aria-describedby",i),this.setContent(),this.config.animation&&u()(r).addClass(b);const o="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,s=this._getAttachment(o);this.addAttachmentClass(s);const a=this._getContainer();u()(r).data(this.constructor.DATA_KEY,this),u().contains(this.element.ownerDocument.documentElement,this.tip)||u()(r).appendTo(a),u()(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new h.A(this.element,r,this._getPopperConfig(s)),u()(r).addClass(x),u()(r).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&u()(document.body).children().on("mouseover",null,u().noop);const l=()=>{this.config.animation&&this._fixTransition();const t=this._hoverState;this._hoverState=null,u()(this.element).trigger(this.constructor.Event.SHOWN),t===w&&this._leave(null,this)};if(u()(this.tip).hasClass(b)){const t=d.A.getTransitionDurationFromElement(this.tip);u()(this.tip).one(d.A.TRANSITION_END,l).emulateTransitionEnd(t)}else l()}}hide(t){const e=this.getTipElement(),n=u().Event(this.constructor.Event.HIDE),r=()=>{this._hoverState!==S&&e.parentNode&&e.parentNode.removeChild(e),this._cleanTipClass(),this.element.removeAttribute("aria-describedby"),u()(this.element).trigger(this.constructor.Event.HIDDEN),null!==this._popper&&this._popper.destroy(),t&&t()};if(u()(this.element).trigger(n),!n.isDefaultPrevented()){if(u()(e).removeClass(x),"ontouchstart"in document.documentElement&&u()(document.body).children().off("mouseover",null,u().noop),this._activeTrigger.click=!1,this._activeTrigger[T]=!1,this._activeTrigger[E]=!1,u()(this.tip).hasClass(b)){const t=d.A.getTransitionDurationFromElement(e);u()(e).one(d.A.TRANSITION_END,r).emulateTransitionEnd(t)}else r();this._hoverState=""}}update(){null!==this._popper&&this._popper.scheduleUpdate()}isWithContent(){return Boolean(this.getTitle())}addAttachmentClass(t){u()(this.getTipElement()).addClass(`${y}-${t}`)}getTipElement(){return this.tip=this.tip||u()(this.config.template)[0],this.tip}setContent(){const t=this.getTipElement();this.setElementContent(u()(t.querySelectorAll(".tooltip-inner")),this.getTitle()),u()(t).removeClass(`${b} ${x}`)}setElementContent(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=l(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?u()(e).parent().is(t)||t.empty().append(e):t.text(u()(e).text())}getTitle(){let t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t}_getPopperConfig(t){return{...{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:t=>{t.originalPlacement!==t.placement&&this._handlePopperPlacementChange(t)},onUpdate:t=>this._handlePopperPlacementChange(t)},...this.config.popperConfig}}_getOffset(){const t={};return"function"==typeof this.config.offset?t.fn=t=>(t.offsets={...t.offsets,...this.config.offset(t.offsets,this.element)},t):t.offset=this.config.offset,t}_getContainer(){return!1===this.config.container?document.body:d.A.isElement(this.config.container)?u()(this.config.container):u()(document).find(this.config.container)}_getAttachment(t){return C[t.toUpperCase()]}_setListeners(){this.config.trigger.split(" ").forEach((t=>{if("click"===t)u()(this.element).on(this.constructor.Event.CLICK,this.config.selector,(t=>this.toggle(t)));else if("manual"!==t){const e=t===E?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===E?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;u()(this.element).on(e,this.config.selector,(t=>this._enter(t))).on(n,this.config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this.element&&this.hide()},u()(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config={...this.config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}_enter(t,e){const n=this.constructor.DATA_KEY;(e=e||u()(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),u()(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?T:E]=!0),u()(e.getTipElement()).hasClass(x)||e._hoverState===S?e._hoverState=S:(clearTimeout(e._timeout),e._hoverState=S,e.config.delay&&e.config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===S&&e.show()}),e.config.delay.show):e.show())}_leave(t,e){const n=this.constructor.DATA_KEY;(e=e||u()(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),u()(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?T:E]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=w,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===w&&e.hide()}),e.config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=u()(this.element).data();return Object.keys(e).forEach((t=>{-1!==v.indexOf(t)&&delete e[t]})),"number"==typeof(t={...this.constructor.Default,...e,..."object"==typeof t&&t?t:{}}).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),d.A.typeCheckConfig(f,t,this.constructor.DefaultType),t.sanitize&&(t.template=l(t.template,t.whiteList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};if(this.config)for(const e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t}_cleanTipClass(){const t=u()(this.getTipElement()),e=t.attr("class").match(_);null!==e&&e.length&&t.removeClass(e.join(""))}_handlePopperPlacementChange(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))}_fixTransition(){const t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(u()(t).removeClass(b),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)}static _jQueryInterface(t){return this.each((function(){const e=u()(this);let n=e.data(p);const r="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new I(this,r),e.data(p,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}u().fn[f]=I._jQueryInterface,u().fn[f].Constructor=I,u().fn[f].noConflict=()=>(u().fn[f]=m,I._jQueryInterface);const P=I},4626:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(4692),i=n.n(r);const o="transitionend";function s(t){let e=!1;return i()(this).one(a.TRANSITION_END,(()=>{e=!0})),setTimeout((()=>{e||a.triggerTransitionEnd(this)}),t),this}const a={TRANSITION_END:"bsTransitionEnd",getUID(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement(t){let e=t.getAttribute("data-target");if(!e||"#"===e){const n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement(t){if(!t)return 0;let e=i()(t).css("transition-duration"),n=i()(t).css("transition-delay");const r=parseFloat(e),o=parseFloat(n);return r||o?(e=e.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(e)+parseFloat(n))):0},reflow:t=>t.offsetHeight,triggerTransitionEnd(t){i()(t).trigger(o)},supportsTransitionEnd:()=>Boolean(o),isElement:t=>(t[0]||t).nodeType,typeCheckConfig(t,e,n){for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=n[i],s=e[i],l=s&&a.isElement(s)?"element":null==(r=s)?`${r}`:{}.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(l))throw new Error(`${t.toUpperCase()}: Option "${i}" provided type "${l}" but expected type "${o}".`)}var r},findShadowRoot(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?a.findShadowRoot(t.parentNode):null},jQueryDetection(){if(void 0===i())throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");const t=i().fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};a.jQueryDetection(),i().fn.emulateTransitionEnd=s,i().event.special[a.TRANSITION_END]={bindType:o,delegateType:o,handle(t){if(i()(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};const l=a},6204:(t,e,n)=>{var r,i=n(4692);!function(t){t.floatThead=t.floatThead||{},t.floatThead.defaults={headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function(e){return t([])},responsiveContainer:function(e){return t([])},getSizingRow:function(t,e,n){return t.find("tbody tr:visible:first>*:visible")},ariaLabel:function(t,e,n){return e.text()},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,autoReflow:!1,debug:!1,support:{bootstrap:!0,datatables:!0,jqueryUI:!0,perfectScrollbar:!0},floatContainerCss:{"overflow-x":"hidden"}};var e=function(){var e={},n=Object.prototype.hasOwnProperty;e.has=function(t,e){return n.call(t,e)},e.keys=Object.keys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var n=[];for(var r in t)e.has(t,r)&&n.push(r);return n};var r=0;return e.uniqueId=function(t){var e=++r+"";return t?t+e:e},t.each(["Arguments","Function","String","Number","Date","RegExp"],(function(){var t=this;e["is"+t]=function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}})),e.debounce=function(t,e,n){var r,i,o,s,a;return function(){o=this,i=arguments,s=new Date;var l=function(){var c=new Date-s;c<e?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(o,i)))},c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(o,i)),a}},e}(),n="undefined"!=typeof MutationObserver,r=function(){for(var t=3,e=document.createElement("b"),n=e.all||[];t=1+t,e.innerHTML="\x3c!--[if gt IE "+t+"]><i><![endif]--\x3e",n[0];);return 4<t?t:document.documentMode}(),i=/Gecko\//.test(navigator.userAgent),o=/WebKit\//.test(navigator.userAgent),s=/rtl/i.test(document.documentElement.dir||"");r||i||o||(r=11);var a=function(){if(o){var e=t("<div>").css("width","0").append(t("<table>").css("max-width","100%").append(t("<tr>").append(t("<th>").append(t("<div>").css("min-width","100px").text("X")))));t("body").append(e);var n=0===e.find("table").width();return e.remove(),n}return!1},l=!i&&!r,c=t(window),u=i&&window.matchMedia;if(!window.matchMedia||u){var h=window.onbeforeprint,d=window.onafterprint;window.onbeforeprint=function(){h&&h(),c.triggerHandler("fth-beforeprint")},window.onafterprint=function(){d&&d(),c.triggerHandler("fth-afterprint")}}function f(e){var n=e[0].parentElement;do{if("visible"!==window.getComputedStyle(n).getPropertyValue("overflow"))break}while(n=n.parentElement);return n===document.body?t([]):t(n)}function p(t){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+t)}function g(t){var e=t.getBoundingClientRect();return e.width||e.right-e.left}function m(){var t=document.createElement("scrolltester");t.style.cssText="width:100px;height:100px;overflow:scroll!important;position:absolute;top:-9999px;display:block",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function y(t,e,n){var r=n?"outerWidth":"width";if(a&&t.css("max-width")){var i=0;n&&(i+=parseInt(t.css("borderLeft"),10),i+=parseInt(t.css("borderRight"),10));for(var o=0;o<e.length;o++)i+=g(e.get(o));return i}return t[r]()}t.fn.floatThead=function(i){if(i=i||{},r<8)return this;if(e.isFunction(a)&&(a=a()),e.isString(i)){var h=i,d=Array.prototype.slice.call(arguments,1),_=this;return this.filter("table").each((function(){var n=t(this),r=n.data("floatThead-lazy");r&&n.floatThead(r);var i=n.data("floatThead-attached");if(i&&e.isFunction(i[h])){var o=i[h].apply(this,d);void 0!==o&&(_=o)}})),_}var v=t.extend({},t.floatThead.defaults||{},i);if(t.each(i,(function(n,r){n in t.floatThead.defaults||!v.debug||p("Used ["+n+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+e.keys(t.floatThead.defaults).join(", "))})),v.debug){var b=t.fn.jquery.split(".");1===parseInt(b[0],10)&&parseInt(b[1],10)<=7&&p("jQuery version "+t.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}return this.filter(":not(."+v.floatTableClass+")").each((function(){var i=e.uniqueId(),a=t(this);if(a.data("floatThead-attached"))return!0;if(!a.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var h=v.autoReflow&&n,d=null,_=a.children("thead:first"),b=a.children("tbody:first");if(0===_.length||0===b.length)return v.debug&&(0===_.length?p("The thead element is missing."):p("The tbody element is missing.")),a.data("floatThead-lazy",v),void a.unbind("reflow").one("reflow",(function(){a.floatThead(v)}));a.data("floatThead-lazy")&&a.unbind("reflow"),a.data("floatThead-lazy",!1);var x,S,w=!0,E={vertical:0,horizontal:0};e.isFunction(m)&&(m=m());var T=0;!0===v.scrollContainer&&(v.scrollContainer=f);var C=v.scrollContainer(a)||t([]),M=0<C.length,A=M?t([]):v.responsiveContainer(a)||t([]),k=dt(),I=null;"auto"===v.position?I=null:"fixed"===v.position?I=!1:"absolute"===v.position?I=!0:v.debug&&p('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',v.position),null==I&&(I=M);var P=a.find("caption"),R=1===P.length;if(R)var O="top"===(P.css("caption-side")||P.attr("align")||"top");var N=t("<fthfoot>").css({display:"table-footer-group","border-spacing":"0",height:"0","border-collapse":"collapse",visibility:"hidden"}),D=!1,$=t([]),L=r<=9&&!M&&I,F=t("<table/>"),j=t("<colgroup/>"),U=a.children("colgroup:first"),B=!0;0===U.length&&(U=t("<colgroup/>"),B=!1);var z=B?"col:visible":"col",G=t("<fthtr>").css({display:"table-row","border-spacing":"0",height:"0","border-collapse":"collapse"}),H=t("<div>").css(v.floatContainerCss).attr("aria-hidden","true"),W=!1,q=t("<thead/>"),V=t('<tr class="size-row"/>'),Y=t([]),X=t([]),K=t([]),Z=t([]);q.append(V),a.prepend(U),l&&(N.append(G),a.append(N)),F.append(j),H.append(F),v.copyTableClass&&F.attr("class",a.attr("class")),F.attr({cellpadding:a.attr("cellpadding"),cellspacing:a.attr("cellspacing"),border:a.attr("border")});var J=a.css("display");if(F.css({borderCollapse:a.css("borderCollapse"),border:a.css("border"),display:J}),M||F.css("width","auto"),"none"===J&&(W=!0),F.addClass(v.floatTableClass).css({margin:"0","border-bottom-width":"0"}),I){var Q=function(e,n){var r=e.css("position"),i=e;if("relative"!==r&&"absolute"!==r||n){var o={paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight")};H.css(o),i=e.data("floatThead-containerWrap")||e.wrap(t("<div>").addClass(v.floatWrapperClass).css({position:"relative",clear:"both"})).parent(),e.data("floatThead-containerWrap",i),D=!0}return i};M?($=Q(C,!0)).prepend(H):($=Q(a),a.before(H))}else a.before(H);H.css({position:I?"absolute":"fixed",marginTop:"0",top:I?"0":"auto",zIndex:v.zIndex,willChange:"transform"}),H.addClass(v.floatContainerClass),st();var tt={"table-layout":"fixed"},et={"table-layout":a.css("tableLayout")||"auto"},nt=a[0].style.width||"",rt=a.css("minWidth")||"";function it(t){return t+".fth-"+i+".floatTHead"}function ot(){var e=0;if(_.children("tr:visible").each((function(){e+=t(this).outerHeight(!0)})),"collapse"===a.css("border-collapse")){var n=parseInt(a.css("border-top-width"),10);parseInt(a.find("thead tr:first").find(">*:first").css("border-top-width"),10)<n&&(e-=n/2)}V.outerHeight(e),Y.outerHeight(e)}function st(){x=(e.isFunction(v.top)?v.top(a):v.top)||0,S=(e.isFunction(v.bottom)?v.bottom(a):v.bottom)||0}function at(){if(!w){if(w=!0,I){var t=y(a,Z,!0);$.width()<t&&a.css("minWidth",t)}a.css(tt),F.css(tt),F.append(_),b.before(q),ot()}}function lt(){w&&(w=!1,I&&a.width(nt),q.detach(),a.prepend(_),a.css(et),F.css(et),a.css("minWidth",rt),a.css("minWidth",y(a,Z)))}var ct=!1;function ut(t){ct!==t&&(ct=t,a.triggerHandler("floatThead",[t,H]))}function ht(t){var e=C.css("border-"+t+"-width"),n=0;return e&&~e.indexOf("px")&&(n=parseInt(e,10)),n}function dt(){return"auto"===A.css("overflow-x")}function ft(){var t,e=C.scrollTop(),n=0,r=R?P.outerHeight(!0):0,i=O?r:-r,l=H.height(),u=a.offset(),h=0,d=0;if(M){var f=C.offset();n=u.top-f.top+e,R&&O&&(n+=r),h=ht("left"),d=ht("top"),n-=d}else t=u.top-x-l+S+E.horizontal;var p=c.scrollTop(),g=c.scrollLeft(),m=function(){return(dt()?A:C).scrollLeft()||0},y=m();return function(f){k=dt();var _=a[0].offsetWidth<=0&&a[0].offsetHeight<=0;if(!_&&W)return W=!1,setTimeout((function(){a.triggerHandler("reflow")}),1),null;if(_&&(W=!0,!I))return null;if("windowScroll"===f)p=c.scrollTop(),g=c.scrollLeft();else if("containerScroll"===f)if(A.length){if(!k)return;y=A.scrollLeft()}else e=C.scrollTop(),y=C.scrollLeft();else"init"!==f&&(p=c.scrollTop(),g=c.scrollLeft(),e=C.scrollTop(),y=m());if(!o||!(p<0||s&&0<g||!s&&g<0)){if(L)!function(t){I!==t&&(I=t,H.css({position:I?"absolute":"fixed"}))}("windowScrollDone"===f);else if("windowScrollDone"===f)return null;var v,b;u=a.offset(),R&&O&&(u.top+=r);var w=a.outerHeight();if(M&&I){if(e<=n){var E=n-e+d;v=0<E?E:0,ut(!1)}else w-l<e-n?v=w-l-e+n:(v=D?d:e,ut(!0));b=h}else!M&&I?(t+w+i<p?v=w-l+i+S:u.top>=p+x?(v=0,lt(),ut(!1)):(v=x+p-u.top+n+(O?r:0),at(),ut(!0)),b=y):M&&!I?(e<n||w<e-n?(v=u.top-p,lt(),ut(!1)):(v=u.top+e-p-n,at(),ut(!0)),b=u.left+y-g):M||I||(t+w+i<p?v=w+x-p+t+i:u.top>p+x?(v=u.top-p,at(),ut(!1)):(v=x,ut(!0)),b=u.left+y-g);return{top:Math.round(v),left:Math.round(b)}}}}function pt(){var t=null,e=null,n=null;return function(i,o,s){if(null!=i&&(t!==i.top||e!==i.left)){if(8===r)H.css({top:i.top,left:i.left});else{var l="translateX("+i.left+"px) translateY("+i.top+"px)",c={"-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l,top:"0",left:"0"};H.css(c)}t=i.top,e=i.left}o&&function(){var t=y(a,Z,!0),e=k?A:C,n=e.length?g(e[0]):t,r="hidden"!==e.css("overflow-y")?n-E.vertical:n;if(H.width(r),M){var i=100*t/r;F.css("width",i+"%")}else F.css("width",t+"px")}(),s&&ot();var u=(k?A:C).scrollLeft();I&&n===u||(H.scrollLeft(u),n=u)}}function gt(){if(C.length)if(v.support&&v.support.perfectScrollbar&&C.data().perfectScrollbar)E={horizontal:0,vertical:0};else{if("scroll"===C.css("overflow-x"))E.horizontal=m;else{var t=C.width(),e=y(a,Z),n=r<i?m:0;E.horizontal=t-n<e?m:0}if("scroll"===C.css("overflow-y"))E.vertical=m;else{var r=C.height(),i=a.height(),o=t<e?m:0;E.vertical=r-o<i?m:0}}}gt();var mt=function(){!function(){var e,n=function(){var e,n=_.find(v.headerCellSelector);if(B?e=U.find(z).length:(e=0,n.each((function(){e+=parseInt(t(this).attr("colspan")||1,10)}))),e!==T){T=e;var r=[],i=[];V.empty();for(var o=0;o<e;o++){var s=document.createElement("th"),c=document.createElement("span");c.setAttribute("aria-label",v.ariaLabel(a,n.eq(o),o)),s.appendChild(c),s.className="floatThead-col",V[0].appendChild(s),r.push("<col/>"),i.push(t("<fthtd>").css({display:"table-cell",height:"0",width:"auto"}))}r=B?U.html():r.join(""),l&&(G.empty(),G.append(i),Z=G.find("fthtd")),Y=V.find("th"),B||U.html(r),X=U.find(z),j.html(r),K=j.find(z)}return e}();return function(){var t=H.scrollLeft();X=U.find(z);var i,o,s,c=(i=a,o=X,s=Z,l?s:r?v.getSizingRow(i,o,s):o);if(c.length===n&&0<n){if(!B)for(e=0;e<n;e++)X.eq(e).css("width","");lt();var u=[];for(e=0;e<n;e++)u[e]=g(c.get(e));for(e=0;e<n;e++)K.eq(e).width(u[e]),X.eq(e).width(u[e]);at()}else F.append(_),a.css(et),F.css(et),ot();H.scrollLeft(t),a.triggerHandler("reflowed",[H])}}()()};mt();var yt=ft(),_t=pt();_t(yt("init"),!0);var vt=e.debounce((function(){_t(yt("windowScrollDone"),!1)}),1),bt=function(){_t(yt("windowScroll"),!1),L&&vt()},xt=function(){_t(yt("containerScroll"),!1)},St=e.debounce((function(){a.is(":hidden")||(gt(),st(),mt(),yt=ft(),_t(yt("reflow"),!0,!0))}),1),wt=function(){lt()},Et=function(){at()},Tt=function(t){t.matches?wt():Et()},Ct=null;if(window.matchMedia&&window.matchMedia("print").addListener&&!u?(Ct=window.matchMedia("print")).addListener(Tt):(c.on("fth-beforeprint",wt),c.on("fth-afterprint",Et)),M?I?C.on(it("scroll"),xt):(C.on(it("scroll"),xt),c.on(it("scroll"),bt)):(A.on(it("scroll"),xt),c.on(it("scroll"),bt)),c.on(it("load"),St),function(t,n){if(8===r){var i=c.width(),o=e.debounce((function(){var t=c.width();i!==t&&(i=t,n())}),1);c.on(t,o)}else c.on(t,e.debounce(n,1))}(it("resize"),(function(){a.is(":hidden")||(st(),gt(),mt(),yt=ft(),(_t=pt())(yt("resize"),!0,!0))})),a.on("reflow",St),v.support&&v.support.datatables&&function(t){if(t.dataTableSettings)for(var e=0;e<t.dataTableSettings.length;e++){var n=t.dataTableSettings[e].nTable;if(t[0]===n)return!0}return!1}(a)&&a.on("filter",St).on("sort",St).on("page",St),v.support&&v.support.bootstrap&&c.on(it("shown.bs.tab"),St),v.support&&v.support.jqueryUI&&c.on(it("tabsactivate"),St),h){var Mt=null;e.isFunction(v.autoReflow)&&(Mt=v.autoReflow(a,C)),Mt||(Mt=C.length?C[0]:a[0]),(d=new MutationObserver((function(t){for(var e=function(t){return t&&t[0]&&("THEAD"===t[0].nodeName||"TD"===t[0].nodeName||"TH"===t[0].nodeName)},n=0;n<t.length;n++)if(!e(t[n].addedNodes)&&!e(t[n].removedNodes)){St();break}}))).observe(Mt,{childList:!0,subtree:!0})}a.data("floatThead-attached",{destroy:function(){var t=".fth-"+i;return lt(),a.css(et),U.remove(),l&&N.remove(),q.parent().length&&q.replaceWith(_),ut(!1),h&&(d.disconnect(),d=null),a.off("reflow reflowed"),C.off(t),A.off(t),D&&(C.length?C.unwrap():a.unwrap()),M?C.data("floatThead-containerWrap",!1):a.data("floatThead-containerWrap",!1),a.css("minWidth",rt),H.remove(),a.data("floatThead-attached",!1),c.off(t),c.off("fth-beforeprint fth-afterprint"),Ct&&Ct.removeListener(Tt),wt=Et=function(){},function(){return a.floatThead(v)}},reflow:function(){St()},setHeaderHeight:function(){ot()},getFloatContainer:function(){return H},getRowGroups:function(){return w?H.find(">table>thead").add(a.children("tbody,tfoot")):a.children("thead,tbody,tfoot")}})})),this}}((r=i,t.exports&&!r&&(r=n(4692)),r))},9822:(t,e,n)=>{var r,i,o,s;s=function(t){"use strict";var e={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,openOnFocus:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,maxDateTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1,insideParent:!1},n=null,r=null,i="en",o={meridiem:["AM","PM"]},s=function(){var s=e.i18n[i],a={days:s.dayOfWeek,daysShort:s.dayOfWeekShort,months:s.months,monthsShort:t.map(s.months,(function(t){return t.substring(0,3)}))};"function"==typeof DateFormatter&&(n=r=new DateFormatter({dateSettings:t.extend({},o,a)}))},a={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function(t,e){if(c(e))return r.parseDate(t,e);var n=moment(t,e);return!!n.isValid()&&n.toDate()},formatDate:function(t,e){return c(e)?r.formatDate(t,e):moment(t).format(e)},formatMask:function(t){return t.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};t.datetimepicker={setLocale:function(t){var n=e.i18n[t]?t:"en";i!==n&&(i=n,s())},setDateFormatter:function(r){if("string"==typeof r&&a.hasOwnProperty(r)){var i=a[r];t.extend(e,i.default_options),n=i.formatter}else n=r}};var l={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},c=function(t){return-1!==Object.values(l).indexOf(t)};function u(t,e,n){this.date=t,this.desc=e,this.style=n}t.extend(t.datetimepicker,l),s(),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var n=/(-([a-z]))/g;return"float"===e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,(function(t,e,n){return n.toUpperCase()}))),t.currentStyle[e]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n,r;for(n=e||0,r=this.length;n<r;n+=1)if(this[n]===t)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},t.fn.xdsoftScroller=function(e,n){return this.each((function(){var r,i,o,s,a,l=t(this),c=function(t){var e,n={x:0,y:0};return"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type?(e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],n.x=e.clientX,n.y=e.clientY):"mousedown"!==t.type&&"mouseup"!==t.type&&"mousemove"!==t.type&&"mouseover"!==t.type&&"mouseout"!==t.type&&"mouseenter"!==t.type&&"mouseleave"!==t.type||(n.x=t.clientX,n.y=t.clientY),n},u=100,h=!1,d=0,f=0,p=0,g=!1,m=0,y=function(){};"hide"!==n?(t(this).hasClass("xdsoft_scroller_box")||(r=l.children().eq(0),i=l[0].clientHeight,o=r[0].offsetHeight,s=t('<div class="xdsoft_scrollbar"></div>'),a=t('<div class="xdsoft_scroller"></div>'),s.append(a),l.addClass("xdsoft_scroller_box").append(s),y=function(t){var e=c(t).y-d+m;e<0&&(e=0),e+a[0].offsetHeight>p&&(e=p-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[u?e/u:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",(function(r){i||l.trigger("resize_scroll.xdsoft_scroller",[n]),d=c(r).y,m=parseInt(a.css("margin-top"),10),p=s[0].offsetHeight,"mousedown"===r.type||"touchstart"===r.type?(e.ownerDocument&&t(e.ownerDocument.body).addClass("xdsoft_noselect"),t([e.ownerDocument.body,e.contentWindow]).on("touchend mouseup.xdsoft_scroller",(function n(){t([e.ownerDocument.body,e.contentWindow]).off("touchend mouseup.xdsoft_scroller",n).off("mousemove.xdsoft_scroller",y).removeClass("xdsoft_noselect")})),t(e.ownerDocument.body).on("mousemove.xdsoft_scroller",y)):(g=!0,r.stopPropagation(),r.preventDefault())})).on("touchmove",(function(t){g&&(t.preventDefault(),y(t))})).on("touchend touchcancel",(function(){g=!1,m=0})),l.on("scroll_element.xdsoft_scroller",(function(t,e){i||l.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:e<0||isNaN(e)?0:e,a.css("margin-top",u*e),setTimeout((function(){r.css("marginTop",-parseInt((r[0].offsetHeight-i)*e,10))}),10)})).on("resize_scroll.xdsoft_scroller",(function(t,e,n){var c,h;i=l[0].clientHeight,o=r[0].offsetHeight,h=(c=i/o)*s[0].offsetHeight,c>1?a.hide():(a.show(),a.css("height",parseInt(h>10?h:10,10)),u=s[0].offsetHeight-a[0].offsetHeight,!0!==n&&l.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(r.css("marginTop"),10))/(o-i)]))})),l.on("mousewheel",(function(t){var e=Math.abs(parseInt(r.css("marginTop"),10));return(e-=20*t.deltaY)<0&&(e=0),l.trigger("scroll_element.xdsoft_scroller",[e/(o-i)]),t.stopPropagation(),!1})),l.on("touchstart",(function(t){h=c(t),f=Math.abs(parseInt(r.css("marginTop"),10))})),l.on("touchmove",(function(t){if(h){t.preventDefault();var e=c(t);l.trigger("scroll_element.xdsoft_scroller",[(f-(e.y-h.y))/(o-i)])}})),l.on("touchend touchcancel",(function(){h=!1,f=0}))),l.trigger("resize_scroll.xdsoft_scroller",[n])):l.find(".xdsoft_scrollbar").hide()}))},t.fn.datetimepicker=function(r,o){var s,a,l=this,c=17,h=13,d=27,f=37,p=38,g=39,m=40,y=9,_=116,v=65,b=67,x=86,S=90,w=89,E=!1,T=t.isPlainObject(r)||!r?t.extend(!0,{},e,r):t.extend(!0,{},e),C=0;return s=function(e){var o,s,a,l,C,M,A=t('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),k=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),I=t('<div class="xdsoft_datepicker active"></div>'),P=t('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),R=t('<div class="xdsoft_calendar"></div>'),O=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),N=O.find(".xdsoft_time_box").eq(0),D=t('<div class="xdsoft_time_variant"></div>'),$=t('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),L=t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),F=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),j=!1,U=0;T.id&&A.attr("id",T.id),T.style&&A.attr("style",T.style),T.weeks&&A.addClass("xdsoft_showweeks"),T.rtl&&A.addClass("xdsoft_rtl"),A.addClass("xdsoft_"+T.theme),A.addClass(T.className),P.find(".xdsoft_month span").after(L),P.find(".xdsoft_year span").after(F),P.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",(function(e){var n,r,i=t(this).find(".xdsoft_select").eq(0),o=0,s=0,a=i.is(":visible");for(P.find(".xdsoft_select").hide(),C.currentTime&&(o=C.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i[a?"hide":"show"](),n=i.find("div.xdsoft_option"),r=0;r<n.length&&n.eq(r).data("value")!==o;r+=1)s+=n[0].offsetHeight;return i.xdsoftScroller(T,s/(i.children()[0].offsetHeight-i[0].clientHeight)),e.stopPropagation(),!1}));var B=function(t){var e=t.originalEvent,n=e.touches?e.touches[0]:e;this.touchStartPosition=this.touchStartPosition||n;var r=Math.abs(this.touchStartPosition.clientX-n.clientX),i=Math.abs(this.touchStartPosition.clientY-n.clientY);Math.sqrt(r*r+i*i)>T.touchMovedThreshold&&(this.touchMoved=!0)};function z(){var t,n=!1;return T.startDate?n=C.strToDate(T.startDate):(n=T.value||(e&&e.val&&e.val()?e.val():""))?(n=C.strToDateTime(n),T.yearOffset&&(n=new Date(n.getFullYear()-T.yearOffset,n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))):T.defaultDate&&(n=C.strToDateTime(T.defaultDate),T.defaultTime&&(t=C.strtotime(T.defaultTime),n.setHours(t.getHours()),n.setMinutes(t.getMinutes()))),n&&C.isValidDate(n)?A.data("changed",!0):n="",n||0}function G(r){var i=function(t,e){var n=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(e)},o=function(t,e){if(!(t="string"==typeof t||t instanceof String?r.ownerDocument.getElementById(t):t))return!1;if(t.createTextRange){var n=t.createTextRange();return n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select(),!0}return!!t.setSelectionRange&&(t.setSelectionRange(e,e),!0)};r.mask&&e.off("keydown.xdsoft"),!0===r.mask&&(n.formatMask?r.mask=n.formatMask(r.format):r.mask=r.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===t.type(r.mask)&&(i(r.mask,e.val())||(e.val(r.mask.replace(/[0-9]/g,"_")),o(e[0],0)),e.on("paste.xdsoft",(function(n){var s=(n.clipboardData||n.originalEvent.clipboardData||window.clipboardData).getData("text"),a=this.value,l=this.selectionStart,c=a.substr(0,l),u=a.substr(l+s.length);return a=c+s+u,l+=s.length,i(r.mask,a)?(this.value=a,o(this,l)):""===t.trim(a)?this.value=r.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft"),n.preventDefault(),!1})),e.on("keydown.xdsoft",(function(n){var s,a=this.value,l=n.which,u=this.selectionStart,T=this.selectionEnd,C=u!==T;if(l>=48&&l<=57||l>=96&&l<=105||8===l||46===l){for(s=8===l||46===l?"_":String.fromCharCode(96<=l&&l<=105?l-48:l),8===l&&u&&!C&&(u-=1);;){var M=r.mask.substr(u,1),A=u<r.mask.length,k=u>0;if(!(/[^0-9_]/.test(M)&&A&&k))break;u+=8!==l||C?1:-1}if(n.metaKey&&(u=0,C=!0),C){var I=T-u,P=r.mask.replace(/[0-9]/g,"_"),R=P.substr(u,I).substr(1),O=a.substr(0,u),N=s+R,D=a.substr(u+I);a=O+N+D}else{var $=a.substr(0,u),L=s,F=a.substr(u+1);a=$+L+F}if(""===t.trim(a))a=P;else if(u===r.mask.length)return n.preventDefault(),!1;for(u+=8===l?0:1;/[^0-9_]/.test(r.mask.substr(u,1))&&u<r.mask.length&&u>0;)u+=8===l?0:1;i(r.mask,a)?(this.value=a,o(this,u)):""===t.trim(a)?this.value=r.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft")}else if(-1!==[v,b,x,S,w].indexOf(l)&&E||-1!==[d,p,m,f,g,_,c,y,h].indexOf(l))return!0;return n.preventDefault(),!1})))}P.find(".xdsoft_select").xdsoftScroller(T).on("touchstart mousedown.xdsoft",(function(t){var e=t.originalEvent;this.touchMoved=!1,this.touchStartPosition=e.touches?e.touches[0]:e,t.stopPropagation(),t.preventDefault()})).on("touchmove",".xdsoft_option",B).on("touchend mousedown.xdsoft",".xdsoft_option",(function(){if(!this.touchMoved){void 0!==C.currentTime&&null!==C.currentTime||(C.currentTime=C.now());var e=C.currentTime.getFullYear();C&&C.currentTime&&C.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),A.trigger("xchange.xdsoft"),T.onChangeMonth&&t.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(A,C.currentTime,A.data("input")),e!==C.currentTime.getFullYear()&&t.isFunction(T.onChangeYear)&&T.onChangeYear.call(A,C.currentTime,A.data("input"))}})),A.getValue=function(){return C.getCurrentTime()},A.setOptions=function(r){var i={};T=t.extend(!0,{},T,r),r.allowTimes&&t.isArray(r.allowTimes)&&r.allowTimes.length&&(T.allowTimes=t.extend(!0,[],r.allowTimes)),r.weekends&&t.isArray(r.weekends)&&r.weekends.length&&(T.weekends=t.extend(!0,[],r.weekends)),r.allowDates&&t.isArray(r.allowDates)&&r.allowDates.length&&(T.allowDates=t.extend(!0,[],r.allowDates)),r.allowDateRe&&"[object String]"===Object.prototype.toString.call(r.allowDateRe)&&(T.allowDateRe=new RegExp(r.allowDateRe)),r.highlightedDates&&t.isArray(r.highlightedDates)&&r.highlightedDates.length&&(t.each(r.highlightedDates,(function(e,r){var o,s=t.map(r.split(","),t.trim),a=new u(n.parseDate(s[0],T.formatDate),s[1],s[2]),l=n.formatDate(a.date,T.formatDate);void 0!==i[l]?(o=i[l].desc)&&o.length&&a.desc&&a.desc.length&&(i[l].desc=o+"\n"+a.desc):i[l]=a})),T.highlightedDates=t.extend(!0,[],i)),r.highlightedPeriods&&t.isArray(r.highlightedPeriods)&&r.highlightedPeriods.length&&(i=t.extend(!0,[],T.highlightedDates),t.each(r.highlightedPeriods,(function(e,r){var o,s,a,l,c,h,d;if(t.isArray(r))o=r[0],s=r[1],a=r[2],d=r[3];else{var f=t.map(r.split(","),t.trim);o=n.parseDate(f[0],T.formatDate),s=n.parseDate(f[1],T.formatDate),a=f[2],d=f[3]}for(;o<=s;)l=new u(o,a,d),c=n.formatDate(o,T.formatDate),o.setDate(o.getDate()+1),void 0!==i[c]?(h=i[c].desc)&&h.length&&l.desc&&l.desc.length&&(i[c].desc=h+"\n"+l.desc):i[c]=l})),T.highlightedDates=t.extend(!0,[],i)),r.disabledDates&&t.isArray(r.disabledDates)&&r.disabledDates.length&&(T.disabledDates=t.extend(!0,[],r.disabledDates)),r.disabledWeekDays&&t.isArray(r.disabledWeekDays)&&r.disabledWeekDays.length&&(T.disabledWeekDays=t.extend(!0,[],r.disabledWeekDays)),!T.open&&!T.opened||T.inline||e.trigger("open.xdsoft"),T.inline&&(j=!0,A.addClass("xdsoft_inline"),e.after(A).hide()),T.inverseButton&&(T.next="xdsoft_prev",T.prev="xdsoft_next"),T.datepicker?I.addClass("active"):I.removeClass("active"),T.timepicker?O.addClass("active"):O.removeClass("active"),T.value&&(C.setCurrentTime(T.value),e&&e.val&&e.val(C.str)),isNaN(T.dayOfWeekStart)?T.dayOfWeekStart=0:T.dayOfWeekStart=parseInt(T.dayOfWeekStart,10)%7,T.timepickerScrollbar||N.xdsoftScroller(T,"hide"),T.minDate&&/^[\+\-](.*)$/.test(T.minDate)&&(T.minDate=n.formatDate(C.strToDateTime(T.minDate),T.formatDate)),T.maxDate&&/^[\+\-](.*)$/.test(T.maxDate)&&(T.maxDate=n.formatDate(C.strToDateTime(T.maxDate),T.formatDate)),T.minDateTime&&/^\+(.*)$/.test(T.minDateTime)&&(T.minDateTime=C.strToDateTime(T.minDateTime).dateFormat(T.formatDate)),T.maxDateTime&&/^\+(.*)$/.test(T.maxDateTime)&&(T.maxDateTime=C.strToDateTime(T.maxDateTime).dateFormat(T.formatDate)),$.toggle(T.showApplyButton),P.find(".xdsoft_today_button").css("visibility",T.todayButton?"visible":"hidden"),P.find("."+T.prev).css("visibility",T.prevButton?"visible":"hidden"),P.find("."+T.next).css("visibility",T.nextButton?"visible":"hidden"),G(T),T.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",(function(){if(T.allowBlank&&(!t.trim(t(this).val()).length||"string"==typeof T.mask&&t.trim(t(this).val())===T.mask.replace(/[0-9]/g,"_")))t(this).val(null),A.data("xdsoft_datetime").empty();else{var e=n.parseDate(t(this).val(),T.format);if(e)t(this).val(n.formatDate(e,T.format));else{var r=+[t(this).val()[0],t(this).val()[1]].join(""),i=+[t(this).val()[2],t(this).val()[3]].join("");!T.datepicker&&T.timepicker&&r>=0&&r<24&&i>=0&&i<60?t(this).val([r,i].map((function(t){return t>9?t:"0"+t})).join(":")):t(this).val(n.formatDate(C.now(),T.format))}A.data("xdsoft_datetime").setCurrentTime(t(this).val())}A.trigger("changedatetime.xdsoft"),A.trigger("close.xdsoft")})),T.dayOfWeekStartPrev=0===T.dayOfWeekStart?6:T.dayOfWeekStart-1,A.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},A.data("options",T).on("touchstart mousedown.xdsoft",(function(t){return t.stopPropagation(),t.preventDefault(),F.hide(),L.hide(),!1})),N.append(D),N.xdsoftScroller(T),A.on("afterOpen.xdsoft",(function(){N.xdsoftScroller(T)})),A.append(I).append(O),!0!==T.withoutCopyright&&A.append(k),I.append(P).append(R).append($),T.insideParent?t(e).parent().append(A):t(T.parentID).append(A),C=new function(){var e=this;e.now=function(t){var n,r,i=new Date;return!t&&T.defaultDate&&(n=e.strToDateTime(T.defaultDate),i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate())),i.setFullYear(i.getFullYear()),!t&&T.defaultTime&&(r=e.strtotime(T.defaultTime),i.setHours(r.getHours()),i.setMinutes(r.getMinutes()),i.setSeconds(r.getSeconds()),i.setMilliseconds(r.getMilliseconds())),i},e.isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},e.setCurrentTime=function(t,n){"string"==typeof t?e.currentTime=e.strToDateTime(t):e.isValidDate(t)?e.currentTime=t:t||n||!T.allowBlank||T.inline?e.currentTime=e.now():e.currentTime=null,A.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(){return e.currentTime},e.nextMonth=function(){void 0!==e.currentTime&&null!==e.currentTime||(e.currentTime=e.now());var n,r=e.currentTime.getMonth()+1;return 12===r&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),r=0),n=e.currentTime.getFullYear(),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),r+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(r),T.onChangeMonth&&t.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(A,C.currentTime,A.data("input")),n!==e.currentTime.getFullYear()&&t.isFunction(T.onChangeYear)&&T.onChangeYear.call(A,C.currentTime,A.data("input")),A.trigger("xchange.xdsoft"),r},e.prevMonth=function(){void 0!==e.currentTime&&null!==e.currentTime||(e.currentTime=e.now());var n=e.currentTime.getMonth()-1;return-1===n&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),n=11),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),n+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(n),T.onChangeMonth&&t.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(A,C.currentTime,A.data("input")),A.trigger("xchange.xdsoft"),n},e.getWeekOfYear=function(e){if(T.onGetWeekOfYear&&t.isFunction(T.onGetWeekOfYear)){var n=T.onGetWeekOfYear.call(A,e);if(void 0!==n)return n}var r=new Date(e.getFullYear(),0,1);return 4!==r.getDay()&&r.setMonth(0,1+(4-r.getDay()+7)%7),Math.ceil(((e-r)/864e5+r.getDay()+1)/7)},e.strToDateTime=function(t){var r,i,o=[];return t&&t instanceof Date&&e.isValidDate(t)?t:((o=/^([+-]{1})(.*)$/.exec(t))&&(o[2]=n.parseDate(o[2],T.formatDate)),o&&o[2]?(r=o[2].getTime()-6e4*o[2].getTimezoneOffset(),i=new Date(e.now(!0).getTime()+parseInt(o[1]+"1",10)*r)):i=t?n.parseDate(t,T.format):e.now(),e.isValidDate(i)||(i=e.now()),i)},e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var r=t?n.parseDate(t,T.formatDate):e.now(!0);return e.isValidDate(r)||(r=e.now(!0)),r},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var r=t?n.parseDate(t,T.formatTime):e.now(!0);return e.isValidDate(r)||(r=e.now(!0)),r},e.str=function(){var t=T.format;return T.yearOffset&&(t=(t=t.replace("Y",e.currentTime.getFullYear()+T.yearOffset)).replace("y",String(e.currentTime.getFullYear()+T.yearOffset).substring(2,4))),n.formatDate(e.currentTime,t)},e.currentTime=this.now()},$.on("touchend click",(function(t){t.preventDefault(),A.data("changed",!0),C.setCurrentTime(z()),e.val(C.str()),A.trigger("close.xdsoft")})),P.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",(function(){A.data("changed",!0),C.setCurrentTime(0,!0),A.trigger("afterOpen.xdsoft")})).on("dblclick.xdsoft",(function(){var t,n,r=C.getCurrentTime();r=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=C.strToDate(T.minDate),r<(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))||(n=C.strToDate(T.maxDate),r>(n=new Date(n.getFullYear(),n.getMonth(),n.getDate()))||(e.val(C.str()),e.trigger("change"),A.trigger("close.xdsoft")))})),P.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var e=t(this),n=0,r=!1;!function t(i){e.hasClass(T.next)?C.nextMonth():e.hasClass(T.prev)&&C.prevMonth(),T.monthChangeSpinner&&(r||(n=setTimeout(t,i||100)))}(500),t([T.ownerDocument.body,T.contentWindow]).on("touchend mouseup.xdsoft",(function e(){clearTimeout(n),r=!0,t([T.ownerDocument.body,T.contentWindow]).off("touchend mouseup.xdsoft",e)}))})),O.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var e=t(this),n=0,r=!1,i=110;!function t(o){var s=N[0].clientHeight,a=D[0].offsetHeight,l=Math.abs(parseInt(D.css("marginTop"),10));e.hasClass(T.next)&&a-s-T.timeHeightInTimePicker>=l?D.css("marginTop","-"+(l+T.timeHeightInTimePicker)+"px"):e.hasClass(T.prev)&&l-T.timeHeightInTimePicker>=0&&D.css("marginTop","-"+(l-T.timeHeightInTimePicker)+"px"),N.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(D[0].style.marginTop,10)/(a-s))]),i=i>10?10:i-10,r||(n=setTimeout(t,o||i))}(500),t([T.ownerDocument.body,T.contentWindow]).on("touchend mouseup.xdsoft",(function e(){clearTimeout(n),r=!0,t([T.ownerDocument.body,T.contentWindow]).off("touchend mouseup.xdsoft",e)}))})),o=0,A.on("xchange.xdsoft",(function(s){clearTimeout(o),o=setTimeout((function(){void 0!==C.currentTime&&null!==C.currentTime||(C.currentTime=C.now());for(var o,s,a,l,c,u,h,d,f,p,g="",m=new Date(C.currentTime.getFullYear(),C.currentTime.getMonth(),1,12,0,0),y=0,_=C.now(),v=!1,b=!1,x=!1,S=!1,w=[],E=!0,M="";m.getDay()!==T.dayOfWeekStart;)m.setDate(m.getDate()-1);for(g+="<table><thead><tr>",T.weeks&&(g+="<th></th>"),o=0;o<7;o+=1)g+="<th>"+T.i18n[i].dayOfWeekShort[(o+T.dayOfWeekStart)%7]+"</th>";for(g+="</tr></thead>",g+="<tbody>",!1!==T.maxDate&&(v=C.strToDate(T.maxDate),v=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59,999)),!1!==T.minDate&&(b=C.strToDate(T.minDate),b=new Date(b.getFullYear(),b.getMonth(),b.getDate())),!1!==T.minDateTime&&(x=C.strToDate(T.minDateTime),x=new Date(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds())),!1!==T.maxDateTime&&(S=C.strToDate(T.maxDateTime),S=new Date(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),S.getSeconds())),!1!==S&&(p=31*(12*S.getFullYear()+S.getMonth())+S.getDate());y<C.currentTime.countDaysInMonth()||m.getDay()!==T.dayOfWeekStart||C.currentTime.getMonth()===m.getMonth();){w=[],y+=1,a=m.getDay(),l=m.getDate(),c=m.getFullYear(),N=m.getMonth(),u=C.getWeekOfYear(m),f="",w.push("xdsoft_date"),h=T.beforeShowDay&&t.isFunction(T.beforeShowDay.call)?T.beforeShowDay.call(A,m):null,T.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(T.allowDateRe)&&(T.allowDateRe.test(n.formatDate(m,T.formatDate))||w.push("xdsoft_disabled")),T.allowDates&&T.allowDates.length>0&&-1===T.allowDates.indexOf(n.formatDate(m,T.formatDate))&&w.push("xdsoft_disabled");var k=31*(12*m.getFullYear()+m.getMonth())+m.getDate();(!1!==v&&m>v||!1!==x&&m<x||!1!==b&&m<b||!1!==S&&k>p||h&&!1===h[0])&&w.push("xdsoft_disabled"),-1!==T.disabledDates.indexOf(n.formatDate(m,T.formatDate))&&w.push("xdsoft_disabled"),-1!==T.disabledWeekDays.indexOf(a)&&w.push("xdsoft_disabled"),e.is("[disabled]")&&w.push("xdsoft_disabled"),h&&""!==h[1]&&w.push(h[1]),C.currentTime.getMonth()!==N&&w.push("xdsoft_other_month"),(T.defaultSelect||A.data("changed"))&&n.formatDate(C.currentTime,T.formatDate)===n.formatDate(m,T.formatDate)&&w.push("xdsoft_current"),n.formatDate(_,T.formatDate)===n.formatDate(m,T.formatDate)&&w.push("xdsoft_today"),0!==m.getDay()&&6!==m.getDay()&&-1===T.weekends.indexOf(n.formatDate(m,T.formatDate))||w.push("xdsoft_weekend"),void 0!==T.highlightedDates[n.formatDate(m,T.formatDate)]&&(s=T.highlightedDates[n.formatDate(m,T.formatDate)],w.push(void 0===s.style?"xdsoft_highlighted_default":s.style),f=void 0===s.desc?"":s.desc),T.beforeShowDay&&t.isFunction(T.beforeShowDay)&&w.push(T.beforeShowDay(m)),E&&(g+="<tr>",E=!1,T.weeks&&(g+="<th>"+u+"</th>")),g+='<td data-date="'+l+'" data-month="'+N+'" data-year="'+c+'" class="xdsoft_date xdsoft_day_of_week'+m.getDay()+" "+w.join(" ")+'" title="'+f+'"><div>'+l+"</div></td>",m.getDay()===T.dayOfWeekStartPrev&&(g+="</tr>",E=!0),m.setDate(l+1)}g+="</tbody></table>",R.html(g),P.find(".xdsoft_label span").eq(0).text(T.i18n[i].months[C.currentTime.getMonth()]),P.find(".xdsoft_label span").eq(1).text(C.currentTime.getFullYear()+T.yearOffset),M="",N="";var I=0;if(!1!==T.minTime){var O=C.strtotime(T.minTime);I=60*O.getHours()+O.getMinutes()}var N,$=1440;(!1!==T.maxTime&&(O=C.strtotime(T.maxTime),$=60*O.getHours()+O.getMinutes()),!1!==T.minDateTime&&(O=C.strToDateTime(T.minDateTime),n.formatDate(C.currentTime,T.formatDate)===n.formatDate(O,T.formatDate)&&(N=60*O.getHours()+O.getMinutes())>I&&(I=N)),!1!==T.maxDateTime)&&(O=C.strToDateTime(T.maxDateTime),n.formatDate(C.currentTime,T.formatDate)===n.formatDate(O,T.formatDate)&&(N=60*O.getHours()+O.getMinutes())<$&&($=N));if(d=function(r,i){var o,s=C.now(),a=T.allowTimes&&t.isArray(T.allowTimes)&&T.allowTimes.length;s.setHours(r),r=parseInt(s.getHours(),10),s.setMinutes(i),i=parseInt(s.getMinutes(),10),w=[];var l=60*r+i;(e.is("[disabled]")||l>=$||l<I)&&w.push("xdsoft_disabled"),(o=new Date(C.currentTime)).setHours(parseInt(C.currentTime.getHours(),10)),a||o.setMinutes(Math[T.roundTime](C.currentTime.getMinutes()/T.step)*T.step),(T.initTime||T.defaultSelect||A.data("changed"))&&o.getHours()===parseInt(r,10)&&(!a&&T.step>59||o.getMinutes()===parseInt(i,10))&&(T.defaultSelect||A.data("changed")?w.push("xdsoft_current"):T.initTime&&w.push("xdsoft_init_time")),parseInt(_.getHours(),10)===parseInt(r,10)&&parseInt(_.getMinutes(),10)===parseInt(i,10)&&w.push("xdsoft_today"),M+='<div class="xdsoft_time '+w.join(" ")+'" data-hour="'+r+'" data-minute="'+i+'">'+n.formatDate(s,T.formatTime)+"</div>"},T.allowTimes&&t.isArray(T.allowTimes)&&T.allowTimes.length)for(y=0;y<T.allowTimes.length;y+=1)d(C.strtotime(T.allowTimes[y]).getHours(),N=C.strtotime(T.allowTimes[y]).getMinutes());else for(y=0,o=0;y<(T.hours12?12:24);y+=1)for(o=0;o<60;o+=T.step){var j=60*y+o;j<I||j>=$||d((y<10?"0":"")+y,N=(o<10?"0":"")+o)}for(D.html(M),r="",y=parseInt(T.yearStart,10);y<=parseInt(T.yearEnd,10);y+=1)r+='<div class="xdsoft_option '+(C.currentTime.getFullYear()===y?"xdsoft_current":"")+'" data-value="'+y+'">'+(y+T.yearOffset)+"</div>";for(F.children().eq(0).html(r),y=parseInt(T.monthStart,10),r="";y<=parseInt(T.monthEnd,10);y+=1)r+='<div class="xdsoft_option '+(C.currentTime.getMonth()===y?"xdsoft_current":"")+'" data-value="'+y+'">'+T.i18n[i].months[y]+"</div>";L.children().eq(0).html(r),t(A).trigger("generate.xdsoft")}),10),s.stopPropagation()})).on("afterOpen.xdsoft",(function(){var t,e,n,r;T.timepicker&&(D.find(".xdsoft_current").length?t=".xdsoft_current":D.find(".xdsoft_init_time").length&&(t=".xdsoft_init_time"),t?(e=N[0].clientHeight,(n=D[0].offsetHeight)-e<(r=D.find(t).index()*T.timeHeightInTimePicker+1)&&(r=n-e),N.trigger("scroll_element.xdsoft_scroller",[parseInt(r,10)/(n-e)])):N.trigger("scroll_element.xdsoft_scroller",[0]))})),s=0,R.on("touchend click.xdsoft","td",(function(n){n.stopPropagation(),s+=1;var r=t(this),i=C.currentTime;if(null==i&&(C.currentTime=C.now(),i=C.currentTime),r.hasClass("xdsoft_disabled"))return!1;i.setDate(1),i.setFullYear(r.data("year")),i.setMonth(r.data("month")),i.setDate(r.data("date")),A.trigger("select.xdsoft",[i]),e.val(C.str()),T.onSelectDate&&t.isFunction(T.onSelectDate)&&T.onSelectDate.call(A,C.currentTime,A.data("input"),n),A.data("changed",!0),A.trigger("xchange.xdsoft"),A.trigger("changedatetime.xdsoft"),(s>1||!0===T.closeOnDateSelect||!1===T.closeOnDateSelect&&!T.timepicker)&&!T.inline&&A.trigger("close.xdsoft"),setTimeout((function(){s=0}),200)})),D.on("touchstart","div",(function(t){this.touchMoved=!1})).on("touchmove","div",B).on("touchend click.xdsoft","div",(function(e){if(!this.touchMoved){e.stopPropagation();var n=t(this),r=C.currentTime;if(null==r&&(C.currentTime=C.now(),r=C.currentTime),n.hasClass("xdsoft_disabled"))return!1;r.setHours(n.data("hour")),r.setMinutes(n.data("minute")),A.trigger("select.xdsoft",[r]),A.data("input").val(C.str()),T.onSelectTime&&t.isFunction(T.onSelectTime)&&T.onSelectTime.call(A,C.currentTime,A.data("input"),e),A.data("changed",!0),A.trigger("xchange.xdsoft"),A.trigger("changedatetime.xdsoft"),!0!==T.inline&&!0===T.closeOnTimeSelect&&A.trigger("close.xdsoft")}})),I.on("mousewheel.xdsoft",(function(t){return!T.scrollMonth||(t.deltaY<0?C.nextMonth():C.prevMonth(),!1)})),e.on("mousewheel.xdsoft",(function(t){return!T.scrollInput||(!T.datepicker&&T.timepicker?((a=D.find(".xdsoft_current").length?D.find(".xdsoft_current").eq(0).index():0)+t.deltaY>=0&&a+t.deltaY<D.children().length&&(a+=t.deltaY),D.children().eq(a).length&&D.children().eq(a).trigger("mousedown"),!1):T.datepicker&&!T.timepicker?(I.trigger(t,[t.deltaY,t.deltaX,t.deltaY]),e.val&&e.val(C.str()),A.trigger("changedatetime.xdsoft"),!1):void 0)})),A.on("changedatetime.xdsoft",(function(e){if(T.onChangeDateTime&&t.isFunction(T.onChangeDateTime)){var n=A.data("input");T.onChangeDateTime.call(A,C.currentTime,n,e),delete T.value,n.trigger("change")}})).on("generate.xdsoft",(function(){T.onGenerate&&t.isFunction(T.onGenerate)&&T.onGenerate.call(A,C.currentTime,A.data("input")),j&&(A.trigger("afterOpen.xdsoft"),j=!1)})).on("click.xdsoft",(function(t){t.stopPropagation()})),a=0,M=function(t,e){do{if(!(t=t.parentNode)||!1===e(t))break}while("HTML"!==t.nodeName)},l=function(){var e,n,r,i,o,s,a,l,c,u,h,d,f;if(e=(l=A.data("input")).offset(),n=l[0],u="top",r=e.top+n.offsetHeight-1,i=e.left,o="absolute",c=t(T.contentWindow).width(),d=t(T.contentWindow).height(),f=t(T.contentWindow).scrollTop(),T.ownerDocument.documentElement.clientWidth-e.left<I.parent().outerWidth(!0)){var p=I.parent().outerWidth(!0)-n.offsetWidth;i-=p}"rtl"===l.parent().css("direction")&&(i-=A.outerWidth()-l.outerWidth()),T.fixed?(r-=f,i-=t(T.contentWindow).scrollLeft(),o="fixed"):(a=!1,M(n,(function(t){return null!==t&&("fixed"===T.contentWindow.getComputedStyle(t).getPropertyValue("position")?(a=!0,!1):void 0)})),a&&!T.insideParent?(o="fixed",r+A.outerHeight()>d+f?(u="bottom",r=d+f-e.top):r-=f):r+A[0].offsetHeight>d+f&&(r=e.top-A[0].offsetHeight+1),r<0&&(r=0),i+n.offsetWidth>c&&(i=c-n.offsetWidth)),s=A[0],M(s,(function(t){if("relative"===T.contentWindow.getComputedStyle(t).getPropertyValue("position")&&c>=t.offsetWidth)return i-=(c-t.offsetWidth)/2,!1})),h={position:o,left:T.insideParent?n.offsetLeft:i,top:"",bottom:""},T.insideParent?h[u]=n.offsetTop+n.offsetHeight:h[u]=r,A.css(h)},A.on("open.xdsoft",(function(e){var n=!0;T.onShow&&t.isFunction(T.onShow)&&(n=T.onShow.call(A,C.currentTime,A.data("input"),e)),!1!==n&&(A.show(),l(),t(T.contentWindow).off("resize.xdsoft",l).on("resize.xdsoft",l),T.closeOnWithoutClick&&t([T.ownerDocument.body,T.contentWindow]).on("touchstart mousedown.xdsoft",(function e(){A.trigger("close.xdsoft"),t([T.ownerDocument.body,T.contentWindow]).off("touchstart mousedown.xdsoft",e)})))})).on("close.xdsoft",(function(e){var n=!0;P.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),T.onClose&&t.isFunction(T.onClose)&&(n=T.onClose.call(A,C.currentTime,A.data("input"),e)),!1===n||T.opened||T.inline||A.hide(),e.stopPropagation()})).on("toggle.xdsoft",(function(){A.is(":visible")?A.trigger("close.xdsoft"):A.trigger("open.xdsoft")})).data("input",e),U=0,A.data("xdsoft_datetime",C),A.setOptions(T),C.setCurrentTime(z()),e.data("xdsoft_datetimepicker",A).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function(){e.is(":disabled")||e.data("xdsoft_datetimepicker").is(":visible")&&T.closeOnInputClick||T.openOnFocus&&(clearTimeout(U),U=setTimeout((function(){e.is(":disabled")||(j=!0,C.setCurrentTime(z(),!0),T.mask&&G(T),A.trigger("open.xdsoft"))}),100))})).on("keydown.xdsoft",(function(e){var n,r=e.which;return-1!==[h].indexOf(r)&&T.enterLikeTab?(n=t("input:visible,textarea:visible,button:visible,a:visible"),A.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[y].indexOf(r)?(A.trigger("close.xdsoft"),!0):void 0})).on("blur.xdsoft",(function(){A.trigger("close.xdsoft")}))},a=function(e){var n=e.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),t(T.contentWindow).off("resize.xdsoft"),t([T.contentWindow,T.ownerDocument.body]).off("mousedown.xdsoft touchstart"),e.unmousewheel&&e.unmousewheel())},t(T.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").off("keydown.xdsoftcmd keyup.xdsoftcmd").on("keydown.xdsoftctrl",(function(t){t.keyCode===c&&(E=!0)})).on("keyup.xdsoftctrl",(function(t){t.keyCode===c&&(E=!1)})).on("keydown.xdsoftcmd",(function(t){t.keyCode})).on("keyup.xdsoftcmd",(function(t){t.keyCode})),this.each((function(){var e,i=t(this).data("xdsoft_datetimepicker");if(i){if("string"===t.type(r))switch(r){case"show":t(this).select().focus(),i.trigger("open.xdsoft");break;case"hide":i.trigger("close.xdsoft");break;case"toggle":i.trigger("toggle.xdsoft");break;case"destroy":a(t(this));break;case"reset":this.value=this.defaultValue,this.value&&i.data("xdsoft_datetime").isValidDate(n.parseDate(this.value,T.format))||i.data("changed",!1),i.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":i.data("input").trigger("blur.xdsoft");break;default:i[r]&&t.isFunction(i[r])&&(l=i[r](o))}else i.setOptions(r);return 0}"string"!==t.type(r)&&(!T.lazyInit||T.open||T.inline?s(t(this)):(e=t(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function t(){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(C),C=setTimeout((function(){e.data("xdsoft_datetimepicker")||s(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")}),100))})))})),l},t.fn.datetimepicker.defaults=e},i=[n(4692),n(4410)],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o)},4410:(t,e,n)=>{var r,i,o;i=[n(4692)],void 0===(o="function"==typeof(r=function(t){var e,n,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(t.event.fixHooks)for(var s=r.length;s;)t.event.fixHooks[r[--s]]=t.event.mouseHooks;var a=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",a.getLineHeight(this)),t.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),r=n["offsetParent"in t.fn?"offsetParent":"parent"]();return r.length||(r=t("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(r){var i=r||window.event,s=o.call(arguments,1),l=0,h=0,d=0,f=0,p=0,g=0;if((r=t.event.fix(i)).type="mousewheel","detail"in i&&(d=-1*i.detail),"wheelDelta"in i&&(d=i.wheelDelta),"wheelDeltaY"in i&&(d=i.wheelDeltaY),"wheelDeltaX"in i&&(h=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(h=-1*d,d=0),l=0===d?h:d,"deltaY"in i&&(l=d=-1*i.deltaY),"deltaX"in i&&(h=i.deltaX,0===d&&(l=-1*h)),0!==d||0!==h){if(1===i.deltaMode){var m=t.data(this,"mousewheel-line-height");l*=m,d*=m,h*=m}else if(2===i.deltaMode){var y=t.data(this,"mousewheel-page-height");l*=y,d*=y,h*=y}if(f=Math.max(Math.abs(d),Math.abs(h)),(!n||f<n)&&(n=f,u(i,f)&&(n/=40)),u(i,f)&&(l/=40,h/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/n),h=Math[h>=1?"floor":"ceil"](h/n),d=Math[d>=1?"floor":"ceil"](d/n),a.settings.normalizeOffset&&this.getBoundingClientRect){var _=this.getBoundingClientRect();p=r.clientX-_.left,g=r.clientY-_.top}return r.deltaX=h,r.deltaY=d,r.deltaFactor=n,r.offsetX=p,r.offsetY=g,r.deltaMode=0,s.unshift(r,l,h,d),e&&clearTimeout(e),e=setTimeout(c,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function c(){n=null}function u(t,e){return a.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?r.apply(e,i):r)||(t.exports=o)},8497:(t,e,n)=>{!function(t){if(t.support.touch="ontouchend"in document,t.support.touch){var e,n=t.ui.mouse.prototype,r=n._mouseInit,i=n._mouseDestroy;n._touchStart=function(t){!e&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,o(t,"mouseover"),o(t,"mousemove"),o(t,"mousedown"))},n._touchMove=function(t){e&&(this._touchMoved=!0,o(t,"mousemove"))},n._touchEnd=function(t){e&&(o(t,"mouseup"),o(t,"mouseout"),this._touchMoved||o(t,"click"),e=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),i.call(e)}}function o(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(r)}}}(n(4692))},9983:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(6883)],void 0===(o="function"==typeof(r=function(t){return t.extend(t.expr.pseudos,{data:t.expr.createPseudo((function(e){return function(n){return!!t.data(n,e)}}))})})?r.apply(e,i):r)||(t.exports=o)}()},724:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(6883)],void 0===(o="function"==typeof(r=function(t){return t.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e})?r.apply(e,i):r)||(t.exports=o)}()},1897:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(6883)],void 0===(o="function"==typeof(r=function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?r.apply(e,i):r)||(t.exports=o)}()},2336:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(6883)],r=function(t){return t.ui.plugin={add:function(e,n,r){var i,o=t.ui[e].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(t,e,n,r){var i,o=t.plugins[e];if(o&&(r||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)t.options[o[i][0]]&&o[i][1].apply(t.element,n)}}},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)}()},2299:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(6883)],void 0===(o="function"==typeof(r=function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),r="absolute"===n,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var e=t(this);return(!r||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)}})?r.apply(e,i):r)||(t.exports=o)}()},6883:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692)],void 0===(o="function"==typeof(r=function(t){return t.ui=t.ui||{},t.ui.version="1.14.1"})?r.apply(e,i):r)||(t.exports=o)}()},9139:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(6883)],r=function(t){var e=0,n=Array.prototype.hasOwnProperty,r=Array.prototype.slice;return t.cleanData=function(e){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)(r=t._data(i,"events"))&&r.remove&&t(i).triggerHandler("remove");e(n)}}(t.cleanData),t.widget=function(e,n,r){var i,o,s,a={},l=e.split(".")[0];if("__proto__"===(e=e.split(".")[1])||"constructor"===e)return t.error("Invalid widget name: "+e);var c=l+"-"+e;return r||(r=n,n=t.Widget),Array.isArray(r)&&(r=t.extend.apply(null,[{}].concat(r))),t.expr.pseudos[c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},i=t[l][e],o=t[l][e]=function(t,e){if(!this||!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,i,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(r,(function(t,e){a[t]="function"==typeof e?function(){function r(){return n.prototype[t].apply(this,arguments)}function i(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,o=this._superApply;return this._super=r,this._superApply=i,t=e.apply(this,arguments),this._super=n,this._superApply=o,t}}():e})),o.prototype=t.widget.extend(s,{widgetEventPrefix:i&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),i?(t.each(i._childConstructors,(function(e,n){var r=n.prototype;t.widget(r.namespace+"."+r.widgetName,o,n._proto)})),delete i._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,o,s=r.call(arguments,1),a=0,l=s.length;a<l;a++)for(i in s[a])o=s[a][i],n.call(s[a],i)&&void 0!==o&&(t.isPlainObject(o)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):e[i]=o);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each((function(){var n,r=t.data(this,i);return"instance"===o?(l=r,!1):r?"function"!=typeof r[o]||"_"===o.charAt(0)?t.error("no such method '"+o+"' for "+e+" widget instance"):(n=r[o].apply(r,a))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each((function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,r){r=t(r||this.defaultElement||this)[0],this.element=t(r),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},r!==this&&(t.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===r&&this.destroy()}}),this.document=t(r.style?r.ownerDocument:r.document||r),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var r,i,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},r=e.split("."),e=r.shift(),r.length){for(i=s[e]=t.widget.extend({},this.options[e]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(e=r.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,r,i;for(n in e)i=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&i&&i.length&&(r=t(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],r=this;function i(){var n=[];e.element.each((function(e,i){t.map(r.classesElementLookup,(function(t){return t})).some((function(t){return t.is(i)}))||n.push(i)})),r._on(t(n),{remove:"_untrackClassesElement"})}function o(o,s){var a,l;for(l=0;l<o.length;l++)a=r.classesElementLookup[o[l]]||t(),e.add?(i(),a=t(t.uniqueSort(a.get().concat(e.element.get())))):a=t(a.not(e.element).get()),r.classesElementLookup[o[l]]=a,n.push(o[l]),s&&e.classes[o[l]]&&n.push(e.classes[o[l]])}return(e=t.extend({element:this.element,classes:this.options.classes||{}},e)).keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(r,i){-1!==t.inArray(e.target,i)&&(n.classesElementLookup[r]=t(i.not(e.target).get()))})),this._off(t(e.target))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,r){r="boolean"==typeof r?r:n;var i="string"==typeof t||null===t,o={extra:i?e:n,keys:i?t:e,element:i?this.element:t,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(e,n,r){var i,o=this;"boolean"!=typeof e&&(r=n,n=e,e=!1),r?(n=i=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),t.each(r,(function(r,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?i.on(c,u,a):n.on(c,a)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?r[t]:t).apply(r,arguments)}var r=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,r){var i,o,s=this.options[e];if(r=r||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!("function"==typeof s&&!1===s.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(r,i,o){var s;"string"==typeof i&&(i={effect:i});var a=i?!0===i||"number"==typeof i?n:i.effect||n:e;"number"==typeof(i=i||{})?i={duration:i}:!0===i&&(i={}),s=!t.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&t.effects&&t.effects.effect[a]?r[e](i):a!==e&&r[a]?r[a](i.duration,i.easing,o):r.queue((function(n){t(this)[e](),o&&o.call(r[0]),n()}))}})),t.widget},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)}()},1758:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(3662),n(9983),n(2336),n(2299),n(6883),n(9139)],void 0===(o="function"==typeof(r=function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.14.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0].activeElement;t(e.target).closest(n).length||t(n).trigger("blur")},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",e,r))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,r=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(r=t.ui.ddmanager.drop(this,e)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,r)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",e)&&n._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,r="function"==typeof n.helper,i=r?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),Array.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,r,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(n=t(i.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=i.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,r,i,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,r){return r=r||this._uiHash(),t.ui.plugin.call(this,e,[n,r,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,r){var i=t.extend({},n,{item:r.element});r.sortables=[],t(r.options.connectToSortable).each((function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,i))}))},stop:function(e,n,r){var i=t.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,t.each(r.sortables,(function(){var t=this;t.isOver?(t.isOver=0,r.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,i))}))},drag:function(e,n,r){t.each(r.sortables,(function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,t.each(r.sortables,(function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(i=!1),i}))),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",e),r.dropped=o.element,t.each(r.sortables,(function(){this.refreshPositions()})),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(e),n.position=r._generatePosition(e,!0),r._trigger("fromSortable",e),r.dropped=!1,t.each(r.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,r){var i=t("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(e,n,r){var i=r.options;i._cursor&&t("body").css("cursor",i._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,r){var i=t(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(e,n,r){var i=r.options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,r){var i=r.options,o=!1,s=r.scrollParentNotHidden[0],a=r.document[0];s!==a&&"HTML"!==s.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+s.offsetHeight-e.pageY<i.scrollSensitivity?s.scrollTop=o=s.scrollTop+i.scrollSpeed:e.pageY-r.overflowOffset.top<i.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+s.offsetWidth-e.pageX<i.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+i.scrollSpeed:e.pageX-r.overflowOffset.left<i.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-t(a).scrollTop()<i.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<i.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-t(a).scrollLeft()<i.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<i.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+i.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(r,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,r){var i=r.options;r.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each((function(){var e=t(this),n=e.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})}))},drag:function(e,n,r){var i,o,s,a,l,c,u,h,d,f,p=r.options,g=p.snapTolerance,m=n.offset.left,y=m+r.helperProportions.width,_=n.offset.top,v=_+r.helperProportions.height;for(d=r.snapElements.length-1;d>=0;d--)c=(l=r.snapElements[d].left-r.margins.left)+r.snapElements[d].width,h=(u=r.snapElements[d].top-r.margins.top)+r.snapElements[d].height,y<l-g||m>c+g||v<u-g||_>h+g||!t.contains(r.snapElements[d].item.ownerDocument,r.snapElements[d].item)?(r.snapElements[d].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(u-v)<=g,o=Math.abs(h-_)<=g,s=Math.abs(l-y)<=g,a=Math.abs(c-m)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),f=i||o||s||a,"outer"!==p.snapMode&&(i=Math.abs(u-_)<=g,o=Math.abs(h-v)<=g,s=Math.abs(l-m)<=g,a=Math.abs(c-y)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[d].snapping&&(i||o||s||a||f)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=i||o||s||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,r){var i,o=r.options,s=t.makeArray(t(o.stack)).sort((function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)}));s.length&&(i=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each((function(e){t(this).css("zIndex",i+e)})),this.css("zIndex",i+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,r){var i=t(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(e,n,r){var i=r.options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}}),t.ui.draggable})?r.apply(e,i):r)||(t.exports=o)}()},3662:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(6883),n(9139)],void 0===(o="function"==typeof(r=function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.14.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o="string"==typeof this.options.cancel&&t(n.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){r.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return r._mouseMove(t)},this._mouseUpDelegate=function(t){return r._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved&&!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t);return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?r.apply(e,i):r)||(t.exports=o)}()},8604:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(3662),n(724),n(2336),n(6883),n(9139)],r=function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.14.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){var r,i=!1,o=t(e).css("overflow");if("hidden"===o)return!1;if("scroll"===o)return!0;if(e[r=n&&"left"===n?"scrollLeft":"scrollTop"]>0)return!0;try{e[r]=1,i=e[r]>0,e[r]=0}catch(t){}return i},_create:function(){var e,n=this.options,r=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",(function(){n.disabled||(r._removeClass("ui-resizable-autohide"),r._handles.show())})).on("mouseleave",(function(){n.disabled||r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!e}},_setupHandles:function(){var e,n,r,i,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this._addedHandles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},n=0;n<r.length;n++)i="ui-resizable-"+(e=String.prototype.trim.call(r[n])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+i),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.children(this.handles[e]).length||(this.element.append(o),this._addedHandles=this._addedHandles.add(o));this._renderAxis=function(e){var n,r,i,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(i,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")})),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var n,r,i=!1;for(n in this.handles)((r=t(this.handles[n])[0])===e.target||t.contains(r,e.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(e){var n,r,i,o,s=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(n+=t(s.containment).scrollLeft()||0,r+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this._helper||(o=this._calculateAdjustedElementDimensions(a)),this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width,height:o.height},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:o.width,height:o.height},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,r,i=this.originalMousePosition,o=this.axis,s=e.pageX-i.left||0,a=e.pageY-i.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,r,i,o,s,a,l,c=this.options,u=this;return this._helper&&(i=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=r?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-i},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.helper.css(t),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px",this.helper.width(t.width)),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px",this.helper.height(t.height)),t},_updateVirtualBoundaries:function(t){var e,n,r,i,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,r=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===r&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===r&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,r=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,i=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),r&&(t.width=e.maxWidth),i&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),r&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),i&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],r=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],i=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(r[e])||0,n[e]+=parseFloat(i[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_calculateAdjustedElementDimensions:function(t){var e,n,r,i=t.get(0);return"content-box"!==t.css("box-sizing")||!this._hasScroll(i)&&!this._hasScroll(i,"left")?{height:parseFloat(t.css("height")),width:parseFloat(t.css("width"))}:(e=parseFloat(i.style.width),n=parseFloat(i.style.height),r=this._getPaddingPlusBorderDimensions(t),e=isNaN(e)?this._getElementTheoreticalSize(t,r,"width"):e,{height:n=isNaN(n)?this._getElementTheoreticalSize(t,r,"height"):n,width:e})},_getElementTheoreticalSize:function(t,e,n){return Math.max(0,Math.ceil(t.get(0)["offset"+n[0].toUpperCase()+n.slice(1)]-e[n]-.5))||0},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,r){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,r]))},sw:function(e,n,r){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,r]))},ne:function(e,n,r){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,r]))},nw:function(e,n,r){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,r]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),s=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&t(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,r,i,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each((function(t,r){n[t]=l._num(e.css("padding"+r))})),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},r=l.containerOffset,i=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:i,l.parentData={element:d,left:r.left,top:r.top,width:s,height:a}))},resize:function(e){var n,r,i,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),i=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),i&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),r=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),r+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-r,u&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,r=e.containerOffset,i=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-i.left-r.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-i.left-r.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each((function(){var n=t(this),r=e._calculateAdjustedElementDimensions(n);n.data("ui-resizable-alsoresize",{width:r.width,height:r.height,left:parseFloat(n.css("left")),top:parseFloat(n.css("top"))})}))},resize:function(e,n){var r=t(this).resizable("instance"),i=r.options,o=r.originalSize,s=r.originalPosition,a={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0};t(i.alsoResize).each((function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),i={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,(function(t,e){var n=(r[e]||0)+(a[e]||0);n&&n>=0&&(i[e]=n||null)})),e.css(i)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!0===t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),r=n.options,i=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,c=l[0]||1,u=l[1]||1,h=Math.round((i.width-o.width)/c)*c,d=Math.round((i.height-o.height)/u)*u,f=o.width+h,p=o.height+d,g=r.maxWidth&&r.maxWidth<f,m=r.maxHeight&&r.maxHeight<p,y=r.minWidth&&r.minWidth>f,_=r.minHeight&&r.minHeight>p;r.grid=l,y&&(f+=c),_&&(p+=u),g&&(f-=c),m&&(p-=u),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=s.left-h):((p-u<=0||f-c<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=s.top-d):(p=u-e.height,n.size.height=p,n.position.top=s.top+o.height-p),f-c>0?(n.size.width=f,n.position.left=s.left-h):(f=c-e.width,n.size.width=f,n.position.left=s.left+o.width-f))}}),t.ui.resizable},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)}()},4720:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(3662),n(1897),n(6883),n(9139)],r=function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.14.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,r=this.options,i=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),e=i.length;e<n;e++)s.push(o);this.handles=i.add(t(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,r,i,o,s,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var n=Math.abs(r-c.values(e));(i>n||i===n&&(e===c._lastChangedValue||c.values(e)===u.min))&&(i=n,o=t(this),s=e)})),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,r,i,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/e)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_uiHash:function(t,e,n){var r={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==e?e:this.values(t),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var r,i=this.value(),o=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),i=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(r,n):Math.max(r,n)),o[e]=n),n!==i&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,r,i;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!Array.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(n=this.options.values,r=arguments[0],i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(r[i]),this._change(null,i);this._refreshValue()},_setOption:function(t,e){var n,r=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,r;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,r=t-n;return 2*Math.abs(n)>=e&&(r+=n>0?e:-e),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,r,i,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each((function(r){n=(l.values(r)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===r&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===r&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===r&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===r&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n})):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,r,i,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(i=this.options.step,n=r=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(e,o,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}})},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)}()},5285:(t,e,n)=>{var r,i,o;!function(){"use strict";i=[n(4692),n(3662),n(9983),n(2299),n(6883),n(9139)],r=function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.14.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var r=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,o.widgetName+"-item")===o)return r=t(this),!1})),t.data(e.target,o.widgetName+"-item")===o&&(r=t(e.target)),!!r&&(!(this.options.handle&&!n&&(t(this.options.handle,r).find("*").addBack().each((function(){this===e.target&&(i=!0)})),!i))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,r){var i,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=t("parent"!==s.appendTo?s.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),t.extend(this.offset,{parent:this._getParentOffset()}),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this._storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(t){var e=this.options,n=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-this.document.scrollTop()<e.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-e.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<e.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+e.scrollSpeed)),t.pageX-this.document.scrollLeft()<e.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-e.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<e.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+e.scrollSpeed))),n},_mouseDrag:function(e){var n,r,i,o,s=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),s.scroll&&!1!==this._scroll(e)&&(this._refreshItemPositions(!0),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},n=this.items.length-1;n>=0;n--)if(i=(r=this.items[n]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||t.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(e,r),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){r._clear(e)}))}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),r=[];return e=e||{},t(n).each((function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&r.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))})),!r.length&&e.key&&r.push(e.key+"="),r.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),r=[];return e=e||{},n.each((function(){r.push(t(e.item||this).attr(e.attribute||"id")||"")})),r},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||r+c>a&&r+c<l,d="y"===this.options.axis||e+u>o&&e+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!r||!i)&&(e=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this.dragDirection.vertical,i=this.dragDirection.horizontal;return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&e||"up"===r&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,r,i,o,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(r=(i=t(l[n],this.document[0])).length-1;r>=0;r--)(o=t.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push(["function"==typeof o.options.items?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){s.push(this)}for(a.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(c);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var n,r,i,o,s,a,l,c,u=this.items,h=[["function"==typeof this.options.items?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=(i=t(d[n],this.document[0])).length-1;r>=0;r--)(o=t.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push(["function"==typeof o.options.items?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],r=0,c=(a=h[n][0]).length;r<c;r++)(l=t(a[r])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){var n,r,i,o;for(n=this.items.length-1;n>=0;n--)r=this.items[n],this.currentContainer&&r.instance!==this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?t(this.options.toleranceElement,r.item):r.item,e||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top)},refreshPositions:function(t){var e,n;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(t),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;e>=0;e--)n=this.containers[e].element.offset(),this.containers[e].containerCache.left=n.left,this.containers[e].containerCache.top=n.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(e){var n,r,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,r=e.currentItem[0].nodeName.toLowerCase(),i.placeholder={element:function(){var i=t("<"+r+">",e.document[0]);return e._addClass(i,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(i,"ui-sortable-helper"),"tbody"===r?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(i)):"tr"===r?e._createTrPlaceholder(e.currentItem,i):"img"===r&&i.attr("src",e.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(t,o){n&&!i.forcePlaceholderSize||(o.height()&&(!i.forcePlaceholderSize||"tbody"!==r&&"tr"!==r)||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var r=this;e.children().each((function(){t("<td>&#160;</td>",r.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(e){var n,r,i,o,s,a,l,c,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(i=1e4,o=null,s=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",r=this.items.length-1;r>=0;r--)t.contains(this.containers[f].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[s],c=!1,e[h]-l>this.items[r][a]/2&&(c=!0),Math.abs(e[h]-l)<i&&(i=Math.abs(e[h]-l),o=this.items[r],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,r="function"==typeof n.helper?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||this.appendTo[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!n.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!n.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),Array.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this.offsetParent[0]===this.document[0].body&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=t(i.containment)[0],n=t(i.containment).offset(),r="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var r="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(e){var n,r,i=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,r){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay((function(){i===this.counter&&this.refreshPositions(!r)}))},_clear:function(t,e){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function i(t,e,n){return function(r){n._trigger(t,r,e._uiHash(e))}}for(this.fromOutside&&!e&&r.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(r.push((function(t){this._trigger("remove",t,this._uiHash())})),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedStylesheet&&(this._storedStylesheet.remove(),this._storedStylesheet=null),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<r.length;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)}()},4692:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},c=o.push,u=o.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,g=p.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},_=function(t){return null!=t&&t===t.window},v=r.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,i,o=(n=n||v).createElement("script");if(o.text=t,e)for(r in b)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function S(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t}var w="3.7.1",E=/HTML$/i,T=function(t,e){return new T.fn.init(t,e)};function C(t){var e=!!t&&"length"in t&&t.length,n=S(t);return!y(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}T.fn=T.prototype={jquery:w,constructor:T,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(c&&r&&(T.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[e],o=i&&!Array.isArray(n)?[]:i||T.isPlainObject(n)?n:{},i=!1,s[e]=T.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},T.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&p.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(C(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},text:function(t){var e,n="",r=0,i=t.nodeType;if(!i)for(;e=t[r++];)n+=T.text(e);return 1===i||11===i?t.textContent:9===i?t.documentElement.textContent:3===i||4===i?t.nodeValue:n},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?T.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!E.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(C(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return l(s)},guid:1,support:m}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var A=o.pop,k=o.sort,I=o.splice,P="[\\x20\\t\\r\\n\\f]",R=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");T.contains=function(t,e){var n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var O=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function N(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}T.escapeSelector=function(t){return(t+"").replace(O,N)};var D=v,$=c;!function(){var t,e,n,i,s,l,c,h,d,p,g=$,y=T.expando,_=0,v=0,b=tt(),x=tt(),S=tt(),w=tt(),E=function(t,e){return t===e&&(s=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",N="\\["+P+"*("+O+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+P+"*\\]",L=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",F=new RegExp(P+"+","g"),j=new RegExp("^"+P+"*,"+P+"*"),U=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),B=new RegExp(P+"|>"),z=new RegExp(L),G=new RegExp("^"+O+"$"),H={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+L),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,X=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),K=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){lt()},J=dt((function(t){return!0===t.disabled&&M(t,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(o=a.call(D.childNodes),D.childNodes),o[D.childNodes.length].nodeType}catch(t){g={apply:function(t,e){$.apply(t,a.call(e))},call:function(t){$.apply(t,a.call(arguments,1))}}}function Q(t,e,n,r){var i,o,s,a,c,u,f,p=e&&e.ownerDocument,_=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return n;if(!r&&(lt(e),e=e||l,h)){if(11!==_&&(c=V.exec(t)))if(i=c[1]){if(9===_){if(!(s=e.getElementById(i)))return n;if(s.id===i)return g.call(n,s),n}else if(p&&(s=p.getElementById(i))&&Q.contains(e,s)&&s.id===i)return g.call(n,s),n}else{if(c[2])return g.apply(n,e.getElementsByTagName(t)),n;if((i=c[3])&&e.getElementsByClassName)return g.apply(n,e.getElementsByClassName(i)),n}if(!(w[t+" "]||d&&d.test(t))){if(f=t,p=e,1===_&&(B.test(t)||U.test(t))){for((p=Y.test(t)&&at(e.parentNode)||e)==e&&m.scope||((a=e.getAttribute("id"))?a=T.escapeSelector(a):e.setAttribute("id",a=y)),o=(u=ut(t)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+ht(u[o]);f=u.join(",")}try{return g.apply(n,p.querySelectorAll(f)),n}catch(e){w(t,!0)}finally{a===y&&e.removeAttribute("id")}}}return _t(t.replace(R,"$1"),e,n,r)}function tt(){var t=[];return function n(r,i){return t.push(r+" ")>e.cacheLength&&delete n[t.shift()],n[r+" "]=i}}function et(t){return t[y]=!0,t}function nt(t){var e=l.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function rt(t){return function(e){return M(e,"input")&&e.type===t}}function it(t){return function(e){return(M(e,"input")||M(e,"button"))&&e.type===t}}function ot(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&J(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function st(t){return et((function(e){return e=+e,et((function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function at(t){return t&&void 0!==t.getElementsByTagName&&t}function lt(t){var n,r=t?t.ownerDocument||t:D;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,h=!T.isXMLDoc(l),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&D!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),m.getById=nt((function(t){return c.appendChild(t).id=T.expando,!l.getElementsByName||!l.getElementsByName(T.expando).length})),m.disconnectedMatch=nt((function(t){return p.call(t,"*")})),m.scope=nt((function(){return l.querySelectorAll(":scope")})),m.cssHas=nt((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),m.getById?(e.filter.ID=function(t){var e=t.replace(X,K);return function(t){return t.getAttribute("id")===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n=e.getElementById(t);return n?[n]:[]}}):(e.filter.ID=function(t){var e=t.replace(X,K);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),e.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},e.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&h)return e.getElementsByClassName(t)},d=[],nt((function(t){var e;c.appendChild(t).innerHTML="<a id='"+y+"' href='' disabled='disabled'></a><select id='"+y+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||d.push("\\["+P+"*(?:value|"+C+")"),t.querySelectorAll("[id~="+y+"-]").length||d.push("~="),t.querySelectorAll("a#"+y+"+*").length||d.push(".#.+[+~]"),t.querySelectorAll(":checked").length||d.push(":checked"),(e=l.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),c.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(e=l.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||d.push("\\["+P+"*name"+P+"*="+P+"*(?:''|\"\")")})),m.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),E=function(t,e){if(t===e)return s=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!m.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument==D&&Q.contains(D,t)?-1:e===l||e.ownerDocument==D&&Q.contains(D,e)?1:i?u.call(i,t)-u.call(i,e):0:4&n?-1:1)},l):l}for(t in Q.matches=function(t,e){return Q(t,null,null,e)},Q.matchesSelector=function(t,e){if(lt(t),h&&!w[e+" "]&&(!d||!d.test(e)))try{var n=p.call(t,e);if(n||m.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){w(e,!0)}return Q(e,l,null,[t]).length>0},Q.contains=function(t,e){return(t.ownerDocument||t)!=l&&lt(t),T.contains(t,e)},Q.attr=function(t,n){(t.ownerDocument||t)!=l&&lt(t);var r=e.attrHandle[n.toLowerCase()],i=r&&f.call(e.attrHandle,n.toLowerCase())?r(t,n,!h):void 0;return void 0!==i?i:t.getAttribute(n)},Q.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},T.uniqueSort=function(t){var e,n=[],r=0,o=0;if(s=!m.sortStable,i=!m.sortStable&&a.call(t,0),k.call(t,E),s){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)I.call(t,n[r],1)}return i=null,t},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(a.apply(this)))},e=T.expr={cacheLength:50,createPseudo:et,match:H,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(X,K),t[3]=(t[3]||t[4]||t[5]||"").replace(X,K),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Q.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Q.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return H.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=ut(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(X,K).toLowerCase();return"*"===t?function(){return!0}:function(t){return M(t,e)}},CLASS:function(t){var e=b[t+" "];return e||(e=new RegExp("(^|"+P+")"+t+"("+P+"|$)"))&&b(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=Q.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(F," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p=o!==s?"nextSibling":"previousSibling",g=e.parentNode,m=a&&e.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(g){if(o){for(;p;){for(h=e;h=h[p];)if(a?M(h,m):1===h.nodeType)return!1;f=p="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(b=(d=(c=(u=g[y]||(g[y]={}))[t]||[])[0]===_&&c[1])&&c[2],h=d&&g.childNodes[d];h=++d&&h&&h[p]||(b=d=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[_,d,b];break}}else if(v&&(b=d=(c=(u=e[y]||(e[y]={}))[t]||[])[0]===_&&c[1]),!1===b)for(;(h=++d&&h&&h[p]||(b=d=0)||f.pop())&&(!(a?M(h,m):1===h.nodeType)||!++b||(v&&((u=h[y]||(h[y]={}))[t]=[_,b]),h!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,n){var r,i=e.pseudos[t]||e.setFilters[t.toLowerCase()]||Q.error("unsupported pseudo: "+t);return i[y]?i(n):i.length>1?(r=[t,t,"",n],e.setFilters.hasOwnProperty(t.toLowerCase())?et((function(t,e){for(var r,o=i(t,n),s=o.length;s--;)t[r=u.call(t,o[s])]=!(e[r]=o[s])})):function(t){return i(t,0,r)}):i}},pseudos:{not:et((function(t){var e=[],n=[],r=yt(t.replace(R,"$1"));return r[y]?et((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:et((function(t){return function(e){return Q(t,e).length>0}})),contains:et((function(t){return t=t.replace(X,K),function(e){return(e.textContent||T.text(e)).indexOf(t)>-1}})),lang:et((function(t){return G.test(t||"")||Q.error("unsupported lang: "+t),t=t.replace(X,K).toLowerCase(),function(e){var n;do{if(n=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=r.location&&r.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===c},focus:function(t){return t===function(){try{return l.activeElement}catch(t){}}()&&l.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:ot(!1),disabled:ot(!0),checked:function(t){return M(t,"input")&&!!t.checked||M(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!e.pseudos.empty(t)},header:function(t){return q.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){return M(t,"input")&&"button"===t.type||M(t,"button")},text:function(t){var e;return M(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:st((function(){return[0]})),last:st((function(t,e){return[e-1]})),eq:st((function(t,e,n){return[n<0?n+e:n]})),even:st((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:st((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:st((function(t,e,n){var r;for(r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:st((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}},e.pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[t]=rt(t);for(t in{submit:!0,reset:!0})e.pseudos[t]=it(t);function ct(){}function ut(t,n){var r,i,o,s,a,l,c,u=x[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=e.preFilter;a;){for(s in r&&!(i=j.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=U.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(R," ")}),a=a.slice(r.length)),e.filter)!(i=H[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?Q.error(t):x(t,l).slice(0)}function ht(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function dt(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=v++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,l){var c,u,h=[_,a];if(l){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(u=e[y]||(e[y]={}),i&&M(e,i))e=e[r]||e;else{if((c=u[o])&&c[0]===_&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=t(e,n,l))return!0}return!1}}function ft(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function pt(t,e,n,r,i){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function gt(t,e,n,r,i,o){return r&&!r[y]&&(r=gt(r)),i&&!i[y]&&(i=gt(i,o)),et((function(o,s,a,l){var c,h,d,f,p=[],m=[],y=s.length,_=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)Q(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?_:pt(_,p,t,a,l);if(n?n(v,f=i||(o?t:y||r)?[]:s,a,l):f=v,r)for(c=pt(f,m),r(c,[],a,l),h=c.length;h--;)(d=c[h])&&(f[m[h]]=!(v[m[h]]=d));if(o){if(i||t){if(i){for(c=[],h=f.length;h--;)(d=f[h])&&c.push(v[h]=d);i(null,f=[],c,l)}for(h=f.length;h--;)(d=f[h])&&(c=i?u.call(o,d):p[h])>-1&&(o[c]=!(s[c]=d))}}else f=pt(f===s?f.splice(y,f.length):f),i?i(null,s,f,l):g.apply(s,f)}))}function mt(t){for(var r,i,o,s=t.length,a=e.relative[t[0].type],l=a||e.relative[" "],c=a?1:0,h=dt((function(t){return t===r}),l,!0),d=dt((function(t){return u.call(r,t)>-1}),l,!0),f=[function(t,e,i){var o=!a&&(i||e!=n)||((r=e).nodeType?h(t,e,i):d(t,e,i));return r=null,o}];c<s;c++)if(i=e.relative[t[c].type])f=[dt(ft(f),i)];else{if((i=e.filter[t[c].type].apply(null,t[c].matches))[y]){for(o=++c;o<s&&!e.relative[t[o].type];o++);return gt(c>1&&ft(f),c>1&&ht(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(R,"$1"),i,c<o&&mt(t.slice(c,o)),o<s&&mt(t=t.slice(o)),o<s&&ht(t))}f.push(i)}return ft(f)}function yt(t,r){var i,o=[],s=[],a=S[t+" "];if(!a){for(r||(r=ut(t)),i=r.length;i--;)(a=mt(r[i]))[y]?o.push(a):s.push(a);a=S(t,function(t,r){var i=r.length>0,o=t.length>0,s=function(s,a,c,u,d){var f,p,m,y=0,v="0",b=s&&[],x=[],S=n,w=s||o&&e.find.TAG("*",d),E=_+=null==S?1:Math.random()||.1,C=w.length;for(d&&(n=a==l||a||d);v!==C&&null!=(f=w[v]);v++){if(o&&f){for(p=0,a||f.ownerDocument==l||(lt(f),c=!h);m=t[p++];)if(m(f,a||l,c)){g.call(u,f);break}d&&(_=E)}i&&((f=!m&&f)&&y--,s&&b.push(f))}if(y+=v,i&&v!==y){for(p=0;m=r[p++];)m(b,x,a,c);if(s){if(y>0)for(;v--;)b[v]||x[v]||(x[v]=A.call(u));x=pt(x)}g.apply(u,x),d&&!s&&x.length>0&&y+r.length>1&&T.uniqueSort(u)}return d&&(_=E,n=S),b};return i?et(s):s}(s,o)),a.selector=t}return a}function _t(t,n,r,i){var o,s,a,l,c,u="function"==typeof t&&t,d=!i&&ut(t=u.selector||t);if(r=r||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&h&&e.relative[s[1].type]){if(!(n=(e.find.ID(a.matches[0].replace(X,K),n)||[])[0]))return r;u&&(n=n.parentNode),t=t.slice(s.shift().value.length)}for(o=H.needsContext.test(t)?0:s.length;o--&&(a=s[o],!e.relative[l=a.type]);)if((c=e.find[l])&&(i=c(a.matches[0].replace(X,K),Y.test(s[0].type)&&at(n.parentNode)||n))){if(s.splice(o,1),!(t=i.length&&ht(s)))return g.apply(r,i),r;break}}return(u||yt(t,d))(i,n,!h,r,!n||Y.test(t)&&at(n.parentNode)||n),r}ct.prototype=e.filters=e.pseudos,e.setFilters=new ct,m.sortStable=y.split("").sort(E).join("")===y,lt(),m.sortDetached=nt((function(t){return 1&t.compareDocumentPosition(l.createElement("fieldset"))})),T.find=Q,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,Q.compile=yt,Q.select=_t,Q.setDocument=lt,Q.tokenize=ut,Q.escape=T.escapeSelector,Q.getText=T.text,Q.isXML=T.isXMLDoc,Q.selectors=T.expr,Q.support=T.support,Q.uniqueSort=T.uniqueSort}();var L=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&T(t).is(n))break;r.push(t)}return r},F=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},j=T.expr.match.needsContext,U=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(t,e,n){return y(e)?T.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?T.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?T.grep(t,(function(t){return u.call(e,t)>-1!==n})):T.filter(e,t,n)}T.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?T.find.matchesSelector(r,t)?[r]:[]:T.find.matches(t,T.grep(e,(function(t){return 1===t.nodeType})))},T.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(T(t).filter((function(){for(e=0;e<r;e++)if(T.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)T.find(t,i[e],n);return r>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(B(this,t||[],!1))},not:function(t){return this.pushStack(B(this,t||[],!0))},is:function(t){return!!B(this,"string"==typeof t&&j.test(t)?T(t):t||[],!1).length}});var z,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||z,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:G.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:v,!0)),U.test(r[1])&&T.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=v.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,z=T(v);var H=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};function q(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&T(t);if(!j.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?u.call(T(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return L(t,"parentNode")},parentsUntil:function(t,e,n){return L(t,"parentNode",n)},next:function(t){return q(t,"nextSibling")},prev:function(t){return q(t,"previousSibling")},nextAll:function(t){return L(t,"nextSibling")},prevAll:function(t){return L(t,"previousSibling")},nextUntil:function(t,e,n){return L(t,"nextSibling",n)},prevUntil:function(t,e,n){return L(t,"previousSibling",n)},siblings:function(t){return F((t.parentNode||{}).firstChild,t)},children:function(t){return F(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(M(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},(function(t,e){T.fn[t]=function(n,r){var i=T.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=T.filter(r,i)),this.length>1&&(W[t]||T.uniqueSort(i),H.test(t)&&i.reverse()),this.pushStack(i)}}));var V=/[^\x20\t\r\n\f]+/g;function Y(t){return t}function X(t){throw t}function K(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(V)||[],(function(t,n){e[n]=!0})),e}(t):T.extend({},t);var e,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){T.each(n,(function(n,r){y(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==S(r)&&e(r)}))}(arguments),n&&!e&&l()),this},remove:function(){return T.each(arguments,(function(t,e){for(var n;(n=T.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?T.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return T.Deferred((function(n){T.each(e,(function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,i){var o=0;function s(t,e,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(t<o)){if((r=n.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,y(c)?i?c.call(r,s(o,e,Y,i),s(o,e,X,i)):(o++,c.call(r,s(o,e,Y,i),s(o,e,X,i),s(o,e,Y,e.notifyWith))):(n!==Y&&(a=void 0,l=[r]),(i||e.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(r){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(r,u.error),t+1>=o&&(n!==X&&(a=void 0,l=[r]),e.rejectWith(a,l))}};t?u():(T.Deferred.getErrorHook?u.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(u.error=T.Deferred.getStackHook()),r.setTimeout(u))}}return T.Deferred((function(r){e[0][3].add(s(0,r,y(i)?i:Y,r.notifyWith)),e[1][3].add(s(0,r,y(t)?t:Y)),e[2][3].add(s(0,r,y(n)?n:X))})).promise()},promise:function(t){return null!=t?T.extend(t,i):i}},o={};return T.each(e,(function(t,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=a.call(arguments),o=T.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(K(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)K(i[n],s(n),o.reject);return o.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&Z.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){r.setTimeout((function(){throw t}))};var J=T.Deferred();function Q(){v.removeEventListener("DOMContentLoaded",Q),r.removeEventListener("load",Q),T.ready()}T.fn.ready=function(t){return J.then(t).catch((function(t){T.readyException(t)})),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||J.resolveWith(v,[T]))}}),T.ready.then=J.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?r.setTimeout(T.ready):(v.addEventListener("DOMContentLoaded",Q),r.addEventListener("load",Q));var tt=function(t,e,n,r,i,o,s){var a=0,l=t.length,c=null==n;if("object"===S(n))for(a in i=!0,n)tt(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,y(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(T(t),n)})),e))for(;a<l;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):l?e(t[0],n):o},et=/^-ms-/,nt=/-([a-z])/g;function rt(t,e){return e.toUpperCase()}function it(t){return t.replace(et,"ms-").replace(nt,rt)}var ot=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function st(){this.expando=T.expando+st.uid++}st.uid=1,st.prototype={cache:function(t){var e=t[this.expando];return e||(e={},ot(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[it(e)]=n;else for(r in e)i[it(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][it(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(it):(e=it(e))in r?[e]:e.match(V)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||T.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var at=new st,lt=new st,ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ut=/[A-Z]/g;function ht(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(ut,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:ct.test(t)?JSON.parse(t):t)}(n)}catch(t){}lt.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return lt.hasData(t)||at.hasData(t)},data:function(t,e,n){return lt.access(t,e,n)},removeData:function(t,e){lt.remove(t,e)},_data:function(t,e,n){return at.access(t,e,n)},_removeData:function(t,e){at.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=lt.get(o),1===o.nodeType&&!at.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=it(r.slice(5)),ht(o,r,i[r]));at.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){lt.set(this,t)})):tt(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=lt.get(o,t))||void 0!==(n=ht(o,t))?n:void 0;this.each((function(){lt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){lt.remove(this,t)}))}}),T.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=at.get(t,e),n&&(!r||Array.isArray(n)?r=at.access(t,e,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),r=n.length,i=n.shift(),o=T._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){T.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return at.get(t,n)||at.access(t,n,{empty:T.Callbacks("once memory").add((function(){at.remove(t,[e+"queue",n])}))})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each((function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){T.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=T.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=at.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ft=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),pt=["Top","Right","Bottom","Left"],gt=v.documentElement,mt=function(t){return T.contains(t.ownerDocument,t)},yt={composed:!0};gt.getRootNode&&(mt=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(yt)===t.ownerDocument});var _t=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&mt(t)&&"none"===T.css(t,"display")};function vt(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return T.css(t,e,"")},l=a(),c=n&&n[3]||(T.cssNumber[e]?"":"px"),u=t.nodeType&&(T.cssNumber[e]||"px"!==c&&+l)&&ft.exec(T.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)T.style(t,e,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,T.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var bt={};function xt(t){var e,n=t.ownerDocument,r=t.nodeName,i=bt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=T.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),bt[r]=i,i)}function St(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=at.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&_t(r)&&(i[o]=xt(r))):"none"!==n&&(i[o]="none",at.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}T.fn.extend({show:function(){return St(this,!0)},hide:function(){return St(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){_t(this)?T(this).show():T(this).hide()}))}});var wt,Et,Tt=/^(?:checkbox|radio)$/i,Ct=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Mt=/^$|^module$|\/(?:java|ecma)script/i;wt=v.createDocumentFragment().appendChild(v.createElement("div")),(Et=v.createElement("input")).setAttribute("type","radio"),Et.setAttribute("checked","checked"),Et.setAttribute("name","t"),wt.appendChild(Et),m.checkClone=wt.cloneNode(!0).cloneNode(!0).lastChild.checked,wt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!wt.cloneNode(!0).lastChild.defaultValue,wt.innerHTML="<option></option>",m.option=!!wt.lastChild;var At={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function kt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?T.merge([t],n):n}function It(t,e){for(var n=0,r=t.length;n<r;n++)at.set(t[n],"globalEval",!e||at.get(e[n],"globalEval"))}At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,m.option||(At.optgroup=At.option=[1,"<select multiple='multiple'>","</select>"]);var Pt=/<|&#?\w+;/;function Rt(t,e,n,r,i){for(var o,s,a,l,c,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===S(o))T.merge(d,o.nodeType?[o]:o);else if(Pt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Ct.exec(o)||["",""])[1].toLowerCase(),l=At[a]||At._default,s.innerHTML=l[1]+T.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;T.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(r&&T.inArray(o,r)>-1)i&&i.push(o);else if(c=mt(o),s=kt(h.appendChild(o),"script"),c&&It(s),n)for(u=0;o=s[u++];)Mt.test(o.type||"")&&n.push(o);return h}var Ot=/^([^.]*)(?:\.(.+)|)/;function Nt(){return!0}function Dt(){return!1}function $t(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)$t(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Dt;else if(!i)return t;return 1===o&&(s=i,i=function(t){return T().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=T.guid++)),t.each((function(){T.event.add(this,e,i,r,n)}))}function Lt(t,e,n){n?(at.set(t,e,!1),T.event.add(t,e,{namespace:!1,handler:function(t){var n,r=at.get(this,e);if(1&t.isTrigger&&this[e]){if(r)(T.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=a.call(arguments),at.set(this,e,r),this[e](),n=at.get(this,e),at.set(this,e,!1),r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else r&&(at.set(this,e,T.event.trigger(r[0],r.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=Nt)}})):void 0===at.get(t,e)&&T.event.add(t,e,Nt)}T.event={global:{},add:function(t,e,n,r,i){var o,s,a,l,c,u,h,d,f,p,g,m=at.get(t);if(ot(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&T.find.matchesSelector(gt,i),n.guid||(n.guid=T.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(V)||[""]).length;c--;)f=g=(a=Ot.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=T.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=T.event.special[f]||{},u=T.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,p,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),T.event.global[f]=!0)},remove:function(t,e,n,r,i){var o,s,a,l,c,u,h,d,f,p,g,m=at.hasData(t)&&at.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(V)||[""]).length;c--;)if(f=g=(a=Ot.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=T.event.special[f]||{},d=l[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!i&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||T.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)T.event.remove(t,f+e[c],n,r,!0);T.isEmptyObject(l)&&at.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=new Array(arguments.length),l=T.event.fix(t),c=(at.get(this,"events")||Object.create(null))[l.type]||[],u=T.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=T.event.handlers.call(this,l,c),e=0;(i=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,r,i,o,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?T(i,this).index(c)>-1:T.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return Tt.test(e.type)&&e.click&&M(e,"input")&&Lt(e,"click",!0),!1},trigger:function(t){var e=this||t;return Tt.test(e.type)&&e.click&&M(e,"input")&&Lt(e,"click"),!0},_default:function(t){var e=t.target;return Tt.test(e.type)&&e.click&&M(e,"input")&&at.get(e,"click")||M(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Nt:Dt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Nt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Nt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Nt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(t,e){function n(t){if(v.documentMode){var n=at.get(this,"handle"),r=T.event.fix(t);r.type="focusin"===t.type?"focus":"blur",r.isSimulated=!0,n(t),r.target===r.currentTarget&&n(r)}else T.event.simulate(e,t.target,T.event.fix(t))}T.event.special[t]={setup:function(){var r;if(Lt(this,t,!0),!v.documentMode)return!1;(r=at.get(this,e))||this.addEventListener(e,n),at.set(this,e,(r||0)+1)},trigger:function(){return Lt(this,t),!0},teardown:function(){var t;if(!v.documentMode)return!1;(t=at.get(this,e)-1)?at.set(this,e,t):(this.removeEventListener(e,n),at.remove(this,e))},_default:function(e){return at.get(e.target,t)},delegateType:e},T.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=v.documentMode?this:r,o=at.get(i,e);o||(v.documentMode?this.addEventListener(e,n):r.addEventListener(t,n,!0)),at.set(i,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=v.documentMode?this:r,o=at.get(i,e)-1;o?at.set(i,e,o):(v.documentMode?this.removeEventListener(e,n):r.removeEventListener(t,n,!0),at.remove(i,e))}}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||T.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}})),T.fn.extend({on:function(t,e,n,r){return $t(this,t,e,n,r)},one:function(t,e,n,r){return $t(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,T(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Dt),this.each((function(){T.event.remove(this,t,n,e)}))}});var Ft=/<script|<style|<link/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Bt(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function zt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Gt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ht(t,e){var n,r,i,o,s,a;if(1===e.nodeType){if(at.hasData(t)&&(a=at.get(t).events))for(i in at.remove(e,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)T.event.add(e,i,a[i][n]);lt.hasData(t)&&(o=lt.access(t),s=T.extend({},o),lt.set(e,s))}}function Wt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Tt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function qt(t,e,n,r){e=l(e);var i,o,s,a,c,u,h=0,d=t.length,f=d-1,p=e[0],g=y(p);if(g||d>1&&"string"==typeof p&&!m.checkClone&&jt.test(p))return t.each((function(i){var o=t.eq(i);g&&(e[0]=p.call(this,i,o.html())),qt(o,e,n,r)}));if(d&&(o=(i=Rt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=T.map(kt(i,"script"),zt)).length;h<d;h++)c=i,h!==f&&(c=T.clone(c,!0,!0),a&&T.merge(s,kt(c,"script"))),n.call(t[h],c,h);if(a)for(u=s[s.length-1].ownerDocument,T.map(s,Gt),h=0;h<a;h++)c=s[h],Mt.test(c.type||"")&&!at.access(c,"globalEval")&&T.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):x(c.textContent.replace(Ut,""),c,u))}return t}function Vt(t,e,n){for(var r,i=e?T.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||T.cleanData(kt(r)),r.parentNode&&(n&&mt(r)&&It(kt(r,"script")),r.parentNode.removeChild(r));return t}T.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),l=mt(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(s=kt(a),r=0,i=(o=kt(t)).length;r<i;r++)Wt(o[r],s[r]);if(e)if(n)for(o=o||kt(t),s=s||kt(a),r=0,i=o.length;r<i;r++)Ht(o[r],s[r]);else Ht(t,a);return(s=kt(a,"script")).length>0&&It(s,!l&&kt(t,"script")),a},cleanData:function(t){for(var e,n,r,i=T.event.special,o=0;void 0!==(n=t[o]);o++)if(ot(n)){if(e=n[at.expando]){if(e.events)for(r in e.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,e.handle);n[at.expando]=void 0}n[lt.expando]&&(n[lt.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Vt(this,t,!0)},remove:function(t){return Vt(this,t)},text:function(t){return tt(this,(function(t){return void 0===t?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return qt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bt(this,t).appendChild(t)}))},prepend:function(){return qt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Bt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return qt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return qt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(kt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return T.clone(this,t,e)}))},html:function(t){return tt(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ft.test(t)&&!At[(Ct.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(kt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return qt(this,arguments,(function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(kt(this)),n&&n.replaceChild(e,this))}),t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){T.fn[t]=function(t){for(var n,r=[],i=T(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),T(i[s])[e](n),c.apply(r,n.get());return this.pushStack(r)}}));var Yt=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),Xt=/^--/,Kt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Zt=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},Jt=new RegExp(pt.join("|"),"i");function Qt(t,e,n){var r,i,o,s,a=Xt.test(e),l=t.style;return(n=n||Kt(t))&&(s=n.getPropertyValue(e)||n[e],a&&s&&(s=s.replace(R,"$1")||void 0),""!==s||mt(t)||(s=T.style(t,e)),!m.pixelBoxStyles()&&Yt.test(s)&&Jt.test(e)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==s?s+"":s}function te(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",gt.appendChild(c).appendChild(u);var t=r.getComputedStyle(u);n="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",s=36===e(t.right),i=36===e(t.width),u.style.position="absolute",o=12===e(u.offsetWidth/3),gt.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,s,a,l,c=v.createElement("div"),u=v.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,T.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,i;return null==a&&(t=v.createElement("table"),e=v.createElement("tr"),n=v.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",gt.appendChild(t).appendChild(e).appendChild(n),i=r.getComputedStyle(e),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,gt.removeChild(t)),a}}))}();var ee=["Webkit","Moz","ms"],ne=v.createElement("div").style,re={};function ie(t){var e=T.cssProps[t]||re[t];return e||(t in ne?t:re[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=ee.length;n--;)if((t=ee[n]+e)in ne)return t}(t)||t)}var oe=/^(none|table(?!-c[ea]).+)/,se={position:"absolute",visibility:"hidden",display:"block"},ae={letterSpacing:"0",fontWeight:"400"};function le(t,e,n){var r=ft.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ce(t,e,n,r,i,o){var s="width"===e?1:0,a=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=T.css(t,n+pt[s],!0,i)),r?("content"===n&&(l-=T.css(t,"padding"+pt[s],!0,i)),"margin"!==n&&(l-=T.css(t,"border"+pt[s]+"Width",!0,i))):(l+=T.css(t,"padding"+pt[s],!0,i),"padding"!==n?l+=T.css(t,"border"+pt[s]+"Width",!0,i):a+=T.css(t,"border"+pt[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l+c}function ue(t,e,n){var r=Kt(t),i=(!m.boxSizingReliable()||n)&&"border-box"===T.css(t,"boxSizing",!1,r),o=i,s=Qt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(Yt.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&M(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===T.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===T.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ce(t,e,n||(i?"border":"content"),o,r,s)+"px"}function he(t,e,n,r,i){return new he.prototype.init(t,e,n,r,i)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=it(e),l=Xt.test(e),c=t.style;if(l||(e=ie(a)),s=T.cssHooks[e]||T.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:c[e];"string"===(o=typeof n)&&(i=ft.exec(n))&&i[1]&&(n=vt(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(T.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,s,a=it(e);return Xt.test(e)||(e=ie(a)),(s=T.cssHooks[e]||T.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=Qt(t,e,r)),"normal"===i&&e in ae&&(i=ae[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),T.each(["height","width"],(function(t,e){T.cssHooks[e]={get:function(t,n,r){if(n)return!oe.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ue(t,e,r):Zt(t,se,(function(){return ue(t,e,r)}))},set:function(t,n,r){var i,o=Kt(t),s=!m.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===T.css(t,"boxSizing",!1,o),l=r?ce(t,e,r,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ce(t,e,"border",!1,o)-.5)),l&&(i=ft.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),le(0,n,l)}}})),T.cssHooks.marginLeft=te(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Qt(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(t,e){T.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+pt[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(T.cssHooks[t+e].set=le)})),T.fn.extend({css:function(t,e){return tt(this,(function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=Kt(t),i=e.length;s<i;s++)o[e[s]]=T.css(t,e[s],!1,r);return o}return void 0!==n?T.style(t,e,n):T.css(t,e)}),t,e,arguments.length>1)}}),T.Tween=he,he.prototype={constructor:he,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var t=he.propHooks[this.prop];return t&&t.get?t.get(this):he.propHooks._default.get(this)},run:function(t){var e,n=he.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):he.propHooks._default.set(this),this}},he.prototype.init.prototype=he.prototype,he.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[ie(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},he.propHooks.scrollTop=he.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=he.prototype.init,T.fx.step={};var de,fe,pe=/^(?:toggle|show|hide)$/,ge=/queueHooks$/;function me(){fe&&(!1===v.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(me):r.setTimeout(me,T.fx.interval),T.fx.tick())}function ye(){return r.setTimeout((function(){de=void 0})),de=Date.now()}function _e(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=pt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ve(t,e,n){for(var r,i=(be.tweeners[e]||[]).concat(be.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function be(t,e,n){var r,i,o=0,s=be.prefilters.length,a=T.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var e=de||ye(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,n]),r<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||ye(),duration:n.duration,tweens:[],createTween:function(e,n){var r=T.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=it(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=T.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=be.prefilters[o].call(c,t,u,c.opts))return y(r.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return T.map(u,ve,c),y(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(be,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return vt(n.elem,t,ft.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(V);for(var n,r=0,i=t.length;r<i;r++)n=t[r],be.tweeners[n]=be.tweeners[n]||[],be.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,l,c,u,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&_t(t),m=at.get(t,"fxshow");for(r in n.queue||(null==(s=T._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,T.queue(t,"fx").length||s.empty.fire()}))}))),e)if(i=e[r],pe.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}f[r]=m&&m[r]||T.style(t,r)}if((l=!T.isEmptyObject(e))||!T.isEmptyObject(f))for(r in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=at.get(t,"display")),"none"===(u=T.css(t,"display"))&&(c?u=c:(St([t],!0),c=t.style.display||c,u=T.css(t,"display"),St([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===T.css(t,"float")&&(l||(d.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=at.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&St([t],!0),d.done((function(){for(r in g||St([t]),at.remove(t,"fxshow"),f)T.style(t,r,f[r])}))),l=ve(g?m[r]:0,r,d),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?be.prefilters.unshift(t):be.prefilters.push(t)}}),T.speed=function(t,e,n){var r=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return T.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in T.fx.speeds?r.duration=T.fx.speeds[r.duration]:r.duration=T.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(t,e,n,r){return this.filter(_t).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=T.isEmptyObject(t),o=T.speed(e,n,r),s=function(){var e=be(this,T.extend({},t),o);(i||at.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=T.timers,s=at.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ge.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||T.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=at.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=T.timers,s=r?r.length:0;for(n.finish=!0,T.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),T.each(["toggle","show","hide"],(function(t,e){var n=T.fn[e];T.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(_e(e,!0),t,r,i)}})),T.each({slideDown:_e("show"),slideUp:_e("hide"),slideToggle:_e("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){T.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(de=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),de=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){fe||(fe=!0,me())},T.fx.stop=function(){fe=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}}))},function(){var t=v.createElement("input"),e=v.createElement("select").appendChild(v.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=v.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var xe,Se=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return tt(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){T.removeAttr(this,t)}))}}),T.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?T.prop(t,e,n):(1===o&&T.isXMLDoc(t)||(i=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?xe:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=T.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&M(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(V);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),xe={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=Se[e]||T.find.attr;Se[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=Se[s],Se[s]=i,i=null!=n(t,e,r)?s:null,Se[s]=o),i}}));var we=/^(?:input|select|textarea|button)$/i,Ee=/^(?:a|area)$/i;function Te(t){return(t.match(V)||[]).join(" ")}function Ce(t){return t.getAttribute&&t.getAttribute("class")||""}function Me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(V)||[]}T.fn.extend({prop:function(t,e){return tt(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[T.propFix[t]||t]}))}}),T.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(t)||(e=T.propFix[e]||e,i=T.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||Ee.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(t){var e,n,r,i,o,s;return y(t)?this.each((function(e){T(this).addClass(t.call(this,e,Ce(this)))})):(e=Me(t)).length?this.each((function(){if(r=Ce(this),n=1===this.nodeType&&" "+Te(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=Te(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(t){var e,n,r,i,o,s;return y(t)?this.each((function(e){T(this).removeClass(t.call(this,e,Ce(this)))})):arguments.length?(e=Me(t)).length?this.each((function(){if(r=Ce(this),n=1===this.nodeType&&" "+Te(r)+" "){for(o=0;o<e.length;o++)for(i=e[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=Te(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(t,e){var n,r,i,o,s=typeof t,a="string"===s||Array.isArray(t);return y(t)?this.each((function(n){T(this).toggleClass(t.call(this,n,Ce(this),e),e)})):"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):(n=Me(t),this.each((function(){if(a)for(o=T(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==s||((r=Ce(this))&&at.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":at.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+Te(Ce(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ae=/\r/g;T.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,T(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,(function(t){return null==t?"":t+""}))),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ae,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:Te(T.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!M(n.parentNode,"optgroup"))){if(e=T(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=T.makeArray(e),s=i.length;s--;)((r=i[s]).selected=T.inArray(T.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},m.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var ke=r.location,Ie={guid:Date.now()},Pe=/\?/;T.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||T.error("Invalid XML: "+(n?T.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Re=/^(?:focusinfocus|focusoutblur)$/,Oe=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,n,i){var o,s,a,l,c,u,h,d,p=[n||v],g=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];if(s=d=a=n=n||v,3!==n.nodeType&&8!==n.nodeType&&!Re.test(g+T.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[T.expando]?t:new T.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:T.makeArray(e,[t]),h=T.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(n,e))){if(!i&&!h.noBubble&&!_(n)){for(l=h.delegateType||g,Re.test(l+g)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||v)&&p.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?l:h.bindType||g,(u=(at.get(s,"events")||Object.create(null))[t.type]&&at.get(s,"handle"))&&u.apply(s,e),(u=c&&s[c])&&u.apply&&ot(s)&&(t.result=u.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),e)||!ot(n)||c&&y(n[g])&&!_(n)&&((a=n[c])&&(n[c]=null),T.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,Oe),n[g](),t.isPropagationStopped()&&d.removeEventListener(g,Oe),T.event.triggered=void 0,a&&(n[c]=a)),t.result}},simulate:function(t,e,n){var r=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(r,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each((function(){T.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}});var Ne=/\[\]$/,De=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;function Fe(t,e,n,r){var i;if(Array.isArray(e))T.each(e,(function(e,i){n||Ne.test(t)?r(t,i):Fe(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)}));else if(n||"object"!==S(e))r(t,e);else for(i in e)Fe(t+"["+i+"]",e[i],n,r)}T.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,(function(){i(this.name,this.value)}));else for(n in t)Fe(n,t[n],e,i);return r.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Le.test(this.nodeName)&&!$e.test(t)&&(this.checked||!Tt.test(t))})).map((function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,(function(t){return{name:e.name,value:t.replace(De,"\r\n")}})):{name:e.name,value:n.replace(De,"\r\n")}})).get()}});var je=/%20/g,Ue=/#.*$/,Be=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ge=/^(?:GET|HEAD)$/,He=/^\/\//,We={},qe={},Ve="*/".concat("*"),Ye=v.createElement("a");function Xe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(V)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ke(t,e,n,r){var i={},o=t===qe;function s(a){var l;return i[a]=!0,T.each(t[a]||[],(function(t,a){var c=a(e,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),l}return s(e.dataTypes[0])||!i["*"]&&s("*")}function Ze(t,e){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&T.extend(!0,t,r),t}Ye.href=ke.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ze(Ze(t,T.ajaxSettings),e):Ze(T.ajaxSettings,t)},ajaxPrefilter:Xe(We),ajaxTransport:Xe(qe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,o,s,a,l,c,u,h,d,f=T.ajaxSetup({},e),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?T(p):T.event,m=T.Deferred(),y=T.Callbacks("once memory"),_=f.statusCode||{},b={},x={},S="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=ze.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)w.always(t[w.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||S;return n&&n.abort(e),E(0,e),this}};if(m.promise(w),f.url=((t||f.url||ke.href)+"").replace(He,ke.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(V)||[""],null==f.crossDomain){l=v.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ye.protocol+"//"+Ye.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=T.param(f.data,f.traditional)),Ke(We,f,e,w),c)return w;for(h in(u=T.event&&f.global)&&0==T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ge.test(f.type),i=f.url.replace(Ue,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(je,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(Pe.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Be,"$1"),d=(Pe.test(i)?"&":"?")+"_="+Ie.guid+++d),f.url=i+d),f.ifModified&&(T.lastModified[i]&&w.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&w.setRequestHeader("If-None-Match",T.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ve+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,w,f)||c))return w.abort();if(S="abort",y.add(f.complete),w.done(f.success),w.fail(f.error),n=Ke(qe,f,e,w)){if(w.readyState=1,u&&g.trigger("ajaxSend",[w,f]),c)return w;f.async&&f.timeout>0&&(a=r.setTimeout((function(){w.abort("timeout")}),f.timeout));try{c=!1,n.send(b,E)}catch(t){if(c)throw t;E(-1,t)}}else E(-1,"No Transport");function E(t,e,s,l){var h,d,v,b,x,S=e;c||(c=!0,a&&r.clearTimeout(a),n=void 0,o=l||"",w.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var r,i,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,w,s)),!h&&T.inArray("script",f.dataTypes)>-1&&T.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=function(t,e,n,r){var i,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,b,w,h),h?(f.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=x),(x=w.getResponseHeader("etag"))&&(T.etag[i]=x)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=b.state,d=b.data,h=!(v=b.error))):(v=S,!t&&S||(S="error",t<0&&(t=0))),w.status=t,w.statusText=(e||S)+"",h?m.resolveWith(p,[d,S,w]):m.rejectWith(p,[w,S,v]),w.statusCode(_),_=void 0,u&&g.trigger(h?"ajaxSuccess":"ajaxError",[w,f,h?d:v]),y.fireWith(p,[w,S]),u&&(g.trigger("ajaxComplete",[w,f]),--T.active||T.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],(function(t,e){T[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:i,data:n,success:r},T.isPlainObject(t)&&t))}})),T.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),T._evalUrl=function(t,e,n){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e,n)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return y(t)?this.each((function(e){T(this).wrapInner(t.call(this,e))})):this.each((function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=y(t);return this.each((function(n){T(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var Je={0:200,1223:204},Qe=T.ajaxSettings.xhr();m.cors=!!Qe&&"withCredentials"in Qe,m.ajax=Qe=!!Qe,T.ajaxTransport((function(t){var e,n;if(m.cors||Qe&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Je[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){e&&n()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),T.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),T.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=T("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),v.head.appendChild(e[0])},abort:function(){n&&n()}}}));var tn,en=[],nn=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=en.pop()||T.expando+"_"+Ie.guid++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",(function(t,e,n){var i,o,s,a=!1!==t.jsonp&&(nn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(nn,"$1"+i):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||T.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?T(r).removeProp(i):r[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,en.push(i)),s&&y(o)&&o(s[0]),s=o=void 0})),"script"})),m.createHTMLDocument=((tn=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((r=(e=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,e.head.appendChild(r)):e=v),o=!n&&[],(i=U.exec(t))?[e.createElement(i[1])]:(i=Rt([t],e,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)));var r,i,o},T.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=Te(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&T.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(r?T("<div>").append(T.parseHTML(t)).find(r):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},T.expr.pseudos.animated=function(t){return T.grep(T.timers,(function(e){return t===e.elem})).length},T.offset={setOffset:function(t,e,n){var r,i,o,s,a,l,c=T.css(t,"position"),u=T(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=T.css(t,"top"),l=T.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),y(e)&&(e=e.call(t,n,T.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):u.css(h)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){T.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),i.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-T.css(r,"marginTop",!0),left:e.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||gt}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;T.fn[t]=function(r){return tt(this,(function(t,r,i){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i}),t,r,arguments.length)}})),T.each(["top","left"],(function(t,e){T.cssHooks[e]=te(m.pixelPosition,(function(t,n){if(n)return n=Qt(t,e),Yt.test(n)?T(t).position()[e]+"px":n}))})),T.each({Height:"height",Width:"width"},(function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){T.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return tt(this,(function(e,n,i){var o;return _(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?T.css(e,n,a):T.style(e,n,i,a)}),e,s?i:void 0,s)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){T.fn[e]=function(t){return this.on(e,t)}})),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=a.call(arguments,2),i=function(){return t.apply(e||this,r.concat(a.call(arguments)))},i.guid=t.guid=t.guid||T.guid++,i},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=M,T.isFunction=y,T.isWindow=_,T.camelCase=it,T.type=S,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},T.trim=function(t){return null==t?"":(t+"").replace(rn,"$1")},void 0===(n=function(){return T}.apply(e,[]))||(t.exports=n);var on=r.jQuery,sn=r.$;return T.noConflict=function(t){return r.$===T&&(r.$=sn),t&&r.jQuery===T&&(r.jQuery=on),T},void 0===i&&(r.jQuery=r.$=T),T}))},8851:(t,e,n)=>{"use strict";n.d(e,{A:()=>st});var r="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(r&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var o=r&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),i))}};function s(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:c(l(t))}function u(t){return t&&t.referenceNode?t.referenceNode:t}var h=r&&!(!window.MSInputMethodContext||!document.documentMode),d=r&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?h:10===t?d:h||d}function p(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function g(t){return null!==t.parentNode?g(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s,a,l=o.commonAncestorContainer;if(t!==l&&e!==l||r.contains(i))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(l):l;var c=g(t);return c.host?m(c.host,e):m(t,g(e).host)}function y(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function _(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function v(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,n=t.documentElement,r=f(10)&&getComputedStyle(n);return{height:v("Height",e,n,r),width:v("Width",e,n,r)}}var x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function E(t){return w({},t,{right:t.left+t.width,bottom:t.top+t.height})}function T(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=y(t,"top"),r=y(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?b(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,l=o.height||t.clientHeight||i.height,c=t.offsetWidth-s,u=t.offsetHeight-l;if(c||u){var h=a(t);c-=_(h,"x"),u-=_(h,"y"),i.width-=c,i.height-=u}return E(i)}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===e.nodeName,o=T(t),s=T(e),l=c(t),u=a(e),h=parseFloat(u.borderTopWidth),d=parseFloat(u.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=E({top:o.top-s.top-h,left:o.left-s.left-d,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var g=parseFloat(u.marginTop),m=parseFloat(u.marginLeft);p.top-=h-g,p.bottom-=h-g,p.left-=d-m,p.right-=d-m,p.marginTop=g,p.marginLeft=m}return(r&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(e,"top"),i=y(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}(p,e)),p}function M(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===a(t,"position"))return!0;var n=l(t);return!!n&&M(n)}function A(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function k(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?A(t):m(t,u(e));if("viewport"===r)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=C(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:y(n),a=e?0:y(n,"left");return E({top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o})}(s,i);else{var a=void 0;"scrollParent"===r?"BODY"===(a=c(l(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===r?t.ownerDocument.documentElement:r;var h=C(a,s,i);if("HTML"!==a.nodeName||M(s))o=h;else{var d=b(t.ownerDocument),f=d.height,p=d.width;o.top+=h.top-h.marginTop,o.bottom=f+h.top,o.left+=h.left-h.marginLeft,o.right=p+h.left}}var g="number"==typeof(n=n||0);return o.left+=g?n:n.left||0,o.top+=g?n:n.top||0,o.right-=g?n:n.right||0,o.bottom-=g?n:n.bottom||0,o}function I(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=k(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return w({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function P(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,r?A(e):m(e,u(n)),r)}function R(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function O(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function N(t,e,n){n=n.split("-")[0];var r=R(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[s]=e[s]+e[l]/2-r[l]/2,i[a]=n===a?e[a]-r[c]:e[O(a)],i}function D(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function $(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=D(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&s(n)&&(e.offsets.popper=E(e.offsets.popper),e.offsets.reference=E(e.offsets.reference),e=n(e,t))})),e}function L(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=I(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=N(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=$(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function F(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function j(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function U(){return this.state.isDestroyed=!0,F(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function B(t){var e=t.ownerDocument;return e?e.defaultView:window}function z(t,e,n,r){var i="BODY"===t.nodeName,o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||z(c(o.parentNode),e,n,r),r.push(o)}function G(t,e,n,r){n.updateBound=r,B(t).addEventListener("resize",n.updateBound,{passive:!0});var i=c(t);return z(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function H(){this.state.eventsEnabled||(this.state=G(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,B(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function q(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function V(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var Y=r&&/Firefox/i.test(navigator.userAgent);function X(t,e,n){var r=D(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var K=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=K.slice(3);function J(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z.indexOf(t),r=Z.slice(n+1).concat(Z.slice(0,n));return e?r.reverse():r}var Q="flip",tt="clockwise",et="counterclockwise";function nt(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(D(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map((function(t,r){var i=(1===r?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(0===s.indexOf("%")){return E("%p"===s?n:r)[e]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,i,e,n)}))})),c.forEach((function(t,e){t.forEach((function(n,r){q(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var rt={shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:S({},l,o[l]),end:S({},l,o[l]+o[c]-s[c])};t.offsets.popper=w({},s,u[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return l=q(+n)?[+n,0]:nt(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var r=j("transform"),i=t.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=k(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=s,i[r]=a,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),S({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(r=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),S({},n,r)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=w({},u,h[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(r[l])&&(t.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[a])&&(t.offsets.popper[l]=o(r[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!X(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(i),u=c?"height":"width",h=c?"Top":"Left",d=h.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",g=R(r)[u];l[p]-g<s[d]&&(t.offsets.popper[d]-=s[d]-(l[p]-g)),l[d]+g>s[p]&&(t.offsets.popper[d]+=l[d]+g-s[p]),t.offsets.popper=E(t.offsets.popper);var m=l[d]+l[u]/2-g/2,y=a(t.instance.popper),_=parseFloat(y["margin"+h]),v=parseFloat(y["border"+h+"Width"]),b=m-t.offsets.popper[d]-_-v;return b=Math.max(Math.min(s[u]-g,b),0),t.arrowElement=r,t.offsets.arrow=(S(n={},d,Math.round(b)),S(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(F(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=k(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=O(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case Q:s=[r,i];break;case tt:s=J(r);break;case et:s=J(r,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(r!==a||s.length===l+1)return t;r=t.placement.split("-")[0],i=O(r);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,d="left"===r&&h(c.right)>h(u.left)||"right"===r&&h(c.left)<h(u.right)||"top"===r&&h(c.bottom)>h(u.top)||"bottom"===r&&h(c.top)<h(u.bottom),f=h(c.left)<h(n.left),p=h(c.right)>h(n.right),g=h(c.top)<h(n.top),m=h(c.bottom)>h(n.bottom),y="left"===r&&f||"right"===r&&p||"top"===r&&g||"bottom"===r&&m,_=-1!==["top","bottom"].indexOf(r),v=!!e.flipVariations&&(_&&"start"===o&&f||_&&"end"===o&&p||!_&&"start"===o&&g||!_&&"end"===o&&m),b=!!e.flipVariationsByContent&&(_&&"start"===o&&p||_&&"end"===o&&f||!_&&"start"===o&&m||!_&&"end"===o&&g),x=v||b;(d||y||x)&&(t.flipped=!0,(d||y)&&(r=s[l+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=w({},t.offsets.popper,N(t.instance.popper,t.offsets.reference,t.placement)),t=$(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=O(e),t.offsets.popper=E(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!X(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=D(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=D(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=p(t.instance.popper),l=T(a),c={position:i.position},u=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(t){return t},l=o(i.width),c=o(r.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=e?u||h||l%2==c%2?o:s:a,f=e?o:a;return{left:d(l%2==1&&c%2==1&&!h&&e?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:d(r.right)}}(t,window.devicePixelRatio<2||!Y),h="bottom"===n?"top":"bottom",d="right"===r?"left":"right",f=j("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,g="right"===d?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&f)c[f]="translate3d("+g+"px, "+m+"px, 0)",c[h]=0,c[d]=0,c.willChange="transform";else{var y="bottom"===h?-1:1,_="right"===d?-1:1;c[h]=m*y,c[d]=g*_,c.willChange=h+", "+d}var v={"x-placement":t.placement};return t.attributes=w({},v,t.attributes),t.styles=w({},c,t.styles),t.arrowStyles=w({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return V(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&V(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=P(i,e,t,n.positionFixed),s=I(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),V(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},it={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:rt},ot=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=w({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(w({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){r.options.modifiers[e]=w({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return w({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&s(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return x(t,[{key:"update",value:function(){return L.call(this)}},{key:"destroy",value:function(){return U.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),t}();ot.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,ot.placements=K,ot.Defaults=it;const st=ot},8721:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Dn});var r=6378137,i=.0066943799901413165,o=484813681109536e-20,s=Math.PI/2,a=1e-10,l=.017453292519943295,c=57.29577951308232,u=Math.PI/4,h=2*Math.PI,d=3.14159265359,f={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const p={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var g=/[\s_\-\/\(\)]/g;function m(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(g,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(g,"")===i)return t[n]}function y(t){var e,n,r,i={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*l},lat_1:function(t){i.lat1=t*l},lat_2:function(t){i.lat2=t*l},lat_ts:function(t){i.lat_ts=t*l},lon_0:function(t){i.long0=t*l},lon_1:function(t){i.long1=t*l},lon_2:function(t){i.long2=t*l},alpha:function(t){i.alpha=parseFloat(t)*l},gamma:function(t){i.rectified_grid_angle=parseFloat(t)},lonc:function(t){i.longc=t*l},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r:function(t){i.a=i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=m(p,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*l},pm:function(t){var e=m(f,t);i.from_greenwich=(e||parseFloat(t))*l},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)},approx:function(){i.approx=!0}};for(e in o)n=o[e],e in s?"function"==typeof(r=s[e])?r(n):i[r]=n:i[e]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}const _=function(t){var e=new T(t);return e.output()};var v=1,b=/\s/,x=/[A-Za-z]/,S=/[A-Za-z84_]/,w=/[,\]]/,E=/[\d\.E\-\+]/;function T(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=v}function C(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce((function(t,e){return M(e,t),t}),r);e&&(t[e]=i)}function M(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void M(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var r;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&M(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&M(t[3],e[n]));case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":return t[0]=["name",t[0]],void C(e,n,t);case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":return t[0]=["name",t[0]],C(e,n,t),void(e[n].type=n);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return M(t,e[n]);return C(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}T.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;b.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case v:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},T.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(w.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},T.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=v)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=v,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},T.prototype.number=function(t){if(!E.test(t)){if(w.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},T.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},T.prototype.keyword=function(t){if(S.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=v)}if(!w.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},T.prototype.neutral=function(t){if(x.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(E.test(t))return this.word=t,void(this.state=3);if(!w.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},T.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var A=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function k(t){return.017453292519943295*t}function I(t){for(var e=Object.keys(t),n=0,r=e.length;n<r;++n){var i=e[n];-1!==A.indexOf(i)&&P(t[i]),"object"==typeof t[i]&&I(t[i])}}function P(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var n="",r=0,i=t.AXIS.length;r<i;++r){var o=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?n+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?n+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?n+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(n+="w")}2===n.length&&(n+="u"),3===n.length&&(t.axis=n)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;function a(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_1949"===t.datumCode&&(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"belge_1972"===t.datumCode&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",k],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",k],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",k],["lat0","latitude_of_origin",k],["lat0","standard_parallel_1",k],["lat1","standard_parallel_1",k],["lat2","standard_parallel_2",k],["azimuth","Azimuth"],["alpha","azimuth",k],["srsCode","name"]].forEach((function(e){return function(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName?!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=k(t.lat0>0?90:-90)):(t.lat0=k(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function R(t){var e=_(t),n=e[0],r={};return M(e,r),I(r),r[n]}function O(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?O[t]=y(arguments[1]):O[t]=R(arguments[1]):O[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?O.apply(e,t):O(t)}));if("string"==typeof t){if(t in O)return O[t]}else"EPSG"in t?O["EPSG:"+t.EPSG]=t:"ESRI"in t?O["ESRI:"+t.ESRI]=t:"IAU2000"in t?O["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=0;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(O);const N=O;var D=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var $=["3857","900913","3785","102113"];const L=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in N}(t))return N[t];if(function(t){return D.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=R(t);if(function(t){var e=m(t,"authority");if(e){var n=m(e,"epsg");return n&&$.indexOf(n)>-1}}(e))return N["EPSG:3857"];var n=function(t){var e=m(t,"extension");if(e)return m(e,"proj4")}(e);return n?y(n):e}return function(t){return"+"===t[0]}(t)?y(t):void 0};function F(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t}function j(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function U(t){return t<0?-1:1}function B(t){return Math.abs(t)<=d?t:t-U(t)*h}function z(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(s-e))/r}function G(t,e){for(var n,r,i=.5*t,o=s-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=r=s-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999}function H(t){return t}var W=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*c>90&&i*c<-90&&r*c>180&&r*c<-180)return null;if(Math.abs(Math.abs(i)-s)<=a)return null;if(this.sphere)e=this.x0+this.a*this.k0*B(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(u+.5*i));else{var o=Math.sin(i),l=z(this.e,i,o);e=this.x0+this.a*this.k0*B(r-this.long0),n=this.y0-this.a*this.k0*Math.log(l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=s-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=G(this.e,o)))return null}return e=B(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:H,inverse:H,names:["longlat","identity"]}],q={},V=[];function Y(t,e){var n=V.length;return t.names?(V[n]=t,t.names.forEach((function(t){q[t.toLowerCase()]=n})),this):(console.log(e),!0)}const X={start:function(){W.forEach(Y)},add:Y,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==q[e]&&V[q[e]]?V[q[e]]:void 0}};var K={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Z=K.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};K.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var J={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},militargeographische_institut:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var Q in J){var tt=J[Q];J[tt.datumName]=tt}const et=J;const nt=function(t,e,n,r,i,s,a){var l={};return l.datum_type=void 0===t||"none"===t?5:4,e&&(l.datum_params=e.map(parseFloat),0===l.datum_params[0]&&0===l.datum_params[1]&&0===l.datum_params[2]||(l.datum_type=1),l.datum_params.length>3&&(0===l.datum_params[3]&&0===l.datum_params[4]&&0===l.datum_params[5]&&0===l.datum_params[6]||(l.datum_type=2,l.datum_params[3]*=o,l.datum_params[4]*=o,l.datum_params[5]*=o,l.datum_params[6]=l.datum_params[6]/1e6+1))),a&&(l.datum_type=3,l.grids=a),l.a=n,l.b=r,l.es=i,l.ep2=s,l};var rt={};function it(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:rt[t]||null,isNull:!1}}function ot(t){return t/3600*Math.PI/180}function st(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function at(t){return t.map((function(t){return[ot(t.longitudeShift),ot(t.latitudeShift)]}))}function lt(t,e,n){return{name:st(t,e+8,e+16).trim(),parent:st(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function ct(t,e,n,r){for(var i=e+176,o=[],s=0;s<n.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(i+16*s,r),longitudeShift:t.getFloat32(i+16*s+4,r),latitudeAccuracy:t.getFloat32(i+16*s+8,r),longitudeAccuracy:t.getFloat32(i+16*s+12,r)};o.push(a)}return o}function ut(t,e){if(!(this instanceof ut))return new ut(t);e=e||function(t){if(t)throw t};var n=L(t);if("object"==typeof n){var r=ut.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=m(et,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o,s,l,c,u,h,d,f=function(t,e,n,r,i){if(!t){var o=m(K,r);o||(o=Z),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<a)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),p=(o=f.a,s=f.b,f.rf,l=n.R_A,h=((c=o*o)-(u=s*s))/c,d=0,l?(c=(o*=1-h*(.16666666666666666+h*(.04722222222222222+.022156084656084655*h)))*o,h=0):d=Math.sqrt(h),{es:h,e:d,ep2:(c-u)/u}),g=function(t){return void 0===t?null:t.split(",").map(it)}(n.nadgrids),y=n.datum||nt(n.datumCode,n.datum_params,f.a,f.b,p.es,p.ep2,g);F(this,n),F(this,r),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=p.es,this.e=p.e,this.ep2=p.ep2,this.datum=y,this.init(),e(null,this)}else e("Could not get projection name from: "+t)}else e("Could not parse to valid json: "+t)}ut.projections=X,ut.projections.start();const ht=ut;function dt(t,e,n){var r,i,o,a,l=t.x,c=t.y,u=t.z?t.z:0;if(c<-s&&c>-1.001*s)c=-s;else if(c>s&&c<1.001*s)c=s;else{if(c<-s)return{x:-1/0,y:-1/0,z:t.z};if(c>s)return{x:1/0,y:1/0,z:t.z}}return l>Math.PI&&(l-=2*Math.PI),i=Math.sin(c),a=Math.cos(c),o=i*i,{x:((r=n/Math.sqrt(1-e*o))+u)*a*Math.cos(l),y:(r+u)*a*Math.sin(l),z:(r*(1-e)+u)*i}}function ft(t,e,n,r){var i,o,s,a,l,c,u,h,d,f,p,g,m,y,_,v=1e-12,b=t.x,x=t.y,S=t.z?t.z:0;if(i=Math.sqrt(b*b+x*x),o=Math.sqrt(b*b+x*x+S*S),i/n<v){if(y=0,o/n<v)return _=-r,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(x,b);s=S/o,h=(a=i/o)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*a*a)),d=s*l,m=0;do{m++,c=e*(u=n/Math.sqrt(1-e*d*d))/(u+(_=i*h+S*d-u*(1-e*d*d))),g=(p=s*(l=1/Math.sqrt(1-c*(2-c)*a*a)))*h-(f=a*(1-c)*l)*d,h=f,d=p}while(g*g>1e-24&&m<30);return{x:y,y:Math.atan(p/Math.abs(f)),z:_}}function pt(t){return 1===t||2===t}function gt(t,e,n){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return n;if(5===t.datum_type||5===e.datum_type)return n;var o=t.a,s=t.es;if(3===t.datum_type){if(0!==mt(t,!1,n))return;o=r,s=i}var a=e.a,l=e.b,c=e.es;if(3===e.datum_type&&(a=r,l=6356752.314,c=i),s===c&&o===a&&!pt(t.datum_type)&&!pt(e.datum_type))return n;if((n=dt(n,s,o),pt(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+r,y:c*(l*t.x+t.y-s*t.z)+i,z:c*(-a*t.x+s*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),pt(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=(t.x-r)/c,h=(t.y-i)/c,d=(t.z-o)/c;return{x:u+l*h-a*d,y:-l*u+h+s*d,z:a*u-s*h+d}}}(n,e.datum_type,e.datum_params)),n=ft(n,c,a,l),3===e.datum_type)&&0!==mt(e,!0,n))return;return n}function mt(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},o=[];t:for(var s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){i=r;break}if(a.mandatory,null!==a.grid)for(var l=a.grid.subgrids,u=0,h=l.length;u<h;u++){var d=l[u],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,p=d.ll[0]-f,g=d.ll[1]-f,m=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,y=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(g>r.y||p>r.x||y<r.y||m<r.x)&&(i=yt(r,e,d),!isNaN(i.x)))break t}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*c+" "+r.y*c+" tried: '"+o+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function yt(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=B(i.x-Math.PI)+Math.PI;var o=_t(i,n);if(e){if(isNaN(o.x))return r;o.x=i.x-o.x,o.y=i.y-o.y;var s,a,l=9;do{if(a=_t(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:i.x-(a.x+o.x),y:i.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(l--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=B(o.x+n.ll[0]),r.y=o.y+n.ll[1]}else isNaN(o.x)||(r.x=t.x+o.x,r.y=t.y+o.y);return r}function _t(t,e){var n,r={x:t.x/e.del[0],y:t.y/e.del[1]},i=Math.floor(r.x),o=Math.floor(r.y),s=r.x-1*i,a=r.y-1*o,l={x:Number.NaN,y:Number.NaN};if(i<0||i>=e.lim[0])return l;if(o<0||o>=e.lim[1])return l;n=o*e.lim[0]+i;var c=e.cvs[n][0],u=e.cvs[n][1];n++;var h=e.cvs[n][0],d=e.cvs[n][1];n+=e.lim[0];var f=e.cvs[n][0],p=e.cvs[n][1];n--;var g=e.cvs[n][0],m=e.cvs[n][1],y=s*a,_=s*(1-a),v=(1-s)*(1-a),b=(1-s)*a;return l.x=v*c+_*h+b*g+y*f,l.y=v*u+_*d+b*m+y*p,l}function vt(t,e,n){var r,i,o,s=n.x,a=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=s,i=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(r=a,i=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(r=l,i="z"),t.axis[o]){case"e":case"n":c[i]=r;break;case"w":case"s":c[i]=-r;break;case"u":void 0!==n[i]&&(c.z=r);break;case"d":void 0!==n[i]&&(c.z=-r);break;default:return null}return c}function bt(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function xt(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function St(t,e,n,r){var i,o=void 0!==(n=Array.isArray(n)?bt(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(function(t){xt(t.x),xt(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type||3===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type||3===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=St(t,i=new ht("WGS84"),n,r),t=i),r&&"enu"!==t.axis&&(n=vt(t,!1,n)),"longlat"===t.projName)n={x:n.x*l,y:n.y*l,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=gt(t.datum,e.datum,n))return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*c,y:n.y*c,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&"enu"!==e.axis?vt(e,!0,n):(n&&!o&&delete n.z,n)}var wt=ht("WGS84");function Et(t,e,n,r){var i,o,s;return Array.isArray(n)?(i=St(t,e,n,r)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.slice(3)):[i.x,i.y,n[2]].concat(n.slice(3)):[i.x,i.y].concat(n.slice(2)):[i.x,i.y]):(o=St(t,e,n,r),2===(s=Object.keys(n)).length||s.forEach((function(r){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;o[r]=n[r]})),o)}function Tt(t){return t instanceof ht?t:t.oProj?t.oProj:ht(t)}const Ct=function(t,e,n){t=Tt(t);var r,i=!1;return void 0===e?(e=t,t=wt,i=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=wt,i=!0),e=Tt(e),n?Et(t,e,n):(r={forward:function(n,r){return Et(t,e,n,r)},inverse:function(n,r){return Et(e,t,n,r)}},i&&(r.oProj=e),r)};var Mt="AJSAJS",At="AFAFAF",kt=65,It=73,Pt=79,Rt=86,Ot=90;const Nt={forward:Dt,inverse:function(t){var e=jt(zt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:$t};function Dt(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(f=t.easting,p=t.northing,g=t.zoneNumber,m=Bt(g),y=Math.floor(f/1e5),_=Math.floor(p/1e5)%20,i=y,o=_,s=m,a=s-1,l=Mt.charCodeAt(a),c=At.charCodeAt(a),u=l+i-1,h=c+o,d=!1,u>Ot&&(u=u-Ot+kt-1,d=!0),(u===It||l<It&&u>It||(u>It||l<It)&&d)&&u++,(u===Pt||l<Pt&&u>Pt||(u>Pt||l<Pt)&&d)&&++u===It&&u++,u>Ot&&(u=u-Ot+kt-1),h>Rt?(h=h-Rt+kt-1,d=!0):d=!1,(h===It||c<It&&h>It||(h>It||c<It)&&d)&&h++,(h===Pt||c<Pt&&h>Pt||(h>Pt||c<Pt)&&d)&&++h===It&&h++,h>Rt&&(h=h-Rt+kt-1),String.fromCharCode(u)+String.fromCharCode(h))+n.substr(n.length-5,e)+r.substr(r.length-5,e);var i,o,s,a,l,c,u,h,d;var f,p,g,m,y,_}(function(t){var e,n,r,i,o,s,a,l,c=t.lat,u=t.lon,h=6378137,d=.00669438,f=.9996,p=Lt(c),g=Lt(u);l=Math.floor((u+180)/6)+1,180===u&&(l=60);c>=56&&c<64&&u>=3&&u<12&&(l=32);c>=72&&c<84&&(u>=0&&u<9?l=31:u>=9&&u<21?l=33:u>=21&&u<33?l=35:u>=33&&u<42&&(l=37));a=Lt(6*(l-1)-180+3),e=d/(1-d),n=h/Math.sqrt(1-d*Math.sin(p)*Math.sin(p)),r=Math.tan(p)*Math.tan(p),i=e*Math.cos(p)*Math.cos(p),o=Math.cos(p)*(g-a),s=h*((1-d/4-3*d*d/64-5*d*d*d/256)*p-(3*d/8+3*d*d/32+45*d*d*d/1024)*Math.sin(2*p)+(15*d*d/256+45*d*d*d/1024)*Math.sin(4*p)-35*d*d*d/3072*Math.sin(6*p));var m=f*n*(o+(1-r+i)*o*o*o/6+(5-18*r+r*r+72*i-58*e)*o*o*o*o*o/120)+5e5,y=f*(s+n*Math.tan(p)*(o*o/2+(5-r+9*i+4*i*i)*o*o*o*o/24+(61-58*r+r*r+600*i-330*e)*o*o*o*o*o*o/720));c<0&&(y+=1e7);return{northing:Math.round(y),easting:Math.round(m),zoneNumber:l,zoneLetter:Ut(c)}}({lat:t[1],lon:t[0]}),e)}function $t(t){var e=jt(zt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Lt(t){return t*(Math.PI/180)}function Ft(t){return t/Math.PI*180}function jt(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,s,a,l,c,u,h,d,f,p=.9996,g=6378137,m=.00669438,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),_=n-5e5,v=e;r<"N"&&(v-=1e7),h=6*(i-1)-180+3,o=.006739496752268451,f=(d=v/p/6367449.145945056)+(3*y/2-27*y*y*y/32)*Math.sin(2*d)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*d)+151*y*y*y/96*Math.sin(6*d),s=g/Math.sqrt(1-m*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),l=o*Math.cos(f)*Math.cos(f),c=.99330562*g/Math.pow(1-m*Math.sin(f)*Math.sin(f),1.5),u=_/(s*p);var b=f-s*Math.tan(f)/c*(u*u/2-(5+3*a+10*l-4*l*l-9*o)*u*u*u*u/24+(61+90*a+298*l+45*a*a-1.6983531815716497-3*l*l)*u*u*u*u*u*u/720);b=Ft(b);var x,S=(u-(1+2*a+l)*u*u*u/6+(5-2*l+28*a-3*l*l+8*o+24*a*a)*u*u*u*u*u/120)/Math.cos(f);if(S=h+Ft(S),t.accuracy){var w=jt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:w.lat,right:w.lon,bottom:b,left:S}}else x={lat:b,lon:S};return x}function Ut(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Bt(t){var e=t%6;return 0===e&&(e=6),e}function zt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var s=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;r=t.substring(o,o+=2);for(var l=Bt(s),c=function(t,e){var n=Mt.charCodeAt(e-1),r=1e5,i=!1;for(;n!==t.charCodeAt(0);){if(++n===It&&n++,n===Pt&&n++,n>Ot){if(i)throw"Bad character: "+t;n=kt,i=!0}r+=1e5}return r}(r.charAt(0),l),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=At.charCodeAt(e-1),r=0,i=!1;for(;n!==t.charCodeAt(0);){if(++n===It&&n++,n===Pt&&n++,n>Rt){if(i)throw"Bad character: "+t;n=kt,i=!0}r+=1e5}return r}(r.charAt(1),l);u<Gt(a);)u+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,f,p,g=h/2,m=0,y=0;return g>0&&(d=1e5/Math.pow(10,g),f=t.substring(o,o+g),m=parseFloat(f)*d,p=t.substring(o+g),y=parseFloat(p)*d),{easting:m+c,northing:y+u,zoneLetter:a,zoneNumber:s,accuracy:d}}function Gt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ht(t,e,n){if(!(this instanceof Ht))return new Ht(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ht.fromMGRS=function(t){return new Ht($t(t))},Ht.prototype.toMGRS=function(t){return Dt([this.x,this.y],t)};const Wt=Ht;var qt=.046875,Vt=.01953125,Yt=.01068115234375;function Xt(t){var e=[];e[0]=1-t*(.25+t*(qt+t*(Vt+t*Yt))),e[1]=t*(.75-t*(qt+t*(Vt+t*Yt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}function Kt(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}function Zt(t,e,n){for(var r=1/(1-e),i=t,o=20;o;--o){var s=Math.sin(i),l=1-e*s*s;if(i-=l=(Kt(i,s,Math.cos(i),n)-t)*(l*Math.sqrt(l))*r,Math.abs(l)<a)return i}return i}const Jt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Xt(this.es),this.ml0=Kt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.x,o=t.y,s=B(i-this.long0),l=Math.sin(o),c=Math.cos(o);if(this.es){var u=c*s,h=Math.pow(u,2),d=this.ep2*Math.pow(c,2),f=Math.pow(d,2),p=Math.abs(c)>a?Math.tan(o):0,g=Math.pow(p,2),m=Math.pow(g,2);e=1-this.es*Math.pow(l,2),u/=Math.sqrt(e);var y=Kt(o,l,c,this.en);n=this.a*(this.k0*u*(1+h/6*(1-g+d+h/20*(5-18*g+m+14*d-58*g*d+h/42*(61+179*m-m*g-479*g)))))+this.x0,r=this.a*(this.k0*(y-this.ml0+l*s*u/2*(1+h/12*(5-g+9*d+4*f+h/30*(61+m-58*g+270*d-330*g*d+h/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var _=c*Math.sin(s);if(Math.abs(Math.abs(_)-1)<a)return 93;if(n=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,r=c*Math.cos(s)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(r))>=1){if(_-1>a)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,o=(t.x-this.x0)*(1/this.a),l=(t.y-this.y0)*(1/this.a);if(this.es)if(n=Zt(e=this.ml0+l/this.k0,this.es,this.en),Math.abs(n)<s){var c=Math.sin(n),u=Math.cos(n),h=Math.abs(u)>a?Math.tan(n):0,d=this.ep2*Math.pow(u,2),f=Math.pow(d,2),p=Math.pow(h,2),g=Math.pow(p,2);e=1-this.es*Math.pow(c,2);var m=o*Math.sqrt(e)/this.k0,y=Math.pow(m,2);r=n-(e*=h)*y/(1-this.es)*.5*(1-y/12*(5+3*p-9*d*p+d-4*f-y/30*(61+90*p-252*d*p+45*g+46*d-y/56*(1385+3633*p+4095*g+1574*g*p)))),i=B(this.long0+m*(1-y/6*(1+2*p+d-y/20*(5+28*p+24*g+8*d*p+6*d-y/42*(61+662*p+1320*g+720*g*p))))/u)}else r=s*U(l),i=0;else{var _=Math.exp(o/this.k0),v=.5*(_-1/_),b=this.lat0+l/this.k0,x=Math.cos(b);e=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(v,2))),r=Math.asin(e),l<0&&(r=-r),i=0===v&&0===x?0:B(Math.atan2(v,x)+this.long0)}return t.x=i,t.y=r,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Qt(t){var e=Math.exp(t);return e=(e-1/e)/2}function te(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function ee(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(te(1,e)+1))),t<0?-e:e}function ne(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],s=0;--i>=0;)n=r*o-s+t[i],s=o,o=n;return e+n*Math.sin(2*e)}function re(t,e,n){for(var r,i,o=Math.sin(e),s=Math.cos(e),a=Qt(n),l=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),c=2*s*l,u=-2*o*a,h=t.length-1,d=t[h],f=0,p=0,g=0;--h>=0;)r=p,i=f,d=c*(p=d)-r-u*(f=g)+t[h],g=u*p-i+c*f;return[(c=o*l)*d-(u=s*a)*g,c*g+u*d]}const ie={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Jt.init.apply(this),this.forward=Jt.forward,this.inverse=Jt.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=ne(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,o=t[i],s=0;--i>=0;)n=r*o-s+t[i],s=o,o=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=B(t.x-this.long0),n=t.y;n=ne(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*i),e=Math.atan2(o*i,te(r,i*s)),e=ee(Math.tan(e));var a,l,c=re(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),t.x=a,t.y=l,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=re(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Qt(r));var s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r);i=Math.atan2(s*c,te(l,c*a)),e=B((r=Math.atan2(l,c*a))+this.long0),n=ne(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]};const oe={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(B(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*l,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ie.init.apply(this),this.forward=ie.forward,this.inverse=ie.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function se(t,e){return Math.pow((1-t)/(1+t),e)}const ae={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+u)/(Math.pow(Math.tan(.5*this.lat0+u),this.C)*se(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+u),this.C)*se(this.e*Math.sin(n),this.ratexp))-s,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+u)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(r*se(this.e*Math.sin(t.y),-.5*this.e))-s,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]};const le={init:function(){ae.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=B(t.x-this.long0),ae.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=te(t.x,t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,ae.inverse.apply(this,[t]),t.x=B(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};const ce={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=a&&(this.k0=.5*(1+U(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=a&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=a&&Math.abs(Math.cos(this.lat_ts))>a&&(this.k0=.5*this.cons*j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/z(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=j(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,o,l,c=t.x,u=t.y,h=Math.sin(u),d=Math.cos(u),f=B(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=a&&Math.abs(u+this.lat0)<=a?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*h+this.coslat0*d*Math.cos(f)),t.x=this.a*e*d*Math.sin(f)+this.x0,t.y=this.a*e*(this.coslat0*h-this.sinlat0*d*Math.cos(f))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,h,this.e))-s,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=a?(o=z(this.e,u*this.con,this.con*h),l=2*this.a*this.k0*o/this.cons,t.x=this.x0+l*Math.sin(c-this.long0),t.y=this.y0-this.con*l*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<a?(e=2*this.a*this.k0/(1+i*Math.cos(f)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(f))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(f))+this.y0),t.x=e*i*Math.sin(f)+this.x0,t))},inverse:function(t){var e,n,r,i,o;t.x-=this.x0,t.y-=this.y0;var l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(l/(2*this.a*this.k0));return e=this.long0,n=this.lat0,l<=a?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/l),e=Math.abs(this.coslat0)<a?this.lat0>0?B(this.long0+Math.atan2(t.x,-1*t.y)):B(this.long0+Math.atan2(t.x,t.y)):B(this.long0+Math.atan2(t.x*Math.sin(c),l*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=a){if(l<=a)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=l*this.cons/(2*this.a*this.k0),n=this.con*G(this.e,r),e=this.con*B(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=a?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/l),e=B(this.long0+Math.atan2(t.x*Math.sin(i),l*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*G(this.e,Math.tan(.5*(s+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(s+t))*Math.pow((1-e)/(1+e),.5*n)}};const ue={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,l=0,c=o,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t},names:["somerc"]};var he=1e-7;const de={init:function(){var t,e,n,r,i,o,c,d,f,p,g,m,y,_=0,v=0,b=0,x=0,S=0,w=0,E=0;this.no_off=(y="object"==typeof(m=this).PROJECTION?Object.keys(m.PROJECTION)[0]:m.PROJECTION,"no_uoff"in m||"no_off"in m||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(y)),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var C=!1;if("rectified_grid_angle"in this&&(C=!0),T&&(E=this.alpha),C&&(_=this.rectified_grid_angle*l),T||C)v=this.longc;else if(b=this.long1,S=this.lat1,x=this.long2,w=this.lat2,Math.abs(S-w)<=he||(t=Math.abs(S))<=he||Math.abs(t-s)<=he||Math.abs(Math.abs(this.lat0)-s)<=he||Math.abs(Math.abs(w)-s)<=he)throw new Error;var M=1-this.es;e=Math.sqrt(M),Math.abs(this.lat0)>a?(d=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*d*d,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/M),this.A=this.B*this.k0*e/t,(i=(r=this.B*e/(n*Math.sqrt(t)))*r-1)<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(z(this.e,this.lat0,d),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),T||C?(T?(g=Math.asin(Math.sin(E)/r),C||(_=E)):(g=_,E=Math.asin(r*Math.sin(g))),this.lam0=v-Math.asin(.5*(i-1/i)*Math.tan(g))/this.B):(o=Math.pow(z(this.e,S,Math.sin(S)),this.B),c=Math.pow(z(this.e,w,Math.sin(w)),this.B),i=this.E/o,f=(c-o)/(c+o),p=((p=this.E*this.E)-c*o)/(p+c*o),(t=b-x)<-Math.pi?x-=h:t>Math.pi&&(x+=h),this.lam0=B(.5*(b+x)-Math.atan(p*Math.tan(.5*this.B*(b-x))/f)/this.B),g=Math.atan(2*Math.sin(this.B*B(b-this.lam0))/(i-1/i)),_=E=Math.asin(r*Math.sin(g))),this.singam=Math.sin(g),this.cosgam=Math.cos(g),this.sinrot=Math.sin(_),this.cosrot=Math.cos(_),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(E))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*g,this.v_pole_n=this.ArB*Math.log(Math.tan(u-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(u+i))},forward:function(t){var e,n,r,i,o,l,c,u,h={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-s)>a){if(e=.5*((o=this.E/Math.pow(z(this.e,t.y,Math.sin(t.y)),this.B))-(l=1/o)),n=.5*(o+l),i=Math.sin(this.B*t.x),r=(e*this.singam-i*this.cosgam)/n,Math.abs(Math.abs(r)-1)<a)throw new Error;u=.5*this.ArB*Math.log((1-r)/(1+r)),l=Math.cos(this.B*t.x),c=Math.abs(l)<he?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+i*this.singam,l)}else u=t.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*t.y;return this.no_rot?(h.x=c,h.y=u):(c-=this.u_0,h.x=u*this.cosrot+c*this.sinrot,h.y=c*this.cosrot-u*this.sinrot),h.x=this.a*h.x+this.x0,h.y=this.a*h.y+this.y0,h},inverse:function(t){var e,n,r,i,o,l,c,u={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=.5*((r=Math.exp(-this.BrA*n))-1/r),o=.5*(r+1/r),c=((l=Math.sin(this.BrA*e))*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(c)-1)<a)u.x=0,u.y=c<0?-s:s;else{if(u.y=this.E/Math.sqrt((1+c)/(1-c)),u.y=G(this.e,Math.pow(u.y,1/this.B)),u.y===1/0)throw new Error;u.x=-this.rB*Math.atan2(i*this.cosgam-l*this.singam,Math.cos(this.BrA*e))}return u.x+=this.lam0,u},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};const fe={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<a)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=j(this.e,e,n),i=z(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),l=j(this.e,o,s),c=z(this.e,this.lat2,o),u=z(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>a?this.ns=Math.log(r/l)/Math.log(i/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=a&&(n=U(n)*(s-2e-10));var r,i,o=Math.abs(Math.abs(n)-s);if(o>a)r=z(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var l=this.ns*B(e-this.long0);return t.x=this.k0*(i*Math.sin(l))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(l))+this.y0,t},inverse:function(t){var e,n,r,i,o,a=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+l*l),n=1):(e=-Math.sqrt(a*a+l*l),n=-1);var c=0;if(0!==e&&(c=Math.atan2(n*a,n*l)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=G(this.e,r)))return null}else i=-s;return o=B(c/this.ns+this.long0),t.x=o,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};const pe={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,o,s,a,l=t.x,c=t.y,u=B(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,o,s,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,c+=1}while(0===a&&c<15);return c>=15?null:t},names:["Krovak","krovak"]};function ge(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function me(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function ye(t){return.375*t*(1+.25*t*(1+.46875*t))}function _e(t){return.05859375*t*t*(1+.75*t)}function ve(t){return t*t*t*(35/3072)}function be(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function xe(t){return Math.abs(t)<s?t:t-U(t)*Math.PI}function Se(t,e,n,r,i){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}const we={init:function(){this.sphere||(this.e0=me(this.es),this.e1=ye(this.es),this.e2=_e(this.es),this.e3=ve(this.es),this.ml0=this.a*ge(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=B(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=be(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,h=this.es*s*s/(1-this.es);e=a*c*(1-u*l*(1/6-(8-l+8*h)*u/120)),n=this.a*ge(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*o/s*u*(.5+(5-l+6*h)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var l=Se(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-s)<=a)return t.x=this.long0,t.y=s,i<0&&(t.y*=-1),t;var c=be(this.a,this.e,Math.sin(l)),u=c*c*c/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(l),2),d=r*this.a/c,f=d*d;e=l-c*Math.tan(l)/u*d*d*(.5-(1+3*h)*d*d/24),n=d*(1-f*(h/3+(1+3*h)*h*f/15))/Math.cos(l)}return t.x=B(n+this.long0),t.y=xe(e),t},names:["Cassini","Cassini_Soldner","cass"]};function Ee(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}var Te=.3333333333333333,Ce=.17222222222222222,Me=.10257936507936508,Ae=.06388888888888888,ke=.0664021164021164,Ie=.016415012942191543;const Pe={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-s)<a?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<a?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Ee(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*Te,e=t*t,n[0]+=e*Ce,n[1]=e*Ae,e*=t,n[0]+=e*Me,n[1]+=e*ke,n[2]=e*Ie,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Ee(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,o,l,c,h,d,f,p=t.x,g=t.y;if(p=B(p-this.long0),this.sphere){if(o=Math.sin(g),f=Math.cos(g),r=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+f*r:1+this.sinph0*o+this.cosph0*f*r)<=a)return null;e=(n=Math.sqrt(2/n))*f*Math.sin(p),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(g+this.lat0)<a)return null;n=u-.5*g,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=r}}else{switch(c=0,h=0,d=0,r=Math.cos(p),i=Math.sin(p),o=Math.sin(g),l=Ee(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=l/this.qp,h=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:d=1+this.sinb1*c+this.cosb1*h*r;break;case this.EQUIT:d=1+h*r;break;case this.N_POLE:d=s+g,l=this.qp-l;break;case this.S_POLE:d=g-s,l=this.qp+l}if(Math.abs(d)<a)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),n=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*c-this.sinb1*h*r):(d=Math.sqrt(2/(1+h*r)))*c*this.ymf,e=this.xmf*d*h*i;break;case this.N_POLE:case this.S_POLE:l>=0?(e=(d=Math.sqrt(l))*i,n=r*(this.mode===this.S_POLE?d:-d)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,l,c,u,h,d,f=t.x/this.a,p=t.y/this.a;if(this.sphere){var g,m=0,y=0;if((n=.5*(g=Math.sqrt(f*f+p*p)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(y=Math.sin(n),m=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(g)<=a?0:Math.asin(p*y/g),f*=y,p=m*g;break;case this.OBLIQ:n=Math.abs(g)<=a?this.lat0:Math.asin(m*this.sinph0+p*y*this.cosph0/g),f*=y*this.cosph0,p=(m-Math.sin(n)*this.sinph0)*g;break;case this.N_POLE:p=-p,n=s-n;break;case this.S_POLE:n-=s}e=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(f,p):0}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(f/=this.dd,p*=this.dd,(l=Math.sqrt(f*f+p*p))<a)return t.x=this.long0,t.y=this.lat0,t;i=2*Math.asin(.5*l/this.rq),r=Math.cos(i),f*=i=Math.sin(i),this.mode===this.OBLIQ?(c=r*this.sinb1+p*i*this.cosb1/l,o=this.qp*c,p=l*this.cosb1*r-p*this.sinb1*i):(c=p*i/l,o=this.qp*c,p=l*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(o=f*f+p*p))return t.x=this.long0,t.y=this.lat0,t;c=1-o/this.qp,this.mode===this.S_POLE&&(c=-c)}e=Math.atan2(f,p),u=Math.asin(c),h=this.apa,d=u+u,n=u+h[0]*Math.sin(d)+h[1]*Math.sin(d+d)+h[2]*Math.sin(d+d+d)}return t.x=B(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function Re(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const Oe={init:function(){Math.abs(this.lat1+this.lat2)<a||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=j(this.e3,this.sin_po,this.cos_po),this.qs1=Ee(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=j(this.e3,this.sin_po,this.cos_po),this.qs2=Ee(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ee(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>a?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Ee(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*B(e-this.long0),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=B(i/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,o,s=Re(.5*e);if(t<a)return s;for(var l=t*t,c=1;c<=25;c++)if(s+=o=.5*(i=1-(r=t*(n=Math.sin(s)))*r)*i/Math.cos(s)*(e/(1-l)-n/i+.5/t*Math.log((1-r)/(1+r))),Math.abs(o)<=1e-7)return s;return null}};const Ne={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,o,s,l,c=t.x,u=t.y;return r=B(c-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),(o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=a?(s=this.x0+1*this.a*n*Math.sin(r)/o,l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/o):(s=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=l,t},inverse:function(t){var e,n,r,i,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),s=Re((r=Math.cos(i))*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=B(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]};const De={init:function(){this.sphere||(this.k0=j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,o=B(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=Ee(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=B(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*s:s;for(var r,i,o,a,l=Math.asin(.5*e),c=0;c<30;c++)if(i=Math.sin(l),o=Math.cos(l),a=t*i,l+=r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-i/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(r)<=1e-10)return l;return NaN}(this.e,2*t.y*this.k0/this.a),e=B(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};const $e={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=B(e-this.long0),i=xe(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=B(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=xe(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};const Le={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=me(this.es),this.e1=ye(this.es),this.e2=_e(this.es),this.e3=ve(this.es),this.ml0=this.a*ge(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.x,o=t.y,s=B(i-this.long0);if(r=s*Math.sin(o),this.sphere)Math.abs(o)<=a?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(xe(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=a)e=this.a*s,n=-1*this.ml0;else{var l=be(this.a,this.e,Math.sin(o))/Math.tan(o);e=l*Math.sin(r),n=this.a*ge(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+l*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,o,s,l,c,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=a)e=B(r/this.a+this.long0),n=0;else{var h;for(s=this.lat0+i/this.a,l=r*r/this.a/this.a+s*s,c=s,o=20;o;--o)if(c+=u=-1*(s*(c*(h=Math.tan(c))+1)-c-.5*(c*c+l)*h)/((c-s)/h-1),Math.abs(u)<=a){n=c;break}e=B(this.long0+Math.asin(r*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=a)n=0,e=B(this.long0+r/this.a);else{var d,f,p,g,m;for(s=(this.ml0+i)/this.a,l=r*r/this.a/this.a+s*s,c=s,o=20;o;--o)if(m=this.e*Math.sin(c),d=Math.sqrt(1-m*m)*Math.tan(c),f=this.a*ge(this.e0,this.e1,this.e2,this.e3,c),p=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),c-=u=(s*(d*(g=f/this.a)+1)-g-.5*d*(g*g+l))/(this.es*Math.sin(2*c)*(g*g+l-2*s*g)/(4*d)+(s-g)*(d*p-2/Math.sin(2*c))-p),Math.abs(u)<=a){n=c;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=B(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};const Fe={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,i=n-this.long0,s=r/o*1e-5,a=i,l=1,c=0;for(e=1;e<=10;e++)l*=s,c+=this.A[e]*l;var u,h=c,d=a,f=1,p=0,g=0,m=0;for(e=1;e<=6;e++)u=p*h+f*d,f=f*h-p*d,p=u,g=g+this.B_re[e]*f-this.B_im[e]*p,m=m+this.B_im[e]*f+this.B_re[e]*p;return t.x=m*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,i=t.y,s=r-this.x0,a=(i-this.y0)/this.a,l=s/this.a,c=1,u=0,h=0,d=0;for(e=1;e<=6;e++)n=u*a+c*l,c=c*a-u*l,u=n,h=h+this.C_re[e]*c-this.C_im[e]*u,d=d+this.C_im[e]*c+this.C_re[e]*u;for(var f=0;f<this.iterations;f++){var p,g=h,m=d,y=a,_=l;for(e=2;e<=6;e++)p=m*h+g*d,g=g*h-m*d,m=p,y+=(e-1)*(this.B_re[e]*g-this.B_im[e]*m),_+=(e-1)*(this.B_im[e]*g+this.B_re[e]*m);g=1,m=0;var v=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)p=m*h+g*d,g=g*h-m*d,m=p,v+=e*(this.B_re[e]*g-this.B_im[e]*m),b+=e*(this.B_im[e]*g+this.B_re[e]*m);var x=v*v+b*b;h=(y*v+_*b)/x,d=(_*v-y*b)/x}var S=h,w=d,E=1,T=0;for(e=1;e<=9;e++)E*=S,T+=this.D[e]*E;var C=this.lat0+T*o*1e5,M=this.long0+w;return t.x=M,t.y=C,t},names:["New_Zealand_Map_Grid","nzmg"]};const je={init:function(){},forward:function(t){var e=t.x,n=t.y,r=B(e-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=B(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]};const Ue={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Xt(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=B(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=20;s;--s){var l=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=l,Math.abs(l)<a)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var c=Math.sin(i),u=Math.cos(i);n=this.a*Kt(i,c,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=Re((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Re(Math.sin(e)/this.n)),n=B(n+this.long0),e=xe(e)):(e=Zt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<s?(r=Math.sin(e),n=B(this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)))):r-a<s&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]};const Be={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=B(e-this.long0),i=n,o=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<a)break}i/=2,Math.PI/2-Math.abs(n)<a&&(r=0);var l=.900316316158*this.a*r*Math.cos(i)+this.x0,c=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=l,t.y=c,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=B(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]};const ze={init:function(){Math.abs(this.lat1+this.lat2)<a||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=me(this.es),this.e1=ye(this.es),this.e2=_e(this.es),this.e3=ve(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=j(this.e,this.sinphi,this.cosphi),this.ml1=ge(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<a?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=j(this.e,this.sinphi,this.cosphi),this.ml2=ge(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ge(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=ge(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*B(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(i=B(this.long0+o/this.ns),r=xe(this.g-n/this.a),t.x=i,t.y=r,t):(r=Se(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),i=B(this.long0+o/this.ns),t.x=i,t.y=r,t)},names:["Equidistant_Conic","eqdc"]};const Ge={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,i=t.y,o=B(r-this.long0);Math.abs(i)<=a&&(e=this.x0+this.R*o,n=this.y0);var l=Re(2*Math.abs(i/Math.PI));(Math.abs(o)<=a||Math.abs(Math.abs(i)-s)<=a)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*l):this.y0+Math.PI*this.R*-Math.tan(.5*l));var c=.5*Math.abs(Math.PI/o-o/Math.PI),u=c*c,h=Math.sin(l),d=Math.cos(l),f=d/(h+d-1),p=f*f,g=f*(2/h-1),m=g*g,y=Math.PI*this.R*(c*(f-m)+Math.sqrt(u*(f-m)*(f-m)-(m+u)*(p-m)))/(m+u);o<0&&(y=-y),e=this.x0+y;var _=u+f;return y=Math.PI*this.R*(g*_-c*Math.sqrt((m+u)*(u+1)-_*_))/(m+u),n=i>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,o,s,l,c,u,h,d,f;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,o=(r=t.x/d)*r+(i=t.y/d)*i,d=3*(i*i/(c=-2*(s=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(l=s-2*i*i+r*r)*l*l/c/c/c-9*s*l/c/c)/27)/(u=(s-l*l/3/c)/c)/(h=2*Math.sqrt(-u/3)),Math.abs(d)>1&&(d=d>=0?1:-1),f=Math.acos(d)/3,n=t.y>=0?(-h*Math.cos(f+Math.PI/3)-l/3/c)*Math.PI:-(-h*Math.cos(f+Math.PI/3)-l/3/c)*Math.PI,e=Math.abs(r)<a?this.long0:B(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};const He={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,l,c,u,h,d,f,p,g,m,y,_,v,b,x,S,w,E,T=t.x,C=t.y,M=Math.sin(t.y),A=Math.cos(t.y),k=B(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=a?(t.x=this.x0+this.a*(s-C)*Math.sin(k),t.y=this.y0-this.a*(s-C)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=a?(t.x=this.x0+this.a*(s+C)*Math.sin(k),t.y=this.y0+this.a*(s+C)*Math.cos(k),t):(b=this.sin_p12*M+this.cos_p12*A*Math.cos(k),v=(_=Math.acos(b))?_/Math.sin(_):1,t.x=this.x0+this.a*v*A*Math.sin(k),t.y=this.y0+this.a*v*(this.cos_p12*M-this.sin_p12*A*Math.cos(k)),t):(e=me(this.es),n=ye(this.es),r=_e(this.es),i=ve(this.es),Math.abs(this.sin_p12-1)<=a?(o=this.a*ge(e,n,r,i,s),l=this.a*ge(e,n,r,i,C),t.x=this.x0+(o-l)*Math.sin(k),t.y=this.y0-(o-l)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=a?(o=this.a*ge(e,n,r,i,s),l=this.a*ge(e,n,r,i,C),t.x=this.x0+(o+l)*Math.sin(k),t.y=this.y0+(o+l)*Math.cos(k),t):(c=M/A,u=be(this.a,this.e,this.sin_p12),h=be(this.a,this.e,M),d=Math.atan((1-this.es)*c+this.es*u*this.sin_p12/(h*A)),x=0===(f=Math.atan2(Math.sin(k),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(k)))?Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.abs(Math.abs(f)-Math.PI)<=a?-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.asin(Math.sin(k)*Math.cos(d)/Math.sin(f)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),_=u*x*(1-(S=x*x)*(y=(g=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es))*g)*(1-y)/6+(w=S*x)/8*(m=p*g)*(1-2*y)+(E=w*x)/120*(y*(4-7*y)-3*p*p*(1-7*y))-E*x/48*m),t.x=this.x0+_*Math.sin(f),t.y=this.y0+_*Math.cos(f),t))},inverse:function(t){var e,n,r,i,o,l,c,u,h,d,f,p,g,m,y,_,v,b,x,S,w,E,T;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*s*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=a?l=this.lat0:(l=Re(i*this.sin_p12+t.y*r*this.cos_p12/e),c=Math.abs(this.lat0)-s,o=Math.abs(c)<=a?this.lat0>=0?B(this.long0+Math.atan2(t.x,-t.y)):B(this.long0-Math.atan2(-t.x,t.y)):B(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=o,t.y=l,t}return u=me(this.es),h=ye(this.es),d=_e(this.es),f=ve(this.es),Math.abs(this.sin_p12-1)<=a?(l=Se(((p=this.a*ge(u,h,d,f,s))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,u,h,d,f),o=B(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=l,t):Math.abs(this.sin_p12+1)<=a?(p=this.a*ge(u,h,d,f,s),l=Se(((e=Math.sqrt(t.x*t.x+t.y*t.y))-p)/this.a,u,h,d,f),o=B(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=l,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),y=Math.atan2(t.x,t.y),g=be(this.a,this.e,this.sin_p12),_=Math.cos(y),b=-(v=this.e*this.cos_p12*_)*v/(1-this.es),x=3*this.es*(1-b)*this.sin_p12*this.cos_p12*_/(1-this.es),E=1-b*(w=(S=e/g)-b*(1+b)*Math.pow(S,3)/6-x*(1+3*b)*Math.pow(S,4)/24)*w/2-S*w*w*w/6,m=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*_),o=B(this.long0+Math.asin(Math.sin(y)*Math.sin(w)/Math.cos(m))),T=Math.sin(m),l=Math.atan2((T-this.es*E*this.sin_p12)*Math.tan(m),T*(1-this.es)),t.x=o,t.y=l,t)},names:["Azimuthal_Equidistant","aeqd"]};const We={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,s,l,c=t.x,u=t.y;return r=B(c-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),((o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=a)&&(s=1*this.a*n*Math.sin(r),l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=l,t},inverse:function(t){var e,n,r,i,o,l,c;return t.x-=this.x0,t.y-=this.y0,n=Re((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),r=Math.sin(n),i=Math.cos(n),l=this.long0,Math.abs(e)<=a?(c=this.lat0,t.x=l,t.y=c,t):(c=Re(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-s,Math.abs(o)<=a?(l=this.lat0>=0?B(this.long0+Math.atan2(t.x,-t.y)):B(this.long0-Math.atan2(-t.x,t.y)),t.x=l,t.y=c,t):(l=B(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=l,t.y=c,t))},names:["ortho"]};var qe=1,Ve=2,Ye=3,Xe=4,Ke=5,Ze=6,Je=1,Qe=2,tn=3,en=4;function nn(t,e,n,r){var i;return t<a?(r.value=Je,i=0):(i=Math.atan2(e,n),Math.abs(i)<=u?r.value=Je:i>u&&i<=s+u?(r.value=Qe,i-=s):i>s+u||i<=-(s+u)?(r.value=tn,i=i>=0?i-d:i+d):(r.value=en,i+=s)),i}function rn(t,e){var n=t+e;return n<-d?n+=h:n>+d&&(n-=h),n}const on={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=s-u/2?this.face=Ke:this.lat0<=-(s-u/2)?this.face=Ze:Math.abs(this.long0)<=u?this.face=qe:Math.abs(this.long0)<=s+u?this.face=this.long0>0?Ve:Xe:this.face=Ye,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,i,o,a,l={x:0,y:0},c={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Ke)i=s-e,n>=u&&n<=s+u?(c.value=Je,r=n-s):n>s+u||n<=-(s+u)?(c.value=Qe,r=n>0?n-d:n+d):n>-(s+u)&&n<=-u?(c.value=tn,r=n+s):(c.value=en,r=n);else if(this.face===Ze)i=s+e,n>=u&&n<=s+u?(c.value=Je,r=-n+s):n<u&&n>=-u?(c.value=Qe,r=-n):n<-u&&n>=-(s+u)?(c.value=tn,r=-n-s):(c.value=en,r=n>0?-n+d:-n-d);else{var h,f,p,g,m,y;this.face===Ve?n=rn(n,+s):this.face===Ye?n=rn(n,+d):this.face===Xe&&(n=rn(n,-s)),g=Math.sin(e),m=Math.cos(e),y=Math.sin(n),h=m*Math.cos(n),f=m*y,p=g,this.face===qe?r=nn(i=Math.acos(h),p,f,c):this.face===Ve?r=nn(i=Math.acos(f),p,-h,c):this.face===Ye?r=nn(i=Math.acos(-h),p,-f,c):this.face===Xe?r=nn(i=Math.acos(-f),p,h,c):(i=r=0,c.value=Je)}return a=Math.atan(12/d*(r+Math.acos(Math.sin(r)*Math.cos(u))-s)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),c.value===Qe?a+=s:c.value===tn?a+=d:c.value===en&&(a+=1.5*d),l.x=o*Math.cos(a),l.y=o*Math.sin(a),l.x=l.x*this.a+this.x0,l.y=l.y*this.a+this.y0,t.x=l.x,t.y=l.y,t},inverse:function(t){var e,n,r,i,o,a,l,c,u,h,f,p,g={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=Je:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=Qe,e-=s):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=tn,e=e<0?e+d:e-d):(m.value=en,e+=s),u=d/12*Math.tan(e),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),(l=1-(r=Math.cos(e))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?l=-1:l>1&&(l=1),this.face===Ke)c=Math.acos(l),g.phi=s-c,m.value===Je?g.lam=a+s:m.value===Qe?g.lam=a<0?a+d:a-d:m.value===tn?g.lam=a-s:g.lam=a;else if(this.face===Ze)c=Math.acos(l),g.phi=c-s,m.value===Je?g.lam=-a+s:m.value===Qe?g.lam=-a:m.value===tn?g.lam=-a-s:g.lam=a<0?-a-d:-a+d;else{var y,_,v;u=(y=l)*y,_=(u+=(v=u>=1?0:Math.sqrt(1-u)*Math.sin(a))*v)>=1?0:Math.sqrt(1-u),m.value===Qe?(u=_,_=-v,v=u):m.value===tn?(_=-_,v=-v):m.value===en&&(u=_,_=v,v=-u),this.face===Ve?(u=y,y=-_,_=u):this.face===Ye?(y=-y,_=-_):this.face===Xe&&(u=y,y=_,_=-u),g.phi=Math.acos(-v)-s,g.lam=Math.atan2(_,y),this.face===Ve?g.lam=rn(g.lam,-s):this.face===Ye?g.lam=rn(g.lam,-d):this.face===Xe&&(g.lam=rn(g.lam,+s))}return 0!==this.es&&(h=g.phi<0?1:0,f=Math.tan(g.phi),p=this.b/Math.sqrt(f*f+this.one_minus_f_squared),g.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),h&&(g.phi=-g.phi)),g.lam+=this.long0,t.x=g.lam,t.y=g.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var sn=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],an=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ln=.8487,cn=1.3523,un=c/5,hn=1/un,dn=18,fn=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const pn={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=B(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*un);r<0?r=0:r>=dn&&(r=17);var i={x:fn(sn[r],n=c*(n-hn*r))*e,y:fn(an[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*ln+this.x0,i.y=i.y*this.a*cn+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*ln),y:Math.abs(t.y-this.y0)/(this.a*cn)};if(e.y>=1)e.x/=sn[18][0],e.y=t.y<0?-s:s;else{var n=Math.floor(e.y*dn);for(n<0?n=0:n>=dn&&(n=17);;)if(an[n][0]>e.y)--n;else{if(!(an[n+1][0]<=e.y))break;++n}var r=an[n],i=5*(e.y-r[0])/(an[n+1][0]-r[0]);i=function(t,e,n,r){for(var i=e;r;--r){var o=t(i);if(i-=o,Math.abs(o)<n)break}return i}((function(t){return(fn(r,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(r,t)}),i,a,100),e.x/=fn(sn[n],i),e.y=(5*n+i)*l,t.y<0&&(e.y=-e.y)}return e.x=B(e.x+this.long0),e},names:["Robinson","robin"]};const gn={init:function(){this.name="geocent"},forward:function(t){return dt(t,this.es,this.a)},inverse:function(t){return ft(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var mn=0,yn=1,_n=2,vn=3,bn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const xn={init:function(){if(Object.keys(bn).forEach(function(t){if(void 0===this[t])this[t]=bn[t].def;else{if(bn[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);bn[t].num&&(this[t]=parseFloat(this[t]))}bn[t].degrees&&(this[t]=this[t]*l)}.bind(this)),Math.abs(Math.abs(this.lat0)-s)<a?this.mode=this.lat0<0?yn:mn:Math.abs(this.lat0)<a?this.mode=_n:(this.mode=vn,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,n,r,i,o=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case vn:n=this.sinph0*o+this.cosph0*s*a;break;case _n:n=s*a;break;case yn:n=-o;break;case mn:n=o}switch(e=(n=this.pn1/(this.p-n))*s*Math.sin(t.x),this.mode){case vn:n*=this.cosph0*o-this.sinph0*s*a;break;case _n:n*=o;break;case mn:n*=-s*a;break;case yn:n*=s*a}return i=1/((r=n*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-n*this.sg)*this.cw*i,n=r*i,t.x=e*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,n,r,i={x:t.x,y:t.y};r=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*r,n=this.pn1*t.y*this.cw*r,t.x=e*this.cg+n*this.sg,t.y=n*this.cg-e*this.sg;var o=te(t.x,t.y);if(Math.abs(o)<a)i.x=0,i.y=t.y;else{var s,l;switch(l=1-o*o*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-l*l),this.mode){case vn:i.y=Math.asin(s*this.sinph0+t.y*l*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(i.y))*o,t.x*=l*this.cosph0;break;case _n:i.y=Math.asin(t.y*l/o),t.y=s*o,t.x*=l;break;case mn:i.y=Math.asin(s),t.y=-t.y;break;case yn:i.y=-Math.asin(s)}i.x=Math.atan2(t.x,t.y)}return t.x=i.x+this.long0,t.y=i.y,t},names:["Tilted_Perspective","tpers"]};const Sn={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,n,r,i,o=t.x,s=t.y;if(o-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/te(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(o)*Math.cos(s),r=a*Math.sin(o)*Math.cos(s),i=a*Math.sin(s),(this.radius_g-n)*n-r*r-i*i*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/te(i,e)),t.y=this.radius_g_1*Math.atan(i/e)):(t.x=this.radius_g_1*Math.atan(r/e),t.y=this.radius_g_1*Math.atan(i/te(r,e)))}else"sphere"===this.shape&&(e=Math.cos(s),n=Math.cos(o)*e,r=Math.sin(o)*e,i=Math.sin(s),e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/te(i,e)),t.y=this.radius_g_1*Math.atan(i/e)):(t.x=this.radius_g_1*Math.atan(r/e),t.y=this.radius_g_1*Math.atan(i/te(r,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,n,r,i,o=-1,s=0,a=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*te(1,a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*te(1,s));var l=a/this.radius_p;if(e=s*s+l*l+o*o,(r=(n=2*this.radius_g*o)*n-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=(-n-Math.sqrt(r))/(2*e),o=this.radius_g+i*o,s*=i,a*=i,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),e=s*s+a*a+o*o,(r=(n=2*this.radius_g*o)*n-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=(-n-Math.sqrt(r))/(2*e),o=this.radius_g+i*o,s*=i,a*=i,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var wn=1.340264,En=-.081106,Tn=893e-6,Cn=.003796,Mn=Math.sqrt(3)/2;const An={init:function(){this.es=0,this.long0=void 0!==this.long0?this.long0:0},forward:function(t){var e=B(t.x-this.long0),n=t.y,r=Math.asin(Mn*Math.sin(n)),i=r*r,o=i*i*i;return t.x=e*Math.cos(r)/(Mn*(wn+3*En*i+o*(7*Tn+9*Cn*i))),t.y=r*(wn+En*i+o*(Tn+Cn*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e,n,r,i,o=t.y;for(i=0;i<12&&(o-=r=(o*(wn+En*(e=o*o)+(n=e*e*e)*(Tn+Cn*e))-t.y)/(wn+3*En*e+n*(7*Tn+9*Cn*e)),!(Math.abs(r)<1e-9));++i);return n=(e=o*o)*e*e,t.x=Mn*t.x*(wn+3*En*e+n*(7*Tn+9*Cn*e))/Math.cos(o),t.y=Math.asin(Math.sin(o)/Mn),t.x=B(t.x+this.long0),t},names:["eqearth","Equal Earth","Equal_Earth"]};var kn=1e-10;function In(t){var e,n,r,i=B(t.x-(this.long0||0)),o=t.y;return e=this.am1+this.m1-Kt(o,n=Math.sin(o),r=Math.cos(o),this.en),n=r*i/(e*Math.sqrt(1-this.es*n*n)),t.x=e*Math.sin(n),t.y=this.am1-e*Math.cos(n),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Pn(t){var e,n,r,i;if(t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a,n=te(t.x,t.y=this.am1-t.y),i=Zt(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(i))<s)e=Math.sin(i),r=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else{if(!(Math.abs(e-s)<=kn))throw new Error;r=0}return t.x=B(r+(this.long0||0)),t.y=xe(i),t}function Rn(t){var e,n,r=B(t.x-(this.long0||0)),i=t.y;return n=this.cphi1+this.phi1-i,Math.abs(n)>kn?(t.x=n*Math.sin(e=r*Math.cos(i)/n),t.y=this.cphi1-n*Math.cos(e)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function On(t){var e,n;t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var r=te(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>s)throw new Error;return e=Math.abs(Math.abs(n)-s)<=kn?0:r*Math.atan2(t.x,t.y)/Math.cos(n),t.x=B(e+(this.long0||0)),t.y=xe(n),t}const Nn={init:function(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<kn)throw new Error;this.es?(this.en=Xt(this.es),this.m1=Kt(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Pn,this.forward=In):(Math.abs(this.phi1)+kn>=s?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=On,this.forward=Rn)},names:["bonne","Bonne (Werner lat_1=90)"]};Ct.defaultDatum="WGS84",Ct.Proj=ht,Ct.WGS84=new Ct.Proj("WGS84"),Ct.Point=Wt,Ct.toPoint=bt,Ct.defs=N,Ct.nadgrid=function(t,e){var n=new DataView(e),r=function(t){var e=t.getInt32(8,!1);if(11===e)return!1;e=t.getInt32(8,!0),11!==e&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(n),i=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:st(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(n,r),o=function(t,e,n){for(var r=176,i=[],o=0;o<e.nSubgrids;o++){var s=lt(t,r,n),a=ct(t,r,s,n),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[ot(s.lowerLongitude),ot(s.lowerLatitude)],del:[ot(s.longitudeInterval),ot(s.latitudeInterval)],lim:[l,c],count:s.gridNodeCount,cvs:at(a)}),r+=176+16*s.gridNodeCount}return i}(n,i,r),s={header:i,subgrids:o};return rt[t]=s,s},Ct.transform=St,Ct.mgrs=Nt,Ct.version="__VERSION__",function(t){t.Proj.projections.add(Jt),t.Proj.projections.add(ie),t.Proj.projections.add(oe),t.Proj.projections.add(le),t.Proj.projections.add(ce),t.Proj.projections.add(ue),t.Proj.projections.add(de),t.Proj.projections.add(fe),t.Proj.projections.add(pe),t.Proj.projections.add(we),t.Proj.projections.add(Pe),t.Proj.projections.add(Oe),t.Proj.projections.add(Ne),t.Proj.projections.add(De),t.Proj.projections.add($e),t.Proj.projections.add(Le),t.Proj.projections.add(Fe),t.Proj.projections.add(je),t.Proj.projections.add(Ue),t.Proj.projections.add(Be),t.Proj.projections.add(ze),t.Proj.projections.add(Ge),t.Proj.projections.add(He),t.Proj.projections.add(We),t.Proj.projections.add(on),t.Proj.projections.add(pn),t.Proj.projections.add(gn),t.Proj.projections.add(xn),t.Proj.projections.add(Sn),t.Proj.projections.add(An),t.Proj.projections.add(Nn)}(Ct);const Dn=Ct},6461:(t,e,n)=>{t.exports=n},6535:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=/^\s+/,n=/\s+$/;function r(t,e){if(e=e||{},(t=t||"")instanceof r)return t;if(!(this instanceof r))return new r(t,e);var n=i(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function i(e){var n={r:0,g:0,b:0},r=1,i=null,s=null,l=null,u=!1,h=!1;return"string"==typeof e&&(e=G(e)),"object"==t(e)&&(z(e.r)&&z(e.g)&&z(e.b)?(n=o(e.r,e.g,e.b),u=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(i=D(e.s),s=D(e.v),n=c(e.h,i,s),u=!0,h="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(i=D(e.s),l=D(e.l),n=a(e.h,i,l),u=!0,h="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=A(r),{ok:u,format:e.format||h,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function o(t,e,n){return{r:255*k(t,255),g:255*k(e,255),b:255*k(n,255)}}function s(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var r,i,o=Math.max(t,e,n),s=Math.min(t,e,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:a}}function a(t,e,n){var r,i,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=k(t,360),e=k(e,100),n=k(n,100),0===e)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:255*r,g:255*i,b:255*o}}function l(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var r,i,o=Math.max(t,e,n),s=Math.min(t,e,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:a}}function c(t,e,n){t=6*k(t,360),e=k(e,100),n=k(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}function u(t,e,n,r){var i=[N(Math.round(t).toString(16)),N(Math.round(e).toString(16)),N(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function h(t,e,n,r,i){var o=[N(Math.round(t).toString(16)),N(Math.round(e).toString(16)),N(Math.round(n).toString(16)),N($(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function d(t,e,n,r){return[N($(r)),N(Math.round(t).toString(16)),N(Math.round(e).toString(16)),N(Math.round(n).toString(16))].join("")}function f(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.s-=e/100,n.s=I(n.s),r(n)}function p(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.s+=e/100,n.s=I(n.s),r(n)}function g(t){return r(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.l+=e/100,n.l=I(n.l),r(n)}function y(t,e){e=0===e?0:e||10;var n=r(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),r(n)}function _(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.l-=e/100,n.l=I(n.l),r(n)}function v(t,e){var n=r(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,r(n)}function b(t){var e=r(t).toHsl();return e.h=(e.h+180)%360,r(e)}function x(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=r(t).toHsl(),i=[r(t)],o=360/e,s=1;s<e;s++)i.push(r({h:(n.h+s*o)%360,s:n.s,l:n.l}));return i}function S(t){var e=r(t).toHsl(),n=e.h;return[r(t),r({h:(n+72)%360,s:e.s,l:e.l}),r({h:(n+216)%360,s:e.s,l:e.l})]}function w(t,e,n){e=e||6,n=n||30;var i=r(t).toHsl(),o=360/n,s=[r(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,s.push(r(i));return s}function E(t,e){e=e||6;for(var n=r(t).toHsv(),i=n.h,o=n.s,s=n.v,a=[],l=1/e;e--;)a.push(r({h:i,s:o,v:s})),s=(s+l)%1;return a}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=A(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return h(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*k(this._r,255))+"%",g:Math.round(100*k(this._g,255))+"%",b:Math.round(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*k(this._r,255))+"%, "+Math.round(100*k(this._g,255))+"%, "+Math.round(100*k(this._b,255))+"%)":"rgba("+Math.round(100*k(this._r,255))+"%, "+Math.round(100*k(this._g,255))+"%, "+Math.round(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=r(t);n="#"+d(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(x,[3])},tetrad:function(){return this._applyCombination(x,[4])}},r.fromRatio=function(e,n){if("object"==t(e)){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]="a"===o?e[o]:D(e[o]));e=i}return r(e,n)},r.equals=function(t,e){return!(!t||!e)&&r(t).toRgbString()==r(e).toRgbString()},r.random=function(){return r.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},r.mix=function(t,e,n){n=0===n?0:n||50;var i=r(t).toRgb(),o=r(e).toRgb(),s=n/100;return r({r:(o.r-i.r)*s+i.r,g:(o.g-i.g)*s+i.g,b:(o.b-i.b)*s+i.b,a:(o.a-i.a)*s+i.a})},r.readability=function(t,e){var n=r(t),i=r(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},r.isReadable=function(t,e,n){var i,o,s=r.readability(t,e);switch(o=!1,(i=H(n)).level+i.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7}return o},r.mostReadable=function(t,e,n){var i,o,s,a,l=null,c=0;o=(n=n||{}).includeFallbackColors,s=n.level,a=n.size;for(var u=0;u<e.length;u++)(i=r.readability(t,e[u]))>c&&(c=i,l=r(e[u]));return r.isReadable(t,l,{level:s,size:a})||!o?l:(n.includeFallbackColors=!1,r.mostReadable(t,["#fff","#000"],n))};var T=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=r.hexNames=M(T);function M(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function A(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function k(t,e){R(t)&&(t="100%");var n=O(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function I(t){return Math.min(1,Math.max(0,t))}function P(t){return parseInt(t,16)}function R(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function O(t){return"string"==typeof t&&-1!=t.indexOf("%")}function N(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function $(t){return Math.round(255*parseFloat(t)).toString(16)}function L(t){return P(t)/255}var F,j,U,B=(j="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",U="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function z(t){return!!B.CSS_UNIT.exec(t)}function G(t){t=t.replace(e,"").replace(n,"").toLowerCase();var r,i=!1;if(T[t])t=T[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(r=B.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=B.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=B.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=B.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=B.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=B.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=B.hex8.exec(t))?{r:P(r[1]),g:P(r[2]),b:P(r[3]),a:L(r[4]),format:i?"name":"hex8"}:(r=B.hex6.exec(t))?{r:P(r[1]),g:P(r[2]),b:P(r[3]),format:i?"name":"hex"}:(r=B.hex4.exec(t))?{r:P(r[1]+""+r[1]),g:P(r[2]+""+r[2]),b:P(r[3]+""+r[3]),a:L(r[4]+""+r[4]),format:i?"name":"hex8"}:!!(r=B.hex3.exec(t))&&{r:P(r[1]+""+r[1]),g:P(r[2]+""+r[2]),b:P(r[3]+""+r[3]),format:i?"name":"hex"}}function H(t){var e,n;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(n=(t.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:e,size:n}}return r}()},9365:(t,e,n)=>{"use strict";function r(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o(t){let e,n,o;function a(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=r,n=(e,n)=>r(t(e),n),o=(e,n)=>t(e)-n):(e=t===r||t===i?t:s,n=t,o=t),{left:a,center:function(t,e,n=0,r=t.length){const i=a(t,e,n,r-1);return i>n&&o(t[i-1],e)>-o(t[i],e)?i-1:i},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function s(){return 0}function a(t){return null===t?NaN:+t}n.r(e),n.d(e,{Adder:()=>k,Delaunay:()=>uc,FormatSpecifier:()=>$u,InternMap:()=>R,InternSet:()=>O,Node:()=>am,Path:()=>il,Voronoi:()=>ic,ZoomTransform:()=>VT,active:()=>ca,arc:()=>Lw,area:()=>Ww,areaRadial:()=>tE,ascending:()=>r,autoType:()=>Lc,axisBottom:()=>ve,axisLeft:()=>be,axisRight:()=>_e,axisTop:()=>ye,bin:()=>ft,bisect:()=>d,bisectCenter:()=>h,bisectLeft:()=>u,bisectRight:()=>c,bisector:()=>o,blob:()=>Uc,blur:()=>f,blur2:()=>p,blurImage:()=>g,brush:()=>Fa,brushSelection:()=>Da,brushX:()=>$a,brushY:()=>La,buffer:()=>zc,chord:()=>Xa,chordDirected:()=>Za,chordTranspose:()=>Ka,cluster:()=>tm,color:()=>Mr,contourDensity:()=>Dl,contours:()=>Ml,count:()=>b,create:()=>zn,creator:()=>Re,cross:()=>E,csv:()=>Vc,csvFormat:()=>Ec,csvFormatBody:()=>Tc,csvFormatRow:()=>Mc,csvFormatRows:()=>Cc,csvFormatValue:()=>Ac,csvParse:()=>Sc,csvParseRows:()=>wc,cubehelix:()=>xi,cumsum:()=>T,curveBasis:()=>HE,curveBasisClosed:()=>qE,curveBasisOpen:()=>YE,curveBumpX:()=>iE,curveBumpY:()=>oE,curveBundle:()=>KE,curveCardinal:()=>QE,curveCardinalClosed:()=>eT,curveCardinalOpen:()=>rT,curveCatmullRom:()=>sT,curveCatmullRomClosed:()=>lT,curveCatmullRomOpen:()=>uT,curveLinear:()=>Bw,curveLinearClosed:()=>dT,curveMonotoneX:()=>bT,curveMonotoneY:()=>xT,curveNatural:()=>ET,curveStep:()=>CT,curveStepAfter:()=>AT,curveStepBefore:()=>MT,descending:()=>i,deviation:()=>M,difference:()=>Zt,disjoint:()=>Jt,dispatch:()=>Ce,drag:()=>lr,dragDisable:()=>tr,dragEnable:()=>er,dsv:()=>qc,dsvFormat:()=>bc,easeBack:()=>ea,easeBackIn:()=>Qs,easeBackInOut:()=>ea,easeBackOut:()=>ta,easeBounce:()=>Ks,easeBounceIn:()=>Xs,easeBounceInOut:()=>Zs,easeBounceOut:()=>Ks,easeCircle:()=>Fs,easeCircleIn:()=>$s,easeCircleInOut:()=>Fs,easeCircleOut:()=>Ls,easeCubic:()=>ws,easeCubicIn:()=>xs,easeCubicInOut:()=>ws,easeCubicOut:()=>Ss,easeElastic:()=>ia,easeElasticIn:()=>ra,easeElasticInOut:()=>oa,easeElasticOut:()=>ia,easeExp:()=>Ds,easeExpIn:()=>Os,easeExpInOut:()=>Ds,easeExpOut:()=>Ns,easeLinear:()=>ys,easePoly:()=>Cs,easePolyIn:()=>Es,easePolyInOut:()=>Cs,easePolyOut:()=>Ts,easeQuad:()=>bs,easeQuadIn:()=>_s,easeQuadInOut:()=>bs,easeQuadOut:()=>vs,easeSin:()=>Ps,easeSinIn:()=>ks,easeSinInOut:()=>Ps,easeSinOut:()=>Is,every:()=>Wt,extent:()=>A,fcumsum:()=>P,filter:()=>Vt,flatGroup:()=>z,flatRollup:()=>G,forceCenter:()=>nu,forceCollide:()=>gu,forceLink:()=>_u,forceManyBody:()=>Mu,forceRadial:()=>Au,forceSimulation:()=>Cu,forceX:()=>ku,forceY:()=>Iu,format:()=>Bu,formatDefaultLocale:()=>qu,formatLocale:()=>Wu,formatPrefix:()=>zu,formatSpecifier:()=>Du,fsum:()=>I,geoAlbers:()=>gg,geoAlbersUsa:()=>mg,geoArea:()=>Kh,geoAzimuthalEqualArea:()=>bg,geoAzimuthalEqualAreaRaw:()=>vg,geoAzimuthalEquidistant:()=>Sg,geoAzimuthalEquidistantRaw:()=>xg,geoBounds:()=>Pd,geoCentroid:()=>Gd,geoCircle:()=>tf,geoClipAntimeridian:()=>df,geoClipCircle:()=>ff,geoClipExtent:()=>xf,geoClipRectangle:()=>bf,geoConicConformal:()=>Ag,geoConicConformalRaw:()=>Mg,geoConicEqualArea:()=>pg,geoConicEqualAreaRaw:()=>fg,geoConicEquidistant:()=>Rg,geoConicEquidistantRaw:()=>Pg,geoContains:()=>Ff,geoDistance:()=>kf,geoEqualEarth:()=>jg,geoEqualEarthRaw:()=>Fg,geoEquirectangular:()=>Ig,geoEquirectangularRaw:()=>kg,geoGnomonic:()=>Bg,geoGnomonicRaw:()=>Ug,geoGraticule:()=>Bf,geoGraticule10:()=>zf,geoIdentity:()=>zg,geoInterpolate:()=>Gf,geoLength:()=>Cf,geoMercator:()=>Eg,geoMercatorRaw:()=>wg,geoNaturalEarth1:()=>Hg,geoNaturalEarth1Raw:()=>Gg,geoOrthographic:()=>qg,geoOrthographicRaw:()=>Wg,geoPath:()=>Kp,geoProjection:()=>ug,geoProjectionMutator:()=>hg,geoRotation:()=>Zd,geoStereographic:()=>Yg,geoStereographicRaw:()=>Vg,geoStream:()=>Ch,geoTransform:()=>Zp,geoTransverseMercator:()=>Kg,geoTransverseMercatorRaw:()=>Xg,gray:()=>ei,greatest:()=>bt,greatestIndex:()=>Lt,group:()=>j,groupSort:()=>tt,groups:()=>U,hcl:()=>ui,hierarchy:()=>nm,histogram:()=>ft,hsl:()=>Ur,html:()=>tu,image:()=>Xc,index:()=>q,indexes:()=>V,interpolate:()=>Wi,interpolateArray:()=>Li,interpolateBasis:()=>Ei,interpolateBasisClosed:()=>Ti,interpolateBlues:()=>HS,interpolateBrBG:()=>nS,interpolateBuGn:()=>bS,interpolateBuPu:()=>SS,interpolateCividis:()=>ew,interpolateCool:()=>iw,interpolateCubehelix:()=>fo,interpolateCubehelixDefault:()=>nw,interpolateCubehelixLong:()=>po,interpolateDate:()=>ji,interpolateDiscrete:()=>qi,interpolateGnBu:()=>ES,interpolateGreens:()=>qS,interpolateGreys:()=>YS,interpolateHcl:()=>co,interpolateHclLong:()=>uo,interpolateHsl:()=>oo,interpolateHslLong:()=>so,interpolateHue:()=>Vi,interpolateInferno:()=>gw,interpolateLab:()=>ao,interpolateMagma:()=>pw,interpolateNumber:()=>Ui,interpolateNumberArray:()=>Di,interpolateObject:()=>Bi,interpolateOrRd:()=>CS,interpolateOranges:()=>tw,interpolatePRGn:()=>iS,interpolatePiYG:()=>sS,interpolatePlasma:()=>mw,interpolatePuBu:()=>IS,interpolatePuBuGn:()=>AS,interpolatePuOr:()=>lS,interpolatePuRd:()=>RS,interpolatePurples:()=>KS,interpolateRainbow:()=>sw,interpolateRdBu:()=>uS,interpolateRdGy:()=>dS,interpolateRdPu:()=>NS,interpolateRdYlBu:()=>pS,interpolateRdYlGn:()=>mS,interpolateReds:()=>JS,interpolateRgb:()=>Pi,interpolateRgbBasis:()=>Oi,interpolateRgbBasisClosed:()=>Ni,interpolateRound:()=>Yi,interpolateSinebow:()=>uw,interpolateSpectral:()=>_S,interpolateString:()=>Hi,interpolateTransformCss:()=>to,interpolateTransformSvg:()=>eo,interpolateTurbo:()=>hw,interpolateViridis:()=>fw,interpolateWarm:()=>rw,interpolateYlGn:()=>FS,interpolateYlGnBu:()=>$S,interpolateYlOrBr:()=>US,interpolateYlOrRd:()=>zS,interpolateZoom:()=>ro,interrupt:()=>Vo,intersection:()=>Qt,interval:()=>$o,isoFormat:()=>bx,isoParse:()=>Sx,json:()=>Zc,lab:()=>ni,lch:()=>ci,least:()=>Dt,leastIndex:()=>$t,line:()=>Hw,lineRadial:()=>Qw,link:()=>cE,linkHorizontal:()=>uE,linkRadial:()=>dE,linkVertical:()=>hE,local:()=>Hn,map:()=>Yt,matcher:()=>Fe,max:()=>pt,maxIndex:()=>gt,mean:()=>Ct,median:()=>Mt,medianIndex:()=>At,merge:()=>kt,min:()=>mt,minIndex:()=>yt,mode:()=>It,namespace:()=>ke,namespaces:()=>Ae,nice:()=>ht,now:()=>Mo,pack:()=>Rm,packEnclose:()=>mm,packSiblings:()=>Im,pairs:()=>Pt,partition:()=>Fm,path:()=>ol,pathRound:()=>sl,permute:()=>K,pie:()=>Yw,piecewise:()=>go,pointRadial:()=>eE,pointer:()=>Vn,pointers:()=>Yn,polygonArea:()=>ly,polygonCentroid:()=>cy,polygonContains:()=>py,polygonHull:()=>fy,polygonLength:()=>gy,precisionFixed:()=>Vu,precisionPrefix:()=>Yu,precisionRound:()=>Xu,quadtree:()=>au,quantile:()=>xt,quantileIndex:()=>wt,quantileSorted:()=>St,quantize:()=>mo,quickselect:()=>_t,radialArea:()=>tE,radialLine:()=>Qw,randomBates:()=>Sy,randomBernoulli:()=>Ty,randomBeta:()=>Ay,randomBinomial:()=>ky,randomCauchy:()=>Py,randomExponential:()=>wy,randomGamma:()=>My,randomGeometric:()=>Cy,randomInt:()=>_y,randomIrwinHall:()=>xy,randomLcg:()=>Ly,randomLogNormal:()=>by,randomLogistic:()=>Ry,randomNormal:()=>vy,randomPareto:()=>Ey,randomPoisson:()=>Oy,randomUniform:()=>yy,randomWeibull:()=>Iy,range:()=>Ot,rank:()=>Nt,reduce:()=>Xt,reverse:()=>Kt,rgb:()=>Pr,ribbon:()=>yl,ribbonArrow:()=>_l,rollup:()=>H,rollups:()=>W,scaleBand:()=>zy,scaleDiverging:()=>Lx,scaleDivergingLog:()=>Fx,scaleDivergingPow:()=>Ux,scaleDivergingSqrt:()=>Bx,scaleDivergingSymlog:()=>jx,scaleIdentity:()=>r_,scaleImplicit:()=>Uy,scaleLinear:()=>n_,scaleLog:()=>d_,scaleOrdinal:()=>By,scalePoint:()=>Hy,scalePow:()=>x_,scaleQuantile:()=>T_,scaleQuantize:()=>C_,scaleRadial:()=>E_,scaleSequential:()=>Ix,scaleSequentialLog:()=>Px,scaleSequentialPow:()=>Ox,scaleSequentialQuantile:()=>Dx,scaleSequentialSqrt:()=>Nx,scaleSequentialSymlog:()=>Rx,scaleSqrt:()=>S_,scaleSymlog:()=>m_,scaleThreshold:()=>M_,scaleTime:()=>Cx,scaleUtc:()=>Mx,scan:()=>Ft,schemeAccent:()=>Hx,schemeBlues:()=>GS,schemeBrBG:()=>eS,schemeBuGn:()=>vS,schemeBuPu:()=>xS,schemeCategory10:()=>Gx,schemeDark2:()=>Wx,schemeGnBu:()=>wS,schemeGreens:()=>WS,schemeGreys:()=>VS,schemeObservable10:()=>qx,schemeOrRd:()=>TS,schemeOranges:()=>QS,schemePRGn:()=>rS,schemePaired:()=>Vx,schemePastel1:()=>Yx,schemePastel2:()=>Xx,schemePiYG:()=>oS,schemePuBu:()=>kS,schemePuBuGn:()=>MS,schemePuOr:()=>aS,schemePuRd:()=>PS,schemePurples:()=>XS,schemeRdBu:()=>cS,schemeRdGy:()=>hS,schemeRdPu:()=>OS,schemeRdYlBu:()=>fS,schemeRdYlGn:()=>gS,schemeReds:()=>ZS,schemeSet1:()=>Kx,schemeSet2:()=>Zx,schemeSet3:()=>Jx,schemeSpectral:()=>yS,schemeTableau10:()=>Qx,schemeYlGn:()=>LS,schemeYlGnBu:()=>DS,schemeYlOrBr:()=>jS,schemeYlOrRd:()=>BS,select:()=>Bn,selectAll:()=>Xn,selection:()=>Un,selector:()=>Ne,selectorAll:()=>Le,shuffle:()=>jt,shuffler:()=>Ut,some:()=>qt,sort:()=>Z,stack:()=>OT,stackOffsetDiverging:()=>DT,stackOffsetExpand:()=>NT,stackOffsetNone:()=>kT,stackOffsetSilhouette:()=>$T,stackOffsetWiggle:()=>LT,stackOrderAppearance:()=>FT,stackOrderAscending:()=>UT,stackOrderDescending:()=>zT,stackOrderInsideOut:()=>GT,stackOrderNone:()=>IT,stackOrderReverse:()=>HT,stratify:()=>Hm,style:()=>ln,subset:()=>re,sum:()=>Bt,superset:()=>ee,svg:()=>eu,symbol:()=>UE,symbolAsterisk:()=>pE,symbolCircle:()=>gE,symbolCross:()=>mE,symbolDiamond:()=>vE,symbolDiamond2:()=>bE,symbolPlus:()=>xE,symbolSquare:()=>SE,symbolSquare2:()=>wE,symbolStar:()=>ME,symbolTimes:()=>LE,symbolTriangle:()=>kE,symbolTriangle2:()=>PE,symbolWye:()=>$E,symbolX:()=>LE,symbols:()=>FE,symbolsFill:()=>FE,symbolsStroke:()=>jE,text:()=>Hc,thresholdFreedmanDiaconis:()=>Et,thresholdScott:()=>Tt,thresholdSturges:()=>dt,tickFormat:()=>t_,tickIncrement:()=>ct,tickStep:()=>ut,ticks:()=>lt,timeDay:()=>K_,timeDays:()=>Z_,timeFormat:()=>Kv,timeFormatDefaultLocale:()=>yx,timeFormatLocale:()=>Yv,timeFriday:()=>lv,timeFridays:()=>gv,timeHour:()=>q_,timeHours:()=>V_,timeInterval:()=>I_,timeMillisecond:()=>P_,timeMilliseconds:()=>R_,timeMinute:()=>z_,timeMinutes:()=>G_,timeMonday:()=>iv,timeMondays:()=>hv,timeMonth:()=>Rv,timeMonths:()=>Ov,timeParse:()=>Zv,timeSaturday:()=>cv,timeSaturdays:()=>mv,timeSecond:()=>U_,timeSeconds:()=>B_,timeSunday:()=>rv,timeSundays:()=>uv,timeThursday:()=>av,timeThursdays:()=>pv,timeTickInterval:()=>Hv,timeTicks:()=>Gv,timeTuesday:()=>ov,timeTuesdays:()=>dv,timeWednesday:()=>sv,timeWednesdays:()=>fv,timeWeek:()=>rv,timeWeeks:()=>uv,timeYear:()=>$v,timeYears:()=>Lv,timeout:()=>Do,timer:()=>Io,timerFlush:()=>Po,transition:()=>ps,transpose:()=>zt,tree:()=>Qm,treemap:()=>iy,treemapBinary:()=>oy,treemapDice:()=>Lm,treemapResquarify:()=>ay,treemapSlice:()=>ty,treemapSliceDice:()=>sy,treemapSquarify:()=>ry,tsv:()=>Yc,tsvFormat:()=>Rc,tsvFormatBody:()=>Oc,tsvFormatRow:()=>Dc,tsvFormatRows:()=>Nc,tsvFormatValue:()=>$c,tsvParse:()=>Ic,tsvParseRows:()=>Pc,union:()=>ie,unixDay:()=>tv,unixDays:()=>ev,utcDay:()=>J_,utcDays:()=>Q_,utcFormat:()=>Jv,utcFriday:()=>wv,utcFridays:()=>Iv,utcHour:()=>Y_,utcHours:()=>X_,utcMillisecond:()=>P_,utcMilliseconds:()=>R_,utcMinute:()=>H_,utcMinutes:()=>W_,utcMonday:()=>vv,utcMondays:()=>Cv,utcMonth:()=>Nv,utcMonths:()=>Dv,utcParse:()=>Qv,utcSaturday:()=>Ev,utcSaturdays:()=>Pv,utcSecond:()=>U_,utcSeconds:()=>B_,utcSunday:()=>_v,utcSundays:()=>Tv,utcThursday:()=>Sv,utcThursdays:()=>kv,utcTickInterval:()=>zv,utcTicks:()=>Bv,utcTuesday:()=>bv,utcTuesdays:()=>Mv,utcWednesday:()=>xv,utcWednesdays:()=>Av,utcWeek:()=>_v,utcWeeks:()=>Tv,utcYear:()=>Fv,utcYears:()=>jv,variance:()=>C,window:()=>rn,xml:()=>Qc,zip:()=>Ht,zoom:()=>iC,zoomIdentity:()=>YT,zoomTransform:()=>XT});const l=o(r),c=l.right,u=l.left,h=o(a).center,d=c;function f(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=v(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const p=m(v),g=m((function(t){const e=v(t);return(t,n,r,i,o)=>{e(t,n,(r<<=2)+0,(i<<=2)+0,o<<=2),e(t,n,r+1,i+1,o),e(t,n,r+2,i+2,o),e(t,n,r+3,i+3,o)}}));function m(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return e;const a=n&&t(n),l=r&&t(r),c=i.slice();return a&&l?(y(a,c,i,o,s),y(a,i,c,o,s),y(a,c,i,o,s),_(l,i,c,o,s),_(l,c,i,o,s),_(l,i,c,o,s)):a?(y(a,i,c,o,s),y(a,c,i,o,s),y(a,i,c,o,s)):l&&(_(l,i,c,o,s),_(l,c,i,o,s),_(l,i,c,o,s)),e}}function y(t,e,n,r,i){for(let o=0,s=r*i;o<s;)t(e,n,o,o+=r,1)}function _(t,e,n,r,i){for(let o=0,s=r*i;o<r;++o)t(e,n,o,o+s,r)}function v(t){const e=Math.floor(t);if(e===t)return function(t){const e=2*t+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=t*r[i];const l=s*t;for(let t=i,e=i+l;t<e;t+=s)a+=r[Math.min(o,t)];for(let t=i,c=o;t<=c;t+=s)a+=r[Math.min(o,t+l)],n[t]=a/e,a-=r[Math.max(i,t-l)]}}(t);const n=t-e,r=2*t+1;return(t,i,o,s,a)=>{if(!((s-=a)>=o))return;let l=e*i[o];const c=a*e,u=c+a;for(let t=o,e=o+c;t<e;t+=a)l+=i[Math.min(s,t)];for(let e=o,h=s;e<=h;e+=a)l+=i[Math.min(s,e+c)],t[e]=(l+n*(i[Math.max(o,e-u)]+i[Math.min(s,e+u)]))/r,l-=i[Math.max(o,e-c)]}}function b(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function x(t){return 0|t.length}function S(t){return!(t>0)}function w(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function E(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(w)).map(x),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(S))return o;for(;;){o.push(i.map(((e,n)=>t[n][e])));let s=r;for(;++i[s]===n[s];){if(0===s)return e?o.map(e):o;i[s--]=0}}}function T(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)}function C(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let s=-1;for(let a of t)null!=(a=e(a,++s,t))&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i))}if(r>1)return o/(r-1)}function M(t,e){const n=C(t,e);return n?Math.sqrt(n):n}function A(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class k{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,s=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);s&&(e[n++]=s),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}function I(t,e){const n=new k;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function P(t,e){const n=new k;let r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):i=>n.add(+e(i,++r,t)||0))}class R extends Map{constructor(t,e=L){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(N(this,t))}has(t){return super.has(N(this,t))}set(t,e){return super.set(D(this,t),e)}delete(t){return super.delete($(this,t))}}class O extends Set{constructor(t,e=L){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(N(this,t))}add(t){return super.add(D(this,t))}delete(t){return super.delete($(this,t))}}function N({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function D({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function $({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function L(t){return null!==t&&"object"==typeof t?t.valueOf():t}function F(t){return t}function j(t,...e){return X(t,F,F,e)}function U(t,...e){return X(t,Array.from,F,e)}function B(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}function z(t,...e){return B(U(t,...e),e)}function G(t,e,...n){return B(W(t,e,...n),n)}function H(t,e,...n){return X(t,F,e,n)}function W(t,e,...n){return X(t,Array.from,e,n)}function q(t,...e){return X(t,F,Y,e)}function V(t,...e){return X(t,Array.from,Y,e)}function Y(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function X(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const s=new R,a=r[o++];let l=-1;for(const t of i){const e=a(t,++l,i),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[e,n]of s)s.set(e,t(n,o));return e(s)}(t,0)}function K(t,e){return Array.from(e,(e=>t[e]))}function Z(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=Q(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>Q(n[t],n[e])))),K(t,r)}return t.sort(J(n))}function J(t=r){if(t===r)return Q;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function Q(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function tt(t,e,n){return(2!==e.length?Z(H(t,e,n),(([t,e],[n,i])=>r(e,i)||r(t,n))):Z(j(t,n),(([t,n],[i,o])=>e(n,o)||r(t,i)))).map((([t])=>t))}var et=Array.prototype,nt=et.slice;et.map;function rt(t){return()=>t}const it=Math.sqrt(50),ot=Math.sqrt(10),st=Math.sqrt(2);function at(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=it?10:o>=ot?5:o>=st?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?at(t,e,2*n):[a,l,c]}function lt(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,o,s]=r?at(e,t,n):at(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let t=0;t<a;++t)l[t]=(o-t)/-s;else for(let t=0;t<a;++t)l[t]=(o-t)*s;else if(s<0)for(let t=0;t<a;++t)l[t]=(i+t)/-s;else for(let t=0;t<a;++t)l[t]=(i+t)*s;return l}function ct(t,e,n){return at(t=+t,e=+e,n=+n)[2]}function ut(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?ct(e,t,n):ct(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ht(t,e,n){let r;for(;;){const i=ct(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function dt(t){return Math.max(1,Math.ceil(Math.log(b(t))/Math.LN2)+1)}function ft(){var t=F,e=A,n=dt;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,s,a=r.length,l=new Array(a);for(i=0;i<a;++i)l[i]=t(r[i],i,r);var c=e(l),u=c[0],h=c[1],f=n(l,u,h);if(!Array.isArray(f)){const t=h,n=+f;if(e===A&&([u,h]=ht(u,h,n)),(f=lt(u,h,n))[0]<=u&&(s=ct(u,h,n)),f[f.length-1]>=h)if(t>=h&&e===A){const t=ct(u,h,n);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else f.pop()}for(var p=f.length,g=0,m=p;f[g]<=u;)++g;for(;f[m-1]>h;)--m;(g||m<p)&&(f=f.slice(g,m),p=m-g);var y,_=new Array(p+1);for(i=0;i<=p;++i)(y=_[i]=[]).x0=i>0?f[i-1]:u,y.x1=i<p?f[i]:h;if(isFinite(s)){if(s>0)for(i=0;i<a;++i)null!=(o=l[i])&&u<=o&&o<=h&&_[Math.min(p,Math.floor((o-u)/s))].push(r[i]);else if(s<0)for(i=0;i<a;++i)if(null!=(o=l[i])&&u<=o&&o<=h){const t=Math.floor((u-o)*s);_[Math.min(p,t+(f[t]<=o))].push(r[i])}}else for(i=0;i<a;++i)null!=(o=l[i])&&u<=o&&o<=h&&_[d(f,o,0,p)].push(r[i]);return _}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:rt(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:rt([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:rt(Array.isArray(t)?nt.call(t):t),r):n},r}function pt(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function gt(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function mt(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function yt(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function _t(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?Q:J(i);r>n;){if(r-n>600){const o=r-n+1,s=e-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);_t(t,e,Math.max(n,Math.floor(e-s*l/o+c)),Math.min(r,Math.floor(e+(o-s)*l/o+c)),i)}const o=t[e];let s=n,a=r;for(vt(t,n,e),i(t[r],o)>0&&vt(t,n,r);s<a;){for(vt(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}0===i(t[n],o)?vt(t,n,a):(++a,vt(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function vt(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function bt(t,e=r){let n,i=!1;if(1===e.length){let o;for(const s of t){const t=e(s);(i?r(t,o)>0:0===r(t,t))&&(n=s,o=t,i=!0)}}else for(const r of t)(i?e(r,n)>0:0===e(r,r))&&(n=r,i=!0);return n}function xt(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return mt(t);if(e>=1)return pt(t);var r,i=(r-1)*e,o=Math.floor(i),s=pt(_t(t,o).subarray(0,o+1));return s+(mt(t.subarray(o+1))-s)*(i-o)}}function St(t,e,n=a){if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(i-o)}}function wt(t,e,n=a){if(!isNaN(e=+e)){if(r=Float64Array.from(t,((e,r)=>a(n(t[r],r,t)))),e<=0)return yt(r);if(e>=1)return gt(r);var r,i=Uint32Array.from(t,((t,e)=>e)),o=r.length-1,s=Math.floor(o*e);return _t(i,s,0,o,((t,e)=>Q(r[t],r[e]))),(s=bt(i.subarray(0,s+1),(t=>r[t])))>=0?s:-1}}function Et(t,e,n){const r=b(t),i=xt(t,.75)-xt(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function Tt(t,e,n){const r=b(t),i=M(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function Ct(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Mt(t,e){return xt(t,.5,e)}function At(t,e){return wt(t,.5,e)}function kt(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function It(t,e){const n=new R;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[t,e]of n)e>i&&(i=e,r=t);return r}function Pt(t,e=Rt){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function Rt(t,e){return[t,e]}function Ot(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Nt(t,e=r){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t);const i=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=r);const o=(t,r)=>e(n[t],n[r]);let s,a;return(t=Uint32Array.from(n,((t,e)=>e))).sort(e===r?(t,e)=>Q(n[t],n[e]):J(o)),t.forEach(((t,e)=>{const n=o(t,void 0===s?t:s);n>=0?((void 0===s||n>0)&&(s=t,a=e),i[t]=a):i[t]=NaN})),i}function Dt(t,e=r){let n,i=!1;if(1===e.length){let o;for(const s of t){const t=e(s);(i?r(t,o)<0:0===r(t,t))&&(n=s,o=t,i=!0)}}else for(const r of t)(i?e(r,n)<0:0===e(r,r))&&(n=r,i=!0);return n}function $t(t,e=r){if(1===e.length)return yt(t,e);let n,i=-1,o=-1;for(const r of t)++o,(i<0?0===e(r,r):e(r,n)<0)&&(n=r,i=o);return i}function Lt(t,e=r){if(1===e.length)return gt(t,e);let n,i=-1,o=-1;for(const r of t)++o,(i<0?0===e(r,r):e(r,n)>0)&&(n=r,i=o);return i}function Ft(t,e){const n=$t(t,e);return n<0?void 0:n}const jt=Ut(Math.random);function Ut(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,o=e[i+n];e[i+n]=e[r+n],e[r+n]=o}return e}}function Bt(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function zt(t){if(!(i=t.length))return[];for(var e=-1,n=mt(t,Gt),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r}function Gt(t){return t.length}function Ht(){return zt(arguments)}function Wt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function qt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function Vt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Yt(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function Xt(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:o}=r.next()),!i;)n=e(n,o,++s,t);return n}function Kt(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Zt(t,...e){t=new O(t);for(const n of e)for(const e of n)t.delete(e);return t}function Jt(t,e){const n=e[Symbol.iterator](),r=new O;for(const e of t){if(r.has(e))return!1;let t,i;for(;({value:t,done:i}=n.next())&&!i;){if(Object.is(e,t))return!1;r.add(t)}}return!0}function Qt(t,...e){t=new O(t),e=e.map(te);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function te(t){return t instanceof O?t:new O(t)}function ee(t,e){const n=t[Symbol.iterator](),r=new Set;for(const t of e){const e=ne(t);if(r.has(e))continue;let i,o;for(;({value:i,done:o}=n.next());){if(o)return!1;const t=ne(i);if(r.add(t),Object.is(e,t))break}}return!0}function ne(t){return null!==t&&"object"==typeof t?t.valueOf():t}function re(t,e){return ee(e,t)}function ie(...t){const e=new O;for(const n of t)for(const t of n)e.add(t);return e}function oe(t){return t}var se=1,ae=2,le=3,ce=4,ue=1e-6;function he(t){return"translate("+t+",0)"}function de(t){return"translate(0,"+t+")"}function fe(t){return e=>+t(e)}function pe(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ge(){return!this.__axis}function me(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=t===se||t===ce?-1:1,u=t===ce||t===ae?"x":"y",h=t===se||t===le?he:de;function d(d){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):oe:i,g=Math.max(o,0)+a,m=e.range(),y=+m[0]+l,_=+m[m.length-1]+l,v=(e.bandwidth?pe:fe)(e.copy(),l),b=d.selection?d.selection():d,x=b.selectAll(".domain").data([null]),S=b.selectAll(".tick").data(f,e).order(),w=S.exit(),E=S.enter().append("g").attr("class","tick"),T=S.select("line"),C=S.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(E),T=T.merge(E.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),C=C.merge(E.append("text").attr("fill","currentColor").attr(u,c*g).attr("dy",t===se?"0em":t===le?"0.71em":"0.32em")),d!==b&&(x=x.transition(d),S=S.transition(d),T=T.transition(d),C=C.transition(d),w=w.transition(d).attr("opacity",ue).attr("transform",(function(t){return isFinite(t=v(t))?h(t+l):this.getAttribute("transform")})),E.attr("opacity",ue).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:v(t))+l)}))),w.remove(),x.attr("d",t===ce||t===ae?s?"M"+c*s+","+y+"H"+l+"V"+_+"H"+c*s:"M"+l+","+y+"V"+_:s?"M"+y+","+c*s+"V"+l+"H"+_+"V"+c*s:"M"+y+","+l+"H"+_),S.attr("opacity",1).attr("transform",(function(t){return h(v(t)+l)})),T.attr(u+"2",c*o),C.attr(u,c*g).text(p),b.filter(ge).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ae?"start":t===ce?"end":"middle"),b.each((function(){this.__axis=v}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(o=s=+t,d):o},d.tickSizeInner=function(t){return arguments.length?(o=+t,d):o},d.tickSizeOuter=function(t){return arguments.length?(s=+t,d):s},d.tickPadding=function(t){return arguments.length?(a=+t,d):a},d.offset=function(t){return arguments.length?(l=+t,d):l},d}function ye(t){return me(se,t)}function _e(t){return me(ae,t)}function ve(t){return me(le,t)}function be(t){return me(ce,t)}var xe={value:()=>{}};function Se(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new we(r)}function we(t){this._=t}function Ee(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Te(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=xe,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}we.prototype=Se.prototype={constructor:we,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)i[n]=Te(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Te(i[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=Ee(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new we(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const Ce=Se;var Me="http://www.w3.org/1999/xhtml";const Ae={svg:"http://www.w3.org/2000/svg",xhtml:Me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ke(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ae.hasOwnProperty(e)?{space:Ae[e],local:t}:t}function Ie(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Me&&e.documentElement.namespaceURI===Me?e.createElement(t):e.createElementNS(n,t)}}function Pe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Re(t){var e=ke(t);return(e.local?Pe:Ie)(e)}function Oe(){}function Ne(t){return null==t?Oe:function(){return this.querySelector(t)}}function De(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function $e(){return[]}function Le(t){return null==t?$e:function(){return this.querySelectorAll(t)}}function Fe(t){return function(){return this.matches(t)}}function je(t){return function(e){return e.matches(t)}}var Ue=Array.prototype.find;function Be(){return this.firstElementChild}var ze=Array.prototype.filter;function Ge(){return Array.from(this.children)}function He(t){return new Array(t.length)}function We(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function qe(t,e,n,r,i,o){for(var s,a=0,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new We(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Ve(t,e,n,r,i,o,s){var a,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(f[a]=c=s.call(l,l.__data__,a,e)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(t,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new We(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function Ye(t){return t.__data__}function Xe(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ke(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ze(t){return function(){this.removeAttribute(t)}}function Je(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qe(t,e){return function(){this.setAttribute(t,e)}}function tn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function en(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function nn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function rn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function on(t){return function(){this.style.removeProperty(t)}}function sn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function an(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ln(t,e){return t.style.getPropertyValue(e)||rn(t).getComputedStyle(t,null).getPropertyValue(e)}function cn(t){return function(){delete this[t]}}function un(t,e){return function(){this[t]=e}}function hn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function dn(t){return t.trim().split(/^|\s+/)}function fn(t){return t.classList||new pn(t)}function pn(t){this._node=t,this._names=dn(t.getAttribute("class")||"")}function gn(t,e){for(var n=fn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function mn(t,e){for(var n=fn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function yn(t){return function(){gn(this,t)}}function _n(t){return function(){mn(this,t)}}function vn(t,e){return function(){(e.apply(this,arguments)?gn:mn)(this,t)}}function bn(){this.textContent=""}function xn(t){return function(){this.textContent=t}}function Sn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function wn(){this.innerHTML=""}function En(t){return function(){this.innerHTML=t}}function Tn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Cn(){this.nextSibling&&this.parentNode.appendChild(this)}function Mn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function An(){return null}function kn(){var t=this.parentNode;t&&t.removeChild(this)}function In(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Rn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function On(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Nn(t,e,n){var r=rn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Dn(t,e){return function(){return Nn(this,t,e)}}function $n(t,e){return function(){return Nn(this,t,e.apply(this,arguments))}}We.prototype={constructor:We,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},pn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ln=[null];function Fn(t,e){this._groups=t,this._parents=e}function jn(){return new Fn([[document.documentElement]],Ln)}Fn.prototype=jn.prototype={constructor:Fn,select:function(t){"function"!=typeof t&&(t=Ne(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=t.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new Fn(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return De(t.apply(this,arguments))}}(t):Le(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(t.call(s,s.__data__,c,a)),i.push(s));return new Fn(r,i)},selectChild:function(t){return this.select(null==t?Be:function(t){return function(){return Ue.call(this.children,t)}}("function"==typeof t?t:je(t)))},selectChildren:function(t){return this.selectAll(null==t?Ge:function(t){return function(){return ze.call(this.children,t)}}("function"==typeof t?t:je(t)))},filter:function(t){"function"!=typeof t&&(t=Fe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new Fn(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Ye);var n=e?Ve:qe,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=Xe(t.call(u,u&&u.__data__,c,r)),p=f.length,g=a[c]=new Array(p),m=s[c]=new Array(p);n(u,h,g,m,l[c]=new Array(d),f,e);for(var y,_,v=0,b=0;v<p;++v)if(y=g[v]){for(v>=b&&(b=v+1);!(_=m[b])&&++b<p;);y._next=_||null}}return(s=new Fn(s,r))._enter=a,s._exit=l,s},enter:function(){return new Fn(this._enter||this._groups.map(He),this._parents)},exit:function(){return new Fn(this._exit||this._groups.map(He),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],h=r[l],d=u.length,f=a[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)a[l]=n[l];return new Fn(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ke);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new Fn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=ke(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Je:Ze:"function"==typeof e?n.local?nn:en:n.local?tn:Qe)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?on:"function"==typeof e?an:sn)(t,e,null==n?"":n)):ln(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?cn:"function"==typeof e?hn:un)(t,e)):this.node()[t]},classed:function(t,e){var n=dn(t+"");if(arguments.length<2){for(var r=fn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?vn:e?yn:_n)(n,e))},text:function(t){return arguments.length?this.each(null==t?bn:("function"==typeof t?Sn:xn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?wn:("function"==typeof t?Tn:En)(t)):this.node().innerHTML},raise:function(){return this.each(Cn)},lower:function(){return this.each(Mn)},append:function(t){var e="function"==typeof t?t:Re(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Re(t),r=null==e?An:"function"==typeof e?e:Ne(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(kn)},clone:function(t){return this.select(t?Pn:In)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?On:Rn,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?$n:Dn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Un=jn;function Bn(t){return"string"==typeof t?new Fn([[document.querySelector(t)]],[document.documentElement]):new Fn([[t]],Ln)}function zn(t){return Bn(Re(t).call(document.documentElement))}var Gn=0;function Hn(){return new Wn}function Wn(){this._="@"+(++Gn).toString(36)}function qn(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Vn(t,e){if(t=qn(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Yn(t,e){return t.target&&(t=qn(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Vn(t,e)))}function Xn(t){return"string"==typeof t?new Fn([document.querySelectorAll(t)],[document.documentElement]):new Fn([De(t)],Ln)}Wn.prototype=Hn.prototype={constructor:Wn,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const Kn={passive:!1},Zn={capture:!0,passive:!1};function Jn(t){t.stopImmediatePropagation()}function Qn(t){t.preventDefault(),t.stopImmediatePropagation()}function tr(t){var e=t.document.documentElement,n=Bn(t).on("dragstart.drag",Qn,Zn);"onselectstart"in e?n.on("selectstart.drag",Qn,Zn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function er(t,e){var n=t.document.documentElement,r=Bn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Qn,Zn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const nr=t=>()=>t;function rr(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function ir(t){return!t.ctrlKey&&!t.button}function or(){return this.parentNode}function sr(t,e){return null==e?{x:t.x,y:t.y}:e}function ar(){return navigator.maxTouchPoints||"ontouchstart"in this}function lr(){var t,e,n,r,i=ir,o=or,s=sr,a=ar,l={},c=Ce("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(a).on("touchstart.drag",m).on("touchmove.drag",y,Kn).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,a){if(!r&&i.call(this,s,a)){var l=v(this,o.call(this,s,a),s,a,"mouse");l&&(Bn(s.view).on("mousemove.drag",p,Zn).on("mouseup.drag",g,Zn),tr(s.view),Jn(s),n=!1,t=s.clientX,e=s.clientY,l("start",s))}}function p(r){if(Qn(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}l.mouse("drag",r)}function g(t){Bn(t.view).on("mousemove.drag mouseup.drag",null),er(t.view,n),Qn(t),l.mouse("end",t)}function m(t,e){if(i.call(this,t,e)){var n,r,s=t.changedTouches,a=o.call(this,t,e),l=s.length;for(n=0;n<l;++n)(r=v(this,a,t,e,s[n].identifier,s[n]))&&(Jn(t),r("start",t,s[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=l[r[e].identifier])&&(Qn(t),n("drag",t,r[e]))}function _(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=l[i[e].identifier])&&(Jn(t),n("end",t,i[e]))}function v(t,e,n,r,i,o){var a,h,f,p=c.copy(),g=Vn(o||n,e);if(null!=(f=s.call(t,new rr("beforestart",{sourceEvent:n,target:d,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return a=f.x-g[0]||0,h=f.y-g[1]||0,function n(o,s,c){var m,y=g;switch(o){case"start":l[i]=n,m=u++;break;case"end":delete l[i],--u;case"drag":g=Vn(c||s,e),m=u}p.call(o,t,new rr(o,{sourceEvent:s,subject:f,target:d,identifier:i,active:m,x:g[0]+a,y:g[1]+h,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),r)}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:nr(!!t),d):i},d.container=function(t){return arguments.length?(o="function"==typeof t?t:nr(t),d):o},d.subject=function(t){return arguments.length?(s="function"==typeof t?t:nr(t),d):s},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:nr(!!t),d):a},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}function cr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ur(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hr(){}rr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var dr=.7,fr=1/dr,pr="\\s*([+-]?\\d+)\\s*",gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yr=/^#([0-9a-f]{3,8})$/,_r=new RegExp(`^rgb\\(${pr},${pr},${pr}\\)$`),vr=new RegExp(`^rgb\\(${mr},${mr},${mr}\\)$`),br=new RegExp(`^rgba\\(${pr},${pr},${pr},${gr}\\)$`),xr=new RegExp(`^rgba\\(${mr},${mr},${mr},${gr}\\)$`),Sr=new RegExp(`^hsl\\(${gr},${mr},${mr}\\)$`),wr=new RegExp(`^hsla\\(${gr},${mr},${mr},${gr}\\)$`),Er={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tr(){return this.rgb().formatHex()}function Cr(){return this.rgb().formatRgb()}function Mr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ar(e):3===n?new Rr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?kr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?kr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=_r.exec(t))?new Rr(e[1],e[2],e[3],1):(e=vr.exec(t))?new Rr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=br.exec(t))?kr(e[1],e[2],e[3],e[4]):(e=xr.exec(t))?kr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Sr.exec(t))?Fr(e[1],e[2]/100,e[3]/100,1):(e=wr.exec(t))?Fr(e[1],e[2]/100,e[3]/100,e[4]):Er.hasOwnProperty(t)?Ar(Er[t]):"transparent"===t?new Rr(NaN,NaN,NaN,0):null}function Ar(t){return new Rr(t>>16&255,t>>8&255,255&t,1)}function kr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rr(t,e,n,r)}function Ir(t){return t instanceof hr||(t=Mr(t)),t?new Rr((t=t.rgb()).r,t.g,t.b,t.opacity):new Rr}function Pr(t,e,n,r){return 1===arguments.length?Ir(t):new Rr(t,e,n,null==r?1:r)}function Rr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Or(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}`}function Nr(){const t=Dr(this.opacity);return`${1===t?"rgb(":"rgba("}${$r(this.r)}, ${$r(this.g)}, ${$r(this.b)}${1===t?")":`, ${t})`}`}function Dr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $r(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lr(t){return((t=$r(t))<16?"0":"")+t.toString(16)}function Fr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Br(t,e,n,r)}function jr(t){if(t instanceof Br)return new Br(t.h,t.s,t.l,t.opacity);if(t instanceof hr||(t=Mr(t)),!t)return new Br;if(t instanceof Br)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Br(s,a,l,t.opacity)}function Ur(t,e,n,r){return 1===arguments.length?jr(t):new Br(t,e,n,null==r?1:r)}function Br(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function zr(t){return(t=(t||0)%360)<0?t+360:t}function Gr(t){return Math.max(0,Math.min(1,t||0))}function Hr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}cr(hr,Mr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Tr,formatHex:Tr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return jr(this).formatHsl()},formatRgb:Cr,toString:Cr}),cr(Rr,Pr,ur(hr,{brighter(t){return t=null==t?fr:Math.pow(fr,t),new Rr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?dr:Math.pow(dr,t),new Rr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rr($r(this.r),$r(this.g),$r(this.b),Dr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Or,formatHex:Or,formatHex8:function(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}${Lr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Nr,toString:Nr})),cr(Br,Ur,ur(hr,{brighter(t){return t=null==t?fr:Math.pow(fr,t),new Br(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?dr:Math.pow(dr,t),new Br(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rr(Hr(t>=240?t-240:t+120,i,r),Hr(t,i,r),Hr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Br(zr(this.h),Gr(this.s),Gr(this.l),Dr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dr(this.opacity);return`${1===t?"hsl(":"hsla("}${zr(this.h)}, ${100*Gr(this.s)}%, ${100*Gr(this.l)}%${1===t?")":`, ${t})`}`}}));const Wr=Math.PI/180,qr=180/Math.PI,Vr=.96422,Yr=1,Xr=.82521,Kr=4/29,Zr=6/29,Jr=3*Zr*Zr,Qr=Zr*Zr*Zr;function ti(t){if(t instanceof ri)return new ri(t.l,t.a,t.b,t.opacity);if(t instanceof hi)return di(t);t instanceof Rr||(t=Ir(t));var e,n,r=ai(t.r),i=ai(t.g),o=ai(t.b),s=ii((.2225045*r+.7168786*i+.0606169*o)/Yr);return r===i&&i===o?e=n=s:(e=ii((.4360747*r+.3850649*i+.1430804*o)/Vr),n=ii((.0139322*r+.0971045*i+.7141733*o)/Xr)),new ri(116*s-16,500*(e-s),200*(s-n),t.opacity)}function ei(t,e){return new ri(t,0,0,null==e?1:e)}function ni(t,e,n,r){return 1===arguments.length?ti(t):new ri(t,e,n,null==r?1:r)}function ri(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ii(t){return t>Qr?Math.pow(t,1/3):t/Jr+Kr}function oi(t){return t>Zr?t*t*t:Jr*(t-Kr)}function si(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ai(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function li(t){if(t instanceof hi)return new hi(t.h,t.c,t.l,t.opacity);if(t instanceof ri||(t=ti(t)),0===t.a&&0===t.b)return new hi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*qr;return new hi(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ci(t,e,n,r){return 1===arguments.length?li(t):new hi(n,e,t,null==r?1:r)}function ui(t,e,n,r){return 1===arguments.length?li(t):new hi(t,e,n,null==r?1:r)}function hi(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function di(t){if(isNaN(t.h))return new ri(t.l,0,0,t.opacity);var e=t.h*Wr;return new ri(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}cr(ri,ni,ur(hr,{brighter(t){return new ri(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new ri(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Rr(si(3.1338561*(e=Vr*oi(e))-1.6168667*(t=Yr*oi(t))-.4906146*(n=Xr*oi(n))),si(-.9787684*e+1.9161415*t+.033454*n),si(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),cr(hi,ui,ur(hr,{brighter(t){return new hi(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new hi(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return di(this).rgb()}}));var fi=-.14861,pi=1.78277,gi=-.29227,mi=-.90649,yi=1.97294,_i=yi*mi,vi=yi*pi,bi=pi*gi-mi*fi;function xi(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Si)return new Si(t.h,t.s,t.l,t.opacity);t instanceof Rr||(t=Ir(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(bi*r+_i*e-vi*n)/(bi+_i-vi),o=r-i,s=(yi*(n-i)-gi*o)/mi,a=Math.sqrt(s*s+o*o)/(yi*i*(1-i)),l=a?Math.atan2(s,o)*qr-120:NaN;return new Si(l<0?l+360:l,a,i,t.opacity)}(t):new Si(t,e,n,null==r?1:r)}function Si(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function wi(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function Ei(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return wi((n-r/e)*e,s,i,o,a)}}function Ti(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return wi((n-r/e)*e,i,o,s,a)}}cr(Si,xi,ur(hr,{brighter(t){return t=null==t?fr:Math.pow(fr,t),new Si(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?dr:Math.pow(dr,t),new Si(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Wr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Rr(255*(e+n*(fi*r+pi*i)),255*(e+n*(gi*r+mi*i)),255*(e+n*(yi*r)),this.opacity)}}));const Ci=t=>()=>t;function Mi(t,e){return function(n){return t+n*e}}function Ai(t,e){var n=e-t;return n?Mi(t,n>180||n<-180?n-360*Math.round(n/360):n):Ci(isNaN(t)?e:t)}function ki(t){return 1==(t=+t)?Ii:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ci(isNaN(e)?n:e)}}function Ii(t,e){var n=e-t;return n?Mi(t,n):Ci(isNaN(t)?e:t)}const Pi=function t(e){var n=ki(e);function r(t,e){var r=n((t=Pr(t)).r,(e=Pr(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=Ii(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Ri(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=Pr(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}var Oi=Ri(Ei),Ni=Ri(Ti);function Di(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function $i(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Li(t,e){return($i(e)?Di:Fi)(t,e)}function Fi(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Wi(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=o[n](t);return s}}function ji(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ui(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bi(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Wi(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var zi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gi=new RegExp(zi.source,"g");function Hi(t,e){var n,r,i,o=zi.lastIndex=Gi.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=zi.exec(t))&&(r=Gi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Ui(n,r)})),o=Gi.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}function Wi(t,e){var n,r=typeof e;return null==e||"boolean"===r?Ci(e):("number"===r?Ui:"string"===r?(n=Mr(e))?(e=n,Pi):Hi:e instanceof Mr?Pi:e instanceof Date?ji:$i(e)?Di:Array.isArray(e)?Fi:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Bi:Ui)(t,e)}function qi(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Vi(t,e){var n=Ai(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function Yi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Xi,Ki=180/Math.PI,Zi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ji(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ki,skewX:Math.atan(l)*Ki,scaleX:s,scaleY:a}}function Qi(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:Ui(t,i)},{i:l-2,x:Ui(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ui(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ui(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,l),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Ui(t,n)},{i:a-2,x:Ui(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var to=Qi((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Zi:Ji(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),eo=Qi((function(t){return null==t?Zi:(Xi||(Xi=document.createElementNS("http://www.w3.org/2000/svg","g")),Xi.setAttribute("transform",t),(t=Xi.transform.baseVal.consolidate())?Ji((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Zi)}),", ",")",")");function no(t){return((t=Math.exp(t))+1/t)/2}const ro=function t(e,n,r){function i(t,i){var o,s,a=t[0],l=t[1],c=t[2],u=i[0],h=i[1],d=i[2],f=u-a,p=h-l,g=f*f+p*p;if(g<1e-12)s=Math.log(d/c)/e,o=function(t){return[a+t*f,l+t*p,c*Math.exp(e*t*s)]};else{var m=Math.sqrt(g),y=(d*d-c*c+r*g)/(2*c*n*m),_=(d*d-c*c-r*g)/(2*d*n*m),v=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(_*_+1)-_);s=(b-v)/e,o=function(t){var r=t*s,i=no(v),o=c/(n*m)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[a+o*f,l+o*p,c*i/no(e*r+v)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function io(t){return function(e,n){var r=t((e=Ur(e)).h,(n=Ur(n)).h),i=Ii(e.s,n.s),o=Ii(e.l,n.l),s=Ii(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=s(t),e+""}}}const oo=io(Ai);var so=io(Ii);function ao(t,e){var n=Ii((t=ni(t)).l,(e=ni(e)).l),r=Ii(t.a,e.a),i=Ii(t.b,e.b),o=Ii(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function lo(t){return function(e,n){var r=t((e=ui(e)).h,(n=ui(n)).h),i=Ii(e.c,n.c),o=Ii(e.l,n.l),s=Ii(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=s(t),e+""}}}const co=lo(Ai);var uo=lo(Ii);function ho(t){return function e(n){function r(e,r){var i=t((e=xi(e)).h,(r=xi(r)).h),o=Ii(e.s,r.s),s=Ii(e.l,r.l),a=Ii(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,r.gamma=e,r}(1)}const fo=ho(Ai);var po=ho(Ii);function go(t,e){void 0===e&&(e=t,t=Wi);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function mo(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var yo,_o,vo=0,bo=0,xo=0,So=0,wo=0,Eo=0,To="object"==typeof performance&&performance.now?performance:Date,Co="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mo(){return wo||(Co(Ao),wo=To.now()+Eo)}function Ao(){wo=0}function ko(){this._call=this._time=this._next=null}function Io(t,e,n){var r=new ko;return r.restart(t,e,n),r}function Po(){Mo(),++vo;for(var t,e=yo;e;)(t=wo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vo}function Ro(){wo=(So=To.now())+Eo,vo=bo=0;try{Po()}finally{vo=0,function(){var t,e,n=yo,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:yo=e);_o=t,No(r)}(),wo=0}}function Oo(){var t=To.now(),e=t-So;e>1e3&&(Eo-=e,So=t)}function No(t){vo||(bo&&(bo=clearTimeout(bo)),t-wo>24?(t<1/0&&(bo=setTimeout(Ro,t-To.now()-Eo)),xo&&(xo=clearInterval(xo))):(xo||(So=To.now(),xo=setInterval(Oo,1e3)),vo=1,Co(Ro)))}function Do(t,e,n){var r=new ko;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}function $o(t,e,n){var r=new ko,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?Mo():+n,r._restart((function o(s){s+=i,r._restart(o,i+=e,n),t(s)}),e,n)},r.restart(t,e,n),r)}ko.prototype=Io.prototype={constructor:ko,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Mo():+n)+(null==e?0:+e),this._next||_o===this||(_o?_o._next=this:yo=this,_o=this),this._call=t,this._time=n,No()},stop:function(){this._call&&(this._call=null,this._time=1/0,No())}};var Lo=Ce("start","end","cancel","interrupt"),Fo=[],jo=1,Uo=2,Bo=5,zo=6;function Go(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=jo,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(o){var c,u,h,d;if(n.state!==jo)return l();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Do(s);4===d.state?(d.state=zo,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=zo,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Do((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=Uo,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Uo){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=Bo,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);n.state===Bo&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=zo,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Io(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Lo,tween:Fo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ho(t,e){var n=qo(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Wo(t,e){var n=qo(t,e);if(n.state>3)throw new Error("too late; already running");return n}function qo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Vo(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Uo&&n.state<Bo,n.state=zo,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}function Yo(t,e){var n,r;return function(){var i=Wo(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function Xo(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Wo(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Ko(t,e,n){var r=t._id;return t.each((function(){var t=Wo(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return qo(t,r).value[e]}}function Zo(t,e){var n;return("number"==typeof e?Ui:e instanceof Mr?Pi:(n=Mr(e))?(e=n,Pi):Hi)(t,e)}function Jo(t){return function(){this.removeAttribute(t)}}function Qo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ts(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function es(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function ns(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttribute(t)}}function rs(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttributeNS(t.space,t.local)}}function is(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function os(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function ss(t,e){return function(){Ho(this,t).delay=+e.apply(this,arguments)}}function as(t,e){return e=+e,function(){Ho(this,t).delay=e}}function ls(t,e){return function(){Wo(this,t).duration=+e.apply(this,arguments)}}function cs(t,e){return e=+e,function(){Wo(this,t).duration=e}}var us=Un.prototype.constructor;function hs(t){return function(){this.style.removeProperty(t)}}var ds=0;function fs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ps(t){return Un().transition(t)}function gs(){return++ds}var ms=Un.prototype;fs.prototype=ps.prototype={constructor:fs,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ne(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=t.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,Go(h[d],e,n,d,h,qo(a,n)));return new fs(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Le(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=qo(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&Go(d,e,n,g,f,p);o.push(f),s.push(l)}return new fs(o,s,e,n)},selectChild:ms.selectChild,selectChildren:ms.selectChildren,filter:function(t){"function"!=typeof t&&(t=Fe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new fs(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=e[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<r;++a)s[a]=e[a];return new fs(s,this._parents,this._name,this._id)},selection:function(){return new us(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=gs(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=qo(s,e);Go(s,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new fs(r,this._parents,t,n)},call:ms.call,nodes:ms.nodes,node:ms.node,size:ms.size,empty:ms.empty,each:ms.each,on:function(t,e){var n=this._id;return arguments.length<2?qo(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ho:Wo;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}(n,t,e))},attr:function(t,e){var n=ke(t),r="transform"===n?eo:Zo;return this.attrTween(t,"function"==typeof e?(n.local?rs:ns)(n,r,Ko(this,"attr."+t,e)):null==e?(n.local?Qo:Jo)(n):(n.local?es:ts)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ke(t);return this.tween(n,(r.local?is:os)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?to:Zo;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=ln(this,t),s=(this.style.removeProperty(t),ln(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,hs(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=ln(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=ln(this,t)),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}(t,r,Ko(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var l=Wo(this,t),c=l.on,u=null==l.value[s]?o||(o=hs(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=ln(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ko(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=qo(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Yo:Xo)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ss:as)(e,t)):qo(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ls:cs)(e,t)):qo(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Wo(this,t).ease=e}}(e,t)):qo(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Wo(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};n.each((function(){var n=Wo(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:ms[Symbol.iterator]};const ys=t=>+t;function _s(t){return t*t}function vs(t){return t*(2-t)}function bs(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function xs(t){return t*t*t}function Ss(t){return--t*t*t+1}function ws(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Es=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ts=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Cs=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Ms=Math.PI,As=Ms/2;function ks(t){return 1==+t?1:1-Math.cos(t*As)}function Is(t){return Math.sin(t*As)}function Ps(t){return(1-Math.cos(Ms*t))/2}function Rs(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Os(t){return Rs(1-+t)}function Ns(t){return 1-Rs(t)}function Ds(t){return((t*=2)<=1?Rs(1-t):2-Rs(t-1))/2}function $s(t){return 1-Math.sqrt(1-t*t)}function Ls(t){return Math.sqrt(1- --t*t)}function Fs(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var js=4/11,Us=6/11,Bs=8/11,zs=3/4,Gs=9/11,Hs=10/11,Ws=15/16,qs=21/22,Vs=63/64,Ys=1/js/js;function Xs(t){return 1-Ks(1-t)}function Ks(t){return(t=+t)<js?Ys*t*t:t<Bs?Ys*(t-=Us)*t+zs:t<Hs?Ys*(t-=Gs)*t+Ws:Ys*(t-=qs)*t+Vs}function Zs(t){return((t*=2)<=1?1-Ks(1-t):Ks(t-1)+1)/2}var Js=1.70158,Qs=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(Js),ta=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(Js),ea=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Js),na=2*Math.PI,ra=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=na);function i(t){return e*Rs(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*na)},i.period=function(n){return t(e,n)},i}(1,.3),ia=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=na);function i(t){return 1-e*Rs(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*na)},i.period=function(n){return t(e,n)},i}(1,.3),oa=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=na);function i(t){return((t=2*t-1)<0?e*Rs(-t)*Math.sin((r-t)/n):2-e*Rs(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*na)},i.period=function(n){return t(e,n)},i}(1,.3),sa={time:null,delay:0,duration:250,ease:ws};function aa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Un.prototype.interrupt=function(t){return this.each((function(){Vo(this,t)}))},Un.prototype.transition=function(t){var e,n;t instanceof fs?(e=t._id,t=t._name):(e=gs(),(n=sa).time=Mo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&Go(s,t,e,c,a,n||aa(s,e));return new fs(r,this._parents,t,e)};var la=[null];function ca(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>jo&&n.name===e)return new fs([[t]],la,e,+r);return null}const ua=t=>()=>t;function ha(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function da(t){t.preventDefault(),t.stopImmediatePropagation()}var fa={name:"drag"},pa={name:"space"},ga={name:"handle"},ma={name:"center"};const{abs:ya,max:_a,min:va}=Math;function ba(t){return[+t[0],+t[1]]}function xa(t){return[ba(t[0]),ba(t[1])]}var Sa={name:"x",handles:["w","e"].map(Ia),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},wa={name:"y",handles:["n","s"].map(Ia),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ea={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ia),input:function(t){return null==t?null:xa(t)},output:function(t){return t}},Ta={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ca={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ma={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Aa={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ka={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ia(t){return{type:t}}function Pa(t){return!t.ctrlKey&&!t.button}function Ra(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Oa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Na(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Da(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function $a(){return ja(Sa)}function La(){return ja(wa)}function Fa(){return ja(Ea)}function ja(t){var e,n=Ra,r=Pa,i=Oa,o=!0,s=Ce("start","brush","end"),a=6;function l(e){var n=e.property("__brush",g).selectAll(".overlay").data([Ia("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ta.overlay).merge(n).each((function(){var t=Na(this).extent;Bn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Ia("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ta.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Ta[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(i).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Bn(this),e=Na(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-a/2:e[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-a/2:e[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function d(n){if((!e||n.touches)&&r.apply(this,arguments)){var i,s,a,l,h,d,f,p,g,m,y,_=this,v=n.target.__data__.type,b="selection"===(o&&n.metaKey?v="overlay":v)?fa:o&&n.altKey?ma:ga,x=t===wa?null:Aa[v],S=t===Sa?null:ka[v],w=Na(_),E=w.extent,T=w.selection,C=E[0][0],M=E[0][1],A=E[1][0],k=E[1][1],I=0,P=0,R=x&&S&&o&&n.shiftKey,O=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=Vn(t,_)).point0=t.slice(),t.identifier=e,t}));Vo(_);var N=u(_,arguments,!0).beforestart();if("overlay"===v){T&&(g=!0);const e=[O[0],O[1]||O[0]];w.selection=T=[[i=t===wa?C:va(e[0][0],e[1][0]),a=t===Sa?M:va(e[0][1],e[1][1])],[h=t===wa?A:_a(e[0][0],e[1][0]),f=t===Sa?k:_a(e[0][1],e[1][1])]],O.length>1&&j(n)}else i=T[0][0],a=T[0][1],h=T[1][0],f=T[1][1];s=i,l=a,d=h,p=f;var D=Bn(_).attr("pointer-events","none"),$=D.selectAll(".overlay").attr("cursor",Ta[v]);if(n.touches)N.moved=F,N.ended=U;else{var L=Bn(n.view).on("mousemove.brush",F,!0).on("mouseup.brush",U,!0);o&&L.on("keydown.brush",(function(t){switch(t.keyCode){case 16:R=x&&S;break;case 18:b===ga&&(x&&(h=d-I*x,i=s+I*x),S&&(f=p-P*S,a=l+P*S),b=ma,j(t));break;case 32:b!==ga&&b!==ma||(x<0?h=d-I:x>0&&(i=s-I),S<0?f=p-P:S>0&&(a=l-P),b=pa,$.attr("cursor",Ta.selection),j(t));break;default:return}da(t)}),!0).on("keyup.brush",(function(t){switch(t.keyCode){case 16:R&&(m=y=R=!1,j(t));break;case 18:b===ma&&(x<0?h=d:x>0&&(i=s),S<0?f=p:S>0&&(a=l),b=ga,j(t));break;case 32:b===pa&&(t.altKey?(x&&(h=d-I*x,i=s+I*x),S&&(f=p-P*S,a=l+P*S),b=ma):(x<0?h=d:x>0&&(i=s),S<0?f=p:S>0&&(a=l),b=ga),$.attr("cursor",Ta[v]),j(t));break;default:return}da(t)}),!0),tr(n.view)}c.call(_),N.start(n,b.name)}function F(t){for(const e of t.changedTouches||[t])for(const t of O)t.identifier===e.identifier&&(t.cur=Vn(e,_));if(R&&!m&&!y&&1===O.length){const t=O[0];ya(t.cur[0]-t[0])>ya(t.cur[1]-t[1])?y=!0:m=!0}for(const t of O)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);g=!0,da(t),j(t)}function j(t){const e=O[0],n=e.point0;var r;switch(I=e[0]-n[0],P=e[1]-n[1],b){case pa:case fa:x&&(I=_a(C-i,va(A-h,I)),s=i+I,d=h+I),S&&(P=_a(M-a,va(k-f,P)),l=a+P,p=f+P);break;case ga:O[1]?(x&&(s=_a(C,va(A,O[0][0])),d=_a(C,va(A,O[1][0])),x=1),S&&(l=_a(M,va(k,O[0][1])),p=_a(M,va(k,O[1][1])),S=1)):(x<0?(I=_a(C-i,va(A-i,I)),s=i+I,d=h):x>0&&(I=_a(C-h,va(A-h,I)),s=i,d=h+I),S<0?(P=_a(M-a,va(k-a,P)),l=a+P,p=f):S>0&&(P=_a(M-f,va(k-f,P)),l=a,p=f+P));break;case ma:x&&(s=_a(C,va(A,i-I*x)),d=_a(C,va(A,h+I*x))),S&&(l=_a(M,va(k,a-P*S)),p=_a(M,va(k,f+P*S)))}d<s&&(x*=-1,r=i,i=h,h=r,r=s,s=d,d=r,v in Ca&&$.attr("cursor",Ta[v=Ca[v]])),p<l&&(S*=-1,r=a,a=f,f=r,r=l,l=p,p=r,v in Ma&&$.attr("cursor",Ta[v=Ma[v]])),w.selection&&(T=w.selection),m&&(s=T[0][0],d=T[1][0]),y&&(l=T[0][1],p=T[1][1]),T[0][0]===s&&T[0][1]===l&&T[1][0]===d&&T[1][1]===p||(w.selection=[[s,l],[d,p]],c.call(_),N.brush(t,b.name))}function U(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else er(t.view,g),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),$.attr("cursor",Ta.overlay),w.selection&&(T=w.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(T)&&(w.selection=null,c.call(_)),N.end(t,b.name)}}function f(t){u(this,arguments).moved(t)}function p(t){u(this,arguments).ended(t)}function g(){var e=this.__brush||{selection:null};return e.extent=xa(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){u(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){u(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=u(e,arguments),o=r.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),a=Wi(o,s);function l(t){r.selection=1===t&&null===s?null:a(t),c.call(e),i.brush()}return null!==o&&null!==s?l:l(1)})):e.each((function(){var e=this,i=arguments,o=e.__brush,s=t.input("function"==typeof n?n.apply(e,i):n,o.extent),a=u(e,i).beforestart();Vo(e),o.selection=null===s?null:s,c.call(e),a.start(r).brush(r).end(r)}))},l.clear=function(t,e){l.move(t,null,e)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=Bn(this.that).datum();s.call(e,this.that,new ha(e,{sourceEvent:n,target:l,selection:t.output(this.state.selection),mode:r,dispatch:s}),i)}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:ua(xa(t)),l):n},l.filter=function(t){return arguments.length?(r="function"==typeof t?t:ua(!!t),l):r},l.touchable=function(t){return arguments.length?(i="function"==typeof t?t:ua(!!t),l):i},l.handleSize=function(t){return arguments.length?(a=+t,l):a},l.keyModifiers=function(t){return arguments.length?(o=!!t,l):o},l.on=function(){var t=s.on.apply(s,arguments);return t===s?l:t},l}var Ua=Math.abs,Ba=Math.cos,za=Math.sin,Ga=Math.PI,Ha=Ga/2,Wa=2*Ga,qa=Math.max,Va=1e-12;function Ya(t,e){return Array.from({length:e-t},((e,n)=>t+n))}function Xa(){return Ja(!1,!1)}function Ka(){return Ja(!1,!0)}function Za(){return Ja(!0,!1)}function Ja(t,e){var n=0,r=null,i=null,o=null;function s(s){var a,l=s.length,c=new Array(l),u=Ya(0,l),h=new Array(l*l),d=new Array(l),f=0;s=Float64Array.from({length:l*l},e?(t,e)=>s[e%l][e/l|0]:(t,e)=>s[e/l|0][e%l]);for(let e=0;e<l;++e){let n=0;for(let r=0;r<l;++r)n+=s[e*l+r]+t*s[r*l+e];f+=c[e]=n}a=(f=qa(0,Wa-n*l)/f)?n:Wa/l;{let e=0;r&&u.sort(((t,e)=>r(c[t],c[e])));for(const n of u){const r=e;if(t){const t=Ya(1+~l,l).filter((t=>t<0?s[~t*l+n]:s[n*l+t]));i&&t.sort(((t,e)=>i(t<0?-s[~t*l+n]:s[n*l+t],e<0?-s[~e*l+n]:s[n*l+e])));for(const r of t)if(r<0){(h[~r*l+n]||(h[~r*l+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=s[~r*l+n]*f,value:s[~r*l+n]}}else{(h[n*l+r]||(h[n*l+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=s[n*l+r]*f,value:s[n*l+r]}}d[n]={index:n,startAngle:r,endAngle:e,value:c[n]}}else{const t=Ya(0,l).filter((t=>s[n*l+t]||s[t*l+n]));i&&t.sort(((t,e)=>i(s[n*l+t],s[n*l+e])));for(const r of t){let t;if(n<r?(t=h[n*l+r]||(h[n*l+r]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=s[n*l+r]*f,value:s[n*l+r]}):(t=h[r*l+n]||(h[r*l+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=s[n*l+r]*f,value:s[n*l+r]},n===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}d[n]={index:n,startAngle:r,endAngle:e,value:c[n]}}e+=a}}return(h=Object.values(h)).groups=d,o?h.sort(o):h}return s.padAngle=function(t){return arguments.length?(n=qa(0,t),s):n},s.sortGroups=function(t){return arguments.length?(r=t,s):r},s.sortSubgroups=function(t){return arguments.length?(i=t,s):i},s.sortChords=function(t){return arguments.length?(null==t?o=null:(e=t,o=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,s):o&&o._;var e},s}const Qa=Math.PI,tl=2*Qa,el=1e-6,nl=tl-el;function rl(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class il{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?rl:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rl;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,a=n-t,l=r-e,c=o-t,u=s-e,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>el)if(Math.abs(u*a-l*c)>el&&i){let d=n-o,f=r-s,p=a*a+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),_=i*Math.tan((Qa-Math.acos((p+h-g)/(2*m*y)))/2),v=_/y,b=_/m;Math.abs(v-1)>el&&this._append`L${t+v*c},${e+v*u}`,this._append`A${i},${i},0,0,${+(u*d>c*f)},${this._x1=t+b*a},${this._y1=e+b*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),a=n*Math.sin(r),l=t+s,c=e+a,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>el||Math.abs(this._y1-c)>el)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%tl+tl),h>nl?this._append`A${n},${n},0,1,${u},${t-s},${e-a}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>el&&this._append`A${n},${n},0,${+(h>=Qa)},${u},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ol(){return new il}function sl(t=3){return new il(+t)}ol.prototype=il.prototype;var al=Array.prototype.slice;function ll(t){return function(){return t}}function cl(t){return t.source}function ul(t){return t.target}function hl(t){return t.radius}function dl(t){return t.startAngle}function fl(t){return t.endAngle}function pl(){return 0}function gl(){return 10}function ml(t){var e=cl,n=ul,r=hl,i=hl,o=dl,s=fl,a=pl,l=null;function c(){var c,u=e.apply(this,arguments),h=n.apply(this,arguments),d=a.apply(this,arguments)/2,f=al.call(arguments),p=+r.apply(this,(f[0]=u,f)),g=o.apply(this,f)-Ha,m=s.apply(this,f)-Ha,y=+i.apply(this,(f[0]=h,f)),_=o.apply(this,f)-Ha,v=s.apply(this,f)-Ha;if(l||(l=c=ol()),d>Va&&(Ua(m-g)>2*d+Va?m>g?(g+=d,m-=d):(g-=d,m+=d):g=m=(g+m)/2,Ua(v-_)>2*d+Va?v>_?(_+=d,v-=d):(_-=d,v+=d):_=v=(_+v)/2),l.moveTo(p*Ba(g),p*za(g)),l.arc(0,0,p,g,m),g!==_||m!==v)if(t){var b=y-+t.apply(this,arguments),x=(_+v)/2;l.quadraticCurveTo(0,0,b*Ba(_),b*za(_)),l.lineTo(y*Ba(x),y*za(x)),l.lineTo(b*Ba(v),b*za(v))}else l.quadraticCurveTo(0,0,y*Ba(_),y*za(_)),l.arc(0,0,y,_,v);if(l.quadraticCurveTo(0,0,p*Ba(g),p*za(g)),l.closePath(),c)return l=null,c+""||null}return t&&(c.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:ll(+e),c):t}),c.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:ll(+t),c):r},c.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:ll(+t),c):r},c.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:ll(+t),c):i},c.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:ll(+t),c):o},c.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:ll(+t),c):s},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:ll(+t),c):a},c.source=function(t){return arguments.length?(e=t,c):e},c.target=function(t){return arguments.length?(n=t,c):n},c.context=function(t){return arguments.length?(l=null==t?null:t,c):l},c}function yl(){return ml()}function _l(){return ml(gl)}var vl=Array.prototype.slice;function bl(t,e){return t-e}const xl=t=>()=>t;function Sl(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=wl(t,e[r]))return n;return 0}function wl(t,e){for(var n=e[0],r=e[1],i=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var l=t[o],c=l[0],u=l[1],h=t[a],d=h[0],f=h[1];if(El(l,h,e))return 0;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=-i)}return i}function El(t,e,n){var r,i,o,s;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],s=e[r],i<=o&&o<=s||s<=o&&o<=i)}function Tl(){}var Cl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ml(){var t=1,e=1,n=dt,r=a;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(bl);else{const n=A(t,Al);for(e=lt(...ht(n[0],n[1],e),e);e[e.length-1]>=n[1];)e.pop();for(;e[1]<n[0];)e.shift()}return e.map((e=>o(t,e)))}function o(n,i){const o=null==i?NaN:+i;if(isNaN(o))throw new Error(`invalid value: ${i}`);var a=[],l=[];return function(n,r,i){var o,a,l,c,u,h,d=new Array,f=new Array;o=a=-1,c=kl(n[0],r),Cl[c<<1].forEach(p);for(;++o<t-1;)l=c,c=kl(n[o+1],r),Cl[l|c<<1].forEach(p);Cl[c|0].forEach(p);for(;++a<e-1;){for(o=-1,c=kl(n[a*t+t],r),u=kl(n[a*t],r),Cl[c<<1|u<<2].forEach(p);++o<t-1;)l=c,c=kl(n[a*t+t+o+1],r),h=u,u=kl(n[a*t+o+1],r),Cl[l|c<<1|u<<2|h<<3].forEach(p);Cl[c|u<<3].forEach(p)}o=-1,u=n[a*t]>=r,Cl[u<<2].forEach(p);for(;++o<t-1;)h=u,u=kl(n[a*t+o+1],r),Cl[u<<2|h<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+a],l=[t[1][0]+o,t[1][1]+a],c=s(r),u=s(l);(e=f[c])?(n=d[u])?(delete f[e.end],delete d[n.start],e===n?(e.ring.push(l),i(e.ring)):d[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(l),f[e.end=u]=e):(e=d[u])?(n=f[c])?(delete d[e.start],delete f[n.end],e===n?(e.ring.push(l),i(e.ring)):d[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(r),d[e.start=c]=e):d[c]=f[u]={start:c,end:u,ring:[r,l]}}Cl[u<<3].forEach(p)}(n,o,(function(t){r(t,n,o),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?a.push([t]):l.push(t)})),l.forEach((function(t){for(var e,n=0,r=a.length;n<r;++n)if(-1!==Sl((e=a[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function s(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,r,i){n.forEach((function(n){var o=n[0],s=n[1],a=0|o,l=0|s,c=Il(r[l*t+a]);o>0&&o<t&&a===o&&(n[0]=Pl(o,Il(r[l*t+a-1]),c,i)),s>0&&s<e&&l===s&&(n[1]=Pl(s,Il(r[(l-1)*t+a]),c,i))}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?xl(vl.call(t)):xl(t),i):n},i.smooth=function(t){return arguments.length?(r=t?a:Tl,i):r===a},i}function Al(t){return isFinite(t)?t:NaN}function kl(t,e){return null!=t&&+t>=e}function Il(t){return null==t||isNaN(t=+t)?-1/0:t}function Pl(t,e,n,r){const i=r-e,o=n-e,s=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(s)?t:t+s-.5}function Rl(t){return t[0]}function Ol(t){return t[1]}function Nl(){return 1}function Dl(){var t=Rl,e=Ol,n=Nl,r=960,i=500,o=20,s=2,a=3*o,l=r+2*a>>s,c=i+2*a>>s,u=xl(20);function h(r){var i=new Float32Array(l*c),u=Math.pow(2,-s),h=-1;for(const o of r){var d=(t(o,++h,r)+a)*u,f=(e(o,h,r)+a)*u,g=+n(o,h,r);if(g&&d>=0&&d<l&&f>=0&&f<c){var m=Math.floor(d),y=Math.floor(f),_=d-m-.5,v=f-y-.5;i[m+y*l]+=(1-_)*(1-v)*g,i[m+1+y*l]+=_*(1-v)*g,i[m+1+(y+1)*l]+=_*v*g,i[m+(y+1)*l]+=(1-_)*v*g}}return p({data:i,width:l,height:c},o*u),i}function d(t){var e=h(t),n=u(e),r=Math.pow(2,2*s);return Array.isArray(n)||(n=lt(Number.MIN_VALUE,pt(e)/r,n)),Ml().size([l,c]).thresholds(n.map((t=>t*r)))(e).map(((t,e)=>(t.value=+n[e],f(t))))}function f(t){return t.coordinates.forEach(g),t}function g(t){t.forEach(m)}function m(t){t.forEach(y)}function y(t){t[0]=t[0]*Math.pow(2,s)-a,t[1]=t[1]*Math.pow(2,s)-a}function _(){return l=r+2*(a=3*o)>>s,c=i+2*a>>s,d}return d.contours=function(t){var e=h(t),n=Ml().size([l,c]),r=Math.pow(2,2*s),i=t=>{t=+t;var i=f(n.contour(e,t*r));return i.value=t,i};return Object.defineProperty(i,"max",{get:()=>pt(e)/r}),i},d.x=function(e){return arguments.length?(t="function"==typeof e?e:xl(+e),d):t},d.y=function(t){return arguments.length?(e="function"==typeof t?t:xl(+t),d):e},d.weight=function(t){return arguments.length?(n="function"==typeof t?t:xl(+t),d):n},d.size=function(t){if(!arguments.length)return[r,i];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return r=e,i=n,_()},d.cellSize=function(t){if(!arguments.length)return 1<<s;if(!((t=+t)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(t)/Math.LN2),_()},d.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?xl(vl.call(t)):xl(t),d):u},d.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*t*t+1)-1)/2,_()},d}const $l=134217729;function Ll(t,e,n,r,i){let o,s,a,l,c=e[0],u=r[0],h=0,d=0;u>c==u>-c?(o=c,c=e[++h]):(o=u,u=r[++d]);let f=0;if(h<t&&d<n)for(u>c==u>-c?(s=c+o,a=o-(s-c),c=e[++h]):(s=u+o,a=o-(s-u),u=r[++d]),o=s,0!==a&&(i[f++]=a);h<t&&d<n;)u>c==u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=e[++h]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++d]),o=s,0!==a&&(i[f++]=a);for(;h<t;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=e[++h],o=s,0!==a&&(i[f++]=a);for(;d<n;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++d],o=s,0!==a&&(i[f++]=a);return 0===o&&0!==f||(i[f++]=o),f}function Fl(t){return new Float64Array(t)}const jl=Fl(4),Ul=Fl(8),Bl=Fl(12),zl=Fl(16),Gl=Fl(4);function Hl(t,e,n,r,i,o){const s=(e-o)*(n-i),a=(t-i)*(r-o),l=s-a,c=Math.abs(s+a);return Math.abs(l)>=33306690738754716e-32*c?l:-function(t,e,n,r,i,o,s){let a,l,c,u,h,d,f,p,g,m,y,_,v,b,x,S,w,E;const T=t-i,C=n-i,M=e-o,A=r-o;b=T*A,d=$l*T,f=d-(d-T),p=T-f,d=$l*A,g=d-(d-A),m=A-g,x=p*m-(b-f*g-p*g-f*m),S=M*C,d=$l*M,f=d-(d-M),p=M-f,d=$l*C,g=d-(d-C),m=C-g,w=p*m-(S-f*g-p*g-f*m),y=x-w,h=x-y,jl[0]=x-(y+h)+(h-w),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-S,h=v-y,jl[1]=v-(y+h)+(h-S),E=_+y,h=E-_,jl[2]=_-(E-h)+(y-h),jl[3]=E;let k=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,jl),I=22204460492503146e-32*s;if(k>=I||-k>=I)return k;if(h=t-T,a=t-(T+h)+(h-i),h=n-C,c=n-(C+h)+(h-i),h=e-M,l=e-(M+h)+(h-o),h=r-A,u=r-(A+h)+(h-o),0===a&&0===l&&0===c&&0===u)return k;if(I=11093356479670487e-47*s+33306690738754706e-32*Math.abs(k),k+=T*u+A*a-(M*c+C*l),k>=I||-k>=I)return k;b=a*A,d=$l*a,f=d-(d-a),p=a-f,d=$l*A,g=d-(d-A),m=A-g,x=p*m-(b-f*g-p*g-f*m),S=l*C,d=$l*l,f=d-(d-l),p=l-f,d=$l*C,g=d-(d-C),m=C-g,w=p*m-(S-f*g-p*g-f*m),y=x-w,h=x-y,Gl[0]=x-(y+h)+(h-w),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-S,h=v-y,Gl[1]=v-(y+h)+(h-S),E=_+y,h=E-_,Gl[2]=_-(E-h)+(y-h),Gl[3]=E;const P=Ll(4,jl,4,Gl,Ul);b=T*u,d=$l*T,f=d-(d-T),p=T-f,d=$l*u,g=d-(d-u),m=u-g,x=p*m-(b-f*g-p*g-f*m),S=M*c,d=$l*M,f=d-(d-M),p=M-f,d=$l*c,g=d-(d-c),m=c-g,w=p*m-(S-f*g-p*g-f*m),y=x-w,h=x-y,Gl[0]=x-(y+h)+(h-w),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-S,h=v-y,Gl[1]=v-(y+h)+(h-S),E=_+y,h=E-_,Gl[2]=_-(E-h)+(y-h),Gl[3]=E;const R=Ll(P,Ul,4,Gl,Bl);b=a*u,d=$l*a,f=d-(d-a),p=a-f,d=$l*u,g=d-(d-u),m=u-g,x=p*m-(b-f*g-p*g-f*m),S=l*c,d=$l*l,f=d-(d-l),p=l-f,d=$l*c,g=d-(d-c),m=c-g,w=p*m-(S-f*g-p*g-f*m),y=x-w,h=x-y,Gl[0]=x-(y+h)+(h-w),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-S,h=v-y,Gl[1]=v-(y+h)+(h-S),E=_+y,h=E-_,Gl[2]=_-(E-h)+(y-h),Gl[3]=E;const O=Ll(R,Bl,4,Gl,zl);return zl[O-1]}(t,e,n,r,i,o,c)}Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(8),Fl(8),Fl(8),Fl(4),Fl(8),Fl(8),Fl(8),Fl(12);Fl(192),Fl(192);Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(8),Fl(8),Fl(8),Fl(8),Fl(8),Fl(8),Fl(8),Fl(8),Fl(8),Fl(4),Fl(4),Fl(4),Fl(8),Fl(16),Fl(16),Fl(16),Fl(32),Fl(32),Fl(48),Fl(64);Fl(1152),Fl(1152);Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(4),Fl(24),Fl(24),Fl(24),Fl(24),Fl(24),Fl(24),Fl(24),Fl(24),Fl(24),Fl(24),Fl(1152),Fl(1152),Fl(1152),Fl(1152),Fl(1152),Fl(2304),Fl(2304),Fl(3456),Fl(5760),Fl(8),Fl(8),Fl(8),Fl(16),Fl(24),Fl(48),Fl(48),Fl(96),Fl(192),Fl(384),Fl(384),Fl(384),Fl(768);Fl(96),Fl(96),Fl(96),Fl(1152);const Wl=Math.pow(2,-52),ql=new Uint32Array(512);class Vl{static from(t,e=Ql,n=tc){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new Vl(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<s&&(s=n),r<a&&(a=r),n>l&&(l=n),r>c&&(c=r),this._ids[e]=e}const u=(s+l)/2,h=(a+c)/2;let d,f,p;for(let e=0,n=1/0;e<o;e++){const r=Yl(u,h,t[2*e],t[2*e+1]);r<n&&(d=e,n=r)}const g=t[2*d],m=t[2*d+1];for(let e=0,n=1/0;e<o;e++){if(e===d)continue;const r=Yl(g,m,t[2*e],t[2*e+1]);r<n&&r>0&&(f=e,n=r)}let y=t[2*f],_=t[2*f+1],v=1/0;for(let e=0;e<o;e++){if(e===d||e===f)continue;const n=Kl(g,m,y,_,t[2*e],t[2*e+1]);n<v&&(p=e,v=n)}let b=t[2*p],x=t[2*p+1];if(v===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Zl(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t],o=this._dists[i];o>r&&(e[n++]=i,r=o)}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Hl(g,m,y,_,b,x)<0){const t=f,e=y,n=_;f=p,y=b,_=x,p=t,b=e,x=n}const S=function(t,e,n,r,i,o){const s=n-t,a=r-e,l=i-t,c=o-e,u=s*s+a*a,h=l*l+c*c,d=.5/(s*c-a*l),f=t+(c*u-a*h)*d,p=e+(s*h-l*u)*d;return{x:f,y:p}}(g,m,y,_,b,x);this._cx=S.x,this._cy=S.y;for(let e=0;e<o;e++)this._dists[e]=Yl(t[2*e],t[2*e+1],S.x,S.y);Zl(this._ids,this._dists,0,o-1),this._hullStart=d;let w=3;n[d]=e[p]=f,n[f]=e[d]=p,n[p]=e[f]=d,r[d]=0,r[f]=1,r[p]=2,i.fill(-1),i[this._hashKey(g,m)]=d,i[this._hashKey(y,_)]=f,i[this._hashKey(b,x)]=p,this.trianglesLen=0,this._addTriangle(d,f,p,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const l=this._ids[a],c=t[2*l],u=t[2*l+1];if(a>0&&Math.abs(c-o)<=Wl&&Math.abs(u-s)<=Wl)continue;if(o=c,s=u,l===d||l===f||l===p)continue;let h=0;for(let t=0,e=this._hashKey(c,u);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let g,m=h;for(;g=n[m],Hl(c,u,t[2*m],t[2*m+1],t[2*g],t[2*g+1])>=0;)if(m=g,m===h){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,l,n[m],-1,-1,r[m]);r[l]=this._legalize(y+2),r[m]=y,w++;let _=n[m];for(;g=n[_],Hl(c,u,t[2*_],t[2*_+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(_,l,g,r[l],-1,r[_]),r[l]=this._legalize(y+2),n[_]=_,w--,_=g;if(m===h)for(;g=e[m],Hl(c,u,t[2*g],t[2*g+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(g,l,m,-1,r[m],r[g]),this._legalize(y+2),r[g]=y,n[m]=m,w--,m=g;this._hullStart=e[l]=m,n[m]=e[_]=l,n[l]=_,i[this._hashKey(c,u)]=l,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(w);for(let t=0,e=this._hullStart;t<w;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const s=n[t],a=t-t%3;if(o=a+(t+2)%3,-1===s){if(0===i)break;t=ql[--i];continue}const l=s-s%3,c=a+(t+1)%3,u=l+(s+2)%3,h=e[o],d=e[t],f=e[c],p=e[u];if(Xl(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1])){e[t]=p,e[s]=h;const r=n[u];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(s,n[o]),this._link(o,u);const a=l+(s+1)%3;i<ql.length&&(ql[i++]=a)}else{if(0===i)break;t=ql[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function Yl(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Xl(t,e,n,r,i,o,s,a){const l=t-s,c=e-a,u=n-s,h=r-a,d=i-s,f=o-a,p=u*u+h*h,g=d*d+f*f;return l*(h*g-p*f)-c*(u*g-p*d)+(l*l+c*c)*(u*f-h*d)<0}function Kl(t,e,n,r,i,o){const s=n-t,a=r-e,l=i-t,c=o-e,u=s*s+a*a,h=l*l+c*c,d=.5/(s*c-a*l),f=(c*u-a*h)*d,p=(s*h-l*u)*d;return f*f+p*p}function Zl(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let s=i-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=r}else{let i=n+1,o=r;Jl(t,n+r>>1,i),e[t[n]]>e[t[r]]&&Jl(t,n,r),e[t[i]]>e[t[r]]&&Jl(t,i,r),e[t[n]]>e[t[i]]&&Jl(t,n,i);const s=t[i],a=e[s];for(;;){do{i++}while(e[t[i]]<a);do{o--}while(e[t[o]]>a);if(o<i)break;Jl(t,i,o)}t[n+1]=t[o],t[o]=s,r-i+1>=o-n?(Zl(t,e,i,r),Zl(t,e,n,o-1)):(Zl(t,e,n,o-1),Zl(t,e,i,r))}}function Jl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ql(t){return t[0]}function tc(t){return t[1]}const ec=1e-6;class nc{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>ec||Math.abs(this._y1-i)>ec)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class rc{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class ic{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this;let i,o;const s=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let r,a,l=0,c=0,u=n.length;l<u;l+=3,c+=2){const u=2*n[l],h=2*n[l+1],d=2*n[l+2],f=t[u],p=t[u+1],g=t[h],m=t[h+1],y=t[d],_=t[d+1],v=g-f,b=m-p,x=y-f,S=_-p,w=2*(v*S-b*x);if(Math.abs(w)<1e-9){if(void 0===i){i=o=0;for(const n of e)i+=t[2*n],o+=t[2*n+1];i/=e.length,o/=e.length}const n=1e9*Math.sign((i-f)*S-(o-p)*x);r=(f+y)/2-n*S,a=(p+_)/2+n*x}else{const t=1/w,e=v*v+b*b,n=x*x+S*S;r=f+(S*e-b*n)*t,a=p+(v*n-x*e)*t}s[c]=r,s[c+1]=a}let a,l,c,u=e[e.length-1],h=4*u,d=t[2*u],f=t[2*u+1];r.fill(0);for(let n=0;n<e.length;++n)u=e[n],a=h,l=d,c=f,h=4*u,d=t[2*u],f=t[2*u+1],r[a+2]=r[h]=c-f,r[a+3]=r[h+1]=d-l}render(t){const e=null==t?t=new nc:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),s=2*Math.floor(r/3),a=o[i],l=o[i+1],c=o[s],u=o[s+1];this._renderSegment(a,l,c,u,t)}let a,l=i[i.length-1];for(let e=0;e<i.length;++e){a=l,l=i[e];const n=2*Math.floor(r[l]/3),c=o[n],u=o[n+1],h=4*a,d=this._project(c,u,s[h+2],s[h+3]);d&&this._renderSegment(c,u,d[0],d[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new nc:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new nc:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new rc;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const s=this._regioncode(t,e),a=this._regioncode(n,r);0===s&&0===a?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,s,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,s=t.length;o<s;o+=2)if(e[r]===t[o]&&e[r+1]===t[o+1]&&e[(r+2)%i]===t[(o+s-2)%s]&&e[(r+3)%i]===t[(o+s-1)%s]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(e[2*n],e[2*n+1]),a=a%3==2?a-2:a+1,i[a]!==t)break;a=r[a]}while(a!==o&&-1!==a);return s}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){const n=e.length;let r,i,o,s,a=null,l=e[n-2],c=e[n-1],u=this._regioncode(l,c),h=0;for(let d=0;d<n;d+=2)if(r=l,i=c,l=e[d],c=e[d+1],o=u,u=this._regioncode(l,c),0===o&&0===u)s=h,h=0,a?a.push(l,c):a=[l,c];else{let e,n,d,f,p;if(0===o){if(null===(e=this._clipSegment(r,i,l,c,o,u)))continue;[n,d,f,p]=e}else{if(null===(e=this._clipSegment(l,c,r,i,u,o)))continue;[f,p,n,d]=e,s=h,h=this._edgecode(n,d),s&&h&&this._edge(t,s,h,a,a.length),a?a.push(n,d):a=[n,d]}s=h,h=this._edgecode(f,p),s&&h&&this._edge(t,s,h,a,a.length),a?a.push(f,p):a=[f,p]}if(a)s=h,h=this._edgecode(a[0],a[1]),s&&h&&this._edge(t,s,h,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,e,n,r,i,o){const s=i<o;for(s&&([t,e,n,r,i,o]=[n,r,t,e,o,i]);;){if(0===i&&0===o)return s?[n,r,t,e]:[t,e,n,r];if(i&o)return null;let a,l,c=i||o;8&c?(a=t+(n-t)*(this.ymax-e)/(r-e),l=this.ymax):4&c?(a=t+(n-t)*(this.ymin-e)/(r-e),l=this.ymin):2&c?(l=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(l=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=l,i=this._regioncode(t,e)):(n=a,r=l,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let s,a=Array.from(e);if((s=this._project(a[0],a[1],n,r))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(s[0],s[1]),a=this._clipFinite(t,a))for(let e,n=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);n<r;n+=2)e=i,i=this._edgecode(a[n],a[n+1]),e&&i&&(n=this._edge(t,e,i,a,n),r=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(t,e,n,r){let i,o,s,a=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<a&&(s=this.ymin,o=t+(a=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<a&&(s=this.ymax,o=t+(a=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<a&&(o=this.xmax,s=e+(a=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<a&&(o=this.xmin,s=e+(a=i)*r)}return[o,s]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}const oc=2*Math.PI,sc=Math.pow;function ac(t){return t[0]}function lc(t){return t[1]}function cc(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class uc{static from(t,e=ac,n=lc,r){return new uc("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let s=0;s<i;++s){const i=t[s];o[2*s]=e.call(r,i,s,t),o[2*s+1]=n.call(r,i,s,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new Vl(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=cc(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new Vl(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)s[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new ic(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:s}=this;if(s){const e=s.indexOf(t);return e>0&&(yield s[e-1]),void(e<s.length-1&&(yield s[e+1]))}const a=e[t];if(-1===a)return;let l=a,c=-1;do{if(yield c=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==a)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:s,triangles:a,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let c=t,u=sc(e-l[2*t],2)+sc(n-l[2*t+1],2);const h=r[t];let d=h;do{let r=a[d];const h=sc(e-l[2*r],2)+sc(n-l[2*r+1],2);if(h<u&&(u=h,c=r),d=d%3==2?d-2:d+1,a[d]!==t)break;if(d=s[d],-1===d){if(d=i[(o[t]+1)%i.length],d!==r&&sc(e-l[2*d],2)+sc(n-l[2*d+1],2)<u)return d;break}}while(d!==h);return c}render(t){const e=null==t?t=new nc:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const s=2*i[e],a=2*i[o];t.moveTo(n[s],n[s+1]),t.lineTo(n[a],n[a+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new nc:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,oc)}return n&&n.value()}renderHull(t){const e=null==t?t=new nc:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new rc;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new nc:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],s=2*i[t+1],a=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[s],r[s+1]),e.lineTo(r[a],r[a+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new rc;return this.renderTriangle(t,e),e.value()}}var hc={},dc={},fc=34,pc=10,gc=13;function mc(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function yc(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function _c(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function vc(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+_c(-e,6):e>9999?"+"+_c(e,6):_c(e,4))+"-"+_c(t.getUTCMonth()+1,2)+"-"+_c(t.getUTCDate(),2)+(o?"T"+_c(n,2)+":"+_c(r,2)+":"+_c(i,2)+"."+_c(o,3)+"Z":i?"T"+_c(n,2)+":"+_c(r,2)+":"+_c(i,2)+"Z":r||n?"T"+_c(n,2)+":"+_c(r,2)+"Z":"")}function bc(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,s=0,a=0,l=o<=0,c=!1;function u(){if(l)return dc;if(c)return c=!1,hc;var e,r,i=s;if(t.charCodeAt(i)===fc){for(;s++<o&&t.charCodeAt(s)!==fc||t.charCodeAt(++s)===fc;);return(e=s)>=o?l=!0:(r=t.charCodeAt(s++))===pc?c=!0:r===gc&&(c=!0,t.charCodeAt(s)===pc&&++s),t.slice(i+1,e-1).replace(/""/g,'"')}for(;s<o;){if((r=t.charCodeAt(e=s++))===pc)c=!0;else if(r===gc)c=!0,t.charCodeAt(s)===pc&&++s;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===pc&&--o,t.charCodeAt(o-1)===gc&&--o;(r=u())!==dc;){for(var h=[];r!==hc&&r!==dc;)h.push(r),r=u();e&&null==(h=e(h,a++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?vc(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=mc(t);return function(r,i){return e(n(r),i,t)}}(t,e):mc(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=yc(e)),[n.map(s).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=yc(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:s}}var xc=bc(","),Sc=xc.parse,wc=xc.parseRows,Ec=xc.format,Tc=xc.formatBody,Cc=xc.formatRows,Mc=xc.formatRow,Ac=xc.formatValue,kc=bc("\t"),Ic=kc.parse,Pc=kc.parseRows,Rc=kc.format,Oc=kc.formatBody,Nc=kc.formatRows,Dc=kc.formatRow,$c=kc.formatValue;function Lc(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Fc&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const Fc=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function jc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Uc(t,e){return fetch(t,e).then(jc)}function Bc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function zc(t,e){return fetch(t,e).then(Bc)}function Gc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Hc(t,e){return fetch(t,e).then(Gc)}function Wc(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Hc(e,n).then((function(e){return t(e,r)}))}}function qc(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=bc(t);return Hc(e,n).then((function(t){return i.parse(t,r)}))}var Vc=Wc(Sc),Yc=Wc(Ic);function Xc(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Kc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Zc(t,e){return fetch(t,e).then(Kc)}function Jc(t){return(e,n)=>Hc(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}const Qc=Jc("application/xml");var tu=Jc("text/html"),eu=Jc("image/svg+xml");function nu(t,e){var n,r=1;function i(){var i,o,s=n.length,a=0,l=0;for(i=0;i<s;++i)a+=(o=n[i]).x,l+=o.y;for(a=(a/s-t)*r,l=(l/s-e)*r,i=0;i<s;++i)(o=n[i]).x-=a,o.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function ru(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,a,l,c,u,h,d,f=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,_=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(s=(m+_)/2))?m=s:_=s,i=f,!(f=f[h=u<<1|c]))return i[h]=p,t;if(a=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===a&&n===l)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(s=(m+_)/2))?m=s:_=s}while((h=u<<1|c)==(d=(l>=s)<<1|a>=o));return i[d]=f,i[h]=p,t}function iu(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function ou(t){return t[0]}function su(t){return t[1]}function au(t,e,n){var r=new lu(null==e?ou:e,null==n?su:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function lu(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function cu(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var uu=au.prototype=lu.prototype;function hu(t){return function(){return t}}function du(t){return 1e-6*(t()-.5)}function fu(t){return t.x+t.vx}function pu(t){return t.y+t.vy}function gu(t){var e,n,r,i=1,o=1;function s(){for(var t,s,l,c,u,h,d,f=e.length,p=0;p<o;++p)for(s=au(e,fu,pu).visitAfter(a),t=0;t<f;++t)l=e[t],h=n[l.index],d=h*h,c=l.x+l.vx,u=l.y+l.vy,s.visit(g);function g(t,e,n,o,s){var a=t.data,f=t.r,p=h+f;if(!a)return e>c+p||o<c-p||n>u+p||s<u-p;if(a.index>l.index){var g=c-a.x-a.vx,m=u-a.y-a.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=du(r))*g),0===m&&(y+=(m=du(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,l.vx+=(g*=y)*(p=(f*=f)/(d+f)),l.vy+=(m*=y)*p,a.vx-=g*(p=1-p),a.vy-=m*p)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=hu(null==t?1:+t)),s.initialize=function(t,n){e=t,r=n,l()},s.iterations=function(t){return arguments.length?(o=+t,s):o},s.strength=function(t){return arguments.length?(i=+t,s):i},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:hu(+e),l(),s):t},s}function mu(t){return t.index}function yu(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function _u(t){var e,n,r,i,o,s,a=mu,l=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=hu(30),u=1;function h(r){for(var i=0,a=t.length;i<u;++i)for(var l,c,h,d,f,p,g,m=0;m<a;++m)c=(l=t[m]).source,d=(h=l.target).x+h.vx-c.x-c.vx||du(s),f=h.y+h.vy-c.y-c.vy||du(s),d*=p=((p=Math.sqrt(d*d+f*f))-n[m])/p*r*e[m],f*=p,h.vx-=d*(g=o[m]),h.vy-=f*g,c.vx+=d*(g=1-g),c.vy+=f*g}function d(){if(r){var s,l,c=r.length,u=t.length,h=new Map(r.map(((t,e)=>[a(t,e,r),t])));for(s=0,i=new Array(c);s<u;++s)(l=t[s]).index=s,"object"!=typeof l.source&&(l.source=yu(h,l.source)),"object"!=typeof l.target&&(l.target=yu(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)l=t[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(u),f(),n=new Array(u),p()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,s=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(u=+t,h):u},h.strength=function(t){return arguments.length?(l="function"==typeof t?t:hu(+t),f(),h):l},h.distance=function(t){return arguments.length?(c="function"==typeof t?t:hu(+t),p(),h):c},h}uu.copy=function(){var t,e,n=new lu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=cu(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=cu(e));return n},uu.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return ru(this.cover(e,n),e,n,t)},uu.addAll=function(t){var e,n,r,i,o=t.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)ru(this,s[n],a[n],t[n]);return this},uu.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s,a,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},uu.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},uu.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},uu.find=function(t,e,n){var r,i,o,s,a,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new iu(g,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>d||(o=l.y0)>f||(s=l.x1)<u||(a=l.y1)<h))if(g.length){var m=(i+s)/2,y=(o+a)/2;p.push(new iu(g[3],m,y,s,a),new iu(g[2],i,y,m,a),new iu(g[1],m,o,s,y),new iu(g[0],i,o,m,y)),(c=(e>=y)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var _=t-+this._x.call(null,g.data),v=e-+this._y.call(null,g.data),b=_*_+v*v;if(b<n){var x=Math.sqrt(n=b);u=t-x,h=e-x,d=t+x,f=e+x,r=g.data}}return r},uu.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,a,l,c,u,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(a=(p+m)/2))?p=a:m=a,(u=s>=(l=(g+y)/2))?g=l:y=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},uu.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},uu.root=function(){return this._root},uu.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},uu.visit=function(t){var e,n,r,i,o,s,a=[],l=this._root;for(l&&a.push(new iu(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&l.length){var c=(r+o)/2,u=(i+s)/2;(n=l[3])&&a.push(new iu(n,c,u,o,s)),(n=l[2])&&a.push(new iu(n,r,u,c,s)),(n=l[1])&&a.push(new iu(n,c,i,o,u)),(n=l[0])&&a.push(new iu(n,r,i,c,u))}return this},uu.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new iu(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,h=(a+c)/2;(o=i[0])&&n.push(new iu(o,s,a,u,h)),(o=i[1])&&n.push(new iu(o,u,a,l,h)),(o=i[2])&&n.push(new iu(o,s,h,u,c)),(o=i[3])&&n.push(new iu(o,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},uu.x=function(t){return arguments.length?(this._x=t,this):this._x},uu.y=function(t){return arguments.length?(this._y=t,this):this._y};const vu=1664525,bu=1013904223,xu=4294967296;function Su(t){return t.x}function wu(t){return t.y}var Eu=10,Tu=Math.PI*(3-Math.sqrt(5));function Cu(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=Io(h),c=Ce("tick","end"),u=function(){let t=1;return()=>(t=(vu*t+bu)%xu)/xu}();function h(){d(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function d(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,a.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=Eu*Math.sqrt(.5+n),o=n*Tu;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),a.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,a.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,r){var i,o,s,a,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(i=e-(a=t[c]).x)*i+(o=n-a.y)*o)<r&&(l=a,r=s);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function Mu(){var t,e,n,r,i,o=hu(-30),s=1,a=1/0,l=.81;function c(n){var i,o=t.length,s=au(t,Su,wu).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],s.visit(d)}function u(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,s,a=0,l=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function d(t,o,c,u){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,f=u-o,p=h*h+d*d;if(f*f/l<p)return p<a&&(0===h&&(p+=(h=du(n))*h),0===d&&(p+=(d=du(n))*d),p<s&&(p=Math.sqrt(s*p)),e.vx+=h*t.value*r/p,e.vy+=d*t.value*r/p),!0;if(!(t.length||p>=a)){(t.data!==e||t.next)&&(0===h&&(p+=(h=du(n))*h),0===d&&(p+=(d=du(n))*d),p<s&&(p=Math.sqrt(s*p)));do{t.data!==e&&(f=i[t.data.index]*r/p,e.vx+=h*f,e.vy+=d*f)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,u()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:hu(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}function Au(t,e,n){var r,i,o,s=hu(.1);function a(t){for(var s=0,a=r.length;s<a;++s){var l=r[s],c=l.x-e||1e-6,u=l.y-n||1e-6,h=Math.sqrt(c*c+u*u),d=(o[s]-h)*i[s]*t/h;l.vx+=c*d,l.vy+=u*d}}function l(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+s(r[e],e,r)}}return"function"!=typeof t&&(t=hu(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){r=t,l()},a.strength=function(t){return arguments.length?(s="function"==typeof t?t:hu(+t),l(),a):s},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:hu(+e),l(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a}function ku(t){var e,n,r,i=hu(.1);function o(t){for(var i,o=0,s=e.length;o<s;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=hu(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:hu(+t),s(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:hu(+e),s(),o):t},o}function Iu(t){var e,n,r,i=hu(.1);function o(t){for(var i,o=0,s=e.length;o<s;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=hu(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:hu(+t),s(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:hu(+e),s(),o):t},o}function Pu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ru(t){return(t=Pu(Math.abs(t)))?t[1]:NaN}var Ou,Nu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Du(t){if(!(e=Nu.exec(t)))throw new Error("invalid format: "+t);var e;return new $u({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function $u(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Lu(t,e){var n=Pu(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Du.prototype=$u.prototype,$u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Fu={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Lu(100*t,e),r:Lu,s:function(t,e){var n=Pu(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ou=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pu(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ju(t){return t}var Uu,Bu,zu,Gu=Array.prototype.map,Hu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wu(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ju:(e=Gu.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?ju:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Gu.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Du(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,_=t.type;"n"===_?(g=!0,_="g"):Fu[_]||(void 0===m&&(m=12),y=!0,_="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",b="$"===d?o:/[%p]/.test(_)?l:"",x=Fu[_],S=/[defgprs%]/.test(_);function w(t){var i,o,l,d=v,w=b;if("c"===_)w=x(t)+w,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==h&&(E=!1),d=(E?"("===h?h:c:"-"===h||"("===h?"":h)+d,w=("s"===_?Hu[8+Ou/3]:"")+w+(E&&"("===h?")":""),S)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){w=(46===l?s+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var T=d.length+t.length+w.length,C=T<p?new Array(p-T+1).join(e):"";switch(g&&f&&(t=r(C+t,C.length?p-w.length:1/0),C=""),n){case"<":t=d+t+w+C;break;case"=":t=d+C+t+w;break;case"^":t=C.slice(0,T=C.length>>1)+d+t+w+C.slice(T);break;default:t=C+d+t+w}return a(t)}return m=void 0===m?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return t+""},w}return{format:h,formatPrefix:function(t,e){var n=h(((t=Du(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ru(e)/3))),i=Math.pow(10,-r),o=Hu[8+r/3];return function(t){return n(i*t)+o}}}}function qu(t){return Uu=Wu(t),Bu=Uu.format,zu=Uu.formatPrefix,Uu}function Vu(t){return Math.max(0,-Ru(Math.abs(t)))}function Yu(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ru(e)/3)))-Ru(Math.abs(t)))}function Xu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ru(e)-Ru(t))+1}qu({thousands:",",grouping:[3],currency:["$",""]});var Ku=1e-6,Zu=1e-12,Ju=Math.PI,Qu=Ju/2,th=Ju/4,eh=2*Ju,nh=180/Ju,rh=Ju/180,ih=Math.abs,oh=Math.atan,sh=Math.atan2,ah=Math.cos,lh=Math.ceil,ch=Math.exp,uh=(Math.floor,Math.hypot),hh=Math.log,dh=Math.pow,fh=Math.sin,ph=Math.sign||function(t){return t>0?1:t<0?-1:0},gh=Math.sqrt,mh=Math.tan;function yh(t){return t>1?0:t<-1?Ju:Math.acos(t)}function _h(t){return t>1?Qu:t<-1?-Qu:Math.asin(t)}function vh(t){return(t=fh(t/2))*t}function bh(){}function xh(t,e){t&&wh.hasOwnProperty(t.type)&&wh[t.type](t,e)}var Sh={Feature:function(t,e){xh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)xh(n[r].geometry,e)}},wh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Eh(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Eh(n[r],e,0)},Polygon:function(t,e){Th(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Th(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)xh(n[r],e)}};function Eh(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Th(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Eh(t[n],e,1);e.polygonEnd()}function Ch(t,e){t&&Sh.hasOwnProperty(t.type)?Sh[t.type](t,e):xh(t,e)}var Mh,Ah,kh,Ih,Ph,Rh,Oh,Nh,Dh,$h,Lh,Fh,jh,Uh,Bh,zh,Gh=new k,Hh=new k,Wh={point:bh,lineStart:bh,lineEnd:bh,polygonStart:function(){Gh=new k,Wh.lineStart=qh,Wh.lineEnd=Vh},polygonEnd:function(){var t=+Gh;Hh.add(t<0?eh+t:t),this.lineStart=this.lineEnd=this.point=bh},sphere:function(){Hh.add(eh)}};function qh(){Wh.point=Yh}function Vh(){Xh(Mh,Ah)}function Yh(t,e){Wh.point=Xh,Mh=t,Ah=e,kh=t*=rh,Ih=ah(e=(e*=rh)/2+th),Ph=fh(e)}function Xh(t,e){var n=(t*=rh)-kh,r=n>=0?1:-1,i=r*n,o=ah(e=(e*=rh)/2+th),s=fh(e),a=Ph*s,l=Ih*o+a*ah(i),c=a*r*fh(i);Gh.add(sh(c,l)),kh=t,Ih=o,Ph=s}function Kh(t){return Hh=new k,Ch(t,Wh),2*Hh}function Zh(t){return[sh(t[1],t[0]),_h(t[2])]}function Jh(t){var e=t[0],n=t[1],r=ah(n);return[r*ah(e),r*fh(e),fh(n)]}function Qh(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function td(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ed(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function nd(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function rd(t){var e=gh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var id,od,sd,ad,ld,cd,ud,hd,dd,fd,pd,gd,md,yd,_d,vd,bd={point:xd,lineStart:wd,lineEnd:Ed,polygonStart:function(){bd.point=Td,bd.lineStart=Cd,bd.lineEnd=Md,Uh=new k,Wh.polygonStart()},polygonEnd:function(){Wh.polygonEnd(),bd.point=xd,bd.lineStart=wd,bd.lineEnd=Ed,Gh<0?(Rh=-(Nh=180),Oh=-(Dh=90)):Uh>Ku?Dh=90:Uh<-Ku&&(Oh=-90),zh[0]=Rh,zh[1]=Nh},sphere:function(){Rh=-(Nh=180),Oh=-(Dh=90)}};function xd(t,e){Bh.push(zh=[Rh=t,Nh=t]),e<Oh&&(Oh=e),e>Dh&&(Dh=e)}function Sd(t,e){var n=Jh([t*rh,e*rh]);if(jh){var r=td(jh,n),i=td([r[1],-r[0],0],r);rd(i),i=Zh(i);var o,s=t-$h,a=s>0?1:-1,l=i[0]*nh*a,c=ih(s)>180;c^(a*$h<l&&l<a*t)?(o=i[1]*nh)>Dh&&(Dh=o):c^(a*$h<(l=(l+360)%360-180)&&l<a*t)?(o=-i[1]*nh)<Oh&&(Oh=o):(e<Oh&&(Oh=e),e>Dh&&(Dh=e)),c?t<$h?Ad(Rh,t)>Ad(Rh,Nh)&&(Nh=t):Ad(t,Nh)>Ad(Rh,Nh)&&(Rh=t):Nh>=Rh?(t<Rh&&(Rh=t),t>Nh&&(Nh=t)):t>$h?Ad(Rh,t)>Ad(Rh,Nh)&&(Nh=t):Ad(t,Nh)>Ad(Rh,Nh)&&(Rh=t)}else Bh.push(zh=[Rh=t,Nh=t]);e<Oh&&(Oh=e),e>Dh&&(Dh=e),jh=n,$h=t}function wd(){bd.point=Sd}function Ed(){zh[0]=Rh,zh[1]=Nh,bd.point=xd,jh=null}function Td(t,e){if(jh){var n=t-$h;Uh.add(ih(n)>180?n+(n>0?360:-360):n)}else Lh=t,Fh=e;Wh.point(t,e),Sd(t,e)}function Cd(){Wh.lineStart()}function Md(){Td(Lh,Fh),Wh.lineEnd(),ih(Uh)>Ku&&(Rh=-(Nh=180)),zh[0]=Rh,zh[1]=Nh,jh=null}function Ad(t,e){return(e-=t)<0?e+360:e}function kd(t,e){return t[0]-e[0]}function Id(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Pd(t){var e,n,r,i,o,s,a;if(Dh=Nh=-(Rh=Oh=1/0),Bh=[],Ch(t,bd),n=Bh.length){for(Bh.sort(kd),e=1,o=[r=Bh[0]];e<n;++e)Id(r,(i=Bh[e])[0])||Id(r,i[1])?(Ad(r[0],i[1])>Ad(r[0],r[1])&&(r[1]=i[1]),Ad(i[0],r[1])>Ad(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(a=Ad(r[1],i[0]))>s&&(s=a,Rh=i[0],Nh=r[1])}return Bh=zh=null,Rh===1/0||Oh===1/0?[[NaN,NaN],[NaN,NaN]]:[[Rh,Oh],[Nh,Dh]]}var Rd={sphere:bh,point:Od,lineStart:Dd,lineEnd:Fd,polygonStart:function(){Rd.lineStart=jd,Rd.lineEnd=Ud},polygonEnd:function(){Rd.lineStart=Dd,Rd.lineEnd=Fd}};function Od(t,e){t*=rh;var n=ah(e*=rh);Nd(n*ah(t),n*fh(t),fh(e))}function Nd(t,e,n){++id,sd+=(t-sd)/id,ad+=(e-ad)/id,ld+=(n-ld)/id}function Dd(){Rd.point=$d}function $d(t,e){t*=rh;var n=ah(e*=rh);yd=n*ah(t),_d=n*fh(t),vd=fh(e),Rd.point=Ld,Nd(yd,_d,vd)}function Ld(t,e){t*=rh;var n=ah(e*=rh),r=n*ah(t),i=n*fh(t),o=fh(e),s=sh(gh((s=_d*o-vd*i)*s+(s=vd*r-yd*o)*s+(s=yd*i-_d*r)*s),yd*r+_d*i+vd*o);od+=s,cd+=s*(yd+(yd=r)),ud+=s*(_d+(_d=i)),hd+=s*(vd+(vd=o)),Nd(yd,_d,vd)}function Fd(){Rd.point=Od}function jd(){Rd.point=Bd}function Ud(){zd(gd,md),Rd.point=Od}function Bd(t,e){gd=t,md=e,t*=rh,e*=rh,Rd.point=zd;var n=ah(e);yd=n*ah(t),_d=n*fh(t),vd=fh(e),Nd(yd,_d,vd)}function zd(t,e){t*=rh;var n=ah(e*=rh),r=n*ah(t),i=n*fh(t),o=fh(e),s=_d*o-vd*i,a=vd*r-yd*o,l=yd*i-_d*r,c=uh(s,a,l),u=_h(c),h=c&&-u/c;dd.add(h*s),fd.add(h*a),pd.add(h*l),od+=u,cd+=u*(yd+(yd=r)),ud+=u*(_d+(_d=i)),hd+=u*(vd+(vd=o)),Nd(yd,_d,vd)}function Gd(t){id=od=sd=ad=ld=cd=ud=hd=0,dd=new k,fd=new k,pd=new k,Ch(t,Rd);var e=+dd,n=+fd,r=+pd,i=uh(e,n,r);return i<Zu&&(e=cd,n=ud,r=hd,od<Ku&&(e=sd,n=ad,r=ld),(i=uh(e,n,r))<Zu)?[NaN,NaN]:[sh(n,e)*nh,_h(r/i)*nh]}function Hd(t){return function(){return t}}function Wd(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function qd(t,e){return ih(t)>Ju&&(t-=Math.round(t/eh)*eh),[t,e]}function Vd(t,e,n){return(t%=eh)?e||n?Wd(Xd(t),Kd(e,n)):Xd(t):e||n?Kd(e,n):qd}function Yd(t){return function(e,n){return ih(e+=t)>Ju&&(e-=Math.round(e/eh)*eh),[e,n]}}function Xd(t){var e=Yd(t);return e.invert=Yd(-t),e}function Kd(t,e){var n=ah(t),r=fh(t),i=ah(e),o=fh(e);function s(t,e){var s=ah(e),a=ah(t)*s,l=fh(t)*s,c=fh(e),u=c*n+a*r;return[sh(l*i-u*o,a*n-c*r),_h(u*i+l*o)]}return s.invert=function(t,e){var s=ah(e),a=ah(t)*s,l=fh(t)*s,c=fh(e),u=c*i-l*o;return[sh(l*i+c*o,a*n+u*r),_h(u*n-a*r)]},s}function Zd(t){function e(e){return(e=t(e[0]*rh,e[1]*rh))[0]*=nh,e[1]*=nh,e}return t=Vd(t[0]*rh,t[1]*rh,t.length>2?t[2]*rh:0),e.invert=function(e){return(e=t.invert(e[0]*rh,e[1]*rh))[0]*=nh,e[1]*=nh,e},e}function Jd(t,e,n,r,i,o){if(n){var s=ah(e),a=fh(e),l=r*n;null==i?(i=e+r*eh,o=e-l/2):(i=Qd(s,i),o=Qd(s,o),(r>0?i<o:i>o)&&(i+=r*eh));for(var c,u=i;r>0?u>o:u<o;u-=l)c=Zh([s,-a*ah(u),-a*fh(u)]),t.point(c[0],c[1])}}function Qd(t,e){(e=Jh(e))[0]-=t,rd(e);var n=yh(-e[1]);return((-e[2]<0?-n:n)+eh-Ku)%eh}function tf(){var t,e,n=Hd([0,0]),r=Hd(90),i=Hd(2),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=nh,n[1]*=nh}};function s(){var s=n.apply(this,arguments),a=r.apply(this,arguments)*rh,l=i.apply(this,arguments)*rh;return t=[],e=Vd(-s[0]*rh,-s[1]*rh,0).invert,Jd(o,a,l,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:Hd([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(r="function"==typeof t?t:Hd(+t),s):r},s.precision=function(t){return arguments.length?(i="function"==typeof t?t:Hd(+t),s):i},s}function ef(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:bh,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function nf(t,e){return ih(t[0]-e[0])<Ku&&ih(t[1]-e[1])<Ku}function rf(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function of(t,e,n,r,i){var o,s,a=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(nf(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}s[0]+=2*Ku}a.push(n=new rf(r,t,null,!0)),l.push(n.o=new rf(r,null,n,!1)),a.push(n=new rf(s,t,null,!1)),l.push(n.o=new rf(s,null,n,!0))}})),a.length){for(l.sort(e),sf(a),sf(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var c,u,h=a[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,s=c.length;o<s;++o)i.point((u=c[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}}function sf(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function af(t){return ih(t[0])<=Ju?t[0]:ph(t[0])*((ih(t[0])+Ju)%eh-Ju)}function lf(t,e){var n=af(e),r=e[1],i=fh(r),o=[fh(n),-ah(n),0],s=0,a=0,l=new k;1===i?r=Qu+Ku:-1===i&&(r=-Qu-Ku);for(var c=0,u=t.length;c<u;++c)if(d=(h=t[c]).length)for(var h,d,f=h[d-1],p=af(f),g=f[1]/2+th,m=fh(g),y=ah(g),_=0;_<d;++_,p=b,m=S,y=w,f=v){var v=h[_],b=af(v),x=v[1]/2+th,S=fh(x),w=ah(x),E=b-p,T=E>=0?1:-1,C=T*E,M=C>Ju,A=m*S;if(l.add(sh(A*T*fh(C),y*w+A*ah(C))),s+=M?E+T*eh:E,M^p>=n^b>=n){var I=td(Jh(f),Jh(v));rd(I);var P=td(o,I);rd(P);var R=(M^E>=0?-1:1)*_h(P[2]);(r>R||r===R&&(I[0]||I[1]))&&(a+=M^E>=0?1:-1)}}return(s<-Ku||s<Ku&&l<-Zu)^1&a}function cf(t,e,n,r){return function(i){var o,s,a,l=e(i),c=ef(),u=e(c),h=!1,d={point:f,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=_,d.lineEnd=v,s=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=m,s=kt(s);var t=lf(o,r);s.length?(h||(i.polygonStart(),h=!0),of(s,hf,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),s=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function g(){d.point=p,l.lineStart()}function m(){d.point=f,l.lineEnd()}function y(t,e){a.push([t,e]),u.point(t,e)}function _(){u.lineStart(),a=[]}function v(){y(a[0][0],a[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),d=c.result(),f=d.length;if(a.pop(),o.push(a),a=null,f)if(1&l){if((e=(n=d[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),s.push(d.filter(uf))}return d}}function uf(t){return t.length>1}function hf(t,e){return((t=t.x)[0]<0?t[1]-Qu-Ku:Qu-t[1])-((e=e.x)[0]<0?e[1]-Qu-Ku:Qu-e[1])}qd.invert=qd;const df=cf((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Ju:-Ju,l=ih(o-n);ih(l-Ju)<Ku?(t.point(n,r=(r+s)/2>0?Qu:-Qu),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&l>=Ju&&(ih(n-i)<Ku&&(n-=i*Ku),ih(o-a)<Ku&&(o-=a*Ku),r=function(t,e,n,r){var i,o,s=fh(t-n);return ih(s)>Ku?oh((fh(e)*(o=ah(r))*fh(n)-fh(r)*(i=ah(e))*fh(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Qu,r.point(-Ju,i),r.point(0,i),r.point(Ju,i),r.point(Ju,0),r.point(Ju,-i),r.point(0,-i),r.point(-Ju,-i),r.point(-Ju,0),r.point(-Ju,i);else if(ih(t[0]-e[0])>Ku){var o=t[0]<e[0]?Ju:-Ju;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Ju,-Qu]);function ff(t){var e=ah(t),n=2*rh,r=e>0,i=ih(e)>Ku;function o(t,n){return ah(t)*ah(n)>e}function s(t,n,r){var i=[1,0,0],o=td(Jh(t),Jh(n)),s=Qh(o,o),a=o[0],l=s-a*a;if(!l)return!r&&t;var c=e*s/l,u=-e*a/l,h=td(i,o),d=nd(i,c);ed(d,nd(o,u));var f=h,p=Qh(d,f),g=Qh(f,f),m=p*p-g*(Qh(d,d)-1);if(!(m<0)){var y=gh(m),_=nd(f,(-p-y)/g);if(ed(_,d),_=Zh(_),!r)return _;var v,b=t[0],x=n[0],S=t[1],w=n[1];x<b&&(v=b,b=x,x=v);var E=x-b,T=ih(E-Ju)<Ku;if(!T&&w<S&&(v=S,S=w,w=v),T||E<Ku?T?S+w>0^_[1]<(ih(_[0]-b)<Ku?S:w):S<=_[1]&&_[1]<=w:E>Ju^(b<=_[0]&&_[0]<=x)){var C=nd(f,(-p+y)/g);return ed(C,d),[_,Zh(C)]}}}function a(e,n){var i=r?t:Ju-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return cf(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var f,p=[h,d],g=o(h,d),m=r?g?0:a(h,d):g?a(h+(h<0?Ju:-Ju),d):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(f=s(e,p))||nf(e,f)||nf(p,f))&&(p[2]=1),g!==l)u=0,g?(t.lineStart(),f=s(p,e),t.point(f[0],f[1])):(f=s(e,p),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(i&&e&&r^g){var y;m&n||!(y=s(p,e,!0))||(u=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&nf(e,p)||t.point(p[0],p[1]),e=p,l=g,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,r,i,o){Jd(o,t,n,i,e,r)}),r?[0,-t]:[-Ju,t-Ju])}var pf,gf,mf,yf,_f=1e9,vf=-_f;function bf(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,c){var u=0,h=0;if(null==i||(u=s(i,a))!==(h=s(o,a))||l(i,o)<0^a>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+a+4)%4)!==h);else c.point(o[0],o[1])}function s(r,i){return ih(r[0]-t)<Ku?i>0?0:3:ih(r[0]-n)<Ku?i>0?2:1:ih(r[1]-e)<Ku?i>0?1:0:i>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var l,c,u,h,d,f,p,g,m,y,_,v=s,b=ef(),x={point:S,lineStart:function(){x.point=w,c&&c.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(w(h,d),f&&m&&b.rejoin(),l.push(b.result()));x.point=S,m&&v.lineEnd()},polygonStart:function(){v=b,l=[],c=[],_=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,s,a=c[n],l=1,u=a.length,h=a[0],d=h[0],f=h[1];l<u;++l)o=d,s=f,d=(h=a[l])[0],f=h[1],s<=r?f>r&&(d-o)*(r-s)>(f-s)*(t-o)&&++e:f<=r&&(d-o)*(r-s)<(f-s)*(t-o)&&--e;return e}(),n=_&&e,i=(l=kt(l)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&of(l,a,e,o,s),s.polygonEnd());v=s,l=c=u=null}};function S(t,e){i(t,e)&&v.point(t,e)}function w(o,s){var a=i(o,s);if(c&&u.push([o,s]),y)h=o,d=s,f=a,y=!1,a&&(v.lineStart(),v.point(o,s));else if(a&&m)v.point(o,s);else{var l=[p=Math.max(vf,Math.min(_f,p)),g=Math.max(vf,Math.min(_f,g))],b=[o=Math.max(vf,Math.min(_f,o)),s=Math.max(vf,Math.min(_f,s))];!function(t,e,n,r,i,o){var s,a=t[0],l=t[1],c=0,u=1,h=e[0]-a,d=e[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<u&&(u=s)}else if(h>0){if(s>u)return;s>c&&(c=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>u)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<u&&(u=s)}if(s=r-l,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<u&&(u=s)}else if(d>0){if(s>u)return;s>c&&(c=s)}if(s=o-l,d||!(s<0)){if(s/=d,d<0){if(s>u)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<u&&(u=s)}return c>0&&(t[0]=a+c*h,t[1]=l+c*d),u<1&&(e[0]=a+u*h,e[1]=l+u*d),!0}}}}}(l,b,t,e,n,r)?a&&(v.lineStart(),v.point(o,s),_=!1):(m||(v.lineStart(),v.point(l[0],l[1])),v.point(b[0],b[1]),a||v.lineEnd(),_=!1)}p=o,g=s,m=a}return x}}function xf(){var t,e,n,r=0,i=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=bf(r,i,o,s)(e=n)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[r,i],[o,s]]}}}var Sf={sphere:bh,point:bh,lineStart:function(){Sf.point=Ef,Sf.lineEnd=wf},lineEnd:bh,polygonStart:bh,polygonEnd:bh};function wf(){Sf.point=Sf.lineEnd=bh}function Ef(t,e){gf=t*=rh,mf=fh(e*=rh),yf=ah(e),Sf.point=Tf}function Tf(t,e){t*=rh;var n=fh(e*=rh),r=ah(e),i=ih(t-gf),o=ah(i),s=r*fh(i),a=yf*n-mf*r*o,l=mf*n+yf*r*o;pf.add(sh(gh(s*s+a*a),l)),gf=t,mf=n,yf=r}function Cf(t){return pf=new k,Ch(t,Sf),+pf}var Mf=[null,null],Af={type:"LineString",coordinates:Mf};function kf(t,e){return Mf[0]=t,Mf[1]=e,Cf(Af)}var If={Feature:function(t,e){return Rf(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Rf(n[r].geometry,e))return!0;return!1}},Pf={Sphere:function(){return!0},Point:function(t,e){return Of(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Of(n[r],e))return!0;return!1},LineString:function(t,e){return Nf(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Nf(n[r],e))return!0;return!1},Polygon:function(t,e){return Df(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Df(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Rf(n[r],e))return!0;return!1}};function Rf(t,e){return!(!t||!Pf.hasOwnProperty(t.type))&&Pf[t.type](t,e)}function Of(t,e){return 0===kf(t,e)}function Nf(t,e){for(var n,r,i,o=0,s=t.length;o<s;o++){if(0===(r=kf(t[o],e)))return!0;if(o>0&&(i=kf(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Zu*i)return!0;n=r}return!1}function Df(t,e){return!!lf(t.map($f),Lf(e))}function $f(t){return(t=t.map(Lf)).pop(),t}function Lf(t){return[t[0]*rh,t[1]*rh]}function Ff(t,e){return(t&&If.hasOwnProperty(t.type)?If[t.type]:Rf)(t,e)}function jf(t,e,n){var r=Ot(t,e-Ku,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Uf(t,e,n){var r=Ot(t,e-Ku,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Bf(){var t,e,n,r,i,o,s,a,l,c,u,h,d=10,f=d,p=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return Ot(lh(r/p)*p,n,p).map(u).concat(Ot(lh(a/g)*g,s,g).map(h)).concat(Ot(lh(e/d)*d,t,d).filter((function(t){return ih(t%p)>Ku})).map(l)).concat(Ot(lh(o/f)*f,i,f).filter((function(t){return ih(t%g)>Ku})).map(c))}return y.lines=function(){return _().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(s).slice(1),u(n).reverse().slice(1),h(a).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],a=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),a>s&&(t=a,a=s,s=t),y.precision(m)):[[r,a],[n,s]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(m)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],y):[d,f]},y.precision=function(d){return arguments.length?(m=+d,l=jf(o,i,90),c=Uf(e,t,m),u=jf(a,s,90),h=Uf(r,n,m),y):m},y.extentMajor([[-180,-90+Ku],[180,90-Ku]]).extentMinor([[-180,-80-Ku],[180,80+Ku]])}function zf(){return Bf()()}function Gf(t,e){var n=t[0]*rh,r=t[1]*rh,i=e[0]*rh,o=e[1]*rh,s=ah(r),a=fh(r),l=ah(o),c=fh(o),u=s*ah(n),h=s*fh(n),d=l*ah(i),f=l*fh(i),p=2*_h(gh(vh(o-r)+s*l*vh(i-n))),g=fh(p),m=p?function(t){var e=fh(t*=p)/g,n=fh(p-t)/g,r=n*u+e*d,i=n*h+e*f,o=n*a+e*c;return[sh(i,r)*nh,sh(o,gh(r*r+i*i))*nh]}:function(){return[n*nh,r*nh]};return m.distance=p,m}const Hf=t=>t;var Wf,qf,Vf,Yf,Xf=new k,Kf=new k,Zf={point:bh,lineStart:bh,lineEnd:bh,polygonStart:function(){Zf.lineStart=Jf,Zf.lineEnd=ep},polygonEnd:function(){Zf.lineStart=Zf.lineEnd=Zf.point=bh,Xf.add(ih(Kf)),Kf=new k},result:function(){var t=Xf/2;return Xf=new k,t}};function Jf(){Zf.point=Qf}function Qf(t,e){Zf.point=tp,Wf=Vf=t,qf=Yf=e}function tp(t,e){Kf.add(Yf*t-Vf*e),Vf=t,Yf=e}function ep(){tp(Wf,qf)}const np=Zf;var rp=1/0,ip=rp,op=-rp,sp=op,ap={point:function(t,e){t<rp&&(rp=t);t>op&&(op=t);e<ip&&(ip=e);e>sp&&(sp=e)},lineStart:bh,lineEnd:bh,polygonStart:bh,polygonEnd:bh,result:function(){var t=[[rp,ip],[op,sp]];return op=sp=-(ip=rp=1/0),t}};const lp=ap;var cp,up,hp,dp,fp=0,pp=0,gp=0,mp=0,yp=0,_p=0,vp=0,bp=0,xp=0,Sp={point:wp,lineStart:Ep,lineEnd:Mp,polygonStart:function(){Sp.lineStart=Ap,Sp.lineEnd=kp},polygonEnd:function(){Sp.point=wp,Sp.lineStart=Ep,Sp.lineEnd=Mp},result:function(){var t=xp?[vp/xp,bp/xp]:_p?[mp/_p,yp/_p]:gp?[fp/gp,pp/gp]:[NaN,NaN];return fp=pp=gp=mp=yp=_p=vp=bp=xp=0,t}};function wp(t,e){fp+=t,pp+=e,++gp}function Ep(){Sp.point=Tp}function Tp(t,e){Sp.point=Cp,wp(hp=t,dp=e)}function Cp(t,e){var n=t-hp,r=e-dp,i=gh(n*n+r*r);mp+=i*(hp+t)/2,yp+=i*(dp+e)/2,_p+=i,wp(hp=t,dp=e)}function Mp(){Sp.point=wp}function Ap(){Sp.point=Ip}function kp(){Pp(cp,up)}function Ip(t,e){Sp.point=Pp,wp(cp=hp=t,up=dp=e)}function Pp(t,e){var n=t-hp,r=e-dp,i=gh(n*n+r*r);mp+=i*(hp+t)/2,yp+=i*(dp+e)/2,_p+=i,vp+=(i=dp*t-hp*e)*(hp+t),bp+=i*(dp+e),xp+=3*i,wp(hp=t,dp=e)}const Rp=Sp;function Op(t){this._context=t}Op.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,eh)}},result:bh};var Np,Dp,$p,Lp,Fp,jp=new k,Up={point:bh,lineStart:function(){Up.point=Bp},lineEnd:function(){Np&&zp(Dp,$p),Up.point=bh},polygonStart:function(){Np=!0},polygonEnd:function(){Np=null},result:function(){var t=+jp;return jp=new k,t}};function Bp(t,e){Up.point=zp,Dp=Lp=t,$p=Fp=e}function zp(t,e){Lp-=t,Fp-=e,jp.add(gh(Lp*Lp+Fp*Fp)),Lp=t,Fp=e}const Gp=Up;let Hp,Wp,qp,Vp;class Yp{constructor(t){this._append=null==t?Xp:function(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Xp;if(e!==Hp){const t=10**e;Hp=e,Wp=function(e){let n=1;this._+=e[0];for(const r=e.length;n<r;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return Wp}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==qp||this._append!==Wp){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,qp=t,Wp=this._append,Vp=this._,this._=e}this._+=Vp}}result(){const t=this._;return this._="",t.length?t:null}}function Xp(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Kp(t,e){let n,r,i=3,o=4.5;function s(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Ch(t,n(r))),r.result()}return s.area=function(t){return Ch(t,n(np)),np.result()},s.measure=function(t){return Ch(t,n(Gp)),Gp.result()},s.bounds=function(t){return Ch(t,n(lp)),lp.result()},s.centroid=function(t){return Ch(t,n(Rp)),Rp.result()},s.projection=function(e){return arguments.length?(n=null==e?(t=null,Hf):(t=e).stream,s):t},s.context=function(t){return arguments.length?(r=null==t?(e=null,new Yp(i)):new Op(e=t),"function"!=typeof o&&r.pointRadius(o),s):e},s.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),s):o},s.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);i=e}return null===e&&(r=new Yp(i)),s},s.projection(t).digits(i).context(e)}function Zp(t){return{stream:Jp(t)}}function Jp(t){return function(e){var n=new Qp;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Qp(){}function tg(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Ch(n,t.stream(lp)),e(lp.result()),null!=r&&t.clipExtent(r),t}function eg(t,e,n){return tg(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])}),n)}function ng(t,e,n){return eg(t,[[0,0],e],n)}function rg(t,e,n){return tg(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];t.scale(150*i).translate([o,s])}),n)}function ig(t,e,n){return tg(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],s=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,s])}),n)}Qp.prototype={constructor:Qp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var og=16,sg=ah(30*rh);function ag(t,e){return+e?function(t,e){function n(r,i,o,s,a,l,c,u,h,d,f,p,g,m){var y=c-r,_=u-i,v=y*y+_*_;if(v>4*e&&g--){var b=s+d,x=a+f,S=l+p,w=gh(b*b+x*x+S*S),E=_h(S/=w),T=ih(ih(S)-1)<Ku||ih(o-h)<Ku?(o+h)/2:sh(x,b),C=t(T,E),M=C[0],A=C[1],k=M-r,I=A-i,P=_*k-y*I;(P*P/v>e||ih((y*k+_*I)/v-.5)>.3||s*d+a*f+l*p<sg)&&(n(r,i,o,s,a,l,M,A,T,b/=w,x/=w,S,g,m),m.point(M,A),n(M,A,T,b,x,S,c,u,h,d,f,p,g,m))}}return function(e){var r,i,o,s,a,l,c,u,h,d,f,p,g={point:m,lineStart:y,lineEnd:v,polygonStart:function(){e.polygonStart(),g.lineStart=b},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){u=NaN,g.point=_,e.lineStart()}function _(r,i){var o=Jh([r,i]),s=t(r,i);n(u,h,c,d,f,p,u=s[0],h=s[1],c=r,d=o[0],f=o[1],p=o[2],og,e),e.point(u,h)}function v(){g.point=m,e.lineEnd()}function b(){y(),g.point=x,g.lineEnd=S}function x(t,e){_(r=t,e),i=u,o=h,s=d,a=f,l=p,g.point=_}function S(){n(u,h,c,d,f,p,i,o,r,s,a,l,og,e),g.lineEnd=v,v()}return g}}(t,e):function(t){return Jp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var lg=Jp({point:function(t,e){this.stream.point(t*rh,e*rh)}});function cg(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,s){return[e+t*(o*=r),n-t*(s*=i)]}return o.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},o}(t,e,n,r,i);var s=ah(o),a=fh(o),l=s*t,c=a*t,u=s/t,h=a/t,d=(a*n-s*e)/t,f=(a*e+s*n)/t;function p(t,o){return[l*(t*=r)-c*(o*=i)+e,n-c*t-l*o]}return p.invert=function(t,e){return[r*(u*t-h*e+d),i*(f-h*t-u*e)]},p}function ug(t){return hg((function(){return t}))()}function hg(t){var e,n,r,i,o,s,a,l,c,u,h=150,d=480,f=250,p=0,g=0,m=0,y=0,_=0,v=0,b=1,x=1,S=null,w=df,E=null,T=Hf,C=.5;function M(t){return l(t[0]*rh,t[1]*rh)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*nh,t[1]*nh]}function k(){var t=cg(h,0,0,b,x,v).apply(null,e(p,g)),r=cg(h,d-t[0],f-t[1],b,x,v);return n=Vd(m,y,_),a=Wd(e,r),l=Wd(n,a),s=ag(a,C),I()}function I(){return c=u=null,M}return M.stream=function(t){return c&&u===t?c:c=lg(function(t){return Jp({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(w(s(T(u=t)))))},M.preclip=function(t){return arguments.length?(w=t,S=void 0,I()):w},M.postclip=function(t){return arguments.length?(T=t,E=r=i=o=null,I()):T},M.clipAngle=function(t){return arguments.length?(w=+t?ff(S=t*rh):(S=null,df),I()):S*nh},M.clipExtent=function(t){return arguments.length?(T=null==t?(E=r=i=o=null,Hf):bf(E=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),I()):null==E?null:[[E,r],[i,o]]},M.scale=function(t){return arguments.length?(h=+t,k()):h},M.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],k()):[d,f]},M.center=function(t){return arguments.length?(p=t[0]%360*rh,g=t[1]%360*rh,k()):[p*nh,g*nh]},M.rotate=function(t){return arguments.length?(m=t[0]%360*rh,y=t[1]%360*rh,_=t.length>2?t[2]%360*rh:0,k()):[m*nh,y*nh,_*nh]},M.angle=function(t){return arguments.length?(v=t%360*rh,k()):v*nh},M.reflectX=function(t){return arguments.length?(b=t?-1:1,k()):b<0},M.reflectY=function(t){return arguments.length?(x=t?-1:1,k()):x<0},M.precision=function(t){return arguments.length?(s=ag(a,C=t*t),I()):gh(C)},M.fitExtent=function(t,e){return eg(M,t,e)},M.fitSize=function(t,e){return ng(M,t,e)},M.fitWidth=function(t,e){return rg(M,t,e)},M.fitHeight=function(t,e){return ig(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&A,k()}}function dg(t){var e=0,n=Ju/3,r=hg(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*rh,n=t[1]*rh):[e*nh,n*nh]},i}function fg(t,e){var n=fh(t),r=(n+fh(e))/2;if(ih(r)<Ku)return function(t){var e=ah(t);function n(t,n){return[t*e,fh(n)/e]}return n.invert=function(t,n){return[t/e,_h(n*e)]},n}(t);var i=1+n*(2*r-n),o=gh(i)/r;function s(t,e){var n=gh(i-2*r*fh(e))/r;return[n*fh(t*=r),o-n*ah(t)]}return s.invert=function(t,e){var n=o-e,s=sh(t,ih(n))*ph(n);return n*r<0&&(s-=Ju*ph(t)*ph(n)),[s/r,_h((i-(t*t+n*n)*r*r)/(2*r))]},s}function pg(){return dg(fg).scale(155.424).center([0,33.6442])}function gg(){return pg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function mg(){var t,e,n,r,i,o,s=gg(),a=pg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=pg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(r.point(e,s),o)||(i.point(e,s),o)}function h(){return t=e=null,u}return u.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:s).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[s.stream(e=n),a.stream(n),l.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(s.precision(t),a.precision(t),l.precision(t),h()):s.precision()},u.scale=function(t){return arguments.length?(s.scale(t),a.scale(.35*t),l.scale(t),u.translate(s.translate())):s.scale()},u.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],u=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(c),r=a.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+Ku,u+.12*e+Ku],[o-.214*e-Ku,u+.234*e-Ku]]).stream(c),i=l.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+Ku,u+.166*e+Ku],[o-.115*e-Ku,u+.234*e-Ku]]).stream(c),h()},u.fitExtent=function(t,e){return eg(u,t,e)},u.fitSize=function(t,e){return ng(u,t,e)},u.fitWidth=function(t,e){return rg(u,t,e)},u.fitHeight=function(t,e){return ig(u,t,e)},u.scale(1070)}function yg(t){return function(e,n){var r=ah(e),i=ah(n),o=t(r*i);return o===1/0?[2,0]:[o*i*fh(e),o*fh(n)]}}function _g(t){return function(e,n){var r=gh(e*e+n*n),i=t(r),o=fh(i),s=ah(i);return[sh(e*o,r*s),_h(r&&n*o/r)]}}var vg=yg((function(t){return gh(2/(1+t))}));function bg(){return ug(vg).scale(124.75).clipAngle(179.999)}vg.invert=_g((function(t){return 2*_h(t/2)}));var xg=yg((function(t){return(t=yh(t))&&t/fh(t)}));function Sg(){return ug(xg).scale(79.4188).clipAngle(179.999)}function wg(t,e){return[t,hh(mh((Qu+e)/2))]}function Eg(){return Tg(wg).scale(961/eh)}function Tg(t){var e,n,r,i=ug(t),o=i.center,s=i.scale,a=i.translate,l=i.clipExtent,c=null;function u(){var o=Ju*s(),a=i(Zd(i.rotate()).invert([0,0]));return l(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===wg?[[Math.max(a[0]-o,c),e],[Math.min(a[0]+o,n),r]]:[[c,Math.max(a[1]-o,e)],[n,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(s(t),u()):s()},i.translate=function(t){return arguments.length?(a(t),u()):a()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==c?null:[[c,e],[n,r]]},u()}function Cg(t){return mh((Qu+t)/2)}function Mg(t,e){var n=ah(t),r=t===e?fh(t):hh(n/ah(e))/hh(Cg(e)/Cg(t)),i=n*dh(Cg(t),r)/r;if(!r)return wg;function o(t,e){i>0?e<-Qu+Ku&&(e=-Qu+Ku):e>Qu-Ku&&(e=Qu-Ku);var n=i/dh(Cg(e),r);return[n*fh(r*t),i-n*ah(r*t)]}return o.invert=function(t,e){var n=i-e,o=ph(r)*gh(t*t+n*n),s=sh(t,ih(n))*ph(n);return n*r<0&&(s-=Ju*ph(t)*ph(n)),[s/r,2*oh(dh(i/o,1/r))-Qu]},o}function Ag(){return dg(Mg).scale(109.5).parallels([30,30])}function kg(t,e){return[t,e]}function Ig(){return ug(kg).scale(152.63)}function Pg(t,e){var n=ah(t),r=t===e?fh(t):(n-ah(e))/(e-t),i=n/r+t;if(ih(r)<Ku)return kg;function o(t,e){var n=i-e,o=r*t;return[n*fh(o),i-n*ah(o)]}return o.invert=function(t,e){var n=i-e,o=sh(t,ih(n))*ph(n);return n*r<0&&(o-=Ju*ph(t)*ph(n)),[o/r,i-ph(r)*gh(t*t+n*n)]},o}function Rg(){return dg(Pg).scale(131.154).center([0,13.9389])}xg.invert=_g((function(t){return t})),wg.invert=function(t,e){return[t,2*oh(ch(e))-Qu]},kg.invert=kg;var Og=1.340264,Ng=-.081106,Dg=893e-6,$g=.003796,Lg=gh(3)/2;function Fg(t,e){var n=_h(Lg*fh(e)),r=n*n,i=r*r*r;return[t*ah(n)/(Lg*(Og+3*Ng*r+i*(7*Dg+9*$g*r))),n*(Og+Ng*r+i*(Dg+$g*r))]}function jg(){return ug(Fg).scale(177.158)}function Ug(t,e){var n=ah(e),r=ah(t)*n;return[n*fh(t)/r,fh(e)/r]}function Bg(){return ug(Ug).scale(144.049).clipAngle(60)}function zg(){var t,e,n,r,i,o,s,a=1,l=0,c=0,u=1,h=1,d=0,f=null,p=1,g=1,m=Jp({point:function(t,e){var n=v([t,e]);this.stream.point(n[0],n[1])}}),y=Hf;function _(){return p=a*u,g=a*h,o=s=null,v}function v(n){var r=n[0]*p,i=n[1]*g;if(d){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+l,i+c]}return v.invert=function(n){var r=n[0]-l,i=n[1]-c;if(d){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/g]},v.stream=function(t){return o&&s===t?o:o=m(y(s=t))},v.postclip=function(t){return arguments.length?(y=t,f=n=r=i=null,_()):y},v.clipExtent=function(t){return arguments.length?(y=null==t?(f=n=r=i=null,Hf):bf(f=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),_()):null==f?null:[[f,n],[r,i]]},v.scale=function(t){return arguments.length?(a=+t,_()):a},v.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],_()):[l,c]},v.angle=function(n){return arguments.length?(e=fh(d=n%360*rh),t=ah(d),_()):d*nh},v.reflectX=function(t){return arguments.length?(u=t?-1:1,_()):u<0},v.reflectY=function(t){return arguments.length?(h=t?-1:1,_()):h<0},v.fitExtent=function(t,e){return eg(v,t,e)},v.fitSize=function(t,e){return ng(v,t,e)},v.fitWidth=function(t,e){return rg(v,t,e)},v.fitHeight=function(t,e){return ig(v,t,e)},v}function Gg(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Hg(){return ug(Gg).scale(175.295)}function Wg(t,e){return[ah(e)*fh(t),fh(e)]}function qg(){return ug(Wg).scale(249.5).clipAngle(90+Ku)}function Vg(t,e){var n=ah(e),r=1+ah(t)*n;return[n*fh(t)/r,fh(e)/r]}function Yg(){return ug(Vg).scale(250).clipAngle(142)}function Xg(t,e){return[hh(mh((Qu+e)/2)),-t]}function Kg(){var t=Tg(Xg),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Zg(t,e){return t.parent===e.parent?1:2}function Jg(t,e){return t+e.x}function Qg(t,e){return Math.max(t,e.y)}function tm(){var t=Zg,e=1,n=1,r=!1;function i(i){var o,s=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Jg,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Qg,0)}(n)):(e.x=o?s+=t(e,o):0,e.y=0,o=e)}));var a=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=a.x-t(a,l)/2,u=l.x+t(l,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function em(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function nm(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=im)):void 0===e&&(e=rm);for(var n,r,i,o,s,a=new am(t),l=[a];n=l.pop();)if((i=e(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)l.push(r=i[o]=new am(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(sm)}function rm(t){return t.children}function im(t){return Array.isArray(t)?t[1]:null}function om(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function sm(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function am(t){this.data=t,this.depth=this.height=0,this.parent=null}function lm(t){return null==t?null:cm(t)}function cm(t){if("function"!=typeof t)throw new Error;return t}function um(){return 0}function hm(t){return function(){return t}}Fg.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,s=0;s<12&&(o=(i=(r-=n=(r*(Og+Ng*i+o*(Dg+$g*i))-e)/(Og+3*Ng*i+o*(7*Dg+9*$g*i)))*r)*i*i,!(ih(n)<Zu));++s);return[Lg*t*(Og+3*Ng*i+o*(7*Dg+9*$g*i))/ah(r),_h(fh(r)/Lg)]},Ug.invert=_g(oh),Gg.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(ih(n)>Ku&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Wg.invert=_g(_h),Vg.invert=_g((function(t){return 2*oh(t)})),Xg.invert=function(t,e){return[-e,2*oh(ch(t))-Qu]},am.prototype=nm.prototype={constructor:am,count:function(){return this.eachAfter(em)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,s=[o],a=[],l=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(t.call(e,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return nm(this).eachBefore(om)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};const dm=1664525,fm=1013904223,pm=4294967296;function gm(){let t=1;return()=>(t=(dm*t+fm)%pm)/pm}function mm(t){return ym(t,gm())}function ym(t,e){for(var n,r,i=0,o=(t=function(t,e){let n,r,i=t.length;for(;i;)r=e()*i--|0,n=t[i],t[i]=t[r],t[r]=n;return t}(Array.from(t),e)).length,s=[];i<o;)n=t[i],r&&bm(r,n)?++i:(r=Sm(s=_m(s,n)),i=0);return r}function _m(t,e){var n,r;if(xm(e,t))return[e];for(n=0;n<t.length;++n)if(vm(e,t[n])&&xm(wm(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(vm(wm(t[n],t[r]),e)&&vm(wm(t[n],e),t[r])&&vm(wm(t[r],e),t[n])&&xm(Em(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function vm(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function bm(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function xm(t,e){for(var n=0;n<e.length;++n)if(!bm(t,e[n]))return!1;return!0}function Sm(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return wm(t[0],t[1]);case 3:return Em(t[0],t[1],t[2])}}function wm(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,s=e.y,a=e.r,l=o-n,c=s-r,u=a-i,h=Math.sqrt(l*l+c*c);return{x:(n+o+l/h*u)/2,y:(r+s+c/h*u)/2,r:(h+i+a)/2}}function Em(t,e,n){var r=t.x,i=t.y,o=t.r,s=e.x,a=e.y,l=e.r,c=n.x,u=n.y,h=n.r,d=r-s,f=r-c,p=i-a,g=i-u,m=l-o,y=h-o,_=r*r+i*i-o*o,v=_-s*s-a*a+l*l,b=_-c*c-u*u+h*h,x=f*p-d*g,S=(p*b-g*v)/(2*x)-r,w=(g*m-p*y)/x,E=(f*v-d*b)/(2*x)-i,T=(d*y-f*m)/x,C=w*w+T*T-1,M=2*(o+S*w+E*T),A=S*S+E*E-o*o,k=-(Math.abs(C)>1e-6?(M+Math.sqrt(M*M-4*C*A))/(2*C):A/M);return{x:r+S+w*k,y:i+E+T*k,r:k}}function Tm(t,e,n){var r,i,o,s,a=t.x-e.x,l=t.y-e.y,c=a*a+l*l;c?(i=e.r+n.r,i*=i,s=t.r+n.r,i>(s*=s)?(r=(c+s-i)/(2*c),o=Math.sqrt(Math.max(0,s/c-r*r)),n.x=t.x-r*a-o*l,n.y=t.y-r*l+o*a):(r=(c+i-s)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*a-o*l,n.y=e.y+r*l+o*a)):(n.x=e.x+n.r,n.y=e.y)}function Cm(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Mm(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Am(t){this._=t,this.next=null,this.previous=null}function km(t,e){if(!(o=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var n,r,i,o,s,a,l,c,u,h,d;if((n=t[0]).x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Tm(r,n,i=t[2]),n=new Am(n),r=new Am(r),i=new Am(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<o;++l){Tm(n._,r._,i=t[l]),i=new Am(i),c=r.next,u=n.previous,h=r._.r,d=n._.r;do{if(h<=d){if(Cm(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue t}h+=c._.r,c=c.next}else{if(Cm(u._,i._)){(n=u).next=r,r.previous=n,--l;continue t}d+=u._.r,u=u.previous}}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=Mm(n);(i=i.next)!==r;)(a=Mm(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=ym(n,e),l=0;l<o;++l)(n=t[l]).x-=i.x,n.y-=i.y;return i.r}function Im(t){return km(t,gm()),t}function Pm(t){return Math.sqrt(t.value)}function Rm(){var t=null,e=1,n=1,r=um;function i(i){const o=gm();return i.x=e/2,i.y=n/2,t?i.eachBefore(Om(t)).eachAfter(Nm(r,.5,o)).eachBefore(Dm(1)):i.eachBefore(Om(Pm)).eachAfter(Nm(um,1,o)).eachAfter(Nm(r,i.r/Math.min(e,n),o)).eachBefore(Dm(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=lm(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:hm(+t),i):r},i}function Om(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Nm(t,e,n){return function(r){if(i=r.children){var i,o,s,a=i.length,l=t(r)*e||0;if(l)for(o=0;o<a;++o)i[o].r+=l;if(s=km(i,n),l)for(o=0;o<a;++o)i[o].r-=l;r.r=s+l}}}function Dm(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function $m(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Lm(t,e,n,r,i){for(var o,s=t.children,a=-1,l=s.length,c=t.value&&(r-e)/t.value;++a<l;)(o=s[a]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function Fm(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&Lm(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,s=r.x1-n,a=r.y1-n;s<i&&(i=s=(i+s)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=s,r.y1=a}}(e,o)),r&&i.eachBefore($m),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var jm={depth:-1},Um={},Bm={};function zm(t){return t.id}function Gm(t){return t.parentId}function Hm(){var t,e=zm,n=Gm;function r(r){var i,o,s,a,l,c,u,h,d=Array.from(r),f=e,p=n,g=new Map;if(null!=t){const e=d.map(((e,n)=>function(t){t=`${t}`;let e=t.length;qm(t,e-1)&&!qm(t,e-2)&&(t=t.slice(0,-1));return"/"===t[0]?t:`/${t}`}(t(e,n,r)))),n=e.map(Wm),i=new Set(e).add("");for(const t of n)i.has(t)||(i.add(t),e.push(t),n.push(Wm(t)),d.push(Bm));f=(t,n)=>e[n],p=(t,e)=>n[e]}for(s=0,i=d.length;s<i;++s)o=d[s],c=d[s]=new am(o),null!=(u=f(o,s,r))&&(u+="")&&(h=c.id=u,g.set(h,g.has(h)?Um:c)),null!=(u=p(o,s,r))&&(u+="")&&(c.parent=u);for(s=0;s<i;++s)if(u=(c=d[s]).parent){if(!(l=g.get(u)))throw new Error("missing: "+u);if(l===Um)throw new Error("ambiguous: "+u);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(a)throw new Error("multiple roots");a=c}if(!a)throw new Error("no root");if(null!=t){for(;a.data===Bm&&1===a.children.length;)a=a.children[0],--i;for(let t=d.length-1;t>=0&&(c=d[t]).data===Bm;--t)c.data=null}if(a.parent=jm,a.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(sm),a.parent=null,i>0)throw new Error("cycle");return a}return r.id=function(t){return arguments.length?(e=lm(t),r):e},r.parentId=function(t){return arguments.length?(n=lm(t),r):n},r.path=function(e){return arguments.length?(t=lm(e),r):t},r}function Wm(t){let e=t.length;if(e<2)return"";for(;--e>1&&!qm(t,e););return t.slice(0,e)}function qm(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if(!(1&n))return!0}return!1}function Vm(t,e){return t.parent===e.parent?1:2}function Ym(t){var e=t.children;return e?e[0]:t.t}function Xm(t){var e=t.children;return e?e[e.length-1]:t.t}function Km(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Zm(t,e,n){return t.a.parent===e.parent?t.a:n}function Jm(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Qm(){var t=Vm,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,s=new Jm(t,0),a=[s];e=a.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(n=e.children[i]=new Jm(r[i],i)),n.parent=e;return(s.parent=new Jm(null,0)).children=[s],s}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),r)i.eachBefore(a);else{var c=i,u=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var d=c===u?1:t(c,u)/2,f=d-c.x,p=e/(u.x+d+f),g=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+f)*p,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,s=e,a=n,l=o.parent.children[0],c=o.m,u=s.m,h=a.m,d=l.m;a=Xm(a),o=Ym(o),a&&o;)l=Ym(l),(s=Xm(s)).a=e,(i=a.z+h-o.z-c+t(a._,o._))>0&&(Km(Zm(a,e,r),e,i),c+=i,u+=i),h+=a.m,c+=o.m,d+=l.m,u+=s.m;a&&!Xm(s)&&(s.t=a,s.m+=h-u),o&&!Ym(l)&&(l.t=o,l.m+=c-d,r=e)}return r}(e,i,e.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function ty(t,e,n,r,i){for(var o,s=t.children,a=-1,l=s.length,c=t.value&&(i-n)/t.value;++a<l;)(o=s[a]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}Jm.prototype=Object.create(am.prototype);var ey=(1+Math.sqrt(5))/2;function ny(t,e,n,r,i,o){for(var s,a,l,c,u,h,d,f,p,g,m,y=[],_=e.children,v=0,b=0,x=_.length,S=e.value;v<x;){l=i-n,c=o-r;do{u=_[b++].value}while(!u&&b<x);for(h=d=u,m=u*u*(g=Math.max(c/l,l/c)/(S*t)),p=Math.max(d/m,m/h);b<x;++b){if(u+=a=_[b].value,a<h&&(h=a),a>d&&(d=a),m=u*u*g,(f=Math.max(d/m,m/h))>p){u-=a;break}p=f}y.push(s={value:u,dice:l<c,children:_.slice(v,b)}),s.dice?Lm(s,n,r,i,S?r+=c*u/S:o):ty(s,n,r,S?n+=l*u/S:i,o),S-=u,v=b}return y}const ry=function t(e){function n(t,n,r,i,o){ny(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ey);function iy(){var t=ry,e=!1,n=1,r=1,i=[0],o=um,s=um,a=um,l=um,c=um;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore($m),t}function h(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,h=e.x1-n,d=e.y1-n;h<r&&(r=h=(r+h)/2),d<u&&(u=d=(u+d)/2),e.x0=r,e.y0=u,e.x1=h,e.y1=d,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,u+=s(e)-n,(h-=a(e)-n)<r&&(r=h=(r+h)/2),(d-=l(e)-n)<u&&(u=d=(u+d)/2),t(e,r,u,h,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=cm(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:hm(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:hm(+t),u):s},u.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:hm(+t),u):a},u.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:hm(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:hm(+t),u):c},u}function oy(t,e,n,r,i){var o,s,a=t.children,l=a.length,c=new Array(l+1);for(c[0]=s=o=0;o<l;++o)c[o+1]=s+=a[o].value;!function t(e,n,r,i,o,s,l){if(e>=n-1){var u=a[e];return u.x0=i,u.y0=o,u.x1=s,void(u.y1=l)}var h=c[e],d=r/2+h,f=e+1,p=n-1;for(;f<p;){var g=f+p>>>1;c[g]<d?f=g+1:p=g}d-c[f-1]<c[f]-d&&e+1<f&&--f;var m=c[f]-h,y=r-m;if(s-i>l-o){var _=r?(i*y+s*m)/r:s;t(e,f,m,i,o,_,l),t(f,n,y,_,o,s,l)}else{var v=r?(o*y+l*m)/r:l;t(e,f,m,i,o,s,v),t(f,n,y,i,v,s,l)}}(0,l,t.value,e,n,r,i)}function sy(t,e,n,r,i){(1&t.depth?ty:Lm)(t,e,n,r,i)}const ay=function t(e){function n(t,n,r,i,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,l,c,u,h=-1,d=s.length,f=t.value;++h<d;){for(l=(a=s[h]).children,c=a.value=0,u=l.length;c<u;++c)a.value+=l[c].value;a.dice?Lm(a,n,r,i,f?r+=(o-r)*a.value/f:o):ty(a,n,r,f?n+=(i-n)*a.value/f:i,o),f-=a.value}else t._squarify=s=ny(e,t,n,r,i,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ey);function ly(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function cy(t){for(var e,n,r=-1,i=t.length,o=0,s=0,a=t[i-1],l=0;++r<i;)e=a,a=t[r],l+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(l*=3),s/l]}function uy(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function hy(t,e){return t[0]-e[0]||t[1]-e[1]}function dy(t){const e=t.length,n=[0,1];let r,i=2;for(r=2;r<e;++r){for(;i>1&&uy(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function fy(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(hy),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=dy(r),s=dy(i),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+a;e<s.length-l;++e)c.push(t[r[s[e]][2]]);return c}function py(t,e){for(var n,r,i=t.length,o=t[i-1],s=e[0],a=e[1],l=o[0],c=o[1],u=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>a!=c>a&&s<(l-n)*(a-r)/(c-r)+n&&(u=!u),l=n,c=r;return u}function gy(t){for(var e,n,r=-1,i=t.length,o=t[i-1],s=o[0],a=o[1],l=0;++r<i;)e=s,n=a,e-=s=(o=t[r])[0],n-=a=o[1],l+=Math.hypot(e,n);return l}const my=Math.random,yy=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(my),_y=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(my),vy=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(my),by=function t(e){var n=vy.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(my),xy=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(my),Sy=function t(e){var n=xy.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(my),wy=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(my),Ey=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(my),Ty=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(my),Cy=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(my),My=function t(e){var n=vy.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),s=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),a=1+o*t}while(a<=0);a*=a*a;var l=1-e()}while(l>=1-.0331*t*t*t*t&&Math.log(l)>=.5*t*t+i*(1-a+Math.log(a)));return i*a*s()*r}}return r.source=t,r}(my),Ay=function t(e){var n=My.source(e);function r(t,e){var r=n(t),i=n(e);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(my),ky=function t(e){var n=Cy.source(e),r=Ay.source(e);function i(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var i=0,o=t,s=e;o*s>16&&o*(1-s)>16;){var a=Math.floor((o+1)*s),l=r(a,o-a+1)();l<=s?(i+=a,o-=a,s=(s-l)/(1-l)):(o=a-1,s/=l)}for(var c=s<.5,u=n(c?s:1-s),h=u(),d=0;h<=o;++d)h+=u();return i+(c?d:o-d)}}return i.source=t,i}(my),Iy=function t(e){function n(t,n,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-e()))}}return n.source=t,n}(my),Py=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(my),Ry=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(my),Oy=function t(e){var n=My.source(e),r=ky.source(e);function i(t){return function(){for(var i=0,o=t;o>16;){var s=Math.floor(.875*o),a=n(s)();if(a>o)return i+r(s-1,o/a)();i+=s,o-=a}for(var l=-Math.log1p(-e()),c=0;l<=o;++c)l-=Math.log1p(-e());return i+c}}return i.source=t,i}(my),Ny=1664525,Dy=1013904223,$y=1/4294967296;function Ly(t=Math.random()){let e=0|(0<=t&&t<1?t/$y:Math.abs(t));return()=>(e=Ny*e+Dy|0,$y*(e>>>0))}function Fy(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function jy(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Uy=Symbol("implicit");function By(){var t=new R,e=[],n=[],r=Uy;function i(i){let o=t.get(i);if(void 0===o){if(r!==Uy)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new R;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return By(e,n).unknown(r)},Fy.apply(i,arguments),i}function zy(){var t,e,n=By().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=s<o,d=h?s:o,f=h?o:s;t=(f-d)/Math.max(1,n-l+2*c),a&&(t=Math.floor(t)),d+=(f-d-t*(n-l))*u,e=t*(1-l),a&&(d=Math.round(d),e=Math.round(e));var p=Ot(n).map((function(e){return d+t*e}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,s]=t,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(t){return[o,s]=t,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return zy(r(),[o,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},Fy.apply(h(),arguments)}function Gy(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Gy(e())},t}function Hy(){return Gy(zy.apply(null,arguments).paddingInner(1))}function Wy(t){return+t}var qy=[0,1];function Vy(t){return t}function Yy(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Xy(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Yy(i,r),o=n(s,o)):(r=Yy(r,i),o=n(o,s)),function(t){return o(r(t))}}function Ky(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Yy(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=d(t,e,1,r)-1;return o[n](i[n](e))}}function Zy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jy(){var t,e,n,r,i,o,s=qy,a=qy,l=Wi,c=Vy;function u(){var t=Math.min(s.length,a.length);return c!==Vy&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),r=t>2?Ky:Xy,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(s.map(t),a,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(a,s.map(t),Ui)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,Wy),u()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),l=Yi,u()},h.clamp=function(t){return arguments.length?(c=!!t||Vy,u()):c!==Vy},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Qy(){return Jy()(Vy,Vy)}function t_(t,e,n,r){var i,o=ut(t,e,n);switch((r=Du(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Yu(o,s))||(r.precision=i),zu(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Xu(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Vu(o))||(r.precision=i-2*("%"===r.type))}return Bu(r)}function e_(t){var e=t.domain;return t.ticks=function(t){var n=e();return lt(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return t_(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=ct(l,c,n))===r)return o[s]=l,o[a]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function n_(){var t=Qy();return t.copy=function(){return Zy(t,n_())},Fy.apply(t,arguments),e_(t)}function r_(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Wy),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return r_(t).unknown(e)},t=arguments.length?Array.from(t,Wy):[0,1],e_(n)}function i_(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],s=t[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t}function o_(t){return Math.log(t)}function s_(t){return Math.exp(t)}function a_(t){return-Math.log(-t)}function l_(t){return-Math.exp(-t)}function c_(t){return isFinite(t)?+("1e"+t):t<0?0:t}function u_(t){return(e,n)=>-t(-e,n)}function h_(t){const e=t(o_,s_),n=e.domain;let r,i,o=10;function s(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?c_:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=u_(r),i=u_(i),t(a_,l_)):t(o_,s_),e}return e.base=function(t){return arguments.length?(o=+t,s()):o},e.domain=function(t){return arguments.length?(n(t),s()):n()},e.ticks=t=>{const e=n();let s=e[0],a=e[e.length-1];const l=a<s;l&&([s,a]=[a,s]);let c,u,h=r(s),d=r(a);const f=null==t?10:+t;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(c=1;c<o;++c)if(u=h<0?c/i(-h):c*i(h),!(u<s)){if(u>a)break;p.push(u)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<s)){if(u>a)break;p.push(u)}2*p.length<f&&(p=lt(s,a,f))}else p=lt(h,d,Math.min(d-h,f)).map(i);return l?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Du(n)).precision||(n.trim=!0),n=Bu(n)),t===1/0)return n;const s=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=s?n(t):""}},e.nice=()=>n(i_(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function d_(){const t=h_(Jy()).domain([1,10]);return t.copy=()=>Zy(t,d_()).base(t.base()),Fy.apply(t,arguments),t}function f_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function p_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function g_(t){var e=1,n=t(f_(e),p_(e));return n.constant=function(n){return arguments.length?t(f_(e=+n),p_(e)):e},e_(n)}function m_(){var t=g_(Jy());return t.copy=function(){return Zy(t,m_()).constant(t.constant())},Fy.apply(t,arguments)}function y_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function __(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function v_(t){return t<0?-t*t:t*t}function b_(t){var e=t(Vy,Vy),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(Vy,Vy):.5===n?t(__,v_):t(y_(n),y_(1/n)):n},e_(e)}function x_(){var t=b_(Jy());return t.copy=function(){return Zy(t,x_()).exponent(t.exponent())},Fy.apply(t,arguments),t}function S_(){return x_.apply(null,arguments).exponent(.5)}function w_(t){return Math.sign(t)*t*t}function E_(){var t,e=Qy(),n=[0,1],r=!1;function i(n){var i=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(w_(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,Wy)).map(w_)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return E_(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},Fy.apply(i,arguments),e_(i)}function T_(){var t,e=[],n=[],i=[];function o(){var t=0,r=Math.max(1,n.length);for(i=new Array(r-1);++t<r;)i[t-1]=St(e,t/r);return s}function s(e){return null==e||isNaN(e=+e)?t:n[d(i,e)]}return s.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(r),o()},s.range=function(t){return arguments.length?(n=Array.from(t),o()):n.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return i.slice()},s.copy=function(){return T_().domain(e).range(n).unknown(t)},Fy.apply(s,arguments)}function C_(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[d(i,e,0,r)]:t}function a(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return s}return s.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,a()):[e,n]},s.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,a()):o.slice()},s.invertExtent=function(t){var s=o.indexOf(t);return s<0?[NaN,NaN]:s<1?[e,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return C_().domain([e,n]).range(o).unknown(t)},Fy.apply(e_(s),arguments)}function M_(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[d(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return M_().domain(e).range(n).unknown(t)},Fy.apply(i,arguments)}const A_=new Date,k_=new Date;function I_(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;let a;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=n=>I_((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(A_.setTime(+e),k_.setTime(+r),t(A_),t(k_),Math.floor(n(A_,k_))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const P_=I_((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));P_.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?I_((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):P_:null);const R_=P_.range,O_=1e3,N_=6e4,D_=36e5,$_=864e5,L_=6048e5,F_=2592e6,j_=31536e6,U_=I_((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*O_)}),((t,e)=>(e-t)/O_),(t=>t.getUTCSeconds())),B_=U_.range,z_=I_((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*O_)}),((t,e)=>{t.setTime(+t+e*N_)}),((t,e)=>(e-t)/N_),(t=>t.getMinutes())),G_=z_.range,H_=I_((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*N_)}),((t,e)=>(e-t)/N_),(t=>t.getUTCMinutes())),W_=H_.range,q_=I_((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*O_-t.getMinutes()*N_)}),((t,e)=>{t.setTime(+t+e*D_)}),((t,e)=>(e-t)/D_),(t=>t.getHours())),V_=q_.range,Y_=I_((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*D_)}),((t,e)=>(e-t)/D_),(t=>t.getUTCHours())),X_=Y_.range,K_=I_((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*N_)/$_),(t=>t.getDate()-1)),Z_=K_.range,J_=I_((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/$_),(t=>t.getUTCDate()-1)),Q_=J_.range,tv=I_((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/$_),(t=>Math.floor(t/$_))),ev=tv.range;function nv(t){return I_((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*N_)/L_))}const rv=nv(0),iv=nv(1),ov=nv(2),sv=nv(3),av=nv(4),lv=nv(5),cv=nv(6),uv=rv.range,hv=iv.range,dv=ov.range,fv=sv.range,pv=av.range,gv=lv.range,mv=cv.range;function yv(t){return I_((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/L_))}const _v=yv(0),vv=yv(1),bv=yv(2),xv=yv(3),Sv=yv(4),wv=yv(5),Ev=yv(6),Tv=_v.range,Cv=vv.range,Mv=bv.range,Av=xv.range,kv=Sv.range,Iv=wv.range,Pv=Ev.range,Rv=I_((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth())),Ov=Rv.range,Nv=I_((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth())),Dv=Nv.range,$v=I_((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));$v.every=t=>isFinite(t=Math.floor(t))&&t>0?I_((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;const Lv=$v.range,Fv=I_((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));Fv.every=t=>isFinite(t=Math.floor(t))&&t>0?I_((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;const jv=Fv.range;function Uv(t,e,n,r,i,s){const a=[[U_,1,O_],[U_,5,5e3],[U_,15,15e3],[U_,30,3e4],[s,1,N_],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,D_],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,$_],[r,2,1728e5],[n,1,L_],[e,1,F_],[e,3,7776e6],[t,1,j_]];function l(e,n,r){const i=Math.abs(n-e)/r,s=o((([,,t])=>t)).right(a,i);if(s===a.length)return t.every(ut(e/j_,n/j_,r));if(0===s)return P_.every(Math.max(ut(e,n,r),1));const[l,c]=a[i/a[s-1][2]<a[s][2]/i?s-1:s];return l.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:l(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},l]}const[Bv,zv]=Uv(Fv,Nv,_v,tv,Y_,H_),[Gv,Hv]=Uv($v,Rv,rv,K_,q_,z_);function Wv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Yv(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=sb(i),u=ab(i),h=sb(o),d=ab(o),f=sb(s),p=ab(s),g=sb(a),m=ab(a),y=sb(l),_=ab(l),v={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Ab,e:Ab,f:Ob,g:Hb,G:qb,H:kb,I:Ib,j:Pb,L:Rb,m:Nb,M:Db,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:gx,s:mx,S:$b,u:Lb,U:Fb,V:Ub,w:Bb,W:zb,x:null,X:null,y:Gb,Y:Wb,Z:Vb,"%":px},b={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Yb,e:Yb,f:Qb,g:ux,G:dx,H:Xb,I:Kb,j:Zb,L:Jb,m:tx,M:ex,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:gx,s:mx,S:nx,u:rx,U:ix,V:sx,w:ax,W:lx,x:null,X:null,y:cx,Y:hx,Z:fx,"%":px},x={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:_b,e:_b,f:Eb,g:pb,G:fb,H:bb,I:bb,j:vb,L:wb,m:yb,M:xb,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:mb,Q:Cb,s:Mb,S:Sb,u:cb,U:ub,V:hb,w:lb,W:db,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:pb,Y:fb,Z:gb,"%":Tb};function S(t,e){return function(n){var r,i,o,s=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(i=tb[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),s.push(r),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function w(t,e){return function(n){var r,i,o=Vv(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=qv(Vv(o.y,0,1))).getUTCDay(),r=i>4||0===i?vv.ceil(r):vv(r),r=J_.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Wv(Vv(o.y,0,1))).getDay(),r=i>4||0===i?iv.ceil(r):iv(r),r=K_.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?qv(Vv(o.y,0,1)).getUTCDay():Wv(Vv(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qv(o)):Wv(o)}}function E(t,e,n,r){for(var i,o,s=0,a=e.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(i=e.charAt(s++),!(o=x[i in tb?e.charAt(s++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=S(n,v),v.X=S(r,v),v.c=S(e,v),b.x=S(n,b),b.X=S(r,b),b.c=S(e,b),{format:function(t){var e=S(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=S(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t+="",!0);return e.toString=function(){return t},e}}}var Xv,Kv,Zv,Jv,Qv,tb={"-":"",_:" ",0:"0"},eb=/^\s*\d+/,nb=/^%/,rb=/[\\^$*+?|[\]().{}]/g;function ib(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ob(t){return t.replace(rb,"\\$&")}function sb(t){return new RegExp("^(?:"+t.map(ob).join("|")+")","i")}function ab(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function lb(t,e,n){var r=eb.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cb(t,e,n){var r=eb.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ub(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hb(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function db(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function fb(t,e,n){var r=eb.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function pb(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gb(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mb(t,e,n){var r=eb.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function yb(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _b(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vb(t,e,n){var r=eb.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function bb(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xb(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Sb(t,e,n){var r=eb.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wb(t,e,n){var r=eb.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Eb(t,e,n){var r=eb.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tb(t,e,n){var r=nb.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Cb(t,e,n){var r=eb.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Mb(t,e,n){var r=eb.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ab(t,e){return ib(t.getDate(),e,2)}function kb(t,e){return ib(t.getHours(),e,2)}function Ib(t,e){return ib(t.getHours()%12||12,e,2)}function Pb(t,e){return ib(1+K_.count($v(t),t),e,3)}function Rb(t,e){return ib(t.getMilliseconds(),e,3)}function Ob(t,e){return Rb(t,e)+"000"}function Nb(t,e){return ib(t.getMonth()+1,e,2)}function Db(t,e){return ib(t.getMinutes(),e,2)}function $b(t,e){return ib(t.getSeconds(),e,2)}function Lb(t){var e=t.getDay();return 0===e?7:e}function Fb(t,e){return ib(rv.count($v(t)-1,t),e,2)}function jb(t){var e=t.getDay();return e>=4||0===e?av(t):av.ceil(t)}function Ub(t,e){return t=jb(t),ib(av.count($v(t),t)+(4===$v(t).getDay()),e,2)}function Bb(t){return t.getDay()}function zb(t,e){return ib(iv.count($v(t)-1,t),e,2)}function Gb(t,e){return ib(t.getFullYear()%100,e,2)}function Hb(t,e){return ib((t=jb(t)).getFullYear()%100,e,2)}function Wb(t,e){return ib(t.getFullYear()%1e4,e,4)}function qb(t,e){var n=t.getDay();return ib((t=n>=4||0===n?av(t):av.ceil(t)).getFullYear()%1e4,e,4)}function Vb(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ib(e/60|0,"0",2)+ib(e%60,"0",2)}function Yb(t,e){return ib(t.getUTCDate(),e,2)}function Xb(t,e){return ib(t.getUTCHours(),e,2)}function Kb(t,e){return ib(t.getUTCHours()%12||12,e,2)}function Zb(t,e){return ib(1+J_.count(Fv(t),t),e,3)}function Jb(t,e){return ib(t.getUTCMilliseconds(),e,3)}function Qb(t,e){return Jb(t,e)+"000"}function tx(t,e){return ib(t.getUTCMonth()+1,e,2)}function ex(t,e){return ib(t.getUTCMinutes(),e,2)}function nx(t,e){return ib(t.getUTCSeconds(),e,2)}function rx(t){var e=t.getUTCDay();return 0===e?7:e}function ix(t,e){return ib(_v.count(Fv(t)-1,t),e,2)}function ox(t){var e=t.getUTCDay();return e>=4||0===e?Sv(t):Sv.ceil(t)}function sx(t,e){return t=ox(t),ib(Sv.count(Fv(t),t)+(4===Fv(t).getUTCDay()),e,2)}function ax(t){return t.getUTCDay()}function lx(t,e){return ib(vv.count(Fv(t)-1,t),e,2)}function cx(t,e){return ib(t.getUTCFullYear()%100,e,2)}function ux(t,e){return ib((t=ox(t)).getUTCFullYear()%100,e,2)}function hx(t,e){return ib(t.getUTCFullYear()%1e4,e,4)}function dx(t,e){var n=t.getUTCDay();return ib((t=n>=4||0===n?Sv(t):Sv.ceil(t)).getUTCFullYear()%1e4,e,4)}function fx(){return"+0000"}function px(){return"%"}function gx(t){return+t}function mx(t){return Math.floor(+t/1e3)}function yx(t){return Xv=Yv(t),Kv=Xv.format,Zv=Xv.parse,Jv=Xv.utcFormat,Qv=Xv.utcParse,Xv}yx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var _x="%Y-%m-%dT%H:%M:%S.%LZ";var vx=Date.prototype.toISOString?function(t){return t.toISOString()}:Jv(_x);const bx=vx;var xx=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Qv(_x);const Sx=xx;function wx(t){return new Date(t)}function Ex(t){return t instanceof Date?+t:+new Date(+t)}function Tx(t,e,n,r,i,o,s,a,l,c){var u=Qy(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),_=c("%b %d"),v=c("%B"),b=c("%Y");function x(t){return(l(t)<t?f:a(t)<t?p:s(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?y:_:n(t)<t?v:b)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,Ex)):d().map(wx)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?x:c(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(i_(n,t)):u},u.copy=function(){return Zy(u,Tx(t,e,n,r,i,o,s,a,l,c))},u}function Cx(){return Fy.apply(Tx(Gv,Hv,$v,Rv,rv,K_,q_,z_,U_,Kv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mx(){return Fy.apply(Tx(Bv,zv,Fv,Nv,_v,J_,Y_,H_,U_,Jv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ax(){var t,e,n,r,i,o=0,s=1,a=Vy,l=!1;function c(e){return null==e||isNaN(e=+e)?i:a(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function u(t){return function(e){var n,r;return arguments.length?([n,r]=e,a=t(n,r),c):[a(0),a(1)]}}return c.domain=function(i){return arguments.length?([o,s]=i,t=r(o=+o),e=r(s=+s),n=t===e?0:1/(e-t),c):[o,s]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(a=t,c):a},c.range=u(Wi),c.rangeRound=u(Yi),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(s),n=t===e?0:1/(e-t),c}}function kx(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ix(){var t=e_(Ax()(Vy));return t.copy=function(){return kx(t,Ix())},jy.apply(t,arguments)}function Px(){var t=h_(Ax()).domain([1,10]);return t.copy=function(){return kx(t,Px()).base(t.base())},jy.apply(t,arguments)}function Rx(){var t=g_(Ax());return t.copy=function(){return kx(t,Rx()).constant(t.constant())},jy.apply(t,arguments)}function Ox(){var t=b_(Ax());return t.copy=function(){return kx(t,Ox()).exponent(t.exponent())},jy.apply(t,arguments)}function Nx(){return Ox.apply(null,arguments).exponent(.5)}function Dx(){var t=[],e=Vy;function n(n){if(null!=n&&!isNaN(n=+n))return e((d(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(r),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>xt(t,r/e)))},n.copy=function(){return Dx(e).domain(t)},jy.apply(n,arguments)}function $x(){var t,e,n,r,i,o,s,a=0,l=.5,c=1,u=1,h=Vy,d=!1;function f(t){return isNaN(t=+t)?s:(t=.5+((t=+o(t))-e)*(u*t<u*e?r:i),h(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=go(t,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(s){return arguments.length?([a,l,c]=s,t=o(a=+a),e=o(l=+l),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f):[a,l,c]},f.clamp=function(t){return arguments.length?(d=!!t,f):d},f.interpolator=function(t){return arguments.length?(h=t,f):h},f.range=p(Wi),f.rangeRound=p(Yi),f.unknown=function(t){return arguments.length?(s=t,f):s},function(s){return o=s,t=s(a),e=s(l),n=s(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f}}function Lx(){var t=e_($x()(Vy));return t.copy=function(){return kx(t,Lx())},jy.apply(t,arguments)}function Fx(){var t=h_($x()).domain([.1,1,10]);return t.copy=function(){return kx(t,Fx()).base(t.base())},jy.apply(t,arguments)}function jx(){var t=g_($x());return t.copy=function(){return kx(t,jx()).constant(t.constant())},jy.apply(t,arguments)}function Ux(){var t=b_($x());return t.copy=function(){return kx(t,Ux()).exponent(t.exponent())},jy.apply(t,arguments)}function Bx(){return Ux.apply(null,arguments).exponent(.5)}function zx(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}const Gx=zx("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Hx=zx("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Wx=zx("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),qx=zx("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Vx=zx("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Yx=zx("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Xx=zx("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Kx=zx("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Zx=zx("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Jx=zx("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Qx=zx("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),tS=t=>Oi(t[t.length-1]);var eS=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(zx);const nS=tS(eS);var rS=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(zx);const iS=tS(rS);var oS=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(zx);const sS=tS(oS);var aS=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(zx);const lS=tS(aS);var cS=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(zx);const uS=tS(cS);var hS=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(zx);const dS=tS(hS);var fS=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(zx);const pS=tS(fS);var gS=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(zx);const mS=tS(gS);var yS=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(zx);const _S=tS(yS);var vS=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(zx);const bS=tS(vS);var xS=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(zx);const SS=tS(xS);var wS=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(zx);const ES=tS(wS);var TS=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(zx);const CS=tS(TS);var MS=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(zx);const AS=tS(MS);var kS=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(zx);const IS=tS(kS);var PS=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(zx);const RS=tS(PS);var OS=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(zx);const NS=tS(OS);var DS=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(zx);const $S=tS(DS);var LS=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(zx);const FS=tS(LS);var jS=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(zx);const US=tS(jS);var BS=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(zx);const zS=tS(BS);var GS=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(zx);const HS=tS(GS);var WS=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(zx);const qS=tS(WS);var VS=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(zx);const YS=tS(VS);var XS=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(zx);const KS=tS(XS);var ZS=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(zx);const JS=tS(ZS);var QS=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(zx);const tw=tS(QS);function ew(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const nw=po(xi(300,.5,0),xi(-240,.5,1));var rw=po(xi(-100,.75,.35),xi(80,1.5,.8)),iw=po(xi(260,.75,.35),xi(80,1.5,.8)),ow=xi();function sw(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ow.h=360*t-100,ow.s=1.5-1.5*e,ow.l=.8-.9*e,ow+""}var aw=Pr(),lw=Math.PI/3,cw=2*Math.PI/3;function uw(t){var e;return t=(.5-t)*Math.PI,aw.r=255*(e=Math.sin(t))*e,aw.g=255*(e=Math.sin(t+lw))*e,aw.b=255*(e=Math.sin(t+cw))*e,aw+""}function hw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function dw(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const fw=dw(zx("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var pw=dw(zx("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gw=dw(zx("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),mw=dw(zx("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function yw(t){return function(){return t}}const _w=Math.abs,vw=Math.atan2,bw=Math.cos,xw=Math.max,Sw=Math.min,ww=Math.sin,Ew=Math.sqrt,Tw=1e-12,Cw=Math.PI,Mw=Cw/2,Aw=2*Cw;function kw(t){return t>=1?Mw:t<=-1?-Mw:Math.asin(t)}function Iw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new il(e)}function Pw(t){return t.innerRadius}function Rw(t){return t.outerRadius}function Ow(t){return t.startAngle}function Nw(t){return t.endAngle}function Dw(t){return t&&t.padAngle}function $w(t,e,n,r,i,o,s){var a=t-n,l=e-r,c=(s?o:-o)/Ew(a*a+l*l),u=c*l,h=-c*a,d=t+u,f=e+h,p=n+u,g=r+h,m=(d+p)/2,y=(f+g)/2,_=p-d,v=g-f,b=_*_+v*v,x=i-o,S=d*g-p*f,w=(v<0?-1:1)*Ew(xw(0,x*x*b-S*S)),E=(S*v-_*w)/b,T=(-S*_-v*w)/b,C=(S*v+_*w)/b,M=(-S*_+v*w)/b,A=E-m,k=T-y,I=C-m,P=M-y;return A*A+k*k>I*I+P*P&&(E=C,T=M),{cx:E,cy:T,x01:-u,y01:-h,x11:E*(i/x-1),y11:T*(i/x-1)}}function Lw(){var t=Pw,e=Rw,n=yw(0),r=null,i=Ow,o=Nw,s=Dw,a=null,l=Iw(c);function c(){var c,u,h=+t.apply(this,arguments),d=+e.apply(this,arguments),f=i.apply(this,arguments)-Mw,p=o.apply(this,arguments)-Mw,g=_w(p-f),m=p>f;if(a||(a=c=l()),d<h&&(u=d,d=h,h=u),d>Tw)if(g>Aw-Tw)a.moveTo(d*bw(f),d*ww(f)),a.arc(0,0,d,f,p,!m),h>Tw&&(a.moveTo(h*bw(p),h*ww(p)),a.arc(0,0,h,p,f,m));else{var y,_,v=f,b=p,x=f,S=p,w=g,E=g,T=s.apply(this,arguments)/2,C=T>Tw&&(r?+r.apply(this,arguments):Ew(h*h+d*d)),M=Sw(_w(d-h)/2,+n.apply(this,arguments)),A=M,k=M;if(C>Tw){var I=kw(C/h*ww(T)),P=kw(C/d*ww(T));(w-=2*I)>Tw?(x+=I*=m?1:-1,S-=I):(w=0,x=S=(f+p)/2),(E-=2*P)>Tw?(v+=P*=m?1:-1,b-=P):(E=0,v=b=(f+p)/2)}var R=d*bw(v),O=d*ww(v),N=h*bw(S),D=h*ww(S);if(M>Tw){var $,L=d*bw(b),F=d*ww(b),j=h*bw(x),U=h*ww(x);if(g<Cw)if($=function(t,e,n,r,i,o,s,a){var l=n-t,c=r-e,u=s-i,h=a-o,d=h*l-u*c;if(!(d*d<Tw))return[t+(d=(u*(e-o)-h*(t-i))/d)*l,e+d*c]}(R,O,j,U,L,F,N,D)){var B=R-$[0],z=O-$[1],G=L-$[0],H=F-$[1],W=1/ww(function(t){return t>1?0:t<-1?Cw:Math.acos(t)}((B*G+z*H)/(Ew(B*B+z*z)*Ew(G*G+H*H)))/2),q=Ew($[0]*$[0]+$[1]*$[1]);A=Sw(M,(h-q)/(W-1)),k=Sw(M,(d-q)/(W+1))}else A=k=0}E>Tw?k>Tw?(y=$w(j,U,R,O,d,k,m),_=$w(L,F,N,D,d,k,m),a.moveTo(y.cx+y.x01,y.cy+y.y01),k<M?a.arc(y.cx,y.cy,k,vw(y.y01,y.x01),vw(_.y01,_.x01),!m):(a.arc(y.cx,y.cy,k,vw(y.y01,y.x01),vw(y.y11,y.x11),!m),a.arc(0,0,d,vw(y.cy+y.y11,y.cx+y.x11),vw(_.cy+_.y11,_.cx+_.x11),!m),a.arc(_.cx,_.cy,k,vw(_.y11,_.x11),vw(_.y01,_.x01),!m))):(a.moveTo(R,O),a.arc(0,0,d,v,b,!m)):a.moveTo(R,O),h>Tw&&w>Tw?A>Tw?(y=$w(N,D,L,F,h,-A,m),_=$w(R,O,j,U,h,-A,m),a.lineTo(y.cx+y.x01,y.cy+y.y01),A<M?a.arc(y.cx,y.cy,A,vw(y.y01,y.x01),vw(_.y01,_.x01),!m):(a.arc(y.cx,y.cy,A,vw(y.y01,y.x01),vw(y.y11,y.x11),!m),a.arc(0,0,h,vw(y.cy+y.y11,y.cx+y.x11),vw(_.cy+_.y11,_.cx+_.x11),m),a.arc(_.cx,_.cy,A,vw(_.y11,_.x11),vw(_.y01,_.x01),!m))):a.arc(0,0,h,S,x,m):a.lineTo(N,D)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Cw/2;return[bw(r)*n,ww(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:yw(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:yw(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:yw(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:yw(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:yw(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:yw(+t),c):o},c.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:yw(+t),c):s},c.context=function(t){return arguments.length?(a=null==t?null:t,c):a},c}var Fw=Array.prototype.slice;function jw(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Uw(t){this._context=t}function Bw(t){return new Uw(t)}function zw(t){return t[0]}function Gw(t){return t[1]}function Hw(t,e){var n=yw(!0),r=null,i=Bw,o=null,s=Iw(a);function a(a){var l,c,u,h=(a=jw(a)).length,d=!1;for(null==r&&(o=i(u=s())),l=0;l<=h;++l)!(l<h&&n(c=a[l],l,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,l,a),+e(c,l,a));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?zw:yw(t),e="function"==typeof e?e:void 0===e?Gw:yw(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:yw(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:yw(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:yw(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function Ww(t,e,n){var r=null,i=yw(!0),o=null,s=Bw,a=null,l=Iw(c);function c(c){var u,h,d,f,p,g=(c=jw(c)).length,m=!1,y=new Array(g),_=new Array(g);for(null==o&&(a=s(p=l())),u=0;u<=g;++u){if(!(u<g&&i(f=c[u],u,c))===m)if(m=!m)h=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),d=u-1;d>=h;--d)a.point(y[d],_[d]);a.lineEnd(),a.areaEnd()}m&&(y[u]=+t(f,u,c),_[u]=+e(f,u,c),a.point(r?+r(f,u,c):y[u],n?+n(f,u,c):_[u]))}if(p)return a=null,p+""||null}function u(){return Hw().defined(i).curve(s).context(o)}return t="function"==typeof t?t:void 0===t?zw:yw(+t),e="function"==typeof e?e:yw(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?Gw:yw(+n),c.x=function(e){return arguments.length?(t="function"==typeof e?e:yw(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:yw(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:yw(+t),c):r},c.y=function(t){return arguments.length?(e="function"==typeof t?t:yw(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:yw(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:yw(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:yw(!!t),c):i},c.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),c):s},c.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),c):o},c}function qw(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Vw(t){return t}function Yw(){var t=Vw,e=qw,n=null,r=yw(0),i=yw(Aw),o=yw(0);function s(s){var a,l,c,u,h,d=(s=jw(s)).length,f=0,p=new Array(d),g=new Array(d),m=+r.apply(this,arguments),y=Math.min(Aw,Math.max(-Aw,i.apply(this,arguments)-m)),_=Math.min(Math.abs(y)/d,o.apply(this,arguments)),v=_*(y<0?-1:1);for(a=0;a<d;++a)(h=g[p[a]=a]=+t(s[a],a,s))>0&&(f+=h);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(s[t],s[e])})),a=0,c=f?(y-d*v)/f:0;a<d;++a,m=u)l=p[a],u=m+((h=g[l])>0?h*c:0)+v,g[l]={data:s[l],index:a,value:h,startAngle:m,endAngle:u,padAngle:_};return g}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:yw(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:yw(+t),s):r},s.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:yw(+t),s):i},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:yw(+t),s):o},s}Uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Xw=Zw(Bw);function Kw(t){this._curve=t}function Zw(t){function e(e){return new Kw(t(e))}return e._curve=t,e}function Jw(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Zw(t)):e()._curve},t}function Qw(){return Jw(Hw().curve(Xw))}function tE(){var t=Ww().curve(Xw),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Jw(n())},delete t.lineX0,t.lineEndAngle=function(){return Jw(r())},delete t.lineX1,t.lineInnerRadius=function(){return Jw(i())},delete t.lineY0,t.lineOuterRadius=function(){return Jw(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Zw(t)):e()._curve},t}function eE(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Kw.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};class nE{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}class rE{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=eE(this._x0,this._y0),r=eE(this._x0,this._y0=(this._y0+e)/2),i=eE(t,this._y0),o=eE(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}this._x0=t,this._y0=e}}function iE(t){return new nE(t,!0)}function oE(t){return new nE(t,!1)}function sE(t){return new rE(t)}function aE(t){return t.source}function lE(t){return t.target}function cE(t){let e=aE,n=lE,r=zw,i=Gw,o=null,s=null,a=Iw(l);function l(){let l;const c=Fw.call(arguments),u=e.apply(this,c),h=n.apply(this,c);if(null==o&&(s=t(l=a())),s.lineStart(),c[0]=u,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=h,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(r="function"==typeof t?t:yw(+t),l):r},l.y=function(t){return arguments.length?(i="function"==typeof t?t:yw(+t),l):i},l.context=function(e){return arguments.length?(null==e?o=s=null:s=t(o=e),l):o},l}function uE(){return cE(iE)}function hE(){return cE(oE)}function dE(){const t=cE(sE);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const fE=Ew(3),pE={draw(t,e){const n=.59436*Ew(e+Sw(e/28,.75)),r=n/2,i=r*fE;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},gE={draw(t,e){const n=Ew(e/Cw);t.moveTo(n,0),t.arc(0,0,n,0,Aw)}},mE={draw(t,e){const n=Ew(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},yE=Ew(1/3),_E=2*yE,vE={draw(t,e){const n=Ew(e/_E),r=n*yE;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bE={draw(t,e){const n=.62625*Ew(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},xE={draw(t,e){const n=.87559*Ew(e-Sw(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},SE={draw(t,e){const n=Ew(e),r=-n/2;t.rect(r,r,n,n)}},wE={draw(t,e){const n=.4431*Ew(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},EE=ww(Cw/10)/ww(7*Cw/10),TE=ww(Aw/10)*EE,CE=-bw(Aw/10)*EE,ME={draw(t,e){const n=Ew(.8908130915292852*e),r=TE*n,i=CE*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const o=Aw*e/5,s=bw(o),a=ww(o);t.lineTo(a*n,-s*n),t.lineTo(s*r-a*i,a*r+s*i)}t.closePath()}},AE=Ew(3),kE={draw(t,e){const n=-Ew(e/(3*AE));t.moveTo(0,2*n),t.lineTo(-AE*n,-n),t.lineTo(AE*n,-n),t.closePath()}},IE=Ew(3),PE={draw(t,e){const n=.6824*Ew(e),r=n/2,i=n*IE/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},RE=-.5,OE=Ew(3)/2,NE=1/Ew(12),DE=3*(NE/2+1),$E={draw(t,e){const n=Ew(e/DE),r=n/2,i=n*NE,o=r,s=n*NE+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(RE*r-OE*i,OE*r+RE*i),t.lineTo(RE*o-OE*s,OE*o+RE*s),t.lineTo(RE*a-OE*l,OE*a+RE*l),t.lineTo(RE*r+OE*i,RE*i-OE*r),t.lineTo(RE*o+OE*s,RE*s-OE*o),t.lineTo(RE*a+OE*l,RE*l-OE*a),t.closePath()}},LE={draw(t,e){const n=.6189*Ew(e-Sw(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},FE=[gE,mE,vE,SE,ME,kE,$E],jE=[gE,xE,LE,PE,pE,wE,bE];function UE(t,e){let n=null,r=Iw(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:yw(t||gE),e="function"==typeof e?e:yw(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"==typeof e?e:yw(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:yw(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}function BE(){}function zE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function GE(t){this._context=t}function HE(t){return new GE(t)}function WE(t){this._context=t}function qE(t){return new WE(t)}function VE(t){this._context=t}function YE(t){return new VE(t)}function XE(t,e){this._basis=new GE(t),this._beta=e}GE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zE(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},WE.prototype={areaStart:BE,areaEnd:BE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zE(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},VE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zE(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},XE.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],s=t[n]-i,a=e[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*s),this._beta*e[l]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const KE=function t(e){function n(t){return 1===e?new GE(t):new XE(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function ZE(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function JE(t,e){this._context=t,this._k=(1-e)/6}JE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ZE(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ZE(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const QE=function t(e){function n(t){return new JE(t,e)}return n.tension=function(e){return t(+e)},n}(0);function tT(t,e){this._context=t,this._k=(1-e)/6}tT.prototype={areaStart:BE,areaEnd:BE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ZE(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const eT=function t(e){function n(t){return new tT(t,e)}return n.tension=function(e){return t(+e)},n}(0);function nT(t,e){this._context=t,this._k=(1-e)/6}nT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ZE(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const rT=function t(e){function n(t){return new nT(t,e)}return n.tension=function(e){return t(+e)},n}(0);function iT(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>Tw){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Tw){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function oT(t,e){this._context=t,this._alpha=e}oT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:iT(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const sT=function t(e){function n(t){return e?new oT(t,e):new JE(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function aT(t,e){this._context=t,this._alpha=e}aT.prototype={areaStart:BE,areaEnd:BE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:iT(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const lT=function t(e){function n(t){return e?new aT(t,e):new tT(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function cT(t,e){this._context=t,this._alpha=e}cT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iT(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const uT=function t(e){function n(t){return e?new cT(t,e):new nT(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function hT(t){this._context=t}function dT(t){return new hT(t)}function fT(t){return t<0?-1:1}function pT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(fT(o)+fT(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function gT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mT(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function yT(t){this._context=t}function _T(t){this._context=new vT(t)}function vT(t){this._context=t}function bT(t){return new yT(t)}function xT(t){return new _T(t)}function ST(t){this._context=t}function wT(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ET(t){return new ST(t)}function TT(t,e){this._context=t,this._t=e}function CT(t){return new TT(t,.5)}function MT(t){return new TT(t,0)}function AT(t){return new TT(t,1)}function kT(t,e){if((i=t.length)>1)for(var n,r,i,o=1,s=t[e[0]],a=s.length;o<i;++o)for(r=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function IT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function PT(t,e){return t[e]}function RT(t){const e=[];return e.key=t,e}function OT(){var t=yw([]),e=IT,n=kT,r=PT;function i(i){var o,s,a=Array.from(t.apply(this,arguments),RT),l=a.length,c=-1;for(const t of i)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(t,a[o].key,c,i)]).data=t;for(o=0,s=jw(e(a));o<l;++o)a[s[o]].index=o;return n(a,s),a}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:yw(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:yw(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?IT:"function"==typeof t?t:yw(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?kT:t,i):n},i}function NT(t,e){if((r=t.length)>0){for(var n,r,i,o=0,s=t[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}kT(t,e)}}function DT(t,e){if((a=t.length)>0)for(var n,r,i,o,s,a,l=0,c=t[e[0]].length;l<c;++l)for(o=s=0,n=0;n<a;++n)(i=(r=t[e[n]][l])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)}function $T(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var s=0,a=0;s<n;++s)a+=t[s][r][1]||0;i[r][1]+=i[r][0]=-a/2}kT(t,e)}}function LT(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var a=0,l=0,c=0;a<i;++a){for(var u=t[e[a]],h=u[s][1]||0,d=(h-(u[s-1][1]||0))/2,f=0;f<a;++f){var p=t[e[f]];d+=(p[s][1]||0)-(p[s-1][1]||0)}l+=h,c+=d*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,kT(t,e)}}function FT(t){var e=t.map(jT);return IT(t).sort((function(t,n){return e[t]-e[n]}))}function jT(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function UT(t){var e=t.map(BT);return IT(t).sort((function(t,n){return e[t]-e[n]}))}function BT(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function zT(t){return UT(t).reverse()}function GT(t){var e,n,r=t.length,i=t.map(BT),o=FT(t),s=0,a=0,l=[],c=[];for(e=0;e<r;++e)n=o[e],s<a?(s+=i[n],l.push(n)):(a+=i[n],c.push(n));return c.reverse().concat(l)}function HT(t){return IT(t).reverse()}hT.prototype={areaStart:BE,areaEnd:BE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},yT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mT(this,this._t0,gT(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mT(this,gT(this,n=pT(this,t,e)),n);break;default:mT(this,this._t0,n=pT(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(_T.prototype=Object.create(yT.prototype)).point=function(t,e){yT.prototype.point.call(this,e,t)},vT.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=wT(t),i=wT(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},TT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};const WT=t=>()=>t;function qT(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function VT(t,e,n){this.k=t,this.x=e,this.y=n}VT.prototype={constructor:VT,scale:function(t){return 1===t?this:new VT(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new VT(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var YT=new VT(1,0,0);function XT(t){for(;!t.__zoom;)if(!(t=t.parentNode))return YT;return t.__zoom}function KT(t){t.stopImmediatePropagation()}function ZT(t){t.preventDefault(),t.stopImmediatePropagation()}function JT(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function QT(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function tC(){return this.__zoom||YT}function eC(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function nC(){return navigator.maxTouchPoints||"ontouchstart"in this}function rC(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function iC(){var t,e,n,r=JT,i=QT,o=rC,s=eC,a=nC,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=ro,d=Ce("start","zoom","end"),f=0,p=10;function g(t){t.property("__zoom",tC).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",w).on("dblclick.zoom",E).filter(a).on("touchstart.zoom",T).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new VT(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new VT(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,e,n,r){t.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,s=b(t,o).event(r),a=i.apply(t,o),l=null==n?_(a):"function"==typeof n?n.apply(t,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=t.__zoom,d="function"==typeof e?e.apply(t,o):e,f=h(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(t){if(1===t)t=d;else{var e=f(t),n=c/e[2];t=new VT(n,l[0]-e[0]*n,l[1]-e[1]*n)}s.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function S(t,...e){if(r.apply(this,arguments)){var n=b(this,e).event(t),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=Vn(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],Vo(this),n.start()}ZT(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",o(y(m(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function w(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,s=b(this,e,!0).event(t),a=Bn(t.view).on("mousemove.zoom",(function(t){if(ZT(t),!s.moved){var e=t.clientX-u,n=t.clientY-h;s.moved=e*e+n*n>f}s.event(t).zoom("mouse",o(y(s.that.__zoom,s.mouse[0]=Vn(t,i),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(t){a.on("mousemove.zoom mouseup.zoom",null),er(t.view,s.moved),ZT(t),s.event(t).end()}),!0),l=Vn(t,i),u=t.clientX,h=t.clientY;tr(t.view),KT(t),s.mouse=[l,this.__zoom.invert(l)],Vo(this),s.start()}}function E(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,s=Vn(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),l=n.k*(t.shiftKey?.5:2),h=o(y(m(n,l),s,a),i.apply(this,e),c);ZT(t),u>0?Bn(this).transition().duration(u).call(v,h,s,t):Bn(this).call(g.transform,h,s,t)}}function T(n,...i){if(r.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,h=b(this,i,n.changedTouches.length===u).event(n);for(KT(n),s=0;s<u;++s)l=[l=Vn(a=c[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),500)),Vo(this),h.start())}}function C(t,...e){if(this.__zooming){var n,r,i,s,a=b(this,e).event(t),l=t.changedTouches,u=l.length;for(ZT(t),n=0;n<u;++n)i=Vn(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],d=a.touch0[1],f=a.touch1[0],p=a.touch1[1],g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g,_=(_=p[0]-d[0])*_+(_=p[1]-d[1])*_;r=m(r,Math.sqrt(g/_)),i=[(h[0]+f[0])/2,(h[1]+f[1])/2],s=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(y(r,i,s),a.extent,c))}}function M(t,...r){if(this.__zooming){var i,o,s=b(this,r).event(t),a=t.changedTouches,l=a.length;for(KT(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=Vn(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<p)){var c=Bn(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",tC),t!==i?v(t,e,n,r):i.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?_(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return o(y(m(r,l),s,a),t,c)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},g.translateTo=function(t,e,n,r,s){g.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==r?_(t):"function"==typeof r?r.apply(this,arguments):r;return o(YT.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,s)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Bn(this.that).datum();d.call(t,this.that,new qT(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:d}),e)}},g.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:WT(+t),g):s},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:WT(!!t),g):r},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:WT(!!t),g):a},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:WT([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],g):[l[0],l[1]]},g.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(u=+t,g):u},g.interpolate=function(t){return arguments.length?(h=t,g):h},g.on=function(){var t=d.on.apply(d,arguments);return t===d?g:t},g.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,g):Math.sqrt(f)},g.tapDistance=function(t){return arguments.length?(p=+t,g):p},g}XT.prototype=VT.prototype},5279:(t,e,n)=>{"use strict";var r,i;n.r(e),r=void 0,i=function(t,e,n,r,i,o,s,a,l,c,u,h,d,f,p,g,m,y,_,v,b,x,S,w,E,T,C,M,A,k,I,P,R,O,N,D){function $(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var L=$(e),F=$(n),j=$(r),U=$(i),B=$(o),z=$(s),G=$(a),H=$(u),W=$(f),q=$(p),V=$(g),Y=$(m),X=$(y),K=$(_),Z=$(v),J=$(b),Q=$(x),tt=$(S),et=$(w),nt=$(E),rt=$(T),it=$(C),ot=$(M),st=$(A),at=$(N),lt=$(D);function ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ut,ht={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function dt(t){return(t=Math.round(t))<0?0:t>255?255:t}function ft(t){return t<0?0:t>1?1:t}function pt(t){return"%"===t[t.length-1]?dt(parseFloat(t)/100*255):dt(parseInt(t))}function gt(t){return"%"===t[t.length-1]?ft(parseFloat(t)/100):ft(parseFloat(t))}function mt(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{ut={}.parseCSSColor=function(t){var e,n=t.replace(/ /g,"").toLowerCase();if(n in ht)return ht[n].slice();if("#"===n[0])return 4===n.length?(e=parseInt(n.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===n.length&&(e=parseInt(n.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var o=n.substr(0,r),s=n.substr(r+1,i-(r+1)).split(","),a=1;switch(o){case"rgba":if(4!==s.length)return null;a=gt(s.pop());case"rgb":return 3!==s.length?null:[pt(s[0]),pt(s[1]),pt(s[2]),a];case"hsla":if(4!==s.length)return null;a=gt(s.pop());case"hsl":if(3!==s.length)return null;var l=(parseFloat(s[0])%360+360)%360/360,c=gt(s[1]),u=gt(s[2]),h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h;return[dt(255*mt(d,h,l+1/3)),dt(255*mt(d,h,l)),dt(255*mt(d,h,l-1/3)),a];default:return null}}return null}}catch(t){}class yt{constructor(t,e,n,r=1){this.r=t,this.g=e,this.b=n,this.a=r}static parse(t){if(!t)return;if(t instanceof yt)return t;if("string"!=typeof t)return;const e=ut(t);return e?new yt(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,n,r]=this.toArray();return`rgba(${Math.round(t)},${Math.round(e)},${Math.round(n)},${r})`}toArray(){const{r:t,g:e,b:n,a:r}=this;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*n/r,r]}toArray01(){const{r:t,g:e,b:n,a:r}=this;return 0===r?[0,0,0,0]:[t/r,e/r,n/r,r]}toArray01PremultipliedAlpha(){const{r:t,g:e,b:n,a:r}=this;return[t,e,n,r]}}yt.black=new yt(0,0,0,1),yt.white=new yt(1,1,1,1),yt.transparent=new yt(0,0,0,0),yt.red=new yt(1,0,0,1),yt.blue=new yt(0,0,1,1);var _t=yt;function vt(t){return"object"==typeof t?["literal",t]:t}function bt(t){switch(t.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function xt(t,e){const n=vt((r=t.default,i=e.default,void 0!==r?r:void 0!==i?i:void 0));var r,i;return void 0===n&&"resolvedImage"===e.type?"":n}function St(t,e,n){const r=Tt(t,e),i=["get",t.property];if("categorical"===r&&"boolean"==typeof n[0][0]){const r=["case"];for(const t of n)r.push(["==",i,t[0]],t[1]);return r.push(xt(t,e)),r}if("categorical"===r){const r=["match",i];for(const t of n)Et(r,t[0],t[1],!1);return r.push(xt(t,e)),r}if("interval"===r){const e=["step",["number",i]];for(const t of n)Et(e,t[0],t[1],!0);return wt(e),void 0===t.default?e:["case",["==",["typeof",i],"number"],e,vt(t.default)]}if("exponential"===r){const e=void 0!==t.base?t.base:1,r=[bt(t),1===e?["linear"]:["exponential",e],["number",i]];for(const t of n)Et(r,t[0],t[1],!1);return void 0===t.default?r:["case",["==",["typeof",i],"number"],r,vt(t.default)]}throw new Error(`Unknown property function type ${r}`)}function wt(t){"step"===t[0]&&3===t.length&&(t.push(0),t.push(t[3]))}function Et(t,e,n,r){t.length>3&&e===t[t.length-2]||(r&&2===t.length||t.push(e),t.push(n))}function Tt(t,e){return t.type?t.type:e.expression.interpolated?"exponential":"interval"}function Ct(t){const e=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(t);null!==i;i=n.exec(t)){const o=t.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(1===e.length)return t;if(r<t.length)e.push(t.slice(r));else if(2===e.length)return["to-string",e[1]];return e}class Mt extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}var At=Mt;class kt{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[t,n]of e)this.bindings[t]=n}concat(t){return new kt(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var It=kt;const Pt={kind:"null"},Rt={kind:"number"},Ot={kind:"string"},Nt={kind:"boolean"},Dt={kind:"color"},$t={kind:"object"},Lt={kind:"value"},Ft={kind:"collator"},jt={kind:"formatted"},Ut={kind:"resolvedImage"};function Bt(t,e){return{kind:"array",itemType:t,N:e}}function zt(t){if("array"===t.kind){const e=zt(t.itemType);return"number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const Gt=[Pt,Rt,Ot,Nt,Dt,jt,$t,Bt(Lt),Ut];function Ht(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Ht(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of Gt)if(!Ht(t,e))return null}return`Expected ${zt(t)} but found ${zt(e)} instead.`}function Wt(t,e){return e.some((e=>e.kind===t.kind))}function qt(t,e){return e.some((e=>"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t))}class Vt{constructor(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Yt{constructor(t,e,n,r,i){this.text=t.normalize?t.normalize():t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=i}}class Xt{constructor(t){this.sections=t}static fromString(t){return new Xt([new Yt(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.name.length))}static factory(t){return t instanceof Xt?t:Xt.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map((t=>t.text)).join("")}serialize(){const t=["format"];for(const e of this.sections){if(e.image){t.push(["image",e.image.name]);continue}t.push(e.text);const n={};e.fontStack&&(n["text-font"]=["literal",e.fontStack.split(",")]),e.scale&&(n["font-scale"]=e.scale),e.textColor&&(n["text-color"]=["rgba"].concat(e.textColor.toArray())),t.push(n)}return t}}class Kt{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new Kt({name:t,available:!1}):null}serialize(){return["image",this.name]}}function Zt(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[t,e,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Jt(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof _t)return!0;if(t instanceof Vt)return!0;if(t instanceof Xt)return!0;if(t instanceof Kt)return!0;if(Array.isArray(t)){for(const e of t)if(!Jt(e))return!1;return!0}if("object"==typeof t){for(const e in t)if(!Jt(t[e]))return!1;return!0}return!1}function Qt(t){if(null===t)return Pt;if("string"==typeof t)return Ot;if("boolean"==typeof t)return Nt;if("number"==typeof t)return Rt;if(t instanceof _t)return Dt;if(t instanceof Vt)return Ft;if(t instanceof Xt)return jt;if(t instanceof Kt)return Ut;if(Array.isArray(t)){const e=t.length;let n;for(const e of t){const t=Qt(e);if(n){if(n===t)continue;n=Lt;break}n=t}return Bt(n||Lt,e)}return $t}function te(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof _t||t instanceof Xt||t instanceof Kt?t.toString():JSON.stringify(t)}class ee{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Jt(t[1]))return e.error("invalid value");const n=t[1];let r=Qt(n);const i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ee(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof _t?["rgba"].concat(this.value.toArray()):this.value instanceof Xt?this.value.serialize():this.value}}var ne=ee,re=class{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};const ie={string:Ot,number:Rt,boolean:Nt,object:$t};class oe{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let n,r=1;const i=t[0];if("array"===i){let i,o;if(t.length>2){const n=t[1];if("string"!=typeof n||!(n in ie)||"object"===n)return e.error('The item type argument of "array" must be one of string, number, boolean',1);i=ie[n],r++}else i=Lt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);o=t[2],r++}n=Bt(i,o)}else n=ie[i];const o=[];for(;r<t.length;r++){const n=e.parse(t[r],r,Lt);if(!n)return null;o.push(n)}return new oe(n,o)}evaluate(t){for(let e=0;e<this.args.length;e++){const n=this.args[e].evaluate(t);if(!Ht(this.type,Qt(n)))return n;if(e===this.args.length-1)throw new re(`Expected value to be of type ${zt(this.type)}, but found ${zt(Qt(n))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=this.type,e=[t.kind];if("array"===t.kind){const n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);const r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((t=>t.serialize())))}}var se=oe;class ae{constructor(t){this.type=jt,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");const r=[];let i=!1;for(let n=1;n<=t.length-1;++n){const o=t[n];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let t=null;if(o["font-scale"]&&(t=e.parse(o["font-scale"],1,Rt),!t))return null;let n=null;if(o["text-font"]&&(n=e.parse(o["text-font"],1,Bt(Ot)),!n))return null;let s=null;if(o["text-color"]&&(s=e.parse(o["text-color"],1,Dt),!s))return null;const a=r[r.length-1];a.scale=t,a.font=n,a.textColor=s}else{const o=e.parse(t[n],1,Lt);if(!o)return null;const s=o.type.kind;if("string"!==s&&"value"!==s&&"null"!==s&&"resolvedImage"!==s)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:o,scale:null,font:null,textColor:null})}}return new ae(r)}evaluate(t){return new Xt(this.sections.map((e=>{const n=e.content.evaluate(t);return Qt(n)===Ut?new Yt("",n,null,null,null):new Yt(te(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const e of this.sections){t.push(e.content.serialize());const n={};e.scale&&(n["font-scale"]=e.scale.serialize()),e.font&&(n["text-font"]=e.font.serialize()),e.textColor&&(n["text-color"]=e.textColor.serialize()),t.push(n)}return t}}class le{constructor(t){this.type=Ut,this.input=t}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const n=e.parse(t[1],1,Ot);return n?new le(n):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),n=Kt.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const ce={"to-boolean":Nt,"to-color":Dt,"to-number":Rt,"to-string":Ot};class ue{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");const r=ce[n],i=[];for(let n=1;n<t.length;n++){const r=e.parse(t[n],n,Lt);if(!r)return null;i.push(r)}return new ue(r,i)}evaluate(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){let e,n;for(const r of this.args){if(e=r.evaluate(t),n=null,e instanceof _t)return e;if("string"==typeof e){const n=t.parseColor(e);if(n)return n}else if(Array.isArray(e)&&(n=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:Zt(e[0],e[1],e[2],e[3]),!n))return new _t(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new re(n||`Could not parse color from value '${"string"==typeof e?e:String(JSON.stringify(e))}'`)}if("number"===this.type.kind){let e=null;for(const n of this.args){if(e=n.evaluate(t),null===e)return 0;const r=Number(e);if(!isNaN(r))return r}throw new re(`Could not convert ${JSON.stringify(e)} to number.`)}return"formatted"===this.type.kind?Xt.fromString(te(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?Kt.fromString(te(this.args[0].evaluate(t))):te(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new ae([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new le(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild((e=>{t.push(e.serialize())})),t}}var he=ue;const de=["Unknown","Point","LineString","Polygon"];var fe=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?de[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:n,y:r}=this.featureTileCoord,i=n*e-t[0],o=r*e-t[1];return this.featureDistanceData.bearing[0]*i+this.featureDistanceData.bearing[1]*o}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=_t.parse(t)),e}};class pe{constructor(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((t=>t.serialize())))}static parse(t,e){const n=t[0],r=pe.definitions[n];if(!r)return e.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=o.filter((([e])=>!Array.isArray(e)||e.length===t.length-1));let a=null;for(const[r,o]of s){a=new ze(e.registry,e.path,null,e.scope);const s=[];let l=!1;for(let e=1;e<t.length;e++){const n=t[e],i=Array.isArray(r)?r[e-1]:r.type,o=a.parse(n,1+s.length,i);if(!o){l=!0;break}s.push(o)}if(!l)if(Array.isArray(r)&&r.length!==s.length)a.error(`Expected ${r.length} arguments, but found ${s.length} instead.`);else{for(let t=0;t<s.length;t++){const e=Array.isArray(r)?r[t]:r.type,n=s[t];a.concat(t+1).checkSubtype(e,n.type)}if(0===a.errors.length)return new pe(n,i,o,s)}}if(1===s.length)e.errors.push(...a.errors);else{const n=(s.length?s:o).map((([t])=>{return e=t,Array.isArray(e)?`(${e.map(zt).join(", ")})`:`(${zt(e.type)}...)`;var e})).join(" | "),r=[];for(let n=1;n<t.length;n++){const i=e.parse(t[n],1+r.length);if(!i)return null;r.push(zt(i.type))}e.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(t,e){pe.definitions=e;for(const n in e)t[n]=pe}}var ge=pe;class me{constructor(t,e,n){this.type=Ft,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");const r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Nt);if(!r)return null;const i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Nt);if(!i)return null;let o=null;return n.locale&&(o=e.parse(n.locale,1,Ot),!o)?null:new me(r,i,o)}evaluate(t){return new Vt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const ye=8192;function _e(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function ve(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function be(t,e){const n=(180+t[0])/360,r=(i=t[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360);var i;const o=Math.pow(2,e.z);return[Math.round(n*o*ye),Math.round(r*o*ye)]}function xe(t,e,n){const r=t[0]-e[0],i=t[1]-e[1],o=t[0]-n[0],s=t[1]-n[1];return r*s-o*i==0&&r*o<=0&&i*s<=0}function Se(t,e){let n=!1;for(let s=0,a=e.length;s<a;s++){const a=e[s];for(let e=0,s=a.length;e<s-1;e++){if(xe(t,a[e],a[e+1]))return!1;r=t,i=a[e],o=a[e+1],i[1]>r[1]!=o[1]>r[1]&&r[0]<(o[0]-i[0])*(r[1]-i[1])/(o[1]-i[1])+i[0]&&(n=!n)}}var r,i,o;return n}function we(t,e){for(let n=0;n<e.length;n++)if(Se(t,e[n]))return!0;return!1}function Ee(t,e,n,r){const i=t[0]-n[0],o=t[1]-n[1],s=e[0]-n[0],a=e[1]-n[1],l=r[0]-n[0],c=r[1]-n[1],u=i*c-l*o,h=s*c-l*a;return u>0&&h<0||u<0&&h>0}function Te(t,e,n,r){const i=[e[0]-t[0],e[1]-t[1]];return 0!=(o=[r[0]-n[0],r[1]-n[1]])[0]*(s=i)[1]-o[1]*s[0]&&!(!Ee(t,e,n,r)||!Ee(n,r,t,e));var o,s}function Ce(t,e,n){for(const r of n)for(let n=0;n<r.length-1;++n)if(Te(t,e,r[n],r[n+1]))return!0;return!1}function Me(t,e){for(let n=0;n<t.length;++n)if(!Se(t[n],e))return!1;for(let n=0;n<t.length-1;++n)if(Ce(t[n],t[n+1],e))return!1;return!0}function Ae(t,e){for(let n=0;n<e.length;n++)if(Me(t,e[n]))return!0;return!1}function ke(t,e,n){const r=[];for(let i=0;i<t.length;i++){const o=[];for(let r=0;r<t[i].length;r++){const s=be(t[i][r],n);_e(e,s),o.push(s)}r.push(o)}return r}function Ie(t,e,n){const r=[];for(let i=0;i<t.length;i++){const o=ke(t[i],e,n);r.push(o)}return r}function Pe(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){const e=.5*r;let i=t[0]-n[0]>e?-r:n[0]-t[0]>e?r:0;0===i&&(i=t[0]-n[2]>e?-r:n[2]-t[0]>e?r:0),t[0]+=i}_e(e,t)}function Re(t,e,n,r){const i=Math.pow(2,r.z)*ye,o=[r.x*ye,r.y*ye],s=[];if(!t)return s;for(const r of t)for(const t of r){const r=[t.x+o[0],t.y+o[1]];Pe(r,e,n,i),s.push(r)}return s}function Oe(t,e,n,r){const i=Math.pow(2,r.z)*ye,o=[r.x*ye,r.y*ye],s=[];if(!t)return s;for(const n of t){const t=[];for(const r of n){const n=[r.x+o[0],r.y+o[1]];_e(e,n),t.push(n)}s.push(t)}if(e[2]-e[0]<=i/2){(a=e)[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(const t of s)for(const r of t)Pe(r,e,n,i)}var a;return s}class Ne{constructor(t,e){this.type=Nt,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Jt(t[1])){const e=t[1];if("FeatureCollection"===e.type)for(let t=0;t<e.features.length;++t){const n=e.features[t].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new Ne(e,e.features[t].geometry)}else if("Feature"===e.type){const t=e.geometry.type;if("Polygon"===t||"MultiPolygon"===t)return new Ne(e,e.geometry)}else if("Polygon"===e.type||"MultiPolygon"===e.type)return new Ne(e,e)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return!1;if("Polygon"===e.type){const o=ke(e.coordinates,r,i),s=Re(t.geometry(),n,r,i);if(!ve(n,r))return!1;for(const t of s)if(!Se(t,o))return!1}if("MultiPolygon"===e.type){const o=Ie(e.coordinates,r,i),s=Re(t.geometry(),n,r,i);if(!ve(n,r))return!1;for(const t of s)if(!we(t,o))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return!1;if("Polygon"===e.type){const o=ke(e.coordinates,r,i),s=Oe(t.geometry(),n,r,i);if(!ve(n,r))return!1;for(const t of s)if(!Me(t,o))return!1}if("MultiPolygon"===e.type){const o=Ie(e.coordinates,r,i),s=Oe(t.geometry(),n,r,i);if(!ve(n,r))return!1;for(const t of s)if(!Ae(t,o))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var De=Ne;function $e(t){if(t instanceof ge){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof De)return!1;let e=!0;return t.eachChild((t=>{e&&!$e(t)&&(e=!1)})),e}function Le(t){if(t instanceof ge&&"feature-state"===t.name)return!1;let e=!0;return t.eachChild((t=>{e&&!Le(t)&&(e=!1)})),e}function Fe(t,e){if(t instanceof ge&&e.indexOf(t.name)>=0)return!1;let n=!0;return t.eachChild((t=>{n&&!Fe(t,e)&&(n=!1)})),n}class je{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const n=t[1];return e.scope.has(n)?new je(n,e.scope.get(n)):e.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Ue=je;class Be{constructor(t,e=[],n,r=new It,i=[]){this.registry=t,this.path=e,this.key=e.map((t=>`[${t}]`)).join(""),this.scope=r,this.errors=i,this.expectedType=n}parse(t,e,n,r,i={}){return e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)}_parse(t,e){function n(t,e,n){return"assert"===n?new se(e,[t]):"coerce"===n?new he(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=t[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[r];if(i){let r=i.parse(t,this);if(!r)return null;if(this.expectedType){const t=this.expectedType,i=r.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind&&"array"!==t.kind||"value"!==i.kind)if("color"!==t.kind&&"formatted"!==t.kind&&"resolvedImage"!==t.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(t,i))return null}else r=n(r,t,e.typeAnnotation||"coerce");else r=n(r,t,e.typeAnnotation||"assert")}if(!(r instanceof ne)&&"resolvedImage"!==r.type.kind&&Ge(r)){const e=new fe;try{r=new ne(r.type,r.evaluate(e))}catch(t){return this.error(t.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,e,n){const r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Be(this.registry,r,e||null,i,this.errors)}error(t,...e){const n=`${this.key}${e.map((t=>`[${t}]`)).join("")}`;this.errors.push(new At(n,t))}checkSubtype(t,e){const n=Ht(t,e);return n&&this.error(n),n}}var ze=Be;function Ge(t){if(t instanceof Ue)return Ge(t.boundExpression);if(t instanceof ge&&"error"===t.name)return!1;if(t instanceof me)return!1;if(t instanceof De)return!1;const e=t instanceof he||t instanceof se;let n=!0;return t.eachChild((t=>{n=e?n&&Ge(t):n&&t instanceof ne})),!!n&&$e(t)&&Fe(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function He(t,e){const n=t.length-1;let r,i,o=0,s=n,a=0;for(;o<=s;)if(a=Math.floor((o+s)/2),r=t[a],i=t[a+1],r<=e){if(a===n||e<i)return a;o=a+1}else{if(!(r>e))throw new re("Input is not a number.");s=a-1}return 0}class We{constructor(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[t,e]of n)this.labels.push(t),this.outputs.push(e)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");const n=e.parse(t[1],1,Rt);if(!n)return null;const r=[];let i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(let n=1;n<t.length;n+=2){const o=1===n?-1/0:t[n],s=t[n+1],a=n,l=n+1;if("number"!=typeof o)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(r.length&&r[r.length-1][0]>=o)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',a);const c=e.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([o,c])}return new We(i,n,r)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);const i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[He(e,r)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){const t=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}var qe=We,Ve=Ye;function Ye(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}Ye.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},Ye.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},Ye.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},Ye.prototype.solveCurveX=function(t,e){var n,r,i,o,s;for(void 0===e&&(e=1e-6),i=t,s=0;s<8;s++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var a=this.sampleCurveDerivativeX(i);if(Math.abs(a)<1e-6)break;i-=o/a}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},Ye.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var Xe=ct(Ve);function Ke(t,e,n){return t*(1-n)+e*n}var Ze=Object.freeze({__proto__:null,number:Ke,color:function(t,e,n){return new _t(Ke(t.r,e.r,n),Ke(t.g,e.g,n),Ke(t.b,e.b,n),Ke(t.a,e.a,n))},array:function(t,e,n){return t.map(((t,r)=>Ke(t,e[r],n)))}});const Je=.95047,Qe=1.08883,tn=4/29,en=6/29,nn=3*en*en,rn=en*en*en,on=Math.PI/180,sn=180/Math.PI;function an(t){return t>rn?Math.pow(t,1/3):t/nn+tn}function ln(t){return t>en?t*t*t:nn*(t-tn)}function cn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function un(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hn(t){const e=un(t.r),n=un(t.g),r=un(t.b),i=an((.4124564*e+.3575761*n+.1804375*r)/Je),o=an((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-an((.0193339*e+.119192*n+.9503041*r)/Qe)),alpha:t.a}}function dn(t){let e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*ln(e),n=Je*ln(n),r=Qe*ln(r),new _t(cn(3.2404542*n-1.5371385*e-.4985314*r),cn(-.969266*n+1.8760108*e+.041556*r),cn(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function fn(t,e,n){const r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}const pn={forward:hn,reverse:dn,interpolate:function(t,e,n){return{l:Ke(t.l,e.l,n),a:Ke(t.a,e.a,n),b:Ke(t.b,e.b,n),alpha:Ke(t.alpha,e.alpha,n)}}},gn=function(t){const{l:e,a:n,b:r}=hn(t),i=Math.atan2(r,n)*sn;return{h:i<0?i+360:i,c:Math.sqrt(n*n+r*r),l:e,alpha:t.a}},mn=function(t){const e=t.h*on,n=t.c;return dn({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},yn=function(t,e,n){return{h:fn(t.h,e.h,n),c:Ke(t.c,e.c,n),l:Ke(t.l,e.l,n),alpha:Ke(t.alpha,e.alpha,n)}};class _n{constructor(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[t,e]of i)this.labels.push(t),this.outputs.push(e)}static interpolationFactor(t,e,n,r){let i=0;if("exponential"===t.name)i=vn(e,t.base,n,r);else if("linear"===t.name)i=vn(e,1,n,r);else if("cubic-bezier"===t.name){const o=t.controlPoints;i=new Xe(o[0],o[1],o[2],o[3]).solve(vn(e,1,n,r))}return i}static parse(t,e){let[n,r,i,...o]=t;if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const t=r[1];if("number"!=typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:t}}else{if("cubic-bezier"!==r[0])return e.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const t=r.slice(1);if(4!==t.length||t.some((t=>"number"!=typeof t||t<0||t>1)))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:t}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(i=e.parse(i,2,Rt),!i)return null;const s=[];let a=null;"interpolate-hcl"===n||"interpolate-lab"===n?a=Dt:e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType);for(let t=0;t<o.length;t+=2){const n=o[t],r=o[t+1],i=t+3,l=t+4;if("number"!=typeof n)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(s.length&&s[s.length-1][0]>=n)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=e.parse(r,l,a);if(!c)return null;a=a||c.type,s.push([n,c])}return"number"===a.kind||"color"===a.kind||"array"===a.kind&&"number"===a.itemType.kind&&"number"==typeof a.N?new _n(a,n,r,i,s):e.error(`Type ${zt(a)} is not interpolatable.`)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);const i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);const o=He(e,r),s=e[o],a=e[o+1],l=_n.interpolationFactor(this.interpolation,r,s,a),c=n[o].evaluate(t),u=n[o+1].evaluate(t);return"interpolate"===this.operator?Ze[this.type.kind.toLowerCase()](c,u,l):"interpolate-hcl"===this.operator?mn(yn(gn(c),gn(u),l)):pn.reverse(pn.interpolate(pn.forward(c),pn.forward(u),l))}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){let t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let t=0;t<this.labels.length;t++)e.push(this.labels[t],this.outputs[t].serialize());return e}}function vn(t,e,n,r){const i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var bn=_n;class xn{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let n=null;const r=e.expectedType;r&&"value"!==r.kind&&(n=r);const i=[];for(const r of t.slice(1)){const t=e.parse(r,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!t)return null;n=n||t.type,i.push(t)}const o=r&&i.some((t=>Ht(r,t.type)));return new xn(o?Lt:n,i)}evaluate(t){let e,n=null,r=0;for(const i of this.args){if(r++,n=i.evaluate(t),n&&n instanceof Kt&&!n.available&&(e||(e=n),n=null,r===this.args.length))return e;if(null!==n)break}return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=["coalesce"];return this.eachChild((e=>{t.push(e.serialize())})),t}}var Sn=xn;class wn{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const n=[];for(let r=1;r<t.length-1;r+=2){const i=t[r];if("string"!=typeof i)return e.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}const r=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return r?new wn(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[e,n]of this.bindings)t.push(e,n.serialize());return t.push(this.result.serialize()),t}}var En=wn;class Tn{constructor(t,e,n){this.type=t,this.index=e,this.input=n}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Rt),r=e.parse(t[2],2,Bt(e.expectedType||Lt));if(!n||!r)return null;const i=r.type;return new Tn(i.itemType,n,r)}evaluate(t){const e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new re(`Array index out of bounds: ${e} < 0.`);if(e>=n.length)throw new re(`Array index out of bounds: ${e} > ${n.length-1}.`);if(e!==Math.floor(e))throw new re(`Array index must be an integer, but found ${e} instead.`);return n[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Cn=Tn;class Mn{constructor(t,e){this.type=Nt,this.needle=t,this.haystack=e}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Lt),r=e.parse(t[2],2,Lt);return n&&r?Wt(n.type,[Nt,Ot,Rt,Pt,Lt])?new Mn(n,r):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${zt(n.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(null==n)return!1;if(!qt(e,["boolean","string","number","null"]))throw new re(`Expected first argument to be of type boolean, string, number or null, but found ${zt(Qt(e))} instead.`);if(!qt(n,["string","array"]))throw new re(`Expected second argument to be of type array or string, but found ${zt(Qt(n))} instead.`);return n.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var An=Mn;class kn{constructor(t,e,n){this.type=Rt,this.needle=t,this.haystack=e,this.fromIndex=n}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Lt),r=e.parse(t[2],2,Lt);if(!n||!r)return null;if(!Wt(n.type,[Nt,Ot,Rt,Pt,Lt]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${zt(n.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,Rt);return i?new kn(n,r,i):null}return new kn(n,r)}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!qt(e,["boolean","string","number","null"]))throw new re(`Expected first argument to be of type boolean, string, number or null, but found ${zt(Qt(e))} instead.`);if(!qt(n,["string","array"]))throw new re(`Expected second argument to be of type array or string, but found ${zt(Qt(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var In=kn;class Pn{constructor(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);const i={},o=[];for(let s=2;s<t.length-1;s+=2){let a=t[s];const l=t[s+1];Array.isArray(a)||(a=[a]);const c=e.concat(s);if(0===a.length)return c.error("Expected at least one branch label.");for(const t of a){if("number"!=typeof t&&"string"!=typeof t)return c.error("Branch labels must be numbers or strings.");if("number"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof t&&Math.floor(t)!==t)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Qt(t)))return null}else n=Qt(t);if(void 0!==i[String(t)])return c.error("Branch labels must be unique.");i[String(t)]=o.length}const u=e.parse(l,s,r);if(!u)return null;r=r||u.type,o.push(u)}const s=e.parse(t[1],1,Lt);if(!s)return null;const a=e.parse(t[t.length-1],t.length-1,r);return a?"value"!==s.type.kind&&e.concat(1).checkSubtype(n,s.type)?null:new Pn(n,r,s,i,o,a):null}evaluate(t){const e=this.input.evaluate(t);return(Qt(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),n=[],r={};for(const t of e){const e=r[this.cases[t]];void 0===e?(r[this.cases[t]]=n.length,n.push([this.cases[t],[t]])):n[e][1].push(t)}const i=t=>"number"===this.inputType.kind?Number(t):t;for(const[e,r]of n)1===r.length?t.push(i(r[0])):t.push(r.map(i)),t.push(this.outputs[e].serialize());return t.push(this.otherwise.serialize()),t}}var Rn=Pn;class On{constructor(t,e,n){this.type=t,this.branches=e,this.otherwise=n}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const r=[];for(let i=1;i<t.length-1;i+=2){const o=e.parse(t[i],i,Nt);if(!o)return null;const s=e.parse(t[i+1],i+1,n);if(!s)return null;r.push([o,s]),n=n||s.type}const i=e.parse(t[t.length-1],t.length-1,n);return i?new On(n,r,i):null}evaluate(t){for(const[e,n]of this.branches)if(e.evaluate(t))return n.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,n]of this.branches)t(e),t(n);t(this.otherwise)}outputDefined(){return this.branches.every((([t,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild((e=>{t.push(e.serialize())})),t}}var Nn=On;class Dn{constructor(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Lt),r=e.parse(t[2],2,Rt);if(!n||!r)return null;if(!Wt(n.type,[Bt(Lt),Ot,Lt]))return e.error(`Expected first argument to be of type array or string, but found ${zt(n.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,Rt);return i?new Dn(n.type,n,r,i):null}return new Dn(n.type,n,r)}evaluate(t){const e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!qt(e,["string","array"]))throw new re(`Expected first argument to be of type array or string, but found ${zt(Qt(e))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var $n=Dn;function Ln(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Fn(t,e,n,r){return 0===r.compare(e,n)}function jn(t,e,n){const r="=="!==t&&"!="!==t;return class i{constructor(t,e,n){this.type=Nt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const n=t[0];let o=e.parse(t[1],1,Lt);if(!o)return null;if(!Ln(n,o.type))return e.concat(1).error(`"${n}" comparisons are not supported for type '${zt(o.type)}'.`);let s=e.parse(t[2],2,Lt);if(!s)return null;if(!Ln(n,s.type))return e.concat(2).error(`"${n}" comparisons are not supported for type '${zt(s.type)}'.`);if(o.type.kind!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error(`Cannot compare types '${zt(o.type)}' and '${zt(s.type)}'.`);r&&("value"===o.type.kind&&"value"!==s.type.kind?o=new se(s.type,[o]):"value"!==o.type.kind&&"value"===s.type.kind&&(s=new se(o.type,[s])));let a=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error("Cannot use collator to compare non-string types.");if(a=e.parse(t[3],3,Ft),!a)return null}return new i(o,s,a)}evaluate(i){const o=this.lhs.evaluate(i),s=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){const e=Qt(o),n=Qt(s);if(e.kind!==n.kind||"string"!==e.kind&&"number"!==e.kind)throw new re(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${e.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const t=Qt(o),n=Qt(s);if("string"!==t.kind||"string"!==n.kind)return e(i,o,s)}return this.collator?n(i,o,s,this.collator.evaluate(i)):e(i,o,s)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}outputDefined(){return!0}serialize(){const e=[t];return this.eachChild((t=>{e.push(t.serialize())})),e}}}const Un=jn("==",(function(t,e,n){return e===n}),Fn),Bn=jn("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!Fn(0,e,n,r)})),zn=jn("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),Gn=jn(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),Hn=jn("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),Wn=jn(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0}));class qn{constructor(t,e,n,r,i,o){this.type=Ot,this.number=t,this.locale=e,this.currency=n,this.unit=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const n=e.parse(t[1],1,Rt);if(!n)return null;const r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");let i=null;if(r.locale&&(i=e.parse(r.locale,1,Ot),!i))return null;let o=null;if(r.currency&&(o=e.parse(r.currency,1,Ot),!o))return null;let s=null;if(r.unit&&(s=e.parse(r.unit,1,Ot),!s))return null;let a=null;if(r["min-fraction-digits"]&&(a=e.parse(r["min-fraction-digits"],1,Rt),!a))return null;let l=null;return r["max-fraction-digits"]&&(l=e.parse(r["max-fraction-digits"],1,Rt),!l)?null:new qn(n,i,o,s,a,l)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class Vn{constructor(t){this.type=Rt,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error(`Expected argument of type string or array, but found ${zt(n.type)} instead.`):new Vn(n):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new re(`Expected value to be of type string or array, but found ${zt(Qt(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild((e=>{t.push(e.serialize())})),t}}const Yn={"==":Un,"!=":Bn,">":Gn,"<":zn,">=":Wn,"<=":Hn,array:se,at:Cn,boolean:se,case:Nn,coalesce:Sn,collator:me,format:ae,image:le,in:An,"index-of":In,interpolate:bn,"interpolate-hcl":bn,"interpolate-lab":bn,length:Vn,let:En,literal:ne,match:Rn,number:se,"number-format":qn,object:se,slice:$n,step:qe,string:se,"to-boolean":he,"to-color":he,"to-number":he,"to-string":he,var:Ue,within:De};function Xn(t,[e,n,r,i]){e=e.evaluate(t),n=n.evaluate(t),r=r.evaluate(t);const o=i?i.evaluate(t):1,s=Zt(e,n,r,o);if(s)throw new re(s);return new _t(e/255*o,n/255*o,r/255*o,o)}function Kn(t,e){return t in e}function Zn(t,e){const n=e[t];return void 0===n?null:n}function Jn(t){return{type:t}}ge.register(Yn,{error:[{kind:"error"},[Ot],(t,[e])=>{throw new re(e.evaluate(t))}],typeof:[Ot,[Lt],(t,[e])=>zt(Qt(e.evaluate(t)))],"to-rgba":[Bt(Rt,4),[Dt],(t,[e])=>e.evaluate(t).toArray()],rgb:[Dt,[Rt,Rt,Rt],Xn],rgba:[Dt,[Rt,Rt,Rt,Rt],Xn],has:{type:Nt,overloads:[[[Ot],(t,[e])=>Kn(e.evaluate(t),t.properties())],[[Ot,$t],(t,[e,n])=>Kn(e.evaluate(t),n.evaluate(t))]]},get:{type:Lt,overloads:[[[Ot],(t,[e])=>Zn(e.evaluate(t),t.properties())],[[Ot,$t],(t,[e,n])=>Zn(e.evaluate(t),n.evaluate(t))]]},"feature-state":[Lt,[Ot],(t,[e])=>Zn(e.evaluate(t),t.featureState||{})],properties:[$t,[],t=>t.properties()],"geometry-type":[Ot,[],t=>t.geometryType()],id:[Lt,[],t=>t.id()],zoom:[Rt,[],t=>t.globals.zoom],pitch:[Rt,[],t=>t.globals.pitch||0],"distance-from-center":[Rt,[],t=>t.distanceFromCenter()],"heatmap-density":[Rt,[],t=>t.globals.heatmapDensity||0],"line-progress":[Rt,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[Rt,[],t=>t.globals.skyRadialProgress||0],accumulated:[Lt,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[Rt,Jn(Rt),(t,e)=>{let n=0;for(const r of e)n+=r.evaluate(t);return n}],"*":[Rt,Jn(Rt),(t,e)=>{let n=1;for(const r of e)n*=r.evaluate(t);return n}],"-":{type:Rt,overloads:[[[Rt,Rt],(t,[e,n])=>e.evaluate(t)-n.evaluate(t)],[[Rt],(t,[e])=>-e.evaluate(t)]]},"/":[Rt,[Rt,Rt],(t,[e,n])=>e.evaluate(t)/n.evaluate(t)],"%":[Rt,[Rt,Rt],(t,[e,n])=>e.evaluate(t)%n.evaluate(t)],ln2:[Rt,[],()=>Math.LN2],pi:[Rt,[],()=>Math.PI],e:[Rt,[],()=>Math.E],"^":[Rt,[Rt,Rt],(t,[e,n])=>Math.pow(e.evaluate(t),n.evaluate(t))],sqrt:[Rt,[Rt],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[Rt,[Rt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[Rt,[Rt],(t,[e])=>Math.log(e.evaluate(t))],log2:[Rt,[Rt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[Rt,[Rt],(t,[e])=>Math.sin(e.evaluate(t))],cos:[Rt,[Rt],(t,[e])=>Math.cos(e.evaluate(t))],tan:[Rt,[Rt],(t,[e])=>Math.tan(e.evaluate(t))],asin:[Rt,[Rt],(t,[e])=>Math.asin(e.evaluate(t))],acos:[Rt,[Rt],(t,[e])=>Math.acos(e.evaluate(t))],atan:[Rt,[Rt],(t,[e])=>Math.atan(e.evaluate(t))],min:[Rt,Jn(Rt),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[Rt,Jn(Rt),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[Rt,[Rt],(t,[e])=>Math.abs(e.evaluate(t))],round:[Rt,[Rt],(t,[e])=>{const n=e.evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Rt,[Rt],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[Rt,[Rt],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[Nt,[Ot,Lt],(t,[e,n])=>t.properties()[e.value]===n.value],"filter-id-==":[Nt,[Lt],(t,[e])=>t.id()===e.value],"filter-type-==":[Nt,[Ot],(t,[e])=>t.geometryType()===e.value],"filter-<":[Nt,[Ot,Lt],(t,[e,n])=>{const r=t.properties()[e.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Nt,[Lt],(t,[e])=>{const n=t.id(),r=e.value;return typeof n==typeof r&&n<r}],"filter->":[Nt,[Ot,Lt],(t,[e,n])=>{const r=t.properties()[e.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[Nt,[Lt],(t,[e])=>{const n=t.id(),r=e.value;return typeof n==typeof r&&n>r}],"filter-<=":[Nt,[Ot,Lt],(t,[e,n])=>{const r=t.properties()[e.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Nt,[Lt],(t,[e])=>{const n=t.id(),r=e.value;return typeof n==typeof r&&n<=r}],"filter->=":[Nt,[Ot,Lt],(t,[e,n])=>{const r=t.properties()[e.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Nt,[Lt],(t,[e])=>{const n=t.id(),r=e.value;return typeof n==typeof r&&n>=r}],"filter-has":[Nt,[Lt],(t,[e])=>e.value in t.properties()],"filter-has-id":[Nt,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[Nt,[Bt(Ot)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[Nt,[Bt(Lt)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[Nt,[Ot,Bt(Lt)],(t,[e,n])=>n.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[Nt,[Ot,Bt(Lt)],(t,[e,n])=>function(t,e,n,r){for(;n<=r;){const i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[e.value],n.value,0,n.value.length-1)],all:{type:Nt,overloads:[[[Nt,Nt],(t,[e,n])=>e.evaluate(t)&&n.evaluate(t)],[Jn(Nt),(t,e)=>{for(const n of e)if(!n.evaluate(t))return!1;return!0}]]},any:{type:Nt,overloads:[[[Nt,Nt],(t,[e,n])=>e.evaluate(t)||n.evaluate(t)],[Jn(Nt),(t,e)=>{for(const n of e)if(n.evaluate(t))return!0;return!1}]]},"!":[Nt,[Nt],(t,[e])=>!e.evaluate(t)],"is-supported-script":[Nt,[Ot],(t,[e])=>{const n=t.globals&&t.globals.isSupportedScript;return!n||n(e.evaluate(t))}],upcase:[Ot,[Ot],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[Ot,[Ot],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[Ot,Jn(Lt),(t,e)=>e.map((e=>te(e.evaluate(t)))).join("")],"resolved-locale":[Ot,[Ft],(t,[e])=>e.evaluate(t).resolvedLocale()]});var Qn=Yn;function tr(t){return{result:"success",value:t}}function er(t){return{result:"error",value:t}}function nr(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}class rr{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new fe,this._defaultValue=e?function(t){return"color"===t.type&&(nr(t.default)||Array.isArray(t.default))?new _t(0,0,0,0):"color"===t.type?_t.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null}evaluateWithoutErrorHandling(t,e,n,r,i,o,s,a){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null,this.expression.evaluate(this._evaluator)}evaluate(t,e,n,r,i,o,s,a){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||"number"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new re(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function ir(t,e){const n=new ze(Qn,[],e?function(t){const e={color:Dt,string:Ot,number:Rt,enum:Ot,boolean:Nt,formatted:jt,resolvedImage:Ut};return"array"===t.type?Bt(e[t.value]||Lt,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?tr(new rr(r,e)):er(n.errors)}class or{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Le(e.expression)}evaluateWithoutErrorHandling(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)}evaluate(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)}}class sr{constructor(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Le(e.expression),this.interpolationType=r}evaluateWithoutErrorHandling(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)}evaluate(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)}interpolationFactor(t,e,n){return this.interpolationType?bn.interpolationFactor(this.interpolationType,t,e,n):0}}function ar(t,e){if("error"===(t=ir(t,e)).result)return t;const n=t.value.expression,r=$e(n);if(!r&&!function(t){return"data-driven"===t["property-type"]}(e))return er([new At("","data expressions not supported")]);const i=Fe(n,["zoom","pitch","distance-from-center"]);if(!i&&!function(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}(e))return er([new At("","zoom expressions not supported")]);const o=lr(n);if(!o&&!i)return er([new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof At)return er([o]);if(o instanceof bn&&!function(t){return!!t.expression&&t.expression.interpolated}(e))return er([new At("",'"interpolate" expressions cannot be used with this property')]);if(!o)return tr(new or(r?"constant":"source",t.value));const s=o instanceof bn?o.interpolation:void 0;return tr(new sr(r?"camera":"composite",t.value,o.labels,s))}function lr(t){let e=null;if(t instanceof En)e=lr(t.result);else if(t instanceof Sn){for(const n of t.args)if(e=lr(n),e)break}else(t instanceof qe||t instanceof bn)&&t.input instanceof ge&&"zoom"===t.input.name&&(e=t);return e instanceof At||t.eachChild((t=>{const n=lr(t);n instanceof At?e=n:!e&&n?e=new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new At("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),e}function cr(t){if(Array.isArray(t))return t.map(cr);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const n in t)e[n]=cr(t[n]);return e}return function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}(t)}var ur={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function hr(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!hr(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}function dr(t,e="fill"){if(null==t)return{filter:()=>!0,needGeometry:!1,needFeature:!1};hr(t)||(t=vr(t));const n=t;let r=!0;try{r=function(t){if(!gr(t))return t;let e=cr(t);return pr(e),e=fr(e),e}(n)}catch(t){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const i=ur[`filter_${e}`],o=ir(r,i);let s=null;if("error"===o.result)throw new Error(o.value.map((t=>`${t.key}: ${t.message}`)).join(", "));s=(t,e,n)=>o.value.evaluate(t,e,{},n);let a=null,l=null;if(r!==n){const t=ir(n,i);if("error"===t.result)throw new Error(t.value.map((t=>`${t.key}: ${t.message}`)).join(", "));a=(e,n,r,i,o)=>t.value.evaluate(e,n,{},r,void 0,void 0,i,o),l=!$e(t.value.expression)}return{filter:s,dynamicFilter:a||void 0,needGeometry:_r(r),needFeature:!!l}}function fr(t){if(!Array.isArray(t))return t;const e=function(t){if(mr.has(t[0]))for(let e=1;e<t.length;e++)if(gr(t[e]))return!0;return t}(t);return!0===e?e:e.map((t=>fr(t)))}function pr(t){let e=!1;const n=[];if("case"===t[0]){for(let r=1;r<t.length-1;r+=2)e=e||gr(t[r]),n.push(t[r+1]);n.push(t[t.length-1])}else if("match"===t[0]){e=e||gr(t[1]);for(let e=2;e<t.length-1;e+=2)n.push(t[e+1]);n.push(t[t.length-1])}else if("step"===t[0]){e=e||gr(t[1]);for(let e=1;e<t.length-1;e+=2)n.push(t[e+1])}e&&(t.length=0,t.push("any",...n));for(let e=1;e<t.length;e++)pr(t[e])}function gr(t){if(!Array.isArray(t))return!1;if("pitch"===(e=t[0])||"distance-from-center"===e)return!0;var e;for(let e=1;e<t.length;e++)if(gr(t[e]))return!0;return!1}const mr=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function yr(t,e){return t<e?-1:t>e?1:0}function _r(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let e=1;e<t.length;e++)if(_r(t[e]))return!0;return!1}function vr(t){if(!t)return!0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?br(t[1],t[2],"=="):"!="===e?wr(br(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?br(t[1],t[2],e):"any"===e?(n=t.slice(1),["any"].concat(n.map(vr))):"all"===e?["all"].concat(t.slice(1).map(vr)):"none"===e?["all"].concat(t.slice(1).map(vr).map(wr)):"in"===e?xr(t[1],t.slice(2)):"!in"===e?wr(xr(t[1],t.slice(2))):"has"===e?Sr(t[1]):"!has"===e?wr(Sr(t[1])):"within"!==e||t;var n}function br(t,e,n){switch(t){case"$type":return[`filter-type-${n}`,e];case"$id":return[`filter-id-${n}`,e];default:return[`filter-${n}`,t,e]}}function xr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((t=>typeof t!=typeof e[0]))?["filter-in-large",t,["literal",e.sort(yr)]]:["filter-in-small",t,["literal",e]]}}function Sr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function wr(t){return["!",t]}var Er=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Tr(t,e){const n={};for(const e in t)"ref"!==e&&(n[e]=t[e]);return Er.forEach((t=>{t in e&&(n[t]=e[t])})),n}function Cr(t){t=t.slice();const e=Object.create(null);for(let n=0;n<t.length;n++)e[t[n].id]=t[n];for(let n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=Tr(t[n],e[t[n].ref]));return t}var Mr={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},Ar=" ",kr=/(italic|oblique)$/i,Ir={},Pr=ct((function(t,e,n){var r=Ir[t];if(!r){Array.isArray(t)||(t=[t]);for(var i,o,s=400,a="normal",l=[],c=0,u=t.length;c<u;++c){var h=t[c].split(" "),d=h[h.length-1].toLowerCase();for(var f in"normal"==d||"italic"==d||"oblique"==d?(a=o?a:d,o=!0,h.pop(),d=h[h.length-1].toLowerCase()):kr.test(d)&&(d=d.replace(kr,""),a=o?a:h[h.length-1].replace(d,""),o=!0),Mr){var p=h.length>1?h[h.length-2].toLowerCase():"";if(d==f||d==f.replace("-","")||p+"-"+d==f){s=i?s:Mr[f],h.pop(),p&&f.startsWith(p)&&h.pop();break}}i||"number"!=typeof d||(s=d,i=!0);var g=h.join(Ar).replace("Klokantech Noto Sans","Noto Sans");-1!==g.indexOf(Ar)&&(g='"'+g+'"'),l.push(g)}r=Ir[t]=[a,s,l]}return r[0]+Ar+r[1]+Ar+e+"px"+(n?"/"+n:"")+Ar+r[2]}));const Rr="https://api.mapbox.com";function Or(t){return 0!==t.indexOf("mapbox://")?"":t.slice(9)}function Nr(t,e){const n=Or(t);if(!n)return decodeURI(new URL(t,location.href).href);if(0!==n.indexOf("styles/"))throw new Error(`unexpected style url: ${t}`);const r=n.slice(7);return`${Rr}/styles/v1/${r}?&access_token=${e}`}const Dr=["a","b","c","d"];function $r(t,e,n,r){const i=new URL(t,r),o=Or(t);if(!o)return e?(i.searchParams.has(n)||i.searchParams.set(n,e),[decodeURI(i.href)]):[decodeURI(i.href)];if("mapbox.satellite"===o){const t=window.devicePixelRatio>=1.5?"@2x":"";return[`https://api.mapbox.com/v4/${o}/{z}/{x}/{y}${t}.webp?access_token=${e}`]}return Dr.map((t=>`https://${t}.tiles.mapbox.com/v4/${o}/{z}/{x}/{y}.vector.pbf?access_token=${e}`))}const Lr={},Fr={};let jr=0;function Ur(t){return t.id||(t.id=jr++),t.id}function Br(t,e){return Ur(t)+"."+d.getUid(e)}function zr(t){let e=Lr[t.id];return e||(e={},Lr[Ur(t)]=e),e}function Gr(t){let e=Fr[t.id];return e||(e={},Fr[Ur(t)]=e),e}function Hr(t){return t*Math.PI/180}const Wr=function(){const t=[];for(let e=78271.51696402048;t.length<=24;e/=2)t.push(e);return t}();function qr(t,e){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(t,e);const n=document.createElement("canvas");return n.width=t,n.height=e,n}function Vr(t,e){let n=0;const r=e.length;for(;n<r;++n)if(e[n]<t&&n+1<r){const r=e[n]/e[n+1];return n+Math.log(e[n]/t)/Math.log(r)}return r-1}function Yr(t,e){const n=Math.floor(t),r=Math.pow(2,t-n);return e[n]/r}const Xr={};function Kr(t,e,n={},r){if(e in Xr)return r&&(r.request=Xr[e][0]),Xr[e][1];const i=n.transformRequest&&n.transformRequest(e,t)||e,o=l.toPromise((()=>i)).then((t=>(t instanceof Request||(t=new Request(t)),t.headers.get("Accept")||t.headers.set("Accept","application/json"),r&&(r.request=t),fetch(t).then((function(t){return delete Xr[e],t.ok?t.json():Promise.reject(new Error("Error fetching source "+e))})).catch((function(t){return delete Xr[e],Promise.reject(new Error("Error fetching source "+e))})))));return Xr[e]=[i,o],o}function Zr(t,e){if("string"!=typeof t)return Promise.resolve(t);if(!t.trim().startsWith("{"))return Kr("Style",t=Nr(t,e.accessToken),e);try{const e=JSON.parse(t);return Promise.resolve(e)}catch(t){return Promise.reject(t)}}const Jr={};function Qr(t,e,n={}){const r=[e,JSON.stringify(t)].toString();let i=Jr[r];if(!i||n.transformRequest){let o;n.transformRequest&&(o=(t,e)=>{const r=n.transformRequest&&n.transformRequest(e,"Tiles")||e;if(t instanceof h.VectorTile)t.setLoader(((e,n,i)=>{l.toPromise((()=>r)).then((n=>{fetch(n).then((t=>t.arrayBuffer())).then((n=>{const r=t.getFormat().readFeatures(n,{extent:e,featureProjection:i});t.setFeatures(r)})).catch((e=>t.setState(H.default.ERROR)))}))}));else{const e=t.getImage();l.toPromise((()=>r)).then((n=>{n instanceof Request?fetch(n).then((t=>t.blob())).then((t=>{const n=URL.createObjectURL(t);e.addEventListener("load",(()=>URL.revokeObjectURL(n))),e.addEventListener("error",(()=>URL.revokeObjectURL(n))),e.src=n})).catch((e=>t.setState(H.default.ERROR))):e.src=n}))}});const s=t.url;if(s&&!t.tiles){const r=$r(s,n.accessToken,n.accessTokenParam||"access_token",e||location.href);if(s.startsWith("mapbox://"))i=Promise.resolve({tileJson:Object.assign({},t,{url:void 0,tiles:r}),tileLoadFunction:o});else{const t={};i=Kr("Source",r[0],n,t).then((function(e){return e.tiles=e.tiles.map((function(r){return"tms"===e.scheme&&(r=r.replace("{y}","{-y}")),$r(r,n.accessToken,n.accessTokenParam||"access_token",t.request.url)[0]})),Promise.resolve({tileJson:e,tileLoadFunction:o})}))}}else t=Object.assign({},t,{tiles:t.tiles.map((function(r){return"tms"===t.scheme&&(r=r.replace("{y}","{-y}")),$r(r,n.accessToken,n.accessTokenParam||"access_token",e||location.href)[0]}))}),i=Promise.resolve({tileJson:Object.assign({},t),tileLoadFunction:o});Jr[r]=i}return i}function ti(t,e,n,r){const i=[2*n*e.pixelRatio+e.width,2*n*e.pixelRatio+e.height],o=qr(i[0],i[1]),s=o.getContext("2d");s.drawImage(t,e.x,e.y,e.width,e.height,n*e.pixelRatio,n*e.pixelRatio,e.width,e.height);const a=s.getImageData(0,0,i[0],i[1]);s.globalCompositeOperation="destination-over",s.fillStyle=`rgba(${255*r.r},${255*r.g},${255*r.b},${r.a})`;const l=a.data;for(let t=0,r=a.width;t<r;++t)for(let i=0,o=a.height;i<o;++i)l[4*(i*r+t)+3]>0&&s.arc(t,i,n*e.pixelRatio,0,2*Math.PI);return s.fill(),o}function ei(t,e,n){const r=Math.max(0,Math.min(1,(n-t)/(e-t)));return r*r*(3-2*r)}function ni(t,e,n){const r=qr(e.width,e.height),i=r.getContext("2d");i.drawImage(t,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const o=i.getImageData(0,0,e.width,e.height),s=o.data;for(let t=0,e=o.width;t<e;++t)for(let r=0,i=o.height;r<i;++r){const i=4*(r*e+t),o=.75,a=.1,l=ei(o-a,o+a,s[i+3]/255);l>0?(s[i+0]=Math.round(255*n.r*l),s[i+1]=Math.round(255*n.g*l),s[i+2]=Math.round(255*n.b*l),s[i+3]=Math.round(255*l)):s[i+3]=0}return i.putImageData(o,0,0),r}const ri=Array(256).join(" ");function ii(t,e){if(e>=.05){let n="";const r=t.split("\n"),i=ri.slice(0,Math.round(e/.1));for(let t=0,e=r.length;t<e;++t)t>0&&(n+="\n"),n+=r[t].split("").join(i);return n}return t}let oi;function si(){return oi||(oi=qr(1,1).getContext("2d")),oi}function ai(t,e){return si().measureText(t).width+(t.length-1)*e}const li={};function ci(t,e,n,r){if(-1!==t.indexOf("\n")){const i=t.split("\n"),o=[];for(let t=0,s=i.length;t<s;++t)o.push(ci(i[t],e,n,r));return o.join("\n")}const i=n+","+e+","+t+","+r;let o=li[i];if(!o){const s=t.split(" ");if(s.length>1){const t=si();t.font=e;const i=t.measureText("M").width*n;let a="";const l=[];for(let t=0,e=s.length;t<e;++t){const e=s[t],n=a+(a?" ":"")+e;ai(n,r)<=i?a=n:(a&&l.push(a),a=e)}a&&l.push(a);for(let t=0,e=l.length;t<e&&e>1;++t){const n=l[t];if(ai(n,r)<.35*i){const i=t>0?ai(l[t-1],r):1/0,o=t<e-1?ai(l[t+1],r):1/0;l.splice(t,1),e-=1,i<o?(l[t-1]+=" "+n,t-=1):l[t]=n+" "+l[t]}}for(let t=0,e=l.length-1;t<e;++t){const n=l[t],o=l[t+1];if(ai(n,r)>.7*i&&ai(o,r)<.6*i){const s=n.split(" "),a=s.pop();ai(a,r)<.2*i&&(l[t]=s.join(" "),l[t+1]=a+" "+o),e-=1}}o=l.join("\n")}else o=t;o=ii(o,r),li[i]=o}return o}const ui=/font-family: ?([^;]*);/,hi=/("|')/g;let di;function fi(t){if(!di){di={};const e=document.styleSheets;for(let n=0,r=e.length;n<r;++n){const r=e[n];try{const t=r.rules||r.cssRules;if(t)for(let e=0,n=t.length;e<n;++e){const n=t[e];if(5==n.type){const t=n.cssText.match(ui);di[t[1].replace(hi,"")]=!0}}}catch(t){}}}return t in di}const pi={},gi={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},mi={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},yi={},_i={zoom:0};let vi,bi;function xi(t,e,n,r,i,o,s){const a=t.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[a]||(o[a]={});const l=o[a];if(!l[n]){let r=(t[e]||yi)[n];const i=ur[`${e}_${t.type}`][n];void 0===r&&(r=i.default);let o=(c=r,Array.isArray(c)&&c.length>0&&"string"==typeof c[0]&&c[0]in Qn);if(!o&&nr(r)&&(r=function(t,e){let n=t.stops;if(!n)return function(t,e){const n=["get",t.property];if(void 0===t.default)return"string"===e.type?["string",n]:n;if("enum"===e.type)return["match",n,Object.keys(e.values),n,t.default];{const r=["color"===e.type?"to-color":e.type,n,vt(t.default)];return"array"===e.type&&r.splice(1,0,e.value,e.length||null),r}}(t,e);const r=n&&"object"==typeof n[0][0],i=r||void 0!==t.property,o=r||!i;return n=n.map((t=>!i&&e.tokens&&"string"==typeof t[1]?[t[0],Ct(t[1])]:[t[0],vt(t[1])])),r?function(t,e,n){const r={},i={},o=[];for(let e=0;e<n.length;e++){const s=n[e],a=s[0].zoom;void 0===r[a]&&(r[a]={zoom:a,type:t.type,property:t.property,default:t.default},i[a]=[],o.push(a)),i[a].push([s[0].value,s[1]])}if("exponential"===Tt({},e)){const n=[bt(t),["linear"],["zoom"]];for(const t of o)Et(n,t,St(r[t],e,i[t]),!1);return n}{const t=["step",["zoom"]];for(const n of o)Et(t,n,St(r[n],e,i[n]),!0);return wt(t),t}}(t,e,n):o?function(t,e,n,r=["zoom"]){const i=Tt(t,e);let o,s=!1;if("interval"===i)o=["step",r],s=!0;else{if("exponential"!==i)throw new Error(`Unknown zoom function type "${i}"`);{const e=void 0!==t.base?t.base:1;o=[bt(t),1===e?["linear"]:["exponential",e],r]}}for(const t of n)Et(o,t[0],t[1],s);return wt(o),o}(t,e,n):St(t,e,n)}(r,i),o=!0),o){const t=function(t,e){const n=ar(t,e);if("error"===n.result)throw new Error(n.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return n.value}(r,i);l[n]=t.evaluate.bind(t)}else"color"==i.type&&(r=_t.parse(r)),l[n]=function(){return r}}var c;return _i.zoom=r,l[n](_i,i,s)}function Si(t,e,n,r,i){return xi(t,"layout",`${r}-allow-overlap`,e,n,i)?xi(t,"layout",`${r}-ignore-placement`,e,n,i)?"none":"obstacle":"declutter"}function wi(t,e,n,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),t in i||(i[t]=dr(e).filter),_i.zoom=r,i[t](_i,n)}let Ei=!1;function Ti(t,e){if(t){if(!Ei&&(0===t.a||0===e))return;const n=t.a;return e=void 0===e?1:e,0===n?"transparent":"rgba("+Math.round(255*t.r/n)+","+Math.round(255*t.g/n)+","+Math.round(255*t.b/n)+","+n*e+")"}return t}const Ci=/\{[^{}}]*\}/g;function Mi(t,e){return t.replace(Ci,(function(t){return e[t.slice(1,-1)]||""}))}let Ai=!1;const ki={};function Ii(t,e,n,r=Wr,i=void 0,o=void 0,s=void 0,a=void 0){if("string"==typeof e&&(e=JSON.parse(e)),8!=e.version)throw new Error("glStyle version 8 required.");let c,u,h;if(ki[Br(e,t)]=Array.from(arguments),o)if("undefined"!=typeof Image){const e=new Image;let n;l.toPromise((()=>o)).then((t=>{t instanceof Request?fetch(t).then((t=>t.blob())).then((t=>{n=URL.createObjectURL(t),e.src=n})).catch((()=>{})):(e.crossOrigin="anonymous",e.src=t,n&&URL.revokeObjectURL(n))})),e.onload=function(){c=e,u=[e.width,e.height],t.changed(),e.onload=null}}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const t=self;t.postMessage({action:"loadImage",src:o}),t.addEventListener("message",(function(t){"imageLoaded"===t.data.action&&t.data.src===o&&(c=t.data.image,u=[c.width,c.height])}))}const d=Cr(e.layers),f={},p=[],g={},m={},y=zr(e),_=Gr(e);let v;for(let t=0,r=d.length;t<r;++t){const r=d[t],i=r.id;if("string"==typeof n&&r.source==n||Array.isArray(n)&&-1!==n.indexOf(i)){const n=r["source-layer"];if(v){if(r.source!==v)throw new Error(`Layer "${i}" does not use source "${v}`)}else{v=r.source;const t=e.sources[v];if(!t)throw new Error(`Source "${v}" is not defined`);const n=t.type;if("vector"!==n&&"geojson"!==n)throw new Error(`Source "${v}" is not of type "vector" or "geojson", but "${n}"`)}let o=f[n];o||(o=[],f[n]=o),o.push({layer:r,index:t}),p.push(i)}}const b=new B.default,x=new F.default,S=[],w=function(n,o,l){const d=n.getProperties(),p=f[d.layer];if(!p)return;let v=r.indexOf(o);-1==v&&(v=Vr(o,r));const w=gi[n.getGeometry().getType()],E={id:n.getId(),properties:d,type:w},T=t.get("mapbox-featurestate")[n.getId()];let C,M=-1;for(let r=0,f=p.length;r<f;++r){const f=p[r],A=f.layer,k=A.id;if(void 0!==l&&l!==k)continue;const I=A.layout||yi,P=A.paint||yi;if("none"===I.visibility||"minzoom"in A&&v<A.minzoom||"maxzoom"in A&&v>=A.maxzoom)continue;const R=A.filter;if(!R||wi(k,R,E,v,_)){let r,l,p,_,k,R;C=A;const O=f.index;if(3==w&&("fill"==A.type||"fill-extrusion"==A.type))if(l=xi(A,"paint",A.type+"-opacity",v,E,y,T),A.type+"-pattern"in P){const t=xi(A,"paint",A.type+"-pattern",v,E,y,T);if(t){const e="string"==typeof t?Mi(t,d):t.toString();if(c&&i&&i[e]){++M,R=S[M],R&&R.getFill()&&!R.getStroke()&&!R.getText()||(R=new z.default({fill:new F.default}),S[M]=R),p=R.getFill(),R.setZIndex(O);const t=e+"."+l;let n=m[t];if(!n){const r=i[e],o=qr(r.width,r.height),s=o.getContext("2d");s.globalAlpha=l,s.drawImage(c,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n=s.createPattern(o,"repeat"),m[t]=n}p.setColor(n)}}}else r=Ti(xi(A,"paint",A.type+"-color",v,E,y,T),l),A.type+"-outline-color"in P&&(k=Ti(xi(A,"paint",A.type+"-outline-color",v,E,y,T),l)),k||(k=r),(r||k)&&(++M,R=S[M],(!R||r&&!R.getFill()||!r&&R.getFill()||k&&!R.getStroke()||!k&&R.getStroke()||R.getText())&&(R=new z.default({fill:r?new F.default:void 0,stroke:k?new B.default:void 0}),S[M]=R),r&&(p=R.getFill(),p.setColor(r)),k&&(_=R.getStroke(),_.setColor(k),_.setWidth(.5)),R.setZIndex(O));if(1!=w&&"line"==A.type){r="line-pattern"in P?void 0:Ti(xi(A,"paint","line-color",v,E,y,T),xi(A,"paint","line-opacity",v,E,y,T));const t=xi(A,"paint","line-width",v,E,y,T);r&&t>0&&(++M,R=S[M],R&&R.getStroke()&&!R.getFill()&&!R.getText()||(R=new z.default({stroke:new B.default}),S[M]=R),_=R.getStroke(),_.setLineCap(xi(A,"layout","line-cap",v,E,y,T)),_.setLineJoin(xi(A,"layout","line-join",v,E,y,T)),_.setMiterLimit(xi(A,"layout","line-miter-limit",v,E,y,T)),_.setColor(r),_.setWidth(t),_.setLineDash(P["line-dasharray"]?xi(A,"paint","line-dasharray",v,E,y,T).map((function(e){return e*t})):null),R.setZIndex(O))}let N,D,$,H,W,q,V,Y,X,K=!1,Z=null,J=0;if((1==w||2==w)&&"icon-image"in I){const e=xi(A,"layout","icon-image",v,E,y,T);if(e){let r;N="string"==typeof e?Mi(e,d):e.toString();const s=a?a(t,N):void 0;if(c&&i&&i[N]||s){const t=xi(A,"layout","icon-rotation-alignment",v,E,y,T);if(2==w){const e=n.getGeometry();if(e.getFlatMidpoint||e.getFlatMidpoints){const n=e.getExtent();if(Math.sqrt(Math.max(Math.pow((n[2]-n[0])/o,2),Math.pow((n[3]-n[1])/o,2)))>150){const n="MultiLineString"===e.getType()?e.getFlatMidpoints():e.getFlatMidpoint();if(bi||(vi=[NaN,NaN],bi=new U.default("Point",vi,[],2,{},void 0)),r=bi,vi[0]=n[0],vi[1]=n[1],"line"===xi(A,"layout","symbol-placement",v,E,y,T)&&"map"===t){const t=e.getStride(),r=e.getFlatCoordinates();for(let e=0,i=r.length-t;e<i;e+=t){const i=r[e],o=r[e+1],s=r[e+t],a=r[e+t+1],l=Math.min(i,s),c=Math.max(i,s),u=n[0],h=(a-o)*(u-i)-(s-i)*(n[1]-o);if(Math.abs(h)<.001&&u<=c&&u>=l){J=Math.atan2(o-a,s-i);break}}}}}}if(2!==w||r){const e=xi(A,"layout","icon-size",v,E,y,T),n=void 0!==P["icon-color"]?xi(A,"paint","icon-color",v,E,y,T):null;if(!n||0!==n.a){const r=xi(A,"paint","icon-halo-color",v,E,y,T),o=xi(A,"paint","icon-halo-width",v,E,y,T);let a=`${N}.${e}.${o}.${r}`;if(null!==n&&(a+=`.${n}`),D=g[a],!D){const l=Si(A,v,E,"icon",y);let d;"icon-offset"in I&&(d=xi(A,"layout","icon-offset",v,E,y,T).slice(0),d[0]*=e,d[1]*=-e);let f=n?[255*n.r,255*n.g,255*n.b,n.a]:void 0;if(s){const n={color:f,rotateWithView:"map"===t,displacement:d,declutterMode:l,scale:e};"string"==typeof s?n.src=s:(n.img=s,n.imgSize=[s.width,s.height]),D=new j.default(n)}else{const s=i[N];let a,p,g;o?s.sdf?(a=ti(ni(c,s,n||[0,0,0,1]),{x:0,y:0,width:s.width,height:s.height,pixelRatio:s.pixelRatio},o,r),f=void 0):a=ti(c,s,o,r):(s.sdf?(h||(h=ni(c,{x:0,y:0,width:u[0],height:u[1]},{r:1,g:1,b:1,a:1})),a=h):a=c,p=[s.width,s.height],g=[s.x,s.y]),D=new j.default({color:f,img:a,imgSize:u,size:p,offset:g,rotateWithView:"map"===t,scale:e/s.pixelRatio,displacement:d,declutterMode:l})}g[a]=D}}D&&(++M,R=S[M],R&&R.getImage()&&!R.getFill()&&!R.getStroke()||(R=new z.default,S[M]=R),R.setGeometry(r),D.setRotation(J+Hr(xi(A,"layout","icon-rotate",v,E,y,T))),D.setOpacity(xi(A,"paint","icon-opacity",v,E,y,T)),D.setAnchor(mi[xi(A,"layout","icon-anchor",v,E,y,T)]),R.setImage(D),Z=R.getText(),R.setText(void 0),R.setZIndex(O),K=!0,$=!1)}else $=!0}}}if(1==w&&"circle"===A.type){++M,R=S[M],R&&R.getImage()&&!R.getFill()&&!R.getStroke()||(R=new z.default,S[M]=R);const t="circle-radius"in P?xi(A,"paint","circle-radius",v,E,y,T):5,e=Ti(xi(A,"paint","circle-stroke-color",v,E,y,T),xi(A,"paint","circle-stroke-opacity",v,E,y,T)),n=xi(A,"paint","circle-translate",v,E,y,T),r=Ti(xi(A,"paint","circle-color",v,E,y,T),xi(A,"paint","circle-opacity",v,E,y,T)),i=xi(A,"paint","circle-stroke-width",v,E,y,T),o=t+"."+e+"."+r+"."+i+"."+n[0]+"."+n[1];D=g[o],D||(D=new L.default({radius:t,displacement:[n[0],-n[1]],stroke:e&&i>0?new B.default({width:i,color:e}):void 0,fill:r?new F.default({color:r}):void 0,declutterMode:"none"}),g[o]=D),R.setImage(D),Z=R.getText(),R.setText(void 0),R.setGeometry(void 0),R.setZIndex(O),K=!0}if("text-field"in I){V=Math.round(xi(A,"layout","text-size",v,E,y,T));const t=xi(A,"layout","text-font",v,E,y,T);q=xi(A,"layout","text-line-height",v,E,y,T),W=Pr(s?s(t,e.metadata?e.metadata["ol:webfonts"]:void 0):t,V,q),W.includes("sans-serif")||(W+=",sans-serif"),Y=xi(A,"layout","text-letter-spacing",v,E,y,T),X=xi(A,"layout","text-max-width",v,E,y,T);const n=xi(A,"layout","text-field",v,E,y,T);H="object"==typeof n&&n.sections?1===n.sections.length?n.toString():n.sections.reduce(((e,n,r)=>{const i=n.fontStack?n.fontStack.split(","):t,o=Pr(s?s(i):i,V*(n.scale||1),q);let a=n.text;if("\n"===a)return e.push("\n",""),e;if(2==w)return e.push(ii(a,Y),o),e;a=ci(a,o,X,Y).split("\n");for(let t=0,n=a.length;t<n;++t)t>0&&e.push("\n",""),e.push(a[t],o);return e}),[]):Mi(n,d).trim(),l=xi(A,"paint","text-opacity",v,E,y,T)}if(H&&l&&!$){K||(++M,R=S[M],R&&R.getText()&&!R.getFill()&&!R.getStroke()||(R=new z.default,S[M]=R),R.setImage(void 0),R.setGeometry(void 0));const t=Si(A,v,E,"text",y);R.getText()||R.setText(Z),Z=R.getText(),(!Z||"getDeclutterMode"in Z&&Z.getDeclutterMode()!==t)&&(Z=new G.default({padding:[2,2,2,2],declutterMode:t}),R.setText(Z));const e=xi(A,"layout","text-transform",v,E,y,T);"uppercase"==e?H=Array.isArray(H)?H.map(((t,e)=>e%2?t:t.toUpperCase())):H.toUpperCase():"lowercase"==e&&(H=Array.isArray(H)?H.map(((t,e)=>e%2?t:t.toLowerCase())):H.toLowerCase());const n=Array.isArray(H)?H:2==w?ii(H,Y):ci(H,W,X,Y);if(Z.setText(n),Z.setFont(W),Z.setRotation(Hr(xi(A,"layout","text-rotate",v,E,y,T))),"function"==typeof Z.setKeepUpright){const t=xi(A,"layout","text-keep-upright",v,E,y,T);Z.setKeepUpright(t)}const r=xi(A,"layout","text-anchor",v,E,y,T),i=K||1==w?"point":xi(A,"layout","symbol-placement",v,E,y,T);let o;if("line-center"===i?(Z.setPlacement("line"),o="center"):Z.setPlacement(i),"line"===i&&"function"==typeof Z.setRepeat){const t=xi(A,"layout","symbol-spacing",v,E,y,T);Z.setRepeat(2*t)}Z.setOverflow("point"===i);let s=xi(A,"paint","text-halo-width",v,E,y,T);const a=xi(A,"layout","text-offset",v,E,y,T),c=xi(A,"paint","text-translate",v,E,y,T);let u=0,h=0;if("point"==i){o="center",-1!==r.indexOf("left")?(o="left",h=s):-1!==r.indexOf("right")&&(o="right",h=-s);const t=xi(A,"layout","text-rotation-alignment",v,E,y,T);Z.setRotateWithView("map"==t)}else Z.setMaxAngle(Hr(xi(A,"layout","text-max-angle",v,E,y,T))*H.length/n.length),Z.setRotateWithView(!1);Z.setTextAlign(o);let d="middle";0==r.indexOf("bottom")?(d="bottom",u=-s-.5*(q-1)*V):0==r.indexOf("top")&&(d="top",u=s+.5*(q-1)*V),Z.setTextBaseline(d);const f=xi(A,"layout","text-justify",v,E,y,T);Z.setJustify("auto"===f?void 0:f),Z.setOffsetX(a[0]*V+h+c[0]),Z.setOffsetY(a[1]*V+u+c[1]),x.setColor(Ti(xi(A,"paint","text-color",v,E,y,T),l)),Z.setFill(x);const p=Ti(xi(A,"paint","text-halo-color",v,E,y,T),l);if(p&&s>0){b.setColor(p),s*=2;const t=.5*V;b.setWidth(s<=t?s:t),Z.setStroke(b)}else Z.setStroke(void 0);const g=xi(A,"layout","text-padding",v,E,y,T),m=Z.getPadding();g!==m[0]&&(m[0]=g,m[1]=g,m[2]=g,m[3]=g),R.setZIndex(O)}}}return M>-1?(S.length=M+1,Ai&&("set"in n?n.set("mapbox-layer",C):n.getProperties()["mapbox-layer"]=C),S):void 0};return t.setStyle(w),t.set("mapbox-source",v),t.set("mapbox-layers",p),t.set("mapbox-featurestate",t.get("mapbox-featurestate")||{}),w}function Pi(t,e){const n=t[0],r=n.width,i=n.height,o=n.data,s=new Uint8ClampedArray(o.length),a=2*e.resolution,l=r-1,c=i-1,u=[0,0,0,0],h=2*Math.PI,d=Math.PI/2,f=Math.PI*e.sunEl/180,p=Math.PI*e.sunAz/180,g=Math.cos(f),m=Math.sin(f),y=e.highlightColor,_=e.shadowColor,v=e.accentColor,b=e.encoding;let x,S,w,E,T,C,M,A,k,I,P,R,O,N,D,$,L,F,j,U,B,z;function G(t,e="mapbox"){return"mapbox"===e?.1*(256*t[0]*256+256*t[1]+t[2])-1e4:"terrarium"===e?256*t[0]+t[1]+t[2]/256-32768:void 0}for(S=0;S<=c;++S)for(T=0===S?0:S-1,C=S===c?c:S+1,x=0;x<=l;++x)w=0===x?0:x-1,E=x===l?l:x+1,M=4*(S*r+w),u[0]=o[M],u[1]=o[M+1],u[2]=o[M+2],u[3]=o[M+3],A=e.vert*G(u,b),M=4*(S*r+E),u[0]=o[M],u[1]=o[M+1],u[2]=o[M+2],u[3]=o[M+3],k=e.vert*G(u,b),I=(k-A)/a,M=4*(T*r+x),u[0]=o[M],u[1]=o[M+1],u[2]=o[M+2],u[3]=o[M+3],A=e.vert*G(u,b),M=4*(C*r+x),u[0]=o[M],u[1]=o[M+1],u[2]=o[M+2],u[3]=o[M+3],k=e.vert*G(u,b),P=(k-A)/a,O=Math.atan2(P,-I),O=O<0?d-O:O>d?h-O+d:d-O,R=Math.atan(Math.sqrt(I*I+P*P)),z=m*Math.cos(R)+g*Math.sin(R)*Math.cos(p-O),N=Math.cos(R),D=255*z,j=Math.min(Math.max(2*e.sunEl,0),1),U=1.875-1.75*e.opacity,B=.5!==e.opacity?d*((Math.pow(U,R)-1)/(Math.pow(U,d)-1)):R,L={r:(1-N)*v.r*j*255,g:(1-N)*v.g*j*255,b:(1-N)*v.b*j*255,a:(1-N)*v.a*j*255},$=Math.abs(((O+p)/Math.PI+.5)%2-1),F={r:(y.r*(1-$)+_.r*$)*D,g:(y.g*(1-$)+_.g*$)*D,b:(y.b*(1-$)+_.b*$)*D,a:(y.a*(1-$)+_.a*$)*D},M=4*(S*r+x),s[M]=L.r*(1-$)+F.r,s[M+1]=L.g*(1-$)+F.g,s[M+2]=L.b*(1-$)+F.b,s[M+3]=o[M+3]*e.opacity*j*Math.sin(B);return new ImageData(s,r,i)}function Ri(t,e=512){return t.getExtent()?P.createXYZ({extent:t.getExtent(),tileSize:e,maxZoom:22}).getResolutions():Wr}function Oi(t,e){return e.accessToken||(e=Object.assign({},e),new URL(t).searchParams.forEach(((t,n)=>{e.accessToken=t,e.accessTokenParam=n}))),e}function Ni(t,e,n="",r={},i=void 0){let o,s,a,l,u=!0;return"string"==typeof n||Array.isArray(n)?l=n:(a=n,l=a.source||a.layers,r=a),"string"==typeof r?(o=r,a={}):(o=r.styleUrl,a=r),!1===a.updateSource&&(u=!1),i||(i=a.resolutions),o||"string"!=typeof e||e.trim().startsWith("{")||(o=e),o&&(o=o.startsWith("data:")?location.href:Nr(o,a.accessToken),a=Oi(o,a)),new Promise((function(n,r){Zr(e,a).then((function(e){if(8!=e.version)return r(new Error("glStyle version 8 required."));if(!(t instanceof nt.default||t instanceof it.default))return r(new Error("Can only apply to VectorLayer or VectorTileLayer"));const h=t instanceof it.default?"vector":"geojson";if(l?s=Array.isArray(l)?e.layers.find((function(t){return t.id===l[0]})).source:l:(s=Object.keys(e.sources).find((function(t){return e.sources[t].type===h})),l=s),!s)return r(new Error(`No ${h} source found in the glStyle.`));function d(){if(!u)return Promise.resolve();if(t instanceof it.default)return Bi(e.sources[s],o,a).then((function(e){const n=t.getSource();n?e!==n&&(n.setTileUrlFunction(e.getTileUrlFunction()),"function"==typeof n.setUrls&&"function"==typeof e.getUrls&&n.setUrls(e.getUrls()),n.format_||(n.format_=e.format_),n.getAttributions()||n.setAttributions(e.getAttributions()),n.getTileLoadFunction()===M.defaultLoadFunction&&n.setTileLoadFunction(e.getTileLoadFunction()),R.equivalent(n.getProjection(),e.getProjection())&&(n.tileGrid=e.getTileGrid())):t.setSource(e);const r=t.getSource().getTileGrid();!isFinite(t.getMaxResolution())&&!isFinite(t.getMinZoom())&&r.getMinZoom()>0&&t.setMaxResolution(Yr(Math.max(0,r.getMinZoom()-1e-12),r.getResolutions()))}));const n=e.sources[s];let r=t.getSource();r&&r.get("mapbox-source")===n||(r=Wi(n,o,a));const i=t.getSource();return i?r!==i&&(i.getAttributions()||i.setAttributions(r.getAttributions()),i.format_||(i.format_=r.getFormat()),i.url_=r.getUrl()):t.setSource(r),Promise.resolve()}let f,p,g,m;function y(){if(m||e.sprite&&!p)m?(t.setStyle(m),d().then(n).catch(r)):r(new Error("Something went wrong trying to apply style."));else{if(a.projection&&!i){const t=R.get(a.projection).getUnits();"m"!==t&&(i=Wr.map((e=>e/k.METERS_PER_UNIT[t])))}m=Ii(t,e,l,i,p,g,((t,e=a.webfonts)=>function(t,e="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const n=t.toString();if(n in pi)return pi[n];const r=[];for(let e=0,n=t.length;e<n;++e){t[e]=t[e].replace("Arial Unicode MS","Arial");const n=t[e],i=Pr(n,1);c.registerFont(i);const o=i.split(" ");r.push([o.slice(3).join(" ").replace(/"/g,""),o[1],o[0]])}for(let t=0,n=r.length;t<n;++t){const n=r[t],i=n[0];if(!fi(i)&&100!==c.checkedFonts.get(`${n[2]}\n${n[1]} \n${i}`)){const t=e.replace("{font-family}",i.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",i.replace(/ /g,"+")).replace("{fontweight}",n[1]).replace("{-fontstyle}",n[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",n[2]);if(!document.querySelector('link[href="'+t+'"]')){const e=document.createElement("link");e.href=t,e.rel="stylesheet",document.head.appendChild(e)}}}return pi[n]=t,t}(t,e)),a.getImage),t.getStyle()?d().then(n).catch(r):r(new Error(`Nothing to show for source [${s}]`))}}if(e.sprite){const t=new URL(function(t,e,n){const r=Or(t);if(!r)return decodeURI(new URL(t,n).href);if(0!==r.indexOf("sprites/"))throw new Error(`unexpected sprites url: ${t}`);const i=r.slice(8);return`${Rr}/styles/v1/${i}/sprite?access_token=${e}`}(e.sprite,a.accessToken,o||location.href));f=window.devicePixelRatio>=1.5?.5:1;const n=.5==f?"@2x":"";let i=t.origin+t.pathname+n+".json"+t.search;new Promise((function(e,n){Kr("Sprite",i,a).then(e).catch((function(r){i=t.origin+t.pathname+".json"+t.search,Kr("Sprite",i,a).then(e).catch(n)}))})).then((function(e){if(void 0===e&&r(new Error("No sprites found.")),p=e,g=t.origin+t.pathname+n+".png"+t.search,a.transformRequest){const t=a.transformRequest(g,"SpriteImage")||g;(t instanceof Request||t instanceof Promise)&&(g=t)}y()})).catch((function(t){r(new Error(`Sprites cannot be loaded: ${i}: ${t.message}`))}))}else y()})).catch(r)}))}const Di={};function $i(t,e,n={}){return Zr(e,n).then((function(e){!function(t,e,n){e.layers.some((function(e){if("background"===e.type){if(t instanceof V.default)return t.setBackground((function(t){return ji(e,t,n,{})})),!0;if(t instanceof K.default||t instanceof Y.default)return t.getLayers().insertAt(0,Ui(e,n,{})),!0}}))}(t,e,n)}))}function Li(t,e){let n;return t.some((function(t){if(t.id==e)return n=t.source,!0})),n}function Fi(t,e,n){const r=new tt.default({tileJSON:e,tileSize:t.tileSize||e.tileSize||512}),i=r.getTileJSON(),o=r.getTileGrid(),s=R.get(n.projection||"EPSG:3857"),a=function(t,e){const n=t.bounds;if(n){const t=R.fromLonLat([n[0],n[1]],e),r=R.fromLonLat([n[2],n[3]],e);return[t[0],t[1],r[0],r[1]]}return R.get(e).getExtent()}(i,s),l=s.getExtent(),c=i.minzoom||0,u=i.maxzoom||22,h={attributions:r.getAttributions(),projection:s,tileGrid:new Q.default({origin:l?O.getTopLeft(l):o.getOrigin(0),extent:a||o.getExtent(),minZoom:c,resolutions:Ri(s,e.tileSize).slice(0,u+1),tileSize:o.getTileSize(0)})};return Array.isArray(i.tiles)?h.urls=i.tiles:h.url=i.tiles,h}function ji(t,e,n,r){const i={id:t.id,type:t.type},o=t.layout||{},s=t.paint||{};i.paint=s;const a=Vr(e,n.resolutions||Wr);let l;const c=xi(i,"paint","background-color",a,Di,r);return void 0!==s["background-opacity"]&&(l=xi(i,"paint","background-opacity",a,Di,r)),"none"==o.visibility?void 0:Ti(c,l)}function Ui(t,e,n){const r=document.createElement("div");return r.className="ol-mapbox-style-background",r.style.position="absolute",r.style.width="100%",r.style.height="100%",new V.default({source:new J.default({}),render(i){const o=ji(t,i.viewState.resolution,e,n);return r.style.backgroundColor=o,r}})}function Bi(t,e,n){return new Promise((function(r,i){Qr(t,e,n).then((function({tileJson:e,tileLoadFunction:i}){const o=Fi(t,e,n);o.tileLoadFunction=i,o.format=new X.default,r(new ot.default(o))})).catch(i)}))}function zi(t){return`{bbox-${(t?t.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function Gi(t,e,n){return new Promise((function(r,i){Qr(t,e,n).then((function({tileJson:e,tileLoadFunction:i}){const o=new tt.default({interpolate:void 0===n.interpolate||n.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:e});o.tileGrid=Fi(t,e,n).tileGrid,n.projection&&(o.projection=R.get(n.projection));const s=o.getTileUrlFunction();i&&o.setTileLoadFunction(i),o.setTileUrlFunction((function(t,e,n){const r=zi(n);let i=s(t,e,n);if(-1!=i.indexOf(r)){const e=o.getTileGrid().getTileCoordExtent(t);i=i.replace(r,e.toString())}return i})),o.set("mapbox-source",t),r(o)})).catch((function(t){i(t)}))}))}function Hi(t,e,n){const r=new et.default;return Gi(t,e,n).then((function(t){r.setSource(t)})).catch((function(){r.setSource(void 0)})),r}function Wi(t,e,n){const r=n.projection?new W.default({dataProjection:n.projection}):new W.default,i=t.data,o={};if("string"==typeof i){const[o]=$r(i,n.accessToken,n.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(o)){const e=(t,e,n)=>{const r=zi(n);return o.replace(r,`${t.join(",")}`)},i=new rt.default({attributions:t.attribution,format:r,loader:(t,r,o,s,a)=>{Kr("GeoJSON","function"==typeof e?e(t,r,o):e,n).then((t=>{const e=i.getFormat().readFeatures(t,{featureProjection:o});i.addFeatures(e),s(e)})).catch((e=>{i.removeLoadedExtent(t),a()}))},strategy:I.bbox});return i.set("mapbox-source",t),i}const s=new rt.default({attributions:t.attribution,format:r,url:o,loader:(t,e,r,i,a)=>{Kr("GeoJSON",o,n).then((t=>{const e=s.getFormat().readFeatures(t,{featureProjection:r});s.addFeatures(e),i(e)})).catch((e=>{s.removeLoadedExtent(t),a()}))}});return s}o.features=r.readFeatures(i,{featureProjection:R.getUserProjection()||"EPSG:3857"});const s=new rt.default(Object.assign({attributions:t.attribution,format:r},o));return s.set("mapbox-source",t),s}function qi(t,e,n,r){const i=zr(t),o=t.layers,s=n.type,a=n.source||Li(o,n.ref),l=t.sources[a];let c;if("background"==s)c=Ui(n,r,i);else if("vector"==l.type)c=function(t,e,n){const r=new it.default({declutter:!0,visible:!1});return Bi(t,e,n).then((function(e){e.set("mapbox-source",t),r.setSource(e)})).catch((function(t){r.setSource(void 0)})),r}(l,e,r);else if("raster"==l.type)c=Hi(l,e,r),c.setVisible(!n.layout||"none"!==n.layout.visibility),c.on("prerender",function(t,e,n){let r=null;return function(i){t.paint&&"raster-opacity"in t.paint&&i.frameState.viewState.zoom!==r&&(r=i.frameState.viewState.zoom,delete n[t.id],function(t,e,n,r){const i=xi(t,"paint","raster-opacity",n,Di,r);e.setOpacity(i)}(t,e,r,n))}}(n,c,i));else if("geojson"==l.type)c=function(t,e,n){return new nt.default({declutter:!0,source:Wi(t,e,n),visible:!1})}(l,e,r);else if("raster-dem"==l.type&&"hillshade"==n.type){const t=function(t,e,n){const r=Hi(t,e,n);return new q.default({source:new Z.default({operationType:"image",operation:Pi,sources:[r]})})}(l,e,r);c=t,t.getSource().on("beforeoperations",(function(t){const e=t.data;e.resolution=R.getPointResolution(r.projection||"EPSG:3857",t.resolution,O.getCenter(t.extent),"m");const o=Vr(t.resolution,r.resolutions||Wr);e.encoding=l.encoding,e.vert=5*xi(n,"paint","hillshade-exaggeration",o,Di,i),e.sunAz=xi(n,"paint","hillshade-illumination-direction",o,Di,i),e.sunEl=35,e.opacity=.3,e.highlightColor=xi(n,"paint","hillshade-highlight-color",o,Di,i),e.shadowColor=xi(n,"paint","hillshade-shadow-color",o,Di,i),e.accentColor=xi(n,"paint","hillshade-accent-color",o,Di,i)})),c.setVisible(!n.layout||"none"!==n.layout.visibility)}const u=a;return c&&c.set("mapbox-source",u),c}function Vi(t,e,n,r){const i=[];let o=null;if(e instanceof K.default){if(o=e.getView(),!o.isDef()&&!o.getRotation()&&!o.getResolutions()){const t=r.projection?R.get(r.projection):o.getProjection();o=new st.default(Object.assign(o.getProperties(),{maxResolution:Wr[0]/k.METERS_PER_UNIT[t.getUnits()],projection:r.projection||o.getProjection()})),e.setView(o)}"center"in t&&!o.getCenter()&&o.setCenter(R.fromLonLat(t.center,o.getProjection())),"zoom"in t&&void 0===o.getZoom()&&o.setResolution(Wr[0]/k.METERS_PER_UNIT[o.getProjection().getUnits()]/Math.pow(2,t.zoom)),o.getCenter()&&void 0!==o.getZoom()||o.fit(o.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",t),e.set("mapbox-metadata",{styleUrl:n,options:r});const s=t.layers;let a,l,c,u=[];for(let o=0,h=s.length;o<h;++o){const h=s[o],d=h.type;"heatmap"!=d?(c=h.source||Li(s,h.ref),c&&c==l||(u.length&&(i.push(Xi(a,u,t,n,e,r)),u=[]),a=qi(t,n,h,r),a instanceof nt.default||a instanceof it.default||(u=[]),l=a.get("mapbox-source")),u.push(h.id)):console.debug(`layers[${o}].type "${d}" not supported`)}return i.push(Xi(a,u,t,n,e,r)),Promise.all(i)}function Yi(t,e,n={}){let r,i;if(i="string"==typeof t||t instanceof HTMLElement?new K.default({target:t}):t,"string"==typeof e){const t=e.startsWith("data:")?location.href:Nr(e,n.accessToken);n=Oi(t,n),r=new Promise((function(r,o){Zr(e,n).then((function(e){Vi(e,i,t,n).then((function(){r(i)})).catch(o)})).catch((function(t){o(new Error(`Could not load ${e}: ${t.message}`))}))}))}else r=new Promise((function(t,r){Vi(e,i,!n.styleUrl||n.styleUrl.startsWith("data:")?location.href:Nr(n.styleUrl,n.accessToken),n).then((function(){t(i)})).catch(r)}));return r}function Xi(t,e,n,r,i,o={}){let s=24,a=0;const l=n.layers;for(let t=0,n=l.length;t<n;++t){const n=l[t];-1!==e.indexOf(n.id)&&(s=Math.min("minzoom"in n?n.minzoom:0,s),a=Math.max("maxzoom"in n?n.maxzoom:24,a))}return new Promise((function(l,c){const u=function(){const u=t.getSource();if(u&&"error"!==u.getState()){if("getTileGrid"in u){const e=u.getTileGrid();if(e){const n=e.getMinZoom();(s>0||n>0)&&t.setMaxResolution(Math.min(Yr(Math.max(0,s-1e-12),Wr),Yr(Math.max(0,n-1e-12),e.getResolutions()))),a<24&&t.setMinResolution(Yr(a,Wr))}}else s>0&&t.setMaxResolution(Yr(Math.max(0,s-1e-12),Wr));u instanceof rt.default||u instanceof ot.default?Ni(t,n,e,Object.assign({styleUrl:r},o)).then((function(){!function(t,e){function n(){const n=e.get("mapbox-style");if(!n)return;const r=Cr(n.layers),i=t.get("mapbox-layers"),o=r.filter((function(t){return i.includes(t.id)})).some((function(t){return!t.layout||!t.layout.visibility||"visible"===t.layout.visibility}));t.get("visible")!==o&&t.setVisible(o)}t.on("change",n),n()}(t,i),l()})).catch(c):l()}else c(new Error("Error accessing data for source "+t.get("mapbox-source")))};t.set("mapbox-layers",e);const h=i.getLayers();-1===h.getArray().indexOf(t)&&h.push(t),t.getSource()?u():t.once("change:source",u)}))}function Ki(t,e){return t.get("mapbox-style").layers.find((function(t){return t.id===e}))}function Zi(t,e){const n=t.getLayers().getArray();for(let t=0,r=n.length;t<r;++t){const r=n[t].get("mapbox-layers");if(r&&-1!==r.indexOf(e))return n[t]}}function Ji(t,e){const n=[],r=t.getLayers().getArray();for(let t=0,i=r.length;t<i;++t)r[t].get("mapbox-source")===e&&n.push(r[t]);return n}function Qi(t,e){const n=t.getLayers().getArray();for(let t=0,r=n.length;t<r;++t){const r=n[t].getSource();if(n[t].get("mapbox-source")===e)return r}}class to extends at.default{constructor(t){super(lt.default.ERROR),this.error=t}}class eo extends it.default{constructor(t){const e=!("declutter"in t)||t.declutter,n=new ot.default({state:"loading",format:new X.default});super({source:n,background:!1===t.background?null:t.background,declutter:e,className:t.className,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,minResolution:t.minResolution,maxResolution:t.maxResolution,minZoom:t.minZoom,maxZoom:t.maxZoom,renderOrder:t.renderOrder,renderBuffer:t.renderBuffer,renderMode:t.renderMode,map:t.map,updateWhileAnimating:t.updateWhileAnimating,updateWhileInteracting:t.updateWhileInteracting,preload:t.preload,useInterimTilesOnError:t.useInterimTilesOnError,properties:t.properties}),t.accessToken&&(this.accessToken=t.accessToken);const r=[Ni(this,t.styleUrl,t.layers||t.source,{accessToken:this.accessToken})];void 0===this.getBackground()&&r.push($i(this,t.styleUrl,{accessToken:this.accessToken})),Promise.all(r).then((()=>{n.setState("ready")})).catch((t=>{this.dispatchEvent(new to(t)),this.getSource().setState("error")}))}}t.MapboxVectorLayer=eo,t.addMapboxLayer=function(t,e,n){const r=t.get("mapbox-style"),i=r.layers;let o,s,a=-1;if(void 0!==n){const e=Ki(t,n);if(void 0===e)throw new Error(`Layer with id "${n}" not found.`);o=i.indexOf(e)}else o=i.length;if(o>0&&i[o-1].source===e.source?(a=o-1,s=-1):o<i.length&&i[o].source===e.source&&(a=o,s=0),-1===a){const{options:s,styleUrl:a}=t.get("mapbox-metadata"),l=qi(r,a,e,s);if(n){const e=Zi(t,n),r=t.getLayers().getArray().indexOf(e);t.getLayers().insertAt(r,l)}return i.splice(o,0,e),Xi(l,[e.id],r,a,t,s)}if(i.some((t=>t.id===e.id)))throw new Error(`Layer with id "${e.id}" already exists.`);const l=i[a].id,c=ki[Br(t.get("mapbox-style"),Zi(t,l))];if(i.splice(o,0,e),c){const[t,n,r,i,o,a,u,h]=c;if(Array.isArray(r)){const t=r.indexOf(l)+s;r.splice(t,0,e.id)}Ii(t,n,r,i,o,a,u,h)}else Zi(t,i[a].id).changed();return Promise.resolve()},t.apply=Yi,t.applyBackground=$i,t.applyStyle=Ni,t.default=Yi,t.getFeatureState=function(t,e){const n="getLayers"in t?Ji(t,e.source):[t];for(let t=0,r=n.length;t<r;++t){const r=n[t].get("mapbox-featurestate");if(r&&r[e.id])return r[e.id]}},t.getLayer=Zi,t.getLayers=Ji,t.getMapboxLayer=Ki,t.getSource=Qi,t.getStyleForLayer=function(t,e,n,r){const i=n.getStyleFunction();if(3===i.length)return i(t,e,r)},t.recordStyleLayer=function(t=!1){Ai=t},t.removeMapboxLayer=function(t,e){const n="string"==typeof e?e:e.id,r=Zi(t,n),i=r.get("mapbox-layers");if(1===i.length)throw new Error("Cannot remove last Mapbox layer from an OpenLayers layer.");i.splice(i.indexOf(n),1);const o=t.get("mapbox-style"),s=o.layers;s.splice(s.findIndex((t=>t.id===n)),1);const a=ki[Br(o,r)];if(a){const[t,e,r,i,o,s,l,c]=a;Array.isArray(r)&&r.splice(r.findIndex((t=>t===n)),1),Ii(t,e,r,i,o,s,l,c)}else Zi(t,n).changed()},t.renderTransparent=function(t){t!==Ei&&(function(){for(const t in Lr)delete Lr[t]}(),Ei=t)},t.setFeatureState=function(t,e,n){const r="getLayers"in t?Ji(t,e.source):[t];for(let t=0,i=r.length;t<i;++t){const i=r[t].get("mapbox-featurestate");if(!i)throw new Error(`Map or layer for source "${e.source}" not found.`);n?i[e.id]=n:delete i[e.id],r[t].changed()}},t.stylefunction=Ii,t.updateMapboxLayer=function(t,e){const n=t.get("mapbox-style"),r=n.layers,i=r.findIndex((function(t){return t.id===e.id}));if(-1===i)throw new Error(`Layer with id "${e.id}" not found.`);if(r[i].source!==e.source)throw new Error("Updated layer and previous version must use the same source.");delete zr(n)[e.id],delete Gr(n)[e.id],r[i]=e;const o=ki[Br(t.get("mapbox-style"),Zi(t,e.id))];o?Ii.apply(void 0,o):Zi(t,e.id).changed()},t.updateMapboxSource=function(t,e,n){const r=Qi(t,e),i=t.getLayers().getArray().filter((function(t){return(t instanceof nt.default||t instanceof et.default||t instanceof it.default)&&t.getSource()===r})),o=t.get("mapbox-metadata");let s;switch(n.type){case"vector":s=Bi(n,o.styleUrl,o.options);break;case"geojson":s=Promise.resolve(Wi(n,o.styleUrl,o.options));break;case"raster":case"raster-dem":s=Gi(n,o.styleUrl,o.options);break;default:return Promise.reject(new Error("Unsupported source type "+n.type))}return s.then((function(t){i.forEach((function(e){e.setSource(t)}))})),s},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("ol/style/Circle.js"),require("ol/style/Fill.js"),require("ol/style/Icon.js"),require("ol/render/Feature.js"),require("ol/style/Stroke.js"),require("ol/style/Style.js"),require("ol/style/Text.js"),require("ol/functions.js"),require("ol/render/canvas.js"),require("ol/TileState.js"),require("ol"),require("ol/util.js"),require("ol/format/GeoJSON.js"),require("ol/layer/Image.js"),require("ol/layer/Layer.js"),require("ol/layer/Group.js"),require("ol/format/MVT.js"),require("ol/Map.js"),require("ol/source/Raster.js"),require("ol/source/Source.js"),require("ol/tilegrid/TileGrid.js"),require("ol/source/TileJSON.js"),require("ol/layer/Tile.js"),require("ol/layer/Vector.js"),require("ol/source/Vector.js"),require("ol/layer/VectorTile.js"),require("ol/source/VectorTile.js"),require("ol/View.js"),require("ol/proj/Units.js"),require("ol/loadingstrategy.js"),require("ol/tilegrid.js"),require("ol/proj.js"),require("ol/extent.js"),require("ol/events/Event.js"),require("ol/events/EventType.js")):"function"==typeof define&&define.amd?define(["exports","ol/style/Circle.js","ol/style/Fill.js","ol/style/Icon.js","ol/render/Feature.js","ol/style/Stroke.js","ol/style/Style.js","ol/style/Text.js","ol/functions.js","ol/render/canvas.js","ol/TileState.js","ol","ol/util.js","ol/format/GeoJSON.js","ol/layer/Image.js","ol/layer/Layer.js","ol/layer/Group.js","ol/format/MVT.js","ol/Map.js","ol/source/Raster.js","ol/source/Source.js","ol/tilegrid/TileGrid.js","ol/source/TileJSON.js","ol/layer/Tile.js","ol/layer/Vector.js","ol/source/Vector.js","ol/layer/VectorTile.js","ol/source/VectorTile.js","ol/View.js","ol/proj/Units.js","ol/loadingstrategy.js","ol/tilegrid.js","ol/proj.js","ol/extent.js","ol/events/Event.js","ol/events/EventType.js"],i):i((r="undefined"!=typeof globalThis?globalThis:r||self).olms={},r.ol.style.Circle,r.ol.style.Fill,r.ol.style.Icon,r.ol.render.Feature,r.ol.style.Stroke,r.ol.style.Style,r.ol.style.Text,r.ol.functions,r.ol.render.canvas,r.ol.TileState,r.ol,r.ol.util,r.ol.format.GeoJSON,r.ol.layer.Image,r.ol.layer.Layer,r.ol.layer.Group,r.ol.format.MVT,r.ol.Map,r.ol.source.Raster,r.ol.source.Source,r.ol.tilegrid.TileGrid,r.ol.source.TileJSON,r.ol.layer.Tile,r.ol.layer.Vector,r.ol.source.Vector,r.ol.layer.VectorTile,r.ol.source.VectorTile,r.ol.View,r.ol.proj.Units,r.ol.loadingstrategy,r.ol.tilegrid,r.ol.proj,r.ol.extent,r.ol.events.Event,r.ol.events.EventType)},71:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CollectionEvent:()=>a,default:()=>c});var r=n(4120),i=n(2135),o=n(1685);const s="length";class a extends o.default{constructor(t,e,n){super(t),this.element=e,this.index=n}}class l extends r.default{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,r=e.length;n<r;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(s)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new a(i.A.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new a(i.A.REMOVE,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new a(i.A.REMOVE,n,t)),this.dispatchEvent(new a(i.A.ADD,e,t))}updateLength_(){this.set(s,this.array_.length)}assertUnique_(t,e){for(let n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}}const c=l},2135:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={ADD:"add",REMOVE:"remove"}},7607:(t,e,n)=>{"use strict";n.d(e,{$r:()=>u,Ay:()=>f,bL:()=>a,xo:()=>s});var r=n(8143),i=n(1078),o=n(8711);function s(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function a(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}const l=new Error("disposed");let c=null;function u(t){c||(c=(0,o.createCanvasContext2D)(t.width,t.height,void 0,{willReadFrequently:!0}));const e=c.canvas,n=t.width;e.width!==n&&(e.width=n);const r=t.height;return e.height!==r&&(e.height=r),c.clearRect(0,0,n,r),c.drawImage(t,0,0),c.getImageData(0,0,n,r).data}const h=[256,256];class d extends r.A{constructor(t){const e=i.A.IDLE;super(t.tileCoord,e,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=s(this.data_);return t?[t.width,t.height]:h}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==i.A.IDLE&&this.state!==i.A.ERROR)return;this.state=i.A.LOADING,this.changed();const t=this;this.loader_().then((function(e){t.data_=e,t.state=i.A.LOADED,t.changed()})).catch((function(e){t.error_=e,t.state=i.A.ERROR,t.changed()}))}disposeInternal(){this.controller_&&(this.controller_.abort(l),this.controller_=null),super.disposeInternal()}}const f=d},25:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},6717:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createStyleFunction:()=>l,default:()=>c});var r=n(4120),i=n(6837),o=n(588),s=n(9438);class a extends r.default{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new a(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,s.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=(0,s.listen)(t,i.A.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?l(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function l(t){if("function"==typeof t)return t;let e;if(Array.isArray(t))e=t;else{(0,o.v)("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");e=[t]}return function(){return e}}const c=a},5213:(t,e,n)=>{"use strict";n.r(e),n.d(e,{GeolocationError:()=>v,default:()=>x});var r=n(1685),i=n(4120),o=n(4142),s=n(3407),a=n(1597);const l="accuracy",c="accuracyGeometry",u="altitude",h="altitudeAccuracy",d="heading",f="position",p="projection",g="speed",m="tracking",y="trackingOptions",_="error";class v extends r.default{constructor(t){super(_),this.code=t.code,this.message=t.message}}class b extends i.default{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.position_=null,this.transform_=s.identityTransform,this.watchId_=void 0,this.addChangeListener(p,this.handleProjectionChanged_),this.addChangeListener(m,this.handleTrackingChanged_),void 0!==t.projection&&this.setProjection(t.projection),void 0!==t.trackingOptions&&this.setTrackingOptions(t.trackingOptions),this.setTracking(void 0!==t.tracking&&t.tracking)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const t=this.getProjection();t&&(this.transform_=(0,s.getTransformFromProjections)((0,s.get)("EPSG:4326"),t),this.position_&&this.set(f,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(t){const e=t.coords;this.set(l,e.accuracy),this.set(u,null===e.altitude?void 0:e.altitude),this.set(h,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(d,null===e.heading?void 0:(0,a.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];const n=this.transform_(this.position_);this.set(f,n.slice()),this.set(g,null===e.speed?void 0:e.speed);const r=(0,o.circular)(this.position_,e.accuracy);r.applyTransform(this.transform_),this.set(c,r),this.changed()}positionError_(t){this.dispatchEvent(new v(t))}getAccuracy(){return this.get(l)}getAccuracyGeometry(){return this.get(c)||null}getAltitude(){return this.get(u)}getAltitudeAccuracy(){return this.get(h)}getHeading(){return this.get(d)}getPosition(){return this.get(f)}getProjection(){return this.get(p)}getSpeed(){return this.get(g)}getTracking(){return this.get(m)}getTrackingOptions(){return this.get(y)}setProjection(t){this.set(p,(0,s.get)(t))}setTracking(t){this.set(m,t)}setTrackingOptions(t){this.set(y,t)}}const x=b},3938:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>f,D4:()=>d,RA:()=>h,f6:()=>u});var r=n(9332),i=n(6837),o=n(6141),s=n(7771),a=n(9438),l=n(4238);class c extends r.default{constructor(t,e,n,r){super(),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state="function"==typeof r?o.A.IDLE:r,this.image_=null,this.loader="function"==typeof r?r:null}changed(){this.dispatchEvent(i.A.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==o.A.IDLE&&this.loader){this.state=o.A.LOADING,this.changed();const t=this.getResolution(),e=Array.isArray(t)?t[0]:t;(0,l.toPromise)((()=>this.loader(this.getExtent(),e,this.getPixelRatio()))).then((t=>{"image"in t&&(this.image_=t.image),"extent"in t&&(this.extent=t.extent),"resolution"in t&&(this.resolution=t.resolution),"pixelRatio"in t&&(this.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(this.image_=t),this.state=o.A.LOADED})).catch((t=>{this.state=o.A.ERROR,console.error(t)})).finally((()=>this.changed()))}}setImage(t){this.image_=t}setResolution(t){this.resolution=t}}function u(t,e,n){const r=t;let o=!0,l=!1,c=!1;const u=[(0,a.listenOnce)(r,i.A.LOAD,(function(){c=!0,l||e()}))];return r.src&&s.IMAGE_DECODE?(l=!0,r.decode().then((function(){o&&e()})).catch((function(t){o&&(c?e():n())}))):u.push((0,a.listenOnce)(r,i.A.ERROR,n)),function(){o=!1,u.forEach(a.unlistenByKey)}}function h(t,e){return e&&(t.src=e),t.src&&s.IMAGE_DECODE?new Promise(((e,n)=>t.decode().then((()=>e(t))).catch((r=>t.complete&&t.width?e(t):n(r))))):function(t,e){return new Promise(((n,r)=>{function i(){s(),n(t)}function o(){s(),r(new Error("Image load error"))}function s(){t.removeEventListener("load",i),t.removeEventListener("error",o)}t.addEventListener("load",i),t.addEventListener("error",o),e&&(t.src=e)}))}(t)}function d(t,e){return e&&(t.src=e),t.src&&s.IMAGE_DECODE&&s.CREATE_IMAGE_BITMAP?t.decode().then((()=>createImageBitmap(t))).catch((e=>{if(t.complete&&t.width)return t;throw e})):h(t)}const f=c},6141:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},190:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(8143),i=n(1078),o=n(8711),s=n(3938);class a extends r.A{constructor(t,e,n,r,i,o){super(t,e,o),this.crossOrigin_=r,this.src_=n,this.key=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=i}getImage(){return this.image_}setImage(t){this.image_=t,this.state=i.A.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=i.A.ERROR,this.unlistenImage_(),this.image_=function(){const t=(0,o.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=i.A.LOADED:this.state=i.A.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==i.A.ERROR&&(this.state=i.A.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==i.A.IDLE&&(this.state=i.A.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,s.f6)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}const l=a},7749:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>lt});var r=n(4120),i=n(71),o=n(2135),s=n(2284),a=n(25),l=n(4238),c=n(4087),u=n(9703),h=n(915),d=n(2241),f=n(764),p=n(9314);class g extends a.A{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,c.abstract)()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;(0,u.Zz)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,u.T9)(r,n)}forEachFeatureAtCoordinate(t,e,n,r,i,o,s,a){let l;const c=e.viewState;function u(t,e,n,r){return i.call(o,e,t?n:null,r)}const d=c.projection,g=(0,p.wrapX)(t.slice(),d),m=[[0,0]];if(d.canWrapX()&&r){const t=d.getExtent(),e=(0,h.getWidth)(t);m.push([-e,0],[e,0])}const y=e.layerStatesArray,_=y.length,v=[],b=[];for(let r=0;r<m.length;r++)for(let i=_-1;i>=0;--i){const o=y[i],h=o.layer;if(h.hasRenderer()&&(0,f.inView)(o,c)&&s.call(a,h)){const i=h.getRenderer(),s=h.getSource();if(i&&s){const a=s.getWrapX()?g:t,c=u.bind(null,o.managed);b[0]=a[0]+m[r][0],b[1]=a[1]+m[r][1],l=i.forEachFeatureAtCoordinate(b,e,n,c,v)}if(l)return l}}if(0===v.length)return;const x=1/v.length;return v.forEach(((t,e)=>t.distanceSq+=e*x)),v.sort(((t,e)=>t.distanceSq-e.distanceSq)),v.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,l.TRUE,this,i,o)}getMap(){return this.map_}renderFrame(t){(0,c.abstract)()}scheduleExpireIconCache(t){d.ue.canExpireCache()&&t.postRenderFunctions.push(m)}}function m(t,e){d.ue.expire()}const y=g;var _=n(8450),v=n(9960),b=n(3984),x=n(5176),S=n(8774),w=n(9438),E=n(8711);const T=class extends y{constructor(t){super(t),this.fontChangeListenerKey_=(0,w.listen)(S.yY,_.A.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=x.XI+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const r=new v.default(t,void 0,e);n.dispatchEvent(r)}}disposeInternal(){(0,w.unlistenByKey)(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(b.A.PRECOMPOSE,t);const e=t.layerStatesArray.sort(((t,e)=>t.zIndex-e.zIndex));e.some((t=>t.layer instanceof s.A&&t.layer.getDeclutter()))&&(t.declutter={});const n=t.viewState;this.children_.length=0;const r=[];let i=null;for(let o=0,s=e.length;o<s;++o){const s=e[o];t.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!(0,f.inView)(s,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(t,i);c&&(c!==i&&(this.children_.push(c),i=c),r.push(s))}this.declutter(t,r),(0,E.replaceChildren)(this.element_,this.children_),this.dispatchRenderEvent(b.A.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){if(t.declutter){for(let n=e.length-1;n>=0;--n){const r=e[n],i=r.layer;i.getDeclutter()&&i.renderDeclutter(t,r)}e.forEach((e=>e.layer.renderDeferred(t)))}}};var C=n(6837),M=n(5598),A=n(277),k=n(3445),I=n(613),P=n(9332),R=n(7771);class O extends P.default{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=(0,w.listen)(n,I.A.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,w.listen)(n,I.A.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(C.A.TOUCHMOVE,this.boundHandleTouchMove_,!!R.PASSIVE_EVENT_LISTENERS&&{passive:!1})}emulateClick_(t){let e=new A.default(k.A.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new A.default(k.A.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new A.default(k.A.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==k.A.POINTERUP||e.type==k.A.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=k.A.POINTERDOWN&&e.type!=k.A.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new A.default(k.A.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(w.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new A.default(k.A.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,w.listen)(t,k.A.POINTERMOVE,this.handlePointerMove_,this),(0,w.listen)(t,k.A.POINTERUP,this.handlePointerUp_,this),(0,w.listen)(this.element_,k.A.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push((0,w.listen)(this.element_.getRootNode(),k.A.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new A.default(k.A.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new A.default(k.A.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,w.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(C.A.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,w.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(w.unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const N=O;var D=n(5801),$=n(2585);const L="layergroup",F="size",j="target",U="view";var B=n(588),z=n(3530);const G=1/0;const H=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,z.clear)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const r=this.keyFunction_(n);return delete this.queuedElements_[r],n}enqueue(t){(0,B.v)(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=G&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],s=t;for(;t<r>>1;){const i=this.getLeftChildIndex_(t),o=this.getRightChildIndex_(t),s=o<r&&n[o]<n[i]?o:i;e[t]=e[s],n[t]=n[s],t=s}e[t]=i,n[t]=o,this.siftDown_(s,t)}siftDown_(t,e){const n=this.elements_,r=this.priorities_,i=n[e],o=r[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(r[t]>o))break;n[e]=n[t],r[e]=r[t],e=t}n[e]=i,r[e]=o}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let r=0;const i=e.length;let o,s,a;for(s=0;s<i;++s)o=e[s],a=t(o),a==G?delete this.queuedElements_[this.keyFunction_(o)]:(n[r]=a,e[r++]=o);e.length=r,n.length=r,this.heapify_()}};var W=n(1078);const q=class extends H{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);if(e){t[0].addEventListener(C.A.CHANGE,this.boundHandleTileChange_)}return e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===W.A.LOADED||n===W.A.ERROR||n===W.A.EMPTY){n!==W.A.ERROR&&e.removeEventListener(C.A.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n=0;for(;this.tilesLoading_<t&&n<e&&this.getCount()>0;){const t=this.dequeue()[0],e=t.getKey();t.getState()!==W.A.IDLE||e in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[e]=!0,++this.tilesLoading_,++n,t.load())}}};var V=n(1765),Y=n(2703),X=n(972),K=n(6514);class Z extends X.default{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",r=void 0!==t.expandClassName?t.expandClassName:e+"-expand",i=void 0!==t.collapseLabel?t.collapseLabel:"›",o=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i,this.collapseLabel_.className=o):this.collapseLabel_=i;const s=void 0!==t.label?t.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=r):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(C.A.CLICK,this.handleClick_.bind(this),!1);const l=e+" "+x.XI+" "+x.$N+(this.collapsed_&&this.collapsible_?" "+x.nT:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=this.getMap().getAllLayers(),n=new Set(e.flatMap((e=>e.getAttributions(t))));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach((t=>n.add(t))):n.add(this.attributions_)),!this.overrideCollapsible_){const t=!e.some((t=>!1===t.getSource()?.getAttributionsCollapsible()));this.setCollapsible(t)}return Array.from(n)}async updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=await Promise.all(this.collectSourceAttributions_(t).map((t=>(0,l.toPromise)((()=>t))))),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,K.equals)(e,this.renderedAttributions_)){(0,E.removeChildren)(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(x.nT),this.collapsed_?(0,E.replaceNode)(this.collapseLabel_,this.label_):(0,E.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}const J=Z;var Q=n(2898),tt=n(9186);var et=n(9318),nt=n(3407),rt=n(6782),it=n(4422);function ot(t){t instanceof f.default?t.setMapInternal(null):t instanceof M.default&&t.getLayers().forEach(ot)}function st(t,e){if(t instanceof f.default)t.setMapInternal(e);else if(t instanceof M.default){const n=t.getLayers().getArray();for(let t=0,r=n.length;t<r;++t)st(n[t],e)}}class at extends r.default{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new M.default({layers:t.layers});let o,s,a;n[L]=r,n[j]=t.target,n[U]=t.view instanceof V.default?t.view:new V.default,void 0!==t.controls&&(Array.isArray(t.controls)?o=new i.default(t.controls.slice()):((0,B.v)("function"==typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),o=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?s=new i.default(t.interactions.slice()):((0,B.v)("function"==typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?a=new i.default(t.overlays.slice()):((0,B.v)("function"==typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new i.default;return{controls:o,interactions:s,keyboardEventTarget:e,overlays:a,values:n}}(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:R.DEVICE_PIXEL_RATIO,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,u.vt)(),this.pixelToCoordinateTransform_=(0,u.vt)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||function(t){t=t||{};const e=new i.default;return(void 0===t.zoom||t.zoom)&&e.push(new tt.default(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new Q.default(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new J(t.attributionOptions)),e}(),this.interactions=e.interactions||(0,et.N)({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new q(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(L,this.handleLayerGroupChanged_),this.addChangeListener(U,this.handleViewChanged_),this.addChangeListener(F,this.handleSizeChanged_),this.addChangeListener(j,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof V.default||t.view.then((function(t){n.setView(new V.default(t))})),this.controls.addEventListener(o.A.ADD,(t=>{t.element.setMap(this)})),this.controls.addEventListener(o.A.REMOVE,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(o.A.ADD,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(o.A.REMOVE,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(o.A.ADD,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(o.A.REMOVE,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){st(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:l.TRUE,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,s,e,null,o,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}getAllLayers(){const t=[];return function e(n){n.forEach((function(n){n instanceof M.default?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:l.TRUE,i=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n=this.getSize(),r=e.width/n[0],i=e.height/n[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-e.left)/r,(o.clientY-e.top)/i]}getTarget(){return this.get(j)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,nt.toUserCoordinate)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,u.Bb)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(L)}setLayers(t){const e=this.getLayerGroup();if(t instanceof i.default)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const r=n.layer.getRenderer();if(r&&!r.ready)return!0;const i=n.layer.getSource();if(i&&i.loading)return!0}return!1}getPixelFromCoordinate(t){const e=(0,nt.fromUserCoordinate)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,u.Bb)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(F)}getView(){return this.get(U)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,r){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return G;if(!t.wantedTiles[n][e.getKey()])return G;const o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,t,e,n,r)}handleBrowserEvent(t,e){e=e||t.type;const n=new A.default(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===I.A.POINTERDOWN||n===C.A.WHEEL||n===C.A.KEYDOWN){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,r=e.target,i=n instanceof ShadowRoot?n.host===r?n.host.ownerDocument:n:n===t?t.documentElement:n;if(this.overlayContainerStopEvent_.contains(r)||!i.contains(r))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.getMap()!==this||!r.getActive()||!this.getTargetElement())continue;if(!r.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,r=n;if(t){const e=t.viewHints;if(e[Y.default.ANIMATING]||e[Y.default.INTERACTING]){const e=Date.now()-t.time>8;n=e?0:8,r=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(b.A.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(b.A.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new D.A($.A.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new D.A($.A.LOADSTART,this,t))));const n=this.postRenderFunctions_;for(let e=0,r=n.length;e<r;++e)n[e](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,w.unlistenByKey)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(C.A.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(C.A.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new T(this)),this.mapBrowserEventHandler_=new N(this,this.moveTolerance_);for(const t in k.A)this.mapBrowserEventHandler_.addEventListener(k.A[t],this.handleMapBrowserEvent.bind(this));let t;if(this.viewport_.addEventListener(C.A.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(C.A.WHEEL,this.boundHandleBrowserEvent_,!!R.PASSIVE_EVENT_LISTENERS&&{passive:!1}),this.keyboardEventTarget_)t=this.keyboardEventTarget_;else{const n=e.getRootNode();t=n instanceof ShadowRoot?n.host:e}this.targetChangeHandlerKeys_=[(0,w.listen)(t,C.A.KEYDOWN,this.handleBrowserEvent,this),(0,w.listen)(t,C.A.KEYPRESS,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,w.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,w.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=(0,w.listen)(t,_.A.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,w.listen)(t,C.A.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(w.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new M.GroupEvent("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,w.listen)(t,_.A.PROPERTYCHANGE,this.render,this),(0,w.listen)(t,C.A.CHANGE,this.render,this),(0,w.listen)(t,"addlayer",this.handleLayerAdd_,this),(0,w.listen)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){ot(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),r=this.frameState_;let i=null;if(void 0!==e&&(0,rt.hasArea)(e)&&n&&n.isDef()){const r=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:(0,h.getForViewAndSize)(o.center,o.resolution,o.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:o,viewHints:r,wantedTiles:{},mapId:(0,c.getUid)(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const t=isNaN(o.nextRotation)?o.rotation:o.nextRotation;i.nextExtent=(0,h.getForViewAndSize)(o.nextCenter,o.nextResolution,t,e)}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r){(!this.previousExtent_||!(0,h.isEmpty)(this.previousExtent_)&&!(0,h.equals)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new D.A($.A.MOVESTART,this,r)),this.previousExtent_=(0,h.createOrUpdateEmpty)(this.previousExtent_))}this.previousExtent_&&!i.viewHints[Y.default.ANIMATING]&&!i.viewHints[Y.default.INTERACTING]&&!(0,h.equals)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new D.A($.A.MOVEEND,this,i)),(0,h.clone)(i.extent,this.previousExtent_))}this.dispatchEvent(new D.A($.A.POSTRENDER,this,i)),this.renderComplete_=(this.hasListener($.A.LOADSTART)||this.hasListener($.A.LOADEND)||this.hasListener(b.A.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new M.GroupEvent("removelayer",e)),this.set(L,t)}setSize(t){this.set(F,t)}setTarget(t){this.set(j,t)}setView(t){if(!t||t instanceof V.default)return void this.set(U,t);this.set(U,new V.default);const e=this;t.then((function(t){e.setView(new V.default(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||(e=[Math.max(0,r),Math.max(0,i)],!(0,rt.hasArea)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,it.R8)("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&(0,K.equals)(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}}const lt=at},277:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(5801);class i extends r.A{constructor(t,e,n,r,i,o){super(t,e,i),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const o=i},3445:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(6837);const i={SINGLECLICK:"singleclick",CLICK:r.A.CLICK,DBLCLICK:r.A.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},5801:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=n(1685);class i extends r.default{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}}const o=i},2585:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},4120:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ObjectEvent:()=>l,default:()=>u});var r=n(1685),i=n(8450),o=n(1854),s=n(4087),a=n(3530);class l extends r.default{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class c extends o.default{constructor(t){super(),this.on,this.once,this.un,(0,s.getUid)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e)),n=i.A.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const r=this.values_||(this.values_={});if(n)r[t]=e;else{const n=r[t];r[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],(0,a.isEmpty)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}const u=c},8450:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={PROPERTYCHANGE:"propertychange"}},1854:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l,unByKey:()=>a});var r=n(9332),i=n(6837),o=n(9438);class s extends r.default{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(i.A.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=(0,o.listen)(this,t[i],e);return r}return(0,o.listen)(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const r=t.length;n=new Array(r);for(let i=0;i<r;++i)n[i]=(0,o.listenOnce)(this,t[i],e)}else n=(0,o.listenOnce)(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)a(n);else if(Array.isArray(t))for(let n=0,r=t.length;n<r;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)}}function a(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)(0,o.unlistenByKey)(t[e]);else(0,o.unlistenByKey)(t)}s.prototype.on,s.prototype.once,s.prototype.un;const l=s},1795:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(4120),i=n(2585),o=n(5176),s=n(915),a=n(9438),l=n(8711);const c="element",u="map",h="offset",d="position",f="positioning";class p extends r.default{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+o.Q5,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===t.autoPan?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(c,this.handleElementChanged),this.addChangeListener(u,this.handleMapChanged),this.addChangeListener(h,this.handleOffsetChanged),this.addChangeListener(d,this.handlePositionChanged),this.addChangeListener(f,this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get(c)}getId(){return this.id}getMap(){return this.get(u)||null}getOffset(){return this.get(h)}getPosition(){return this.get(d)}getPositioning(){return this.get(f)}handleElementChanged(){(0,l.removeChildren)(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),(0,a.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,a.listen)(t,i.A.POSTRENDER,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(c,t)}setMap(t){this.set(u,t)}setOffset(t){this.set(h,t)}setPosition(t){this.set(d,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const e=this.getMap();if(!e||!e.getTargetElement()||!this.get(d))return;const n=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),i=this.getRect(r,[(0,l.outerWidth)(r),(0,l.outerHeight)(r)]),o=void 0===(t=t||{}).margin?20:t.margin;if(!(0,s.containsExtent)(n,i)){const r=i[0]-n[0],s=n[2]-i[2],a=i[1]-n[1],l=n[3]-i[3],c=[0,0];if(r<0?c[0]=r-o:s<0&&(c[0]=Math.abs(s)+o),a<0?c[1]=a-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){const n=e.getView().getCenterInternal(),r=e.getPixelFromCoordinateInternal(n);if(!r)return;const i=[r[0]+c[0],r[1]+c[1]],o=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(i),duration:o.duration,easing:o.easing})}}}getRect(t,e){const n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]}setPositioning(t){this.set(f,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e)return void this.setVisible(!1);const n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}updateRenderedPosition(t,e){const n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);let o="0%",s="0%";"bottom-right"==i||"center-right"==i||"top-right"==i?o="-100%":"bottom-center"!=i&&"center-center"!=i&&"top-center"!=i||(o="-50%"),"bottom-left"==i||"bottom-center"==i||"bottom-right"==i?s="-100%":"center-left"!=i&&"center-center"!=i&&"center-right"!=i||(s="-50%");const a=`translate(${o}, ${s}) translate(${Math.round(t[0]+r[0])+"px"}, ${Math.round(t[1]+r[1])+"px"})`;this.rendered.transform_!=a&&(this.rendered.transform_=a,n.transform=a)}getOptions(){return this.options}}const g=p},8143:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(9332),i=n(6837),o=n(1078),s=n(4087),a=n(3474);class l extends r.default{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(i.A.CHANGE)}release(){this.state===o.A.ERROR&&this.setState(o.A.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==o.A.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){(0,s.abstract)()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const r=e-n+1e3/60;return r>=this.transition_?1:(0,a.easeIn)(r/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}const c=l},1110:(t,e,n)=>{"use strict";n.d(e,{A:()=>o,N:()=>i});class r{constructor(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function i(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)}const o=r},1078:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},1765:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createCenterConstraint:()=>T,createResolutionConstraint:()=>C,createRotationConstraint:()=>M,default:()=>I,isNoopAnimation:()=>A});var r=n(4120),i=n(2703);const o={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var s=n(7115),a=n(3407),l=n(4238),c=n(9314),u=n(588),h=n(1597);function d(t,e,n){return function(r,i,o,s,a){if(!r)return;if(!i&&!e)return r;const l=e?0:o[0]*i,c=e?0:o[1]*i,u=a?a[0]:0,d=a?a[1]:0;let f=t[0]+l/2+u,p=t[2]-l/2+u,g=t[1]+c/2+d,m=t[3]-c/2+d;f>p&&(f=(p+f)/2,p=f),g>m&&(g=(m+g)/2,m=g);let y=(0,h.clamp)(r[0],f,p),_=(0,h.clamp)(r[1],g,m);if(s&&n&&i){const t=30*i;y+=-t*Math.log(1+Math.max(0,f-r[0])/t)+t*Math.log(1+Math.max(0,r[0]-p)/t),_+=-t*Math.log(1+Math.max(0,g-r[1])/t)+t*Math.log(1+Math.max(0,r[1]-m)/t)}return[y,_]}}function f(t){return t}var p=n(915),g=n(6514);function m(t,e,n,r){const i=(0,p.getWidth)(e)/n[0],o=(0,p.getHeight)(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function y(t,e,n){let r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),(0,h.clamp)(r,n/2,2*e)}function _(t,e,n,r,i){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=r?m(t,r,a,i):t;return n&&l?y(o,s,e):(0,h.clamp)(o,e,s)}}}var v=n(4498),b=n(3474),x=n(4142);const S=0;class w extends r.default{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,a.createProjection)(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(0,a.disableCoordinateWarning)(),t.center&&(t.center=(0,a.fromUserCoordinate)(t.center,this.projection_)),t.extent&&(t.extent=(0,a.fromUserExtent)(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const t in o)delete e[t];this.setProperties(e,!0);const n=C(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const r=T(t),i=n.constraint,s=M(t);this.constraints_={center:r,resolution:i,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const r=t||[0,0,0,0];e=e||[0,0,0,0];const i=this.getResolution(),o=i/2*(r[3]-e[3]+e[1]-r[1]),s=i/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let t=0;t<e.length;++t){let n=arguments[t];n.center&&(n=Object.assign({},n),n.center=(0,a.fromUserCoordinate)(n.center,this.getProjection())),n.anchor&&(n=Object.assign({},n),n.anchor=(0,a.fromUserCoordinate)(n.anchor,this.getProjection())),e[t]=n}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const t=arguments[r];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(r===n)return void(e&&E(e,!0));let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;r<n;++r){const t=arguments[r],n={start:o,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||b.inAndOut,callback:e};if(t.center&&(n.sourceCenter=s,n.targetCenter=t.center.slice(),s=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=a,n.targetResolution=this.getResolutionForZoom(t.zoom),a=n.targetResolution):t.resolution&&(n.sourceResolution=a,n.targetResolution=t.resolution,a=n.targetResolution),void 0!==t.rotation){n.sourceRotation=l;const e=(0,h.modulo)(t.rotation-l+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=l+e,l=n.targetRotation}A(n)?n.complete=!0:o+=n.duration,c.push(n)}this.animations_.push(c),this.setHint(i.default.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[i.default.ANIMATING]>0}getInteracting(){return this.hints_[i.default.INTERACTING]>0}cancelAnimations(){let t;this.setHint(i.default.ANIMATING,-this.hints_[i.default.ANIMATING]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&E(n[0].callback,!1),!t)for(let e=0,r=n.length;e<r;++e){const r=n[e];if(!r.complete){t=r.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let o=!0;for(let n=0,i=r.length;n<i;++n){const i=r[n];if(i.complete)continue;const s=t-i.start;let a=i.duration>0?s/i.duration:1;a>=1?(i.complete=!0,a=1):o=!1;const l=i.easing(a);if(i.sourceCenter){const t=i.sourceCenter[0],e=i.sourceCenter[1],n=i.targetCenter[0],r=i.targetCenter[1];this.nextCenter_=i.targetCenter;const o=t+l*(n-t),s=e+l*(r-e);this.targetCenter_=[o,s]}if(i.sourceResolution&&i.targetResolution){const t=1===l?i.targetResolution:i.sourceResolution+l*(i.targetResolution-i.sourceResolution);if(i.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,i.anchor)}this.nextResolution_=i.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==i.sourceRotation&&void 0!==i.targetRotation){const t=1===l?(0,h.modulo)(i.targetRotation+Math.PI,2*Math.PI)-Math.PI:i.sourceRotation+l*(i.targetRotation-i.sourceRotation);if(i.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,i.anchor)}this.nextRotation_=i.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!i.complete)break}if(o){this.animations_[n]=null,this.setHint(i.default.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=r[0].callback;t&&E(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],(0,c.rotate)(n,t-this.getRotation()),(0,c.add)(n,e)),n}calculateCenterZoom(t,e){let n;const r=this.getCenterInternal(),i=this.getResolution();if(void 0!==r&&void 0!==i){n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]}return n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?(0,a.toUserCoordinate)(t,this.getProjection()):t}getCenterInternal(){return this.get(o.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return(0,a.toUserExtent)(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();(0,u.v)(e,"The view center is not defined");const n=this.getResolution();(0,u.v)(void 0!==n,"The view resolution is not defined");const r=this.getRotation();return(0,u.v)(void 0!==r,"The view rotation is not defined"),(0,p.getForViewAndSize)(e,n,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(o.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal((0,a.fromUserExtent)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=(0,p.getWidth)(t)/e[0],r=(0,p.getHeight)(t)/e[1];return Math.max(n,r)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*r)}}getRotation(){return this.get(o.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/i}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const i=this.padding_;if(i){const t=this.getViewportSizeMinusPadding_();r=k(r,this.getViewportSize_(),[t[0]/2+i[3],t[1]/2+i[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,r=this.minZoom_||0;if(this.resolutions_){const i=(0,g.linearFindNearest)(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_?.length){if(1===this.resolutions_.length)return this.resolutions_[0];const e=(0,h.clamp)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,h.clamp)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if((0,u.v)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){(0,u.v)(!(0,p.isEmpty)(t),"Cannot fit empty extent provided as `geometry`");const e=(0,a.fromUserExtent)(t,this.getProjection());n=(0,x.fromExtent)(e)}else if("Circle"===t.getType()){const e=(0,a.fromUserExtent)(t.getExtent(),this.getProjection());n=(0,x.fromExtent)(e),n.rotate(this.getRotation(),(0,p.getCenter)(e))}else{const e=(0,a.getUserProjection)();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),i=t.getFlatCoordinates(),o=t.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let t=0,e=i.length;t<e;t+=o){const e=i[t]*n-i[t+1]*r,o=i[t]*r+i[t+1]*n;s=Math.min(s,e),a=Math.min(a,o),l=Math.max(l,e),c=Math.max(c,o)}return[s,a,l,c]}fitInternal(t,e){let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());const r=void 0!==e.padding?e.padding:[0,0,0,0],i=void 0!==e.nearest&&e.nearest;let o;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const s=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(s,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,i?0:1);const c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),d=(0,p.getCenter)(s);d[0]+=(r[1]-r[3])/2*a,d[1]+=(r[0]-r[2])/2*a;const f=d[0]*h-d[1]*u,g=d[1]*h+d[0]*u,m=this.getConstrainedCenter([f,g],a),y=e.callback?e.callback:l.VOID;void 0!==e.duration?this.animateInternal({resolution:a,center:m,duration:e.duration,easing:e.easing},y):(this.targetResolution_=a,this.targetCenter_=m,this.applyTargetState_(!1,!0),E(y,!0))}centerOn(t,e,n){this.centerOnInternal((0,a.fromUserCoordinate)(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(k(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,r){let i;const o=this.padding_;if(o&&t){const s=this.getViewportSizeMinusPadding_(-n),a=k(t,r,[s[0]/2+o[3],s[1]/2+o[0]],e,n);i=[t[0]-a[0],t[1]-a[1]]}return i}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&(0,a.fromUserCoordinate)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=(0,a.fromUserCoordinate)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?(0,a.fromUserCoordinate)(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,s,i,n,this.calculateCenterShift(this.targetCenter_,s,r,i));this.get(o.ROTATION)!==r&&this.set(o.ROTATION,r),this.get(o.RESOLUTION)!==s&&(this.set(o.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),a&&this.get(o.CENTER)&&(0,c.equals)(this.get(o.CENTER),a)||this.set(o.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const r=e||0,i=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,r,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,i,o));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&(0,c.equals)(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:a,resolution:s,duration:t,easing:b.easeOut,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(i.default.INTERACTING,1)}endInteraction(t,e,n){n=n&&(0,a.fromUserCoordinate)(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(i.default.INTERACTING,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}function E(t,e){setTimeout((function(){t(e)}),0)}function T(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return d(t.extent,t.constrainOnlyCenter,e)}const e=(0,a.createProjection)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,d(t,!1,!1)}return f}function C(t){let e,n,r;let i=void 0!==t.minZoom?t.minZoom:S,o=void 0!==t.maxZoom?t.maxZoom:28;const l=void 0!==t.zoomFactor?t.zoomFactor:2,c=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,f=(0,a.createProjection)(t.projection,"EPSG:3857"),v=f.getExtent();let b=t.constrainOnlyCenter,x=t.extent;if(c||x||!f.isGlobal()||(b=!1,x=v),void 0!==t.resolutions){const s=t.resolutions;n=s[i],r=void 0!==s[o]?s[o]:s[s.length-1],e=t.constrainResolution?function(t,e,n,r){return e=void 0===e||e,function(i,o,s,a){if(void 0!==i){const l=t[0],c=t[t.length-1],u=n?m(l,n,s,r):l;if(a)return e?y(i,u,c):(0,h.clamp)(i,c,u);const d=Math.min(u,i),f=Math.floor((0,g.linearFindNearest)(t,d,o));return t[f]>u&&f<t.length-1?t[f+1]:t[f]}}}(s,u,!b&&x,d):_(n,r,u,!b&&x,d)}else{const c=(v?Math.max((0,p.getWidth)(v),(0,p.getHeight)(v)):360*a.METERS_PER_UNIT.degrees/f.getMetersPerUnit())/s.R/Math.pow(2,S),g=c/Math.pow(2,28-S);n=t.maxResolution,void 0!==n?i=0:n=c/Math.pow(l,i),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,o):c/Math.pow(l,o):g),o=i+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,o-i),e=t.constrainResolution?function(t,e,n,r,i,o){return r=void 0===r||r,n=void 0!==n?n:0,function(s,a,l,c){if(void 0!==s){const u=i?m(e,i,l,o):e;if(c)return r?y(s,u,n):(0,h.clamp)(s,n,u);const d=1e-9,f=Math.ceil(Math.log(e/u)/Math.log(t)-d),p=-a*(.5-d)+.5,g=Math.min(u,s),_=Math.floor(Math.log(e/g)/Math.log(t)+p),v=Math.max(f,_),b=e/Math.pow(t,v);return(0,h.clamp)(b,n,u)}}}(l,n,r,u,!b&&x,d):_(n,r,u,!b&&x,d)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:l}}function M(t){if(void 0===t.enableRotation||t.enableRotation){const e=t.constrainRotation;return void 0===e||!0===e?(0,v.cq)():!1===e?v.dv:"number"==typeof e?(0,v.a$)(e):v.dv}return v.b8}function A(t){return!(t.sourceCenter&&t.targetCenter&&!(0,c.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function k(t,e,n,r,i){const o=Math.cos(-i);let s=Math.sin(-i),a=t[0]*o-t[1]*s,l=t[1]*o+t[0]*s;a+=(e[0]/2-n[0])*r,l+=(n[1]-e[1]/2)*r,s=-s;return[a*o-l*s,l*o+a*s]}const I=w},2703:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r={ANIMATING:0,INTERACTING:1}},6514:(t,e,n)=>{"use strict";function r(t,e,n){let r,o;n=n||i;let s=0,a=t.length,l=!1;for(;s<a;)r=s+(a-s>>1),o=+n(t[r],e),o<0?s=r+1:(a=r,l=!o);return l?s:~s}function i(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t<e?1:t>e?-1:0}function s(t,e,n){if(t[0]<=e)return 0;const r=t.length;if(e<=t[r-1])return r-1;if("function"==typeof n){for(let i=1;i<r;++i){const r=t[i];if(r===e)return i;if(r<e)return n(e,t[i-1],r)>0?i-1:i}return r-1}if(n>0){for(let n=1;n<r;++n)if(t[n]<e)return n-1;return r-1}if(n<0){for(let n=1;n<r;++n)if(t[n]<=e)return n;return r-1}for(let n=1;n<r;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return r-1}function a(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function l(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let e=0;e<r;e++)t[t.length]=n[e]}function c(t,e){const n=t.indexOf(e),r=n>-1;return r&&t.splice(n,1),r}function u(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function h(t,e){const n=t.length,r=Array(t.length);let i;for(i=0;i<n;i++)r[i]={index:i,value:t[i]};for(r.sort((function(t,n){return e(t.value,n.value)||t.index-n.index})),i=0;i<t.length;i++)t[i]=r[i].value}function d(t,e,n){const r=e||i;return t.every((function(e,i){if(0===i)return!0;const o=r(t[i-1],e);return!(o>0||n&&0===o)}))}n.r(e),n.d(e,{ascending:()=>i,binarySearch:()=>r,descending:()=>o,equals:()=>u,extend:()=>l,isSorted:()=>d,linearFindNearest:()=>s,remove:()=>c,reverseSubArray:()=>a,stableSort:()=>h})},588:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error(e)}n.d(e,{v:()=>r})},3730:(t,e,n)=>{"use strict";n.r(e),n.d(e,{NO_COLOR:()=>p,asArray:()=>w,asString:()=>g,fromString:()=>S,isStringColor:()=>C,lchaToRgba:()=>x,normalize:()=>E,rgbaToLcha:()=>b,toString:()=>T,withAlpha:()=>v});const r={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var i={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};i.max=i.whitepoint[2].D65,i.rgb=function(t,e){e=e||i.whitepoint[2].E;var n,r,o,s=t[0]/e[0],a=t[1]/e[1],l=t[2]/e[2];return r=-.96924363628087*s+1.87596750150772*a+.041555057407175*l,o=.055630079696993*s+-.20397695888897*a+1.056971514242878*l,n=(n=3.240969941904521*s+-1.537383177570093*a+-.498610760293*l)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1)),255*(o=Math.min(Math.max(0,o),1))]},r.xyz=function(t,e){var n=t[0]/255,r=t[1]/255,o=t[2]/255,s=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.072192315360733*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92),a=.019330818715591*n+.11919477979462*r+.95053215224966*o;return[(.41239079926595*n+.35758433938387*r+.18048078840183*o)*(e=e||i.whitepoint[2].E)[0],s*e[1],a*e[2]]};const o=i,s={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var r,i,s,a,l,c,u,h,d;if(s=t[0],a=t[1],l=t[2],0===s)return[0,0,0];return e=e||"D65",n=n||2,r=a/(13*s)+4*(u=o.whitepoint[n][e][0])/(u+15*(h=o.whitepoint[n][e][1])+3*(d=o.whitepoint[n][e][2]))||0,i=l/(13*s)+9*h/(u+15*h+3*d)||0,[9*(c=s>8?h*Math.pow((s+16)/116,3):h*s*.0011070564598794539)*r/(4*i)||0,c,c*(12-3*r-20*i)/(4*i)||0]}};o.luv=function(t,e,n){var r,i,s,a,l,c,u,h,d,f,p;e=e||"D65",n=n||2,f=4*(u=o.whitepoint[n][e][0])/(u+15*(h=o.whitepoint[n][e][1])+3*(d=o.whitepoint[n][e][2])),p=9*h/(u+15*h+3*d),r=4*(a=t[0])/(a+15*(l=t[1])+3*(c=t[2]))||0,i=9*l/(a+15*l+3*c)||0;var g=l/h;return[s=g<=.008856451679035631?903.2962962962961*g:116*Math.pow(g,1/3)-16,13*s*(r-f),13*s*(i-p)]};var a={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]},xyz:function(t){return s.xyz(a.luv(t))}};const l=a;s.lchuv=function(t){var e=t[0],n=t[1],r=t[2],i=Math.sqrt(n*n+r*r),o=360*Math.atan2(r,n)/2/Math.PI;return o<0&&(o+=360),[e,i,o]},o.lchuv=function(t){return s.lchuv(o.luv(t))};const c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},u=function(t){var e,n,r=[],i=1;if("number"==typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if("number"==typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if(t=String(t).toLowerCase(),c[t])r=c[t].slice(),n="rgb";else if("transparent"===t)i=0,n="rgb",r=[0,0,0];else if("#"===t[0]){var o=t.slice(1),s=o.length;i=1,s<=4?(r=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===s&&(i=parseInt(o[3]+o[3],16)/255)):(r=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===s&&(i=parseInt(o[6]+o[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var a=e[1],l="cmyk"===(n=a.replace(/a$/,""))?4:"gray"===n?1:3;r=e[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=r.shift()),i=(r=r.map((function(t,e){if("%"===t[t.length-1])return t=parseFloat(t)/100,3===e?t:"rgb"===n?255*t:"h"===n[0]?100*t:"l"!==n[0]||e?"lab"===n?125*t:"lch"===n?e<2?150*t:360*t:"o"!==n[0]||e?"oklab"===n?.4*t:"oklch"===n?e<2?.4*t:360*t:t:t:100*t;if("h"===n[e]||2===e&&"h"===n[n.length-1]){if(void 0!==h[t])return h[t];if(t.endsWith("deg"))return parseFloat(t);if(t.endsWith("turn"))return 360*parseFloat(t);if(t.endsWith("grad"))return 360*parseFloat(t)/400;if(t.endsWith("rad"))return 180*parseFloat(t)/Math.PI}return"none"===t?0:parseFloat(t)}))).length>l?r.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(r=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),n=t.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:n,values:r,alpha:i}};var h={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const d={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,r,i,o,s=t[0]/360,a=t[1]/100,l=t[2]/100,c=0;if(0===a)return[o=255*l,o,o];for(e=2*l-(n=l<.5?l*(1+a):l+a-l*a),i=[0,0,0];c<3;)(r=s+1/3*-(c-1))<0?r++:r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[c++]=255*o;return i}};r.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,s=Math.min(r,i,o),a=Math.max(r,i,o),l=a-s;return a===s?e=0:r===a?e=(i-o)/l:i===a?e=2+(o-r)/l:o===a&&(e=4+(r-i)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a===s?0:n<=.5?l/(a+s):l/(2-a-s)),100*n]};var f=n(1597);const p=[NaN,NaN,NaN,0];function g(t){return"string"==typeof t?t:T(t)}const m=1024,y={};let _=0;function v(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function b(t){const e=o.lchuv(r.xyz(t));return e[3]=t[3],e}function x(t){const e=o.rgb(l.xyz(t));return e[3]=t[3],e}function S(t){if("none"===t)return p;if(y.hasOwnProperty(t))return y[t];if(_>=m){let t=0;for(const e in y)3&t++||(delete y[e],--_)}const e=function(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var n=u(t);if(!n.space)return[];const i="h"===n.space[0]?d.min:r.min,o="h"===n.space[0]?d.max:r.max;return(e=Array(3))[0]=Math.min(Math.max(n.values[0],i[0]),o[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),o[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),o[2]),"h"===n.space[0]&&(e=d.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}(t);if(4!==e.length)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return E(e),y[t]=e,++_,e}function w(t){return Array.isArray(t)?t:S(t)}function E(t){return t[0]=(0,f.clamp)(t[0]+.5|0,0,255),t[1]=(0,f.clamp)(t[1]+.5|0,0,255),t[2]=(0,f.clamp)(t[2]+.5|0,0,255),t[3]=(0,f.clamp)(t[3],0,1),t}function T(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let r=t[2];r!=(0|r)&&(r=r+.5|0);return"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(1e3*t[3])/1e3)+")"}function C(t){try{return S(t),!0}catch(t){return!1}}},9676:(t,e,n)=>{"use strict";n.d(e,{F:()=>l});var r=n(6141),i=n(8711),o=n(7907),s=n(2241),a=n(3730);function l(t){return t?Array.isArray(t)?(0,a.toString)(t):"object"==typeof t&&"src"in t?function(t){if(!t.offset||!t.size)return s.ue.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=s.ue.getPattern(e,void 0,t.color);if(n)return n;const a=s.ue.get(t.src,"anonymous",null);if(a.getImageState()!==r.A.LOADED)return null;const l=(0,i.createCanvasContext2D)(t.size[0],t.size[1]);return l.drawImage(a.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),(0,o.J)(l.canvas,e,void 0,r.A.LOADED,t.color,!0),s.ue.getPattern(e,void 0,t.color)}(t):t:null}},4422:(t,e,n)=>{"use strict";n.d(e,{R8:()=>o});const r={info:1,warn:2,error:3,none:4};let i=r.info;function o(...t){i>r.warn||console.warn(...t)}},972:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(4120),i=n(2585),o=n(4238),s=n(9438);class a extends r.default{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let t=0,e=this.listenerKeys.length;t<e;++t)(0,s.unlistenByKey)(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=t,t){(this.target_??t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.VOID&&this.listenerKeys.push((0,s.listen)(t,i.A.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}}const l=a},2977:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(972),i=n(613),o=n(3407),s=n(9438),a=n(9314);const l="projection",c="coordinateFormat";class u extends r.default{constructor(t){t=t||{};const e=document.createElement("div");e.className=void 0!==t.className?t.className:"ol-mouse-position",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un,this.addChangeListener(l,this.handleProjectionChanged_),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.renderOnMouseOut_=void 0!==t.placeholder,this.placeholder_=this.renderOnMouseOut_?t.placeholder:"&#160;",this.renderedHTML_=e.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==t.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(c)}getProjection(){return this.get(l)}handleMouseMove(t){const e=this.getMap();this.updateHTML_(e.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){const e=t.getViewport();this.listenerKeys.push((0,s.listen)(e,i.A.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,s.listen)(e,i.A.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(t){this.set(c,t)}setProjection(t){this.set(l,(0,o.get)(t))}updateHTML_(t){let e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){const t=this.getProjection();this.transform_=t?(0,o.getTransformFromProjections)(this.mapProjection_,t):o.identityTransform}const n=this.getMap().getCoordinateFromPixelInternal(t);if(n){const t=(0,o.getUserProjection)();if(t&&(this.transform_=(0,o.getTransformFromProjections)(this.mapProjection_,t)),this.transform_(n,n),this.wrapX_){const e=t||this.getProjection()||this.mapProjection_;(0,a.wrapX)(n,e)}const r=this.getCoordinateFormat();e=r?r(n):n.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)}render(t){const e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}}const h=u},2898:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(972),i=n(6837),o=n(5176),s=n(3474);class a extends r.default{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"⇧",r=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const s=t.tipLabel?t.tipLabel:"Reset rotation",a=document.createElement("button");a.className=e+"-reset",a.setAttribute("type","button"),a.title=s,a.appendChild(this.label_),a.addEventListener(i.A.CLICK,this.handleClick_.bind(this),!1);const l=e+" "+o.XI+" "+o.$N,c=this.element;c.className=l,c.appendChild(a),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(o.Si)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:s.easeOut}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(o.Si);t||0!==n?t&&0!==n&&this.element.classList.remove(o.Si):this.element.classList.add(o.Si)}this.label_.style.transform=t}this.rotation_=n}}const l=a},3965:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(972),i=n(5176),o=n(3407);const s="units",a=[1,2,5],l=25.4/.28;class c extends r.default{constructor(t){t=t||{};const e=document.createElement("div");e.style.pointerEvents="none",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un;const n=void 0!==t.className?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+i.XI,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(s,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(s)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(s,t)}setDpi(t){this.dpi_=t}updateElement_(){const t=this.viewState_;if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=t.center,n=t.projection,r=this.getUnits(),i="degrees"==r?"degrees":"m";let s=(0,o.getPointResolution)(n,t.resolution,e,i);const c=this.minWidth_*(this.dpi_||l)/l,u=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||l)/l:void 0;let h=c*s,d="";if("degrees"==r){const t=o.METERS_PER_UNIT.degrees;h*=t,h<t/60?(d="″",s*=3600):h<t?(d="′",s*=60):d="°"}else if("imperial"==r)h<.9144?(d="in",s/=.0254):h<1609.344?(d="ft",s/=.3048):(d="mi",s/=1609.344);else if("nautical"==r)s/=1852,d="NM";else if("metric"==r)h<1e-6?(d="nm",s*=1e9):h<.001?(d="μm",s*=1e6):h<1?(d="mm",s*=1e3):h<1e3?d="m":(d="km",s/=1e3);else{if("us"!=r)throw new Error("Invalid units");h<.9144?(d="in",s*=39.37):h<1609.344?(d="ft",s/=.30480061):(d="mi",s/=1609.3472)}let f,p,g,m,y,_,v=3*Math.floor(Math.log(c*s)/Math.log(10));for(;;){g=Math.floor(v/3);const t=Math.pow(10,g);if(f=a[(v%3+3)%3]*t,p=Math.round(f/s),isNaN(p))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==u&&p>=u){f=m,p=y,g=_;break}if(p>=c)break;m=f,y=p,_=g,++v}const b=this.scaleBar_?this.createScaleBar(p,f,d):f.toFixed(g<0?-g:0)+" "+d;this.renderedHTML_!=b&&(this.innerElement_.innerHTML=b,this.renderedHTML_=b),this.renderedWidth_!=p&&(this.innerElement_.style.width=p+"px",this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,e,n){const r=this.getScaleForResolution(),i=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),o=this.scaleBarSteps_,s=t/o,a=[this.createMarker("absolute")];for(let r=0;r<o;++r){const i=r%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${i}" style="width: ${s}px;"></div>`+this.createMarker("relative")+(r%2==0||2===o?this.createStepText(r,t,!1,e,n):"")+"</div>")}a.push(this.createStepText(o,t,!0,e,n));return(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+i+"</div>":"")+a.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${"absolute"===t?3:-10}px;"></div>`}createStepText(t,e,n,r,i){const o=(0===t?0:Math.round(r/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+i);return`<div class="ol-scale-step-text" style="margin-left: ${0===t?-3:e/this.scaleBarSteps_*-1}px;text-align: ${0===t?"left":"center"};min-width: ${0===t?0:e/this.scaleBarSteps_*2}px;left: ${n?e+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){return(0,o.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||l)}render(t){const e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}}const u=c},9186:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(972),i=n(6837),o=n(5176),s=n(3474);class a extends r.default{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,r=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",s=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",a=void 0!==t.zoomInLabel?t.zoomInLabel:"+",l=void 0!==t.zoomOutLabel?t.zoomOutLabel:"–",c=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",u=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=c,h.appendChild("string"==typeof a?document.createTextNode(a):a),h.addEventListener(i.A.CLICK,this.handleClick_.bind(this,n),!1);const d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=u,d.appendChild("string"==typeof l?document.createTextNode(l):l),d.addEventListener(i.A.CLICK,this.handleClick_.bind(this,-n),!1);const f=e+" "+o.XI+" "+o.$N,p=this.element;p.className=f,p.appendChild(h),p.appendChild(d),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const n=e.getZoom();if(void 0!==n){const r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:s.easeOut})):e.setZoom(r)}}}const l=a},9314:(t,e,n)=>{"use strict";n.r(e),n.d(e,{add:()=>s,closestOnCircle:()=>a,closestOnSegment:()=>l,createStringXY:()=>c,degreesToStringHDMS:()=>u,distance:()=>m,equals:()=>d,format:()=>h,getWorldsAway:()=>x,rotate:()=>f,scale:()=>p,squaredDistance:()=>g,squaredDistanceToSegment:()=>y,toStringHDMS:()=>_,toStringXY:()=>v,wrapX:()=>b});var r=n(915),i=n(1597),o=n(2806);function s(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function a(t,e){const n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1];let s=t[0]-i;const a=t[1]-o;0===s&&0===a&&(s=1);const l=Math.sqrt(s*s+a*a);return[i+n*s/l,o+n*a/l]}function l(t,e){const n=t[0],r=t[1],i=e[0],o=e[1],s=i[0],a=i[1],l=o[0],c=o[1],u=l-s,h=c-a,d=0===u&&0===h?0:(u*(n-s)+h*(r-a))/(u*u+h*h||0);let f,p;return d<=0?(f=s,p=a):d>=1?(f=l,p=c):(f=s+d*u,p=a+d*h),[f,p]}function c(t){return function(e){return v(e,t)}}function u(t,e,n){const r=(0,i.modulo)(e+180,360)-180,s=Math.abs(3600*r),a=n||0;let l=Math.floor(s/3600),c=Math.floor((s-3600*l)/60),u=(0,i.toFixed)(s-3600*l-60*c,a);u>=60&&(u=0,c+=1),c>=60&&(c=0,l+=1);let h=l+"°";return 0===c&&0===u||(h+=" "+(0,o.padNumber)(c,2)+"′"),0!==u&&(h+=" "+(0,o.padNumber)(u,2,a)+"″"),0!==r&&(h+=" "+t.charAt(r<0?1:0)),h}function h(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function d(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function f(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t}function p(t,e){return t[0]*=e,t[1]*=e,t}function g(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function m(t,e){return Math.sqrt(g(t,e))}function y(t,e){return g(t,l(t,e))}function _(t,e){return t?u("NS",t[1],e)+" "+u("EW",t[0],e):""}function v(t,e){return h(t,"{x}, {y}",e)}function b(t,e){if(e.canWrapX()){const n=(0,r.getWidth)(e.getExtent()),i=x(t,e,n);i&&(t[0]-=i*n)}return t}function x(t,e,n){const i=e.getExtent();let o=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||(0,r.getWidth)(i),o=Math.floor((t[0]-i[0])/n)),o}},5176:(t,e,n)=>{"use strict";n.d(e,{$N:()=>s,K5:()=>u,Q5:()=>i,Si:()=>r,XI:()=>o,nT:()=>a});const r="ol-hidden",i="ol-selectable",o="ol-unselectable",s="ol-control",a="ol-collapsed",l=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),c=["style","variant","weight","size","lineHeight","family"],u=function(t){const e=t.match(l);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let t=0,r=c.length;t<r;++t){const r=e[t+1];void 0!==r&&(n[c[t]]=r)}return n.families=n.family.split(/,\s?/),n}},8711:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createCanvasContext2D:()=>i,getSharedCanvasContext2D:()=>s,outerHeight:()=>c,outerWidth:()=>l,releaseCanvas:()=>a,removeChildren:()=>h,replaceChildren:()=>d,replaceNode:()=>u});var r=n(7771);function i(t,e,n,i){let o;return o=n&&n.length?n.shift():r.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",i)}let o;function s(){return o||(o=i(1,1)),o}function a(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function l(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function c(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function u(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function h(t){for(;t.lastChild;)t.lastChild.remove()}function d(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}},3474:(t,e,n)=>{"use strict";function r(t){return Math.pow(t,3)}function i(t){return 1-r(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}function a(t){return t<.5?o(2*t):1-o(2*(t-.5))}n.r(e),n.d(e,{easeIn:()=>r,easeOut:()=>i,inAndOut:()=>o,linear:()=>s,upAndDown:()=>a})},9438:(t,e,n)=>{"use strict";n.r(e),n.d(e,{listen:()=>i,listenOnce:()=>o,unlistenByKey:()=>s});var r=n(3530);function i(t,e,n,r,i){if(i){const i=n;n=function(){t.removeEventListener(e,n),i.apply(r??this,arguments)}}else r&&r!==t&&(n=n.bind(r));const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function o(t,e,n,r){return i(t,e,n,r,!0)}function s(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,r.clear)(t))}},1685:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o,preventDefault:()=>i,stopPropagation:()=>r});function r(t){t.stopPropagation()}function i(t){t.preventDefault()}const o=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},6837:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},9332:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(25),i=n(1685),o=n(4238),s=n(3530);class a extends r.A{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);r.includes(e)||r.push(e)}dispatchEvent(t){const e="string"==typeof t,n=e?t:t.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const s=e?new i.default(t):t;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let c;n in a||(a[n]=0,l[n]=0),++a[n];for(let t=0,e=r.length;t<e;++t)if(c="handleEvent"in r[t]?r[t].handleEvent(s):r[t].call(this,s),!1===c||s.propagationStopped){c=!1;break}if(0==--a[n]){let t=l[n];for(delete l[n];t--;)this.removeEventListener(n,o.VOID);delete a[n]}return c}disposeInternal(){this.listeners_&&(0,s.clear)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const n=this.listeners_[t];if(!n)return;const r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=o.VOID,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}}const l=a},8704:(t,e,n)=>{"use strict";n.r(e),n.d(e,{all:()=>a,altKeyOnly:()=>l,altShiftKeysOnly:()=>c,always:()=>d,click:()=>f,doubleClick:()=>_,focus:()=>u,focusWithTabindex:()=>h,mouseActionButton:()=>p,mouseOnly:()=>E,never:()=>g,noModifierKeys:()=>v,penOnly:()=>C,platformModifierKey:()=>x,platformModifierKeyOnly:()=>b,pointerMove:()=>m,primaryAction:()=>M,shiftKeyOnly:()=>S,singleClick:()=>y,targetNotEditable:()=>w,touchOnly:()=>T});var r=n(3445),i=n(4238),o=n(7771),s=n(588);function a(t){const e=arguments;return function(t){let n=!0;for(let r=0,i=e.length;r<i&&(n=n&&e[r](t),n);++r);return n}}const l=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},c=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},u=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),r=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(r):e.contains(r)},h=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return!(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")||u(t)},d=i.TRUE,f=function(t){return t.type==r.A.CLICK},p=function(t){const e=t.originalEvent;return 0==e.button&&!(o.WEBKIT&&o.MAC&&e.ctrlKey)},g=i.FALSE,m=function(t){return"pointermove"==t.type},y=function(t){return t.type==r.A.SINGLECLICK},_=function(t){return t.type==r.A.DBLCLICK},v=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},b=function(t){const e=t.originalEvent;return!e.altKey&&(o.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},x=function(t){const e=t.originalEvent;return o.MAC?e.metaKey:e.ctrlKey},S=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},w=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},E=function(t){const e=t.originalEvent;return(0,s.v)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},T=function(t){const e=t.originalEvent;return(0,s.v)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"touch"===e.pointerType},C=function(t){const e=t.originalEvent;return(0,s.v)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"pen"===e.pointerType},M=function(t){const e=t.originalEvent;return(0,s.v)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button}},9825:(t,e,n)=>{"use strict";n.d(e,{DG:()=>b,Fq:()=>h,SR:()=>x,T8:()=>a,Ye:()=>R,ZD:()=>w,_D:()=>v,cT:()=>c,go:()=>m,mE:()=>u,qA:()=>d,qg:()=>S,wl:()=>l});var r=n(6514),i=n(3730),o=n(6782);let s=0;const a=1<<s++,l=1<<s++,c=1<<s++,u=1<<s++,h=1<<s++,d=1<<s++,f=Math.pow(2,6)-1,p={[a]:"boolean",[l]:"number",[c]:"string",[u]:"color",[h]:"number[]",[d]:"size"},g=Object.keys(p).map(Number).sort(r.ascending);function m(t){const e=[];for(const n of g)y(t,n)&&e.push(p[n]);return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function y(t,e){return(t&e)===e}function _(t,e){return t===e}class v{constructor(t,e){if(!function(t){return t in p}(t))throw new Error(`literal expressions must have a specific type, got ${m(t)}`);this.type=t,this.value=e}}class b{constructor(t,e,...n){this.type=t,this.operator=e,this.args=n}}function x(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function S(t,e,n){switch(typeof t){case"boolean":if(_(e,c))return new v(c,t?"true":"false");if(!y(e,a))throw new Error(`got a boolean, but expected ${m(e)}`);return new v(a,t);case"number":if(_(e,d))return new v(d,(0,o.toSize)(t));if(_(e,a))return new v(a,!!t);if(_(e,c))return new v(c,t.toString());if(!y(e,l))throw new Error(`got a number, but expected ${m(e)}`);return new v(l,t);case"string":if(_(e,u))return new v(u,(0,i.fromString)(t));if(_(e,a))return new v(a,!!t);if(!y(e,c))throw new Error(`got a string, but expected ${m(e)}`);return new v(c,t)}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(0===t.length)throw new Error("empty expression");if("string"==typeof t[0])return function(t,e,n){const r=t[0],i=E[r];if(!i)throw new Error(`unknown operator: ${r}`);return i(t,e,n)}(t,e,n);for(const e of t)if("number"!=typeof e)throw new Error("expected an array of numbers");if(_(e,d)){if(2!==t.length)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new v(d,t)}if(_(e,u)){if(3===t.length)return new v(u,[...t,1]);if(4===t.length)return new v(u,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!y(e,h))throw new Error(`got an array of numbers, but expected ${m(e)}`);return new v(h,t)}const w={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},E={[w.Get]:P(M(1,1/0),T),[w.Var]:P(M(1,1),(function(t,e,n){const r=t[1];if("string"!=typeof r)throw new Error("expected a string argument for var operation");return n.variables.add(r),[new v(c,r)]})),[w.Has]:P(M(1,1/0),T),[w.Id]:P((function(t,e,n){n.featureId=!0}),C),[w.Concat]:P(M(2,1/0),k(c)),[w.GeometryType]:P((function(t,e,n){n.geometryType=!0}),C),[w.LineMetric]:P(C),[w.Resolution]:P(C),[w.Zoom]:P(C),[w.Time]:P(C),[w.Any]:P(M(2,1/0),k(a)),[w.All]:P(M(2,1/0),k(a)),[w.Not]:P(M(1,1),k(a)),[w.Equal]:P(M(2,2),k(f)),[w.NotEqual]:P(M(2,2),k(f)),[w.GreaterThan]:P(M(2,2),k(l)),[w.GreaterThanOrEqualTo]:P(M(2,2),k(l)),[w.LessThan]:P(M(2,2),k(l)),[w.LessThanOrEqualTo]:P(M(2,2),k(l)),[w.Multiply]:P(M(2,1/0),A),[w.Coalesce]:P(M(2,1/0),A),[w.Divide]:P(M(2,2),k(l)),[w.Add]:P(M(2,1/0),k(l)),[w.Subtract]:P(M(2,2),k(l)),[w.Clamp]:P(M(3,3),k(l)),[w.Mod]:P(M(2,2),k(l)),[w.Pow]:P(M(2,2),k(l)),[w.Abs]:P(M(1,1),k(l)),[w.Floor]:P(M(1,1),k(l)),[w.Ceil]:P(M(1,1),k(l)),[w.Round]:P(M(1,1),k(l)),[w.Sin]:P(M(1,1),k(l)),[w.Cos]:P(M(1,1),k(l)),[w.Atan]:P(M(1,2),k(l)),[w.Sqrt]:P(M(1,1),k(l)),[w.Match]:P(M(4,1/0),I,(function(t,e,n){const r=t.length-1,i=c|l|a,o=S(t[1],i,n),s=S(t[t.length-1],e,n),u=new Array(r-2);for(let e=0;e<r-2;e+=2){try{const r=S(t[e+2],o.type,n);u[e]=r}catch(t){throw new Error(`failed to parse argument ${e+1} of match expression: ${t.message}`)}try{const r=S(t[e+3],s.type,n);u[e+1]=r}catch(t){throw new Error(`failed to parse argument ${e+2} of match expression: ${t.message}`)}}return[o,...u,s]})),[w.Between]:P(M(3,3),k(l)),[w.Interpolate]:P(M(6,1/0),I,(function(t,e,n){const r=t[1];let i;switch(r[0]){case"linear":i=1;break;case"exponential":const t=r[1];if("number"!=typeof t||t<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(t)} instead`);i=t;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(r)}`)}const o=new v(l,i);let s;try{s=S(t[2],l,n)}catch(t){throw new Error(`failed to parse argument 1 in interpolate expression: ${t.message}`)}const a=new Array(t.length-3);for(let r=0;r<a.length;r+=2){try{const e=S(t[r+3],l,n);a[r]=e}catch(t){throw new Error(`failed to parse argument ${r+2} for interpolate expression: ${t.message}`)}try{const i=S(t[r+4],e,n);a[r+1]=i}catch(t){throw new Error(`failed to parse argument ${r+3} for interpolate expression: ${t.message}`)}}return[o,s,...a]})),[w.Case]:P(M(3,1/0),(function(t,e,n){const r=t[0],i=t.length-1;if(i%2==0)throw new Error(`expected an odd number of arguments for ${r}, got ${i} instead`)}),(function(t,e,n){const r=S(t[t.length-1],e,n),i=new Array(t.length-1);for(let e=0;e<i.length-1;e+=2){try{const r=S(t[e+1],a,n);i[e]=r}catch(t){throw new Error(`failed to parse argument ${e} of case expression: ${t.message}`)}try{const o=S(t[e+2],r.type,n);i[e+1]=o}catch(t){throw new Error(`failed to parse argument ${e+1} of case expression: ${t.message}`)}}return i[i.length-1]=r,i})),[w.In]:P(M(2,2),(function(t,e,n){let r,i=t[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');if("string"==typeof i[0]){if("literal"!==i[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=c}else r=l;const o=new Array(i.length);for(let t=0;t<o.length;t++)try{const e=S(i[t],r,n);o[t]=e}catch(e){throw new Error(`failed to parse haystack item ${t} for "in" expression: ${e.message}`)}return[S(t[1],r,n),...o]})),[w.Number]:P(M(1,1/0),k(f)),[w.String]:P(M(1,1/0),k(f)),[w.Array]:P(M(1,1/0),k(l)),[w.Color]:P(M(1,4),k(l)),[w.Band]:P(M(1,3),k(l)),[w.Palette]:P(M(2,2),(function(t,e,n){let r;try{r=S(t[1],l,n)}catch(t){throw new Error(`failed to parse first argument in palette expression: ${t.message}`)}const i=t[2];if(!Array.isArray(i))throw new Error("the second argument of palette must be an array");const o=new Array(i.length);for(let t=0;t<o.length;t++){let e;try{e=S(i[t],u,n)}catch(e){throw new Error(`failed to parse color at index ${t} in palette expression: ${e.message}`)}if(!(e instanceof v))throw new Error(`the palette color at index ${t} must be a literal value`);o[t]=e}return[r,...o]})),[w.ToString]:P(M(1,1),k(a|l|c|u))};function T(t,e,n){const r=t.length-1,i=new Array(r);for(let e=0;e<r;++e){const r=t[e+1];switch(typeof r){case"number":i[e]=new v(l,r);break;case"string":i[e]=new v(c,r);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${r}`)}0===e&&n.properties.add(String(r))}return i}function C(t,e,n){const r=t[0];if(1!==t.length)throw new Error(`expected no arguments for ${r} operation`);return[]}function M(t,e){return function(n,r,i){const o=n[0],s=n.length-1;if(t===e){if(s!==t){throw new Error(`expected ${t} argument${1===t?"":"s"} for ${o}, got ${s}`)}}else if(s<t||s>e){throw new Error(`expected ${e===1/0?`${t} or more`:`${t} to ${e}`} arguments for ${o}, got ${s}`)}}}function A(t,e,n){const r=t.length-1,i=new Array(r);for(let o=0;o<r;++o){const r=S(t[o+1],e,n);i[o]=r}return i}function k(t){return function(e,n,r){const i=e.length-1,o=new Array(i);for(let n=0;n<i;++n){const i=S(e[n+1],t,r);o[n]=i}return o}}function I(t,e,n){const r=t[0],i=t.length-1;if(i%2==1)throw new Error(`expected an even number of arguments for operation ${r}, got ${i} instead`)}function P(...t){return function(e,n,r){const i=e[0];let o;for(let i=0;i<t.length;i++){const s=t[i](e,n,r);if(i==t.length-1){if(!s)throw new Error("expected last argument validator to return the parsed args");o=s}}return new b(n,i,...o)}}function R(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return R(t.getGeometries()[0]);default:return""}}},915:(t,e,n)=>{"use strict";n.r(e),n.d(e,{applyTransform:()=>X,approximatelyEquals:()=>b,boundingExtent:()=>i,buffer:()=>o,clone:()=>s,closestSquaredDistanceXY:()=>a,containsCoordinate:()=>l,containsExtent:()=>c,containsXY:()=>u,coordinateRelationship:()=>h,createEmpty:()=>d,createOrUpdate:()=>f,createOrUpdateEmpty:()=>p,createOrUpdateFromCoordinate:()=>g,createOrUpdateFromCoordinates:()=>m,createOrUpdateFromFlatCoordinates:()=>y,createOrUpdateFromRings:()=>_,equals:()=>v,extend:()=>x,extendCoordinate:()=>S,extendCoordinates:()=>w,extendFlatCoordinates:()=>E,extendRings:()=>T,extendXY:()=>C,forEachCorner:()=>M,getArea:()=>A,getBottomLeft:()=>k,getBottomRight:()=>I,getCenter:()=>P,getCorner:()=>R,getEnlargedArea:()=>O,getForViewAndSize:()=>N,getHeight:()=>$,getIntersection:()=>F,getIntersectionArea:()=>L,getMargin:()=>j,getRotatedViewport:()=>D,getSize:()=>U,getTopLeft:()=>B,getTopRight:()=>z,getWidth:()=>G,intersects:()=>H,intersectsSegment:()=>Y,isEmpty:()=>W,returnOrUpdate:()=>q,scaleFromCenter:()=>V,wrapAndSliceX:()=>Z,wrapX:()=>K});var r=n(1580);function i(t){const e=d();for(let n=0,r=t.length;n<r;++n)S(e,t[n]);return e}function o(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function a(t,e,n){let r,i;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,r*r+i*i}function l(t,e){return u(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function u(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function h(t,e){const n=t[0],i=t[1],o=t[2],s=t[3],a=e[0],l=e[1];let c=r.A.UNKNOWN;return a<n?c|=r.A.LEFT:a>o&&(c|=r.A.RIGHT),l<i?c|=r.A.BELOW:l>s&&(c|=r.A.ABOVE),c===r.A.UNKNOWN&&(c=r.A.INTERSECTING),c}function d(){return[1/0,1/0,-1/0,-1/0]}function f(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function p(t){return f(1/0,1/0,-1/0,-1/0,t)}function g(t,e){const n=t[0],r=t[1];return f(n,r,n,r,e)}function m(t,e){return w(p(e),t)}function y(t,e,n,r,i){return E(p(i),t,e,n,r)}function _(t,e){return T(p(e),t)}function v(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function b(t,e,n){return Math.abs(t[0]-e[0])<n&&Math.abs(t[2]-e[2])<n&&Math.abs(t[1]-e[1])<n&&Math.abs(t[3]-e[3])<n}function x(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function S(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function w(t,e){for(let n=0,r=e.length;n<r;++n)S(t,e[n]);return t}function E(t,e,n,r,i){for(;n<r;n+=i)C(t,e[n],e[n+1]);return t}function T(t,e){for(let n=0,r=e.length;n<r;++n)w(t,e[n]);return t}function C(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function M(t,e){let n;return n=e(k(t)),n||(n=e(I(t)),n||(n=e(z(t)),n||(n=e(B(t)),n||!1)))}function A(t){let e=0;return W(t)||(e=G(t)*$(t)),e}function k(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function P(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function R(t,e){let n;if("bottom-left"===e)n=k(t);else if("bottom-right"===e)n=I(t);else if("top-left"===e)n=B(t);else{if("top-right"!==e)throw new Error("Invalid corner");n=z(t)}return n}function O(t,e){const n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-r)}function N(t,e,n,r,i){const[o,s,a,l,c,u,h,d]=D(t,e,n,r);return f(Math.min(o,a,c,h),Math.min(s,l,u,d),Math.max(o,a,c,h),Math.max(s,l,u,d),i)}function D(t,e,n,r){const i=e*r[0]/2,o=e*r[1]/2,s=Math.cos(n),a=Math.sin(n),l=i*s,c=i*a,u=o*s,h=o*a,d=t[0],f=t[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}function $(t){return t[3]-t[1]}function L(t,e){return A(F(t,e))}function F(t,e,n){const r=n||[1/0,1/0,-1/0,-1/0];return H(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):p(r),r}function j(t){return G(t)+$(t)}function U(t){return[t[2]-t[0],t[3]-t[1]]}function B(t){return[t[0],t[3]]}function z(t){return[t[2],t[3]]}function G(t){return t[2]-t[0]}function H(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function W(t){return t[2]<t[0]||t[3]<t[1]}function q(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function V(t,e){const n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}function Y(t,e,n){let i=!1;const o=h(t,e),s=h(t,n);if(o===r.A.INTERSECTING||s===r.A.INTERSECTING)i=!0;else{const a=t[0],l=t[1],c=t[2],u=t[3],h=e[0],d=e[1],f=n[0],p=n[1],g=(p-d)/(f-h);let m,y;s&r.A.ABOVE&&!(o&r.A.ABOVE)&&(m=f-(p-u)/g,i=m>=a&&m<=c),i||!(s&r.A.RIGHT)||o&r.A.RIGHT||(y=p-(f-c)*g,i=y>=l&&y<=u),i||!(s&r.A.BELOW)||o&r.A.BELOW||(m=f-(p-l)/g,i=m>=a&&m<=c),i||!(s&r.A.LEFT)||o&r.A.LEFT||(y=p-(f-a)*g,i=y>=l&&y<=u)}return i}function X(t,e,n,r){if(W(t))return p(n);let i=[];if(r>1){const e=t[2]-t[0],n=t[3]-t[1];for(let o=0;o<r;++o)i.push(t[0]+e*o/r,t[1],t[2],t[1]+n*o/r,t[2]-e*o/r,t[3],t[0],t[3]-n*o/r)}else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);const o=[],s=[];for(let t=0,e=i.length;t<e;t+=2)o.push(i[t]),s.push(i[t+1]);return function(t,e,n){return f(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(o,s,n)}function K(t,e){const n=e.getExtent(),r=P(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const e=G(n),i=Math.floor((r[0]-n[0])/e)*e;t[0]-=i,t[2]-=i}return t}function Z(t,e,n){if(e.canWrapX()){const r=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[r[0],t[1],r[2],t[3]]];K(t,e);const i=G(r);if(G(t)>i&&!n)return[[r[0],t[1],r[2],t[3]]];if(t[0]<r[0])return[[t[0]+i,t[1],r[2],t[3]],[r[0],t[1],t[2],t[3]]];if(t[2]>r[2])return[[t[0],t[1],r[2],t[3]],[r[0],t[1],t[2]-i,t[3]]]}return[t]}},1580:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},1142:(t,e,n)=>{"use strict";n.d(e,{m8:()=>o,nF:()=>s});var r=n(4238);let i=!1;function o(t,e,n,r,o,s,a){const l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(n,r,o):t,!0),"arraybuffer"==e.getType()&&(l.responseType="arraybuffer"),l.withCredentials=i,l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){const t=e.getType();try{let r;"text"==t||"json"==t?r=l.responseText:"xml"==t?r=l.responseXML||l.responseText:"arraybuffer"==t&&(r=l.response),r?s(e.readFeatures(r,{extent:n,featureProjection:o}),e.readProjection(r)):a()}catch{a()}}else a()},l.onerror=a,l.send()}function s(t,e){return function(n,i,s,a,l){const c=this;o(t,e,n,i,s,(function(t,e){c.addFeatures(t),void 0!==a&&a(t)}),l||r.VOID)}}},8217:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createGeometry:()=>p,createRenderFeature:()=>f,default:()=>c,transformExtentWithOptions:()=>h,transformGeometryWithOptions:()=>u});var r=n(6717),i=n(4778),o=n(6643),s=n(4087),a=n(3407),l=n(3402);const c=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=r.default,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let n=e.dataProjection?(0,a.get)(e.dataProjection):this.readProjection(t);e.extent&&n&&"tile-pixels"===n.getUnits()&&(n=(0,a.get)(n),n.setWorldExtent(e.extent)),e={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return(0,s.abstract)()}readFeature(t,e){return(0,s.abstract)()}readFeatures(t,e){return(0,s.abstract)()}readGeometry(t,e){return(0,s.abstract)()}readProjection(t){return(0,s.abstract)()}writeFeature(t,e){return(0,s.abstract)()}writeFeatures(t,e){return(0,s.abstract)()}writeGeometry(t,e){return(0,s.abstract)()}};function u(t,e,n){const r=n?(0,a.get)(n.featureProjection):null,i=n?(0,a.get)(n.dataProjection):null;let o=t;if(r&&i&&!(0,a.equivalent)(r,i)){e&&(o=t.clone());const n=e?r:i,s=e?i:r;"tile-pixels"===n.getUnits()?o.transform(n,s):o.applyTransform((0,a.getTransform)(n,s))}if(e&&n&&void 0!==n.decimals){const e=Math.pow(10,n.decimals),r=function(t){for(let n=0,r=t.length;n<r;++n)t[n]=Math.round(t[n]*e)/e;return t};o===t&&(o=t.clone()),o.applyTransform(r)}return o}function h(t,e){const n=e?(0,a.get)(e.featureProjection):null,r=e?(0,a.get)(e.dataProjection):null;return n&&r&&!(0,a.equivalent)(n,r)?(0,a.transformExtent)(t,r,n):t}const d={Point:o.bR,LineString:o.gW,Polygon:o.tS,MultiPoint:o.my,MultiLineString:o.FQ,MultiPolygon:o.QZ};function f(t,e){const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map((e=>f({...t,geometry:e}))).flat();const r="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const o=n.layout.length;return u(new i.Ay(r,"Polygon"===r?function(t,e,n){return Array.isArray(e[0])?((0,l.mb)(t,0,e,n)||(t=t.slice(),(0,l.NK)(t,0,e,n)),t):((0,l.PA)(t,0,e,n)||(t=t.slice(),(0,l.ug)(t,0,e,n)),t)}(n.flatCoordinates,n.ends,o):n.flatCoordinates,n.ends?.flat(),o,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function p(t,e){if(!t)return null;if(Array.isArray(t)){const n=t.map((t=>p(t,e)));return new o.XT(n)}return u(new(0,d[t.type])(t.flatCoordinates,t.layout,t.ends),!1,e)}},581:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(1386),i=n(3942),o=n(915),s=n(3407),a=n(8217),l=n(7468);const c=r.M+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",u={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class h extends r.A{constructor(t){super(t=t||{}),this.FEATURE_COLLECTION_PARSERS[r.M].featureMember=(0,i.makeArrayPusher)(this.readFeaturesInternal),this.schemaLocation=t.schemaLocation?t.schemaLocation:c}readFlatCoordinates(t,e){const n=(0,i.getAllTextContent)(t,!1).replace(/^\s*|\s*$/g,""),r=e[0].srsName;let o="enu";if(r){const t=(0,s.get)(r);t&&(o=t.getAxisOrientation())}const a=n.trim().split(/\s+/),l=[];for(let t=0,e=a.length;t<e;t++){const e=a[t].split(/,+/),n=parseFloat(e[0]),r=parseFloat(e[1]),i=3===e.length?parseFloat(e[2]):0;o.startsWith("en")?l.push(n,r,i):l.push(r,n,i)}return l}readBox(t,e){const n=(0,i.pushParseAndPop)([null],this.BOX_PARSERS_,t,e,this);return(0,o.createOrUpdate)(n[1][0],n[1][1],n[1][3],n[1][4])}innerBoundaryIsParser(t,e){const n=(0,i.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);if(n){e[e.length-1].push(n)}}outerBoundaryIsParser(t,e){const n=(0,i.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);if(n){e[e.length-1][0]=n}}GEOMETRY_NODE_FACTORY_(t,e,n){const r=e[e.length-1],o=r.multiSurface,s=r.surface,a=r.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===o?n="MultiSurface":"Polygon"===n&&!0===s?n="Surface":"MultiLineString"===n&&!0===a&&(n="MultiCurve"),(0,i.createElementNS)("http://www.opengis.net/gml",n)}writeFeatureElement(t,e,n){const r=e.getId();r&&t.setAttribute("fid",r);const o=n[n.length-1],s=o.featureNS,a=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[s]={});const c=[],u=[];if(e.hasProperties()){const t=e.getProperties();for(const e in t){const n=t[e];null!=n&&(c.push(e),u.push(n),e==a||"function"==typeof n.getSimplifiedGeometry?e in o.serializers[s]||(o.serializers[s][e]=(0,i.makeChildAppender)(this.writeGeometryElement,this)):e in o.serializers[s]||(o.serializers[s][e]=(0,i.makeChildAppender)(l.uB)))}}const h=Object.assign({},o);h.node=t,(0,i.pushSerializeAndPop)(h,o.serializers,(0,i.makeSimpleNodeFactory)(void 0,s),u,n,c)}writeCurveOrLineString(t,e,n){const r=n[n.length-1].srsName;if("LineStringSegment"!==t.nodeName&&r&&t.setAttribute("srsName",r),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){const r=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(r),this.writeCoordinates_(r,e,n)}else if("Curve"===t.nodeName){const r=(0,i.createElementNS)(t.namespaceURI,"segments");t.appendChild(r),this.writeCurveSegments_(r,e,n)}}writeLineStringOrCurveMember(t,e,n){const r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeCurveOrLineString(r,e,n))}writeMultiCurveOrLineString(t,e,n){const r=n[n.length-1],o=r.hasZ,s=r.srsName,a=r.curve;s&&t.setAttribute("srsName",s);const l=e.getLineStrings();(0,i.pushSerializeAndPop)({node:t,hasZ:o,srsName:s,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeGeometryElement(t,e,n){const r=n[n.length-1],o=Object.assign({},r);let s;o.node=t,s=Array.isArray(e)?(0,a.transformExtentWithOptions)(e,r):(0,a.transformGeometryWithOptions)(e,!0,r),(0,i.pushSerializeAndPop)(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],n,void 0,this)}createCoordinatesNode_(t){const e=(0,i.createElementNS)(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e}writeCoordinates_(t,e,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=e.getCoordinates(),a=s.length,c=new Array(a);for(let t=0;t<a;++t){const e=s[t];c[t]=this.getCoords_(e,o,i)}(0,l.uB)(t,c.join(" "))}writeCurveSegments_(t,e,n){const r=(0,i.createElementNS)(t.namespaceURI,"LineStringSegment");t.appendChild(r),this.writeCurveOrLineString(r,e,n)}writeSurfaceOrPolygon(t,e,n){const r=n[n.length-1],o=r.hasZ,s=r.srsName;if("PolygonPatch"!==t.nodeName&&s&&t.setAttribute("srsName",s),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){const r=e.getLinearRings();(0,i.pushSerializeAndPop)({node:t,hasZ:o,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,r,n,void 0,this)}else if("Surface"===t.nodeName){const r=(0,i.createElementNS)(t.namespaceURI,"patches");t.appendChild(r),this.writeSurfacePatches_(r,e,n)}}RING_NODE_FACTORY_(t,e,n){const r=e[e.length-1],o=r.node,s=r.exteriorWritten;return void 0===s&&(r.exteriorWritten=!0),(0,i.createElementNS)(o.namespaceURI,void 0!==s?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(t,e,n){const r=(0,i.createElementNS)(t.namespaceURI,"PolygonPatch");t.appendChild(r),this.writeSurfaceOrPolygon(r,e,n)}writeRing(t,e,n){const r=(0,i.createElementNS)(t.namespaceURI,"LinearRing");t.appendChild(r),this.writeLinearRing(r,e,n)}getCoords_(t,e,n){let r=(e?(0,s.get)(e).getAxisOrientation():"enu").startsWith("en")?t[0]+","+t[1]:t[1]+","+t[0];if(n){r+=","+(t[2]||0)}return r}writePoint(t,e,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;o&&t.setAttribute("srsName",o);const s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s);const a=e.getCoordinates(),c=this.getCoords_(a,o,i);(0,l.uB)(s,c)}writeMultiPoint(t,e,n){const r=n[n.length-1],o=r.hasZ,s=r.srsName;s&&t.setAttribute("srsName",s);const a=e.getPoints();(0,i.pushSerializeAndPop)({node:t,hasZ:o,srsName:s},this.POINTMEMBER_SERIALIZERS,(0,i.makeSimpleNodeFactory)("pointMember"),a,n,void 0,this)}writePointMember(t,e,n){const r=(0,i.createElementNS)(t.namespaceURI,"Point");t.appendChild(r),this.writePoint(r,e,n)}writeLinearRing(t,e,n){const r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);const i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,n)}writeMultiSurfaceOrPolygon(t,e,n){const r=n[n.length-1],o=r.hasZ,s=r.srsName,a=r.surface;s&&t.setAttribute("srsName",s);const l=e.getPolygons();(0,i.pushSerializeAndPop)({node:t,hasZ:o,srsName:s,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeSurfaceOrPolygonMember(t,e,n){const r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeSurfaceOrPolygon(r,e,n))}writeEnvelope(t,e,n){const r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);const o=[e[0]+" "+e[1],e[2]+" "+e[3]];(0,i.pushSerializeAndPop)({node:t},this.ENVELOPE_SERIALIZERS,i.OBJECT_PROPERTY_NODE_FACTORY,o,n,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(t,e,n){const r=e[e.length-1].node;return(0,i.createElementNS)("http://www.opengis.net/gml",u[r.nodeName])}}h.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:(0,i.makeReplacer)(h.prototype.readFlatCoordinates)}},h.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:h.prototype.innerBoundaryIsParser,outerBoundaryIs:h.prototype.outerBoundaryIsParser}},h.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:(0,i.makeArrayPusher)(h.prototype.readFlatCoordinates)}},h.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,i.makeReplacer)(r.A.prototype.readPoint),MultiPoint:(0,i.makeReplacer)(r.A.prototype.readMultiPoint),LineString:(0,i.makeReplacer)(r.A.prototype.readLineString),MultiLineString:(0,i.makeReplacer)(r.A.prototype.readMultiLineString),LinearRing:(0,i.makeReplacer)(r.A.prototype.readLinearRing),Polygon:(0,i.makeReplacer)(r.A.prototype.readPolygon),MultiPolygon:(0,i.makeReplacer)(r.A.prototype.readMultiPolygon),Box:(0,i.makeReplacer)(h.prototype.readBox)}},h.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,i.makeChildAppender)(h.prototype.writeCurveOrLineString),MultiCurve:(0,i.makeChildAppender)(h.prototype.writeMultiCurveOrLineString),Point:(0,i.makeChildAppender)(h.prototype.writePoint),MultiPoint:(0,i.makeChildAppender)(h.prototype.writeMultiPoint),LineString:(0,i.makeChildAppender)(h.prototype.writeCurveOrLineString),MultiLineString:(0,i.makeChildAppender)(h.prototype.writeMultiCurveOrLineString),LinearRing:(0,i.makeChildAppender)(h.prototype.writeLinearRing),Polygon:(0,i.makeChildAppender)(h.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,i.makeChildAppender)(h.prototype.writeMultiSurfaceOrPolygon),Surface:(0,i.makeChildAppender)(h.prototype.writeSurfaceOrPolygon),MultiSurface:(0,i.makeChildAppender)(h.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,i.makeChildAppender)(h.prototype.writeEnvelope)}},h.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,i.makeChildAppender)(h.prototype.writeLineStringOrCurveMember),curveMember:(0,i.makeChildAppender)(h.prototype.writeLineStringOrCurveMember)}},h.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:(0,i.makeChildAppender)(h.prototype.writeRing),innerBoundaryIs:(0,i.makeChildAppender)(h.prototype.writeRing)}},h.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,i.makeChildAppender)(h.prototype.writePointMember)}},h.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,i.makeChildAppender)(h.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,i.makeChildAppender)(h.prototype.writeSurfaceOrPolygonMember)}},h.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,i.makeChildAppender)(l.uB),upperCorner:(0,i.makeChildAppender)(l.uB)}};const d=h},8662:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>_});var r=n(581),i=n(1386),o=n(1217),s=n(6702),a=n(2871),l=n(4142),c=n(3942),u=n(915),h=n(6514),d=n(3407),f=n(7468),p=n(8217);const g=i.M+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",m={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class y extends i.A{constructor(t){super(t=t||{}),this.surface_=void 0!==t.surface&&t.surface,this.curve_=void 0!==t.curve&&t.curve,this.multiCurve_=void 0===t.multiCurve||t.multiCurve,this.multiSurface_=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:g,this.hasZ=void 0!==t.hasZ&&t.hasZ}readMultiCurve(t,e){const n=(0,c.pushParseAndPop)([],this.MULTICURVE_PARSERS,t,e,this);if(n){return new s.default(n)}}readFlatCurveRing(t,e){const n=(0,c.pushParseAndPop)([],this.MULTICURVE_PARSERS,t,e,this),r=[];for(let t=0,e=n.length;t<e;++t)(0,h.extend)(r,n[t].getFlatCoordinates());return r}readMultiSurface(t,e){const n=(0,c.pushParseAndPop)([],this.MULTISURFACE_PARSERS,t,e,this);if(n)return new a.default(n)}curveMemberParser(t,e){(0,c.parseNode)(this.CURVEMEMBER_PARSERS,t,e,this)}surfaceMemberParser(t,e){(0,c.parseNode)(this.SURFACEMEMBER_PARSERS,t,e,this)}readPatch(t,e){return(0,c.pushParseAndPop)([null],this.PATCHES_PARSERS,t,e,this)}readSegment(t,e){return(0,c.pushParseAndPop)([],this.SEGMENTS_PARSERS,t,e,this)}readPolygonPatch(t,e){return(0,c.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)}readLineStringSegment(t,e){return(0,c.pushParseAndPop)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)}interiorParser(t,e){const n=(0,c.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);if(n){e[e.length-1].push(n)}}exteriorParser(t,e){const n=(0,c.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);if(n){e[e.length-1][0]=n}}readSurface(t,e){const n=(0,c.pushParseAndPop)([null],this.SURFACE_PARSERS,t,e,this);if(n&&n[0]){const t=n[0],e=[t.length];let r,i;for(r=1,i=n.length;r<i;++r)(0,h.extend)(t,n[r]),e.push(t.length);return new l.default(t,"XYZ",e)}}readCurve(t,e){const n=(0,c.pushParseAndPop)([null],this.CURVE_PARSERS,t,e,this);if(n){return new o.default(n,"XYZ")}}readEnvelope(t,e){const n=(0,c.pushParseAndPop)([null],this.ENVELOPE_PARSERS,t,e,this);return(0,u.createOrUpdate)(n[1][0],n[1][1],n[2][0],n[2][1])}readFlatPos(t,e){let n=(0,c.getAllTextContent)(t,!1);const r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];let o;for(;o=r.exec(n);)i.push(parseFloat(o[1])),n=n.substr(o[0].length);if(""!==n)return;const s=e[0].srsName;if("neu"===(s?(0,d.get)(s).getAxisOrientation():"enu"))for(let t=0,e=i.length;t<e;t+=3){const e=i[t],n=i[t+1];i[t]=n,i[t+1]=e}const a=i.length;return 2==a&&i.push(0),0!==a?i:void 0}readFlatPosList(t,e){const n=(0,c.getAllTextContent)(t,!1).replace(/^\s*|\s*$/g,""),r=e[0],i=r.srsName,o=r.srsDimension,s=i?(0,d.get)(i).getAxisOrientation():"enu",a=n.split(/\s+/);let l=2;t.getAttribute("srsDimension")?l=(0,f._X)(t.getAttribute("srsDimension")):t.getAttribute("dimension")?l=(0,f._X)(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?l=(0,f._X)(t.parentNode.getAttribute("srsDimension")):o&&(l=(0,f._X)(o));const u=s.startsWith("en");let h,p,g;const m=[];for(let t=0,e=a.length;t<e;t+=l)h=parseFloat(a[t]),p=parseFloat(a[t+1]),g=3===l?parseFloat(a[t+2]):0,u?m.push(h,p,g):m.push(p,h,g);return m}writePos_(t,e,n){const r=n[n.length-1],i=r.hasZ,o=i?"3":"2";t.setAttribute("srsDimension",o);const s=r.srsName,a=s?(0,d.get)(s).getAxisOrientation():"enu",l=e.getCoordinates();let c=a.startsWith("en")?l[0]+" "+l[1]:l[1]+" "+l[0];if(i){c+=" "+(l[2]||0)}(0,f.uB)(t,c)}getCoords_(t,e,n){let r=(e?(0,d.get)(e).getAxisOrientation():"enu").startsWith("en")?t[0]+" "+t[1]:t[1]+" "+t[0];if(n){r+=" "+(t[2]||0)}return r}writePosList_(t,e,n){const r=n[n.length-1],i=r.hasZ,o=i?"3":"2";t.setAttribute("srsDimension",o);const s=r.srsName,a=e.getCoordinates(),l=a.length,c=new Array(l);let u;for(let t=0;t<l;++t)u=a[t],c[t]=this.getCoords_(u,s,i);(0,f.uB)(t,c.join(" "))}writePoint(t,e,n){const r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);const i=(0,c.createElementNS)(t.namespaceURI,"pos");t.appendChild(i),this.writePos_(i,e,n)}writeEnvelope(t,e,n){const r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);const i=[e[0]+" "+e[1],e[2]+" "+e[3]];(0,c.pushSerializeAndPop)({node:t},this.ENVELOPE_SERIALIZERS,c.OBJECT_PROPERTY_NODE_FACTORY,i,n,["lowerCorner","upperCorner"],this)}writeLinearRing(t,e,n){const r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);const i=(0,c.createElementNS)(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,n)}RING_NODE_FACTORY_(t,e,n){const r=e[e.length-1],i=r.node,o=r.exteriorWritten;return void 0===o&&(r.exteriorWritten=!0),(0,c.createElementNS)(i.namespaceURI,void 0!==o?"interior":"exterior")}writeSurfaceOrPolygon(t,e,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){const r=e.getLinearRings();(0,c.pushSerializeAndPop)({node:t,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,r,n,void 0,this)}else if("Surface"===t.nodeName){const r=(0,c.createElementNS)(t.namespaceURI,"patches");t.appendChild(r),this.writeSurfacePatches_(r,e,n)}}writeCurveOrLineString(t,e,n){const r=n[n.length-1].srsName;if("LineStringSegment"!==t.nodeName&&r&&t.setAttribute("srsName",r),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){const r=(0,c.createElementNS)(t.namespaceURI,"posList");t.appendChild(r),this.writePosList_(r,e,n)}else if("Curve"===t.nodeName){const r=(0,c.createElementNS)(t.namespaceURI,"segments");t.appendChild(r),this.writeCurveSegments_(r,e,n)}}writeMultiSurfaceOrPolygon(t,e,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.surface;o&&t.setAttribute("srsName",o);const a=e.getPolygons();(0,c.pushSerializeAndPop)({node:t,hasZ:i,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeMultiPoint(t,e,n){const r=n[n.length-1],i=r.srsName,o=r.hasZ;i&&t.setAttribute("srsName",i);const s=e.getPoints();(0,c.pushSerializeAndPop)({node:t,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS,(0,c.makeSimpleNodeFactory)("pointMember"),s,n,void 0,this)}writeMultiCurveOrLineString(t,e,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.curve;o&&t.setAttribute("srsName",o);const a=e.getLineStrings();(0,c.pushSerializeAndPop)({node:t,hasZ:i,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeRing(t,e,n){const r=(0,c.createElementNS)(t.namespaceURI,"LinearRing");t.appendChild(r),this.writeLinearRing(r,e,n)}writeSurfaceOrPolygonMember(t,e,n){const r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeSurfaceOrPolygon(r,e,n))}writePointMember(t,e,n){const r=(0,c.createElementNS)(t.namespaceURI,"Point");t.appendChild(r),this.writePoint(r,e,n)}writeLineStringOrCurveMember(t,e,n){const r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeCurveOrLineString(r,e,n))}writeSurfacePatches_(t,e,n){const r=(0,c.createElementNS)(t.namespaceURI,"PolygonPatch");t.appendChild(r),this.writeSurfaceOrPolygon(r,e,n)}writeCurveSegments_(t,e,n){const r=(0,c.createElementNS)(t.namespaceURI,"LineStringSegment");t.appendChild(r),this.writeCurveOrLineString(r,e,n)}writeGeometryElement(t,e,n){const r=n[n.length-1],i=Object.assign({},r);let o;i.node=t,o=Array.isArray(e)?(0,p.transformExtentWithOptions)(e,r):(0,p.transformGeometryWithOptions)(e,!0,r),(0,c.pushSerializeAndPop)(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],n,void 0,this)}writeFeatureElement(t,e,n){const r=e.getId();r&&t.setAttribute("fid",r);const i=n[n.length-1],o=i.featureNS,s=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const a=[],l=[];if(e.hasProperties()){const t=e.getProperties();for(const e in t){const n=t[e];null!=n&&(a.push(e),l.push(n),e==s||"function"==typeof n.getSimplifiedGeometry?e in i.serializers[o]||(i.serializers[o][e]=(0,c.makeChildAppender)(this.writeGeometryElement,this)):e in i.serializers[o]||(i.serializers[o][e]=(0,c.makeChildAppender)(f.uB)))}}const u=Object.assign({},i);u.node=t,(0,c.pushSerializeAndPop)(u,i.serializers,(0,c.makeSimpleNodeFactory)(void 0,o),l,n,a)}writeFeatureMembers_(t,e,n){const r=n[n.length-1],i=r.featureType,o=r.featureNS,s={};s[o]={},s[o][i]=(0,c.makeChildAppender)(this.writeFeatureElement,this);const a=Object.assign({},r);a.node=t,(0,c.pushSerializeAndPop)(a,s,(0,c.makeSimpleNodeFactory)(i,o),e,n)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(t,e,n){const r=e[e.length-1].node;return(0,c.createElementNS)(this.namespace,m[r.nodeName])}GEOMETRY_NODE_FACTORY_(t,e,n){const r=e[e.length-1],i=r.multiSurface,o=r.surface,s=r.curve,a=r.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===o?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===a&&(n="MultiCurve"),(0,c.createElementNS)(this.namespace,n)}writeGeometryNode(t,e){e=this.adaptOptions(e);const n=(0,c.createElementNS)(this.namespace,"geom"),r={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object.assign(r,e),this.writeGeometryElement(n,t,[r]),n}writeFeaturesNode(t,e){e=this.adaptOptions(e);const n=(0,c.createElementNS)(this.namespace,"featureMembers");n.setAttributeNS(c.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation);const r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object.assign(r,e),this.writeFeatureMembers_(n,t,[r]),n}}y.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,c.makeReplacer)(y.prototype.readFlatPos),posList:(0,c.makeReplacer)(y.prototype.readFlatPosList),coordinates:(0,c.makeReplacer)(r.default.prototype.readFlatCoordinates)}},y.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:y.prototype.interiorParser,exterior:y.prototype.exteriorParser}},y.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,c.makeReplacer)(i.A.prototype.readPoint),MultiPoint:(0,c.makeReplacer)(i.A.prototype.readMultiPoint),LineString:(0,c.makeReplacer)(i.A.prototype.readLineString),MultiLineString:(0,c.makeReplacer)(i.A.prototype.readMultiLineString),LinearRing:(0,c.makeReplacer)(i.A.prototype.readLinearRing),Polygon:(0,c.makeReplacer)(i.A.prototype.readPolygon),MultiPolygon:(0,c.makeReplacer)(i.A.prototype.readMultiPolygon),Surface:(0,c.makeReplacer)(y.prototype.readSurface),MultiSurface:(0,c.makeReplacer)(y.prototype.readMultiSurface),Curve:(0,c.makeReplacer)(y.prototype.readCurve),MultiCurve:(0,c.makeReplacer)(y.prototype.readMultiCurve),Envelope:(0,c.makeReplacer)(y.prototype.readEnvelope)}},y.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:(0,c.makeArrayPusher)(y.prototype.curveMemberParser),curveMembers:(0,c.makeArrayPusher)(y.prototype.curveMemberParser)}},y.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:(0,c.makeArrayPusher)(y.prototype.surfaceMemberParser),surfaceMembers:(0,c.makeArrayPusher)(y.prototype.surfaceMemberParser)}},y.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,c.makeArrayPusher)(i.A.prototype.readLineString),Curve:(0,c.makeArrayPusher)(y.prototype.readCurve)}},y.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,c.makeArrayPusher)(i.A.prototype.readPolygon),Surface:(0,c.makeArrayPusher)(y.prototype.readSurface)}},y.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:(0,c.makeReplacer)(y.prototype.readPatch)}},y.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:(0,c.makeReplacer)(y.prototype.readSegment)}},y.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:(0,c.makeArrayPusher)(y.prototype.readFlatPosList),upperCorner:(0,c.makeArrayPusher)(y.prototype.readFlatPosList)}},y.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:(0,c.makeReplacer)(y.prototype.readPolygonPatch)}},y.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:(0,c.makeArrayExtender)(y.prototype.readLineStringSegment)}},i.A.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,c.makeReplacer)(i.A.prototype.readFlatLinearRing),Ring:(0,c.makeReplacer)(y.prototype.readFlatCurveRing)}},y.prototype.writeFeatures,y.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:(0,c.makeChildAppender)(y.prototype.writeRing),interior:(0,c.makeChildAppender)(y.prototype.writeRing)}},y.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,c.makeChildAppender)(f.uB),upperCorner:(0,c.makeChildAppender)(f.uB)}},y.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,c.makeChildAppender)(y.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,c.makeChildAppender)(y.prototype.writeSurfaceOrPolygonMember)}},y.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,c.makeChildAppender)(y.prototype.writePointMember)}},y.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,c.makeChildAppender)(y.prototype.writeLineStringOrCurveMember),curveMember:(0,c.makeChildAppender)(y.prototype.writeLineStringOrCurveMember)}},y.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,c.makeChildAppender)(y.prototype.writeCurveOrLineString),MultiCurve:(0,c.makeChildAppender)(y.prototype.writeMultiCurveOrLineString),Point:(0,c.makeChildAppender)(y.prototype.writePoint),MultiPoint:(0,c.makeChildAppender)(y.prototype.writeMultiPoint),LineString:(0,c.makeChildAppender)(y.prototype.writeCurveOrLineString),MultiLineString:(0,c.makeChildAppender)(y.prototype.writeMultiCurveOrLineString),LinearRing:(0,c.makeChildAppender)(y.prototype.writeLinearRing),Polygon:(0,c.makeChildAppender)(y.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,c.makeChildAppender)(y.prototype.writeMultiSurfaceOrPolygon),Surface:(0,c.makeChildAppender)(y.prototype.writeSurfaceOrPolygon),MultiSurface:(0,c.makeChildAppender)(y.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,c.makeChildAppender)(y.prototype.writeEnvelope)}};const _=y},1386:(t,e,n)=>{"use strict";n.d(e,{A:()=>b,M:()=>y});var r=n(6717),i=n(7430),o=n(1217),s=n(2809),a=n(6702),l=n(503),c=n(2871),u=n(4294),h=n(4142),d=n(6546),f=n(6514),p=n(3942),g=n(3407),m=n(8217);const y="http://www.opengis.net/gml",_=/^\s*$/;class v extends d.A{constructor(t){super(),t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:(0,p.makeArrayPusher)(this.readFeaturesInternal),featureMembers:(0,p.makeReplacer)(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(t,e){const n=t.localName;let r=null;if("FeatureCollection"==n)r=(0,p.pushParseAndPop)([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==n||"featureMember"==n||"member"==n){const i=e[0];let o=i.featureType,s=i.featureNS;const a="p",l="p0";if(!o&&t.childNodes){o=[],s={};for(let e=0,n=t.childNodes.length;e<n;++e){const n=t.childNodes[e];if(1===n.nodeType){const t=n.nodeName.split(":").pop();if(!o.includes(t)){let e="",r=0;const i=n.namespaceURI;for(const t in s){if(s[t]===i){e=t;break}++r}e||(e=a+r,s[e]=i),o.push(e+":"+t)}}}"featureMember"!=n&&(i.featureType=o,i.featureNS=s)}if("string"==typeof s){const t=s;s={},s[l]=t}const c={},u=Array.isArray(o)?o:[o];for(const t in s){const e={};for(let r=0,i=u.length;r<i;++r){(u[r].includes(":")?u[r].split(":")[0]:l)===t&&(e[u[r].split(":").pop()]="featureMembers"==n?(0,p.makeArrayPusher)(this.readFeatureElement,this):(0,p.makeReplacer)(this.readFeatureElement,this))}c[s[t]]=e}r="featureMember"==n||"member"==n?(0,p.pushParseAndPop)(void 0,c,t,e):(0,p.pushParseAndPop)([],c,t,e)}return null===r&&(r=[]),r}readGeometryOrExtent(t,e){const n=e[0];return n.srsName=t.firstElementChild.getAttribute("srsName"),n.srsDimension=t.firstElementChild.getAttribute("srsDimension"),(0,p.pushParseAndPop)(null,this.GEOMETRY_PARSERS,t,e,this)}readExtentElement(t,e){const n=e[0],r=this.readGeometryOrExtent(t,e);return r?(0,m.transformExtentWithOptions)(r,n):void 0}readGeometryElement(t,e){const n=e[0],r=this.readGeometryOrExtent(t,e);return r?(0,m.transformGeometryWithOptions)(r,!1,n):void 0}readFeatureElementInternal(t,e,n){let o;const s={};for(let r=t.firstElementChild;r;r=r.nextElementSibling){let t;const a=r.localName;0===r.childNodes.length||1===r.childNodes.length&&(3===r.firstChild.nodeType||4===r.firstChild.nodeType)?(t=(0,p.getAllTextContent)(r,!1),_.test(t)&&(t=void 0)):(n&&(t="boundedBy"===a?this.readExtentElement(r,e):this.readGeometryElement(r,e)),t?"boundedBy"!==a&&(o=a):t=this.readFeatureElementInternal(r,e,!1));const l=r.attributes.length;if(l>0&&!(t instanceof i.default)){t={_content_:t};for(let e=0;e<l;e++){t[r.attributes[e].name]=r.attributes[e].value}}s[a]?(s[a]instanceof Array||(s[a]=[s[a]]),s[a].push(t)):s[a]=t}if(!n)return s;const a=new r.default(s);o&&a.setGeometryName(o);const l=t.getAttribute("fid")||(0,p.getAttributeNS)(t,this.namespace,"id");return l&&a.setId(l),a}readFeatureElement(t,e){return this.readFeatureElementInternal(t,e,!0)}readPoint(t,e){const n=this.readFlatCoordinatesFromNode(t,e);if(n)return new u.default(n,"XYZ")}readMultiPoint(t,e){const n=(0,p.pushParseAndPop)([],this.MULTIPOINT_PARSERS,t,e,this);if(n)return new l.default(n)}readMultiLineString(t,e){const n=(0,p.pushParseAndPop)([],this.MULTILINESTRING_PARSERS,t,e,this);if(n)return new a.default(n)}readMultiPolygon(t,e){const n=(0,p.pushParseAndPop)([],this.MULTIPOLYGON_PARSERS,t,e,this);if(n)return new c.default(n)}pointMemberParser(t,e){(0,p.parseNode)(this.POINTMEMBER_PARSERS,t,e,this)}lineStringMemberParser(t,e){(0,p.parseNode)(this.LINESTRINGMEMBER_PARSERS,t,e,this)}polygonMemberParser(t,e){(0,p.parseNode)(this.POLYGONMEMBER_PARSERS,t,e,this)}readLineString(t,e){const n=this.readFlatCoordinatesFromNode(t,e);if(n){return new o.default(n,"XYZ")}}readFlatLinearRing(t,e){const n=(0,p.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);if(n)return n}readLinearRing(t,e){const n=this.readFlatCoordinatesFromNode(t,e);if(n)return new s.default(n,"XYZ")}readPolygon(t,e){const n=(0,p.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(n&&n[0]){const t=n[0],e=[t.length];let r,i;for(r=1,i=n.length;r<i;++r)(0,f.extend)(t,n[r]),e.push(t.length);return new h.default(t,"XYZ",e)}}readFlatCoordinatesFromNode(t,e){return(0,p.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)}readGeometryFromNode(t,e){const n=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return n||null}readFeaturesFromNode(t,e){const n={featureType:this.featureType,featureNS:this.featureNS};n&&Object.assign(n,this.getReadOptions(t,e));return this.readFeaturesInternal(t,[n])||[]}readProjectionFromNode(t){return(0,g.get)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))}}v.prototype.namespace=y,v.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},v.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},v.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},v.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:(0,p.makeArrayPusher)(v.prototype.pointMemberParser),pointMembers:(0,p.makeArrayPusher)(v.prototype.pointMemberParser)}},v.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:(0,p.makeArrayPusher)(v.prototype.lineStringMemberParser),lineStringMembers:(0,p.makeArrayPusher)(v.prototype.lineStringMemberParser)}},v.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:(0,p.makeArrayPusher)(v.prototype.polygonMemberParser),polygonMembers:(0,p.makeArrayPusher)(v.prototype.polygonMemberParser)}},v.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:(0,p.makeArrayPusher)(v.prototype.readFlatCoordinatesFromNode)}},v.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,p.makeArrayPusher)(v.prototype.readLineString)}},v.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,p.makeArrayPusher)(v.prototype.readPolygon)}},v.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,p.makeReplacer)(v.prototype.readFlatLinearRing)}};const b=v},9766:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>X});var r=n(6717),i=n(1217),o=n(6702),s=n(4294),a=n(6546),l=n(3942),c=n(3407),u=n(7468),h=n(8217);const d=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],f={rte:H,trk:W,wpt:q},p=(0,l.makeStructureNS)(d,{rte:(0,l.makeArrayPusher)(H),trk:(0,l.makeArrayPusher)(W),wpt:(0,l.makeArrayPusher)(q)}),g=(0,l.makeStructureNS)(d,{text:(0,l.makeObjectPropertySetter)(u.E3,"linkText"),type:(0,l.makeObjectPropertySetter)(u.E3,"linkType")}),m=(0,l.makeStructureNS)(d,{name:(0,l.makeObjectPropertySetter)(u.E3),email:function(t,e){const n=e[e.length-1],r=t.getAttribute("id"),i=t.getAttribute("domain");null!==r&&null!==i&&(n.email=`${r}@${i}`)},link:z}),y=(0,l.makeStructureNS)(d,{name:(0,l.makeObjectPropertySetter)(u.E3),desc:(0,l.makeObjectPropertySetter)(u.E3),author:(0,l.makeObjectPropertySetter)((function(t,e){const n=(0,l.pushParseAndPop)({},m,t,e);if(n)return n;return})),copyright:(0,l.makeObjectPropertySetter)((function(t,e){const n=(0,l.pushParseAndPop)({},_,t,e);if(n){const e=t.getAttribute("author");return null!==e&&(n.author=e),n}return})),link:z,time:(0,l.makeObjectPropertySetter)(u._I),keywords:(0,l.makeObjectPropertySetter)(u.E3),bounds:function(t,e){const n=e[e.length-1],r=t.getAttribute("minlat"),i=t.getAttribute("minlon"),o=t.getAttribute("maxlat"),s=t.getAttribute("maxlon");null!==i&&null!==r&&null!==s&&null!==o&&(n.bounds=[[parseFloat(i),parseFloat(r)],[parseFloat(s),parseFloat(o)]])},extensions:G}),_=(0,l.makeStructureNS)(d,{year:(0,l.makeObjectPropertySetter)(u.yg),license:(0,l.makeObjectPropertySetter)(u.E3)}),v=(0,l.makeStructureNS)(d,{rte:(0,l.makeChildAppender)((function(t,e,n){const r=n[0],i=e.getProperties(),o={node:t};o.properties=i;const s=e.getGeometry();if("LineString"==s.getType()){const t=(0,h.transformGeometryWithOptions)(s,!0,r);o.geometryLayout=t.getLayout(),i.rtept=t.getCoordinates()}const a=n[n.length-1].node,c=k[a.namespaceURI],u=(0,l.makeSequence)(i,c);(0,l.pushSerializeAndPop)(o,I,l.OBJECT_PROPERTY_NODE_FACTORY,u,n,c)})),trk:(0,l.makeChildAppender)((function(t,e,n){const r=n[0],i=e.getProperties(),o={node:t};o.properties=i;const s=e.getGeometry();if("MultiLineString"==s.getType()){const t=(0,h.transformGeometryWithOptions)(s,!0,r);i.trkseg=t.getLineStrings()}const a=n[n.length-1].node,c=R[a.namespaceURI],u=(0,l.makeSequence)(i,c);(0,l.pushSerializeAndPop)(o,O,l.OBJECT_PROPERTY_NODE_FACTORY,u,n,c)})),wpt:(0,l.makeChildAppender)((function(t,e,n){const r=n[0],i=n[n.length-1];i.properties=e.getProperties();const o=e.getGeometry();if("Point"==o.getType()){const e=(0,h.transformGeometryWithOptions)(o,!0,r);i.geometryLayout=e.getLayout(),Y(t,e.getCoordinates(),n)}}))});class b extends a.A{constructor(t){super(),t=t||{},this.dataProjection=(0,c.get)("EPSG:4326"),this.readExtensions_=t.readExtensions}handleReadExtensions_(t){t||(t=[]);for(let e=0,n=t.length;e<n;++e){const n=t[e];if(this.readExtensions_){const t=n.get("extensionsNode_")||null;this.readExtensions_(n,t)}n.set("extensionsNode_",void 0)}}readMetadata(t){return t?"string"==typeof t?this.readMetadataFromDocument((0,l.parse)(t)):(0,l.isDocument)(t)?this.readMetadataFromDocument(t):this.readMetadataFromNode(t):null}readMetadataFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType===Node.ELEMENT_NODE){const t=this.readMetadataFromNode(e);if(t)return t}return null}readMetadataFromNode(t){if(!d.includes(t.namespaceURI))return null;for(let e=t.firstElementChild;e;e=e.nextElementSibling)if(d.includes(e.namespaceURI)&&"metadata"===e.localName)return(0,l.pushParseAndPop)({},y,e,[]);return null}readFeatureFromNode(t,e){if(!d.includes(t.namespaceURI))return null;const n=f[t.localName];if(!n)return null;const r=n(t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_([r]),r):null}readFeaturesFromNode(t,e){if(!d.includes(t.namespaceURI))return[];if("gpx"==t.localName){const n=(0,l.pushParseAndPop)([],p,t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_(n),n):[]}return[]}writeFeaturesNode(t,e){e=this.adaptOptions(e);const n=(0,l.createElementNS)("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",l.XML_SCHEMA_INSTANCE_URI),n.setAttributeNS(l.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),(0,l.pushSerializeAndPop)({node:n},v,j,t,[e]),n}}const x=(0,l.makeStructureNS)(d,{name:(0,l.makeObjectPropertySetter)(u.E3),cmt:(0,l.makeObjectPropertySetter)(u.E3),desc:(0,l.makeObjectPropertySetter)(u.E3),src:(0,l.makeObjectPropertySetter)(u.E3),link:z,number:(0,l.makeObjectPropertySetter)(u.yg),extensions:G,type:(0,l.makeObjectPropertySetter)(u.E3),rtept:function(t,e){const n=(0,l.pushParseAndPop)({},S,t,e);if(n){const r=e[e.length-1];U(r.flatCoordinates,r.layoutOptions,t,n)}}}),S=(0,l.makeStructureNS)(d,{ele:(0,l.makeObjectPropertySetter)(u.e4),time:(0,l.makeObjectPropertySetter)(u._I)}),w=(0,l.makeStructureNS)(d,{name:(0,l.makeObjectPropertySetter)(u.E3),cmt:(0,l.makeObjectPropertySetter)(u.E3),desc:(0,l.makeObjectPropertySetter)(u.E3),src:(0,l.makeObjectPropertySetter)(u.E3),link:z,number:(0,l.makeObjectPropertySetter)(u.yg),type:(0,l.makeObjectPropertySetter)(u.E3),extensions:G,trkseg:function(t,e){const n=e[e.length-1];(0,l.parseNode)(E,t,e);const r=n.flatCoordinates;n.ends.push(r.length)}}),E=(0,l.makeStructureNS)(d,{trkpt:function(t,e){const n=(0,l.pushParseAndPop)({},T,t,e);if(n){const r=e[e.length-1];U(r.flatCoordinates,r.layoutOptions,t,n)}}}),T=(0,l.makeStructureNS)(d,{ele:(0,l.makeObjectPropertySetter)(u.e4),time:(0,l.makeObjectPropertySetter)(u._I)}),C=(0,l.makeStructureNS)(d,{ele:(0,l.makeObjectPropertySetter)(u.e4),time:(0,l.makeObjectPropertySetter)(u._I),magvar:(0,l.makeObjectPropertySetter)(u.e4),geoidheight:(0,l.makeObjectPropertySetter)(u.e4),name:(0,l.makeObjectPropertySetter)(u.E3),cmt:(0,l.makeObjectPropertySetter)(u.E3),desc:(0,l.makeObjectPropertySetter)(u.E3),src:(0,l.makeObjectPropertySetter)(u.E3),link:z,sym:(0,l.makeObjectPropertySetter)(u.E3),type:(0,l.makeObjectPropertySetter)(u.E3),fix:(0,l.makeObjectPropertySetter)(u.E3),sat:(0,l.makeObjectPropertySetter)(u.yg),hdop:(0,l.makeObjectPropertySetter)(u.e4),vdop:(0,l.makeObjectPropertySetter)(u.e4),pdop:(0,l.makeObjectPropertySetter)(u.e4),ageofdgpsdata:(0,l.makeObjectPropertySetter)(u.e4),dgpsid:(0,l.makeObjectPropertySetter)(u.yg),extensions:G}),M=["text","type"],A=(0,l.makeStructureNS)(d,{text:(0,l.makeChildAppender)(u.uB),type:(0,l.makeChildAppender)(u.uB)}),k=(0,l.makeStructureNS)(d,["name","cmt","desc","src","link","number","type","rtept"]),I=(0,l.makeStructureNS)(d,{name:(0,l.makeChildAppender)(u.uB),cmt:(0,l.makeChildAppender)(u.uB),desc:(0,l.makeChildAppender)(u.uB),src:(0,l.makeChildAppender)(u.uB),link:(0,l.makeChildAppender)(V),number:(0,l.makeChildAppender)(u.pE),type:(0,l.makeChildAppender)(u.uB),rtept:(0,l.makeArraySerializer)((0,l.makeChildAppender)(Y))}),P=(0,l.makeStructureNS)(d,["ele","time"]),R=(0,l.makeStructureNS)(d,["name","cmt","desc","src","link","number","type","trkseg"]),O=(0,l.makeStructureNS)(d,{name:(0,l.makeChildAppender)(u.uB),cmt:(0,l.makeChildAppender)(u.uB),desc:(0,l.makeChildAppender)(u.uB),src:(0,l.makeChildAppender)(u.uB),link:(0,l.makeChildAppender)(V),number:(0,l.makeChildAppender)(u.pE),type:(0,l.makeChildAppender)(u.uB),trkseg:(0,l.makeArraySerializer)((0,l.makeChildAppender)((function(t,e,n){const r={node:t};r.geometryLayout=e.getLayout(),r.properties={},(0,l.pushSerializeAndPop)(r,D,N,e.getCoordinates(),n)})))}),N=(0,l.makeSimpleNodeFactory)("trkpt"),D=(0,l.makeStructureNS)(d,{trkpt:(0,l.makeChildAppender)(Y)}),$=(0,l.makeStructureNS)(d,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),L=(0,l.makeStructureNS)(d,{ele:(0,l.makeChildAppender)(u.Ko),time:(0,l.makeChildAppender)(u.cS),magvar:(0,l.makeChildAppender)(u.Ko),geoidheight:(0,l.makeChildAppender)(u.Ko),name:(0,l.makeChildAppender)(u.uB),cmt:(0,l.makeChildAppender)(u.uB),desc:(0,l.makeChildAppender)(u.uB),src:(0,l.makeChildAppender)(u.uB),link:(0,l.makeChildAppender)(V),sym:(0,l.makeChildAppender)(u.uB),type:(0,l.makeChildAppender)(u.uB),fix:(0,l.makeChildAppender)(u.uB),sat:(0,l.makeChildAppender)(u.pE),hdop:(0,l.makeChildAppender)(u.Ko),vdop:(0,l.makeChildAppender)(u.Ko),pdop:(0,l.makeChildAppender)(u.Ko),ageofdgpsdata:(0,l.makeChildAppender)(u.Ko),dgpsid:(0,l.makeChildAppender)(u.pE)}),F={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function j(t,e,n){const r=t.getGeometry();if(r){const t=F[r.getType()];if(t){const n=e[e.length-1].node;return(0,l.createElementNS)(n.namespaceURI,t)}}}function U(t,e,n,r){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in r?(t.push(r.ele),delete r.ele,e.hasZ=!0):t.push(0),"time"in r?(t.push(r.time),delete r.time,e.hasM=!0):t.push(0),t}function B(t,e,n){let r="XY",i=2;if(t.hasZ&&t.hasM?(r="XYZM",i=4):t.hasZ?(r="XYZ",i=3):t.hasM&&(r="XYM",i=3),4!==i){for(let n=0,r=e.length/4;n<r;n++)e[n*i]=e[4*n],e[n*i+1]=e[4*n+1],t.hasZ&&(e[n*i+2]=e[4*n+2]),t.hasM&&(e[n*i+2]=e[4*n+3]);if(e.length=e.length/4*i,n)for(let t=0,e=n.length;t<e;t++)n[t]=n[t]/4*i}return r}function z(t,e){const n=e[e.length-1],r=t.getAttribute("href");null!==r&&(n.link=r),(0,l.parseNode)(g,t,e)}function G(t,e){e[e.length-1].extensionsNode_=t}function H(t,e){const n=e[0],o=(0,l.pushParseAndPop)({flatCoordinates:[],layoutOptions:{}},x,t,e);if(!o)return;const s=o.flatCoordinates;delete o.flatCoordinates;const a=o.layoutOptions;delete o.layoutOptions;const c=B(a,s),u=new i.default(s,c);(0,h.transformGeometryWithOptions)(u,!1,n);const d=new r.default(u);return d.setProperties(o,!0),d}function W(t,e){const n=e[0],i=(0,l.pushParseAndPop)({flatCoordinates:[],ends:[],layoutOptions:{}},w,t,e);if(!i)return;const s=i.flatCoordinates;delete i.flatCoordinates;const a=i.ends;delete i.ends;const c=i.layoutOptions;delete i.layoutOptions;const u=B(c,s,a),d=new o.default(s,u,a);(0,h.transformGeometryWithOptions)(d,!1,n);const f=new r.default(d);return f.setProperties(i,!0),f}function q(t,e){const n=e[0],i=(0,l.pushParseAndPop)({},C,t,e);if(!i)return;const o={},a=U([],o,t,i),c=B(o,a),u=new s.default(a,c);(0,h.transformGeometryWithOptions)(u,!1,n);const d=new r.default(u);return d.setProperties(i,!0),d}function V(t,e,n){t.setAttribute("href",e);const r=n[n.length-1].properties,i=[r.linkText,r.linkType];(0,l.pushSerializeAndPop)({node:t},A,l.OBJECT_PROPERTY_NODE_FACTORY,i,n,M)}function Y(t,e,n){const r=n[n.length-1],i=r.node.namespaceURI,o=r.properties;t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0]));switch(r.geometryLayout){case"XYZM":0!==e[3]&&(o.time=e[3]);case"XYZ":0!==e[2]&&(o.ele=e[2]);break;case"XYM":0!==e[2]&&(o.time=e[2])}const s="rtept"==t.nodeName?P[i]:$[i],a=(0,l.makeSequence)(o,s);(0,l.pushSerializeAndPop)({node:t,properties:o},L,l.OBJECT_PROPERTY_NODE_FACTORY,a,n,s)}const X=b},1365:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(6717),i=n(8217),o=n(4087);class s extends i.default{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(a(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(a(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return(0,o.abstract)()}readFeaturesFromObject(t,e){return(0,o.abstract)()}readGeometry(t,e){return this.readGeometryFromObject(a(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return(0,o.abstract)()}readProjection(t){return this.readProjectionFromObject(a(t))}readProjectionFromObject(t){return(0,o.abstract)()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return(0,o.abstract)()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return(0,o.abstract)()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return(0,o.abstract)()}}function a(t){if("string"==typeof t){const e=JSON.parse(t);return e||null}return null!==t?t:null}const l=s;var c=n(4778),u=n(2497),h=n(2096),d=n(3407),f=n(3530);function p(t,e){if(!t)return null;let n;switch(t.type){case"Point":n=function(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:(0,h.getLayoutForStride)(e.length)}}(t);break;case"LineString":n=function(t){const e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:(0,h.getLayoutForStride)(e[0]?.length||2)}}(t);break;case"Polygon":n=function(t){const e=t.coordinates,n=[],r=e[0]?.[0]?.length,i=(0,u.KG)(n,0,e,r);return{type:"Polygon",flatCoordinates:n,ends:i,layout:(0,h.getLayoutForStride)(r)}}(t);break;case"MultiPoint":n=function(t){const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:(0,h.getLayoutForStride)(e[0]?.length||2)}}(t);break;case"MultiLineString":n=function(t){const e=t.coordinates,n=e[0]?.[0]?.length||2,r=[],i=(0,u.KG)(r,0,e,n);return{type:"MultiLineString",flatCoordinates:r,ends:i,layout:(0,h.getLayoutForStride)(n)}}(t);break;case"MultiPolygon":n=function(t){const e=t.coordinates,n=[],r=e[0]?.[0]?.[0].length||2,i=(0,u.d6)(n,0,e,r);return{type:"MultiPolygon",flatCoordinates:n,ends:i,layout:(0,h.getLayoutForStride)(r)}}(t);break;case"GeometryCollection":n=function(t,e){const n=t.geometries.map((function(t){return p(t,e)}));return n}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function g(t,e){const n=(t=(0,i.transformGeometryWithOptions)(t,!0,e)).getType();let r;switch(n){case"Point":r=function(t){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":r=function(t){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":r=function(t,e){let n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":r=function(t){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":r=function(t){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":r=function(t,e){let n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":r=function(t,e){e=Object.assign({},e),delete e.featureProjection;const n=t.getGeometriesArray().map((function(t){return g(t,e)}));return{type:"GeometryCollection",geometries:n}}(t,e);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}const m=class extends l{constructor(t){t=t||{},super(),this.dataProjection=(0,d.get)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=(0,d.get)(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let n=null;n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};const o=p(n.geometry,e);if(this.featureClass===c.Ay)return(0,i.createRenderFeature)({geometry:o,id:n.id,properties:n.properties},e);const s=new r.default;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&s.setGeometryName(n.geometry_name),s.setGeometry((0,i.createGeometry)(o,e)),"id"in n&&s.setId(n.id),n.properties&&s.setProperties(n.properties,!0),s}readFeaturesFromObject(t,e){let n=null;if("FeatureCollection"===t.type){n=[];const r=t.features;for(let t=0,i=r.length;t<i;++t){const i=this.readFeatureFromObject(r[t],e);i&&n.push(i)}}else n=[this.readFeatureFromObject(t,e)];return n.flat()}readGeometryFromObject(t,e){return function(t,e){const n=p(t,e);return(0,i.createGeometry)(n,e)}(t,e)}readProjectionFromObject(t){const e=t.crs;let n;if(e)if("name"==e.type)n=(0,d.get)(e.properties.name);else{if("EPSG"!==e.type)throw new Error("Unknown SRS type");n=(0,d.get)("EPSG:"+e.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(n.id=r),!t.hasProperties())return n;const i=t.getProperties(),o=t.getGeometry();return o&&(n.geometry=g(o,e),delete i[t.getGeometryName()]),(0,f.isEmpty)(i)||(n.properties=i),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return g(t,this.adaptOptions(e))}}},3599:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Re,getDefaultFillStyle:()=>z,getDefaultImageStyle:()=>W,getDefaultStrokeStyle:()=>Y,getDefaultStyle:()=>J,getDefaultStyleArray:()=>et,getDefaultTextStyle:()=>K,readFlatCoordinates:()=>at});var r=n(6717),i=n(3628),o=n(4338),s=n(9700),a=n(6141),l=n(1217),c=n(6702),u=n(503),h=n(2871),d=n(4294),f=n(4142),p=n(953),g=n(6895),m=n(1426),y=n(6546),_=n(3942),v=n(3730),b=n(6514),x=n(3407),S=n(7468),w=n(1597),E=n(8217);const T=["http://www.google.com/kml/ext/2.2"],C=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],M={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},A=(0,_.makeStructureNS)(C,{ExtendedData:Ft,Region:jt,MultiGeometry:(0,_.makeObjectPropertySetter)(kt,"geometry"),LineString:(0,_.makeObjectPropertySetter)(Ct,"geometry"),LinearRing:(0,_.makeObjectPropertySetter)(Mt,"geometry"),Point:(0,_.makeObjectPropertySetter)(It,"geometry"),Polygon:(0,_.makeObjectPropertySetter)(Rt,"geometry"),Style:(0,_.makeObjectPropertySetter)(Nt),StyleMap:function(t,e){const n=dt.call(this,t,e);if(!n)return;const r=e[e.length-1];if(Array.isArray(n))r.Style=n;else{if("string"!=typeof n)throw new Error("`styleMapValue` has an unknown type");r.styleUrl=n}},address:(0,_.makeObjectPropertySetter)(S.E3),description:(0,_.makeObjectPropertySetter)(S.E3),name:(0,_.makeObjectPropertySetter)(S.E3),open:(0,_.makeObjectPropertySetter)(S.Vf),phoneNumber:(0,_.makeObjectPropertySetter)(S.E3),styleUrl:(0,_.makeObjectPropertySetter)(ct),visibility:(0,_.makeObjectPropertySetter)(S.Vf)},(0,_.makeStructureNS)(T,{MultiTrack:(0,_.makeObjectPropertySetter)((function(t,e){const n=(0,_.pushParseAndPop)([],vt,t,e);if(!n)return;return new c.default(n)}),"geometry"),Track:(0,_.makeObjectPropertySetter)(xt,"geometry")})),k=(0,_.makeStructureNS)(C,{ExtendedData:Ft,Region:jt,Link:function(t,e){(0,_.parseNode)(I,t,e)},address:(0,_.makeObjectPropertySetter)(S.E3),description:(0,_.makeObjectPropertySetter)(S.E3),name:(0,_.makeObjectPropertySetter)(S.E3),open:(0,_.makeObjectPropertySetter)(S.Vf),phoneNumber:(0,_.makeObjectPropertySetter)(S.E3),visibility:(0,_.makeObjectPropertySetter)(S.Vf)}),I=(0,_.makeStructureNS)(C,{href:(0,_.makeObjectPropertySetter)(lt)}),P=(0,_.makeStructureNS)(C,{Altitude:(0,_.makeObjectPropertySetter)(S.e4),Longitude:(0,_.makeObjectPropertySetter)(S.e4),Latitude:(0,_.makeObjectPropertySetter)(S.e4),Tilt:(0,_.makeObjectPropertySetter)(S.e4),AltitudeMode:(0,_.makeObjectPropertySetter)(S.E3),Heading:(0,_.makeObjectPropertySetter)(S.e4),Roll:(0,_.makeObjectPropertySetter)(S.e4)}),R=(0,_.makeStructureNS)(C,{LatLonAltBox:function(t,e){const n=(0,_.pushParseAndPop)({},zt,t,e);if(!n)return;const r=e[e.length-1],i=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=i,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)},Lod:function(t,e){const n=(0,_.pushParseAndPop)({},Gt,t,e);if(!n)return;const r=e[e.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)}}),O=(0,_.makeStructureNS)(C,["Document","Placemark"]),N=(0,_.makeStructureNS)(C,{Document:(0,_.makeChildAppender)((function(t,e,n){const r={node:t};(0,_.pushSerializeAndPop)(r,Yt,Xt,e,n,void 0,this)})),Placemark:(0,_.makeChildAppender)(ve)});let D,$,L,F,j,U,B=null;function z(){return B}let G,H=null;function W(){return H}let q,V=null;function Y(){return V}let X=null;function K(){return X}let Z=null;function J(){return Z}let Q,tt=null;function et(){return tt}function nt(t){return 32/Math.min(t[0],t[1])}function rt(t){return t}class it extends y.A{constructor(t){super(),t=t||{},tt||(D=[255,255,255,1],B=new i.default({color:D}),$=[20,2],L="pixels",F="pixels",j=[64,64],U="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",H=new s.default({anchor:$,anchorOrigin:"bottom-left",anchorXUnits:L,anchorYUnits:F,crossOrigin:"anonymous",rotation:0,scale:nt(j),size:j,src:U}),G="NO_IMAGE",V=new p.default({color:D,width:1}),q=new p.default({color:[51,51,51,1],width:2}),X=new m.default({font:"bold 16px Helvetica",fill:B,stroke:q,scale:.8}),Z=new g.default({fill:B,image:H,text:X,stroke:V,zIndex:0}),tt=[Z]),this.dataProjection=(0,x.get)("EPSG:4326"),this.defaultStyle_=t.defaultStyle?t.defaultStyle:tt,this.extractStyles_=void 0===t.extractStyles||t.extractStyles,this.writeStyles_=void 0===t.writeStyles||t.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===t.showPointNames||t.showPointNames,this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",this.iconUrlFunction_=t.iconUrlFunction?t.iconUrlFunction:rt,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(t,e){const n=(0,_.makeStructureNS)(C,{Document:(0,_.makeArrayExtender)(this.readDocumentOrFolder_,this),Folder:(0,_.makeArrayExtender)(this.readDocumentOrFolder_,this),Placemark:(0,_.makeArrayPusher)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),r=(0,_.pushParseAndPop)([],n,t,e,this);if(r)return r}readPlacemark_(t,e){const n=(0,_.pushParseAndPop)({geometry:null},A,t,e,this);if(!n)return;const i=new r.default,s=t.getAttribute("id");null!==s&&i.setId(s);const a=e[0],l=n.geometry;if(l&&(0,E.transformGeometryWithOptions)(l,!1,a),i.setGeometry(l),delete n.geometry,this.extractStyles_){const t=function(t,e,n,r,i){return function(s,a){let l=i,c="",u=[];if(l){const t=s.getGeometry();if(t)if(t instanceof o.default)u=t.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Point"===e||"MultiPoint"===e})),l=u.length>0;else{const e=t.getType();l="Point"===e||"MultiPoint"===e}}l&&(c=s.get("name"),l=l&&!!c,l&&/&[^&]+;/.test(c)&&(Q||(Q=document.createElement("textarea")),Q.innerHTML=c,c=Q.value));let h=n;if(t?h=t:e&&(h=ot(e,n,r)),l){const t=function(t,e){const n=[0,0];let r="start";const i=t.getImage();if(i){const t=i.getSize();if(t&&2==t.length){const e=i.getScaleArray(),o=i.getAnchor();n[0]=e[0]*(t[0]-o[0]),n[1]=e[1]*(t[1]/2-o[1]),r="left"}}let o=t.getText();o?(o=o.clone(),o.setFont(o.getFont()||X.getFont()),o.setScale(o.getScale()||X.getScale()),o.setFill(o.getFill()||X.getFill()),o.setStroke(o.getStroke()||q)):o=X.clone();o.setText(e),o.setOffsetX(n[0]),o.setOffsetY(n[1]),o.setTextAlign(r);const s=new g.default({image:i,text:o});return s}(h[0],c);if(u.length>0){t.setGeometry(new o.default(u));return[t,new g.default({geometry:h[0].getGeometry(),image:null,fill:h[0].getFill(),stroke:h[0].getStroke(),text:null})].concat(h.slice(1))}return t}return h}}(n.Style,n.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(t)}return delete n.Style,i.setProperties(n,!0),i}readSharedStyle_(t,e){const n=t.getAttribute("id");if(null!==n){const r=Nt.call(this,t,e);if(r){let e,i=t.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i){e=new URL("#"+n,i).href}else e="#"+n;this.sharedStyles_[e]=r}}}readSharedStyleMap_(t,e){const n=t.getAttribute("id");if(null===n)return;const r=dt.call(this,t,e);if(!r)return;let i,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){i=new URL("#"+n,o).href}else i="#"+n;this.sharedStyles_[i]=r}readFeatureFromNode(t,e){if(!C.includes(t.namespaceURI))return null;const n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n||null}readFeaturesFromNode(t,e){if(!C.includes(t.namespaceURI))return[];let n;const r=t.localName;if("Document"==r||"Folder"==r)return n=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),n||[];if("Placemark"==r){const n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n?[n]:[]}if("kml"==r){n=[];for(let r=t.firstElementChild;r;r=r.nextElementSibling){const t=this.readFeaturesFromNode(r,e);t&&(0,b.extend)(n,t)}return n}return[]}readName(t){if(t){if("string"==typeof t){const e=(0,_.parse)(t);return this.readNameFromDocument(e)}return(0,_.isDocument)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}}readNameFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){const t=this.readNameFromNode(e);if(t)return t}}readNameFromNode(t){for(let e=t.firstElementChild;e;e=e.nextElementSibling)if(C.includes(e.namespaceURI)&&"name"==e.localName)return(0,S.E3)(e);for(let e=t.firstElementChild;e;e=e.nextElementSibling){const t=e.localName;if(C.includes(e.namespaceURI)&&("Document"==t||"Folder"==t||"Placemark"==t||"kml"==t)){const t=this.readNameFromNode(e);if(t)return t}}}readNetworkLinks(t){const e=[];if("string"==typeof t){const n=(0,_.parse)(t);(0,b.extend)(e,this.readNetworkLinksFromDocument(n))}else(0,_.isDocument)(t)?(0,b.extend)(e,this.readNetworkLinksFromDocument(t)):(0,b.extend)(e,this.readNetworkLinksFromNode(t));return e}readNetworkLinksFromDocument(t){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,b.extend)(e,this.readNetworkLinksFromNode(n));return e}readNetworkLinksFromNode(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)if(C.includes(n.namespaceURI)&&"NetworkLink"==n.localName){const t=(0,_.pushParseAndPop)({},k,n,[]);e.push(t)}for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=n.localName;!C.includes(n.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||(0,b.extend)(e,this.readNetworkLinksFromNode(n))}return e}readRegion(t){const e=[];if("string"==typeof t){const n=(0,_.parse)(t);(0,b.extend)(e,this.readRegionFromDocument(n))}else(0,_.isDocument)(t)?(0,b.extend)(e,this.readRegionFromDocument(t)):(0,b.extend)(e,this.readRegionFromNode(t));return e}readRegionFromDocument(t){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,b.extend)(e,this.readRegionFromNode(n));return e}readRegionFromNode(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)if(C.includes(n.namespaceURI)&&"Region"==n.localName){const t=(0,_.pushParseAndPop)({},R,n,[]);e.push(t)}for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=n.localName;!C.includes(n.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||(0,b.extend)(e,this.readRegionFromNode(n))}return e}readCamera(t){const e=[];if("string"==typeof t){const n=(0,_.parse)(t);(0,b.extend)(e,this.readCameraFromDocument(n))}else(0,_.isDocument)(t)?(0,b.extend)(e,this.readCameraFromDocument(t)):(0,b.extend)(e,this.readCameraFromNode(t));return e}readCameraFromDocument(t){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType===Node.ELEMENT_NODE&&(0,b.extend)(e,this.readCameraFromNode(n));return e}readCameraFromNode(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)if(C.includes(n.namespaceURI)&&"Camera"===n.localName){const t=(0,_.pushParseAndPop)({},P,n,[]);e.push(t)}for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=n.localName;!C.includes(n.namespaceURI)||"Document"!==t&&"Folder"!==t&&"Placemark"!==t&&"kml"!==t||(0,b.extend)(e,this.readCameraFromNode(n))}return e}writeFeaturesNode(t,e){e=this.adaptOptions(e);const n=(0,_.createElementNS)(C[4],"kml"),r="http://www.w3.org/2000/xmlns/";n.setAttributeNS(r,"xmlns:gx",T[0]),n.setAttributeNS(r,"xmlns:xsi",_.XML_SCHEMA_INSTANCE_URI),n.setAttributeNS(_.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");const i={node:n},o={};t.length>1?o.Document=t:1==t.length&&(o.Placemark=t[0]);const s=O[n.namespaceURI],a=(0,_.makeSequence)(o,s);return(0,_.pushSerializeAndPop)(i,N,_.OBJECT_PROPERTY_NODE_FACTORY,a,[e],s,this),n}}function ot(t,e,n){return Array.isArray(t)?t:"string"==typeof t?ot(n[t],e,n):e}function st(t){const e=(0,_.getAllTextContent)(t,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){const t=n[1];return[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}}function at(t){let e=(0,_.getAllTextContent)(t,!1);const n=[];e=e.replace(/\s*,\s*/g,",");const r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let i;for(;i=r.exec(e);){const t=parseFloat(i[1]),r=parseFloat(i[2]),o=i[3]?parseFloat(i[3]):0;n.push(t,r,o),e=e.substr(i[0].length)}if(""===e)return n}function lt(t){const e=(0,_.getAllTextContent)(t,!1).trim();let n=t.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){return new URL(e,n).href}return e}function ct(t){const e=(0,_.getAllTextContent)(t,!1).trim().replace(/^(?!.*#)/,"#");let n=t.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){return new URL(e,n).href}return e}function ut(t){return(0,S.e4)(t)}const ht=(0,_.makeStructureNS)(C,{Pair:function(t,e){const n=(0,_.pushParseAndPop)({},Ut,t,e,this);if(!n)return;const r=n.key;if(r&&"normal"==r){const t=n.styleUrl;t&&(e[e.length-1]=t);const r=n.Style;r&&(e[e.length-1]=r)}}});function dt(t,e){return(0,_.pushParseAndPop)(void 0,ht,t,e,this)}const ft=(0,_.makeStructureNS)(C,{Icon:(0,_.makeObjectPropertySetter)((function(t,e){const n=(0,_.pushParseAndPop)({},St,t,e);if(n)return n;return null})),color:(0,_.makeObjectPropertySetter)(st),heading:(0,_.makeObjectPropertySetter)(S.e4),hotSpot:(0,_.makeObjectPropertySetter)((function(t){const e=t.getAttribute("xunits"),n=t.getAttribute("yunits");let r;return r="insetPixels"!==e?"insetPixels"!==n?"bottom-left":"top-left":"insetPixels"!==n?"bottom-right":"top-right",{x:parseFloat(t.getAttribute("x")),xunits:M[e],y:parseFloat(t.getAttribute("y")),yunits:M[n],origin:r}})),scale:(0,_.makeObjectPropertySetter)(ut)});const pt=(0,_.makeStructureNS)(C,{color:(0,_.makeObjectPropertySetter)(st),scale:(0,_.makeObjectPropertySetter)(ut)});const gt=(0,_.makeStructureNS)(C,{color:(0,_.makeObjectPropertySetter)(st),width:(0,_.makeObjectPropertySetter)(S.e4)});const mt=(0,_.makeStructureNS)(C,{color:(0,_.makeObjectPropertySetter)(st),fill:(0,_.makeObjectPropertySetter)(S.Vf),outline:(0,_.makeObjectPropertySetter)(S.Vf)});const yt=(0,_.makeStructureNS)(C,{coordinates:(0,_.makeReplacer)(at)});function _t(t,e){return(0,_.pushParseAndPop)(null,yt,t,e)}const vt=(0,_.makeStructureNS)(T,{Track:(0,_.makeArrayPusher)(xt)});const bt=(0,_.makeStructureNS)(C,{when:function(t,e){const n=e[e.length-1].whens,r=(0,_.getAllTextContent)(t,!1),i=Date.parse(r);n.push(isNaN(i)?0:i)}},(0,_.makeStructureNS)(T,{coord:function(t,e){const n=e[e.length-1].coordinates,r=(0,_.getAllTextContent)(t,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(i){const t=parseFloat(i[1]),e=parseFloat(i[2]),r=parseFloat(i[3]);n.push([t,e,r])}else n.push([])}}));function xt(t,e){const n=(0,_.pushParseAndPop)({coordinates:[],whens:[]},bt,t,e);if(!n)return;const r=[],i=n.coordinates,o=n.whens;for(let t=0,e=Math.min(i.length,o.length);t<e;++t)3==i[t].length&&r.push(i[t][0],i[t][1],i[t][2],o[t]);return new l.default(r,"XYZM")}const St=(0,_.makeStructureNS)(C,{href:(0,_.makeObjectPropertySetter)(lt)},(0,_.makeStructureNS)(T,{x:(0,_.makeObjectPropertySetter)(S.e4),y:(0,_.makeObjectPropertySetter)(S.e4),w:(0,_.makeObjectPropertySetter)(S.e4),h:(0,_.makeObjectPropertySetter)(S.e4)}));const wt=(0,_.makeStructureNS)(C,{coordinates:(0,_.makeReplacer)(at)});function Et(t,e){return(0,_.pushParseAndPop)(null,wt,t,e)}const Tt=(0,_.makeStructureNS)(C,{extrude:(0,_.makeObjectPropertySetter)(S.Vf),tessellate:(0,_.makeObjectPropertySetter)(S.Vf),altitudeMode:(0,_.makeObjectPropertySetter)(S.E3)});function Ct(t,e){const n=(0,_.pushParseAndPop)({},Tt,t,e),r=Et(t,e);if(r){const t=new l.default(r,"XYZ");return t.setProperties(n,!0),t}}function Mt(t,e){const n=(0,_.pushParseAndPop)({},Tt,t,e),r=Et(t,e);if(r){const t=new f.default(r,"XYZ",[r.length]);return t.setProperties(n,!0),t}}const At=(0,_.makeStructureNS)(C,{LineString:(0,_.makeArrayPusher)(Ct),LinearRing:(0,_.makeArrayPusher)(Mt),MultiGeometry:(0,_.makeArrayPusher)(kt),Point:(0,_.makeArrayPusher)(It),Polygon:(0,_.makeArrayPusher)(Rt)});function kt(t,e){const n=(0,_.pushParseAndPop)([],At,t,e);if(!n)return null;if(0===n.length)return new o.default(n);let r,i=!0;const s=n[0].getType();let a;for(let t=1,e=n.length;t<e;++t)if(a=n[t],a.getType()!=s){i=!1;break}if(i){let t,e;if("Point"==s){const i=n[0];t=i.getLayout(),e=i.getFlatCoordinates();for(let t=1,r=n.length;t<r;++t)a=n[t],(0,b.extend)(e,a.getFlatCoordinates());r=new u.default(e,t),Dt(r,n)}else if("LineString"==s)r=new c.default(n),Dt(r,n);else if("Polygon"==s)r=new h.default(n),Dt(r,n);else{if("GeometryCollection"!=s&&!s.startsWith("Multi"))throw new Error("Unknown geometry type found");r=new o.default(n)}}else r=new o.default(n);return r}function It(t,e){const n=(0,_.pushParseAndPop)({},Tt,t,e),r=Et(t,e);if(r){const t=new d.default(r,"XYZ");return t.setProperties(n,!0),t}}const Pt=(0,_.makeStructureNS)(C,{innerBoundaryIs:function(t,e){const n=(0,_.pushParseAndPop)([],Ht,t,e);if(n.length>0){e[e.length-1].push(...n)}},outerBoundaryIs:function(t,e){const n=(0,_.pushParseAndPop)(void 0,Wt,t,e);if(n){e[e.length-1][0]=n}}});function Rt(t,e){const n=(0,_.pushParseAndPop)({},Tt,t,e),r=(0,_.pushParseAndPop)([null],Pt,t,e);if(r&&r[0]){const t=r[0],e=[t.length];for(let n=1,i=r.length;n<i;++n)(0,b.extend)(t,r[n]),e.push(t.length);const i=new f.default(t,"XYZ",e);return i.setProperties(n,!0),i}}const Ot=(0,_.makeStructureNS)(C,{IconStyle:function(t,e){const n=(0,_.pushParseAndPop)({},ft,t,e);if(!n)return;const r=e[e.length-1],i="Icon"in n?n.Icon:{},o=!("Icon"in n)||Object.keys(i).length>0;let l;const c=i.href;let u,h,d;c?l=c:o&&(l=U);let f="bottom-left";const p=n.hotSpot;let g;p?(u=[p.x,p.y],h=p.xunits,d=p.yunits,f=p.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(l)&&(l.includes("pushpin")?(u=$,h=L,d=F):l.includes("arrow-reverse")?(u=[54,42],h=L,d=F):l.includes("paddle")&&(u=[32,1],h=L,d=F));const m=i.x,y=i.y;let v;void 0!==m&&void 0!==y&&(g=[m,y]);const b=i.w,x=i.h;let S;void 0!==b&&void 0!==x&&(v=[b,x]);const E=n.heading;void 0!==E&&(S=(0,w.toRadians)(E));const T=n.scale,C=n.color;if(o){l==U&&(v=j);const t=new s.default({anchor:u,anchorOrigin:f,anchorXUnits:h,anchorYUnits:d,crossOrigin:this.crossOrigin_,offset:g,offsetOrigin:"bottom-left",rotation:S,scale:T,size:v,src:this.iconUrlFunction_(l),color:C}),e=t.getScaleArray()[0],n=t.getSize();if(null===n){const n=t.getImageState();if(n===a.A.IDLE||n===a.A.LOADING){const r=function(){const n=t.getImageState();if(n!==a.A.IDLE&&n!==a.A.LOADING){const n=t.getSize();if(n&&2==n.length){const r=nt(n);t.setScale(e*r)}t.unlistenImageChange(r)}};t.listenImageChange(r),n===a.A.IDLE&&t.load()}}else if(2==n.length){const r=nt(n);t.setScale(e*r)}r.imageStyle=t}else r.imageStyle=G},LabelStyle:function(t,e){const n=(0,_.pushParseAndPop)({},pt,t,e);if(!n)return;const r=e[e.length-1],o=new m.default({fill:new i.default({color:"color"in n?n.color:D}),scale:n.scale});r.textStyle=o},LineStyle:function(t,e){const n=(0,_.pushParseAndPop)({},gt,t,e);if(!n)return;const r=e[e.length-1],i=new p.default({color:"color"in n?n.color:D,width:"width"in n?n.width:1});r.strokeStyle=i},PolyStyle:function(t,e){const n=(0,_.pushParseAndPop)({},mt,t,e);if(!n)return;const r=e[e.length-1],o=new i.default({color:"color"in n?n.color:D});r.fillStyle=o;const s=n.fill;void 0!==s&&(r.fill=s);const a=n.outline;void 0!==a&&(r.outline=a)}});function Nt(t,e){const n=(0,_.pushParseAndPop)({},Ot,t,e,this);if(!n)return null;let r="fillStyle"in n?n.fillStyle:B;const i=n.fill;let s;void 0===i||i||(r=null),"imageStyle"in n?n.imageStyle!=G&&(s=n.imageStyle):s=H;const a="textStyle"in n?n.textStyle:X,l="strokeStyle"in n?n.strokeStyle:V,c=n.outline;return void 0===c||c?[new g.default({fill:r,image:s,stroke:l,text:a,zIndex:void 0})]:[new g.default({geometry:function(t){const e=t.getGeometry(),n=e.getType();if("GeometryCollection"===n){const t=e;return new o.default(t.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"!==e&&"MultiPolygon"!==e})))}if("Polygon"!==n&&"MultiPolygon"!==n)return e},fill:r,image:s,stroke:l,text:a,zIndex:void 0}),new g.default({geometry:function(t){const e=t.getGeometry(),n=e.getType();if("GeometryCollection"===n){const t=e;return new o.default(t.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"===e||"MultiPolygon"===e})))}if("Polygon"===n||"MultiPolygon"===n)return e},fill:r,stroke:null,zIndex:void 0})]}function Dt(t,e){const n=e.length,r=new Array(e.length),i=new Array(e.length),o=new Array(e.length);let s,a,l;s=!1,a=!1,l=!1;for(let t=0;t<n;++t){const n=e[t];r[t]=n.get("extrude"),i[t]=n.get("tessellate"),o[t]=n.get("altitudeMode"),s=s||void 0!==r[t],a=a||void 0!==i[t],l=l||o[t]}s&&t.set("extrude",r),a&&t.set("tessellate",i),l&&t.set("altitudeMode",o)}const $t=(0,_.makeStructureNS)(C,{displayName:(0,_.makeObjectPropertySetter)(S.E3),value:(0,_.makeObjectPropertySetter)(S.E3)});const Lt=(0,_.makeStructureNS)(C,{Data:function(t,e){const n=t.getAttribute("name");(0,_.parseNode)($t,t,e);const r=e[e.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:null!==n?r[n]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value},SchemaData:function(t,e){(0,_.parseNode)(Bt,t,e)}});function Ft(t,e){(0,_.parseNode)(Lt,t,e)}function jt(t,e){(0,_.parseNode)(R,t,e)}const Ut=(0,_.makeStructureNS)(C,{Style:(0,_.makeObjectPropertySetter)(Nt),key:(0,_.makeObjectPropertySetter)(S.E3),styleUrl:(0,_.makeObjectPropertySetter)(ct)});const Bt=(0,_.makeStructureNS)(C,{SimpleData:function(t,e){const n=t.getAttribute("name");if(null!==n){const r=(0,S.E3)(t);e[e.length-1][n]=r}}});const zt=(0,_.makeStructureNS)(C,{altitudeMode:(0,_.makeObjectPropertySetter)(S.E3),minAltitude:(0,_.makeObjectPropertySetter)(S.e4),maxAltitude:(0,_.makeObjectPropertySetter)(S.e4),north:(0,_.makeObjectPropertySetter)(S.e4),south:(0,_.makeObjectPropertySetter)(S.e4),east:(0,_.makeObjectPropertySetter)(S.e4),west:(0,_.makeObjectPropertySetter)(S.e4)});const Gt=(0,_.makeStructureNS)(C,{minLodPixels:(0,_.makeObjectPropertySetter)(S.e4),maxLodPixels:(0,_.makeObjectPropertySetter)(S.e4),minFadeExtent:(0,_.makeObjectPropertySetter)(S.e4),maxFadeExtent:(0,_.makeObjectPropertySetter)(S.e4)});const Ht=(0,_.makeStructureNS)(C,{LinearRing:(0,_.makeArrayPusher)(_t)});const Wt=(0,_.makeStructureNS)(C,{LinearRing:(0,_.makeReplacer)(_t)});function qt(t,e){const n=(0,v.asArray)(e),r=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(let t=0;t<4;++t){const e=Math.floor(r[t]).toString(16);r[t]=1==e.length?"0"+e:e}(0,S.uB)(t,r.join(""))}const Vt=(0,_.makeStructureNS)(C,{Data:(0,_.makeChildAppender)((function(t,e,n){t.setAttribute("name",e.name);const r={node:t},i=e.value;"object"==typeof i?(null!==i&&i.displayName&&(0,_.pushSerializeAndPop)(r,Vt,_.OBJECT_PROPERTY_NODE_FACTORY,[i.displayName],n,["displayName"]),null!==i&&i.value&&(0,_.pushSerializeAndPop)(r,Vt,_.OBJECT_PROPERTY_NODE_FACTORY,[i.value],n,["value"])):(0,_.pushSerializeAndPop)(r,Vt,_.OBJECT_PROPERTY_NODE_FACTORY,[i],n,["value"])})),value:(0,_.makeChildAppender)((function(t,e){(0,S.uB)(t,e)})),displayName:(0,_.makeChildAppender)((function(t,e){(0,S.Gc)(t,e)}))});const Yt=(0,_.makeStructureNS)(C,{Placemark:(0,_.makeChildAppender)(ve)}),Xt=function(t,e,n){const r=e[e.length-1].node;return(0,_.createElementNS)(r.namespaceURI,"Placemark")};const Kt=(0,_.makeSimpleNodeFactory)("Data");const Zt=(0,_.makeStructureNS)(C,["href"],(0,_.makeStructureNS)(T,["x","y","w","h"])),Jt=(0,_.makeStructureNS)(C,{href:(0,_.makeChildAppender)(S.uB)},(0,_.makeStructureNS)(T,{x:(0,_.makeChildAppender)(S.Ko),y:(0,_.makeChildAppender)(S.Ko),w:(0,_.makeChildAppender)(S.Ko),h:(0,_.makeChildAppender)(S.Ko)})),Qt=function(t,e,n){return(0,_.createElementNS)(T[0],"gx:"+n)};const te=(0,_.makeStructureNS)(C,["scale","heading","Icon","color","hotSpot"]),ee=(0,_.makeStructureNS)(C,{Icon:(0,_.makeChildAppender)((function(t,e,n){const r={node:t},i=n[n.length-1].node;let o=Zt[i.namespaceURI],s=(0,_.makeSequence)(e,o);(0,_.pushSerializeAndPop)(r,Jt,_.OBJECT_PROPERTY_NODE_FACTORY,s,n,o),o=Zt[T[0]],s=(0,_.makeSequence)(e,o),(0,_.pushSerializeAndPop)(r,Jt,Qt,s,n,o)})),color:(0,_.makeChildAppender)(qt),heading:(0,_.makeChildAppender)(S.Ko),hotSpot:(0,_.makeChildAppender)((function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)})),scale:(0,_.makeChildAppender)(ke)});const ne=(0,_.makeStructureNS)(C,["color","scale"]),re=(0,_.makeStructureNS)(C,{color:(0,_.makeChildAppender)(qt),scale:(0,_.makeChildAppender)(ke)});const ie=(0,_.makeStructureNS)(C,["color","width"]),oe=(0,_.makeStructureNS)(C,{color:(0,_.makeChildAppender)(qt),width:(0,_.makeChildAppender)(S.Ko)});const se={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ae=function(t,e,n){if(t){const n=e[e.length-1].node;return(0,_.createElementNS)(n.namespaceURI,se[t.getType()])}},le=(0,_.makeSimpleNodeFactory)("Point"),ce=(0,_.makeSimpleNodeFactory)("LineString"),ue=(0,_.makeSimpleNodeFactory)("LinearRing"),he=(0,_.makeSimpleNodeFactory)("Polygon"),de=(0,_.makeStructureNS)(C,{LineString:(0,_.makeChildAppender)(Se),Point:(0,_.makeChildAppender)(Se),Polygon:(0,_.makeChildAppender)(Me),GeometryCollection:(0,_.makeChildAppender)(fe)});function fe(t,e,n){const r={node:t},i=e.getType();let o,s=[];if("GeometryCollection"===i)e.getGeometriesArrayRecursive().forEach((function(t){const e=t.getType();if("MultiPoint"===e)s=s.concat(t.getPoints());else if("MultiLineString"===e)s=s.concat(t.getLineStrings());else if("MultiPolygon"===e)s=s.concat(t.getPolygons());else{if("Point"!==e&&"LineString"!==e&&"Polygon"!==e)throw new Error("Unknown geometry type");s.push(t)}})),o=ae;else if("MultiPoint"===i)s=e.getPoints(),o=le;else if("MultiLineString"===i)s=e.getLineStrings(),o=ce;else{if("MultiPolygon"!==i)throw new Error("Unknown geometry type");s=e.getPolygons(),o=he}(0,_.pushSerializeAndPop)(r,de,o,s,n)}const pe=(0,_.makeStructureNS)(C,{LinearRing:(0,_.makeChildAppender)(Se)});function ge(t,e,n){const r={node:t};(0,_.pushSerializeAndPop)(r,pe,ue,[e],n)}const me=(0,_.makeStructureNS)(C,{ExtendedData:(0,_.makeChildAppender)((function(t,e,n){const r={node:t},i=e.names,o=e.values,s=i.length;for(let t=0;t<s;t++)(0,_.pushSerializeAndPop)(r,Vt,Kt,[{name:i[t],value:o[t]}],n)})),MultiGeometry:(0,_.makeChildAppender)(fe),LineString:(0,_.makeChildAppender)(Se),LinearRing:(0,_.makeChildAppender)(Se),Point:(0,_.makeChildAppender)(Se),Polygon:(0,_.makeChildAppender)(Me),Style:(0,_.makeChildAppender)((function(t,e,n){const r={node:t},i={};if(e.pointStyles.length){const t=e.pointStyles[0].getText();t&&(i.LabelStyle=t);const n=e.pointStyles[0].getImage();n&&"function"==typeof n.getSrc&&(i.IconStyle=n)}if(e.lineStyles.length){const t=e.lineStyles[0].getStroke();t&&(i.LineStyle=t)}if(e.polyStyles.length){const t=e.polyStyles[0].getStroke();t&&!i.LineStyle&&(i.LineStyle=t),i.PolyStyle=e.polyStyles[0]}const o=n[n.length-1].node,s=Ie[o.namespaceURI],a=(0,_.makeSequence)(i,s);(0,_.pushSerializeAndPop)(r,Pe,_.OBJECT_PROPERTY_NODE_FACTORY,a,n,s)})),address:(0,_.makeChildAppender)(S.uB),description:(0,_.makeChildAppender)(S.uB),name:(0,_.makeChildAppender)(S.uB),open:(0,_.makeChildAppender)(S.Z3),phoneNumber:(0,_.makeChildAppender)(S.uB),styleUrl:(0,_.makeChildAppender)(S.uB),visibility:(0,_.makeChildAppender)(S.Z3)}),ye=(0,_.makeStructureNS)(C,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),_e=(0,_.makeSimpleNodeFactory)("ExtendedData");function ve(t,e,n){const r={node:t};e.getId()&&t.setAttribute("id",e.getId());const i=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;const s=Object.keys(i||{}).sort().filter((function(t){return!o[t]})),a=e.getStyleFunction();if(a){const t=a(e,0);if(t){const n=Array.isArray(t)?t:[t];let r=n;if(e.getGeometry()&&(r=n.filter((function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return"GeometryCollection"===t?n.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Point"===e||"MultiPoint"===e})).length:"Point"===t||"MultiPoint"===t}}))),this.writeStyles_){let t=n,o=n;e.getGeometry()&&(t=n.filter((function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return"GeometryCollection"===t?n.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"LineString"===e||"MultiLineString"===e})).length:"LineString"===t||"MultiLineString"===t}})),o=n.filter((function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return"GeometryCollection"===t?n.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"===e||"MultiPolygon"===e})).length:"Polygon"===t||"MultiPolygon"===t}}))),i.Style={pointStyles:r,lineStyles:t,polyStyles:o}}if(r.length&&void 0===i.name){const t=r[0].getText();t&&(i.name=t.getText())}}}const l=n[n.length-1].node,c=ye[l.namespaceURI],u=(0,_.makeSequence)(i,c);if((0,_.pushSerializeAndPop)(r,me,_.OBJECT_PROPERTY_NODE_FACTORY,u,n,c),s.length>0){const t={names:s,values:(0,_.makeSequence)(i,s)};(0,_.pushSerializeAndPop)(r,me,_e,[t],n)}const h=n[0];let d=e.getGeometry();d&&(d=(0,E.transformGeometryWithOptions)(d,!0,h)),(0,_.pushSerializeAndPop)(r,me,ae,[d],n)}const be=(0,_.makeStructureNS)(C,["extrude","tessellate","altitudeMode","coordinates"]),xe=(0,_.makeStructureNS)(C,{extrude:(0,_.makeChildAppender)(S.Z3),tessellate:(0,_.makeChildAppender)(S.Z3),altitudeMode:(0,_.makeChildAppender)(S.uB),coordinates:(0,_.makeChildAppender)((function(t,e,n){const r=n[n.length-1],i=r.layout,o=r.stride;let s;if("XY"==i||"XYM"==i)s=2;else{if("XYZ"!=i&&"XYZM"!=i)throw new Error("Invalid geometry layout");s=3}const a=e.length;let l="";if(a>0){l+=e[0];for(let t=1;t<s;++t)l+=","+e[t];for(let t=o;t<a;t+=o){l+=" "+e[t];for(let n=1;n<s;++n)l+=","+e[t+n]}}(0,S.uB)(t,l)}))});function Se(t,e,n){const r=e.getFlatCoordinates(),i={node:t};i.layout=e.getLayout(),i.stride=e.getStride();const o=e.getProperties();o.coordinates=r;const s=n[n.length-1].node,a=be[s.namespaceURI],l=(0,_.makeSequence)(o,a);(0,_.pushSerializeAndPop)(i,xe,_.OBJECT_PROPERTY_NODE_FACTORY,l,n,a)}const we=(0,_.makeStructureNS)(C,["color","fill","outline"]),Ee=(0,_.makeStructureNS)(C,{outerBoundaryIs:(0,_.makeChildAppender)(ge),innerBoundaryIs:(0,_.makeChildAppender)(ge)}),Te=(0,_.makeSimpleNodeFactory)("innerBoundaryIs"),Ce=(0,_.makeSimpleNodeFactory)("outerBoundaryIs");function Me(t,e,n){const r=e.getLinearRings(),i=r.shift(),o={node:t};(0,_.pushSerializeAndPop)(o,Ee,Te,r,n),(0,_.pushSerializeAndPop)(o,Ee,Ce,[i],n)}const Ae=(0,_.makeStructureNS)(C,{color:(0,_.makeChildAppender)(qt),fill:(0,_.makeChildAppender)(S.Z3),outline:(0,_.makeChildAppender)(S.Z3)});function ke(t,e){(0,S.Ko)(t,Math.round(1e6*e)/1e6)}const Ie=(0,_.makeStructureNS)(C,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Pe=(0,_.makeStructureNS)(C,{IconStyle:(0,_.makeChildAppender)((function(t,e,n){const r={node:t},i={},o=e.getSrc(),s=e.getSize(),a=e.getImageSize(),l={href:o};if(s){l.w=s[0],l.h=s[1];const t=e.getAnchor(),n=e.getOrigin();if(n&&a&&0!==n[0]&&n[1]!==s[1]&&(l.x=n[0],l.y=a[1]-(n[1]+s[1])),t&&(t[0]!==s[0]/2||t[1]!==s[1]/2)){const e={x:t[0],xunits:"pixels",y:s[1]-t[1],yunits:"pixels"};i.hotSpot=e}}i.Icon=l;let c=e.getScaleArray()[0],u=s;if(null===u&&(u=j),2==u.length){c/=nt(u)}1!==c&&(i.scale=c);const h=e.getRotation();0!==h&&(i.heading=h);const d=e.getColor();d&&(i.color=d);const f=n[n.length-1].node,p=te[f.namespaceURI],g=(0,_.makeSequence)(i,p);(0,_.pushSerializeAndPop)(r,ee,_.OBJECT_PROPERTY_NODE_FACTORY,g,n,p)})),LabelStyle:(0,_.makeChildAppender)((function(t,e,n){const r={node:t},i={},o=e.getFill();o&&(i.color=o.getColor());const s=e.getScale();s&&1!==s&&(i.scale=s);const a=n[n.length-1].node,l=ne[a.namespaceURI],c=(0,_.makeSequence)(i,l);(0,_.pushSerializeAndPop)(r,re,_.OBJECT_PROPERTY_NODE_FACTORY,c,n,l)})),LineStyle:(0,_.makeChildAppender)((function(t,e,n){const r={node:t},i={color:e.getColor(),width:Number(e.getWidth())||1},o=n[n.length-1].node,s=ie[o.namespaceURI],a=(0,_.makeSequence)(i,s);(0,_.pushSerializeAndPop)(r,oe,_.OBJECT_PROPERTY_NODE_FACTORY,a,n,s)})),PolyStyle:(0,_.makeChildAppender)((function(t,e,n){const r={node:t},i=e.getFill(),o=e.getStroke(),s={color:i?i.getColor():void 0,fill:!!i&&void 0,outline:!!o&&void 0},a=n[n.length-1].node,l=we[a.namespaceURI],c=(0,_.makeSequence)(s,l);(0,_.pushSerializeAndPop)(r,Ae,_.OBJECT_PROPERTY_NODE_FACTORY,c,n,l)}))});const Re=it},4525:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>N});var r=n(8217),i=n(1217),o=n(6702),s=n(503),a=n(2871);const l=4294967296,c=1/l,u="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");class h{constructor(t=new Uint8Array(16)){this.buf=ArrayBuffer.isView(t)?t:new Uint8Array(t),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(t,e,n=this.length){for(;this.pos<n;){const n=this.readVarint(),r=n>>3,i=this.pos;this.type=7&n,t(r,e,this),this.pos===i&&this.skip(n)}return e}readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)}readFixed32(){const t=this.dataView.getUint32(this.pos,!0);return this.pos+=4,t}readSFixed32(){const t=this.dataView.getInt32(this.pos,!0);return this.pos+=4,t}readFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*l;return this.pos+=8,t}readSFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*l;return this.pos+=8,t}readFloat(){const t=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,t}readDouble(){const t=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,t}readVarint(t){const e=this.buf;let n,r;return r=e[this.pos++],n=127&r,r<128?n:(r=e[this.pos++],n|=(127&r)<<7,r<128?n:(r=e[this.pos++],n|=(127&r)<<14,r<128?n:(r=e[this.pos++],n|=(127&r)<<21,r<128?n:(r=e[this.pos],n|=(15&r)<<28,function(t,e,n){const r=n.buf;let i,o;if(o=r[n.pos++],i=(112&o)>>4,o<128)return d(t,i,e);if(o=r[n.pos++],i|=(127&o)<<3,o<128)return d(t,i,e);if(o=r[n.pos++],i|=(127&o)<<10,o<128)return d(t,i,e);if(o=r[n.pos++],i|=(127&o)<<17,o<128)return d(t,i,e);if(o=r[n.pos++],i|=(127&o)<<24,o<128)return d(t,i,e);if(o=r[n.pos++],i|=(1&o)<<31,o<128)return d(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(n,t,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const t=this.readVarint();return t%2==1?(t+1)/-2:t/2}readBoolean(){return Boolean(this.readVarint())}readString(){const t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&u?u.decode(this.buf.subarray(e,t)):function(t,e,n){let r="",i=e;for(;i<n;){const e=t[i];let o,s,a,l=null,c=e>239?4:e>223?3:e>191?2:1;if(i+c>n)break;1===c?e<128&&(l=e):2===c?(o=t[i+1],128==(192&o)&&(l=(31&e)<<6|63&o,l<=127&&(l=null))):3===c?(o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(l=(15&e)<<12|(63&o)<<6|63&s,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&e)<<18|(63&o)<<12|(63&s)<<6|63&a,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,e,t)}readBytes(){const t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e}readPackedVarint(t=[],e){const n=this.readPackedEnd();for(;this.pos<n;)t.push(this.readVarint(e));return t}readPackedSVarint(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSVarint());return t}readPackedBoolean(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readBoolean());return t}readPackedFloat(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFloat());return t}readPackedDouble(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readDouble());return t}readPackedFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed32());return t}readPackedSFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed32());return t}readPackedFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed64());return t}readPackedSFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed64());return t}readPackedEnd(){return 2===this.type?this.readVarint()+this.pos:this.pos+1}skip(t){const e=7&t;if(0===e)for(;this.buf[this.pos++]>127;);else if(2===e)this.pos=this.readVarint()+this.pos;else if(5===e)this.pos+=4;else{if(1!==e)throw new Error(`Unimplemented type: ${e}`);this.pos+=8}}writeTag(t,e){this.writeVarint(t<<3|e)}realloc(t){let e=this.length||16;for(;e<this.pos+t;)e*=2;if(e!==this.length){const t=new Uint8Array(e);t.set(this.buf),this.buf=t,this.dataView=new DataView(t.buffer),this.length=e}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeSFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,-1&t,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*c),!0),this.pos+=8}writeSFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,-1&t,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*c),!0),this.pos+=8}writeVarint(t){(t=+t||0)>268435455||t<0?function(t,e){let n,r;t>=0?(n=t%4294967296|0,r=t/4294967296|0):(n=~(-t%4294967296),r=~(-t/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){const n=(7&t)<<4;if(e.buf[e.pos++]|=n|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))}writeSVarint(t){this.writeVarint(t<0?2*-t-1:2*t)}writeBoolean(t){this.writeVarint(+t)}writeString(t){t=String(t),this.realloc(4*t.length),this.pos++;const e=this.pos;this.pos=function(t,e,n){for(let r,i,o=0;o<e.length;o++){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);const n=this.pos-e;n>=128&&f(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n}writeFloat(t){this.realloc(4),this.dataView.setFloat32(this.pos,t,!0),this.pos+=4}writeDouble(t){this.realloc(8),this.dataView.setFloat64(this.pos,t,!0),this.pos+=8}writeBytes(t){const e=t.length;this.writeVarint(e),this.realloc(e);for(let n=0;n<e;n++)this.buf[this.pos++]=t[n]}writeRawMessage(t,e){this.pos++;const n=this.pos;t(e,this);const r=this.pos-n;r>=128&&f(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeMessage(t,e,n){this.writeTag(t,2),this.writeRawMessage(e,n)}writePackedVarint(t,e){e.length&&this.writeMessage(t,p,e)}writePackedSVarint(t,e){e.length&&this.writeMessage(t,g,e)}writePackedBoolean(t,e){e.length&&this.writeMessage(t,_,e)}writePackedFloat(t,e){e.length&&this.writeMessage(t,m,e)}writePackedDouble(t,e){e.length&&this.writeMessage(t,y,e)}writePackedFixed32(t,e){e.length&&this.writeMessage(t,v,e)}writePackedSFixed32(t,e){e.length&&this.writeMessage(t,b,e)}writePackedFixed64(t,e){e.length&&this.writeMessage(t,x,e)}writePackedSFixed64(t,e){e.length&&this.writeMessage(t,S,e)}writeBytesField(t,e){this.writeTag(t,2),this.writeBytes(e)}writeFixed32Field(t,e){this.writeTag(t,5),this.writeFixed32(e)}writeSFixed32Field(t,e){this.writeTag(t,5),this.writeSFixed32(e)}writeFixed64Field(t,e){this.writeTag(t,1),this.writeFixed64(e)}writeSFixed64Field(t,e){this.writeTag(t,1),this.writeSFixed64(e)}writeVarintField(t,e){this.writeTag(t,0),this.writeVarint(e)}writeSVarintField(t,e){this.writeTag(t,0),this.writeSVarint(e)}writeStringField(t,e){this.writeTag(t,2),this.writeString(e)}writeFloatField(t,e){this.writeTag(t,5),this.writeFloat(e)}writeDoubleField(t,e){this.writeTag(t,1),this.writeDouble(e)}writeBooleanField(t,e){this.writeVarintField(t,+e)}}function d(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function f(t,e,n){const r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(let e=n.pos-1;e>=t;e--)n.buf[e+r]=n.buf[e]}function p(t,e){for(let n=0;n<t.length;n++)e.writeVarint(t[n])}function g(t,e){for(let n=0;n<t.length;n++)e.writeSVarint(t[n])}function m(t,e){for(let n=0;n<t.length;n++)e.writeFloat(t[n])}function y(t,e){for(let n=0;n<t.length;n++)e.writeDouble(t[n])}function _(t,e){for(let n=0;n<t.length;n++)e.writeBoolean(t[n])}function v(t,e){for(let n=0;n<t.length;n++)e.writeFixed32(t[n])}function b(t,e){for(let n=0;n<t.length;n++)e.writeSFixed32(t[n])}function x(t,e){for(let n=0;n<t.length;n++)e.writeFixed64(t[n])}function S(t,e){for(let n=0;n<t.length;n++)e.writeSFixed64(t[n])}var w=n(4294),E=n(4142),T=n(5286),C=n(4778),M=n(3407),A=n(3402);class k extends r.default{constructor(t){super(),t=t||{},this.dataProjection=new T.A({code:"",units:"tile-pixels"}),this.featureClass=t.featureClass?t.featureClass:C.Ay,this.geometryName_=t.geometryName,this.layerName_=t.layerName?t.layerName:"layer",this.layers_=t.layers?t.layers:null,this.idProperty_=t.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(t,e,n,r){t.pos=e.geometry;const i=t.readVarint()+t.pos;let o=1,s=0,a=0,l=0,c=0,u=0;for(;t.pos<i;){if(!s){const e=t.readVarint();o=7&e,s=e>>3}if(s--,1===o||2===o)a+=t.readSVarint(),l+=t.readSVarint(),1===o&&c>u&&(r.push(c),u=c),n.push(a,l),c+=2;else{if(7!==o)throw new Error("Invalid command found in the PBF");c>u&&(n.push(n[u],n[u+1]),c+=2)}}c>u&&(r.push(c),u=c)}createFeature_(t,e,n){const l=e.type;if(0===l)return null;let c;const u=e.properties;let h;this.idProperty_?(h=u[this.idProperty_],delete u[this.idProperty_]):h=e.id,u[this.layerName_]=e.layer.name;const d=[],f=[];this.readRawGeometry_(t,e,d,f);const p=function(t,e){let n;1===t?n=1===e?"Point":"MultiPoint":2===t?n=1===e?"LineString":"MultiLineString":3===t&&(n="Polygon");return n}(l,f.length);if(this.featureClass===C.Ay)c=new this.featureClass(p,d,f,2,u,h),c.transform(n.dataProjection);else{let t;if("Polygon"==p){const e=(0,A.yJ)(d,f);t=e.length>1?new a.default(d,"XY",e):new E.default(d,"XY",f)}else t="Point"===p?new w.default(d,"XY"):"LineString"===p?new i.default(d,"XY"):"MultiPoint"===p?new s.default(d,"XY"):"MultiLineString"===p?new o.default(d,"XY",f):null;c=new(0,this.featureClass),this.geometryName_&&c.setGeometryName(this.geometryName_);const e=(0,r.transformGeometryWithOptions)(t,!1,n);c.setGeometry(e),void 0!==h&&c.setId(h),c.setProperties(u,!0)}return c}getType(){return"arraybuffer"}readFeatures(t,e){const n=this.layers_;e=this.adaptOptions(e);const r=(0,M.get)(e.dataProjection);r.setWorldExtent(e.extent),e.dataProjection=r;const i=new h(t),o=i.readFields(I,{}),s=[];for(const t in o){if(n&&!n.includes(t))continue;const a=o[t],l=a?[0,0,a.extent,a.extent]:null;r.setExtent(l);for(let t=0,n=a.length;t<n;++t){const n=O(i,a,t),r=this.createFeature_(i,n,e);null!==r&&s.push(r)}}return s}readProjection(t){return this.dataProjection}setLayers(t){this.layers_=t}}function I(t,e,n){if(3===t){const t={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(P,t,r),t.length=t.features.length,t.length&&(e[t.name]=t)}}function P(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){let r=null;const i=n.readVarint()+n.pos;for(;n.pos<i;)r=1===(t=n.readVarint()>>3)?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(r)}}function R(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t){const t=n.readVarint()+n.pos;for(;n.pos<t;){const t=e.layer.keys[n.readVarint()],r=e.layer.values[n.readVarint()];e.properties[t]=r}}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function O(t,e,n){t.pos=e.features[n];const r=t.readVarint()+t.pos,i={layer:e,type:0,properties:{}};return t.readFields(R,i,r),i}const N=k},6888:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(8217),i=n(4087);class o extends r.default{constructor(){super()}getType(){return"text"}readFeature(t,e){return this.readFeatureFromText(s(t),this.adaptOptions(e))}readFeatureFromText(t,e){return(0,i.abstract)()}readFeatures(t,e){return this.readFeaturesFromText(s(t),this.adaptOptions(e))}readFeaturesFromText(t,e){return(0,i.abstract)()}readGeometry(t,e){return this.readGeometryFromText(s(t),this.adaptOptions(e))}readGeometryFromText(t,e){return(0,i.abstract)()}readProjection(t){return this.readProjectionFromText(s(t))}readProjectionFromText(t){return this.dataProjection}writeFeature(t,e){return this.writeFeatureText(t,this.adaptOptions(e))}writeFeatureText(t,e){return(0,i.abstract)()}writeFeatures(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))}writeFeaturesText(t,e){return(0,i.abstract)()}writeGeometry(t,e){return this.writeGeometryText(t,this.adaptOptions(e))}writeGeometryText(t,e){return(0,i.abstract)()}}function s(t){return"string"==typeof t?t:""}const a=o},2684:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>st,writeFilter:()=>rt});var r=n(581),i=n(8662),o=n(1386),s=n(3942),a=n(7468);class l extends i.default{constructor(t){super(t=t||{}),this.schemaLocation=t.schemaLocation?t.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(t,e,n){const r=n[n.length-1];n[n.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},r),super.writeGeometryElement(t,e,n)}}l.prototype.namespace="http://www.opengis.net/gml/3.2",l.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:(0,s.makeReplacer)(i.default.prototype.readFlatPos),posList:(0,s.makeReplacer)(i.default.prototype.readFlatPosList),coordinates:(0,s.makeReplacer)(r.default.prototype.readFlatCoordinates)}},l.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:i.default.prototype.interiorParser,exterior:i.default.prototype.exteriorParser}},l.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:(0,s.makeReplacer)(o.A.prototype.readPoint),MultiPoint:(0,s.makeReplacer)(o.A.prototype.readMultiPoint),LineString:(0,s.makeReplacer)(o.A.prototype.readLineString),MultiLineString:(0,s.makeReplacer)(o.A.prototype.readMultiLineString),LinearRing:(0,s.makeReplacer)(o.A.prototype.readLinearRing),Polygon:(0,s.makeReplacer)(o.A.prototype.readPolygon),MultiPolygon:(0,s.makeReplacer)(o.A.prototype.readMultiPolygon),Surface:(0,s.makeReplacer)(l.prototype.readSurface),MultiSurface:(0,s.makeReplacer)(i.default.prototype.readMultiSurface),Curve:(0,s.makeReplacer)(l.prototype.readCurve),MultiCurve:(0,s.makeReplacer)(i.default.prototype.readMultiCurve),Envelope:(0,s.makeReplacer)(l.prototype.readEnvelope)}},l.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:(0,s.makeArrayPusher)(i.default.prototype.curveMemberParser),curveMembers:(0,s.makeArrayPusher)(i.default.prototype.curveMemberParser)}},l.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:(0,s.makeArrayPusher)(i.default.prototype.surfaceMemberParser),surfaceMembers:(0,s.makeArrayPusher)(i.default.prototype.surfaceMemberParser)}},l.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:(0,s.makeArrayPusher)(o.A.prototype.readLineString),Curve:(0,s.makeArrayPusher)(i.default.prototype.readCurve)}},l.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:(0,s.makeArrayPusher)(o.A.prototype.readPolygon),Surface:(0,s.makeArrayPusher)(i.default.prototype.readSurface)}},l.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:(0,s.makeReplacer)(i.default.prototype.readPatch)}},l.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:(0,s.makeReplacer)(i.default.prototype.readSegment)}},l.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:(0,s.makeArrayPusher)(i.default.prototype.readFlatPosList),upperCorner:(0,s.makeArrayPusher)(i.default.prototype.readFlatPosList)}},l.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:(0,s.makeReplacer)(i.default.prototype.readPolygonPatch)}},l.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:(0,s.makeArrayExtender)(i.default.prototype.readLineStringSegment)}},l.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:(0,s.makeArrayPusher)(o.A.prototype.pointMemberParser),pointMembers:(0,s.makeArrayPusher)(o.A.prototype.pointMemberParser)}},l.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:(0,s.makeArrayPusher)(o.A.prototype.lineStringMemberParser),lineStringMembers:(0,s.makeArrayPusher)(o.A.prototype.lineStringMemberParser)}},l.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:(0,s.makeArrayPusher)(o.A.prototype.polygonMemberParser),polygonMembers:(0,s.makeArrayPusher)(o.A.prototype.polygonMemberParser)}},l.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:(0,s.makeArrayPusher)(o.A.prototype.readFlatCoordinatesFromNode)}},l.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:(0,s.makeArrayPusher)(o.A.prototype.readLineString)}},l.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:(0,s.makeArrayPusher)(o.A.prototype.readPolygon)}},l.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:(0,s.makeReplacer)(o.A.prototype.readFlatLinearRing),Ring:(0,s.makeReplacer)(l.prototype.readFlatCurveRing)}},l.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:(0,s.makeChildAppender)(i.default.prototype.writeRing),interior:(0,s.makeChildAppender)(i.default.prototype.writeRing)}},l.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:(0,s.makeChildAppender)(a.uB),upperCorner:(0,s.makeChildAppender)(a.uB)}},l.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:(0,s.makeChildAppender)(i.default.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,s.makeChildAppender)(i.default.prototype.writeSurfaceOrPolygonMember)}},l.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:(0,s.makeChildAppender)(i.default.prototype.writePointMember)}},l.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:(0,s.makeChildAppender)(i.default.prototype.writeLineStringOrCurveMember),curveMember:(0,s.makeChildAppender)(i.default.prototype.writeLineStringOrCurveMember)}},l.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:(0,s.makeChildAppender)(i.default.prototype.writeCurveOrLineString),MultiCurve:(0,s.makeChildAppender)(i.default.prototype.writeMultiCurveOrLineString),Point:(0,s.makeChildAppender)(l.prototype.writePoint),MultiPoint:(0,s.makeChildAppender)(i.default.prototype.writeMultiPoint),LineString:(0,s.makeChildAppender)(i.default.prototype.writeCurveOrLineString),MultiLineString:(0,s.makeChildAppender)(i.default.prototype.writeMultiCurveOrLineString),LinearRing:(0,s.makeChildAppender)(i.default.prototype.writeLinearRing),Polygon:(0,s.makeChildAppender)(i.default.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,s.makeChildAppender)(i.default.prototype.writeMultiSurfaceOrPolygon),Surface:(0,s.makeChildAppender)(i.default.prototype.writeSurfaceOrPolygon),MultiSurface:(0,s.makeChildAppender)(i.default.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,s.makeChildAppender)(i.default.prototype.writeEnvelope)}};const c=l;var u=n(6546),h=n(978),d=n(588),f=n(3407);const p={"http://www.opengis.net/gml":{boundedBy:(0,s.makeObjectPropertySetter)(o.A.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:(0,s.makeArrayPusher)(o.A.prototype.readFeaturesInternal)}},g={"http://www.opengis.net/wfs":{totalInserted:(0,s.makeObjectPropertySetter)(a.yg),totalUpdated:(0,s.makeObjectPropertySetter)(a.yg),totalDeleted:(0,s.makeObjectPropertySetter)(a.yg)},"http://www.opengis.net/wfs/2.0":{totalInserted:(0,s.makeObjectPropertySetter)(a.yg),totalUpdated:(0,s.makeObjectPropertySetter)(a.yg),totalDeleted:(0,s.makeObjectPropertySetter)(a.yg)}},m={"http://www.opengis.net/wfs":{TransactionSummary:(0,s.makeObjectPropertySetter)(A,"transactionSummary"),InsertResults:(0,s.makeObjectPropertySetter)(R,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:(0,s.makeObjectPropertySetter)(A,"transactionSummary"),InsertResults:(0,s.makeObjectPropertySetter)(R,"insertIds")}},y={"http://www.opengis.net/wfs":{PropertyName:(0,s.makeChildAppender)(a.uB)},"http://www.opengis.net/wfs/2.0":{PropertyName:(0,s.makeChildAppender)(a.uB)}},_={"http://www.opengis.net/wfs":{Insert:(0,s.makeChildAppender)(O),Update:(0,s.makeChildAppender)(L),Delete:(0,s.makeChildAppender)($),Property:(0,s.makeChildAppender)(F),Native:(0,s.makeChildAppender)(j)},"http://www.opengis.net/wfs/2.0":{Insert:(0,s.makeChildAppender)(O),Update:(0,s.makeChildAppender)(L),Delete:(0,s.makeChildAppender)($),Property:(0,s.makeChildAppender)(F),Native:(0,s.makeChildAppender)(j)}},v="feature",b="http://www.w3.org/2000/xmlns/",x={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},S={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},w={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},E={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},T={"2.0.0":c,"1.1.0":i.default,"1.0.0":r.default};class C extends u.A{constructor(t){super(),t=t||{},this.version_=t.version?t.version:"1.1.0",this.featureType_=t.featureType,this.featureNS_=t.featureNS,this.gmlFormat_=t.gmlFormat?t.gmlFormat:new T[this.version_],this.schemaLocation_=t.schemaLocation?t.schemaLocation:E[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(t){this.featureType_=t}readFeaturesFromNode(t,e){const n={node:t};Object.assign(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(n,this.getReadOptions(t,e||{}));const r=[n];let i;i="2.0.0"===this.version_?p:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let o=(0,s.pushParseAndPop)([],i,t,r,this.gmlFormat_);return o||(o=[]),o}readTransactionResponse(t){if(t){if("string"==typeof t){const e=(0,s.parse)(t);return this.readTransactionResponseFromDocument(e)}return(0,s.isDocument)(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}}readFeatureCollectionMetadata(t){if(t){if("string"==typeof t){const e=(0,s.parse)(t);return this.readFeatureCollectionMetadataFromDocument(e)}return(0,s.isDocument)(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}}readFeatureCollectionMetadataFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)}readFeatureCollectionMetadataFromNode(t){const e={},n=(0,a._X)(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=n,(0,s.pushParseAndPop)(e,p,t,[],this.gmlFormat_)}readTransactionResponseFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)}readTransactionResponseFromNode(t){return(0,s.pushParseAndPop)({},m,t,[])}writeGetFeature(t){const e=(0,s.createElementNS)(S[this.version_],"GetFeature");e.setAttribute("service","WFS"),e.setAttribute("version",this.version_),t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&e.setAttribute("count",String(t.count)),void 0!==t.viewParams&&e.setAttribute("viewParams",t.viewParams),e.setAttributeNS(s.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation_);const n={node:e};if(Object.assign(n,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),(0,d.v)(Array.isArray(t.featureTypes),"`options.featureTypes` must be an Array"),"string"==typeof t.featureTypes[0]){let r=t.filter;t.bbox&&((0,d.v)(t.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),r=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,r)),Object.assign(n,{geometryName:t.geometryName,filter:r}),it(e,t.featureTypes,[n])}else t.featureTypes.forEach((r=>{const i=this.combineBboxAndFilter(r.geometryName,r.bbox,t.srsName,t.filter);Object.assign(n,{geometryName:r.geometryName,filter:i}),it(e,[r.name],[n])}));return e}combineBboxAndFilter(t,e,n,r){const i=(0,h.bbox)(t,e,n);return r?(0,h.and)(r,i):i}writeTransaction(t,e,n,r){const i=[],o=r.version?r.version:this.version_,a=(0,s.createElementNS)(S[o],"Transaction");let l;a.setAttribute("service","WFS"),a.setAttribute("version",o),r&&(l=r.gmlOptions?r.gmlOptions:{},r.handle&&a.setAttribute("handle",r.handle)),a.setAttributeNS(s.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",E[o]);const c=function(t,e,n,r){const i=r.featurePrefix?r.featurePrefix:v;let o;"1.0.0"===n?o=2:"1.1.0"===n?o=3:"2.0.0"===n&&(o=3.2);const s=Object.assign({node:t},{version:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:i,gmlVersion:o,hasZ:r.hasZ,srsName:r.srsName},e);return s}(a,l,o,r);return t&&M("Insert",t,i,c),e&&M("Update",e,i,c),n&&M("Delete",n,i,c),r.nativeElements&&M("Native",r.nativeElements,i,c),a}readProjectionFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null}readProjectionFromNode(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(let e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){const t=[{}];return this.gmlFormat_.readGeometryElement(e,t),(0,f.get)(t.pop().srsName)}return null}}function M(t,e,n,r){(0,s.pushSerializeAndPop)(r,_,(0,s.makeSimpleNodeFactory)(t),e,n)}function A(t,e){return(0,s.pushParseAndPop)({},g,t,e)}const k={"http://www.opengis.net/ogc":{FeatureId:(0,s.makeArrayPusher)((function(t,e){return t.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:(0,s.makeArrayPusher)((function(t,e){return t.getAttribute("fid")}))}};function I(t,e){(0,s.parseNode)(k,t,e)}const P={"http://www.opengis.net/wfs":{Feature:I},"http://www.opengis.net/wfs/2.0":{Feature:I}};function R(t,e){return(0,s.pushParseAndPop)([],P,t,e)}function O(t,e,n){const o=n[n.length-1],a=o.featureType,l=o.featureNS,u=o.gmlVersion,h=(0,s.createElementNS)(l,a);t.appendChild(h),2===u?r.default.prototype.writeFeatureElement(h,e,n):3===u?i.default.prototype.writeFeatureElement(h,e,n):c.prototype.writeFeatureElement(h,e,n)}function N(t,e,n){const r=n[n.length-1].version,i=x[r],o=(0,s.createElementNS)(i,"Filter"),a=(0,s.createElementNS)(i,"FeatureId");o.appendChild(a),a.setAttribute("fid",e),t.appendChild(o)}function D(t,e){const n=(t=t||v)+":";return e.startsWith(n)?e:n+e}function $(t,e,n){const r=n[n.length-1];(0,d.v)(void 0!==e.getId(),"Features must have an id set");const i=r.featureType,o=r.featurePrefix,s=r.featureNS,a=D(o,i);t.setAttribute("typeName",a),t.setAttributeNS(b,"xmlns:"+o,s);const l=e.getId();void 0!==l&&N(t,l,n)}function L(t,e,n){const r=n[n.length-1];(0,d.v)(void 0!==e.getId(),"Features must have an id set");const i=r.version,o=r.featureType,a=r.featurePrefix,l=r.featureNS,c=D(a,o),u=e.getGeometryName();t.setAttribute("typeName",c),t.setAttributeNS(b,"xmlns:"+a,l);const h=e.getId();if(void 0!==h){const o=e.getKeys(),a=[];for(let t=0,n=o.length;t<n;t++){const n=e.get(o[t]);if(void 0!==n){let e=o[t];n&&"function"==typeof n.getSimplifiedGeometry&&(e=u),a.push({name:e,value:n})}}(0,s.pushSerializeAndPop)({version:i,gmlVersion:r.gmlVersion,node:t,hasZ:r.hasZ,srsName:r.srsName},_,(0,s.makeSimpleNodeFactory)("Property"),a,n),N(t,h,n)}}function F(t,e,n){const o=n[n.length-1],l=o.version,u=S[l],h="2.0.0"===l?"ValueReference":"Name",d=(0,s.createElementNS)(u,h),f=o.gmlVersion;if(t.appendChild(d),(0,a.uB)(d,e.name),void 0!==e.value&&null!==e.value){const o=(0,s.createElementNS)(u,"Value");t.appendChild(o),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===f?r.default.prototype.writeGeometryElement(o,e.value,n):3===f?i.default.prototype.writeGeometryElement(o,e.value,n):c.prototype.writeGeometryElement(o,e.value,n):(0,a.uB)(o,e.value)}}function j(t,e,n){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&(0,a.uB)(t,e.value)}const U={"http://www.opengis.net/wfs":{Query:(0,s.makeChildAppender)(B)},"http://www.opengis.net/wfs/2.0":{Query:(0,s.makeChildAppender)(B)},"http://www.opengis.net/ogc":{During:(0,s.makeChildAppender)(q),And:(0,s.makeChildAppender)(V),Or:(0,s.makeChildAppender)(V),Not:(0,s.makeChildAppender)(Y),BBOX:(0,s.makeChildAppender)(G),Contains:(0,s.makeChildAppender)(H),Intersects:(0,s.makeChildAppender)(H),Within:(0,s.makeChildAppender)(H),DWithin:(0,s.makeChildAppender)(W),PropertyIsEqualTo:(0,s.makeChildAppender)(X),PropertyIsNotEqualTo:(0,s.makeChildAppender)(X),PropertyIsLessThan:(0,s.makeChildAppender)(X),PropertyIsLessThanOrEqualTo:(0,s.makeChildAppender)(X),PropertyIsGreaterThan:(0,s.makeChildAppender)(X),PropertyIsGreaterThanOrEqualTo:(0,s.makeChildAppender)(X),PropertyIsNull:(0,s.makeChildAppender)(K),PropertyIsBetween:(0,s.makeChildAppender)(Z),PropertyIsLike:(0,s.makeChildAppender)(J)},"http://www.opengis.net/fes/2.0":{During:(0,s.makeChildAppender)(q),And:(0,s.makeChildAppender)(V),Or:(0,s.makeChildAppender)(V),Not:(0,s.makeChildAppender)(Y),BBOX:(0,s.makeChildAppender)(G),Contains:(0,s.makeChildAppender)(H),Disjoint:(0,s.makeChildAppender)(H),Intersects:(0,s.makeChildAppender)(H),ResourceId:(0,s.makeChildAppender)((function(t,e,n){t.setAttribute("rid",e.rid)})),Within:(0,s.makeChildAppender)(H),DWithin:(0,s.makeChildAppender)(W),PropertyIsEqualTo:(0,s.makeChildAppender)(X),PropertyIsNotEqualTo:(0,s.makeChildAppender)(X),PropertyIsLessThan:(0,s.makeChildAppender)(X),PropertyIsLessThanOrEqualTo:(0,s.makeChildAppender)(X),PropertyIsGreaterThan:(0,s.makeChildAppender)(X),PropertyIsGreaterThanOrEqualTo:(0,s.makeChildAppender)(X),PropertyIsNull:(0,s.makeChildAppender)(K),PropertyIsBetween:(0,s.makeChildAppender)(Z),PropertyIsLike:(0,s.makeChildAppender)(J)}};function B(t,e,n){const r=n[n.length-1],i=r.version,o=r.featurePrefix,a=r.featureNS,l=r.propertyNames,c=r.srsName;let u,h;u=o?D(o,e):e,h="2.0.0"===i?"typeNames":"typeName",t.setAttribute(h,u),c&&t.setAttribute("srsName",c),a&&t.setAttributeNS(b,"xmlns:"+o,a);const d=Object.assign({},r);d.node=t,(0,s.pushSerializeAndPop)(d,y,(0,s.makeSimpleNodeFactory)("PropertyName"),l,n);const f=r.filter;if(f){const e=(0,s.createElementNS)(ot(i),"Filter");t.appendChild(e),z(e,f,n)}}function z(t,e,n){const r=n[n.length-1],i={node:t};Object.assign(i,{context:r}),(0,s.pushSerializeAndPop)(i,U,(0,s.makeSimpleNodeFactory)(e.getTagName()),[e],n)}function G(t,e,n){const r=n[n.length-1],i=r.context.version;r.srsName=e.srsName;const o=T[i];et(i,t,e.geometryName),o.prototype.writeGeometryElement(t,e.extent,n)}function H(t,e,n){const r=n[n.length-1],i=r.context.version;r.srsName=e.srsName;const o=T[i];et(i,t,e.geometryName),o.prototype.writeGeometryElement(t,e.geometry,n)}function W(t,e,n){const r=n[n.length-1].context.version;H(t,e,n);const i=(0,s.createElementNS)(ot(r),"Distance");(0,a.uB)(i,e.distance.toString()),"2.0.0"===r?i.setAttribute("uom",e.unit):i.setAttribute("units",e.unit),t.appendChild(i)}function q(t,e,n){const r=n[n.length-1].context.version;Q(w[r],"ValueReference",t,e.propertyName);const i=(0,s.createElementNS)(o.M,"TimePeriod");t.appendChild(i);const a=(0,s.createElementNS)(o.M,"begin");i.appendChild(a),nt(a,e.begin);const l=(0,s.createElementNS)(o.M,"end");i.appendChild(l),nt(l,e.end)}function V(t,e,n){const r=n[n.length-1].context,i={node:t};Object.assign(i,{context:r});const o=e.conditions;for(let t=0,e=o.length;t<e;++t){const e=o[t];(0,s.pushSerializeAndPop)(i,U,(0,s.makeSimpleNodeFactory)(e.getTagName()),[e],n)}}function Y(t,e,n){const r=n[n.length-1].context,i={node:t};Object.assign(i,{context:r});const o=e.condition;(0,s.pushSerializeAndPop)(i,U,(0,s.makeSimpleNodeFactory)(o.getTagName()),[o],n)}function X(t,e,n){const r=n[n.length-1].context.version;void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),et(r,t,e.propertyName),tt(r,t,""+e.expression)}function K(t,e,n){et(n[n.length-1].context.version,t,e.propertyName)}function Z(t,e,n){const r=n[n.length-1].context.version,i=ot(r);et(r,t,e.propertyName);const o=(0,s.createElementNS)(i,"LowerBoundary");t.appendChild(o),tt(r,o,""+e.lowerBoundary);const a=(0,s.createElementNS)(i,"UpperBoundary");t.appendChild(a),tt(r,a,""+e.upperBoundary)}function J(t,e,n){const r=n[n.length-1].context.version;t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),et(r,t,e.propertyName),tt(r,t,""+e.pattern)}function Q(t,e,n,r){const i=(0,s.createElementNS)(t,e);(0,a.uB)(i,r),n.appendChild(i)}function tt(t,e,n){Q(ot(t),"Literal",e,n)}function et(t,e,n){"2.0.0"===t?Q(w[t],"ValueReference",e,n):Q(x[t],"PropertyName",e,n)}function nt(t,e){const n=(0,s.createElementNS)(o.M,"TimeInstant");t.appendChild(n);const r=(0,s.createElementNS)(o.M,"timePosition");n.appendChild(r),(0,a.uB)(r,e)}function rt(t,e){e=e||"1.1.0";const n=(0,s.createElementNS)(ot(e),"Filter"),r={node:n};return Object.assign(r,{version:e,filter:t}),z(n,t,[r]),n}function it(t,e,n){const r=n[n.length-1],i=Object.assign({},r);i.node=t,(0,s.pushSerializeAndPop)(i,U,(0,s.makeSimpleNodeFactory)("Query"),e,n)}function ot(t){let e;return e="2.0.0"===t?w[t]:x[t],e}const st=C},9096:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>U});var r=n(6890),i=n(2806),o=n(3942),s=n(7468),a=n(3823);const l=[null,"http://www.opengis.net/wms"];function c(t){return(0,i.compareVersions)(t[0].version,"1.3")>=0}const u=(0,o.makeStructureNS)(l,{Service:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)({},c(e)?y:m,t,e)})),Capability:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)({},c(e)?f:d,t,e)}))}),h={Request:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)({},M,t,e)})),Exception:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)([],x,t,e)})),Layer:(0,o.makeObjectPropertySetter)((function(t,e){const n=(0,o.pushParseAndPop)({},c(e)?E:w,t,e);if(void 0===n.Layer)return Object.assign(n,D(t,e));return n}))},d=(0,o.makeStructureNS)(l,{...h,UserDefinedSymbolization:(0,o.makeObjectPropertySetter)((function(t,e){return{SupportSLD:!!(0,s.gC)(t.getAttribute("UserDefinedSymbolization")),UserLayer:!!(0,s.gC)(t.getAttribute("UserLayer")),UserStyle:!!(0,s.gC)(t.getAttribute("UserStyle")),RemoteWFS:!!(0,s.gC)(t.getAttribute("RemoteWFS"))}}))}),f=(0,o.makeStructureNS)(l,h);class p extends r.default{constructor(){super(),this.version=void 0}readFromNode(t){this.version=t.getAttribute("version").trim();const e=(0,o.pushParseAndPop)({version:this.version},u,t,[]);return e||null}}const g={Name:(0,o.makeObjectPropertySetter)(s.E3),Title:(0,o.makeObjectPropertySetter)(s.E3),Abstract:(0,o.makeObjectPropertySetter)(s.E3),KeywordList:(0,o.makeObjectPropertySetter)(j),OnlineResource:(0,o.makeObjectPropertySetter)(a.q),ContactInformation:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)({},_,t,e)})),Fees:(0,o.makeObjectPropertySetter)(s.E3),AccessConstraints:(0,o.makeObjectPropertySetter)(s.E3)},m=(0,o.makeStructureNS)(l,g),y=(0,o.makeStructureNS)(l,{...g,LayerLimit:(0,o.makeObjectPropertySetter)(s.yg),MaxWidth:(0,o.makeObjectPropertySetter)(s.yg),MaxHeight:(0,o.makeObjectPropertySetter)(s.yg)}),_=(0,o.makeStructureNS)(l,{ContactPersonPrimary:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)({},v,t,e)})),ContactPosition:(0,o.makeObjectPropertySetter)(s.E3),ContactAddress:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)({},b,t,e)})),ContactVoiceTelephone:(0,o.makeObjectPropertySetter)(s.E3),ContactFacsimileTelephone:(0,o.makeObjectPropertySetter)(s.E3),ContactElectronicMailAddress:(0,o.makeObjectPropertySetter)(s.E3)}),v=(0,o.makeStructureNS)(l,{ContactPerson:(0,o.makeObjectPropertySetter)(s.E3),ContactOrganization:(0,o.makeObjectPropertySetter)(s.E3)}),b=(0,o.makeStructureNS)(l,{AddressType:(0,o.makeObjectPropertySetter)(s.E3),Address:(0,o.makeObjectPropertySetter)(s.E3),City:(0,o.makeObjectPropertySetter)(s.E3),StateOrProvince:(0,o.makeObjectPropertySetter)(s.E3),PostCode:(0,o.makeObjectPropertySetter)(s.E3),Country:(0,o.makeObjectPropertySetter)(s.E3)}),x=(0,o.makeStructureNS)(l,{Format:(0,o.makeArrayPusher)(s.E3)}),S={Name:(0,o.makeObjectPropertySetter)(s.E3),Title:(0,o.makeObjectPropertySetter)(s.E3),Abstract:(0,o.makeObjectPropertySetter)(s.E3),KeywordList:(0,o.makeObjectPropertySetter)(j),BoundingBox:(0,o.makeObjectPropertyPusher)(N),Dimension:(0,o.makeObjectPropertyPusher)((function(t,e){const n={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol")};c(e)&&Object.assign(n,{default:t.getAttribute("default"),multipleValues:(0,s.gC)(t.getAttribute("multipleValues")),nearestValue:(0,s.gC)(t.getAttribute("nearestValue")),current:(0,s.gC)(t.getAttribute("current")),values:(0,s.E3)(t)});return n})),Attribution:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)({},T,t,e)})),AuthorityURL:(0,o.makeObjectPropertyPusher)((function(t,e){const n=$(t,e);if(n)return n.name=t.getAttribute("name"),n;return})),Identifier:(0,o.makeObjectPropertyPusher)(s.E3),MetadataURL:(0,o.makeObjectPropertyPusher)((function(t,e){const n=$(t,e);if(n)return n.type=t.getAttribute("type"),n;return})),DataURL:(0,o.makeObjectPropertyPusher)($),FeatureListURL:(0,o.makeObjectPropertyPusher)($),Style:(0,o.makeObjectPropertyPusher)((function(t,e){return(0,o.pushParseAndPop)({},P,t,e)})),Layer:(0,o.makeObjectPropertyPusher)(D)},w=(0,o.makeStructureNS)(l,{...S,SRS:(0,o.makeObjectPropertyPusher)(s.E3),Extent:(0,o.makeObjectPropertySetter)((function(t,e){return{name:t.getAttribute("name"),default:t.getAttribute("default"),nearestValue:(0,s.gC)(t.getAttribute("nearestValue"))}})),ScaleHint:(0,o.makeObjectPropertyPusher)((function(t,e){return{min:(0,s.P9)(t.getAttribute("min")),max:(0,s.P9)(t.getAttribute("max"))}})),LatLonBoundingBox:(0,o.makeObjectPropertySetter)(((t,e)=>N(t,e,!1))),Layer:(0,o.makeObjectPropertyPusher)(D)}),E=(0,o.makeStructureNS)(l,{...S,CRS:(0,o.makeObjectPropertyPusher)(s.E3),EX_GeographicBoundingBox:(0,o.makeObjectPropertySetter)((function(t,e){const n=(0,o.pushParseAndPop)({},C,t,e);if(!n)return;const r=n.westBoundLongitude,i=n.southBoundLatitude,s=n.eastBoundLongitude,a=n.northBoundLatitude;if(void 0===r||void 0===i||void 0===s||void 0===a)return;return[r,i,s,a]})),MinScaleDenominator:(0,o.makeObjectPropertySetter)(s.e4),MaxScaleDenominator:(0,o.makeObjectPropertySetter)(s.e4),Layer:(0,o.makeObjectPropertyPusher)(D)}),T=(0,o.makeStructureNS)(l,{Title:(0,o.makeObjectPropertySetter)(s.E3),OnlineResource:(0,o.makeObjectPropertySetter)(a.q),LogoURL:(0,o.makeObjectPropertySetter)(F)}),C=(0,o.makeStructureNS)(l,{westBoundLongitude:(0,o.makeObjectPropertySetter)(s.e4),eastBoundLongitude:(0,o.makeObjectPropertySetter)(s.e4),southBoundLatitude:(0,o.makeObjectPropertySetter)(s.e4),northBoundLatitude:(0,o.makeObjectPropertySetter)(s.e4)}),M=(0,o.makeStructureNS)(l,{GetCapabilities:(0,o.makeObjectPropertySetter)(L),GetMap:(0,o.makeObjectPropertySetter)(L),GetFeatureInfo:(0,o.makeObjectPropertySetter)(L)}),A=(0,o.makeStructureNS)(l,{Format:(0,o.makeObjectPropertyPusher)(s.E3),DCPType:(0,o.makeObjectPropertyPusher)((function(t,e){return(0,o.pushParseAndPop)({},k,t,e)}))}),k=(0,o.makeStructureNS)(l,{HTTP:(0,o.makeObjectPropertySetter)((function(t,e){return(0,o.pushParseAndPop)({},I,t,e)}))}),I=(0,o.makeStructureNS)(l,{Get:(0,o.makeObjectPropertySetter)($),Post:(0,o.makeObjectPropertySetter)($)}),P=(0,o.makeStructureNS)(l,{Name:(0,o.makeObjectPropertySetter)(s.E3),Title:(0,o.makeObjectPropertySetter)(s.E3),Abstract:(0,o.makeObjectPropertySetter)(s.E3),LegendURL:(0,o.makeObjectPropertyPusher)(F),StyleSheetURL:(0,o.makeObjectPropertySetter)($),StyleURL:(0,o.makeObjectPropertySetter)($)}),R=(0,o.makeStructureNS)(l,{Format:(0,o.makeObjectPropertySetter)(s.E3),OnlineResource:(0,o.makeObjectPropertySetter)(a.q)}),O=(0,o.makeStructureNS)(l,{Keyword:(0,o.makeArrayPusher)(s.E3)});function N(t,e,n=!0){const r={extent:[(0,s.P9)(t.getAttribute("minx")),(0,s.P9)(t.getAttribute("miny")),(0,s.P9)(t.getAttribute("maxx")),(0,s.P9)(t.getAttribute("maxy"))],res:[(0,s.P9)(t.getAttribute("resx")),(0,s.P9)(t.getAttribute("resy"))]};return n?(c(e)?r.crs=t.getAttribute("CRS"):r.srs=t.getAttribute("SRS"),r):r}function D(t,e){const n=c(e),r=e[e.length-1],i=(0,o.pushParseAndPop)({},n?E:w,t,e);if(!i)return;let a=(0,s.gC)(t.getAttribute("queryable"));void 0===a&&(a=r.queryable),i.queryable=void 0!==a&&a;let l=(0,s._X)(t.getAttribute("cascaded"));void 0===l&&(l=r.cascaded),i.cascaded=l;let u=(0,s.gC)(t.getAttribute("opaque"));void 0===u&&(u=r.opaque),i.opaque=void 0!==u&&u;let h=(0,s.gC)(t.getAttribute("noSubsets"));void 0===h&&(h=r.noSubsets),i.noSubsets=void 0!==h&&h;let d=(0,s.P9)(t.getAttribute("fixedWidth"));d||(d=r.fixedWidth),i.fixedWidth=d;let f=(0,s.P9)(t.getAttribute("fixedHeight"));f||(f=r.fixedHeight),i.fixedHeight=f;const p=["Style","AuthorityURL"];n?p.push("CRS"):p.push("SRS","Dimension"),p.forEach((function(t){if(t in r){const e=i[t]||[];i[t]=e.concat(r[t])}}));const g=["BoundingBox","Attribution"];return n?g.push("Dimension","EX_GeographicBoundingBox","MinScaleDenominator","MaxScaleDenominator"):g.push("LatLonBoundingBox","ScaleHint","Extent"),g.forEach((function(t){if(!(t in i)){const e=r[t];i[t]=e}})),i}function $(t,e){return(0,o.pushParseAndPop)({},R,t,e)}function L(t,e){return(0,o.pushParseAndPop)({},A,t,e)}function F(t,e){const n=$(t,e);if(n){const e=[(0,s._X)(t.getAttribute("width")),(0,s._X)(t.getAttribute("height"))];return n.size=e,n}}function j(t,e){return(0,o.pushParseAndPop)([],O,t,e)}const U=p},9352:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(581),i=n(6546),o=n(6514),s=n(3942);class a extends i.A{constructor(t){super(),t=t||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new r.default,this.layers_=t.layers?t.layers:null}getLayers(){return this.layers_}setLayers(t){this.layers_=t}readFeatures_(t,e){t.setAttribute("namespaceURI",this.featureNS_);const n=t.localName;let r=[];if(0===t.childNodes.length)return r;if("msGMLOutput"==n)for(let n=0,i=t.childNodes.length;n<i;n++){const i=t.childNodes[n];if(i.nodeType!==Node.ELEMENT_NODE)continue;const a=i,l=e[0],c="_layer",u=a.localName.replace(c,"");if(this.layers_&&!this.layers_.includes(u))continue;const h=u+"_feature";l.featureType=h,l.featureNS=this.featureNS_;const d={};d[h]=(0,s.makeArrayPusher)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const f=(0,s.makeStructureNS)([l.featureNS,null],d);a.setAttribute("namespaceURI",this.featureNS_);const p=(0,s.pushParseAndPop)([],f,a,e,this.gmlFormat_);p&&(0,o.extend)(r,p)}if("FeatureCollection"==n){const e=(0,s.pushParseAndPop)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);e&&(r=e)}return r}readFeaturesFromNode(t,e){const n={};return e&&Object.assign(n,this.getReadOptions(t,e)),this.readFeatures_(t,[n])}}const l=a},1643:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>B});var r=n(6890),i=n(3942),o=n(3823),s=n(7468);const a=[null,"http://www.opengis.net/ows/1.1"],l=(0,i.makeStructureNS)(a,{ServiceIdentification:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},x,t,e)})),ServiceProvider:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},S,t,e)})),OperationsMetadata:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},y,t,e)}))});class c extends r.default{constructor(){super()}readFromNode(t){const e=(0,i.pushParseAndPop)({},l,t,[]);return e||null}}const u=(0,i.makeStructureNS)(a,{DeliveryPoint:(0,i.makeObjectPropertySetter)(s.E3),City:(0,i.makeObjectPropertySetter)(s.E3),AdministrativeArea:(0,i.makeObjectPropertySetter)(s.E3),PostalCode:(0,i.makeObjectPropertySetter)(s.E3),Country:(0,i.makeObjectPropertySetter)(s.E3),ElectronicMailAddress:(0,i.makeObjectPropertySetter)(s.E3)}),h=(0,i.makeStructureNS)(a,{Value:(0,i.makeObjectPropertyPusher)((function(t,e){return(0,s.E3)(t)}))}),d=(0,i.makeStructureNS)(a,{AllowedValues:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},h,t,e)}))}),f=(0,i.makeStructureNS)(a,{Phone:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},_,t,e)})),Address:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},u,t,e)}))}),p=(0,i.makeStructureNS)(a,{HTTP:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},g,t,e)}))}),g=(0,i.makeStructureNS)(a,{Get:(0,i.makeObjectPropertyPusher)((function(t,e){const n=(0,o.q)(t);if(!n)return;return(0,i.pushParseAndPop)({href:n},v,t,e)})),Post:void 0}),m=(0,i.makeStructureNS)(a,{DCP:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},p,t,e)}))}),y=(0,i.makeStructureNS)(a,{Operation:function(t,e){const n=t.getAttribute("name"),r=(0,i.pushParseAndPop)({},m,t,e);if(!r)return;e[e.length-1][n]=r}}),_=(0,i.makeStructureNS)(a,{Voice:(0,i.makeObjectPropertySetter)(s.E3),Facsimile:(0,i.makeObjectPropertySetter)(s.E3)}),v=(0,i.makeStructureNS)(a,{Constraint:(0,i.makeObjectPropertyPusher)((function(t,e){const n=t.getAttribute("name");if(!n)return;return(0,i.pushParseAndPop)({name:n},d,t,e)}))}),b=(0,i.makeStructureNS)(a,{IndividualName:(0,i.makeObjectPropertySetter)(s.E3),PositionName:(0,i.makeObjectPropertySetter)(s.E3),ContactInfo:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},f,t,e)}))}),x=(0,i.makeStructureNS)(a,{Abstract:(0,i.makeObjectPropertySetter)(s.E3),AccessConstraints:(0,i.makeObjectPropertySetter)(s.E3),Fees:(0,i.makeObjectPropertySetter)(s.E3),Title:(0,i.makeObjectPropertySetter)(s.E3),ServiceTypeVersion:(0,i.makeObjectPropertySetter)(s.E3),ServiceType:(0,i.makeObjectPropertySetter)(s.E3)}),S=(0,i.makeStructureNS)(a,{ProviderName:(0,i.makeObjectPropertySetter)(s.E3),ProviderSite:(0,i.makeObjectPropertySetter)(o.q),ServiceContact:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},b,t,e)}))});const w=c;var E=n(915);const T=[null,"http://www.opengis.net/wmts/1.0"],C=[null,"http://www.opengis.net/ows/1.1"],M=(0,i.makeStructureNS)(T,{Contents:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)({},k,t,e)}))});class A extends r.default{constructor(){super(),this.owsParser_=new w}readFromNode(t){let e=t.getAttribute("version");e&&(e=e.trim());let n=this.owsParser_.readFromNode(t);return n?(n.version=e,n=(0,i.pushParseAndPop)(n,M,t,[]),n||null):null}}const k=(0,i.makeStructureNS)(T,{Layer:(0,i.makeObjectPropertyPusher)((function(t,e){return(0,i.pushParseAndPop)({},I,t,e)})),TileMatrixSet:(0,i.makeObjectPropertyPusher)((function(t,e){return(0,i.pushParseAndPop)({},L,t,e)}))}),I=(0,i.makeStructureNS)(T,{Style:(0,i.makeObjectPropertyPusher)((function(t,e){const n=(0,i.pushParseAndPop)({},P,t,e);if(!n)return;const r="true"===t.getAttribute("isDefault");return n.isDefault=r,n})),Format:(0,i.makeObjectPropertyPusher)(s.E3),TileMatrixSetLink:(0,i.makeObjectPropertyPusher)((function(t,e){return(0,i.pushParseAndPop)({},R,t,e)})),Dimension:(0,i.makeObjectPropertyPusher)((function(t,e){return(0,i.pushParseAndPop)({},D,t,e)})),ResourceURL:(0,i.makeObjectPropertyPusher)((function(t,e){const n=t.getAttribute("format"),r=t.getAttribute("template"),i=t.getAttribute("resourceType"),o={};n&&(o.format=n);r&&(o.template=r);i&&(o.resourceType=i);return o}))},(0,i.makeStructureNS)(C,{Title:(0,i.makeObjectPropertySetter)(s.E3),Abstract:(0,i.makeObjectPropertySetter)(s.E3),WGS84BoundingBox:(0,i.makeObjectPropertySetter)(j),BoundingBox:(0,i.makeObjectPropertyPusher)((function(t,e){const n=t.getAttribute("crs"),r=(0,i.pushParseAndPop)([],$,t,e);if(2!=r.length)return;return{extent:(0,E.boundingExtent)(r),crs:n}})),Identifier:(0,i.makeObjectPropertySetter)(s.E3)})),P=(0,i.makeStructureNS)(T,{LegendURL:(0,i.makeObjectPropertyPusher)((function(t,e){const n={};return n.format=t.getAttribute("format"),n.href=(0,o.q)(t),n}))},(0,i.makeStructureNS)(C,{Title:(0,i.makeObjectPropertySetter)(s.E3),Identifier:(0,i.makeObjectPropertySetter)(s.E3)})),R=(0,i.makeStructureNS)(T,{TileMatrixSet:(0,i.makeObjectPropertySetter)(s.E3),TileMatrixSetLimits:(0,i.makeObjectPropertySetter)((function(t,e){return(0,i.pushParseAndPop)([],O,t,e)}))}),O=(0,i.makeStructureNS)(T,{TileMatrixLimits:(0,i.makeArrayPusher)((function(t,e){return(0,i.pushParseAndPop)({},N,t,e)}))}),N=(0,i.makeStructureNS)(T,{TileMatrix:(0,i.makeObjectPropertySetter)(s.E3),MinTileRow:(0,i.makeObjectPropertySetter)(s.yg),MaxTileRow:(0,i.makeObjectPropertySetter)(s.yg),MinTileCol:(0,i.makeObjectPropertySetter)(s.yg),MaxTileCol:(0,i.makeObjectPropertySetter)(s.yg)}),D=(0,i.makeStructureNS)(T,{Default:(0,i.makeObjectPropertySetter)(s.E3),Value:(0,i.makeObjectPropertyPusher)(s.E3)},(0,i.makeStructureNS)(C,{Identifier:(0,i.makeObjectPropertySetter)(s.E3)})),$=(0,i.makeStructureNS)(C,{LowerCorner:(0,i.makeArrayPusher)(U),UpperCorner:(0,i.makeArrayPusher)(U)}),L=(0,i.makeStructureNS)(T,{WellKnownScaleSet:(0,i.makeObjectPropertySetter)(s.E3),TileMatrix:(0,i.makeObjectPropertyPusher)((function(t,e){return(0,i.pushParseAndPop)({},F,t,e)}))},(0,i.makeStructureNS)(C,{SupportedCRS:(0,i.makeObjectPropertySetter)(s.E3),Identifier:(0,i.makeObjectPropertySetter)(s.E3),BoundingBox:(0,i.makeObjectPropertySetter)(j)})),F=(0,i.makeStructureNS)(T,{TopLeftCorner:(0,i.makeObjectPropertySetter)(U),ScaleDenominator:(0,i.makeObjectPropertySetter)(s.e4),TileWidth:(0,i.makeObjectPropertySetter)(s.yg),TileHeight:(0,i.makeObjectPropertySetter)(s.yg),MatrixWidth:(0,i.makeObjectPropertySetter)(s.yg),MatrixHeight:(0,i.makeObjectPropertySetter)(s.yg)},(0,i.makeStructureNS)(C,{Identifier:(0,i.makeObjectPropertySetter)(s.E3)}));function j(t,e){const n=(0,i.pushParseAndPop)([],$,t,e);if(2==n.length)return(0,E.boundingExtent)(n)}function U(t,e){const n=(0,s.E3)(t).split(/\s+/);if(!n||2!=n.length)return;const r=+n[0],i=+n[1];return isNaN(r)||isNaN(i)?void 0:[r,i]}const B=A},6890:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(4087),i=n(3942);const o=class{read(t){if(!t)return null;if("string"==typeof t){const e=(0,i.parse)(t);return this.readFromDocument(e)}return(0,i.isDocument)(t)?this.readFromDocument(t):this.readFromNode(t)}readFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}readFromNode(t){(0,r.abstract)()}}},6546:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(8217),i=n(4087),o=n(6514),s=n(3942);class a extends r.default{constructor(){super(),this.xmlSerializer_=(0,s.getXMLSerializer)()}getType(){return"xml"}readFeature(t,e){if(!t)return null;if("string"==typeof t){const n=(0,s.parse)(t);return this.readFeatureFromDocument(n,e)}return(0,s.isDocument)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}readFeatureFromDocument(t,e){const n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null}readFeatureFromNode(t,e){return null}readFeatures(t,e){if(!t)return[];if("string"==typeof t){const n=(0,s.parse)(t);return this.readFeaturesFromDocument(n,e)}return(0,s.isDocument)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}readFeaturesFromDocument(t,e){const n=[];for(let r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,o.extend)(n,this.readFeaturesFromNode(r,e));return n}readFeaturesFromNode(t,e){return(0,i.abstract)()}readGeometry(t,e){if(!t)return null;if("string"==typeof t){const n=(0,s.parse)(t);return this.readGeometryFromDocument(n,e)}return(0,s.isDocument)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}readGeometryFromDocument(t,e){return null}readGeometryFromNode(t,e){return null}readProjection(t){if(!t)return null;if("string"==typeof t){const e=(0,s.parse)(t);return this.readProjectionFromDocument(e)}return(0,s.isDocument)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}readProjectionFromDocument(t){return this.dataProjection}readProjectionFromNode(t){return this.dataProjection}writeFeature(t,e){const n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(t,e){return null}writeFeatures(t,e){const n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(t,e){return null}writeGeometry(t,e){const n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(t,e){return null}}const l=a},978:(t,e,n)=>{"use strict";n.r(e),n.d(e,{and:()=>j,bbox:()=>z,between:()=>et,contains:()=>G,disjoint:()=>W,during:()=>rt,dwithin:()=>V,equalTo:()=>Y,greaterThan:()=>J,greaterThanOrEqualTo:()=>Q,intersects:()=>H,isNull:()=>tt,lessThan:()=>K,lessThanOrEqualTo:()=>Z,like:()=>nt,not:()=>B,notEqualTo:()=>X,or:()=>U,resourceId:()=>it,within:()=>q});var r=n(4442),i=n(588);class o extends r.A{constructor(t,e){super(t),this.conditions=e,(0,i.v)(this.conditions.length>=2,"At least 2 conditions are required")}}const s=o;const a=class extends s{constructor(t){super("And",Array.prototype.slice.call(arguments))}};class l extends r.A{constructor(t,e,n){if(super("BBOX"),this.geometryName=t,this.extent=e,4!==e.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=n}}const c=l;class u extends r.A{constructor(t,e,n,r){super(t),this.geometryName=e||"the_geom",this.geometry=n,this.srsName=r}}const h=u;const d=class extends h{constructor(t,e,n){super("Contains",t,e,n)}};const f=class extends h{constructor(t,e,n,r,i){super("DWithin",t,e,i),this.distance=n,this.unit=r}};const p=class extends h{constructor(t,e,n){super("Disjoint",t,e,n)}};var g=n(8897);class m extends g.default{constructor(t,e,n){super("During",t),this.begin=e,this.end=n}}const y=m;class _ extends g.default{constructor(t,e,n,r){super(t,e),this.expression=n,this.matchCase=r}}const v=_;const b=class extends v{constructor(t,e,n){super("PropertyIsEqualTo",t,e,n)}};const x=class extends v{constructor(t,e){super("PropertyIsGreaterThan",t,e)}};const S=class extends v{constructor(t,e){super("PropertyIsGreaterThanOrEqualTo",t,e)}};const w=class extends h{constructor(t,e,n){super("Intersects",t,e,n)}};class E extends g.default{constructor(t,e,n){super("PropertyIsBetween",t),this.lowerBoundary=e,this.upperBoundary=n}}const T=E;class C extends g.default{constructor(t,e,n,r,i,o){super("PropertyIsLike",t),this.pattern=e,this.wildCard=void 0!==n?n:"*",this.singleChar=void 0!==r?r:".",this.escapeChar=void 0!==i?i:"!",this.matchCase=o}}const M=C;class A extends g.default{constructor(t){super("PropertyIsNull",t)}}const k=A;const I=class extends v{constructor(t,e){super("PropertyIsLessThan",t,e)}};const P=class extends v{constructor(t,e){super("PropertyIsLessThanOrEqualTo",t,e)}};class R extends r.A{constructor(t){super("Not"),this.condition=t}}const O=R;const N=class extends v{constructor(t,e,n){super("PropertyIsNotEqualTo",t,e,n)}};const D=class extends s{constructor(t){super("Or",Array.prototype.slice.call(arguments))}};class $ extends r.A{constructor(t){super("ResourceId"),this.rid=t}}const L=$;const F=class extends h{constructor(t,e,n){super("Within",t,e,n)}};function j(t){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(a,e))}function U(t){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(D,e))}function B(t){return new O(t)}function z(t,e,n){return new c(t,e,n)}function G(t,e,n){return new d(t,e,n)}function H(t,e,n){return new w(t,e,n)}function W(t,e,n){return new p(t,e,n)}function q(t,e,n){return new F(t,e,n)}function V(t,e,n,r,i){return new f(t,e,n,r,i)}function Y(t,e,n){return new b(t,e,n)}function X(t,e,n){return new N(t,e,n)}function K(t,e){return new I(t,e)}function Z(t,e){return new P(t,e)}function J(t,e){return new x(t,e)}function Q(t,e){return new S(t,e)}function tt(t){return new k(t)}function et(t,e,n){return new T(t,e,n)}function nt(t,e,n,r,i,o){return new M(t,e,n,r,i,o)}function rt(t,e,n){return new y(t,e,n)}function it(t){return new L(t)}},8897:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(4442);class i extends r.A{constructor(t,e){super(t),this.propertyName=e}}const o=i},4442:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=class{constructor(t){this.tagName_=t}getTagName(){return this.tagName_}}},3823:(t,e,n)=>{"use strict";n.d(e,{q:()=>i});const r="http://www.w3.org/1999/xlink";function i(t){return t.getAttributeNS(r,"href")}},7468:(t,e,n)=>{"use strict";n.d(e,{E3:()=>d,Gc:()=>p,Ko:()=>m,P9:()=>c,Vf:()=>o,Z3:()=>f,_I:()=>a,_X:()=>h,cS:()=>g,e4:()=>l,gC:()=>s,pE:()=>y,uB:()=>_,yg:()=>u});var r=n(3942),i=n(2806);function o(t){return s((0,r.getAllTextContent)(t,!1))}function s(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return void 0!==e[1]||!1}function a(t){const e=(0,r.getAllTextContent)(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3}function l(t){return c((0,r.getAllTextContent)(t,!1))}function c(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function u(t){return h((0,r.getAllTextContent)(t,!1))}function h(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function d(t){return(0,r.getAllTextContent)(t,!1).trim()}function f(t,e){_(t,e?"1":"0")}function p(t,e){t.appendChild((0,r.getDocument)().createCDATASection(e))}function g(t,e){const n=new Date(1e3*e),o=n.getUTCFullYear()+"-"+(0,i.padNumber)(n.getUTCMonth()+1,2)+"-"+(0,i.padNumber)(n.getUTCDate(),2)+"T"+(0,i.padNumber)(n.getUTCHours(),2)+":"+(0,i.padNumber)(n.getUTCMinutes(),2)+":"+(0,i.padNumber)(n.getUTCSeconds(),2)+"Z";t.appendChild((0,r.getDocument)().createTextNode(o))}function m(t,e){const n=e.toPrecision();t.appendChild((0,r.getDocument)().createTextNode(n))}function y(t,e){const n=e.toString();t.appendChild((0,r.getDocument)().createTextNode(n))}function _(t,e){t.appendChild((0,r.getDocument)().createTextNode(e))}},4238:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FALSE:()=>o,TRUE:()=>i,VOID:()=>s,memoizeOne:()=>a,toPromise:()=>l});var r=n(6514);function i(){return!0}function o(){return!1}function s(){}function a(t){let e,n,i;return function(){const o=Array.prototype.slice.call(arguments);return n&&this===i&&(0,r.equals)(o,n)||(i=this,n=o,e=t.apply(this,arguments)),e}}function l(t){return function(){let e;try{e=t()}catch(t){return Promise.reject(t)}return e instanceof Promise?e:Promise.resolve(e)}()}},6643:(t,e,n)=>{"use strict";n.d(e,{FQ:()=>o.default,QZ:()=>a.default,XT:()=>r.default,bR:()=>l.default,gW:()=>i.default,my:()=>s.default,tS:()=>c.default});n(4974),n(7430);var r=n(4338),i=(n(2809),n(1217)),o=n(6702),s=n(503),a=n(2871),l=n(4294),c=n(4142);n(2096)},4974:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(2096),i=n(915),o=n(2497),s=n(7622);class a extends r.default{constructor(t,e,n){super(),void 0!==n&&void 0===e?this.setFlatCoordinates(n,t):(e=e||0,this.setCenterAndRadius(t,e,n))}clone(){const t=new a(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,r){const i=this.flatCoordinates,o=t-i[0],s=e-i[1],a=o*o+s*s;if(a<r){if(0===a)for(let t=0;t<this.stride;++t)n[t]=i[t];else{const t=this.getRadius()/Math.sqrt(a);n[0]=i[0]+t*o,n[1]=i[1]+t*s;for(let t=2;t<this.stride;++t)n[t]=i[t]}return n.length=this.stride,a}return r}containsXY(t,e){const n=this.flatCoordinates,r=t-n[0],i=e-n[1];return r*r+i*i<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const e=this.flatCoordinates,n=e[this.stride]-e[0];return(0,i.createOrUpdate)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){const e=this.getExtent();if((0,i.intersects)(t,e)){const e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||(t[1]<=e[1]&&t[3]>=e[1]||(0,i.forEachCorner)(t,this.intersectsCoordinate.bind(this)))}return!1}setCenter(t){const e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+n;for(let n=1;n<e;++n)r[e+n]=t[n];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let i=(0,o._n)(r,0,t,this.stride);r[i++]=r[0]+e;for(let t=1,e=this.stride;t<e;++t)r[i++]=r[t];r.length=i,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){const n=this.getCenter(),r=this.getStride();this.setCenter((0,s.e$)(n,0,n.length,r,t,e,n)),this.changed()}}a.prototype.transform;const l=a},7430:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(4120),i=n(4087),o=n(9703),s=n(915),a=n(3407),l=n(4238),c=n(7622);const u=(0,o.vt)();class h extends r.default{constructor(){super(),this.extent_=(0,s.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,l.memoizeOne)(((t,e,n)=>{if(!n)return this.getSimplifiedGeometry(e);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return(0,i.abstract)()}closestPointXY(t,e,n,r){return(0,i.abstract)()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return(0,i.abstract)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,s.createOrUpdateEmpty)(t),this.extentRevision_=this.getRevision()}return(0,s.returnOrUpdate)(this.extent_,t)}rotate(t,e){(0,i.abstract)()}scale(t,e,n){(0,i.abstract)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return(0,i.abstract)()}getType(){return(0,i.abstract)()}applyTransform(t){(0,i.abstract)()}intersectsExtent(t){return(0,i.abstract)()}translate(t,e){(0,i.abstract)()}transform(t,e){const n=(0,a.get)(t),r="tile-pixels"==n.getUnits()?function(t,r,i){const l=n.getExtent(),h=n.getWorldExtent(),d=(0,s.getHeight)(h)/(0,s.getHeight)(l);return(0,o.Zz)(u,h[0],h[3],d,-d,0,0,0),(0,c.Rc)(t,0,t.length,i,u,r),(0,a.getTransform)(n,e)(t,r,i)}:(0,a.getTransform)(n,e);return this.applyTransform(r),this}}const d=h},4338:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var r=n(6837),i=n(7430),o=n(915),s=n(9438);class a extends i.default{constructor(t){super(),this.geometries_=t,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(s.unlistenByKey),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)this.changeEventsKeys_.push((0,s.listen)(t[e],r.A.CHANGE,this.changed,this))}clone(){const t=new a(l(this.geometries_));return t.applyProperties(this),t}closestPointXY(t,e,n,r){if(r<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e))return r;const i=this.geometries_;for(let o=0,s=i.length;o<s;++o)r=i[o].closestPointXY(t,e,n,r);return r}containsXY(t,e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1}computeExtent(t){(0,o.createOrUpdateEmpty)(t);const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)(0,o.extend)(t,e[n].getExtent());return t}getGeometries(){return l(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],n=this.geometries_;let r=!1;for(let i=0,o=n.length;i<o;++i){const o=n[i],s=o.getSimplifiedGeometry(t);e.push(s),s!==o&&(r=!0)}if(r){return new a(e)}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()}scale(t,e,n){n||(n=(0,o.getCenter)(this.getExtent()));const r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].scale(t,e,n);this.changed()}setGeometries(t){this.setGeometriesArray(l(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()}translate(t,e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function l(t){return t.map((t=>t.clone()))}const c=a},1217:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(2096),i=n(3953),o=n(915),s=n(2497),a=n(3671),l=n(6514),c=n(1374),u=n(6361),h=n(9969),d=n(4350),f=n(904);class p extends r.default{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){(0,l.extend)(this.flatCoordinates,t),this.changed()}clone(){const t=new p(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,r){return r<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,i.MD)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,i.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))}forEachSegment(t){return(0,c.j)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,(0,h.gr)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return(0,u.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return(0,h.SH)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return(0,f.k)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,a.P4)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new p(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return(0,d.gp)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}const g=p},2809:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(2096),i=n(3953),o=n(915),s=n(2497),a=n(3671),l=n(6361),c=n(8609);class u extends r.default{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new u(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,r){return r<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,i.MD)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,i.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))}getArea(){return(0,c.eN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,l.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,a.P4)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new u(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}const h=u},6702:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(1217),i=n(2096),o=n(3953),s=n(915),a=n(2497),l=n(3671),c=n(6514),u=n(6361),h=n(9969),d=n(4350);class f extends i.default{constructor(t,e,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&n)this.setFlatCoordinates(e,t),this.ends_=n;else{const e=t,n=[],r=[];for(let t=0,i=e.length;t<i;++t){const i=e[t];(0,c.extend)(n,i.getFlatCoordinates()),r.push(n.length)}const i=0===e.length?this.getLayout():e[0].getLayout();this.setFlatCoordinates(i,n),this.ends_=r}}appendLineString(t){(0,c.extend)(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new f(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,r){return r<(0,s.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.HX)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.oW)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))}getCoordinateAtM(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,n=void 0!==n&&n,(0,h.L8)(this.flatCoordinates,0,this.ends_,this.stride,t,e,n))}getCoordinates(){return(0,u.cD)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new r.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[];let o=0;for(let s=0,a=e.length;s<a;++s){const a=e[s],l=new r.default(t.slice(o,a),n);i.push(l),o=a}return i}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let n=0;const r=this.ends_,i=this.stride;for(let o=0,s=r.length;o<s;++o){const s=r[o],a=(0,h.SH)(e,n,s,i,.5);(0,c.extend)(t,a),n=s}return t}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,l.AL)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new f(e,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(t){return(0,d.fB)(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,a.KG)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const p=f},503:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(4294),i=n(2096),o=n(915),s=n(2497),a=n(6514),l=n(6361),c=n(1597);class u extends i.default{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){(0,a.extend)(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new u(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,r){if(r<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e))return r;const i=this.flatCoordinates,s=this.stride;for(let o=0,a=i.length;o<a;o+=s){const a=(0,c.squaredDistance)(t,e,i[o],i[o+1]);if(a<r){r=a;for(let t=0;t<s;++t)n[t]=i[o+t];n.length=s}}return r}getCoordinates(){return(0,l.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new r.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,n=this.stride,i=[];for(let o=0,s=t.length;o<s;o+=n){const s=new r.default(t.slice(o,o+n),e);i.push(s)}return i}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,n=this.stride;for(let r=0,i=e.length;r<i;r+=n){const n=e[r],i=e[r+1];if((0,o.containsXY)(t,n,i))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}const h=u},2871:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=n(503),i=n(4142),o=n(2096),s=n(3953),a=n(915),l=n(2497),c=n(6514),u=n(2616),h=n(6361),d=n(4350),f=n(3402),p=n(8609),g=n(4049),m=n(2845),y=n(3671);class _ extends o.default{constructor(t,e,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){const r=t,i=[],o=[];for(let t=0,e=r.length;t<e;++t){const e=r[t],n=i.length,s=e.getEnds();for(let t=0,e=s.length;t<e;++t)s[t]+=n;(0,c.extend)(i,e.getFlatCoordinates()),o.push(s)}e=0===r.length?this.getLayout():r[0].getLayout(),t=i,n=o}void 0!==e&&n?(this.setFlatCoordinates(e,t),this.endss_=n):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const n=this.flatCoordinates.length;(0,c.extend)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,r=e.length;t<r;++t)e[t]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let n=0;n<t;++n)e[n]=this.endss_[n].slice();const n=new _(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n}closestPointXY(t,e,n,r){return r<(0,a.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,s.c)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,s.te)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))}containsXY(t,e){return(0,m.Gd)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return(0,p.Cs)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,f.NK)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,h.Dz)(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=(0,g.C)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,u.p)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new r.default(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;(0,f.mb)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,f.NK)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,y.sx)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new _(e,"XY",n)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const n=this.endss_[t].slice(),r=n[n.length-1];if(0!==e)for(let t=0,r=n.length;t<r;++t)n[t]-=e;return new i.default(this.flatCoordinates.slice(e,r),this.layout,n)}getPolygons(){const t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s].slice(),l=a[a.length-1];if(0!==o)for(let t=0,e=a.length;t<e;++t)a[t]-=o;const c=new i.default(e.slice(o,l),t,a);r.push(c),o=l}return r}getType(){return"MultiPolygon"}intersectsExtent(t){return(0,d.Wp)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,l.d6)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const t=n[n.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}const v=_},4294:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(2096),i=n(915),o=n(2497),s=n(1597);class a extends r.default{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new a(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,r){const i=this.flatCoordinates,o=(0,s.squaredDistance)(t,e,i[0],i[1]);if(o<r){const t=this.stride;for(let e=0;e<t;++e)n[e]=i[e];return n.length=t,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return(0,i.createOrUpdateFromCoordinate)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,i.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,o._n)(this.flatCoordinates,0,t,this.stride),this.changed()}}const l=a},4142:(t,e,n)=>{"use strict";n.r(e),n.d(e,{circular:()=>x,default:()=>b,fromCircle:()=>w,fromExtent:()=>S,makeRegular:()=>E});var r=n(2809),i=n(4294),o=n(2096),s=n(3953),a=n(915),l=n(2497),c=n(6514),u=n(2616),h=n(6361),d=n(4350),f=n(3402),p=n(8609),g=n(2845),m=n(1597),y=n(3671),_=n(2490);class v extends o.default{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?(0,c.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new v(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,r){return r<(0,a.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,s.HX)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,s.oW)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))}containsXY(t,e){return(0,g.zb)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return(0,p.PK)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,f.ug)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,h.cD)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=(0,a.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,u.J)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new i.default(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new r.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s],l=new r.default(e.slice(o,a),t);i.push(l),o=a}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;(0,f.PA)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,f.ug)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,y.Hg)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new v(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return(0,d.HT)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,l.KG)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const b=v;function x(t,e,n,r){n=n||32;const i=[];for(let o=0;o<n;++o)(0,c.extend)(i,(0,_.offset)(t,e,2*Math.PI*o/n,r));return i.push(i[0],i[1]),new v(i,"XY",[i.length])}function S(t){if((0,a.isEmpty)(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new v(o,"XY",[o.length])}function w(t,e,n){e=e||32;const r=t.getStride(),i=t.getLayout(),o=t.getCenter(),s=r*(e+1),a=new Array(s);for(let t=0;t<s;t+=r){a[t]=0,a[t+1]=0;for(let e=2;e<r;e++)a[t+e]=o[e]}const l=[a.length],c=new v(a,i,l);return E(c,o,t.getRadius(),n),c}function E(t,e,n,r){const i=t.getFlatCoordinates(),o=t.getStride(),s=i.length/o-1,a=r||0;for(let t=0;t<=s;++t){const r=t*o,l=a+2*(0,m.modulo)(t,s)*Math.PI/s;i[r]=e[0]+n*Math.cos(l),i[r+1]=e[1]+n*Math.sin(l)}t.changed()}},2096:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h,getLayoutForStride:()=>l,getStrideForLayout:()=>c,transformGeom2D:()=>u});var r=n(7430),i=n(4087),o=n(915),s=n(7622);class a extends r.default{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return(0,o.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return(0,i.abstract)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=c(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){(0,i.abstract)()}setLayout(t,e,n){let r;if(t)r=c(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}r=e.length,t=l(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const r=this.getStride();(0,s.e$)(n,0,n.length,r,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=(0,o.getCenter)(this.getExtent()));const r=this.getFlatCoordinates();if(r){const i=this.getStride();(0,s.hs)(r,0,r.length,i,t,e,n,r),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const r=this.getStride();(0,s.Tl)(n,0,n.length,r,t,e,n),this.changed()}}}function l(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}function c(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function u(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return(0,s.Rc)(r,0,r.length,i,e,n)}const h=a},8609:(t,e,n)=>{"use strict";function r(t,e,n,r){let i=0;const o=t[n-r],s=t[n-r+1];let a=0,l=0;for(;e<n;e+=r){const n=t[e]-o,r=t[e+1]-s;i+=l*n-a*r,a=n,l=r}return i/2}function i(t,e,n,i){let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];o+=r(t,e,a,i),e=a}return o}function o(t,e,n,r){let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];o+=i(t,e,a,r),e=a[a.length-1]}return o}n.d(e,{Cs:()=>o,PK:()=>i,eN:()=>r})},4049:(t,e,n)=>{"use strict";n.d(e,{C:()=>i});var r=n(915);function i(t,e,n,i){const o=[];let s=(0,r.createEmpty)();for(let a=0,l=n.length;a<l;++a){const l=n[a];s=(0,r.createOrUpdateFromFlatCoordinates)(t,e,l[0],i),o.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return o}},3953:(t,e,n)=>{"use strict";n.d(e,{HX:()=>s,MD:()=>o,c:()=>a,n:()=>l,oW:()=>c,te:()=>u});var r=n(1597);function i(t,e,n,i,o,s,a){const l=t[e],c=t[e+1],u=t[n]-l,h=t[n+1]-c;let d;if(0===u&&0===h)d=e;else{const f=((o-l)*u+(s-c)*h)/(u*u+h*h);if(f>1)d=n;else{if(f>0){for(let o=0;o<i;++o)a[o]=(0,r.lerp)(t[e+o],t[n+o],f);return void(a.length=i)}d=e}}for(let e=0;e<i;++e)a[e]=t[d+e];a.length=i}function o(t,e,n,i,o){let s=t[e],a=t[e+1];for(e+=i;e<n;e+=i){const n=t[e],i=t[e+1],l=(0,r.squaredDistance)(s,a,n,i);l>o&&(o=l),s=n,a=i}return o}function s(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const a=n[s];i=o(t,e,a,r,i),e=a}return i}function a(t,e,n,r,i){for(let o=0,a=n.length;o<a;++o){const a=n[o];i=s(t,e,a,r,i),e=a[a.length-1]}return i}function l(t,e,n,o,s,a,l,c,u,h,d){if(e==n)return h;let f,p;if(0===s){if(p=(0,r.squaredDistance)(l,c,t[e],t[e+1]),p<h){for(f=0;f<o;++f)u[f]=t[e+f];return u.length=o,p}return h}d=d||[NaN,NaN];let g=e+o;for(;g<n;)if(i(t,g-o,g,o,l,c,d),p=(0,r.squaredDistance)(l,c,d[0],d[1]),p<h){for(h=p,f=0;f<o;++f)u[f]=d[f];u.length=o,g+=o}else g+=o*Math.max((Math.sqrt(p)-Math.sqrt(h))/s|0,1);if(a&&(i(t,n-o,e,o,l,c,d),p=(0,r.squaredDistance)(l,c,d[0],d[1]),p<h)){for(h=p,f=0;f<o;++f)u[f]=d[f];u.length=o}return h}function c(t,e,n,r,i,o,s,a,c,u,h){h=h||[NaN,NaN];for(let d=0,f=n.length;d<f;++d){const f=n[d];u=l(t,e,f,r,i,o,s,a,c,u,h),e=f}return u}function u(t,e,n,r,i,o,s,a,l,u,h){h=h||[NaN,NaN];for(let d=0,f=n.length;d<f;++d){const f=n[d];u=c(t,e,f,r,i,o,s,a,l,u,h),e=f[f.length-1]}return u}},2845:(t,e,n)=>{"use strict";n.d(e,{Gd:()=>a,a_:()=>o,t7:()=>i,zb:()=>s});var r=n(915);function i(t,e,n,i,s){return!(0,r.forEachCorner)(s,(function(r){return!o(t,e,n,i,r[0],r[1])}))}function o(t,e,n,r,i,o){let s=0,a=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const n=t[e],r=t[e+1];l<=o?r>o&&(n-a)*(o-l)-(i-a)*(r-l)>0&&s++:r<=o&&(n-a)*(o-l)-(i-a)*(r-l)<0&&s--,a=n,l=r}return 0!==s}function s(t,e,n,r,i,s){if(0===n.length)return!1;if(!o(t,e,n[0],r,i,s))return!1;for(let e=1,a=n.length;e<a;++e)if(o(t,n[e-1],n[e],r,i,s))return!1;return!0}function a(t,e,n,r,i,o){if(0===n.length)return!1;for(let a=0,l=n.length;a<l;++a){const l=n[a];if(s(t,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}},2497:(t,e,n)=>{"use strict";function r(t,e,n,r){for(let r=0,i=n.length;r<i;++r)t[e++]=n[r];return e}function i(t,e,n,r){for(let i=0,o=n.length;i<o;++i){const o=n[i];for(let n=0;n<r;++n)t[e++]=o[n]}return e}function o(t,e,n,r,o){o=o||[];let s=0;for(let a=0,l=n.length;a<l;++a){const l=i(t,e,n[a],r);o[s++]=l,e=l}return o.length=s,o}function s(t,e,n,r,i){i=i||[];let s=0;for(let a=0,l=n.length;a<l;++a){const l=o(t,e,n[a],r,i[s]);0===l.length&&(l[0]=e),i[s++]=l,e=l[l.length-1]}return i.length=s,i}n.d(e,{KG:()=>o,_n:()=>r,d6:()=>s,z2:()=>i})},6361:(t,e,n)=>{"use strict";function r(t,e,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=e;s<n;s+=r)i[o++]=t.slice(s,s+r);return i.length=o,i}function i(t,e,n,i,o){o=void 0!==o?o:[];let s=0;for(let a=0,l=n.length;a<l;++a){const l=n[a];o[s++]=r(t,e,l,i,o[s]),e=l}return o.length=s,o}function o(t,e,n,r,o){o=void 0!==o?o:[];let s=0;for(let a=0,l=n.length;a<l;++a){const l=n[a];o[s++]=1===l.length&&l[0]===e?[]:i(t,e,l,r,o[s]),e=l[l.length-1]}return o.length=s,o}n.d(e,{Dz:()=>o,cD:()=>i,n2:()=>r})},2616:(t,e,n)=>{"use strict";n.d(e,{J:()=>o,p:()=>s});var r=n(6514),i=n(2845);function o(t,e,n,o,s,a,l){let c,u,h,d,f,p,g;const m=s[a+1],y=[];for(let r=0,i=n.length;r<i;++r){const i=n[r];for(d=t[i-o],p=t[i-o+1],c=e;c<i;c+=o)f=t[c],g=t[c+1],(m<=p&&g<=m||p<=m&&m<=g)&&(h=(m-p)/(g-p)*(f-d)+d,y.push(h)),d=f,p=g}let _=NaN,v=-1/0;for(y.sort(r.ascending),d=y[0],c=1,u=y.length;c<u;++c){f=y[c];const r=Math.abs(f-d);r>v&&(h=(d+f)/2,(0,i.zb)(t,e,n,o,h,m)&&(_=h,v=r)),d=f}return isNaN(_)&&(_=s[a]),l?(l.push(_,m,v),l):[_,m,v]}function s(t,e,n,r,i){let s=[];for(let a=0,l=n.length;a<l;++a){const l=n[a];s=o(t,e,l,r,i,2*a,s),e=l[l.length-1]}return s}},9969:(t,e,n)=>{"use strict";n.d(e,{L8:()=>a,SH:()=>o,gr:()=>s});var r=n(6514),i=n(1597);function o(t,e,n,o,s,a,l){let c,u;const h=(n-e)/o;if(1===h)c=e;else if(2===h)c=e,u=s;else if(0!==h){let i=t[e],a=t[e+1],l=0;const h=[0];for(let r=e+o;r<n;r+=o){const e=t[r],n=t[r+1];l+=Math.sqrt((e-i)*(e-i)+(n-a)*(n-a)),h.push(l),i=e,a=n}const d=s*l,f=(0,r.binarySearch)(h,d);f<0?(u=(d-h[-f-2])/(h[-f-1]-h[-f-2]),c=e+(-f-2)*o):c=e+f*o}l=l>1?l:2,a=a||new Array(l);for(let e=0;e<l;++e)a[e]=void 0===c?NaN:void 0===u?t[c+e]:(0,i.lerp)(t[c+e],t[c+o+e],u);return a}function s(t,e,n,r,o,s){if(n==e)return null;let a;if(o<t[e+r-1])return s?(a=t.slice(e,e+r),a[r-1]=o,a):null;if(t[n-1]<o)return s?(a=t.slice(n-r,n),a[r-1]=o,a):null;if(o==t[e+r-1])return t.slice(e,e+r);let l=e/r,c=n/r;for(;l<c;){const e=l+c>>1;o<t[(e+1)*r-1]?c=e:l=e+1}const u=t[l*r-1];if(o==u)return t.slice((l-1)*r,(l-1)*r+r);const h=(o-u)/(t[(l+1)*r-1]-u);a=[];for(let e=0;e<r-1;++e)a.push((0,i.lerp)(t[(l-1)*r+e],t[l*r+e],h));return a.push(o),a}function a(t,e,n,r,i,o,a){if(a)return s(t,e,n[n.length-1],r,i,o);let l;if(i<t[r-1])return o?(l=t.slice(0,r),l[r-1]=i,l):null;if(t[t.length-1]<i)return o?(l=t.slice(t.length-r),l[r-1]=i,l):null;for(let o=0,a=n.length;o<a;++o){const a=n[o];if(e!=a){if(i<t[e+r-1])return null;if(i<=t[a-1])return s(t,e,a,r,i,!1);e=a}}return null}},4350:(t,e,n)=>{"use strict";n.d(e,{HT:()=>c,Wp:()=>u,fB:()=>a,gp:()=>s,sj:()=>l});var r=n(915),i=n(1374),o=n(2845);function s(t,e,n,o,s){const a=(0,r.extendFlatCoordinates)((0,r.createEmpty)(),t,e,n,o);return!!(0,r.intersects)(s,a)&&(!!(0,r.containsExtent)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||(0,i.j)(t,e,n,o,(function(t,e){return(0,r.intersectsSegment)(s,t,e)})))))}function a(t,e,n,r,i){for(let o=0,a=n.length;o<a;++o){if(s(t,e,n[o],r,i))return!0;e=n[o]}return!1}function l(t,e,n,r,i){return!!s(t,e,n,r,i)||(!!(0,o.a_)(t,e,n,r,i[0],i[1])||(!!(0,o.a_)(t,e,n,r,i[0],i[3])||(!!(0,o.a_)(t,e,n,r,i[2],i[1])||!!(0,o.a_)(t,e,n,r,i[2],i[3]))))}function c(t,e,n,r,i){if(!l(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(let e=1,a=n.length;e<a;++e)if((0,o.t7)(t,n[e-1],n[e],r,i)&&!s(t,n[e-1],n[e],r,i))return!1;return!0}function u(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(c(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}},904:(t,e,n)=>{"use strict";function r(t,e,n,r){let i=t[e],o=t[e+1],s=0;for(let a=e+r;a<n;a+=r){const e=t[a],n=t[a+1];s+=Math.sqrt((e-i)*(e-i)+(n-o)*(n-o)),i=e,o=n}return s}n.d(e,{k:()=>r})},3402:(t,e,n)=>{"use strict";function r(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function i(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1];for(;e<n;e+=r){const n=t[e],r=t[e+1];i+=(n-o)*(r+s),o=n,s=r}return 0===i?void 0:i>0}function o(t,e,n,r,o){o=void 0!==o&&o;for(let s=0,a=n.length;s<a;++s){const a=n[s],l=i(t,e,a,r);if(0===s){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=a}return!0}function s(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const a=n[s];if(!o(t,e,a,r,i))return!1;a.length&&(e=a[a.length-1])}return!0}function a(t,e,n,o,s){s=void 0!==s&&s;for(let a=0,l=n.length;a<l;++a){const l=n[a],c=i(t,e,l,o);(0===a?s&&c||!s&&!c:s&&!c||!s&&c)&&r(t,e,l,o),e=l}return e}function l(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o)e=a(t,e,n[o],r,i);return e}function c(t,e){const n=[];let r,o=0,s=0;for(let a=0,l=e.length;a<l;++a){const l=e[a],c=i(t,o,l,2);if(void 0===r&&(r=c),c===r)n.push(e.slice(s,a+1));else{if(0===n.length)continue;n[n.length-1].push(e[s])}s=a+1,o=l}return n}n.d(e,{yJ:()=>c,PA:()=>o,mb:()=>s,ug:()=>a,NK:()=>l})},1374:(t,e,n)=>{"use strict";function r(t,e,n,r,i){let o;for(e+=r;e<n;e+=r)if(o=i(t.slice(e-r,e),t.slice(e,e+r)),o)return o;return!1}n.d(e,{j:()=>r})},3671:(t,e,n)=>{"use strict";n.d(e,{AL:()=>o,Hg:()=>l,P4:()=>i,n$:()=>s,sx:()=>c});var r=n(1597);function i(t,e,n,i,o,s,a){const l=(n-e)/i;if(l<3){for(;e<n;e+=i)s[a++]=t[e],s[a++]=t[e+1];return a}const c=new Array(l);c[0]=1,c[l-1]=1;const u=[e,n-i];let h=0;for(;u.length>0;){const n=u.pop(),s=u.pop();let a=0;const l=t[s],d=t[s+1],f=t[n],p=t[n+1];for(let e=s+i;e<n;e+=i){const n=t[e],i=t[e+1],o=(0,r.squaredSegmentDistance)(n,i,l,d,f,p);o>a&&(h=e,a=o)}a>o&&(c[(h-e)/i]=1,s+i<h&&u.push(s,h),h+i<n&&u.push(h,n))}for(let n=0;n<l;++n)c[n]&&(s[a++]=t[e+n*i],s[a++]=t[e+n*i+1]);return a}function o(t,e,n,r,o,s,a,l){for(let c=0,u=n.length;c<u;++c){const u=n[c];a=i(t,e,u,r,o,s,a),l.push(a),e=u}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,n,r,i,o,a){if(e==n)return a;let l,c,u=s(t[e],i),h=s(t[e+1],i);e+=r,o[a++]=u,o[a++]=h;do{if(l=s(t[e],i),c=s(t[e+1],i),(e+=r)==n)return o[a++]=l,o[a++]=c,a}while(l==u&&c==h);for(;e<n;){const n=s(t[e],i),d=s(t[e+1],i);if(e+=r,n==l&&d==c)continue;const f=l-u,p=c-h,g=n-u,m=d-h;f*m==p*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(p<0&&m<p||p==m||p>0&&m>p)?(l=n,c=d):(o[a++]=l,o[a++]=c,u=l,h=c,l=n,c=d)}return o[a++]=l,o[a++]=c,a}function l(t,e,n,r,i,o,s,l){for(let c=0,u=n.length;c<u;++c){const u=n[c];s=a(t,e,u,r,i,o,s),l.push(s),e=u}return s}function c(t,e,n,r,i,o,s,a){for(let c=0,u=n.length;c<u;++c){const u=n[c],h=[];s=l(t,e,u,r,i,o,s,h),a.push(h),e=u[u.length-1]}return s}},7622:(t,e,n)=>{"use strict";function r(t,e,n,r,i,o,s){o=o||[],s=s||2;let a=0;for(let l=e;l<n;l+=r){const e=t[l],n=t[l+1];o[a++]=i[0]*e+i[2]*n+i[4],o[a++]=i[1]*e+i[3]*n+i[5];for(let e=2;e<s;e++)o[a++]=t[l+e]}return o&&o.length!=a&&(o.length=a),o}function i(t,e,n,r,i,o,s){s=s||[];const a=Math.cos(i),l=Math.sin(i),c=o[0],u=o[1];let h=0;for(let i=e;i<n;i+=r){const e=t[i]-c,n=t[i+1]-u;s[h++]=c+e*a-n*l,s[h++]=u+e*l+n*a;for(let e=i+2;e<i+r;++e)s[h++]=t[e]}return s&&s.length!=h&&(s.length=h),s}function o(t,e,n,r,i,o,s,a){a=a||[];const l=s[0],c=s[1];let u=0;for(let s=e;s<n;s+=r){const e=t[s]-l,n=t[s+1]-c;a[u++]=l+i*e,a[u++]=c+o*n;for(let e=s+2;e<s+r;++e)a[u++]=t[e]}return a&&a.length!=u&&(a.length=u),a}function s(t,e,n,r,i,o,s){s=s||[];let a=0;for(let l=e;l<n;l+=r){s[a++]=t[l]+i,s[a++]=t[l+1]+o;for(let e=l+2;e<l+r;++e)s[a++]=t[e]}return s&&s.length!=a&&(s.length=a),s}n.d(e,{Rc:()=>r,Tl:()=>s,e$:()=>i,hs:()=>o})},7771:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CREATE_IMAGE_BITMAP:()=>d,DEVICE_PIXEL_RATIO:()=>c,FIREFOX:()=>i,IMAGE_DECODE:()=>h,MAC:()=>l,PASSIVE_EVENT_LISTENERS:()=>f,SAFARI:()=>o,SAFARI_BUG_237906:()=>s,WEBKIT:()=>a,WORKER_OFFSCREEN_CANVAS:()=>u});const r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",i=r.includes("firefox"),o=r.includes("safari")&&!r.includes("chrom"),s=o&&(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),a=r.includes("webkit")&&!r.includes("edge"),l=r.includes("macintosh"),c="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,u="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,h="undefined"!=typeof Image&&Image.prototype.decode,d="function"==typeof createImageBitmap,f=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},8877:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DblClickDragZoom:()=>a,DoubleClickZoom:()=>r.A,DragAndDrop:()=>m,DragBox:()=>y.A,DragPan:()=>_.default,DragRotate:()=>v.A,DragRotateAndZoom:()=>w,DragZoom:()=>E.A,Draw:()=>T.default,Extent:()=>B,Interaction:()=>i.default,KeyboardPan:()=>z.A,KeyboardZoom:()=>G.A,Link:()=>K,Modify:()=>Z.default,MouseWheelZoom:()=>J.A,PinchRotate:()=>Q.A,PinchZoom:()=>tt.A,Pointer:()=>b.default,Select:()=>ut,Snap:()=>ht.default,Translate:()=>dt.default,defaults:()=>ft.N});var r=n(6068),i=n(6292),o=n(3445);class s extends i.default{constructor(t){const e=t||{};super(e),e.stopDown&&(this.stopDown=e.stopDown),this.scaleDeltaByPixel_=e.delta?e.delta:.01,this.duration_=void 0!==e.duration?e.duration:250,this.handlingDownUpSequence_=!1,this.handlingDoubleDownSequence_=!1,this.doubleTapTimeoutId_=void 0,this.trackedPointers_={},this.targetPointers=[]}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence_){if(t.type==o.A.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==o.A.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence_=e}}else if(t.type==o.A.POINTERDOWN)if(this.handlingDoubleDownSequence_){this.handlingDoubleDownSequence_=!1;const n=this.handleDownEvent(t);this.handlingDownUpSequence_=n,e=this.stopDown(n)}else e=this.stopDown(!1),this.waitForDblTap_();return!e}handleDragEvent(t){let e=1;const n=this.targetPointers[0],r=this.down_.originalEvent,i=n.clientY-r.clientY;void 0!==this.lastDistance_&&(e=1-(this.lastDistance_-i)*this.scaleDeltaByPixel_),this.lastDistance_=i,1!=e&&(this.lastScaleDelta_=e);const o=t.map,s=o.getView();o.render(),s.adjustResolutionInternal(e)}handleDownEvent(t){if(1==this.targetPointers.length){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.down_=t,this.handlingDownUpSequence_||e.getView().beginInteraction(),!0}return!1}handleUpEvent(t){if(0==this.targetPointers.length){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),this.handlingDownUpSequence_=!1,this.handlingDoubleDownSequence_=!1,!1}return!0}stopDown(t){return t}updateTrackedPointers_(t){if(function(t){const e=t.type;return e===o.A.POINTERDOWN||e===o.A.POINTERDRAG||e===o.A.POINTERUP}(t)){const e=t.originalEvent,n=e.pointerId.toString();t.type==o.A.POINTERUP?delete this.trackedPointers_[n]:(t.type==o.A.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Object.values(this.trackedPointers_)}}waitForDblTap_(){void 0!==this.doubleTapTimeoutId_?(clearTimeout(this.doubleTapTimeoutId_),this.doubleTapTimeoutId_=void 0):(this.handlingDoubleDownSequence_=!0,this.doubleTapTimeoutId_=setTimeout(this.endInteraction_.bind(this),250))}endInteraction_(){this.handlingDoubleDownSequence_=!1,this.doubleTapTimeoutId_=void 0}}const a=s;var l=n(1685),c=n(6837),u=n(4238),h=n(3407),d=n(9438);const f="addfeatures";class p extends l.default{constructor(t,e,n,r){super(t),this.features=n,this.file=e,this.projection=r}}class g extends i.default{constructor(t){t=t||{},super({handleEvent:u.TRUE}),this.on,this.once,this.un,this.readAsBuffer_=!1,this.formats_=[];const e=t.formatConstructors?t.formatConstructors:[];for(let t=0,n=e.length;t<n;++t){let n=e[t];"function"==typeof n&&(n=new n),this.formats_.push(n),this.readAsBuffer_=this.readAsBuffer_||"arraybuffer"===n.getType()}this.projection_=t.projection?(0,h.get)(t.projection):null,this.dropListenKeys_=null,this.source_=t.source||null,this.target=t.target?t.target:null}handleResult_(t,e){const n=e.target.result,r=this.getMap();let i,o=this.projection_;if(!o&&(o=(0,h.getUserProjection)(),!o)){o=r.getView().getProjection()}const s=this.formats_;for(let e=0,r=s.length;e<r;++e){const r=s[e];let a=n;this.readAsBuffer_&&"arraybuffer"!==r.getType()&&(void 0===i&&(i=(new TextDecoder).decode(n)),a=i);const l=this.tryReadFeatures_(r,a,{featureProjection:o});if(l&&l.length>0){this.source_&&(this.source_.clear(),this.source_.addFeatures(l)),this.dispatchEvent(new p(f,t,l,o));break}}}registerListeners_(){const t=this.getMap();if(t){const e=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,d.listen)(e,c.A.DROP,this.handleDrop,this),(0,d.listen)(e,c.A.DRAGENTER,this.handleStop,this),(0,d.listen)(e,c.A.DRAGOVER,this.handleStop,this),(0,d.listen)(e,c.A.DROP,this.handleStop,this)]}}setActive(t){!this.getActive()&&t&&this.registerListeners_(),this.getActive()&&!t&&this.unregisterListeners_(),super.setActive(t)}setMap(t){this.unregisterListeners_(),super.setMap(t),this.getActive()&&this.registerListeners_()}tryReadFeatures_(t,e,n){try{return t.readFeatures(e,n)}catch(t){return null}}unregisterListeners_(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(d.unlistenByKey),this.dropListenKeys_=null)}handleDrop(t){const e=t.dataTransfer.files;for(let t=0,n=e.length;t<n;++t){const n=e.item(t),r=new FileReader;r.addEventListener(c.A.LOAD,this.handleResult_.bind(this,n)),this.readAsBuffer_?r.readAsArrayBuffer(n):r.readAsText(n)}}handleStop(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}}const m=g;var y=n(422),_=n(4473),v=n(4051),b=n(1409),x=n(8704);class S extends b.default{constructor(t){super(t=t||{}),this.condition_=t.condition?t.condition:x.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==t.duration?t.duration:400}handleDragEvent(t){if(!(0,x.mouseOnly)(t))return;const e=t.map,n=e.getSize(),r=t.pixel,i=r[0]-n[0]/2,o=n[1]/2-r[1],s=Math.atan2(o,i),a=Math.sqrt(i*i+o*o),l=e.getView();if(void 0!==this.lastAngle_){const t=this.lastAngle_-s;l.adjustRotationInternal(t)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&l.adjustResolutionInternal(this.lastMagnitude_/a),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}handleUpEvent(t){if(!(0,x.mouseOnly)(t))return!0;const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),this.lastScaleDelta_=0,!1}handleDownEvent(t){return!!(0,x.mouseOnly)(t)&&(!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))}}const w=S;var E=n(4423),T=n(4620),C=n(6717),M=n(4294),A=n(2757),k=n(731),I=n(915),P=n(9314),R=n(6895),O=n(4142);const N="extentchanged";class D extends l.default{constructor(t){super(N),this.extent=t}}class $ extends b.default{constructor(t){super(t=t||{}),this.on,this.once,this.un,this.condition_=t.condition?t.condition:x.always,this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,t||(t={}),this.extentOverlay_=new A.default({source:new k.default({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:L(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new A.default({source:new k.default({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:F(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&this.setExtent(t.extent)}snapToVertex_(t,e){const n=e.getCoordinateFromPixelInternal(t),r=function(t,e){return(0,P.squaredDistanceToSegment)(n,t)-(0,P.squaredDistanceToSegment)(n,e)},i=this.getExtentInternal();if(i){const o=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(i);o.sort(r);const s=o[0];let a=(0,P.closestOnSegment)(n,s);const l=e.getPixelFromCoordinateInternal(a);if((0,P.distance)(t,l)<=this.pixelTolerance_){const t=e.getPixelFromCoordinateInternal(s[0]),n=e.getPixelFromCoordinateInternal(s[1]),r=(0,P.squaredDistance)(l,t),i=(0,P.squaredDistance)(l,n),o=Math.sqrt(Math.min(r,i));return this.snappedToVertex_=o<=this.pixelTolerance_,this.snappedToVertex_&&(a=r>i?s[1]:s[0]),a}}return null}handlePointerMove_(t){const e=t.pixel,n=t.map;let r=this.snapToVertex_(e,n);r||(r=n.getCoordinateFromPixelInternal(e)),this.createOrUpdatePointerFeature_(r)}createOrUpdateExtentFeature_(t){let e=this.extentFeature_;return e?t?e.setGeometry((0,O.fromExtent)(t)):e.setGeometry(void 0):(e=t?new C.default((0,O.fromExtent)(t)):new C.default({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e}createOrUpdatePointerFeature_(t){let e=this.vertexFeature_;if(e){e.getGeometry().setCoordinates(t)}else e=new C.default(new M.default(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e);return e}handleEvent(t){return!t.originalEvent||!this.condition_(t)||(t.type!=o.A.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),super.handleEvent(t),!1)}handleDownEvent(t){const e=t.pixel,n=t.map,r=this.getExtentInternal();let i=this.snapToVertex_(e,n);const o=function(t){let e=null,n=null;return t[0]==r[0]?e=r[2]:t[0]==r[2]&&(e=r[0]),t[1]==r[1]?n=r[3]:t[1]==r[3]&&(n=r[1]),null!==e&&null!==n?[e,n]:null};if(i&&r){const t=i[0]==r[0]||i[0]==r[2]?i[0]:null,e=i[1]==r[1]||i[1]==r[3]?i[1]:null;null!==t&&null!==e?this.pointerHandler_=j(o(i)):null!==t?this.pointerHandler_=U(o([t,r[1]]),o([t,r[3]])):null!==e&&(this.pointerHandler_=U(o([r[0],e]),o([r[2],e])))}else i=n.getCoordinateFromPixelInternal(e),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=j(i);return!0}handleDragEvent(t){if(this.pointerHandler_){const e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}}handleUpEvent(t){this.pointerHandler_=null;const e=this.getExtentInternal();return e&&0!==(0,I.getArea)(e)||this.setExtent(null),!1}setMap(t){this.extentOverlay_.setMap(t),this.vertexOverlay_.setMap(t),super.setMap(t)}getExtent(){return(0,h.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())}getExtentInternal(){return this.extent_}setExtent(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new D(this.extent_))}}function L(){const t=(0,R.createEditingStyle)();return function(e,n){return t.Polygon}}function F(){const t=(0,R.createEditingStyle)();return function(e,n){return t.Point}}function j(t){return function(e){return(0,I.boundingExtent)([t,e])}}function U(t,e){return t[0]==e[0]?function(n){return(0,I.boundingExtent)([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return(0,I.boundingExtent)([t,[e[0],n[1]]])}:null}const B=$;var z=n(9888),G=n(6856),H=n(2585),W=n(1597);function q(t){return parseFloat(t)}function V(t){return function(t){return(0,W.toFixed)(t,5)}(t).toString()}function Y(t,e){return!isNaN(t)&&t!==q(V(e))}class X extends i.default{constructor(t){let e;super(),e=!0===(t=Object.assign({animate:!0,params:["x","y","z","r","l"],replace:!1,prefix:""},t||{})).animate?{duration:250}:t.animate?t.animate:null,this.animationOptions_=e,this.params_=t.params.reduce(((t,e)=>(t[e]=!0,t)),{}),this.replace_=t.replace,this.prefix_=t.prefix,this.listenerKeys_=[],this.initial_=!0,this.updateState_=this.updateState_.bind(this),this.trackedCallbacks_={},this.trackedValues_={}}getParamName_(t){return this.prefix_?this.prefix_+t:t}get_(t,e){return t.get(this.getParamName_(e))}set_(t,e,n){e in this.params_&&t.set(this.getParamName_(e),n)}delete_(t,e){e in this.params_&&t.delete(this.getParamName_(e))}setMap(t){const e=this.getMap();super.setMap(t),t!==e&&(e&&this.unregisterListeners_(e),t&&(this.initial_=!0,this.updateState_(),this.registerListeners_(t)))}registerListeners_(t){this.listenerKeys_.push((0,d.listen)(t,H.A.MOVEEND,this.updateUrl_,this),(0,d.listen)(t.getLayerGroup(),c.A.CHANGE,this.updateUrl_,this),(0,d.listen)(t,"change:layergroup",this.handleChangeLayerGroup_,this)),this.replace_||addEventListener("popstate",this.updateState_)}unregisterListeners_(t){for(let t=0,e=this.listenerKeys_.length;t<e;++t)(0,d.unlistenByKey)(this.listenerKeys_[t]);this.listenerKeys_.length=0,this.replace_||removeEventListener("popstate",this.updateState_);const e=new URL(window.location.href),n=e.searchParams;this.delete_(n,"x"),this.delete_(n,"y"),this.delete_(n,"z"),this.delete_(n,"r"),this.delete_(n,"l"),window.history.replaceState(null,"",e)}handleChangeLayerGroup_(){const t=this.getMap();t&&(this.unregisterListeners_(t),this.registerListeners_(t),this.initial_=!0,this.updateUrl_())}updateState_(){const t=new URL(window.location.href).searchParams;for(const e in this.trackedCallbacks_){const n=t.get(e);e in this.trackedCallbacks_&&n!==this.trackedValues_[e]&&(this.trackedValues_[e]=n,this.trackedCallbacks_[e](n))}const e=this.getMap();if(!e)return;const n=e.getView();if(!n)return;let r=!1;const i={},o=q(this.get_(t,"z"));"z"in this.params_&&Y(o,n.getZoom())&&(r=!0,i.zoom=o);const s=q(this.get_(t,"r"));"r"in this.params_&&Y(s,n.getRotation())&&(r=!0,i.rotation=s);const a=[q(this.get_(t,"x")),q(this.get_(t,"y"))];var l,c;("x"in this.params_||"y"in this.params_)&&(l=a,c=n.getCenter(),Y(l[0],c[0])||Y(l[1],c[1]))&&(r=!0,i.center=a),r&&(!this.initial_&&this.animationOptions_?n.animate(Object.assign(i,this.animationOptions_)):(i.center&&n.setCenter(i.center),"zoom"in i&&n.setZoom(i.zoom),"rotation"in i&&n.setRotation(i.rotation)));const u=e.getAllLayers(),h=this.get_(t,"l");if("l"in this.params_&&h&&h.length===u.length)for(let t=0,e=u.length;t<e;++t){const e=parseInt(h[t]);if(!isNaN(e)){const n=Boolean(e),r=u[t];r.getVisible()!==n&&r.setVisible(n)}}}track(t,e){this.trackedCallbacks_[t]=e;const n=new URL(window.location.href).searchParams.get(t);return this.trackedValues_[t]=n,n}update(t,e){const n=new URL(window.location.href),r=n.searchParams;null===e?r.delete(t):r.set(t,e),t in this.trackedValues_&&(this.trackedValues_[t]=e),this.updateHistory_(n)}updateUrl_(){const t=this.getMap();if(!t)return;const e=t.getView();if(!e)return;const n=e.getCenter(),r=e.getZoom(),i=e.getRotation(),o=t.getAllLayers(),s=new Array(o.length);for(let t=0,e=o.length;t<e;++t)s[t]=o[t].getVisible()?"1":"0";const a=new URL(window.location.href),l=a.searchParams;this.set_(l,"x",V(n[0])),this.set_(l,"y",V(n[1])),this.set_(l,"z",V(r)),this.set_(l,"r",V(i)),this.set_(l,"l",s.join("")),this.updateHistory_(a),this.initial_=!1}updateHistory_(t){t.href!==window.location.href&&(this.initial_||this.replace_?window.history.replaceState(history.state,"",t):window.history.pushState(null,"",t))}}const K=X;var Z=n(9132),J=n(8751),Q=n(3711),tt=n(5243),et=n(71),nt=n(2135),rt=n(3530),it=n(6514),ot=n(4087);const st="select";class at extends l.default{constructor(t,e,n,r){super(t),this.selected=e,this.deselected=n,this.mapBrowserEvent=r}}const lt={};class ct extends i.default{constructor(t){let e;if(super(),this.on,this.once,this.un,t=t||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=t.condition?t.condition:x.singleClick,this.addCondition_=t.addCondition?t.addCondition:x.never,this.removeCondition_=t.removeCondition?t.removeCondition:x.never,this.toggleCondition_=t.toggleCondition?t.toggleCondition:x.shiftKeyOnly,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:u.TRUE,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.style_=void 0!==t.style?t.style:function(){const t=(0,R.createEditingStyle)();return(0,it.extend)(t.Polygon,t.LineString),(0,it.extend)(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),this.features_=t.features||new et.default,t.layers)if("function"==typeof t.layers)e=t.layers;else{const n=t.layers;e=function(t){return n.includes(t)}}else e=u.TRUE;this.layerFilter_=e,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(t,e){this.featureLayerAssociation_[(0,ot.getUid)(t)]=e}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(t){return this.featureLayerAssociation_[(0,ot.getUid)(t)]}setHitTolerance(t){this.hitTolerance_=t}setMap(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(t),t?(this.features_.addEventListener(nt.A.ADD,this.boundAddFeature_),this.features_.addEventListener(nt.A.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(nt.A.ADD,this.boundAddFeature_),this.features_.removeEventListener(nt.A.REMOVE,this.boundRemoveFeature_))}addFeature_(t){const e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){const t=this.getMap().getAllLayers().find((function(t){if(t instanceof A.default&&t.getSource()&&t.getSource().hasFeature(e))return t}));t&&this.addFeatureLayerAssociation_(e,t)}}removeFeature_(t){this.style_&&this.restorePreviousStyle_(t.element)}getStyle(){return this.style_}applySelectedStyle_(t){const e=(0,ot.getUid)(t);e in lt||(lt[e]=t.getStyle()),t.setStyle(this.style_)}restorePreviousStyle_(t){const e=this.getMap().getInteractions().getArray();for(let n=e.length-1;n>=0;--n){const r=e[n];if(r!==this&&r instanceof ct&&r.getStyle()&&-1!==r.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(r.getStyle())}const n=(0,ot.getUid)(t);t.setStyle(lt[n]),delete lt[n]}removeFeatureLayerAssociation_(t){delete this.featureLayerAssociation_[(0,ot.getUid)(t)]}handleEvent(t){if(!this.condition_(t))return!0;const e=this.addCondition_(t),n=this.removeCondition_(t),r=this.toggleCondition_(t),i=!e&&!n&&!r,o=t.map,s=this.getFeatures(),a=[],l=[];if(i){(0,rt.clear)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,((t,e)=>{if(t instanceof C.default&&this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),l.push(t),!this.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=s.getLength()-1;t>=0;--t){const e=s.item(t),n=l.indexOf(e);n>-1?l.splice(n,1):(s.remove(e),a.push(e))}0!==l.length&&s.extend(l)}else{o.forEachFeatureAtPixel(t.pixel,((t,i)=>{if(t instanceof C.default&&this.filter_(t,i))return!e&&!r||s.getArray().includes(t)?(n||r)&&s.getArray().includes(t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(this.addFeatureLayerAssociation_(t,i),l.push(t)),!this.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=a.length-1;t>=0;--t)s.remove(a[t]);s.extend(l)}return(l.length>0||a.length>0)&&this.dispatchEvent(new at(st,l,a,t)),!0}}const ut=ct;var ht=n(7326),dt=n(4458),ft=n(9318)},6068:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(6292),i=n(3445);class o extends r.default{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==i.A.DBLCLICK){const n=t.originalEvent,i=t.map,o=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,a=i.getView();(0,r.zoomByDelta)(a,s,o,this.duration_),n.preventDefault(),e=!0}return!e}}const s=o},422:(t,e,n)=>{"use strict";n.d(e,{A:()=>m});var r=n(1685),i=n(1409),o=n(25),s=n(4142);class a extends o.A{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new s.default([n])}getGeometry(){return this.geometry_}}const l=a;var c=n(8704);const u="boxstart",h="boxdrag",d="boxend",f="boxcancel";class p extends r.default{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}class g extends i.default{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new l(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??c.mouseActionButton,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new p(h,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new p(e?d:f,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new p(u,t.coordinate,t)),!0)}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new p(f,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new p(f,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}const m=g},4473:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var r=n(1409),i=n(4238),o=n(8704),s=n(3474),a=n(9314);class l extends r.default{constructor(t){super({stopDown:i.FALSE}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:(0,o.all)(o.noModifierKeys,o.primaryAction);this.condition_=t.onFocusOnly?(0,o.all)(o.focusWithTabindex,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel((0,r.centroid)(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map.getView();(0,a.scale)(e,n.getResolution()),(0,a.rotate)(e,n.getRotation()),n.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),i=n.getCenterInternal(),o=e.getPixelFromCoordinateInternal(i),a=e.getCoordinateFromPixelInternal([o[0]-t*Math.cos(r),o[1]-t*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(a),duration:500,easing:s.easeOut})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const c=l},4051:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(1409),i=n(4238),o=n(8704),s=n(4498);class a extends r.default{constructor(t){t=t||{},super({stopDown:i.FALSE}),this.condition_=t.condition?t.condition:o.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!(0,o.mouseOnly)(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===s.b8)return;const r=e.getSize(),i=t.pixel,a=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){const t=a-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=a}handleUpEvent(t){if(!(0,o.mouseOnly)(t))return!0;return t.map.getView().endInteraction(this.duration_),!1}handleDownEvent(t){if(!(0,o.mouseOnly)(t))return!1;if((0,o.mouseActionButton)(t)&&this.condition_(t)){return t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}}const l=a},4423:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(422),i=n(3474),o=n(8704);class s extends r.A{constructor(t){super({condition:(t=t||{}).condition?t.condition:o.shiftKeyOnly,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let n=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(n),r=e.getResolutionForExtentInternal(t),i=e.getResolution()/r;n=n.clone(),n.scale(i*i)}e.fitInternal(n,{duration:this.duration_,easing:i.easeOut})}}const a=s},4620:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DrawEvent:()=>P,createBox:()=>H,createRegularPolygon:()=>G,default:()=>W});var r=n(4974),i=n(1685),o=n(6837),s=n(6717),a=n(4338),l=n(2187),c=n(1217),u=n(277),h=n(3445),d=n(6702),f=n(503),p=n(2871),g=n(4294),m=n(1409),y=n(4142),_=n(2757),v=n(731),b=n(4238),x=n(8704),S=n(915),w=n(1597),E=n(6895),T=n(9314),C=n(3407),M=n(2096);const A="drawstart",k="drawend",I="drawabort";class P extends i.default{constructor(t,e){super(t),this.feature=e}}function R(t,e){return(0,w.squaredDistance)(t[0],t[1],e[0],e[1])}function O(t,e){const n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function N(t,e,n){let r,i;e<n?(r=e,i=n):(r=n,i=e);const o=Math.ceil(r),s=Math.floor(i);if(o>s){return R(U(t,r),U(t,i))}let a=0;if(r<o){a+=R(U(t,r),O(t,o))}if(s<i){a+=R(O(t,s),U(t,i))}for(let e=o;e<s-1;++e){a+=R(O(t,e),O(t,e+1))}return a}function D(t,e,n){if(e instanceof c.default)L(t,e.getCoordinates(),!1,n);else if(e instanceof d.default){const r=e.getCoordinates();for(let e=0,i=r.length;e<i;++e)L(t,r[e],!1,n)}else if(e instanceof y.default){const r=e.getCoordinates();for(let e=0,i=r.length;e<i;++e)L(t,r[e],!0,n)}else if(e instanceof p.default){const r=e.getCoordinates();for(let e=0,i=r.length;e<i;++e){const i=r[e];for(let e=0,r=i.length;e<r;++e)L(t,i[e],!0,n)}}else if(e instanceof a.default){const r=e.getGeometries();for(let e=0;e<r.length;++e)D(t,r[e],n)}else;}const $={index:-1,endIndex:NaN};function L(t,e,n,r){const i=t[0],o=t[1];for(let t=0,s=e.length-1;t<s;++t){const s=j(i,o,e[t],e[t+1]);if(0===s.squaredDistance){const i=t+s.along;return void r.push({coordinates:e,ring:n,startIndex:i,endIndex:i})}}}const F={along:0,squaredDistance:0};function j(t,e,n,r){const i=n[0],o=n[1],s=r[0]-i,a=r[1]-o;let l=0,c=i,u=o;return 0===s&&0===a||(l=(0,w.clamp)(((t-i)*s+(e-o)*a)/(s*s+a*a),0,1),c+=s*l,u+=a*l),F.along=l,F.squaredDistance=(0,w.toFixed)((0,w.squaredDistance)(t,e,c,u),10),F}function U(t,e){const n=t.length;let r=Math.floor(e);const i=e-r;r>=n?r-=n:r<0&&(r+=n);let o=r+1;o>=n&&(o-=n);const s=t[r],a=s[0],l=s[1],c=t[o];return[a+(c[0]-a)*i,l+(c[1]-l)*i]}class B extends m.default{constructor(t){const e=t;e.stopDown||(e.stopDown=b.FALSE),super(e),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=function(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+t)}}(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:b.TRUE,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let n=t.geometryFunction;if(!n){const t=this.mode_;if("Circle"===t)n=(t,e,n)=>{const i=e||new r.default([NaN,NaN]),o=(0,C.fromUserCoordinate)(t[0],n),s=(0,T.squaredDistance)(o,(0,C.fromUserCoordinate)(t[t.length-1],n));i.setCenterAndRadius(o,Math.sqrt(s),this.geometryLayout_);const a=(0,C.getUserProjection)();return a&&i.transform(n,a),i};else{let e;"Point"===t?e=g.default:"LineString"===t?e=c.default:"Polygon"===t&&(e=y.default),n=(n,r,i)=>(r?"Polygon"===t?n[0].length?r.setCoordinates([n[0].concat([n[0][0]])],this.geometryLayout_):r.setCoordinates([],this.geometryLayout_):r.setCoordinates(n,this.geometryLayout_):r=new e(n,this.geometryLayout_),r)}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new _.default({source:new v.default({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:z(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:x.noModifierKeys,this.freehandCondition_,t.freehand?this.freehandCondition_=x.always:this.freehandCondition_=t.freehandCondition?t.freehandCondition:x.shiftKeyOnly,this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(l.A.ACTIVE,this.updateState_)}setTrace(t){let e;e=t?!0===t?x.always:t:x.never,this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===o.A.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(t);let e=t.type===h.A.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===h.A.POINTERDRAG){Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===h.A.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===h.A.POINTERDOWN?n=!1:e&&this.getPointerCount()<2?(n=t.type===h.A.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===h.A.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t)):t.type===h.A.DBLCLICK&&(n=!1),super.handleEvent(t)&&n}handleDownEvent(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((()=>{this.handlePointerMove_(new u.default(h.A.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active)return void this.deactivateTrace_();const e=this.getMap(),n=e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),r=e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_]),i=(0,S.boundingExtent)([n,r]),o=this.traceSource_.getFeaturesInExtent(i);if(0===o.length)return;const s=function(t,e){const n=[];for(let r=0;r<e.length;++r)D(t,e[r].getGeometry(),n);return n}(t.coordinate,o);s.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:s,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){const n=t.startIndex<=t.endIndex;n===t.startIndex<=e?n&&e>t.endIndex||!n&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(n&&e<t.endIndex||!n&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let n=0;if(t<e){const r=Math.ceil(t);let i=Math.floor(e);i===e&&(i-=1),n=i-r+1}else{const r=Math.floor(t);let i=Math.ceil(e);i===e&&(i+=1),n=r-i+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(t,e,n){if(e===n)return;const r=[];if(e<n){const i=Math.ceil(e);let o=Math.floor(n);o===n&&(o-=1);for(let e=i;e<=o;++e)r.push(O(t.coordinates,e))}else{const i=Math.floor(e);let o=Math.ceil(n);o===n&&(o+=1);for(let e=i;e>=o;--e)r.push(O(t.coordinates,e))}r.length&&this.appendCoordinates(r)}updateTrace_(t){const e=this.traceState_;if(!e.active)return;if(-1===e.targetIndex&&(0,T.distance)(e.startPx,t.pixel)<this.snapTolerance_)return;const n=function(t,e,n,r){const i=t[0],o=t[1];let s=1/0,a=-1,l=NaN;for(let t=0;t<e.targets.length;++t){const n=e.targets[t],r=n.coordinates;let c,u=1/0;for(let t=0;t<r.length-1;++t){const e=j(i,o,r[t],r[t+1]);e.squaredDistance<u&&(u=e.squaredDistance,c=t+e.along)}u<s&&(s=u,n.ring&&e.targetIndex===t&&(n.endIndex>n.startIndex?c<n.startIndex&&(c+=r.length):n.endIndex<n.startIndex&&c>n.startIndex&&(c-=r.length)),l=c,a=t)}const c=e.targets[a];let u=c.ring;if(e.targetIndex===a&&u){const t=U(c.coordinates,l),i=n.getPixelFromCoordinate(t);(0,T.distance)(i,e.startPx)>r&&(u=!1)}if(u){const t=c.coordinates,e=t.length,n=c.startIndex,r=l;if(n<r){const i=N(t,n,r);N(t,n,r-e)<i&&(l-=e)}else{const i=N(t,n,r);N(t,n,r+e)<i&&(l+=e)}}return $.index=a,$.endIndex=l,$}(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==n.index){if(-1!==e.targetIndex){const t=e.targets[e.targetIndex];this.removeTracedCoordinates_(t.startIndex,t.endIndex)}const t=e.targets[n.index];this.addTracedCoordinates_(t,t.startIndex,n.endIndex)}else{const t=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(t,n.endIndex)}e.targetIndex=n.index;const r=e.targets[e.targetIndex];r.endIndex=n.endIndex;const i=U(r.coordinates,r.endIndex),o=this.getMap().getPixelFromCoordinate(i);t.coordinate=i,t.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(t){let e=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);const n=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){const r=!this.finishCoordinate_;r&&this.startDrawing_(t.coordinate),!r&&this.freehand_?this.finishDrawing():this.freehand_||r&&"Point"!==this.mode_||(this.atFinish_(t.pixel,n)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const e=this.downPx_,n=t.pixel,r=e[0]-n[0],i=e[1]-n[1],o=r*r+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(t),this.modifyDrawing_(t.coordinate)):this.createOrUpdateSketchPoint_(t.coordinate.slice())}atFinish_(t,e){let n=!1;if(this.sketchFeature_){let r=!1,i=[this.finishCoordinate_];const o=this.mode_;if("Point"===o)n=!0;else if("Circle"===o)n=2===this.sketchCoords_.length;else if("LineString"===o)r=!e&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===o){const t=this.sketchCoords_;r=t[0].length>this.minPoints_,i=[t[0][0],t[0][t[0].length-2]],i=e?[t[0][0]]:[t[0][0],t[0][t[0].length-2]]}if(r){const e=this.getMap();for(let r=0,o=i.length;r<o;r++){const o=i[r],s=e.getPixelFromCoordinate(o),a=t[0]-s[0],l=t[1]-s[1],c=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(a*a+l*l)<=c,n){this.finishCoordinate_=o;break}}}}return n}createOrUpdateSketchPoint_(t){if(this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(t)}else this.sketchPoint_=new s.default(new g.default(t)),this.updateSketchFeatures_()}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new s.default);const e=t.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new c.default(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(t){const e=this.getMap().getView().getProjection(),n=(0,M.getStrideForLayout)(this.geometryLayout_);for(;t.length<n;)t.push(0);this.finishCoordinate_=t,"Point"===this.mode_?this.sketchCoords_=t.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new s.default(new c.default(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new s.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new P(A,this.sketchFeature_))}modifyDrawing_(t){const e=this.getMap(),n=this.sketchFeature_.getGeometry(),r=e.getView().getProjection(),i=(0,M.getStrideForLayout)(this.geometryLayout_);let o,s;for(;t.length<i;)t.push(0);if("Point"===this.mode_?s=this.sketchCoords_:"Polygon"===this.mode_?(o=this.sketchCoords_[0],s=o[o.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(o=this.sketchCoords_,s=o[o.length-1]),s[0]=t[0],s[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,r),this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(t)}if("Polygon"===n.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}addToDrawing_(t){const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let r,i;const o=this.mode_;return"LineString"===o||"Circle"===o?(this.finishCoordinate_=t.slice(),i=this.sketchCoords_,i.length>=this.maxPoints_&&(this.freehand_?i.pop():r=!0),i.push(t.slice()),this.geometryFunction_(i,e,n)):"Polygon"===o&&(i=this.sketchCoords_[0],i.length>=this.maxPoints_&&(this.freehand_?i.pop():r=!0),i.push(t.slice()),r&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,e,n)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),r?this.finishDrawing():this.sketchFeature_}removeLastPoints_(t){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;for(let i=0;i<t;++i){let t;if("LineString"===r||"Circle"===r){if(t=this.sketchCoords_,t.splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();const e=this.finishCoordinate_.slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}this.geometryFunction_(t,e,n),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if("Polygon"===r){t=this.sketchCoords_[0],t.splice(-2,1);const r=this.sketchLine_.getGeometry();if(t.length>=2){const e=t[t.length-2].slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}r.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}if(1===t.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const t=this.abortDrawing_();if(!t)return null;let e=this.sketchCoords_;const n=t.getGeometry(),r=this.getMap().getView().getProjection();return"LineString"===this.mode_?(e.pop(),this.geometryFunction_(e,n,r)):"Polygon"===this.mode_&&(e[0].pop(),this.geometryFunction_(e,n,r),e=n.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new f.default([e])):"MultiLineString"===this.type_?t.setGeometry(new d.default([e])):"MultiPolygon"===this.type_&&t.setGeometry(new p.default([e])),this.dispatchEvent(new P(k,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t),t}abortDrawing_(){this.finishCoordinate_=null;const t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){const t=this.abortDrawing_();t&&this.dispatchEvent(new P(I,t))}appendCoordinates(t){const e=this.mode_,n=!this.sketchFeature_;let r;if(n&&this.startDrawing_(t[0]),"LineString"===e||"Circle"===e)r=this.sketchCoords_;else{if("Polygon"!==e)return;r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&r.shift(),r.pop();for(let e=0;e<t.length;e++)this.addToDrawing_(t[e]);const i=t[t.length-1];this.sketchFeature_=this.addToDrawing_(i),this.modifyDrawing_(i)}extend(t){const e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new s.default(new g.default(n)),this.updateSketchFeatures_(),this.dispatchEvent(new P(A,this.sketchFeature_))}updateSketchFeatures_(){const t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);const e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){const t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)}}function z(){const t=(0,E.createEditingStyle)();return function(e,n){return t[e.getGeometry().getType()]}}function G(t,e){return function(n,i,o){const s=(0,C.fromUserCoordinate)(n[0],o),a=(0,C.fromUserCoordinate)(n[n.length-1],o),l=Math.sqrt((0,T.squaredDistance)(s,a));i=i||(0,y.fromCircle)(new r.default(s),t);let c=e;if(!e&&0!==e){const t=a[0]-s[0],e=a[1]-s[1];c=Math.atan2(e,t)}(0,y.makeRegular)(i,s,l,c);const u=(0,C.getUserProjection)();return u&&i.transform(o,u),i}}function H(){return function(t,e,n){const r=(0,S.boundingExtent)([t[0],t[t.length-1]].map((function(t){return(0,C.fromUserCoordinate)(t,n)}))),i=[[(0,S.getBottomLeft)(r),(0,S.getBottomRight)(r),(0,S.getTopRight)(r),(0,S.getTopLeft)(r),(0,S.getBottomLeft)(r)]];e?e.setCoordinates(i):e=new y.default(i);const o=(0,C.getUserProjection)();return o&&e.transform(n,o),e}}const W=B},6292:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c,pan:()=>a,zoomByDelta:()=>l});var r=n(4120),i=n(2187),o=n(3474);class s extends r.default{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(i.A.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(i.A.ACTIVE,t)}setMap(t){this.map_=t}}function a(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:o.linear,center:t.getConstrainedCenter(i)})}}function l(t,e,n,r){const i=t.getZoom();if(void 0===i)return;const s=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:o.easeOut})}const c=s},9888:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(6837),i=n(6292);const o="ArrowLeft",s="ArrowUp",a="ArrowRight",l="ArrowDown";var c=n(8704),u=n(9314);class h extends i.default{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return(0,c.noModifierKeys)(t)&&(0,c.targetNotEditable)(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==r.A.KEYDOWN){const n=t.originalEvent,r=n.key;if(this.condition_(t)&&(r==l||r==o||r==a||r==s)){const s=t.map.getView(),c=s.getResolution()*this.pixelDelta_;let h=0,d=0;r==l?d=-c:r==o?h=-c:r==a?h=c:d=c;const f=[h,d];(0,u.rotate)(f,s.getRotation()),(0,i.pan)(s,f,this.duration_),n.preventDefault(),e=!0}}return!e}}const d=h},6856:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(6837),i=n(6292),o=n(8704);class s extends i.default{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!(0,o.platformModifierKey)(t)&&(0,o.targetNotEditable)(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==r.A.KEYDOWN||t.type==r.A.KEYPRESS){const n=t.originalEvent,r=n.key;if(this.condition_(t)&&("+"===r||"-"===r)){const o=t.map,s="+"===r?this.delta_:-this.delta_,a=o.getView();(0,i.zoomByDelta)(a,s,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}}const a=s},9132:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ModifyEvent:()=>M,default:()=>O});var r=n(71),i=n(2135),o=n(1685),s=n(6837),a=n(6717),l=n(3445),c=n(4294),u=n(1409),h=n(5902),d=n(8280),f=n(2757),p=n(731),g=n(8704),m=n(915),y=n(9314),_=n(6895),v=n(6514),b=n(4142),x=n(3407),S=n(4087);const w=[0,0,0,0],E=[],T="modifystart",C="modifyend";class M extends o.default{constructor(t,e,n){super(t),this.features=e,this.mapBrowserEvent=n}}class A extends u.default{constructor(t){let e;if(super(t),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=t.condition?t.condition:g.primaryAction,this.defaultDeleteCondition_=function(t){return(0,g.altKeyOnly)(t)&&(0,g.singleClick)(t)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:g.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new h.default,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new f.default({source:new p.default({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:R(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null,t.features?e=t.features:t.source&&(this.source_=t.source,e=new r.default(this.source_.getFeatures()),this.source_.addEventListener(d.A.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(d.A.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!e)throw new Error("The modify interaction requires features, a source or a layer");t.hitDetection&&(this.hitDetection_=t.hitDetection),this.features_=e,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(i.A.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(i.A.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=void 0===t.snapToPointer?!this.hitDetection_:t.snapToPointer}addFeature_(t){const e=t.getGeometry();if(e){const n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}const n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),t.addEventListener(s.A.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new r.default;const n=this.featuresBeingModified_.getArray();for(let t=0,r=e.length;t<r;++t){const r=e[t];for(let t=0,e=r.length;t<e;++t){const e=r[t].feature;e&&!n.includes(e)&&this.featuresBeingModified_.push(e)}}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new M(T,this.featuresBeingModified_,t))}}removeFeature_(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(s.A.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(t){const e=this.rBush_,n=[];e.forEach((function(e){t===e.feature&&n.push(e)}));for(let t=n.length-1;t>=0;--t){const r=n[t];for(let t=this.dragSegments_.length-1;t>=0;--t)this.dragSegments_[t][0]===r&&this.dragSegments_.splice(t,1);e.remove(r)}}setActive(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(t)}setMap(t){this.overlay_.setMap(t),super.setMap(t)}getOverlay(){return this.overlay_}handleSourceAdd_(t){t.feature&&this.features_.push(t.feature)}handleSourceRemove_(t){t.feature&&this.features_.remove(t.feature)}handleFeatureAdd_(t){this.addFeature_(t.element)}handleFeatureChange_(t){if(!this.changingFeature_){const e=t.target;this.removeFeature_(e),this.addFeature_(e)}}handleFeatureRemove_(t){this.removeFeature_(t.element)}writePointGeometry_(t,e){const n=e.getCoordinates(),r={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)}writeMultiPointGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length;r<i;++r){const i=n[r],o={feature:t,geometry:e,depth:[r],index:r,segment:[i,i]};this.rBush_.insert(e.getExtent(),o)}}writeLineStringGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length-1;r<i;++r){const i=n.slice(r,r+2),o={feature:t,geometry:e,index:r,segment:i};this.rBush_.insert((0,m.boundingExtent)(i),o)}}writeMultiLineStringGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length;r<i;++r){const i=n[r];for(let n=0,o=i.length-1;n<o;++n){const o=i.slice(n,n+2),s={feature:t,geometry:e,depth:[r],index:n,segment:o};this.rBush_.insert((0,m.boundingExtent)(o),s)}}}writePolygonGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length;r<i;++r){const i=n[r];for(let n=0,o=i.length-1;n<o;++n){const o=i.slice(n,n+2),s={feature:t,geometry:e,depth:[r],index:n,segment:o};this.rBush_.insert((0,m.boundingExtent)(o),s)}}}writeMultiPolygonGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length;r<i;++r){const i=n[r];for(let n=0,o=i.length;n<o;++n){const o=i[n];for(let i=0,s=o.length-1;i<s;++i){const s=o.slice(i,i+2),a={feature:t,geometry:e,depth:[n,r],index:i,segment:s};this.rBush_.insert((0,m.boundingExtent)(s),a)}}}}writeCircleGeometry_(t,e){const n=e.getCenter(),r={feature:t,geometry:e,index:0,segment:[n,n]},i={feature:t,geometry:e,index:1,segment:[n,n]},o=[r,i];r.featureSegments=o,i.featureSegments=o,this.rBush_.insert((0,m.createOrUpdateFromCoordinate)(n),r);let s=e;const a=(0,x.getUserProjection)();if(a&&this.getMap()){const t=this.getMap().getView().getProjection();s=s.clone().transform(a,t),s=(0,b.fromCircle)(s).transform(t,a)}this.rBush_.insert(s.getExtent(),i)}writeGeometryCollectionGeometry_(t,e){const n=e.getGeometriesArray();for(let e=0;e<n.length;++e){const r=n[e];(0,this.SEGMENT_WRITERS_[r.getType()])(t,r)}}createOrUpdateVertexFeature_(t,e,n){let r=this.vertexFeature_;if(r){r.getGeometry().setCoordinates(t)}else r=new a.default(new c.default(t)),this.vertexFeature_=r,this.overlay_.getSource().addFeature(r);return r.set("features",e),r.set("geometries",n),r}handleEvent(t){if(!t.originalEvent)return!0;let e;return this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=l.A.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(e=!(t.type!=l.A.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==l.A.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(t)&&!e}handleDragEvent(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);const e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],n=[],r=[];for(let i=0,o=this.dragSegments_.length;i<o;++i){const o=this.dragSegments_[i],s=o[0],a=s.feature;n.includes(a)||n.push(a);const l=s.geometry;r.includes(l)||r.push(l);const c=s.depth;let u;const h=s.segment,d=o[1];for(;e.length<l.getStride();)e.push(h[d][e.length]);switch(l.getType()){case"Point":u=e,h[0]=e,h[1]=e;break;case"MultiPoint":u=l.getCoordinates(),u[s.index]=e,h[0]=e,h[1]=e;break;case"LineString":u=l.getCoordinates(),u[s.index+d]=e,h[d]=e;break;case"MultiLineString":case"Polygon":u=l.getCoordinates(),u[c[0]][s.index+d]=e,h[d]=e;break;case"MultiPolygon":u=l.getCoordinates(),u[c[1]][c[0]][s.index+d]=e,h[d]=e;break;case"Circle":if(h[0]=e,h[1]=e,0===s.index)this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;const n=t.map.getView().getProjection();let r=(0,y.distance)((0,x.fromUserCoordinate)(l.getCenter(),n),(0,x.fromUserCoordinate)(e,n));const i=(0,x.getUserProjection)();if(i){const t=l.clone().transform(i,n);t.setRadius(r),r=t.transform(n,i).getRadius()}l.setRadius(r),this.changingFeature_=!1}}u&&this.setGeometryCoordinates_(l,u)}this.createOrUpdateVertexFeature_(e,n,r)}handleDownEvent(t){if(!this.condition_(t))return!1;const e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;const n=this.vertexFeature_;if(n){const r=t.map.getView().getProjection(),i=[],o=n.getGeometry().getCoordinates(),s=(0,m.boundingExtent)([o]),a=this.rBush_.getInExtent(s),l={};a.sort(k);for(let n=0,s=a.length;n<s;++n){const s=a[n],c=s.segment;let u=(0,S.getUid)(s.geometry);const h=s.depth;if(h&&(u+="-"+h.join("-")),l[u]||(l[u]=new Array(2)),"Circle"!==s.geometry.getType()||1!==s.index)if(!(0,y.equals)(c[0],o)||l[u][0])if(!(0,y.equals)(c[1],o)||l[u][1])(0,S.getUid)(c)in this.vertexSegments_&&!l[u][0]&&!l[u][1]&&this.insertVertexCondition_(t)&&i.push(s);else{if(l[u][0]&&0===l[u][0].index){let t=s.geometry.getCoordinates();switch(s.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":t=t[h[1]];case"Polygon":if(s.index!==t[h[0]].length-2)continue}}this.dragSegments_.push([s,1]),l[u][1]=s}else this.dragSegments_.push([s,0]),l[u][0]=s;else{const t=P(e,s,r);(0,y.equals)(t,o)&&!l[u][0]&&(this.dragSegments_.push([s,0]),l[u][0]=s)}}i.length&&this.willModifyFeatures_(t,[i]);for(let t=i.length-1;t>=0;--t)this.insertVertex_(i[t],o)}return!!this.vertexFeature_}handleUpEvent(t){for(let e=this.dragSegments_.length-1;e>=0;--e){const n=this.dragSegments_[e][0],r=n.geometry;if("Circle"===r.getType()){const e=r.getCenter(),i=n.featureSegments[0],o=n.featureSegments[1];i.segment[0]=e,i.segment[1]=e,o.segment[0]=e,o.segment[1]=e,this.rBush_.update((0,m.createOrUpdateFromCoordinate)(e),i);let s=r;const a=(0,x.getUserProjection)();if(a){const e=t.map.getView().getProjection();s=s.clone().transform(a,e),s=(0,b.fromCircle)(s).transform(e,a)}this.rBush_.update(s.getExtent(),o)}else this.rBush_.update((0,m.boundingExtent)(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new M(C,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1}handlePointerMove_(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)}handlePointerAtPixel_(t,e,n){const r=n||e.getCoordinateFromPixel(t),i=e.getView().getProjection(),o=function(t,e){return I(r,t,i)-I(r,e,i)};let s,l;if(this.hitDetection_){const n="object"==typeof this.hitDetection_?t=>t===this.hitDetection_:void 0;e.forEachFeatureAtPixel(t,((t,e,n)=>{n&&"Point"===n.getType()&&(n=new c.default((0,x.toUserCoordinate)(n.getCoordinates(),i)));const r=n||t.getGeometry();if(t instanceof a.default&&this.features_.getArray().includes(t)){l=r;const e=t.getGeometry().getFlatCoordinates().slice(0,2);s=[{feature:t,geometry:l,segment:[e,e]}]}return!0}),{layerFilter:n})}if(!s){const t=(0,x.fromUserExtent)((0,m.createOrUpdateFromCoordinate)(r,w),i),n=e.getView().getResolution()*this.pixelTolerance_,o=(0,x.toUserExtent)((0,m.buffer)(t,n,w),i);s=this.rBush_.getInExtent(o)}if(s&&s.length>0){const n=s.sort(o)[0],a=n.segment;let c=P(r,n,i);const u=e.getPixelFromCoordinate(c);let h=(0,y.distance)(t,u);if(l||h<=this.pixelTolerance_){const t={};if(t[(0,S.getUid)(a)]=!0,this.snapToPointer_||(this.delta_[0]=c[0]-r[0],this.delta_[1]=c[1]-r[1]),"Circle"===n.geometry.getType()&&1===n.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c,[n.feature],[n.geometry]);else{const r=e.getPixelFromCoordinate(a[0]),i=e.getPixelFromCoordinate(a[1]),o=(0,y.squaredDistance)(u,r),l=(0,y.squaredDistance)(u,i);h=Math.sqrt(Math.min(o,l)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(c=o>l?a[1]:a[0]),this.createOrUpdateVertexFeature_(c,[n.feature],[n.geometry]);const d={};d[(0,S.getUid)(n.geometry)]=!0;for(let e=1,n=s.length;e<n;++e){const n=s[e].segment;if(!((0,y.equals)(a[0],n[0])&&(0,y.equals)(a[1],n[1])||(0,y.equals)(a[0],n[1])&&(0,y.equals)(a[1],n[0])))break;{const r=(0,S.getUid)(s[e].geometry);r in d||(d[r]=!0,t[(0,S.getUid)(n)]=!0)}}}return void(this.vertexSegments_=t)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(t,e){const n=t.segment,r=t.feature,i=t.geometry,o=t.depth,s=t.index;let a;for(;e.length<i.getStride();)e.push(0);switch(i.getType()){case"MultiLineString":case"Polygon":a=i.getCoordinates(),a[o[0]].splice(s+1,0,e);break;case"MultiPolygon":a=i.getCoordinates(),a[o[1]][o[0]].splice(s+1,0,e);break;case"LineString":a=i.getCoordinates(),a.splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(i,a);const l=this.rBush_;l.remove(t),this.updateSegmentIndices_(i,s,o,1);const c={segment:[n[0],e],feature:r,geometry:i,depth:o,index:s};l.insert((0,m.boundingExtent)(c.segment),c),this.dragSegments_.push([c,1]);const u={segment:[e,n[1]],feature:r,geometry:i,depth:o,index:s+1};l.insert((0,m.boundingExtent)(u.segment),u),this.dragSegments_.push([u,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=l.A.POINTERDRAG){const t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);const e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new M(C,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1}removeVertex_(){const t=this.dragSegments_,e={};let n,r,i,o,s,a,l,c,u,h,d,f=!1;for(s=t.length-1;s>=0;--s)i=t[s],h=i[0],d=(0,S.getUid)(h.feature),h.depth&&(d+="-"+h.depth.join("-")),d in e||(e[d]={}),0===i[1]?(e[d].right=h,e[d].index=h.index):1==i[1]&&(e[d].left=h,e[d].index=h.index+1);for(d in e){switch(u=e[d].right,l=e[d].left,a=e[d].index,c=a-1,h=void 0!==l?l:u,c<0&&(c=0),o=h.geometry,r=o.getCoordinates(),n=r,f=!1,o.getType()){case"MultiLineString":r[h.depth[0]].length>2&&(r[h.depth[0]].splice(a,1),f=!0);break;case"LineString":r.length>2&&(r.splice(a,1),f=!0);break;case"MultiPolygon":n=n[h.depth[1]];case"Polygon":n=n[h.depth[0]],n.length>4&&(a==n.length-1&&(a=0),n.splice(a,1),f=!0,0===a&&(n.pop(),n.push(n[0]),c=n.length-1))}if(f){this.setGeometryCoordinates_(o,r);const e=[];if(void 0!==l&&(this.rBush_.remove(l),e.push(l.segment[0])),void 0!==u&&(this.rBush_.remove(u),e.push(u.segment[1])),void 0!==l&&void 0!==u){const t={depth:h.depth,feature:h.feature,geometry:h.geometry,index:c,segment:e};this.rBush_.insert((0,m.boundingExtent)(t.segment),t)}this.updateSegmentIndices_(o,a,h.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return f}setGeometryCoordinates_(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1}updateSegmentIndices_(t,e,n,r){this.rBush_.forEachInExtent(t.getExtent(),(function(i){i.geometry===t&&(void 0===n||void 0===i.depth||(0,v.equals)(i.depth,n))&&i.index>e&&(i.index+=r)}))}}function k(t,e){return t.index-e.index}function I(t,e,n){const r=e.geometry;if("Circle"===r.getType()){let i=r;if(1===e.index){const e=(0,x.getUserProjection)();e&&(i=i.clone().transform(e,n));const r=(0,y.squaredDistance)(i.getCenter(),(0,x.fromUserCoordinate)(t,n)),o=Math.sqrt(r)-i.getRadius();return o*o}}const i=(0,x.fromUserCoordinate)(t,n);return E[0]=(0,x.fromUserCoordinate)(e.segment[0],n),E[1]=(0,x.fromUserCoordinate)(e.segment[1],n),(0,y.squaredDistanceToSegment)(i,E)}function P(t,e,n){const r=e.geometry;if("Circle"===r.getType()&&1===e.index){let e=r;const i=(0,x.getUserProjection)();return i&&(e=e.clone().transform(i,n)),(0,x.toUserCoordinate)(e.getClosestPoint((0,x.fromUserCoordinate)(t,n)),n)}const i=(0,x.fromUserCoordinate)(t,n);return E[0]=(0,x.fromUserCoordinate)(e.segment[0],n),E[1]=(0,x.fromUserCoordinate)(e.segment[1],n),(0,x.toUserCoordinate)((0,y.closestOnSegment)(i,E),n)}function R(){const t=(0,_.createEditingStyle)();return function(e,n){return t.Point}}const O=A},8751:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(6837),i=n(6292),o=n(7771),s=n(8704),a=n(1597);class l extends i.default{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:s.always;this.condition_=t.onFocusOnly?(0,s.all)(s.focusWithTabindex,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==r.A.WHEEL)return!0;const e=t.map,n=t.originalEvent;let i;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel),t.type==r.A.WHEEL&&(i=n.deltaY,o.FIREFOX&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=o.DEVICE_PIXEL_RATIO),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)),0===i)return!1;this.lastDelta_=i;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const a=e.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=i;const l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),l),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-(0,a.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),(0,i.zoomByDelta)(e,n,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}const c=l},3711:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(1409),i=n(4238),o=n(4498);class s extends r.default{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=i.FALSE),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=s-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=s;const a=t.map,l=a.getView();l.getConstraints().rotation!==o.b8&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel((0,r.centroid)(this.targetPointers))),this.rotating_&&(a.render(),l.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){return t.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}const a=s},5243:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1409),i=n(4238);class o extends r.default{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=i.FALSE),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,s=n.clientY-i.clientY,a=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;const l=t.map,c=l.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel((0,r.centroid)(this.targetPointers))),l.render(),c.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}const s=o},1409:(t,e,n)=>{"use strict";n.r(e),n.d(e,{centroid:()=>s,default:()=>a});var r=n(6292),i=n(3445);class o extends r.default{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i.A.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==i.A.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==i.A.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==i.A.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function s(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}const a=o},2187:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={ACTIVE:"active"}},7326:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>x});var r=n(2135),i=n(6837),o=n(1409),s=n(5902),a=n(8280),l=n(4238),c=n(1685);const u="snap";class h extends c.default{constructor(t,e){super(t),this.vertex=e.vertex,this.vertexPixel=e.vertexPixel,this.feature=e.feature,this.segment=e.segment}}var d=n(915),f=n(9314),p=n(4142),g=n(3407),m=n(4087),y=n(9438);function _(t){return t.feature?t.feature:t.element?t.element:null}const v=[];class b extends o.default{constructor(t){const e=t=t||{};e.handleDownEvent||(e.handleDownEvent=l.TRUE),e.stopDown||(e.stopDown=l.FALSE),super(e),this.on,this.once,this.un,this.source_=t.source?t.source:null,this.vertex_=void 0===t.vertex||t.vertex,this.edge_=void 0===t.edge||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.rBush_=new s.default,this.GEOMETRY_SEGMENTERS_={Point:this.segmentPointGeometry_.bind(this),LineString:this.segmentLineStringGeometry_.bind(this),LinearRing:this.segmentLineStringGeometry_.bind(this),Polygon:this.segmentPolygonGeometry_.bind(this),MultiPoint:this.segmentMultiPointGeometry_.bind(this),MultiLineString:this.segmentMultiLineStringGeometry_.bind(this),MultiPolygon:this.segmentMultiPolygonGeometry_.bind(this),GeometryCollection:this.segmentGeometryCollectionGeometry_.bind(this),Circle:this.segmentCircleGeometry_.bind(this)}}addFeature(t,e){e=void 0===e||e;const n=(0,m.getUid)(t),r=t.getGeometry();if(r){const e=this.GEOMETRY_SEGMENTERS_[r.getType()];if(e){this.indexedFeaturesExtents_[n]=r.getExtent((0,d.createEmpty)());const i=[];if(e(i,r),1===i.length)this.rBush_.insert((0,d.boundingExtent)(i[0]),{feature:t,segment:i[0]});else if(i.length>1){const e=i.map((t=>(0,d.boundingExtent)(t))),n=i.map((e=>({feature:t,segment:e})));this.rBush_.load(e,n)}}}e&&(this.featureChangeListenerKeys_[n]=(0,y.listen)(t,i.A.CHANGE,this.handleFeatureChange_,this))}getFeatures_(){let t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t}handleEvent(t){const e=this.snapTo(t.pixel,t.coordinate,t.map);return e&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel,this.dispatchEvent(new h(u,{vertex:t.coordinate,vertexPixel:t.pixel,feature:e.feature,segment:e.segment}))),super.handleEvent(t)}handleFeatureAdd_(t){const e=_(t);e&&this.addFeature(e)}handleFeatureRemove_(t){const e=_(t);e&&this.removeFeature(e)}handleFeatureChange_(t){const e=t.target;if(this.handlingDownUpSequence){const t=(0,m.getUid)(e);t in this.pendingFeatures_||(this.pendingFeatures_[t]=e)}else this.updateFeature_(e)}handleUpEvent(t){const e=Object.values(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}removeFeature(t,e){const n=void 0===e||e,r=(0,m.getUid)(t),i=this.indexedFeaturesExtents_[r];if(i){const e=this.rBush_,n=[];e.forEachInExtent(i,(function(e){t===e.feature&&n.push(e)}));for(let t=n.length-1;t>=0;--t)e.remove(n[t])}n&&((0,y.unlistenByKey)(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])}setMap(t){const e=this.getMap(),n=this.featuresListenerKeys_,i=this.getFeatures_();e&&(n.forEach(y.unlistenByKey),n.length=0,this.rBush_.clear(),Object.values(this.featureChangeListenerKeys_).forEach(y.unlistenByKey),this.featureChangeListenerKeys_={}),super.setMap(t),t&&(this.features_?n.push((0,y.listen)(this.features_,r.A.ADD,this.handleFeatureAdd_,this),(0,y.listen)(this.features_,r.A.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push((0,y.listen)(this.source_,a.A.ADDFEATURE,this.handleFeatureAdd_,this),(0,y.listen)(this.source_,a.A.REMOVEFEATURE,this.handleFeatureRemove_,this)),i.forEach((t=>this.addFeature(t))))}snapTo(t,e,n){const r=n.getView().getProjection(),i=(0,g.fromUserCoordinate)(e,r),o=(0,g.toUserExtent)((0,d.buffer)((0,d.boundingExtent)([i]),n.getView().getResolution()*this.pixelTolerance_),r),s=this.rBush_.getInExtent(o),a=s.length;if(0===a)return null;let l,c,u=1/0,h=null;const p=this.pixelTolerance_*this.pixelTolerance_,m=()=>{if(l){const e=n.getPixelFromCoordinate(l);if((0,f.squaredDistance)(t,e)<=p)return{vertex:l,vertexPixel:[Math.round(e[0]),Math.round(e[1])],feature:c,segment:h}}return null};if(this.vertex_){for(let t=0;t<a;++t){const e=s[t];"Circle"!==e.feature.getGeometry().getType()&&e.segment.forEach((t=>{const n=(0,g.fromUserCoordinate)(t,r),o=(0,f.squaredDistance)(i,n);o<u&&(l=t,u=o,c=e.feature)}))}const t=m();if(t)return t}if(this.edge_){for(let t=0;t<a;++t){let e=null;const n=s[t];if("Circle"===n.feature.getGeometry().getType()){let t=n.feature.getGeometry();const o=(0,g.getUserProjection)();o&&(t=t.clone().transform(o,r)),e=(0,f.closestOnCircle)(i,t)}else{const[t,o]=n.segment;o&&(v[0]=(0,g.fromUserCoordinate)(t,r),v[1]=(0,g.fromUserCoordinate)(o,r),e=(0,f.closestOnSegment)(i,v))}if(e){const t=(0,f.squaredDistance)(i,e);t<u&&(l=(0,g.toUserCoordinate)(e,r),h="Circle"===n.feature.getGeometry().getType()?null:n.segment,u=t,c=n.feature)}}const t=m();if(t)return t}return null}updateFeature_(t){this.removeFeature(t,!1),this.addFeature(t,!1)}segmentCircleGeometry_(t,e){const n=this.getMap().getView().getProjection();let r=e;const i=(0,g.getUserProjection)();i&&(r=r.clone().transform(i,n));const o=(0,p.fromCircle)(r);i&&o.transform(n,i);const s=o.getCoordinates()[0];for(let e=0,n=s.length-1;e<n;++e)t.push(s.slice(e,e+2))}segmentGeometryCollectionGeometry_(t,e){const n=e.getGeometriesArray();for(let e=0;e<n.length;++e){const r=this.GEOMETRY_SEGMENTERS_[n[e].getType()];r&&r(t,n[e])}}segmentLineStringGeometry_(t,e){const n=e.getCoordinates();for(let e=0,r=n.length-1;e<r;++e)t.push(n.slice(e,e+2))}segmentMultiLineStringGeometry_(t,e){const n=e.getCoordinates();for(let e=0,r=n.length;e<r;++e){const r=n[e];for(let e=0,n=r.length-1;e<n;++e)t.push(r.slice(e,e+2))}}segmentMultiPointGeometry_(t,e){e.getCoordinates().forEach((e=>{t.push([e])}))}segmentMultiPolygonGeometry_(t,e){const n=e.getCoordinates();for(let e=0,r=n.length;e<r;++e){const r=n[e];for(let e=0,n=r.length;e<n;++e){const n=r[e];for(let e=0,r=n.length-1;e<r;++e)t.push(n.slice(e,e+2))}}}segmentPointGeometry_(t,e){t.push([e.getCoordinates()])}segmentPolygonGeometry_(t,e){const n=e.getCoordinates();for(let e=0,r=n.length;e<r;++e){const r=n[e];for(let e=0,n=r.length-1;e<n;++e)t.push(r.slice(e,e+2))}}}const x=b},4458:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TranslateEvent:()=>p,default:()=>m});var r=n(71),i=n(1685),o=n(6717),s=n(2187),a=n(1409),l=n(4238),c=n(8704),u=n(3407);const h="translatestart",d="translating",f="translateend";class p extends i.default{constructor(t,e,n,r,i){super(t),this.features=e,this.coordinate=n,this.startCoordinate=r,this.mapBrowserEvent=i}}class g extends a.default{constructor(t){let e;if(super(t=t||{}),this.on,this.once,this.un,this.lastCoordinate_=null,this.startCoordinate_=null,this.features_=void 0!==t.features?t.features:null,t.layers&&!this.features_)if("function"==typeof t.layers)e=t.layers;else{const n=t.layers;e=function(t){return n.includes(t)}}else e=l.TRUE;this.layerFilter_=e,this.filter_=t.filter&&!this.features_?t.filter:l.TRUE,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.condition_=t.condition?t.condition:c.always,this.lastFeature_=null,this.addChangeListener(s.A.ACTIVE,this.handleActiveChanged_)}handleDownEvent(t){if(!t.originalEvent||!this.condition_(t))return!1;if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);const e=this.features_||new r.default([this.lastFeature_]);return this.dispatchEvent(new p(h,e,t.coordinate,this.startCoordinate_,t)),!0}return!1}handleUpEvent(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);const e=this.features_||new r.default([this.lastFeature_]);return this.dispatchEvent(new p(f,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1}handleDragEvent(t){if(this.lastCoordinate_){const e=t.coordinate,n=t.map.getView().getProjection(),i=(0,u.fromUserCoordinate)(e,n),o=(0,u.fromUserCoordinate)(this.lastCoordinate_,n),s=i[0]-o[0],a=i[1]-o[1],l=this.features_||new r.default([this.lastFeature_]),c=(0,u.getUserProjection)();l.forEach((function(t){const e=t.getGeometry();c?(e.transform(c,n),e.translate(s,a),e.transform(n,c)):e.translate(s,a),t.setGeometry(e)})),this.lastCoordinate_=e,this.dispatchEvent(new p(d,l,e,this.startCoordinate_,t))}}handleMoveEvent(t){const e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}featuresAtPixel_(t,e){return e.forEachFeatureAtPixel(t,((t,e)=>{if(t instanceof o.default&&this.filter_(t,e)&&(!this.features_||this.features_.getArray().includes(t)))return t}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})}getHitTolerance(){return this.hitTolerance_}setHitTolerance(t){this.hitTolerance_=t}setMap(t){const e=this.getMap();super.setMap(t),this.updateState_(e)}handleActiveChanged_(){this.updateState_(null)}updateState_(t){let e=this.getMap();const n=this.getActive();if((!e||!n)&&(e=e||t,e)){e.getViewport().classList.remove("ol-grab","ol-grabbing")}}}const m=g},9318:(t,e,n)=>{"use strict";n.d(e,{N:()=>p});var r=n(71),i=n(6068),o=n(4473),s=n(4051),a=n(4423),l=n(9888),c=n(6856);const u=class{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;const i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}};var h=n(8751),d=n(3711),f=n(5243);function p(t){t=t||{};const e=new r.default,n=new u(-.005,.05,100);(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new s.A);(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new i.A({delta:t.zoomDelta,duration:t.zoomDuration}));(void 0===t.dragPan||t.dragPan)&&e.push(new o.default({onFocusOnly:t.onFocusOnly,kinetic:n}));(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new d.A);(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new f.A({duration:t.zoomDuration}));(void 0===t.keyboard||t.keyboard)&&(e.push(new l.A),e.push(new c.A({delta:t.zoomDelta,duration:t.zoomDuration})));(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new h.A({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));return(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new a.A({duration:t.zoomDuration})),e}},8620:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var r=n(4120),i=n(5332),o=n(4087),s=n(588),a=n(1597);class l extends r.default{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[i.A.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,s.v)("number"==typeof e[i.A.OPACITY],"Layer opacity must be a number"),e[i.A.VISIBLE]=void 0===t.visible||t.visible,e[i.A.Z_INDEX]=t.zIndex,e[i.A.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[i.A.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[i.A.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[i.A.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,a.clamp)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,o.abstract)()}getLayerStatesArray(t){return(0,o.abstract)()}getExtent(){return this.get(i.A.EXTENT)}getMaxResolution(){return this.get(i.A.MAX_RESOLUTION)}getMinResolution(){return this.get(i.A.MIN_RESOLUTION)}getMinZoom(){return this.get(i.A.MIN_ZOOM)}getMaxZoom(){return this.get(i.A.MAX_ZOOM)}getOpacity(){return this.get(i.A.OPACITY)}getSourceState(){return(0,o.abstract)()}getVisible(){return this.get(i.A.VISIBLE)}getZIndex(){return this.get(i.A.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(i.A.EXTENT,t)}setMaxResolution(t){this.set(i.A.MAX_RESOLUTION,t)}setMinResolution(t){this.set(i.A.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(i.A.MAX_ZOOM,t)}setMinZoom(t){this.set(i.A.MIN_ZOOM,t)}setOpacity(t){(0,s.v)("number"==typeof t,"Layer opacity must be a number"),this.set(i.A.OPACITY,t)}setVisible(t){this.set(i.A.VISIBLE,t)}setZIndex(t){this.set(i.A.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const c=l},2808:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(764),i=n(5360);class o extends r.default{constructor(t){t=t||{};const e=Object.assign({},t),n=t.cacheSize;delete t.cacheSize,delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(i.A.PRELOAD)}setPreload(t){this.set(i.A.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(i.A.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(i.A.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}const s=o},2284:(t,e,n)=>{"use strict";n.d(e,{A:()=>q});var r=n(764),i=n(7820),o=n(6895),s=n(7733),a=n(3628),l=n(9700),c=n(6936),u=n(953),h=n(1426),d=n(9825),f=n(3730);function p(t,e,n){return g((0,d.qg)(t,e,n),n)}function g(t,e){if(t instanceof d._D){if(t.type===d.mE&&"string"==typeof t.value){const e=(0,f.fromString)(t.value);return function(){return e}}return function(){return t.value}}const n=t.operator;switch(n){case d.ZD.Number:case d.ZD.String:case d.ZD.Coalesce:return function(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=g(t.args[n],e);switch(n){case d.ZD.Coalesce:return t=>{for(let e=0;e<r;++e){const n=i[e](t);if(null!=n)return n}throw new Error("Expected one of the values to be non-null")};case d.ZD.Number:case d.ZD.String:return t=>{for(let e=0;e<r;++e){const r=i[e](t);if(typeof r===n)return r}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}(t,e);case d.ZD.Get:case d.ZD.Var:case d.ZD.Has:return function(t){const e=t.args[0],n=e.value;switch(t.operator){case d.ZD.Get:return e=>{const r=t.args;let i=e.properties[n];for(let t=1,e=r.length;t<e;++t){i=i[r[t].value]}return i};case d.ZD.Var:return t=>t.variables[n];case d.ZD.Has:return e=>{const r=t.args;if(!(n in e.properties))return!1;let i=e.properties[n];for(let t=1,e=r.length;t<e;++t){const e=r[t].value;if(!i||!Object.hasOwn(i,e))return!1;i=i[e]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}(t);case d.ZD.Id:return t=>t.featureId;case d.ZD.GeometryType:return t=>t.geometryType;case d.ZD.Concat:{const n=t.args.map((t=>g(t,e)));return t=>"".concat(...n.map((e=>e(t).toString())))}case d.ZD.Resolution:return t=>t.resolution;case d.ZD.Any:case d.ZD.All:case d.ZD.Between:case d.ZD.In:case d.ZD.Not:return function(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=g(t.args[n],e);switch(n){case d.ZD.Any:return t=>{for(let e=0;e<r;++e)if(i[e](t))return!0;return!1};case d.ZD.All:return t=>{for(let e=0;e<r;++e)if(!i[e](t))return!1;return!0};case d.ZD.Between:return t=>{const e=i[0](t),n=i[1](t),r=i[2](t);return e>=n&&e<=r};case d.ZD.In:return t=>{const e=i[0](t);for(let n=1;n<r;++n)if(e===i[n](t))return!0;return!1};case d.ZD.Not:return t=>!i[0](t);default:throw new Error(`Unsupported logical operator ${n}`)}}(t,e);case d.ZD.Equal:case d.ZD.NotEqual:case d.ZD.LessThan:case d.ZD.LessThanOrEqualTo:case d.ZD.GreaterThan:case d.ZD.GreaterThanOrEqualTo:return function(t,e){const n=t.operator,r=g(t.args[0],e),i=g(t.args[1],e);switch(n){case d.ZD.Equal:return t=>r(t)===i(t);case d.ZD.NotEqual:return t=>r(t)!==i(t);case d.ZD.LessThan:return t=>r(t)<i(t);case d.ZD.LessThanOrEqualTo:return t=>r(t)<=i(t);case d.ZD.GreaterThan:return t=>r(t)>i(t);case d.ZD.GreaterThanOrEqualTo:return t=>r(t)>=i(t);default:throw new Error(`Unsupported comparison operator ${n}`)}}(t,e);case d.ZD.Multiply:case d.ZD.Divide:case d.ZD.Add:case d.ZD.Subtract:case d.ZD.Clamp:case d.ZD.Mod:case d.ZD.Pow:case d.ZD.Abs:case d.ZD.Floor:case d.ZD.Ceil:case d.ZD.Round:case d.ZD.Sin:case d.ZD.Cos:case d.ZD.Atan:case d.ZD.Sqrt:return function(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=g(t.args[n],e);switch(n){case d.ZD.Multiply:return t=>{let e=1;for(let n=0;n<r;++n)e*=i[n](t);return e};case d.ZD.Divide:return t=>i[0](t)/i[1](t);case d.ZD.Add:return t=>{let e=0;for(let n=0;n<r;++n)e+=i[n](t);return e};case d.ZD.Subtract:return t=>i[0](t)-i[1](t);case d.ZD.Clamp:return t=>{const e=i[0](t),n=i[1](t);if(e<n)return n;const r=i[2](t);return e>r?r:e};case d.ZD.Mod:return t=>i[0](t)%i[1](t);case d.ZD.Pow:return t=>Math.pow(i[0](t),i[1](t));case d.ZD.Abs:return t=>Math.abs(i[0](t));case d.ZD.Floor:return t=>Math.floor(i[0](t));case d.ZD.Ceil:return t=>Math.ceil(i[0](t));case d.ZD.Round:return t=>Math.round(i[0](t));case d.ZD.Sin:return t=>Math.sin(i[0](t));case d.ZD.Cos:return t=>Math.cos(i[0](t));case d.ZD.Atan:return 2===r?t=>Math.atan2(i[0](t),i[1](t)):t=>Math.atan(i[0](t));case d.ZD.Sqrt:return t=>Math.sqrt(i[0](t));default:throw new Error(`Unsupported numeric operator ${n}`)}}(t,e);case d.ZD.Case:return function(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=g(t.args[i],e);return t=>{for(let e=0;e<n-1;e+=2){if(r[e](t))return r[e+1](t)}return r[n-1](t)}}(t,e);case d.ZD.Match:return function(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=g(t.args[i],e);return t=>{const e=r[0](t);for(let i=1;i<n;i+=2)if(e===r[i](t))return r[i+1](t);return r[n-1](t)}}(t,e);case d.ZD.Interpolate:return function(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=g(t.args[i],e);return t=>{const e=r[0](t),i=r[1](t);let o,s;for(let a=2;a<n;a+=2){const n=r[a](t);let l=r[a+1](t);const c=Array.isArray(l);if(c&&(l=(0,f.withAlpha)(l)),n>=i)return 2===a?l:c?y(e,i,o,s,n,l):m(e,i,o,s,n,l);o=n,s=l}return s}}(t,e);case d.ZD.ToString:return function(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=g(t.args[n],e);if(n===d.ZD.ToString)return e=>{const n=i[0](e);return t.args[0].type===d.mE?(0,f.toString)(n):n.toString()};throw new Error(`Unsupported convert operator ${n}`)}(t,e);default:throw new Error(`Unsupported operator ${n}`)}}function m(t,e,n,r,i,o){const s=i-n;if(0===s)return r;const a=e-n;return r+(1===t?a/s:(Math.pow(t,a)-1)/(Math.pow(t,s)-1))*(o-r)}function y(t,e,n,r,i,o){if(0===i-n)return r;const s=(0,f.rgbaToLcha)(r),a=(0,f.rgbaToLcha)(o);let l=a[2]-s[2];l>180?l-=360:l<-180&&(l+=360);const c=[m(t,e,n,s[0],i,a[0]),m(t,e,n,s[1],i,a[1]),s[2]+m(t,e,n,0,i,l),m(t,e,n,r[3],i,o[3])];return(0,f.normalize)((0,f.lchaToRgba)(c))}var _=n(3530),v=n(6782);function b(t){return!0}function x(t){const e=(0,d.SR)(),n=function(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i){const n=t[i],o="filter"in n?p(n.filter,d.T8,e):b;let s;if(Array.isArray(n.style)){const t=n.style.length;s=new Array(t);for(let r=0;r<t;++r)s[r]=w(n.style[r],e)}else s=[w(n.style,e)];r[i]={filter:o,styles:s}}return function(e){const i=[];let o=!1;for(let s=0;s<n;++s){if((0,r[s].filter)(e)&&(!t[s].else||!o)){o=!0;for(const t of r[s].styles){const n=t(e);n&&i.push(n)}}}return i}}(t,e),r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(t,i){if(r.properties=t.getPropertiesInternal(),r.resolution=i,e.featureId){const e=t.getId();r.featureId=void 0!==e?e:null}return e.geometryType&&(r.geometryType=(0,d.Ye)(t.getGeometry())),n(r)}}function S(t){const e=(0,d.SR)(),n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=w(t[i],e);const i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(t,s){if(i.properties=t.getPropertiesInternal(),i.resolution=s,e.featureId){const e=t.getId();i.featureId=void 0!==e?e:null}let a=0;for(let t=0;t<n;++t){const e=r[t](i);e&&(o[a]=e,a+=1)}return o.length=a,o}}function w(t,e){const n=E(t,"",e),r=T(t,"",e),i=function(t,e){const n="text-",r=M(t,n+"value",e);if(!r)return null;const i=E(t,n,e),o=E(t,n+"background-",e),s=T(t,n,e),a=T(t,n+"background-",e),l=M(t,n+"font",e),c=C(t,n+"max-angle",e),u=C(t,n+"offset-x",e),d=C(t,n+"offset-y",e),f=A(t,n+"overflow",e),p=M(t,n+"placement",e),g=C(t,n+"repeat",e),m=O(t,n+"scale",e),y=A(t,n+"rotate-with-view",e),_=C(t,n+"rotation",e),v=M(t,n+"align",e),b=M(t,n+"justify",e),x=M(t,n+"baseline",e),S=I(t,n+"padding",e),w=F(t,n+"declutter-mode"),k=new h.default({declutterMode:w});return function(t){if(k.setText(r(t)),i&&k.setFill(i(t)),o&&k.setBackgroundFill(o(t)),s&&k.setStroke(s(t)),a&&k.setBackgroundStroke(a(t)),l&&k.setFont(l(t)),c&&k.setMaxAngle(c(t)),u&&k.setOffsetX(u(t)),d&&k.setOffsetY(d(t)),f&&k.setOverflow(f(t)),p){const e=p(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");k.setPlacement(e)}if(g&&k.setRepeat(g(t)),m&&k.setScale(m(t)),y&&k.setRotateWithView(y(t)),_&&k.setRotation(_(t)),v){const e=v(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");k.setTextAlign(e)}if(b){const e=b(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");k.setJustify(e)}if(x){const e=x(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");k.setTextBaseline(e)}return S&&k.setPadding(S(t)),k}}(t,e),a=function(t,e){if("icon-src"in t)return function(t,e){const n="icon-",r=n+"src",i=U(t[r],r),o=P(t,n+"anchor",e),s=O(t,n+"scale",e),a=C(t,n+"opacity",e),c=P(t,n+"displacement",e),u=C(t,n+"rotation",e),h=A(t,n+"rotate-with-view",e),d=$(t,n+"anchor-origin"),f=L(t,n+"anchor-x-units"),p=L(t,n+"anchor-y-units"),g=function(t,e){const n=t[e];if(void 0===n)return;return z(n,e)}(t,n+"color"),m=function(t,e){const n=t[e];if(void 0===n)return;if("string"!=typeof n)throw new Error(`Expected a string for ${e}`);return n}(t,n+"cross-origin"),y=function(t,e){const n=t[e];if(void 0===n)return;return j(n,e)}(t,n+"offset"),_=$(t,n+"offset-origin"),v=N(t,n+"width"),b=N(t,n+"height"),x=D(t,n+"size"),S=F(t,n+"declutter-mode"),w=new l.default({src:i,anchorOrigin:d,anchorXUnits:f,anchorYUnits:p,color:g,crossOrigin:m,offset:y,offsetOrigin:_,height:b,width:v,size:x,declutterMode:S});return function(t){return a&&w.setOpacity(a(t)),c&&w.setDisplacement(c(t)),u&&w.setRotation(u(t)),h&&w.setRotateWithView(h(t)),s&&w.setScale(s(t)),o&&w.setAnchor(o(t)),w}}(t,e);if("shape-points"in t)return function(t,e){const n="shape-",r=n+"points",i=n+"radius",o=B(t[r],r),s=B(t[i],i),a=E(t,n,e),l=T(t,n,e),u=O(t,n+"scale",e),h=P(t,n+"displacement",e),d=C(t,n+"rotation",e),f=A(t,n+"rotate-with-view",e),p=N(t,n+"radius2"),g=N(t,n+"angle"),m=F(t,n+"declutter-mode"),y=new c.default({points:o,radius:s,radius2:p,angle:g,declutterMode:m});return function(t){return a&&y.setFill(a(t)),l&&y.setStroke(l(t)),h&&y.setDisplacement(h(t)),d&&y.setRotation(d(t)),f&&y.setRotateWithView(f(t)),u&&y.setScale(u(t)),y}}(t,e);if("circle-radius"in t)return function(t,e){const n="circle-",r=E(t,n,e),i=T(t,n,e),o=C(t,n+"radius",e),a=O(t,n+"scale",e),l=P(t,n+"displacement",e),c=C(t,n+"rotation",e),u=A(t,n+"rotate-with-view",e),h=F(t,n+"declutter-mode"),d=new s.default({radius:5,declutterMode:h});return function(t){return o&&d.setRadius(o(t)),r&&d.setFill(r(t)),i&&d.setStroke(i(t)),l&&d.setDisplacement(l(t)),c&&d.setRotation(c(t)),u&&d.setRotateWithView(u(t)),a&&d.setScale(a(t)),d}}(t,e);return null}(t,e),u=C(t,"z-index",e);if(!(n||r||i||a||(0,_.isEmpty)(t)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const d=new o.default;return function(t){let e=!0;if(n){const r=n(t);r&&(e=!1),d.setFill(r)}if(r){const n=r(t);n&&(e=!1),d.setStroke(n)}if(i){const n=i(t);n&&(e=!1),d.setText(n)}if(a){const n=a(t);n&&(e=!1),d.setImage(n)}return u&&d.setZIndex(u(t)),e?null:d}}function E(t,e,n){let r;if(e+"fill-pattern-src"in t)r=function(t,e,n){const r=M(t,e+"pattern-src",n),i=R(t,e+"pattern-offset",n),o=R(t,e+"pattern-size",n),s=k(t,e+"color",n);return function(t){return{src:r(t),offset:i&&i(t),size:o&&o(t),color:s&&s(t)}}}(t,e+"fill-",n);else{if("none"===t[e+"fill-color"])return t=>null;r=k(t,e+"fill-color",n)}if(!r)return null;const i=new a.default;return function(t){const e=r(t);return e===f.NO_COLOR?null:(i.setColor(e),i)}}function T(t,e,n){const r=C(t,e+"stroke-width",n),i=k(t,e+"stroke-color",n);if(!r&&!i)return null;const o=M(t,e+"stroke-line-cap",n),s=M(t,e+"stroke-line-join",n),a=I(t,e+"stroke-line-dash",n),l=C(t,e+"stroke-line-dash-offset",n),c=C(t,e+"stroke-miter-limit",n),h=new u.default;return function(t){if(i){const e=i(t);if(e===f.NO_COLOR)return null;h.setColor(e)}if(r&&h.setWidth(r(t)),o){const e=o(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");h.setLineCap(e)}if(s){const e=s(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(e)}return a&&h.setLineDash(a(t)),l&&h.setLineDashOffset(l(t)),c&&h.setMiterLimit(c(t)),h}}function C(t,e,n){if(!(e in t))return;const r=p(t[e],d.wl,n);return function(t){return B(r(t),e)}}function M(t,e,n){if(!(e in t))return null;const r=p(t[e],d.cT,n);return function(t){return U(r(t),e)}}function A(t,e,n){if(!(e in t))return null;const r=p(t[e],d.T8,n);return function(t){const n=r(t);if("boolean"!=typeof n)throw new Error(`Expected a boolean for ${e}`);return n}}function k(t,e,n){if(!(e in t))return null;const r=p(t[e],d.mE,n);return function(t){return z(r(t),e)}}function I(t,e,n){if(!(e in t))return null;const r=p(t[e],d.Fq,n);return function(t){return j(r(t),e)}}function P(t,e,n){if(!(e in t))return null;const r=p(t[e],d.Fq,n);return function(t){const n=j(r(t),e);if(2!==n.length)throw new Error(`Expected two numbers for ${e}`);return n}}function R(t,e,n){if(!(e in t))return null;const r=p(t[e],d.Fq,n);return function(t){return G(r(t),e)}}function O(t,e,n){if(!(e in t))return null;const r=p(t[e],d.Fq|d.wl,n);return function(t){return function(t,e){if("number"==typeof t)return t;return G(t,e)}(r(t),e)}}function N(t,e){const n=t[e];if(void 0!==n){if("number"!=typeof n)throw new Error(`Expected a number for ${e}`);return n}}function D(t,e){const n=t[e];if(void 0!==n){if("number"==typeof n)return(0,v.toSize)(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])throw new Error(`Expected a number or size array for ${e}`);return n}}function $(t,e){const n=t[e];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function L(t,e){const n=t[e];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${e}`);return n}}function F(t,e){const n=t[e];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${e}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function j(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let r=0;r<n;++r)if("number"!=typeof t[r])throw new Error(`Expected an array of numbers for ${e}`);return t}function U(t,e){if("string"!=typeof t)throw new Error(`Expected a string for ${e}`);return t}function B(t,e){if("number"!=typeof t)throw new Error(`Expected a number for ${e}`);return t}function z(t,e){if("string"==typeof t)return t;const n=j(t,e),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function G(t,e){const n=j(t,e);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${e}`);return n}const H="renderOrder";class W extends r.default{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(H)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const n=this.getDeclutter();n in t.declutter==!1&&(t.declutter[n]=new i.A(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(H,t)}setStyle(t){this.style_=void 0===t?o.createDefaultStyle:t;const e=function(t){if(void 0===t)return o.createDefaultStyle;if(!t)return null;if("function"==typeof t)return t;if(t instanceof o.default)return t;if(!Array.isArray(t))return S([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof o.default){const n=new Array(e);for(let r=0;r<e;++r){const e=t[r];if(!(e instanceof o.default))throw new Error("Expected a list of style instances");n[r]=e}return n}if("style"in n){const n=new Array(e);for(let r=0;r<e;++r){const e=t[r];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[r]=e}return x(n)}const r=t;return S(r)}(t);this.styleFunction_=null===t?void 0:(0,o.toFunction)(e),this.changed()}}const q=W},5598:(t,e,n)=>{"use strict";n.r(e),n.d(e,{GroupEvent:()=>p,default:()=>y});var r=n(8620),i=n(71),o=n(2135),s=n(1685),a=n(6837),l=n(8450),c=n(588),u=n(3530),h=n(915),d=n(4087),f=n(9438);class p extends s.default{constructor(t,e){super(t),this.layer=e}}const g="layers";class m extends r.default{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(g,this.handleLayersChanged_),n?Array.isArray(n)?n=new i.default(n.slice(),{unique:!0}):(0,c.v)("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new i.default(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(f.unlistenByKey),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,f.listen)(t,o.A.ADD,this.handleLayersAdd_,this),(0,f.listen)(t,o.A.REMOVE,this.handleLayersRemove_,this));for(const t in this.listenerKeys_)this.listenerKeys_[t].forEach(f.unlistenByKey);(0,u.clear)(this.listenerKeys_);const e=t.getArray();for(let t=0,n=e.length;t<n;t++){const n=e[t];this.registerLayerListeners_(n),this.dispatchEvent(new p("addlayer",n))}this.changed()}registerLayerListeners_(t){const e=[(0,f.listen)(t,l.A.PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(t,a.A.CHANGE,this.handleLayerChange_,this)];t instanceof m&&e.push((0,f.listen)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,f.listen)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,d.getUid)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new p("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new p("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new p("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=(0,d.getUid)(e);this.listenerKeys_[n].forEach(f.unlistenByKey),delete this.listenerKeys_[n],this.dispatchEvent(new p("removelayer",e)),this.changed()}getLayers(){return this.get(g)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new p("removelayer",t[e]))}this.set(g,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const r=this.getLayerState();let i=r.zIndex;t||void 0!==r.zIndex||(i=0);for(let t=n,o=e.length;t<o;t++){const n=e[t];n.opacity*=r.opacity,n.visible=n.visible&&r.visible,n.maxResolution=Math.min(n.maxResolution,r.maxResolution),n.minResolution=Math.max(n.minResolution,r.minResolution),n.minZoom=Math.max(n.minZoom,r.minZoom),n.maxZoom=Math.min(n.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==n.extent?n.extent=(0,h.getIntersection)(n.extent,r.extent):n.extent=r.extent),void 0===n.zIndex&&(n.zIndex=i)}return e}getSourceState(){return"ready"}}const y=m},8044:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(764);class i extends r.default{constructor(t){super(t=t||{})}}const o=i;var s=n(6769),a=n(6141),l=n(2703),c=n(9703),u=n(915),h=n(3407);class d extends s.A{constructor(t){super(t),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(t){const e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,r=t.viewState,i=r.resolution,o=this.getLayer().getSource(),s=t.viewHints;let c=t.extent;if(void 0!==e.extent&&(c=(0,u.getIntersection)(c,(0,h.fromUserExtent)(e.extent,r.projection))),!s[l.default.ANIMATING]&&!s[l.default.INTERACTING]&&!(0,u.isEmpty)(c))if(o){const t=r.projection,e=o.getImage(c,i,n,t);e&&(this.loadImage(e)?this.image=e:e.getState()===a.A.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),r=(0,c.Bb)(e.pixelToCoordinateTransform,t.slice()),i=n.getExtent();if(i&&!(0,u.containsCoordinate)(i,r))return null;const o=this.image.getExtent(),s=this.image.getImage(),a=(0,u.getWidth)(o),l=Math.floor(s.width*((r[0]-o[0])/a));if(l<0||l>=s.width)return null;const h=(0,u.getHeight)(o),d=Math.floor(s.height*((o[3]-r[1])/h));return d<0||d>=s.height?null:this.getImageData(s,l,d)}renderFrame(t,e){const n=this.image,r=n.getExtent(),i=n.getResolution(),[o,s]=Array.isArray(i)?i:[i,i],a=n.getPixelRatio(),l=t.layerStatesArray[t.layerIndex],d=t.pixelRatio,f=t.viewState,p=f.center,g=f.resolution,m=d*o/(g*a),y=d*s/(g*a);this.prepareContainer(t,e);const _=this.context.canvas.width,v=this.context.canvas.height,b=this.getRenderContext(t);let x=!1,S=!0;if(l.extent){const e=(0,h.fromUserExtent)(l.extent,f.projection);S=(0,u.intersects)(e,t.extent),x=S&&!(0,u.containsExtent)(e,t.extent),x&&this.clipUnrotated(b,t,e)}const w=n.getImage(),E=(0,c.Zz)(this.tempTransform,_/2,v/2,m,y,0,a*(r[0]-p[0])/o,a*(p[1]-r[3])/s);this.renderedResolution=s*d/a;const T=w.width*E[0],C=w.height*E[3];if(this.getLayer().getSource().getInterpolate()||(b.imageSmoothingEnabled=!1),this.preRender(b,t),S&&T>=.5&&C>=.5){const t=E[4],e=E[5],n=l.opacity;1!==n&&(b.save(),b.globalAlpha=n),b.drawImage(w,0,0,+w.width,+w.height,t,e,T,C),1!==n&&b.restore()}return this.postRender(this.context,t),x&&b.restore(),b.imageSmoothingEnabled=!0,this.container}}const f=d;const p=class extends o{constructor(t){super(t)}createRenderer(){return new f(this)}getData(t){return super.getData(t)}}},764:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f,inView:()=>d});var r=n(8620),i=n(6837),o=n(5332),s=n(3984),a=n(1765),l=n(588),c=n(915),u=n(9438);class h extends r.default{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(o.A.SOURCE,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(o.A.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,u.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=(0,u.listen)(t,i.A.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let r;!t&&n&&(t=n.getView()),e=t instanceof a.default?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),r=e.layerStatesArray?e.layerStatesArray.find((t=>t.layer===this)):this.getLayerState();const i=this.getExtent();return d(r,e.viewState)&&(!i||(0,c.intersects)(i,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];const e=this.getSource()?.getAttributions();if(!e)return[];let n=e(t instanceof a.default?t.getViewStateAndExtent():t);return Array.isArray(n)||(n=[n]),n}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(o.A.MAP,t)}getMapInternal(){return this.get(o.A.MAP)}setMap(t){this.mapPrecomposeKey_&&((0,u.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,u.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,u.listen)(t,s.A.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=(0,u.listen)(this,i.A.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,l.v)(!e.some((t=>t.layer===n.layer)),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}setSource(t){this.set(o.A.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function d(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const f=h},5332:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},945:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(2808),i=n(4029);class o extends r.A{constructor(t){super(t)}createRenderer(){return new i.A(this,{cacheSize:this.getCacheSize()})}}const s=o},5360:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},2757:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>b});var r=n(2284),i=n(136),o=n(6769),s=n(7343),a=n(3984),l=n(2703),c=n(9421),u=n(915),h=n(8711),d=n(3608),f=n(6514),p=n(3407),g=n(4087),m=n(9314);class y extends o.A{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,u.createEmpty)(),this.wrappedRenderedExtent_=(0,u.createEmpty)(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,e,n){const r=e.extent,i=e.viewState,o=i.center,a=i.resolution,c=i.projection,h=i.rotation,d=c.getExtent(),f=this.getLayer().getSource(),p=this.getLayer().getDeclutter(),g=e.pixelRatio,m=e.viewHints,y=!(m[l.default.ANIMATING]||m[l.default.INTERACTING]),_=this.context,v=Math.round((0,u.getWidth)(r)/a*g),b=Math.round((0,u.getHeight)(r)/a*g),x=f.getWrapX()&&c.canWrapX(),S=x?(0,u.getWidth)(d):null,w=x?Math.ceil((r[2]-d[2])/S)+1:1;let E=x?Math.floor((r[0]-d[0])/S):0;do{let r=this.getRenderTransform(o,a,0,g,v,b,E*S);e.declutter&&(r=r.slice(0)),t.execute(_,[_.canvas.width,_.canvas.height],r,h,y,void 0===n?s.y2:n?s.$i:s.x$,n?p&&e.declutter[p]:void 0)}while(++E<w)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=(0,h.createCanvasContext2D)(this.context.canvas.width,this.context.canvas.height,o.B))}resetDrawContext_(){if(1!==this.opacity_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,(0,h.releaseCanvas)(this.context),o.B.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex];this.opacity_=n.opacity;const r=t.viewState;this.prepareContainer(t,e);const i=this.context,o=this.replayGroup_;let s=o&&!o.isEmpty();if(!s){if(!(this.getLayer().hasListener(a.A.PRERENDER)||this.getLayer().hasListener(a.A.POSTRENDER)))return null}this.setDrawContext_(),this.preRender(i,t);const l=r.projection;if(this.clipped_=!1,s&&n.extent&&this.clipping){const e=(0,p.fromUserExtent)(n.extent,l);s=(0,u.intersects)(e,t.extent),this.clipped_=s&&!(0,u.containsExtent)(e,t.extent),this.clipped_&&this.clipUnrotated(i,t,e)}return s&&this.renderWorlds(o,t,!this.getLayer().getDeclutter()&&void 0),!t.declutter&&this.clipped_&&i.restore(),this.postRender(i,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise((e=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=this.frameState.size.slice(),e=this.renderedCenter_,n=this.renderedResolution_,r=this.renderedRotation_,i=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=t[0]*c.tF,h=t[1]*c.tF;a.push(this.getRenderTransform(e,n,r,c.tF,l,h,0).slice());const f=s.getSource(),g=i.getExtent();if(f.getWrapX()&&i.canWrapX()&&!(0,u.containsExtent)(g,o)){let t=o[0];const i=(0,u.getWidth)(g);let s,d=0;for(;t<g[0];)--d,s=i*d,a.push(this.getRenderTransform(e,n,r,c.tF,l,h,s).slice()),t+=i;for(d=0,t=o[2];t>g[2];)++d,s=i*d,a.push(this.getRenderTransform(e,n,r,c.tF,l,h,s).slice()),t-=i}const m=(0,p.getUserProjection)();this.hitDetectionImageData_=(0,c._7)(t,a,this.renderedFeatures_,s.getStyleFunction(),o,n,r,(0,d.j)(n,this.renderedPixelRatio_),m?i:null)}e((0,c.F8)(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,n,r,i){if(!this.replayGroup_)return;const o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),l={},c=function(t,e,n){const o=(0,g.getUid)(t),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,i.splice(i.lastIndexOf(s),1),r(t,a,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return l[o]=!0,r(t,a,e);i.push(l[o]={feature:t,layer:a,geometry:e,distanceSq:n,callback:r})}};let u;const h=[this.replayGroup_],d=this.getLayer().getDeclutter();return h.some((r=>u=r.forEachFeatureAtCoordinate(t,o,s,n,c,d&&e.declutter[d]?e.declutter[d].all().map((t=>t.value)):null))),u}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const r=t.viewHints[l.default.ANIMATING],o=t.viewHints[l.default.INTERACTING],a=e.getUpdateWhileAnimating(),c=e.getUpdateWhileInteracting();if(this.ready&&!a&&r||!c&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const h=t.extent,g=t.viewState,y=g.projection,_=g.resolution,v=t.pixelRatio,b=e.getRevision(),x=e.getRenderBuffer();let S=e.getRenderOrder();void 0===S&&(S=d.Eo);const w=g.center.slice(),E=(0,u.buffer)(h,x*_),T=E.slice(),C=[E.slice()],M=y.getExtent();if(n.getWrapX()&&y.canWrapX()&&!(0,u.containsExtent)(M,t.extent)){const t=(0,u.getWidth)(M),e=Math.max((0,u.getWidth)(E)/2,t);E[0]=M[0]-e,E[2]=M[2]+e,(0,m.wrapX)(w,y);const n=(0,u.wrapX)(C[0],y);n[0]<M[0]&&n[2]<M[2]?C.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>M[0]&&n[2]>M[2]&&C.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==_&&this.renderedRevision_==b&&this.renderedRenderOrder_==S&&this.renderedFrameDeclutter_===!!t.declutter&&(0,u.containsExtent)(this.wrappedRenderedExtent_,E))return(0,f.equals)(this.renderedExtent_,T)||(this.hitDetectionImageData_=null,this.renderedExtent_=T),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const A=new i.A((0,d.gY)(_,v),E,_,v),k=(0,p.getUserProjection)();let I;if(k){for(let t=0,e=C.length;t<e;++t){const e=C[t],r=(0,p.toUserExtent)(e,y);n.loadFeatures(r,(0,p.toUserResolution)(_,y),k)}I=(0,p.getTransformFromProjections)(k,y)}else for(let t=0,e=C.length;t<e;++t)n.loadFeatures(C[t],_,y);const P=(0,d.j)(_,v);let R=!0;const O=(t,n)=>{let r;const i=t.getStyleFunction()||e.getStyleFunction();if(i&&(r=i(t,_)),r){const e=this.renderFeature(t,P,r,A,I,this.getLayer().getDeclutter(),n);R=R&&!e}},N=(0,p.toUserExtent)(E,y),D=n.getFeaturesInExtent(N);S&&D.sort(S);for(let t=0,e=D.length;t<e;++t)O(D[t],t);this.renderedFeatures_=D,this.ready=R;const $=A.finish(),L=new s.Ay(E,_,v,n.getOverlaps(),$,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=_,this.renderedRevision_=b,this.renderedRenderOrder_=S,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=T,this.wrappedRenderedExtent_=E,this.renderedCenter_=w,this.renderedProjection_=y,this.renderedPixelRatio_=v,this.replayGroup_=L,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,r,i,o,s){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,c=n.length;l<c;++l)a=(0,d.nl)(r,t,n[l],e,this.boundHandleStyleImageChange_,i,o,s)||a;else a=(0,d.nl)(r,t,n,e,this.boundHandleStyleImageChange_,i,o,s);return a}}const _=y;class v extends r.A{constructor(t){super(t)}createRenderer(){return new _(this)}}const b=v},8063:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>T});var r=n(2284),i=n(136),o=n(7343),s=n(4029),a=n(1078),l=n(2703),c=n(808),u=n(9421),h=n(9703),d=n(6514),f=n(915),p=n(3608),g=n(4087),m=n(6782),y=n(9314);const _={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},v={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class b extends s.A{constructor(t,e){super(t,e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=(0,h.vt)(),this.tileClipContexts_=null}drawTile(t,e,n,r,i,o,s,a){this.updateExecutorGroup_(t,e.pixelRatio,e.viewState.projection),this.tileImageNeedsRender_(t)&&this.renderTileImage_(t,e),super.drawTile(t,e,n,r,i,o,s,a)}getTile(t,e,n,r){const i=this.getOrCreateTile(t,e,n,r);if(!i)return null;const o=r.viewState.resolution,s=r.viewHints;return!!(s[l.default.ANIMATING]||s[l.default.INTERACTING])&&i.wantedResolution||(i.wantedResolution=o),i}prepareFrame(t){const e=this.getLayer().getRevision();return this.renderedLayerRevision_!==e&&(this.renderedLayerRevision_=e,this.renderedTiles.length=0),super.prepareFrame(t)}updateExecutorGroup_(t,e,n){const r=this.getLayer(),s=r.getRevision(),l=r.getRenderOrder()||null,c=t.wantedResolution,u=t.getReplayState(r);if(!u.dirty&&u.renderedResolution===c&&u.renderedRevision==s&&u.renderedRenderOrder==l)return;const h=r.getSource(),d=!!r.getDeclutter(),m=h.getTileGrid(),y=h.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord),_=h.getSourceTiles(e,n,t),v=(0,g.getUid)(r);delete t.hitDetectionImageData[v],t.executorGroups[v]=[],u.dirty=!1;for(let n=0,s=_.length;n<s;++n){const s=_[n];if(s.getState()!=a.A.LOADED)continue;const g=s.tileCoord,b=m.getTileCoordExtent(g),x=(0,f.getIntersection)(y,b),S=(0,f.buffer)(x,r.getRenderBuffer()*c,this.tempExtent),w=(0,f.equals)(b,x)?null:S,E=new i.A(0,x,c,e),T=(0,p.j)(c,e),C=function(t,e){let n;const i=t.getStyleFunction()||r.getStyleFunction();if(i&&(n=i(t,c)),n){const r=this.renderFeature(t,T,n,E,d,e);u.dirty=u.dirty||r}},M=s.getFeatures();l&&l!==u.renderedRenderOrder&&M.sort(l);for(let t=0,e=M.length;t<e;++t){const e=M[t];w&&!(0,f.intersects)(w,e.getGeometry().getExtent())||C.call(this,e,t)}const A=E.finish(),k="vector"!==r.getRenderMode()&&d&&1===_.length?null:x,I=new o.Ay(k,c,e,h.getOverlaps(),A,r.getRenderBuffer(),!0);t.executorGroups[v].push(I)}u.renderedRevision=s,u.renderedRenderOrder=l,u.renderedResolution=c}forEachFeatureAtCoordinate(t,e,n,r,i){const o=e.viewState.resolution,s=e.viewState.rotation;n=null==n?0:n;const a=this.getLayer(),l=a.getSource().getTileGridForProjection(e.viewState.projection),c=(0,f.boundingExtent)([t]);(0,f.buffer)(c,o*n,c);const u={},h=function(t,e,n){let o=t.getId();void 0===o&&(o=(0,g.getUid)(t));const s=u[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return u[o]=!0,i.splice(i.lastIndexOf(s),1),r(t,a,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return u[o]=!0,r(t,a,e);i.push(u[o]={feature:t,layer:a,geometry:e,distanceSq:n,callback:r})}},d=this.renderedTiles;let p;for(let r=0,i=d.length;!p&&r<i;++r){const i=d[r],u=l.getTileCoordExtent(i.wrappedTileCoord);if(!(0,f.intersects)(u,c))continue;const m=(0,g.getUid)(a),y=[i.executorGroups[m]],_=a.getDeclutter();y.some((r=>{const i=_?e.declutter[_].all().map((t=>t.value)):null;for(let e=0,a=r.length;e<a;++e){const a=r[e];if(p=a.forEachFeatureAtCoordinate(t,o,s,n,h,i),p)return!0}}))}return p}getFeatures(t){return new Promise(((e,n)=>{const r=this.getLayer(),i=(0,g.getUid)(r),o=r.getSource(),s=this.renderedProjection,l=s.getExtent(),c=this.renderedResolution,d=o.getTileGridForProjection(s),p=(0,h.Bb)(this.renderedPixelToCoordinateTransform_,t.slice()),_=d.getTileCoordForCoordAndResolution(p,c);let v;for(let t=0,e=this.renderedTiles.length;t<e;++t)if(_.toString()===this.renderedTiles[t].tileCoord.toString()){if(v=this.renderedTiles[t],v.getState()===a.A.LOADED){const t=d.getTileCoordExtent(v.tileCoord);o.getWrapX()&&s.canWrapX()&&!(0,f.containsExtent)(l,t)&&(0,y.wrapX)(p,s);break}v=void 0}if(!v||v.loadingSourceTiles>0)return void e([]);const b=d.getTileCoordExtent(v.wrappedTileCoord),x=(0,f.getTopLeft)(b),S=[(p[0]-x[0])/c,(x[1]-p[1])/c],w=v.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]);let E=v.hitDetectionImageData[i];if(!E){const t=(0,m.toSize)(d.getTileSize(d.getZForResolution(c,o.zDirection))),e=this.renderedRotation_,n=[this.getRenderTransform(d.getTileCoordCenter(v.wrappedTileCoord),c,0,u.tF,t[0]*u.tF,t[1]*u.tF,0)];E=(0,u._7)(t,n,w,r.getStyleFunction(),d.getTileCoordExtent(v.wrappedTileCoord),v.getReplayState(r).renderedResolution,e),v.hitDetectionImageData[i]=E}e((0,u.F8)(S,w,E))}))}getFeaturesInExtent(t){const e=[],n=this.getTileCache();if(0===n.getCount())return e;const r=this.getLayer().getSource().getTileGridForProjection(this.frameState.viewState.projection),i=r.getZForResolution(this.renderedResolution),o={};return n.forEach((n=>{if(n.tileCoord[0]!==i||n.getState()!==a.A.LOADED)return;const s=n.getSourceTiles();for(let n=0,i=s.length;n<i;++n){const i=s[n],a=i.getKey();if(a in o)continue;o[a]=!0;const l=i.tileCoord;if((0,f.intersects)(t,r.getTileCoordExtent(l))){const n=i.getFeatures();if(n)for(let r=0,i=n.length;r<i;++r){const i=n[r],o=i.getGeometry();(0,f.intersects)(t,o.getExtent())&&e.push(i)}}}})),e}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}renderDeclutter(t,e){const n=this.context,r=n.globalAlpha;n.globalAlpha=e.opacity;const i=t.viewHints,s=!(i[l.default.ANIMATING]||i[l.default.INTERACTING]),a=this.renderedTiles;for(let e=0,n=a.length;e<n;++e){const n=a[e],r=n.executorGroups[(0,g.getUid)(this.getLayer())],i=this.getLayer().getDeclutter();if(r)for(let e=r.length-1;e>=0;--e)r[e].execute(this.context,[this.context.canvas.width,this.context.canvas.height],this.getTileRenderTransform(n,t),t.viewState.rotation,s,o.$i,i?t.declutter[i]:void 0)}n.globalAlpha=r}renderDeferredInternal(t){const e=this.renderedTiles.reduce(((t,e,n)=>(e.executorGroups[(0,g.getUid)(this.getLayer())].forEach((e=>t.push({executorGroup:e,index:n}))),t)),[]),n=e.map((({executorGroup:t})=>t.getDeferredZIndexContexts())),r={};for(let t=0,n=e.length;t<n;++t){const n=e[t].executorGroup.getDeferredZIndexContexts();for(const t in n)r[t]=!0}Object.keys(r).sort(d.ascending).map(Number).forEach((t=>{n.forEach(((n,r)=>{n[t]&&(n[t].forEach((t=>{const{executorGroup:n,index:i}=e[r],o=n.getRenderedContext(),s=o.globalAlpha;o.globalAlpha=this.renderedOpacity_;const a=this.tileClipContexts_[i];a&&a.draw(o),t.draw(o),a&&o.restore(),o.globalAlpha=s,t.clear()})),n[t].length=0)}))}))}getTileRenderTransform(t,e){const n=e.pixelRatio,r=e.viewState,i=r.center,o=r.resolution,s=r.rotation,a=e.size,l=Math.round(a[0]*n),c=Math.round(a[1]*n),u=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),d=t.tileCoord,f=u.getTileCoordExtent(t.wrappedTileCoord),p=u.getTileCoordExtent(d,this.tempExtent)[0]-f[0];return(0,h.lw)((0,h.hs)(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(i,o,s,n,l,c,p))}postRender(t,e){const n=e.viewHints,r=!(n[l.default.ANIMATING]||n[l.default.INTERACTING]);this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation,this.renderedOpacity_=e.layerStatesArray[e.layerIndex].opacity;const i=this.getLayer(),s=i.getRenderMode(),a=t.globalAlpha;t.globalAlpha=this.renderedOpacity_;const u=i.getDeclutter(),h=u?v[s].filter((t=>!o.$i.includes(t))):v[s],d=e.viewState,p=d.rotation,m=i.getSource(),y=m.getTileGridForProjection(d.projection).getZForResolution(d.resolution,m.zDirection),_=this.renderedTiles,b=[],x=[],S=[];let w=!0;for(let n=_.length-1;n>=0;--n){const o=_[n];w=w&&!o.getReplayState(i).dirty;const s=o.executorGroups[(0,g.getUid)(i)].filter((t=>t.hasExecutors(h)));if(0===s.length)continue;const a=this.getTileRenderTransform(o,e),l=o.tileCoord[0];let d=!1;const m=s[0].getClipCoords(a);let v,E=t;if(m){v=new c.A,E=v.getContext();for(let t=0,e=b.length;t<e;++t)if(y!==l&&l<x[t]){const e=b[t];(0,f.intersects)([m[0],m[3],m[4],m[7]],[e[0],e[3],e[4],e[7]])&&(d||(E.save(),d=!0),E.beginPath(),E.moveTo(m[0],m[1]),E.lineTo(m[2],m[3]),E.lineTo(m[4],m[5]),E.lineTo(m[6],m[7]),E.moveTo(e[6],e[7]),E.lineTo(e[4],e[5]),E.lineTo(e[2],e[3]),E.lineTo(e[0],e[1]),E.clip())}b.push(m),x.push(l)}for(let n=0,i=s.length;n<i;++n){s[n].execute(t,[t.canvas.width,t.canvas.height],a,p,r,h,e.declutter?.[u])}d&&(E===t?E.restore():S[n]=v)}t.globalAlpha=a,this.ready=w,this.tileClipContexts_=S,e.declutter||this.renderDeferredInternal(e),super.postRender(t,e)}renderFeature(t,e,n,r,i,o){if(!n)return!1;let s=!1;if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)s=(0,p.nl)(r,t,n[a],e,this.boundHandleStyleImageChange_,void 0,i,o)||s;else s=(0,p.nl)(r,t,n,e,this.boundHandleStyleImageChange_,void 0,i,o);return s}tileImageNeedsRender_(t){const e=this.getLayer();if("vector"===e.getRenderMode())return!1;const n=t.getReplayState(e),r=e.getRevision(),i=t.wantedResolution;return n.renderedTileResolution!==i||n.renderedTileRevision!==r}renderTileImage_(t,e){const n=this.getLayer(),r=t.getReplayState(n),i=n.getRevision(),o=t.executorGroups[(0,g.getUid)(n)];r.renderedTileRevision=i;const s=t.wrappedTileCoord,a=s[0],l=n.getSource();let c=e.pixelRatio;const u=e.viewState.projection,d=l.getTileGridForProjection(u),f=d.getResolution(t.tileCoord[0]),p=e.pixelRatio/t.wantedResolution*f,m=d.getResolution(a),y=t.getContext();c=Math.round(Math.max(c,p/c));const v=l.getTilePixelSize(a,c,u);y.canvas.width=v[0],y.canvas.height=v[1];const b=c/p;if(1!==b){const t=(0,h.cL)(this.tmpTransform_);(0,h.hs)(t,b,b),y.setTransform.apply(y,t)}const x=d.getTileCoordExtent(s,this.tempExtent),S=p/m,w=(0,h.cL)(this.tmpTransform_);(0,h.hs)(w,S,-S),(0,h.Tl)(w,-x[0],-x[3]);for(let t=0,e=o.length;t<e;++t){o[t].execute(y,[y.canvas.width*b,y.canvas.height*b],w,0,!0,_[n.getRenderMode()],null)}r.renderedTileResolution=t.wantedResolution}}const x=b;var S=n(5360),w=n(588);class E extends r.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload;const n=void 0===t.cacheSize?0:t.cacheSize;delete t.cacheSize,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=n;const r=t.renderMode||"hybrid";(0,w.v)("hybrid"==r||"vector"==r,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new x(this,{cacheSize:this.cacheSize_})}getFeatures(t){return super.getFeatures(t)}getFeaturesInExtent(t){return this.getRenderer().getFeaturesInExtent(t)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(S.A.PRELOAD)}getUseInterimTilesOnError(){return this.get(S.A.USE_INTERIM_TILES_ON_ERROR)}setPreload(t){this.set(S.A.PRELOAD,t)}setUseInterimTilesOnError(t){this.set(S.A.USE_INTERIM_TILES_ON_ERROR,t)}}const T=E},9146:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ft});var r=n(2808),i=n(5332),o=n(8596),s=n(7404),a=n(1078),l=n(9332),c=n(6837),u=n(190),h=n(4087);class d extends l.default{constructor(t){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter=t.gutter||0,this.helper=t.helper,this.loaded=!1,this.ready=!1}setTile(t){if(t!==this.tile)if(this.tile&&this.tile.removeEventListener(c.A.CHANGE,this.handleTileChange_),this.tile=t,this.loaded=t.getState()===a.A.LOADED,this.loaded)this.uploadTile();else{if(t instanceof u.A){const e=t.getImage();e instanceof Image&&!e.crossOrigin&&(e.crossOrigin="anonymous")}t.addEventListener(c.A.CHANGE,this.handleTileChange_)}}uploadTile(){(0,h.abstract)()}setReady(){this.ready=!0,this.dispatchEvent(c.A.CHANGE)}handleTileChange_(){this.tile.getState()===a.A.LOADED&&(this.loaded=!0,this.uploadTile())}setHelper(t){this.helper=t,this.helper&&this.loaded&&this.uploadTile()}disposeInternal(){this.setHelper(null),this.tile.removeEventListener(c.A.CHANGE,this.handleTileChange_)}}const f=d;var p=n(7607),g=n(130),m=n(588);const y={STATIC_DRAW:g.Ek,STREAM_DRAW:g.Ss,DYNAMIC_DRAW:g.Be};function _(t){switch(t){case g.H7:return Float32Array;case g.IP:return Uint32Array;default:return Float32Array}}const v=class{constructor(t,e){this.array_=null,this.type_=t,(0,m.v)(t===g.H7||t===g.IP,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=void 0!==e?e:y.STATIC_DRAW}ofSize(t){return this.array_=new(_(this.type_))(t),this}fromArray(t){return this.array_=_(this.type_).from(t),this}fromArrayBuffer(t){return this.array_=new(_(this.type_))(t),this}getType(){return this.type_}getArray(){return this.array_}setArray(t){const e=_(this.type_);if(!(t instanceof e))throw new Error(`Expected ${e}`);this.array_=t}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}};var b=n(8711),x=n(6782);function S(t,e,n){const r=n?t.LINEAR:t.NEAREST;t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r)}function w(t,e,n,r,i,o){const s=t.getGL();let a,l;if(n instanceof Float32Array){a=s.FLOAT,t.getExtension("OES_texture_float");l=null!==t.getExtension("OES_texture_float_linear")}else a=s.UNSIGNED_BYTE,l=!0;S(s,e,o&&l);const c=n.byteLength/r[1];let u,h=1;switch(c%8==0?h=8:c%4==0?h=4:c%2==0&&(h=2),i){case 1:u=s.LUMINANCE;break;case 2:u=s.LUMINANCE_ALPHA;break;case 3:u=s.RGB;break;case 4:u=s.RGBA;break;default:throw new Error(`Unsupported number of bands: ${i}`)}const d=s.getParameter(s.UNPACK_ALIGNMENT);s.pixelStorei(s.UNPACK_ALIGNMENT,h),s.texImage2D(s.TEXTURE_2D,0,u,r[0],r[1],0,u,a,n),s.pixelStorei(s.UNPACK_ALIGNMENT,d)}let E=null;const T=class extends f{constructor(t){super(t),this.textures=[],this.renderSize_=(0,x.toSize)(t.grid.getTileSize(t.tile.tileCoord[0])),this.bandCount=NaN;const e=new v(g.H7,g.Ek);e.fromArray([0,1,1,1,1,0,0,0]),this.helper.flushBufferData(e),this.coords=e,this.setTile(t.tile)}setHelper(t){const e=this.helper?.getGL();if(e){this.helper.deleteBuffer(this.coords);for(let t=0;t<this.textures.length;++t)e.deleteTexture(this.textures[t])}super.setHelper(t),t&&t.flushBufferData(this.coords)}uploadTile(){const t=this.helper,e=t.getGL(),n=this.tile;let r;this.textures.length=0,r=n instanceof u.A||n instanceof s.A?n.getImage():n.getData();const i=(0,p.xo)(r);if(i){const t=e.createTexture();return this.textures.push(t),this.bandCount=4,function(t,e,n,r){S(t,e,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)}(e,t,i,n.interpolate),void this.setReady()}r=(0,p.bL)(r);const o=n.getSize(),a=[o[0]+2*this.gutter,o[1]+2*this.gutter],l=r instanceof Float32Array,c=a[0]*a[1],h=l?Float32Array:Uint8Array,d=h.BYTES_PER_ELEMENT,f=r.byteLength/a[1];this.bandCount=Math.floor(f/d/a[0]);const g=Math.ceil(this.bandCount/4);if(1===g){const i=e.createTexture();return this.textures.push(i),w(t,i,r,a,this.bandCount,n.interpolate),void this.setReady()}const m=new Array(g);for(let t=0;t<g;++t){const n=e.createTexture();this.textures.push(n);const r=t<g-1?4:(this.bandCount-1)%4+1;m[t]=new h(c*r)}let y=0,_=0;const v=a[0]*this.bandCount;for(let t=0;t<a[1];++t){for(let t=0;t<v;++t){const e=r[_+t],n=Math.floor(y/this.bandCount),i=t%this.bandCount,o=m[Math.floor(i/4)];o[n*(o.length/c)+i%4]=e,++y}_+=f/d}for(let e=0;e<g;++e){const r=this.textures[e],i=m[e];w(t,r,i,a,i.length/c,n.interpolate)}this.setReady()}getImagePixelData_(t,e,n){const r=this.gutter,i=this.renderSize_[0],o=this.renderSize_[1];E||(E=(0,b.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0})),E.clearRect(0,0,1,1);const s=t.width-2*r,a=t.height-2*r,l=r+Math.floor(s*(e/i)),c=r+Math.floor(a*(n/o));let u;try{E.drawImage(t,l,c,1,1,0,0,1,1),u=E.getImageData(0,0,1,1).data}catch(t){return E=null,null}return u}getArrayPixelData_(t,e,n,r){const i=this.gutter,o=this.renderSize_[0],s=this.renderSize_[1],a=e[0],l=e[1],c=a+2*i,u=l+2*i,h=i+Math.floor(a*(n/o)),d=i+Math.floor(l*(r/s));if(t instanceof DataView){const e=t.byteLength/(c*u),n=e*(d*c+h),r=t.buffer.slice(n,n+e);return new DataView(r)}const f=this.bandCount*(d*c+h);return t.slice(f,f+this.bandCount)}getPixelData(t,e){if(!this.loaded)return null;if(this.tile instanceof p.Ay){const n=this.tile.getData(),r=(0,p.bL)(n);if(r){const n=this.tile.getSize();return this.getArrayPixelData_(r,n,t,e)}return this.getImagePixelData_((0,p.xo)(n),t,e)}return this.getImagePixelData_(this.tile.getImage(),t,e)}};var C=n(4969),M=n(1110),A=n(5986),k=n(9960),I=n(3984),P=n(9777),R=n(9703);class O extends A.A{constructor(t,e){super(t),e=e||{},this.inversePixelTransform_=(0,R.vt)(),this.postProcesses_=e.postProcesses,this.uniforms_=e.uniforms,this.helper,this.onMapChanged_=()=>{this.clearCache(),this.removeHelper()},t.addChangeListener(i.A.MAP,this.onMapChanged_),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(t,e){const n=this.getLayer();if(n.hasListener(I.A.PRECOMPOSE)){const r=new k.default(I.A.PRECOMPOSE,void 0,e,t);n.dispatchEvent(r)}}dispatchPostComposeEvent(t,e){const n=this.getLayer();if(n.hasListener(I.A.POSTCOMPOSE)){const r=new k.default(I.A.POSTCOMPOSE,void 0,e,t);n.dispatchEvent(r)}}reset(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(t){if(this.getLayer().getRenderSource()){let e,n=!0,r=-1;for(let i=0,o=t.layerStatesArray.length;i<o;i++){const o=t.layerStatesArray[i].layer,s=o.getRenderer();if(!(s instanceof O)){n=!0;continue}const a=o.getClassName();if((n||a!==e)&&(r+=1,n=!1),e=a,s===this)break}const i="map/"+t.mapId+"/group/"+r;this.helper&&this.helper.canvasCacheKeyMatches(i)&&!this.helper.needsToBeRecreated()||(this.removeHelper(),this.helper=new P.default({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:i}),e&&(this.helper.getCanvas().className=e),this.afterHelperCreated())}return this.prepareFrameInternal(t)}afterHelperCreated(){}prepareFrameInternal(t){return!0}clearCache(){}disposeInternal(){this.clearCache(),this.removeHelper(),this.getLayer()?.removeChangeListener(i.A.MAP,this.onMapChanged_),super.disposeInternal()}dispatchRenderEvent_(t,e,n){const r=this.getLayer();if(r.hasListener(t)){(0,R.Zz)(this.inversePixelTransform_,0,0,n.pixelRatio,-n.pixelRatio,0,0,-n.size[1]);const i=new k.default(t,this.inversePixelTransform_,n,e);r.dispatchEvent(i)}}preRender(t,e){this.dispatchRenderEvent_(I.A.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(I.A.POSTRENDER,t,e)}}const N=O;var D=n(3954),$=n(186),L=n(6514),F=n(3407),j=n(915);function U(t){return 1/(t+2)}function B(t,e){return t.tileIds.has((0,h.getUid)(e))}function z(t,e,n){const r=t.representationsByZ;n in r||(r[n]=new Set),r[n].add(e),t.tileIds.add((0,h.getUid)(e.tile))}function G(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=(0,j.getIntersection)(e,(0,F.fromUserExtent)(n.extent,t.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const n=r.getTileGridForProjection(t.viewState.projection).getExtent();n&&(e=(0,j.getIntersection)(e,n))}return e}function H(t,e){return`${t.getKey()},${(0,$.i7)(e)}`}const W=class extends N{constructor(t,e){super(t,{uniforms:e.uniforms,postProcesses:e.postProcesses}),this.renderComplete=!1,this.tileTransform_=(0,R.vt)(),this.tempMat4=(0,D.v)(),this.tempTileRange_=new M.A(0,0,0,0),this.tempTileCoord_=(0,$.N)(0,0,0),this.tempSize_=[0,0];const n=void 0!==e.cacheSize?e.cacheSize:512;this.tileRepresentationCache=new C.A(n),this.frameState=null,this.renderedProjection_=void 0}reset(t){super.reset({uniforms:t.uniforms})}prepareFrameInternal(t){this.renderedProjection_?t.viewState.projection!==this.renderedProjection_&&(this.clearCache(),this.renderedProjection_=t.viewState.projection):this.renderedProjection_=t.viewState.projection;const e=this.getLayer().getRenderSource();return!!e&&(!(0,j.isEmpty)(G(t,t.extent))&&"ready"===e.getState())}createTileRepresentation(t){return(0,h.abstract)()}enqueueTiles(t,e,n,r,i){const o=t.viewState,s=this.getLayer(),l=s.getRenderSource(),c=l.getTileGridForProjection(o.projection),u=l.getGutterForProjection(o.projection),d=(0,h.getUid)(l);d in t.wantedTiles||(t.wantedTiles[d]={});const f=t.wantedTiles[d],p=this.tileRepresentationCache,g=s.getMapInternal(),m=Math.max(n-i,c.getMinZoom(),c.getZForResolution(Math.min(s.getMaxResolution(),g?g.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):c.getResolution(0)),l.zDirection));for(let i=n;i>=m;--i){const n=c.getTileRangeForExtentAndZ(e,i,this.tempTileRange_),s=c.getResolution(i);for(let e=n.minX;e<=n.maxX;++e)for(let h=n.minY;h<=n.maxY;++h){const n=(0,$.N)(i,e,h,this.tempTileCoord_),g=H(l,n);let m,y;if(p.containsKey(g)&&(m=p.get(g),y=m.tile),!(m&&m.tile.key===l.getKey()||(y=l.getTile(i,e,h,t.pixelRatio,o.projection),y)))continue;if(B(r,y))continue;m?m.setTile(y):(m=this.createTileRepresentation({tile:y,grid:c,helper:this.helper,gutter:u}),p.set(g,m)),z(r,m,i);const _=y.getKey();f[_]=!0,y.getState()===a.A.IDLE&&(t.tileQueue.isKeyQueued(_)||t.tileQueue.enqueue([y,d,c.getTileCoordCenter(n),s]))}}}beforeTilesRender(t,e){this.helper.prepareDraw(this.frameState,!e,!0)}beforeTilesMaskRender(t){return!1}renderTile(t,e,n,r,i,o,s,a,l,c,u){}renderTileMask(t,e,n,r){}drawTile_(t,e,n,r,i,o,s){if(!e.ready)return;const a=e.tile.tileCoord,l=(0,$.i7)(a),c=l in o?o[l]:1,u=s.getResolution(n),h=(0,x.toSize)(s.getTileSize(n),this.tempSize_),d=s.getOrigin(n),f=s.getTileCoordExtent(a),p=c<1?-1:U(n);c<1&&(t.animate=!0);const g=t.viewState,m=g.center[0],y=g.center[1],_=h[0]+2*r,v=h[1]+2*r,b=_/v,S=(m-d[0])/(h[0]*u),w=(d[1]-y)/(h[1]*u),E=g.resolution/u,T=a[1],C=a[2];(0,R.cL)(this.tileTransform_),(0,R.hs)(this.tileTransform_,2/(t.size[0]*E/_),-2/(t.size[1]*E/_)),(0,R.e$)(this.tileTransform_,g.rotation),(0,R.hs)(this.tileTransform_,1,1/b),(0,R.Tl)(this.tileTransform_,(h[0]*(T-S)-r)/_,(h[1]*(C-w)-r)/v),this.renderTile(e,this.tileTransform_,t,i,u,h,d,f,p,r,c)}renderFrame(t){this.frameState=t,this.renderComplete=!0;const e=this.helper.getGL();this.preRender(e,t);const n=t.viewState,r=this.getLayer(),i=r.getRenderSource(),l=i.getTileGridForProjection(n.projection),c=i.getGutterForProjection(n.projection),u=G(t,t.extent),d=l.getZForResolution(n.resolution,i.zDirection),f={tileIds:new Set,representationsByZ:{}},p=r.getPreload();if(t.nextExtent){const e=l.getZForResolution(n.nextResolution,i.zDirection),r=G(t,t.nextExtent);this.enqueueTiles(t,r,e,f,p)}this.enqueueTiles(t,u,d,f,0),p>0&&setTimeout((()=>{this.enqueueTiles(t,u,d-1,f,p-1)}),0);const g={},m=(0,h.getUid)(this),y=t.time;let _=!1;const v=f.representationsByZ;if(d in v)for(const t of v[d]){const e=t.tile;if((e instanceof s.A||e instanceof o.A)&&e.getState()===a.A.EMPTY)continue;const n=e.tileCoord;if(t.ready){const t=e.getAlpha(m,y);if(1===t){e.endTransition(m);continue}_=!0;g[(0,$.i7)(n)]=t}this.renderComplete=!1;if(this.findAltTiles_(l,n,d+1,f))continue;const r=l.getMinZoom();for(let t=d-1;t>=r;--t){if(this.findAltTiles_(l,n,t,f))break}}const b=Object.keys(v).map(Number).sort(L.descending);if(this.beforeTilesMaskRender(t))for(let t=0,e=b.length;t<e;++t){const e=b[t];for(const t of v[e]){const n=t.tile.tileCoord;if((0,$.i7)(n)in g)continue;const r=l.getTileCoordExtent(n);this.renderTileMask(t,e,r,U(e))}}this.beforeTilesRender(t,_);for(let e=0,n=b.length;e<n;++e){const n=b[e];for(const e of v[n]){const r=e.tile.tileCoord;(0,$.i7)(r)in g||this.drawTile_(t,e,n,c,u,g,l)}}if(d in v)for(const e of v[d]){const n=e.tile.tileCoord;(0,$.i7)(n)in g&&this.drawTile_(t,e,d,c,u,g,l)}this.beforeFinalize(t),this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const x=this.helper.getCanvas(),S=this.tileRepresentationCache;for(;S.canExpireCache();){S.pop().dispose()}return this.postRender(e,t),x}beforeFinalize(t){}findAltTiles_(t,e,n,r){const i=t.getTileRangeForTileCoordAndZ(e,n,this.tempTileRange_);if(!i)return!1;let o=!0;const s=this.tileRepresentationCache,a=this.getLayer().getRenderSource();for(let t=i.minX;t<=i.maxX;++t)for(let e=i.minY;e<=i.maxY;++e){const i=H(a,[n,t,e]);let l=!1;if(s.containsKey(i)){const t=s.get(i);t.ready&&!B(r,t.tile)&&(z(r,t,n),l=!0)}l||(o=!1)}return o}clearCache(){super.clearCache();const t=this.tileRepresentationCache;t.forEach((t=>t.dispose())),t.clear()}afterHelperCreated(){super.afterHelperCreated(),this.tileRepresentationCache.forEach((t=>t.setHelper(this.helper)))}disposeInternal(){super.disposeInternal(),delete this.frameState}},q={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},V="a_textureCoord",Y=[{name:V,size:2,type:P.AttributeType.FLOAT}];const X=class extends W{constructor(t,e){super(t,e),this.program_,this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.indices_=new v(g.IP,g.Ek),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=e.paletteTextures||[]}reset(t){if(super.reset(t),this.helper){const t=this.helper.getGL();for(const e of this.paletteTextures_)e.delete(t)}if(this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.paletteTextures_=t.paletteTextures||[],this.helper){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);const t=this.helper.getGL();for(const e of this.paletteTextures_)e.getTexture(t)}}afterHelperCreated(){super.afterHelperCreated();const t=this.helper.getGL();for(const e of this.paletteTextures_)e.getTexture(t);this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}removeHelper(){if(this.helper){const t=this.helper.getGL();for(const e of this.paletteTextures_)e.delete(t)}super.removeHelper()}createTileRepresentation(t){return new T(t)}beforeTilesRender(t,e){super.beforeTilesRender(t,e),this.helper.useProgram(this.program_,t)}renderTile(t,e,n,r,i,o,s,a,l,c,u){const h=this.helper.getGL();this.helper.bindBuffer(t.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(Y);let d=0;for(;d<t.textures.length;){const e=`${q.TILE_TEXTURE_ARRAY}[${d}]`;this.helper.bindTexture(t.textures[d],d,e),++d}for(let t=0;t<this.paletteTextures_.length;++t){const e=this.paletteTextures_[t],n=e.getTexture(h);this.helper.bindTexture(n,d,e.name),++d}const f=n.viewState,p=o[0]+2*c,g=o[1]+2*c,m=t.tile.tileCoord,y=m[1],_=m[2];this.helper.setUniformMatrixValue(q.TILE_TRANSFORM,(0,D.Z)(this.tempMat4,e)),this.helper.setUniformFloatValue(q.TRANSITION_ALPHA,u),this.helper.setUniformFloatValue(q.DEPTH,l);let v=r;c>0&&(v=a,(0,j.getIntersection)(v,r,v)),this.helper.setUniformFloatVec4(q.RENDER_EXTENT,v),this.helper.setUniformFloatValue(q.RESOLUTION,f.resolution),this.helper.setUniformFloatValue(q.ZOOM,f.zoom),this.helper.setUniformFloatValue(q.TEXTURE_PIXEL_WIDTH,p),this.helper.setUniformFloatValue(q.TEXTURE_PIXEL_HEIGHT,g),this.helper.setUniformFloatValue(q.TEXTURE_RESOLUTION,i),this.helper.setUniformFloatValue(q.TEXTURE_ORIGIN_X,s[0]+y*o[0]*i-c*i),this.helper.setUniformFloatValue(q.TEXTURE_ORIGIN_Y,s[1]-_*o[1]*i+c*i),this.helper.drawElements(0,this.indices_.getSize())}getData(t){if(!this.helper.getGL())return null;const e=this.frameState;if(!e)return null;const n=this.getLayer(),r=(0,R.Bb)(e.pixelToCoordinateTransform,t.slice()),i=e.viewState,l=n.getExtent();if(l&&!(0,j.containsCoordinate)((0,F.fromUserExtent)(l,i.projection),r))return null;const c=n.getSources((0,j.boundingExtent)([r]),i.resolution);let u,h,d;for(u=c.length-1;u>=0;--u)if(h=c[u],"ready"===h.getState()){if(d=h.getTileGridForProjection(i.projection),h.getWrapX())break;const t=d.getExtent();if(!t||(0,j.containsCoordinate)(t,r))break}if(u<0)return null;const f=this.tileRepresentationCache;for(let t=d.getZForResolution(i.resolution);t>=d.getMinZoom();--t){const e=d.getTileCoordForCoordAndZ(r,t),n=H(h,e);if(!f.containsKey(n))continue;const i=f.get(n),l=i.tile;if((l instanceof s.A||l instanceof o.A)&&l.getState()===a.A.EMPTY)return null;if(!i.loaded)continue;const c=d.getOrigin(t),u=(0,x.toSize)(d.getTileSize(t)),p=d.getResolution(t),g=(r[0]-c[0])/p-e[1]*u[0],m=(c[1]-r[1])/p-e[2]*u[1];return i.getPixelData(g,m)}return null}disposeInternal(){const t=this.helper;if(t){const e=t.getGL();for(const t of this.paletteTextures_)t.delete(e);this.paletteTextures_.length=0,e.deleteProgram(this.program_),delete this.program_,t.deleteBuffer(this.indices_)}super.disposeInternal(),delete this.indices_}};var K=n(9825);const Z=class{constructor(t,e){this.name=t,this.data=e,this.texture_=null}getTexture(t){if(!this.texture_){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.data.length/4,1,0,t.RGBA,t.UNSIGNED_BYTE,this.data),this.texture_=e}return this.texture_}delete(t){this.texture_&&t.deleteTexture(this.texture_),this.texture_=null}};var J=n(3730);function Q(t){const e=t.toString();return e.includes(".")?e:e+".0"}function tt(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(Q).join(", ")})`}const et={};let nt=0;function rt(t){return t in et||(et[t]=nt++),et[t]}function it(t){return"u_var_"+t}const ot="getBandValue",st="u_paletteTextures";function at(t){return(e,n,r)=>{const i=n.args.length,o=new Array(i);for(let t=0;t<i;++t)o[t]=ct(n.args[t],r,e);return t(o,e)}}const lt={[K.ZD.Get]:(t,e)=>{const n=e.args[0].value;n in t.properties||(t.properties[n]={name:n,type:e.type});return(t.inFragmentShader?"v_prop_":"a_prop_")+n},[K.ZD.GeometryType]:(t,e,n)=>{const r="geometryType";r in t.properties||(t.properties[r]={name:r,type:K.cT,evaluator:t=>(0,K.Ye)(t.getGeometry())});return(t.inFragmentShader?"v_prop_":"a_prop_")+r},[K.ZD.LineMetric]:()=>"currentLineMetric",[K.ZD.Var]:(t,e)=>{const n=e.args[0].value;return n in t.variables||(t.variables[n]={name:n,type:e.type}),it(n)},[K.ZD.Resolution]:()=>"u_resolution",[K.ZD.Zoom]:()=>"u_zoom",[K.ZD.Time]:()=>"u_time",[K.ZD.Any]:at((t=>`(${t.join(" || ")})`)),[K.ZD.All]:at((t=>`(${t.join(" && ")})`)),[K.ZD.Not]:at((([t])=>`(!${t})`)),[K.ZD.Equal]:at((([t,e])=>`(${t} == ${e})`)),[K.ZD.NotEqual]:at((([t,e])=>`(${t} != ${e})`)),[K.ZD.GreaterThan]:at((([t,e])=>`(${t} > ${e})`)),[K.ZD.GreaterThanOrEqualTo]:at((([t,e])=>`(${t} >= ${e})`)),[K.ZD.LessThan]:at((([t,e])=>`(${t} < ${e})`)),[K.ZD.LessThanOrEqualTo]:at((([t,e])=>`(${t} <= ${e})`)),[K.ZD.Multiply]:at((t=>`(${t.join(" * ")})`)),[K.ZD.Divide]:at((([t,e])=>`(${t} / ${e})`)),[K.ZD.Add]:at((t=>`(${t.join(" + ")})`)),[K.ZD.Subtract]:at((([t,e])=>`(${t} - ${e})`)),[K.ZD.Clamp]:at((([t,e,n])=>`clamp(${t}, ${e}, ${n})`)),[K.ZD.Mod]:at((([t,e])=>`mod(${t}, ${e})`)),[K.ZD.Pow]:at((([t,e])=>`pow(${t}, ${e})`)),[K.ZD.Abs]:at((([t])=>`abs(${t})`)),[K.ZD.Floor]:at((([t])=>`floor(${t})`)),[K.ZD.Ceil]:at((([t])=>`ceil(${t})`)),[K.ZD.Round]:at((([t])=>`floor(${t} + 0.5)`)),[K.ZD.Sin]:at((([t])=>`sin(${t})`)),[K.ZD.Cos]:at((([t])=>`cos(${t})`)),[K.ZD.Atan]:at((([t,e])=>void 0!==e?`atan(${t}, ${e})`:`atan(${t})`)),[K.ZD.Sqrt]:at((([t])=>`sqrt(${t})`)),[K.ZD.Match]:at((t=>{const e=t[0],n=t[t.length-1];let r=null;for(let i=t.length-3;i>=1;i-=2){r=`(${e} == ${t[i]} ? ${t[i+1]} : ${r||n})`}return r})),[K.ZD.Between]:at((([t,e,n])=>`(${t} >= ${e} && ${t} <= ${n})`)),[K.ZD.Interpolate]:at((([t,e,...n])=>{let r="";for(let i=0;i<n.length-2;i+=2){const o=n[i],s=r||n[i+1],a=n[i+2],l=n[i+3];let c;c=t===Q(1)?`(${e} - ${o}) / (${a} - ${o})`:`(pow(${t}, (${e} - ${o})) - 1.0) / (pow(${t}, (${a} - ${o})) - 1.0)`,r=`mix(${s}, ${l}, clamp(${c}, 0.0, 1.0))`}return r})),[K.ZD.Case]:at((t=>{const e=t[t.length-1];let n=null;for(let r=t.length-3;r>=0;r-=2){n=`(${t[r]} ? ${t[r+1]} : ${n||e})`}return n})),[K.ZD.In]:at((([t,...e],n)=>{const r=function(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}("in",n),i=[];for(let t=0;t<e.length;t+=1)i.push(`  if (inputValue == ${e[t]}) { return true; }`);return n.functions[r]=`bool ${r}(float inputValue) {\n${i.join("\n")}\n  return false;\n}`,`${r}(${t})`})),[K.ZD.Array]:at((t=>`vec${t.length}(${t.join(", ")})`)),[K.ZD.Color]:at((t=>{if(1===t.length)return`vec4(vec3(${t[0]} / 255.0), 1.0)`;if(2===t.length)return`vec4(vec3(${t[0]} / 255.0), ${t[1]})`;const e=t.slice(0,3).map((t=>`${t} / 255.0`));if(3===t.length)return`vec4(${e.join(", ")}, 1.0)`;const n=t[3];return`vec4(${e.join(", ")}, ${n})`})),[K.ZD.Band]:at((([t,e,n],r)=>{if(!(ot in r.functions)){let t="";const e=r.bandCount||1;for(let n=0;n<e;n++){const r=Math.floor(n/4);let i=n%4;n===e-1&&1===i&&(i=3);t+=`  if (band == ${n+1}.0) {\n    return texture2D(${`${q.TILE_TEXTURE_ARRAY}[${r}]`}, v_textureCoord + vec2(dx, dy))[${i}];\n  }\n`}r.functions[ot]=`float getBandValue(float band, float xOffset, float yOffset) {\n  float dx = xOffset / ${q.TEXTURE_PIXEL_WIDTH};\n  float dy = yOffset / ${q.TEXTURE_PIXEL_HEIGHT};\n${t}\n}`}return`${ot}(${t}, ${e??"0.0"}, ${n??"0.0"})`})),[K.ZD.Palette]:(t,e)=>{const[n,...r]=e.args,i=r.length,o=new Uint8Array(4*i);for(let t=0;t<r.length;t++){const e=r[t].value,n=(0,J.asArray)(e),i=4*t;o[i]=n[0],o[i+1]=n[1],o[i+2]=n[2],o[i+3]=255*n[3]}t.paletteTextures||(t.paletteTextures=[]);const s=`${st}[${t.paletteTextures.length}]`,a=new Z(s,o);t.paletteTextures.push(a);return`texture2D(${s}, vec2((${ct(n,K.wl,t)} + 0.5) / ${i}.0, 0.5))`}};function ct(t,e,n){if(t instanceof K.DG){const r=lt[t.operator];if(void 0===r)throw new Error(`No compiler defined for this operator: ${JSON.stringify(t.operator)}`);return r(n,t,e)}if((t.type&K.wl)>0)return Q(t.value);if((t.type&K.T8)>0)return t.value.toString();if((t.type&K.cT)>0)return Q(rt(t.value.toString()));var r;if((t.type&K.mE)>0)return function(t){const e=(0,J.asArray)(t),n=e.length>3?e[3]:1;return tt([e[0]/255,e[1]/255,e[2]/255,n])}(t.value);if((t.type&K.Fq)>0)return tt(t.value);if((t.type&K.qA)>0)return r=t.value,tt((0,x.toSize)(r));throw new Error(`Unexpected expression ${t.value} (expected type ${(0,K.go)(e)})`)}n(1597);function ut(t,e,n){return function(t,e,n,r){return ct((0,K.qg)(t,e,n),e,r)}(e,n,(0,K.SR)(),t)}function ht(t,e){const n=`\n    attribute vec2 ${V};\n    uniform mat4 ${q.TILE_TRANSFORM};\n    uniform float ${q.TEXTURE_PIXEL_WIDTH};\n    uniform float ${q.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${q.TEXTURE_RESOLUTION};\n    uniform float ${q.TEXTURE_ORIGIN_X};\n    uniform float ${q.TEXTURE_ORIGIN_Y};\n    uniform float ${q.DEPTH};\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord = ${V};\n      v_mapCoord = vec2(\n        ${q.TEXTURE_ORIGIN_X} + ${q.TEXTURE_RESOLUTION} * ${q.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],\n        ${q.TEXTURE_ORIGIN_Y} - ${q.TEXTURE_RESOLUTION} * ${q.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]\n      );\n      gl_Position = ${q.TILE_TRANSFORM} * vec4(${V}, ${q.DEPTH}, 1.0);\n    }\n  `,r={inFragmentShader:!1,variables:{},properties:{},functions:{},bandCount:0,style:{},inFragmentShader:!0,bandCount:e,style:t},i=[];if(void 0!==t.color){const e=ut(r,t.color,K.mE);i.push(`color = ${e};`)}if(void 0!==t.contrast){const e=ut(r,t.contrast,K.wl);i.push(`color.rgb = clamp((${e} + 1.0) * color.rgb - (${e} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(void 0!==t.exposure){const e=ut(r,t.exposure,K.wl);i.push(`color.rgb = clamp((${e} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(void 0!==t.saturation){const e=ut(r,t.saturation,K.wl);i.push(`\n      float saturation = ${e} + 1.0;\n      float sr = (1.0 - saturation) * 0.2126;\n      float sg = (1.0 - saturation) * 0.7152;\n      float sb = (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix = mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    `)}if(void 0!==t.gamma){const e=ut(r,t.gamma,K.wl);i.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${e}));`)}if(void 0!==t.brightness){const e=ut(r,t.brightness,K.wl);i.push(`color.rgb = clamp(color.rgb + ${e}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}const o={},s=Object.keys(r.variables).length;if(s>1&&!t.variables)throw new Error(`Missing variables in style (expected ${r.variables})`);for(let e=0;e<s;++e){const n=r.variables[Object.keys(r.variables)[e]];if(!(n.name in t.variables))throw new Error(`Missing '${n.name}' in style variables`);o[it(n.name)]=function(){let e=t.variables[n.name];return"string"==typeof e&&(e=rt(e)),void 0!==e?e:-9999999}}const a=Object.keys(o).map((function(t){return`uniform float ${t};`})),l=Math.ceil(e/4);a.push(`uniform sampler2D ${q.TILE_TEXTURE_ARRAY}[${l}];`),r.paletteTextures&&a.push(`uniform sampler2D ${st}[${r.paletteTextures.length}];`);const c=Object.keys(r.functions).map((function(t){return r.functions[t]}));return{vertexShader:n,fragmentShader:`\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ${q.RENDER_EXTENT};\n    uniform float ${q.TRANSITION_ALPHA};\n    uniform float ${q.TEXTURE_PIXEL_WIDTH};\n    uniform float ${q.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${q.RESOLUTION};\n    uniform float ${q.ZOOM};\n\n    ${a.join("\n")}\n\n    ${c.join("\n")}\n\n    void main() {\n      if (\n        v_mapCoord[0] < ${q.RENDER_EXTENT}[0] ||\n        v_mapCoord[1] < ${q.RENDER_EXTENT}[1] ||\n        v_mapCoord[0] > ${q.RENDER_EXTENT}[2] ||\n        v_mapCoord[1] > ${q.RENDER_EXTENT}[3]\n      ) {\n        discard;\n      }\n\n      vec4 color = texture2D(${q.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);\n\n      ${i.join("\n")}\n\n      gl_FragColor = color;\n      gl_FragColor.rgb *= gl_FragColor.a;\n      gl_FragColor *= ${q.TRANSITION_ALPHA};\n    }`,uniforms:o,paletteTextures:r.paletteTextures}}class dt extends r.A{constructor(t){const e=(t=t?Object.assign({},t):{}).style||{};delete t.style,super(t),this.sources_=t.sources,this.renderedSource_=null,this.renderedResolution_=NaN,this.style_=e,this.styleVariables_=this.style_.variables||{},this.addChangeListener(i.A.SOURCE,this.handleSourceUpdate_)}getSources(t,e){const n=this.getSource();return this.sources_?"function"==typeof this.sources_?this.sources_(t,e):this.sources_:n?[n]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const t=this.getRenderSource();return t?t.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache();const t=this.getSource();if(t)if("loading"===t.getState()){const e=()=>{"ready"===t.getState()&&(t.removeEventListener("change",e),this.setStyle(this.style_))};t.addEventListener("change",e)}else this.setStyle(this.style_)}getSourceBandCount_(){const t=Number.MAX_SAFE_INTEGER,e=this.getSources([-t,-t,t,t],t);return e&&e.length&&"bandCount"in e[0]?e[0].bandCount:4}createRenderer(){const t=ht(this.style_,this.getSourceBandCount_());return new X(this,{vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,cacheSize:this.getCacheSize(),paletteTextures:t.paletteTextures})}renderSources(t,e){const n=this.getRenderer();let r;for(let i=0,o=e.length;i<o;++i)this.renderedSource_=e[i],n.prepareFrame(t)&&(r=n.renderFrame(t));return r}render(t,e){this.rendered=!0;const n=t.viewState,r=this.getSources(t.extent,n.resolution);let i=!0;for(let t=0,e=r.length;t<e;++t){const e=r[t],n=e.getState();if("loading"==n){const t=()=>{"ready"==e.getState()&&(e.removeEventListener("change",t),this.changed())};e.addEventListener("change",t)}i=i&&"ready"==n}const o=this.renderSources(t,r);if(this.getRenderer().renderComplete&&i)return this.renderedResolution_=n.resolution,o;if(this.renderedResolution_>.5*n.resolution){const e=this.getSources(t.extent,this.renderedResolution_).filter((t=>!r.includes(t)));if(e.length>0)return this.renderSources(t,e)}return o}setStyle(t){if(this.styleVariables_=t.variables||{},this.style_=t,this.hasRenderer()){const t=ht(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,paletteTextures:t.paletteTextures}),this.changed()}}updateStyleVariables(t){Object.assign(this.styleVariables_,t),this.changed()}}dt.prototype.dispose;const ft=dt},1597:(t,e,n)=>{"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}function i(t,e,n,r,i,s){const a=i-n,l=s-r;if(0!==a||0!==l){const o=((t-n)*a+(e-r)*l)/(a*a+l*l);o>1?(n=i,r=s):o>0&&(n+=a*o,r+=l*o)}return o(t,e,n,r)}function o(t,e,n,r){const i=n-t,o=r-e;return i*i+o*o}function s(t){const e=t.length;for(let n=0;n<e;n++){let r=n,i=Math.abs(t[n][n]);for(let o=n+1;o<e;o++){const e=Math.abs(t[o][n]);e>i&&(i=e,r=o)}if(0===i)return null;const o=t[r];t[r]=t[n],t[n]=o;for(let r=n+1;r<e;r++){const i=-t[r][n]/t[n][n];for(let o=n;o<e+1;o++)n==o?t[r][o]=0:t[r][o]+=i*t[n][o]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function a(t){return 180*t/Math.PI}function l(t){return t*Math.PI/180}function c(t,e){const n=t%e;return n*e<0?n+e:n}function u(t,e,n){return t+n*(e-t)}function h(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function d(t,e){return Math.round(h(t,e))}function f(t,e){return Math.floor(h(t,e))}function p(t,e){return Math.ceil(h(t,e))}n.r(e),n.d(e,{ceil:()=>p,clamp:()=>r,floor:()=>f,lerp:()=>u,modulo:()=>c,round:()=>d,solveLinearSystem:()=>s,squaredDistance:()=>o,squaredSegmentDistance:()=>i,toDegrees:()=>a,toFixed:()=>h,toRadians:()=>l})},7820:(t,e,n)=>{"use strict";function r(t,e,n=0,s=t.length-1,a=o){for(;s>n;){if(s-n>600){const i=s-n+1,o=e-n+1,l=Math.log(i),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(i-c)/i)*(o-i/2<0?-1:1);r(t,e,Math.max(n,Math.floor(e-o*c/i+u)),Math.min(s,Math.floor(e+(i-o)*c/i+u)),a)}const o=t[e];let l=n,c=s;for(i(t,n,e),a(t[s],o)>0&&i(t,n,s);l<c;){for(i(t,l,c),l++,c--;a(t[l],o)<0;)l++;for(;a(t[c],o)>0;)c--}0===a(t[n],o)?i(t,n,c):(c++,i(t,c,s)),c<=e&&(n=c+1),e<=c&&(s=c-1)}}function i(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function o(t,e){return t<e?-1:t>e?1:0}n.d(e,{A:()=>s});class s{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!y(t,e))return n;const r=this.toBBox,i=[];for(;e;){for(let o=0;o<e.children.length;o++){const s=e.children[o],a=e.leaf?r(s):s;y(t,a)&&(e.leaf?n.push(s):m(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n}collides(t){let e=this.data;if(!y(t,e))return!1;const n=[];for(;e;){for(let r=0;r<e.children.length;r++){const i=e.children[r],o=e.leaf?this.toBBox(i):i;if(y(t,o)){if(e.leaf||m(t,o))return!0;n.push(i)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=_([]),this}remove(t,e){if(!t)return this;let n=this.data;const r=this.toBBox(t),i=[],o=[];let s,l,c;for(;n||i.length;){if(n||(n=i.pop(),l=i[i.length-1],s=o.pop(),c=!0),n.leaf){const r=a(t,n.children,e);if(-1!==r)return n.children.splice(r,1),i.push(n),this._condense(i),this}c||n.leaf||!m(n,r)?l?(s++,n=l.children[s],c=!1):n=null:(i.push(n),o.push(s),s=0,l=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,r){const i=n-e+1;let o,s=this._maxEntries;if(i<=s)return o=_(t.slice(e,n+1)),l(o,this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),o=_([]),o.leaf=!1,o.height=r;const a=Math.ceil(i/s),c=a*Math.ceil(Math.sqrt(s));v(t,e,n,c,this.compareMinX);for(let i=e;i<=n;i+=c){const e=Math.min(i+c-1,n);v(t,i,e,a,this.compareMinY);for(let n=i;n<=e;n+=a){const i=Math.min(n+a-1,e);o.children.push(this._build(t,n,i,r-1))}}return l(o,this.toBBox),o}_chooseSubtree(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){let n,r=1/0,s=1/0;for(let a=0;a<e.children.length;a++){const l=e.children[a],c=f(l),u=(i=t,o=l,(Math.max(o.maxX,i.maxX)-Math.min(o.minX,i.minX))*(Math.max(o.maxY,i.maxY)-Math.min(o.minY,i.minY))-c);u<s?(s=u,r=c<r?c:r,n=l):u===s&&c<r&&(r=c,n=l)}e=n||e.children[0]}var i,o;return e}_insert(t,e,n){const r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),u(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)}_split(t,e){const n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const o=this._chooseSplitIndex(n,i,r),s=_(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,l(n,this.toBBox),l(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)}_splitRoot(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,l(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let r,i=1/0,o=1/0;for(let s=e;s<=n-e;s++){const e=c(t,0,s,this.toBBox),a=c(t,s,n,this.toBBox),l=g(e,a),u=f(e)+f(a);l<i?(i=l,r=s,o=u<o?u:o):l===i&&u<o&&(o=u,r=s)}return r||n-e}_chooseSplitAxis(t,e,n){const r=t.leaf?this.compareMinX:h,i=t.leaf?this.compareMinY:d;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const i=this.toBBox,o=c(t,0,e,i),s=c(t,n-e,n,i);let a=p(o)+p(s);for(let r=e;r<n-e;r++){const e=t.children[r];u(o,t.leaf?i(e):e),a+=p(o)}for(let r=n-e-1;r>=e;r--){const e=t.children[r];u(s,t.leaf?i(e):e),a+=p(s)}return a}_adjustParentBBoxes(t,e,n){for(let r=n;r>=0;r--)u(e[r],t)}_condense(t){for(let e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():l(t[n],this.toBBox)}}function a(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function l(t,e){c(t,0,t.children.length,e,t)}function c(t,e,n,r,i){i||(i=_(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<n;o++){const e=t.children[o];u(i,t.leaf?r(e):e)}return i}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function d(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function g(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function m(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,n,i,o){const s=[e,n];for(;s.length;){if((n=s.pop())-(e=s.pop())<=i)continue;const a=e+Math.ceil((n-e)/i/2)*i;r(t,a,e,n,o),s.push(e,a,a,n)}}},3530:(t,e,n)=>{"use strict";function r(t){for(const e in t)delete t[e]}function i(t){let e;for(e in t)return!1;return!e}n.r(e),n.d(e,{clear:()=>r,isEmpty:()=>i})},613:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},3407:(t,e,n)=>{"use strict";n.r(e),n.d(e,{METERS_PER_UNIT:()=>y.I,Projection:()=>r.A,addCommon:()=>ot,addCoordinateTransforms:()=>F,addEquivalentProjections:()=>O,addEquivalentTransforms:()=>N,addProjection:()=>k,addProjections:()=>I,clearAllProjections:()=>D,clearUserProjection:()=>X,cloneTransform:()=>M,createProjection:()=>$,createSafeCoordinateTransform:()=>it,createTransformFromCoordinateTransform:()=>L,disableCoordinateWarning:()=>C,equivalent:()=>B,fromLonLat:()=>j,fromUserCoordinate:()=>Q,fromUserExtent:()=>et,fromUserResolution:()=>rt,get:()=>P,getPointResolution:()=>R,getTransform:()=>G,getTransformFromProjections:()=>z,getUserProjection:()=>K,identityTransform:()=>A,setUserProjection:()=>Y,toLonLat:()=>U,toUserCoordinate:()=>J,toUserExtent:()=>tt,toUserResolution:()=>nt,transform:()=>H,transformExtent:()=>W,transformWithProjections:()=>q,useGeographic:()=>Z});var r=n(5286);const i=6378137,o=Math.PI*i,s=[-o,-o,o,o],a=[-180,-85,180,85],l=i*Math.log(Math.tan(Math.PI/2));class c extends r.A{constructor(t){super({code:t,units:"m",extent:s,global:!0,worldExtent:a,getPointResolution:function(t,e){return t/Math.cosh(e[1]/i)}})}}const u=[new c("EPSG:3857"),new c("EPSG:102100"),new c("EPSG:102113"),new c("EPSG:900913"),new c("http://www.opengis.net/def/crs/EPSG/0/3857"),new c("http://www.opengis.net/gml/srs/epsg.xml#3857")];function h(t,e,n,r){const s=t.length;n=n>1?n:2,r=r??n,void 0===e&&(e=n>2?t.slice():new Array(s));for(let n=0;n<s;n+=r){e[n]=o*t[n]/180;let r=i*Math.log(Math.tan(Math.PI*(+t[n+1]+90)/360));r>l?r=l:r<-l&&(r=-l),e[n+1]=r}return e}function d(t,e,n,r){const s=t.length;n=n>1?n:2,r=r??n,void 0===e&&(e=n>2?t.slice():new Array(s));for(let n=0;n<s;n+=r)e[n]=180*t[n]/o,e[n+1]=360*Math.atan(Math.exp(t[n+1]/i))/Math.PI-90;return e}const f=[-180,-90,180,90],p=6378137*Math.PI/180;class g extends r.A{constructor(t,e){super({code:t,units:"degrees",extent:f,axisOrientation:e,global:!0,metersPerUnit:p,worldExtent:f})}}const m=[new g("CRS:84"),new g("EPSG:4326","neu"),new g("urn:ogc:def:crs:OGC:1.3:CRS84"),new g("urn:ogc:def:crs:OGC:2:84"),new g("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new g("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new g("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var y=n(8100);let _={};var v=n(3158),b=n(915),x=n(1597),S=n(9314),w=n(2490),E=n(4422);let T=!0;function C(t){T=!(void 0===t||t)}function M(t,e){if(void 0!==e)for(let n=0,r=t.length;n<r;++n)e[n]=t[n];else e=t.slice();return e}function A(t,e){if(void 0!==e&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function k(t){!function(t,e){_[t]=e}(t.getCode(),t),(0,v.WQ)(t,t,M)}function I(t){t.forEach(k)}function P(t){return"string"==typeof t?_[e=t]||_[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function R(t,e,n,r){let i;const o=(t=P(t)).getPointResolutionFunc();if(o){if(i=o(e,n),r&&r!==t.getUnits()){const e=t.getMetersPerUnit();e&&(i=i*e/y.I[r])}}else{const o=t.getUnits();if("degrees"==o&&!r||"degrees"==r)i=e;else{const s=z(t,P("EPSG:4326"));if(s===A&&"degrees"!==o)i=e*t.getMetersPerUnit();else{let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=s(t,t,2);i=((0,w.getDistance)(t.slice(0,2),t.slice(2,4))+(0,w.getDistance)(t.slice(4,6),t.slice(6,8)))/2}const a=r?y.I[r]:t.getMetersPerUnit();void 0!==a&&(i/=a)}}return i}function O(t){I(t),t.forEach((function(e){t.forEach((function(t){e!==t&&(0,v.WQ)(e,t,M)}))}))}function N(t,e,n,r){t.forEach((function(t){e.forEach((function(e){(0,v.WQ)(t,e,n),(0,v.WQ)(e,t,r)}))}))}function D(){_={},(0,v.IU)()}function $(t,e){return t?"string"==typeof t?P(t):t:P(e)}function L(t){return function(e,n,r,i){const o=e.length;r=void 0!==r?r:2,i=i??r,n=void 0!==n?n:new Array(o);for(let s=0;s<o;s+=i){const o=t(e.slice(s,s+r)),a=o.length;for(let t=0,r=i;t<r;++t)n[s+t]=t>=a?e[s+t]:o[t]}return n}}function F(t,e,n,r){const i=P(t),o=P(e);(0,v.WQ)(i,o,L(n)),(0,v.WQ)(o,i,L(r))}function j(t,e){return C(),H(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function U(t,e){const n=H(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=(0,x.modulo)(r+180,360)-180),n}function B(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;return z(t,e)===M&&n}function z(t,e){const n=t.getCode(),r=e.getCode();let i=(0,v.Jt)(n,r);return i||(i=A),i}function G(t,e){return z(P(t),P(e))}function H(t,e,n){return G(e,n)(t,void 0,t.length)}function W(t,e,n,r){const i=G(e,n);return(0,b.applyTransform)(t,i,void 0,r)}function q(t,e,n){return z(e,n)(t)}let V=null;function Y(t){V=P(t)}function X(){V=null}function K(){return V}function Z(){Y("EPSG:4326")}function J(t,e){return V?H(t,e,V):t}function Q(t,e){return V?H(t,V,e):(T&&!(0,S.equals)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(T=!1,(0,E.R8)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function tt(t,e){return V?W(t,e,V):t}function et(t,e){return V?W(t,V,e):t}function nt(t,e){if(!V)return t;const n=P(e).getMetersPerUnit(),r=V.getMetersPerUnit();return n&&r?t*n/r:t}function rt(t,e){if(!V)return t;const n=P(e).getMetersPerUnit(),r=V.getMetersPerUnit();return n&&r?t*r/n:t}function it(t,e,n){return function(r){let i,o;if(t.canWrapX()){const e=t.getExtent(),s=(0,b.getWidth)(e);r=r.slice(0),o=(0,S.getWorldsAway)(r,t,s),o&&(r[0]=r[0]-o*s),r[0]=(0,x.clamp)(r[0],e[0],e[2]),r[1]=(0,x.clamp)(r[1],e[1],e[3]),i=n(r)}else i=n(r);return o&&e.canWrapX()&&(i[0]+=o*(0,b.getWidth)(e.getExtent())),i}}function ot(){O(u),O(m),N(m,u,h,d)}ot()},5286:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(8100);const i=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||r.I[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},8100:(t,e,n)=>{"use strict";n.d(e,{I:()=>r});const r={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},4078:(t,e,n)=>{"use strict";n.r(e),n.d(e,{epsgLookupMapTiler:()=>p,fromEPSGCode:()=>f,getEPSGLookup:()=>d,isRegistered:()=>a,register:()=>c,setEPSGLookup:()=>h,unregister:()=>l});var r=n(5286),i=n(3407),o=n(3158);let s=null;function a(){return!!s}function l(){s=null}function c(t){s=t;const e=Object.keys(t.defs),n=e.length;let a,l;for(a=0;a<n;++a){const n=e[a];if(!(0,i.get)(n)){const e=t.defs(n);let o=e.units;o||"longlat"!==e.projName||(o="degrees"),(0,i.addProjection)(new r.A({code:n,axisOrientation:e.axis,metersPerUnit:e.to_meter,units:o}))}}for(a=0;a<n;++a){const r=e[a],s=(0,i.get)(r);for(l=0;l<n;++l){const n=e[l],a=(0,i.get)(n);if(!(0,o.Jt)(r,n))if(t.defs[r]===t.defs[n])(0,i.addEquivalentProjections)([s,a]);else{const e=t(r,n);(0,i.addCoordinateTransforms)(s,a,(0,i.createSafeCoordinateTransform)(s,a,e.forward),(0,i.createSafeCoordinateTransform)(a,s,e.inverse))}}}}let u=async function(t){const e=await fetch(`https://epsg.io/${t}.proj4`);if(!e.ok)throw new Error(`Unexpected response from epsg.io: ${e.status}`);return e.text()};function h(t){u=t}function d(){return u}async function f(t){"string"==typeof t&&(t=parseInt(t.split(":").pop(),10));const e=s;if(!e)throw new Error("Proj4 must be registered first with register(proj4)");const n="EPSG:"+t;return e.defs(n)||(e.defs(n,await u(t)),c(e)),(0,i.get)(n)}function p(t){return async function(e){const n=await fetch(`https://api.maptiler.com/coordinates/search/code:${e}.json?transformations=true&exports=true&key=${t}`);if(!n.ok)throw new Error(`Unexpected response from maptiler.com: ${n.status}`);return n.json().then((t=>{const n=t.results;if(n?.length>0){const t=n.filter((t=>"EPSG"===t.id?.authority&&t.id?.code===e))[0];if(t){const e=t.transformations;if(e?.length>0){const n=t.default_transformation;if(e.filter((t=>t.id?.authority===n?.authority&&t.id?.code===n?.code&&0===t.grids?.length)).length>0)return t.exports?.proj4;const r=e.filter((t=>0===t.grids?.length&&"EPSG"===t.target_crs?.authority&&4326===t.target_crs?.code&&!1===t.deprecated&&!0===t.usable)).sort(((t,e)=>t.accuracy-e.accuracy))[0]?.exports?.proj4;if(r)return r}return t.exports?.proj4}}}))}}},3158:(t,e,n)=>{"use strict";n.d(e,{IU:()=>i,Jt:()=>s,WQ:()=>o});n(3530);let r={};function i(){r={}}function o(t,e,n){const i=t.getCode(),o=e.getCode();i in r||(r[i]={}),r[i][o]=n}function s(t,e){let n;return t in r&&e in r[t]&&(n=r[t][e]),n}},9960:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(1685);class i extends r.default{constructor(t,e,n,r){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=r}}const o=i},3984:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},4778:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>m});n(6717),n(6643);var r=n(9703),i=n(915),o=n(3671),s=n(6514),a=n(2616),l=n(3407),c=n(3402),u=n(9969),h=n(4049),d=n(4238),f=n(7622);const p=(0,r.vt)();class g{constructor(t,e,n,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=i,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,i.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,i.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=(0,i.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,a.J)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=(0,c.yJ)(this.flatCoordinates_,this.ends_),e=(0,h.C)(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=(0,a.p)(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=(0,u.SH)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let r=0,i=n.length;r<i;++r){const i=n[r],o=(0,u.SH)(t,e,i,2,.5);(0,s.extend)(this.flatMidpoints_,o),e=i}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=(0,l.get)(t)).getExtent(),n=t.getWorldExtent();if(e&&n){const t=(0,i.getHeight)(n)/(0,i.getHeight)(e);(0,r.Zz)(p,n[0],n[3],t,-t,0,0,0),(0,f.Rc)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,p,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new g(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=(0,d.memoizeOne)(((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const n=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":n.length=(0,o.P4)(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,n,0),r=[n.length];break;case"MultiLineString":r=[],n.length=(0,o.AL)(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,n,0,r);break;case"Polygon":r=[],n.length=(0,o.Hg)(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),n,0,r)}return r&&(this.simplifiedGeometry_=new g(this.type_,n,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_})),this}}g.prototype.getFlatCoordinates=g.prototype.getOrientedFlatCoordinates;const m=g},2826:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=class{drawCustom(t,e,n,r,i){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,n){}drawFeature(t,e,n){}drawGeometryCollection(t,e,n){}drawLineString(t,e,n){}drawMultiLineString(t,e,n){}drawMultiPoint(t,e,n){}drawMultiPolygon(t,e,n){}drawPoint(t,e,n){}drawPolygon(t,e,n){}drawText(t,e,n){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}},8774:(t,e,n)=>{"use strict";n.d(e,{Jw:()=>I,M8:()=>y,MY:()=>m,NT:()=>g,Oq:()=>h,TA:()=>A,Tq:()=>_,ZV:()=>l,_K:()=>f,_m:()=>u,aq:()=>v,eL:()=>p,fZ:()=>E,jT:()=>k,qY:()=>c,vk:()=>d,yY:()=>b});var r=n(4120),i=n(7771),o=n(3530),s=n(8711),a=n(5176);const l="10px sans-serif",c="#000",u="round",h=[],d=0,f="round",p=10,g="#000",m="center",y="middle",_=[0,0,0,0],v=1,b=new r.default;let x,S=null;const w={},E=function(){const t="32px ",e=["monospace","serif"],n=e.length,r="wmytzilWMYTZIL@#/&?$%10";let i,s;function l(i,o,a){let l=!0;for(let c=0;c<n;++c){const n=e[c];if(s=M(i+" "+o+" "+t+n,r),a!=n){const e=M(i+" "+o+" "+t+a+","+n,r);l=l&&e!=s}}return!!l}function c(){let t=!0;const e=b.getKeys();for(let n=0,r=e.length;n<r;++n){const r=e[n];if(b.get(r)<100){const[e,n,i]=r.split("\n");l(e,n,i)?((0,o.clear)(w),S=null,x=void 0,b.set(r,100)):(b.set(r,b.get(r)+1,!0),t=!1)}}t&&(clearInterval(i),i=void 0)}return function(t){const e=(0,a.K5)(t);if(!e)return;const n=e.families;for(let t=0,r=n.length;t<r;++t){const r=n[t],o=e.style+"\n"+e.weight+"\n"+r;void 0===b.get(o)&&(b.set(o,100,!0),l(e.style,e.weight,r)||(b.set(o,0,!0),void 0===i&&(i=setInterval(c,32))))}}}(),T=function(){let t;return function(e){let n=w[e];if(null==n){if(i.WORKER_OFFSCREEN_CANVAS){const t=(0,a.K5)(e),r=C(e,"Žg");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);w[e]=n}return n}}();function C(t,e){return S||(S=(0,s.createCanvasContext2D)(1,1)),t!=x&&(S.font=t,x=S.font),S.measureText(e)}function M(t,e){return C(t,e).width}function A(t,e,n){if(e in n)return n[e];const r=e.split("\n").reduce(((e,n)=>Math.max(e,M(t,n))),0);return n[e]=r,r}function k(t,e){const n=[],r=[],i=[];let o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const h=e[c];if("\n"===h||c===u){o=Math.max(o,s),i.push(s),s=0,a+=l,l=0;continue}const d=e[c+1]||t.font,f=M(d,h);n.push(f),s+=f;const p=T(d);r.push(p),l=Math.max(l,p)}return{width:o,height:a,widths:n,heights:r,lineWidths:i}}function I(t,e,n,r,i,o,s,a,l,c,u){t.save(),1!==n&&(void 0===t.globalAlpha?t.globalAlpha=t=>t.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),r.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),function(t,e){const n=t.contextInstructions;for(let t=0,r=n.length;t<r;t+=2)Array.isArray(n[t+1])?e[n[t]].apply(e,n[t+1]):e[n[t]]=n[t+1]}(r,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(r,i,o,s,a,0,0,s,a)):t.drawImage(r,i,o,s,a,l,c,s*u[0],a*u[1]),t.restore()}},8130:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(6429),i=n(1580),o=n(2826),s=n(9676),a=n(915),l=n(8774),c=n(6514),u=n(6361);class h extends o.A{constructor(t,e,n,r){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates;let o=i.length;for(let s=0,l=t.length;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],(0,a.containsCoordinate)(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o}appendFlatLineCoordinates(t,e,n,r,o,s){const l=this.coordinates;let c=l.length;const u=this.getBufferedMaxExtent();s&&(e+=r);let h=t[e],d=t[e+1];const f=this.tmpCoordinate_;let p,g,m,y=!0;for(p=e+r;p<n;p+=r)f[0]=t[p],f[1]=t[p+1],m=(0,a.coordinateRelationship)(u,f),m!==g?(y&&(l[c++]=h,l[c++]=d,y=!1),l[c++]=f[0],l[c++]=f[1]):m===i.A.INTERSECTING?(l[c++]=f[0],l[c++]=f[1],y=!1):y=!0,h=f[0],d=f[1],g=m;return(o&&y||p===e+r)&&(l[c++]=h,l[c++]=d),c}drawCustomCoordinates_(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(t,e,s,r,!1,!1);i.push(a),e=s}return e}drawCustom(t,e,n,i,o){this.beginGeometry(t,e,o);const s=t.getType(),a=t.getStride(),l=this.coordinates.length;let c,h,d,f,p;switch(s){case"MultiPolygon":c=t.getOrientedFlatCoordinates(),f=[];const e=t.getEndss();p=0;for(let t=0,n=e.length;t<n;++t){const n=[];p=this.drawCustomCoordinates_(c,p,e[t],a,n),f.push(n)}this.instructions.push([r.Ay.CUSTOM,l,f,t,n,u.Dz,o]),this.hitDetectionInstructions.push([r.Ay.CUSTOM,l,f,t,i||n,u.Dz,o]);break;case"Polygon":case"MultiLineString":d=[],c="Polygon"==s?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,t.getEnds(),a,d),this.instructions.push([r.Ay.CUSTOM,l,d,t,n,u.cD,o]),this.hitDetectionInstructions.push([r.Ay.CUSTOM,l,d,t,i||n,u.cD,o]);break;case"LineString":case"Circle":c=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([r.Ay.CUSTOM,l,h,t,n,u.n2,o]),this.hitDetectionInstructions.push([r.Ay.CUSTOM,l,h,t,i||n,u.n2,o]);break;case"MultiPoint":c=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(c,a),h>l&&(this.instructions.push([r.Ay.CUSTOM,l,h,t,n,u.n2,o]),this.hitDetectionInstructions.push([r.Ay.CUSTOM,l,h,t,i||n,u.n2,o]));break;case"Point":c=t.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),h=this.coordinates.length,this.instructions.push([r.Ay.CUSTOM,l,h,t,n,void 0,o]),this.hitDetectionInstructions.push([r.Ay.CUSTOM,l,h,t,i||n,void 0,o])}this.endGeometry(e)}beginGeometry(t,e,n){this.beginGeometryInstruction1_=[r.Ay.BEGIN_GEOMETRY,e,0,t,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[r.Ay.BEGIN_GEOMETRY,e,0,t,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let i,o,s=-1;for(e=0;e<n;++e)i=t[e],o=i[0],o==r.Ay.END_GEOMETRY?s=e:o==r.Ay.BEGIN_GEOMETRY&&(i[2]=e,(0,c.reverseSubArray)(this.hitDetectionInstructions,s,e),s=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const e=t.getColor();n.fillPatternScale=e&&"object"==typeof e&&"src"in e?this.pixelRatio:1,n.fillStyle=(0,s.F)(e||l.qY)}else n.fillStyle=void 0;if(e){const t=e.getColor();n.strokeStyle=(0,s.F)(t||l.NT);const r=e.getLineCap();n.lineCap=void 0!==r?r:l._m;const i=e.getLineDash();n.lineDash=i?i.slice():l.Oq;const o=e.getLineDashOffset();n.lineDashOffset=o||l.vk;const a=e.getLineJoin();n.lineJoin=void 0!==a?a:l._K;const c=e.getWidth();n.lineWidth=void 0!==c?c:l.aq;const u=e.getMiterLimit();n.miterLimit=void 0!==u?u:l.eL,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[r.Ay.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(t.fillPatternScale),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[r.Ay.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!(0,c.equals)(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[r.Ay.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,a.clone)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;(0,a.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}const d=h},136:(t,e,n)=>{"use strict";n.d(e,{A:()=>m});var r=n(8130),i=n(6429),o=n(915);class s extends r.A{constructor(t,e,n,r){super(t,e,n,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!(0,o.containsCoordinate)(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const r=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length,l=this.appendFlatPointCoordinates(r,s);this.instructions.push([i.Ay.DRAW_IMAGE,a,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([i.Ay.DRAW_IMAGE,a,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const r=t.getFlatCoordinates(),s=[];for(let e=0,n=r.length;e<n;e+=t.getStride())this.maxExtent&&!(0,o.containsCoordinate)(this.maxExtent,r.slice(e,e+2))||s.push(r[e],r[e+1]);const a=this.coordinates.length,l=this.appendFlatPointCoordinates(s,2);this.instructions.push([i.Ay.DRAW_IMAGE,a,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([i.Ay.DRAW_IMAGE,a,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),r=t.getSize(),i=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}const a=s;var l=n(8774);class c extends r.A{constructor(t,e,n,r){super(t,e,n,r)}drawFlatCoordinates_(t,e,n,r){const o=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),a=[i.Ay.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n}drawLineString(t,e,n){const r=this.state,o=r.strokeStyle,s=r.lineWidth;if(void 0===o||void 0===s)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([i.Ay.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,l.Oq,l.vk],i.th);const a=t.getFlatCoordinates(),c=t.getStride();this.drawFlatCoordinates_(a,0,a.length,c),this.hitDetectionInstructions.push(i.VD),this.endGeometry(e)}drawMultiLineString(t,e,n){const r=this.state,o=r.strokeStyle,s=r.lineWidth;if(void 0===o||void 0===s)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([i.Ay.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,l.Oq,l.vk],i.th);const a=t.getEnds(),c=t.getFlatCoordinates(),u=t.getStride();let h=0;for(let t=0,e=a.length;t<e;++t)h=this.drawFlatCoordinates_(c,h,a[t],u);this.hitDetectionInstructions.push(i.VD),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(i.VD),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(i.VD),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(i.th)}}const u=c;var h=n(3671);class d extends r.A{constructor(t,e,n,r){super(t,e,n,r)}drawFlatCoordinatess_(t,e,n,r){const o=this.state,s=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,l=n.length;this.instructions.push(i.th),this.hitDetectionInstructions.push(i.th);for(let o=0;o<l;++o){const s=n[o],l=this.coordinates.length,c=this.appendFlatLineCoordinates(t,e,s,r,!0,!a),u=[i.Ay.MOVE_TO_LINE_TO,l,c];this.instructions.push(u),this.hitDetectionInstructions.push(u),a&&(this.instructions.push(i.kx),this.hitDetectionInstructions.push(i.kx)),e=s}return s&&(this.instructions.push(i.I5),this.hitDetectionInstructions.push(i.I5)),a&&(this.instructions.push(i.VD),this.hitDetectionInstructions.push(i.VD)),e}drawCircle(t,e,n){const r=this.state,o=r.fillStyle,s=r.strokeStyle;if(void 0===o&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([i.Ay.SET_FILL_STYLE,l.qY]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([i.Ay.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,l.Oq,l.vk]);const a=t.getFlatCoordinates(),c=t.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,c,!1,!1);const h=[i.Ay.CIRCLE,u];this.instructions.push(i.th,h),this.hitDetectionInstructions.push(i.th,h),void 0!==r.fillStyle&&(this.instructions.push(i.I5),this.hitDetectionInstructions.push(i.I5)),void 0!==r.strokeStyle&&(this.instructions.push(i.VD),this.hitDetectionInstructions.push(i.VD)),this.endGeometry(e)}drawPolygon(t,e,n){const r=this.state,o=r.fillStyle,s=r.strokeStyle;if(void 0===o&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([i.Ay.SET_FILL_STYLE,l.qY]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([i.Ay.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,l.Oq,l.vk]);const a=t.getEnds(),c=t.getOrientedFlatCoordinates(),u=t.getStride();this.drawFlatCoordinatess_(c,0,a,u),this.endGeometry(e)}drawMultiPolygon(t,e,n){const r=this.state,o=r.fillStyle,s=r.strokeStyle;if(void 0===o&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([i.Ay.SET_FILL_STYLE,l.qY]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([i.Ay.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,l.Oq,l.vk]);const a=t.getEndss(),c=t.getOrientedFlatCoordinates(),u=t.getStride();let h=0;for(let t=0,e=a.length;t<e;++t)h=this.drawFlatCoordinatess_(c,h,a[t],u);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,r=e.length;n<r;++n)e[n]=(0,h.n$)(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}}const f=d;var p=n(3624);const g={Circle:f,Default:r.A,Image:a,LineString:u,Polygon:f,Text:p.A};const m=class{constructor(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const r in n){const i=n[r].finish();t[e][r]=i}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);let i=r[e];if(void 0===i){i=new(0,g[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i}return i}}},7343:(t,e,n)=>{"use strict";n.d(e,{y2:()=>C,$i:()=>M,x$:()=>A,Ay:()=>I});var r=n(6429),i=n(808),o=n(3624),s=n(9703),a=n(915),l=n(8774),c=n(1597),u=n(7622);function h(t,e,n,r,i,o,s,a,l,h,d,f){let p=t[e],g=t[e+1],m=0,y=0,_=0,v=0;function b(){m=p,y=g,p=t[e+=r],g=t[e+1],v+=_,_=Math.sqrt((p-m)*(p-m)+(g-y)*(g-y))}do{b()}while(e<n-r&&v+_<o);let x=0===_?0:(o-v)/_;const S=(0,c.lerp)(m,p,x),w=(0,c.lerp)(y,g,x),E=e-r,T=v,C=o+a*l(h,i,d);for(;e<n-r&&v+_<C;)b();x=0===_?0:(C-v)/_;const M=(0,c.lerp)(m,p,x),A=(0,c.lerp)(y,g,x);let k;if(f){const t=[S,w,M,A];(0,u.e$)(t,0,4,2,f,t,t),k=t[0]>t[2]}else k=S>M;const I=Math.PI,P=[],R=E+r===e;let O;if(_=0,v=T,p=t[e=E],g=t[e+1],R){b(),O=Math.atan2(g-y,p-m),k&&(O+=O>0?-I:I);const t=(M+S)/2,e=(A+w)/2;return P[0]=[t,e,(C-o)/2,O,i],P}for(let t=0,u=(i=i.replace(/\n/g," ")).length;t<u;){b();let f=Math.atan2(g-y,p-m);if(k&&(f+=f>0?-I:I),void 0!==O){let t=f-O;if(t+=t>I?-2*I:t<-I?2*I:0,Math.abs(t)>s)return null}O=f;const S=t;let w=0;for(;t<u;++t){const s=a*l(h,i[k?u-t-1:t],d);if(e+r<n&&v+_<o+w+s/2)break;w+=s}if(t===S)continue;const E=k?i.substring(u-S,u-t):i.substring(S,t);x=0===_?0:(o+w/2-v)/_;const T=(0,c.lerp)(m,p,x),C=(0,c.lerp)(y,g,x);P.push([T,C,w/2,f,E]),o+=w}return P}var d=n(6514),f=n(904);const p=(0,a.createEmpty)(),g=[],m=[],y=[],_=[];function v(t){return t[3].declutterBox}const b=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function x(t,e){return"start"===e?e=b.test(t)?"right":"left":"end"===e&&(e=b.test(t)?"left":"right"),o.E[e]}function S(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}const w=class{constructor(t,e,n,r,o){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,s.vt)(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new i.A:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,n,r){const i=t+e+n+r;if(this.labels_[i])return this.labels_[i];const s=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,c=this.textStates[e],u=this.pixelRatio,h=[c.scale[0]*u,c.scale[1]*u],d=c.justify?o.E[c.justify]:x(Array.isArray(t)?t[0]:t,c.textAlign||l.MY),f=r&&s.lineWidth?s.lineWidth:0,p=Array.isArray(t)?t:String(t).split("\n").reduce(S,[]),{width:g,height:m,widths:y,heights:_,lineWidths:v}=(0,l.jT)(c,p),b=g+f,w=[],E=(b+2)*h[0],T=(m+f)*h[1],C={width:E<0?Math.floor(E):Math.ceil(E),height:T<0?Math.floor(T):Math.ceil(T),contextInstructions:w};1==h[0]&&1==h[1]||w.push("scale",h),r&&(w.push("strokeStyle",s.strokeStyle),w.push("lineWidth",f),w.push("lineCap",s.lineCap),w.push("lineJoin",s.lineJoin),w.push("miterLimit",s.miterLimit),w.push("setLineDash",[s.lineDash]),w.push("lineDashOffset",s.lineDashOffset)),n&&w.push("fillStyle",a.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const M=.5-d;let A=d*b+M*f;const k=[],I=[];let P,R=0,O=0,N=0,D=0;for(let t=0,e=p.length;t<e;t+=2){const e=p[t];if("\n"===e){O+=R,R=0,A=d*b+M*f,++D;continue}const i=p[t+1]||c.font;i!==P&&(r&&k.push("font",i),n&&I.push("font",i),P=i),R=Math.max(R,_[N]);const o=[e,A+M*y[N]+d*(y[N]-v[D]),.5*(f+R)+O];A+=y[N],r&&k.push("strokeText",o),n&&I.push("fillText",o),++N}return Array.prototype.push.apply(w,k),Array.prototype.push.apply(w,I),this.labels_[i]=C,C}replayTextBackground_(t,e,n,r,i,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignAndScaleFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,r,i,o,l,c,u,h,d,f,v,b,x,S){let w=n-(l*=f[0]),E=r-(c*=f[1]);const T=i+u>t?t-u:i,C=o+h>e?e-h:o,M=b[3]+T*f[0]+b[1],A=b[0]+C*f[1]+b[2],k=w-b[3],I=E-b[0];let P;return(x||0!==d)&&(g[0]=k,_[0]=k,g[1]=I,m[1]=I,m[0]=k+M,y[0]=m[0],y[1]=I+A,_[1]=y[1]),0!==d?(P=(0,s.Zz)((0,s.vt)(),n,r,1,1,d,-n,-r),(0,s.Bb)(P,g),(0,s.Bb)(P,m),(0,s.Bb)(P,y),(0,s.Bb)(P,_),(0,a.createOrUpdate)(Math.min(g[0],m[0],y[0],_[0]),Math.min(g[1],m[1],y[1],_[1]),Math.max(g[0],m[0],y[0],_[0]),Math.max(g[1],m[1],y[1],_[1]),p)):(0,a.createOrUpdate)(Math.min(k,k+M),Math.min(I,I+A),Math.max(k,k+M),Math.max(I,I+A),p),v&&(w=Math.round(w),E=Math.round(E)),{drawImageX:w,drawImageY:E,drawImageW:T,drawImageH:C,originX:u,originY:h,declutterBox:{minX:p[0],minY:p[1],maxX:p[2],maxY:p[3],value:S},canvasTransform:P,scale:f}}replayImageOrLabel_(t,e,n,r,i,o,s){const a=!(!o&&!s),c=r.declutterBox,u=s?s[2]*r.scale[0]/2:0;return c.minX-u<=e[0]&&c.maxX+u>=0&&c.minY-u<=e[1]&&c.maxY+u>=0&&(a&&this.replayTextBackground_(t,g,m,y,_,o,s),(0,l.Jw)(t,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const n=(0,s.Bb)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(n[0]%r,n[1]%r),1!==e&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,n,r){const i=this.textStates[e],s=this.createLabel(t,e,r,n),a=this.strokeStates[n],c=this.pixelRatio,u=x(Array.isArray(t)?t[0]:t,i.textAlign||l.MY),h=o.E[i.textBaseline||l.M8],d=a&&a.lineWidth?a.lineWidth:0;return{label:s,anchorX:u*(s.width/c-2*i.scale[0])+2*(.5-u)*d,anchorY:h*s.height/c+2*(.5-h)*d}}execute_(t,e,n,i,o,c,p,g){const m=this.zIndexContext_;let y;this.pixelCoordinates_&&(0,d.equals)(n,this.renderedTransform_)?y=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),y=(0,u.Rc)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,s.k3)(this.renderedTransform_,n));let _=0;const b=i.length;let S,w,E,T,C,M,A,k,I,P,R,O,N,D=0,$=0,L=0,F=null,j=null;const U=this.coordinateCache_,B=this.viewRotation_,z=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,G={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:B},H=this.instructions!=i||this.overlaps?0:200;let W,q,V,Y;for(;_<b;){const n=i[_];switch(n[0]){case r.Ay.BEGIN_GEOMETRY:W=n[1],Y=n[3],W.getGeometry()?void 0===p||(0,a.intersects)(p,Y.getExtent())?++_:_=n[2]+1:_=n[2],m&&(m.zIndex=n[4]);break;case r.Ay.BEGIN_PATH:$>H&&(this.fill_(t),$=0),L>H&&(t.stroke(),L=0),$||L||(t.beginPath(),C=NaN,M=NaN),++_;break;case r.Ay.CIRCLE:D=n[1];const i=y[D],s=y[D+1],u=y[D+2]-i,d=y[D+3]-s,b=Math.sqrt(u*u+d*d);t.moveTo(i+b,s),t.arc(i,s,b,0,2*Math.PI,!0),++_;break;case r.Ay.CLOSE_PATH:t.closePath(),++_;break;case r.Ay.CUSTOM:D=n[1],S=n[2];const X=n[3],K=n[4],Z=n[5];G.geometry=X,G.feature=W,_ in U||(U[_]=[]);const J=U[_];Z?Z(y,D,S,2,J):(J[0]=y[D],J[1]=y[D+1],J.length=2),m&&(m.zIndex=n[6]),K(J,G),++_;break;case r.Ay.DRAW_IMAGE:D=n[1],S=n[2],I=n[3],w=n[4],E=n[5];let Q=n[6];const tt=n[7],et=n[8],nt=n[9],rt=n[10];let it=n[11];const ot=n[12];let st=n[13];T=n[14]||"declutter";const at=n[15];if(!I&&n.length>=20){P=n[19],R=n[20],O=n[21],N=n[22];const t=this.drawLabelWithPointPlacement_(P,R,O,N);I=t.label,n[3]=I;const e=n[23];w=(t.anchorX-e)*this.pixelRatio,n[4]=w;const r=n[24];E=(t.anchorY-r)*this.pixelRatio,n[5]=E,Q=I.height,n[6]=Q,st=I.width,n[13]=st}let lt,ct,ut,ht;n.length>25&&(lt=n[25]),n.length>17?(ct=n[16],ut=n[17],ht=n[18]):(ct=l.Tq,ut=!1,ht=!1),rt&&z?it+=B:rt||z||(it-=B);let dt=0;for(;D<S;D+=2){if(lt&&lt[dt++]<st/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(I.width,I.height,y[D],y[D+1],st,Q,w,E,et,nt,it,ot,o,ct,ut||ht,W),r=[t,e,I,n,tt,ut?F:null,ht?j:null];if(g){let t,e,i,o,s;if(at){const n=S-D;if(!at[n]){at[n]={args:r,declutterMode:T};continue}const o=at[n];t=o.args,e=o.declutterMode,delete at[n],i=v(t)}if(!t||"declutter"===e&&g.collides(i)||(o=!0),"declutter"===T&&g.collides(n.declutterBox)||(s=!0),"declutter"===e&&"declutter"===T){const t=o&&s;o=t,s=t}o&&("none"!==e&&g.insert(i),this.replayImageOrLabel_.apply(this,t)),s&&("none"!==T&&g.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,r))}else this.replayImageOrLabel_.apply(this,r)}++_;break;case r.Ay.DRAW_CHARS:const ft=n[1],pt=n[2],gt=n[3],mt=n[4];N=n[5];const yt=n[6],_t=n[7],vt=n[8];O=n[9];const bt=n[10];P=n[11],R=n[12];const xt=[n[13],n[13]];T=n[14]||"declutter";const St=this.textStates[R],wt=St.font,Et=[St.scale[0]*_t,St.scale[1]*_t];let Tt;wt in this.widths_?Tt=this.widths_[wt]:(Tt={},this.widths_[wt]=Tt);const Ct=(0,f.k)(y,ft,pt,2),Mt=Math.abs(Et[0])*(0,l.TA)(wt,P,Tt);if(mt||Mt<=Ct){const n=h(y,ft,pt,2,P,(Ct-Mt)*x(P,this.textStates[R].textAlign),yt,Math.abs(Et[0]),l.TA,wt,Tt,z?0:this.viewRotation_);t:if(n){const r=[];let i,o,s,a,c;if(O)for(i=0,o=n.length;i<o;++i){c=n[i],s=c[4],a=this.createLabel(s,R,"",O),w=c[2]+(Et[0]<0?-bt:bt),E=gt*a.height+2*(.5-gt)*bt*Et[1]/Et[0]-vt;const o=this.calculateImageOrLabelDimensions_(a.width,a.height,c[0],c[1],a.width,a.height,w,E,0,0,c[3],xt,!1,l.Tq,!1,W);if(g&&"declutter"===T&&g.collides(o.declutterBox))break t;r.push([t,e,a,o,1,null,null])}if(N)for(i=0,o=n.length;i<o;++i){c=n[i],s=c[4],a=this.createLabel(s,R,N,""),w=c[2],E=gt*a.height-vt;const o=this.calculateImageOrLabelDimensions_(a.width,a.height,c[0],c[1],a.width,a.height,w,E,0,0,c[3],xt,!1,l.Tq,!1,W);if(g&&"declutter"===T&&g.collides(o.declutterBox))break t;r.push([t,e,a,o,1,null,null])}g&&"none"!==T&&g.load(r.map(v));for(let t=0,e=r.length;t<e;++t)this.replayImageOrLabel_.apply(this,r[t])}}++_;break;case r.Ay.END_GEOMETRY:if(void 0!==c){W=n[1];const t=c(W,Y,T);if(t)return t}++_;break;case r.Ay.FILL:H?$++:this.fill_(t),++_;break;case r.Ay.MOVE_TO_LINE_TO:for(D=n[1],S=n[2],q=y[D],V=y[D+1],t.moveTo(q,V),C=q+.5|0,M=V+.5|0,D+=2;D<S;D+=2)q=y[D],V=y[D+1],A=q+.5|0,k=V+.5|0,D!=S-2&&A===C&&k===M||(t.lineTo(q,V),C=A,M=k);++_;break;case r.Ay.SET_FILL_STYLE:F=n,this.alignAndScaleFill_=n[2],$&&(this.fill_(t),$=0,L&&(t.stroke(),L=0)),t.fillStyle=n[1],++_;break;case r.Ay.SET_STROKE_STYLE:j=n,L&&(t.stroke(),L=0),this.setStrokeStyle_(t,n),++_;break;case r.Ay.STROKE:H?L++:t.stroke(),++_;break;default:++_}}$&&this.fill_(t),L&&t.stroke()}execute(t,e,n,r,i,o){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,i,void 0,void 0,o)}executeHitDetection(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,r,i)}};var E=n(8711),T=n(3530);const C=["Polygon","Circle","LineString","Image","Text","Default"],M=["Image","Text"],A=C.filter((t=>!M.includes(t)));const k={};const I=class{constructor(t,e,n,r,i,o,a){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,s.vt)(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(i,a)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t,e){for(const n in t){let r=this.executorsByZIndex_[n];void 0===r&&(r={},this.executorsByZIndex_[n]=r);const i=t[n];for(const t in i){const n=i[t];r[t]=new w(this.resolution_,this.pixelRatio_,this.overlaps_,n,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,r=t.length;e<r;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,r,i,o){const l=2*(r=Math.round(r))+1,c=(0,s.Zz)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=(0,E.createCanvasContext2D)(l,l,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;let f;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):u||h.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(f=(0,a.createEmpty)(),(0,a.extendCoordinate)(f,t),(0,a.buffer)(f,e*(this.renderBuffer_+r),f));const p=function(t){if(void 0!==k[t])return k[t];const e=2*t+1,n=t*t,r=new Array(n+1);for(let i=0;i<=t;++i)for(let o=0;o<=t;++o){const s=i*i+o*o;if(s>n)break;let a=r[s];a||(a=[],r[s]=a),a.push(4*((t+i)*e+(t+o))+3),i>0&&a.push(4*((t-i)*e+(t+o))+3),o>0&&(a.push(4*((t+i)*e+(t-o))+3),i>0&&a.push(4*((t-i)*e+(t-o))+3))}const i=[];for(let t=0,e=r.length;t<e;++t)r[t]&&i.push(...r[t]);return k[t]=i,i}(r);let g;function m(t,e,n){const s=h.getImageData(0,0,l,l).data;for(let a=0,c=p.length;a<c;a++)if(s[p[a]]>0){if(!o||"none"===n||"Image"!==g&&"Text"!==g||o.includes(t)){const n=(p[a]-3)/4,o=r-n%l,s=r-(n/l|0),c=i(t,e,o*o+s*s);if(c)return c}h.clearRect(0,0,l,l);break}}const y=Object.keys(this.executorsByZIndex_).map(Number);let _,v,b,x,S;for(y.sort(d.ascending),_=y.length-1;_>=0;--_){const t=y[_].toString();for(b=this.executorsByZIndex_[t],v=C.length-1;v>=0;--v)if(g=C[v],x=b[g],void 0!==x&&(S=x.executeHitDetection(h,c,n,m,f),S))return S}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],r=e[1],i=e[2],o=e[3],s=[n,r,n,o,i,o,i,r];return(0,u.Rc)(s,0,8,2,t,s),s}isEmpty(){return(0,T.isEmpty)(this.executorsByZIndex_)}execute(t,e,n,r,i,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(d.ascending),o=o||C;const l=C.length;let c,u,h,f,p;for(s&&a.reverse(),c=0,u=a.length;c<u;++c){const u=a[c].toString();for(p=this.executorsByZIndex_[u],h=0,f=o.length;h<f;++h){const u=o[h],d=p[u];if(void 0!==d){const o=null===s?void 0:d.getZIndexContext(),f=o?o.getContext():t,p=this.maxExtent_&&"Image"!==u&&"Text"!==u;if(p&&(f.save(),this.clip(f,n)),o&&"Text"!==u&&"Image"!==u?o.pushFunction((t=>d.execute(t,e,n,r,i,s))):d.execute(f,e,n,r,i,s),p&&f.restore(),o){o.offset();const t=a[c]*l+h;this.deferredZIndexContexts_[t]||(this.deferredZIndexContexts_[t]=[]),this.deferredZIndexContexts_[t].push(o)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,e=Object.keys(t).map(Number).sort(d.ascending);for(let n=0,r=e.length;n<r;++n)t[e[n]].forEach((t=>{t.draw(this.renderedContext_),t.clear()})),t[e[n]].length=0}}},6429:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>l,I5:()=>i,VD:()=>o,kx:()=>a,th:()=>s});const r={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},i=[r.FILL],o=[r.STROKE],s=[r.BEGIN_PATH],a=[r.CLOSE_PATH],l=r},3624:(t,e,n)=>{"use strict";n.d(e,{E:()=>d,A:()=>p});var r=n(8130),i=n(6429),o=n(9676),s=n(8774),a=n(4087),l=n(915),c=n(1597);function u(t,e,n,r,i){const o=[];let s=n,a=0,l=e.slice(n,2);for(;a<t&&s+i<r;){const[n,r]=l.slice(-2),u=e[s+i],h=e[s+i+1],d=Math.sqrt((u-n)*(u-n)+(h-r)*(h-r));if(a+=d,a>=t){const e=(t-a+d)/d,f=(0,c.lerp)(n,u,e),p=(0,c.lerp)(r,h,e);l.push(f,p),o.push(l),l=[f,p],a==t&&(s+=i),a=0}else if(a<t)l.push(e[s+i],e[s+i+1]),s+=i;else{const t=d-a,e=(0,c.lerp)(n,u,t/d),f=(0,c.lerp)(r,h,t/d);l.push(e,f),o.push(l),l=[e,f],a=0,s+=i}}return a>0&&o.push(l),o}function h(t,e,n,r,i){let o,s,a,l,c,u,h,d,f,p,g=n,m=n,y=0,_=0,v=n;for(s=n;s<r;s+=i){const n=e[s],r=e[s+1];void 0!==c&&(f=n-c,p=r-u,l=Math.sqrt(f*f+p*p),void 0!==h&&(_+=a,o=Math.acos((h*f+d*p)/(a*l)),o>t&&(_>y&&(y=_,g=v,m=s),_=0,v=s-i)),a=l,h=f,d=p),c=n,u=r}return _+=l,_>y?[v,s]:[g,m]}const d={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class f extends r.A{constructor(t,e,n,r){super(t,e,n,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[s.qY]={fillStyle:s.qY},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const r=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(""===this.text_||!a||!r&&!o)return;const c=this.coordinates;let d=c.length;const f=t.getType();let p=null,g=t.getStride();if("line"!==a.placement||"LineString"!=f&&"MultiLineString"!=f&&"Polygon"!=f&&"MultiPolygon"!=f){let r=a.overflow?null:[];switch(f){case"Point":case"MultiPoint":p=t.getFlatCoordinates();break;case"LineString":p=t.getFlatMidpoint();break;case"Circle":p=t.getCenter();break;case"MultiLineString":p=t.getFlatMidpoints(),g=2;break;case"Polygon":p=t.getFlatInteriorPoint(),a.overflow||r.push(p[2]/this.resolution),g=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();p=[];for(let t=0,n=e.length;t<n;t+=3)a.overflow||r.push(e[t+2]/this.resolution),p.push(e[t],e[t+1]);if(0===p.length)return;g=2}const o=this.appendFlatPointCoordinates(p,g);if(o===d)return;if(r&&(o-d)/2!=p.length/g){let t=d/2;r=r.filter(((e,n)=>{const r=c[2*(t+n)]===p[n*g]&&c[2*(t+n)+1]===p[n*g+1];return r||--t,r}))}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e,n);let l=a.padding;if(l!=s.Tq&&(a.scale[0]<0||a.scale[1]<0)){let t=a.padding[0],e=a.padding[1],n=a.padding[2],r=a.padding[3];a.scale[0]<0&&(e=-e,r=-r),a.scale[1]<0&&(t=-t,n=-n),l=[t,e,n,r]}const u=this.pixelRatio;this.instructions.push([i.Ay.DRAW_IMAGE,d,o,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,l==s.Tq?s.Tq:l.map((function(t){return t*u})),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]);const h=1/u,m=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=s.qY,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([i.Ay.DRAW_IMAGE,d,o,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[h,h],NaN,this.declutterMode_,this.declutterImageWithText_,l,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?s.qY:this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]),a.backgroundFill&&(this.state.fillStyle=m,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!(0,l.intersects)(this.maxExtent,t.getExtent()))return;let r;if(p=t.getFlatCoordinates(),"LineString"==f)r=[p.length];else if("MultiLineString"==f)r=t.getEnds();else if("Polygon"==f)r=t.getEnds().slice(0,1);else if("MultiPolygon"==f){const e=t.getEndss();r=[];for(let t=0,n=e.length;t<n;++t)r.push(e[t][0])}this.beginGeometry(t,e,n);const i=a.repeat,o=i?void 0:a.textAlign;let s=0;for(let t=0,e=r.length;t<e;++t){let e;e=i?u(i*this.resolution,p,s,r[t],g):[p.slice(s,r[t])];for(let n=0,i=e.length;n<i;++n){const i=e[n];let l=0,u=i.length;if(null==o){const t=h(a.maxAngle,i,0,i.length,2);l=t[0],u=t[1]}for(let t=l;t<u;t+=g)c.push(i[t],i[t+1]);const f=c.length;s=r[t],this.drawChars_(d,f),d=f}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||s.MY,justify:e.justify,textBaseline:e.textBaseline||s.M8,scale:e.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,a=this.textKey_,l=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,u=d[r.textBaseline],h=this.textOffsetY_*c,f=this.text_,p=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([i.Ay.DRAW_CHARS,t,e,u,r.overflow,l,r.maxAngle,c,h,o,p*c,f,a,1,this.declutterMode_]),this.hitDetectionInstructions.push([i.Ay.DRAW_CHARS,t,e,u,r.overflow,l?s.qY:l,r.maxAngle,c,h,o,p*c,f,a,1/c,this.declutterMode_])}setTextStyle(t,e){let n,r,i;if(t){const e=t.getFill();e?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=(0,o.F)(e.getColor()||s.qY)):(r=null,this.textFillState_=r);const l=t.getStroke();if(l){i=this.textStrokeState_,i||(i={},this.textStrokeState_=i);const t=l.getLineDash(),e=l.getLineDashOffset(),n=l.getWidth(),r=l.getMiterLimit();i.lineCap=l.getLineCap()||s._m,i.lineDash=t?t.slice():s.Oq,i.lineDashOffset=void 0===e?s.vk:e,i.lineJoin=l.getLineJoin()||s._K,i.lineWidth=void 0===n?s.aq:n,i.miterLimit=void 0===r?s.eL:r,i.strokeStyle=(0,o.F)(l.getColor()||s.NT)}else i=null,this.textStrokeState_=i;n=this.textState_;const c=t.getFont()||s.ZV;(0,s.fZ)(c);const u=t.getScaleArray();n.overflow=t.getOverflow(),n.font=c,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||s.M8,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||s.Tq,n.scale=void 0===u?[1,1]:u;const h=t.getOffsetX(),d=t.getOffsetY(),f=t.getRotateWithView(),p=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===h?0:h,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0===p?0:p,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:(0,a.getUid)(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?"string"==typeof r.fillStyle?r.fillStyle:"|"+(0,a.getUid)(r.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}const p=f},808:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(8711);const i=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy((0,r.getSharedCanvasContext2D)(),{get:(t,e)=>{if("function"==typeof(0,r.getSharedCanvasContext2D)()[e])return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e),this.pushMethodArgs_},set:(t,e,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e,n),!0)})}pushMethodArgs_=(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this);pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach((e=>{for(let n=0,r=e.length;n<r;++n){const r=e[n];if("function"==typeof r){r(t);continue}const i=e[++n];if("function"==typeof t[r])t[r](...i);else{if("function"==typeof i){t[r]=i(t);continue}t[r]=i}}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}},9421:(t,e,n)=>{"use strict";n.d(e,{tF:()=>y,_7:()=>_,F8:()=>v});var r=n(2826),i=n(9676),o=n(9703),s=n(8774),a=n(6514),l=n(915),c=n(1597),u=n(7622),h=n(2096);class d extends r.A{constructor(t,e,n,r,i,s,a){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=r,this.transformRotation_=r?(0,c.toFixed)(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=i,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,o.vt)()}drawImages_(t,e,n,r){if(!this.image_)return;const i=(0,u.Rc)(t,e,n,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;0===this.transformRotation_&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let t=0,e=i.length;t<e;t+=2){const e=i[t]-this.imageAnchorX_,n=i[t+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const t=e+this.imageAnchorX_,r=n+this.imageAnchorY_;(0,o.Zz)(a,t,r,1,1,c,-t,-r),s.save(),s.transform.apply(s,a),s.translate(t,r),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,n,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}drawText_(t,e,n,r){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const i=(0,u.Rc)(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=r){const t=i[e]+this.textOffsetX_,n=i[e+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(t-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,t,n),this.textFillState_&&o.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,r,i){const o=this.context_,s=(0,u.Rc)(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;i&&(a-=2);for(let t=2;t<a;t+=2)o.lineTo(s[t],s[t+1]);return i&&o.closePath(),n}drawRings_(t,e,n,r){for(let i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=(0,h.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let t=0,n=e.length;t<n;++t)this.drawGeometry(e[t])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if((0,l.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let r=0;const i=t.getEnds(),o=t.getStride();e.beginPath();for(let t=0,e=i.length;t<e;++t)r=this.moveToLineTo_(n,r,i[t],o,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let r=0;const i=t.getEndss(),o=t.getStride();e.beginPath();for(let t=0,e=i.length;t<e;++t){const e=i[t];r=this.drawRings_(n,r,e,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),(0,a.equals)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:s.MY;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:(0,i.F)(e||s.qY)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),r=e.getLineDash(),o=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit(),u=r||s.Oq;this.strokeState_={lineCap:void 0!==n?n:s._m,lineDash:1===this.pixelRatio_?u:u.map((t=>t*this.pixelRatio_)),lineDashOffset:(o||s.vk)*this.pixelRatio_,lineJoin:void 0!==a?a:s._K,lineWidth:(void 0!==l?l:s.aq)*this.pixelRatio_,miterLimit:void 0!==c?c:s.eL,strokeStyle:(0,i.F)(t||s.NT)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:(0,i.F)(t||s.qY)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),r=n.getLineDash(),o=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:s._m,lineDash:r||s.Oq,lineDashOffset:o||s.vk,lineJoin:void 0!==a?a:s._K,lineWidth:void 0!==l?l:s.aq,miterLimit:void 0!==c?c:s.eL,strokeStyle:(0,i.F)(t||s.NT)}}else this.textStrokeState_=null;const r=t.getFont(),o=t.getOffsetX(),a=t.getOffsetY(),l=t.getRotateWithView(),c=t.getRotation(),u=t.getScaleArray(),h=t.getText(),d=t.getTextAlign(),f=t.getTextBaseline();this.textState_={font:void 0!==r?r:s.ZV,textAlign:void 0!==d?d:s.MY,textBaseline:void 0!==f?f:s.M8},this.text_=void 0!==h?Array.isArray(h)?h.reduce(((t,e,n)=>t+(n%2?" ":e)),""):h:"",this.textOffsetX_=void 0!==o?this.pixelRatio_*o:0,this.textOffsetY_=void 0!==a?this.pixelRatio_*a:0,this.textRotateWithView_=void 0!==l&&l,this.textRotation_=void 0!==c?c:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}else this.text_=""}}const f=d;n(7733),n(3628);var p=n(9700),g=(n(7907),n(940),n(6936),n(953),n(6895),n(1426),n(8711)),m=n(3407);const y=.5;function _(t,e,n,r,i,o,s,c,u){const h=u?(0,m.toUserExtent)(i,u):i,d=t[0]*y,_=t[1]*y,v=(0,g.createCanvasContext2D)(d,_);v.imageSmoothingEnabled=!1;const b=v.canvas,x=new f(v,y,i,null,s,c,u?(0,m.getTransformFromProjections)((0,m.getUserProjection)(),u):null),S=n.length,w=Math.floor(16777215/S),E={};for(let t=1;t<=S;++t){const e=n[t-1],i=e.getStyleFunction()||r;if(!i)continue;let s=i(e,o);if(!s)continue;Array.isArray(s)||(s=[s]);const a=(t*w).toString(16).padStart(7,"#00000");for(let t=0,n=s.length;t<n;++t){const n=s[t],r=n.getGeometryFunction()(e);if(!r||!(0,l.intersects)(h,r.getExtent()))continue;const i=n.clone(),o=i.getFill();o&&o.setColor(a);const c=i.getStroke();c&&(c.setColor(a),c.setLineDash(null)),i.setText(void 0);const u=n.getImage();if(u){const t=u.getImageSize();if(!t)continue;const e=(0,g.createCanvasContext2D)(t[0],t[1],void 0,{alpha:!1}),n=e.canvas;e.fillStyle=a,e.fillRect(0,0,n.width,n.height),i.setImage(new p.default({img:n,anchor:u.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:u.getOrigin(),opacity:1,size:u.getSize(),scale:u.getScale(),rotation:u.getRotation(),rotateWithView:u.getRotateWithView()}))}const d=i.getZIndex()||0;let f=E[d];f||(f={},E[d]=f,f.Polygon=[],f.Circle=[],f.LineString=[],f.Point=[]);const m=r.getType();if("GeometryCollection"===m){const t=r.getGeometriesArrayRecursive();for(let e=0,n=t.length;e<n;++e){const n=t[e];f[n.getType().replace("Multi","")].push(n,i)}}else f[m.replace("Multi","")].push(r,i)}}const T=Object.keys(E).map(Number).sort(a.ascending);for(let t=0,n=T.length;t<n;++t){const n=E[T[t]];for(const t in n){const r=n[t];for(let t=0,n=r.length;t<n;t+=2){x.setStyle(r[t+1]);for(let n=0,i=e.length;n<i;++n)x.setTransform(e[n]),x.drawGeometry(r[t])}}}return v.getImageData(0,0,b.width,b.height)}function v(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*y),o=Math.floor(Math.round(t[1])*y),s=4*((0,c.clamp)(i,0,n.width-1)+(0,c.clamp)(o,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],u=n.data[s+2]+256*(l+256*a),h=Math.floor(16777215/e.length);u&&u%h==0&&r.push(e[u/h-1])}return r}},5986:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(6837),i=n(6141),o=n(1854),s=n(4087);class a extends o.default{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return(0,s.abstract)()}getData(t){return null}prepareFrame(t){return(0,s.abstract)()}renderFrame(t,e){return(0,s.abstract)()}forEachFeatureAtCoordinate(t,e,n,r,i){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==i.A.LOADED&&e.getState()!==i.A.ERROR||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=i.A.LOADED&&e!=i.A.ERROR&&t.addEventListener(r.A.CHANGE,this.boundHandleImageChange_),e==i.A.IDLE&&(t.load(),e=t.getState()),e==i.A.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const l=a},6769:(t,e,n)=>{"use strict";n.d(e,{A:()=>g,B:()=>d});var r=n(5986),i=n(9960),o=n(3984),s=n(808),a=n(9703),l=n(3730),c=n(8711),u=n(6514),h=n(915);const d=[];let f=null;class p extends r.A{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=(0,a.vt)(),this.pixelTransform=(0,a.vt)(),this.inversePixelTransform=(0,a.vt)(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,e,n){let r;f||(f=(0,c.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0})),f.clearRect(0,0,1,1);try{f.drawImage(t,e,n,1,1,0,0,1,1),r=f.getImageData(0,0,1,1).data}catch(t){return f=null,null}return r}getBackground(t){let e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,n){const r=this.getLayer().getClassName();let i,o;if(t&&t.className===r&&(!n||t&&t.style.backgroundColor&&(0,u.equals)((0,l.asArray)(t.style.backgroundColor),(0,l.asArray)(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(o=e.getContext("2d"))}if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){i=document.createElement("div"),i.className=r;let t=i.style;t.position="absolute",t.width="100%",t.height="100%",o=(0,c.createCanvasContext2D)();const e=o.canvas;i.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=i,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const r=(0,h.getTopLeft)(n),i=(0,h.getTopRight)(n),o=(0,h.getBottomRight)(n),s=(0,h.getBottomLeft)(n);(0,a.Bb)(e.coordinateToPixelTransform,r),(0,a.Bb)(e.coordinateToPixelTransform,i),(0,a.Bb)(e.coordinateToPixelTransform,o),(0,a.Bb)(e.coordinateToPixelTransform,s);const l=this.inversePixelTransform;(0,a.Bb)(l,r),(0,a.Bb)(l,i),(0,a.Bb)(l,o),(0,a.Bb)(l,s),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()}prepareContainer(t,e){const n=t.extent,r=t.viewState.resolution,i=t.viewState.rotation,o=t.pixelRatio,s=Math.round((0,h.getWidth)(n)/r*o),l=Math.round((0,h.getHeight)(n)/r*o);(0,a.Zz)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/o,1/o,i,-s/2,-l/2),(0,a.T9)(this.inversePixelTransform,this.pixelTransform);const c=(0,a.dI)(this.pixelTransform);if(this.useContainer(e,c,this.getBackground(t)),!this.containerReused){const t=this.context.canvas;t.width!=s||t.height!=l?(t.width=s,t.height=l):this.context.clearRect(0,0,s,l),c!==t.style.transform&&(t.style.transform=c)}}dispatchRenderEvent_(t,e,n){const r=this.getLayer();if(r.hasListener(t)){const o=new i.default(t,this.inversePixelTransform,n,e);r.dispatchEvent(o)}}preRender(t,e){this.frameState=e,e.declutter||this.dispatchRenderEvent_(o.A.PRERENDER,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(o.A.POSTRENDER,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new s.A),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(o.A.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(o.A.POSTRENDER,this.context,t))}getRenderTransform(t,e,n,r,i,o,s){const l=i/2,c=o/2,u=r/e,h=-u,d=-t[0]+s,f=-t[1];return(0,a.Zz)(this.tempTransform,l,c,u,h,-n,d,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}const g=p},4029:(t,e,n)=>{"use strict";n.d(e,{A:()=>w});var r=n(6769),i=n(7607),o=n(190),s=n(4969),a=n(8596),l=n(7404),c=n(1110),u=n(1078),h=n(9703),d=n(6514),f=n(915),p=n(186),g=n(3407),m=n(4087),y=n(6782);function _(t,e,n,r){return`${t},${(0,p.dp)(e,n,r)}`}function v(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const r=t[n],i=r.has(e);return i||r.add(e),!i}function b(t,e,n){const r=t[n];return!!r&&r.delete(e)}function x(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=(0,f.getIntersection)(e,(0,g.fromUserExtent)(n.extent,t.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const n=r.getTileGridForProjection(t.viewState.projection).getExtent();n&&(e=(0,f.getIntersection)(e,n))}return e}class S extends r.A{constructor(t,e){super(t),e=e||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=(0,f.createEmpty)(),this.tempTileRange_=new c.A(0,0,0,0),this.tempTileCoord_=(0,p.N)(0,0,0);const n=void 0!==e.cacheSize?e.cacheSize:512;this.tileCache_=new s.A(n),this.renderedProjection_=void 0,this.maxStaleKeys=.5*n}getTileCache(){return this.tileCache_}getOrCreateTile(t,e,n,r){const i=this.tileCache_,o=this.getLayer().getSource(),s=_(o.getKey(),t,e,n);let a;if(i.containsKey(s))a=i.get(s);else{if(a=o.getTile(t,e,n,r.pixelRatio,r.viewState.projection),!a)return null;i.set(s,a)}return a}getTile(t,e,n,r){const i=this.getOrCreateTile(t,e,n,r);return i||null}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),r=(0,h.Bb)(e.pixelToCoordinateTransform,t.slice()),s=n.getExtent();if(s&&!(0,f.containsCoordinate)(s,r))return null;const a=e.viewState,c=n.getRenderSource(),d=c.getTileGridForProjection(a.projection),p=c.getTilePixelRatio(e.pixelRatio);for(let t=d.getZForResolution(a.resolution);t>=d.getMinZoom();--t){const n=d.getTileCoordForCoordAndZ(r,t),s=this.getTile(t,n[1],n[2],e);if(!s||s.getState()!==u.A.LOADED)continue;const h=d.getOrigin(t),f=(0,y.toSize)(d.getTileSize(t)),g=d.getResolution(t);let m;if(s instanceof o.A||s instanceof l.A)m=s.getImage();else{if(!(s instanceof i.Ay))continue;if(m=(0,i.xo)(s.getData()),!m)continue}const _=Math.floor(p*((r[0]-h[0])/g-n[1]*f[0])),v=Math.floor(p*((h[1]-r[1])/g-n[2]*f[1])),b=Math.round(p*c.getGutterForProjection(a.projection));return this.getImageData(m,_+b,v+b)}return null}prepareFrame(t){this.renderedProjection_?t.viewState.projection!==this.renderedProjection_&&(this.tileCache_.clear(),this.renderedProjection_=t.viewState.projection):this.renderedProjection_=t.viewState.projection;const e=this.getLayer().getSource();if(!e)return!1;const n=e.getRevision();return this.renderedRevision_?this.renderedRevision_!==n&&(this.renderedRevision_=n,this.renderedSourceKey_===e.getKey()&&this.tileCache_.clear()):this.renderedRevision_=n,!0}enqueueTiles(t,e,n,r,i){const o=t.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=(0,m.getUid)(a);c in t.wantedTiles||(t.wantedTiles[c]={});const h=t.wantedTiles[c],d=s.getMapInternal(),f=Math.max(n-i,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),d?d.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection));for(let i=n;i>=f;--i){const n=l.getTileRangeForExtentAndZ(e,i,this.tempTileRange_),o=l.getResolution(i);for(let e=n.minX;e<=n.maxX;++e)for(let s=n.minY;s<=n.maxY;++s){const n=this.getTile(i,e,s,t);if(!n)continue;if(!v(r,n,i))continue;const a=n.getKey();if(h[a]=!0,n.getState()===u.A.IDLE&&!t.tileQueue.isKeyQueued(a)){const r=(0,p.N)(i,e,s,this.tempTileCoord_);t.tileQueue.enqueue([n,c,l.getTileCoordCenter(r),o])}}}}findStaleTile_(t,e){const n=this.tileCache_,r=t[0],i=t[1],o=t[2],s=this.getStaleKeys();for(let t=0;t<s.length;++t){const a=_(s[t],r,i,o);if(n.containsKey(a)){const t=n.get(a);if(t.getState()===u.A.LOADED)return t.endTransition((0,m.getUid)(this)),v(e,t,r),!0}}return!1}findAltTiles_(t,e,n,r){const i=t.getTileRangeForTileCoordAndZ(e,n,this.tempTileRange_);if(!i)return!1;let o=!0;const s=this.tileCache_,a=this.getLayer().getRenderSource().getKey();for(let t=i.minX;t<=i.maxX;++t)for(let e=i.minY;e<=i.maxY;++e){const i=_(a,n,t,e);let l=!1;if(s.containsKey(i)){const t=s.get(i);t.getState()===u.A.LOADED&&(v(r,t,n),l=!0)}l||(o=!1)}return o}renderFrame(t,e){this.renderComplete=!0;const n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,s=r.center,c=t.pixelRatio,p=this.getLayer(),y=p.getSource(),_=y.getRevision(),v=y.getTileGridForProjection(i),S=v.getZForResolution(o,y.zDirection),w=v.getResolution(S),E=y.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==E&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=E):this.renderedSourceKey_=E;let T=t.extent;const C=y.getTilePixelRatio(c);this.prepareContainer(t,e);const M=this.context.canvas.width,A=this.context.canvas.height,k=n.extent&&(0,g.fromUserExtent)(n.extent,i);k&&(T=(0,f.getIntersection)(T,(0,g.fromUserExtent)(n.extent,i)));const I=w*M/2/C,P=w*A/2/C,R=[s[0]-I,s[1]-P,s[0]+I,s[1]+P],O={};this.renderedTiles.length=0;const N=p.getPreload();if(t.nextExtent){const e=v.getZForResolution(r.nextResolution,y.zDirection),n=x(t,t.nextExtent);this.enqueueTiles(t,n,e,O,N)}const D=x(t,T);if(this.enqueueTiles(t,D,S,O,0),N>0&&setTimeout((()=>{this.enqueueTiles(t,D,S-1,O,N-1)}),0),!(S in O))return this.container;const $=(0,m.getUid)(this),L=t.time;for(const e of O[S]){const n=e.getState();if((e instanceof l.A||e instanceof a.A)&&n===u.A.EMPTY)continue;const r=e.tileCoord;if(n===u.A.LOADED){if(1===e.getAlpha($,L)){e.endTransition($);continue}}this.renderComplete=!1;if(this.findStaleTile_(r,O)){b(O,e,S),t.animate=!0;continue}if(this.findAltTiles_(v,r,S+1,O))continue;const i=v.getMinZoom();for(let t=S-1;t>=i;--t){if(this.findAltTiles_(v,r,t,O))break}}const F=w/o*c/C,j=this.getRenderContext(t);(0,h.Zz)(this.tempTransform,M/2,A/2,F,F,0,-M/2,-A/2),n.extent&&this.clipUnrotated(j,t,k),y.getInterpolate()||(j.imageSmoothingEnabled=!1),this.preRender(j,t);const U=Object.keys(O).map(Number);let B;U.sort(d.ascending);const z=[],G=[];for(let e=U.length-1;e>=0;--e){const n=U[e],r=y.getTilePixelSize(n,c,i),o=v.getResolution(n)/w,s=r[0]*o*F,a=r[1]*o*F,l=v.getTileCoordForCoordAndZ((0,f.getTopLeft)(R),n),d=v.getTileCoordExtent(l),p=(0,h.Bb)(this.tempTransform,[C*(d[0]-R[0])/w,C*(R[3]-d[3])/w]),g=C*y.getGutterForProjection(i);for(const e of O[n]){if(e.getState()!==u.A.LOADED)continue;const r=e.tileCoord,i=l[1]-r[1],o=Math.round(p[0]-(i-1)*s),c=l[2]-r[2],h=Math.round(p[1]-(c-1)*a),d=Math.round(p[0]-i*s),m=Math.round(p[1]-c*a),_=o-d,v=h-m,b=1===U.length;let x=!1;B=[d,m,d+_,m,d+_,m+v,d,m+v];for(let t=0,e=z.length;t<e;++t)if(!b&&n<G[t]){const e=z[t];(0,f.intersects)([d,m,d+_,m+v],[e[0],e[3],e[4],e[7]])&&(x||(j.save(),x=!0),j.beginPath(),j.moveTo(B[0],B[1]),j.lineTo(B[2],B[3]),j.lineTo(B[4],B[5]),j.lineTo(B[6],B[7]),j.moveTo(e[6],e[7]),j.lineTo(e[4],e[5]),j.lineTo(e[2],e[3]),j.lineTo(e[0],e[1]),j.clip())}z.push(B),G.push(n),this.drawTile(e,t,d,m,_,v,g,b),x&&j.restore(),this.renderedTiles.unshift(e),this.updateUsedTiles(t.usedTiles,y,e)}}this.renderedRevision=_,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!(0,f.equals)(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=c,this.renderedProjection=i,this.postRender(this.context,t),n.extent&&j.restore(),j.imageSmoothingEnabled=!0;return t.postRenderFunctions.push(((t,e)=>{const n=(0,m.getUid)(y),r=e.wantedTiles[n],i=r?Object.keys(r).length:0;this.updateCacheSize(i),this.tileCache_.expireCache()})),this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*t)}drawTile(t,e,n,r,o,s,a,l){let c;if(t instanceof i.Ay){if(c=(0,i.xo)(t.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(t);if(!c)return;const u=this.getRenderContext(e),h=(0,m.getUid)(this),d=e.layerStatesArray[e.layerIndex],f=d.opacity*(l?t.getAlpha(h,e.time):1),p=f!==u.globalAlpha;p&&(u.save(),u.globalAlpha=f),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,n,r,o,s),p&&u.restore(),f!==d.opacity?e.animate=!0:l&&t.endTransition(h)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,e,n){const r=(0,m.getUid)(e);r in t||(t[r]={}),t[r][n.getKey()]=!0}}const w=S},3608:(t,e,n)=>{"use strict";n.d(e,{Eo:()=>a,gY:()=>c,j:()=>l,nl:()=>u});var r=n(6141),i=n(4087);const o=.5,s={Point:function(t,e,n,i,o,s){const a=n.getImage(),l=n.getText(),c=l&&l.getText(),u=s&&a&&c?{}:void 0;if(a){if(a.getImageState()!=r.A.LOADED)return;const s=t.getBuilder(n.getZIndex(),"Image");s.setImageStyle(a,u),s.drawPoint(e,i,o)}if(c){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(l,u),r.drawText(e,i,o)}},LineString:function(t,e,n,r,i){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,r,i)}const s=n.getText();if(s&&s.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,r,i)}},Polygon:function(t,e,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,r,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,r,i)}},MultiPoint:function(t,e,n,i,o,s){const a=n.getImage(),l=a&&0!==a.getOpacity(),c=n.getText(),u=c&&c.getText(),h=s&&l&&u?{}:void 0;if(l){if(a.getImageState()!=r.A.LOADED)return;const s=t.getBuilder(n.getZIndex(),"Image");s.setImageStyle(a,h),s.drawMultiPoint(e,i,o)}if(u){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(c,h),r.drawText(e,i,o)}},MultiLineString:function(t,e,n,r,i){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r,i)}const s=n.getText();if(s&&s.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,r,i)}},MultiPolygon:function(t,e,n,r,i){const o=n.getFill(),s=n.getStroke();if(s||o){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,r,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,r,i)}},GeometryCollection:function(t,e,n,r,i,o){const a=e.getGeometriesArray();let l,c;for(l=0,c=a.length;l<c;++l){(0,s[a[l].getType()])(t,a[l],n,r,i,o)}},Circle:function(t,e,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,r,i)}const a=n.getText();if(a&&a.getText()){const i=t.getBuilder(n.getZIndex(),"Text");i.setTextStyle(a),i.drawText(e,r)}}};function a(t,e){return parseInt((0,i.getUid)(t),10)-parseInt((0,i.getUid)(e),10)}function l(t,e){const n=c(t,e);return n*n}function c(t,e){return o*t/e}function u(t,e,n,i,o,a,l,c){const u=[],d=n.getImage();if(d){let t=!0;const e=d.getImageState();e==r.A.LOADED||e==r.A.ERROR?t=!1:e==r.A.IDLE&&d.load(),t&&u.push(d.ready())}const f=n.getFill();f&&f.loading()&&u.push(f.ready());const p=u.length>0;return p&&Promise.all(u).then((()=>o(null))),function(t,e,n,r,i,o,a){const l=n.getGeometryFunction()(e);if(!l)return;const c=l.simplifyTransformed(r,i),u=n.getRenderer();if(u)h(t,c,n,e,a);else{(0,s[c.getType()])(t,c,n,e,a,o)}}(t,e,n,i,a,l,c),p}function h(t,e,n,r,i){if("GeometryCollection"==e.getType()){const o=e.getGeometries();for(let e=0,s=o.length;e<s;++e)h(t,o[e],n,r,i);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer(),i)}},3513:(t,e,n)=>{"use strict";n.d(e,{BV:()=>l,KQ:()=>h,XX:()=>f,aY:()=>d});var r=n(915),i=n(8711),o=n(3407),s=n(1597);let a;const l=[];function c(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function u(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function h(t,e,n,i){const s=(0,o.transform)(n,e,t);let a=(0,o.getPointResolution)(e,i,n);const l=e.getMetersPerUnit();void 0!==l&&(a*=l);const c=t.getMetersPerUnit();void 0!==c&&(a/=c);const u=t.getExtent();if(!u||(0,r.containsCoordinate)(u,s)){const e=(0,o.getPointResolution)(t,a,s)/a;isFinite(e)&&e>0&&(a/=e)}return a}function d(t,e,n,i){const o=(0,r.getCenter)(n);let s=h(t,e,o,i);return(!isFinite(s)||s<=0)&&(0,r.forEachCorner)(n,(function(n){return s=h(t,e,n,i),isFinite(s)&&s>0})),s}function f(t,e,n,o,h,d,f,p,g,m,y,_,v,b){const x=(0,i.createCanvasContext2D)(Math.round(n*t),Math.round(n*e),l);if(_||(x.imageSmoothingEnabled=!1),0===g.length)return x.canvas;function S(t){return Math.round(t*n)/n}x.scale(n,n),x.globalCompositeOperation="lighter";const w=(0,r.createEmpty)();let E;g.forEach((function(t,e,n){(0,r.extend)(w,t.extent)}));const T=n/o,C=(_?1:1+Math.pow(2,-24))/T;if(!v||1!==g.length||0!==m){if(E=(0,i.createCanvasContext2D)(Math.round((0,r.getWidth)(w)*T),Math.round((0,r.getHeight)(w)*T),l),_||(E.imageSmoothingEnabled=!1),h&&b){const t=(h[0]-w[0])*T,e=-(h[3]-w[3])*T,n=(0,r.getWidth)(h)*T,i=(0,r.getHeight)(h)*T;E.rect(t,e,n,i),E.clip()}g.forEach((function(t,e,n){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){E.save();const e=(t.clipExtent[0]-w[0])*T,n=-(t.clipExtent[3]-w[3])*T,i=(0,r.getWidth)(t.clipExtent)*T,o=(0,r.getHeight)(t.clipExtent)*T;E.rect(_?e:Math.round(e),_?n:Math.round(n),_?i:Math.round(e+i)-Math.round(e),_?o:Math.round(n+o)-Math.round(n)),E.clip()}const e=(t.extent[0]-w[0])*T,n=-(t.extent[3]-w[3])*T,i=(0,r.getWidth)(t.extent)*T,o=(0,r.getHeight)(t.extent)*T;E.drawImage(t.image,m,m,t.image.width-2*m,t.image.height-2*m,_?e:Math.round(e),_?n:Math.round(n),_?i:Math.round(e+i)-Math.round(e),_?o:Math.round(n+o)-Math.round(n)),t.clipExtent&&E.restore()}}))}const M=(0,r.getTopLeft)(f);return p.getTriangles().forEach((function(t,e,n){const o=t.source,h=t.target;let f=o[0][0],p=o[0][1],m=o[1][0],y=o[1][1],v=o[2][0],b=o[2][1];const T=S((h[0][0]-M[0])/d),A=S(-(h[0][1]-M[1])/d),k=S((h[1][0]-M[0])/d),I=S(-(h[1][1]-M[1])/d),P=S((h[2][0]-M[0])/d),R=S(-(h[2][1]-M[1])/d),O=f,N=p;f=0,p=0,m-=O,y-=N,v-=O,b-=N;const D=[[m,y,0,0,k-T],[v,b,0,0,P-T],[0,0,m,y,I-A],[0,0,v,b,R-A]],$=(0,s.solveLinearSystem)(D);if(!$)return;if(x.save(),x.beginPath(),function(){if(void 0===a){const t=(0,i.createCanvasContext2D)(6,6,l);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",c(t,4,5,4,0),c(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;a=u(e,0)||u(e,4)||u(e,8),(0,i.releaseCanvas)(t),l.push(t.canvas)}return a}()||!_){x.moveTo(k,I);const t=4,e=T-k,n=A-I;for(let r=0;r<t;r++)x.lineTo(k+S((r+1)*e/t),I+S(r*n/(t-1))),r!=t-1&&x.lineTo(k+S((r+1)*e/t),I+S((r+1)*n/(t-1)));x.lineTo(P,R)}else x.moveTo(k,I),x.lineTo(T,A),x.lineTo(P,R);let L;if(x.clip(),x.transform($[0],$[2],$[1],$[3],T,A),x.translate(w[0]-O,w[3]-N),E)L=E.canvas,x.scale(C,-C);else{const t=g[0],e=t.extent;L=t.image,x.scale((0,r.getWidth)(e)/L.width,-(0,r.getHeight)(e)/L.height)}x.drawImage(L,0,0),x.restore()})),E&&((0,i.releaseCanvas)(E),l.push(E.canvas)),y&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,p.getTriangles().forEach((function(t,e,n){const r=t.target,i=(r[0][0]-M[0])/d,o=-(r[0][1]-M[1])/d,s=(r[1][0]-M[0])/d,a=-(r[1][1]-M[1])/d,l=(r[2][0]-M[0])/d,c=-(r[2][1]-M[1])/d;x.beginPath(),x.moveTo(s,a),x.lineTo(i,o),x.lineTo(l,c),x.closePath(),x.stroke()})),x.restore()),x.canvas}},8596:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var r=n(3101),i=n(7607),o=n(6837),s=n(1078),a=n(2913),l=n(3513),c=n(1597),u=n(8711),h=n(915),d=n(9438);class f extends i.Ay{constructor(t){super({tileCoord:t.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:t.interpolate,transition:t.transition}),this.pixelRatio_=t.pixelRatio,this.gutter_=t.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=t.sourceTileGrid,this.targetTileGrid_=t.targetTileGrid,this.wrappedTileCoord_=t.wrappedTileCoord||t.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const e=t.sourceProj,n=e.getExtent(),i=t.sourceTileGrid.getExtent();this.clipExtent_=e.canWrapX()?i?(0,h.getIntersection)(n,i):n:i;const o=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),u=this.targetTileGrid_.getExtent();let d=this.sourceTileGrid_.getExtent();const f=u?(0,h.getIntersection)(o,u):o;if(0===(0,h.getArea)(f))return void(this.state=s.A.EMPTY);n&&(d=d?(0,h.getIntersection)(d,n):n);const p=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),g=t.targetProj,m=(0,l.aY)(e,g,f,p);if(!isFinite(m)||m<=0)return void(this.state=s.A.EMPTY);const y=void 0!==t.errorThreshold?t.errorThreshold:r.l;if(this.triangulation_=new a.A(e,g,f,d,m*y,p),0===this.triangulation_.getTriangles().length)return void(this.state=s.A.EMPTY);this.sourceZ_=this.sourceTileGrid_.getZForResolution(m);let _=this.triangulation_.calculateSourceExtent();if(d&&(e.canWrapX()?(_[1]=(0,c.clamp)(_[1],d[1],d[3]),_[3]=(0,c.clamp)(_[3],d[1],d[3])):_=(0,h.getIntersection)(_,d)),(0,h.getArea)(_)){let r=0,i=0;e.canWrapX()&&(r=(0,h.getWidth)(n),i=Math.floor((_[0]-n[0])/r));(0,h.wrapAndSliceX)(_.slice(),e,!0).forEach((e=>{const n=this.sourceTileGrid_.getTileRangeForExtentAndZ(e,this.sourceZ_),o=t.getTileFunction;for(let t=n.minX;t<=n.maxX;t++)for(let e=n.minY;e<=n.maxY;e++){const n=o(this.sourceZ_,t,e,this.pixelRatio_);if(n){const t=i*r;this.sourceTiles_.push({tile:n,offset:t})}}++i})),0===this.sourceTiles_.length&&(this.state=s.A.EMPTY)}else this.state=s.A.EMPTY}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const t=[];let e=!1;if(this.sourceTiles_.forEach((n=>{const r=n.tile;if(!r||r.getState()!==s.A.LOADED)return;const o=r.getSize(),a=this.gutter_;let l;const c=(0,i.bL)(r.getData());c?l=c:(e=!0,l=(0,i.$r)((0,i.xo)(r.getData())));const u=[o[0]+2*a,o[1]+2*a],h=l instanceof Float32Array,d=u[0]*u[1],f=h?Float32Array:Uint8ClampedArray,p=new f(l.buffer),g=f.BYTES_PER_ELEMENT,m=g*p.length/d,y=p.byteLength/u[1],_=Math.floor(y/g/u[0]),v=d*_;let b=p;if(p.length!==v){b=new f(v);let t=0,e=0;const n=u[0]*_;for(let r=0;r<u[1];++r){for(let r=0;r<n;++r)b[t++]=p[e+r];e+=y/g}}const x=this.sourceTileGrid_.getTileCoordExtent(r.tileCoord);x[0]+=n.offset,x[2]+=n.offset;const S=this.clipExtent_?.slice();S&&(S[0]+=n.offset,S[2]+=n.offset),t.push({extent:x,clipExtent:S,data:new Uint8ClampedArray(b.buffer),dataType:f,bytesPerPixel:m,pixelSize:u})})),this.sourceTiles_.length=0,0===t.length)return this.state=s.A.ERROR,void this.changed();const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),o="number"==typeof r?r:r[0],a="number"==typeof r?r:r[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let f,p;const g=t[0].bytesPerPixel;for(let e=Math.ceil(g/3)-1;e>=0;--e){const n=[];for(let r=0,i=t.length;r<i;++r){const i=t[r],o=i.data,s=i.pixelSize,a=s[0],c=s[1],h=(0,u.createCanvasContext2D)(a,c,l.BV),d=h.createImageData(a,c),f=d.data;let p=3*e;for(let t=0,e=f.length;t<e;t+=4)f[t]=o[p],f[t+1]=o[p+1],f[t+2]=o[p+2],f[t+3]=255,p+=g;h.putImageData(d,0,0),n.push({extent:i.extent,clipExtent:i.clipExtent,image:h.canvas})}const r=(0,l.XX)(o,a,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,n,this.gutter_,!1,!1,!1);for(let t=0,e=n.length;t<e;++t){const e=n[t].image.getContext("2d");(0,u.releaseCanvas)(e),l.BV.push(e.canvas)}const i=r.getContext("2d"),s=i.getImageData(0,0,r.width,r.height);(0,u.releaseCanvas)(i),l.BV.push(r),f||(p=new Uint8ClampedArray(g*s.width*s.height),f=new t[0].dataType(p.buffer));const m=s.data;let y=3*e;for(let t=0,e=m.length;t<e;t+=4)255===m[t+3]?(p[y]=m[t],p[y+1]=m[t+1],p[y+2]=m[t+2]):(p[y]=0,p[y+1]=0,p[y+2]=0),y+=g}if(e){const t=(0,u.createCanvasContext2D)(o,a),e=new ImageData(f,o);t.putImageData(e,0,0),this.reprojData_=t.canvas}else this.reprojData_=f;this.reprojSize_=[Math.round(o*this.pixelRatio_),Math.round(a*this.pixelRatio_)],this.state=s.A.LOADED,this.changed()}load(){if(this.state!==s.A.IDLE&&this.state!==s.A.ERROR)return;this.state=s.A.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:e})=>{const n=e.getState();if(n!==s.A.IDLE&&n!==s.A.LOADING)return;t++;const r=(0,d.listen)(e,o.A.CHANGE,(()=>{const n=e.getState();n!=s.A.LOADED&&n!=s.A.ERROR&&n!=s.A.EMPTY||((0,d.unlistenByKey)(r),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(r)})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:t}){t.getState()==s.A.IDLE&&t.load()}))}unlistenSources_(){this.sourcesListenerKeys_.forEach(d.unlistenByKey),this.sourcesListenerKeys_=null}}const p=f},7404:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var r=n(3101),i=n(6837),o=n(8143),s=n(1078),a=n(2913),l=n(3513),c=n(1597),u=n(915),h=n(9438),d=n(8711);class f extends o.A{constructor(t,e,n,i,o,h,d,f,p,g,m,y){super(o,s.A.IDLE,y),this.renderEdges_=void 0!==m&&m,this.pixelRatio_=d,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=h||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const _=i.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let b=this.sourceTileGrid_.getExtent();const x=v?(0,u.getIntersection)(_,v):_;if(0===(0,u.getArea)(x))return void(this.state=s.A.EMPTY);const S=t.getExtent();S&&(b=b?(0,u.getIntersection)(b,S):S);const w=i.getResolution(this.wrappedTileCoord_[0]),E=(0,l.aY)(t,n,x,w);if(!isFinite(E)||E<=0)return void(this.state=s.A.EMPTY);const T=void 0!==g?g:r.l;if(this.triangulation_=new a.A(t,n,x,b,E*T,w),0===this.triangulation_.getTriangles().length)return void(this.state=s.A.EMPTY);this.sourceZ_=e.getZForResolution(E);let C=this.triangulation_.calculateSourceExtent();if(b&&(t.canWrapX()?(C[1]=(0,c.clamp)(C[1],b[1],b[3]),C[3]=(0,c.clamp)(C[3],b[1],b[3])):C=(0,u.getIntersection)(C,b)),(0,u.getArea)(C)){let n=0,r=0;t.canWrapX()&&(n=(0,u.getWidth)(S),r=Math.floor((C[0]-S[0])/n));(0,u.wrapAndSliceX)(C.slice(),t,!0).forEach((t=>{const i=e.getTileRangeForExtentAndZ(t,this.sourceZ_);for(let t=i.minX;t<=i.maxX;t++)for(let e=i.minY;e<=i.maxY;e++){const i=p(this.sourceZ_,t,e,d);if(i){const t=r*n;this.sourceTiles_.push({tile:i,offset:t})}}++r})),0===this.sourceTiles_.length&&(this.state=s.A.EMPTY)}else this.state=s.A.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{const n=e.tile;if(n&&n.getState()==s.A.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);r[0]+=e.offset,r[2]+=e.offset;const i=this.clipExtent_?.slice();i&&(i[0]+=e.offset,i[2]+=e.offset),t.push({extent:r,clipExtent:i,image:n.getImage()})}})),this.sourceTiles_.length=0,0===t.length)this.state=s.A.ERROR;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,l.XX)(r,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=s.A.LOADED}this.changed()}load(){if(this.state==s.A.IDLE){this.state=s.A.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:e})=>{const n=e.getState();if(n==s.A.IDLE||n==s.A.LOADING){t++;const n=(0,h.listen)(e,i.A.CHANGE,(r=>{const i=e.getState();i!=s.A.LOADED&&i!=s.A.ERROR&&i!=s.A.EMPTY||((0,h.unlistenByKey)(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(n)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:t},e,n){t.getState()==s.A.IDLE&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(h.unlistenByKey),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,d.releaseCanvas)(this.canvas_.getContext("2d")),l.BV.push(this.canvas_),this.canvas_=null),super.release()}}const p=f},2913:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(915),i=n(3407),o=n(1597);const s=class{constructor(t,e,n,o,s,a){this.sourceProj_=t,this.targetProj_=e;let l={};const c=(0,i.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return l[e]||(l[e]=c(t)),l[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&(0,r.getWidth)(o)>=(0,r.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,r.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,r.getWidth)(this.targetProj_.getExtent()):null;const u=(0,r.getTopLeft)(n),h=(0,r.getTopRight)(n),d=(0,r.getBottomRight)(n),f=(0,r.getBottomLeft)(n),p=this.transformInv_(u),g=this.transformInv_(h),m=this.transformInv_(d),y=this.transformInv_(f),_=10+(a?Math.max(0,Math.ceil(Math.log2((0,r.getArea)(n)/(a*a*256*256)))):0);if(this.addQuad_(u,h,d,f,p,g,m,y,_),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,n,r){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const r=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-r<this.sourceWorldWidth_/2&&(e.source=n)}}))}l={}}addTriangle_(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})}addQuad_(t,e,n,i,s,a,l,c,u){const h=(0,r.boundingExtent)([s,a,l,c]),d=this.sourceWorldWidth_?(0,r.getWidth)(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&d>.5&&d<1;let g=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const o=(0,r.boundingExtent)([t,e,n,i]);g=(0,r.getWidth)(o)/this.targetWorldWidth_>.25||g}!p&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)}if(!g&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!(0,r.intersects)(h,this.maxSourceExtent_))return;let m=0;if(!(g||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(c[0])&&isFinite(c[1])))if(u>0)g=!0;else if(m=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(c[0])&&isFinite(c[1])?0:1),1!=m&&2!=m&&4!=m&&8!=m)return;if(u>0){if(!g){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],r=this.transformInv_(e);let i;if(p){i=((0,o.modulo)(s[0],f)+(0,o.modulo)(l[0],f))/2-(0,o.modulo)(r[0],f)}else i=(s[0]+l[0])/2-r[0];const a=(s[1]+l[1])/2-r[1];g=i*i+a*a>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const r=[(e[0]+n[0])/2,(e[1]+n[1])/2],o=this.transformInv_(r),h=[(i[0]+t[0])/2,(i[1]+t[1])/2],d=this.transformInv_(h);this.addQuad_(t,e,r,h,s,a,o,d,u-1),this.addQuad_(h,r,n,i,d,o,l,c,u-1)}else{const r=[(t[0]+e[0])/2,(t[1]+e[1])/2],o=this.transformInv_(r),h=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(h);this.addQuad_(t,r,h,i,s,o,d,c,u-1),this.addQuad_(r,e,n,h,o,a,l,d,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&m||this.addTriangle_(t,n,i,s,l,c),14&m||this.addTriangle_(t,n,e,s,l,a),m&&(13&m||this.addTriangle_(e,i,t,a,c,s),7&m||this.addTriangle_(e,i,n,a,c,l))}calculateSourceExtent(){const t=(0,r.createEmpty)();return this.triangles_.forEach((function(e,n,i){const o=e.source;(0,r.extendCoordinate)(t,o[0]),(0,r.extendCoordinate)(t,o[1]),(0,r.extendCoordinate)(t,o[2])})),t}getTriangles(){return this.triangles_}}},3101:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});const r=.5},4498:(t,e,n)=>{"use strict";n.d(e,{a$:()=>s,b8:()=>i,cq:()=>a,dv:()=>o});var r=n(1597);function i(t){if(void 0!==t)return 0}function o(t){if(void 0!==t)return t}function s(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function a(t){const e=void 0===t?(0,r.toRadians)(5):t;return function(t,n){return n||void 0===t?t:Math.abs(t)<=e?0:t}}},6782:(t,e,n)=>{"use strict";function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function i(t){return t[0]>0&&t[1]>0}function o(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function s(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.r(e),n.d(e,{buffer:()=>r,hasArea:()=>i,scale:()=>o,toSize:()=>s})},9925:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ImageSourceEvent:()=>x,ImageSourceEventType:()=>b,default:()=>T,defaultImageLoadFunction:()=>w,getRequestExtent:()=>E});var r=n(1685),i=n(6837),o=n(6141),s=n(3938),a=n(3101),l=n(2913),c=n(3513);function u(t){return Array.isArray(t)?Math.min(...t):t}var h=n(915),d=n(9438);class f extends s.Ay{constructor(t,e,n,r,i,s,u){let d=t.getExtent();d&&t.canWrapX()&&(d=d.slice(),d[0]=-1/0,d[2]=1/0);let f=e.getExtent();f&&e.canWrapX()&&(f=f.slice(),f[0]=-1/0,f[2]=1/0);const p=f?(0,h.getIntersection)(n,f):n,g=(0,h.getCenter)(p),m=(0,c.KQ)(t,e,g,r),y=a.l,_=new l.A(t,e,p,d,m*y,r),v=_.calculateSourceExtent(),b=(0,h.isEmpty)(v)?null:s(v,m,i),x=b?o.A.IDLE:o.A.EMPTY,S=b?b.getPixelRatio():1;super(n,r,S,x),this.targetProj_=e,this.maxSourceExtent_=d,this.triangulation_=_,this.targetResolution_=r,this.targetExtent_=n,this.sourceImage_=b,this.sourcePixelRatio_=S,this.interpolate_=u,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==o.A.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(t==o.A.LOADED){const t=(0,h.getWidth)(this.targetExtent_)/this.targetResolution_,e=(0,h.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,c.XX)(t,e,this.sourcePixelRatio_,u(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=t,this.changed()}load(){if(this.state==o.A.IDLE){this.state=o.A.LOADING,this.changed();const t=this.sourceImage_.getState();t==o.A.LOADED||t==o.A.ERROR?this.reproject_():(this.sourceListenerKey_=(0,d.listen)(this.sourceImage_,i.A.CHANGE,(t=>{const e=this.sourceImage_.getState();e!=o.A.LOADED&&e!=o.A.ERROR||(this.unlistenSource_(),this.reproject_())})),this.sourceImage_.load())}}unlistenSource_(){(0,d.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null}}const p=f;var g=n(6444),m=n(2192),y=n(1597),_=n(3407),v=n(6514);const b={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class x extends r.default{constructor(t,e){super(t),this.image=e}}class S extends g.A{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.loader=t.loader||null,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!t.loader&&0===t.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){const e=this.getResolutions();if(e){t=e[(0,v.linearFindNearest)(e,t,0)]}return t}getImage(t,e,n,r){const i=this.getProjection();if(!i||!r||(0,_.equivalent)(i,r))return i&&(r=i),this.getImageInternal(t,e,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,_.equivalent)(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&(0,h.equals)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new p(i,r,t,e,n,((t,e,n)=>this.getImageInternal(t,e,n,i)),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,n,r){if(this.loader){const o=E(t,e,n,1),a=this.findNearestResolution(e);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&(0,h.containsExtent)(this.wantedExtent_,o)||(0,h.containsExtent)(this.image.getExtent(),o))&&(this.wantedResolution_&&u(this.wantedResolution_)===a||u(this.image.getResolution())===a)))return this.image;this.wantedProjection_=r,this.wantedExtent_=o,this.wantedResolution_=a,this.image=new s.Ay(o,a,n,this.loader),this.image.addEventListener(i.A.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(t){const e=t.target;let n;switch(e.getState()){case o.A.LOADING:this.loading=!0,n=b.IMAGELOADSTART;break;case o.A.LOADED:this.loading=!1,n=b.IMAGELOADEND;break;case o.A.ERROR:this.loading=!1,n=b.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new x(n,e))}}function w(t,e){t.getImage().src=e}function E(t,e,n,r){const i=e/n,o=(0,h.getCenter)(t),s=(0,y.ceil)((0,h.getWidth)(t)/i,m.B),a=(0,y.ceil)((0,h.getHeight)(t)/i,m.B),l=s+2*(0,y.ceil)((r-1)*s/2,m.B),c=a+2*(0,y.ceil)((r-1)*a/2,m.B);return(0,h.getForViewAndSize)(o,i,0,[l,c])}const T=S},1011:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var r=n(9925),i=n(3513),o=n(7500),s=n(3938),a=n(3407);class l extends r.default{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:r.defaultImageLoadFunction,this.params_=Object.assign({},t.params),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(t,e,n,r){const s=(0,a.get)(n),l=this.getProjection();l&&l!==s&&(e=(0,i.KQ)(l,s,t,e),t=(0,a.transform)(t,s,l));const c={url:this.url_,params:{...this.params_,...r},projection:l||s};return(0,o.y4)(c,t,e)}getLegendUrl(t,e){return(0,o.$q)({url:this.url_,params:{...this.params_,...e}},t)}getParams(){return this.params_}getImageInternal(t,e,n,r){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===r||(this.loaderProjection_=r,this.loader=(0,o.Eq)({crossOrigin:this.crossOrigin_,params:this.params_,projection:r,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,e)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,e),(0,s.D4)(t))})),super.getImageInternal(t,e,n,r))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(t){this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.loader=null,this.changed())}updateParams(t){Object.assign(this.params_,t),this.changed()}changed(){this.image=null,super.changed()}}const c=l},6444:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(4120),i=n(3407);class o extends r.default{constructor(t){super(),this.projection=(0,i.get)(t.projection),this.attributions_=s(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=s(t),this.changed()}setState(t){this.state_=t,this.changed()}}function s(t){return t?"function"==typeof t?t:(Array.isArray(t)||(t=[t]),e=>t):null}const a=o},6017:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TileSourceEvent:()=>u,default:()=>h});var r=n(1685),i=n(6444),o=n(4087),s=n(4863),a=n(6782),l=n(186);class c extends i.A{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&(0,a.toSize)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tmpSize=[0,0],this.key_=t.key||(0,o.getUid)(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,r,i){return(0,o.abstract)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:(0,s.pr)(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),o=(0,a.toSize)(r.getTileSize(t),this.tmpSize);return 1==i?o:(0,a.scale)(o,i,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=(0,s.Li)(n,t,e)),(0,l.N5)(t,n)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class u extends r.default{constructor(t,e){super(t),this.tile=e}}const h=c},8512:(t,e,n)=>{"use strict";n.d(e,{A:()=>f});var r=n(6837),i=n(190),o=n(7404),s=n(1078),a=n(3653),l=n(3407),c=n(4863),u=n(4087);class h extends a.A{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:d,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:i.A,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!(0,l.equivalent)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,l.equivalent)(e,t)))return this.tileGrid;const n=(0,u.getUid)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=(0,c.pr)(t)),this.tileGridForProjection[n]}createTile_(t,e,n,i,o,a){const l=[t,e,n],c=this.getTileCoordForTileUrlFunction(l,o),u=c?this.tileUrlFunction(c,i,o):void 0,h=new this.tileClass(l,void 0!==u?s.A.IDLE:s.A.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=a,h.addEventListener(r.A.CHANGE,this.handleTileChange.bind(this)),h}getTile(t,e,n,r,i){const s=this.getProjection();if(!s||!i||(0,l.equivalent)(s,i))return this.getTileInternal(t,e,n,r,s||i);const a=[t,e,n],c=this.getKey(),u=this.getTileGridForProjection(s),h=this.getTileGridForProjection(i),d=this.getTileCoordForTileUrlFunction(a,i),f=new o.A(s,u,i,h,a,d,this.getTilePixelRatio(r),this.getGutter(),((t,e,n,r)=>this.getTileInternal(t,e,n,r,s)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=c,f}getTileInternal(t,e,n,r,i){const o=this.getKey();return this.createTile_(t,e,n,r,i,o)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const n=(0,l.get)(t);if(n){const t=(0,u.getUid)(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}}function d(t,e){t.getImage().src=e}const f=h},2728:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(8512),i=n(7500),o=n(4465),s=n(915),a=n(3513),l=n(2806),c=n(3407),u=n(1597),h=n(186);class d extends r.A{constructor(t){t=t||{};const e=Object.assign({},t.params);super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=e,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=(0,s.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,e,n,r){const o=(0,c.get)(n),l=this.getProjection()||o;let u=this.getTileGrid();u||(u=this.getTileGridForProjection(l));const h=(0,c.transform)(t,o,l),d=(0,a.KQ)(l,o,t,e),f=u.getZForResolution(d,this.zDirection),p=u.getResolution(f),g=u.getTileCoordForCoordAndZ(h,f);if(u.getResolutions().length<=g[0])return;let m=u.getTileCoordExtent(g,this.tmpExtent_);const y=this.gutter_;0!==y&&(m=(0,s.buffer)(m,p*y,m));const _={QUERY_LAYERS:this.params_.LAYERS};Object.assign(_,(0,i.W3)(this.params_,"GetFeatureInfo"),r);const v=Math.floor((h[0]-m[0])/p),b=Math.floor((m[3]-h[1])/p);return _[this.v13_?"I":"X"]=v,_[this.v13_?"J":"Y"]=b,this.getRequestUrl_(g,m,1,l||o,_)}getLegendUrl(t,e){if(void 0===this.urls[0])return;const n={SERVICE:"WMS",VERSION:i.jD,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){const t=this.params_.LAYERS;if(!(!Array.isArray(t)||1===t.length))return;n.LAYER=t}if(void 0!==t){const e=this.getProjection()?this.getProjection().getMetersPerUnit():1,r=28e-5;n.SCALE=t*e/r}return Object.assign(n,e),(0,o.appendParams)(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,e,n,r,o){const s=this.urls;if(!s)return;let a;if(1==s.length)a=s[0];else{a=s[(0,u.modulo)((0,h.tW)(t),s.length)]}return(0,i.AE)(e,(this.tileGrid||this.getTileGridForProjection(r)).getResolution(t[0]),n,r,a,o,this.serverType_)}getTilePixelRatio(t){return this.hidpi_&&void 0!==this.serverType_?t:1}getKeyForParams_(){let t=0;const e=[];for(const n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")}updateParams(t){Object.assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const t=this.params_.VERSION||i.jD;this.v13_=(0,l.compareVersions)(t,"1.3")>=0}tileUrlFunction(t,e,n){let r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),r.getResolutions().length<=t[0])return;1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);const o=r.getResolution(t[0]);let a=r.getTileCoordExtent(t,this.tmpExtent_);const l=this.gutter_;0!==l&&(a=(0,s.buffer)(a,o*l,a));const c=Object.assign({},(0,i.W3)(this.params_,"GetMap"));return this.getRequestUrl_(t,a,e,n,c)}}const f=d},3653:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});const r="tileloadstart",i="tileloadend",o="tileloaderror";var s=n(6017),a=n(1078),l=n(2654),c=n(4465),u=n(4087);class h extends s.default{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===h.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=(0,u.getUid)(e),l=e.getState();let c;l==a.A.LOADING?(this.tileLoadingKeys_[n]=!0,c=r):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],c=l==a.A.ERROR?o:l==a.A.LOADED?i:void 0),null!=c&&this.dispatchEvent(new s.TileSourceEvent(c,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=(0,c.expandUrl)(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,l.Qz)(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}}const d=h},731:(t,e,n)=>{"use strict";n.r(e),n.d(e,{VectorSourceEvent:()=>x,default:()=>w});var r=n(71),i=n(2135),o=n(1685),s=n(6837),a=n(8450),l=n(5902),c=n(4778),u=n(6444),h=n(8280),d=n(4238);n(3407);function f(t,e){return[[-1/0,-1/0,1/0,1/0]]}var p=n(588),g=n(915),m=n(6514),y=n(4087),_=n(3530),v=n(9438),b=n(1142);class x extends o.default{constructor(t,e,n){super(t),this.feature=e,this.features=n}}class S extends u.A{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=d.VOID,this.format_=t.format||null,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&((0,p.v)(this.format_,"`format` must be set when `url` is set"),this.loader_=(0,b.nF)(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:f;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let n,i;this.featuresRtree_=e?new l.default:null,this.loadedExtentsRtree_=new l.default,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?i=t.features:t.features&&(n=t.features,i=n.getArray()),e||void 0!==n||(n=new r.default(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=(0,y.getUid)(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new x(h.A.ADDFEATURE,t))}setupChangeEvents_(t,e){e instanceof c.Ay||(this.featureChangeKeys_[t]=[(0,v.listen)(e,s.A.CHANGE,this.handleFeatureChange_,this),(0,v.listen)(e,a.A.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,e){let n=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof c.Ay){const r=this.idIndex_[t];r instanceof c.Ay?Array.isArray(r)?r.push(e):this.idIndex_[t]=[r,e]:n=!1}else n=!1;else this.idIndex_[t]=e}return n&&((0,p.v)(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],r=[];for(let e=0,r=t.length;e<r;e++){const r=t[e],i=(0,y.getUid)(r);this.addToIndex_(i,r)&&n.push(r)}for(let t=0,i=n.length;t<i;t++){const i=n[t],o=(0,y.getUid)(i);this.setupChangeEvents_(o,i);const s=i.getGeometry();if(s){const t=s.getExtent();e.push(t),r.push(i)}else this.nullGeometryFeatures_[o]=i}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(h.A.ADDFEATURE))for(let t=0,e=n.length;t<e;t++)this.dispatchEvent(new x(h.A.ADDFEATURE,n[t]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(h.A.ADDFEATURE,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(h.A.REMOVEFEATURE,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(i.A.ADD,(t=>{e||(e=!0,this.addFeature(t.element),e=!1)})),t.addEventListener(i.A.REMOVE,(t=>{e||(e=!0,this.removeFeature(t.element),e=!1)})),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(v.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=t=>{this.removeFeatureInternal(t)};this.featuresRtree_.forEach(t);for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new x(h.A.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){const r=n.getGeometry();if(r instanceof c.Ay||r.intersectsCoordinate(t))return e(n)}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(n){const r=n.getGeometry();if(r instanceof c.Ay||r.intersectsExtent(t)){const t=e(n);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,_.isEmpty)(this.nullGeometryFeatures_)||(0,m.extend)(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const n=(0,g.wrapAndSliceX)(t,e);return[].concat(...n.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=t[0],r=t[1];let i=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||d.TRUE,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=s;if(s=e instanceof c.Ay?0:e.closestPointXY(n,r,o,s),s<l){i=t;const e=Math.sqrt(s);a[0]=n-e,a[1]=r-e,a[2]=n+e,a[3]=r+e}}})),i}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=(0,y.getUid)(e),r=e.getGeometry();if(r){const t=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const i=e.getId();if(void 0!==i){const t=i.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new x(h.A.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:(0,y.getUid)(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,_.isEmpty)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,n){const r=this.loadedExtentsRtree_,i=this.strategy_(t,e,n);for(let t=0,o=i.length;t<o;++t){const o=i[t];r.forEachInExtent(o,(function(t){return(0,g.containsExtent)(t.extent,o)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new x(h.A.FEATURESLOADSTART)),this.loader_.call(this,o,e,n,(t=>{--this.loadingExtentsCount_,this.dispatchEvent(new x(h.A.FEATURESLOADEND,void 0,t))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new x(h.A.FEATURESLOADERROR))})),r.insert(o,{extent:o.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let n;e.forEachInExtent(t,(function(e){if((0,g.equals)(e.extent,t))return n=e,!0})),n&&e.remove(n)}removeFeatures(t){let e=!1;for(let n=0,r=t.length;n<r;++n)e=this.removeFeatureInternal(t[n])||e;e&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=(0,y.getUid)(t);if(!(e in this.uidIndex_))return!1;e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const n=this.featureChangeKeys_[e];n?.forEach(v.unlistenByKey),delete this.featureChangeKeys_[e];const r=t.getId();if(void 0!==r){const e=r.toString(),n=this.idIndex_[e];n===t?delete this.idIndex_[e]:Array.isArray(n)&&(n.splice(n.indexOf(t),1),1===n.length&&(this.idIndex_[e]=n[0]))}return delete this.uidIndex_[e],this.hasListener(h.A.REMOVEFEATURE)&&this.dispatchEvent(new x(h.A.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const e in this.idIndex_)if(this.idIndex_[e]===t){delete this.idIndex_[e];break}}setLoader(t){this.loader_=t}setUrl(t){(0,p.v)(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader((0,b.nF)(t,this.format_))}}const w=S},8280:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},5620:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>S,defaultLoadFunction:()=>w});var r=n(6837),i=n(8143),o=n(1078);class s extends i.A{constructor(t,e,n,r,i,o){super(t,e,o),this.extent=null,this.format_=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=i,this.url_=n,this.key=n}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==o.A.IDLE&&(this.setState(o.A.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(t,e){this.setFeatures(t)}onError(){this.setState(o.A.ERROR)}setFeatures(t){this.features_=t,this.setState(o.A.LOADED)}setLoader(t){this.loader_=t}}const a=s;var l=n(6758),c=n(3653),u=n(8711),h=n(4087);const d=[];class f extends i.A{constructor(t,e,n,r,i){super(t,e,{transition:0}),this.context_=null,this.executorGroups=[],this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.removeSourceTiles_=i,this.wrappedTileCoord=n}getContext(){return this.context_||(this.context_=(0,u.createCanvasContext2D)(1,1,d)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(t){const e=(0,h.getUid)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]}load(){this.getSourceTiles()}release(){this.context_&&((0,u.releaseCanvas)(this.context_),d.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}const p=f;var g=n(7115),m=n(915),y=n(4863),_=n(3530),v=n(1142),b=n(6782);class x extends c.A{constructor(t){const e=t.projection||"EPSG:3857",n=t.extent||(0,y.kZ)(e),r=t.tileGrid||(0,y.EN)({extent:n,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,projection:e,state:t.state,tileGrid:r,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:w,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection}),this.format_=t.format?t.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:a,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(t,e,n){if(n.getState()===o.A.IDLE){n.setState(o.A.LOADING);const i=n.wrappedTileCoord,s=this.getTileGridForProjection(e),a=s.getTileCoordExtent(i),l=i[0],c=s.getResolution(l);(0,m.buffer)(a,-c,a);const u=this.tileGrid,h=u.getExtent();h&&(0,m.getIntersection)(a,h,a);const d=u.getZForResolution(c,this.zDirection);u.forEachTileCoord(a,d,(i=>{const s=this.tileUrlFunction(i,t,e);this.sourceTiles_[s]||(this.sourceTiles_[s]=new this.tileClass(i,s?o.A.IDLE:o.A.EMPTY,s,this.format_,this.tileLoadFunction));const a=this.sourceTiles_[s];n.sourceTiles.push(a),this.tileKeysBySourceTileUrl_[s]||(this.tileKeysBySourceTileUrl_[s]=[]),this.tileKeysBySourceTileUrl_[s].push(n.getKey());const l=a.getState();if(l<o.A.LOADED){const t=e=>{this.handleTileChange(e);const i=a.getState();if(i===o.A.LOADED||i===o.A.ERROR){const e=a.getKey();e in n.errorTileKeys?a.getState()===o.A.LOADED&&delete n.errorTileKeys[e]:n.loadingSourceTiles--,i===o.A.ERROR?n.errorTileKeys[e]=!0:a.removeEventListener(r.A.CHANGE,t),0===n.loadingSourceTiles&&n.setState((0,_.isEmpty)(n.errorTileKeys)?o.A.LOADED:o.A.ERROR)}};a.addEventListener(r.A.CHANGE,t),n.loadingSourceTiles++}l===o.A.IDLE&&(a.extent=u.getTileCoordExtent(i),a.projection=e,a.resolution=u.getResolution(i[0]),a.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((t=>t.getState()===o.A.ERROR))?o.A.ERROR:o.A.LOADED)}return n.sourceTiles}removeSourceTiles(t){const e=t.sourceTiles;for(let t=0,n=e.length;t<n;++t){const n=e[t].getTileUrl(),r=this.getKey();if(!this.tileKeysBySourceTileUrl_[n])return;const i=this.tileKeysBySourceTileUrl_[n][r];-1!==i&&(this.tileKeysBySourceTileUrl_[n].splice(i,1),0===this.tileKeysBySourceTileUrl_[n].length&&(delete this.tileKeysBySourceTileUrl_[n],delete this.sourceTiles_[n]))}}getTile(t,e,n,r,i){const s=[t,e,n];let a=this.getTileCoordForTileUrlFunction(s,i);const l=this.getTileGrid().getExtent(),c=this.getTileGridForProjection(i);if(a&&l){const e=c.getTileCoordExtent(a);(0,m.buffer)(e,-c.getResolution(t),e),(0,m.intersects)(l,e)||(a=null)}let u=!0;if(null!==a){const e=this.tileGrid,n=c.getResolution(t),o=e.getZForResolution(n,1),s=c.getTileCoordExtent(a);(0,m.buffer)(s,-n,s),e.forEachTileCoord(s,o,(t=>{u=u&&!this.tileUrlFunction(t,r,i)}))}const h=new p(s,u?o.A.EMPTY:o.A.IDLE,a,this.getSourceTiles.bind(this,r,i),this.removeSourceTiles.bind(this));return h.key=this.getKey(),h}getTileGridForProjection(t){const e=t.getCode();let n=this.tileGrids_[e];if(!n){const t=this.tileGrid,r=t.getResolutions().slice(),i=r.map((function(e,n){return t.getOrigin(n)})),o=r.map((function(e,n){return t.getTileSize(n)})),s=g.L+1;for(let t=r.length;t<s;++t)r.push(r[t-1]/2),i.push(i[t-1]),o.push(o[t-1]);n=new l.default({extent:t.getExtent(),origins:i,resolutions:r,tileSizes:o}),this.tileGrids_[e]=n}return n}getTilePixelRatio(t){return t}getTilePixelSize(t,e,n){const r=this.getTileGridForProjection(n),i=(0,b.toSize)(r.getTileSize(t),this.tmpSize);return[Math.round(i[0]*e),Math.round(i[1]*e)]}}const S=x;function w(t,e){t.setLoader((function(n,r,i){(0,v.m8)(e,t.getFormat(),n,r,i,t.onLoad.bind(t),t.onError.bind(t))}))}},7916:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u,optionsFromCapabilities:()=>h});var r=n(8512),i=n(4465),o=n(915),s=n(1531),a=n(2654),l=n(3407);class c extends r.A{constructor(t){const e=void 0!==t.requestEncoding?t.requestEncoding:"KVP",n=t.tileGrid;let r=t.urls;void 0===r&&void 0!==t.url&&(r=(0,i.expandUrl)(t.url)),super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:r,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.version_=void 0!==t.version?t.version:"1.0.0",this.format_=void 0!==t.format?t.format:"image/jpeg",this.dimensions_=void 0!==t.dimensions?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style,this.requestEncoding_=e,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=(0,a.FD)(r.map(this.createFromWMTSTemplate.bind(this))))}setUrls(t){this.urls=t;const e=t.join("\n");this.setTileUrlFunction((0,a.FD)(t.map(this.createFromWMTSTemplate.bind(this))),e)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const t=this.urls?this.urls.slice(0):[];for(const e in this.dimensions_)t.push(e+"-"+this.dimensions_[e]);return t.join("/")}updateDimensions(t){Object.assign(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(t){const e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==e&&Object.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t="KVP"==e?(0,i.appendParams)(t,n):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t}));const r=this.tileGrid,o=this.dimensions_;return function(n,s,a){if(!n)return;const l={TileMatrix:r.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object.assign(l,o);let c=t;return c="KVP"==e?(0,i.appendParams)(c,l):c.replace(/\{(\w+?)\}/g,(function(t,e){return l[e]})),c}}}const u=c;function h(t,e){const n=t.Contents.Layer,r=n?.find((function(t){return t.Identifier==e.layer}));if(!r)return null;const i=t.Contents.TileMatrixSet;let a;a=r.TileMatrixSetLink.length>1?"projection"in e?r.TileMatrixSetLink.findIndex((function(t){const n=i.find((function(e){return e.Identifier==t.TileMatrixSet})).SupportedCRS,r=(0,l.get)(n),o=(0,l.get)(e.projection);return r&&o?(0,l.equivalent)(r,o):n==e.projection})):r.TileMatrixSetLink.findIndex((function(t){return t.TileMatrixSet==e.matrixSet})):0,a<0&&(a=0);const c=r.TileMatrixSetLink[a].TileMatrixSet,u=r.TileMatrixSetLink[a].TileMatrixSetLimits;let h=r.Format[0];"format"in e&&(h=e.format),a=r.Style.findIndex((function(t){return"style"in e?t.Title==e.style:t.isDefault})),a<0&&(a=0);const d=r.Style[a].Identifier,f={};"Dimension"in r&&r.Dimension.forEach((function(t,e,n){const r=t.Identifier;let i=t.Default;void 0===i&&(i=t.Value[0]),f[r]=i}));const p=t.Contents.TileMatrixSet.find((function(t){return t.Identifier==c}));let g;const m=p.SupportedCRS;if(m&&(g=(0,l.get)(m)),"projection"in e){const t=(0,l.get)(e.projection);t&&(g&&!(0,l.equivalent)(t,g)||(g=t))}let y=!1;const _=g.getAxisOrientation().startsWith("ne");let v=p.TileMatrix[0],b={MinTileCol:0,MinTileRow:0,MaxTileCol:v.MatrixWidth-1,MaxTileRow:v.MatrixHeight-1};if(u){b=u[u.length-1];const t=p.TileMatrix.find((t=>t.Identifier===b.TileMatrix||p.Identifier+":"+t.Identifier===b.TileMatrix));t&&(v=t)}const x=28e-5*v.ScaleDenominator/g.getMetersPerUnit(),S=_?[v.TopLeftCorner[1],v.TopLeftCorner[0]]:v.TopLeftCorner,w=v.TileWidth*x,E=v.TileHeight*x;let T=p.BoundingBox;T&&_&&(T=[T[1],T[0],T[3],T[2]]);let C=[S[0]+w*b.MinTileCol,S[1]-E*(1+b.MaxTileRow),S[0]+w*(1+b.MaxTileCol),S[1]-E*b.MinTileRow];if(void 0!==T&&!(0,o.containsExtent)(T,C)){const t=r.WGS84BoundingBox,e=(0,l.get)("EPSG:4326").getExtent();if(C=T,t)y=t[0]===e[0]&&t[2]===e[2];else{const t=(0,l.transformExtent)(T,p.SupportedCRS,"EPSG:4326");y=t[0]-1e-10<=e[0]&&t[2]+1e-10>=e[2]}}const M=(0,s.createFromCapabilitiesMatrixSet)(p,C,u),A=[];let k=e.requestEncoding;if(k=void 0!==k?k:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata){const e=t.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let t=0,n=e.length;t<n;++t)if(e[t].Constraint){const n=e[t].Constraint.find((function(t){return"GetEncoding"==t.name})).AllowedValues.Value;if(""===k&&(k=n[0]),"KVP"!==k)break;n.includes("KVP")&&A.push(e[t].href)}else e[t].href&&(k="KVP",A.push(e[t].href))}return 0===A.length&&(k="REST",r.ResourceURL.forEach((function(t){"tile"===t.resourceType&&(h=t.format,A.push(t.template))}))),{urls:A,layer:e.layer,matrixSet:c,format:h,projection:g,requestEncoding:k,tileGrid:M,style:d,dimensions:f,wrapX:y,crossOrigin:e.crossOrigin}}},2192:(t,e,n)=>{"use strict";n.d(e,{B:()=>r});const r=4},7500:(t,e,n)=>{"use strict";n.d(e,{$q:()=>_,AE:()=>p,Eq:()=>m,W3:()=>g,jD:()=>h,y4:()=>y});var r=n(2192),i=n(4465),o=n(2806),s=n(3938),a=n(1597),l=n(915),c=n(3407),u=n(9925);const h="1.3.0",d=[101,101];function f(t,e,n,r,s){s.WIDTH=n[0],s.HEIGHT=n[1];const a=r.getAxisOrientation(),l=(0,o.compareVersions)(s.VERSION,"1.3")>=0;s[l?"CRS":"SRS"]=r.getCode();const c=l&&a.startsWith("ne")?[e[1],e[0],e[3],e[2]]:e;return s.BBOX=c.join(","),(0,i.appendParams)(t,s)}function p(t,e,n,i,o,s,c){s=Object.assign({REQUEST:"GetMap"},s);const u=e/n,h=[(0,a.round)((0,l.getWidth)(t)/u,r.B),(0,a.round)((0,l.getHeight)(t)/u,r.B)];if(1!=n)switch(c){case"geoserver":const t=90*n+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+t:s.FORMAT_OPTIONS="dpi:"+t;break;case"mapserver":s.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":s.DPI=90*n;break;default:throw new Error("Unknown `serverType` configured")}return f(o,t,h,i,s)}function g(t,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:h,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},t)}function m(t){const e=void 0===t.hidpi||t.hidpi,n=(0,c.get)(t.projection||"EPSG:3857"),r=t.ratio||1.5,i=t.load||s.D4,o=t.crossOrigin??null;return(s,a,l)=>{s=(0,u.getRequestExtent)(s,a,l,r),1==l||e&&void 0!==t.serverType||(l=1);const c=p(s,a,l,n,t.url,g(t.params,"GetMap"),t.serverType),h=new Image;return h.crossOrigin=o,i(h,c).then((t=>({image:t,extent:s,pixelRatio:l})))}}function y(t,e,n){if(void 0===t.url)return;const i=(0,c.get)(t.projection||"EPSG:3857"),s=(0,l.getForViewAndSize)(e,n,0,d),u={QUERY_LAYERS:t.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(u,g(t.params,"GetFeatureInfo"),t.params);const h=(0,a.floor)((e[0]-s[0])/n,r.B),p=(0,a.floor)((s[3]-e[1])/n,r.B),m=(0,o.compareVersions)(u.VERSION,"1.3")>=0;return u[m?"I":"X"]=h,u[m?"J":"Y"]=p,f(t.url,s,d,i,u)}function _(t,e){if(void 0===t.url)return;const n={SERVICE:"WMS",VERSION:h,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0!==e){const r=(0,c.get)(t.projection||"EPSG:3857").getMetersPerUnit()||1,i=28e-5;n.SCALE=e*r/i}if(Object.assign(n,t.params),void 0!==t.params&&void 0===n.LAYER){const t=n.LAYERS;if(!(!Array.isArray(t)||1!==t.length))return;n.LAYER=t}return(0,i.appendParams)(t.url,n)}},2490:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DEFAULT_RADIUS:()=>i,getArea:()=>c,getDistance:()=>o,getLength:()=>a,offset:()=>u});var r=n(1597);const i=6371008.8;function o(t,e,n){n=n||i;const o=(0,r.toRadians)(t[1]),s=(0,r.toRadians)(e[1]),a=(s-o)/2,l=(0,r.toRadians)(e[0]-t[0])/2,c=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e){let n=0;for(let r=0,i=t.length;r<i-1;++r)n+=o(t[r],t[r+1],e);return n}function a(t,e){const n=(e=e||{}).radius||i,r=e.projection||"EPSG:3857",o=t.getType();"GeometryCollection"!==o&&(t=t.clone().transform(r,"EPSG:4326"));let l,c,u,h,d,f,p=0;switch(o){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":l=t.getCoordinates(),p=s(l,n);break;case"MultiLineString":case"Polygon":for(l=t.getCoordinates(),u=0,h=l.length;u<h;++u)p+=s(l[u],n);break;case"MultiPolygon":for(l=t.getCoordinates(),u=0,h=l.length;u<h;++u)for(c=l[u],d=0,f=c.length;d<f;++d)p+=s(c[d],n);break;case"GeometryCollection":{const n=t.getGeometries();for(u=0,h=n.length;u<h;++u)p+=a(n[u],e);break}default:throw new Error("Unsupported geometry type: "+o)}return p}function l(t,e){let n=0;const i=t.length;let o=t[i-1][0],s=t[i-1][1];for(let e=0;e<i;e++){const i=t[e][0],a=t[e][1];n+=(0,r.toRadians)(i-o)*(2+Math.sin((0,r.toRadians)(s))+Math.sin((0,r.toRadians)(a))),o=i,s=a}return n*e*e/2}function c(t,e){const n=(e=e||{}).radius||i,r=e.projection||"EPSG:3857",o=t.getType();"GeometryCollection"!==o&&(t=t.clone().transform(r,"EPSG:4326"));let s,a,u,h,d,f,p=0;switch(o){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(s=t.getCoordinates(),p=Math.abs(l(s[0],n)),u=1,h=s.length;u<h;++u)p-=Math.abs(l(s[u],n));break;case"MultiPolygon":for(s=t.getCoordinates(),u=0,h=s.length;u<h;++u)for(a=s[u],p+=Math.abs(l(a[0],n)),d=1,f=a.length;d<f;++d)p-=Math.abs(l(a[d],n));break;case"GeometryCollection":{const n=t.getGeometries();for(u=0,h=n.length;u<h;++u)p+=c(n[u],e);break}default:throw new Error("Unsupported geometry type: "+o)}return p}function u(t,e,n,o){o=o||i;const s=(0,r.toRadians)(t[1]),a=(0,r.toRadians)(t[0]),l=e/o,c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(n)),u=a+Math.atan2(Math.sin(n)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c));return[(0,r.toDegrees)(u),(0,r.toDegrees)(c)]}},2806:(t,e,n)=>{"use strict";function r(t,e,n){const r=void 0!==n?t.toFixed(n):""+t;let i=r.indexOf(".");return i=-1===i?r.length:i,i>e?r:new Array(1+e-i).join("0")+r}function i(t,e){const n=(""+t).split("."),r=(""+e).split(".");for(let t=0;t<Math.max(n.length,r.length);t++){const e=parseInt(n[t]||"0",10),i=parseInt(r[t]||"0",10);if(e>i)return 1;if(i>e)return-1}return 0}n.r(e),n.d(e,{compareVersions:()=>i,padNumber:()=>r})},4969:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=n(25),i=n(588);const o=class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();){const t=this.pop();t instanceof r.A&&t.dispose()}}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return(0,i.v)(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return(0,i.v)(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){(0,i.v)(!(t in this.entries_),"Tried to set a value for a key that is used already");const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}}},5902:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(7820),i=n(915),o=n(4087),s=n(3530);const a=class{constructor(t){this.rbush_=new r.A(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,o.getUid)(e)]=n}load(t,e){const n=new Array(e.length);for(let r=0,i=e.length;r<i;r++){const i=t[r],s=e[r],a={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:s};n[r]=a,this.items_[(0,o.getUid)(s)]=a}this.rbush_.load(n)}remove(t){const e=(0,o.getUid)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[(0,o.getUid)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];(0,i.equals)(r,t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let r=0,i=t.length;r<i;r++)if(n=e(t[r]),n)return n;return n}isEmpty(){return(0,s.isEmpty)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return(0,i.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}},7733:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(6936);class i extends r.default{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new i({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius=t,this.render()}}const o=i},3628:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(6141),i=n(7907);class o{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}clone(){const t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(null!==t&&"object"==typeof t&&"src"in t){const e=(0,i.J)(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then((()=>{this.patternImage_=null})),e.getImageState()===r.A.IDLE&&e.load(),e.getImageState()===r.A.LOADING&&(this.patternImage_=e)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}const s=o},9700:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(6837),i=n(6141),o=n(940),s=n(3730),a=n(588),l=n(7907),c=n(4087);function u(t,e,n,r){return void 0!==n&&void 0!==r?[n/t,r/e]:void 0!==n?n/t:void 0!==r?r/e:1}class h extends o.A{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,r=void 0!==t.scale?t.scale:1,o=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:r,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const h=void 0!==t.img?t.img:null;let d,f=t.src;if((0,a.v)(!(void 0!==f&&h),"`image` and `src` cannot be provided at the same time"),void 0!==f&&0!==f.length||!h||(f=h.src||(0,c.getUid)(h)),(0,a.v)(void 0!==f&&f.length>0,"A defined and non-empty `src` or `image` must be provided"),(0,a.v)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?d=i.A.IDLE:void 0!==h&&(d="complete"in h?h.complete?h.src?i.A.LOADED:i.A.IDLE:i.A.LOADING:i.A.LOADED),this.color_=void 0!==t.color?(0,s.asArray)(t.color):null,this.iconImage_=(0,l.J)(h,f,this.crossOrigin_,d,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.initialOptions_,void 0!==t.width||void 0!==t.height){let e,n;if(t.size)[e,n]=t.size;else{const r=this.getImage(1);if(r.width&&r.height)e=r.width,n=r.height;else if(r instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(u(n[0],n[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(u(e,n,t.width,t.height))}}clone(){let t,e,n;return this.initialOptions_?(e=this.initialOptions_.width,n=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new h({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==i.A.LOADED?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==i.A.LOADED?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(r.A.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(r.A.CHANGE,t)}ready(){return this.iconImage_.ready()}}const d=h},7907:(t,e,n)=>{"use strict";n.d(e,{J:()=>d});var r=n(9332),i=n(6837),o=n(6141),s=n(3730),a=n(8711),l=n(3938),c=n(2241);let u=null;class h extends r.default{constructor(t,e,n,r,i){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=i,this.imageState_=void 0===r?o.A.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===o.A.LOADED){u||(u=(0,a.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0})),u.drawImage(this.image_,0,0);try{u.getImageData(0,0,1,1),this.tainted_=!1}catch(t){u=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(i.A.CHANGE)}handleImageError_(){this.imageState_=o.A.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=o.A.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=(0,a.createCanvasContext2D)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===o.A.IDLE){this.image_||this.initializeImage_(),this.imageState_=o.A.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&(0,l.RA)(this.image_,this.src_).then((t=>{this.image_=t,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==o.A.LOADED)return;const e=this.image_,n=(0,a.createCanvasContext2D)(Math.ceil(e.width*t),Math.ceil(e.height*t)),r=n.canvas;n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle=(0,s.asString)(this.color_),n.fillRect(0,0,r.width/t,r.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise((t=>{if(this.imageState_===o.A.LOADED||this.imageState_===o.A.ERROR)t();else{const e=()=>{this.imageState_!==o.A.LOADED&&this.imageState_!==o.A.ERROR||(this.removeEventListener(i.A.CHANGE,e),t())};this.addEventListener(i.A.CHANGE,e)}}))),this.ready_}}function d(t,e,n,r,i,o){let s=void 0===e?void 0:c.ue.get(e,n,i);return s||(s=new h(t,t&&"src"in t?t.src||void 0:e,n,r,i),c.ue.set(e,n,i,s,o)),o&&s&&!c.ue.getPattern(e,n,i)&&c.ue.set(e,n,i,s,o),s}},2241:(t,e,n)=>{"use strict";n.d(e,{ue:()=>l});var r=n(6141),i=n(3730),o=n(8711);class s{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];3&t++||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const r=a(t,e,n);return r in this.cache_?this.cache_[r]:null}getPattern(t,e,n){const r=a(t,e,n);return r in this.patternCache_?this.patternCache_[r]:null}set(t,e,n,i,s){const l=a(t,e,n),c=l in this.cache_;this.cache_[l]=i,s&&(i.getImageState()===r.A.IDLE&&i.load(),i.getImageState()===r.A.LOADING?i.ready().then((()=>{this.patternCache_[l]=(0,o.getSharedCanvasContext2D)().createPattern(i.getImage(1),"repeat")})):this.patternCache_[l]=(0,o.getSharedCanvasContext2D)().createPattern(i.getImage(1),"repeat")),c||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function a(t,e,n){return e+":"+t+":"+(n?(0,i.asArray)(n):"null")}const l=new s},940:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(4087),i=n(6782);class o{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,i.toSize)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new o({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,r.abstract)()}getImage(t){return(0,r.abstract)()}getHitDetectionImage(){return(0,r.abstract)()}getPixelRatio(t){return 1}getImageState(){return(0,r.abstract)()}getImageSize(){return(0,r.abstract)()}getOrigin(){return(0,r.abstract)()}getSize(){return(0,r.abstract)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,i.toSize)(t)}listenImageChange(t){(0,r.abstract)()}load(){(0,r.abstract)()}unlistenImageChange(t){(0,r.abstract)()}ready(){return Promise.resolve()}}const s=o},6936:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(6141),i=n(940),o=n(3730),s=n(9676),a=n(8711),l=n(8774);class c extends i.A{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?r.A.LOADING:r.A.LOADED,this.imageState_===r.A.LOADING&&this.ready().then((()=>this.imageState_=r.A.LOADED)),this.render()}clone(){const t=this.getScale(),e=new c({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let e=this.canvases_[t];if(!e){const n=this.renderOptions_,r=(0,a.createCanvasContext2D)(n.size*t,n.size*t);this.draw_(n,r,t),e=r.canvas,this.canvases_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let r=this.radius,i=void 0===this.radius2_?r:this.radius2_;if(r<i){const t=r;r=i,i=t}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=i*Math.sin(s),l=r-Math.sqrt(i*i-a*a),c=Math.sqrt(a*a+l*l),u=c/a;if("miter"===t&&u<=n)return u*e;const h=e/2/u,d=e/2*(l/c),f=Math.sqrt((r+h)*(r+h)+d*d)-r;if(void 0===this.radius2_||"bevel"===t)return 2*f;const p=r*Math.sin(s),g=i-Math.sqrt(r*r-p*p),m=Math.sqrt(p*p+g*g)/p;if(m<=n){const t=m*e/2-i-r;return 2*Math.max(f,t)}return 2*f}createRenderOptions(){let t,e=l._m,n=l._K,r=0,i=null,o=0,a=0;this.stroke_&&(t=(0,s.F)(this.stroke_.getColor()??l.NT),a=this.stroke_.getWidth()??l.aq,i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??l._K,e=this.stroke_.getLineCap()??l._m,r=this.stroke_.getMiterLimit()??l.eL);const c=this.calculateLineJoinSize_(n,a,r),u=Math.max(this.radius,this.radius2_||0);return{strokeStyle:t,strokeWidth:a,size:Math.ceil(2*u+c),lineCap:e,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=l.qY),e.fillStyle=(0,s.F)(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let n=this.fill_.getColor(),r=0;"string"==typeof n&&(n=(0,o.asArray)(n)),null===n?r=1:Array.isArray(n)&&(r=4===n.length?n[3]:1),0===r&&(e=(0,a.createCanvasContext2D)(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const n=this.radius;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const i=this.angle_-Math.PI/2,o=2*Math.PI/e;for(let s=0;s<e;s++){const e=i+s*o,a=s%2==0?n:r;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=l.qY,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}const u=c},953:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});class r{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const i=r},6895:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createDefaultStyle:()=>u,createEditingStyle:()=>h,default:()=>f,toFunction:()=>l});var r=n(7733),i=n(3628),o=n(953),s=n(588);class a{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=d,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new a({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function l(t){let e;if("function"==typeof t)e=t;else{let n;if(Array.isArray(t))n=t;else{(0,s.v)("function"==typeof t.getZIndex,"Expected an `Style` or an array of `Style`");n=[t]}e=function(){return n}}return e}let c=null;function u(t,e){if(!c){const t=new i.default({color:"rgba(255,255,255,0.4)"}),e=new o.default({color:"#3399CC",width:1.25});c=[new a({image:new r.default({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return c}function h(){const t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new a({fill:new i.default({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new a({stroke:new o.default({color:e,width:5})}),new a({stroke:new o.default({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new a({image:new r.default({radius:6,fill:new i.default({color:n}),stroke:new o.default({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function d(t){return t.getGeometry()}const f=a},1426:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(3628),i=n(6782);class o{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=(0,i.toSize)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new r.default({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new o({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,i.toSize)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const s=o},186:(t,e,n)=>{"use strict";function r(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function i(t,e,n){return t+"/"+e+"/"+n}function o(t){return i(t[0],t[1],t[2])}function s(t){return a(t[0],t[1],t[2])}function a(t,e,n){return(e<<t)+n}function l(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}n.d(e,{N:()=>r,N5:()=>l,_T:()=>a,dp:()=>i,i7:()=>o,tW:()=>s})},4863:(t,e,n)=>{"use strict";n.d(e,{EN:()=>u,Li:()=>c,kZ:()=>d,pr:()=>l});var r=n(6758),i=n(7115),o=n(3407),s=n(915),a=n(6782);n(1531);function l(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){const o=d(t);return function(t,e,n,i){i=void 0!==i?i:"top-left";const o=h(t,e,n);return new r.default({extent:t,origin:(0,s.getCorner)(t,i),resolutions:o,tileSize:n})}(o,e,n,i)}(t),t.setDefaultTileGrid(e)),e}function c(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),o=d(n);if(!(0,s.containsCoordinate)(o,i)){const e=(0,s.getWidth)(o),n=Math.ceil((o[0]-i[0])/e);return i[0]+=e*n,t.getTileCoordForCoordAndZ(i,r)}return e}function u(t){const e=t||{},n=e.extent||(0,o.get)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:h(n,e.maxZoom,e.tileSize,e.maxResolution)};return new r.default(i)}function h(t,e,n,r){e=void 0!==e?e:i.L,n=(0,a.toSize)(void 0!==n?n:i.R);const o=(0,s.getHeight)(t),l=(0,s.getWidth)(t);r=r>0?r:Math.max(l/n[0],o/n[1]);const c=e+1,u=new Array(c);for(let t=0;t<c;++t)u[t]=r/Math.pow(2,t);return u}function d(t){let e=(t=(0,o.get)(t)).getExtent();if(!e){const n=180*o.METERS_PER_UNIT.degrees/t.getMetersPerUnit();e=(0,s.createOrUpdate)(-n,-n,n,n)}return e}},6758:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(1110),i=n(7115),o=n(588),s=n(1597),a=n(915),l=n(186),c=n(4350),u=n(6514),h=n(6782);const d=[0,0,0];const f=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,o.v)((0,u.isSorted)(this.resolutions_,((t,e)=>e-t),!0),"`resolutions` must be sorted in descending order"),!t.origins)for(let t=0,n=this.resolutions_.length-1;t<n;++t)if(e){if(this.resolutions_[t]/this.resolutions_[t+1]!==e){e=void 0;break}}else e=this.resolutions_[t]/this.resolutions_[t+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,o.v)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=(0,a.getTopLeft)(n)),(0,o.v)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,o.v)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:i.R,(0,o.v)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(((t,e)=>{const i=new r.A(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);i.minX=Math.max(t.minX,i.minX),i.maxX=Math.min(t.maxX,i.maxX),i.minY=Math.max(t.minY,i.minY),i.maxY=Math.min(t.maxY,i.maxY)}return i})):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const r=this.getTileRangeForExtentAndZ(t,e);for(let t=r.minX,i=r.maxX;t<=i;++t)for(let i=r.minY,o=r.maxY;i<=o;++i)n([e,t,i])}forEachTileCoordParentTileRange(t,e,n,i){let o,s,a,l=null,c=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,i);c>=this.minZoom;){if(void 0!==s&&void 0!==a?(s=Math.floor(s/2),a=Math.floor(a/2),o=(0,r.N)(s,s,a,a,n)):o=this.getTileRangeForExtentAndZ(l,c,n),e(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],i=2*t[2];return(0,r.N)(n,n+1,i,i+1,e)}const i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const i=t[0],o=t[1],s=t[2];if(e===i)return(0,r.N)(o,s,o,s,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-i),a=Math.floor(o*t),l=Math.floor(s*t);if(e<i)return(0,r.N)(a,a,l,l,n);const c=Math.floor(t*(o+1))-1,u=Math.floor(t*(s+1))-1;return(0,r.N)(a,c,l,u,n)}const a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,d);const i=d[1],o=d[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,d);const s=d[1],a=d[2];return(0,r.N)(i,s,o,a,n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=(0,h.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=(0,h.toSize)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,s=n[1]-(t[2]+1)*i[1]*r,l=o+i[0]*r,c=s+i[1]*r;return(0,a.createOrUpdate)(o,s,l,c,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,r,i){const o=this.getZForResolution(n),a=n/this.getResolution(o),c=this.getOrigin(o),u=(0,h.toSize)(this.getTileSize(o),this.tmpSize_);let d=a*(t-c[0])/n/u[0],f=a*(c[1]-e)/n/u[1];return r?(d=(0,s.ceil)(d,5)-1,f=(0,s.ceil)(f,5)-1):(d=(0,s.floor)(d,5),f=(0,s.floor)(f,5)),(0,l.N)(o,d,f,i)}getTileCoordForXYAndZ_(t,e,n,r,i){const o=this.getOrigin(n),a=this.getResolution(n),c=(0,h.toSize)(this.getTileSize(n),this.tmpSize_);let u=(t-o[0])/a/c[0],d=(o[1]-e)/a/c[1];return r?(u=(0,s.ceil)(u,5)-1,d=(0,s.ceil)(d,5)-1):(u=(0,s.floor)(u,5),d=(0,s.floor)(d,5)),(0,l.N)(n,u,d,i)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const n=(0,u.linearFindNearest)(this.resolutions_,t,e||0);return(0,s.clamp)(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return(0,c.sj)(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n}}},1531:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createFromCapabilitiesMatrixSet:()=>a,default:()=>s});var r=n(6758),i=n(3407);class o extends r.default{constructor(t){super({extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes}),this.matrixIds_=t.matrixIds}getMatrixId(t){return this.matrixIds_[t]}getMatrixIds(){return this.matrixIds_}}const s=o;function a(t,e,n){const r=[],s=[],a=[],l=[],c=[];n=void 0!==n?n:[];const u="TileMatrix",h="Identifier",d="ScaleDenominator",f="TopLeftCorner",p=t.SupportedCRS,g=(0,i.get)(p),m=g.getMetersPerUnit(),y=g.getAxisOrientation().startsWith("ne");return t[u].sort((function(t,e){return e[d]-t[d]})),t[u].forEach((function(e){let i;if(i=!(n.length>0)||n.find((function(n){return e[h]==n[u]||!e[h].includes(":")&&t[h]+":"+e[h]===n[u]})),i){s.push(e[h]);const t=28e-5*e[d]/m,n=e.TileWidth,i=e.TileHeight;y?a.push([e[f][1],e[f][0]]):a.push(e[f]),r.push(t),l.push(n==i?n:[n,i]),c.push([e.MatrixWidth,e.MatrixHeight])}})),new o({extent:e,origins:a,resolutions:r,matrixIds:s,tileSizes:l,sizes:c})}},7115:(t,e,n)=>{"use strict";n.d(e,{L:()=>r,R:()=>i});const r=42,i=256},2654:(t,e,n)=>{"use strict";n.d(e,{FD:()=>l,Qz:()=>a});var r=n(1597),i=n(4465),o=n(186);function s(t,e){return function(n,r,o){if(!n)return;let s;const a=n[0];if(e){const t=e.getFullTileRange(a);t&&(s=t.getHeight()-1)}return(0,i.renderXYZTemplate)(t,a,n[1],n[2],s)}}function a(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=s(t[i],e);return l(r)}function l(t){return 1===t.length?t[0]:function(e,n,i){if(!e)return;const s=(0,o.tW)(e),a=(0,r.modulo)(s,t.length);return t[a](e,n,i)}}},9703:(t,e,n)=>{"use strict";n.d(e,{Bb:()=>u,T9:()=>g,Tl:()=>f,Zz:()=>p,cL:()=>s,dI:()=>y,e$:()=>h,hs:()=>d,k3:()=>c,lw:()=>a,vt:()=>o});var r=n(588);const i=new Array(6);function o(){return[1,0,0,1,0,0]}function s(t){return l(t,1,0,0,1,0,0)}function a(t,e){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=e[0],c=e[1],u=e[2],h=e[3],d=e[4],f=e[5];return t[0]=n*l+i*c,t[1]=r*l+o*c,t[2]=n*u+i*h,t[3]=r*u+o*h,t[4]=n*d+i*f+s,t[5]=r*d+o*f+a,t}function l(t,e,n,r,i,o,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function u(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function h(t,e){const n=Math.cos(e),r=Math.sin(e);return a(t,l(i,n,r,-r,n,0,0))}function d(t,e,n){return a(t,l(i,e,0,0,n,0,0))}function f(t,e,n){return a(t,l(i,1,0,0,1,e,n))}function p(t,e,n,r,i,o,s,a){const l=Math.sin(o),c=Math.cos(o);return t[0]=r*c,t[1]=i*l,t[2]=-r*l,t[3]=i*c,t[4]=s*r*c-a*r*l+e,t[5]=s*i*l+a*i*c+n,t}function g(t,e){const n=(i=e)[0]*i[3]-i[1]*i[2];var i;(0,r.v)(0!==n,"Transformation matrix cannot be inverted");const o=e[0],s=e[1],a=e[2],l=e[3],c=e[4],u=e[5];return t[0]=l/n,t[1]=-s/n,t[2]=-a/n,t[3]=o/n,t[4]=(a*u-l*c)/n,t[5]=-(o*u-s*c)/n,t}const m=[1e6,1e6,1e6,1e6,2,2];function y(t){return"matrix("+t.map(((t,e)=>Math.round(t*m[e])/m[e])).join(", ")+")"}},4465:(t,e,n)=>{"use strict";n.r(e),n.d(e,{appendParams:()=>o,expandUrl:()=>d,pickUrl:()=>h,renderXYZTemplate:()=>u});var r=n(186),i=n(1597);function o(t,e){const n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));const r=n.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+r}const s=/\{z\}/g,a=/\{x\}/g,l=/\{y\}/g,c=/\{-y\}/g;function u(t,e,n,r,i){return t.replace(s,e.toString()).replace(a,n.toString()).replace(l,r.toString()).replace(c,(function(){if(void 0===i)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-r).toString()}))}function h(t,e,n,o){const s=(0,r._T)(e,n,o);return t[(0,i.modulo)(s,t.length)]}function d(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let o;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}},4087:(t,e,n)=>{"use strict";function r(){throw new Error("Unimplemented abstract method.")}n.r(e),n.d(e,{VERSION:()=>s,abstract:()=>r,getUid:()=>o});let i=0;function o(t){return t.ol_uid||(t.ol_uid=String(++i))}const s="10.2.1"},3954:(t,e,n)=>{"use strict";function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}n.d(e,{Z:()=>i,v:()=>r})},130:(t,e,n)=>{"use strict";n.d(e,{Be:()=>l,Ek:()=>a,H7:()=>i,IP:()=>o,JL:()=>u,SD:()=>p,Ss:()=>s,UD:()=>h,l4:()=>c,zH:()=>d});var r=n(7771);const i=34962,o=34963,s=35040,a=35044,l=35048,c=5121,u=5123,h=5125,d=5126,f=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function p(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!r.SAFARI_BUG_237906},e);const n=f.length;for(let r=0;r<n;++r)try{const n=t.getContext(f[r],e);if(n)return n}catch(t){}return null}},9777:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AttributeType:()=>p,DefaultUniform:()=>f,ShaderType:()=>d,computeAttributesStride:()=>v,default:()=>x});const r="webglcontextlost",i="webglcontextrestored";var o=n(25),s=n(4087);const a=class{constructor(t){this.gl_=t.webGlContext;const e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer(),this.depthBuffer_=e.createRenderbuffer();const n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t.vertexShader||"\n  precision mediump float;\n\n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n\n  uniform vec2 u_screenSize;\n\n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),e.compileShader(n);const r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,t.fragmentShader||"\n  precision mediump float;\n\n  uniform sampler2D u_image;\n  uniform float u_opacity;\n\n  varying vec2 v_texCoord;\n\n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"),e.compileShader(r),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,n),e.attachShader(this.renderTargetProgram_,r),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach((n=>{this.uniforms_.push({value:t.uniforms[n],location:e.getUniformLocation(this.renderTargetProgram_,n)})}))}getRenderTargetTexture(){return this.renderTargetTexture_}getGL(){return this.gl_}init(t){const e=this.getGL(),n=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.bindRenderbuffer(e.RENDERBUFFER,this.getDepthBuffer()),e.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;const t=0,r=e.RGBA,i=0,o=e.RGBA,s=e.UNSIGNED_BYTE,a=null;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,t,r,n[0],n[1],i,o,s,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n[0],n[1]),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthBuffer_)}}apply(t,e,n,r){const i=this.getGL(),o=t.size;if(i.bindFramebuffer(i.FRAMEBUFFER,e?e.getFrameBuffer():null),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.renderTargetTexture_),!e){const e=(0,s.getUid)(i.canvas);if(!t.renderTargets[e]){const n=i.getContextAttributes();n&&n.preserveDrawingBuffer&&(i.clearColor(0,0,0,0),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)),t.renderTargets[e]=!0}}i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.bindBuffer(i.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),i.useProgram(this.renderTargetProgram_),i.enableVertexAttribArray(this.renderTargetAttribLocation_),i.vertexAttribPointer(this.renderTargetAttribLocation_,2,i.FLOAT,!1,0,0),i.uniform2f(this.renderTargetUniformLocation_,o[0],o[1]),i.uniform1i(this.renderTargetTextureLocation_,0);const a=t.layerStatesArray[t.layerIndex].opacity;i.uniform1f(this.renderTargetOpacityLocation_,a),this.applyUniforms(t),n&&n(i,t),i.drawArrays(i.TRIANGLES,0,6),r&&r(i,t)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(t){const e=this.getGL();let n,r=1;this.uniforms_.forEach((function(i){if(n="function"==typeof i.value?i.value(t):i.value,n instanceof HTMLCanvasElement||n instanceof ImageData)i.texture||(i.texture=e.createTexture()),e.activeTexture(e[`TEXTURE${r}`]),e.bindTexture(e.TEXTURE_2D,i.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n instanceof ImageData?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,n.width,n.height,0,e.UNSIGNED_BYTE,new Uint8Array(n.data)):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.uniform1i(i.location,r++);else if(Array.isArray(n))switch(n.length){case 2:return void e.uniform2f(i.location,n[0],n[1]);case 3:return void e.uniform3f(i.location,n[0],n[1],n[2]);case 4:return void e.uniform4f(i.location,n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&e.uniform1f(i.location,n)}))}};var l=n(130),c=n(3530),u=n(9703),h=n(3954);const d={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633},f={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},p={UNSIGNED_BYTE:l.l4,UNSIGNED_SHORT:l.JL,UNSIGNED_INT:l.UD,FLOAT:l.zH},g={};function m(t){return"shared/"+t}let y=0;class _ extends o.A{constructor(t){super(),t=t||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=t.canvasCacheKey?m(t.canvasCacheKey):function(){const t="unique/"+y;return y+=1,t}(),this.gl_=function(t){let e=g[t];if(!e){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0",e={users:0,context:(0,l.SD)(n)},g[t]=e}return e.users+=1,e.context}(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const e=this.gl_.canvas;e.addEventListener(r,this.boundHandleWebGLContextLost_),e.addEventListener(i,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=(0,u.vt)(),this.offsetScaleMatrix_=(0,u.vt)(),this.tmpMat4_=(0,h.v)(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],t.uniforms&&this.setUniforms(t.uniforms),this.postProcessPasses_=t.postProcesses?t.postProcesses.map((t=>new a({webGlContext:this.gl_,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms}))):[new a({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(t){this.uniforms_=[],this.addUniforms(t)}addUniforms(t){for(const e in t)this.uniforms_.push({name:e,value:t[e]})}canvasCacheKeyMatches(t){return this.canvasCacheKey_===m(t)}getExtension(t){if(t in this.extensionCache_)return this.extensionCache_[t];const e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e}bindBuffer(t){const e=this.gl_,n=(0,s.getUid)(t);let r=this.bufferCache_[n];if(!r){r={buffer:t,webGlBuffer:e.createBuffer()},this.bufferCache_[n]=r}e.bindBuffer(t.getType(),r.webGlBuffer)}flushBufferData(t){const e=this.gl_;this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())}deleteBuffer(t){const e=(0,s.getUid)(t);delete this.bufferCache_[e]}disposeInternal(){const t=this.gl_.canvas;t.removeEventListener(r,this.boundHandleWebGLContextLost_),t.removeEventListener(i,this.boundHandleWebGLContextRestored_),function(t){const e=g[t];if(!e)return;if(e.users-=1,e.users>0)return;const n=e.context,r=n.getExtension("WEBGL_lose_context");r&&r.loseContext();const i=n.canvas;i.width=1,i.height=1,delete g[t]}(this.canvasCacheKey_),delete this.gl_}prepareDraw(t,e,n){const r=this.gl_,i=this.getCanvas(),o=t.size,s=t.pixelRatio;i.width===o[0]*s&&i.height===o[1]*s||(i.width=o[0]*s,i.height=o[1]*s,i.style.width=o[0]+"px",i.style.height=o[1]+"px");for(let e=this.postProcessPasses_.length-1;e>=0;e--)this.postProcessPasses_[e].init(t);r.bindTexture(r.TEXTURE_2D,null),r.clearColor(0,0,0,0),r.depthRange(0,1),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,e?r.ZERO:r.ONE_MINUS_SRC_ALPHA),n?(r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL)):r.disable(r.DEPTH_TEST)}bindFrameBuffer(t,e){const n=this.getGL();n.bindFramebuffer(n.FRAMEBUFFER,t),e&&n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0)}bindInitialFrameBuffer(){const t=this.getGL(),e=this.postProcessPasses_[0].getFrameBuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);const n=this.postProcessPasses_[0].getRenderTargetTexture();t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)}bindTexture(t,e,n){const r=this.gl_;r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,t),r.uniform1i(this.getUniformLocation(n),e)}bindAttribute(t,e,n){const r=this.getGL();this.bindBuffer(t);const i=this.getAttributeLocation(e);r.enableVertexAttribArray(i),r.vertexAttribPointer(i,n,r.FLOAT,!1,0,0)}prepareDrawToRenderTarget(t,e,n,r){const i=this.gl_,o=e.getSize();i.bindFramebuffer(i.FRAMEBUFFER,e.getFramebuffer()),i.bindRenderbuffer(i.RENDERBUFFER,e.getDepthbuffer()),i.viewport(0,0,o[0],o[1]),i.bindTexture(i.TEXTURE_2D,e.getTexture()),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),r?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}drawElements(t,e){const n=this.gl_;this.getExtension("OES_element_index_uint");const r=n.UNSIGNED_INT,i=e-t,o=4*t;n.drawElements(n.TRIANGLES,i,r,o)}finalizeDraw(t,e,n){for(let r=0,i=this.postProcessPasses_.length;r<i;r++)r===i-1?this.postProcessPasses_[r].apply(t,null,e,n):this.postProcessPasses_[r].apply(t,this.postProcessPasses_[r+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(t){const e=t.size,n=t.viewState.rotation,r=t.pixelRatio;this.setUniformFloatValue(f.TIME,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(f.ZOOM,t.viewState.zoom),this.setUniformFloatValue(f.RESOLUTION,t.viewState.resolution),this.setUniformFloatValue(f.PIXEL_RATIO,r),this.setUniformFloatVec2(f.VIEWPORT_SIZE_PX,[e[0],e[1]]),this.setUniformFloatValue(f.ROTATION,n)}applyHitDetectionUniform(t){const e=this.getUniformLocation(f.HIT_DETECTION);this.getGL().uniform1i(e,t?1:0),t&&this.setUniformFloatValue(f.PIXEL_RATIO,.5)}applyUniforms(t){const e=this.gl_;let n,r=0;this.uniforms_.forEach((i=>{if(n="function"==typeof i.value?i.value(t):i.value,n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof ImageData||n instanceof WebGLTexture){n instanceof WebGLTexture&&!i.texture?(i.prevValue=void 0,i.texture=n):i.texture||(i.prevValue=void 0,i.texture=e.createTexture()),this.bindTexture(i.texture,r,i.name),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);const t=!(n instanceof HTMLImageElement)||n.complete;n instanceof WebGLTexture||!t||i.prevValue===n||(i.prevValue=n,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),r++}else if(Array.isArray(n)&&6===n.length)this.setUniformMatrixValue(i.name,(0,h.Z)(this.tmpMat4_,n));else if(Array.isArray(n)&&n.length<=4)switch(n.length){case 2:return void e.uniform2f(this.getUniformLocation(i.name),n[0],n[1]);case 3:return void e.uniform3f(this.getUniformLocation(i.name),n[0],n[1],n[2]);case 4:return void e.uniform4f(this.getUniformLocation(i.name),n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&e.uniform1f(this.getUniformLocation(i.name),n)}))}useProgram(t,e){this.gl_.useProgram(t),this.currentProgram_=t,e&&(this.applyFrameState(e),this.applyUniforms(e))}compileShader(t,e){const n=this.gl_,r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}getProgram(t,e){const n=this.gl_,r=this.compileShader(t,n.FRAGMENT_SHADER),i=this.compileShader(e,n.VERTEX_SHADER),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getShaderParameter(r,n.COMPILE_STATUS)){const t=`Fragment shader compilation failed: ${n.getShaderInfoLog(r)}`;throw new Error(t)}if(n.deleteShader(r),!n.getShaderParameter(i,n.COMPILE_STATUS)){const t=`Vertex shader compilation failed: ${n.getShaderInfoLog(i)}`;throw new Error(t)}if(n.deleteShader(i),!n.getProgramParameter(o,n.LINK_STATUS)){const t=`GL program linking failed: ${n.getProgramInfoLog(o)}`;throw new Error(t)}return o}getUniformLocation(t){const e=(0,s.getUid)(this.currentProgram_);return void 0===this.uniformLocationsByProgram_[e]&&(this.uniformLocationsByProgram_[e]={}),void 0===this.uniformLocationsByProgram_[e][t]&&(this.uniformLocationsByProgram_[e][t]=this.gl_.getUniformLocation(this.currentProgram_,t)),this.uniformLocationsByProgram_[e][t]}getAttributeLocation(t){const e=(0,s.getUid)(this.currentProgram_);return void 0===this.attribLocationsByProgram_[e]&&(this.attribLocationsByProgram_[e]={}),void 0===this.attribLocationsByProgram_[e][t]&&(this.attribLocationsByProgram_[e][t]=this.gl_.getAttribLocation(this.currentProgram_,t)),this.attribLocationsByProgram_[e][t]}makeProjectionTransform(t,e){const n=t.size,r=t.viewState.rotation,i=t.viewState.resolution,o=t.viewState.center;return(0,u.Zz)(e,0,0,2/(i*n[0]),2/(i*n[1]),-r,-o[0],-o[1]),e}setUniformFloatValue(t,e){this.gl_.uniform1f(this.getUniformLocation(t),e)}setUniformFloatVec2(t,e){this.gl_.uniform2fv(this.getUniformLocation(t),e)}setUniformFloatVec4(t,e){this.gl_.uniform4fv(this.getUniformLocation(t),e)}setUniformMatrixValue(t,e){this.gl_.uniformMatrix4fv(this.getUniformLocation(t),!1,e)}enableAttributeArray_(t,e,n,r,i){const o=this.getAttributeLocation(t);o<0||(this.gl_.enableVertexAttribArray(o),this.gl_.vertexAttribPointer(o,e,n,!1,r,i))}enableAttributes(t){const e=v(t);let n=0;for(let r=0;r<t.length;r++){const i=t[r];this.enableAttributeArray_(i.name,i.size,i.type||l.zH,e,n),n+=i.size*b(i.type)}}handleWebGLContextLost(t){(0,c.clear)(this.bufferCache_),this.currentProgram_=null,t.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(t,e,n,r){const i=this.gl_;n=n||i.createTexture();const o=r?i.NEAREST:i.LINEAR;i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const s=i.RGBA,a=i.RGBA,l=i.UNSIGNED_BYTE;return e instanceof Uint8Array?i.texImage2D(i.TEXTURE_2D,0,s,t[0],t[1],0,a,l,e):e?i.texImage2D(i.TEXTURE_2D,0,s,a,l,e):i.texImage2D(i.TEXTURE_2D,0,s,t[0],t[1],0,a,l,null),n}}function v(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];e+=r.size*b(r.type)}return e}function b(t){switch(t){case p.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case p.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case p.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case p.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}const x=_},3942:(t,e,n)=>{"use strict";n.r(e),n.d(e,{OBJECT_PROPERTY_NODE_FACTORY:()=>v,XML_SCHEMA_INSTANCE_URI:()=>i,createElementNS:()=>o,getAllTextContent:()=>s,getAllTextContent_:()=>a,getAttributeNS:()=>c,getDocument:()=>P,getXMLSerializer:()=>k,isDocument:()=>l,makeArrayExtender:()=>h,makeArrayPusher:()=>d,makeArraySerializer:()=>y,makeChildAppender:()=>m,makeObjectPropertyPusher:()=>p,makeObjectPropertySetter:()=>g,makeReplacer:()=>f,makeSequence:()=>b,makeSimpleNodeFactory:()=>_,makeStructureNS:()=>x,parse:()=>u,parseNode:()=>S,pushParseAndPop:()=>w,pushSerializeAndPop:()=>T,registerDocument:()=>I,registerXMLSerializer:()=>A,serialize:()=>E});var r=n(6514);const i="http://www.w3.org/2001/XMLSchema-instance";function o(t,e){return P().createElementNS(t,e)}function s(t,e){return a(t,e,[]).join("")}function a(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{let r;for(r=t.firstChild;r;r=r.nextSibling)a(r,e,n)}return n}function l(t){return"documentElement"in t}function c(t,e,n){return t.getAttributeNS(e,n)||""}function u(t){return(new DOMParser).parseFromString(t,"application/xml")}function h(t,e){return function(n,i){const o=t.call(e??this,n,i);if(void 0!==o){const t=i[i.length-1];(0,r.extend)(t,o)}}}function d(t,e){return function(n,r){const i=t.call(e??this,n,r);if(void 0!==i){r[r.length-1].push(i)}}}function f(t,e){return function(n,r){const i=t.call(e??this,n,r);void 0!==i&&(r[r.length-1]=i)}}function p(t,e,n){return function(r,i){const o=t.call(n??this,r,i);if(void 0!==o){const t=i[i.length-1],n=void 0!==e?e:r.localName;let s;n in t?s=t[n]:(s=[],t[n]=s),s.push(o)}}}function g(t,e,n){return function(r,i){const o=t.call(n??this,r,i);if(void 0!==o){i[i.length-1][void 0!==e?e:r.localName]=o}}}function m(t,e){return function(n,r,i){t.call(e??this,n,r,i);i[i.length-1].node.appendChild(n)}}function y(t,e){let n,r;return function(e,i,o){if(void 0===n){n={};const i={};i[e.localName]=t,n[e.namespaceURI]=i,r=_(e.localName)}E(n,r,i,o)}}function _(t,e){return function(n,r,i){const s=r[r.length-1].node;let a=t;void 0===a&&(a=i);return o(void 0!==e?e:s.namespaceURI,a)}}const v=_();function b(t,e){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=t[e[i]];return r}function x(t,e,n){let r,i;for(n=void 0!==n?n:{},r=0,i=t.length;r<i;++r)n[t[r]]=e;return n}function S(t,e,n,r){let i;for(i=e.firstElementChild;i;i=i.nextElementSibling){const e=t[i.namespaceURI];if(void 0!==e){const t=e[i.localName];void 0!==t&&t.call(r,i,n)}}}function w(t,e,n,r,i){return r.push(t),S(e,n,r,i),r.pop()}function E(t,e,n,r,i,o){const s=(void 0!==i?i:n).length;let a,l;for(let c=0;c<s;++c)a=n[c],void 0!==a&&(l=e.call(o,a,r,void 0!==i?i[c]:void 0),void 0!==l&&t[l.namespaceURI][l.localName].call(o,l,a,r))}function T(t,e,n,r,i,o,s){return i.push(t),E(e,n,r,i,o,s),i.pop()}let C,M;function A(t){C=t}function k(){return void 0===C&&"undefined"!=typeof XMLSerializer&&(C=new XMLSerializer),C}function I(t){M=t}function P(){return void 0===M&&"undefined"!=typeof document&&(M=document.implementation.createDocument("","",null)),M}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r=n(6461);vendor=r})();
//# sourceMappingURL=vendor.js.map