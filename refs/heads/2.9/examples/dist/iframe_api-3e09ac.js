/*! For license information please see iframe_api-3e09ac.js.LICENSE.txt */
(()=>{var e,t,n={119(e,t,n){!function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}(n(5093))},158(e,t,n){!function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(5093))},217(e,t,n){!function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],n=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],r=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],i=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"];e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(5093))},304(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(5093))},306(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"за %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"една минута",mm:"%d минути",h:"еден час",hh:"%d часа",d:"еден ден",dd:"%d дена",M:"еден месец",MM:"%d месеци",y:"една година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(5093))},609(e,t,n){!function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"ss":return i+(r||t)?" másodperc":" másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function r(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},708(e,t,n){!function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})}(n(5093))},724(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],void 0===(o="function"==typeof(r=function(e){return e.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t})?r.apply(t,i):r)||(e.exports=o)}()},748(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(5093))},772(e,t,n){for(var r=n(9816),i=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],o=/^\d*$/,s=/^[A-Za-z0-9 $%*+\-./:]*$/,a=/^[A-Z0-9 $%*+\-./:]*$/,l=[],c=[-1],u=0,h=1;u<255;++u)l.push(h),c[h]=u,h=2*h^(h>=128?285:0);var d=[[]];for(u=0;u<30;++u){for(var f=d[u],p=[],m=0;m<=u;++m){var g=m<u?l[f[m]]:0,_=l[(u+(f[m-1]||0))%255];p.push(c[g^_])}d.push(p)}var y={};for(u=0;u<45;++u)y["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(u)]=u;var b=[function(e,t){return(e+t)%2==0},function(e,t){return e%2==0},function(e,t){return t%3==0},function(e,t){return(e+t)%3==0},function(e,t){return((e/2|0)+(t/3|0))%2==0},function(e,t){return e*t%2+e*t%3==0},function(e,t){return(e*t%2+e*t%3)%2==0},function(e,t){return((e+t)%2+e*t%3)%2==0}],v=function(e){return e>6},w=function(e,t){var n=-8&function(e){var t=i[e],n=16*e*e+128*e+64;return v(e)&&(n-=36),t[2].length&&(n-=25*t[2].length*t[2].length-10*t[2].length-55),n}(e),r=i[e];return n-=8*r[0][t]*r[1][t]},x=function(e,t){switch(t){case 1:return e<10?10:e<27?12:14;case 2:return e<10?9:e<27?11:13;case 4:return e<10?8:16;case 8:return e<10?8:e<27?10:12}},M=function(e,t,n){var r=w(e,n)-4-x(e,t);switch(t){case 1:return 3*(r/10|0)+(r%10<4?0:r%10<7?1:2);case 2:return 2*(r/11|0)+(r%11<6?0:1);case 4:return r/8|0;case 8:return r/13|0}},S=function(e,t){for(var n=e.slice(0),r=e.length,i=t.length,o=0;o<i;++o)n.push(0);for(o=0;o<r;){var s=c[n[o++]];if(s>=0)for(var a=0;a<i;++a)n[o+a]^=l[(s+t[a])%255]}return n.slice(r)},k=function(e,t,n,r){for(var i=e<<r,o=t-1;o>=0;--o)i>>r+o&1&&(i^=n<<o);return e<<r|i},T=function(e,t,n){for(var r=b[n],i=e.length,o=0;o<i;++o)for(var s=0;s<i;++s)t[o][s]||(e[o][s]^=r(o,s));return e},L=function(e,t,n,r){for(var i=e.length,o=21522^k(n<<3|r,5,1335,10),s=0;s<15;++s){var a=[i-1,i-2,i-3,i-4,i-5,i-6,i-7,i-8,7,5,4,3,2,1,0][s];e[[0,1,2,3,4,5,7,8,i-7,i-6,i-5,i-4,i-3,i-2,i-1][s]][8]=e[8][a]=o>>s&1}return e},C=function(e){for(var t=function(e){for(var t=0,n=0;n<e.length;++n)e[n]>=5&&(t+=e[n]-5+3);for(n=5;n<e.length;n+=2){var r=e[n];e[n-1]==r&&e[n-2]==3*r&&e[n-3]==r&&e[n-4]==r&&(e[n-5]>=4*r||e[n+1]>=4*r)&&(t+=40)}return t},n=e.length,r=0,i=0,o=0;o<n;++o){var s,a=e[o];s=[0];for(var l=0;l<n;){for(c=0;l<n&&a[l];++c)++l;for(s.push(c),c=0;l<n&&!a[l];++c)++l;s.push(c)}r+=t(s),s=[0];for(l=0;l<n;){var c;for(c=0;l<n&&e[l][o];++c)++l;for(s.push(c),c=0;l<n&&!e[l][o];++c)++l;s.push(c)}r+=t(s);var u=e[o+1]||[];i+=a[0];for(l=1;l<n;++l){var h=a[l];i+=h,a[l-1]==h&&u[l]===h&&u[l-1]===h&&(r+=3)}}return r+=10*(Math.abs(i/n/n-.5)/.05|0)},E=function(e,t,n,r,o){var s=i[t],a=function(e,t,n,r){var i=[],o=0,s=8,a=n.length,l=function(e,t){if(t>=s){for(i.push(o|e>>(t-=s));t>=8;)i.push(e>>(t-=8)&255);o=0,s=8}t>0&&(o|=(e&(1<<t)-1)<<(s-=t))},c=x(e,t);switch(l(t,4),l(a,c),t){case 1:for(var u=2;u<a;u+=3)l(parseInt(n.substring(u-2,u+1),10),10);l(parseInt(n.substring(u-2),10),[0,4,7][a%3]);break;case 2:for(u=1;u<a;u+=2)l(45*y[n.charAt(u-1)]+y[n.charAt(u)],11);a%2==1&&l(y[n.charAt(u-1)],6);break;case 4:for(u=0;u<a;++u)l(n[u],8)}for(l(0,4),s<8&&i.push(o);i.length+1<r;)i.push(236,17);return i.length<r&&i.push(236),i}(t,n,e,w(t,r)>>3);a=function(e,t,n){for(var r=[],i=e.length/t|0,o=0,s=t-e.length%t,a=0;a<s;++a)r.push(o),o+=i;for(a=s;a<t;++a)r.push(o),o+=i+1;r.push(o);var l=[];for(a=0;a<t;++a)l.push(S(e.slice(r[a],r[a+1]),n));var c=[],u=e.length/t|0;for(a=0;a<u;++a)for(var h=0;h<t;++h)c.push(e[r[h]+a]);for(h=s;h<t;++h)c.push(e[r[h+1]-1]);for(a=0;a<n.length;++a)for(h=0;h<t;++h)c.push(l[h][a]);return c}(a,s[1][r],d[s[0][r]]);var l=function(e){for(var t=i[e],n=function(e){return 4*e+17}(e),r=[],o=[],s=0;s<n;++s)r.push([]),o.push([]);var a=function(e,t,n,i,s){for(var a=0;a<n;++a)for(var l=0;l<i;++l)r[e+a][t+l]=s[a]>>l&1,o[e+a][t+l]=1};for(a(0,0,9,9,[127,65,93,93,93,65,383,0,64]),a(n-8,0,8,9,[256,127,65,93,93,93,65,127]),a(0,n-8,9,8,[254,130,186,186,186,130,254,0,0]),s=9;s<n-8;++s)r[6][s]=r[s][6]=1&~s,o[6][s]=o[s][6]=1;var l=t[2],c=l.length;for(s=0;s<c;++s)for(var u=0==s?c-1:c,h=0==s||s==c-1?1:0;h<u;++h)a(l[s],l[h],5,5,[31,17,21,17,31]);if(v(e)){var d=k(e,6,7973,12),f=0;for(s=0;s<6;++s)for(h=0;h<3;++h)r[s][n-11+h]=r[n-11+h][s]=d>>f++&1,o[s][n-11+h]=o[n-11+h][s]=1}return{matrix:r,reserved:o}}(t),c=l.matrix,u=l.reserved;if(function(e,t,n){for(var r=e.length,i=0,o=-1,s=r-1;s>=0;s-=2){6==s&&--s;for(var a=o<0?r-1:0,l=0;l<r;++l){for(var c=s;c>s-2;--c)t[a][c]||(e[a][c]=n[i>>3]>>(7&~i)&1,++i);a+=o}o=-o}}(c,u,a),o<0){T(c,u,0),L(c,0,r,0);var h=0,f=C(c);for(T(c,u,0),o=1;o<8;++o){T(c,u,o),L(c,0,r,o);var p=C(c);f>p&&(f=p,h=o),T(c,u,o)}o=h}return T(c,u,o),L(c,0,r,o),c},D={numeric:1,alphanumeric:2,octet:4},A={L:1,M:0,Q:3,H:2};e.exports=function(e,t){var n=(t=t||{}).version||-1,i=A[(t.ecclevel||"L").toUpperCase()],l=t.mode?D[t.mode.toLowerCase()]:-1,c="mask"in t?t.mask:-1;if(l<0)l="string"==typeof e?e.match(o)?1:e.match(a)?2:4:4;else if(1!=l&&2!=l&&4!=l)throw"invalid or unsupported mode";if(e=function(e,t){switch(e){case 1:return t.match(o)?t:null;case 2:return t.match(s)?t.toUpperCase():null;case 4:if("string"==typeof t){for(var n=[],r=0;r<t.length;++r){var i=t.charCodeAt(r);i<128?n.push(i):i<2048?n.push(192|i>>6,128|63&i):i<65536?n.push(224|i>>12,128|i>>6&63,128|63&i):n.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}return n}return t}}(l,e),null===e)throw"invalid data format";if(i<0||i>3)throw"invalid ECC level";if(n<0){for(n=1;n<=40&&!(e.length<=M(n,l,i));++n);if(n>40)throw"too large data"}else if(n<1||n>40)throw"invalid version";if(-1!=c&&(c<0||c>8))throw"invalid mask";var u,h=E(e,n,l,i,c),d=Math.max(t.modulesize||5,.5),f=Math.max(null!=t.margin?t.margin:4,0),p=h.length,m=d*(p+2*f),g=r();if(g.width=g.height=m,!(u=g.getContext("2d")))throw"canvas support is needed for PNG output";u.fillStyle="#fff",u.fillRect(0,0,m,m),u.fillStyle="#000";for(var _=0;_<p;++_)for(var y=0;y<p;++y)h[_][y]&&u.fillRect(d*(f+y),d*(f+_),d,d);return g.toDataURL()}},838(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},1011(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(5093))},1025(e,t,n){!function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t||"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(5093))},1052(e,t,n){!function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function r(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function i(e,t,n,r){var i=o(e);switch(n){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function o(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+t[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+t[i]),""===o?"pagh":o}e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:r,s:"puS lup",ss:i,m:"wa’ tup",mm:i,h:"wa’ rep",hh:i,d:"wa’ jaj",dd:i,M:"wa’ jar",MM:i,y:"wa’ DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},1055(e,t,n){var r=n(6932);!function(e){"use strict";var t={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(e){if(!H(e))return t;j(e.objectMaxDepth)&&(t.objectMaxDepth=i(e.objectMaxDepth)?e.objectMaxDepth:NaN),j(e.urlErrorParamsEnabled)&&Z(e.urlErrorParamsEnabled)&&(t.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function i(e){return W(e)&&e>0}function o(e,n){n=n||Error;var r="https://errors.angularjs.org/1.8.3/",i=r.replace(".","\\.")+"[\\s\\S]*",o=new RegExp(i,"g");return function(){var i,s,a=arguments[0],l=arguments[1],c="["+(e?e+":":"")+a+"] ",u=fe(arguments,2).map((function(e){return Ge(e,t.objectMaxDepth)}));if(c+=l.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1);return t<u.length?u[t].replace(o,""):e})),c+="\n"+r+(e?e+"/":"")+a,t.urlErrorParamsEnabled)for(s=0,i="?";s<u.length;s++,i="&")c+=i+"p"+s+"="+encodeURIComponent(u[s]);return new n(c)}}var s,a,l,c,u=/^\/(.+)\/([a-z]*)$/,h="validity",d=Object.prototype.hasOwnProperty,f=function(e){return U(e)?e.toLowerCase():e},p=function(e){return U(e)?e.toUpperCase():e},m=[].slice,g=[].splice,_=[].push,y=Object.prototype.toString,b=Object.getPrototypeOf,v=o("ng"),w=e.angular||(e.angular={}),x=0;function M(e){if(null==e||K(e))return!1;if(q(e)||U(e)||a&&e instanceof a)return!0;var t="length"in Object(e)&&e.length;return W(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function S(e,t,n){var r,i;if(e)if(V(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(q(e)||M(e)){var o="object"!=typeof e;for(r=0,i=e.length;r<i;r++)(o||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==S)e.forEach(t,n,e);else if(z(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)d.call(e,r)&&t.call(n,e[r],r,e);return e}function k(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function T(e){return function(t,n){e(n,t)}}function L(){return++x}function C(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function E(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var s=t[i];if(H(s)||V(s))for(var a=Object.keys(s),l=0,c=a.length;l<c;l++){var u=a[l],h=s[u];n&&H(h)?G(h)?e[u]=new Date(h.valueOf()):X(h)?e[u]=new RegExp(h):h.nodeName?e[u]=h.cloneNode(!0):re(h)?e[u]=h.clone():"__proto__"!==u&&(H(e[u])||(e[u]=q(h)?[]:{}),E(e[u],[h],!0)):e[u]=h}}return C(e,r),e}function D(e){return E(e,m.call(arguments,1),!1)}function A(e){return E(e,m.call(arguments,1),!0)}function $(e){return parseInt(e,10)}s=e.document.documentMode;var P=Number.isNaN||function(e){return e!=e};function R(e,t){return D(Object.create(e),t)}function O(){}function I(e){return e}function F(e){return function(){return e}}function N(e){return V(e.toString)&&e.toString!==y}function Y(e){return void 0===e}function j(e){return void 0!==e}function H(e){return null!==e&&"object"==typeof e}function z(e){return null!==e&&"object"==typeof e&&!b(e)}function U(e){return"string"==typeof e}function W(e){return"number"==typeof e}function G(e){return"[object Date]"===y.call(e)}function q(e){return Array.isArray(e)||e instanceof Array}function B(e){switch(y.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function V(e){return"function"==typeof e}function X(e){return"[object RegExp]"===y.call(e)}function K(e){return e&&e.window===e}function J(e){return e&&e.$evalAsync&&e.$watch}function Z(e){return"boolean"==typeof e}function Q(e){return e&&V(e.then)}O.$inject=[],I.$inject=[];var ee=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var te=function(e){return U(e)?e.trim():e},ne=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function re(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ie(e){return f(e.nodeName||e[0]&&e[0].nodeName)}function oe(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function se(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function ae(e,t,n){var r,o=[],s=[];if(n=i(n)?n:NaN,t){if(function(e){return e&&W(e.length)&&ee.test(y.call(e))}(t)||(r=t,"[object ArrayBuffer]"===y.call(r)))throw v("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw v("cpi","Can't copy! Source and destination are identical.");return q(t)?t.length=0:S(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),o.push(e),s.push(t),a(e,t,n)}return l(e,n);function a(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if(q(e))for(var o=0,s=e.length;o<s;o++)t.push(l(e[o],n));else if(z(e))for(r in e)t[r]=l(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=l(e[r],n));else for(r in e)d.call(e,r)&&(t[r]=l(e[r],n));return C(t,i),t}function l(e,t){if(!H(e))return e;var n=o.indexOf(e);if(-1!==n)return s[n];if(K(e)||J(e))throw v("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(e){switch(y.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(l(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(V(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=q(e)?[]:Object.create(b(e)),r=!0),o.push(e),s.push(i),r?a(e,i,t):i}}function le(e,t){return e===t||e!=e&&t!=t}function ce(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o===typeof t&&"object"===o){if(!q(e)){if(G(e))return!!G(t)&&le(e.getTime(),t.getTime());if(X(e))return!!X(t)&&e.toString()===t.toString();if(J(e)||J(t)||K(e)||K(t)||q(t)||G(t)||X(t))return!1;for(r in i=He(),e)if("$"!==r.charAt(0)&&!V(e[r])){if(!ce(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&j(t[r])&&!V(t[r]))return!1;return!0}if(!q(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!ce(e[r],t[r]))return!1;return!0}}return!1}var ue=function(){if(!j(ue.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ue.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ue.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ue.rules},he=function(){if(j(he.name_))return he.name_;var t,n,r,i,o=Le.length;for(n=0;n<o;++n)if(r=Le[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return he.name_=i};function de(e,t,n){return e.concat(m.call(t,n))}function fe(e,t){return m.call(e,t||0)}function pe(e,t){var n=arguments.length>2?fe(arguments,2):[];return!V(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,de(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function me(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:K(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":J(n)&&(r="$SCOPE"),r}function ge(e,t){if(!Y(e))return W(t)||(t=t?2:null),JSON.stringify(e,me,t)}function _e(e){return U(e)?JSON.parse(e):e}var ye=/:/g;function be(e,t){e=e.replace(ye,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return P(n)?t:n}function ve(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function we(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return ve(e,n*(be(t,r)-r))}function xe(e){e=a(e).clone().empty();var t=a("<div></div>").append(e).html();try{return e[0].nodeType===Ue?f(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(e,t){return"<"+f(t)}))}catch(e){return f(t)}}function Me(e){try{return decodeURIComponent(e)}catch(e){}}function Se(e){var t={};return S((e||"").split("&"),(function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(r=e.substring(0,n),i=e.substring(n+1)),j(r=Me(r))&&(i=!j(i)||Me(i),d.call(t,r)?q(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))})),t}function ke(e){return Te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Te(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Le=["ng-","data-ng-","ng:","x-ng-"];var Ce=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every((function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document);function Ee(t,n){var r,i,o={};if(S(Le,(function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,i=t.getAttribute(n))})),S(Le,(function(e){var n,o=e+"app";!r&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))})),r){if(!Ce)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(e,t){var n,r,i=Le.length;for(r=0;r<i;++r)if(n=Le[r]+t,U(n=e.getAttribute(n)))return n;return null}(r,"strict-di"),n(r,i?[i]:[],o)}}function De(t,n,r){H(r)||(r={});r=D({strictDi:!1},r);var i=function(){if((t=a(t)).injector()){var i=t[0]===e.document?"document":xe(t);throw v("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Qt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply((function(){t.data("$injector",r),n(t)(e)}))}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!s.test(e.name))return i();e.name=e.name.replace(s,""),w.resumeBootstrap=function(e){return S(e,(function(e){n.push(e)})),i()},V(w.resumeDeferredBootstrap)&&w.resumeDeferredBootstrap()}function Ae(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function $e(e){var t=w.element(e).injector();if(!t)throw v("test","no injector found for element argument to getTestability");return t.get("$$testability")}var Pe=/[A-Z]/g;function Re(e,t){return t=t||"_",e.replace(Pe,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Oe=!1;function Ie(){pt.legacyXHTMLReplacement=!0}function Fe(e,t,n){if(!e)throw v("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Ne(e,t,n){return n&&q(e)&&(e=e[e.length-1]),Fe(V(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Ye(e,t){if("hasOwnProperty"===e)throw v("badname","hasOwnProperty is not a valid {0} name",t)}function je(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=a(m.call(e,0,i))),t.push(n));return t||e}function He(){return Object.create(null)}function ze(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!N(e)||q(e)||G(e)?ge(e):e.toString()}return e}var Ue=3;function We(e,t){if(q(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(H(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function Ge(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):Y(e)?"undefined":"string"!=typeof e?function(e,t){var n=[];return i(t)&&(e=w.copy(e,null,t)),JSON.stringify(e,(function(e,t){if(H(t=me(e,t))){if(n.indexOf(t)>=0)return"...";n.push(t)}return t}))}(e,t):e}var qe={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};pt.expando="ng339";var Be=pt.cache={},Ve=1;pt._data=function(e){return this.cache[e[this.expando]]||{}};var Xe=/-([a-z])/g,Ke=/^-ms-/,Je={mouseleave:"mouseout",mouseenter:"mouseover"},Ze=o("jqLite");function Qe(e,t){return t.toUpperCase()}function et(e){return e.replace(Xe,Qe)}var tt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,nt=/<|&#?\w+;/,rt=/<([\w:-]+)/,it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ot={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td;var st={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var at in ot){var lt=ot[at],ct=lt.slice().reverse();st[at]=[ct.length,"<"+ct.join("><")+">","</"+lt.join("></")+">"]}function ut(e){return!nt.test(e)}function ht(e){var t=e.nodeType;return 1===t||!t||9===t}function dt(t,n){var r,i,o,a,l,c=n.createDocumentFragment(),u=[];if(ut(t))u.push(n.createTextNode(t));else{if(r=c.appendChild(n.createElement("div")),i=(rt.exec(t)||["",""])[1].toLowerCase(),a=pt.legacyXHTMLReplacement?t.replace(it,"<$1></$2>"):t,s<10)for(o=st[i]||st._default,r.innerHTML=o[1]+a+o[2],l=o[0];l--;)r=r.firstChild;else{for(l=(o=ot[i]||[]).length;--l>-1;)r.appendChild(e.document.createElement(o[l])),r=r.firstChild;r.innerHTML=a}u=de(u,r.childNodes),(r=c.firstChild).textContent=""}return c.textContent="",c.innerHTML="",S(u,(function(e){c.appendChild(e)})),c}st.optgroup=st.option;var ft=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function pt(t){if(t instanceof pt)return t;var n,r,i,o;if(U(t)&&(t=te(t),n=!0),!(this instanceof pt)){if(n&&"<"!==t.charAt(0))throw Ze("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new pt(t)}n?Tt(this,(r=t,i=i||e.document,(o=tt.exec(r))?[i.createElement(o[1])]:(o=dt(r,i))?o.childNodes:[])):V(t)?At(t):Tt(this,t)}function mt(e){return e.cloneNode(!0)}function gt(e,t){!t&&ht(e)&&a.cleanData([e]),e.querySelectorAll&&a.cleanData(e.querySelectorAll("*"))}function _t(e){var t;for(t in e)return!1;return!0}function yt(e){var t=e.ng339,n=t&&Be[t],r=n&&n.events,i=n&&n.data;i&&!_t(i)||r&&!_t(r)||(delete Be[t],e.ng339=void 0)}function bt(e,t,n,r){if(j(r))throw Ze("offargs","jqLite#off() does not support the `selector` argument");var i=wt(e),o=i&&i.events,s=i&&i.handle;if(s){if(t){var a=function(t){var r=o[t];j(n)&&se(r||[],n),j(n)&&r&&r.length>0||(e.removeEventListener(t,s),delete o[t])};S(t.split(" "),(function(e){a(e),Je[e]&&a(Je[e])}))}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,s),delete o[t];yt(e)}}function vt(e,t){var n=e.ng339,r=n&&Be[n];r&&(t?delete r.data[t]:r.data={},yt(e))}function wt(e,t){var n=e.ng339,r=n&&Be[n];return t&&!r&&(e.ng339=n=++Ve,r=Be[n]={events:{},data:{},handle:void 0}),r}function xt(e,t,n){if(ht(e)){var r,i=j(n),o=!i&&t&&!H(t),s=!t,a=wt(e,!o),l=a&&a.data;if(i)l[et(t)]=n;else{if(s)return l;if(o)return l&&l[et(t)];for(r in t)l[et(r)]=t[r]}}}function Mt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function St(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;S(t.split(" "),(function(e){e=te(e),r=r.replace(" "+e+" "," ")})),r!==n&&e.setAttribute("class",te(r))}}function kt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;S(t.split(" "),(function(e){e=te(e),-1===r.indexOf(" "+e+" ")&&(r+=e+" ")})),r!==n&&e.setAttribute("class",te(r))}}function Tt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Lt(e,t){return Ct(e,"$"+(t||"ngController")+"Controller")}function Ct(e,t,n){9===e.nodeType&&(e=e.documentElement);for(var r=q(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(j(n=a.data(e,r[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Et(e){for(gt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Dt(e,t){t||gt(e);var n=e.parentNode;n&&n.removeChild(e)}function At(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var $t=pt.prototype={ready:At,toString:function(){var e=[];return S(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return a(e>=0?this[e]:this[this.length+e])},length:0,push:_,sort:[].sort,splice:[].splice},Pt={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){Pt[f(e)]=e}));var Rt={};S("input,select,option,textarea,button,form,details".split(","),(function(e){Rt[e]=!0}));var Ot={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function It(e,t){var n=Pt[t.toLowerCase()];return n&&Rt[ie(e)]&&n}function Ft(e,t,n){n.call(e,t)}function Nt(e,t,n){var r=t.relatedTarget;r&&(r===e||ft.call(e,r))||n.call(e,t)}function Yt(){this.$get=function(){return D(pt,{hasClass:function(e,t){return e.attr&&(e=e[0]),Mt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),kt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),St(e,t)}})}}function jt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||L)():r+":"+e}S({data:xt,removeData:vt,hasData:function(e){for(var t in Be[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)vt(e[t]),bt(e[t])}},(function(e,t){pt[t]=e})),S({data:xt,inheritedData:Ct,scope:function(e){return a.data(e,"$scope")||Ct(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return a.data(e,"$isolateScope")||a.data(e,"$isolateScopeNoTemplate")},controller:Lt,injector:function(e){return Ct(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Mt,css:function(e,t,n){if(t=function(e){return et(e.replace(Ke,"ms-"))}(t),!j(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==Ue&&2!==i&&8!==i&&e.getAttribute){var o=f(t),s=Pt[o];if(!j(n))return r=e.getAttribute(t),s&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&s?e.removeAttribute(t):e.setAttribute(t,s?o:n)}},prop:function(e,t,n){if(!j(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(Y(t)){var n=e.nodeType;return 1===n||n===Ue?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(Y(t)){if(e.multiple&&"select"===ie(e)){var n=[];return S(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),n}return e.value}e.value=t},html:function(e,t){if(Y(t))return e.innerHTML;gt(e,!0),e.innerHTML=t},empty:Et},(function(e,t){pt.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Et&&Y(2===e.length&&e!==Mt&&e!==Lt?t:n)){if(H(t)){for(r=0;r<o;r++)if(e===xt)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var s=e.$dv,a=Y(s)?Math.min(o,1):o,l=0;l<a;l++){var c=e(this[l],t,n);s=s?s+c:c}return s}for(r=0;r<o;r++)e(this[r],t,n);return this}})),S({removeData:vt,on:function(e,t,n,r){if(j(r))throw Ze("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ht(e)){var i=wt(e,!0),o=i.events,s=i.handle;s||(s=i.handle=function(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(Y(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=i.specialHandlerWrapper||Ft;o>1&&(i=We(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||a(e,n,i[l])}};return n.elem=e,n}(e,o));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],l=a.length,c=function(t,r,i){var a=o[t];a||((a=o[t]=[]).specialHandlerWrapper=r,"$destroy"===t||i||e.addEventListener(t,s)),a.push(n)};l--;)t=a[l],Je[t]?(c(Je[t],Nt),c(t,void 0,!0)):c(t)}},off:bt,one:function(e,t,n){(e=a(e)).on(t,(function r(){e.off(t,n),e.off(t,r)})),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;gt(e),S(new pt(t),(function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t}))},children:function(e){var t=[];return S(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var r=0,i=(t=new pt(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;S(new pt(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){var n,r,i;n=e,r=a(t).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:Dt,detach:function(e){Dt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var i=0,o=(t=new pt(t)).length;i<o;i++){var s=t[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:kt,removeClass:St,toggleClass:function(e,t,n){t&&S(t.split(" "),(function(t){var r=n;Y(r)&&(r=!Mt(e,t)),(r?kt:St)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:mt,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,a=wt(e),l=a&&a.events,c=l&&l[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:O,type:s,target:e},t.type&&(r=D(r,t)),i=We(c),o=n?[r].concat(n):[r],S(i,(function(t){r.isImmediatePropagationStopped()||t.apply(e,o)})))}},(function(e,t){pt.prototype[t]=function(t,n,r){for(var i,o=0,s=this.length;o<s;o++)Y(i)?j(i=e(this[o],t,n,r))&&(i=a(i)):Tt(i,e(this[o],t,n,r));return j(i)?i:this}})),pt.prototype.bind=pt.prototype.on,pt.prototype.unbind=pt.prototype.off;var Ht=Object.create(null);function zt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}zt.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return P(e)?Ht:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ut=zt,Wt=[function(){this.$get=[function(){return Ut}]}],Gt=/^([^(]+?)=>/,qt=/^[^(]*\(\s*([^)]*)\)/m,Bt=/,/,Vt=/^\s*(_?)(\S+?)\1\s*$/,Xt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Kt=o("$injector");function Jt(e){return Function.prototype.toString.call(e)}function Zt(e){var t=Jt(e).replace(Xt,"");return t.match(Gt)||t.match(qt)}function Qt(e,t){t=!0===t;var n={},r="Provider",i=[],o=new Ut,a={$provide:{provider:p(m),factory:p(_),service:p((function(e,t){return _(e,["$injector",function(e){return e.instantiate(t)}])})),value:p((function(e,t){return _(e,F(t),!1)})),constant:p((function(e,t){Ye(e,"constant"),a[e]=t,u[e]=t})),decorator:function(e,t){var n=l.get(e+r),i=n.$get;n.$get=function(){var e=d.invoke(i,n);return d.invoke(t,null,{$delegate:e})}}}},l=a.$injector=b(a,(function(e,t){throw w.isString(t)&&i.push(t),Kt("unpr","Unknown provider: {0}",i.join(" <- "))})),u={},h=b(u,(function(e,t){var n=l.get(e+r,t);return d.invoke(n.$get,n,void 0,e)})),d=h;a["$injector"+r]={$get:F(h)},d.modules=l.modules=He();var f=y(e);return(d=h.get("$injector")).strictDi=t,S(f,(function(e){e&&d.invoke(e)})),d.loadNewModules=function(e){S(y(e),(function(e){e&&d.invoke(e)}))},d;function p(e){return function(t,n){if(!H(t))return e(t,n);S(t,T(e))}}function m(e,t){if(Ye(e,"service"),(V(t)||q(t))&&(t=l.instantiate(t)),!t.$get)throw Kt("pget","Provider '{0}' must define $get factory method.",e);return a[e+r]=t}function g(e,t){return function(){var n=d.invoke(t,this);if(Y(n))throw Kt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function _(e,t,n){return m(e,{$get:!1!==n?g(e,t):t})}function y(e){Fe(Y(e)||q(e),"modulesToLoad","not an array");var t,n=[];return S(e,(function(e){if(!o.get(e)){o.set(e,!0);try{U(e)?(t=c(e),d.modules[e]=t,n=n.concat(y(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):V(e)||q(e)?n.push(l.invoke(e)):Ne(e,"module")}catch(t){throw q(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Kt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=l.get(r[0]);i[r[1]].apply(i,r[2])}}})),n}function b(e,o){function l(t,r){if(e.hasOwnProperty(t)){if(e[t]===n)throw Kt("cdep","Circular dependency found: {0}",t+" <- "+i.join(" <- "));return e[t]}try{return i.unshift(t),e[t]=n,e[t]=o(t,r),e[t]}catch(r){throw e[t]===n&&delete e[t],r}finally{i.shift()}}function c(e,n,r){for(var i=[],o=Qt.$$annotate(e,t,r),s=0,a=o.length;s<a;s++){var c=o[s];if("string"!=typeof c)throw Kt("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:l(c,r))}return i}return{invoke:function(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=c(e,n,r);return q(e)&&(e=e[e.length-1]),function(e){if(s||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return Z(t)||(t=e.$$ngIsClass=/^class\b/.test(Jt(e))),t}(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,n){var r=q(e)?e[e.length-1]:e,i=c(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:l,annotate:Qt.$$annotate,has:function(t){return a.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}}function en(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){var o=n.document;function s(e){if(e){e.scrollIntoView();var t=function(){var e=l.yOffset;if(V(e))e=e();else if(re(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else W(e)||(e=0);return e}();if(t){var r=e.getBoundingClientRect().top;n.scrollBy(0,r-t)}}else n.scrollTo(0,0)}function l(e){var t,n,i;(e=U(e)?e:W(e)?e.toString():r.hash())?(t=o.getElementById(e))?s(t):(n=o.getElementsByName(e),i=null,Array.prototype.some.call(n,(function(e){if("a"===ie(e))return i=e,!0})),(t=i)?s(t):"top"===e&&s(null)):s(null)}return t&&i.$watch((function(){return r.hash()}),(function(t,n){var r,o;t===n&&""===t||(r=function(){i.$evalAsync(l)},"complete"===(o=o||e).document.readyState?o.setTimeout(r):a(o).on("load",r))})),l}]}Qt.$$annotate=function(e,t,n){var r,i;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw U(n)&&n||(n=e.name||function(e){var t=Zt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Kt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);S(Zt(e)[1].split(Bt),(function(e){e.replace(Vt,(function(e,t,n){r.push(n)}))}))}e.$inject=r}}else q(e)?(Ne(e[i=e.length-1],"fn"),r=e.slice(0,i)):Ne(e,"fn",!0);return r};var tn=o("$animate"),nn="ng-animate";function rn(e,t){return e||t?e?t?(q(e)&&(e=e.join(" ")),q(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function on(e){return H(e)?e:{}}var sn=function(){this.$get=O},an=function(){var e=new Ut,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:O,on:O,off:O,pin:O,push:function(s,a,l,c){c&&c(),(l=l||{}).from&&s.css(l.from),l.to&&s.css(l.to),(l.addClass||l.removeClass)&&function(n,s,a){var l=e.get(n)||{},c=i(l,s,!0),u=i(l,a,!1);(c||u)&&(e.set(n,l),t.push(n),1===t.length&&r.$$postDigest(o))}(s,l.addClass,l.removeClass);var u=new n;return u.complete(),u}};function i(e,t,n){var r=!1;return t&&S(t=U(t)?t.split(" "):q(t)?t:[],(function(t){t&&(r=!0,e[t]=n)})),r}function o(){S(t,(function(t){var n=e.get(t);if(n){var r=function(e){U(e)&&(e=e.split(" "));var t=He();return S(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),i="",o="";S(n,(function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)})),S(t,(function(e){i&&kt(e,i),o&&St(e,o)})),e.delete(t)}})),t.length=0}}]},ln=["$provide",function(e){var t=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw tn("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.customFilter=function(e){return 1===arguments.length&&(r=V(e)?e:null),r},this.classNameFilter=function(e){if(1===arguments.length&&((n=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+nn+"[(\\s|\\/)]").test(n.toString())))throw n=null,tn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',nn);return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(n,r,i,o){return r=r&&a(r),i=i&&a(i),t(n,r=r||i.parent(),i),e.push(n,"enter",on(o))},move:function(n,r,i,o){return r=r&&a(r),i=i&&a(i),t(n,r=r||i.parent(),i),e.push(n,"move",on(o))},leave:function(t,n){return e.push(t,"leave",on(n),(function(){t.remove()}))},addClass:function(t,n,r){return(r=on(r)).addClass=rn(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return(r=on(r)).removeClass=rn(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return(i=on(i)).addClass=rn(i.addClass,n),i.removeClass=rn(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return(o=on(o)).from=o.from?D(o.from,n):n,o.to=o.to?D(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=rn(o.tempClasses,i),e.push(t,"animate",o)}}}]}],cn=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},un=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?function(e){i(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function r(){if(n===e.length)return void t(!0);e[n]((function(e){!1!==e?(n++,r()):t(!1)}))}()},o.all=function(e,t){var n=0,r=!0;function i(i){r=r&&i,++n===e.length&&t(r)}S(e,(function(e){e.done(i)}))},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:O,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(S(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},o}]},hn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){var i=r||{};i.$$prepared||(i=ae(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,s=new n;return{start:a,end:a};function a(){return e((function(){!function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null);i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null);i.to&&(t.css(i.to),i.to=null)}(),o||s.complete(),o=!0})),s}}}]};function dn(e,t,n,r,i){var o=this,s=e.location,l=e.history,c=e.setTimeout,u=e.clearTimeout,h={},d=i(n);o.isMock=!1,o.$$completeOutstandingRequest=d.completeTask,o.$$incOutstandingRequestCount=d.incTaskCount,o.notifyWhenNoOutstandingRequests=d.notifyWhenNoPendingTasks;var f,p,m=s.href,g=t.find("base"),_=null,y=r.history?function(){try{return l.state}catch(e){}}:O;M(),o.url=function(t,n,i){if(Y(i)&&(i=null),s!==e.location&&(s=e.location),l!==e.history&&(l=e.history),t){var a=p===i;if(t=fi(t).href,m===t&&(!r.history||a))return o;var c=m&&hr(m)===hr(t);return m=t,p=i,!r.history||c&&a?(c||(_=t),n?s.replace(t):c?s.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):s.href=t,s.href!==t&&(_=t)):(l[n?"replaceState":"pushState"](i,"",t),M()),_&&(_=t),o}return function(e){return e.replace(/#$/,"")}(_||s.href)},o.state=function(){return f};var b=[],v=!1;function w(){_=null,k()}var x=null;function M(){ce(f=Y(f=y())?null:f,x)&&(f=x),x=f,p=f}function k(){var e=p;M(),m===o.url()&&e===f||(m=o.url(),p=f,S(b,(function(e){e(o.url(),f)})))}o.onUrlChange=function(t){return v||(r.history&&a(e).on("popstate",w),a(e).on("hashchange",w),v=!0),b.push(t),t},o.$$applicationDestroyed=function(){a(e).off("hashchange popstate",w)},o.$$checkUrlChange=k,o.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},o.defer=function(e,t,n){var r;return t=t||0,n=n||d.DEFAULT_TASK_TYPE,d.incTaskCount(n),r=c((function(){delete h[r],d.completeTask(e,n)}),t),h[r]=n,r},o.defer.cancel=function(e){if(h.hasOwnProperty(e)){var t=h[e];return delete h[e],u(e),d.completeTask(O,t),!0}return!1}}function fn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,r,i){return new dn(e,r,t,n,i)}]}function pn(){this.$get=function(){var e={};function t(t,n){if(t in e)throw o("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,i=D({},n,{id:t}),s=He(),a=n&&n.capacity||Number.MAX_VALUE,l=He(),c=null,u=null;return e[t]={put:function(e,t){if(!Y(t)){if(a<Number.MAX_VALUE)h(l[e]||(l[e]={key:e}));return e in s||r++,s[e]=t,r>a&&this.remove(u.key),t}},get:function(e){if(a<Number.MAX_VALUE){var t=l[e];if(!t)return;h(t)}return s[e]},remove:function(e){if(a<Number.MAX_VALUE){var t=l[e];if(!t)return;t===c&&(c=t.p),t===u&&(u=t.n),d(t.n,t.p),delete l[e]}e in s&&(delete s[e],r--)},removeAll:function(){s=He(),r=0,l=He(),c=u=null},destroy:function(){s=null,i=null,l=null,delete e[t]},info:function(){return D({},i,{size:r})}};function h(e){e!==c&&(u?u===e&&(u=e.n):u=e,d(e.n,e.p),d(e,c),(c=e).n=null)}function d(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return S(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function mn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var gn=o("$compile");var _n=new function(){};function yn(t,n){var r={},i="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,c=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),u=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,h=/^(on[a-z]+|formaction)$/,p=He();function m(e,t,n){var r=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=He();return S(e,(function(e,o){if((e=e.trim())in p)i[o]=p[e];else{var s=e.match(r);if(!s)throw gn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(p[e]=i[o])}})),i}function g(e,t){var n={isolateScope:null,bindToController:null};if(H(e.scope)&&(!0===e.bindToController?(n.bindToController=m(e.scope,t,!0),n.isolateScope={}):n.isolateScope=m(e.scope,t,!1)),H(e.bindToController)&&(n.bindToController=m(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw gn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(n,o){return Fe(n,"name"),Ye(n,"directive"),U(n)?(!function(e){var t=e.charAt(0);if(!t||t!==f(t))throw gn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw gn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),Fe(o,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],t.factory(n+i,["$injector","$exceptionHandler",function(e,t){var i=[];return S(r[n],(function(r,o){try{var s=e.invoke(r);V(s)?s={compile:F(s)}:!s.compile&&s.link&&(s.compile=F(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=function(e){var t=e.require||e.controller&&e.name;return!q(t)&&H(t)&&S(t,(function(e,n){var r=e.match(u);e.substring(r[0].length)||(t[n]=r[0]+n)})),t}(s),s.restrict=function(e,t){if(e&&(!U(e)||!/[EACM]/.test(e)))throw gn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(s.restrict,n),s.$$moduleName=r.$$moduleName,i.push(s)}catch(e){t(e)}})),i}])),r[n].push(o)):S(n,T(e)),this},this.component=function e(t,n){if(!U(t))return S(t,T(pe(this,e))),this;var r=n.controller||function(){};function i(e){function t(t){return V(t)||q(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:Ln(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return S(n,(function(e,t){"$"===t.charAt(0)&&(o[t]=e)})),o}return S(n,(function(e,t){"$"===t.charAt(0)&&(i[t]=e,V(r)&&(r[t]=e))})),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationTrustedUrlList=function(e){return j(e)?(n.aHrefSanitizationTrustedUrlList(e),this):n.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return j(e)?(n.imgSrcSanitizationTrustedUrlList(e),this):n.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var _=!0;this.debugInfoEnabled=function(e){return j(e)?(_=e,this):_};var b=!1;this.strictComponentBindingsEnabled=function(e){return j(e)?(b=e,this):b};var v=10;this.onChangesTtl=function(e){return arguments.length?(v=e,this):v};var w=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(w=e,this):w};var x=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(x=e,this):x};var M=He();this.addPropertySecurityContext=function(e,t,n){var r=e.toLowerCase()+"|"+t.toLowerCase();if(r in M&&M[r]!==n)throw gn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,M[r],n);return M[r]=n,this},function(){function e(e,t){S(t,(function(t){M[t.toLowerCase()]=e}))}e(Xr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Xr.CSS,["*|style"]),e(Xr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(Xr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(Xr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,p,m,k,T,L,C,E){var A,$=/^\w/,P=e.document.createElement("div"),F=w,N=x,j=v;function z(){try{if(! --j)throw A=void 0,gn("infchng","{0} $onChanges() iterations reached. Aborting!\n",v);L.$apply((function(){for(var e=0,t=A.length;e<t;++e)try{A[e]()}catch(e){p(e)}A=void 0}))}finally{j++}}function W(e,t){if(!e)return e;if(!U(e))throw gn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",r=te(e),i=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=r.split(i),s=Math.floor(o.length/2),a=0;a<s;a++){var l=2*a;n+=C.getTrustedMediaUrl(te(o[l])),n+=" "+te(o[l+1])}var c=te(o[2*a]).split(/\s/);return n+=C.getTrustedMediaUrl(te(c[0])),2===c.length&&(n+=" "+te(c[1])),n}function G(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=t[i]}else this.$attr={};this.$$element=e}function X(e,t){try{e.addClass(t)}catch(e){}}G.prototype={$normalize:xn,$addClass:function(e){e&&e.length>0&&E.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&E.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Mn(e,t);n&&n.length&&E.addClass(this.$$element,n);var r=Mn(t,e);r&&r.length&&E.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i=It(this.$$element[0],e),o=Ot[e],s=e;i?(this.$$element.prop(e,t),r=i):o&&(this[o]=t,s=o),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Re(e,"-")),"img"===ie(this.$$element)&&"srcset"===e&&(this[e]=t=W(t,"$set('srcset', value)")),!1!==n&&(null===t||Y(t)?this.$$element.removeAttr(r):$.test(r)?i&&!1===t?this.$$element.removeAttr(r):this.$$element.attr(r,t):function(e,t,n){P.innerHTML="<span "+t+">";var r=P.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],r,t));var a=this.$$observers;a&&S(a[s],(function(e){try{e(t)}catch(e){p(e)}}))},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=He()),i=r[e]||(r[e]=[]);return i.push(t),L.$evalAsync((function(){i.$$inter||!n.hasOwnProperty(e)||Y(n[e])||t(n[e])})),function(){se(i,t)}}};var K=n.startSymbol(),Q=n.endSymbol(),ee="{{"===K&&"}}"===Q?I:function(e){return e.replace(/\{\{/g,K).replace(/}}/g,Q)},ne=/^ng(Attr|Prop|On)([A-Z].*)$/,re=/^(.+)Start$/;return oe.$$addBindingInfo=_?function(e,t){var n=e.data("$binding")||[];q(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:O,oe.$$addBindingClass=_?function(e){X(e,"ng-binding")}:O,oe.$$addScopeInfo=_?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:O,oe.$$addScopeClass=_?function(e,t){X(e,t?"ng-isolate-scope":"ng-scope")}:O,oe.$$createComment=function(t,n){var r="";return _&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},oe;function oe(e,t,n,r,i){e instanceof a||(e=a(e));var o=ae(e,t,e,n,r,i);oe.$$addScopeClass(e);var s=null;return function(t,n,r){if(!e)throw gn("multilink","This element has already been linked.");Fe(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new());var l,c,u,h=(r=r||{}).parentBoundTranscludeFn,d=r.transcludeControllers,f=r.futureParentElement;if(h&&h.$$boundTransclude&&(h=h.$$boundTransclude),s||(c=(l=f)&&l[0],s=c&&"foreignobject"!==ie(c)&&y.call(c).match(/SVG/)?"svg":"html"),u="html"!==s?a(Ce(s,a("<div></div>").append(e).html())):n?$t.clone.call(e):e,d)for(var p in d)u.data("$"+p+"Controller",d[p].instance);return oe.$$addScopeInfo(u,t),n&&n(u,t),o&&o(t,u,u,h),n||(e=o=null),u}}function ae(e,t,n,r,i,o){for(var l,c,u,h,d,f,p,m=[],g=q(e)||e instanceof a,_=0;_<e.length;_++)l=new G,11===s&&ue(e,_,g),(u=(c=de(e[_],[],l,0===_?r:void 0,i)).length?ye(c,e[_],l,t,n,null,[],[],o):null)&&u.scope&&oe.$$addScopeClass(l.$$element),d=u&&u.terminal||!(h=e[_].childNodes)||!h.length?null:ae(h,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(m.push(_,u,d),f=!0,p=p||u),o=null;return f?function(e,n,r,i){var o,s,l,c,u,h,d,f;if(p){var g=n.length;for(f=new Array(g),u=0;u<m.length;u+=3)f[d=m[u]]=n[d]}else f=n;for(u=0,h=m.length;u<h;)l=f[m[u++]],o=m[u++],s=m[u++],o?(o.scope?(c=e.$new(),oe.$$addScopeInfo(a(l),c)):c=e,o(s,c,l,r,o.transcludeOnThisElement?he(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?he(e,t):null)):s&&s(e,l.childNodes,void 0,i)}:null}function ue(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===Ue)for(;(r=o?i.nextSibling:e[t+1])&&r.nodeType===Ue;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}function he(e,t,n){function r(r,i,o,s,a){return r||((r=e.$new(!1,a)).$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var i=r.$$slots=He();for(var o in t.$$slots)t.$$slots[o]?i[o]=he(e,t.$$slots[o],n):i[o]=null;return r}function de(e,t,r,i,s){var a,c,u,h=e.nodeType,d=r.$attr;switch(h){case 1:we(t,xn(c=ie(e)),"E",i,s);for(var f,p,m,g,_,y=e.attributes,b=0,v=y&&y.length;b<v;b++){var w,x=!1,M=!1,S=!1,k=!1,T=!1;p=(f=y[b]).name,g=f.value,(_=(m=xn(p.toLowerCase())).match(ne))?(S="Attr"===_[1],k="Prop"===_[1],T="On"===_[1],p=p.replace(vn,"").toLowerCase().substr(4+_[1].length).replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))):(w=m.match(re))&&Me(w[1])&&(x=p,M=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),k||T?(r[m]=g,d[m]=f.name,k?De(e,t,m,p):Ae(t,m,p)):(d[m=xn(p.toLowerCase())]=p,!S&&r.hasOwnProperty(m)||(r[m]=g,It(e,m)&&(r[m]=!0)),$e(e,t,g,m,S),we(t,m,"A",i,s,x,M))}if("input"===c&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!N)break;if(H(u=e.className)&&(u=u.animVal),U(u)&&""!==u)for(;a=l.exec(u);)we(t,m=xn(a[2]),"C",i,s)&&(r[m]=te(a[3])),u=u.substr(a.index+a[0].length);break;case Ue:!function(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&oe.$$addBindingClass(t),function(e,t){var i=t.parent();n||oe.$$addBindingClass(i),oe.$$addBindingInfo(i,r.expressions),e.$watch(r,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:if(!F)break;!function(e,t,n,r,i){try{var s=o.exec(e.nodeValue);if(s){var a=xn(s[1]);we(t,a,"M",r,i)&&(n[a]=te(s[2]))}}catch(e){}}(e,t,r,i,s)}return t.sort(Te),t}function me(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw gn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1===e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0);else r.push(e);return a(r)}function ge(e,t,n){return function(r,i,o,s,a){return i=me(i[0],t,n),e(r,i,o,s,a)}}function _e(e,t,n,r,i,o){var s;return e?oe(t,n,r,i,o):function(){return s||(s=oe(t,n,r,i,o),t=n=o=null),s.apply(this,arguments)}}function ye(t,n,r,i,o,s,l,c,u){u=u||{};for(var h,d,f,m,g,_=-Number.MAX_VALUE,y=u.newScopeDirective,b=u.controllerDirectives,v=u.newIsolateScopeDirective,w=u.templateDirective,x=u.nonTlbTranscludeDirective,M=!1,k=!1,L=u.hasElementTranscludeDirective,C=r.$$element=a(n),E=s,A=i,$=!1,P=!1,R=0,O=t.length;R<O;R++){var I=(h=t[R]).$$start,F=h.$$end;if(I&&(C=me(n,I,F)),f=void 0,_>h.priority)break;if((g=h.scope)&&(h.templateUrl||(H(g)?(Le("new/isolated scope",v||y,h,C),v=h):Le("new/isolated scope",v,h,C)),y=y||h),d=h.name,!$&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var N,j=R+1;N=t[j++];)if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){P=!0;break}$=!0}if(!h.templateUrl&&h.controller&&(b=b||He(),Le("'"+d+"' controller",b[d],h,C),b[d]=h),g=h.transclude)if(M=!0,h.$$tlb||(Le("transclusion",x,h,C),x=h),"element"===g)L=!0,_=h.priority,f=C,C=r.$$element=a(oe.$$createComment(d,r[d])),n=C[0],Pe(o,fe(f),n),A=_e(P,f,i,_,E&&E.name,{nonTlbTranscludeDirective:x});else{var z=He();if(H(g)){f=e.document.createDocumentFragment();var U=He(),W=He();for(var B in S(g,(function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,U[e]=t,z[t]=null,W[t]=n})),S(C.contents(),(function(t){var n=U[xn(ie(t))];n?(W[n]=!0,z[n]=z[n]||e.document.createDocumentFragment(),z[n].appendChild(t)):f.appendChild(t)})),S(W,(function(e,t){if(!e)throw gn("reqslot","Required transclusion slot `{0}` was not filled.",t)})),z)if(z[B]){var X=a(z[B].childNodes);z[B]=_e(P,X,i)}f=a(f.childNodes)}else f=a(mt(n)).contents();C.empty(),(A=_e(P,f,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope})).$$slots=z}if(h.template)if(k=!0,Le("template",w,h,C),w=h,g=V(h.template)?h.template(C,r):h.template,g=ee(g),h.replace){if(E=h,f=ut(g)?[]:Sn(Ce(h.templateNamespace,te(g))),n=f[0],1!==f.length||1!==n.nodeType)throw gn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d,"");Pe(o,C,n);var K={$attr:{}},Z=de(n,[],K),Q=t.splice(R+1,t.length-(R+1));(v||y)&&ve(Z,v,y),t=t.concat(Z).concat(Q),Se(r,K),O=t.length}else C.html(g);if(h.templateUrl)k=!0,Le("template",w,h,C),w=h,h.replace&&(E=h),se=ke(t.splice(R,t.length-R),C,r,o,M&&A,l,c,{controllerDirectives:b,newScopeDirective:y!==h&&y,newIsolateScopeDirective:v,templateDirective:w,nonTlbTranscludeDirective:x}),O=t.length;else if(h.compile)try{m=h.compile(C,r,A);var ne=h.$$originalDirective||h;V(m)?re(null,pe(ne,m),I,F):m&&re(pe(ne,m.pre),pe(ne,m.post),I,F)}catch(e){p(e,xe(C))}h.terminal&&(se.terminal=!0,_=Math.max(_,h.priority))}return se.scope=y&&!0===y.scope,se.transcludeOnThisElement=M,se.templateOnThisElement=k,se.transclude=A,u.hasElementTranscludeDirective=L,se;function re(e,t,n,r){e&&(n&&(e=ge(e,n,r)),e.require=h.require,e.directiveName=d,(v===h||h.$$isolateScope)&&(e=Oe(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=ge(t,n,r)),t.require=h.require,t.directiveName=d,(v===h||h.$$isolateScope)&&(t=Oe(t,{isolateScope:!0})),c.push(t))}function se(e,t,i,o,s){var u,h,d,f,m,g,_,x,M,k;for(var C in n===i?(M=r,x=r.$$element):M=new G(x=a(i),r),m=t,v?f=t.$new(!0):y&&(m=t.$parent),s&&(_=function(e,t,n,r){var i;J(e)||(r=n,n=t,t=e,e=void 0);L&&(i=g);n||(n=L?x.parent():x);if(!r)return s(e,t,i,n,P);var o=s.$$slots[r];if(o)return o(e,t,i,n,P);if(Y(o))throw gn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,xe(x))},_.$$boundTransclude=s,_.isSlotFilled=function(e){return!!s.$$slots[e]}),b&&(g=function(e,t,n,r,i,o,s){var a=He();for(var l in r){var c=r[l],u={$scope:c===s||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=c.controller;"@"===h&&(h=t[c.name]);var d=T(h,u,!0,c.controllerAs);a[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return a}(x,M,_,b,f,t,v)),v&&(oe.$$addScopeInfo(x,f,!0,!(w&&(w===v||w===v.$$originalDirective))),oe.$$addScopeClass(x,!0),f.$$isolateBindings=v.$$isolateBindings,(k=Ye(t,M,f,f.$$isolateBindings,v)).removeWatches&&f.$on("$destroy",k.removeWatches)),g){var E=b[C],A=g[C],$=E.$$bindings.bindToController;A.instance=A(),x.data("$"+E.name+"Controller",A.instance),A.bindingInfo=Ye(m,M,A.instance,$,E)}for(S(b,(function(e,t){var n=e.require;e.bindToController&&!q(n)&&H(n)&&D(g[t].instance,be(t,n,x,g))})),S(g,(function(e){var t=e.instance;if(V(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){p(e)}if(V(t.$onInit))try{t.$onInit()}catch(e){p(e)}V(t.$doCheck)&&(m.$watch((function(){t.$doCheck()})),t.$doCheck()),V(t.$onDestroy)&&m.$on("$destroy",(function(){t.$onDestroy()}))})),u=0,h=l.length;u<h;u++)Ie(d=l[u],d.isolateScope?f:t,x,M,d.require&&be(d.directiveName,d.require,x,g),_);var P=t;for(v&&(v.template||null===v.templateUrl)&&(P=f),e&&e(P,i.childNodes,void 0,s),u=c.length-1;u>=0;u--)Ie(d=c[u],d.isolateScope?f:t,x,M,d.require&&be(d.directiveName,d.require,x,g),_);S(g,(function(e){var t=e.instance;V(t.$postLink)&&t.$postLink()}))}}function be(e,t,n,r){var i;if(U(t)){var o=t.match(u),s=t.substring(o[0].length),a=o[1]||o[3],l="?"===o[2];if("^^"===a?n=n.parent():i=(i=r&&r[s])&&i.instance,!i){var c="$"+s+"Controller";i="^^"===a&&n[0]&&9===n[0].nodeType?null:a?n.inheritedData(c):n.data(c)}if(!i&&!l)throw gn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(q(t)){i=[];for(var h=0,d=t.length;h<d;h++)i[h]=be(e,t[h],n,r)}else H(t)&&(i={},S(t,(function(t,o){i[o]=be(e,t,n,r)})));return i||null}function ve(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=R(e[r],{$$isolateScope:t,$$newScope:n})}function we(e,n,o,s,a,l,c){if(n===a)return null;var u=null;if(r.hasOwnProperty(n))for(var h,d=t.get(n+i),f=0,p=d.length;f<p;f++)if(h=d[f],(Y(s)||s>h.priority)&&-1!==h.restrict.indexOf(o)){if(l&&(h=R(h,{$$start:l,$$end:c})),!h.$$bindings){var m=h.$$bindings=g(h,h.name);H(m.isolateScope)&&(h.$$isolateBindings=m.isolateScope)}e.push(h),u=h}return u}function Me(e){if(r.hasOwnProperty(e))for(var n=t.get(e+i),o=0,s=n.length;o<s;o++)if(n[o].multiElement)return!0;return!1}function Se(e,t){var n=t.$attr,r=e.$attr;S(e,(function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r.length?r+=("style"===i?";":" ")+t[i]:r=t[i]),e.$set(i,r,!0,n[i]))})),S(t,(function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))}))}function ke(e,t,n,r,i,o,s,l){var c,u,h=[],d=t[0],f=e.shift(),g=R(f,{templateUrl:null,transclude:null,replace:null,$$originalDirective:f}),_=V(f.templateUrl)?f.templateUrl(t,n):f.templateUrl,y=f.templateNamespace;return t.empty(),m(_).then((function(p){var m,b,v,w;if(p=ee(p),f.replace){if(v=ut(p)?[]:Sn(Ce(y,te(p))),m=v[0],1!==v.length||1!==m.nodeType)throw gn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f.name,_);b={$attr:{}},Pe(r,t,m);var x=de(m,[],b);H(f.scope)&&ve(x,!0),e=x.concat(e),Se(n,b)}else m=d,t.html(p);for(e.unshift(g),c=ye(e,m,n,i,t,f,o,s,l),S(r,(function(e,n){e===m&&(r[n]=t[0])})),u=ae(t[0].childNodes,i);h.length;){var M=h.shift(),k=h.shift(),T=h.shift(),L=h.shift(),C=t[0];if(!M.$$destroyed){if(k!==d){var E=k.className;l.hasElementTranscludeDirective&&f.replace||(C=mt(m)),Pe(T,a(k),C),X(a(C),E)}w=c.transcludeOnThisElement?he(M,c.transclude,L):L,c(u,M,C,r,w)}}h=null})).catch((function(e){B(e)&&p(e)})),function(e,t,n,r,i){var o=i;t.$$destroyed||(h?h.push(t,n,r,o):(c.transcludeOnThisElement&&(o=he(t,c.transclude,i)),c(u,t,n,r,o)))}}function Te(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Le(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw gn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,xe(r))}function Ce(t,n){switch(t=f(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Ee(e){return W(C.valueOf(e),"ng-prop-srcset")}function De(e,t,n,r){if(h.test(r))throw gn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=ie(e),o=function(e,t){var n=t.toLowerCase();return M[e+"|"+n]||M["*|"+n]}(i,r),s=I;"srcset"!==r||"img"!==i&&"source"!==i?o&&(s=C.getTrusted.bind(C,o)):s=Ee,t.push({priority:100,compile:function(e,t){var i=k(t[n]),o=k(t[n],(function(e){return C.valueOf(e)}));return{pre:function(e,t){function n(){var n=i(e);t[0][r]=s(n)}n(),e.$watch(o,n)}}}})}function Ae(e,t,n){e.push(zo(k,L,p,t,n,!1))}function $e(e,t,r,i,o){var s=ie(e),a=function(e,t){return"srcdoc"===t?C.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?C.RESOURCE_URL:C.MEDIA_URL:"xlinkHref"===t?"image"===e?C.MEDIA_URL:"a"===e?C.URL:C.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?C.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:C.URL}(s,i),l=!o,u=c[i]||o,d=n(r,l,a,u);if(d){if("multiple"===i&&"select"===s)throw gn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",xe(e));if(h.test(i))throw gn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=He()),l=o[i];l!==r&&(d=l&&n(l,!0,a,u),r=l),d&&(o[i]=d(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(d,(function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)})))}}}})}}function Pe(t,n,r){var i,o,s=n[0],l=n.length,c=s.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===s){t[i++]=r;for(var u=i,h=u+l-1,d=t.length;u<d;u++,h++)h<d?t[u]=t[h]:delete t[u];t.length-=l-1,t.context===s&&(t.context=r);break}c&&c.replaceChild(r,s);var f=e.document.createDocumentFragment();for(i=0;i<l;i++)f.appendChild(n[i]);for(a.hasData(s)&&(a.data(r,a.data(s)),a(s).off("$destroy")),a.cleanData(f.querySelectorAll("*")),i=1;i<l;i++)delete n[i];n[0]=r,n.length=1}function Oe(e,t){return D((function(){return e.apply(null,arguments)}),e,t)}function Ie(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){p(e,xe(n))}}function Ne(e,t){if(b)throw gn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Ye(e,t,r,i,o){var s,a=[],l={};function c(t,n,i){V(r.$onChanges)&&!le(n,i)&&(A||(e.$$postDigest(z),A=[]),s||(s={},A.push(u)),s[t]&&(i=s[t].previousValue),s[t]=new bn(i,n))}function u(){r.$onChanges(s),s=void 0}return S(i,(function(i,s){var u,h,f,p,m,g=i.attrName,_=i.optional;switch(i.mode){case"@":_||d.call(t,g)||(Ne(g,o.name),r[s]=t[g]=void 0),m=t.$observe(g,(function(e){if(U(e)||Z(e)){var t=r[s];c(s,e,t),r[s]=e}})),t.$$observers[g].$$scope=e,U(u=t[g])?r[s]=n(u)(e):Z(u)&&(r[s]=u),l[s]=new bn(_n,r[s]),a.push(m);break;case"=":if(!d.call(t,g)){if(_)break;Ne(g,o.name),t[g]=void 0}if(_&&!t[g])break;h=k(t[g]),p=h.literal?ce:le,f=h.assign||function(){throw u=r[s]=h(e),gn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[g],g,o.name)},u=r[s]=h(e);var y=function(t){return p(t,r[s])||(p(t,u)?f(e,t=r[s]):r[s]=t),u=t};y.$stateful=!0,m=i.collection?e.$watchCollection(t[g],y):e.$watch(k(t[g],y),null,h.literal),a.push(m);break;case"<":if(!d.call(t,g)){if(_)break;Ne(g,o.name),t[g]=void 0}if(_&&!t[g])break;var b=(h=k(t[g])).literal,v=r[s]=h(e);l[s]=new bn(_n,r[s]),m=e[i.collection?"$watchCollection":"$watch"](h,(function(e,t){if(t===e){if(t===v||b&&ce(t,v))return;t=v}c(s,e,t),r[s]=e})),a.push(m);break;case"&":if(_||d.call(t,g)||Ne(g,o.name),(h=t.hasOwnProperty(g)?k(t[g]):O)===O&&_)break;r[s]=function(t){return h(e,t)}}})),{initialChanges:l,removeWatches:a.length&&function(){for(var e=0,t=a.length;e<t;++e)a[e]()}}}}]}function bn(e,t){this.previousValue=e,this.currentValue=t}yn.$inject=["$provide","$$sanitizeUriProvider"],bn.prototype.isFirstChange=function(){return this.previousValue===_n};var vn=/^((?:x|data)[:\-_])/i,wn=/[:\-_]+(.)/g;function xn(e){return e.replace(vn,"").replace(wn,(function(e,t,n){return n?t.toUpperCase():t}))}function Mn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s===i[a])continue e;n+=(n.length>0?" ":"")+s}return n}function Sn(e){var t=(e=a(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===Ue&&""===n.nodeValue.trim())&&g.call(e,t,1)}return e}var kn=o("$controller"),Tn=/^(\S+)(\s+as\s+([\w$]+))?$/;function Ln(e,t){if(t&&U(t))return t;if(U(e)){var n=Tn.exec(e);if(n)return n[3]}}function Cn(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){Ye(t,"controller"),H(t)?D(e,t):e[t]=n},this.$get=["$injector",function(t){return function(r,i,o,s){var a,l,c,u;if(o=!0===o,s&&U(s)&&(u=s),U(r)){if(!(l=r.match(Tn)))throw kn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(c=l[1],u=u||l[3],r=e.hasOwnProperty(c)?e[c]:function(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,s=i.length,a=0;a<s;a++)r=i[a],e&&(e=(o=e)[r]);return!n&&V(e)?pe(o,e):e}(i.$scope,c,!0),!r)throw kn("ctrlreg","The controller with the name '{0}' is not registered.",c);Ne(r,c,!0)}if(o){var h=(q(r)?r[r.length-1]:r).prototype;return a=Object.create(h||null),u&&n(i,u,a,c||r.name),D((function(){var e=t.invoke(r,a,i,c);return e!==a&&(H(e)||V(e))&&(a=e,u&&n(i,u,a,c||r.name)),a}),{instance:a,identifier:u})}return a=t.instantiate(r,i,c),u&&n(i,u,a,c||r.name),a};function n(e,t,n,r){if(!e||!H(e.$scope))throw o("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function En(){this.$get=["$window",function(e){return a(e.document)}]}function Dn(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function i(){r=n.hidden}return e.on("visibilitychange",i),t.$on("$destroy",(function(){e.off("visibilitychange",i)})),function(){return r}}]}function An(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var $n=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof a&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Pn="application/json",Rn={"Content-Type":Pn+";charset=utf-8"},On=/^\[|^\{(?!\{)/,In={"[":/]$/,"{":/}$/},Fn=/^\)]\}',?\n/,Nn=o("$http");function Yn(e){return H(e)?G(e)?e.toISOString():ge(e):e}function jn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return k(e,(function(e,n){null===e||Y(e)||V(e)||(q(e)?S(e,(function(e){t.push(Te(n)+"="+Te(Yn(e)))})):t.push(Te(n)+"="+Te(Yn(e))))})),t.join("&")}}}function Hn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,r,i){q(n)?S(n,(function(t,n){e(t,r+"["+(H(t)?n:"")+"]")})):H(n)&&!G(n)?k(n,(function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))})):(V(n)&&(n=n()),t.push(Te(r)+"="+(null==n?"":Te(Yn(n)))))}(e,"",!0),t.join("&")}}}function zn(e,t){if(U(e)){var n=e.replace(Fn,"").trim();if(n){var r=t("Content-Type"),i=r&&0===r.indexOf(Pn);if(i||(s=(o=n).match(On))&&In[s[0]].test(o))try{e=_e(n)}catch(t){if(!i)return e;throw Nn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var o,s;return e}function Un(e){var t,n=He();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return U(e)?S(e.split("\n"),(function(e){t=e.indexOf(":"),r(f(te(e.substr(0,t))),te(e.substr(t+1)))})):H(e)&&S(e,(function(e,t){r(f(t),te(e))})),n}function Wn(e){var t;return function(n){if(t||(t=Un(e)),n){var r=t[f(n)];return void 0===r&&(r=null),r}return t}}function Gn(e,t,n,r){return V(r)?r(e,t,n):(S(r,(function(r){e=r(e,t,n)})),e)}function qn(e){return 200<=e&&e<300}function Bn(){var e=this.defaults={transformResponse:[zn],transformRequest:[function(e){return!H(e)||(t=e,"[object File]"===y.call(t))||function(e){return"[object Blob]"===y.call(e)}(e)||function(e){return"[object FormData]"===y.call(e)}(e)?e:ge(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:We(Rn),put:We(Rn),patch:We(Rn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return j(e)?(t=!!e,this):t};var n=this.interceptors=[],r=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,s,a,l,c,u,h,d){var m=l("$http");e.paramSerializer=U(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var g=[];S(n,(function(e){g.unshift(U(e)?h.get(e):h.invoke(e))}));var _,y=(_=[hi].concat(r.map(fi)),function(e){var t=fi(e);return _.some(pi.bind(null,t))});function b(n){if(!H(n))throw o("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!U(d.valueOf(n.url)))throw o("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var r=D({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);r.headers=function(t){var n,r,i,o=e.headers,s=D({},t.headers);o=D({},o.common,o[f(t.method)]);e:for(n in o){for(i in r=f(n),s)if(f(i)===r)continue e;s[n]=o[n]}return function(e,t){var n,r={};return S(e,(function(e,i){V(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e})),r}(s,We(t))}(n),r.method=p(r.method),r.paramSerializer=U(r.paramSerializer)?h.get(r.paramSerializer):r.paramSerializer,i.$$incOutstandingRequestCount("$http");var l=[],_=[],v=u.resolve(r);return S(g,(function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&_.push(e.response,e.responseError)})),v=(v=w(v,l)).then((function(n){var r=n.headers,i=Gn(n.data,Wn(r),void 0,n.transformRequest);Y(i)&&S(r,(function(e,t){"content-type"===f(t)&&delete r[t]}));Y(n.withCredentials)&&!Y(e.withCredentials)&&(n.withCredentials=e.withCredentials);return function(n,r){var i,o,l=u.defer(),h=l.promise,p=n.headers,g="jsonp"===f(n.method),_=n.url;g?_=d.getTrustedResourceUrl(_):U(_)||(_=d.valueOf(_));_=function(e,t){t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(_,n.paramSerializer(n.params)),g&&(_=function(e,t){var n=e.split("?");if(n.length>2)throw Nn("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return S(Se(n[1]),(function(n,r){if("JSON_CALLBACK"===n)throw Nn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(r===t)throw Nn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)})),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK",e}(_,n.jsonpCallbackParam));b.pendingRequests.push(n),h.then(T,T),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=H(n.cache)?n.cache:H(e.cache)?e.cache:m);i&&(j(o=i.get(_))?Q(o)?o.then(k,k):q(o)?M(o[1],o[0],We(o[2]),o[3],o[4]):M(o,200,{},"OK","complete"):i.put(_,h));if(Y(o)){var v=y(n.url)?a()[n.xsrfCookieName||e.xsrfCookieName]:void 0;v&&(p[n.xsrfHeaderName||e.xsrfHeaderName]=v),s(n.method,_,r,x,p,n.timeout,n.withCredentials,n.responseType,w(n.eventHandlers),w(n.uploadEventHandlers))}return h;function w(e){if(e){var n={};return S(e,(function(e,r){n[r]=function(n){function r(){e(n)}t?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}})),n}}function x(e,n,r,o,s){function a(){M(n,e,r,o,s)}i&&(qn(e)?i.put(_,[e,n,Un(r),o,s]):i.remove(_)),t?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function M(e,t,r,i,o){(qn(t=t>=-1?t:0)?l.resolve:l.reject)({data:e,status:t,headers:Wn(r),config:n,statusText:i,xhrStatus:o})}function k(e){M(e.data,e.status,We(e.headers()),e.statusText,e.xhrStatus)}function T(){var e=b.pendingRequests.indexOf(n);-1!==e&&b.pendingRequests.splice(e,1)}}(n,i).then(x,x)})),v=(v=w(v,_)).finally((function(){i.$$completeOutstandingRequest(O,"$http")}));function w(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function x(e){var t=D({},e);return t.data=Gn(e.data,e.headers,e.status,r.transformResponse),qn(e.status)?t:u.reject(t)}}return b.pendingRequests=[],function(e){S(arguments,(function(e){b[e]=function(t,n){return b(D({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){S(arguments,(function(e){b[e]=function(t,n,r){return b(D({},r||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),b.defaults=e,b}]}function Vn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Xn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return function(e,t,n,r,i){return function(i,s,a,l,c,u,h,d,p,m){if(s=s||e.url(),"jsonp"===f(i))var g=r.createCallback(s),_=o(s,g,(function(e,t){var n=200===e&&r.getResponse(g);T(l,e,n,"",t,"complete"),r.removeCallback(g)}));else{var y=t(i,s),b=!1;y.open(i,s,!0),S(c,(function(e,t){j(e)&&y.setRequestHeader(t,e)})),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"===fi(s).protocol?404:0),T(l,n,t,y.getAllResponseHeaders(),e,"complete")};var v=function(){T(l,-1,null,null,"","error")},w=function(){T(l,-1,null,null,"",b?"timeout":"abort")},x=function(){T(l,-1,null,null,"","timeout")};if(y.onerror=v,y.ontimeout=x,y.onabort=w,S(p,(function(e,t){y.addEventListener(t,e)})),S(m,(function(e,t){y.upload.addEventListener(t,e)})),h&&(y.withCredentials=!0),d)try{y.responseType=d}catch(e){if("json"!==d)throw e}y.send(Y(a)?null:a)}if(u>0)var M=n((function(){k("timeout")}),u);else Q(u)&&u.then((function(){k(j(u.$$timeoutId)?"timeout":"abort")}));function k(e){b="timeout"===e,_&&_(),y&&y.abort()}function T(e,t,r,i,o,s){j(M)&&n.cancel(M),_=y=null,e(t,r,i,o,s)}};function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),s=null;return o.type="text/javascript",o.src=e,o.async=!0,s=function(e){o.removeEventListener("load",s),o.removeEventListener("error",s),i.body.removeChild(o),o=null;var a=-1,l="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),n&&n(a,l)},o.addEventListener("load",s),o.addEventListener("error",s),i.body.appendChild(o),s}}(e,r,e.defer,t,n[0])}]}var Kn=w.$interpolateMinErr=o("$interpolate");function Jn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var o=e.length,s=t.length,a=new RegExp(e.replace(/./g,c),"g"),l=new RegExp(t.replace(/./g,c),"g");function c(e){return"\\\\\\"+e}function u(n){return n.replace(a,e).replace(l,t)}function h(e,t,n,r){var i=e.$watch((function(e){return i(),r(e)}),t,n);return i}function d(a,l,c,d){var f=c===i.URL||c===i.MEDIA_URL;if(!a.length||-1===a.indexOf(e)){if(l)return;var p=u(a);f&&(p=i.getTrusted(c,p));var m=F(p);return m.exp=a,m.expressions=[],m.$$watchDelegate=h,m}d=!!d;for(var g,_,y,b,v,w=0,x=[],M=a.length,S=[],k=[];w<M;){if(-1===(g=a.indexOf(e,w))||-1===(_=a.indexOf(t,g+o))){w!==M&&S.push(u(a.substring(w)));break}w!==g&&S.push(u(a.substring(w,g))),b=a.substring(g+o,_),x.push(b),w=_+s,k.push(S.length),S.push("")}v=1===S.length&&1===k.length;var T=f&&v?void 0:function(e){try{return e=c&&!f?i.getTrusted(c,e):i.valueOf(e),d&&!j(e)?e:ze(e)}catch(e){r(Kn.interr(a,e))}};if(y=x.map((function(e){return n(e,T)})),!l||x.length){var L=function(e){for(var t=0,n=x.length;t<n;t++){if(d&&Y(e[t]))return;S[k[t]]=e[t]}return f?i.getTrusted(c,v?S[0]:S.join("")):(c&&S.length>1&&Kn.throwNoconcat(a),S.join(""))};return D((function(e){var t=0,n=x.length,i=new Array(n);try{for(;t<n;t++)i[t]=y[t](e);return L(i)}catch(e){r(Kn.interr(a,e))}}),{exp:a,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,(function(r,i){var o=L(r);t.call(this,o,r!==i?n:o,e),n=o}))}})}}return d.startSymbol=function(){return e},d.endSymbol=function(){return t},d}]}Kn.throwNoconcat=function(e){throw Kn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Kn.interr=function(e,t){return Kn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Zn=o("$interval");function Qn(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},r=function(e){t.clearInterval(e),delete n[e]},i=e((function(e,r,i){var o=t.setInterval(e,r);return n[o]=i,o}),r);return i.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Zn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,i=n[t];return Wr(i.promise),i.reject("canceled"),r(t),!0},i}]}function er(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,r){return function(i,o){return function(s,a,l,c){var u=arguments.length>4,h=u?fe(arguments,4):[],d=0,f=j(c)&&!c,p=(f?n:t).defer(),m=p.promise;function g(){u?s.apply(null,h):s(d)}return l=j(l)?l:0,m.$$intervalId=i((function(){f?e.defer(g):r.$evalAsync(g),p.notify(d++),l>0&&d>=l&&(p.resolve(d),o(m.$$intervalId)),f||r.$apply()}),a,p,f),m}}}]}var tr=function(){this.$get=function(){var e=w.callbacks,t={};return{createCallback:function(n){var r="_"+(e.$$counter++).toString(36),i="angular.callbacks."+r,o=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(r);return t[i]=e[r]=o,i},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var r=t[n];delete e[r.id],delete t[n]}}}},nr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,rr={http:80,https:443,ftp:21},ir=o("$location");function or(e,t,n){var r,i=(r=[],S(t,(function(e,t){q(e)?S(e,(function(e){r.push(Te(t,!0)+(!0===e?"":"="+Te(e,!0)))})):r.push(Te(t,!0)+(!0===e?"":"="+Te(e,!0)))})),r.length?r.join("&"):""),o=n?"#"+ke(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ke(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(i?"?"+i:"")+o}function sr(e,t){var n=fi(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=$(n.port)||rr[n.protocol]||null}var ar=/^\s*[\\/]{2,}/;function lr(e,t,n){if(ar.test(e))throw ir("badpath",'Invalid url "{0}".',e);var r="/"!==e.charAt(0);r&&(e="/"+e);var i=fi(e),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;t.$$path=function(e,t){for(var n=e.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),t&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(o,n),t.$$search=Se(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function cr(e,t){return e.slice(0,t.length)===t}function ur(e,t){if(cr(t,e))return t.substr(e.length)}function hr(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function dr(e,t,n){this.$$html5=!0,n=n||"",sr(e,this),this.$$parse=function(e){var n=ur(t,e);if(!U(n))throw ir("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);lr(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(j(o=ur(e,r))?(s=o,a=n&&j(o=ur(n,o))?t+(ur("/",o)||o):e+s):j(o=ur(t,r))?a=t+o:t===r+"/"&&(a=t),a&&this.$$parse(a),!!a);var o,s,a}}function fr(e,t,n){sr(e,this),this.$$parse=function(r){var i,o=ur(e,r)||ur(t,r);Y(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",Y(o)&&(e=r,this.replace())):Y(i=ur(n,o))&&(i=o),lr(i,this,!1),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;cr(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(r=i.exec(e))?r[1]:e}(this.$$path,i,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return hr(e)===hr(t)&&(this.$$parse(t),!0)}}function pr(e,t,n){this.$$html5=!0,fr.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e===hr(r)?o=r:(s=ur(t,r))?o=e+n+s:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,s},this.$$normalizeUrl=function(t){return e+n+t}}var mr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=or(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:gr("$$absUrl"),url:function(e){if(Y(e))return this.$$url;var t=nr.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:gr("$$protocol"),host:gr("$$host"),port:gr("$$port"),path:_r("$$path",(function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(U(e)||W(e))e=e.toString(),this.$$search=Se(e);else{if(!H(e))throw ir("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");S(e=ae(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:Y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:_r("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function gr(e){return function(){return this[e]}}function _r(e,t){return function(n){return Y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function yr(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return j(t)?(e=t,this):e},this.html5Mode=function(e){return Z(e)?(t.enabled=e,this):H(e)?(Z(e.enabled)&&(t.enabled=e.enabled),Z(e.requireBase)&&(t.requireBase=e.requireBase),(Z(e.rewriteLinks)||U(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){var l,c,u,h,d=r.baseHref(),f=r.url();if(t.enabled){if(!d&&t.requireBase)throw ir("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=(h=f).substring(0,h.indexOf("/",h.indexOf("//")+2))+(d||"/"),c=i.history?dr:pr}else u=hr(f),c=fr;var p=function(e){return e.substr(0,hr(e).lastIndexOf("/")+1)}(u);(l=new c(u,p,"#"+e)).$$parseLinkUrl(f,f),l.$$state=r.state();var m=/^\s*(javascript|mailto):/i;function g(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(e){throw l.url(i),l.$$state=o,e}}o.on("click",(function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=a(e.target);"a"!==ie(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!U(i)||!Y(s.attr(i))){var c=s.prop("href"),u=s.attr("href")||s.attr("xlink:href");H(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=fi(c.animVal).href),m.test(c)||!c||s.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(e.preventDefault(),l.absUrl()!==r.url()&&n.$apply())}}})),l.absUrl()!==f&&r.url(l.absUrl(),!0);var _=!0;return r.onUrlChange((function(e,t){cr(e,p)?(n.$evalAsync((function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,g(i,!1,o)):(_=!1,y(i,o)))})),n.$$phase||n.$digest()):s.location.href=e})),n.$watch((function(){if(_||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=r.url(),t=l.absUrl(),o=r.state(),s=l.$$replace,a=!((c=e)===(u=t)||fi(c).href===fi(u).href)||l.$$html5&&i.history&&o!==l.$$state;(_||a)&&(_=!1,n.$evalAsync((function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(a&&g(t,s,o===l.$$state?null:l.$$state),y(e,o)))})))}var c,u;l.$$replace=!1})),l;function y(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}}]}function br(){var e=!0,t=this;this.debugEnabled=function(t){return j(t)?(e=t,this):e},this.$get=["$window",function(n){var r,i=s||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(r=o("debug"),function(){e&&r.apply(t,arguments)})};function o(e){var t=n.console||{},r=t[e]||t.log||O;return function(){var e=[];return S(arguments,(function(t){e.push(function(e){return B(e)&&(e.stack&&i?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}(t))})),Function.prototype.apply.call(r,t,e)}}}]}S([pr,fr,dr],(function(e){e.prototype=Object.create(mr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==dr||!this.$$html5)throw ir("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=Y(t)?null:t,this.$$urlUpdatedByLocation=!0,this}}));var vr=o("$parse"),wr={}.constructor.prototype.valueOf;function xr(e){return e+""}var Mr=He();S("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){Mr[e]=!0}));var Sr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},kr=function(e){this.options=e};kr.prototype={constructor:kr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Mr[t],o=Mr[n],s=Mr[r];if(i||o||s){var a=s?r:o?n:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=j(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw vr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=f(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{n+=Sr[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Tr=function(e,t){this.lexer=e,this.options=t};function Lr(e,t){return void 0!==e?e:t}function Cr(e,t){return void 0===e?t:void 0===t?e:e+t}Tr.Program="Program",Tr.ExpressionStatement="ExpressionStatement",Tr.AssignmentExpression="AssignmentExpression",Tr.ConditionalExpression="ConditionalExpression",Tr.LogicalExpression="LogicalExpression",Tr.BinaryExpression="BinaryExpression",Tr.UnaryExpression="UnaryExpression",Tr.CallExpression="CallExpression",Tr.MemberExpression="MemberExpression",Tr.Identifier="Identifier",Tr.Literal="Literal",Tr.ArrayExpression="ArrayExpression",Tr.Property="Property",Tr.ObjectExpression="ObjectExpression",Tr.ThisExpression="ThisExpression",Tr.LocalsExpression="LocalsExpression",Tr.NGValueParameter="NGValueParameter",Tr.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Tr.Program,body:e}},expressionStatement:function(){return{type:Tr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!$r(e))throw vr("lval","Trying to assign a value to a non l-value");e={type:Tr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Tr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Tr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Tr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Tr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Tr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Tr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Tr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Tr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=ae(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Tr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:Tr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Tr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Tr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Tr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Tr.Identifier,name:e.text}},constant:function(){return{type:Tr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Tr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Tr.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Tr.ObjectExpression,properties:t}},throwError:function(e,t){throw vr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw vr("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw vr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],s=o.text;if(s===t||s===n||s===r||s===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Tr.ThisExpression},$locals:{type:Tr.LocalsExpression}}};var Er=2;function Dr(e,t,n){var r,i,o,s=e.isPure=function(e,t){switch(e.type){case Tr.MemberExpression:if(e.computed)return!1;break;case Tr.UnaryExpression:return 1;case Tr.BinaryExpression:return"+"!==e.operator&&1;case Tr.CallExpression:return!1}return void 0===t?Er:t}(e,n);switch(e.type){case Tr.Program:r=!0,S(e.body,(function(e){Dr(e.expression,t,s),r=r&&e.expression.constant})),e.constant=r;break;case Tr.Literal:e.constant=!0,e.toWatch=[];break;case Tr.UnaryExpression:Dr(e.argument,t,s),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Tr.BinaryExpression:Dr(e.left,t,s),Dr(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Tr.LogicalExpression:Dr(e.left,t,s),Dr(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Tr.ConditionalExpression:Dr(e.test,t,s),Dr(e.alternate,t,s),Dr(e.consequent,t,s),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Tr.Identifier:e.constant=!1,e.toWatch=[e];break;case Tr.MemberExpression:Dr(e.object,t,s),e.computed&&Dr(e.property,t,s),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Tr.CallExpression:o=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),r=o,i=[],S(e.arguments,(function(e){Dr(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=r,e.toWatch=o?i:[e];break;case Tr.AssignmentExpression:Dr(e.left,t,s),Dr(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Tr.ArrayExpression:r=!0,i=[],S(e.elements,(function(e){Dr(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=r,e.toWatch=i;break;case Tr.ObjectExpression:r=!0,i=[],S(e.properties,(function(e){Dr(e.value,t,s),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(Dr(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))})),e.constant=r,e.toWatch=i;break;case Tr.ThisExpression:case Tr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Ar(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function $r(e){return e.type===Tr.Identifier||e.type===Tr.MemberExpression}function Pr(e){if(1===e.body.length&&$r(e.body[0].expression))return{type:Tr.AssignmentExpression,left:e.body[0].expression,right:{type:Tr.NGValueParameter},operator:"="}}function Rr(e){this.$filter=e}function Or(e){this.$filter=e}function Ir(e,t,n){this.ast=new Tr(e,n),this.astCompiler=n.csp?new Or(t):new Rr(t)}function Fr(e){return V(e.valueOf)?e.valueOf():wr.call(e)}function Nr(){var e,t,n=He(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){var o={csp:ue().noUnsafeEval,literals:ae(r),isIdentifierStart:V(e)&&e,isIdentifierContinue:V(t)&&t};return s.$$getAst=function(e){return new Ir(new kr(o),i,o).getAst(e).ast},s;function s(e,t){var r,s;switch(typeof e){case"string":if(e=e.trim(),!(r=n[s=e]))r=new Ir(new kr(o),i,o).parse(e),n[s]=d(r);return f(r,t);case"function":return f(e,t);default:return f(O,t)}}function a(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Fr(e))&&!n)&&(e===t||e!=e&&t!=t)}function l(e,t,n,r,i){var o,s=r.inputs;if(1===s.length){var l=a;return s=s[0],e.$watch((function(e){var t=s(e);return a(t,l,s.isPure)||(o=r(e,void 0,void 0,[t]),l=t&&Fr(t)),o}),t,n,i)}for(var c=[],u=[],h=0,d=s.length;h<d;h++)c[h]=a,u[h]=null;return e.$watch((function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var l=s[n](e);(t||(t=!a(l,c[n],s[n].isPure)))&&(u[n]=l,c[n]=l&&Fr(l))}return t&&(o=r(e,void 0,void 0,u)),o}),t,n,i)}function c(e,t,n,r,i){var o,s,a=r.literal?u:j,l=r.$$intercepted||r,c=r.$$interceptor||I,h=r.inputs&&!l.inputs;return p.literal=r.literal,p.constant=r.constant,p.inputs=r.inputs,d(p),o=e.$watch(p,t,n,i);function f(){a(s)&&o()}function p(e,t,n,r){return s=h&&r?r[0]:l(e,t,n,r),a(s)&&e.$$postDigest(f),c(s)}}function u(e){var t=!0;return S(e,(function(e){j(e)||(t=!1)})),t}function h(e,t,n,r){var i=e.$watch((function(e){return i(),r(e)}),t,n);return i}function d(e){return e.constant?e.$$watchDelegate=h:e.oneTime?e.$$watchDelegate=c:e.inputs&&(e.$$watchDelegate=l),e}function f(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}(e.$$interceptor,t),e=e.$$intercepted);var n=!1,r=function(r,i,o,s){var a=n&&s?s[0]:e(r,i,o,s);return t(a)};return r.$$intercepted=e,r.$$interceptor=t,r.literal=e.literal,r.oneTime=e.oneTime,r.constant=e.constant,t.$stateful||(n=!e.inputs,r.inputs=e.inputs?e.inputs:[e],t.$$pure||(r.inputs=r.inputs.map((function(e){return e.isPure===Er?function(t){return e(t)}:e})))),d(r)}}]}function Yr(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Hr((function(e){t.$evalAsync(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return j(t)?(e=t,this):e}}function jr(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Hr((function(e){t.defer(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return j(t)?(e=t,this):e}}function Hr(e,t,n){var r=o("$q",TypeError),i=0,s=[];function a(){return new l}function l(){var e=this.promise=new c;this.resolve=function(t){d(e,t)},this.reject=function(t){p(e,t)},this.notify=function(t){g(e,t)}}function c(){this.$$state={status:0}}function u(){for(;!i&&s.length;){var e=s.shift();if(!zr(e)){Ur(e);var n="Possibly unhandled rejection: "+Ge(e.value);B(e.value)?t(e.value,n):t(n)}}}function h(r){!n||r.pending||2!==r.status||zr(r)||(0===i&&0===s.length&&e(u),s.push(r)),!r.processScheduled&&r.pending&&(r.processScheduled=!0,++i,e((function(){!function(r){var o,s,a;a=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var l=0,c=a.length;l<c;++l){Ur(r),s=a[l][0],o=a[l][r.status];try{V(o)?d(s,o(r.value)):1===r.status?d(s,r.value):p(s,r.value)}catch(e){p(s,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--i,n&&0===i&&e(u)}}(r)})))}function d(e,t){e.$$state.status||(t===e?m(e,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):f(e,t))}function f(e,t){var n,r=!1;try{(H(t)||V(t))&&(n=t.then),V(n)?(e.$$state.status=-1,n.call(t,(function(t){if(r)return;r=!0,f(e,t)}),i,(function(t){g(e,t)}))):(e.$$state.value=t,e.$$state.status=1,h(e.$$state))}catch(e){i(e)}function i(t){r||(r=!0,m(e,t))}}function p(e,t){e.$$state.status||m(e,t)}function m(e,t){e.$$state.value=t,e.$$state.status=2,h(e.$$state)}function g(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&e((function(){for(var e,n,o=0,s=i.length;o<s;o++){n=i[o][0],e=i[o][3];try{g(n,V(e)?e(r):r)}catch(e){t(e)}}}))}function _(e){var t=new c;return p(t,e),t}function y(e,t,n){var r=null;try{V(n)&&(r=n())}catch(e){return _(e)}return Q(r)?r.then((function(){return t(e)}),_):t(e)}function b(e,t,n,r){var i=new c;return d(i,e),i.then(t,n,r)}D(c.prototype,{then:function(e,t,n){if(Y(e)&&Y(t)&&Y(n))return this;var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&h(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return y(t,v,e)}),(function(t){return y(t,_,e)}),t)}});var v=b;function w(e){if(!V(e))throw r("norslvr","Expected resolverFn, got '{0}'",e);var t=new c;return e((function(e){d(t,e)}),(function(e){p(t,e)})),t}return w.prototype=c.prototype,w.defer=a,w.reject=_,w.when=b,w.resolve=v,w.all=function(e){var t=new c,n=0,r=q(e)?[]:{};return S(e,(function(e,i){n++,b(e).then((function(e){r[i]=e,--n||d(t,r)}),(function(e){p(t,e)}))})),0===n&&d(t,r),t},w.race=function(e){var t=a();return S(e,(function(e){b(e).then(t.resolve,t.reject)})),t.promise},w}function zr(e){return!!e.pur}function Ur(e){e.pur=!0}function Wr(e){e.$$state&&Ur(e.$$state)}function Gr(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function qr(){var e=10,t=o("$rootScope"),n=null,r=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(i,o,a){function l(e){e.currentScope.$$destroyed=!0}function c(e){9===s&&(e.$$childHead&&c(e.$$childHead),e.$$nextSibling&&c(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function u(){this.$id=L(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}u.prototype={constructor:u,$new:function(e,t){var n;return t=t||this,e?(n=new u).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=L(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",l),n},$watch:function(e,t,r,i){var s=o(e),a=V(t)?t:O;if(s.$$watchDelegate)return s.$$watchDelegate(this,a,r,s,e);var l=this,c=l.$$watchers,u={fn:a,last:w,get:s,exp:i||e,eq:!!r};return n=null,c||((c=l.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(u),c.$$digestWatchIndex++,b(this,1),function(){var e=se(c,u);e>=0&&(b(l,-1),e<c.$$digestWatchIndex&&c.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),r=new Array(e.length),i=[],o=this,s=!1,a=!0;if(!e.length){var l=!0;return o.$evalAsync((function(){l&&t(r,r,o)})),function(){l=!1}}if(1===e.length)return this.$watch(e[0],(function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)}));function c(){s=!1;try{a?(a=!1,t(r,r,o)):t(r,n,o)}finally{for(var i=0;i<e.length;i++)n[i]=r[i]}}return S(e,(function(e,t){var n=o.$watch(e,(function(e){r[t]=e,s||(s=!0,o.$evalAsync(c))}));i.push(n)})),function(){for(;i.length;)i.shift()()}},$watchCollection:function(e,t){m.$$pure=o(e).literal,m.$stateful=!m.$$pure;var n,r,i,s=this,a=t.length>1,l=0,c=o(e,m),u=[],h={},f=!0,p=0;function m(e){var t,i,o,s;if(!Y(n=e)){if(H(n))if(M(n)){r!==u&&(p=(r=u).length=0,l++),t=n.length,p!==t&&(l++,r.length=p=t);for(var a=0;a<t;a++)s=r[a],o=n[a],s!=s&&o!=o||s===o||(l++,r[a]=o)}else{for(i in r!==h&&(r=h={},p=0,l++),t=0,n)d.call(n,i)&&(t++,o=n[i],s=r[i],i in r?s!=s&&o!=o||s===o||(l++,r[i]=o):(p++,r[i]=o,l++));if(p>t)for(i in l++,r)d.call(n,i)||(p--,delete r[i])}else r!==n&&(r=n,l++);return l}}return this.$watch(c,(function(){if(f?(f=!1,t(n,n,s)):t(n,i,s),a)if(H(n))if(M(n)){i=new Array(n.length);for(var e=0;e<n.length;e++)i[e]=n[e]}else for(var r in i={},n)d.call(n,r)&&(i[r]=n[r]);else i=n}))},$digest:function(){var o,s,l,c,u,d,m,b,v,M=e,S=f.length?h:this,k=[];_("$digest"),a.$$checkUrlChange(),this===h&&null!==r&&(a.defer.cancel(r),x()),n=null;do{u=!1,m=S;for(var T=0;T<f.length;T++){try{(0,(v=f[T]).fn)(v.scope,v.locals)}catch(e){i(e)}n=null}f.length=0;e:do{if(c=!m.$$suspended&&m.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(o=c[c.$$digestWatchIndex])if((s=(0,o.get)(m))===(l=o.last)||(o.eq?ce(s,l):P(s)&&P(l))){if(o===n){u=!1;break e}}else u=!0,n=o,o.last=o.eq?ae(s,null):s,(0,o.fn)(s,l===w?s:l,m),M<5&&(k[b=4-M]||(k[b]=[]),k[b].push({msg:V(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:s,oldVal:l}))}catch(e){i(e)}if(!(d=!m.$$suspended&&m.$$watchersCount&&m.$$childHead||m!==S&&m.$$nextSibling))for(;m!==S&&!(d=m.$$nextSibling);)m=m.$parent}while(m=d);if((u||f.length)&&!M--)throw y(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,k)}while(u||f.length);for(y();g<p.length;)try{p[g++]()}catch(e){i(e)}p.length=g=0,a.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===h&&a.$$applicationDestroyed(),b(this,-this.$$watchersCount),this.$$listenerCount)v(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=O,this.$on=this.$watch=this.$watchGroup=function(){return O},this.$$listeners={},this.$$nextSibling=null,c(this)}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e,t){h.$$phase||f.length||a.defer((function(){f.length&&h.$digest()}),null,"$evalAsync"),f.push({scope:this,fn:o(e),locals:t})},$$postDigest:function(e){p.push(e)},$apply:function(e){try{_("$apply");try{return this.$eval(e)}finally{y()}}catch(e){i(e)}finally{try{h.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){var t=this;e&&m.push((function(){t.$eval(e)})),e=o(e),null===r&&(r=a.defer((function(){h.$apply(x)}),null,"$applyAsync"))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(delete n[r],v(i,1,e))}},$emit:function(e,t){var n,r,o,s=[],a=this,l=!1,c={name:e,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=de([c],arguments,1);do{for(n=a.$$listeners[e]||s,c.currentScope=a,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,u)}catch(e){i(e)}else n.splice(r,1),r--,o--;if(l)break;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,o=n,s={name:e,targetScope:n,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return s;for(var a,l,c,u=de([s],arguments,1);r=o;){for(s.currentScope=r,l=0,c=(a=r.$$listeners[e]||[]).length;l<c;l++)if(a[l])try{a[l].apply(null,u)}catch(e){i(e)}else a.splice(l,1),l--,c--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(o=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var h=new u,f=h.$$asyncQueue=[],p=h.$$postDigestQueue=[],m=h.$$applyAsyncQueue=[],g=0;return h;function _(e){if(h.$$phase)throw t("inprog","{0} already in progress",h.$$phase);h.$$phase=e}function y(){h.$$phase=null}function b(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function v(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function w(){}function x(){for(;m.length;)try{m.shift()()}catch(e){i(e)}r=null}}]}function Br(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return j(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return j(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i=r?t:e,o=fi(n&&n.trim()).href;return""===o||o.match(i)?n:"unsafe:"+o}}}Rr.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Dr(e,t.$filter);var n,r="";if(this.stage="assign",n=Pr(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Ar(e.body);t.stage="inputs",S(o,(function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:r,isPure:e.isPure}),e.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,xr,Lr,Cr);return this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return S(t,(function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")})),t.length&&e.push("fn.inputs=["+t.map((function(e){return e.name})).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return S(this.state.filters,(function(n,r){e.push(n+"=$filter("+t.escape(r)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var s,a,l,c,u,h=this;if(r=r||O,!o&&j(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case Tr.Program:S(e.body,(function(t,n){h.recurse(t.expression,void 0,void 0,(function(e){a=e})),n!==e.body.length-1?h.current().body.push(a,";"):h.return_(a)}));break;case Tr.Literal:c=this.escape(e.value),this.assign(t,c),r(t||c);break;case Tr.UnaryExpression:this.recurse(e.argument,void 0,void 0,(function(e){a=e})),c=e.operator+"("+this.ifDefined(a,0)+")",this.assign(t,c),r(c);break;case Tr.BinaryExpression:this.recurse(e.left,void 0,void 0,(function(e){s=e})),this.recurse(e.right,void 0,void 0,(function(e){a=e})),c="+"===e.operator?this.plus(s,a):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(a,0):"("+s+")"+e.operator+"("+a+")",this.assign(t,c),r(c);break;case Tr.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),r(t);break;case Tr.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),r(t);break;case Tr.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),(function(){h.if_("inputs"===h.stage||"s",(function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))}))}),t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),r(t);break;case Tr.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,(function(){h.if_(h.notNull(s),(function(){e.computed?(a=h.nextId(),h.recurse(e.property,a),h.getStringValue(a),i&&1!==i&&h.if_(h.not(h.computedMember(s,a)),h.lazyAssign(h.computedMember(s,a),"{}")),c=h.computedMember(s,a),h.assign(t,c),n&&(n.computed=!0,n.name=a)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),c=h.nonComputedMember(s,e.property.name),h.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))}),(function(){h.assign(t,"undefined")})),r(t)}),!!i);break;case Tr.CallExpression:t=t||this.nextId(),e.filter?(a=h.filter(e.callee.name),l=[],S(e.arguments,(function(e){var t=h.nextId();h.recurse(e,t),l.push(t)})),c=a+"("+l.join(",")+")",h.assign(t,c),r(t)):(a=h.nextId(),s={},l=[],h.recurse(e.callee,a,s,(function(){h.if_(h.notNull(a),(function(){S(e.arguments,(function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,(function(e){l.push(e)}))})),c=s.name?h.member(s.context,s.name,s.computed)+"("+l.join(",")+")":a+"("+l.join(",")+")",h.assign(t,c)}),(function(){h.assign(t,"undefined")})),r(t)})));break;case Tr.AssignmentExpression:a=this.nextId(),s={},this.recurse(e.left,void 0,s,(function(){h.if_(h.notNull(s.context),(function(){h.recurse(e.right,a),c=h.member(s.context,s.name,s.computed)+e.operator+a,h.assign(t,c),r(t||c)}))}),1);break;case Tr.ArrayExpression:l=[],S(e.elements,(function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,(function(e){l.push(e)}))})),c="["+l.join(",")+"]",this.assign(t,c),r(t||c);break;case Tr.ObjectExpression:l=[],u=!1,S(e.properties,(function(e){e.computed&&(u=!0)})),u?(t=t||this.nextId(),this.assign(t,"{}"),S(e.properties,(function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===Tr.Identifier?e.key.name:""+e.key.value,a=h.nextId(),h.recurse(e.value,a),h.assign(h.member(t,s,e.computed),a)}))):(S(e.properties,(function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,(function(e){l.push(h.escape(t.key.type===Tr.Identifier?t.key.name:""+t.key.value)+":"+e)}))})),c="{"+l.join(",")+"}",this.assign(t,c)),r(t||c);break;case Tr.ThisExpression:this.assign(t,"s"),r(t||"s");break;case Tr.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case Tr.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var s=this;return function(){s.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(U(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(W(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw vr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Or.prototype={compile:function(e){var t,n,r=this;Dr(e,r.$filter),(t=Pr(e))&&(n=this.recurse(t));var i,o=Ar(e.body);o&&(i=[],S(o,(function(e,t){var n=r.recurse(e);n.isPure=e.isPure,e.input=n,i.push(n),e.watchId=t})));var s=[];S(e.body,(function(e){s.push(r.recurse(e.expression))}));var a=0===e.body.length?O:1===e.body.length?s[0]:function(e,t){var n;return S(s,(function(r){n=r(e,t)})),n};return n&&(a.assign=function(e,t,r){return n(e,r,t)}),i&&(a.inputs=i),a},recurse:function(e,t,n){var r,i,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Tr.Literal:return this.value(e.value,t);case Tr.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case Tr.BinaryExpression:case Tr.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case Tr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Tr.Identifier:return s.identifier(e.name,t,n);case Tr.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case Tr.CallExpression:return o=[],S(e.arguments,(function(e){o.push(s.recurse(e))})),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,s){for(var a=[],l=0;l<o.length;++l)a.push(o[l](e,n,r,s));var c=i.apply(void 0,a,s);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,r,s){var a,l=i(e,n,r,s);if(null!=l.value){for(var c=[],u=0;u<o.length;++u)c.push(o[u](e,n,r,s));a=l.value.apply(l.context,c)}return t?{value:a}:a};case Tr.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,s){var a=r(e,n,o,s),l=i(e,n,o,s);return a.context[a.name]=l,t?{value:l}:l};case Tr.ArrayExpression:return o=[],S(e.elements,(function(e){o.push(s.recurse(e))})),function(e,n,r,i){for(var s=[],a=0;a<o.length;++a)s.push(o[a](e,n,r,i));return t?{value:s}:s};case Tr.ObjectExpression:return o=[],S(e.properties,(function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===Tr.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})})),function(e,n,r,i){for(var s={},a=0;a<o.length;++a)o[a].computed?s[o[a].key(e,n,r,i)]=o[a].value(e,n,r,i):s[o[a].key]=o[a].value(e,n,r,i);return t?{value:s}:s};case Tr.ThisExpression:return function(e){return t?{value:e}:e};case Tr.LocalsExpression:return function(e,n){return t?{value:n}:n};case Tr.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=j(s)?+s:0,t?{value:s}:s}},"unary-":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=j(s)?-s:-0,t?{value:s}:s}},"unary!":function(e,t){return function(n,r,i,o){var s=!e(n,r,i,o);return t?{value:s}:s}},"binary+":function(e,t,n){return function(r,i,o,s){var a=Cr(e(r,i,o,s),t(r,i,o,s));return n?{value:a}:a}},"binary-":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),l=t(r,i,o,s),c=(j(a)?a:0)-(j(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)*t(r,i,o,s);return n?{value:a}:a}},"binary/":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)/t(r,i,o,s);return n?{value:a}:a}},"binary%":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)%t(r,i,o,s);return n?{value:a}:a}},"binary===":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)===t(r,i,o,s);return n?{value:a}:a}},"binary!==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!==t(r,i,o,s);return n?{value:a}:a}},"binary==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)==t(r,i,o,s);return n?{value:a}:a}},"binary!=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!=t(r,i,o,s);return n?{value:a}:a}},"binary<":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<t(r,i,o,s);return n?{value:a}:a}},"binary>":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>t(r,i,o,s);return n?{value:a}:a}},"binary<=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<=t(r,i,o,s);return n?{value:a}:a}},"binary>=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>=t(r,i,o,s);return n?{value:a}:a}},"binary&&":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)&&t(r,i,o,s);return n?{value:a}:a}},"binary||":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)||t(r,i,o,s);return n?{value:a}:a}},"ternary?:":function(e,t,n,r){return function(i,o,s,a){var l=e(i,o,s,a)?t(i,o,s,a):n(i,o,s,a);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,s){var a=i&&e in i?i:r;n&&1!==n&&a&&null==a[e]&&(a[e]={});var l=a?a[e]:void 0;return t?{context:a,name:e,value:l}:l}},computedMember:function(e,t,n,r){return function(i,o,s,a){var l,c,u=e(i,o,s,a);return null!=u&&(l=xr(l=t(i,o,s,a)),r&&1!==r&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,r){return function(i,o,s,a){var l=e(i,o,s,a);r&&1!==r&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},Ir.prototype={constructor:Ir,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Tr.Literal||e.body[0].expression.type===Tr.ArrayExpression||e.body[0].expression.type===Tr.ObjectExpression)}(t.ast),n.constant=function(e){return e.constant}(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Vr=o("$sce"),Xr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Kr=/_([a-z])/g;function Jr(e){return e.replace(Kr,Qe)}function Zr(e){var t=[];return j(e)&&S(e,(function(e){t.push(function(e){if("self"===e)return e;if(U(e)){if(e.indexOf("***")>-1)throw Vr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ne(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(X(e))return new RegExp("^"+e.source+"$");throw Vr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Qr(){this.SCE_CONTEXTS=Xr;var t=["self"],n=[];this.trustedResourceUrlList=function(e){return arguments.length&&(t=Zr(e)),t},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(n=Zr(e)),n},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(r,i){var o=function(e){throw Vr("unsafe","Attempting to use an unsafe value in a safe context.")};function s(t,n){return"self"===t?pi(n,hi)||function(t){return pi(t,function(){if(e.document.baseURI)return e.document.baseURI;ci||((ci=e.document.createElement("a")).href=".",ci=ci.cloneNode(!1));return ci.href}())}(n):!!t.exec(n.href)}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}r.has("$sanitize")&&(o=r.get("$sanitize"));var l=a(),c={};return c[Xr.HTML]=a(l),c[Xr.CSS]=a(l),c[Xr.MEDIA_URL]=a(l),c[Xr.URL]=a(c[Xr.MEDIA_URL]),c[Xr.JS]=a(l),c[Xr.RESOURCE_URL]=a(c[Xr.URL]),{trustAs:function(e,t){var n=c.hasOwnProperty(e)?c[e]:null;if(!n)throw Vr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||Y(t)||""===t)return t;if("string"!=typeof t)throw Vr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,r){if(null===r||Y(r)||""===r)return r;var a=c.hasOwnProperty(e)?c[e]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(V(r.$$unwrapTrustedValue)&&(r=r.$$unwrapTrustedValue()),e===Xr.MEDIA_URL||e===Xr.URL)return i(r.toString(),e===Xr.MEDIA_URL);if(e===Xr.RESOURCE_URL){if(function(e){var r,i,o=fi(e.toString()),a=!1;for(r=0,i=t.length;r<i;r++)if(s(t[r],o)){a=!0;break}if(a)for(r=0,i=n.length;r<i;r++)if(s(n[r],o)){a=!1;break}return a}(r))return r;throw Vr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",r.toString())}if(e===Xr.HTML)return o(r);throw Vr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function ei(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&s<8)throw Vr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=We(Xr);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=I),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,(function(t){return r.getTrusted(e,t)}))};var i=r.parseAs,o=r.getTrusted,a=r.trustAs;return S(Xr,(function(e,t){var n=f(t);r[Jr("parse_as_"+n)]=function(t){return i(e,t)},r[Jr("get_trusted_"+n)]=function(t){return o(e,t)},r[Jr("trust_as_"+n)]=function(t){return a(e,t)}})),r}]}function ti(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=$((/android (\d+)/.exec(f((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},l=a.body&&a.body.style,c=!1,u=!1;return l&&(c=!(!("transition"in l)&&!("webkitTransition"in l)),u=!(!("animation"in l)&&!("webkitAnimation"in l))),{history:!(!r||i<4||o),hasEvent:function(e){if("input"===e&&s)return!1;if(Y(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:ue(),transitions:c,animations:u,android:i}}]}function ni(){this.$get=F((function(e){return new ri(e)}))}function ri(e){var t=this,n={},r=[],i=t.ALL_TASKS_TYPE="$$all$$",o=t.DEFAULT_TASK_TYPE="$$default$$";function s(){var e=r.pop();return e&&e.cb}function a(e){for(var t=r.length-1;t>=0;--t){var n=r[t];if(n.type===e)return r.splice(t,1),n.cb}}t.completeTask=function(t,r){r=r||o;try{t()}finally{!function(e){e=e||o,n[e]&&(n[e]--,n[i]--)}(r);var l=n[r],c=n[i];if(!c||!l)for(var u,h=c?a:s;u=h(r);)try{u()}catch(t){e.error(t)}}},t.incTaskCount=function(e){n[e=e||o]=(n[e]||0)+1,n[i]=(n[i]||0)+1},t.notifyWhenNoPendingTasks=function(e,t){n[t=t||i]?r.push({type:t,cb:e}):e()}}var ii=o("$templateRequest");function oi(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function s(a,l){s.totalPendingRequests++,U(a)&&!Y(n.get(a))||(a=o.getTrustedResourceUrl(a));var c=r.defaults&&r.defaults.transformResponse;return q(c)?c=c.filter((function(e){return e!==zn})):c===zn&&(c=null),r.get(a,D({cache:n,transformResponse:c},e)).finally((function(){s.totalPendingRequests--})).then((function(e){return n.put(a,e.data)}),(function(e){l||(e=ii("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText),t(e));return i.reject(e)}))}return s.totalPendingRequests=0,s}]}function si(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={findBindings:function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return S(r,(function(e){var r=w.element(e).data("$binding");r&&S(r,(function(r){n?new RegExp("(^|\\s)"+ne(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)}))})),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return r}]}var ai=o("$timeout");function li(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){var o={};function s(s,a,l){V(s)||(l=a,a=s,s=O);var c,u=fe(arguments,3),h=j(l)&&!l,d=(h?r:n).defer(),f=d.promise;return c=t.defer((function(){try{d.resolve(s.apply(null,u))}catch(e){d.reject(e),i(e)}finally{delete o[f.$$timeoutId]}h||e.$apply()}),a,"$timeout"),f.$$timeoutId=c,o[c]=d,f}return s.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw ai("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!o.hasOwnProperty(e.$$timeoutId))return!1;var n=e.$$timeoutId,r=o[n];return Wr(r.promise),r.reject("canceled"),delete o[n],t.defer.cancel(n)},s}]}var ci,ui=e.document.createElement("a"),hi=fi(e.location.href);ui.href="http://[::1]";var di="[::1]"===ui.hostname;function fi(e){if(!U(e))return e;var t=e;s&&(ui.setAttribute("href",t),t=ui.href),ui.setAttribute("href",t);var n=ui.hostname;return!di&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:ui.href,protocol:ui.protocol?ui.protocol.replace(/:$/,""):"",host:ui.host,search:ui.search?ui.search.replace(/^\?/,""):"",hash:ui.hash?ui.hash.replace(/^#/,""):"",hostname:n,port:ui.port,pathname:"/"===ui.pathname.charAt(0)?ui.pathname:"/"+ui.pathname}}function pi(e,t){return e=fi(e),t=fi(t),e.protocol===t.protocol&&e.host===t.host}function mi(){this.$get=F(e)}function gi(e){var t=e[0]||{},n={},r="";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,s,a,l,c=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(c!==r)for(e=(r=c).split("; "),n={},s=0;s<e.length;s++)(a=(o=e[s]).indexOf("="))>0&&(l=i(o.substring(0,a)),Y(n[l])&&(n[l]=i(o.substring(a+1))));return n}}function _i(){this.$get=gi}function yi(e){var t="Filter";function n(r,i){if(H(r)){var o={};return S(r,(function(e,t){o[t]=n(t,e)})),o}return e.factory(r+t,i)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",ki),n("date",Fi),n("filter",bi),n("json",Ni),n("limitTo",Hi),n("lowercase",Yi),n("number",Ti),n("orderBy",Ui),n("uppercase",ji)}function bi(){return function(e,t,n,r){if(!M(e)){if(null==e)return e;throw o("filter")("notarray","Expected array but received: {0}",e)}var i,s;switch(r=r||"$",wi(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":i=function(e,t,n,r){var i,o=H(e)&&n in e;!0===t?t=ce:V(t)||(t=function(e,t){return!Y(e)&&(null===e||null===t?e===t:!(H(t)||H(e)&&!N(e))&&(e=f(""+e),t=f(""+t),-1!==e.indexOf(t)))});return i=function(i){return o&&!H(i)?vi(i,e[n],t,n,!1):vi(i,e,t,n,r)},i}(t,n,r,s);break;default:return e}return Array.prototype.filter.call(e,i)}}function vi(e,t,n,r,i,o){var s=wi(e),a=wi(t);if("string"===a&&"!"===t.charAt(0))return!vi(e,t.substring(1),n,r,i);if(q(e))return e.some((function(e){return vi(e,t,n,r,i)}));switch(s){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&vi(e[l],t,n,r,!0))return!0;return!o&&vi(e,t,n,r,!1)}if("object"===a){for(l in t){var c=t[l];if(!V(c)&&!Y(c)){var u=l===r;if(!vi(u?e:e[l],c,n,r,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function wi(e){return null===e?"null":typeof e}gi.$inject=["$document"],yi.$inject=["$provide"];var xi=22,Mi=".",Si="0";function ki(e){var t=e.NUMBER_FORMATS;return function(e,n,r){Y(n)&&(n=t.CURRENCY_SYM),Y(r)&&(r=t.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:Li(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(i,n)}}function Ti(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Li(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Li(e,t,n,r,i){if(!U(e)&&!W(e)||isNaN(e))return"";var o,s=!isFinite(e),a=!1,l=Math.abs(e)+"",c="";if(s)c="∞";else{o=function(e){var t,n,r,i,o,s=0;for((n=e.indexOf(Mi))>-1&&(e=e.replace(Mi,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===Si;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Si;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>xi&&(t=t.splice(0,xi-1),s=n-1,n=1),{d:t,e:s,i:n}}(l),function(e,t,n,r){var i=e.d,o=i.length-e.i,s=(t=Y(t)?Math.min(Math.max(n,o),r):+t)+e.i,a=i[s];if(s>0){i.splice(Math.max(e.i,s));for(var l=s;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,s=t+1),i[0]=0;for(var c=1;c<s;c++)i[c]=0}if(a>=5)if(s-1<0){for(var u=0;u>s;u--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[s-1]++;for(;o<Math.max(0,t);o++)i.push(0);var h=i.reduceRight((function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)}),0);h&&(i.unshift(h),e.i++)}(o,i,t.minFrac,t.maxFrac);var u=o.d,h=o.i,d=o.e,f=[];for(a=u.reduce((function(e,t){return e&&!t}),!0);h<0;)u.unshift(0),h++;h>0?f=u.splice(h,u.length):(f=u,u=[0]);var p=[];for(u.length>=t.lgSize&&p.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)p.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&p.unshift(u.join("")),c=p.join(n),f.length&&(c+=r+f.join("")),d&&(c+="e+"+d)}return e<0&&!a?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Ci(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=Si+e;return n&&(e=e.substr(e.length-t)),i+e}function Ei(e,t,n,r,i){return n=n||0,function(o){var s=o["get"+e]();return(n>0||s>-n)&&(s+=n),0===s&&-12===n&&(s=12),Ci(s,t,r,i)}}function Di(e,t,n){return function(r,i){var o=r["get"+e]();return i[p((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function Ai(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function $i(e){return function(t){var n,r=Ai(t.getFullYear()),i=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+r;return Ci(1+Math.round(i/6048e5),e)}}function Pi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}ki.$inject=["$locale"],Ti.$inject=["$locale"];var Ri={yyyy:Ei("FullYear",4,0,!1,!0),yy:Ei("FullYear",2,0,!0,!0),y:Ei("FullYear",1,0,!1,!0),MMMM:Di("Month"),MMM:Di("Month",!0),MM:Ei("Month",2,1),M:Ei("Month",1,1),LLLL:Di("Month",!1,!0),dd:Ei("Date",2),d:Ei("Date",1),HH:Ei("Hours",2),H:Ei("Hours",1),hh:Ei("Hours",2,-12),h:Ei("Hours",1,-12),mm:Ei("Minutes",2),m:Ei("Minutes",1),ss:Ei("Seconds",2),s:Ei("Seconds",1),sss:Ei("Milliseconds",3),EEEE:Di("Day"),EEE:Di("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Ci(Math[r>0?"floor":"ceil"](r/60),2)+Ci(Math.abs(r%60),2)},ww:$i(2),w:$i(1),G:Pi,GG:Pi,GGG:Pi,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Oi=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ii=/^-?\d+$/;function Fi(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,a="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,U(n)&&(n=Ii.test(n)?$(n):function(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,o=0,s=n[8]?r.setUTCFullYear:r.setFullYear,a=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=$(n[9]+n[10]),o=$(n[9]+n[11])),s.call(r,$(n[1]),$(n[2])-1,$(n[3]));var l=$(n[4]||0)-i,c=$(n[5]||0)-o,u=$(n[6]||0),h=Math.round(1e3*parseFloat("0."+(n[7]||0)));return a.call(r,l,c,u,h),r}return e}(n)),W(n)&&(n=new Date(n)),!G(n)||!isFinite(n.getTime()))return n;for(;r;)(s=Oi.exec(r))?r=(l=de(l,s,1)).pop():(l.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=be(i,c),n=we(n,i,!0)),S(l,(function(t){o=Ri[t],a+=o?o(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),a}}function Ni(){return function(e,t){return Y(t)&&(t=2),ge(e,t)}}Fi.$inject=["$locale"];var Yi=F(f),ji=F(p);function Hi(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):$(t),P(t)?e:(W(e)&&(e=e.toString()),M(e)?(n=(n=!n||isNaN(n)?0:$(n))<0?Math.max(0,e.length+n):n,t>=0?zi(e,n,n+t):0===n?zi(e,t,e.length):zi(e,Math.max(0,n+t),n)):e)}}function zi(e,t,n){return U(e)?e.slice(t,n):m.call(e,t,n)}function Ui(e){return function(r,i,s,a){if(null==r)return r;if(!M(r))throw o("orderBy")("notarray","Expected array but received: {0}",r);q(i)||(i=[i]),0===i.length&&(i=["+"]);var l=i.map((function(t){var n=1,r=I;if(V(t))r=t;else if(U(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t)).constant)){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})),c=s?-1:1,u=V(a)?a:n,h=Array.prototype.map.call(r,(function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:l.map((function(r){return function(e,n){var r=typeof e;null===e?r="null":"object"===r&&(e=function(e){if(V(e.valueOf)&&t(e=e.valueOf()))return e;if(N(e)&&t(e=e.toString()))return e;return e}(e));return{value:e,type:r,index:n}}(r.get(e),n)}))}}));return h.sort((function(e,t){for(var r=0,i=l.length;r<i;r++){var o=u(e.predicateValues[r],t.predicateValues[r]);if(o)return o*l[r].descending*c}return(u(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*c})),r=h.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,s=t.value;"string"===r?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===r&&(H(o)&&(o=e.index),H(s)&&(s=t.index)),o!==s&&(n=o<s?-1:1)}else n="undefined"===r?1:"undefined"===i?-1:"null"===r?1:"null"===i||r<i?-1:1;return n}}function Wi(e){return V(e)&&(e={link:e}),e.restrict=e.restrict||"AC",F(e)}Ui.$inject=["$parse"];var Gi=F({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===y.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),qi={};S(Pt,(function(e,t){if("multiple"!==e){var n=xn("ng-"+t),r=i;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&i(e,0,r)}),qi[n]=function(){return{restrict:"A",priority:100,link:r}}}function i(e,r,i){e.$watch(i[n],(function(e){i.$set(t,!!e)}))}})),S(Ot,(function(e,t){qi[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(u);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],(function(e){r.$set(t,e)}))}}}})),S(["src","srcset","href"],(function(e){var t=xn("ng-"+e);qi[t]=["$sce",function(n){return{priority:99,link:function(r,i,o){var a=e,l=e;"href"===e&&"[object SVGAnimatedString]"===y.call(i.prop("href"))&&(l="xlinkHref",o.$attr[l]="xlink:href",a=null),o.$set(t,n.getTrustedMediaUrl(o[t])),o.$observe(t,(function(t){t?(o.$set(l,t),s&&a&&i.prop(a,o[l])):"href"===e&&o.$set(l,null)}))}}}]}));var Bi={$addControl:O,$getControls:F([]),$$renameControl:function(e,t){e.$name=t},$removeControl:O,$setValidity:O,$setDirty:O,$setPristine:O,$setSubmitted:O,$$setSubmitted:O},Vi="ng-pending",Xi="ng-submitted";function Ki(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Bi,this.$$element=e,this.$$animate=r,eo(this)}Ki.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ki.prototype={$rollbackViewValue:function(){S(this.$$controls,(function(e){e.$rollbackViewValue()}))},$commitViewValue:function(){S(this.$$controls,(function(e){e.$commitViewValue()}))},$addControl:function(e){Ye(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return We(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],S(this.$pending,(function(t,n){this.$setValidity(n,null,e)}),this),S(this.$error,(function(t,n){this.$setValidity(n,null,e)}),this),S(this.$$success,(function(t,n){this.$setValidity(n,null,e)}),this),se(this.$$controls,e),e.$$parentForm=Bi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ko),this.$$animate.addClass(this.$$element,Jo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ko,Jo+" "+Xi),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,S(this.$$controls,(function(e){e.$setPristine()}))},$setUntouched:function(){S(this.$$controls,(function(e){e.$setUntouched()}))},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Bi;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Xi),this.$submitted=!0,S(this.$$controls,(function(e){e.$$setSubmitted&&e.$$setSubmitted()}))}},to({clazz:Ki,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(se(r,n),0===r.length&&delete e[t])}});var Ji=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Ki,compile:function(n,i){n.addClass(Ko).addClass(Vo);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,s){var a=s[0];if(!("action"in i)){var l=function(t){e.$apply((function(){a.$commitViewValue(),a.$setSubmitted()})),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",(function(){t((function(){n[0].removeEventListener("submit",l)}),0,!1)}))}(s[1]||a.$$parentForm).$addControl(a);var c=o?r(a.$name):O;o&&(c(e,a),i.$observe(o,(function(t){a.$name!==t&&(c(e,void 0),a.$$parentForm.$$renameControl(a,t),(c=r(a.$name))(e,a))}))),n.on("$destroy",(function(){a.$$parentForm.$removeControl(a),c(e,void 0),D(a,Bi)}))}}}};function r(e){return""===e?n('this[""]').assign:n(e).assign||O}}]},Zi=Ji(),Qi=Ji(!0);function eo(e){e.$$classCache={},e.$$classCache[Xo]=!(e.$$classCache[Vo]=e.$$element.hasClass(Vo))}function to(e){var t=e.clazz,n=e.set,r=e.unset;function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,n){t=t?"-"+Re(t,"-"):"",i(e,Vo+t,!0===n),i(e,Xo+t,!1===n)}t.prototype.$setValidity=function(e,t,s){var a;Y(t)?function(e,t,r,i){e[t]||(e[t]={});n(e[t],r,i)}(this,"$pending",e,s):function(e,t,n,i){e[t]&&r(e[t],n,i);no(e[t])&&(e[t]=void 0)}(this,"$pending",e,s),Z(t)?t?(r(this.$error,e,s),n(this.$$success,e,s)):(n(this.$error,e,s),r(this.$$success,e,s)):(r(this.$error,e,s),r(this.$$success,e,s)),this.$pending?(i(this,Vi,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(i(this,Vi,!1),this.$valid=no(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,e,a=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,a,this)}}function no(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var ro=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,io=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,oo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,so=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ao=/^(\d{4,})-(\d{2})-(\d{2})$/,lo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,co=/^(\d{4,})-W(\d\d)$/,uo=/^(\d{4,})-(\d\d)$/,ho=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fo=He();S("date,datetime-local,month,time,week".split(","),(function(e){fo[e]=!0}));var po={text:function(e,t,n,r,i,o){go(e,t,n,r,i,o),mo(r)},date:yo("date",ao,_o(ao,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":yo("datetimelocal",lo,_o(lo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:yo("time",ho,_o(ho,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:yo("week",co,(function(e,t){if(G(e))return e;if(U(e)){co.lastIndex=0;var n=co.exec(e);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,l=0,c=Ai(r),u=7*(i-1);return t&&(o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,c.getDate()+u,o,s,a,l)}}return NaN}),"yyyy-Www"),month:yo("month",uo,_o(uo,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o,s,a){var l;if(bo(e,t,n,r,"number"),vo(r),go(e,t,n,r,i,o),j(n.min)||n.ngMin){var c=n.min||a(n.ngMin)(e);l=wo(c),r.$validators.min=function(e,t){return r.$isEmpty(t)||Y(l)||t>=l},n.$observe("min",(function(e){e!==c&&(l=wo(e),c=e,r.$validate())}))}if(j(n.max)||n.ngMax){var u=n.max||a(n.ngMax)(e),h=wo(u);r.$validators.max=function(e,t){return r.$isEmpty(t)||Y(h)||t<=h},n.$observe("max",(function(e){e!==u&&(h=wo(e),u=e,r.$validate())}))}if(j(n.step)||n.ngStep){var d=n.step||a(n.ngStep)(e),f=wo(d);r.$validators.step=function(e,t){return r.$isEmpty(t)||Y(f)||So(t,l||0,f)},n.$observe("step",(function(e){e!==d&&(f=wo(e),d=e,r.$validate())}))}},url:function(e,t,n,r,i,o){go(e,t,n,r,i,o),mo(r),r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||io.test(n)}},email:function(e,t,n,r,i,o){go(e,t,n,r,i,o),mo(r),r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||oo.test(n)}},radio:function(e,t,n,r){var i=!n.ngTrim||"false"!==te(n.ngTrim);Y(n.name)&&t.attr("name",L());t.on("change",(function(e){var o;t[0].checked&&(o=n.value,i&&(o=te(o)),r.$setViewValue(o,e&&e.type))})),r.$render=function(){var e=n.value;i&&(e=te(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)},range:function(e,t,n,r,i,o){bo(e,t,n,r,"range"),vo(r),go(e,t,n,r,i,o);var s=r.$$hasNativeValidators&&"range"===t[0].type,a=s?0:void 0,l=s?100:void 0,c=s?1:void 0,u=t[0].validity,h=j(n.min),d=j(n.max),f=j(n.step),p=r.$render;r.$render=s&&j(u.rangeUnderflow)&&j(u.rangeOverflow)?function(){p(),r.$setViewValue(t.val())}:p,h&&(a=wo(n.min),r.$validators.min=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||Y(a)||t>=a},m("min",(function(e){if(a=wo(e),P(r.$modelValue))return;if(s){var n=t.val();a>n&&(n=a,t.val(n)),r.$setViewValue(n)}else r.$validate()})));d&&(l=wo(n.max),r.$validators.max=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||Y(l)||t<=l},m("max",(function(e){if(l=wo(e),P(r.$modelValue))return;if(s){var n=t.val();l<n&&(t.val(l),n=l<a?a:l),r.$setViewValue(n)}else r.$validate()})));f&&(c=wo(n.step),r.$validators.step=s?function(){return!u.stepMismatch}:function(e,t){return r.$isEmpty(t)||Y(c)||So(t,a||0,c)},m("step",(function(e){if(c=wo(e),P(r.$modelValue))return;s?r.$viewValue!==t.val()&&r.$setViewValue(t.val()):r.$validate()})));function m(e,r){t.attr(e,n[e]);var i=n[e];n.$observe(e,(function(e){e!==i&&(i=e,r(e))}))}},checkbox:function(e,t,n,r,i,o,s,a){var l=ko(a,e,"ngTrueValue",n.ngTrueValue,!0),c=ko(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",(function(e){r.$setViewValue(t[0].checked,e&&e.type)})),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push((function(e){return ce(e,l)})),r.$parsers.push((function(e){return e?l:c}))},hidden:O,button:O,submit:O,reset:O,file:O};function mo(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function go(e,t,n,r,i,o){var s,a=f(t[0].type);if(!i.android){var l=!1;t.on("compositionstart",(function(){l=!0})),t.on("compositionupdate",(function(e){(Y(e.data)||""===e.data)&&(l=!1)})),t.on("compositionend",(function(){l=!1,c()}))}var c=function(e){if(s&&(o.defer.cancel(s),s=null),!l){var i=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=te(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){s||(s=o.defer((function(){s=null,t&&t.value===n||c(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)})),i.hasEvent("paste")&&t.on("paste cut drop",u)}t.on("change",c),fo[a]&&r.$$hasNativeValidators&&a===n.type&&t.on("keydown wheel mousedown",(function(e){if(!s){var t=this[h],n=t.badInput,r=t.typeMismatch;s=o.defer((function(){s=null,t.badInput===n&&t.typeMismatch===r||c(e)}))}})),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function _o(e,t){return function(n,r){var i,o;if(G(n))return n;if(U(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ro.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n)){i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},S(i,(function(e,n){n<t.length&&(o[t[n]]=+e)}));var s=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0);return o.yyyy<100&&s.setFullYear(o.yyyy),s}}return NaN}}function yo(e,t,n,r){return function(i,o,s,a,l,c,u,h){bo(i,o,s,a,e),go(0,o,s,a,l,c);var d,f,p="time"===e||"datetimelocal"===e;if(a.$parsers.push((function(n){return a.$isEmpty(n)?null:t.test(n)?w(n,d):void(a.$$parserName=e)})),a.$formatters.push((function(e){if(e&&!G(e))throw ns("datefmt","Expected `{0}` to be a date",e);if(b(e)){d=e;var t=a.$options.getOption("timezone");return t&&(f=t,d=we(d,t,!0)),function(e,t){var n=r;p&&U(a.$options.getOption("timeSecondsFormat"))&&(n=r.replace("ss.sss",a.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=u("date")(e,n,t);p&&a.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,""));return i}(e,t)}return d=null,f=null,""})),j(s.min)||s.ngMin){var m=s.min||h(s.ngMin)(i),g=v(m);a.$validators.min=function(e){return!b(e)||Y(g)||n(e)>=g},s.$observe("min",(function(e){e!==m&&(g=v(e),m=e,a.$validate())}))}if(j(s.max)||s.ngMax){var _=s.max||h(s.ngMax)(i),y=v(_);a.$validators.max=function(e){return!b(e)||Y(y)||n(e)<=y},s.$observe("max",(function(e){e!==_&&(y=v(e),_=e,a.$validate())}))}function b(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function v(e){return j(e)&&!G(e)?w(e)||void 0:e}function w(e,t){var r=a.$options.getOption("timezone");f&&f!==r&&(t=ve(t,be(f)));var i=n(e,t);return!isNaN(i)&&r&&(i=we(i,r)),i}}}function bo(e,t,n,r,i){var o=t[0];(r.$$hasNativeValidators=H(o.validity))&&r.$parsers.push((function(e){var n=t.prop(h)||{};if(!n.badInput&&!n.typeMismatch)return e;r.$$parserName=i}))}function vo(e){e.$parsers.push((function(t){return e.$isEmpty(t)?null:so.test(t)?parseFloat(t):void(e.$$parserName="number")})),e.$formatters.push((function(t){if(!e.$isEmpty(t)){if(!W(t))throw ns("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}))}function wo(e){return j(e)&&!W(e)&&(e=parseFloat(e)),P(e)?void 0:e}function xo(e){return(0|e)===e}function Mo(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function So(e,t,n){var r=Number(e),i=!xo(r),o=!xo(t),s=!xo(n);if(i||o||s){var a=i?Mo(r):0,l=o?Mo(t):0,c=s?Mo(n):0,u=Math.max(a,l,c),h=Math.pow(10,u);r*=h,t*=h,n*=h,i&&(r=Math.round(r)),o&&(t=Math.round(t)),s&&(n=Math.round(n))}return(r-t)%n==0}function ko(e,t,n,r,i){var o;if(j(r)){if(!(o=e(r)).constant)throw ns("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}var To=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(po[f(s.type)]||po.text)(i,o,s,a[0],t,e,n,r)}}}}],Lo=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,n){if("hidden"===f(n.type))return{pre:function(t,n,r,i){var o=n[0];o.parentNode&&o.parentNode.insertBefore(o,o.nextSibling),Object.defineProperty&&Object.defineProperty(o,"value",e)}}}}},Co=/^(true|false|\d+)$/,Eo=function(){function e(e,t,n){var r=j(n)?n:9===s?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return Co.test(n.ngValue)?function(t,n,r){e(n,r,t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,(function(t){e(n,r,t)}))}}}},Do=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,(function(e){n.textContent=ze(e)}))}}}}],Ao=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",(function(e){r.textContent=Y(e)?"":e}))}}}}],$o=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),s=t(i.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,(function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")}))}}}}],Po=F({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function Ro(e,t){var n;return e="ngClass"+e,["$parse",function(s){return{restrict:"AC",link:function(a,l,c){var u,h=l.data("$classCounts"),d=!0;function f(e,t){var n=[];return S(e,(function(e){(t>0||h[e])&&(h[e]=(h[e]||0)+t,h[e]===+(t>0)&&n.push(e))})),n.join(" ")}h||(h=He(),l.data("$classCounts",h)),"ngClass"!==e&&(n||(n=s("$index",(function(e){return 1&e}))),a.$watch(n,(function(e){e===t?(n=f(i(n=u),1),c.$addClass(n)):function(e){e=f(i(e),-1),c.$removeClass(e)}(u);var n;d=e}))),a.$watch(s(c[e],o),(function(e){d===t&&function(e,t){var n=i(e),o=i(t),s=r(n,o),a=r(o,n),l=f(s,-1),u=f(a,1);c.$addClass(u),c.$removeClass(l)}(u,e);u=e}))}}}];function r(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function i(e){return e&&e.split(" ")}function o(e){if(!e)return e;var t=e;return q(e)?t=e.map(o).join(" "):H(e)?t=Object.keys(e).filter((function(t){return e[t]})).join(" "):U(e)||(t=e+""),t}}var Oo=Ro("",!0),Io=Ro("Odd",0),Fo=Ro("Even",1),No=Wi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Yo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],jo={},Ho={blur:!0,focus:!0};function zo(e,t,n,r,i,o){return{restrict:"A",compile:function(s,a){var l=e(a[r]);return function(e,r){r.on(i,(function(r){var i=function(){l(e,{$event:r})};if(t.$$phase)if(o)e.$evalAsync(i);else try{i()}catch(e){n(e)}else e.$apply(i)}))}}}}S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=xn("ng-"+e);jo[t]=["$parse","$rootScope","$exceptionHandler",function(n,r,i){return zo(n,r,i,t,e,Ho[e])}]}));var Uo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,l,c;n.$watch(i.ngIf,(function(n){n?l||s((function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),a={clone:n},e.enter(n,r.parent(),r)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=je(a.clone),e.leave(c).done((function(e){!1!==e&&(c=null)})),a=null))}))}}}],Wo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:w.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,l,c,u){var h,d,f,p=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).done((function(e){!1!==e&&(d=null)})),d=f,f=null)};r.$watch(o,(function(o){var l=function(e){!1===e||!j(a)||a&&!r.$eval(a)||t()},d=++p;o?(e(o,!0).then((function(e){if(!r.$$destroyed&&d===p){var t=r.$new();c.template=e;var a=u(t,(function(e){m(),n.enter(e,null,i).done(l)}));f=a,(h=t).$emit("$includeContentLoaded",o),r.$eval(s)}}),(function(){r.$$destroyed||d===p&&(m(),r.$emit("$includeContentError",o))})),r.$emit("$includeContentRequested",o)):(m(),c.template=null)}))}}}}],Go=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(y.call(r[0]).match(/SVG/))return r.empty(),void t(dt(o.template,e.document).childNodes)(n,(function(e){r.append(e)}),{futureParentElement:r});r.html(o.template),t(r.contents())(n)}}}],qo=Wi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Bo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,s=o?te(i):i;r.$parsers.push((function(e){if(!Y(e)){var t=[];return e&&S(e.split(s),(function(e){e&&t.push(o?te(e):e)})),t}})),r.$formatters.push((function(e){if(q(e))return e.join(i)})),r.$isEmpty=function(e){return!e||!e.length}}}},Vo="ng-valid",Xo="ng-invalid",Ko="ng-pristine",Jo="ng-dirty",Zo="ng-untouched",Qo="ng-touched",es="ng-empty",ts="ng-not-empty",ns=o("ngModel");function rs(e,t,n,r,i,o,s,a,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Bi,this.$options=is,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=s,this.$$parse=i,this.$$q=a,this.$$exceptionHandler=t,eo(this),(c=this).$$scope.$watch((function(e){var t=c.$$ngModelGet(e);return t===c.$modelValue||c.$modelValue!=c.$modelValue&&t!=t||c.$$setModelValue(t),t}))}rs.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],rs.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return V(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){V(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw ns("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,xe(this.$$element))},$render:O,$isEmpty:function(e){return Y(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,ts),this.$$animate.addClass(this.$$element,es)):(this.$$animate.removeClass(this.$$element,es),this.$$animate.addClass(this.$$element,ts))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Jo),this.$$animate.addClass(this.$$element,Ko)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ko),this.$$animate.addClass(this.$$element,Jo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Zo,Qo)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Qo,Zo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!P(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,(function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())}))}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var r,i,o=this.$$currentValidationRunId,s=this;(function(){var e=s.$$parserName;if(!Y(s.$$parserValid))return s.$$parserValid||(S(s.$validators,(function(e,t){a(t,null)})),S(s.$asyncValidators,(function(e,t){a(t,null)}))),a(e,s.$$parserValid),s.$$parserValid;a(e,null);return!0})()?!function(){var n=!0;if(S(s.$validators,(function(r,i){var o=Boolean(r(e,t));n=n&&o,a(i,o)})),!n)return S(s.$asyncValidators,(function(e,t){a(t,null)})),!1;return!0}()?l(!1):(r=[],i=!0,S(s.$asyncValidators,(function(n,o){var s=n(e,t);if(!Q(s))throw ns("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,void 0),r.push(s.then((function(){a(o,!0)}),(function(){i=!1,a(o,!1)})))})),r.length?s.$$q.all(r).then((function(){l(i)}),O):l(!0)):l(!1);function a(e,t){o===s.$$currentValidationRunId&&s.$setValidity(e,t)}function l(e){o===s.$$currentValidationRunId&&n(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!Y(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(Y(e=this.$parsers[n](e))){this.$$parserValid=!1;break}P(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){t.$modelValue!==r&&t.$$writeModelToScope()}this.$$rawModelValue=e,i&&(this.$modelValue=e,o()),this.$$runValidators(e,this.$$lastCommittedViewValue,(function(n){i||(t.$modelValue=n?e:void 0,o())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),S(this.$viewChangeListeners,(function(e){try{e()}catch(e){this.$$exceptionHandler(e)}}),this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");W(t[e])?t=t[e]:W(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:W(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,O))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},to({clazz:rs,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var is,os=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:rs,priority:1,compile:function(t){return t.addClass(Ko).addClass(Zo).addClass(Vo),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,s=r[2];s&&(i.$options=s.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",(function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)})),e.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(t,n,r,i){var o=i[0];function s(){o.$setTouched()}o.$$setUpdateOnEvents(),n.on("blur",(function(){o.$touched||(e.$$phase?t.$evalAsync(s):t.$apply(s))}))}}}}}],ss=/(\s+|^)default(\s+|$)/;function as(e){this.$$options=e}as.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return S(e=D({},e),(function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=te(n.replace(ss,(function(){return e.updateOnDefault=!0," "}))))}),this),t&&(delete e["*"],cs(e,this.$$options)),cs(e,is.$$options),new as(e)}},is=new as({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ls=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:is,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function cs(e,t){S(t,(function(t,n){j(e[n])||(e[n]=t)}))}var us=Wi({terminal:!0,priority:1e3}),hs=o("ngOptions"),ds=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,fs=["$compile","$document","$parse",function(t,n,r){var i=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=O},post:function(e,s,l,c){for(var u=c[0],h=c[1],d=l.multiple,f=0,p=s.children(),m=p.length;f<m;f++)if(""===p[f].value){u.hasEmptyOption=!0,u.emptyOption=p.eq(f);break}s.empty();var g,_=!!u.emptyOption;a(i.cloneNode(!1)).val("?");var y=function(e,t,n){var i=e.match(ds);if(!i)throw hs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,xe(t));var o=i[5]||i[7],s=i[6],a=/ as /.test(i[0])&&i[1],l=i[9],c=r(i[2]?i[1]:o),u=a&&r(a)||c,h=l&&r(l),d=l?function(e,t){return h(n,t)}:function(e){return jt(e)},f=function(e,t){return d(e,b(e,t))},p=r(i[2]||i[1]),m=r(i[3]||""),g=r(i[4]||""),_=r(i[8]),y={},b=s?function(e,t){return y[s]=t,y[o]=e,y}:function(e){return y[o]=e,y};function v(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function w(e){var t;if(!s&&M(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:l,getTrackByValue:f,getWatchables:r(_,(function(e){for(var t=[],r=w(e=e||[]),o=r.length,s=0;s<o;s++){var a=e===r?s:r[s],l=e[a],c=b(l,a),u=d(l,c);if(t.push(u),i[2]||i[1]){var h=p(n,c);t.push(h)}if(i[4]){var f=g(n,c);t.push(f)}}return t})),getOptions:function(){for(var e=[],t={},r=_(n)||[],i=w(r),o=i.length,s=0;s<o;s++){var a=r===i?s:i[s],c=r[a],h=b(c,a),y=u(n,h),x=d(y,h),M=new v(x,y,p(n,h),m(n,h),g(n,h));e.push(M),t[x]=M}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return l?ae(e.viewValue):e.viewValue}}}}}(l.ngOptions,s,e),b=n[0].createDocumentFragment();function v(e,t){var n=i.cloneNode(!1);t.appendChild(n),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label);t.value=e.selectValue}(e,n)}function w(e){var t=g.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}u.generateUnknownOptionValue=function(e){return"?"},d?(u.writeValue=function(e){if(g){var t=e&&e.map(w)||[];g.items.forEach((function(e){e.element.selected&&!oe(t,e)&&(e.element.selected=!1)}))}},u.readValue=function(){var e=s.val()||[],t=[];return S(e,(function(e){var n=g.selectValueMap[e];n&&!n.disabled&&t.push(g.getViewValueFromOption(n))})),t},y.trackBy&&e.$watchCollection((function(){if(q(h.$viewValue))return h.$viewValue.map((function(e){return y.getTrackByValue(e)}))}),(function(){h.$render()}))):(u.writeValue=function(e){if(g){var t=s[0].options[s[0].selectedIndex],n=g.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(s[0].value!==n.selectValue&&(u.removeUnknownOption(),s[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(e)}},u.readValue=function(){var e=g.selectValueMap[s.val()];return e&&!e.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),g.getViewValueFromOption(e)):null},y.trackBy&&e.$watch((function(){return y.getTrackByValue(h.$viewValue)}),(function(){h.$render()}))),_&&(t(u.emptyOption)(e),s.prepend(u.emptyOption),8===u.emptyOption[0].nodeType?(u.hasEmptyOption=!1,u.registerOption=function(e,t){""===t.val()&&(u.hasEmptyOption=!0,u.emptyOption=t,u.emptyOption.removeClass("ng-scope"),h.$render(),t.on("$destroy",(function(){var e=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,e&&h.$render()})))}):u.emptyOption.removeClass("ng-scope")),e.$watchCollection(y.getWatchables,(function(){var e=g&&u.readValue();if(g)for(var t=g.items.length-1;t>=0;t--){var n=g.items[t];j(n.group)?Dt(n.element.parentNode):Dt(n.element)}g=y.getOptions();var r={};if(g.items.forEach((function(e){var t;j(e.group)?((t=r[e.group])||(t=o.cloneNode(!1),b.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),v(e,t)):v(e,b)})),s[0].appendChild(b),h.$render(),!h.$isEmpty(e)){var i=u.readValue();(y.trackBy||d?ce(e,i):e===i)||(h.$setViewValue(i),h.$render())}}))}}}}],ps=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,a){var l,c=a.count,u=a.$attr.when&&s.attr(a.$attr.when),h=a.offset||0,d=o.$eval(u)||{},p={},m=t.startSymbol(),g=t.endSymbol(),_=m+c+"-"+h+g,y=w.noop;function b(e){s.text(e||"")}S(a,(function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+f(n[2]);d[r]=s.attr(a.$attr[t])}})),S(d,(function(e,n){p[n]=t(e.replace(r,_))})),o.$watch(c,(function(t){var r=parseFloat(t),i=P(r);if(i||r in d||(r=e.pluralCat(r-h)),!(r===l||i&&P(l))){y();var s=p[r];Y(s)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+u),y=O,b()):y=o.$watch(s,b),l=r}}))}}}],ms=o("ngRef"),gs=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,n){var r=xn(ie(t)),i=e(n.ngRef),o=i.assign||function(){throw ms("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(e,t,s){var a;if(s.hasOwnProperty("ngRefRead")){if("$element"===s.ngRefRead)a=t;else if(!(a=t.data("$"+s.ngRefRead+"Controller")))throw ms("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',s.ngRefRead,n.ngRef)}else a=t.data("$"+r+"Controller");o(e,a=a||t),t.on("$destroy",(function(){i(e)===a&&o(e,null)}))}}}}],_s=["$parse","$animate","$compile",function(e,t,n){var r="$$NG_REMOVED",i=o("ngRepeat"),s=function(e,t,n,r,i,o,s){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=!(1&t))},a=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]},c=function(e,t,n){return jt(n)},u=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(o,h){var f=h.ngRepeat,p=n.$$createComment("end ngRepeat",f),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],_=m[2],y=m[3],b=m[4];if(!(m=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var v,w=m[3]||m[1],x=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);if(b){var k={$id:jt},T=e(b);v=function(e,t,n,r){return x&&(k[x]=t),k[w]=n,k.$index=r,T(e,k)}}return function(e,n,o,h,m){var g=He();e.$watchCollection(_,(function(o){var h,_,b,T,L,C,E,D,A,$,P,R,O=n[0],I=He();if(y&&(e[y]=o),M(o))A=o,D=v||c;else for(var F in D=v||u,A=[],o)d.call(o,F)&&"$"!==F.charAt(0)&&A.push(F);for(T=A.length,P=new Array(T),h=0;h<T;h++)if(L=o===A?h:A[h],C=o[L],E=D(e,L,C,h),g[E])$=g[E],delete g[E],I[E]=$,P[h]=$;else{if(I[E])throw S(P,(function(e){e&&e.scope&&(g[e.id]=e)})),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,E,C);P[h]={id:E,scope:void 0,clone:void 0},I[E]=!0}for(var N in k&&(k[w]=void 0),g){if(R=je(($=g[N]).clone),t.leave(R),R[0].parentNode)for(h=0,_=R.length;h<_;h++)R[h][r]=!0;$.scope.$destroy()}for(h=0;h<T;h++)if(L=o===A?h:A[h],C=o[L],($=P[h]).scope){b=O;do{b=b.nextSibling}while(b&&b[r]);a($)!==b&&t.move(je($.clone),null,O),O=l($),s($.scope,h,w,C,x,L,T)}else m((function(e,n){$.scope=n;var r=p.cloneNode(!1);e[e.length++]=r,t.enter(e,null,O),O=r,$.clone=e,I[$.id]=$,s($.scope,h,w,C,x,L,T)}));g=I}))}}}}],ys="ng-hide",bs="ng-hide-animate",vs=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,(function(t){e[t?"removeClass":"addClass"](n,ys,{tempClasses:bs})}))}}}],ws=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,(function(t){e[t?"addClass":"removeClass"](n,ys,{tempClasses:bs})}))}}}],xs=Wi((function(e,t,n){e.$watchCollection(n.ngStyle,(function(e,n){n&&e!==n&&S(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}))})),Ms=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,a=[],l=[],c=[],u=[],h=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(s,(function(n){for(var r,i;c.length;)e.cancel(c.pop());for(r=0,i=u.length;r<i;++r){var s=je(l[r].clone);u[r].$destroy(),(c[r]=e.leave(s)).done(h(c,r))}l.length=0,u.length=0,(a=o.cases["!"+n]||o.cases["?"])&&S(a,(function(n){n.transclude((function(r,i){u.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var s={clone:r};l.push(s),e.enter(r,o.parent(),o)}))}))}))}}}],Ss=Wi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){var o=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(e,t,n){return n[t-1]!==e}));S(o,(function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})}))}}),ks=Wi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ts=o("ngTransclude"),Ls=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){if(!o)throw Ts("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",xe(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var s=r.ngTransclude||r.ngTranscludeSlot;function a(){n(e,(function(e){t.append(e)}))}o((function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==Ue||r.nodeValue.trim())return!0}}(e)?t.append(e):(a(),n.$destroy())}),null,s),s&&!o.isSlotFilled(s)&&a()}}}}],Cs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Es={$setViewValue:O,$render:O};function Ds(e,t){e.prop("selected",t),e.attr("selected",t)}var As=["$element","$scope",function(t,n){var r=this,i=new Ut;r.selectValueMap={},r.ngModelCtrl=Es,r.multiple=!1,r.unknownOption=a(e.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),t.prepend(r.unknownOption),Ds(r.unknownOption,!0),t.val(n)},r.updateUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),Ds(r.unknownOption,!0),t.val(n)},r.generateUnknownOptionValue=function(e){return"? "+jt(e)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(t.val(""),Ds(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&Ds(r.emptyOption,!1)},n.$on("$destroy",(function(){r.renderUnknownOption=O})),r.readValue=function(){var e=t.val(),n=e in r.selectValueMap?r.selectValueMap[e]:e;return r.hasOption(n)?n:null},r.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&Ds(a(n),!1),r.hasOption(e)){r.removeUnknownOption();var i=jt(e);t.val(i in r.selectValueMap?i:e);var o=t[0].options[t[0].selectedIndex];Ds(a(o),!0)}else r.selectUnknownOrEmptyOption(e)},r.addOption=function(e,t){if(8!==t[0].nodeType){Ye(e,'"option value"'),""===e&&(r.hasEmptyOption=!0,r.emptyOption=t);var n=i.get(e)||0;i.set(e,n+1),s()}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):i.set(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return t[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&t[0].options[t[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(e){null==e&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(e):r.renderUnknownOption(e)};var o=!1;function s(){o||(o=!0,n.$$postDigest((function(){o=!1,r.ngModelCtrl.$render()})))}var l=!1;function c(e){l||(l=!0,n.$$postDigest((function(){n.$$destroyed||(l=!1,r.ngModelCtrl.$setViewValue(r.readValue()),e&&r.ngModelCtrl.$render())})))}r.registerOption=function(e,t,n,i,o){var a,l;n.$attr.ngValue?n.$observe("value",(function(e){var n,i=t.prop("selected");j(l)&&(r.removeOption(a),delete r.selectValueMap[l],n=!0),l=jt(e),a=e,r.selectValueMap[l]=e,r.addOption(e,t),t.attr("value",l),n&&i&&c()})):i?n.$observe("value",(function(e){var n;r.readValue();var i=t.prop("selected");j(a)&&(r.removeOption(a),n=!0),a=e,r.addOption(e,t),n&&i&&c()})):o?e.$watch(o,(function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&r.removeOption(i),r.addOption(e,t),i&&o&&c()})):r.addOption(n.value,t);n.$observe("disabled",(function(e){("true"===e||e&&t.prop("selected"))&&(r.multiple?c(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))})),t.on("$destroy",(function(){var e=r.readValue(),t=n.value;r.removeOption(t),s(),(r.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)}))}}],$s=function(){return{restrict:"E",require:["select","?ngModel"],controller:As,priority:1,link:{pre:function(e,t,n,r){var i=r[0],o=r[1];if(!o)return void(i.registerOption=O);if(i.ngModelCtrl=o,t.on("change",(function(){i.removeUnknownOption(),e.$apply((function(){o.$setViewValue(i.readValue())}))})),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return S(t.find("option"),(function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}})),e},i.writeValue=function(e){S(t.find("option"),(function(t){var n=!!e&&(oe(e,t.value)||oe(e,i.selectValueMap[t.value]));n!==t.selected&&Ds(a(t),n)}))};var s,l=NaN;e.$watch((function(){l!==o.$viewValue||ce(s,o.$viewValue)||(s=We(o.$viewValue),o.$render()),l=o.$viewValue})),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,r){var i=r[1];if(!i)return;var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}},Ps=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return j(n.ngValue)||(j(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o="$selectController",s=t.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(e,t,n,r,i)}}}}],Rs=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.hasOwnProperty("required")||e(r.ngRequired)(t);r.ngRequired||(r.required=!0),i.$validators.required=function(e,t){return!o||!i.$isEmpty(t)},r.$observe("required",(function(e){o!==e&&(o=e,i.$validate())}))}}}}],Os=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,n){var r,i;return n.ngPattern&&(r=n.ngPattern,i="/"===n.ngPattern.charAt(0)&&u.test(n.ngPattern)?function(){return n.ngPattern}:e(n.ngPattern)),function(e,t,n,o){if(o){var s=n.pattern;n.ngPattern?s=i(e):r=n.pattern;var a=Ns(s,r,t);n.$observe("pattern",(function(e){var n=a;a=Ns(e,r,t),(n&&n.toString())!==(a&&a.toString())&&o.$validate()})),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||Y(a)||a.test(t)}}}}}}],Is=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.maxlength||e(r.ngMaxlength)(t),s=Ys(o);r.$observe("maxlength",(function(e){o!==e&&(s=Ys(e),o=e,i.$validate())})),i.$validators.maxlength=function(e,t){return s<0||i.$isEmpty(t)||t.length<=s}}}}}],Fs=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o=r.minlength||e(r.ngMinlength)(t),s=Ys(o)||-1;r.$observe("minlength",(function(e){o!==e&&(s=Ys(e)||-1,o=e,i.$validate())})),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=s}}}}}];function Ns(e,t,n){if(e){if(U(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw o("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,xe(n));return e}}function Ys(e){var t=$(e);return P(t)?-1:t}e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var t;if(!Oe){var n=he();(l=Y(n)?r:n?e[n]:void 0)&&l.fn.on?(a=l,D(l.fn,{scope:$t.scope,isolateScope:$t.isolateScope,controller:$t.controller,injector:$t.injector,inheritedData:$t.inheritedData})):a=pt,t=a.cleanData,a.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=(a._data(r)||{}).events)&&n.$destroy&&a(r).triggerHandler("$destroy");t(e)},w.element=a,Oe=!0}}(),function(t){D(t,{errorHandlingConfig:n,bootstrap:De,copy:ae,extend:D,merge:A,equals:ce,element:a,forEach:S,injector:Qt,noop:O,bind:pe,toJson:ge,fromJson:_e,identity:I,isUndefined:Y,isDefined:j,isString:U,isFunction:V,isObject:H,isNumber:W,isElement:re,isArray:q,version:qe,isDate:G,callbacks:{$$counter:0},getTestability:$e,reloadWithDebugInfo:Ae,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Ie,$$minErr:o,$$csp:ue,$$encodeUriSegment:ke,$$encodeUriQuery:Te,$$lowercase:f,$$stringify:ze,$$uppercase:p}),c=function(e){var t=o("$injector"),n=o("ng");function r(e,t,n){return e[t]||(e[t]=n())}var i=r(e,"angular",Object);return i.$$minErr=i.$$minErr||o,r(i,"module",(function(){var e={};return function(i,o,s){var a={};return function(e){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),o&&e.hasOwnProperty(i)&&(e[i]=null),r(e,i,(function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],r=[],l=[],c=h("$injector","invoke","push",r),u={_invokeQueue:e,_configBlocks:r,_runBlocks:l,info:function(e){if(j(e)){if(!H(e))throw n("aobj","Argument '{0}' must be an object","value");return a=e,this}return a},requires:o,name:i,provider:d("$provide","provider"),factory:d("$provide","factory"),service:d("$provide","service"),value:h("$provide","value"),constant:h("$provide","constant","unshift"),decorator:d("$provide","decorator",r),animation:d("$animateProvider","register"),filter:d("$filterProvider","register"),controller:d("$controllerProvider","register"),directive:d("$compileProvider","directive"),component:d("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return s&&c(s),u;function h(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),u}}function d(t,n,r){return r||(r=e),function(e,o){return o&&V(o)&&(o.$$moduleName=i),r.push([t,n,arguments]),u}}}))}}))}(e),c("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Br}),e.provider("$compile",yn).directive({a:Gi,input:To,textarea:To,form:Zi,script:Cs,select:$s,option:Ps,ngBind:Do,ngBindHtml:$o,ngBindTemplate:Ao,ngClass:Oo,ngClassEven:Fo,ngClassOdd:Io,ngCloak:No,ngController:Yo,ngForm:Qi,ngHide:ws,ngIf:Uo,ngInclude:Wo,ngInit:qo,ngNonBindable:us,ngPluralize:ps,ngRef:gs,ngRepeat:_s,ngShow:vs,ngStyle:xs,ngSwitch:Ms,ngSwitchWhen:Ss,ngSwitchDefault:ks,ngOptions:fs,ngTransclude:Ls,ngModel:os,ngList:Bo,ngChange:Po,pattern:Os,ngPattern:Os,required:Rs,ngRequired:Rs,minlength:Fs,ngMinlength:Fs,maxlength:Is,ngMaxlength:Is,ngValue:Eo,ngModelOptions:ls}).directive({ngInclude:Go,input:Lo}).directive(qi).directive(jo),e.provider({$anchorScroll:en,$animate:ln,$animateCss:hn,$$animateJs:sn,$$animateQueue:an,$$AnimateRunner:un,$$animateAsyncRun:cn,$browser:fn,$cacheFactory:pn,$controller:Cn,$document:En,$$isDocumentHidden:Dn,$exceptionHandler:An,$filter:yi,$$forceReflow:$n,$interpolate:Jn,$interval:Qn,$$intervalFactory:er,$http:Bn,$httpParamSerializer:jn,$httpParamSerializerJQLike:Hn,$httpBackend:Xn,$xhrFactory:Vn,$jsonpCallbacks:tr,$location:yr,$log:br,$parse:Nr,$rootScope:qr,$q:Yr,$$q:jr,$sce:ei,$sceDelegate:Qr,$sniffer:ti,$$taskTrackerFactory:ni,$templateCache:mn,$templateRequest:oi,$$testability:si,$timeout:li,$window:mi,$$rAF:Gr,$$jqLite:Yt,$$Map:Wt,$$cookieReader:_i})}]).info({angularVersion:"1.8.3"})}(w),w.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,r){var i=0|e,o=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var r=Math.pow(10,n);return{v:n,f:(e*r|0)%r}}(e,r);return 1==i&&0==o.v?t:n}})}]),a((function(){Ee(e.document,De)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))},1135(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(5093))},1221(e,t,n){!function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(5093))},1290(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})}(n(5093))},1470(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+i({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){switch(r(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function r(e){return e>9?r(e%10):e}function i(e,t){return 2===t?o(e):e}function o(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var s=[/^gen/i,/^c[ʼ\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],a=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,c=/^(gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,u=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[ʼ\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],h=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],d=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Cʼhwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Cʼhwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercʼher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:d,fullWeekdaysParse:u,shortWeekdaysParse:h,minWeekdaysParse:d,monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:l,monthsShortStrictRegex:c,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warcʼhoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Decʼh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s ʼzo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(5093))},1488(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(e){return function(r,i,o,s){var a=t(r),l=n[e][t(r)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,r)}},i=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:0,doy:4}})}(n(5093))},1509(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(e){return function(t,n,o,s){var a=r(t),l=i[e][r(t)];return 2===a&&(l=l[n?0:1]),l.replace(/%d/i,t)}},s=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(5093))},1541(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"D/M/YYYY",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(5093))},1545(e,t,n){!function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་1_ཟླ་2_ཟླ་3_ཟླ་4_ཟླ་5_ཟླ་6_ཟླ་7_ཟླ་8_ཟླ་9_ཟླ་10_ཟླ་11_ཟླ་12".split("_"),monthsShortRegex:/^(ཟླ་\d{1,2})/,monthsParseExact:!0,weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི_ཟླ_མིག_ལྷག_ཕུར_སངས_སྤེན".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}(n(5093))},1632(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1200?"上午":1200===r?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(5093))},1713(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}(n(5093))},1734(e,t,n){!function(e){"use strict";var t=["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Meitheamh","Iúil","Lúnasa","Meán Fómhair","Deireadh Fómhair","Samhain","Nollaig"],n=["Ean","Feabh","Márt","Aib","Beal","Meith","Iúil","Lún","M.F.","D.F.","Samh","Noll"],r=["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Sathairn"],i=["Domh","Luan","Máirt","Céad","Déar","Aoine","Sath"],o=["Do","Lu","Má","Cé","Dé","A","Sa"];e.defineLocale("ga",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d míonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(5093))},1758(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(3662),n(9983),n(2336),n(2299),n(6883),n(9139)],void 0===(o="function"==typeof(r=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0].activeElement;e(t.target).closest(n).length||e(n).trigger("blur")},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,r="function"==typeof n.helper,i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(n=e(i.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=i.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))}))},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,(function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))}))},drag:function(t,n,r){e.each(r.sortables,(function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,(function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i}))),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,(function(){this.refreshPositions()})),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,s=r.scrollParentNotHidden[0],a=r.document[0];s!==a&&"HTML"!==s.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+s.offsetHeight-t.pageY<i.scrollSensitivity?s.scrollTop=o=s.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+s.offsetWidth-t.pageX<i.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(a).scrollTop()<i.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<i.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(a).scrollLeft()<i.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<i.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+i.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each((function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,r){var i,o,s,a,l,c,u,h,d,f,p=r.options,m=p.snapTolerance,g=n.offset.left,_=g+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(d=r.snapElements.length-1;d>=0;d--)c=(l=r.snapElements[d].left-r.margins.left)+r.snapElements[d].width,h=(u=r.snapElements[d].top-r.margins.top)+r.snapElements[d].height,_<l-m||g>c+m||b<u-m||y>h+m||!e.contains(r.snapElements[d].item.ownerDocument,r.snapElements[d].item)?(r.snapElements[d].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(u-b)<=m,o=Math.abs(h-y)<=m,s=Math.abs(l-_)<=m,a=Math.abs(c-g)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),f=i||o||s||a,"outer"!==p.snapMode&&(i=Math.abs(u-y)<=m,o=Math.abs(h-b)<=m,s=Math.abs(l-g)<=m,a=Math.abs(c-_)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[d].snapping&&(i||o||s||a||f)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=i||o||s||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,s=e.makeArray(e(o.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));s.length&&(i=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each((function(t){e(this).css("zIndex",i+t)})),this.css("zIndex",i+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable})?r.apply(t,i):r)||(e.exports=o)}()},1765(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(n(5093))},1794(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(წამ|წუთ|საათ|წელ|დღ|თვ)(ი|ე)/,(function(e,t,n){return"ი"===n?t+"ში":t+n+"ში"}))},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):e},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(n(5093))},1827(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},1848(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},1885(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})}(n(5093))},1897(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],void 0===(o="function"==typeof(r=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?r.apply(t,i):r)||(e.exports=o)}()},1927(e,t){var n;void 0===(n=function(){return function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){var t,n,r,i,o="angular/i18n/angular-locale_{{locale}}.js",s="tmhDynamicLocaleStorageCache",a=e,l="get",c="put",u={},h={};function d(e,t,r,i){var o=document.createElement("script"),s=n||document.getElementsByTagName("body")[0],a=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,i((function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),t())}),30,!1))}:(o.onload=function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),t())},o.onerror=function(){a||(a=!0,o.parentNode===s&&s.removeChild(o),r())}),o.src=e,o.async=!0,s.appendChild(o)}function f(e,t,n,o,s,l,h){function f(e,t){i===n&&(angular.forEach(e,(function(n,r){t[r]?angular.isArray(t[r])&&(e[r].length=t[r].length):delete e[r]})),angular.forEach(t,(function(n,r){angular.isArray(t[r])||angular.isObject(t[r])?(e[r]||(e[r]=angular.isArray(t[r])?[]:{}),f(e[r],t[r])):e[r]=t[r]})))}if(u[n])return i=n,u[n];var p,m=s.defer();return n===i?m.resolve(t):(p=l.get(n))?(i=n,o.$evalAsync((function(){f(t,p),r[c](a,n),o.$broadcast("$localeChangeSuccess",n,t),m.resolve(t)}))):(i=n,u[n]=m.promise,d(e,(function(){var e=angular.injector(["ngLocale"]).get("$locale");f(t,e),l.put(n,e),delete u[n],o.$applyAsync((function(){r[c](a,n),o.$broadcast("$localeChangeSuccess",n,t),m.resolve(t)}))}),(function(){delete u[n],o.$applyAsync((function(){i===n&&(i=t.id),o.$broadcast("$localeChangeError",n),m.reject(n)}))}),h)),m.promise}this.localeLocationPattern=function(e){return e?(o=e,this):o},this.appendScriptTo=function(e){n=e},this.useStorage=function(e){s=e,l="get",c="put"},this.useCookieStorage=function(){angular.version.minor<7?this.useStorage("$cookieStore"):(this.useStorage("$cookies"),l="getObject",c="putObject")},this.defaultLocale=function(e){t=e},this.storageKey=function(e){return e?(a=e,this):a},this.addLocalePatternValue=function(e,t){h[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,n,c,u,d,p,m){var g=c(o);return r=n.get(s),e.$evalAsync((function(){var e;(e=r[l](a)||t)&&_(e)})),{set:_,get:function(){return i}};function _(t){var n={locale:t,angularVersion:angular.version.full};return f(g(angular.extend({},h,n)),u,t,e,d,p,m)}}]}]).provider("tmhDynamicLocaleCache",(function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]})).provider("tmhDynamicLocaleStorageCache",(function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]})).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"}()}.apply(t,[]))||(e.exports=n)},2124(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["थोडया सॅकंडांनी","थोडे सॅकंड"],ss:[e+" सॅकंडांनी",e+" सॅकंड"],m:["एका मिणटान","एक मिनूट"],mm:[e+" मिणटांनी",e+" मिणटां"],h:["एका वरान","एक वर"],hh:[e+" वरांनी",e+" वरां"],d:["एका दिसान","एक दीस"],dd:[e+" दिसांनी",e+" दीस"],M:["एका म्हयन्यान","एक म्हयनो"],MM:[e+" म्हयन्यानी",e+" म्हयने"],y:["एका वर्सान","एक वर्स"],yy:[e+" वर्सांनी",e+" वर्सां"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-deva",{months:{standalone:"जानेवारी_फेब्रुवारी_मार्च_एप्रील_मे_जून_जुलय_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),format:"जानेवारीच्या_फेब्रुवारीच्या_मार्चाच्या_एप्रीलाच्या_मेयाच्या_जूनाच्या_जुलयाच्या_ऑगस्टाच्या_सप्टेंबराच्या_ऑक्टोबराच्या_नोव्हेंबराच्या_डिसेंबराच्या".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"जाने._फेब्रु._मार्च_एप्री._मे_जून_जुल._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"आयतार_सोमार_मंगळार_बुधवार_बिरेस्तार_सुक्रार_शेनवार".split("_"),weekdaysShort:"आयत._सोम._मंगळ._बुध._ब्रेस्त._सुक्र._शेन.".split("_"),weekdaysMin:"आ_सो_मं_बु_ब्रे_सु_शे".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [वाजतां]",LTS:"A h:mm:ss [वाजतां]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [वाजतां]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [वाजतां]",llll:"ddd, D MMM YYYY, A h:mm [वाजतां]"},calendar:{sameDay:"[आयज] LT",nextDay:"[फाल्यां] LT",nextWeek:"[फुडलो] dddd[,] LT",lastDay:"[काल] LT",lastWeek:"[फाटलो] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s आदीं",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(वेर)/,ordinal:function(e,t){return"D"===t?e+"वेर":e},week:{dow:0,doy:3},meridiemParse:/राती|सकाळीं|दनपारां|सांजे/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?e<4?e:e+12:"सकाळीं"===t?e:"दनपारां"===t?e>12?e:e+12:"सांजे"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"राती":e<12?"सकाळीं":e<16?"दनपारां":e<20?"सांजे":"राती"}})}(n(5093))},2218(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})}(n(5093))},2264(e,t,n){!function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(5093))},2271(e,t,n){!function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){return"m"===r?n?"минута":"минуту":e+" "+t({ss:n?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[r],+e)}var r=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:n,m:n,mm:n,h:"час",hh:n,d:"день",dd:n,w:"неделя",ww:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(5093))},2274(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"én time",hh:"%d timer",d:"én dag",dd:"%d dager",w:"én uke",ww:"%d uker",M:"én måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},2297(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(5093))},2299(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],void 0===(o="function"==typeof(r=function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var t=e(this);return(!r||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)}})?r.apply(t,i):r)||(e.exports=o)}()},2336(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],r=function(e){return e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}}},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},2353(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,i,o,s){var a=n(t),l=r[e][n(t)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,t)}},o=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(5093))},2475(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(5093))},2477(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},2572(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",w:"één week",ww:"%d weken",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5093))},2648(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(e){return e.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(e){return this.week()!==e.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(5093))},2682(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(5093))},2934(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aŭg_sept_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(5093))},2989(e,t,n){var r,i;!function(o){r=[n(6932)],i=function(e){return o.Bloodhound=function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function r(e,t){return n(t,e)}e.each(t,r)},map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,(function(e,i){if(!(r=n.call(null,i,e,t)))return!1})),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,(function(e,i){if(r=n.call(null,i,e,t))return!1})),!!r):r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){return e.isFunction(t)?t:n;function n(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,l=arguments;return o=function(){r=null,n||(i=e.apply(a,l))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,l)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var l=new Date,c=t-(l-s);return n=this,r=arguments,c<=0?(clearTimeout(i),i=null,s=l,o=e.apply(n,r)):i||(i=setTimeout(a,c)),o}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),n="1.3.3",r=function(){"use strict";return{nonword:n,whitespace:e,ngram:r,obj:{nonword:i(n),whitespace:i(e),ngram:i(r)}};function e(e){return(e=t.toStr(e))?e.split(/\s+/):[]}function n(e){return(e=t.toStr(e))?e.split(/\W+/):[]}function r(e){e=t.toStr(e);var n=[],r="";return t.each(e.split(""),(function(e){e.match(/\s+/)?r="":(n.push(r+e),r+=e)})),n}function i(e){return function(n){return n=t.isArray(n)?n:[].slice.call(arguments,0),function(r){var i=[];return t.each(n,(function(n){i=i.concat(e(t.toStr(r[n])))})),i}}}}(),i=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function r(){this.head=this.tail=null}function i(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new i(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new r}}),t.mixin(r.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),o=function(){"use strict";var n;try{(n=window.localStorage).setItem("~~~","!"),n.removeItem("~~~")}catch(e){n=null}function r(e,r){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=r||n,!this.ls&&this._noop()}return t.mixin(r.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),s(this.ls.getItem(this._prefix(e)))},set:function(e,n,r){return t.isNumber(r)?this._safeSet(this._ttlKey(e),o(i()+r)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),o(n))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=a(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var n=s(this.ls.getItem(this._ttlKey(e)));return!!(t.isNumber(n)&&i()>n)}}),r;function i(){return(new Date).getTime()}function o(e){return JSON.stringify(t.isUndefined(e)?null:e)}function s(t){return e.parseJSON(t)}function a(e){var t,r,i=[],o=n.length;for(t=0;t<o;t++)(r=n.key(t)).match(e)&&i.push(r.replace(e,""));return i}}(),s=function(){"use strict";var n=0,r={},o=new i(10);function s(e){e=e||{},this.maxPendingRequests=e.maxPendingRequests||6,this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new i(0):o}return s.setMaxPendingRequests=function(e){this.maxPendingRequests=e},s.resetCache=function(){o.reset()},t.mixin(s.prototype,{_fingerprint:function(t){return(t=t||{}).url+t.type+e.param(t.data||{})},_get:function(e,t){var i,o,s=this;function a(e){t(null,e),s._cache.set(i,e)}function l(){t(!0)}function c(){n--,delete r[i],s.onDeckRequestArgs&&(s._get.apply(s,s.onDeckRequestArgs),s.onDeckRequestArgs=null)}i=this._fingerprint(e),this.cancelled||i!==this.lastReq||((o=r[i])?o.done(a).fail(l):n<this.maxPendingRequests?(n++,r[i]=this._send(e).done(a).fail(l).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,r){var i,o;r=r||e.noop,n=t.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(i=this._cache.get(o))?r(null,i):this._get(n,r)},cancel:function(){this.cancelled=!0}}),s}(),a=window.SearchIndex=function(){"use strict";var n="c",r="i";function i(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||t.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.matchAnyQueryToken=n.matchAnyQueryToken,this.reset()}return t.mixin(i.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e],t.each(e,(function(e){var a,l;i.datums[a=i.identify(e)]=e,l=o(i.datumTokenizer(e)),t.each(l,(function(e){var t,o,l;for(t=i.trie,o=e.split("");l=o.shift();)(t=t[n][l]||(t[n][l]=s()))[r].push(a)}))}))},get:function(e){var n=this;return t.map(e,(function(e){return n.datums[e]}))},search:function(e){var i,s,c=this;return i=o(this.queryTokenizer(e)),t.each(i,(function(e){var t,i,o,a;if(s&&0===s.length&&!c.matchAnyQueryToken)return!1;for(t=c.trie,i=e.split("");t&&(o=i.shift());)t=t[n][o];if(t&&0===i.length)a=t[r].slice(0),s=s?l(s,a):a;else if(!c.matchAnyQueryToken)return s=[],!1})),s?t.map(a(s),(function(e){return c.datums[e]})):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i;function o(e){return e=t.filter(e,(function(e){return!!e})),e=t.map(e,(function(e){return e.toLowerCase()}))}function s(){var e={};return e[r]=[],e[n]={},e}function a(e){for(var t={},n=[],r=0,i=e.length;r<i;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function l(e,t){var n=0,r=0,i=[];e=e.sort(),t=t.sort();for(var o=e.length,s=t.length;n<o&&r<s;)e[n]<t[r]?n++:(e[n]>t[r]||(i.push(e[n]),n++),r++);return i}}(),l=function(){"use strict";var e;function n(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new o(e.cacheKey)}return e={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(n.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(e.data,t,this.ttl),this.storage.set(e.protocol,location.protocol,this.ttl),this.storage.set(e.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,n={};return this.cache?(n.data=this.storage.get(e.data),n.protocol=this.storage.get(e.protocol),n.thumbprint=this.storage.get(e.thumbprint),t=n.thumbprint!==this.thumbprint||n.protocol!==location.protocol,n.data&&!t?n.data:null):null},fromNetwork:function(e){var t,n=this;function r(){e(!0)}function i(t){e(null,n.transform(t))}e&&(t=this.prepare(this._settings()),this.transport(t).fail(r).done(i))},clear:function(){return this.storage.clear(),this}}),n}(),c=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.indexResponse=e.indexResponse,this.transport=new s({cache:e.cache,limiter:e.limiter,transport:e.transport,maxPendingRequests:e.maxPendingRequests})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){var n,r=this;if(t)return e=e||"",n=this.prepare(e,this._settings()),this.transport.get(n,i);function i(e,n){t(e?[]:r.transform(n))}},cancelLastRequest:function(){this.transport.cancel()}}),e}(),u=function(){"use strict";return function(n){var o,s;return o={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null},!(n=t.mixin(o,n||{})).datumTokenizer&&e.error("datumTokenizer is required"),!n.queryTokenizer&&e.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(e){return e.sort(s)}:t.identity,n.local=t.isFunction(n.local)?n.local():n.local,n.prefetch=r(n.prefetch),n.remote=i(n.remote),n};function r(r){var i;return r?(i={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,!(r=t.mixin(i,r)).url&&e.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=n+r.thumbprint,r.transport=r.transport?a(r.transport):e.ajax,r):null}function i(n){var r;if(n)return r={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,!(n=t.mixin(r,n)).url&&e.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):e.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(e){var t,n,r;return t=e.prepare,n=e.replace,r=e.wildcard,t||(t=n?i:e.wildcard?o:s);function i(e,t){return t.url=n(t.url,e),t}function o(e,t){return t.url=t.url.replace(r,encodeURIComponent(e)),t}function s(e,t){return t}}function s(e){var n,r,i;return n=e.limiter,r=e.rateLimitBy,i=e.rateLimitWait,n||(n=/^throttle$/i.test(r)?s(i):o(i)),n;function o(e){return function(n){return t.debounce(n,e)}}function s(e){return function(n){return t.throttle(n,e)}}}function a(n){return function(r){var i=e.Deferred();return n(r,o,s),i;function o(e){t.defer((function(){i.resolve(e)}))}function s(e){t.defer((function(){i.reject(e)}))}}}}(),h=function(){"use strict";var n;function i(e){e=u(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.indexRemote=e.indexRemote,this.local=e.local,this.remote=e.remote?new c(e.remote):null,this.prefetch=e.prefetch?new l(e.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}return n=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=n),i},i.tokenizers=r,t.mixin(i.prototype,{__ttAdapter:function(){var e=this;return this.remote?t:n;function t(t,n,r){return e.search(t,n,r)}function n(t,n){return e.search(t,n)}},_loadPrefetch:function(){var t,n,r=this;return t=e.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),t.resolve()):this.prefetch.fromNetwork(i):t.resolve(),t.promise();function i(e,n){if(e)return t.reject();r.add(n),r.prefetch.store(r.index.serialize()),t.resolve()}},_initialize:function(){var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise;function t(){e.add(e.local)}},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,n,r){var i,o=this;return n=n||t.noop,r=r||t.noop,i=this.sorter(this.index.search(e)),n(this.remote?i.slice():i),this.remote&&i.length<this.sufficient?this.remote.get(e,s):this.remote&&this.remote.cancelLastRequest(),this;function s(e){var n=[];t.each(e,(function(e){!t.some(i,(function(t){return o.identify(e)===o.identify(t)}))&&n.push(e)})),o.indexRemote&&o.add(n),r(n)}},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return h}(e)}.apply(t,r),void 0===i||(e.exports=i)}(this),r=[n(6932)],i=function(e){return t=e,n=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(e){return n.isUndefined(e)||null===e?"":e+""},bind:t.proxy,each:function(e,n){function r(e,t){return n(t,e)}t.each(e,r)},map:t.map,filter:t.grep,every:function(e,n){var r=!0;return e?(t.each(e,(function(t,i){if(!(r=n.call(null,i,t,e)))return!1})),!!r):r},some:function(e,n){var r=!1;return e?(t.each(e,(function(t,i){if(r=n.call(null,i,t,e))return!1})),!!r):r},mixin:t.extend,identity:function(e){return e},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return t.isFunction(e)?e:n;function n(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,l=arguments;return o=function(){r=null,n||(i=e.apply(a,l))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,l)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var l=new Date,c=t-(l-s);return n=this,r=arguments,c<=0?(clearTimeout(i),i=null,s=l,o=e.apply(n,r)):i||(i=setTimeout(a,c)),o}},stringify:function(e){return n.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),r=function(){"use strict";var e={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t;function t(t){var s,a;return a=n.mixin({},e,t),{css:(s={css:o(),classes:a,html:r(a),selectors:i(a)}).css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(e){n.mixin(e,s)}}}function r(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div role="listbox" class="'+e.menu+'"></div>'}}function i(e){var t={};return n.each(e,(function(e,n){t[n]="."+e})),t}function o(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return n.isMsie()&&n.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}}(),i=function(){"use strict";var e,r;function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return e="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},n.mixin(i.prototype,{_trigger:function(n,r){var i=t.Event(e+n);return this.$el.trigger.call(this.$el,i,r||[]),i},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=r[e])&&this._trigger(t,[].slice.call(arguments,1))}}),i}(),o=function(){"use strict";var e=/\s+/,t=l();return{onSync:i,onAsync:r,off:o,trigger:s};function n(t,n,r,i){var o;if(!r)return this;for(n=n.split(e),r=i?c(r,i):r,this._callbacks=this._callbacks||{};o=n.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][t].push(r);return this}function r(e,t,r){return n.call(this,"async",e,t,r)}function i(e,t,r){return n.call(this,"sync",e,t,r)}function o(t){var n;if(!this._callbacks)return this;for(t=t.split(e);n=t.shift();)delete this._callbacks[n];return this}function s(n){var r,i,o,s,l;if(!this._callbacks)return this;for(n=n.split(e),o=[].slice.call(arguments,1);(r=n.shift())&&(i=this._callbacks[r]);)s=a(i.sync,this,[r].concat(o)),l=a(i.async,this,[r].concat(o)),s()&&t(l);return this}function a(e,t,n){return r;function r(){for(var r,i=0,o=e.length;!r&&i<o;i+=1)r=!1===e[i].apply(t,n);return!r}}function l(){return window.setImmediate?function(e){setImmediate((function(){e()}))}:function(e){setTimeout((function(){e()}),0)}}function c(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}}(),s=function(e){"use strict";var t={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1,diacriticInsensitive:!1},r={A:"[AaªÀ-Åà-åĀ-ąǍǎȀ-ȃȦȧᴬᵃḀḁẚẠ-ảₐ℀℁℻⒜Ⓐⓐ㍱-㍴㎀-㎄㎈㎉㎩-㎯㏂㏊㏟㏿Ａａ]",B:"[BbᴮᵇḂ-ḇℬ⒝Ⓑⓑ㍴㎅-㎇㏃㏈㏔㏝Ｂｂ]",C:"[CcÇçĆ-čᶜ℀ℂ℃℅℆ℭⅭⅽ⒞Ⓒⓒ㍶㎈㎉㎝㎠㎤㏄-㏇Ｃｃ]",D:"[DdĎďǄ-ǆǱ-ǳᴰᵈḊ-ḓⅅⅆⅮⅾ⒟Ⓓⓓ㋏㍲㍷-㍹㎗㎭-㎯㏅㏈Ｄｄ]",E:"[EeÈ-Ëè-ëĒ-ěȄ-ȇȨȩᴱᵉḘ-ḛẸ-ẽₑ℡ℯℰⅇ⒠Ⓔⓔ㉐㋍㋎Ｅｅ]",F:"[FfᶠḞḟ℉ℱ℻⒡Ⓕⓕ㎊-㎌㎙ﬀ-ﬄＦｆ]",G:"[GgĜ-ģǦǧǴǵᴳᵍḠḡℊ⒢Ⓖⓖ㋌㋍㎇㎍-㎏㎓㎬㏆㏉㏒㏿Ｇｇ]",H:"[HhĤĥȞȟʰᴴḢ-ḫẖℋ-ℎ⒣Ⓗⓗ㋌㍱㎐-㎔㏊㏋㏗Ｈｈ]",I:"[IiÌ-Ïì-ïĨ-İĲĳǏǐȈ-ȋᴵᵢḬḭỈ-ịⁱℐℑℹⅈⅠ-ⅣⅥ-ⅨⅪⅫⅰ-ⅳⅵ-ⅸⅺⅻ⒤Ⓘⓘ㍺㏌㏕ﬁﬃＩｉ]",J:"[JjĲ-ĵǇ-ǌǰʲᴶⅉ⒥ⒿⓙⱼＪｊ]",K:"[KkĶķǨǩᴷᵏḰ-ḵK⒦Ⓚⓚ㎄㎅㎉㎏㎑㎘㎞㎢㎦㎪㎸㎾㏀㏆㏍-㏏Ｋｋ]",L:"[LlĹ-ŀǇ-ǉˡᴸḶḷḺ-ḽℒℓ℡Ⅼⅼ⒧Ⓛⓛ㋏㎈㎉㏐-㏓㏕㏖㏿ﬂﬄＬｌ]",M:"[MmᴹᵐḾ-ṃ℠™ℳⅯⅿ⒨Ⓜⓜ㍷-㍹㎃㎆㎎㎒㎖㎙-㎨㎫㎳㎷㎹㎽㎿㏁㏂㏎㏐㏔-㏖㏘㏙㏞㏟Ｍｍ]",N:"[NnÑñŃ-ŉǊ-ǌǸǹᴺṄ-ṋⁿℕ№⒩Ⓝⓝ㎁㎋㎚㎱㎵㎻㏌㏑Ｎｎ]",O:"[OoºÒ-Öò-öŌ-őƠơǑǒǪǫȌ-ȏȮȯᴼᵒỌ-ỏₒ℅№ℴ⒪Ⓞⓞ㍵㏇㏒㏖Ｏｏ]",P:"[PpᴾᵖṔ-ṗℙ⒫Ⓟⓟ㉐㍱㍶㎀㎊㎩-㎬㎰㎴㎺㏋㏗-㏚Ｐｐ]",Q:"[Qqℚ⒬Ⓠⓠ㏃Ｑｑ]",R:"[RrŔ-řȐ-ȓʳᴿᵣṘ-ṛṞṟ₨ℛ-ℝ⒭Ⓡⓡ㋍㍴㎭-㎯㏚㏛Ｒｒ]",S:"[SsŚ-šſȘșˢṠ-ṣ₨℁℠⒮Ⓢⓢ㎧㎨㎮-㎳㏛㏜ﬆＳｓ]",T:"[TtŢ-ťȚțᵀᵗṪ-ṱẗ℡™⒯Ⓣⓣ㉐㋏㎔㏏ﬅﬆＴｔ]",U:"[UuÙ-Üù-üŨ-ųƯưǓǔȔ-ȗᵁᵘᵤṲ-ṷỤ-ủ℆⒰Ⓤⓤ㍳㍺Ｕｕ]",V:"[VvᵛᵥṼ-ṿⅣ-Ⅷⅳ-ⅷ⒱Ⓥⓥⱽ㋎㍵㎴-㎹㏜㏞Ｖｖ]",W:"[WwŴŵʷᵂẀ-ẉẘ⒲Ⓦⓦ㎺-㎿㏝Ｗｗ]",X:"[XxˣẊ-ẍₓ℻Ⅸ-Ⅻⅸ-ⅻ⒳Ⓧⓧ㏓Ｘｘ]",Y:"[YyÝýÿŶ-ŸȲȳʸẎẏẙỲ-ỹ⒴Ⓨⓨ㏉Ｙｙ]",Z:"[ZzŹ-žǱ-ǳᶻẐ-ẕℤℨ⒵Ⓩⓩ㎐-㎔Ｚｚ]"};return function(r){var i;function s(t){var n,o,s;return(n=i.exec(t.data))&&(s=e.createElement(r.tagName),r.className&&(s.className=r.className),(o=t.splitText(n.index)).splitText(n[0].length),s.appendChild(o.cloneNode(!0)),t.parentNode.replaceChild(s,o)),!!n}function a(e,t){for(var n,r=3,i=0;i<e.childNodes.length;i++)(n=e.childNodes[i]).nodeType===r?i+=t(n)?1:0:a(n,t)}(r=n.mixin({},t,r)).node&&r.pattern&&(r.pattern=n.isArray(r.pattern)?r.pattern:[r.pattern],i=o(r.pattern,r.caseSensitive,r.wordsOnly,r.diacriticInsensitive),a(r.node,s))};function i(e){return r[e.toUpperCase()]||e}function o(e,t,r,o){for(var s,a=[],l=0,c=e.length;l<c;l++){var u=n.escapeRegExChars(e[l]);o&&(u=u.replace(/\S/g,i)),a.push(u)}return s=r?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",t?new RegExp(s):new RegExp(s,"i")}}(window.document),a=function(){"use strict";var e;function r(e,r){var o;(e=e||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(e.hint),this.$input=t(e.input),this.$menu=t(e.menu),o=this.$input.attr("id")||n.guid(),this.$menu.attr("id",o+"_listbox"),this.$hint.attr({"aria-hidden":!0}),this.$input.attr({"aria-owns":o+"_listbox","aria-controls":o+"_listbox",role:"combobox","aria-autocomplete":"list","aria-expanded":!1}),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=n.noop),this.onSync("cursorchange",this._updateDescendent)}return e={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},r.normalizeQuery=function(e){return n.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},n.mixin(r.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var n=e[t.which||t.keyCode];this._managePreventDefault(n,t),n&&this._shouldTrigger(n,t)&&this.trigger(n+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!a(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){return"tab"!==e||!a(t)},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,r;r=!!(n=s(e,this.query))&&this.query.length!==e.length,this.query=e,t||n?!t&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},_updateDescendent:function(e,t){this.$input.attr("aria-activedescendant",t)},bind:function(){var t,r,i,o,s=this;return t=n.bind(this._onBlur,this),r=n.bind(this._onFocus,this),i=n.bind(this._onKeydown,this),o=n.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",r).on("keydown.tt",i),!n.isMsie()||n.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",(function(t){e[t.which||t.keyCode]||n.defer(n.bind(s._onInput,s,t))})),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n;n=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),(""===e||!n||this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,r;return e=this.$input.val().length,t=this.$input[0].selectionStart,n.isNumber(t)?t===e:!document.selection||((r=document.selection.createRange()).moveStart("character",-e),e===r.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")},setAriaExpanded:function(e){this.$input.attr("aria-expanded",e)}}),r;function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(e,t){return r.normalizeQuery(e)===r.normalizeQuery(t)}function a(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}}(),l=function(){"use strict";var e,r;function i(e,i){(e=e||{}).templates=e.templates||{},e.templates.notFound=e.templates.notFound||e.templates.empty,e.source||t.error("missing source"),e.node||t.error("missing node"),e.name&&!c(e.name)&&t.error("invalid dataset name: "+e.name),i.mixin(this),this.highlight=!!e.highlight,this.name=n.toStr(e.name||r()),this.limit=e.limit||5,this.displayFn=a(e.display||e.displayKey),this.templates=l(e.templates,this.displayFn),this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source,this.async=n.isUndefined(e.async)?this.source.length>2:!!e.async,this._resetLastSuggestion(),this.$el=t(e.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return e={dataset:"tt-selectable-dataset",val:"tt-selectable-display",obj:"tt-selectable-object"},r=n.getIdGenerator(),i.extractData=function(n){var r=t(n);return r.data(e.obj)?{dataset:r.data(e.dataset)||"",val:r.data(e.val)||"",obj:r.data(e.obj)||null}:null},n.mixin(i.prototype,o,{_overwrite:function(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",t,!1,this.name)},_append:function(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",t,!0,this.name)},_renderSuggestions:function(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n,r;r=(n=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=r},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(r,i){var o,a=this;return o=document.createDocumentFragment(),n.each(i,(function(n){var i,s;s=a._injectQuery(r,n),i=t(a.templates.suggestion(s)).data(e.dataset,a.name).data(e.obj,n).data(e.val,a.displayFn(n)).addClass(a.classes.suggestion+" "+a.classes.selectable),o.appendChild(i[0])})),this.highlight&&s({className:this.classes.highlight,node:o,pattern:r}),t(o)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(e,t){return n.isObject(t)?n.mixin({_query:e},t):t},update:function(e){var n=this,r=!1,i=!1,o=0;function s(t){i||(i=!0,t=(t||[]).slice(0,n.limit),o=t.length,n._overwrite(e,t),o<n.limit&&n.async&&n.trigger("asyncRequested",e,n.name))}function a(i){if(i=i||[],!r&&o<n.limit){n.cancel=t.noop;var s=Math.abs(o-n.limit);o+=s,n._append(e,i.slice(0,s)),n.async&&n.trigger("asyncReceived",e,n.name)}}this.cancel(),this.cancel=function(){r=!0,n.cancel=t.noop,n.async&&n.trigger("asyncCanceled",e,n.name)},this.source(e,s,a),!i&&s([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i;function a(e){return e=e||n.stringify,n.isFunction(e)?e:t;function t(t){return t[e]}}function l(e,r){return{notFound:e.notFound&&n.templatify(e.notFound),pending:e.pending&&n.templatify(e.pending),header:e.header&&n.templatify(e.header),footer:e.footer&&n.templatify(e.footer),suggestion:e.suggestion?i:o};function i(r){var i=e.suggestion;return t(i(r)).attr("id",n.guid())}function o(e){return t('<div role="option">').attr("id",n.guid()).text(r(e))}}function c(e){return/^[_a-zA-Z0-9-]+$/.test(e)}}(),c=function(){"use strict";function e(e,r){var i=this;function o(e){var n=i.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(i.$node),new l(e,r)}(e=e||{}).node||t.error("node is required"),r.mixin(this),this.$node=t(e.node),this.query=null,this.datasets=n.map(e.datasets,o)}return n.mixin(e.prototype,o,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(e,t,n,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return n.every(this.datasets,n.bind((function(e){var t=e.isEmpty();return this.$node.attr("aria-expanded",!t),t}),this))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,n,r,i;n=(t=e.position().top)+e.outerHeight(!0),r=this.$node.scrollTop(),i=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(r+t):i<n&&this.$node.scrollTop(r+(n-i))},bind:function(){var e,r=this;return e=n.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),this.$node.on("mouseover",this.selectors.selectable,(function(){r.setCursor(t(this))})),this.$node.on("mouseleave",(function(){r._removeCursor()})),n.each(this.datasets,(function(e){e.onSync("asyncRequested",r._propagate,r).onSync("asyncCanceled",r._propagate,r).onSync("asyncReceived",r._propagate,r).onSync("rendered",r._onRendered,r).onSync("cleared",r._onCleared,r)})),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0),this.$node.addClass(this.classes.open)},close:function(){this.$node.attr("aria-expanded",!1),this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,r;return n=this.getActiveSelectable(),t=this._getSelectables(),-1===(r=(r=((r=(n?t.index(n):-1)+e)+1)%(t.length+1)-1)<-1?t.length-1:r)?null:t.eq(r)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?l.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){var t=e!==this.query;return t&&(this.query=e,n.each(this.datasets,r)),t;function r(t){t.update(e)}},empty:function(){function e(e){e.clear()}n.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function e(e){e.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),n.each(this.datasets,e)}}),e}(),u=function(){"use strict";function e(e){this.$el=t("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"}),e.$input.after(this.$el),n.each(e.menu.datasets,n.bind((function(e){e.onSync&&(e.onSync("rendered",n.bind(this.update,this)),e.onSync("cleared",n.bind(this.cleared,this)))}),this))}return n.mixin(e.prototype,{update:function(e,t){var n,r=t.length;n=1===r?{result:"result",is:"is"}:{result:"results",is:"are"},this.$el.text(r+" "+n.result+" "+n.is+" available, use up and down arrow keys to navigate.")},cleared:function(){this.$el.text("")}}),e}(),h=function(){"use strict";var e=c.prototype;function t(){c.apply(this,[].slice.call(arguments,0))}return n.mixin(t.prototype,c.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),d=function(){"use strict";function e(e,i){var o,s,a,l,c,u,h,d,f,p,m;(e=e||{}).input||t.error("missing input"),e.menu||t.error("missing menu"),e.eventBus||t.error("missing event bus"),i.mixin(this),this.eventBus=e.eventBus,this.minLength=n.isNumber(e.minLength)?e.minLength:1,this.input=e.input,this.menu=e.menu,this.enabled=!0,this.autoselect=!!e.autoselect,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=r(this,"activate","open","_onFocused"),s=r(this,"deactivate","_onBlurred"),a=r(this,"isActive","isOpen","_onEnterKeyed"),l=r(this,"isActive","isOpen","_onTabKeyed"),c=r(this,"isActive","_onEscKeyed"),u=r(this,"isActive","open","_onUpKeyed"),h=r(this,"isActive","open","_onDownKeyed"),d=r(this,"isActive","isOpen","_onLeftKeyed"),f=r(this,"isActive","isOpen","_onRightKeyed"),p=r(this,"_openIfActive","_onQueryChanged"),m=r(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}return n.mixin(e.prototype,{_hacks:function(){var e,r;e=this.input.$input||t("<div>"),r=this.menu.$node||t("<div>"),e.on("blur.tt",(function(t){var i,o,s;i=document.activeElement,o=r.is(i),s=r.has(i).length>0,n.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),n.defer((function(){e.focus()})))})),r.on("mousedown.tt",(function(e){e.preventDefault()}))},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,r){if(this._updateHint(),this.autoselect){var i=this.selectors.cursor.substr(1);this.menu.$node.find(this.selectors.suggestion).first().addClass(i)}this.eventBus.trigger("render",t,n,r)},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&(t.preventDefault(),t.stopPropagation()):this.autoselect&&this.select(this.menu.getTopSelectable())&&(t.preventDefault(),t.stopPropagation())},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():this.autoselect&&(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return(e=n.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var e,t,r,i,o,s;e=this.menu.getTopSelectable(),t=this.menu.getSelectableData(e),r=this.input.getInputValue(),!t||n.isBlankString(r)||this.input.hasOverflow()?this.input.clearHint():(i=a.normalizeQuery(r),o=n.escapeRegExChars(i),(s=new RegExp("^(?:"+o+")(.+$)","i").exec(t.val))&&this.input.setHint(r+s[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.input.setAriaExpanded(!0),this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.input.setAriaExpanded(!1),this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(n.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj,t.dataset)||(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj,t.dataset),this.close(),0))},autocomplete:function(e){var t,n;return t=this.input.getQuery(),!(!(n=this.menu.getSelectableData(e))||t===n.val||this.eventBus.before("autocomplete",n.obj,n.dataset)||(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj,n.dataset),0))},moveCursor:function(e){var t,n,r,i,o,s;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),i=(r=this.menu.getSelectableData(n))?r.obj:null,o=r?r.dataset:null,s=n?n.attr("id"):null,this.input.trigger("cursorchange",s),!(this._minLengthMet()&&this.menu.update(t)||this.eventBus.before("cursorchange",i,o)||(this.menu.setCursor(n),r?"string"==typeof r.val&&this.input.setInputValue(r.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",i,o),0))},destroy:function(){this.input.destroy(),this.menu.destroy()}}),e;function r(e){var t=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);n.each(t,(function(t){return e[t].apply(e,r)}))}}}(),void function(){"use strict";var e,o,s;function l(e,n){e.each((function(){var e,r=t(this);(e=r.data(o.typeahead))&&n(e,r)}))}function f(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(m(e)).prop({readonly:!0,required:!1}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1})}function p(e,t){e.data(o.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(e){}return e}function m(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function g(e){var t,r;t=e.data(o.www),r=e.parent().filter(t.selectors.wrapper),n.each(e.data(o.attrs),(function(t,r){n.isUndefined(t)?e.removeAttr(r):e.attr(r,t)})),e.removeData(o.typeahead).removeData(o.www).removeData(o.attr).removeClass(t.classes.input),r.length&&(e.detach().insertAfter(r),r.remove())}function _(e){var r;return(r=n.isJQuery(e)||n.isElement(e)?t(e).first():[]).length?r:null}e=t.fn.typeahead,o={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},s={initialize:function(e,s){var l;return s=n.isArray(s)?s:[].slice.call(arguments,1),l=r((e=e||{}).classNames),this.each(m);function m(){var r,m,g,y,b,v,w,x,M,S,k;n.each(s,(function(t){t.highlight=!!e.highlight})),r=t(this),m=t(l.html.wrapper),g=_(e.hint),y=_(e.menu),b=!1!==e.hint&&!g,v=!1!==e.menu&&!y,b&&(g=f(r,l)),v&&(y=t(l.html.menu).css(l.css.menu)),g&&g.val(""),r=p(r,l),(b||v)&&(m.css(l.css.wrapper),r.css(b?l.css.input:l.css.inputWithNoHint),r.wrap(m).parent().prepend(b?g:null).append(v?y:null)),k=v?h:c,w=new i({el:r}),x=new a({hint:g,input:r,menu:y},l),M=new k({node:y,datasets:s},l),new u({$input:r,menu:M}),S=new d({input:x,menu:M,eventBus:w,minLength:e.minLength,autoselect:e.autoselect},l),r.data(o.www,l),r.data(o.typeahead,S)}},isEnabled:function(){var e;return l(this.first(),(function(t){e=t.isEnabled()})),e},enable:function(){return l(this,(function(e){e.enable()})),this},disable:function(){return l(this,(function(e){e.disable()})),this},isActive:function(){var e;return l(this.first(),(function(t){e=t.isActive()})),e},activate:function(){return l(this,(function(e){e.activate()})),this},deactivate:function(){return l(this,(function(e){e.deactivate()})),this},isOpen:function(){var e;return l(this.first(),(function(t){e=t.isOpen()})),e},open:function(){return l(this,(function(e){e.open()})),this},close:function(){return l(this,(function(e){e.close()})),this},select:function(e){var n=!1,r=t(e);return l(this.first(),(function(e){n=e.select(r)})),n},autocomplete:function(e){var n=!1,r=t(e);return l(this.first(),(function(e){n=e.autocomplete(r)})),n},moveCursor:function(e){var t=!1;return l(this.first(),(function(n){t=n.moveCursor(e)})),t},val:function(e){var t;return arguments.length?(l(this,(function(t){t.setVal(n.toStr(e))})),this):(l(this.first(),(function(e){t=e.getVal()})),t)},destroy:function(){return l(this,(function(e,t){g(t),e.destroy()})),this}},t.fn.typeahead=function(e){return s[e]?s[e].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=e,this}}();var t,n,r,i,o,s,a,l,c,u,h,d}.apply(t,r),void 0===i||(e.exports=i)},3004(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},3035(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},3164(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})}(n(5093))},3322(e,t,n){!function(e){"use strict";var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једног минута"],mm:["минут","минута","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],d:["један дан","једног дана"],dd:["дан","дана","дана"],M:["један месец","једног месеца"],MM:["месец","месеца","месеци"],y:["једну годину","једне године"],yy:["годину","године","година"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var o,s=t.words[r];return 1===r.length?"y"===r&&n?"једна година":i||n?s[0]:s[1]:(o=t.correctGrammaticalCase(e,s),"yy"===r&&n&&"годину"===o?e+" година":e+" "+o)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},3383(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){return"D"===t?e+"er":e},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(5093))},3386(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(5093))},3478(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},3503(){!function(e,t){"use strict";var n=t.module("ngTouch",[]);function r(e,r,i){n.directive(e,["$parse","$swipe",function(n,o){return function(s,a,l){var c,u,h=n(l[e]);var d=["touch"];t.isDefined(l.ngSwipeDisableMouse)||d.push("mouse"),o.bind(a,{start:function(e,t){c=e,u=!0},cancel:function(e){u=!1},end:function(e,t){(function(e){if(!c)return!1;var t=Math.abs(e.y-c.y),n=(e.x-c.x)*r;return u&&t<75&&n>0&&n>30&&t/n<.3})(e)&&s.$apply((function(){a.triggerHandler(i),h(s,{$event:t})}))}},d)}}])}n.info({angularVersion:"1.8.3"}),n.factory("$swipe",[function(){var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function n(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function r(n,r){var i=[];return t.forEach(n,(function(t){var n=e[t][r];n&&i.push(n)})),i.join(" ")}return{bind:function(e,t,i){var o,s,a,l,c=!1;i=i||["mouse","touch","pointer"],e.on(r(i,"start"),(function(e){a=n(e),c=!0,o=0,s=0,l=a,t.start&&t.start(a,e)}));var u=r(i,"cancel");u&&e.on(u,(function(e){c=!1,t.cancel&&t.cancel(e)})),e.on(r(i,"move"),(function(e){if(c&&a){var r=n(e);if(o+=Math.abs(r.x-l.x),s+=Math.abs(r.y-l.y),l=r,!(o<10&&s<10))return s>o?(c=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(r,e)))}})),e.on(r(i,"end"),(function(e){c&&(c=!1,t.end&&t.end(n(e),e))}))}}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular)},3508(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},3601(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},3602(){!function(e,t){"use strict";var n,r,i,o,s,a,l,c,u,h,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",(function(){var f=!1,p=!1;this.$get=["$$sanitizeUri",function(e){return f=!0,p&&r(k,M),function(t){var n=[];return u(t,h(n,(function(t,n){return!/^unsafe:/.test(e(t,n))}))),n.join("")}}],this.enableSvg=function(e){return s(e)?(p=e,this):p},this.addValidElements=function(e){return f||(o(e)&&(e={htmlElements:e}),$(M,e.svgElements),$(_,e.htmlVoidElements),$(k,e.htmlVoidElements),$(k,e.htmlElements)),this},this.addValidAttrs=function(e){return f||r(E,A(e,!0)),this},n=t.bind,r=t.extend,i=t.forEach,o=t.isArray,s=t.isDefined,a=t.$$lowercase,l=t.noop,u=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=P(e);if(!n)return"";var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,e=n.innerHTML,n=P(e)}while(e!==n.innerHTML);var i=n.firstChild;for(;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),R(i.attributes));break;case 3:t.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),o=F("nextSibling",i))))for(;null==o&&(i=F("parentNode",i))!==n;)o=F("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=o}for(;i=n.firstChild;)n.removeChild(i)},h=function(e,t){var r=!1,o=n(e,e.push);return{start:function(e,n){e=a(e),!r&&S[e]&&(r=e),r||!0!==k[e]||(o("<"),o(e),i(n,(function(n,r){var i=a(r),s="img"===e&&"src"===i||"background"===i;!0!==E[i]||!0===T[i]&&!t(n,s)||(o(" "),o(r),o('="'),o(O(n)),o('"'))})),o(">"))},end:function(e){e=a(e),r||!0!==k[e]||!0===_[e]||(o("</"),o(e),o(">")),e==r&&(r=!1)},chars:function(e){r||o(O(e))}}},c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/([^#-~ |!])/g,_=D("area,br,col,hr,img,wbr"),y=D("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=D("rp,rt"),v=r({},b,y),w=r({},y,D("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),x=r({},b,D("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),M=D("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),S=D("script,style"),k=r({},_,w,x,v),T=D("background,cite,href,longdesc,src,xlink:href,xml:base"),L=D("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),C=D("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),E=r({},T,C,L);function D(e,t){return A(e.split(","),t)}function A(e,t){var n,r={};for(n=0;n<e.length;n++)r[t?a(e[n]):e[n]]=!0;return r}function $(e,t){t&&t.length&&r(e,A(t))}var P=function(e,t){if(function(){try{return!!i("")}catch(e){return!1}}())return i;if(!t||!t.implementation)throw d("noinert","Can't create an inert html document");var n=t.implementation.createHTMLDocument("inert"),r=(n.documentElement||n.getDocumentElement()).querySelector("body");return function(e){r.innerHTML=e,t.documentMode&&I(r);return r};function i(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}}(e,e.document);function R(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function O(e){return e.replace(/&/g,"&amp;").replace(m,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(g,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var a=t.firstChild;a&&I(a),t=F("nextSibling",t)}}function F(e,t){var n=t[e];if(n&&c.call(t,n))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}})).info({angularVersion:"1.8.3"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,a=t.isObject,c=t.isString;return function(t,u,d){if(null==t||""===t)return t;if(!c(t))throw i("notstring","Expected string but received: {0}",t);for(var f,p,m,g=s(d)?d:a(d)?function(){return d}:function(){return{}},_=t,y=[];f=_.match(n);)p=f[0],f[2]||f[4]||(p=(f[3]?"http://":"mailto:")+p),m=f.index,b(_.substr(0,m)),v(p,f[0].replace(r,"")),_=_.substring(m+f[0].length);return b(_),e(y.join(""));function b(e){var t,n;e&&y.push((t=e,h(n=[],l).chars(t),n.join("")))}function v(e,t){var n,r=g(e);for(n in y.push("<a "),r)y.push(n+'="'+r[n]+'" ');o(u)&&!("target"in r)&&y.push('target="',u,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),b(t),y.push("</a>")}}}])}(window,window.angular)},3635(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})}(n(5093))},3662(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(6883),n(9139)],void 0===(o="function"==typeof(r=function(e){var t=!1;return e(document).on("mouseup",(function(){t=!1})),e.widget("ui.mouse",{version:"1.14.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o="string"==typeof this.options.cancel&&e(n.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){r.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved&&!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e);return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?r.apply(t,i):r)||(e.exports=o)}()},3739(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})}(n(5093))},3784(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5093))},3827(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"令和",narrow:"㋿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"平成",narrow:"㍻",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"昭和",narrow:"㍼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"大正",narrow:"㍽",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"明治",narrow:"㍾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"西暦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"紀元前",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(元|\d+)年/,eraYearOrdinalParse:function(e,t){return"元"===t[1]?1:parseInt(t[1]||e,10)},months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()!==this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()!==e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"y":return 1===e?"元年":e+"年";case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(5093))},3861(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},r=[/^जन/i,/^फ़र|फर/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सितं|सित/i,/^अक्टू/i,/^नव|नवं/i,/^दिसं|दिस/i],i=[/^जन/i,/^फ़र/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सित/i,/^अक्टू/i,/^नव/i,/^दिस/i];e.defineLocale("hi",{months:{format:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),standalone:"जनवरी_फरवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितंबर_अक्टूबर_नवंबर_दिसंबर".split("_")},monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},monthsParse:r,longMonthsParse:r,shortMonthsParse:i,monthsRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsShortRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsStrictRegex:/^(जनवरी?|फ़रवरी|फरवरी?|मार्च?|अप्रैल?|मई?|जून?|जुलाई?|अगस्त?|सितम्बर|सितंबर|सित?\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर?|दिसम्बर|दिसंबर?)/i,monthsShortStrictRegex:/^(जन\.?|फ़र\.?|मार्च?|अप्रै\.?|मई?|जून?|जुल\.?|अग\.?|सित\.?|अक्टू\.?|नव\.?|दिस\.?)/i,calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})}(n(5093))},3872(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(5093))},4051(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},4063(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(5093))},4083(e,t,n){!function(e){"use strict";var t={standalone:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),format:"ledna_února_března_dubna_května_června_července_srpna_září_října_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),r=[/^led/i,/^úno/i,/^bře/i,/^dub/i,/^kvě/i,/^(čvn|červen$|června)/i,/^(čvc|červenec|července)/i,/^srp/i,/^zář/i,/^říj/i,/^lis/i,/^pro/i],i=/^(leden|únor|březen|duben|květen|červenec|července|červen|června|srpen|září|říjen|listopad|prosinec|led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i;function o(e){return e>1&&e<5&&1!=~~(e/10)}function s(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"ss":return t||r?i+(o(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(o(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(o(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(o(e)?"dny":"dní"):i+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?i+(o(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(o(e)?"roky":"let"):i+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|února|únor|březen|března|duben|dubna|květen|května|červenec|července|červen|června|srpen|srpna|září|říjen|října|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},4160(e,t,n){"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return e}()},4213(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?r(e,t,n):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(i(e))r(e,n,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var h=s.URL||s.webkitURL,d=h.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});s.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,i):r)||(e.exports=o)},4226(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(5093))},4410(e,t,n){var r,i,o;i=[n(6932)],r=function(e){var t,n,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var s=r.length;s;)e.event.fixHooks[r[--s]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(r){var i=r||window.event,s=o.call(arguments,1),l=0,h=0,d=0,f=0,p=0,m=0;if((r=e.event.fix(i)).type="mousewheel","detail"in i&&(d=-1*i.detail),"wheelDelta"in i&&(d=i.wheelDelta),"wheelDeltaY"in i&&(d=i.wheelDeltaY),"wheelDeltaX"in i&&(h=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(h=-1*d,d=0),l=0===d?h:d,"deltaY"in i&&(l=d=-1*i.deltaY),"deltaX"in i&&(h=i.deltaX,0===d&&(l=-1*h)),0!==d||0!==h){if(1===i.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,d*=g,h*=g}else if(2===i.deltaMode){var _=e.data(this,"mousewheel-page-height");l*=_,d*=_,h*=_}if(f=Math.max(Math.abs(d),Math.abs(h)),(!n||f<n)&&(n=f,u(i,f)&&(n/=40)),u(i,f)&&(l/=40,h/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/n),h=Math[h>=1?"floor":"ceil"](h/n),d=Math[d>=1?"floor":"ceil"](d/n),a.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=r.clientX-y.left,m=r.clientY-y.top}return r.deltaX=h,r.deltaY=d,r.deltaFactor=n,r.offsetX=p,r.offsetY=m,r.deltaMode=0,s.unshift(r,l,h,d),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function c(){n=null}function u(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)},4418(e,t,n){!function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^paź/i,/^lis/i,/^gru/i];function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function o(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(i(e)?"godziny":"godzin");case"ww":return r+(i(e)?"tygodnie":"tygodni");case"MM":return r+(i(e)?"miesiące":"miesięcy");case"yy":return r+(i(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzień",dd:"%d dni",w:"tydzień",ww:o,M:"miesiąc",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},4429(e,t,n){!function(e){"use strict";function t(e,t,n,r){if("m"===n)return t?"jedna minuta":r?"jednu minutu":"jedne minute"}function n(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return"jedan sat";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:n,m:t,mm:n,h:n,hh:n,d:"dan",dd:n,M:"mjesec",MM:n,y:"godinu",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},4451(e,t,n){!function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})}(n(5093))},4457(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"săptămâni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,w:"o săptămână",ww:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(5093))},4496(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(5093))},4566(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._må._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_må_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},4691(e,t,n){!function(e){"use strict";function t(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){return 6===this.day()?"[το προηγούμενο] dddd [{}] LT":"[την προηγούμενη] dddd [{}] LT"},sameElse:"L"},calendar:function(e,n){var r=this._calendarEl[e],i=n&&n.hours();return t(r)&&(r=r.apply(n)),r.replace("{}",i%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}(n(5093))},4692(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,m=p.call(Object),g={},_=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},b=r.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||b).createElement("script");if(o.text=e,t)for(r in v)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var M="3.7.1",S=/HTML$/i,k=function(e,t){return new k.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!_(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function L(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}k.fn=k.prototype={jquery:M,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||_(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,s[t]=k.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},k.extend({expando:"jQuery"+(M+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=s(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=k.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!S.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(T(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var C=o.pop,E=o.sort,D=o.splice,A="[\\x20\\t\\r\\n\\f]",$=new RegExp("^"+A+"+|((?:^|[^\\\\])(?:\\\\.)*)"+A+"+$","g");k.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var P=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function R(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}k.escapeSelector=function(e){return(e+"").replace(P,R)};var O=b,I=c;!function(){var e,t,n,i,s,l,c,h,d,p,m=I,_=k.expando,y=0,b=0,v=ee(),w=ee(),x=ee(),M=ee(),S=function(e,t){return e===t&&(s=!0),0},T="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="(?:\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+A+"*("+P+")(?:"+A+"*([*^$|!~]?=)"+A+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+A+"*\\]",F=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",N=new RegExp(A+"+","g"),Y=new RegExp("^"+A+"*,"+A+"*"),j=new RegExp("^"+A+"*([>+~]|"+A+")"+A+"*"),H=new RegExp(A+"|>"),z=new RegExp(F),U=new RegExp("^"+P+"$"),W={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+A+"*(even|odd|(([+-]|)(\\d*)n|)"+A+"*(?:([+-]|)"+A+"*(\\d+)|))"+A+"*\\)|)","i"),bool:new RegExp("^(?:"+T+")$","i"),needsContext:new RegExp("^"+A+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+A+"*((?:-\\d)?\\d*)"+A+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,B=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,V=/[+~]/,X=new RegExp("\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},J=function(){le()},Z=de((function(e){return!0===e.disabled&&L(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(o=a.call(O.childNodes),O.childNodes),o[O.childNodes.length].nodeType}catch(e){m={apply:function(e,t){I.apply(e,a.call(t))},call:function(e){I.apply(e,a.call(arguments,1))}}}function Q(e,t,n,r){var i,o,s,a,c,u,f,p=t&&t.ownerDocument,y=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!r&&(le(t),t=t||l,h)){if(11!==y&&(c=B.exec(e)))if(i=c[1]){if(9===y){if(!(s=t.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(p&&(s=p.getElementById(i))&&Q.contains(t,s)&&s.id===i)return m.call(n,s),n}else{if(c[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!(M[e+" "]||d&&d.test(e))){if(f=e,p=t,1===y&&(H.test(e)||j.test(e))){for((p=V.test(e)&&ae(t.parentNode)||t)==t&&g.scope||((a=t.getAttribute("id"))?a=k.escapeSelector(a):t.setAttribute("id",a=_)),o=(u=ue(e)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+he(u[o]);f=u.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(t){M(e,!0)}finally{a===_&&t.removeAttribute("id")}}}return ye(e.replace($,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[_]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return L(t,"input")&&t.type===e}}function ie(e){return function(t){return(L(t,"input")||L(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Z(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var n,r=e?e.ownerDocument||e:O;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,h=!k.isXMLDoc(l),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&O!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",J),g.getById=ne((function(e){return c.appendChild(e).id=k.expando,!l.getElementsByName||!l.getElementsByName(k.expando).length})),g.disconnectedMatch=ne((function(e){return p.call(e,"*")})),g.scope=ne((function(){return l.querySelectorAll(":scope")})),g.cssHas=ne((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),g.getById?(t.filter.ID=function(e){var t=e.replace(X,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(X,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+_+"' href='' disabled='disabled'></a><select id='"+_+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+A+"*(?:value|"+T+")"),e.querySelectorAll("[id~="+_+"-]").length||d.push("~="),e.querySelectorAll("a#"+_+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+A+"*name"+A+"*="+A+"*(?:''|\"\")")})),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),S=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==O&&Q.contains(O,e)?-1:t===l||t.ownerDocument==O&&Q.contains(O,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(le(e),h&&!M[t+" "]&&(!d||!d.test(t)))try{var n=p.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){M(t,!0)}return Q(t,l,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),k.contains(e,t)},Q.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var r=t.attrHandle[n.toLowerCase()],i=r&&f.call(t.attrHandle,n.toLowerCase())?r(e,n,!h):void 0;return void 0!==i?i:e.getAttribute(n)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k.uniqueSort=function(e){var t,n=[],r=0,o=0;if(s=!g.sortStable,i=!g.sortStable&&a.call(e,0),E.call(e,S),s){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)D.call(e,n[r],1)}return i=null,e},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(a.apply(this)))},t=k.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(X,K),e[3]=(e[3]||e[4]||e[5]||"").replace(X,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(X,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return L(e,t)}},CLASS:function(e){var t=v[e+" "];return t||(t=new RegExp("(^|"+A+")"+e+"("+A+"|$)"))&&v(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=Q.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(N," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,f,p=o!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),b=!l&&!a,v=!1;if(m){if(o){for(;p;){for(h=t;h=h[p];)if(a?L(h,g):1===h.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(v=(d=(c=(u=m[_]||(m[_]={}))[e]||[])[0]===y&&c[1])&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[p]||(v=d=0)||f.pop();)if(1===h.nodeType&&++v&&h===t){u[e]=[y,d,v];break}}else if(b&&(v=d=(c=(u=t[_]||(t[_]={}))[e]||[])[0]===y&&c[1]),!1===v)for(;(h=++d&&h&&h[p]||(v=d=0)||f.pop())&&(!(a?L(h,g):1===h.nodeType)||!++v||(b&&((u=h[_]||(h[_]={}))[e]=[y,v]),h!==t)););return(v-=i)===r||v%r==0&&v/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return i[_]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,o=i(e,n),s=o.length;s--;)e[r=u.call(e,o[s])]=!(t[r]=o[s])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=_e(e.replace($,"$1"));return r[_]?te((function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Q(e,t).length>0}})),contains:te((function(e){return e=e.replace(X,K),function(t){return(t.textContent||k.text(t)).indexOf(e)>-1}})),lang:te((function(e){return U.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(X,K).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return L(e,"input")&&!!e.checked||L(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){return L(e,"input")&&"button"===e.type||L(e,"button")},text:function(e){var t;return L(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:se((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var r,i,o,s,a,l,c,u=w[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(s in r&&!(i=Y.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=j.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace($," ")}),a=a.slice(r.length)),t.filter)!(i=W[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?Q.error(e):w(e,l).slice(0)}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function de(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=b++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,h=[y,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=t[_]||(t[_]={}),i&&L(t,i))t=t[r]||t;else{if((c=u[o])&&c[0]===y&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=e(t,n,l))return!0}return!1}}function fe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function pe(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function me(e,t,n,r,i,o){return r&&!r[_]&&(r=me(r)),i&&!i[_]&&(i=me(i,o)),te((function(o,s,a,l){var c,h,d,f,p=[],g=[],_=s.length,y=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)Q(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),b=!e||!o&&t?y:pe(y,p,e,a,l);if(n?n(b,f=i||(o?e:_||r)?[]:s,a,l):f=b,r)for(c=pe(f,g),r(c,[],a,l),h=c.length;h--;)(d=c[h])&&(f[g[h]]=!(b[g[h]]=d));if(o){if(i||e){if(i){for(c=[],h=f.length;h--;)(d=f[h])&&c.push(b[h]=d);i(null,f=[],c,l)}for(h=f.length;h--;)(d=f[h])&&(c=i?u.call(o,d):p[h])>-1&&(o[c]=!(s[c]=d))}}else f=pe(f===s?f.splice(_,f.length):f),i?i(null,s,f,l):m.apply(s,f)}))}function ge(e){for(var r,i,o,s=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,h=de((function(e){return e===r}),l,!0),d=de((function(e){return u.call(r,e)>-1}),l,!0),f=[function(e,t,i){var o=!a&&(i||t!=n)||((r=t).nodeType?h(e,t,i):d(e,t,i));return r=null,o}];c<s;c++)if(i=t.relative[e[c].type])f=[de(fe(f),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[_]){for(o=++c;o<s&&!t.relative[e[o].type];o++);return me(c>1&&fe(f),c>1&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace($,"$1"),i,c<o&&ge(e.slice(c,o)),o<s&&ge(e=e.slice(o)),o<s&&he(e))}f.push(i)}return fe(f)}function _e(e,r){var i,o=[],s=[],a=x[e+" "];if(!a){for(r||(r=ue(e)),i=r.length;i--;)(a=ge(r[i]))[_]?o.push(a):s.push(a);a=x(e,function(e,r){var i=r.length>0,o=e.length>0,s=function(s,a,c,u,d){var f,p,g,_=0,b="0",v=s&&[],w=[],x=n,M=s||o&&t.find.TAG("*",d),S=y+=null==x?1:Math.random()||.1,T=M.length;for(d&&(n=a==l||a||d);b!==T&&null!=(f=M[b]);b++){if(o&&f){for(p=0,a||f.ownerDocument==l||(le(f),c=!h);g=e[p++];)if(g(f,a||l,c)){m.call(u,f);break}d&&(y=S)}i&&((f=!g&&f)&&_--,s&&v.push(f))}if(_+=b,i&&b!==_){for(p=0;g=r[p++];)g(v,w,a,c);if(s){if(_>0)for(;b--;)v[b]||w[b]||(w[b]=C.call(u));w=pe(w)}m.apply(u,w),d&&!s&&w.length>0&&_+r.length>1&&k.uniqueSort(u)}return d&&(y=S,n=x),v};return i?te(s):s}(s,o)),a.selector=e}return a}function ye(e,n,r,i){var o,s,a,l,c,u="function"==typeof e&&e,d=!i&&ue(e=u.selector||e);if(r=r||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&h&&t.relative[s[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(X,K),n)||[])[0]))return r;u&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(o=W.needsContext.test(e)?0:s.length;o--&&(a=s[o],!t.relative[l=a.type]);)if((c=t.find[l])&&(i=c(a.matches[0].replace(X,K),V.test(s[0].type)&&ae(n.parentNode)||n))){if(s.splice(o,1),!(e=i.length&&he(s)))return m.apply(r,i),r;break}}return(u||_e(e,d))(i,n,!h,r,!n||V.test(e)&&ae(n.parentNode)||n),r}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=_.split("").sort(S).join("")===_,le(),g.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),k.find=Q,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,Q.compile=_e,Q.select=ye,Q.setDocument=le,Q.tokenize=ue,Q.escape=k.escapeSelector,Q.getText=k.text,Q.isXML=k.isXMLDoc,Q.selectors=k.expr,Q.support=k.support,Q.uniqueSort=k.uniqueSort}();var F=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Y=k.expr.match.needsContext,j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(e,t,n){return _(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return u.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(H(this,e||[],!1))},not:function(e){return this.pushStack(H(this,e||[],!0))},is:function(e){return!!H(this,"string"==typeof e&&Y.test(e)?k(e):e||[],!1).length}});var z,U=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||z,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:U.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),j.test(r[1])&&k.isPlainObject(t))for(r in t)_(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,z=k(b);var W=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function q(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&k(e);if(!Y.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return F(e,"parentNode")},parentsUntil:function(e,t,n){return F(e,"parentNode",n)},next:function(e){return q(e,"nextSibling")},prev:function(e){return q(e,"previousSibling")},nextAll:function(e){return F(e,"nextSibling")},prevAll:function(e){return F(e,"previousSibling")},nextUntil:function(e,t,n){return F(e,"nextSibling",n)},prevUntil:function(e,t,n){return F(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(L(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=k.filter(r,i)),this.length>1&&(G[e]||k.uniqueSort(i),W.test(e)&&i.reverse()),this.pushStack(i)}}));var B=/[^\x20\t\r\n\f]+/g;function V(e){return e}function X(e){throw e}function K(e,t,n,r){var i;try{e&&_(i=e.promise)?i.call(e).done(t).fail(n):e&&_(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(B)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){k.each(n,(function(n,r){_(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var i=_(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&_(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<o)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,_(c)?i?c.call(r,s(o,t,V,i),s(o,t,X,i)):(o++,c.call(r,s(o,t,V,i),s(o,t,X,i),s(o,t,V,t.notifyWith))):(n!==V&&(a=void 0,l=[r]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,u.error),e+1>=o&&(n!==X&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?u():(k.Deferred.getErrorHook?u.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(u.error=k.Deferred.getStackHook()),r.setTimeout(u))}}return k.Deferred((function(r){t[0][3].add(s(0,r,_(i)?i:V,r.notifyWith)),t[1][3].add(s(0,r,_(e)?e:V)),t[2][3].add(s(0,r,_(n)?n:X))})).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},o={};return k.each(t,(function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=k.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(K(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||_(i[n]&&i[n].then)))return o.then();for(;n--;)K(i[n],s(n),o.reject);return o.promise()}});var J=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&J.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){r.setTimeout((function(){throw e}))};var Z=k.Deferred();function Q(){b.removeEventListener("DOMContentLoaded",Q),r.removeEventListener("load",Q),k.ready()}k.fn.ready=function(e){return Z.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||Z.resolveWith(b,[k]))}}),k.ready.then=Z.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",Q),r.addEventListener("load",Q));var ee=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===x(n))for(a in i=!0,n)ee(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,_(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=k.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(B)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var ae=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function he(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}le.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=le.get(o),1===o.nodeType&&!ae.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=ie(r.slice(5)),he(o,r,i[r]));ae.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=le.get(o,e))||void 0!==(n=he(o,e))?n:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ae.get(e,t),n&&(!r||Array.isArray(n)?r=ae.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){k.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:k.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ae.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],me=b.documentElement,ge=function(e){return k.contains(e.ownerDocument,e)},_e={composed:!0};me.getRootNode&&(ge=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(_e)===e.ownerDocument});var ye=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===k.css(e,"display")};function be(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=a(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&fe.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)k.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var ve={};function we(e){var t,n=e.ownerDocument,r=e.nodeName,i=ve[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ve[r]=i,i)}function xe(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=ae.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ye(r)&&(i[o]=we(r))):"none"!==n&&(i[o]="none",ae.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return xe(this,!0)},hide:function(){return xe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ye(this)?k(this).show():k(this).hide()}))}});var Me,Se,ke=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Le=/^$|^module$|\/(?:java|ecma)script/i;Me=b.createDocumentFragment().appendChild(b.createElement("div")),(Se=b.createElement("input")).setAttribute("type","radio"),Se.setAttribute("checked","checked"),Se.setAttribute("name","t"),Me.appendChild(Se),g.checkClone=Me.cloneNode(!0).cloneNode(!0).lastChild.checked,Me.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!Me.cloneNode(!0).lastChild.defaultValue,Me.innerHTML="<option></option>",g.option=!!Me.lastChild;var Ce={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ee(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&L(e,t)?k.merge([e],n):n}function De(e,t){for(var n=0,r=e.length;n<r;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}Ce.tbody=Ce.tfoot=Ce.colgroup=Ce.caption=Ce.thead,Ce.th=Ce.td,g.option||(Ce.optgroup=Ce.option=[1,"<select multiple='multiple'>","</select>"]);var Ae=/<|&#?\w+;/;function $e(e,t,n,r,i){for(var o,s,a,l,c,u,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===x(o))k.merge(d,o.nodeType?[o]:o);else if(Ae.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(Te.exec(o)||["",""])[1].toLowerCase(),l=Ce[a]||Ce._default,s.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;k.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(r&&k.inArray(o,r)>-1)i&&i.push(o);else if(c=ge(o),s=Ee(h.appendChild(o),"script"),c&&De(s),n)for(u=0;o=s[u++];)Le.test(o.type||"")&&n.push(o);return h}var Pe=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function Oe(){return!1}function Ie(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Ie(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Oe;else if(!i)return e;return 1===o&&(s=i,i=function(e){return k().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,r,n)}))}function Fe(e,t,n){n?(ae.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,r=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),ae.set(this,t,r),this[t](),n=ae.get(this,t),ae.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(ae.set(this,t,k.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Re)}})):void 0===ae.get(e,t)&&k.event.add(e,t,Re)}k.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,f,p,m,g=ae.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(me,i),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)f=m=(a=Pe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=k.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=k.event.special[f]||{},u=k.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),k.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,f,p,m,g=ae.hasData(e)&&ae.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(f=m=(a=Pe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=k.event.special[f]||{},d=l[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||k.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)k.event.remove(e,f+t[c],n,r,!0);k.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),l=k.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=k.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ke.test(t.type)&&t.click&&L(t,"input")&&Fe(t,"click",!0),!1},trigger:function(e){var t=this||e;return ke.test(t.type)&&t.click&&L(t,"input")&&Fe(t,"click"),!0},_default:function(e){var t=e.target;return ke.test(t.type)&&t.click&&L(t,"input")&&ae.get(t,"click")||L(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(b.documentMode){var n=ae.get(this,"handle"),r=k.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else k.event.simulate(t,e.target,k.event.fix(e))}k.event.special[e]={setup:function(){var r;if(Fe(this,e,!0),!b.documentMode)return!1;(r=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(r||0)+1)},trigger:function(){return Fe(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t);o||(b.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),ae.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t)-1;o?ae.set(i,t,o):(b.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),ae.remove(i,t))}}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||k.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return Ie(this,e,t,n,r)},one:function(e,t,n,r){return Ie(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Oe),this.each((function(){k.event.remove(this,e,n,t)}))}});var Ne=/<script|<style|<link/i,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function He(e,t){return L(e,"table")&&L(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ue(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)k.event.add(t,i,a[i][n]);le.hasData(e)&&(o=le.access(e),s=k.extend({},o),le.set(t,s))}}function Ge(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,r){t=l(t);var i,o,s,a,c,u,h=0,d=e.length,f=d-1,p=t[0],m=_(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&Ye.test(p))return e.each((function(i){var o=e.eq(i);m&&(t[0]=p.call(this,i,o.html())),qe(o,t,n,r)}));if(d&&(o=(i=$e(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=k.map(Ee(i,"script"),ze)).length;h<d;h++)c=i,h!==f&&(c=k.clone(c,!0,!0),a&&k.merge(s,Ee(c,"script"))),n.call(e[h],c,h);if(a)for(u=s[s.length-1].ownerDocument,k.map(s,Ue),h=0;h<a;h++)c=s[h],Le.test(c.type||"")&&!ae.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(je,""),c,u))}return e}function Be(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(Ee(r)),r.parentNode&&(n&&ge(r)&&De(Ee(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(s=Ee(a),r=0,i=(o=Ee(e)).length;r<i;r++)Ge(o[r],s[r]);if(t)if(n)for(o=o||Ee(e),s=s||Ee(a),r=0,i=o.length;r<i;r++)We(o[r],s[r]);else We(e,a);return(s=Ee(a,"script")).length>0&&De(s,!l&&Ee(e,"script")),a},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[ae.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[ae.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return qe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)}))},prepend:function(){return qe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Ee(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!Ce[(Te.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Ee(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Ee(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],i=k(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),k(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Ve=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Xe=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Je=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ze=new RegExp(pe.join("|"),"i");function Qe(e,t,n){var r,i,o,s,a=Xe.test(t),l=e.style;return(n=n||Ke(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace($,"$1")||void 0),""!==s||ge(e)||(s=k.style(e,t)),!g.pixelBoxStyles()&&Ve.test(s)&&Ze.test(t)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==s?s+"":s}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),me.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",me.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,me.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],nt=b.createElement("div").style,rt={};function it(e){var t=k.cssProps[e]||rt[e];return t||(e in nt?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var r=fe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ct(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=k.css(e,n+pe[s],!0,i)),r?("content"===n&&(l-=k.css(e,"padding"+pe[s],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+pe[s]+"Width",!0,i))):(l+=k.css(e,"padding"+pe[s],!0,i),"padding"!==n?l+=k.css(e,"border"+pe[s]+"Width",!0,i):a+=k.css(e,"border"+pe[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l+c}function ut(e,t,n){var r=Ke(e),i=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,s=Qe(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ve.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&L(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ct(e,t,n||(i?"border":"content"),o,r,s)+"px"}function ht(e,t,n,r,i){return new ht.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie(t),l=Xe.test(t),c=e.style;if(l||(t=it(a)),s=k.cssHooks[t]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=fe.exec(n))&&i[1]&&(n=be(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(k.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=ie(t);return Xe.test(t)||(t=it(a)),(s=k.cssHooks[t]||k.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Qe(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!ot.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,r):Je(e,st,(function(){return ut(e,t,r)}))},set:function(e,n,r){var i,o=Ke(e),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===k.css(e,"boxSizing",!1,o),l=r?ct(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ct(e,t,"border",!1,o)-.5)),l&&(i=fe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),lt(0,n,l)}}})),k.cssHooks.marginLeft=et(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+pe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=lt)})),k.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Ke(e),i=t.length;s<i;s++)o[t[s]]=k.css(e,t[s],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=ht,ht.prototype={constructor:ht,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,n=ht.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ht.propHooks._default.set(this),this}},ht.prototype.init.prototype=ht.prototype,ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},ht.propHooks.scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=ht.prototype.init,k.fx.step={};var dt,ft,pt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;function gt(){ft&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(gt):r.setTimeout(gt,k.fx.interval),k.fx.tick())}function _t(){return r.setTimeout((function(){dt=void 0})),dt=Date.now()}function yt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=pe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function bt(e,t,n){for(var r,i=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function vt(e,t,n){var r,i,o=0,s=vt.prefilters.length,a=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=dt||_t(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||_t(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=k.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=vt.prefilters[o].call(c,e,u,c.opts))return _(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(u,bt,c),_(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){_(e)?(t=e,e=["*"]):e=e.match(B);for(var n,r=0,i=e.length;r<i;r++)n=e[r],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&ye(e),g=ae.get(e,"fxshow");for(r in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[r],pt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=ae.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(xe([e],!0),c=e.style.display||c,u=k.css(e,"display"),xe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(d.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=ae.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&xe([e],!0),d.done((function(){for(r in m||xe([e]),ae.remove(e,"fxshow"),f)k.style(e,r,f[r])}))),l=bt(m?g[r]:0,r,d),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||_(e)&&e,duration:e,easing:n&&t||t&&!_(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ye).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),o=k.speed(t,n,r),s=function(){var t=vt(this,k.extend({},e),o);(i||ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=k.timers,s=ae.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&mt.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ae.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=k.timers,s=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(yt(t,!0),e,r,i)}})),k.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),dt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ft||(ft=!0,gt())},k.fx.stop=function(){ft=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var wt,xt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return ee(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&L(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(B);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=xt[t]||k.find.attr;xt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=xt[s],xt[s]=i,i=null!=n(e,t,r)?s:null,xt[s]=o),i}}));var Mt=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;function kt(e){return(e.match(B)||[]).join(" ")}function Tt(e){return e.getAttribute&&e.getAttribute("class")||""}function Lt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}k.fn.extend({prop:function(e,t){return ee(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):Mt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,i,o,s;return _(e)?this.each((function(t){k(this).addClass(e.call(this,t,Tt(this)))})):(t=Lt(e)).length?this.each((function(){if(r=Tt(this),n=1===this.nodeType&&" "+kt(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=kt(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,r,i,o,s;return _(e)?this.each((function(t){k(this).removeClass(e.call(this,t,Tt(this)))})):arguments.length?(t=Lt(e)).length?this.each((function(){if(r=Tt(this),n=1===this.nodeType&&" "+kt(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=kt(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,s=typeof e,a="string"===s||Array.isArray(e);return _(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,Tt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=Lt(e),this.each((function(){if(a)for(o=k(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==s||((r=Tt(this))&&ae.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+kt(Tt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;k.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=_(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,k(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ct,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:kt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!L(n.parentNode,"optgroup"))){if(t=k(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),s=i.length;s--;)((r=i[s]).selected=k.inArray(k.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Et=r.location,Dt={guid:Date.now()},At=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var $t=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,i){var o,s,a,l,c,u,h,d,p=[n||b],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!$t.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),h=k.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!y(n)){for(l=h.delegateType||m,$t.test(l+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||b)&&p.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?l:h.bindType||m,(u=(ae.get(s,"events")||Object.create(null))[e.type]&&ae.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&oe(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!oe(n)||c&&_(n[m])&&!y(n)&&((a=n[c])&&(n[c]=null),k.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,Pt),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,Pt),k.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}});var Rt=/\[\]$/,Ot=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,n,r){var i;if(Array.isArray(t))k.each(t,(function(t,i){n||Rt.test(e)?r(e,i):Nt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(i in t)Nt(e+"["+i+"]",t[i],n,r)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=_(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(n in e)Nt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Ft.test(this.nodeName)&&!It.test(e)&&(this.checked||!ke.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}})):{name:t.name,value:n.replace(Ot,"\r\n")}})).get()}});var Yt=/%20/g,jt=/#.*$/,Ht=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,Wt=/^\/\//,Gt={},qt={},Bt="*/".concat("*"),Vt=b.createElement("a");function Xt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(B)||[];if(_(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Kt(e,t,n,r){var i={},o=e===qt;function s(a){var l;return i[a]=!0,k.each(e[a]||[],(function(e,a){var c=a(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Jt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Vt.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,k.ajaxSettings),t):Jt(k.ajaxSettings,e)},ajaxPrefilter:Xt(Gt),ajaxTransport:Xt(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,a,l,c,u,h,d,f=k.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?k(p):k.event,g=k.Deferred(),_=k.Callbacks("once memory"),y=f.statusCode||{},v={},w={},x="canceled",M={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=zt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)M.always(e[M.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),S(0,t),this}};if(g.promise(M),f.url=((e||f.url||Et.href)+"").replace(Wt,Et.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(B)||[""],null==f.crossDomain){l=b.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Vt.protocol+"//"+Vt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),Kt(Gt,f,t,M),c)return M;for(h in(u=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ut.test(f.type),i=f.url.replace(jt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Yt,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(At.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Ht,"$1"),d=(At.test(i)?"&":"?")+"_="+Dt.guid+++d),f.url=i+d),f.ifModified&&(k.lastModified[i]&&M.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&M.setRequestHeader("If-None-Match",k.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&M.setRequestHeader("Content-Type",f.contentType),M.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Bt+"; q=0.01":""):f.accepts["*"]),f.headers)M.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,M,f)||c))return M.abort();if(x="abort",_.add(f.complete),M.done(f.success),M.fail(f.error),n=Kt(qt,f,t,M)){if(M.readyState=1,u&&m.trigger("ajaxSend",[M,f]),c)return M;f.async&&f.timeout>0&&(a=r.setTimeout((function(){M.abort("timeout")}),f.timeout));try{c=!1,n.send(v,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,s,l){var h,d,b,v,w,x=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,o=l||"",M.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(v=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,M,s)),!h&&k.inArray("script",f.dataTypes)>-1&&k.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),v=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,v,M,h),h?(f.ifModified&&((w=M.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=w),(w=M.getResponseHeader("etag"))&&(k.etag[i]=w)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=v.state,d=v.data,h=!(b=v.error))):(b=x,!e&&x||(x="error",e<0&&(e=0))),M.status=e,M.statusText=(t||x)+"",h?g.resolveWith(p,[d,x,M]):g.rejectWith(p,[M,x,b]),M.statusCode(y),y=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[M,f,h?d:b]),_.fireWith(p,[M,x]),u&&(m.trigger("ajaxComplete",[M,f]),--k.active||k.event.trigger("ajaxStop")))}return M},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,i){return _(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return _(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=_(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},Qt=k.ajaxSettings.xhr();g.cors=!!Qt&&"withCredentials"in Qt,g.ajax=Qt=!!Qt,k.ajaxTransport((function(e){var t,n;if(g.cors||Qt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||k.expando+"_"+Dt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(nn,"$1"+i):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||k.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?k(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,tn.push(i)),s&&_(o)&&o(s[0]),s=o=void 0})),"script"})),g.createHTMLDocument=((en=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),o=!n&&[],(i=j.exec(e))?[t.createElement(i[1])]:(i=$e([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=kt(e.slice(a)),e=e.slice(0,a)),_(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=k.css(e,"position"),u=k(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),_(t)&&(t=t.call(e,n,k.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):u.css(h)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||me}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return ee(this,(function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=et(g.pixelPosition,(function(e,n){if(n)return n=Qe(e,t),Ve.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return ee(this,(function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?k.css(t,n,a):k.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),_(e))return r=a.call(arguments,2),i=function(){return e.apply(t||this,r.concat(a.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=L,k.isFunction=_,k.isWindow=y,k.camelCase=ie,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var on=r.jQuery,sn=r.$;return k.noConflict=function(e){return r.$===k&&(r.$=sn),e&&r.jQuery===k&&(r.jQuery=on),k},void 0===i&&(r.jQuery=r.$=k),k}))},4697(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},4720(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(3662),n(1897),n(6883),n(9139)],r=function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)s.push(o);this.handles=i.add(e(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)}))},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,o,s,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var n=Math.abs(r-c.values(t));(i>n||i===n&&(t===c._lastChangedValue||c.values(t)===u.min))&&(i=n,o=e(this),s=t)})),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-o.width()/2,top:t.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/t)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_uiHash:function(e,t,n){var r={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var r,i=this.value(),o=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),i=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(r,n):Math.max(r,n)),o[t]=n),n!==i&&!1!==this._trigger("slide",e,this._uiHash(t,n,o))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var n,r,i;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!Array.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=arguments[0],i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(r[i]),this._change(null,i);this._refreshValue()},_setOption:function(e,t){var n,r=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,r,i,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each((function(r){n=(l.values(r)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===r&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===r&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===r&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===r&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n})):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(t){var n,r,i,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,o)))return}switch(i=this.options.step,n=r=this._hasMultipleValues()?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(t,o,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}})},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},4903(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(5093))},4996(e,t,n){var r=n(6932);!function(){"use strict";angular.module("floatThead",[]).directive("floatThead",["$timeout","$log",function(e,t){return{require:"?ngModel",scope:{floatThead:"=?",floatTheadEnabled:"=?"},controller:["$scope","$element","$attrs",function(e,t,n){n.hasOwnProperty("floatTheadEnabled")||(e.floatTheadEnabled=n.floatTheadEnabled=!0),n.hasOwnProperty("floatThead")&&""!==n.floatThead||(e.floatThead=n.floatThead={})}],link:function(n,i,o,s){n.$watch("floatTheadEnabled",(function(e){!0===e?angular.isObject(n.floatThead)&&r(i).floatThead(n.floatThead):r(i).floatThead("destroy")})),n.$watch("floatThead",(function(e,t){e!==t&&n.floatTheadEnabled&&(r(i).floatThead("destroy"),angular.isObject(e)&&r(i).floatThead(e))}),!0),s?s.$formatters.push((function(){n.floatTheadEnabled&&angular.isObject(n.floatThead)&&e((function(){r(i).floatThead("reflow")}))})):t.info("floatThead: ngModel not provided!");i.bind("update",(function(){e((function(){r(i).floatThead("reflow")}),0)})),i.bind("$destroy",(function(){r(i).floatThead("destroy")}))},restrict:"A"}}])}()},5050(e,t,n){!function(e){"use strict";var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પહેલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})}(n(5093))},5093(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function o(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(l(e,t))return!1;return!0}function u(e){return void 0===e}function h(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,r){return Xn(e,t,n,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _(e){return null==e._pf&&(e._pf=g()),e._pf}function y(e){var t=null,n=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=_(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function b(e){var t=m(NaN);return null!=e?p(_(t),e):_(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=i.momentProperties=[],w=!1;function x(e,t){var n,r,i,o=v.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=_(t)),u(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)u(i=t[r=v[n]])||(e[r]=i);return e}function M(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,i.updateOffset(this),w=!1)}function S(e){return e instanceof M||null!=e&&null!=e._isAMomentObject}function k(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return p((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,o,s,a=[],c=arguments.length;for(o=0;o<c;o++){if(r="","object"==typeof arguments[o]){for(s in r+="\n["+o+"] ",arguments[0])l(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[o];a.push(r)}k(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var L,C={};function E(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),C[e]||(k(t),C[e]=!0)}function D(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)l(e,n)&&(D(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $(e,t){var n,r=p({},e);for(n in t)l(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&a(e[n])&&(r[n]=p({},r[n]));return r}function P(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,L=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return D(r)?r.call(t,n):r}function I(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},j={};function H(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(j[e]=i),t&&(j[t[0]]=function(){return I(i.apply(this,arguments),t[1],t[2])}),n&&(j[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,n,r=e.match(F);for(t=0,n=r.length;t<n;t++)j[r[t]]?r[t]=j[r[t]]:r[t]=z(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=D(r[i])?r[i].call(t,e):r[i];return o}}function W(e,t){return e.isValid()?(t=G(t,e.localeData()),Y[t]=Y[t]||U(t),Y[t](e)):e.localeData().invalidDate()}function G(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,r),N.lastIndex=0,n-=1;return e}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function B(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(F).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var V="Invalid date";function X(){return this._invalidDate}var K="%d",J=/\d{1,2}/;function Z(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ee(e,t,n,r){var i=this._relativeTime[n];return D(i)?i(e,t,n,r):i.replace(/%d/i,e)}function te(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)}var ne={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function re(e){return"string"==typeof e?ne[e]||ne[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)l(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function se(e){var t,n=[];for(t in e)l(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var ae,le=/\d/,ce=/\d\d/,ue=/\d{3}/,he=/\d{4}/,de=/[+-]?\d{6}/,fe=/\d\d?/,pe=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,ge=/\d{1,3}/,_e=/\d{1,4}/,ye=/[+-]?\d{1,6}/,be=/\d+/,ve=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,xe=/Z|[+-]\d\d(?::?\d\d)?/gi,Me=/[+-]?\d+(\.\d{1,3})?/,Se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ke=/^[1-9]\d?/,Te=/^([1-9]\d|\d)/;function Le(e,t,n){ae[e]=D(t)?t:function(e,r){return e&&n?n:t}}function Ce(e,t){return l(ae,e)?ae[e](t._strict,t._locale):new RegExp(Ee(e))}function Ee(e){return De(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function De(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ae(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $e(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ae(t)),n}ae={};var Pe={};function Re(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),h(t)&&(i=function(e,n){n[t]=$e(e)}),r=e.length,n=0;n<r;n++)Pe[e[n]]=i}function Oe(e,t){Re(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ie(e,t,n){null!=t&&l(Pe,e)&&Pe[e](t,n._a,n,e)}function Fe(e){return e%4==0&&e%100!=0||e%400==0}var Ne=0,Ye=1,je=2,He=3,ze=4,Ue=5,We=6,Ge=7,qe=8;function Be(e){return Fe(e)?366:365}H("Y",0,0,(function(){var e=this.year();return e<=9999?I(e,4):"+"+e})),H(0,["YY",2],0,(function(){return this.year()%100})),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),Le("Y",ve),Le("YY",fe,ce),Le("YYYY",_e,he),Le("YYYYY",ye,de),Le("YYYYYY",ye,de),Re(["YYYYY","YYYYYY"],Ne),Re("YYYY",(function(e,t){t[Ne]=2===e.length?i.parseTwoDigitYear(e):$e(e)})),Re("YY",(function(e,t){t[Ne]=i.parseTwoDigitYear(e)})),Re("Y",(function(e,t){t[Ne]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return $e(e)+($e(e)>68?1900:2e3)};var Ve,Xe=Je("FullYear",!0);function Ke(){return Fe(this.year())}function Je(e,t){return function(n){return null!=n?(Qe(this,e,n),i.updateOffset(this,t),this):Ze(this,e)}}function Ze(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Qe(e,t,n){var r,i,o,s,a;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=e.month(),a=29!==(a=e.date())||1!==s||Fe(o)?a:28,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function et(e){return D(this[e=re(e)])?this[e]():this}function tt(e,t){if("object"==typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(D(this[e=re(e)]))return this[e](t);return this}function nt(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nt(t,12);return e+=(t-n)/12,1===n?Fe(e)?29:28:31-n%7%2}Ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",(function(){return this.month()+1})),H("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),H("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Le("M",fe,ke),Le("MM",fe,ce),Le("MMM",(function(e,t){return t.monthsShortRegex(e)})),Le("MMMM",(function(e,t){return t.monthsRegex(e)})),Re(["M","MM"],(function(e,t){t[Ye]=$e(e)-1})),Re(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ye]=i:_(n).invalidMonth=e}));var it="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,at=Se,lt=Se;function ct(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ut(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ht(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=m([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ve.call(this._shortMonthsParse,s))?i:null:-1!==(i=Ve.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=Ve.call(this._shortMonthsParse,s))||-1!==(i=Ve.call(this._longMonthsParse,s))?i:null:-1!==(i=Ve.call(this._longMonthsParse,s))||-1!==(i=Ve.call(this._shortMonthsParse,s))?i:null}function dt(e,t,n){var r,i,o;if(this._monthsParseExact)return ht.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=m([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ft(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=$e(t);else if(!h(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,rt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function pt(e){return null!=e?(ft(this,e),i.updateOffset(this,!0),this):Ze(this,"Month")}function mt(){return rt(this.year(),this.month())}function gt(e){return this._monthsParseExact?(l(this,"_monthsRegex")||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=at),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function _t(e){return this._monthsParseExact?(l(this,"_monthsRegex")||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=lt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r,i,o=[],s=[],a=[];for(t=0;t<12;t++)n=m([2e3,t]),r=De(this.monthsShort(n,"")),i=De(this.months(n,"")),o.push(r),s.push(i),a.push(i),a.push(r);o.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function bt(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function vt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+vt(e,0,r).getUTCDay()-t)%7+r-1}function xt(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return a<=0?s=Be(o=e-1)+a:a>Be(e)?(o=e+1,s=a-Be(e)):(o=e,s=a),{year:o,dayOfYear:s}}function Mt(e,t,n){var r,i,o=wt(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+St(i=e.year()-1,t,n):s>St(e.year(),t,n)?(r=s-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function St(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(Be(e)-r+i)/7}function kt(e){return Mt(e,this._week.dow,this._week.doy).week}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),Le("w",fe,ke),Le("ww",fe,ce),Le("W",fe,ke),Le("WW",fe,ce),Oe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=$e(e)}));var Tt={dow:0,doy:6};function Lt(){return this._week.dow}function Ct(){return this._week.doy}function Et(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Dt(e){var t=Mt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function $t(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}H("d",0,"do","day"),H("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),H("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),H("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),Le("d",fe),Le("e",fe),Le("E",fe),Le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Le("dddd",(function(e,t){return t.weekdaysRegex(e)})),Oe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:_(n).invalidWeekday=e})),Oe(["d","e","E"],(function(e,t,n,r){t[r]=$e(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),It="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ft=Se,Nt=Se,Yt=Se;function jt(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}function Ht(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ut(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=m([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ve.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Ve.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=Ve.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=Ve.call(this._weekdaysParse,s))||-1!==(i=Ve.call(this._shortWeekdaysParse,s))||-1!==(i=Ve.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Ve.call(this._shortWeekdaysParse,s))||-1!==(i=Ve.call(this._weekdaysParse,s))||-1!==(i=Ve.call(this._minWeekdaysParse,s))?i:null:-1!==(i=Ve.call(this._minWeekdaysParse,s))||-1!==(i=Ve.call(this._weekdaysParse,s))||-1!==(i=Ve.call(this._shortWeekdaysParse,s))?i:null}function Wt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ut.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=m([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=Ze(this,"Day");return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Bt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=$t(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Vt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ft),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),r=De(this.weekdaysMin(n,"")),i=De(this.weekdaysShort(n,"")),o=De(this.weekdays(n,"")),s.push(r),a.push(i),l.push(o),c.push(r),c.push(i),c.push(o);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function en(e,t){H(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function tn(e,t){return t._meridiemParse}function nn(e){return"p"===(e+"").toLowerCase().charAt(0)}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Zt),H("k",["kk",2],0,Qt),H("hmm",0,0,(function(){return""+Zt.apply(this)+I(this.minutes(),2)})),H("hmmss",0,0,(function(){return""+Zt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)})),H("Hmm",0,0,(function(){return""+this.hours()+I(this.minutes(),2)})),H("Hmmss",0,0,(function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)})),en("a",!0),en("A",!1),Le("a",tn),Le("A",tn),Le("H",fe,Te),Le("h",fe,ke),Le("k",fe,ke),Le("HH",fe,ce),Le("hh",fe,ce),Le("kk",fe,ce),Le("hmm",pe),Le("hmmss",me),Le("Hmm",pe),Le("Hmmss",me),Re(["H","HH"],He),Re(["k","kk"],(function(e,t,n){var r=$e(e);t[He]=24===r?0:r})),Re(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Re(["h","hh"],(function(e,t,n){t[He]=$e(e),_(n).bigHour=!0})),Re("hmm",(function(e,t,n){var r=e.length-2;t[He]=$e(e.substr(0,r)),t[ze]=$e(e.substr(r)),_(n).bigHour=!0})),Re("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=$e(e.substr(0,r)),t[ze]=$e(e.substr(r,2)),t[Ue]=$e(e.substr(i)),_(n).bigHour=!0})),Re("Hmm",(function(e,t,n){var r=e.length-2;t[He]=$e(e.substr(0,r)),t[ze]=$e(e.substr(r))})),Re("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=$e(e.substr(0,r)),t[ze]=$e(e.substr(r,2)),t[Ue]=$e(e.substr(i))}));var rn=/[ap]\.?m?\.?/i,on=Je("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,ln={calendar:R,longDateFormat:q,invalidDate:V,ordinal:K,dayOfMonthOrdinalParse:J,relativeTime:Q,months:it,monthsShort:ot,week:Tt,weekdays:Rt,weekdaysMin:It,weekdaysShort:Ot,meridiemParse:rn},cn={},un={};function hn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=dn(e[o]).split("-")).length,n=(n=dn(e[o+1]))?n.split("-"):null;t>0;){if(r=mn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&hn(i,n)>=t-1)break;t--}o++}return an}function pn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function mn(t){var r=null;if(void 0===cn[t]&&e&&e.exports&&pn(t))try{r=an._abbr,n(5358)("./"+t),gn(r)}catch(e){cn[t]=null}return cn[t]}function gn(e,t){var n;return e&&((n=u(t)?bn(e):_n(e,t))?an=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function _n(e,t){if(null!==t){var n,r=ln;if(t.abbr=e,null!=cn[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cn[e]._config;else if(null!=t.parentLocale)if(null!=cn[t.parentLocale])r=cn[t.parentLocale]._config;else{if(null==(n=mn(t.parentLocale)))return un[t.parentLocale]||(un[t.parentLocale]=[]),un[t.parentLocale].push({name:e,config:t}),null;r=n._config}return cn[e]=new P($(r,t)),un[e]&&un[e].forEach((function(e){_n(e.name,e.config)})),gn(e),cn[e]}return delete cn[e],null}function yn(e,t){if(null!=t){var n,r,i=ln;null!=cn[e]&&null!=cn[e].parentLocale?cn[e].set($(cn[e]._config,t)):(null!=(r=mn(e))&&(i=r._config),t=$(i,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=cn[e],cn[e]=n),gn(e)}else null!=cn[e]&&(null!=cn[e].parentLocale?(cn[e]=cn[e].parentLocale,e===gn()&&gn(e)):null!=cn[e]&&delete cn[e]);return cn[e]}function bn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!s(e)){if(t=mn(e))return t;e=[e]}return fn(e)}function vn(){return L(cn)}function wn(e){var t,n=e._a;return n&&-2===_(e).overflow&&(t=n[Ye]<0||n[Ye]>11?Ye:n[je]<1||n[je]>rt(n[Ne],n[Ye])?je:n[He]<0||n[He]>24||24===n[He]&&(0!==n[ze]||0!==n[Ue]||0!==n[We])?He:n[ze]<0||n[ze]>59?ze:n[Ue]<0||n[Ue]>59?Ue:n[We]<0||n[We]>999?We:-1,_(e)._overflowDayOfYear&&(t<Ne||t>je)&&(t=je),_(e)._overflowWeeks&&-1===t&&(t=Ge),_(e)._overflowWeekday&&-1===t&&(t=qe),_(e).overflow=t),e}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ln=/^\/?Date\((-?\d+)/i,Cn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,En={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dn(e){var t,n,r,i,o,s,a=e._i,l=xn.exec(a)||Mn.exec(a),c=kn.length,u=Tn.length;if(l){for(_(e).iso=!0,t=0,n=c;t<n;t++)if(kn[t][1].exec(l[1])){i=kn[t][0],r=!1!==kn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Tn[t][1].exec(l[3])){o=(l[2]||" ")+Tn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Sn.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),zn(e)}else e._isValid=!1}function An(e,t,n,r,i,o){var s=[$n(e),ot.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function $n(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||Ot.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(_(n).weekdayMismatch=!0,n._isValid=!1,!1)}function On(e,t,n){if(e)return En[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function In(e){var t,n=Cn.exec(Pn(e._i));if(n){if(t=An(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],t,e))return;e._a=t,e._tzm=On(n[8],n[9],n[10]),e._d=vt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),_(e).rfc2822=!0}else e._isValid=!1}function Fn(e){var t=Ln.exec(e._i);null===t?(Dn(e),!1===e._isValid&&(delete e._isValid,In(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Nn(e,t,n){return null!=e?e:null!=t?t:n}function Yn(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function jn(e){var t,n,r,i,o,s=[];if(!e._d){for(r=Yn(e),e._w&&null==e._a[je]&&null==e._a[Ye]&&Hn(e),null!=e._dayOfYear&&(o=Nn(e._a[Ne],r[Ne]),(e._dayOfYear>Be(o)||0===e._dayOfYear)&&(_(e)._overflowDayOfYear=!0),n=vt(o,0,e._dayOfYear),e._a[Ye]=n.getUTCMonth(),e._a[je]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[ze]&&0===e._a[Ue]&&0===e._a[We]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?vt:bt).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(_(e).weekdayMismatch=!0)}}function Hn(e){var t,n,r,i,o,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=Nn(t.GG,e._a[Ne],Mt(Kn(),1,4).year),r=Nn(t.W,1),((i=Nn(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=Mt(Kn(),o,s),n=Nn(t.gg,e._a[Ne],c.year),r=Nn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>St(n,o,s)?_(e)._overflowWeeks=!0:null!=l?_(e)._overflowWeekday=!0:(a=xt(n,r,i,o,s),e._a[Ne]=a.year,e._dayOfYear=a.dayOfYear)}function zn(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],_(e).empty=!0;var t,n,r,o,s,a,l,c=""+e._i,u=c.length,h=0;for(l=(r=G(e._f,e._locale).match(F)||[]).length,t=0;t<l;t++)o=r[t],(n=(c.match(Ce(o,e))||[])[0])&&((s=c.substr(0,c.indexOf(n))).length>0&&_(e).unusedInput.push(s),c=c.slice(c.indexOf(n)+n.length),h+=n.length),j[o]?(n?_(e).empty=!1:_(e).unusedTokens.push(o),Ie(o,n,e)):e._strict&&!n&&_(e).unusedTokens.push(o);_(e).charsLeftOver=u-h,c.length>0&&_(e).unusedInput.push(c),e._a[He]<=12&&!0===_(e).bigHour&&e._a[He]>0&&(_(e).bigHour=void 0),_(e).parsedDateParts=e._a.slice(0),_(e).meridiem=e._meridiem,e._a[He]=Un(e._locale,e._a[He],e._meridiem),null!==(a=_(e).era)&&(e._a[Ne]=e._locale.erasConvertYear(a,e._a[Ne])),jn(e),wn(e)}else In(e);else Dn(e)}function Un(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Wn(e){var t,n,r,i,o,s,a=!1,l=e._f.length;if(0===l)return _(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,s=!1,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),y(t)&&(s=!0),o+=_(t).charsLeftOver,o+=10*_(t).unusedTokens.length,_(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));p(e,n||t)}function Gn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),jn(e)}}function qn(e){var t=new M(wn(Bn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Bn(e){var t=e._i,n=e._f;return e._locale=e._locale||bn(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new M(wn(t)):(d(t)?e._d=t:s(n)?Wn(e):n?zn(e):Vn(e),y(e)||(e._d=null),e))}function Vn(e){var t=e._i;u(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Fn(e):s(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),jn(e)):a(t)?Gn(e):h(t)?e._d=new Date(t):i.createFromInputFallback(e)}function Xn(e,t,n,r,i){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&c(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,qn(o)}function Kn(e,t,n,r){return Xn(e,t,n,r,!1)}i.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Jn=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),Zn=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Qn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function er(){return Qn("isBefore",[].slice.call(arguments,0))}function tr(){return Qn("isAfter",[].slice.call(arguments,0))}var nr=function(){return Date.now?Date.now():+new Date},rr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ir(e){var t,n,r=!1,i=rr.length;for(t in e)if(l(e,t)&&(-1===Ve.call(rr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[rr[n]]){if(r)return!1;parseFloat(e[rr[n]])!==$e(e[rr[n]])&&(r=!0)}return!0}function or(){return this._isValid}function sr(){return Er(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=ir(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=bn(),this._bubble()}function lr(e){return e instanceof ar}function cr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&$e(e[r])!==$e(t[r]))&&s++;return s+o}function hr(e,t){H(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)}))}hr("Z",":"),hr("ZZ",""),Le("Z",xe),Le("ZZ",xe),Re(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(xe,e)}));var dr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+$e(n[2]))?0:"+"===n[0]?r:-r}function pr(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(S(e)||d(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Kn(e).local()}function mr(e){return-Math.round(e._d.getTimezoneOffset())}function gr(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=fr(xe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=mr(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Rr(this,Er(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:mr(this)}function _r(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function br(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(mr(this),"m")),this}function vr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=fr(we,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Mr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return x(t,this),(t=Bn(t))._a?(e=t._isUTC?m(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sr(){return!!this.isValid()&&!this._isUTC}function kr(){return!!this.isValid()&&this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Lr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Er(e,t){var n,r,i,o=e,s=null;return lr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:h(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=Lr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:$e(s[je])*n,h:$e(s[He])*n,m:$e(s[ze])*n,s:$e(s[Ue])*n,ms:$e(cr(1e3*s[We]))*n}):(s=Cr.exec(e))?(n="-"===s[1]?-1:1,o={y:Dr(s[2],n),M:Dr(s[3],n),w:Dr(s[4],n),d:Dr(s[5],n),h:Dr(s[6],n),m:Dr(s[7],n),s:Dr(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=$r(Kn(o.from),Kn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ar(o),lr(e)&&l(e,"_locale")&&(r._locale=e._locale),lr(e)&&l(e,"_isValid")&&(r._isValid=e._isValid),r}function Dr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ar(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $r(e,t){var n;return e.isValid()&&t.isValid()?(t=pr(t,e),e.isBefore(t)?n=Ar(e,t):((n=Ar(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Rr(this,Er(n,r),e),this}}function Rr(e,t,n,r){var o=t._milliseconds,s=cr(t._days),a=cr(t._months);e.isValid()&&(r=null==r||r,a&&ft(e,Ze(e,"Month")+a*n),s&&Qe(e,"Date",Ze(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,s||a))}Er.fn=ar.prototype,Er.invalid=sr;var Or=Pr(1,"add"),Ir=Pr(-1,"subtract");function Fr(e){return"string"==typeof e||e instanceof String}function Nr(e){return S(e)||d(e)||Fr(e)||h(e)||jr(e)||Yr(e)||null==e}function Yr(e){var t,n,r=a(e)&&!c(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s=o.length;for(t=0;t<s;t+=1)n=o[t],i=i||l(e,n);return r&&i}function jr(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!h(t)&&Fr(e)})).length),t&&n}function Hr(e){var t,n,r=a(e)&&!c(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||l(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ur(e,t){1===arguments.length&&(arguments[0]?Nr(arguments[0])?(e=arguments[0],t=void 0):Hr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),r=pr(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",s=t&&(D(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Kn(n)))}function Wr(){return new M(this)}function Gr(e,t){var n=S(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function qr(e,t){var n=S(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Br(e,t,n,r){var i=S(e)?e:Kn(e),o=S(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Vr(e,t){var n,r=S(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Xr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=pr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=Zr(this,r)/12;break;case"month":o=Zr(this,r);break;case"quarter":o=Zr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Ae(o)}function Zr(e,t){if(e.date()<t.date())return-Zr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ei(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ti(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ni(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function ri(e,t){return this.isValid()&&(S(e)&&e.isValid()||Kn(e).isValid())?Er({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.from(Kn(),e)}function oi(e,t){return this.isValid()&&(S(e)&&e.isValid()||Kn(e).isValid())?Er({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function si(e){return this.to(Kn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=bn(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var li=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ci(){return this._locale}var ui=1e3,hi=60*ui,di=60*hi,fi=3506328*di;function pi(e,t){return(e%t+t)%t}function mi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function gi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function _i(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:mi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pi(t+(this._isUTC?0:this.utcOffset()*hi),di);break;case"minute":t=this._d.valueOf(),t-=pi(t,hi);break;case"second":t=this._d.valueOf(),t-=pi(t,ui)}return this._d.setTime(t),i.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:mi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-pi(t+(this._isUTC?0:this.utcOffset()*hi),di)-1;break;case"minute":t=this._d.valueOf(),t+=hi-pi(t,hi)-1;break;case"second":t=this._d.valueOf(),t+=ui-pi(t,ui)-1}return this._d.setTime(t),i.updateOffset(this,!0),this}function bi(){return this._d.valueOf()-6e4*(this._offset||0)}function vi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Mi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function ki(){return y(this)}function Ti(){return p({},_(this))}function Li(){return _(this).overflow}function Ci(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ei(e,t){var n,r,o,s=this._eras||bn("en")._eras;for(n=0,r=s.length;n<r;++n)switch("string"==typeof s[n].since&&(o=i(s[n].since).startOf("day"),s[n].since=o.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=i(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}return s}function Di(e,t,n){var r,i,o,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([o,s,a].indexOf(e)>=0)return l[r]}function Ai(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n}function $i(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Oi(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-i(o[e].since).year())*n+o[e].offset;return this.year()}function Ii(e){return l(this,"_erasNameRegex")||Ui.call(this),e?this._erasNameRegex:this._erasRegex}function Fi(e){return l(this,"_erasAbbrRegex")||Ui.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ni(e){return l(this,"_erasNarrowRegex")||Ui.call(this),e?this._erasNarrowRegex:this._erasRegex}function Yi(e,t){return t.erasAbbrRegex(e)}function ji(e,t){return t.erasNameRegex(e)}function Hi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||be}function Ui(){var e,t,n,r,i,o=[],s=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=De(c[e].name),r=De(c[e].abbr),i=De(c[e].narrow),s.push(n),o.push(r),a.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Wi(e,t){H(0,[e,e.length],0,t)}function Gi(e){return Ji.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function qi(e){return Ji.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Bi(){return St(this.year(),1,4)}function Vi(){return St(this.isoWeekYear(),1,4)}function Xi(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Ji(e,t,n,r,i){var o;return null==e?Mt(this,r,i).year:(t>(o=St(e,r,i))&&(t=o),Zi.call(this,e,t,n,r,i))}function Zi(e,t,n,r,i){var o=xt(e,t,n,r,i),s=vt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Qi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}H("N",0,0,"eraAbbr"),H("NN",0,0,"eraAbbr"),H("NNN",0,0,"eraAbbr"),H("NNNN",0,0,"eraName"),H("NNNNN",0,0,"eraNarrow"),H("y",["y",1],"yo","eraYear"),H("y",["yy",2],0,"eraYear"),H("y",["yyy",3],0,"eraYear"),H("y",["yyyy",4],0,"eraYear"),Le("N",Yi),Le("NN",Yi),Le("NNN",Yi),Le("NNNN",ji),Le("NNNNN",Hi),Re(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?_(n).era=i:_(n).invalidEra=e})),Le("y",be),Le("yy",be),Le("yyy",be),Le("yyyy",be),Le("yo",zi),Re(["y","yy","yyy","yyyy"],Ne),Re(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ne]=n._locale.eraYearOrdinalParse(e,i):t[Ne]=parseInt(e,10)})),H(0,["gg",2],0,(function(){return this.weekYear()%100})),H(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Wi("gggg","weekYear"),Wi("ggggg","weekYear"),Wi("GGGG","isoWeekYear"),Wi("GGGGG","isoWeekYear"),Le("G",ve),Le("g",ve),Le("GG",fe,ce),Le("gg",fe,ce),Le("GGGG",_e,he),Le("gggg",_e,he),Le("GGGGG",ye,de),Le("ggggg",ye,de),Oe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=$e(e)})),Oe(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),H("Q",0,"Qo","quarter"),Le("Q",le),Re("Q",(function(e,t){t[Ye]=3*($e(e)-1)})),H("D",["DD",2],"Do","date"),Le("D",fe,ke),Le("DD",fe,ce),Le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Re(["D","DD"],je),Re("Do",(function(e,t){t[je]=$e(e.match(fe)[0])}));var eo=Je("Date",!0);function to(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}H("DDD",["DDDD",3],"DDDo","dayOfYear"),Le("DDD",ge),Le("DDDD",ue),Re(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=$e(e)})),H("m",["mm",2],0,"minute"),Le("m",fe,Te),Le("mm",fe,ce),Re(["m","mm"],ze);var no=Je("Minutes",!1);H("s",["ss",2],0,"second"),Le("s",fe,Te),Le("ss",fe,ce),Re(["s","ss"],Ue);var ro,io,oo=Je("Seconds",!1);for(H("S",0,0,(function(){return~~(this.millisecond()/100)})),H(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),H(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),H(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),H(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),H(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),H(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Le("S",ge,le),Le("SS",ge,ce),Le("SSS",ge,ue),ro="SSSS";ro.length<=9;ro+="S")Le(ro,be);function so(e,t){t[We]=$e(1e3*("0."+e))}for(ro="S";ro.length<=9;ro+="S")Re(ro,so);function ao(){return this._isUTC?"UTC":""}function lo(){return this._isUTC?"Coordinated Universal Time":""}io=Je("Milliseconds",!1),H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var co=M.prototype;function uo(e){return Kn(1e3*e)}function ho(){return Kn.apply(null,arguments).parseZone()}function fo(e){return e}co.add=Or,co.calendar=Ur,co.clone=Wr,co.diff=Jr,co.endOf=yi,co.format=ni,co.from=ri,co.fromNow=ii,co.to=oi,co.toNow=si,co.get=et,co.invalidAt=Li,co.isAfter=Gr,co.isBefore=qr,co.isBetween=Br,co.isSame=Vr,co.isSameOrAfter=Xr,co.isSameOrBefore=Kr,co.isValid=ki,co.lang=li,co.locale=ai,co.localeData=ci,co.max=Zn,co.min=Jn,co.parsingFlags=Ti,co.set=tt,co.startOf=_i,co.subtract=Ir,co.toArray=xi,co.toObject=Mi,co.toDate=wi,co.toISOString=ei,co.inspect=ti,"undefined"!=typeof Symbol&&null!=Symbol.for&&(co[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),co.toJSON=Si,co.toString=Qr,co.unix=vi,co.valueOf=bi,co.creationData=Ci,co.eraName=$i,co.eraNarrow=Pi,co.eraAbbr=Ri,co.eraYear=Oi,co.year=Xe,co.isLeapYear=Ke,co.weekYear=Gi,co.isoWeekYear=qi,co.quarter=co.quarters=Qi,co.month=pt,co.daysInMonth=mt,co.week=co.weeks=Et,co.isoWeek=co.isoWeeks=Dt,co.weeksInYear=Xi,co.weeksInWeekYear=Ki,co.isoWeeksInYear=Bi,co.isoWeeksInISOWeekYear=Vi,co.date=eo,co.day=co.days=Gt,co.weekday=qt,co.isoWeekday=Bt,co.dayOfYear=to,co.hour=co.hours=on,co.minute=co.minutes=no,co.second=co.seconds=oo,co.millisecond=co.milliseconds=io,co.utcOffset=gr,co.utc=yr,co.local=br,co.parseZone=vr,co.hasAlignedHourOffset=wr,co.isDST=xr,co.isLocal=Sr,co.isUtcOffset=kr,co.isUtc=Tr,co.isUTC=Tr,co.zoneAbbr=ao,co.zoneName=lo,co.dates=T("dates accessor is deprecated. Use date instead.",eo),co.months=T("months accessor is deprecated. Use month instead",pt),co.years=T("years accessor is deprecated. Use year instead",Xe),co.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_r),co.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Mr);var po=P.prototype;function mo(e,t,n,r){var i=bn(),o=m().set(r,t);return i[n](o,e)}function go(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return mo(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mo(e,r,n,"month");return i}function _o(e,t,n,r){"boolean"==typeof e?(h(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,h(t)&&(n=t,t=void 0),t=t||"");var i,o=bn(),s=e?o._week.dow:0,a=[];if(null!=n)return mo(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=mo(t,(i+s)%7,r,"day");return a}function yo(e,t){return go(e,t,"months")}function bo(e,t){return go(e,t,"monthsShort")}function vo(e,t,n){return _o(e,t,n,"weekdays")}function wo(e,t,n){return _o(e,t,n,"weekdaysShort")}function xo(e,t,n){return _o(e,t,n,"weekdaysMin")}po.calendar=O,po.longDateFormat=B,po.invalidDate=X,po.ordinal=Z,po.preparse=fo,po.postformat=fo,po.relativeTime=ee,po.pastFuture=te,po.set=A,po.eras=Ei,po.erasParse=Di,po.erasConvertYear=Ai,po.erasAbbrRegex=Fi,po.erasNameRegex=Ii,po.erasNarrowRegex=Ni,po.months=ct,po.monthsShort=ut,po.monthsParse=dt,po.monthsRegex=_t,po.monthsShortRegex=gt,po.week=kt,po.firstDayOfYear=Ct,po.firstDayOfWeek=Lt,po.weekdays=jt,po.weekdaysMin=zt,po.weekdaysShort=Ht,po.weekdaysParse=Wt,po.weekdaysRegex=Vt,po.weekdaysShortRegex=Xt,po.weekdaysMinRegex=Kt,po.isPM=nn,po.meridiem=sn,gn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===$e(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=T("moment.lang is deprecated. Use moment.locale instead.",gn),i.langData=T("moment.langData is deprecated. Use moment.localeData instead.",bn);var Mo=Math.abs;function So(){var e=this._data;return this._milliseconds=Mo(this._milliseconds),this._days=Mo(this._days),this._months=Mo(this._months),e.milliseconds=Mo(e.milliseconds),e.seconds=Mo(e.seconds),e.minutes=Mo(e.minutes),e.hours=Mo(e.hours),e.months=Mo(e.months),e.years=Mo(e.years),this}function ko(e,t,n,r){var i=Er(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function To(e,t){return ko(this,e,t,1)}function Lo(e,t){return ko(this,e,t,-1)}function Co(e){return e<0?Math.floor(e):Math.ceil(e)}function Eo(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Co(Ao(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=Ae(o/1e3),l.seconds=e%60,t=Ae(e/60),l.minutes=t%60,n=Ae(t/60),l.hours=n%24,s+=Ae(n/24),a+=i=Ae(Do(s)),s-=Co(Ao(i)),r=Ae(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function Do(e){return 4800*e/146097}function Ao(e){return 146097*e/4800}function $o(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Do(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ao(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Po(e){return function(){return this.as(e)}}var Ro=Po("ms"),Oo=Po("s"),Io=Po("m"),Fo=Po("h"),No=Po("d"),Yo=Po("w"),jo=Po("M"),Ho=Po("Q"),zo=Po("y"),Uo=Ro;function Wo(){return Er(this)}function Go(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function qo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bo=qo("milliseconds"),Vo=qo("seconds"),Xo=qo("minutes"),Ko=qo("hours"),Jo=qo("days"),Zo=qo("months"),Qo=qo("years");function es(){return Ae(this.days()/7)}var ts=Math.round,ns={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rs(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function is(e,t,n,r){var i=Er(e).abs(),o=ts(i.as("s")),s=ts(i.as("m")),a=ts(i.as("h")),l=ts(i.as("d")),c=ts(i.as("M")),u=ts(i.as("w")),h=ts(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||u<=1&&["w"]||u<n.w&&["ww",u]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=r,rs.apply(null,d)}function os(e){return void 0===e?ts:"function"==typeof e&&(ts=e,!0)}function ss(e,t){return void 0!==ns[e]&&(void 0===t?ns[e]:(ns[e]=t,"s"===e&&(ns.ss=t-1),!0))}function as(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ns;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(o=Object.assign({},ns,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=is(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ls=Math.abs;function cs(e){return(e>0)-(e<0)||+e}function us(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,l=ls(this._milliseconds)/1e3,c=ls(this._days),u=ls(this._months),h=this.asSeconds();return h?(e=Ae(l/60),t=Ae(e/60),l%=60,e%=60,n=Ae(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=cs(this._months)!==cs(h)?"-":"",s=cs(this._days)!==cs(h)?"-":"",a=cs(this._milliseconds)!==cs(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var hs=ar.prototype;return hs.isValid=or,hs.abs=So,hs.add=To,hs.subtract=Lo,hs.as=$o,hs.asMilliseconds=Ro,hs.asSeconds=Oo,hs.asMinutes=Io,hs.asHours=Fo,hs.asDays=No,hs.asWeeks=Yo,hs.asMonths=jo,hs.asQuarters=Ho,hs.asYears=zo,hs.valueOf=Uo,hs._bubble=Eo,hs.clone=Wo,hs.get=Go,hs.milliseconds=Bo,hs.seconds=Vo,hs.minutes=Xo,hs.hours=Ko,hs.days=Jo,hs.weeks=es,hs.months=Zo,hs.years=Qo,hs.humanize=as,hs.toISOString=us,hs.toString=us,hs.toJSON=us,hs.locale=ai,hs.localeData=ci,hs.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",us),hs.lang=li,H("X",0,0,"unix"),H("x",0,0,"valueOf"),Le("x",ve),Le("X",Me),Re("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Re("x",(function(e,t,n){n._d=new Date($e(e))})),i.version="2.30.1",o(Kn),i.fn=co,i.min=er,i.max=tr,i.now=nr,i.utc=m,i.unix=uo,i.months=yo,i.isDate=d,i.locale=gn,i.invalid=b,i.duration=Er,i.isMoment=S,i.weekdays=vo,i.parseZone=ho,i.localeData=bn,i.isDuration=lr,i.monthsShort=bo,i.weekdaysMin=xo,i.defineLocale=_n,i.updateLocale=yn,i.locales=vn,i.weekdaysShort=wo,i.normalizeUnits=re,i.relativeTimeRounding=os,i.relativeTimeThreshold=ss,i.calendarFormat=zr,i.prototype=co,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},5096(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_Çar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"öö":"ÖÖ":n?"ös":"ÖS"},meridiemParse:/öö|ÖÖ|ös|ÖS/,isPM:function(e){return"ös"===e||"ÖS"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var r=e%10,i=e%100-r,o=e>=100?100:null;return e+(t[r]||t[i]||t[o])}},week:{dow:1,doy:7}})}(n(5093))},5177(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5093))},5178(e,t,n){var r;if("function"==typeof fetch&&(r=void 0!==n.g&&n.g.fetch?n.g.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"==typeof window){var i=r||n(Object(function(){var e=new Error("Cannot find module 'cross-fetch'");throw e.code="MODULE_NOT_FOUND",e}()));i.default&&(i=i.default),t.default=i,e.exports=t.default}},5285(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(3662),n(9983),n(2299),n(6883),n(9139)],r=function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,(function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,o.widgetName+"-item")===o)return r=e(this),!1})),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),!!r&&(!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each((function(){this===t.target&&(i=!0)})),!i))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,r){var i,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=e("parent"!==s.appendTo?s.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),e.extend(this.offset,{parent:this._getParentOffset()}),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this._storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(e){var t=this.options,n=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-this.document.scrollTop()<t.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<t.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),e.pageX-this.document.scrollLeft()<t.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),n},_mouseDrag:function(t){var n,r,i,o,s=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),s.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},n=this.items.length-1;n>=0;n--)if(i=(r=this.items[n]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||e.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){r._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each((function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")})),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||r+c>a&&r+c<l,d="y"===this.options.axis||t+u>o&&t+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!r||!i)&&(t=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this.dragDirection.vertical,i=this.dragDirection.horizontal;return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,o,s=[],a=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=(i=e(l[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push(["function"==typeof o.options.items?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){s.push(this)}for(a.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(c);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,s,a,l,c,u=this.items,h=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=(i=e(d[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push(["function"==typeof o.options.items?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],r=0,c=(a=h[n][0]).length;r<c;r++)(l=e(a[r])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){var n,r,i,o;for(n=this.items.length-1;n>=0;n--)r=this.items[n],this.currentContainer&&r.instance!==this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top)},refreshPositions:function(e){var t,n;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;t>=0;t--)n=this.containers[t].element.offset(),this.containers[t].containerCache.left=n.left,this.containers[t].containerCache.top=n.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(t){var n,r,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,r=t.currentItem[0].nodeName.toLowerCase(),i.placeholder={element:function(){var i=e("<"+r+">",t.document[0]);return t._addClass(i,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(i,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,o){n&&!i.forcePlaceholderSize||(o.height()&&(!i.forcePlaceholderSize||"tbody"!==r&&"tr"!==r)||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each((function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(t){var n,r,i,o,s,a,l,c,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&e.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(i=1e4,o=null,s=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[f].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[s],c=!1,t[h]-l>this.items[r][a]/2&&(c=!0),Math.abs(t[h]-l)<i&&(i=Math.abs(t[h]-l),o=this.items[r],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,r="function"==typeof n.helper?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||this.appendTo[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!n.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!n.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this.offsetParent[0]===this.document[0].body&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay((function(){i===this.counter&&this.refreshPositions(!r)}))},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function i(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}for(this.fromOutside&&!t&&r.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(r.push((function(e){this._trigger("remove",e,this._uiHash())})),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedStylesheet&&(this._storedStylesheet.remove(),this._storedStylesheet=null),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},5358(e,t,n){var r={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":7375,"./ar-tn.js":7375,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":4083,"./cs.js":4083,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":5765,"./fi.js":5765,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=5358},5498(e,t,n){!function(e){"use strict";var t=/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,n=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,r=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,i=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i];e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:t,monthsShortStrictRegex:n,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(5093))},5533(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"bir neçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}(n(5093))},5543(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(5093))},5719(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var o,s=t.words[r];return 1===r.length?"y"===r&&n?"jedna godina":i||n?s[0]:s[1]:(o=t.correctGrammaticalCase(e,s),"yy"===r&&n&&"godinu"===o?e+" godina":e+" "+o)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},5765(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function r(e,t,n,r){var o="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":o=r?"sekunnin":"sekuntia";break;case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":o=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta"}return o=i(e,r)+" "+o}function i(e,r){return e<10?r?n[e]:t[e]:e}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},5766(e,t,n){!function(e){"use strict";var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"}function r(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function i(e){return e%10==0||e>10&&e<20}function o(e){return t[e].split("_")}function s(e,t,n,s){var a=e+" ";return 1===e?a+r(e,t,n[0],s):t?a+(i(e)?o(n)[1]:o(n)[0]):s?a+o(n)[1]:a+(i(e)?o(n)[1]:o(n)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:n,ss:s,m:r,mm:s,h:r,hh:s,d:r,dd:s,M:r,MM:s,y:r,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(5093))},5784(e,t,n){!function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pár sekúnd":"pár sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"sekúnd"):o+"sekundami";case"m":return t?"minúta":i?"minútu":"minútou";case"mm":return t||i?o+(r(e)?"minúty":"minút"):o+"minútami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodín"):o+"hodinami";case"d":return t||i?"deň":"dňom";case"dd":return t||i?o+(r(e)?"dni":"dní"):o+"dňami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?o+(r(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:case 4:case 5:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},5802(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",w:"1 สัปดาห์",ww:"%d สัปดาห์",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(n(5093))},5867(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})}(n(5093))},5995(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(5093))},6e3(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5093))},6019(e,t,n){e.exports=n(8162).default},6111(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},6169(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i="काही सेकंद";break;case"ss":i="%d सेकंद";break;case"m":i="एक मिनिट";break;case"mm":i="%d मिनिटे";break;case"h":i="एक तास";break;case"hh":i="%d तास";break;case"d":i="एक दिवस";break;case"dd":i="%d दिवस";break;case"M":i="एक महिना";break;case"MM":i="%d महिने";break;case"y":i="एक वर्ष";break;case"yy":i="%d वर्षे"}else switch(n){case"s":i="काही सेकंदां";break;case"ss":i="%d सेकंदां";break;case"m":i="एका मिनिटा";break;case"mm":i="%d मिनिटां";break;case"h":i="एका तासा";break;case"hh":i="%d तासां";break;case"d":i="एका दिवसा";break;case"dd":i="%d दिवसां";break;case"M":i="एका महिन्या";break;case"MM":i="%d महिन्यां";break;case"y":i="एका वर्षा";break;case"yy":i="%d वर्षां"}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/पहाटे|सकाळी|दुपारी|सायंकाळी|रात्री/,meridiemHour:function(e,t){return 12===e&&(e=0),"पहाटे"===t||"सकाळी"===t?e:"दुपारी"===t||"सायंकाळी"===t||"रात्री"===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"पहाटे":e<12?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}(n(5093))},6181(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["çend sanîye","çend sanîyeyan"],ss:[e+" sanîye",e+" sanîyeyan"],m:["deqîqeyek","deqîqeyekê"],mm:[e+" deqîqe",e+" deqîqeyan"],h:["saetek","saetekê"],hh:[e+" saet",e+" saetan"],d:["rojek","rojekê"],dd:[e+" roj",e+" rojan"],w:["hefteyek","hefteyekê"],ww:[e+" hefte",e+" hefteyan"],M:["mehek","mehekê"],MM:[e+" meh",e+" mehan"],y:["salek","salekê"],yy:[e+" sal",e+" salan"]};return t?i[n][0]:i[n][1]}function n(e){var t=(e=""+e).substring(e.length-1),n=e.length>1?e.substring(e.length-2):"";return 12==n||13==n||"2"!=t&&"3"!=t&&"50"!=n&&"70"!=t&&"80"!=t?"ê":"yê"}e.defineLocale("ku-kmr",{months:"Rêbendan_Sibat_Adar_Nîsan_Gulan_Hezîran_Tîrmeh_Tebax_Îlon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"Rêb_Sib_Ada_Nîs_Gul_Hez_Tîr_Teb_Îlo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yekşem_Duşem_Sêşem_Çarşem_Pêncşem_În_Şemî".split("_"),weekdaysShort:"Yek_Du_Sê_Çar_Pên_În_Şem".split("_"),weekdaysMin:"Ye_Du_Sê_Ça_Pê_În_Şe".split("_"),meridiem:function(e,t,n){return e<12?n?"bn":"BN":n?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[Îro di saet] LT [de]",nextDay:"[Sibê di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a borî di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"berî %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,w:t,ww:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(?:yê|ê|\.)/,ordinal:function(e,t){var r=t.toLowerCase();return r.includes("w")||r.includes("m")?e+".":e+n(e)},week:{dow:1,doy:4}})}(n(5093))},6195(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},6204(e,t,n){var r=n(6932);!function(e){e.floatThead=e.floatThead||{},e.floatThead.defaults={headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function(t){return e([])},responsiveContainer:function(t){return e([])},getSizingRow:function(e,t,n){return e.find("tbody tr:visible:first>*:visible")},ariaLabel:function(e,t,n){return t.text()},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,autoReflow:!1,debug:!1,support:{bootstrap:!0,datatables:!0,jqueryUI:!0,perfectScrollbar:!0},floatContainerCss:{"overflow-x":"hidden"}};var t=function(){var t={},n=Object.prototype.hasOwnProperty;t.has=function(e,t){return n.call(e,t)},t.keys=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var n=[];for(var r in e)t.has(e,r)&&n.push(r);return n};var r=0;return t.uniqueId=function(e){var t=++r+"";return e?e+t:t},e.each(["Arguments","Function","String","Number","Date","RegExp"],(function(){var e=this;t["is"+e]=function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}})),t.debounce=function(e,t,n){var r,i,o,s,a;return function(){o=this,i=arguments,s=new Date;var l=function(){var c=new Date-s;c<t?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(o,i)))},c=n&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(o,i)),a}},t}(),n="undefined"!=typeof MutationObserver,r=function(){for(var e=3,t=document.createElement("b"),n=t.all||[];e=1+e,t.innerHTML="\x3c!--[if gt IE "+e+"]><i><![endif]--\x3e",n[0];);return 4<e?e:document.documentMode}(),i=/Gecko\//.test(navigator.userAgent),o=/WebKit\//.test(navigator.userAgent),s=/rtl/i.test(document.documentElement.dir||"");r||i||o||(r=11);var a=function(){if(o){var t=e("<div>").css("width","0").append(e("<table>").css("max-width","100%").append(e("<tr>").append(e("<th>").append(e("<div>").css("min-width","100px").text("X")))));e("body").append(t);var n=0===t.find("table").width();return t.remove(),n}return!1},l=!i&&!r,c=e(window),u=i&&window.matchMedia;if(!window.matchMedia||u){var h=window.onbeforeprint,d=window.onafterprint;window.onbeforeprint=function(){h&&h(),c.triggerHandler("fth-beforeprint")},window.onafterprint=function(){d&&d(),c.triggerHandler("fth-afterprint")}}function f(t){var n=t[0].parentElement;do{if("visible"!==window.getComputedStyle(n).getPropertyValue("overflow"))break}while(n=n.parentElement);return n===document.body?e([]):e(n)}function p(e){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+e)}function m(e){var t=e.getBoundingClientRect();return t.width||t.right-t.left}function g(){var e=document.createElement("scrolltester");e.style.cssText="width:100px;height:100px;overflow:scroll!important;position:absolute;top:-9999px;display:block",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function _(e,t,n){var r=n?"outerWidth":"width";if(a&&e.css("max-width")){var i=0;n&&(i+=parseInt(e.css("borderLeft"),10),i+=parseInt(e.css("borderRight"),10));for(var o=0;o<t.length;o++)i+=m(t.get(o));return i}return e[r]()}e.fn.floatThead=function(i){if(i=i||{},r<8)return this;if(t.isFunction(a)&&(a=a()),t.isString(i)){var h=i,d=Array.prototype.slice.call(arguments,1),y=this;return this.filter("table").each((function(){var n=e(this),r=n.data("floatThead-lazy");r&&n.floatThead(r);var i=n.data("floatThead-attached");if(i&&t.isFunction(i[h])){var o=i[h].apply(this,d);void 0!==o&&(y=o)}})),y}var b=e.extend({},e.floatThead.defaults||{},i);if(e.each(i,(function(n,r){n in e.floatThead.defaults||!b.debug||p("Used ["+n+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+t.keys(e.floatThead.defaults).join(", "))})),b.debug){var v=e.fn.jquery.split(".");1===parseInt(v[0],10)&&parseInt(v[1],10)<=7&&p("jQuery version "+e.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}return this.filter(":not(."+b.floatTableClass+")").each((function(){var i=t.uniqueId(),a=e(this);if(a.data("floatThead-attached"))return!0;if(!a.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var h=b.autoReflow&&n,d=null,y=a.children("thead:first"),v=a.children("tbody:first");if(0===y.length||0===v.length)return b.debug&&(0===y.length?p("The thead element is missing."):p("The tbody element is missing.")),a.data("floatThead-lazy",b),void a.unbind("reflow").one("reflow",(function(){a.floatThead(b)}));a.data("floatThead-lazy")&&a.unbind("reflow"),a.data("floatThead-lazy",!1);var w,x,M=!0,S={vertical:0,horizontal:0};t.isFunction(g)&&(g=g());var k=0;!0===b.scrollContainer&&(b.scrollContainer=f);var T=b.scrollContainer(a)||e([]),L=0<T.length,C=L?e([]):b.responsiveContainer(a)||e([]),E=de(),D=null;"auto"===b.position?D=null:"fixed"===b.position?D=!1:"absolute"===b.position?D=!0:b.debug&&p('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',b.position),null==D&&(D=L);var A=a.find("caption"),$=1===A.length;if($)var P="top"===(A.css("caption-side")||A.attr("align")||"top");var R=e("<fthfoot>").css({display:"table-footer-group","border-spacing":"0",height:"0","border-collapse":"collapse",visibility:"hidden"}),O=!1,I=e([]),F=r<=9&&!L&&D,N=e("<table/>"),Y=e("<colgroup/>"),j=a.children("colgroup:first"),H=!0;0===j.length&&(j=e("<colgroup/>"),H=!1);var z=H?"col:visible":"col",U=e("<fthtr>").css({display:"table-row","border-spacing":"0",height:"0","border-collapse":"collapse"}),W=e("<div>").css(b.floatContainerCss).attr("aria-hidden","true"),G=!1,q=e("<thead/>"),B=e('<tr class="size-row"/>'),V=e([]),X=e([]),K=e([]),J=e([]);q.append(B),a.prepend(j),l&&(R.append(U),a.append(R)),N.append(Y),W.append(N),b.copyTableClass&&N.attr("class",a.attr("class")),N.attr({cellpadding:a.attr("cellpadding"),cellspacing:a.attr("cellspacing"),border:a.attr("border")});var Z=a.css("display");if(N.css({borderCollapse:a.css("borderCollapse"),border:a.css("border"),display:Z}),L||N.css("width","auto"),"none"===Z&&(G=!0),N.addClass(b.floatTableClass).css({margin:"0","border-bottom-width":"0"}),D){var Q=function(t,n){var r=t.css("position"),i=t;if("relative"!==r&&"absolute"!==r||n){var o={paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")};W.css(o),i=t.data("floatThead-containerWrap")||t.wrap(e("<div>").addClass(b.floatWrapperClass).css({position:"relative",clear:"both"})).parent(),t.data("floatThead-containerWrap",i),O=!0}return i};L?(I=Q(T,!0)).prepend(W):(I=Q(a),a.before(W))}else a.before(W);W.css({position:D?"absolute":"fixed",marginTop:"0",top:D?"0":"auto",zIndex:b.zIndex,willChange:"transform"}),W.addClass(b.floatContainerClass),se();var ee={"table-layout":"fixed"},te={"table-layout":a.css("tableLayout")||"auto"},ne=a[0].style.width||"",re=a.css("minWidth")||"";function ie(e){return e+".fth-"+i+".floatTHead"}function oe(){var t=0;if(y.children("tr:visible").each((function(){t+=e(this).outerHeight(!0)})),"collapse"===a.css("border-collapse")){var n=parseInt(a.css("border-top-width"),10);parseInt(a.find("thead tr:first").find(">*:first").css("border-top-width"),10)<n&&(t-=n/2)}B.outerHeight(t),V.outerHeight(t)}function se(){w=(t.isFunction(b.top)?b.top(a):b.top)||0,x=(t.isFunction(b.bottom)?b.bottom(a):b.bottom)||0}function ae(){if(!M){if(M=!0,D){var e=_(a,J,!0);I.width()<e&&a.css("minWidth",e)}a.css(ee),N.css(ee),N.append(y),v.before(q),oe()}}function le(){M&&(M=!1,D&&a.width(ne),q.detach(),a.prepend(y),a.css(te),N.css(te),a.css("minWidth",re),a.css("minWidth",_(a,J)))}var ce=!1;function ue(e){ce!==e&&(ce=e,a.triggerHandler("floatThead",[e,W]))}function he(e){var t=T.css("border-"+e+"-width"),n=0;return t&&~t.indexOf("px")&&(n=parseInt(t,10)),n}function de(){return"auto"===C.css("overflow-x")}function fe(){var e,t=T.scrollTop(),n=0,r=$?A.outerHeight(!0):0,i=P?r:-r,l=W.height(),u=a.offset(),h=0,d=0;if(L){var f=T.offset();n=u.top-f.top+t,$&&P&&(n+=r),h=he("left"),d=he("top"),n-=d}else e=u.top-w-l+x+S.horizontal;var p=c.scrollTop(),m=c.scrollLeft(),g=function(){return(de()?C:T).scrollLeft()||0},_=g();return function(f){E=de();var y=a[0].offsetWidth<=0&&a[0].offsetHeight<=0;if(!y&&G)return G=!1,setTimeout((function(){a.triggerHandler("reflow")}),1),null;if(y&&(G=!0,!D))return null;if("windowScroll"===f)p=c.scrollTop(),m=c.scrollLeft();else if("containerScroll"===f)if(C.length){if(!E)return;_=C.scrollLeft()}else t=T.scrollTop(),_=T.scrollLeft();else"init"!==f&&(p=c.scrollTop(),m=c.scrollLeft(),t=T.scrollTop(),_=g());if(!o||!(p<0||s&&0<m||!s&&m<0)){if(F)!function(e){D!==e&&(D=e,W.css({position:D?"absolute":"fixed"}))}("windowScrollDone"===f);else if("windowScrollDone"===f)return null;var b,v;u=a.offset(),$&&P&&(u.top+=r);var M=a.outerHeight();if(L&&D){if(t<=n){var S=n-t+d;b=0<S?S:0,ue(!1)}else M-l<t-n?b=M-l-t+n:(b=O?d:t,ue(!0));v=h}else!L&&D?(e+M+i<p?b=M-l+i+x:u.top>=p+w?(b=0,le(),ue(!1)):(b=w+p-u.top+n+(P?r:0),ae(),ue(!0)),v=_):L&&!D?(t<n||M<t-n?(b=u.top-p,le(),ue(!1)):(b=u.top+t-p-n,ae(),ue(!0)),v=u.left+_-m):L||D||(e+M+i<p?b=M+w-p+e+i:u.top>p+w?(b=u.top-p,ae(),ue(!1)):(b=w,ue(!0)),v=u.left+_-m);return{top:Math.round(b),left:Math.round(v)}}}}function pe(){var e=null,t=null,n=null;return function(i,o,s){if(null!=i&&(e!==i.top||t!==i.left)){if(8===r)W.css({top:i.top,left:i.left});else{var l="translateX("+i.left+"px) translateY("+i.top+"px)",c={"-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l,top:"0",left:"0"};W.css(c)}e=i.top,t=i.left}o&&function(){var e=_(a,J,!0),t=E?C:T,n=t.length?m(t[0]):e,r="hidden"!==t.css("overflow-y")?n-S.vertical:n;if(W.width(r),L){var i=100*e/r;N.css("width",i+"%")}else N.css("width",e+"px")}(),s&&oe();var u=(E?C:T).scrollLeft();D&&n===u||(W.scrollLeft(u),n=u)}}function me(){if(T.length)if(b.support&&b.support.perfectScrollbar&&T.data().perfectScrollbar)S={horizontal:0,vertical:0};else{if("scroll"===T.css("overflow-x"))S.horizontal=g;else{var e=T.width(),t=_(a,J),n=r<i?g:0;S.horizontal=e-n<t?g:0}if("scroll"===T.css("overflow-y"))S.vertical=g;else{var r=T.height(),i=a.height(),o=e<t?g:0;S.vertical=r-o<i?g:0}}}me();var ge=function(){!function(){var t,n=function(){var t,n=y.find(b.headerCellSelector);if(H?t=j.find(z).length:(t=0,n.each((function(){t+=parseInt(e(this).attr("colspan")||1,10)}))),t!==k){k=t;var r=[],i=[];B.empty();for(var o=0;o<t;o++){var s=document.createElement("th"),c=document.createElement("span");c.setAttribute("aria-label",b.ariaLabel(a,n.eq(o),o)),s.appendChild(c),s.className="floatThead-col",B[0].appendChild(s),r.push("<col/>"),i.push(e("<fthtd>").css({display:"table-cell",height:"0",width:"auto"}))}r=H?j.html():r.join(""),l&&(U.empty(),U.append(i),J=U.find("fthtd")),V=B.find("th"),H||j.html(r),X=j.find(z),Y.html(r),K=Y.find(z)}return t}();return function(){var e=W.scrollLeft();X=j.find(z);var i,o,s,c=(i=a,o=X,s=J,l?s:r?b.getSizingRow(i,o,s):o);if(c.length===n&&0<n){if(!H)for(t=0;t<n;t++)X.eq(t).css("width","");le();var u=[];for(t=0;t<n;t++)u[t]=m(c.get(t));for(t=0;t<n;t++)K.eq(t).width(u[t]),X.eq(t).width(u[t]);ae()}else N.append(y),a.css(te),N.css(te),oe();W.scrollLeft(e),a.triggerHandler("reflowed",[W])}}()()};ge();var _e=fe(),ye=pe();ye(_e("init"),!0);var be=t.debounce((function(){ye(_e("windowScrollDone"),!1)}),1),ve=function(){ye(_e("windowScroll"),!1),F&&be()},we=function(){ye(_e("containerScroll"),!1)},xe=t.debounce((function(){a.is(":hidden")||(me(),se(),ge(),_e=fe(),ye(_e("reflow"),!0,!0))}),1),Me=function(){le()},Se=function(){ae()},ke=function(e){e.matches?Me():Se()},Te=null;if(window.matchMedia&&window.matchMedia("print").addListener&&!u?(Te=window.matchMedia("print")).addListener(ke):(c.on("fth-beforeprint",Me),c.on("fth-afterprint",Se)),L?D?T.on(ie("scroll"),we):(T.on(ie("scroll"),we),c.on(ie("scroll"),ve)):(C.on(ie("scroll"),we),c.on(ie("scroll"),ve)),c.on(ie("load"),xe),function(e,n){if(8===r){var i=c.width(),o=t.debounce((function(){var e=c.width();i!==e&&(i=e,n())}),1);c.on(e,o)}else c.on(e,t.debounce(n,1))}(ie("resize"),(function(){a.is(":hidden")||(se(),me(),ge(),_e=fe(),(ye=pe())(_e("resize"),!0,!0))})),a.on("reflow",xe),b.support&&b.support.datatables&&function(e){if(e.dataTableSettings)for(var t=0;t<e.dataTableSettings.length;t++){var n=e.dataTableSettings[t].nTable;if(e[0]===n)return!0}return!1}(a)&&a.on("filter",xe).on("sort",xe).on("page",xe),b.support&&b.support.bootstrap&&c.on(ie("shown.bs.tab"),xe),b.support&&b.support.jqueryUI&&c.on(ie("tabsactivate"),xe),h){var Le=null;t.isFunction(b.autoReflow)&&(Le=b.autoReflow(a,T)),Le||(Le=T.length?T[0]:a[0]),(d=new MutationObserver((function(e){for(var t=function(e){return e&&e[0]&&("THEAD"===e[0].nodeName||"TD"===e[0].nodeName||"TH"===e[0].nodeName)},n=0;n<e.length;n++)if(!t(e[n].addedNodes)&&!t(e[n].removedNodes)){xe();break}}))).observe(Le,{childList:!0,subtree:!0})}a.data("floatThead-attached",{destroy:function(){var e=".fth-"+i;return le(),a.css(te),j.remove(),l&&R.remove(),q.parent().length&&q.replaceWith(y),ue(!1),h&&(d.disconnect(),d=null),a.off("reflow reflowed"),T.off(e),C.off(e),O&&(T.length?T.unwrap():a.unwrap()),L?T.data("floatThead-containerWrap",!1):a.data("floatThead-containerWrap",!1),a.css("minWidth",re),W.remove(),a.data("floatThead-attached",!1),c.off(e),c.off("fth-beforeprint fth-afterprint"),Te&&Te.removeListener(ke),Me=Se=function(){},function(){return a.floatThead(b)}},reflow:function(){xe()},setHeaderHeight:function(){oe()},getFloatContainer:function(){return W},getRowGroups:function(){return M?W.find(">table>thead").add(a.children("tbody,tfoot")):a.children("thead,tbody,tfoot")}})})),this}}(function(){var t=r;return e.exports&&!t&&(t=n(6932)),t}())},6308(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prošlu] [nedjelju] [u] LT";case 3:return"[prošlu] [srijedu] [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},6348(){angular.module("gettext",[]),angular.module("gettext").constant("gettext",(function(e){return e})),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(e,t,n,r,i,o){var s,a="$$noContext",l='<span id="test" title="test" class="tested">test</span>',c=angular.element("<span>"+l+"</span>").html()!==l,u=function(e){return s.debug&&s.currentLanguage!==s.baseLanguage?s.debugPrefix+e:e},h=function(e){return s.showTranslatedMarkers?s.translatedMarkerPrefix+e+s.translatedMarkerSuffix:e};function d(){o.$broadcast("gettextLanguageChanged")}return s={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:r("strings"),setCurrentLanguage:function(e){this.currentLanguage=e,d()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(t,n){this.strings[t]||(this.strings[t]={});var r=e(t,1);for(var i in n){var o=n[i];if(c&&(i=angular.element("<span>"+i+"</span>").html()),angular.isString(o)||angular.isArray(o)){var s={};s[a]=o,o=s}for(var l in this.strings[t][i]||(this.strings[t][i]={}),o){var u=o[l];angular.isArray(u)?this.strings[t][i][l]=u:(this.strings[t][i][l]=[],this.strings[t][i][l][r]=u)}}d()},getStringFormFor:function(t,n,r,i){return t?(((this.strings[t]||{})[n]||{})[i||a]||[])[e(t,r)]:null},getString:function(e,n,r){var o=t(this.currentLanguage);return e=this.getStringFormFor(this.currentLanguage,e,1,r)||this.getStringFormFor(o,e,1,r)||u(e),e=n?i(e)(n):e,h(e)},getPlural:function(e,n,r,o,s){var a=t(this.currentLanguage);return n=this.getStringFormFor(this.currentLanguage,n,e,s)||this.getStringFormFor(a,n,e,s)||u(1===e?n:r),o&&(o.$count=e,n=i(n)(o)),h(n)},loadRemote:function(e){return n({method:"GET",url:e,cache:s.cache}).then((function(e){var t=e.data;for(var n in t)s.setStrings(n,t[n]);return e}))}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window","gettextUtil",function(e,t,n,r,i,o){var s=parseInt((/msie (\d+)/i.exec(i.navigator.userAgent)||[])[1],10),a="translateParams";function l(e,t,n){var r=Object.keys(t).filter((function(e){return o.startsWith(e,a)&&e!==a}));if(!r.length)return null;var i=e.$new(),s=[];return r.forEach((function(r){var l=e.$watch(t[r],(function(e){var t=function(e){return o.lcFirst(e.replace(a,""))}(r);i[t]=e,n(i)}));s.push(l)})),e.$on("$destroy",(function(){s.forEach((function(e){e()})),i.$destroy()})),i}return{restrict:"AE",terminal:!0,compile:function(i,a){var c=a.translate;if(!c||!c.match(/^yes|no$/i)){o.assert(!a.translatePlural||a.translateN,"translate-n","translate-plural"),o.assert(!a.translateN||a.translatePlural,"translate-plural","translate-n");var u=o.trim(i.html()),h=a.translatePlural,d=a.translateContext;return s<=8&&"\x3c!--IE fix--\x3e"===u.slice(-13)&&(u=u.slice(0,-13)),{post:function(i,s,a){var c=t(a.translateN),f=null,p=!0;function m(t){var a;t=t||null,h?((i=f||(f=i.$new())).$count=c(i),a=e.getPlural(i.$count,u,h,null,d)):a=e.getString(u,null,d);var l=s.contents();if(l||a)if(a!==o.trim(l.html())){var m=angular.element("<span>"+a+"</span>");r(m.contents())(t||i);var g=m.contents();n.enter(g,s),n.leave(l)}else p&&r(l)(i)}var g=l(i,a,m);m(g),p=!1,a.translateN&&i.$watch(a.translateN,(function(){m(g)})),i.$on("gettextLanguageChanged",(function(){m(g)}))}}}}}}]),angular.module("gettext").factory("gettextFallbackLanguage",(function(){var e={},t=/([^_]+)_[^_]+$/;return function(n){if(e[n])return e[n];var r=t.exec(n);return r?(e[n]=r[1],r[1]):null}})),angular.module("gettext").filter("translate",["gettextCatalog",function(e){function t(t,n){return e.getString(t,null,n)}return t.$stateful=!0,t}]),angular.module("gettext").factory("gettextPlurals",(function(){var e={pt_BR:"pt_BR","pt-BR":"pt_BR"};return function(t,n){switch(function(t){e[t]||(e[t]=t.split(/\-|_/).shift());return e[t]}(t)){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return n%10!=1||n%100==11?1:0;case"jv":return 0!=n?1:0;case"mk":return 1==n||n%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return n>1?1:0;case"lv":return n%10==1&&n%100!=11?0:0!=n?1:2;case"lt":return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"mnk":return 0==n?0:1==n?1:2;case"ro":return 1==n?0:0==n||n%100>0&&n%100<20?1:2;case"pl":return 1==n?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"cs":case"sk":return 1==n?0:n>=2&&n<=4?1:2;case"sl":return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0;case"mt":return 1==n?0:0==n||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3;case"gd":return 1==n||11==n?0:2==n||12==n?1:n>2&&n<20?2:3;case"cy":return 1==n?0:2==n?1:8!=n&&11!=n?2:3;case"kw":return 1==n?0:2==n?1:3==n?2:3;case"ga":return 1==n?0:2==n?1:n<7?2:n<11?3:4;case"ar":return 0==n?0:1==n?1:2==n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5;default:return 1!=n?1:0}}})),angular.module("gettext").factory("gettextUtil",(function(){return{trim:String.prototype.trim?function(e){return"string"==typeof e?e.trim():e}:function(e){return"string"==typeof e?e.replace(/^\s*/,"").replace(/\s*$/,""):e},assert:function(e,t,n){if(!e)throw new Error("You should add a "+t+" attribute whenever you add a "+n+" attribute.")},startsWith:function(e,t){return 0===e.indexOf(t)},lcFirst:function(e){return e.charAt(0).toLowerCase()+e.substr(1)}}}))},6415(e,t,n){n(3602),e.exports="ngSanitize"},6435(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(5093))},6571(e,t,n){!function(e){"use strict";var t={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};e.defineLocale("tg",{months:{format:"январи_феврали_марти_апрели_майи_июни_июли_августи_сентябри_октябри_ноябри_декабри".split("_"),standalone:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_")},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Фардо соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?e>=11?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5093))},6575(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(5093))},6584(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},6618(e,t,n){!function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){return"m"===r?n?"хвилина":"хвилину":"h"===r?n?"година":"годину":e+" "+t({ss:n?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:n?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:n?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[r],+e)}function r(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative}function i(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:r,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:i("[Сьогодні "),nextDay:i("[Завтра "),lastDay:i("[Вчора "),nextWeek:i("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[Минулої] dddd [").call(this);case 1:case 2:case 4:return i("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:n,m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}(n(5093))},6637(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},6652(e,t,n){n(7967),e.exports="ngAnimate"},6751(e,t,n){n(3503),e.exports="ngTouch"},6794(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},6870(e,t,n){!function(e){"use strict";var t={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},n={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,n){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[១២៣៤៥៦៧៨៩០]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(5093))},6883(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932)],void 0===(o="function"==typeof(r=function(e){return e.ui=e.ui||{},e.ui.version="1.14.1"})?r.apply(t,i):r)||(e.exports=o)}()},6932(e,t,n){var r=n(4692),i=n(4160);void 0===i.$&&(i.$=r),e.exports=r},6947(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-ps",{months:"كانون الثاني_شباط_آذار_نيسان_أيّار_حزيران_تمّوز_آب_أيلول_تشري الأوّل_تشرين الثاني_كانون الأوّل".split("_"),monthsShort:"ك٢_شباط_آذار_نيسان_أيّار_حزيران_تمّوز_آب_أيلول_ت١_ت٢_ك١".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).split("").reverse().join("").replace(/[١٢](?![\u062a\u0643])/g,(function(e){return n[e]})).split("").reverse().join("").replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(5093))},7025(e,t,n){n(1055),e.exports=angular},7071(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5093))},7075(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},7088(e,t,n){!function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5093))},7160(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}(n(5093))},7306(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(5093))},7329(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},7357(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn-bd",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|ভোর|সকাল|দুপুর|বিকাল|সন্ধ্যা|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t?e<4?e:e+12:"ভোর"===t||"সকাল"===t?e:"দুপুর"===t?e>=3?e:e+12:"বিকাল"===t||"সন্ধ্যা"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"রাত":e<6?"ভোর":e<12?"সকাল":e<15?"দুপুর":e<18?"বিকাল":e<20?"সন্ধ্যা":"রাত"},week:{dow:0,doy:6}})}(n(5093))},7375(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(5093))},7538(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})}(n(5093))},7609(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}(n(5093))},7650(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"})}(n(5093))},7711(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(5093))},7730(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:4},invalidDate:"Fecha inválida"})}(n(5093))},7777(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"яну_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Миналата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[Миналия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",w:"седмица",ww:"%d седмици",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(5093))},7853(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},7892(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(5093))},7967(){!function(e,t){"use strict";var n,r,i,o,s="-add",a="-remove",l="ng-animate",c="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(n="WebkitTransition",r="webkitTransitionEnd transitionend"):(n="transition",r="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(i="WebkitAnimation",o="webkitAnimationEnd animationend"):(i="animation",o="animationend");var u="Duration",h="Property",d="Delay",f="TimingFunction",p=i+d,m=i+u,g=n+d,_=n+u,y=t.$$minErr("ng");function b(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function v(e,t){return e||t?e?t?(V(e)&&(e=e.join(" ")),V(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function w(e,t,n){var r="";return e=V(e)?e:e&&Q(e)&&e.length?e.split(/\s+/):[],B(e,(function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)})),r}function x(e){if(e instanceof te)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return te(M(e))}if(1===e.nodeType)return te(e)}function M(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}function S(e){return function(t,n){n.addClass&&(!function(e,t,n){B(t,(function(t){e.addClass(t,n)}))}(e,t,n.addClass),n.addClass=null),n.removeClass&&(!function(e,t,n){B(t,(function(t){e.removeClass(t,n)}))}(e,t,n.removeClass),n.removeClass=null)}}function k(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||ne;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ne},e.$$prepared=!0}return e}function T(e,t){L(e,t),C(e,t)}function L(e,t){t.from&&(e.css(t.from),t.from=null)}function C(e,t){t.to&&(e.css(t.to),t.to=null)}function E(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),l=(r.removeClass||"")+" "+(i.removeClass||""),c=function(e,t,n){var r=1,i=-1,o={};e=c(e),t=c(t),B(t,(function(e,t){o[t]=r})),n=c(n),B(n,(function(e,t){o[t]=o[t]===r?null:i}));var l={addClass:"",removeClass:""};function c(e){Q(e)&&(e=e.split(" "));var t={};return B(e,(function(e){e.length&&(t[e]=!0)})),t}return B(o,(function(t,n){var o,c;t===r?(o="addClass",c=!e[n]||e[n+a]):t===i&&(o="removeClass",c=e[n]||e[n+s]),c&&(l[o].length&&(l[o]+=" "),l[o]+=n)})),l}(e.attr("class"),o,l);i.preparationClasses&&(r.preparationClasses=P(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var u=r.domOperation!==ne?r.domOperation:null;return q(r,i),u&&(r.domOperation=u),c.addClass?r.addClass=c.addClass:r.addClass=null,c.removeClass?r.removeClass=c.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function D(e){return e instanceof te?e[0]:e}function A(e,t){var n=t?"paused":"",r=i+"PlayState";return $(e,[r,n]),[r,n]}function $(e,t){var n=t[0],r=t[1];e.style[n]=r}function P(e,t){return e?t?e+" "+t:e:t}var R=function(e,t){var n=t?"-"+t+"s":"";return $(e,[g,n]),[g,n]},O=["$interpolate",function(e){return{link:function(t,n,r){var i=r.ngAnimateChildren;function o(e){e="on"===e||"true"===e,n.data(c,e)}Q(i)&&0===i.length?n.data(c,!0):(o(e(i)(t)),r.$observe("ngAnimateChildren",o))}}}],I="$$animateCss",F=1e3,N={transitionDuration:_,transitionDelay:g,transitionProperty:n+h,animationDuration:m,animationDelay:p,animationIterationCount:i+"IterationCount"},Y={transitionDuration:_,transitionDelay:g,animationDuration:m,animationDelay:p};function j(e,t){return[t?p:g,e+"s"]}function H(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return B(n,(function(e,t){var n,o,s=i[e];if(s){var a=s.charAt(0);("-"===a||"+"===a||a>=0)&&(n=0,o=s.split(/\s*,\s*/),B(o,(function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e})),s=n),0===s&&(s=null),r[t]=s}})),r}function z(e){return 0===e||null!=e}function U(e,t){var r=n,i=e+"s";return t?r+=u:i+=" linear all",[r,i]}function W(e,t,n){B(n,(function(n){e[n]=X(e[n])?e[n]:t.style.getPropertyValue(n)}))}var G,q,B,V,X,K,J,Z,Q,ee,te,ne,re=["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,t,l,c,u,d,p,g,_){var y=S(t);var b=[];function v(e){b.push(e),g.waitUntilQuiet((function(){u.flush();for(var e=d(),t=0;t<b.length;t++)b[t](e);b.length=0}))}function x(t,n,r,i){var o=function(t,n,r,i,o){var s=u.get(r);s||"infinite"===(s=H(e,t,o)).animationIterationCount&&(s.animationIterationCount=1);var a=i||s.transitionDuration>0||s.animationDuration>0;return u.put(r,s,a),s}(t,0,r,i,N),s=o.animationDelay,a=o.transitionDelay;return o.maxDelay=s&&a?Math.max(s,a):s||a,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(d,g){var b=g||{};b.$$prepared||(b=k(G(b)));var M={},S=D(d);if(!S||!S.parentNode||!_.enabled())return Ce();var E,P,O,N,q,X,K,J,Z,Q,ee=[],te=(d.attr("class"),function(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}(b)),re=[];if(0===b.duration||!p.animations&&!p.transitions)return Ce();var ie=b.event&&V(b.event)?b.event.join(" "):b.event,oe=ie&&b.structural,se="",ae="";oe?se=w(ie,"ng-",!0):ie&&(se=ie),b.addClass&&(ae+=w(b.addClass,s)),b.removeClass&&(ae.length&&(ae+=" "),ae+=w(b.removeClass,a)),b.applyClassesEarly&&ae.length&&y(d,b);var le=[se,ae].join(" ").trim(),ce=te.to&&Object.keys(te.to).length>0;if(!((b.keyframeStyle||"").length>0)&&!ce&&!le)return Ce();var ue,he,de=u.cacheKey(S,ie,b.addClass,b.removeClass);if(u.containsCachedAnimationWithoutDuration(de))return le=null,Ce();if(b.stagger>0){var fe=parseFloat(b.stagger);ue={transitionDelay:fe,animationDelay:fe,transitionDuration:0,animationDuration:0}}else ue=function(n,r,i,o){var s,a="stagger-"+i;if(u.count(i)>0&&!(s=u.get(a))){var l=w(r,"-stagger");t.addClass(n,l),(s=H(e,n,o)).animationDuration=Math.max(s.animationDuration,0),s.transitionDuration=Math.max(s.transitionDuration,0),t.removeClass(n,l),u.put(a,s,!0)}return s||{}}(S,le,de,Y);if(b.$$skipPreparationClasses||t.addClass(d,le),b.transitionStyle){var pe=[n,b.transitionStyle];$(S,pe),ee.push(pe)}if(b.duration>=0){he=S.style[n].length>0;var me=U(b.duration,he);$(S,me),ee.push(me)}if(b.keyframeStyle){var ge=[i,b.keyframeStyle];$(S,ge),ee.push(ge)}var _e=ue?b.staggerIndex>=0?b.staggerIndex:u.count(de):0,ye=0===_e;ye&&!b.skipBlocking&&R(S,9999);var be=x(S,0,de,!oe),ve=be.maxDelay;X=Math.max(ve,0),J=be.maxDuration;var we={};if(we.hasTransitions=be.transitionDuration>0,we.hasAnimations=be.animationDuration>0,we.hasTransitionAll=we.hasTransitions&&"all"===be.transitionProperty,we.applyTransitionDuration=ce&&(we.hasTransitions&&!we.hasTransitionAll||we.hasAnimations&&!we.hasTransitions),we.applyAnimationDuration=b.duration&&we.hasAnimations,we.applyTransitionDelay=z(b.delay)&&(we.applyTransitionDuration||we.hasTransitions),we.applyAnimationDelay=z(b.delay)&&we.hasAnimations,we.recalculateTimingStyles=ae.length>0,(we.applyTransitionDuration||we.applyAnimationDuration)&&(J=b.duration?parseFloat(b.duration):J,we.applyTransitionDuration&&(we.hasTransitions=!0,be.transitionDuration=J,he=S.style[n+h].length>0,ee.push(U(J,he))),we.applyAnimationDuration&&(we.hasAnimations=!0,be.animationDuration=J,ee.push([m,J+"s"]))),0===J&&!we.recalculateTimingStyles)return Ce();var xe,Me=w(le,"-active");null!=b.delay&&("boolean"!=typeof b.delay&&(xe=parseFloat(b.delay),X=Math.max(xe,0)),we.applyTransitionDelay&&ee.push(j(xe)),we.applyAnimationDelay&&ee.push(j(xe,!0)));return null==b.duration&&be.transitionDuration>0&&(we.recalculateTimingStyles=we.recalculateTimingStyles||ye),K=X*F,Z=J*F,b.skipBlocking||(we.blockTransition=be.transitionDuration>0,we.blockKeyframeAnimation=be.animationDuration>0&&ue.animationDelay>0&&0===ue.animationDuration),b.from&&(b.cleanupStyles&&W(M,S,Object.keys(b.from)),L(d,b)),we.blockTransition||we.blockKeyframeAnimation?Le(J):b.skipBlocking||R(S,!1),{$$willAnimate:!0,end:Se,start:function(){if(!E)return N=new l(q={end:Se,cancel:ke,resume:null,pause:null}),v(De),N}};function Se(){Te()}function ke(){Te(!0)}function Te(e){if(!(E||O&&P)){E=!0,P=!1,le&&!b.$$skipPreparationClasses&&t.removeClass(d,le),Me&&t.removeClass(d,Me),A(S,!1),R(S,!1),B(ee,(function(e){S.style[e[0]]=""})),y(d,b),T(d,b),Object.keys(M).length&&B(M,(function(e,t){e?S.style.setProperty(t,e):S.style.removeProperty(t)})),b.onDone&&b.onDone(),re&&re.length&&d.off(re.join(" "),Ee);var n=d.data(I);n&&(c.cancel(n[0].timer),d.removeData(I)),N&&N.complete(!e)}}function Le(e){we.blockTransition&&R(S,e),we.blockKeyframeAnimation&&A(S,!!e)}function Ce(){return N=new l({end:Se,cancel:ke}),v(ne),Te(),{$$willAnimate:!1,start:function(){return N},end:Se}}function Ee(e){e.stopPropagation();var t=e.originalEvent||e;if(t.target===S){var n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-Q,0)>=K&&r>=J&&(O=!0,Te())}}function De(){if(!E)if(S.parentNode){var e=function(e){if(O)P&&e&&(P=!1,Te());else if(P=!e,be.animationDuration){var t=A(S,P);P?ee.push(t):(r=t,i=(n=ee).indexOf(r),r>=0&&n.splice(i,1))}var n,r,i},s=_e>0&&(be.transitionDuration&&0===ue.transitionDuration||be.animationDuration&&0===ue.animationDuration)&&Math.max(ue.animationDelay,ue.transitionDelay);s?c(a,Math.floor(s*_e*F),!1):a(),q.resume=function(){e(!0)},q.pause=function(){e(!1)}}else Te();function a(){if(!E){if(Le(!1),B(ee,(function(e){var t=e[0],n=e[1];S.style[t]=n})),y(d,b),t.addClass(d,Me),we.recalculateTimingStyles){if(S.getAttribute("class")+" "+le,de=u.cacheKey(S,ie,b.addClass,b.removeClass),be=x(S,0,de,!1),ve=be.maxDelay,X=Math.max(ve,0),0===(J=be.maxDuration))return void Te();we.hasTransitions=be.transitionDuration>0,we.hasAnimations=be.animationDuration>0}if(we.applyAnimationDelay&&(ve="boolean"!=typeof b.delay&&z(b.delay)?parseFloat(b.delay):ve,X=Math.max(ve,0),be.animationDelay=ve,xe=j(ve,!0),ee.push(xe),S.style[xe[0]]=xe[1]),K=X*F,Z=J*F,b.easing){var e,s=b.easing;we.hasTransitions&&(e=n+f,ee.push([e,s]),S.style[e]=s),we.hasAnimations&&(e=i+f,ee.push([e,s]),S.style[e]=s)}be.transitionDuration&&re.push(r),be.animationDuration&&re.push(o),Q=Date.now();var a=K+1.5*Z,h=Q+a,p=d.data(I)||[],m=!0;if(p.length){var g=p[0];(m=h>g.expectedEndTime)?c.cancel(g.timer):p.push(Te)}if(m){var _=c(l,a,!1);p[0]={timer:_,expectedEndTime:h},p.push(Te),d.data(I,p)}re.length&&d.on(re.join(" "),Ee),b.to&&(b.cleanupStyles&&W(M,S,Object.keys(b.to)),C(d,b))}}function l(){var e=d.data(I);if(e){for(var t=1;t<e.length;t++)e[t]();d.removeData(I)}}}}}]}],ie=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,o,s,a,l,c,u){if(!l.animations&&!l.transitions)return ne;var h,d=u[0].body,f=D(a),p=te((h=f).parentNode&&11===h.parentNode.nodeType||d.contains(f)?f:d);return function(o){return o.from&&o.to?function(o,a,l,c){var u=_(o),h=_(a),f=[];if(B(c,(function(o){var a=function(o,a,l){var c=te(D(a).cloneNode(!0)),u=m(v(c));a.addClass(t),l.addClass(t),c.addClass(n),p.append(c);var h,f=b();if(!f&&!(h=w()))return x();var _=f||h;return{start:function(){var e,t=_.start();return t.done((function(){if(t=null,!h&&(h=w()))return(t=h.start()).done((function(){t=null,x(),e.complete()})),t;x(),e.complete()})),e=new s({end:n,cancel:n});function n(){t&&t.end()}}};function y(e){var t={},n=D(e).getBoundingClientRect();return B(["width","height","top","left"],(function(e){var r=n[e];switch(e){case"top":r+=d.scrollTop;break;case"left":r+=d.scrollLeft}t[e]=Math.floor(r)+"px"})),t}function b(){var t=e(c,{addClass:r,delay:!0,from:y(a)});return t.$$willAnimate?t:null}function v(e){return e.attr("class")||""}function w(){var t=m(v(l)),n=g(t,u),o=g(u,t),s=e(c,{to:y(l),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return s.$$willAnimate?s:null}function x(){c.remove(),a.removeClass(t),l.removeClass(t)}}(0,o.out,o.in);a&&f.push(a)})),!u&&!h&&0===f.length)return;return{start:function(){var e=[];u&&e.push(u.start()),h&&e.push(h.start()),B(f,(function(t){e.push(t.start())}));var t=new s({end:n,cancel:n});return s.all(e,(function(e){t.complete(e)})),t;function n(){B(e,(function(e){e.end()}))}}}}(o.from,o.to,o.classes,o.anchors):_(o)};function m(e){return e.replace(/\bng-\S+\b/g,"")}function g(e,t){return Q(e)&&(e=e.split(" ")),Q(t)&&(t=t.split(" ")),e.filter((function(e){return-1===t.indexOf(e)})).join(" ")}function _(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=P(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}}]}],oe=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){var i=S(r);return function(r,o,s,a){var l=!1;3===arguments.length&&Z(s)&&(a=s,s=null),a=k(a),s||(s=r.attr("class")||"",a.addClass&&(s+=" "+a.addClass),a.removeClass&&(s+=" "+a.removeClass));var c,u,h,d,f,p=a.addClass,m=a.removeClass,g=function(n){n=V(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var s=n[o],a=e.$$registeredAnimations[s];a&&!i[s]&&(r.push(t.get(a)),i[s]=!0)}return r}(s);g.length&&("leave"===o?(d="leave",h="afterLeave"):(d="before"+o.charAt(0).toUpperCase()+o.substr(1),h=o),"enter"!==o&&"move"!==o&&(c=v(r,o,a,g,d)),u=v(r,o,a,g,h));if(c||u)return{$$willAnimate:!0,end:function(){return f?f.end():(y(),(f=new n).complete(!0)),f},start:function(){if(f)return f;var e;f=new n;var t=[];return c&&t.push((function(t){e=c(t)})),t.length?t.push((function(e){_(),e(!0)})):_(),u&&t.push((function(t){e=u(t)})),f.setHost({end:function(){i()},cancel:function(){i(!0)}}),n.chain(t,r),f;function r(e){y(),f.complete(e)}function i(t){l||((e||ne)(t),r(t))}}};function _(){a.domOperation(),i(r,a)}function y(){l=!0,_(),T(r,a)}function b(e,t,r,i,o){var s=[];return B(i,(function(i){var a=i[o];a&&s.push((function(){var i,o,s=!1,l=function(e){s||(s=!0,(o||ne)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=function(e,t,r,i,o){var s;switch(r){case"animate":s=[t,i.from,i.to,o];break;case"setClass":s=[t,p,m,o];break;case"addClass":s=[t,p,o];break;case"removeClass":s=[t,m,o];break;default:s=[t,o]}s.push(i);var a=e.apply(e,s);if(a)if(J(a.start)&&(a=a.start()),a instanceof n)a.done(o);else if(J(a))return a;return ne}(a,e,t,r,(function(e){l(!1===e)})),i}))})),s}function v(e,t,r,i,o){var s,a,l=b(e,t,r,i,o);0===l.length&&("beforeSetClass"===o?(s=b(e,"removeClass",r,i,"beforeRemoveClass"),a=b(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=b(e,"removeClass",r,i,"removeClass"),a=b(e,"addClass",r,i,"addClass")),s&&(l=l.concat(s)),a&&(l=l.concat(a)));if(0!==l.length)return function(e){var t=[];return l.length&&B(l,(function(e){t.push(e())})),t.length?n.all(t,e):e(),function(e){B(t,(function(t){e?t.cancel():t.end()}))}}}}}]}],se=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){var e=[];r&&e.push(r.start()),i&&e.push(i.start()),t.all(e,(function(e){n.complete(e)}));var n=new t({end:o(),cancel:o()});return n;function o(){return function(){B(e,(function(e){e.end()}))}}}}}return n(e)};function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}}]}],ae="data-ng-animate",le="$ngAnimatePin",ce=["$animateProvider",function(t){var n=this.rules={skip:[],cancel:[],join:[]};function r(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function i(e,t){if(e&&t){var n=function(e){if(!e)return null;var t=e.split(" "),n=Object.create(null);return B(t,(function(e){n[e]=!0})),n}(t);return e.split(" ").some((function(e){return n[e]}))}}function o(e,t,r){return n[e].some((function(e){return e(t,r)}))}function l(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}n.join.push((function(e,t){return!e.structural&&l(e)})),n.skip.push((function(e,t){return!e.structural&&!l(e)})),n.skip.push((function(e,t){return"leave"===t.event&&e.structural})),n.skip.push((function(e,t){return t.structural&&2===t.state&&!e.structural})),n.cancel.push((function(e,t){return t.structural&&e.structural})),n.cancel.push((function(e,t){return 2===t.state&&e.structural})),n.cancel.push((function(e,t){if(t.structural)return!1;var n=e.addClass,r=e.removeClass,o=t.addClass,s=t.removeClass;return!(ee(n)&&ee(r)||ee(o)&&ee(s))&&(i(n,s)||i(r,o))})),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(n,i,u,h,d,f,p,m,g,_,y){var v=new d,L=new d,C=null;function A(e){L.delete(e.target)}var $=i.$watch((function(){return 0===m.totalPendingRequests}),(function(e){e&&($(),i.$$postDigest((function(){i.$$postDigest((function(){null===C&&(C=!0)}))})))})),R=Object.create(null),O=t.customFilter(),I=t.classNameFilter(),F=function(){return!0},N=O||F,Y=I?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return I.test(n)}:F,j=S(g);function H(e,t){return E(e,t,{})}var z=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function U(e,t,n){var r=M(t);return e.filter((function(e){return!(e.node===r&&(!n||e.callback===n))}))}function W(e,t){"close"!==e||t.parentNode||J.off(t)}var J={on:function(e,t,n){var r=M(t);R[e]=R[e]||[],R[e].push({node:r,callback:n}),te(t).on("$destroy",(function(){v.get(r)||J.off(e,t,n)}))},off:function(e,t,n){if(1!==arguments.length||Q(arguments[0])){var r=R[e];r&&(R[e]=1===arguments.length?null:U(r,t,n))}else for(var i in t=arguments[0],R)R[i]=U(R[i],t)},pin:function(e,t){b(K(e),"element","not an element"),b(K(t),"parentElement","not an element"),e.data(le,t)},push:function(e,t,d,m){return(d=d||{}).domOperation=m,function(e,t,d){var m=G(d),g=x(e),_=D(g),b=_&&_.parentNode;m=k(m);var M=new p,S=(A=!1,function(e){A?e():i.$$postDigest((function(){A=!0,e()}))});var A;V(m.addClass)&&(m.addClass=m.addClass.join(" "));m.addClass&&!Q(m.addClass)&&(m.addClass=null);V(m.removeClass)&&(m.removeClass=m.removeClass.join(" "));m.removeClass&&!Q(m.removeClass)&&(m.removeClass=null);m.from&&!Z(m.from)&&(m.from=null);m.to&&!Z(m.to)&&(m.to=null);if(!(C&&_&&N(_,t,d)&&Y(_,m)))return oe(),M;var $=["enter","move","leave"].indexOf(t)>=0,O=y(),I=O||L.get(_),F=!I&&v.get(_)||{},U=!!F.state;I||U&&1===F.state||(I=!function(e,t){var n,r=h[0].body,i=D(u),o=e===r||"HTML"===e.nodeName,s=e===i,a=!1,l=L.get(e),d=te.data(e,le);d&&(t=D(d));for(;t&&(s||(s=t===i),1===t.nodeType);){var f=v.get(t)||{};if(!a){var p=L.get(t);if(!0===p&&!1!==l){l=!0;break}!1===p&&(l=!1),a=f.structural}if(ee(n)||!0===n){var m=te.data(t,c);X(m)&&(n=m)}if(a&&!1===n)break;if(o||(o=t===r),o&&s)break;t=s||!(d=te.data(t,le))?t.parentNode:D(d)}return(!a||n)&&!0!==l&&s&&o}(_,b));if(I)return O&&ie(M,t,"start",r(m)),oe(),O&&ie(M,t,"close",r(m)),M;$&&function(e){var t=e.querySelectorAll("["+ae+"]");B(t,(function(e){var t=parseInt(e.getAttribute(ae),10),n=v.get(e);if(n)switch(t){case 2:n.runner.end();case 1:v.delete(e)}}))}(_);var q={structural:$,element:g,event:t,addClass:m.addClass,removeClass:m.removeClass,close:oe,options:m,runner:M};if(U){if(o("skip",q,F))return 2===F.state?(oe(),M):(E(g,F,q),F.runner);if(o("cancel",q,F))if(2===F.state)F.runner.end();else{if(!F.structural)return E(g,F,q),F.runner;F.close()}else if(o("join",q,F)){if(2!==F.state)return function(e,t,n,r){var i="";n&&(i=w(n,"ng-",!0)),r.addClass&&(i=P(i,w(r.addClass,s))),r.removeClass&&(i=P(i,w(r.removeClass,a))),i.length&&(r.preparationClasses=i,t.addClass(i))}(0,g,$?t:null,m),t=q.event=F.event,m=E(g,F,q),F.runner;H(g,q)}}else H(g,q);var K=q.structural;K||(K="animate"===q.event&&Object.keys(q.options.to||{}).length>0||l(q));if(!K)return oe(),ne(_),M;var J=(F.counter||0)+1;return q.counter=J,re(_,1,q),i.$$postDigest((function(){g=x(e);var n=v.get(_),i=!n;n=n||{};var o=(g.parent()||[]).length>0&&("animate"===n.event||n.structural||l(n));if(i||n.counter!==J||!o)return i&&(j(g,m),T(g,m)),(i||$&&n.event!==t)&&(m.domOperation(),M.end()),void(o||ne(_));t=!n.structural&&l(n,!0)?"setClass":n.event,re(_,2);var s=f(g,t,n.options);M.setHost(s),ie(M,t,"start",r(m)),s.done((function(e){oe(!e);var n=v.get(_);n&&n.counter===J&&ne(_),ie(M,t,"close",r(m))}))})),M;function ie(e,t,r,i){S((function(){var e=function(e,t,n){var r=[],i=R[n];return i&&B(i,(function(i){(z.call(i.node,t)||"leave"===n&&z.call(i.node,e))&&r.push(i.callback)})),r}(b,_,t);e.length?n((function(){B(e,(function(e){e(g,r,i)})),W(r,_)})):W(r,_)})),e.progress(t,r,i)}function oe(e){!function(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}(g,m),j(g,m),T(g,m),m.domOperation(),M.complete(!e)}}(e,t,d)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!C;else if(K(e)){var r=D(e);1===n?t=!L.get(r):(L.has(r)||te(e).on("$destroy",A),L.set(r,!t))}else t=C=!!e;return t}};return J;function ne(e){e.removeAttribute(ae),v.delete(e)}function re(e,t,n){(n=n||{}).state=t,e.setAttribute(ae,t);var r=v.get(e),i=r?q(r,n):n;v.set(e,i)}}]}],ue=["$animateProvider",function(e){var t="ng-animate-ref",n=this.drivers=[],r="$$animationRunner",i="$$animatePrepareClasses";function o(e){return e.data(r)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(e,s,a,c,u,h,d){var f=[],p=S(e);return function(m,g,_){_=k(_);var y=["enter","move","leave"].indexOf(g)>=0,b=new c({end:function(){L()},cancel:function(){L(!0)}});if(!n.length)return L(),b;var w=v(m.attr("class"),v(_.addClass,_.removeClass)),x=_.tempClasses;return x&&(w+=" "+x,_.tempClasses=null),y&&m.data(i,"ng-"+g+"-prepare"),function(e,t){e.data(r,t)}(m,b),f.push({element:m,classes:w,event:g,structural:y,options:_,beforeStart:function(){x=(x?x+" ":"")+l,e.addClass(m,x);var t=m.data(i);t&&(e.removeClass(m,t),t=null)},close:L}),m.on("$destroy",S),f.length>1||s.$$postDigest((function(){var r=[];B(f,(function(e){o(e.element)?r.push(e):e.close()})),f.length=0;var s=function(e){var n=[],r={};B(e,(function(e,i){var o=D(e.element),s=e.event,a=["enter","move"].indexOf(s)>=0,l=e.structural?function(e){var n="["+t+"]",r=e.hasAttribute(t)?[e]:e.querySelectorAll(n),i=[];return B(r,(function(e){var n=e.getAttribute(t);n&&n.length&&i.push(e)})),i}(o):[];if(l.length){var c=a?"to":"from";B(l,(function(e){var n=e.getAttribute(t);r[n]=r[n]||{},r[n][c]={animationID:i,element:te(e)}}))}else n.push(e)}));var i={},o={};return B(r,(function(t,r){var s=t.from,a=t.to;if(s&&a){var l=e[s.animationID],c=e[a.animationID],u=s.animationID.toString();if(!o[u]){var h=o[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:M(l.classes,c.classes),from:l,to:c,anchors:[]};h.classes.length?n.push(h):(n.push(l),n.push(c))}o[u].anchors.push({out:s.element,in:a.element})}else{var d=s?s.animationID:a.animationID,f=d.toString();i[f]||(i[f]=!0,n.push(e[d]))}})),n}(r),c=[];B(s,(function(e){var t=e.from?e.from.element:e.element,r=_.addClass;r=(r?r+" ":"")+l;var i=d.cacheKey(t[0],e.event,r,_.removeClass);c.push({element:t,domNode:D(t),fn:function(){var t,r=e.close;if(d.containsCachedAnimationWithoutDuration(i))r();else{if(e.beforeStart(),o(e.anchors?e.from.element||e.to.element:e.element)){var s=function(e){for(var t=n.length-1;t>=0;t--){var r=n[t],i=a.get(r)(e);if(i)return i}}(e);s&&(t=s.start)}if(t){var l=t();l.done((function(e){r(!e)})),function(e,t){e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element);function n(e){var n=o(e);n&&n.setHost(t)}}(e,l)}else r()}}})}));for(var p=function(e){var t,n={children:[]},r=new u;for(t=0;t<e.length;t++){var i=e[t];r.set(i.domNode,e[t]={domNode:i.domNode,element:i.element,fn:i.fn,children:[]})}for(t=0;t<e.length;t++)o(e[t]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,s=[];for(t=0;t<r.length;t++){var a=r[t];i<=0&&(i=o,o=0,n.push(s),s=[]),s.push(a),a.children.forEach((function(e){o++,r.push(e)})),i--}return s.length&&n.push(s),n}(n);function o(e){if(e.processed)return e;e.processed=!0;var t,i=e.domNode,s=i.parentNode;for(r.set(i,e);s;){if(t=r.get(s)){t.processed||(t=o(t));break}s=s.parentNode}return(t||n).children.push(e),e}}(c),m=0;m<p.length;m++)for(var g=p[m],y=0;y<g.length;y++){var b=g[y],v=b.element;if(p[m][y]=b.fn,0!==m){var w=v.data(i);w&&e.addClass(v,w)}else v.removeData(i)}h(p)})),b;function M(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function S(){var e=o(m);!e||"leave"===g&&_.$$domOperationFired||e.end()}function L(t){m.off("$destroy",S),function(e){e.removeData(r)}(m),p(m,_),T(m,_),_.domOperation(),x&&e.removeClass(m,x),b.complete(!t)}}}]}];t.module("ngAnimate",[],(function(){ne=t.noop,G=t.copy,q=t.extend,te=t.element,B=t.forEach,V=t.isArray,Q=t.isString,Z=t.isObject,ee=t.isUndefined,X=t.isDefined,J=t.isFunction,K=t.isElement})).info({angularVersion:"1.8.3"}).directive("ngAnimateSwap",["$animate",function(e){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(t,n,r,i,o){var s,a;t.$watchCollection(r.ngAnimateSwap||r.for,(function(t){s&&e.leave(s),a&&(a.$destroy(),a=null),(t||0===t)&&o((function(t,r){s=t,a=r,e.enter(t,null,n)}))}))}}}]).directive("ngAnimateChildren",O).factory("$$rAFScheduler",["$$rAF",function(e){var t,n;function r(e){t=t.concat(e),i()}return t=r.queue=[],r.waitUntilQuiet=function(t){n&&n(),n=e((function(){n=null,t(),i()}))},r;function i(){if(t.length){for(var r=t.shift(),o=0;o<r.length;o++)r[o]();n||e((function(){n||i()}))}}}]).provider("$$animateQueue",ce).provider("$$animateCache",(function(){var e="$$ngAnimateParentKey",t=0,n=Object.create(null);this.$get=[function(){return{cacheKey:function(n,r,i,o){var s=n.parentNode,a=[s[e]||(s[e]=++t),r,n.getAttribute("class")];return i&&a.push(i),o&&a.push(o),a.join(" ")},containsCachedAnimationWithoutDuration:function(e){var t=n[e];return t&&!t.isValid||!1},flush:function(){n=Object.create(null)},count:function(e){var t=n[e];return t?t.total:0},get:function(e){var t=n[e];return t&&t.value},put:function(e,t,r){n[e]?(n[e].total++,n[e].value=t):n[e]={total:1,value:t,isValid:r}}}}]})).provider("$$animation",ue).provider("$animateCss",re).provider("$$animateCssDriver",ie).provider("$$animateJs",oe).provider("$$animateJsDriver",se)}(window,window.angular)},8076(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5093))},8156(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8162(e,t){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=void 0;var i={selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,document:"undefined"!=typeof window?document:void 0};var o={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=n({},i,t);var r=function(e,r){return t.parseDefaultValueFromContent?n({},e,{defaultValue:r}):e};function o(t,n,i){var o="text";if(0==n.indexOf("[")){var s=n.split("]");n=s[1],o=s[0].substr(1,s[0].length-1)}if(n=n.indexOf(";")==n.length-1?n.substr(0,n.length-2):n,"html"===o)t.innerHTML=e.t(n,r(i,t.innerHTML));else if("text"===o)t.textContent=e.t(n,r(i,t.textContent));else if("prepend"===o){var a=t.innerHTML.indexOf("<loc-i18n>"),l=t.innerHTML.indexOf("</loc-i18n>")+11;a>-1&&l>6&&(t.innerHTML=[t.innerHTML.substring(0,a),t.innerHTML.slice(l)].join("")),t.innerHTML=["<loc-i18n>",e.t(n,r(i,t.innerHTML)),"</loc-i18n>",t.innerHTML].join("")}else if("append"===o){var c=t.innerHTML.indexOf("<loc-i18n>"),u=t.innerHTML.indexOf("</loc-i18n>")+11;c>-1&&u>6&&(t.innerHTML=[t.innerHTML.substring(0,c),t.innerHTML.slice(u)].join("")),t.innerHTML=[t.innerHTML,"<loc-i18n>",e.t(n,r(i,t.innerHTML),"</loc-i18n>")].join("")}else if(0===o.indexOf("data-")){var h=o.substr(5),d=e.t(n,r(i,t.getAttribute(h)));t.setAttribute(h,d),t.setAttribute(o,d)}else t.setAttribute(o,e.t(n,r(i,t.getAttribute(o))))}function s(e,r){var i=e.getAttribute(t.selectorAttr);if(i){var s,a=e,l=e.getAttribute(t.targetAttr);if(null!=l&&(a=e.querySelector(l)||e),r||!0!==t.useOptionsAttr||(s=e.getAttribute(t.optionsAttr)||"{}",r=JSON.parse(s.replace(/:\s*"([^"]*)"/g,(function(e,t){return': "'+t.replace(/:/g,"@colon@")+'"'})).replace(/:\s*'([^']*)'/g,(function(e,t){return': "'+t.replace(/:/g,"@colon@")+'"'})).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":"))),r=r||{},i.indexOf(";")>=0)for(var c=i.split(";"),u=0,h=c.length;u<h;u++)""!=c[u]&&o(a,c[u],r);else o(a,i,r);if(!0===t.useOptionsAttr){var d={};delete(d=n({clone:d},r)).lng,e.setAttribute(t.optionsAttr,JSON.stringify(d))}}}return function(e,n){for(var r=((null==n?void 0:n.document)||t.document).querySelectorAll(e),i=0;i<r.length;i++){for(var o=r[i],a=o.querySelectorAll("["+t.selectorAttr+"]"),l=a.length-1;l>-1;l--)s(a[l],n);s(o,n)}}}};t.default=o},8174(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ئێواره‌|به‌یانی/,isPM:function(e){return/ئێواره‌/.test(e)},meridiem:function(e,t,n){return e<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(5093))},8235(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})}(n(5093))},8298(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(5093))},8303(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"do_2ª_3ª_4ª_5ª_6ª_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",invalidDate:"Data inválida"})}(n(5093))},8383(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},8414(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"يېرىم كېچە":r<900?"سەھەر":r<1130?"چۈشتىن بۇرۇن":r<1230?"چۈش":r<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}})}(n(5093))},8474(e,t,n){!function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5093))},8488(e,t,n){var r=n(2989),i=n(4160);void 0===i.Bloodhound&&(i.Bloodhound=r),e.exports=r},8497(e,t,n){!function(e){if(e.support.touch="ontouchend"in document,e.support.touch){var t,n=e.ui.mouse.prototype,r=n._mouseInit,i=n._mouseDestroy;n._touchStart=function(e){!t&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(t=!0,this._touchMoved=!1,o(e,"mouseover"),o(e,"mousemove"),o(e,"mousedown"))},n._touchMove=function(e){t&&(this._touchMoved=!0,o(e,"mousemove"))},n._touchEnd=function(e){t&&(o(e,"mouseup"),o(e,"mouseout"),this._touchMoved||o(e,"click"),t=!1)},n._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)},n._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),i.call(t)}}function o(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}}}(n(6932))},8604(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(3662),n(724),n(2336),n(6883),n(9139)],r=function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){var r,i=!1,o=e(t).css("overflow");if("hidden"===o)return!1;if("scroll"===o)return!0;if(t[r=n&&"left"===n?"scrollLeft":"scrollTop"]>0)return!0;try{t[r]=1,i=t[r]>0,t[r]=0}catch(e){}return i},_create:function(){var t,n=this.options,r=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",(function(){n.disabled||(r._removeClass("ui-resizable-autohide"),r._handles.show())})).on("mouseleave",(function(){n.disabled||r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var t,n,r,i,o,s=this.options,a=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this._addedHandles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},n=0;n<r.length;n++)i="ui-resizable-"+(t=String.prototype.trim.call(r[n])),o=e("<div>"),this._addClass(o,"ui-resizable-handle "+i),o.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(o),this._addedHandles=this._addedHandles.add(o));this._renderAxis=function(t){var n,r,i,o;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")})),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)((r=e(this.handles[n])[0])===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,o,s=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this._helper||(o=this._calculateAdjustedElementDimensions(a)),this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width,height:o.height},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:o.width,height:o.height},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,o=this.axis,s=t.pageX-i.left||0,a=t.pageY-i.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,s,a,l,c=this.options,u=this;return this._helper&&(i=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=r?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-i},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.helper.css(e),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px",this.helper.width(e.width)),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px",this.helper.height(e.height)),e},_updateVirtualBoundaries:function(e){var t,n,r,i,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&c&&(e.left=a-t.minWidth),r&&c&&(e.left=a-t.maxWidth),s&&u&&(e.top=l-t.minHeight),i&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(r[t])||0,n[t]+=parseFloat(i[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_calculateAdjustedElementDimensions:function(e){var t,n,r,i=e.get(0);return"content-box"!==e.css("box-sizing")||!this._hasScroll(i)&&!this._hasScroll(i,"left")?{height:parseFloat(e.css("height")),width:parseFloat(e.css("width"))}:(t=parseFloat(i.style.width),n=parseFloat(i.style.height),r=this._getPaddingPlusBorderDimensions(e),t=isNaN(t)?this._getElementTheoreticalSize(e,r,"width"):t,{height:n=isNaN(n)?this._getElementTheoreticalSize(e,r,"height"):n,width:t})},_getElementTheoreticalSize:function(e,t,n){return Math.max(0,Math.ceil(e.get(0)["offset"+n[0].toUpperCase()+n.slice(1)]-t[n]-.5))||0},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),s=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,o,s,a,l=e(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=e(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,r){n[e]=l._num(t.css("padding"+r))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=l.containerOffset,i=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:i,l.parentData={element:d,left:r.left,top:r.top,width:s,height:a}))},resize:function(t){var n,r,i,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,h={top:0,left:0},d=s.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),i=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),i&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),r=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),r+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-r,u&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each((function(){var n=e(this),r=t._calculateAdjustedElementDimensions(n);n.data("ui-resizable-alsoresize",{width:r.width,height:r.height,left:parseFloat(n.css("left")),top:parseFloat(n.css("top"))})}))},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,o=r.originalSize,s=r.originalPosition,a={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0};e(i.alsoResize).each((function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,(function(e,t){var n=(r[t]||0)+(a[t]||0);n&&n>=0&&(i[t]=n||null)})),t.css(i)}))},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!0===e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,c=l[0]||1,u=l[1]||1,h=Math.round((i.width-o.width)/c)*c,d=Math.round((i.height-o.height)/u)*u,f=o.width+h,p=o.height+d,m=r.maxWidth&&r.maxWidth<f,g=r.maxHeight&&r.maxHeight<p,_=r.minWidth&&r.minWidth>f,y=r.minHeight&&r.minHeight>p;r.grid=l,_&&(f+=c),y&&(p+=u),m&&(f-=c),g&&(p-=u),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=s.left-h):((p-u<=0||f-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=s.top-d):(p=u-t.height,n.size.height=p,n.position.top=s.top+o.height-p),f-c>0?(n.size.width=f,n.position.left=s.left-h):(f=c-t.width,n.size.width=f,n.position.left=s.left+o.width-f))}}),e.ui.resizable},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},8676(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})}(n(5093))},8861(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},8959(e,t,n){!function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){return"m"===r?n?"хвіліна":"хвіліну":"h"===r?n?"гадзіна":"гадзіну":e+" "+t({ss:n?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:n?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:n?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[r],+e)}e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:n,mm:n,h:n,hh:n,d:"дзень",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}(n(5093))},9033(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(5093))},9053(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}e.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,n){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}})}(n(5093))},9139(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],r=function(e){var t=0,n=Array.prototype.hasOwnProperty,r=Array.prototype.slice;return e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove");t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,s,a={},l=t.split(".")[0];if("__proto__"===(t=t.split(".")[1])||"constructor"===t)return e.error("Invalid widget name: "+t);var c=l+"-"+t;return r||(r=n,n=e.Widget),Array.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr.pseudos[c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},i=e[l][t],o=e[l][t]=function(e,t){if(!this||!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,i,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,(function(e,t){a[e]="function"==typeof t?function(){function r(){return n.prototype[e].apply(this,arguments)}function i(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=r,this._superApply=i,e=t.apply(this,arguments),this._super=n,this._superApply=o,e}}():t})),o.prototype=e.widget.extend(s,{widgetEventPrefix:i&&s.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),i?(e.each(i._childConstructors,(function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)})),delete i._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,o,s=r.call(arguments,1),a=0,l=s.length;a<l;a++)for(i in s[a])o=s[a][i],n.call(s[a],i)&&void 0!==o&&(e.isPlainObject(o)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],o):e.widget.extend({},o):t[i]=o);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each((function(){var n,r=e.data(this,i);return"instance"===o?(l=r,!1):r?"function"!=typeof r[o]||"_"===o.charAt(0)?e.error("no such method '"+o+"' for "+t+" widget instance"):(n=r[o].apply(r,a))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each((function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new n(o,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,n){t._removeClass(n,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},r=t.split("."),t=r.shift(),r.length){for(i=s[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,r,i;for(n in t)i=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&i&&i.length&&(r=e(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],r=this;function i(){var n=[];t.element.each((function(t,i){e.map(r.classesElementLookup,(function(e){return e})).some((function(e){return e.is(i)}))||n.push(i)})),r._on(e(n),{remove:"_untrackClassesElement"})}function o(o,s){var a,l;for(l=0;l<o.length;l++)a=r.classesElementLookup[o[l]]||e(),t.add?(i(),a=e(e.uniqueSort(a.get().concat(t.element.get())))):a=e(a.not(t.element).get()),r.classesElementLookup[o[l]]=a,n.push(o[l]),s&&t.classes[o[l]]&&n.push(t.classes[o[l]])}return(t=e.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&o(t.keys.match(/\S+/g)||[],!0),t.extra&&o(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,(function(r,i){-1!==e.inArray(t.target,i)&&(n.classesElementLookup[r]=e(i.not(t.target).get()))})),this._off(e(t.target))},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,r){r="boolean"==typeof r?r:n;var i="string"==typeof e||null===e,o={extra:i?t:n,keys:i?e:t,element:i?this.element:e,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,(function(r,s){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?i.on(c,u,a):n.on(c,a)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,r){var i,o,s=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!("function"==typeof s&&!1===s.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){var s;"string"==typeof i&&(i={effect:i});var a=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})?i={duration:i}:!0===i&&(i={}),s=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&e.effects&&e.effects.effect[a]?r[t](i):a!==t&&r[a]?r[a](i.duration,i.easing,o):r.queue((function(n){e(this)[t](),o&&o.call(r[0]),n()}))}})),e.widget},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},9163(e,t,n){n(6348),e.exports="gettext"},9231(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(5093))},9330(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"genièr_febrièr_març_abril_mai_junh_julhet_agost_setembre_octòbre_novembre_decembre".split("_"),format:"de genièr_de febrièr_de març_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octòbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimècres_dijòus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uèi a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ièr a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(5093))},9374(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?o+(n||i?"sekúndur":"sekúndum"):o+"sekúnda";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?o+(n||i?"mínútur":"mínútum"):n?o+"mínúta":o+"mínútu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dögum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mánuður":i?"mánuð":"mánuði";case"MM":return t(e)?n?o+"mánuðir":o+(i?"mánuði":"mánuðum"):n?o+"mánuður":o+(i?"mánuð":"mánuði");case"y":return n||i?"ár":"ári";case"yy":return t(e)?o+(n||i?"ár":"árum"):o+(n||i?"ár":"ári")}}e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},9402(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(5093))},9527(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'ünji",4:"'ünji",100:"'ünji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"Ýanwar_Fewral_Mart_Aprel_Maý_Iýun_Iýul_Awgust_Sentýabr_Oktýabr_Noýabr_Dekabr".split("_"),monthsShort:"Ýan_Few_Mar_Apr_Maý_Iýn_Iýl_Awg_Sen_Okt_Noý_Dek".split("_"),weekdays:"Ýekşenbe_Duşenbe_Sişenbe_Çarşenbe_Penşenbe_Anna_Şenbe".split("_"),weekdaysShort:"Ýek_Duş_Siş_Çar_Pen_Ann_Şen".split("_"),weekdaysMin:"Ýk_Dş_Sş_Çr_Pn_An_Şn".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[düýn] LT",lastWeek:"[geçen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soň",past:"%s öň",s:"birnäçe sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gün",dd:"%d gün",M:"bir aý",MM:"%d aý",y:"bir ýyl",yy:"%d ýyl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10,i=e%100-r,o=e>=100?100:null;return e+(t[r]||t[i]||t[o])}},week:{dow:1,doy:7}})}(n(5093))},9532(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}function o(e,t){return t?"dažas sekundes":"dažām sekundēm"}e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:o,ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},9680(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){return i(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function r(e){return i(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function i(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return i(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return i(e)}return i(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},9722(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(5093))},9816(e){e.exports=function(){return document.createElement("canvas")}},9822(e,t,n){var r,i,o,s;s=function(e){"use strict";var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,openOnFocus:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,maxDateTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1,insideParent:!1},n=null,r=null,i="en",o={meridiem:["AM","PM"]},s=function(){var s=t.i18n[i],a={days:s.dayOfWeek,daysShort:s.dayOfWeekShort,months:s.months,monthsShort:e.map(s.months,(function(e){return e.substring(0,3)}))};"function"==typeof DateFormatter&&(n=r=new DateFormatter({dateSettings:e.extend({},o,a)}))},a={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function(e,t){if(c(t))return r.parseDate(e,t);var n=moment(e,t);return!!n.isValid()&&n.toDate()},formatDate:function(e,t){return c(t)?r.formatDate(e,t):moment(e).format(t)},formatMask:function(e){return e.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};e.datetimepicker={setLocale:function(e){var n=t.i18n[e]?e:"en";i!==n&&(i=n,s())},setDateFormatter:function(r){if("string"==typeof r&&a.hasOwnProperty(r)){var i=a[r];e.extend(t,i.default_options),n=i.formatter}else n=r}};var l={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},c=function(e){return-1!==Object.values(l).indexOf(e)};function u(e,t,n){this.date=e,this.desc=t,this.style=n}e.extend(e.datetimepicker,l),s(),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(-([a-z]))/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,(function(e,t,n){return n.toUpperCase()}))),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r;for(n=t||0,r=this.length;n<r;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t,n){return this.each((function(){var r,i,o,s,a,l=e(this),c=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(n.x=e.clientX,n.y=e.clientY),n},u=100,h=!1,d=0,f=0,p=0,m=!1,g=0,_=function(){};"hide"!==n?(e(this).hasClass("xdsoft_scroller_box")||(r=l.children().eq(0),i=l[0].clientHeight,o=r[0].offsetHeight,s=e('<div class="xdsoft_scrollbar"></div>'),a=e('<div class="xdsoft_scroller"></div>'),s.append(a),l.addClass("xdsoft_scroller_box").append(s),_=function(e){var t=c(e).y-d+g;t<0&&(t=0),t+a[0].offsetHeight>p&&(t=p-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[u?t/u:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",(function(r){i||l.trigger("resize_scroll.xdsoft_scroller",[n]),d=c(r).y,g=parseInt(a.css("margin-top"),10),p=s[0].offsetHeight,"mousedown"===r.type||"touchstart"===r.type?(t.ownerDocument&&e(t.ownerDocument.body).addClass("xdsoft_noselect"),e([t.ownerDocument.body,t.contentWindow]).on("touchend mouseup.xdsoft_scroller",(function n(){e([t.ownerDocument.body,t.contentWindow]).off("touchend mouseup.xdsoft_scroller",n).off("mousemove.xdsoft_scroller",_).removeClass("xdsoft_noselect")})),e(t.ownerDocument.body).on("mousemove.xdsoft_scroller",_)):(m=!0,r.stopPropagation(),r.preventDefault())})).on("touchmove",(function(e){m&&(e.preventDefault(),_(e))})).on("touchend touchcancel",(function(){m=!1,g=0})),l.on("scroll_element.xdsoft_scroller",(function(e,t){i||l.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,a.css("margin-top",u*t),setTimeout((function(){r.css("marginTop",-parseInt((r[0].offsetHeight-i)*t,10))}),10)})).on("resize_scroll.xdsoft_scroller",(function(e,t,n){var c,h;i=l[0].clientHeight,o=r[0].offsetHeight,h=(c=i/o)*s[0].offsetHeight,c>1?a.hide():(a.show(),a.css("height",parseInt(h>10?h:10,10)),u=s[0].offsetHeight-a[0].offsetHeight,!0!==n&&l.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(r.css("marginTop"),10))/(o-i)]))})),l.on("mousewheel",(function(e){var t=Math.abs(parseInt(r.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),l.trigger("scroll_element.xdsoft_scroller",[t/(o-i)]),e.stopPropagation(),!1})),l.on("touchstart",(function(e){h=c(e),f=Math.abs(parseInt(r.css("marginTop"),10))})),l.on("touchmove",(function(e){if(h){e.preventDefault();var t=c(e);l.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-h.y))/(o-i)])}})),l.on("touchend touchcancel",(function(){h=!1,f=0}))),l.trigger("resize_scroll.xdsoft_scroller",[n])):l.find(".xdsoft_scrollbar").hide()}))},e.fn.datetimepicker=function(r,o){var s,a,l=this,c=17,h=13,d=27,f=37,p=38,m=39,g=40,_=9,y=116,b=65,v=67,w=86,x=90,M=89,S=!1,k=e.isPlainObject(r)||!r?e.extend(!0,{},t,r):e.extend(!0,{},t),T=0;return s=function(t){var o,s,a,l,T,L,C=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),E=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),D=e('<div class="xdsoft_datepicker active"></div>'),A=e('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),$=e('<div class="xdsoft_calendar"></div>'),P=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),R=P.find(".xdsoft_time_box").eq(0),O=e('<div class="xdsoft_time_variant"></div>'),I=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),F=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),N=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),Y=!1,j=0;k.id&&C.attr("id",k.id),k.style&&C.attr("style",k.style),k.weeks&&C.addClass("xdsoft_showweeks"),k.rtl&&C.addClass("xdsoft_rtl"),C.addClass("xdsoft_"+k.theme),C.addClass(k.className),A.find(".xdsoft_month span").after(F),A.find(".xdsoft_year span").after(N),A.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",(function(t){var n,r,i=e(this).find(".xdsoft_select").eq(0),o=0,s=0,a=i.is(":visible");for(A.find(".xdsoft_select").hide(),T.currentTime&&(o=T.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i[a?"hide":"show"](),n=i.find("div.xdsoft_option"),r=0;r<n.length&&n.eq(r).data("value")!==o;r+=1)s+=n[0].offsetHeight;return i.xdsoftScroller(k,s/(i.children()[0].offsetHeight-i[0].clientHeight)),t.stopPropagation(),!1}));var H=function(e){var t=e.originalEvent,n=t.touches?t.touches[0]:t;this.touchStartPosition=this.touchStartPosition||n;var r=Math.abs(this.touchStartPosition.clientX-n.clientX),i=Math.abs(this.touchStartPosition.clientY-n.clientY);Math.sqrt(r*r+i*i)>k.touchMovedThreshold&&(this.touchMoved=!0)};function z(){var e,n=!1;return k.startDate?n=T.strToDate(k.startDate):(n=k.value||(t&&t.val&&t.val()?t.val():""))?(n=T.strToDateTime(n),k.yearOffset&&(n=new Date(n.getFullYear()-k.yearOffset,n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))):k.defaultDate&&(n=T.strToDateTime(k.defaultDate),k.defaultTime&&(e=T.strtotime(k.defaultTime),n.setHours(e.getHours()),n.setMinutes(e.getMinutes()))),n&&T.isValidDate(n)?C.data("changed",!0):n="",n||0}function U(r){var i=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)},o=function(e,t){if(!(e="string"==typeof e||e instanceof String?r.ownerDocument.getElementById(e):e))return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)};r.mask&&t.off("keydown.xdsoft"),!0===r.mask&&(n.formatMask?r.mask=n.formatMask(r.format):r.mask=r.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(r.mask)&&(i(r.mask,t.val())||(t.val(r.mask.replace(/[0-9]/g,"_")),o(t[0],0)),t.on("paste.xdsoft",(function(n){var s=(n.clipboardData||n.originalEvent.clipboardData||window.clipboardData).getData("text"),a=this.value,l=this.selectionStart,c=a.substr(0,l),u=a.substr(l+s.length);return a=c+s+u,l+=s.length,i(r.mask,a)?(this.value=a,o(this,l)):""===e.trim(a)?this.value=r.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft"),n.preventDefault(),!1})),t.on("keydown.xdsoft",(function(n){var s,a=this.value,l=n.which,u=this.selectionStart,k=this.selectionEnd,T=u!==k;if(l>=48&&l<=57||l>=96&&l<=105||8===l||46===l){for(s=8===l||46===l?"_":String.fromCharCode(96<=l&&l<=105?l-48:l),8===l&&u&&!T&&(u-=1);;){var L=r.mask.substr(u,1),C=u<r.mask.length,E=u>0;if(!(/[^0-9_]/.test(L)&&C&&E))break;u+=8!==l||T?1:-1}if(n.metaKey&&(u=0,T=!0),T){var D=k-u,A=r.mask.replace(/[0-9]/g,"_"),$=A.substr(u,D).substr(1),P=a.substr(0,u),R=s+$,O=a.substr(u+D);a=P+R+O}else{var I=a.substr(0,u),F=s,N=a.substr(u+1);a=I+F+N}if(""===e.trim(a))a=A;else if(u===r.mask.length)return n.preventDefault(),!1;for(u+=8===l?0:1;/[^0-9_]/.test(r.mask.substr(u,1))&&u<r.mask.length&&u>0;)u+=8===l?0:1;i(r.mask,a)?(this.value=a,o(this,u)):""===e.trim(a)?this.value=r.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[b,v,w,x,M].indexOf(l)&&S||-1!==[d,p,g,f,m,y,c,_,h].indexOf(l))return!0;return n.preventDefault(),!1})))}A.find(".xdsoft_select").xdsoftScroller(k).on("touchstart mousedown.xdsoft",(function(e){var t=e.originalEvent;this.touchMoved=!1,this.touchStartPosition=t.touches?t.touches[0]:t,e.stopPropagation(),e.preventDefault()})).on("touchmove",".xdsoft_option",H).on("touchend mousedown.xdsoft",".xdsoft_option",(function(){if(!this.touchMoved){void 0!==T.currentTime&&null!==T.currentTime||(T.currentTime=T.now());var t=T.currentTime.getFullYear();T&&T.currentTime&&T.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),C.trigger("xchange.xdsoft"),k.onChangeMonth&&e.isFunction(k.onChangeMonth)&&k.onChangeMonth.call(C,T.currentTime,C.data("input")),t!==T.currentTime.getFullYear()&&e.isFunction(k.onChangeYear)&&k.onChangeYear.call(C,T.currentTime,C.data("input"))}})),C.getValue=function(){return T.getCurrentTime()},C.setOptions=function(r){var i={};k=e.extend(!0,{},k,r),r.allowTimes&&e.isArray(r.allowTimes)&&r.allowTimes.length&&(k.allowTimes=e.extend(!0,[],r.allowTimes)),r.weekends&&e.isArray(r.weekends)&&r.weekends.length&&(k.weekends=e.extend(!0,[],r.weekends)),r.allowDates&&e.isArray(r.allowDates)&&r.allowDates.length&&(k.allowDates=e.extend(!0,[],r.allowDates)),r.allowDateRe&&"[object String]"===Object.prototype.toString.call(r.allowDateRe)&&(k.allowDateRe=new RegExp(r.allowDateRe)),r.highlightedDates&&e.isArray(r.highlightedDates)&&r.highlightedDates.length&&(e.each(r.highlightedDates,(function(t,r){var o,s=e.map(r.split(","),e.trim),a=new u(n.parseDate(s[0],k.formatDate),s[1],s[2]),l=n.formatDate(a.date,k.formatDate);void 0!==i[l]?(o=i[l].desc)&&o.length&&a.desc&&a.desc.length&&(i[l].desc=o+"\n"+a.desc):i[l]=a})),k.highlightedDates=e.extend(!0,[],i)),r.highlightedPeriods&&e.isArray(r.highlightedPeriods)&&r.highlightedPeriods.length&&(i=e.extend(!0,[],k.highlightedDates),e.each(r.highlightedPeriods,(function(t,r){var o,s,a,l,c,h,d;if(e.isArray(r))o=r[0],s=r[1],a=r[2],d=r[3];else{var f=e.map(r.split(","),e.trim);o=n.parseDate(f[0],k.formatDate),s=n.parseDate(f[1],k.formatDate),a=f[2],d=f[3]}for(;o<=s;)l=new u(o,a,d),c=n.formatDate(o,k.formatDate),o.setDate(o.getDate()+1),void 0!==i[c]?(h=i[c].desc)&&h.length&&l.desc&&l.desc.length&&(i[c].desc=h+"\n"+l.desc):i[c]=l})),k.highlightedDates=e.extend(!0,[],i)),r.disabledDates&&e.isArray(r.disabledDates)&&r.disabledDates.length&&(k.disabledDates=e.extend(!0,[],r.disabledDates)),r.disabledWeekDays&&e.isArray(r.disabledWeekDays)&&r.disabledWeekDays.length&&(k.disabledWeekDays=e.extend(!0,[],r.disabledWeekDays)),!k.open&&!k.opened||k.inline||t.trigger("open.xdsoft"),k.inline&&(Y=!0,C.addClass("xdsoft_inline"),t.after(C).hide()),k.inverseButton&&(k.next="xdsoft_prev",k.prev="xdsoft_next"),k.datepicker?D.addClass("active"):D.removeClass("active"),k.timepicker?P.addClass("active"):P.removeClass("active"),k.value&&(T.setCurrentTime(k.value),t&&t.val&&t.val(T.str)),isNaN(k.dayOfWeekStart)?k.dayOfWeekStart=0:k.dayOfWeekStart=parseInt(k.dayOfWeekStart,10)%7,k.timepickerScrollbar||R.xdsoftScroller(k,"hide"),k.minDate&&/^[\+\-](.*)$/.test(k.minDate)&&(k.minDate=n.formatDate(T.strToDateTime(k.minDate),k.formatDate)),k.maxDate&&/^[\+\-](.*)$/.test(k.maxDate)&&(k.maxDate=n.formatDate(T.strToDateTime(k.maxDate),k.formatDate)),k.minDateTime&&/^\+(.*)$/.test(k.minDateTime)&&(k.minDateTime=T.strToDateTime(k.minDateTime).dateFormat(k.formatDate)),k.maxDateTime&&/^\+(.*)$/.test(k.maxDateTime)&&(k.maxDateTime=T.strToDateTime(k.maxDateTime).dateFormat(k.formatDate)),I.toggle(k.showApplyButton),A.find(".xdsoft_today_button").css("visibility",k.todayButton?"visible":"hidden"),A.find("."+k.prev).css("visibility",k.prevButton?"visible":"hidden"),A.find("."+k.next).css("visibility",k.nextButton?"visible":"hidden"),U(k),k.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",(function(){if(k.allowBlank&&(!e.trim(e(this).val()).length||"string"==typeof k.mask&&e.trim(e(this).val())===k.mask.replace(/[0-9]/g,"_")))e(this).val(null),C.data("xdsoft_datetime").empty();else{var t=n.parseDate(e(this).val(),k.format);if(t)e(this).val(n.formatDate(t,k.format));else{var r=+[e(this).val()[0],e(this).val()[1]].join(""),i=+[e(this).val()[2],e(this).val()[3]].join("");!k.datepicker&&k.timepicker&&r>=0&&r<24&&i>=0&&i<60?e(this).val([r,i].map((function(e){return e>9?e:"0"+e})).join(":")):e(this).val(n.formatDate(T.now(),k.format))}C.data("xdsoft_datetime").setCurrentTime(e(this).val())}C.trigger("changedatetime.xdsoft"),C.trigger("close.xdsoft")})),k.dayOfWeekStartPrev=0===k.dayOfWeekStart?6:k.dayOfWeekStart-1,C.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},C.data("options",k).on("touchstart mousedown.xdsoft",(function(e){return e.stopPropagation(),e.preventDefault(),N.hide(),F.hide(),!1})),R.append(O),R.xdsoftScroller(k),C.on("afterOpen.xdsoft",(function(){R.xdsoftScroller(k)})),C.append(D).append(P),!0!==k.withoutCopyright&&C.append(E),D.append(A).append($).append(I),k.insideParent?e(t).parent().append(C):e(k.parentID).append(C),T=new function(){var t=this;t.now=function(e){var n,r,i=new Date;return!e&&k.defaultDate&&(n=t.strToDateTime(k.defaultDate),i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate())),i.setFullYear(i.getFullYear()),!e&&k.defaultTime&&(r=t.strtotime(k.defaultTime),i.setHours(r.getHours()),i.setMinutes(r.getMinutes()),i.setSeconds(r.getSeconds()),i.setMilliseconds(r.getMilliseconds())),i},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e,n){"string"==typeof e?t.currentTime=t.strToDateTime(e):t.isValidDate(e)?t.currentTime=e:e||n||!k.allowBlank||k.inline?t.currentTime=t.now():t.currentTime=null,C.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var n,r=t.currentTime.getMonth()+1;return 12===r&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),r=0),n=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),r+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(r),k.onChangeMonth&&e.isFunction(k.onChangeMonth)&&k.onChangeMonth.call(C,T.currentTime,C.data("input")),n!==t.currentTime.getFullYear()&&e.isFunction(k.onChangeYear)&&k.onChangeYear.call(C,T.currentTime,C.data("input")),C.trigger("xchange.xdsoft"),r},t.prevMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var n=t.currentTime.getMonth()-1;return-1===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),k.onChangeMonth&&e.isFunction(k.onChangeMonth)&&k.onChangeMonth.call(C,T.currentTime,C.data("input")),C.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(t){if(k.onGetWeekOfYear&&e.isFunction(k.onGetWeekOfYear)){var n=k.onGetWeekOfYear.call(C,t);if(void 0!==n)return n}var r=new Date(t.getFullYear(),0,1);return 4!==r.getDay()&&r.setMonth(0,1+(4-r.getDay()+7)%7),Math.ceil(((t-r)/864e5+r.getDay()+1)/7)},t.strToDateTime=function(e){var r,i,o=[];return e&&e instanceof Date&&t.isValidDate(e)?e:((o=/^([+-]{1})(.*)$/.exec(e))&&(o[2]=n.parseDate(o[2],k.formatDate)),o&&o[2]?(r=o[2].getTime()-6e4*o[2].getTimezoneOffset(),i=new Date(t.now(!0).getTime()+parseInt(o[1]+"1",10)*r)):i=e?n.parseDate(e,k.format):t.now(),t.isValidDate(i)||(i=t.now()),i)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var r=e?n.parseDate(e,k.formatDate):t.now(!0);return t.isValidDate(r)||(r=t.now(!0)),r},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var r=e?n.parseDate(e,k.formatTime):t.now(!0);return t.isValidDate(r)||(r=t.now(!0)),r},t.str=function(){var e=k.format;return k.yearOffset&&(e=(e=e.replace("Y",t.currentTime.getFullYear()+k.yearOffset)).replace("y",String(t.currentTime.getFullYear()+k.yearOffset).substring(2,4))),n.formatDate(t.currentTime,e)},t.currentTime=this.now()},I.on("touchend click",(function(e){e.preventDefault(),C.data("changed",!0),T.setCurrentTime(z()),t.val(T.str()),C.trigger("close.xdsoft")})),A.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",(function(){C.data("changed",!0),T.setCurrentTime(0,!0),C.trigger("afterOpen.xdsoft")})).on("dblclick.xdsoft",(function(){var e,n,r=T.getCurrentTime();r=new Date(r.getFullYear(),r.getMonth(),r.getDate()),e=T.strToDate(k.minDate),r<(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))||(n=T.strToDate(k.maxDate),r>(n=new Date(n.getFullYear(),n.getMonth(),n.getDate()))||(t.val(T.str()),t.trigger("change"),C.trigger("close.xdsoft")))})),A.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var t=e(this),n=0,r=!1;!function e(i){t.hasClass(k.next)?T.nextMonth():t.hasClass(k.prev)&&T.prevMonth(),k.monthChangeSpinner&&(r||(n=setTimeout(e,i||100)))}(500),e([k.ownerDocument.body,k.contentWindow]).on("touchend mouseup.xdsoft",(function t(){clearTimeout(n),r=!0,e([k.ownerDocument.body,k.contentWindow]).off("touchend mouseup.xdsoft",t)}))})),P.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var t=e(this),n=0,r=!1,i=110;!function e(o){var s=R[0].clientHeight,a=O[0].offsetHeight,l=Math.abs(parseInt(O.css("marginTop"),10));t.hasClass(k.next)&&a-s-k.timeHeightInTimePicker>=l?O.css("marginTop","-"+(l+k.timeHeightInTimePicker)+"px"):t.hasClass(k.prev)&&l-k.timeHeightInTimePicker>=0&&O.css("marginTop","-"+(l-k.timeHeightInTimePicker)+"px"),R.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(O[0].style.marginTop,10)/(a-s))]),i=i>10?10:i-10,r||(n=setTimeout(e,o||i))}(500),e([k.ownerDocument.body,k.contentWindow]).on("touchend mouseup.xdsoft",(function t(){clearTimeout(n),r=!0,e([k.ownerDocument.body,k.contentWindow]).off("touchend mouseup.xdsoft",t)}))})),o=0,C.on("xchange.xdsoft",(function(s){clearTimeout(o),o=setTimeout((function(){void 0!==T.currentTime&&null!==T.currentTime||(T.currentTime=T.now());for(var o,s,a,l,c,u,h,d,f,p,m="",g=new Date(T.currentTime.getFullYear(),T.currentTime.getMonth(),1,12,0,0),_=0,y=T.now(),b=!1,v=!1,w=!1,x=!1,M=[],S=!0,L="";g.getDay()!==k.dayOfWeekStart;)g.setDate(g.getDate()-1);for(m+="<table><thead><tr>",k.weeks&&(m+="<th></th>"),o=0;o<7;o+=1)m+="<th>"+k.i18n[i].dayOfWeekShort[(o+k.dayOfWeekStart)%7]+"</th>";for(m+="</tr></thead>",m+="<tbody>",!1!==k.maxDate&&(b=T.strToDate(k.maxDate),b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),23,59,59,999)),!1!==k.minDate&&(v=T.strToDate(k.minDate),v=new Date(v.getFullYear(),v.getMonth(),v.getDate())),!1!==k.minDateTime&&(w=T.strToDate(k.minDateTime),w=new Date(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds())),!1!==k.maxDateTime&&(x=T.strToDate(k.maxDateTime),x=new Date(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds())),!1!==x&&(p=31*(12*x.getFullYear()+x.getMonth())+x.getDate());_<T.currentTime.countDaysInMonth()||g.getDay()!==k.dayOfWeekStart||T.currentTime.getMonth()===g.getMonth();){M=[],_+=1,a=g.getDay(),l=g.getDate(),c=g.getFullYear(),R=g.getMonth(),u=T.getWeekOfYear(g),f="",M.push("xdsoft_date"),h=k.beforeShowDay&&e.isFunction(k.beforeShowDay.call)?k.beforeShowDay.call(C,g):null,k.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(k.allowDateRe)&&(k.allowDateRe.test(n.formatDate(g,k.formatDate))||M.push("xdsoft_disabled")),k.allowDates&&k.allowDates.length>0&&-1===k.allowDates.indexOf(n.formatDate(g,k.formatDate))&&M.push("xdsoft_disabled");var E=31*(12*g.getFullYear()+g.getMonth())+g.getDate();(!1!==b&&g>b||!1!==w&&g<w||!1!==v&&g<v||!1!==x&&E>p||h&&!1===h[0])&&M.push("xdsoft_disabled"),-1!==k.disabledDates.indexOf(n.formatDate(g,k.formatDate))&&M.push("xdsoft_disabled"),-1!==k.disabledWeekDays.indexOf(a)&&M.push("xdsoft_disabled"),t.is("[disabled]")&&M.push("xdsoft_disabled"),h&&""!==h[1]&&M.push(h[1]),T.currentTime.getMonth()!==R&&M.push("xdsoft_other_month"),(k.defaultSelect||C.data("changed"))&&n.formatDate(T.currentTime,k.formatDate)===n.formatDate(g,k.formatDate)&&M.push("xdsoft_current"),n.formatDate(y,k.formatDate)===n.formatDate(g,k.formatDate)&&M.push("xdsoft_today"),0!==g.getDay()&&6!==g.getDay()&&-1===k.weekends.indexOf(n.formatDate(g,k.formatDate))||M.push("xdsoft_weekend"),void 0!==k.highlightedDates[n.formatDate(g,k.formatDate)]&&(s=k.highlightedDates[n.formatDate(g,k.formatDate)],M.push(void 0===s.style?"xdsoft_highlighted_default":s.style),f=void 0===s.desc?"":s.desc),k.beforeShowDay&&e.isFunction(k.beforeShowDay)&&M.push(k.beforeShowDay(g)),S&&(m+="<tr>",S=!1,k.weeks&&(m+="<th>"+u+"</th>")),m+='<td data-date="'+l+'" data-month="'+R+'" data-year="'+c+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+M.join(" ")+'" title="'+f+'"><div>'+l+"</div></td>",g.getDay()===k.dayOfWeekStartPrev&&(m+="</tr>",S=!0),g.setDate(l+1)}m+="</tbody></table>",$.html(m),A.find(".xdsoft_label span").eq(0).text(k.i18n[i].months[T.currentTime.getMonth()]),A.find(".xdsoft_label span").eq(1).text(T.currentTime.getFullYear()+k.yearOffset),L="",R="";var D=0;if(!1!==k.minTime){var P=T.strtotime(k.minTime);D=60*P.getHours()+P.getMinutes()}var R,I=1440;(!1!==k.maxTime&&(P=T.strtotime(k.maxTime),I=60*P.getHours()+P.getMinutes()),!1!==k.minDateTime&&(P=T.strToDateTime(k.minDateTime),n.formatDate(T.currentTime,k.formatDate)===n.formatDate(P,k.formatDate)&&(R=60*P.getHours()+P.getMinutes())>D&&(D=R)),!1!==k.maxDateTime)&&(P=T.strToDateTime(k.maxDateTime),n.formatDate(T.currentTime,k.formatDate)===n.formatDate(P,k.formatDate)&&(R=60*P.getHours()+P.getMinutes())<I&&(I=R));if(d=function(r,i){var o,s=T.now(),a=k.allowTimes&&e.isArray(k.allowTimes)&&k.allowTimes.length;s.setHours(r),r=parseInt(s.getHours(),10),s.setMinutes(i),i=parseInt(s.getMinutes(),10),M=[];var l=60*r+i;(t.is("[disabled]")||l>=I||l<D)&&M.push("xdsoft_disabled"),(o=new Date(T.currentTime)).setHours(parseInt(T.currentTime.getHours(),10)),a||o.setMinutes(Math[k.roundTime](T.currentTime.getMinutes()/k.step)*k.step),(k.initTime||k.defaultSelect||C.data("changed"))&&o.getHours()===parseInt(r,10)&&(!a&&k.step>59||o.getMinutes()===parseInt(i,10))&&(k.defaultSelect||C.data("changed")?M.push("xdsoft_current"):k.initTime&&M.push("xdsoft_init_time")),parseInt(y.getHours(),10)===parseInt(r,10)&&parseInt(y.getMinutes(),10)===parseInt(i,10)&&M.push("xdsoft_today"),L+='<div class="xdsoft_time '+M.join(" ")+'" data-hour="'+r+'" data-minute="'+i+'">'+n.formatDate(s,k.formatTime)+"</div>"},k.allowTimes&&e.isArray(k.allowTimes)&&k.allowTimes.length)for(_=0;_<k.allowTimes.length;_+=1)d(T.strtotime(k.allowTimes[_]).getHours(),R=T.strtotime(k.allowTimes[_]).getMinutes());else for(_=0,o=0;_<(k.hours12?12:24);_+=1)for(o=0;o<60;o+=k.step){var Y=60*_+o;Y<D||Y>=I||d((_<10?"0":"")+_,R=(o<10?"0":"")+o)}for(O.html(L),r="",_=parseInt(k.yearStart,10);_<=parseInt(k.yearEnd,10);_+=1)r+='<div class="xdsoft_option '+(T.currentTime.getFullYear()===_?"xdsoft_current":"")+'" data-value="'+_+'">'+(_+k.yearOffset)+"</div>";for(N.children().eq(0).html(r),_=parseInt(k.monthStart,10),r="";_<=parseInt(k.monthEnd,10);_+=1)r+='<div class="xdsoft_option '+(T.currentTime.getMonth()===_?"xdsoft_current":"")+'" data-value="'+_+'">'+k.i18n[i].months[_]+"</div>";F.children().eq(0).html(r),e(C).trigger("generate.xdsoft")}),10),s.stopPropagation()})).on("afterOpen.xdsoft",(function(){var e,t,n,r;k.timepicker&&(O.find(".xdsoft_current").length?e=".xdsoft_current":O.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=R[0].clientHeight,(n=O[0].offsetHeight)-t<(r=O.find(e).index()*k.timeHeightInTimePicker+1)&&(r=n-t),R.trigger("scroll_element.xdsoft_scroller",[parseInt(r,10)/(n-t)])):R.trigger("scroll_element.xdsoft_scroller",[0]))})),s=0,$.on("touchend click.xdsoft","td",(function(n){n.stopPropagation(),s+=1;var r=e(this),i=T.currentTime;if(null==i&&(T.currentTime=T.now(),i=T.currentTime),r.hasClass("xdsoft_disabled"))return!1;i.setDate(1),i.setFullYear(r.data("year")),i.setMonth(r.data("month")),i.setDate(r.data("date")),C.trigger("select.xdsoft",[i]),t.val(T.str()),k.onSelectDate&&e.isFunction(k.onSelectDate)&&k.onSelectDate.call(C,T.currentTime,C.data("input"),n),C.data("changed",!0),C.trigger("xchange.xdsoft"),C.trigger("changedatetime.xdsoft"),(s>1||!0===k.closeOnDateSelect||!1===k.closeOnDateSelect&&!k.timepicker)&&!k.inline&&C.trigger("close.xdsoft"),setTimeout((function(){s=0}),200)})),O.on("touchstart","div",(function(e){this.touchMoved=!1})).on("touchmove","div",H).on("touchend click.xdsoft","div",(function(t){if(!this.touchMoved){t.stopPropagation();var n=e(this),r=T.currentTime;if(null==r&&(T.currentTime=T.now(),r=T.currentTime),n.hasClass("xdsoft_disabled"))return!1;r.setHours(n.data("hour")),r.setMinutes(n.data("minute")),C.trigger("select.xdsoft",[r]),C.data("input").val(T.str()),k.onSelectTime&&e.isFunction(k.onSelectTime)&&k.onSelectTime.call(C,T.currentTime,C.data("input"),t),C.data("changed",!0),C.trigger("xchange.xdsoft"),C.trigger("changedatetime.xdsoft"),!0!==k.inline&&!0===k.closeOnTimeSelect&&C.trigger("close.xdsoft")}})),D.on("mousewheel.xdsoft",(function(e){return!k.scrollMonth||(e.deltaY<0?T.nextMonth():T.prevMonth(),!1)})),t.on("mousewheel.xdsoft",(function(e){return!k.scrollInput||(!k.datepicker&&k.timepicker?((a=O.find(".xdsoft_current").length?O.find(".xdsoft_current").eq(0).index():0)+e.deltaY>=0&&a+e.deltaY<O.children().length&&(a+=e.deltaY),O.children().eq(a).length&&O.children().eq(a).trigger("mousedown"),!1):k.datepicker&&!k.timepicker?(D.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(T.str()),C.trigger("changedatetime.xdsoft"),!1):void 0)})),C.on("changedatetime.xdsoft",(function(t){if(k.onChangeDateTime&&e.isFunction(k.onChangeDateTime)){var n=C.data("input");k.onChangeDateTime.call(C,T.currentTime,n,t),delete k.value,n.trigger("change")}})).on("generate.xdsoft",(function(){k.onGenerate&&e.isFunction(k.onGenerate)&&k.onGenerate.call(C,T.currentTime,C.data("input")),Y&&(C.trigger("afterOpen.xdsoft"),Y=!1)})).on("click.xdsoft",(function(e){e.stopPropagation()})),a=0,L=function(e,t){do{if(!(e=e.parentNode)||!1===t(e))break}while("HTML"!==e.nodeName)},l=function(){var t,n,r,i,o,s,a,l,c,u,h,d,f;if(t=(l=C.data("input")).offset(),n=l[0],u="top",r=t.top+n.offsetHeight-1,i=t.left,o="absolute",c=e(k.contentWindow).width(),d=e(k.contentWindow).height(),f=e(k.contentWindow).scrollTop(),k.ownerDocument.documentElement.clientWidth-t.left<D.parent().outerWidth(!0)){var p=D.parent().outerWidth(!0)-n.offsetWidth;i-=p}"rtl"===l.parent().css("direction")&&(i-=C.outerWidth()-l.outerWidth()),k.fixed?(r-=f,i-=e(k.contentWindow).scrollLeft(),o="fixed"):(a=!1,L(n,(function(e){return null!==e&&("fixed"===k.contentWindow.getComputedStyle(e).getPropertyValue("position")?(a=!0,!1):void 0)})),a&&!k.insideParent?(o="fixed",r+C.outerHeight()>d+f?(u="bottom",r=d+f-t.top):r-=f):r+C[0].offsetHeight>d+f&&(r=t.top-C[0].offsetHeight+1),r<0&&(r=0),i+n.offsetWidth>c&&(i=c-n.offsetWidth)),s=C[0],L(s,(function(e){if("relative"===k.contentWindow.getComputedStyle(e).getPropertyValue("position")&&c>=e.offsetWidth)return i-=(c-e.offsetWidth)/2,!1})),h={position:o,left:k.insideParent?n.offsetLeft:i,top:"",bottom:""},k.insideParent?h[u]=n.offsetTop+n.offsetHeight:h[u]=r,C.css(h)},C.on("open.xdsoft",(function(t){var n=!0;k.onShow&&e.isFunction(k.onShow)&&(n=k.onShow.call(C,T.currentTime,C.data("input"),t)),!1!==n&&(C.show(),l(),e(k.contentWindow).off("resize.xdsoft",l).on("resize.xdsoft",l),k.closeOnWithoutClick&&e([k.ownerDocument.body,k.contentWindow]).on("touchstart mousedown.xdsoft",(function t(){C.trigger("close.xdsoft"),e([k.ownerDocument.body,k.contentWindow]).off("touchstart mousedown.xdsoft",t)})))})).on("close.xdsoft",(function(t){var n=!0;A.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),k.onClose&&e.isFunction(k.onClose)&&(n=k.onClose.call(C,T.currentTime,C.data("input"),t)),!1===n||k.opened||k.inline||C.hide(),t.stopPropagation()})).on("toggle.xdsoft",(function(){C.is(":visible")?C.trigger("close.xdsoft"):C.trigger("open.xdsoft")})).data("input",t),j=0,C.data("xdsoft_datetime",T),C.setOptions(k),T.setCurrentTime(z()),t.data("xdsoft_datetimepicker",C).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function(){t.is(":disabled")||t.data("xdsoft_datetimepicker").is(":visible")&&k.closeOnInputClick||k.openOnFocus&&(clearTimeout(j),j=setTimeout((function(){t.is(":disabled")||(Y=!0,T.setCurrentTime(z(),!0),k.mask&&U(k),C.trigger("open.xdsoft"))}),100))})).on("keydown.xdsoft",(function(t){var n,r=t.which;return-1!==[h].indexOf(r)&&k.enterLikeTab?(n=e("input:visible,textarea:visible,button:visible,a:visible"),C.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[_].indexOf(r)?(C.trigger("close.xdsoft"),!0):void 0})).on("blur.xdsoft",(function(){C.trigger("close.xdsoft")}))},a=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(k.contentWindow).off("resize.xdsoft"),e([k.contentWindow,k.ownerDocument.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(k.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").off("keydown.xdsoftcmd keyup.xdsoftcmd").on("keydown.xdsoftctrl",(function(e){e.keyCode===c&&(S=!0)})).on("keyup.xdsoftctrl",(function(e){e.keyCode===c&&(S=!1)})).on("keydown.xdsoftcmd",(function(e){e.keyCode})).on("keyup.xdsoftcmd",(function(e){e.keyCode})),this.each((function(){var t,i=e(this).data("xdsoft_datetimepicker");if(i){if("string"===e.type(r))switch(r){case"show":e(this).select().focus(),i.trigger("open.xdsoft");break;case"hide":i.trigger("close.xdsoft");break;case"toggle":i.trigger("toggle.xdsoft");break;case"destroy":a(e(this));break;case"reset":this.value=this.defaultValue,this.value&&i.data("xdsoft_datetime").isValidDate(n.parseDate(this.value,k.format))||i.data("changed",!1),i.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":i.data("input").trigger("blur.xdsoft");break;default:i[r]&&e.isFunction(i[r])&&(l=i[r](o))}else i.setOptions(r);return 0}"string"!==e.type(r)&&(!k.lazyInit||k.open||k.inline?s(e(this)):(t=e(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function e(){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout(T),T=setTimeout((function(){t.data("xdsoft_datetimepicker")||s(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",e).trigger("open.xdsoft")}),100))})))})),l},e.fn.datetimepicker.defaults=t},i=[n(6932),n(4410)],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o)},9834(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(5093))},9846(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5093))},9849(e,t,n){!function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})}(n(5093))},9983(e,t,n){var r,i,o;!function(){"use strict";i=[n(6932),n(6883)],void 0===(o="function"==typeof(r=function(e){return e.extend(e.expr.pseudos,{data:e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}}))})})?r.apply(t,i):r)||(e.exports=o)}()}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,i.d(o,s),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=i(7025),t=i.n(e),n=i(6932),r=i.n(n);i(4720),i(1758),i(8604),i(5285),i(8497),i(9822),i(9163),i(1927);const o=e=>"string"==typeof e,s=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},a=e=>null==e?"":""+e,l=/###/g,c=e=>e&&e.indexOf("###")>-1?e.replace(l,"."):e,u=e=>!e||o(e),h=(e,t,n)=>{const r=o(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(u(e))return{};const t=c(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return u(e)?{}:{obj:e,k:c(r[i])}},d=(e,t,n)=>{const{obj:r,k:i}=h(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let o=t[t.length-1],s=t.slice(0,t.length-1),a=h(e,s,Object);for(;void 0===a.obj&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=h(e,s,Object),a&&a.obj&&void 0!==a.obj[`${a.k}.${o}`]&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},f=(e,t)=>{const{obj:n,k:r}=h(e,t);if(n)return n[r]},p=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?o(e[r])||e[r]instanceof String||o(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):p(e[r],t[r],n):e[r]=t[r]);return e},m=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _=e=>o(e)?e.replace(/[&<>"'\/]/g,(e=>g[e])):e;const y=[" ",",","?","!",";"],b=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),v=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let e=0;e<r.length;){if(!i||"object"!=typeof i)return;let t,o="";for(let s=e;s<r.length;++s)if(s!==e&&(o+=n),o+=r[s],t=i[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<r.length-1)continue;e+=s-e+1;break}i=t}return i},w=e=>e&&e.replace("_","-"),x={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class M{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||x,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(o(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new M(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new M(this.logger,e)}}var S=new M;class k{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let e=0;e<r;e++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,i]=t;for(let t=0;t<i;t++)r.apply(r,[e,...n])}))}}}class T extends k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):o(n)&&i?a.push(...n.split(i)):a.push(n)));const l=f(this.data,a);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!l&&s&&o(n)?v(this.data&&this.data[e]&&this.data[e][t],n,i):l}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),r=t,t=s[1]),this.addNamespaces(t),d(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(o(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),r=n,n=t,t=s[1]),this.addNamespaces(t);let a=f(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?p(a,n,i):a={...a,...n},d(this.data,s,a),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var L={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,i))})),t}};const C={};class E extends k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=S.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=y.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=b.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!i.test(e);if(!o){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o})(e,n,r));if(s&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o(i)?[i]:i};const s=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(s[0])>-1)&&(i=s.shift()),e=s.join(r)}return{key:e,namespaces:o(i)?[i]:i}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],c=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${e}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${e}${s}`}return r?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:s}const h=this.resolve(e,t);let d=h&&h.res;const f=h&&h.usedKey||s,p=h&&h.exactUsedKey||s,m=Object.prototype.toString.apply(d),g=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,y=!o(d)&&"boolean"!=typeof d&&"number"!=typeof d;if(!(_&&d&&y&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0)||o(g)&&Array.isArray(d))if(_&&o(g)&&Array.isArray(d))d=d.join(g),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,a=!1;const u=void 0!==t.count&&!o(t.count),f=E.hasDefaultValue(t),p=u?this.pluralResolver.getSuffix(c,t.count,t):"",m=t.ordinal&&u?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",g=u&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),_=g&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${m}`]||t.defaultValue;!this.isValidLookup(d)&&f&&(r=!0,d=_),this.isValidLookup(d)||(a=!0,d=s);const y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:d,b=f&&_!==d&&this.options.updateMissing;if(a||r||b){if(this.logger.log(b?"updateKey":"missingKey",c,l,s,b?_:d),i){const e=this.resolve(s,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=f&&r!==d?r:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,n,i,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,l,n,i,b,t),this.emit("missingKey",e,l,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);g&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],s+n,t[`defaultValue${n}`]||_)}))})):r(e,s,_))}d=this.extendTranslation(d,e,t,h,n),a&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${s}`),(a||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,r?d:void 0):this.options.parseMissingKeyHandler(d))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,{...t,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return r?(h.res=e,h.usedParams=this.getUsedParamsDetails(t),h):e}if(i){const e=Array.isArray(d),n=e?[]:{},r=e?p:f;for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e)){const o=`${r}${i}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=d[e])}d=n}}return r?(h.res=d,h.usedParams=this.getUsedParamsDetails(t),h):d}extendTranslation(e,t,n,r,i){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=o(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(a){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let c=n.replace&&!o(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,n.lng||this.language||r.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):s.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=o(a)?[a]:a;return null!=e&&l&&l.length&&!1!==n.applyPostProcessor&&(e=L.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const l=this.extractFromKey(e,a),c=l.key;n=c;let u=l.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const h=void 0!==a.count&&!o(a.count),d=h&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),f=void 0!==a.context&&(o(a.context)||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(s=e,!C[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(C[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;i=n;const o=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,c,n,e,a);else{let e;h&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(o.push(c+e),a.ordinal&&0===e.indexOf(r)&&o.push(c+e.replace(r,this.options.pluralSeparator)),d&&o.push(c+t)),f){const n=`${c}${this.options.contextSeparator}${a.context}`;o.push(n),h&&(o.push(n+e),a.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),d&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:s}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!o(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const D=e=>e.charAt(0).toUpperCase()+e.slice(1);class A{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=S.create("languageUtils")}getScriptPartFromCode(e){if(!(e=w(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=w(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(o(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(e){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=D(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=D(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=D(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),o(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return o(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):o(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}let $=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],P={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const R=["v1","v2","v3"],O=["v4"],I={zero:0,one:1,two:2,few:3,many:4,other:5};class F{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=S.create("pluralResolver"),this.options.compatibilityJSON&&!O.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return $.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:P[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const n=w("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:r})}catch(n){if(!e.match(/-|_/))return;const r=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(r,t)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>I[e]-I[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!R.includes(this.options.compatibilityJSON)}}const N=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=((e,t,n)=>{const r=f(e,n);return void 0!==r?r:f(t,n)})(e,t,n);return!s&&i&&o(n)&&(s=v(e,n,r),void 0===s&&(s=v(t,n,r))),s},Y=e=>e.replace(/\$/g,"$$$$");class j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=S.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:h,nestingPrefixEscaped:d,nestingSuffix:f,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=void 0!==t?t:_,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?m(i):o||"{{",this.suffix=s?m(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?m(h):d||m("$t("),this.nestingSuffix=f?m(f):p||m(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=e=>{if(e.indexOf(this.formatSeparator)<0){const i=N(t,c,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),o=i.shift().trim(),s=i.join(this.formatSeparator).trim();return this.format(N(t,c,o,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...r,...t,interpolationkey:o})};this.resetRegExp();const h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Y(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Y(this.escape(e)):Y(e)}].forEach((t=>{for(l=0;i=t.regex.exec(e);){const n=i[1].trim();if(s=u(n),void 0===s)if("function"==typeof h){const t=h(e,i,r);s=o(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))s="";else{if(d){s=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),s=""}else o(s)||this.useRawValueToEscape||(s=a(s));const c=t.safeValue(s);if(e=e.replace(i[0],c),d?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,l++,l>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,i);const s=o.match(/'/g),a=o.match(/"/g);(s&&s.length%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let c=[];i={...s},i=i.replace&&!o(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),c=e,u=!0}if(r=t(l.call(this,n[1].trim(),i),i),r&&n[0]===e&&!o(r))return r;o(r)||(r=a(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),u&&(r=c.reduce(((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const H=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(w(r),i),t[s]=a),a(n)}};class z{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=S.create("formatter"),this.options=e,this.formats={number:H(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:H(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:H(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:H(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:H(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=H(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}const o=i.reduce(((e,t)=>{const{formatName:i,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=i),"false"===i&&(n[o]=!1),"true"===i&&(n[o]=!0),isNaN(i)||(n[o]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const s=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},a=s.locale||s.lng||r.locale||r.lng||n;t=this.formats[i](e,a,{...o,...r,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return o}}class U extends k{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=S.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const i={},o={},s={},a={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===o[s]&&(o[s]=!0):(this.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===a[t]&&(a[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),!t&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:i}=h(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,o)}),i):o(s,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const n=a(e,t);n&&"function"==typeof n.then?n.then((e=>s(null,e))).catch(s):s(null,n)}catch(e){s(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();o(e)&&(e=this.languageUtils.toResolveHierarchy(e)),o(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const a={...o,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;i=5===l.length?l(e,t,n,r,a):l(e,t,n,r),i&&"function"==typeof i.then?i.then((e=>s(null,e))).catch(s):s(null,i)}catch(e){s(e)}else l(e,t,n,r,s,a)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}const W=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),o(e[1])&&(t.defaultValue=e[1]),o(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),G=e=>(o(e.ns)&&(e.ns=[e.ns]),o(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),o(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),q=()=>{};class B extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=G(e),this.services={},this.logger=S,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(o(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=W();this.options={...r,...this.options,...G(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?S.init(i(this.modules.logger),this.options):S.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=z);const n=new A(this.options);this.store=new T(this.options.resources,this.options);const o=this.services;o.logger=S,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new F(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new j(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new U(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new E(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=q),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const a=s(),l=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;const n=o(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=s();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=q),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&L.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=s();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,o)=>{o?(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},l=t=>{e||t||!this.services.languageDetector||(t=[]);const n=o(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{a(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e):l(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let o;if("object"!=typeof t){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,t].concat(a))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||i.keyPrefix);const c=r.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${c}${e}`)):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,r.t(u,o)};return o(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||r&&!o(i,e)))}loadNamespaces(e,t){const n=s();return this.options.ns?(o(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=s();o(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new A(W());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new B(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new B(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));return["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new T(this.store.data,r),i.services.resourceStore=i.store),i.translator=new E(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const V=B.createInstance();V.createInstance=B.createInstance;V.createInstance,V.dir,V.init,V.loadResources,V.reloadResources,V.use,V.changeLanguage,V.getFixedT,V.t,V.exists,V.setDefaultNamespace,V.hasLoadedNamespace,V.loadNamespaces,V.loadLanguages;var X=i(6019),K=i.n(X);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Z(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":J(XMLHttpRequest))}var Q,ee,te,ne=i(5178),re=i.t(ne,2);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}"function"==typeof fetch&&(Q=void 0!==i.g&&i.g.fetch?i.g.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),Z()&&(void 0!==i.g&&i.g.XMLHttpRequest?ee=i.g.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(ee=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&(void 0!==i.g&&i.g.ActiveXObject?te=i.g.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(te=window.ActiveXObject)),Q||!re||ee||te||(Q=ne||re),"function"!=typeof Q&&(Q=void 0);var le=function(e,t){if(t&&"object"===ae(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},ce=function(e,t,n,r){var i=function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)};if(r){var o=r(e,t);if(o instanceof Promise)return void o.then(i).catch(n)}"function"==typeof fetch?fetch(e,t).then(i).catch(n):Q(e,t).then(i).catch(n)},ue=!1;const he=function(e,t,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},Q&&0!==t.indexOf("file:")?function(e,t,n,r){e.queryStringParams&&(t=le(t,e.queryStringParams));var o=oe({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);"undefined"==typeof window&&void 0!==i.g&&void 0!==i.g.process&&i.g.process.versions&&i.g.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(i.g.process.version,"; ").concat(i.g.process.platform," ").concat(i.g.process.arch,")")),n&&(o["Content-Type"]="application/json");var s="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=oe({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:o},ue?{}:s),l="function"==typeof e.alternateFetch&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{ce(t,a,r,l)}catch(e){if(!s||0===Object.keys(s).length||!e.message||e.message.indexOf("not implemented")<0)return r(e);try{Object.keys(s).forEach((function(e){delete a[e]})),ce(t,a,r,l),ue=!0}catch(e){r(e)}}}(e,t,n,r):Z()||"function"==typeof ActiveXObject?function(e,t,n,r){n&&"object"===ae(n)&&(n=le("",n).slice(1)),e.queryStringParams&&(t=le(t,e.queryStringParams));try{var i;(i=ee?new ee:new te("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"==typeof o?o():o)for(var s in o)i.setRequestHeader(s,o[s]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(e){console&&console.log(e)}}(e,t,n,r):void r(new Error("No fetch and no xhr implementation found!"))};function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_e(r.key),r)}}function ge(e,t,n){return(t=_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}var ye=function(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}),[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.services=e,this.options=pe(pe(pe({},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return ge({},t,n||"")},parseLoadPayload:function(e,t){},request:he,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}),this.options||{}),n),this.allOptions=r,this.services&&this.options.reloadInterval){var i=setInterval((function(){return t.reload()}),this.options.reloadInterval);"object"===de(i)&&"function"==typeof i.unref&&i.unref()}}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,i){var o,s=this,a=this.options.loadPath;"function"==typeof this.options.loadPath&&(a=this.options.loadPath(e,n)),(a=function(e){return!!e&&"function"==typeof e.then}(o=a)?o:Promise.resolve(o)).then((function(o){if(!o)return i(null,{});var a=s.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});s.loadUrl(a,i,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var i=this,o="string"==typeof n?[n]:n,s="string"==typeof r?[r]:r,a=this.options.parseLoadPayload(o,s);this.options.request(this.options,e,a,(function(o,s){if(s&&(s.status>=500&&s.status<600||!s.status))return t("failed loading "+e+"; status code: "+s.status,!0);if(s&&s.status>=400&&s.status<500)return t("failed loading "+e+"; status code: "+s.status,!1);if(!s&&o&&o.message){var a=o.message.toLowerCase();if(["failed","fetch","network","load"].find((function(e){return a.indexOf(e)>-1})))return t("failed loading "+e+": "+o.message,!0)}if(o)return t(o,!1);var l,c;try{l="string"==typeof s.data?i.options.parse(s.data,n,r):s.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,l)}))}},{key:"create",value:function(e,t,n,r,i){var o=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var s=this.options.parsePayload(t,n,r),a=0,l=[],c=[];e.forEach((function(n){var r=o.options.addPath;"function"==typeof o.options.addPath&&(r=o.options.addPath(n,t));var u=o.services.interpolator.interpolate(r,{lng:n,ns:t});o.options.request(o.options,u,s,(function(t,n){a+=1,l.push(t),c.push(n),a===e.length&&"function"==typeof i&&i(l,c)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,i=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var s=[],a=function(e){r.toResolveHierarchy(e).forEach((function(e){s.indexOf(e)<0&&s.push(e)}))};a(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return a(e)})),s.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,o){r&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&o&&i.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),r,o)}))}))}))}}}]);ye.type="backend";const be=ye,{slice:ve,forEach:we}=[];const xe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Me={create(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let r=`${e}=${encodeURIComponent(t)}`;if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(e)}`}if(n.domain){if(!xe.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!xe.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}(e,encodeURIComponent(t),i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},remove(e){this.create(e,"",-1)}};var Se={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return Me.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=t;n&&"undefined"!=typeof document&&Me.create(n,e,r,i,o)}},ke={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let e=0;e<r.length;e++){const i=r[e].indexOf("=");if(i>0){r[e].substring(0,i)===n&&(t=r[e].substring(i+1))}}}return t}};let Te=null;const Le=()=>{if(null!==Te)return Te;try{if(Te="undefined"!=typeof window&&null!==window.localStorage,!Te)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Te=!1}return Te};var Ce={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Le())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Le()&&window.localStorage.setItem(n,e)}};let Ee=null;const De=()=>{if(null!==Ee)return Ee;try{if(Ee="undefined"!=typeof window&&null!==window.sessionStorage,!Ee)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Ee=!1}return Ee};var Ae={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&De())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&De()&&window.sessionStorage.setItem(n,e)}},$e={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:n,language:r}=navigator;if(e)for(let n=0;n<e.length;n++)t.push(e[n]);n&&t.push(n),r&&t.push(r)}return t.length>0?t:void 0}},Pe={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const r=n||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},Re={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(n))return;const r="number"==typeof t?t:0;return n[r]?.replace("/","")}},Oe={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n="number"==typeof t?t+1:1,r="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let Ie=!1;try{document.cookie,Ie=!0}catch(uo){}const Fe=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Ie||Fe.splice(1,1);class Ne{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return we.call(ve.call(arguments,1),(t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:Fe,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Se),this.addDetector(ke),this.addDetector(Ce),this.addDetector(Ae),this.addDetector($e),this.addDetector(Pe),this.addDetector(Re),this.addDetector(Oe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach((e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"==typeof n&&(n=[n]),n&&(t=t.concat(n))}})),t=t.filter((e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some((e=>e.test(t))));var t})).map((e=>this.options.convertDetectedLanguage(e))),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)})))}}Ne.type="languageDetector";const Ye=0,je=1,He=2,ze=3,Ue=4;function We(){throw new Error("Unimplemented abstract method.")}let Ge=0;function qe(e){return e.ol_uid||(e.ol_uid=String(++Ge))}function Be(e){return e[0]>0&&e[1]>0}function Ve(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}class Xe{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Ve(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Xe({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return We()}getImage(e){return We()}getHitDetectionImage(){return We()}getPixelRatio(e){return 1}getImageState(){return We()}getImageSize(){return We()}getOrigin(){return We()}getSize(){return We()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ve(e)}listenImageChange(e){We()}load(){We()}unlistenImageChange(e){We()}ready(){return Promise.resolve()}}const Ke=Xe,Je={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Ze={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Ze.max=Ze.whitepoint[2].D65,Ze.rgb=function(e,t){t=t||Ze.whitepoint[2].E;var n,r,i,o=e[0]/t[0],s=e[1]/t[1],a=e[2]/t[2];return r=-.96924363628087*o+1.87596750150772*s+.041555057407175*a,i=.055630079696993*o+-.20397695888897*s+1.056971514242878*a,n=(n=3.240969941904521*o+-1.537383177570093*s+-.498610760293*a)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1)),255*(i=Math.min(Math.max(0,i),1))]},Je.xyz=function(e,t){var n=e[0]/255,r=e[1]/255,i=e[2]/255,o=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.072192315360733*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92),s=.019330818715591*n+.11919477979462*r+.95053215224966*i;return[(.41239079926595*n+.35758433938387*r+.18048078840183*i)*(t=t||Ze.whitepoint[2].E)[0],o*t[1],s*t[2]]};const Qe=Ze,et={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,n){var r,i,o,s,a,l,c,u,h;if(o=e[0],s=e[1],a=e[2],0===o)return[0,0,0];return t=t||"D65",n=n||2,r=s/(13*o)+4*(c=Qe.whitepoint[n][t][0])/(c+15*(u=Qe.whitepoint[n][t][1])+3*(h=Qe.whitepoint[n][t][2]))||0,i=a/(13*o)+9*u/(c+15*u+3*h)||0,[9*(l=o>8?u*Math.pow((o+16)/116,3):u*o*.0011070564598794539)*r/(4*i)||0,l,l*(12-3*r-20*i)/(4*i)||0]}};Qe.luv=function(e,t,n){var r,i,o,s,a,l,c,u,h,d,f;t=t||"D65",n=n||2,d=4*(c=Qe.whitepoint[n][t][0])/(c+15*(u=Qe.whitepoint[n][t][1])+3*(h=Qe.whitepoint[n][t][2])),f=9*u/(c+15*u+3*h),r=4*(s=e[0])/(s+15*(a=e[1])+3*(l=e[2]))||0,i=9*a/(s+15*a+3*l)||0;var p=a/u;return[o=p<=.008856451679035631?903.2962962962961*p:116*Math.pow(p,1/3)-16,13*o*(r-d),13*o*(i-f)]};var tt={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},xyz:function(e){return et.xyz(tt.luv(e))}};const nt=tt;et.lchuv=function(e){var t=e[0],n=e[1],r=e[2],i=Math.sqrt(n*n+r*r),o=360*Math.atan2(r,n)/2/Math.PI;return o<0&&(o+=360),[t,i,o]},Qe.lchuv=function(e){return et.lchuv(Qe.luv(e))};var rt=i(8156);const it=function(e){var t,n,r=[],i=1;if("number"==typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if("number"==typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if(e=String(e).toLowerCase(),rt[e])r=rt[e].slice(),n="rgb";else if("transparent"===e)i=0,n="rgb",r=[0,0,0];else if("#"===e[0]){var o=e.slice(1),s=o.length;i=1,s<=4?(r=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===s&&(i=parseInt(o[3]+o[3],16)/255)):(r=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===s&&(i=parseInt(o[6]+o[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var a=t[1],l="cmyk"===(n=a.replace(/a$/,""))?4:"gray"===n?1:3;r=t[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=r.shift()),r=r.map((function(e,t){if("%"===e[e.length-1])return e=parseFloat(e)/100,3===t?e:"rgb"===n?255*e:"h"===n[0]?100*e:"l"!==n[0]||t?"lab"===n?125*e:"lch"===n?t<2?150*e:360*e:"o"!==n[0]||t?"oklab"===n?.4*e:"oklch"===n?t<2?.4*e:360*e:e:e:100*e;if("h"===n[t]||2===t&&"h"===n[n.length-1]){if(void 0!==ot[e])return ot[e];if(e.endsWith("deg"))return parseFloat(e);if(e.endsWith("turn"))return 360*parseFloat(e);if(e.endsWith("grad"))return 360*parseFloat(e)/400;if(e.endsWith("rad"))return 180*parseFloat(e)/Math.PI}return"none"===e?0:parseFloat(e)})),i=r.length>l?r.pop():1}else/[0-9](?:\s|\/|,)/.test(e)&&(r=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),n=e.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:n,values:r,alpha:i}};var ot={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const st={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,r,i,o,s=e[0]/360,a=e[1]/100,l=e[2]/100,c=0;if(0===a)return[o=255*l,o,o];for(t=2*l-(n=l<.5?l*(1+a):l+a-l*a),i=[0,0,0];c<3;)(r=s+1/3*-(c-1))<0?r++:r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[c++]=255*o;return i}};function at(e,t,n){return Math.min(Math.max(e,t),n)}function lt(e,t,n,r,i,o){const s=i-n,a=o-r;if(0!==s||0!==a){const l=((e-n)*s+(t-r)*a)/(s*s+a*a);l>1?(n=i,r=o):l>0&&(n+=s*l,r+=a*l)}return ct(e,t,n,r)}function ct(e,t,n,r){const i=n-e,o=r-t;return i*i+o*o}function ut(e){return 180*e/Math.PI}function ht(e){return e*Math.PI/180}function dt(e,t){const n=e%t;return n*t<0?n+t:n}function ft(e,t,n){return e+n*(t-e)}function pt(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function mt(e,t){return Math.round(pt(e,t))}function gt(e,t){return Math.floor(pt(e,t))}function _t(e,t){return Math.ceil(pt(e,t))}Je.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(r,i,o),a=Math.max(r,i,o),l=a-s;return a===s?t=0:r===a?t=(i-o)/l:i===a?t=2+(o-r)/l:o===a&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(s+a)/2,[t,100*(a===s?0:n<=.5?l/(a+s):l/(2-a-s)),100*n]};const yt=[NaN,NaN,NaN,0];const bt={};let vt=0;function wt(e){if(4===e.length)return e;const t=e.slice();return t[3]=1,t}function xt(e){const t=Qe.lchuv(Je.xyz(e));return t[3]=e[3],t}function Mt(e){if("none"===e)return yt;if(bt.hasOwnProperty(e))return bt[e];if(vt>=1024){let e=0;for(const t in bt)3&e++||(delete bt[t],--vt)}const t=function(e){var t;Array.isArray(e)&&e.raw&&(e=String.raw(...arguments)),e instanceof Number&&(e=+e);var n=it(e);if(!n.space)return[];const r="h"===n.space[0]?st.min:Je.min,i="h"===n.space[0]?st.max:Je.max;return(t=Array(3))[0]=Math.min(Math.max(n.values[0],r[0]),i[0]),t[1]=Math.min(Math.max(n.values[1],r[1]),i[1]),t[2]=Math.min(Math.max(n.values[2],r[2]),i[2]),"h"===n.space[0]&&(t=st.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}(e);if(4!==t.length)throw new Error('failed to parse "'+e+'" as color');for(const n of t)if(isNaN(n))throw new Error('failed to parse "'+e+'" as color');return kt(t),bt[e]=t,++vt,t}function St(e){return Array.isArray(e)?e:Mt(e)}function kt(e){return e[0]=at(e[0]+.5|0,0,255),e[1]=at(e[1]+.5|0,0,255),e[2]=at(e[2]+.5|0,0,255),e[3]=at(e[3],0,1),e}function Tt(e){let t=e[0];t!=(0|t)&&(t=t+.5|0);let n=e[1];n!=(0|n)&&(n=n+.5|0);let r=e[2];r!=(0|r)&&(r=r+.5|0);return"rgba("+t+","+n+","+r+","+(void 0===e[3]?1:Math.round(1e3*e[3])/1e3)+")"}const Lt="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",Ct=Lt.includes("firefox"),Et=Lt.includes("safari")&&!Lt.includes("chrom")&&(Lt.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Lt)),Dt=Lt.includes("webkit")&&!Lt.includes("edge"),At=Lt.includes("macintosh"),$t="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,Pt="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Rt="undefined"!=typeof Image&&Image.prototype.decode,Ot="function"==typeof createImageBitmap,It=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}return e}();function Ft(e,t,n,r){let i;return i=n&&n.length?n.shift():Pt?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}let Nt;function Yt(){return Nt||(Nt=Ft(1,1)),Nt}function jt(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function Ht(e){let t=e.offsetWidth;const n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function zt(e){let t=e.offsetHeight;const n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function Ut(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function Wt(e){for(;e.lastChild;)e.lastChild.remove()}const Gt=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};const qt=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};function Bt(e,t){return e>t?1:e<t?-1:0}function Vt(e,t){return e<t?1:e>t?-1:0}function Xt(e,t,n){if(e[0]<=t)return 0;const r=e.length;if(t<=e[r-1])return r-1;if("function"==typeof n){for(let i=1;i<r;++i){const r=e[i];if(r===t)return i;if(r<t)return n(t,e[i-1],r)>0?i-1:i}return r-1}if(n>0){for(let n=1;n<r;++n)if(e[n]<t)return n-1;return r-1}if(n<0){for(let n=1;n<r;++n)if(e[n]<=t)return n;return r-1}for(let n=1;n<r;++n){if(e[n]==t)return n;if(e[n]<t)return e[n-1]-t<t-e[n]?n-1:n}return r-1}function Kt(e,t,n){for(;t<n;){const r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function Jt(e,t){const n=Array.isArray(t)?t:[t],r=n.length;for(let t=0;t<r;t++)e[e.length]=n[t]}function Zt(e,t){const n=e.indexOf(t),r=n>-1;return r&&e.splice(n,1),r}function Qt(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function en(){return!0}function tn(){return!1}function nn(){}function rn(e){let t,n,r;return function(){const i=Array.prototype.slice.call(arguments);return n&&this===r&&Qt(i,n)||(r=this,n=i,t=e.apply(this,arguments)),t}}function on(e){return function(){let t;try{t=e()}catch(e){return Promise.reject(e)}return t instanceof Promise?t:Promise.resolve(t)}()}function sn(e){for(const t in e)delete e[t]}function an(e){let t;for(t in e)return!1;return!t}const ln=class extends Gt{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t="string"==typeof e,n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const i=t?new qt(e):e;i.target||(i.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in o||(o[n]=0,s[n]=0),++o[n];for(let e=0,t=r.length;e<t;++e)if(a="handleEvent"in r[e]?r[e].handleEvent(i):r[e].call(this,i),!1===a||i.propagationStopped){a=!1;break}if(0==--o[n]){let e=s[n];for(delete s[n];e--;)this.removeEventListener(n,nn);delete o[n]}return a}disposeInternal(){this.listeners_&&sn(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);-1!==r&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=nn,++this.pendingRemovals_[e]):(n.splice(r,1),0===n.length&&delete this.listeners_[e]))}},cn="change",un="error",hn="contextmenu",dn="click",fn="dblclick",pn="keydown",mn="keypress",gn="load",_n="touchmove",yn="wheel";function bn(e,t,n,r,i){if(i){const i=n;n=function(){e.removeEventListener(t,n),i.apply(r??this,arguments)}}else r&&r!==e&&(n=n.bind(r));const o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function vn(e,t,n,r){return bn(e,t,n,r,!0)}function wn(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),sn(e))}function xn(e,t){return t&&(e.src=t),e.src&&Rt?new Promise(((t,n)=>e.decode().then((()=>t(e))).catch((r=>e.complete&&e.width?t(e):n(r))))):function(e,t){return new Promise(((n,r)=>{function i(){s(),n(e)}function o(){s(),r(new Error("Image load error"))}function s(){e.removeEventListener("load",i),e.removeEventListener("error",o)}e.addEventListener("load",i),e.addEventListener("error",o),t&&(e.src=t)}))}(e)}function Mn(e,t){return t&&(e.src=t),e.src&&Rt&&Ot?e.decode().then((()=>createImageBitmap(e))).catch((t=>{if(e.complete&&e.width)return e;throw t})):xn(e)}const Sn=class extends ln{constructor(e,t,n,r){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state="function"==typeof r?Ye:r,this.image_=null,this.loader="function"==typeof r?r:null}changed(){this.dispatchEvent(cn)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Ye&&this.loader){this.state=je,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;on((()=>this.loader(this.getExtent(),t,this.getPixelRatio()))).then((e=>{"image"in e&&(this.image_=e.image),"extent"in e&&(this.extent=e.extent),"resolution"in e&&(this.resolution=e.resolution),"pixelRatio"in e&&(this.pixelRatio_=e.pixelRatio),(e instanceof HTMLImageElement||e instanceof ImageBitmap||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement)&&(this.image_=e),this.state=He})).catch((e=>{this.state=ze,console.error(e)})).finally((()=>this.changed()))}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}};class kn{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const n=this.cache_[t];3&e++||n.hasListener()||(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,n){const r=Tn(e,t,n);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,n){const r=Tn(e,t,n);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,n,r,i){const o=Tn(e,t,n),s=o in this.cache_;this.cache_[o]=r,i&&(r.getImageState()===Ye&&r.load(),r.getImageState()===je?r.ready().then((()=>{this.patternCache_[o]=Yt().createPattern(r.getImage(1),"repeat")})):this.patternCache_[o]=Yt().createPattern(r.getImage(1),"repeat")),s||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Tn(e,t,n){return t+":"+e+":"+(n?St(n):"null")}const Ln=new kn;let Cn=null;class En extends ln{constructor(e,t,n,r,i){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=n,this.canvas_={},this.color_=i,this.imageState_=void 0===r?Ye:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===He){Cn||(Cn=Ft(1,1,void 0,{willReadFrequently:!0})),Cn.drawImage(this.image_,0,0);try{Cn.getImageData(0,0,1,1),this.tainted_=!1}catch(e){Cn=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(cn)}handleImageError_(){this.imageState_=ze,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=He,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],n=Ft(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ye){this.image_||this.initializeImage_(),this.imageState_=je;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(e){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&xn(this.image_,this.src_).then((e=>{this.image_=e,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==He)return;const t=this.image_,n=Ft(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=n.canvas;n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle=function(e){return"string"==typeof e?e:Tt(e)}(this.color_),n.fillRect(0,0,r.width/e,r.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise((e=>{if(this.imageState_===He||this.imageState_===ze)e();else{const t=()=>{this.imageState_!==He&&this.imageState_!==ze||(this.removeEventListener(cn,t),e())};this.addEventListener(cn,t)}}))),this.ready_}}function Dn(e,t,n,r,i,o){let s=void 0===t?void 0:Ln.get(t,n,i);return s||(s=new En(e,e&&"src"in e?e.src||void 0:t,n,r,i),Ln.set(t,n,i,s,o)),o&&s&&!Ln.getPattern(t,n,i)&&Ln.set(t,n,i,s,o),s}function An(e){return e?Array.isArray(e)?Tt(e):"object"==typeof e&&"src"in e?function(e){if(!e.offset||!e.size)return Ln.getPattern(e.src,"anonymous",e.color);const t=e.src+":"+e.offset,n=Ln.getPattern(t,void 0,e.color);if(n)return n;const r=Ln.get(e.src,"anonymous",null);if(r.getImageState()!==He)return null;const i=Ft(e.size[0],e.size[1]);return i.drawImage(r.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),Dn(i.canvas,t,void 0,He,e.color,!0),Ln.getPattern(t,void 0,e.color)}(e):e:null}const $n="propertychange";class Pn extends ln{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(cn)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=bn(this,e[i],t);return r}return bn(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const r=e.length;n=new Array(r);for(let i=0;i<r;++i)n[i]=vn(this,e[i],t)}else n=vn(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)wn(e[t]);else wn(e)}(n);else if(Array.isArray(e))for(let n=0,r=e.length;n<r;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}Pn.prototype.on,Pn.prototype.once,Pn.prototype.un;const Rn=Pn;class On extends qt{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}const In=class extends Rn{constructor(e){super(),this.on,this.once,this.un,qe(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new On(n,e,t)),n=$n,this.hasListener(n)&&this.dispatchEvent(new On(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const r=this.values_||(this.values_={});if(n)r[e]=t;else{const n=r[e];r[e]=t,n!==t&&this.notify(e,n)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],an(this.values_)&&(this.values_=null),t||this.notify(e,n)}}},Fn="ol-hidden",Nn="ol-unselectable",Yn="ol-control",jn="ol-collapsed",Hn=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),zn=["style","variant","weight","size","lineHeight","family"],Un=function(e){const t=e.match(Hn);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let e=0,r=zn.length;e<r;++e){const r=t[e+1];void 0!==r&&(n[zn[e]]=r)}return n.families=n.family.split(/,\s?/),n},Wn="10px sans-serif",Gn="#000",qn="round",Bn=[],Vn="round",Xn="#000",Kn="center",Jn="middle",Zn=[0,0,0,0],Qn=new In;let er,tr=null;const nr={},rr=function(){const e="32px ",t=["monospace","serif"],n=t.length,r="wmytzilWMYTZIL@#/&?$%10";let i,o;function s(i,s,a){let l=!0;for(let c=0;c<n;++c){const n=t[c];if(o=sr(i+" "+s+" "+e+n,r),a!=n){const t=sr(i+" "+s+" "+e+a+","+n,r);l=l&&t!=o}}return!!l}function a(){let e=!0;const t=Qn.getKeys();for(let n=0,r=t.length;n<r;++n){const r=t[n];if(Qn.get(r)<100){const[t,n,i]=r.split("\n");s(t,n,i)?(sn(nr),tr=null,er=void 0,Qn.set(r,100)):(Qn.set(r,Qn.get(r)+1,!0),e=!1)}}e&&(clearInterval(i),i=void 0)}return function(e){const t=Un(e);if(!t)return;const n=t.families;for(let e=0,r=n.length;e<r;++e){const r=n[e],o=t.style+"\n"+t.weight+"\n"+r;void 0===Qn.get(o)&&(Qn.set(o,100,!0),s(t.style,t.weight,r)||(Qn.set(o,0,!0),void 0===i&&(i=setInterval(a,32))))}}}(),ir=function(){let e;return function(t){let n=nr[t];if(null==n){if(Pt){const e=Un(t),r=or(t,"Žg");n=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);nr[t]=n}return n}}();function or(e,t){return tr||(tr=Ft(1,1)),e!=er&&(tr.font=e,er=tr.font),tr.measureText(t)}function sr(e,t){return or(e,t).width}function ar(e,t,n){if(t in n)return n[t];const r=t.split("\n").reduce(((t,n)=>Math.max(t,sr(e,n))),0);return n[t]=r,r}function lr(e,t,n,r,i,o,s,a,l,c,u){e.save(),1!==n&&(void 0===e.globalAlpha?e.globalAlpha=e=>e.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),r.contextInstructions?(e.translate(l,c),e.scale(u[0],u[1]),function(e,t){const n=e.contextInstructions;for(let e=0,r=n.length;e<r;e+=2)Array.isArray(n[e+1])?t[n[e]].apply(t,n[e+1]):t[n[e]]=n[e+1]}(r,e)):u[0]<0||u[1]<0?(e.translate(l,c),e.scale(u[0],u[1]),e.drawImage(r,i,o,s,a,0,0,s,a)):e.drawImage(r,i,o,s,a,l,c,s*u[0],a*u[1]),e.restore()}class cr extends Ke{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?je:He,this.imageState_===je&&this.ready().then((()=>this.imageState_=He)),this.render()}clone(){const e=this.getScale(),t=new cr({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){const n=this.renderOptions_,r=Ft(n.size*e,n.size*e);this.draw_(n,r,e),t=r.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let r=this.radius,i=void 0===this.radius2_?r:this.radius2_;if(r<i){const e=r;r=i,i=e}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=i*Math.sin(s),l=r-Math.sqrt(i*i-a*a),c=Math.sqrt(a*a+l*l),u=c/a;if("miter"===e&&u<=n)return u*t;const h=t/2/u,d=t/2*(l/c),f=Math.sqrt((r+h)*(r+h)+d*d)-r;if(void 0===this.radius2_||"bevel"===e)return 2*f;const p=r*Math.sin(s),m=i-Math.sqrt(r*r-p*p),g=Math.sqrt(p*p+m*m)/p;if(g<=n){const e=g*t/2-i-r;return 2*Math.max(f,e)}return 2*f}createRenderOptions(){let e,t=qn,n=Vn,r=0,i=null,o=0,s=0;this.stroke_&&(e=An(this.stroke_.getColor()??Xn),s=this.stroke_.getWidth()??1,i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Vn,t=this.stroke_.getLineCap()??qn,r=this.stroke_.getMiterLimit()??10);const a=this.calculateLineJoinSize_(n,s,r),l=Math.max(this.radius,this.radius2_||0);return{strokeStyle:e,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:t,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let e=this.fill_.getColor();null===e&&(e=Gn),t.fillStyle=An(e),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let n=this.fill_.getColor(),r=0;"string"==typeof n&&(n=St(n)),null===n?r=1:Array.isArray(n)&&(r=4===n.length?n[3]:1),0===r&&(t=Ft(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const n=this.radius;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{const r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);const i=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let s=0;s<t;s++){const t=i+s*o,a=s%2==0?n:r;e.lineTo(a*Math.cos(t),a*Math.sin(t))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Gn,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}const ur=cr;class hr extends ur{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new hr({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}const dr=hr;class fr{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,void 0!==e.color&&this.setColor(e.color)}clone(){const e=this.getColor();return new fr({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(null!==e&&"object"==typeof e&&"src"in e){const t=Dn(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then((()=>{this.patternImage_=null})),t.getImageState()===Ye&&t.load(),t.getImageState()===je&&(this.patternImage_=t)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}const pr=fr;class mr{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new mr({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const gr=mr;function _r(e,t){if(!e)throw new Error(t)}class yr{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Mr,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new yr({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Mr,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function br(e){let t;if("function"==typeof e)t=e;else{let n;if(Array.isArray(e))n=e;else{_r("function"==typeof e.getZIndex,"Expected an `Style` or an array of `Style`");n=[e]}t=function(){return n}}return t}let vr=null;function wr(e,t){if(!vr){const e=new pr({color:"rgba(255,255,255,0.4)"}),t=new gr({color:"#3399CC",width:1.25});vr=[new yr({image:new dr({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return vr}function xr(){const e={},t=[255,255,255,1],n=[0,153,255,1];return e.Polygon=[new yr({fill:new pr({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new yr({stroke:new gr({color:t,width:5})}),new yr({stroke:new gr({color:n,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new yr({image:new dr({radius:6,fill:new pr({color:n}),stroke:new gr({color:t,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function Mr(e){return e.getGeometry()}const Sr=yr;var kr=function(e,t){return kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},kr(e,t)};function Tr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}kr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Lr(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function Cr(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}Object.create;function Er(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Ar(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function $r(e){return this instanceof $r?(this.v=e,this):new $r(e)}function Pr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{!function(e){e.value instanceof $r?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)}(i[e](t))}catch(e){u(o[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Rr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Er(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"==typeof SuppressedError&&SuppressedError;function Or(e){return"function"==typeof e}function Ir(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fr=Ir((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Nr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Yr=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Er(o),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(Or(l))try{l()}catch(e){i=e instanceof Fr?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=Er(c),h=u.next();!h.done;h=u.next()){var d=h.value;try{zr(d)}catch(e){i=null!=i?i:[],e instanceof Fr?i=Ar(Ar([],Dr(i)),Dr(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(i)throw new Fr(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)zr(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Nr(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Nr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),jr=Yr.EMPTY;function Hr(e){return e instanceof Yr||e&&"closed"in e&&Or(e.remove)&&Or(e.add)&&Or(e.unsubscribe)}function zr(e){Or(e)?e():e.unsubscribe()}var Ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Wr={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Wr.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,Ar([e,t],Dr(n))):setTimeout.apply(void 0,Ar([e,t],Dr(n)))},clearTimeout:function(e){var t=Wr.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Gr(e){Wr.setTimeout((function(){var t=Ur.onUnhandledError;if(!t)throw e;t(e)}))}function qr(){}var Br=Vr("C",void 0,void 0);function Vr(e,t,n){return{kind:e,value:t,error:n}}var Xr=null;function Kr(e){if(Ur.useDeprecatedSynchronousErrorHandling){var t=!Xr;if(t&&(Xr={errorThrown:!1,error:null}),e(),t){var n=Xr,r=n.errorThrown,i=n.error;if(Xr=null,r)throw i}}else e()}var Jr=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Hr(t)&&t.add(n)):n.destination=ii,n}return Tr(t,e),t.create=function(e,t,n){return new ti(e,t,n)},t.prototype.next=function(e){this.isStopped?ri(function(e){return Vr("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?ri(function(e){return Vr("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?ri(Br,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Yr),Zr=Function.prototype.bind;function Qr(e,t){return Zr.call(e,t)}var ei=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){ni(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){ni(e)}else ni(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){ni(e)}},e}(),ti=function(e){function t(t,n,r){var i,o,s=e.call(this)||this;Or(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&Ur.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&Qr(t.next,o),error:t.error&&Qr(t.error,o),complete:t.complete&&Qr(t.complete,o)}):i=t;return s.destination=new ei(i),s}return Tr(t,e),t}(Jr);function ni(e){var t;Ur.useDeprecatedSynchronousErrorHandling?(t=e,Ur.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)):Gr(e)}function ri(e,t){var n=Ur.onStoppedNotification;n&&Wr.setTimeout((function(){return n(e,t)}))}var ii={closed:!0,next:qr,error:function(e){throw e},complete:qr},oi="function"==typeof Symbol&&Symbol.observable||"@@observable";function si(e){return e}function ai(e){return 0===e.length?si:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var li=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof Jr||function(e){return e&&Or(e.next)&&Or(e.error)&&Or(e.complete)}(e)&&Hr(e)}(e)?e:new ti(e,t,n);return Kr((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=ci(t))((function(t,r){var i=new ti({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[oi]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ai(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=ci(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function ci(e){var t;return null!==(t=null!=e?e:Ur.Promise)&&void 0!==t?t:Promise}function ui(e){return Or(null==e?void 0:e.lift)}function hi(e){return function(t){if(ui(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function di(e,t,n,r,i){return new fi(e,t,n,r,i)}var fi=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return Tr(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Jr);!function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,ui(t)&&(r.lift=t.lift),r}Tr(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new Yr;var n=this.getSubject();t.add(this.source.subscribe(di(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=Yr.EMPTY)}return t},t.prototype.refCount=function(){return hi((function(e,t){var n=null;e._refCount++;var r=di(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))(this)}}(li);var pi={now:function(){return(pi.delegate||performance).now()},delegate:void 0},mi={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=mi.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=t((function(t){n=void 0,e(t)}));return new Yr((function(){return null==n?void 0:n(i)}))},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=mi.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Ar([],Dr(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=mi.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Ar([],Dr(e)))},delegate:void 0};function gi(e){return new li((function(t){var n=e||pi,r=n.now(),i=0,o=function(){t.closed||(i=mi.requestAnimationFrame((function(s){i=0;var a=n.now();t.next({timestamp:e?a:s,elapsed:a-r}),o()})))};return o(),function(){i&&mi.cancelAnimationFrame(i)}}))}gi();var _i,yi=Ir((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),bi=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Tr(t,e),t.prototype.lift=function(e){var t=new vi(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new yi},t.prototype.next=function(e){var t=this;Kr((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=Er(t.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Kr((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Kr((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?jr:(this.currentObservers=null,o.push(e),new Yr((function(){t.currentObservers=null,Nr(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new li;return e.source=this,e},t.create=function(e,t){return new vi(e,t)},t}(li),vi=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Tr(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:jr},t}(bi),wi=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Tr(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(bi),xi={now:function(){return(xi.delegate||Date).now()},delegate:void 0},Mi=(function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=xi);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}Tr(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;r||(i.push(t),!o&&i.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){for(var s=n.now(),a=0,l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}(bi),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}Tr(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,i=t._value,o=t.thrownError,s=t.isStopped,a=t._isComplete;n?e.error(o):(s||a)&&(r&&e.next(i),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))}}(bi),function(e){function t(t,n){return e.call(this)||this}return Tr(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Yr)),Si={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Si.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,Ar([e,t],Dr(n))):setInterval.apply(void 0,Ar([e,t],Dr(n)))},clearInterval:function(e){var t=Si.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ki=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return Tr(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Si.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Si.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Nr(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Mi),Ti=1,Li={};function Ci(e){return e in Li&&(delete Li[e],!0)}var Ei=function(e){var t=Ti++;return Li[t]=!0,_i||(_i=Promise.resolve()),_i.then((function(){return Ci(t)&&e()})),t},Di=function(e){Ci(e)},Ai={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ai.delegate;return((null==n?void 0:n.setImmediate)||Ei).apply(void 0,Ar([],Dr(e)))},clearImmediate:function(e){var t=Ai.delegate;return((null==t?void 0:t.clearImmediate)||Di)(e)},delegate:void 0},$i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Tr(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=Ai.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){var i;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var o=t.actions;null!=n&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(Ai.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},t}(ki),Pi=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=xi.now,e}(),Ri=function(e){function t(t,n){void 0===n&&(n=Pi.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return Tr(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Pi),Oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tr(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(Ri),Ii=(new Oi($i),new Ri(ki),function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Tr(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.flush(this),0)},t}(ki)),Fi=(new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tr(t,e),t}(Ri))(Ii),function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Tr(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=mi.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,n,r){var i;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var o=t.actions;null!=n&&n===t._scheduled&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(mi.cancelAnimationFrame(n),t._scheduled=void 0)},t}(ki)),Ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tr(t,e),t.prototype.flush=function(e){var t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(Ri),Yi=(new Ni(Fi),function(e){function t(t,n){void 0===t&&(t=Yi),void 0===n&&(n=1/0);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}Tr(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10}(Ri),function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return Tr(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)}return Yr.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(ki)),ji=new li((function(e){return e.complete()}));function Hi(e){return e[e.length-1]}function zi(e){return function(e){return e&&Or(e.schedule)}(Hi(e))?e.pop():void 0}var Ui=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Wi(e){return Or(null==e?void 0:e.then)}function Gi(e){return Or(e[oi])}function qi(e){return Symbol.asyncIterator&&Or(null==e?void 0:e[Symbol.asyncIterator])}function Bi(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Vi,Xi="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ki(e){return Or(null==e?void 0:e[Xi])}function Ji(e){return Pr(this,arguments,(function(){var t,n,r;return Cr(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,$r(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,$r(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,$r(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Zi(e){return Or(null==e?void 0:e.getReader)}function Qi(e){if(e instanceof li)return e;if(null!=e){if(Gi(e))return r=e,new li((function(e){var t=r[oi]();if(Or(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Ui(e))return function(e){return new li((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(Wi(e))return n=e,new li((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Gr)}));if(qi(e))return eo(e);if(Ki(e))return t=e,new li((function(e){var n,r;try{for(var i=Er(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(Zi(e))return eo(Ji(e))}var t,n,r;throw Bi(e)}function eo(e){return new li((function(t){(function(e,t){var n,r,i,o;return Lr(this,void 0,void 0,(function(){var s,a;return Cr(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Rr(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function to(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function no(e,t){return void 0===t&&(t=0),hi((function(n,r){n.subscribe(di(r,(function(n){return to(r,e,(function(){return r.next(n)}),t)}),(function(){return to(r,e,(function(){return r.complete()}),t)}),(function(n){return to(r,e,(function(){return r.error(n)}),t)})))}))}function ro(e,t){return void 0===t&&(t=0),hi((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function io(e,t){if(!e)throw new Error("Iterable cannot be null");return new li((function(n){to(n,t,(function(){var r=e[Symbol.asyncIterator]();to(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function oo(e,t){if(null!=e){if(Gi(e))return function(e,t){return Qi(e).pipe(ro(t),no(t))}(e,t);if(Ui(e))return function(e,t){return new li((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Wi(e))return function(e,t){return Qi(e).pipe(ro(t),no(t))}(e,t);if(qi(e))return io(e,t);if(Ki(e))return function(e,t){return new li((function(n){var r;return to(n,t,(function(){r=e[Xi](),to(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return Or(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(Zi(e))return function(e,t){return io(Ji(e),t)}(e,t)}throw Bi(e)}function so(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e,t){return t?oo(e,t):Qi(e)}(e,zi(e))}!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(Vi||(Vi={}));!function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}e.prototype.observe=function(e){return function(e,t){var n,r,i,o=e,s=o.kind,a=o.value,l=o.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,a):"E"===s?null===(r=t.error)||void 0===r||r.call(t,l):null===(i=t.complete)||void 0===i||i.call(t)}(this,e)},e.prototype.do=function(e,t,n){var r=this,i=r.kind,o=r.value,s=r.error;return"N"===i?null==e?void 0:e(o):"E"===i?null==t?void 0:t(s):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return Or(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,i="N"===t?so(n):"E"===t?function(e,t){var n=Or(e)?e:function(){return e},r=function(e){return e.error(n())};return new li(t?function(e){return t.schedule(r,0,e)}:r)}((function(){return r})):"C"===t?ji:0;if(!i)throw new TypeError("Unexpected notification kind "+t);return i},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C")}();Ir((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));Ir((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})),Ir((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})),Ir((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}));Ir((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));Array.isArray;Array.isArray,Object.getPrototypeOf,Object.prototype,Object.keys;new li(qr);Array.isArray;i(8488);const ao=new class{constructor(){this.configuration_=new wi(null)}getConfig(){return this.configuration_}setConfig(e){this.configuration_.next(e)}},lo=ao,co=globalThis,uo=co.ShadowRoot&&(void 0===co.ShadyCSS||co.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ho=Symbol(),fo=new WeakMap;class po{constructor(e,t,n){if(this._$cssResult$=!0,n!==ho)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(uo&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=fo.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&fo.set(t,e))}return e}toString(){return this.cssText}}const mo=e=>new po("string"==typeof e?e:e+"",void 0,ho),go=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1]),e[0]);return new po(n,e,ho)},_o=uo?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return mo(t)})(e):e,{is:yo,defineProperty:bo,getOwnPropertyDescriptor:vo,getOwnPropertyNames:wo,getOwnPropertySymbols:xo,getPrototypeOf:Mo}=Object,So=globalThis,ko=So.trustedTypes,To=ko?ko.emptyScript:"",Lo=So.reactiveElementPolyfillSupport,Co=(e,t)=>e,Eo={toAttribute(e,t){switch(t){case Boolean:e=e?To:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},Do=(e,t)=>!yo(e,t),Ao={attribute:!0,type:String,converter:Eo,reflect:!1,hasChanged:Do};Symbol.metadata??=Symbol("metadata"),So.litPropertyMetadata??=new WeakMap;class $o extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Ao){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&bo(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:i}=vo(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return r?.call(this)},set(t){const o=r?.call(this);i.call(this,t),this.requestUpdate(e,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Ao}static _$Ei(){if(this.hasOwnProperty(Co("elementProperties")))return;const e=Mo(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Co("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Co("properties"))){const e=this.properties,t=[...wo(e),...xo(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(_o(e))}else void 0!==e&&t.push(_o(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(uo)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const n of t){const t=document.createElement("style"),r=co.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=n.cssText,e.appendChild(t)}})(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EC(e,t){const n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(void 0!==r&&!0===n.reflect){const i=(void 0!==n.converter?.toAttribute?n.converter:Eo).toAttribute(t,n.type);this._$Em=e,null==i?this.removeAttribute(r):this.setAttribute(r,i),this._$Em=null}}_$AK(e,t){const n=this.constructor,r=n._$Eh.get(e);if(void 0!==r&&this._$Em!==r){const e=n.getPropertyOptions(r),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:Eo;this._$Em=r,this[r]=i.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){if(n??=this.constructor.getPropertyOptions(e),!(n.hasChanged??Do)(this[e],t))return;this.P(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,n){this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e)!0!==n.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],n)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach((e=>this._$EC(e,this[e]))),this._$EU()}updated(e){}firstUpdated(e){}}$o.elementStyles=[],$o.shadowRootOptions={mode:"open"},$o[Co("elementProperties")]=new Map,$o[Co("finalized")]=new Map,Lo?.({ReactiveElement:$o}),(So.reactiveElementVersions??=[]).push("2.0.4");const Po=globalThis,Ro=Po.trustedTypes,Oo=Ro?Ro.createPolicy("lit-html",{createHTML:e=>e}):void 0,Io="$lit$",Fo=`lit$${Math.random().toFixed(9).slice(2)}$`,No="?"+Fo,Yo=`<${No}>`,jo=document,Ho=()=>jo.createComment(""),zo=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Uo=Array.isArray,Wo=e=>Uo(e)||"function"==typeof e?.[Symbol.iterator],Go="[ \t\n\f\r]",qo=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Bo=/-->/g,Vo=/>/g,Xo=RegExp(`>|${Go}(?:([^\\s"'>=/]+)(${Go}*=${Go}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),Ko=/'/g,Jo=/"/g,Zo=/^(?:script|style|textarea|title)$/i,Qo=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),es=Qo(1),ts=Qo(2),ns=(Qo(3),Symbol.for("lit-noChange")),rs=Symbol.for("lit-nothing"),is=new WeakMap,os=jo.createTreeWalker(jo,129);function ss(e,t){if(!Uo(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Oo?Oo.createHTML(t):t}const as=(e,t)=>{const n=e.length-1,r=[];let i,o=2===t?"<svg>":3===t?"<math>":"",s=qo;for(let t=0;t<n;t++){const n=e[t];let a,l,c=-1,u=0;for(;u<n.length&&(s.lastIndex=u,l=s.exec(n),null!==l);)u=s.lastIndex,s===qo?"!--"===l[1]?s=Bo:void 0!==l[1]?s=Vo:void 0!==l[2]?(Zo.test(l[2])&&(i=RegExp("</"+l[2],"g")),s=Xo):void 0!==l[3]&&(s=Xo):s===Xo?">"===l[0]?(s=i??qo,c=-1):void 0===l[1]?c=-2:(c=s.lastIndex-l[2].length,a=l[1],s=void 0===l[3]?Xo:'"'===l[3]?Jo:Ko):s===Jo||s===Ko?s=Xo:s===Bo||s===Vo?s=qo:(s=Xo,i=void 0);const h=s===Xo&&e[t+1].startsWith("/>")?" ":"";o+=s===qo?n+Yo:c>=0?(r.push(a),n.slice(0,c)+Io+n.slice(c)+Fo+h):n+Fo+(-2===c?t:h)}return[ss(e,o+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class ls{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let i=0,o=0;const s=e.length-1,a=this.parts,[l,c]=as(e,t);if(this.el=ls.createElement(l,n),os.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=os.nextNode())&&a.length<s;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(Io)){const t=c[o++],n=r.getAttribute(e).split(Fo),s=/([.?@])?(.*)/.exec(t);a.push({type:1,index:i,name:s[2],strings:n,ctor:"."===s[1]?fs:"?"===s[1]?ps:"@"===s[1]?ms:ds}),r.removeAttribute(e)}else e.startsWith(Fo)&&(a.push({type:6,index:i}),r.removeAttribute(e));if(Zo.test(r.tagName)){const e=r.textContent.split(Fo),t=e.length-1;if(t>0){r.textContent=Ro?Ro.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],Ho()),os.nextNode(),a.push({type:2,index:++i});r.append(e[t],Ho())}}}else if(8===r.nodeType)if(r.data===No)a.push({type:2,index:i});else{let e=-1;for(;-1!==(e=r.data.indexOf(Fo,e+1));)a.push({type:7,index:i}),e+=Fo.length-1}i++}}static createElement(e,t){const n=jo.createElement("template");return n.innerHTML=e,n}}function cs(e,t,n=e,r){if(t===ns)return t;let i=void 0!==r?n._$Co?.[r]:n._$Cl;const o=zo(t)?void 0:t._$litDirective$;return i?.constructor!==o&&(i?._$AO?.(!1),void 0===o?i=void 0:(i=new o(e),i._$AT(e,n,r)),void 0!==r?(n._$Co??=[])[r]=i:n._$Cl=i),void 0!==i&&(t=cs(e,i._$AS(e,t.values),i,r)),t}class us{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??jo).importNode(t,!0);os.currentNode=r;let i=os.nextNode(),o=0,s=0,a=n[0];for(;void 0!==a;){if(o===a.index){let t;2===a.type?t=new hs(i,i.nextSibling,this,e):1===a.type?t=new a.ctor(i,a.name,a.strings,this,e):6===a.type&&(t=new gs(i,this,e)),this._$AV.push(t),a=n[++s]}o!==a?.index&&(i=os.nextNode(),o++)}return os.currentNode=jo,r}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class hs{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=rs,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=cs(this,e,t),zo(e)?e===rs||null==e||""===e?(this._$AH!==rs&&this._$AR(),this._$AH=rs):e!==this._$AH&&e!==ns&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):Wo(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==rs&&zo(this._$AH)?this._$AA.nextSibling.data=e:this.T(jo.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,r="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=ls.createElement(ss(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{const e=new us(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=is.get(e.strings);return void 0===t&&is.set(e.strings,t=new ls(e)),t}k(e){Uo(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const i of e)r===t.length?t.push(n=new hs(this.O(Ho()),this.O(Ho()),this,this.options)):n=t[r],n._$AI(i),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class ds{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=rs,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=rs}_$AI(e,t=this,n,r){const i=this.strings;let o=!1;if(void 0===i)e=cs(this,e,t,0),o=!zo(e)||e!==this._$AH&&e!==ns,o&&(this._$AH=e);else{const r=e;let s,a;for(e=i[0],s=0;s<i.length-1;s++)a=cs(this,r[n+s],t,s),a===ns&&(a=this._$AH[s]),o||=!zo(a)||a!==this._$AH[s],a===rs?e=rs:e!==rs&&(e+=(a??"")+i[s+1]),this._$AH[s]=a}o&&!r&&this.j(e)}j(e){e===rs?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class fs extends ds{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===rs?void 0:e}}class ps extends ds{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==rs)}}class ms extends ds{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=cs(this,e,t,0)??rs)===ns)return;const n=this._$AH,r=e===rs&&n!==rs||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==rs&&(n===rs||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class gs{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){cs(this,e)}}const _s=Po.litHtmlPolyfillSupport;_s?.(ls,hs),(Po.litHtmlVersions??=[]).push("3.2.1");class ys extends $o{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(void 0===i){const e=n?.renderBefore??null;r._$litPart$=i=new hs(t.insertBefore(Ho(),e),e,void 0,n??{})}return i._$AI(e),i})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ns}}ys._$litElement$=!0,ys.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:ys});const bs=globalThis.litElementPolyfillSupport;bs?.({LitElement:ys});(globalThis.litElementVersions??=[]).push("4.1.1");const vs=e=>(t,n)=>{void 0!==n?n.addInitializer((()=>{customElements.define(e,t)})):customElements.define(e,t)},ws={attribute:!0,type:String,converter:Eo,reflect:!1,hasChanged:Do},xs=(e=ws,t,n)=>{const{kind:r,metadata:i}=n;let o=globalThis.litPropertyMetadata.get(i);if(void 0===o&&globalThis.litPropertyMetadata.set(i,o=new Map),o.set(n.name,e),"accessor"===r){const{name:r}=n;return{set(n){const i=t.get.call(this);t.set.call(this,n),this.requestUpdate(r,i,e)},init(t){return void 0!==t&&this.P(r,void 0,e),t}}}if("setter"===r){const{name:r}=n;return function(n){const i=this[r];t.call(this,n),this.requestUpdate(r,i,e)}}throw Error("Unsupported decorator location: "+r)};function Ms(e){return(t,n)=>"object"==typeof n?xs(e,t,n):((e,t,n)=>{const r=t.hasOwnProperty(n);return t.constructor.createProperty(n,r?{...e,wrapped:!0}:e),r?Object.getOwnPropertyDescriptor(t,n):void 0})(e,t,n)}function Ss(e){return Ms({...e,state:!0,attribute:!1})}function ks(e){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"${e?` height="${e}" width="${e}"`:""}><circle cx="256" cy="48" r="48" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="109.17" cy="108.313" r="43" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="46.537" cy="257.328" r="38" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="108.028" cy="403.972" r="33" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="255.794" cy="463.935" r="28" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="402.894" cy="402.936" r="23" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><circle cx="463.623" cy="256.106" r="18" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/></svg>`}function Ts(e){const t=ts`<circle cx="256" cy="48" r="48" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="109.17" cy="108.313" r="43" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="46.537" cy="257.328" r="38" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="108.028" cy="403.972" r="33" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="255.794" cy="463.935" r="28" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="402.894" cy="402.936" r="23" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"><circle cx="463.623" cy="256.106" r="18" style="opacity:1;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">`;return e?ts`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="${e}" width="${e}">${t}</svg>`:ts`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">${t}</svg>`}const Ls=go`/*!
   * http://meyerweb.com/eric/tools/css/reset/
   * v2.0 | 20110126
   * License: none (public domain)
   */a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}`,Cs=go`@charset "UTF-8";/*!
   * Bootstrap v4.6.0 (https://getbootstrap.com/)
   * Copyright 2011-2021 The Bootstrap Authors
   * Copyright 2011-2021 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
   */:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-size:.8rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex='-1']:focus:not(:focus-visible){outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;text-decoration:underline dotted;cursor:help;border-bottom:0;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([class]){color:inherit;text-decoration:none}a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}figure{margin:0 0 1rem}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.6rem}.h3,h3{font-size:1.4rem}.h4,h4{font-size:1.2rem}.h5,h5{font-size:1rem}.h6,h6{font-size:.8rem}.lead{font-size:1rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}.small,small{font-size:80%;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1rem}.blockquote-footer{display:block;font-size:80%;color:#6c757d}.blockquote-footer::before{content:'— '}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:0;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:87.5%;color:#fff;background-color:#212529;border-radius:0}kbd kbd{padding:0;font-size:100%;font-weight:700}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}.row{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-auto,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-1>*{flex:0 0 100%;max-width:100%}.row-cols-2>*{flex:0 0 50%;max-width:50%}.row-cols-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-4>*{flex:0 0 25%;max-width:25%}.row-cols-5>*{flex:0 0 20%;max-width:20%}.row-cols-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto;max-width:100%}.col-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-12{flex:0 0 100%;max-width:100%}.order-first{order:-1}.order-last{order:13}.order-0{order:0}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.order-6{order:6}.order-7{order:7}.order-8{order:8}.order-9{order:9}.order-10{order:10}.order-11{order:11}.order-12{order:12}.offset-1{margin-left:8.3333333333%}.offset-2{margin-left:16.6666666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.3333333333%}.offset-5{margin-left:41.6666666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.3333333333%}.offset-8{margin-left:66.6666666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.3333333333%}.offset-11{margin-left:91.6666666667%}@media (min-width:576px){.col-sm{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-sm-1>*{flex:0 0 100%;max-width:100%}.row-cols-sm-2>*{flex:0 0 50%;max-width:50%}.row-cols-sm-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 25%;max-width:25%}.row-cols-sm-5>*{flex:0 0 20%;max-width:20%}.row-cols-sm-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-sm-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-sm-3{flex:0 0 25%;max-width:25%}.col-sm-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-sm-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-sm-6{flex:0 0 50%;max-width:50%}.col-sm-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-sm-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-sm-9{flex:0 0 75%;max-width:75%}.col-sm-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-sm-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-sm-12{flex:0 0 100%;max-width:100%}.order-sm-first{order:-1}.order-sm-last{order:13}.order-sm-0{order:0}.order-sm-1{order:1}.order-sm-2{order:2}.order-sm-3{order:3}.order-sm-4{order:4}.order-sm-5{order:5}.order-sm-6{order:6}.order-sm-7{order:7}.order-sm-8{order:8}.order-sm-9{order:9}.order-sm-10{order:10}.order-sm-11{order:11}.order-sm-12{order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.3333333333%}.offset-sm-2{margin-left:16.6666666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.3333333333%}.offset-sm-5{margin-left:41.6666666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.3333333333%}.offset-sm-8{margin-left:66.6666666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.3333333333%}.offset-sm-11{margin-left:91.6666666667%}}@media (min-width:768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-md-1>*{flex:0 0 100%;max-width:100%}.row-cols-md-2>*{flex:0 0 50%;max-width:50%}.row-cols-md-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-md-4>*{flex:0 0 25%;max-width:25%}.row-cols-md-5>*{flex:0 0 20%;max-width:20%}.row-cols-md-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto;max-width:100%}.col-md-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-md-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-md-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-md-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-md-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-md-12{flex:0 0 100%;max-width:100%}.order-md-first{order:-1}.order-md-last{order:13}.order-md-0{order:0}.order-md-1{order:1}.order-md-2{order:2}.order-md-3{order:3}.order-md-4{order:4}.order-md-5{order:5}.order-md-6{order:6}.order-md-7{order:7}.order-md-8{order:8}.order-md-9{order:9}.order-md-10{order:10}.order-md-11{order:11}.order-md-12{order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.3333333333%}.offset-md-2{margin-left:16.6666666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.3333333333%}.offset-md-5{margin-left:41.6666666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.3333333333%}.offset-md-8{margin-left:66.6666666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.3333333333%}.offset-md-11{margin-left:91.6666666667%}}@media (min-width:992px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-lg-1>*{flex:0 0 100%;max-width:100%}.row-cols-lg-2>*{flex:0 0 50%;max-width:50%}.row-cols-lg-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 25%;max-width:25%}.row-cols-lg-5>*{flex:0 0 20%;max-width:20%}.row-cols-lg-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-lg-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-lg-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-lg-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-lg-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-lg-12{flex:0 0 100%;max-width:100%}.order-lg-first{order:-1}.order-lg-last{order:13}.order-lg-0{order:0}.order-lg-1{order:1}.order-lg-2{order:2}.order-lg-3{order:3}.order-lg-4{order:4}.order-lg-5{order:5}.order-lg-6{order:6}.order-lg-7{order:7}.order-lg-8{order:8}.order-lg-9{order:9}.order-lg-10{order:10}.order-lg-11{order:11}.order-lg-12{order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.3333333333%}.offset-lg-2{margin-left:16.6666666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.3333333333%}.offset-lg-5{margin-left:41.6666666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.3333333333%}.offset-lg-8{margin-left:66.6666666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.3333333333%}.offset-lg-11{margin-left:91.6666666667%}}@media (min-width:1200px){.col-xl{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-xl-1>*{flex:0 0 100%;max-width:100%}.row-cols-xl-2>*{flex:0 0 50%;max-width:50%}.row-cols-xl-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 25%;max-width:25%}.row-cols-xl-5>*{flex:0 0 20%;max-width:20%}.row-cols-xl-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-xl-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-xl-3{flex:0 0 25%;max-width:25%}.col-xl-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-xl-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-xl-6{flex:0 0 50%;max-width:50%}.col-xl-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-xl-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-xl-9{flex:0 0 75%;max-width:75%}.col-xl-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-xl-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-xl-12{flex:0 0 100%;max-width:100%}.order-xl-first{order:-1}.order-xl-last{order:13}.order-xl-0{order:0}.order-xl-1{order:1}.order-xl-2{order:2}.order-xl-3{order:3}.order-xl-4{order:4}.order-xl-5{order:5}.order-xl-6{order:6}.order-xl-7{order:7}.order-xl-8{order:8}.order-xl-9{order:9}.order-xl-10{order:10}.order-xl-11{order:11}.order-xl-12{order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.3333333333%}.offset-xl-2{margin-left:16.6666666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.3333333333%}.offset-xl-5{margin-left:41.6666666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.3333333333%}.offset-xl-8{margin-left:66.6666666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.3333333333%}.offset-xl-11{margin-left:91.6666666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-sm td,.table-sm th{padding:.3rem}.table-bordered{border:1px solid #dee2e6}.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-borderless tbody+tbody,.table-borderless td,.table-borderless th,.table-borderless thead th{border:0}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-hover .table-primary:hover{background-color:#9fcdff}.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-secondary tbody+tbody,.table-secondary td,.table-secondary th,.table-secondary thead th{border-color:#b3b7bb}.table-hover .table-secondary:hover{background-color:#c8cbcf}.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-success tbody+tbody,.table-success td,.table-success th,.table-success thead th{border-color:#8fd19e}.table-hover .table-success:hover{background-color:#b1dfbb}.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-info tbody+tbody,.table-info td,.table-info th,.table-info thead th{border-color:#86cfda}.table-hover .table-info:hover{background-color:#abdde5}.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-hover .table-warning:hover{background-color:#ffe8a1}.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-danger tbody+tbody,.table-danger td,.table-danger th,.table-danger thead th{border-color:#ed969e}.table-hover .table-danger:hover{background-color:#f1b0b7}.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-hover .table-light:hover{background-color:#ececf6}.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table-hover .table-dark:hover{background-color:#b9bbbe}.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.table-dark.table-bordered{border:0}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{color:#fff;background-color:rgba(255,255,255,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:0;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{appearance:none}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.7rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding:.25rem 0;margin-bottom:0;font-size:.8rem;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.7rem;line-height:1.5;border-radius:0}.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1rem;line-height:1.5;border-radius:0}select.form-control[multiple],select.form-control[size]{height:auto}textarea.form-control{height:auto}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:flex;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:inline-flex;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#28a745}.valid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.7rem;line-height:1.5;color:#fff;background-color:rgba(40,167,69,.9);border-radius:0}.form-row>.col>.valid-tooltip,.form-row>[class*=col-]>.valid-tooltip{left:5px}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#28a745;padding-right:calc(1.5em + .5rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .125rem) center;background-size:calc(.75em + .25rem) calc(.75em + .25rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .5rem);background-position:top calc(.375em + .125rem) right calc(.375em + .125rem)}.custom-select.is-valid,.was-validated .custom-select:valid{border-color:#28a745;padding-right:calc(.75em + 1.875rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .5rem center/8px 10px no-repeat,#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e") center right 1.5rem/calc(.75em + .25rem) calc(.75em + .25rem) no-repeat}.custom-select.is-valid:focus,.was-validated .custom-select:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label::before,.was-validated .custom-control-input:valid~.custom-control-label::before{border-color:#28a745}.custom-control-input.is-valid:checked~.custom-control-label::before,.was-validated .custom-control-input:valid:checked~.custom-control-label::before{border-color:#34ce57;background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label::before,.was-validated .custom-control-input:valid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-control-input.is-valid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:valid:focus:not(:checked)~.custom-control-label::before{border-color:#28a745}.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.7rem;line-height:1.5;color:#fff;background-color:rgba(220,53,69,.9);border-radius:0}.form-row>.col>.invalid-tooltip,.form-row>[class*=col-]>.invalid-tooltip{left:5px}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .5rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .125rem) center;background-size:calc(.75em + .25rem) calc(.75em + .25rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .5rem);background-position:top calc(.375em + .125rem) right calc(.375em + .125rem)}.custom-select.is-invalid,.was-validated .custom-select:invalid{border-color:#dc3545;padding-right:calc(.75em + 1.875rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .5rem center/8px 10px no-repeat,#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") center right 1.5rem/calc(.75em + .25rem) calc(.75em + .25rem) no-repeat}.custom-select.is-invalid:focus,.was-validated .custom-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label::before,.was-validated .custom-control-input:invalid~.custom-control-label::before{border-color:#dc3545}.custom-control-input.is-invalid:checked~.custom-control-label::before,.was-validated .custom-control-input:invalid:checked~.custom-control-label::before{border-color:#e4606d;background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-control-input.is-invalid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus:not(:checked)~.custom-control-label::before{border-color:#dc3545}.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:flex;flex-flow:row wrap;align-items:center}.form-inline .form-check{width:100%}@media (min-width:576px){.form-inline label{display:flex;align-items:center;justify-content:center;margin-bottom:0}.form-inline .form-group{display:flex;flex:0 0 auto;flex-flow:row wrap;align-items:center;margin-bottom:0}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .custom-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:flex;align-items:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{align-items:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;user-select:none;background-color:transparent;border:1px solid transparent;padding:.25rem .5rem;font-size:.8rem;line-height:1.5;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{color:#fff;background-color:#5a6268;border-color:#545b62;box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#218838;border-color:#1e7e34;box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c82333;border-color:#bd2130;box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link.focus,.btn-link:focus{text-decoration:underline}.btn-link.disabled,.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1rem;line-height:1.5;border-radius:0}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.7rem;line-height:1.5;border-radius:0}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.dropdown,.dropleft,.dropright,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:'';border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:.8rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:0}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:'';border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:'';border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropright .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-toggle::after{vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:''}.dropleft .dropdown-toggle::after{display:none}.dropleft .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:'';border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropleft .dropdown-toggle:empty::after{margin-left:0}.dropleft .dropdown-toggle::before{vertical-align:0}.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=top]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.7rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1.5rem;color:#212529}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.dropdown-toggle-split::after,.dropright .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropleft .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control,.input-group>.form-control-plaintext{position:relative;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control,.input-group>.form-control-plaintext+.custom-file,.input-group>.form-control-plaintext+.custom-select,.input-group>.form-control-plaintext+.form-control{margin-left:-1px}.input-group>.custom-file .custom-file-input:focus~.custom-file-label,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:flex;align-items:center}.input-group>.custom-file:not(:first-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label{border-top-left-radius:0;border-bottom-left-radius:0}.input-group:not(.has-validation)>.custom-file:not(:last-child) .custom-file-label::after,.input-group:not(.has-validation)>.custom-select:not(:last-child),.input-group:not(.has-validation)>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.custom-file:nth-last-child(n+3) .custom-file-label::after,.input-group.has-validation>.custom-select:nth-last-child(n+3),.input-group.has-validation>.form-control:nth-last-child(n+3){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append,.input-group-prepend{display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn:focus,.input-group-prepend .btn:focus{z-index:3}.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-prepend{margin-right:-1px}.input-group-append{margin-left:-1px}.input-group-text{display:flex;align-items:center;padding:.25rem .5rem;margin-bottom:0;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:0}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select,.input-group-lg>.form-control:not(textarea){height:calc(1.5em + 1rem + 2px)}.input-group-lg>.custom-select,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1rem;line-height:1.5;border-radius:0}.input-group-sm>.custom-select,.input-group-sm>.form-control:not(textarea){height:calc(1.5em + .5rem + 2px)}.input-group-sm>.custom-select,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.7rem;line-height:1.5;border-radius:0}.input-group-lg>.custom-select,.input-group-sm>.custom-select{padding-right:1.5rem}.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.btn,.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.input-group-text,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.btn,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;z-index:1;display:block;min-height:1.2rem;padding-left:1.5rem;color-adjust:exact}.custom-control-inline{display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;left:0;z-index:-1;width:1rem;height:1.1rem;opacity:0}.custom-control-input:checked~.custom-control-label::before{color:#fff;border-color:#007bff;background-color:#007bff}.custom-control-input:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:focus:not(:checked)~.custom-control-label::before{border-color:#80bdff}.custom-control-input:not(:disabled):active~.custom-control-label::before{color:#fff;background-color:#b3d7ff;border-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label,.custom-control-input[disabled]~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label::before,.custom-control-input[disabled]~.custom-control-label::before{background-color:#e9ecef}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control-label::before{position:absolute;top:.1rem;left:-1.5rem;display:block;width:1rem;height:1rem;pointer-events:none;content:'';background-color:#fff;border:#adb5bd solid 1px}.custom-control-label::after{position:absolute;top:.1rem;left:-1.5rem;display:block;width:1rem;height:1rem;content:'';background:50%/50% 50% no-repeat}.custom-checkbox .custom-control-label::before{border-radius:0}.custom-checkbox .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::before{border-color:#007bff;background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3e%3cpath stroke='%23fff' d='M0 2h4'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label::before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.custom-radio .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-switch{padding-left:2.25rem}.custom-switch .custom-control-label::before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-switch .custom-control-label::after{top:calc(.1rem + 2px);left:calc(-2.25rem + 2px);width:calc(1rem - 4px);height:calc(1rem - 4px);background-color:#adb5bd;border-radius:.5rem;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-switch .custom-control-label::after{transition:none}}.custom-switch .custom-control-input:checked~.custom-control-label::after{background-color:#fff;transform:translateX(.75rem)}.custom-switch .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-select{display:inline-block;width:100%;height:calc(1.5em + .5rem + 2px);padding:.25rem 1.5rem .25rem .5rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .5rem center/8px 10px no-repeat;border:1px solid #ced4da;border-radius:0;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size='1']){height:auto;padding-right:.5rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-sm{height:calc(1.5em + .5rem + 2px);padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.7rem}.custom-select-lg{height:calc(1.5em + 1rem + 2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em + .5rem + 2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em + .5rem + 2px);margin:0;overflow:hidden;opacity:0}.custom-file-input:focus~.custom-file-label{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:disabled~.custom-file-label,.custom-file-input[disabled]~.custom-file-label{background-color:#e9ecef}.custom-file-input:lang(en)~.custom-file-label::after{content:'Browse'}.custom-file-input~.custom-file-label[data-browse]::after{content:attr(data-browse)}.custom-file-label{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;overflow:hidden;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;border:1px solid #ced4da;border-radius:0}.custom-file-label::after{position:absolute;top:0;right:0;bottom:0;z-index:3;display:block;height:calc(1.5em + .5rem);padding:.25rem .5rem;line-height:1.5;color:#495057;content:'Browse';background-color:#e9ecef;border-left:inherit;border-radius:0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-ms-thumb{transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-control-label::before,.custom-file-label,.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-control-label::before,.custom-file-label,.custom-select{transition:none}}.nav{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-link{margin-bottom:-1px;border:1px solid transparent;border-top-left-radius:0;border-top-right-radius:0}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{border-radius:0}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-basis:0;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:.5rem 1rem}.navbar .container,.navbar .container-fluid,.navbar .container-lg,.navbar .container-md,.navbar .container-sm,.navbar .container-xl{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.35rem;padding-bottom:.35rem;margin-right:1rem;font-size:1rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:0}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:'';background:50%/100% 100% no-repeat}.navbar-nav-scroll{max-height:75vh;overflow-y:auto}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{flex-wrap:nowrap}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{flex-wrap:nowrap}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{flex-wrap:nowrap}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{flex-wrap:nowrap}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}.navbar-expand{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{flex-wrap:nowrap}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-light .navbar-text a{color:rgba(0,0,0,.9)}.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.navbar-dark .navbar-text a{color:#fff}.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:0}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;min-height:1px;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0}.card-header-tabs{margin-right:-.625rem;margin-bottom:-.75rem;margin-left:-.625rem;border-bottom:0}.card-header-pills{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem;border-radius:0}.card-img,.card-img-bottom,.card-img-top{flex-shrink:0;width:100%}.card-img,.card-img-top{border-top-left-radius:0;border-top-right-radius:0}.card-img,.card-img-bottom{border-bottom-right-radius:0;border-bottom-left-radius:0}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{display:flex;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{flex:1 0 0%;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.card-columns .card{margin-bottom:.75rem}@media (min-width:576px){.card-columns{column-count:3;column-gap:1.25rem;orphans:1;widows:1}.card-columns .card{display:inline-block;width:100%}}.accordion{overflow-anchor:none}.accordion>.card{overflow:hidden}.accordion>.card:not(:last-of-type){border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.accordion>.card:not(:first-of-type){border-top-left-radius:0;border-top-right-radius:0}.accordion>.card>.card-header{border-radius:0;margin-bottom:-1px}.breadcrumb{display:flex;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:0}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:.5rem;color:#6c757d;content:'/'}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:underline}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{display:flex;padding-left:0;list-style:none;border-radius:0}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.page-item:last-child .page-link{border-top-right-radius:0;border-bottom-right-radius:0}.page-item.active .page-link{z-index:3;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:0;border-bottom-left-radius:0}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:0;border-bottom-right-radius:0}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.7rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:0;border-bottom-left-radius:0}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:0;border-bottom-right-radius:0}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:focus,a.badge:hover{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}a.badge-light.focus,a.badge-light:focus{outline:0;box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:focus,a.badge-dark:hover{color:#fff;background-color:#1d2124}a.badge-dark.focus,a.badge-dark:focus{outline:0;box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:0}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:0}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:3.7rem}.alert-dismissible .close{position:absolute;top:0;right:0;z-index:2;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:flex;height:1rem;overflow:hidden;line-height:0;font-size:.6rem;background-color:#e9ecef;border-radius:0}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{animation:none}}.media{display:flex;align-items:flex-start}.media-body{flex:1}.list-group{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:0}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:0;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:0;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.2rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}.close:not(:disabled):not(.disabled):focus,.close:not(:disabled):not(.disabled):hover{opacity:.75}button.close{padding:0;background-color:transparent;border:0}a.close.disabled{pointer-events:none}.toast{flex-basis:350px;max-width:350px;font-size:.875rem;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .25rem .75rem rgba(0,0,0,.1);opacity:0;border-radius:.25rem}.toast:not(:last-child){margin-bottom:.75rem}.toast.showing{opacity:1}.toast.show{display:block;opacity:1}.toast.hide{display:none}.toast-header{display:flex;align-items:center;padding:.25rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-body{padding:.75rem}.modal-open{overflow:hidden}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;overflow:hidden;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{display:flex;max-height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 1rem);overflow:hidden}.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header{flex-shrink:0}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered::before{display:block;height:calc(100vh - 1rem);height:min-content;content:''}.modal-dialog-centered.modal-dialog-scrollable{flex-direction:column;justify-content:center;height:100%}.modal-dialog-centered.modal-dialog-scrollable .modal-content{max-height:none}.modal-dialog-centered.modal-dialog-scrollable::before{content:none}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:0;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:flex;align-items:flex-start;justify-content:space-between;padding:1rem 1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:0;border-top-right-radius:0}.modal-header .close{padding:1rem 1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;flex:1 1 auto;padding:1rem}.modal-footer{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:0;border-bottom-left-radius:0}.modal-footer>*{margin:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{max-height:calc(100% - 3.5rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-dialog-centered::before{height:calc(100vh - 3.5rem);height:min-content}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.tooltip{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.7rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .arrow::before{position:absolute;content:'';border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow::before,.bs-tooltip-top .arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow::before,.bs-tooltip-right .arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow::before,.bs-tooltip-bottom .arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow::before,.bs-tooltip-left .arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:0}.popover{position:absolute;top:0;left:0;z-index:1060;display:block;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.7rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:0}.popover .arrow{position:absolute;display:block;width:1rem;height:.5rem;margin:0 0}.popover .arrow::after,.popover .arrow::before{position:absolute;display:block;content:'';border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top]>.arrow,.bs-popover-top>.arrow{bottom:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=top]>.arrow::before,.bs-popover-top>.arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top]>.arrow::after,.bs-popover-top>.arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right]>.arrow,.bs-popover-right>.arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:0 0}.bs-popover-auto[x-placement^=right]>.arrow::before,.bs-popover-right>.arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right]>.arrow::after,.bs-popover-right>.arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom]>.arrow,.bs-popover-bottom>.arrow{top:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=bottom]>.arrow::before,.bs-popover-bottom>.arrow::before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom]>.arrow::after,.bs-popover-bottom>.arrow::after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:'';border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left]>.arrow,.bs-popover-left>.arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:0 0}.bs-popover-auto[x-placement^=left]>.arrow::before,.bs-popover-left>.arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left]>.arrow::after,.bs-popover-left>.arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:.8rem;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:0;border-top-right-radius:0}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:''}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left){transform:translateX(100%)}.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;color:#fff;text-align:center;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:50%/100% 100% no-repeat}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators li{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:.75s linear infinite spinner-border}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;background-color:currentColor;border-radius:50%;opacity:0;animation:.75s linear infinite spinner-grow}.spinner-grow-sm{width:1rem;height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{animation-duration:1.5s}}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.bg-primary{background-color:#007bff!important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc!important}.bg-secondary{background-color:#6c757d!important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62!important}.bg-success{background-color:#28a745!important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34!important}.bg-info{background-color:#17a2b8!important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b!important}.bg-warning{background-color:#ffc107!important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00!important}.bg-danger{background-color:#dc3545!important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130!important}.bg-light{background-color:#f8f9fa!important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5!important}.bg-dark{background-color:#343a40!important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.border{border:1px solid #dee2e6!important}.border-top{border-top:1px solid #dee2e6!important}.border-right{border-right:1px solid #dee2e6!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-left{border-left:1px solid #dee2e6!important}.border-0{border:0!important}.border-top-0{border-top:0!important}.border-right-0{border-right:0!important}.border-bottom-0{border-bottom:0!important}.border-left-0{border-left:0!important}.border-primary{border-color:#007bff!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.rounded-sm{border-radius:0!important}.rounded{border-radius:0!important}.rounded-top{border-top-left-radius:0!important;border-top-right-radius:0!important}.rounded-right{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.rounded-bottom{border-bottom-right-radius:0!important;border-bottom-left-radius:0!important}.rounded-left{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.rounded-lg{border-radius:0!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-0{border-radius:0!important}.clearfix::after{display:block;clear:both;content:''}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive::before{display:block;content:''}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.8571428571%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-fill{flex:1 1 auto!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}@media (min-width:576px){.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}}@media (min-width:768px){.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}}@media (min-width:992px){.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}}@media (min-width:1200px){.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}}.user-select-all{user-select:all!important}.user-select-auto{user-select:auto!important}.user-select-none{user-select:none!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:sticky!important}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}@supports (position:sticky){.sticky-top{position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mw-100{max-width:100%!important}.mh-100{max-height:100%!important}.min-vw-100{min-width:100vw!important}.min-vh-100{min-height:100vh!important}.vw-100{width:100vw!important}.vh-100{height:100vh!important}.m-0{margin:0!important}.mt-0,.my-0{margin-top:0!important}.mr-0,.mx-0{margin-right:0!important}.mb-0,.my-0{margin-bottom:0!important}.ml-0,.mx-0{margin-left:0!important}.m-1{margin:.25rem!important}.mt-1,.my-1{margin-top:.25rem!important}.mr-1,.mx-1{margin-right:.25rem!important}.mb-1,.my-1{margin-bottom:.25rem!important}.ml-1,.mx-1{margin-left:.25rem!important}.m-2{margin:.5rem!important}.mt-2,.my-2{margin-top:.5rem!important}.mr-2,.mx-2{margin-right:.5rem!important}.mb-2,.my-2{margin-bottom:.5rem!important}.ml-2,.mx-2{margin-left:.5rem!important}.m-3{margin:1rem!important}.mt-3,.my-3{margin-top:1rem!important}.mr-3,.mx-3{margin-right:1rem!important}.mb-3,.my-3{margin-bottom:1rem!important}.ml-3,.mx-3{margin-left:1rem!important}.m-4{margin:1.5rem!important}.mt-4,.my-4{margin-top:1.5rem!important}.mr-4,.mx-4{margin-right:1.5rem!important}.mb-4,.my-4{margin-bottom:1.5rem!important}.ml-4,.mx-4{margin-left:1.5rem!important}.m-5{margin:3rem!important}.mt-5,.my-5{margin-top:3rem!important}.mr-5,.mx-5{margin-right:3rem!important}.mb-5,.my-5{margin-bottom:3rem!important}.ml-5,.mx-5{margin-left:3rem!important}.p-0{padding:0!important}.pt-0,.py-0{padding-top:0!important}.pr-0,.px-0{padding-right:0!important}.pb-0,.py-0{padding-bottom:0!important}.pl-0,.px-0{padding-left:0!important}.p-1{padding:.25rem!important}.pt-1,.py-1{padding-top:.25rem!important}.pr-1,.px-1{padding-right:.25rem!important}.pb-1,.py-1{padding-bottom:.25rem!important}.pl-1,.px-1{padding-left:.25rem!important}.p-2{padding:.5rem!important}.pt-2,.py-2{padding-top:.5rem!important}.pr-2,.px-2{padding-right:.5rem!important}.pb-2,.py-2{padding-bottom:.5rem!important}.pl-2,.px-2{padding-left:.5rem!important}.p-3{padding:1rem!important}.pt-3,.py-3{padding-top:1rem!important}.pr-3,.px-3{padding-right:1rem!important}.pb-3,.py-3{padding-bottom:1rem!important}.pl-3,.px-3{padding-left:1rem!important}.p-4{padding:1.5rem!important}.pt-4,.py-4{padding-top:1.5rem!important}.pr-4,.px-4{padding-right:1.5rem!important}.pb-4,.py-4{padding-bottom:1.5rem!important}.pl-4,.px-4{padding-left:1.5rem!important}.p-5{padding:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.pr-5,.px-5{padding-right:3rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pl-5,.px-5{padding-left:3rem!important}.m-n1{margin:-.25rem!important}.mt-n1,.my-n1{margin-top:-.25rem!important}.mr-n1,.mx-n1{margin-right:-.25rem!important}.mb-n1,.my-n1{margin-bottom:-.25rem!important}.ml-n1,.mx-n1{margin-left:-.25rem!important}.m-n2{margin:-.5rem!important}.mt-n2,.my-n2{margin-top:-.5rem!important}.mr-n2,.mx-n2{margin-right:-.5rem!important}.mb-n2,.my-n2{margin-bottom:-.5rem!important}.ml-n2,.mx-n2{margin-left:-.5rem!important}.m-n3{margin:-1rem!important}.mt-n3,.my-n3{margin-top:-1rem!important}.mr-n3,.mx-n3{margin-right:-1rem!important}.mb-n3,.my-n3{margin-bottom:-1rem!important}.ml-n3,.mx-n3{margin-left:-1rem!important}.m-n4{margin:-1.5rem!important}.mt-n4,.my-n4{margin-top:-1.5rem!important}.mr-n4,.mx-n4{margin-right:-1.5rem!important}.mb-n4,.my-n4{margin-bottom:-1.5rem!important}.ml-n4,.mx-n4{margin-left:-1.5rem!important}.m-n5{margin:-3rem!important}.mt-n5,.my-n5{margin-top:-3rem!important}.mr-n5,.mx-n5{margin-right:-3rem!important}.mb-n5,.my-n5{margin-bottom:-3rem!important}.ml-n5,.mx-n5{margin-left:-3rem!important}.m-auto{margin:auto!important}.mt-auto,.my-auto{margin-top:auto!important}.mr-auto,.mx-auto{margin-right:auto!important}.mb-auto,.my-auto{margin-bottom:auto!important}.ml-auto,.mx-auto{margin-left:auto!important}@media (min-width:576px){.m-sm-0{margin:0!important}.mt-sm-0,.my-sm-0{margin-top:0!important}.mr-sm-0,.mx-sm-0{margin-right:0!important}.mb-sm-0,.my-sm-0{margin-bottom:0!important}.ml-sm-0,.mx-sm-0{margin-left:0!important}.m-sm-1{margin:.25rem!important}.mt-sm-1,.my-sm-1{margin-top:.25rem!important}.mr-sm-1,.mx-sm-1{margin-right:.25rem!important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem!important}.ml-sm-1,.mx-sm-1{margin-left:.25rem!important}.m-sm-2{margin:.5rem!important}.mt-sm-2,.my-sm-2{margin-top:.5rem!important}.mr-sm-2,.mx-sm-2{margin-right:.5rem!important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem!important}.ml-sm-2,.mx-sm-2{margin-left:.5rem!important}.m-sm-3{margin:1rem!important}.mt-sm-3,.my-sm-3{margin-top:1rem!important}.mr-sm-3,.mx-sm-3{margin-right:1rem!important}.mb-sm-3,.my-sm-3{margin-bottom:1rem!important}.ml-sm-3,.mx-sm-3{margin-left:1rem!important}.m-sm-4{margin:1.5rem!important}.mt-sm-4,.my-sm-4{margin-top:1.5rem!important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem!important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem!important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem!important}.m-sm-5{margin:3rem!important}.mt-sm-5,.my-sm-5{margin-top:3rem!important}.mr-sm-5,.mx-sm-5{margin-right:3rem!important}.mb-sm-5,.my-sm-5{margin-bottom:3rem!important}.ml-sm-5,.mx-sm-5{margin-left:3rem!important}.p-sm-0{padding:0!important}.pt-sm-0,.py-sm-0{padding-top:0!important}.pr-sm-0,.px-sm-0{padding-right:0!important}.pb-sm-0,.py-sm-0{padding-bottom:0!important}.pl-sm-0,.px-sm-0{padding-left:0!important}.p-sm-1{padding:.25rem!important}.pt-sm-1,.py-sm-1{padding-top:.25rem!important}.pr-sm-1,.px-sm-1{padding-right:.25rem!important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem!important}.pl-sm-1,.px-sm-1{padding-left:.25rem!important}.p-sm-2{padding:.5rem!important}.pt-sm-2,.py-sm-2{padding-top:.5rem!important}.pr-sm-2,.px-sm-2{padding-right:.5rem!important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem!important}.pl-sm-2,.px-sm-2{padding-left:.5rem!important}.p-sm-3{padding:1rem!important}.pt-sm-3,.py-sm-3{padding-top:1rem!important}.pr-sm-3,.px-sm-3{padding-right:1rem!important}.pb-sm-3,.py-sm-3{padding-bottom:1rem!important}.pl-sm-3,.px-sm-3{padding-left:1rem!important}.p-sm-4{padding:1.5rem!important}.pt-sm-4,.py-sm-4{padding-top:1.5rem!important}.pr-sm-4,.px-sm-4{padding-right:1.5rem!important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem!important}.pl-sm-4,.px-sm-4{padding-left:1.5rem!important}.p-sm-5{padding:3rem!important}.pt-sm-5,.py-sm-5{padding-top:3rem!important}.pr-sm-5,.px-sm-5{padding-right:3rem!important}.pb-sm-5,.py-sm-5{padding-bottom:3rem!important}.pl-sm-5,.px-sm-5{padding-left:3rem!important}.m-sm-n1{margin:-.25rem!important}.mt-sm-n1,.my-sm-n1{margin-top:-.25rem!important}.mr-sm-n1,.mx-sm-n1{margin-right:-.25rem!important}.mb-sm-n1,.my-sm-n1{margin-bottom:-.25rem!important}.ml-sm-n1,.mx-sm-n1{margin-left:-.25rem!important}.m-sm-n2{margin:-.5rem!important}.mt-sm-n2,.my-sm-n2{margin-top:-.5rem!important}.mr-sm-n2,.mx-sm-n2{margin-right:-.5rem!important}.mb-sm-n2,.my-sm-n2{margin-bottom:-.5rem!important}.ml-sm-n2,.mx-sm-n2{margin-left:-.5rem!important}.m-sm-n3{margin:-1rem!important}.mt-sm-n3,.my-sm-n3{margin-top:-1rem!important}.mr-sm-n3,.mx-sm-n3{margin-right:-1rem!important}.mb-sm-n3,.my-sm-n3{margin-bottom:-1rem!important}.ml-sm-n3,.mx-sm-n3{margin-left:-1rem!important}.m-sm-n4{margin:-1.5rem!important}.mt-sm-n4,.my-sm-n4{margin-top:-1.5rem!important}.mr-sm-n4,.mx-sm-n4{margin-right:-1.5rem!important}.mb-sm-n4,.my-sm-n4{margin-bottom:-1.5rem!important}.ml-sm-n4,.mx-sm-n4{margin-left:-1.5rem!important}.m-sm-n5{margin:-3rem!important}.mt-sm-n5,.my-sm-n5{margin-top:-3rem!important}.mr-sm-n5,.mx-sm-n5{margin-right:-3rem!important}.mb-sm-n5,.my-sm-n5{margin-bottom:-3rem!important}.ml-sm-n5,.mx-sm-n5{margin-left:-3rem!important}.m-sm-auto{margin:auto!important}.mt-sm-auto,.my-sm-auto{margin-top:auto!important}.mr-sm-auto,.mx-sm-auto{margin-right:auto!important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto!important}.ml-sm-auto,.mx-sm-auto{margin-left:auto!important}}@media (min-width:768px){.m-md-0{margin:0!important}.mt-md-0,.my-md-0{margin-top:0!important}.mr-md-0,.mx-md-0{margin-right:0!important}.mb-md-0,.my-md-0{margin-bottom:0!important}.ml-md-0,.mx-md-0{margin-left:0!important}.m-md-1{margin:.25rem!important}.mt-md-1,.my-md-1{margin-top:.25rem!important}.mr-md-1,.mx-md-1{margin-right:.25rem!important}.mb-md-1,.my-md-1{margin-bottom:.25rem!important}.ml-md-1,.mx-md-1{margin-left:.25rem!important}.m-md-2{margin:.5rem!important}.mt-md-2,.my-md-2{margin-top:.5rem!important}.mr-md-2,.mx-md-2{margin-right:.5rem!important}.mb-md-2,.my-md-2{margin-bottom:.5rem!important}.ml-md-2,.mx-md-2{margin-left:.5rem!important}.m-md-3{margin:1rem!important}.mt-md-3,.my-md-3{margin-top:1rem!important}.mr-md-3,.mx-md-3{margin-right:1rem!important}.mb-md-3,.my-md-3{margin-bottom:1rem!important}.ml-md-3,.mx-md-3{margin-left:1rem!important}.m-md-4{margin:1.5rem!important}.mt-md-4,.my-md-4{margin-top:1.5rem!important}.mr-md-4,.mx-md-4{margin-right:1.5rem!important}.mb-md-4,.my-md-4{margin-bottom:1.5rem!important}.ml-md-4,.mx-md-4{margin-left:1.5rem!important}.m-md-5{margin:3rem!important}.mt-md-5,.my-md-5{margin-top:3rem!important}.mr-md-5,.mx-md-5{margin-right:3rem!important}.mb-md-5,.my-md-5{margin-bottom:3rem!important}.ml-md-5,.mx-md-5{margin-left:3rem!important}.p-md-0{padding:0!important}.pt-md-0,.py-md-0{padding-top:0!important}.pr-md-0,.px-md-0{padding-right:0!important}.pb-md-0,.py-md-0{padding-bottom:0!important}.pl-md-0,.px-md-0{padding-left:0!important}.p-md-1{padding:.25rem!important}.pt-md-1,.py-md-1{padding-top:.25rem!important}.pr-md-1,.px-md-1{padding-right:.25rem!important}.pb-md-1,.py-md-1{padding-bottom:.25rem!important}.pl-md-1,.px-md-1{padding-left:.25rem!important}.p-md-2{padding:.5rem!important}.pt-md-2,.py-md-2{padding-top:.5rem!important}.pr-md-2,.px-md-2{padding-right:.5rem!important}.pb-md-2,.py-md-2{padding-bottom:.5rem!important}.pl-md-2,.px-md-2{padding-left:.5rem!important}.p-md-3{padding:1rem!important}.pt-md-3,.py-md-3{padding-top:1rem!important}.pr-md-3,.px-md-3{padding-right:1rem!important}.pb-md-3,.py-md-3{padding-bottom:1rem!important}.pl-md-3,.px-md-3{padding-left:1rem!important}.p-md-4{padding:1.5rem!important}.pt-md-4,.py-md-4{padding-top:1.5rem!important}.pr-md-4,.px-md-4{padding-right:1.5rem!important}.pb-md-4,.py-md-4{padding-bottom:1.5rem!important}.pl-md-4,.px-md-4{padding-left:1.5rem!important}.p-md-5{padding:3rem!important}.pt-md-5,.py-md-5{padding-top:3rem!important}.pr-md-5,.px-md-5{padding-right:3rem!important}.pb-md-5,.py-md-5{padding-bottom:3rem!important}.pl-md-5,.px-md-5{padding-left:3rem!important}.m-md-n1{margin:-.25rem!important}.mt-md-n1,.my-md-n1{margin-top:-.25rem!important}.mr-md-n1,.mx-md-n1{margin-right:-.25rem!important}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem!important}.ml-md-n1,.mx-md-n1{margin-left:-.25rem!important}.m-md-n2{margin:-.5rem!important}.mt-md-n2,.my-md-n2{margin-top:-.5rem!important}.mr-md-n2,.mx-md-n2{margin-right:-.5rem!important}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem!important}.ml-md-n2,.mx-md-n2{margin-left:-.5rem!important}.m-md-n3{margin:-1rem!important}.mt-md-n3,.my-md-n3{margin-top:-1rem!important}.mr-md-n3,.mx-md-n3{margin-right:-1rem!important}.mb-md-n3,.my-md-n3{margin-bottom:-1rem!important}.ml-md-n3,.mx-md-n3{margin-left:-1rem!important}.m-md-n4{margin:-1.5rem!important}.mt-md-n4,.my-md-n4{margin-top:-1.5rem!important}.mr-md-n4,.mx-md-n4{margin-right:-1.5rem!important}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem!important}.ml-md-n4,.mx-md-n4{margin-left:-1.5rem!important}.m-md-n5{margin:-3rem!important}.mt-md-n5,.my-md-n5{margin-top:-3rem!important}.mr-md-n5,.mx-md-n5{margin-right:-3rem!important}.mb-md-n5,.my-md-n5{margin-bottom:-3rem!important}.ml-md-n5,.mx-md-n5{margin-left:-3rem!important}.m-md-auto{margin:auto!important}.mt-md-auto,.my-md-auto{margin-top:auto!important}.mr-md-auto,.mx-md-auto{margin-right:auto!important}.mb-md-auto,.my-md-auto{margin-bottom:auto!important}.ml-md-auto,.mx-md-auto{margin-left:auto!important}}@media (min-width:992px){.m-lg-0{margin:0!important}.mt-lg-0,.my-lg-0{margin-top:0!important}.mr-lg-0,.mx-lg-0{margin-right:0!important}.mb-lg-0,.my-lg-0{margin-bottom:0!important}.ml-lg-0,.mx-lg-0{margin-left:0!important}.m-lg-1{margin:.25rem!important}.mt-lg-1,.my-lg-1{margin-top:.25rem!important}.mr-lg-1,.mx-lg-1{margin-right:.25rem!important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem!important}.ml-lg-1,.mx-lg-1{margin-left:.25rem!important}.m-lg-2{margin:.5rem!important}.mt-lg-2,.my-lg-2{margin-top:.5rem!important}.mr-lg-2,.mx-lg-2{margin-right:.5rem!important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem!important}.ml-lg-2,.mx-lg-2{margin-left:.5rem!important}.m-lg-3{margin:1rem!important}.mt-lg-3,.my-lg-3{margin-top:1rem!important}.mr-lg-3,.mx-lg-3{margin-right:1rem!important}.mb-lg-3,.my-lg-3{margin-bottom:1rem!important}.ml-lg-3,.mx-lg-3{margin-left:1rem!important}.m-lg-4{margin:1.5rem!important}.mt-lg-4,.my-lg-4{margin-top:1.5rem!important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem!important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem!important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem!important}.m-lg-5{margin:3rem!important}.mt-lg-5,.my-lg-5{margin-top:3rem!important}.mr-lg-5,.mx-lg-5{margin-right:3rem!important}.mb-lg-5,.my-lg-5{margin-bottom:3rem!important}.ml-lg-5,.mx-lg-5{margin-left:3rem!important}.p-lg-0{padding:0!important}.pt-lg-0,.py-lg-0{padding-top:0!important}.pr-lg-0,.px-lg-0{padding-right:0!important}.pb-lg-0,.py-lg-0{padding-bottom:0!important}.pl-lg-0,.px-lg-0{padding-left:0!important}.p-lg-1{padding:.25rem!important}.pt-lg-1,.py-lg-1{padding-top:.25rem!important}.pr-lg-1,.px-lg-1{padding-right:.25rem!important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem!important}.pl-lg-1,.px-lg-1{padding-left:.25rem!important}.p-lg-2{padding:.5rem!important}.pt-lg-2,.py-lg-2{padding-top:.5rem!important}.pr-lg-2,.px-lg-2{padding-right:.5rem!important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem!important}.pl-lg-2,.px-lg-2{padding-left:.5rem!important}.p-lg-3{padding:1rem!important}.pt-lg-3,.py-lg-3{padding-top:1rem!important}.pr-lg-3,.px-lg-3{padding-right:1rem!important}.pb-lg-3,.py-lg-3{padding-bottom:1rem!important}.pl-lg-3,.px-lg-3{padding-left:1rem!important}.p-lg-4{padding:1.5rem!important}.pt-lg-4,.py-lg-4{padding-top:1.5rem!important}.pr-lg-4,.px-lg-4{padding-right:1.5rem!important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem!important}.pl-lg-4,.px-lg-4{padding-left:1.5rem!important}.p-lg-5{padding:3rem!important}.pt-lg-5,.py-lg-5{padding-top:3rem!important}.pr-lg-5,.px-lg-5{padding-right:3rem!important}.pb-lg-5,.py-lg-5{padding-bottom:3rem!important}.pl-lg-5,.px-lg-5{padding-left:3rem!important}.m-lg-n1{margin:-.25rem!important}.mt-lg-n1,.my-lg-n1{margin-top:-.25rem!important}.mr-lg-n1,.mx-lg-n1{margin-right:-.25rem!important}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem!important}.ml-lg-n1,.mx-lg-n1{margin-left:-.25rem!important}.m-lg-n2{margin:-.5rem!important}.mt-lg-n2,.my-lg-n2{margin-top:-.5rem!important}.mr-lg-n2,.mx-lg-n2{margin-right:-.5rem!important}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem!important}.ml-lg-n2,.mx-lg-n2{margin-left:-.5rem!important}.m-lg-n3{margin:-1rem!important}.mt-lg-n3,.my-lg-n3{margin-top:-1rem!important}.mr-lg-n3,.mx-lg-n3{margin-right:-1rem!important}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem!important}.ml-lg-n3,.mx-lg-n3{margin-left:-1rem!important}.m-lg-n4{margin:-1.5rem!important}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem!important}.mr-lg-n4,.mx-lg-n4{margin-right:-1.5rem!important}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem!important}.ml-lg-n4,.mx-lg-n4{margin-left:-1.5rem!important}.m-lg-n5{margin:-3rem!important}.mt-lg-n5,.my-lg-n5{margin-top:-3rem!important}.mr-lg-n5,.mx-lg-n5{margin-right:-3rem!important}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem!important}.ml-lg-n5,.mx-lg-n5{margin-left:-3rem!important}.m-lg-auto{margin:auto!important}.mt-lg-auto,.my-lg-auto{margin-top:auto!important}.mr-lg-auto,.mx-lg-auto{margin-right:auto!important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto!important}.ml-lg-auto,.mx-lg-auto{margin-left:auto!important}}@media (min-width:1200px){.m-xl-0{margin:0!important}.mt-xl-0,.my-xl-0{margin-top:0!important}.mr-xl-0,.mx-xl-0{margin-right:0!important}.mb-xl-0,.my-xl-0{margin-bottom:0!important}.ml-xl-0,.mx-xl-0{margin-left:0!important}.m-xl-1{margin:.25rem!important}.mt-xl-1,.my-xl-1{margin-top:.25rem!important}.mr-xl-1,.mx-xl-1{margin-right:.25rem!important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem!important}.ml-xl-1,.mx-xl-1{margin-left:.25rem!important}.m-xl-2{margin:.5rem!important}.mt-xl-2,.my-xl-2{margin-top:.5rem!important}.mr-xl-2,.mx-xl-2{margin-right:.5rem!important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem!important}.ml-xl-2,.mx-xl-2{margin-left:.5rem!important}.m-xl-3{margin:1rem!important}.mt-xl-3,.my-xl-3{margin-top:1rem!important}.mr-xl-3,.mx-xl-3{margin-right:1rem!important}.mb-xl-3,.my-xl-3{margin-bottom:1rem!important}.ml-xl-3,.mx-xl-3{margin-left:1rem!important}.m-xl-4{margin:1.5rem!important}.mt-xl-4,.my-xl-4{margin-top:1.5rem!important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem!important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem!important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem!important}.m-xl-5{margin:3rem!important}.mt-xl-5,.my-xl-5{margin-top:3rem!important}.mr-xl-5,.mx-xl-5{margin-right:3rem!important}.mb-xl-5,.my-xl-5{margin-bottom:3rem!important}.ml-xl-5,.mx-xl-5{margin-left:3rem!important}.p-xl-0{padding:0!important}.pt-xl-0,.py-xl-0{padding-top:0!important}.pr-xl-0,.px-xl-0{padding-right:0!important}.pb-xl-0,.py-xl-0{padding-bottom:0!important}.pl-xl-0,.px-xl-0{padding-left:0!important}.p-xl-1{padding:.25rem!important}.pt-xl-1,.py-xl-1{padding-top:.25rem!important}.pr-xl-1,.px-xl-1{padding-right:.25rem!important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem!important}.pl-xl-1,.px-xl-1{padding-left:.25rem!important}.p-xl-2{padding:.5rem!important}.pt-xl-2,.py-xl-2{padding-top:.5rem!important}.pr-xl-2,.px-xl-2{padding-right:.5rem!important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem!important}.pl-xl-2,.px-xl-2{padding-left:.5rem!important}.p-xl-3{padding:1rem!important}.pt-xl-3,.py-xl-3{padding-top:1rem!important}.pr-xl-3,.px-xl-3{padding-right:1rem!important}.pb-xl-3,.py-xl-3{padding-bottom:1rem!important}.pl-xl-3,.px-xl-3{padding-left:1rem!important}.p-xl-4{padding:1.5rem!important}.pt-xl-4,.py-xl-4{padding-top:1.5rem!important}.pr-xl-4,.px-xl-4{padding-right:1.5rem!important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem!important}.pl-xl-4,.px-xl-4{padding-left:1.5rem!important}.p-xl-5{padding:3rem!important}.pt-xl-5,.py-xl-5{padding-top:3rem!important}.pr-xl-5,.px-xl-5{padding-right:3rem!important}.pb-xl-5,.py-xl-5{padding-bottom:3rem!important}.pl-xl-5,.px-xl-5{padding-left:3rem!important}.m-xl-n1{margin:-.25rem!important}.mt-xl-n1,.my-xl-n1{margin-top:-.25rem!important}.mr-xl-n1,.mx-xl-n1{margin-right:-.25rem!important}.mb-xl-n1,.my-xl-n1{margin-bottom:-.25rem!important}.ml-xl-n1,.mx-xl-n1{margin-left:-.25rem!important}.m-xl-n2{margin:-.5rem!important}.mt-xl-n2,.my-xl-n2{margin-top:-.5rem!important}.mr-xl-n2,.mx-xl-n2{margin-right:-.5rem!important}.mb-xl-n2,.my-xl-n2{margin-bottom:-.5rem!important}.ml-xl-n2,.mx-xl-n2{margin-left:-.5rem!important}.m-xl-n3{margin:-1rem!important}.mt-xl-n3,.my-xl-n3{margin-top:-1rem!important}.mr-xl-n3,.mx-xl-n3{margin-right:-1rem!important}.mb-xl-n3,.my-xl-n3{margin-bottom:-1rem!important}.ml-xl-n3,.mx-xl-n3{margin-left:-1rem!important}.m-xl-n4{margin:-1.5rem!important}.mt-xl-n4,.my-xl-n4{margin-top:-1.5rem!important}.mr-xl-n4,.mx-xl-n4{margin-right:-1.5rem!important}.mb-xl-n4,.my-xl-n4{margin-bottom:-1.5rem!important}.ml-xl-n4,.mx-xl-n4{margin-left:-1.5rem!important}.m-xl-n5{margin:-3rem!important}.mt-xl-n5,.my-xl-n5{margin-top:-3rem!important}.mr-xl-n5,.mx-xl-n5{margin-right:-3rem!important}.mb-xl-n5,.my-xl-n5{margin-bottom:-3rem!important}.ml-xl-n5,.mx-xl-n5{margin-left:-3rem!important}.m-xl-auto{margin:auto!important}.mt-xl-auto,.my-xl-auto{margin-top:auto!important}.mr-xl-auto,.mx-xl-auto{margin-right:auto!important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto!important}.ml-xl-auto,.mx-xl-auto{margin-left:auto!important}}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:auto;content:'';background-color:rgba(0,0,0,0)}.text-monospace{font-family:SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace!important}.text-justify{text-align:justify!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}@media (min-width:576px){.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.font-weight-light{font-weight:300!important}.font-weight-lighter{font-weight:lighter!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-weight-bolder{font-weight:bolder!important}.font-italic{font-style:italic!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}a.text-primary:focus,a.text-primary:hover{color:#0056b3!important}.text-secondary{color:#6c757d!important}a.text-secondary:focus,a.text-secondary:hover{color:#494f54!important}.text-success{color:#28a745!important}a.text-success:focus,a.text-success:hover{color:#19692c!important}.text-info{color:#17a2b8!important}a.text-info:focus,a.text-info:hover{color:#0f6674!important}.text-warning{color:#ffc107!important}a.text-warning:focus,a.text-warning:hover{color:#ba8b00!important}.text-danger{color:#dc3545!important}a.text-danger:focus,a.text-danger:hover{color:#a71d2a!important}.text-light{color:#f8f9fa!important}a.text-light:focus,a.text-light:hover{color:#cbd3da!important}.text-dark{color:#343a40!important}a.text-dark:focus,a.text-dark:hover{color:#121416!important}.text-body{color:#212529!important}.text-muted{color:#6c757d!important}.text-black-50{color:rgba(0,0,0,.5)!important}.text-white-50{color:rgba(255,255,255,.5)!important}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none!important}.text-break{word-break:break-word!important;word-wrap:break-word!important}.text-reset{color:inherit!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media print{*,::after,::before{text-shadow:none!important;box-shadow:none!important}a:not(.btn){text-decoration:underline}abbr[title]::after{content:' (' attr(title) ')'}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #adb5bd;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px!important}.container{min-width:992px!important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #dee2e6!important}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}}`,Es=go`/*!
   * Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com
   * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
   * Copyright 2024 Fonticons, Inc.
   */.fa{font-family:var(--fa-style-family, 'Font Awesome 6 Free');font-weight:var(--fa-style,900)}.fa,.fa-brands,.fa-classic,.fa-regular,.fa-sharp-solid,.fa-solid,.fab,.far,.fas{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:var(--fa-display,inline-block);font-style:normal;font-variant:normal;line-height:1;text-rendering:auto}.fa-classic,.fa-regular,.fa-solid,.far,.fas{font-family:'Font Awesome 6 Free'}.fa-brands,.fab{font-family:'Font Awesome 6 Brands'}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-2xs{font-size:.625em;line-height:.1em;vertical-align:.225em}.fa-xs{font-size:.75em;line-height:.08333em;vertical-align:.125em}.fa-sm{font-size:.875em;line-height:.07143em;vertical-align:.05357em}.fa-lg{font-size:1.25em;line-height:.05em;vertical-align:-.075em}.fa-xl{font-size:1.5em;line-height:.04167em;vertical-align:-.125em}.fa-2xl{font-size:2em;line-height:.03125em;vertical-align:-.1875em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:var(--fa-li-margin,2.5em);padding-left:0}.fa-ul>li{position:relative}.fa-li{left:calc(-1 * var(--fa-li-width,2em));position:absolute;text-align:center;width:var(--fa-li-width,2em);line-height:inherit}.fa-border{border-color:var(--fa-border-color,#eee);border-radius:var(--fa-border-radius,.1em);border-style:var(--fa-border-style,solid);border-width:var(--fa-border-width,.08em);padding:var(--fa-border-padding,.2em .25em .15em)}.fa-pull-left{float:left;margin-right:var(--fa-pull-margin,.3em)}.fa-pull-right{float:right;margin-left:var(--fa-pull-margin,.3em)}.fa-beat{animation-name:fa-beat;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-bounce{animation-name:fa-bounce;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1))}.fa-fade{animation-name:fa-fade;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-beat-fade{animation-name:fa-beat-fade;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-flip{animation-name:fa-flip;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-shake{animation-name:fa-shake;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin{animation-name:fa-spin;animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,2s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin-reverse{--fa-animation-direction:reverse}.fa-pulse,.fa-spin-pulse{animation-name:fa-spin;animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-timing-function:var(--fa-animation-timing,steps(8))}@media (prefers-reduced-motion:reduce){.fa-beat,.fa-beat-fade,.fa-bounce,.fa-fade,.fa-flip,.fa-pulse,.fa-shake,.fa-spin,.fa-spin-pulse{animation-delay:-1ms;animation-duration:1ms;animation-iteration-count:1;transition-delay:0s;transition-duration:0s}}@keyframes fa-beat{0%,90%{transform:scale(1)}45%{transform:scale(var(--fa-beat-scale,1.25))}}@keyframes fa-bounce{0%{transform:scale(1,1) translateY(0)}10%{transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em))}64%{transform:scale(1,1) translateY(0)}100%{transform:scale(1,1) translateY(0)}}@keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@keyframes fa-beat-fade{0%,100%{opacity:var(--fa-beat-fade-opacity,.4);transform:scale(1)}50%{opacity:1;transform:scale(var(--fa-beat-fade-scale,1.125))}}@keyframes fa-flip{50%{transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@keyframes fa-shake{0%{transform:rotate(-15deg)}4%{transform:rotate(15deg)}24%,8%{transform:rotate(-18deg)}12%,28%{transform:rotate(18deg)}16%{transform:rotate(-22deg)}20%{transform:rotate(22deg)}32%{transform:rotate(-12deg)}36%{transform:rotate(12deg)}100%,40%{transform:rotate(0)}}@keyframes fa-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.fa-rotate-90{transform:rotate(90deg)}.fa-rotate-180{transform:rotate(180deg)}.fa-rotate-270{transform:rotate(270deg)}.fa-flip-horizontal{transform:scale(-1,1)}.fa-flip-vertical{transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{transform:scale(-1,-1)}.fa-rotate-by{transform:rotate(var(--fa-rotate-angle,0))}.fa-stack{display:inline-block;height:2em;line-height:2em;position:relative;vertical-align:middle;width:2.5em}.fa-stack-1x,.fa-stack-2x{left:0;position:absolute;text-align:center;width:100%;z-index:var(--fa-stack-z-index,auto)}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:var(--fa-inverse,#fff)}.fa-0::before{content:'\\30'}.fa-1::before{content:'\\31'}.fa-2::before{content:'\\32'}.fa-3::before{content:'\\33'}.fa-4::before{content:'\\34'}.fa-5::before{content:'\\35'}.fa-6::before{content:'\\36'}.fa-7::before{content:'\\37'}.fa-8::before{content:'\\38'}.fa-9::before{content:'\\39'}.fa-fill-drip::before{content:'\\f576'}.fa-arrows-to-circle::before{content:'\\e4bd'}.fa-circle-chevron-right::before{content:'\\f138'}.fa-chevron-circle-right::before{content:'\\f138'}.fa-at::before{content:'\\40'}.fa-trash-can::before{content:'\\f2ed'}.fa-trash-alt::before{content:'\\f2ed'}.fa-text-height::before{content:'\\f034'}.fa-user-xmark::before{content:'\\f235'}.fa-user-times::before{content:'\\f235'}.fa-stethoscope::before{content:'\\f0f1'}.fa-message::before{content:'\\f27a'}.fa-comment-alt::before{content:'\\f27a'}.fa-info::before{content:'\\f129'}.fa-down-left-and-up-right-to-center::before{content:'\\f422'}.fa-compress-alt::before{content:'\\f422'}.fa-explosion::before{content:'\\e4e9'}.fa-file-lines::before{content:'\\f15c'}.fa-file-alt::before{content:'\\f15c'}.fa-file-text::before{content:'\\f15c'}.fa-wave-square::before{content:'\\f83e'}.fa-ring::before{content:'\\f70b'}.fa-building-un::before{content:'\\e4d9'}.fa-dice-three::before{content:'\\f527'}.fa-calendar-days::before{content:'\\f073'}.fa-calendar-alt::before{content:'\\f073'}.fa-anchor-circle-check::before{content:'\\e4aa'}.fa-building-circle-arrow-right::before{content:'\\e4d1'}.fa-volleyball::before{content:'\\f45f'}.fa-volleyball-ball::before{content:'\\f45f'}.fa-arrows-up-to-line::before{content:'\\e4c2'}.fa-sort-down::before{content:'\\f0dd'}.fa-sort-desc::before{content:'\\f0dd'}.fa-circle-minus::before{content:'\\f056'}.fa-minus-circle::before{content:'\\f056'}.fa-door-open::before{content:'\\f52b'}.fa-right-from-bracket::before{content:'\\f2f5'}.fa-sign-out-alt::before{content:'\\f2f5'}.fa-atom::before{content:'\\f5d2'}.fa-soap::before{content:'\\e06e'}.fa-icons::before{content:'\\f86d'}.fa-heart-music-camera-bolt::before{content:'\\f86d'}.fa-microphone-lines-slash::before{content:'\\f539'}.fa-microphone-alt-slash::before{content:'\\f539'}.fa-bridge-circle-check::before{content:'\\e4c9'}.fa-pump-medical::before{content:'\\e06a'}.fa-fingerprint::before{content:'\\f577'}.fa-hand-point-right::before{content:'\\f0a4'}.fa-magnifying-glass-location::before{content:'\\f689'}.fa-search-location::before{content:'\\f689'}.fa-forward-step::before{content:'\\f051'}.fa-step-forward::before{content:'\\f051'}.fa-face-smile-beam::before{content:'\\f5b8'}.fa-smile-beam::before{content:'\\f5b8'}.fa-flag-checkered::before{content:'\\f11e'}.fa-football::before{content:'\\f44e'}.fa-football-ball::before{content:'\\f44e'}.fa-school-circle-exclamation::before{content:'\\e56c'}.fa-crop::before{content:'\\f125'}.fa-angles-down::before{content:'\\f103'}.fa-users-rectangle::before{content:'\\e594'}.fa-people-roof::before{content:'\\e537'}.fa-people-line::before{content:'\\e534'}.fa-beer-mug-empty::before{content:'\\f0fc'}.fa-beer::before{content:'\\f0fc'}.fa-diagram-predecessor::before{content:'\\e477'}.fa-arrow-up-long::before{content:'\\f176'}.fa-long-arrow-up::before{content:'\\f176'}.fa-fire-flame-simple::before{content:'\\f46a'}.fa-burn::before{content:'\\f46a'}.fa-person::before{content:'\\f183'}.fa-male::before{content:'\\f183'}.fa-laptop::before{content:'\\f109'}.fa-file-csv::before{content:'\\f6dd'}.fa-menorah::before{content:'\\f676'}.fa-truck-plane::before{content:'\\e58f'}.fa-record-vinyl::before{content:'\\f8d9'}.fa-face-grin-stars::before{content:'\\f587'}.fa-grin-stars::before{content:'\\f587'}.fa-bong::before{content:'\\f55c'}.fa-spaghetti-monster-flying::before{content:'\\f67b'}.fa-pastafarianism::before{content:'\\f67b'}.fa-arrow-down-up-across-line::before{content:'\\e4af'}.fa-spoon::before{content:'\\f2e5'}.fa-utensil-spoon::before{content:'\\f2e5'}.fa-jar-wheat::before{content:'\\e517'}.fa-envelopes-bulk::before{content:'\\f674'}.fa-mail-bulk::before{content:'\\f674'}.fa-file-circle-exclamation::before{content:'\\e4eb'}.fa-circle-h::before{content:'\\f47e'}.fa-hospital-symbol::before{content:'\\f47e'}.fa-pager::before{content:'\\f815'}.fa-address-book::before{content:'\\f2b9'}.fa-contact-book::before{content:'\\f2b9'}.fa-strikethrough::before{content:'\\f0cc'}.fa-k::before{content:'\\4b'}.fa-landmark-flag::before{content:'\\e51c'}.fa-pencil::before{content:'\\f303'}.fa-pencil-alt::before{content:'\\f303'}.fa-backward::before{content:'\\f04a'}.fa-caret-right::before{content:'\\f0da'}.fa-comments::before{content:'\\f086'}.fa-paste::before{content:'\\f0ea'}.fa-file-clipboard::before{content:'\\f0ea'}.fa-code-pull-request::before{content:'\\e13c'}.fa-clipboard-list::before{content:'\\f46d'}.fa-truck-ramp-box::before{content:'\\f4de'}.fa-truck-loading::before{content:'\\f4de'}.fa-user-check::before{content:'\\f4fc'}.fa-vial-virus::before{content:'\\e597'}.fa-sheet-plastic::before{content:'\\e571'}.fa-blog::before{content:'\\f781'}.fa-user-ninja::before{content:'\\f504'}.fa-person-arrow-up-from-line::before{content:'\\e539'}.fa-scroll-torah::before{content:'\\f6a0'}.fa-torah::before{content:'\\f6a0'}.fa-broom-ball::before{content:'\\f458'}.fa-quidditch::before{content:'\\f458'}.fa-quidditch-broom-ball::before{content:'\\f458'}.fa-toggle-off::before{content:'\\f204'}.fa-box-archive::before{content:'\\f187'}.fa-archive::before{content:'\\f187'}.fa-person-drowning::before{content:'\\e545'}.fa-arrow-down-9-1::before{content:'\\f886'}.fa-sort-numeric-desc::before{content:'\\f886'}.fa-sort-numeric-down-alt::before{content:'\\f886'}.fa-face-grin-tongue-squint::before{content:'\\f58a'}.fa-grin-tongue-squint::before{content:'\\f58a'}.fa-spray-can::before{content:'\\f5bd'}.fa-truck-monster::before{content:'\\f63b'}.fa-w::before{content:'\\57'}.fa-earth-africa::before{content:'\\f57c'}.fa-globe-africa::before{content:'\\f57c'}.fa-rainbow::before{content:'\\f75b'}.fa-circle-notch::before{content:'\\f1ce'}.fa-tablet-screen-button::before{content:'\\f3fa'}.fa-tablet-alt::before{content:'\\f3fa'}.fa-paw::before{content:'\\f1b0'}.fa-cloud::before{content:'\\f0c2'}.fa-trowel-bricks::before{content:'\\e58a'}.fa-face-flushed::before{content:'\\f579'}.fa-flushed::before{content:'\\f579'}.fa-hospital-user::before{content:'\\f80d'}.fa-tent-arrow-left-right::before{content:'\\e57f'}.fa-gavel::before{content:'\\f0e3'}.fa-legal::before{content:'\\f0e3'}.fa-binoculars::before{content:'\\f1e5'}.fa-microphone-slash::before{content:'\\f131'}.fa-box-tissue::before{content:'\\e05b'}.fa-motorcycle::before{content:'\\f21c'}.fa-bell-concierge::before{content:'\\f562'}.fa-concierge-bell::before{content:'\\f562'}.fa-pen-ruler::before{content:'\\f5ae'}.fa-pencil-ruler::before{content:'\\f5ae'}.fa-people-arrows::before{content:'\\e068'}.fa-people-arrows-left-right::before{content:'\\e068'}.fa-mars-and-venus-burst::before{content:'\\e523'}.fa-square-caret-right::before{content:'\\f152'}.fa-caret-square-right::before{content:'\\f152'}.fa-scissors::before{content:'\\f0c4'}.fa-cut::before{content:'\\f0c4'}.fa-sun-plant-wilt::before{content:'\\e57a'}.fa-toilets-portable::before{content:'\\e584'}.fa-hockey-puck::before{content:'\\f453'}.fa-table::before{content:'\\f0ce'}.fa-magnifying-glass-arrow-right::before{content:'\\e521'}.fa-tachograph-digital::before{content:'\\f566'}.fa-digital-tachograph::before{content:'\\f566'}.fa-users-slash::before{content:'\\e073'}.fa-clover::before{content:'\\e139'}.fa-reply::before{content:'\\f3e5'}.fa-mail-reply::before{content:'\\f3e5'}.fa-star-and-crescent::before{content:'\\f699'}.fa-house-fire::before{content:'\\e50c'}.fa-square-minus::before{content:'\\f146'}.fa-minus-square::before{content:'\\f146'}.fa-helicopter::before{content:'\\f533'}.fa-compass::before{content:'\\f14e'}.fa-square-caret-down::before{content:'\\f150'}.fa-caret-square-down::before{content:'\\f150'}.fa-file-circle-question::before{content:'\\e4ef'}.fa-laptop-code::before{content:'\\f5fc'}.fa-swatchbook::before{content:'\\f5c3'}.fa-prescription-bottle::before{content:'\\f485'}.fa-bars::before{content:'\\f0c9'}.fa-navicon::before{content:'\\f0c9'}.fa-people-group::before{content:'\\e533'}.fa-hourglass-end::before{content:'\\f253'}.fa-hourglass-3::before{content:'\\f253'}.fa-heart-crack::before{content:'\\f7a9'}.fa-heart-broken::before{content:'\\f7a9'}.fa-square-up-right::before{content:'\\f360'}.fa-external-link-square-alt::before{content:'\\f360'}.fa-face-kiss-beam::before{content:'\\f597'}.fa-kiss-beam::before{content:'\\f597'}.fa-film::before{content:'\\f008'}.fa-ruler-horizontal::before{content:'\\f547'}.fa-people-robbery::before{content:'\\e536'}.fa-lightbulb::before{content:'\\f0eb'}.fa-caret-left::before{content:'\\f0d9'}.fa-circle-exclamation::before{content:'\\f06a'}.fa-exclamation-circle::before{content:'\\f06a'}.fa-school-circle-xmark::before{content:'\\e56d'}.fa-arrow-right-from-bracket::before{content:'\\f08b'}.fa-sign-out::before{content:'\\f08b'}.fa-circle-chevron-down::before{content:'\\f13a'}.fa-chevron-circle-down::before{content:'\\f13a'}.fa-unlock-keyhole::before{content:'\\f13e'}.fa-unlock-alt::before{content:'\\f13e'}.fa-cloud-showers-heavy::before{content:'\\f740'}.fa-headphones-simple::before{content:'\\f58f'}.fa-headphones-alt::before{content:'\\f58f'}.fa-sitemap::before{content:'\\f0e8'}.fa-circle-dollar-to-slot::before{content:'\\f4b9'}.fa-donate::before{content:'\\f4b9'}.fa-memory::before{content:'\\f538'}.fa-road-spikes::before{content:'\\e568'}.fa-fire-burner::before{content:'\\e4f1'}.fa-flag::before{content:'\\f024'}.fa-hanukiah::before{content:'\\f6e6'}.fa-feather::before{content:'\\f52d'}.fa-volume-low::before{content:'\\f027'}.fa-volume-down::before{content:'\\f027'}.fa-comment-slash::before{content:'\\f4b3'}.fa-cloud-sun-rain::before{content:'\\f743'}.fa-compress::before{content:'\\f066'}.fa-wheat-awn::before{content:'\\e2cd'}.fa-wheat-alt::before{content:'\\e2cd'}.fa-ankh::before{content:'\\f644'}.fa-hands-holding-child::before{content:'\\e4fa'}.fa-asterisk::before{content:'\\2a'}.fa-square-check::before{content:'\\f14a'}.fa-check-square::before{content:'\\f14a'}.fa-peseta-sign::before{content:'\\e221'}.fa-heading::before{content:'\\f1dc'}.fa-header::before{content:'\\f1dc'}.fa-ghost::before{content:'\\f6e2'}.fa-list::before{content:'\\f03a'}.fa-list-squares::before{content:'\\f03a'}.fa-square-phone-flip::before{content:'\\f87b'}.fa-phone-square-alt::before{content:'\\f87b'}.fa-cart-plus::before{content:'\\f217'}.fa-gamepad::before{content:'\\f11b'}.fa-circle-dot::before{content:'\\f192'}.fa-dot-circle::before{content:'\\f192'}.fa-face-dizzy::before{content:'\\f567'}.fa-dizzy::before{content:'\\f567'}.fa-egg::before{content:'\\f7fb'}.fa-house-medical-circle-xmark::before{content:'\\e513'}.fa-campground::before{content:'\\f6bb'}.fa-folder-plus::before{content:'\\f65e'}.fa-futbol::before{content:'\\f1e3'}.fa-futbol-ball::before{content:'\\f1e3'}.fa-soccer-ball::before{content:'\\f1e3'}.fa-paintbrush::before{content:'\\f1fc'}.fa-paint-brush::before{content:'\\f1fc'}.fa-lock::before{content:'\\f023'}.fa-gas-pump::before{content:'\\f52f'}.fa-hot-tub-person::before{content:'\\f593'}.fa-hot-tub::before{content:'\\f593'}.fa-map-location::before{content:'\\f59f'}.fa-map-marked::before{content:'\\f59f'}.fa-house-flood-water::before{content:'\\e50e'}.fa-tree::before{content:'\\f1bb'}.fa-bridge-lock::before{content:'\\e4cc'}.fa-sack-dollar::before{content:'\\f81d'}.fa-pen-to-square::before{content:'\\f044'}.fa-edit::before{content:'\\f044'}.fa-car-side::before{content:'\\f5e4'}.fa-share-nodes::before{content:'\\f1e0'}.fa-share-alt::before{content:'\\f1e0'}.fa-heart-circle-minus::before{content:'\\e4ff'}.fa-hourglass-half::before{content:'\\f252'}.fa-hourglass-2::before{content:'\\f252'}.fa-microscope::before{content:'\\f610'}.fa-sink::before{content:'\\e06d'}.fa-bag-shopping::before{content:'\\f290'}.fa-shopping-bag::before{content:'\\f290'}.fa-arrow-down-z-a::before{content:'\\f881'}.fa-sort-alpha-desc::before{content:'\\f881'}.fa-sort-alpha-down-alt::before{content:'\\f881'}.fa-mitten::before{content:'\\f7b5'}.fa-person-rays::before{content:'\\e54d'}.fa-users::before{content:'\\f0c0'}.fa-eye-slash::before{content:'\\f070'}.fa-flask-vial::before{content:'\\e4f3'}.fa-hand::before{content:'\\f256'}.fa-hand-paper::before{content:'\\f256'}.fa-om::before{content:'\\f679'}.fa-worm::before{content:'\\e599'}.fa-house-circle-xmark::before{content:'\\e50b'}.fa-plug::before{content:'\\f1e6'}.fa-chevron-up::before{content:'\\f077'}.fa-hand-spock::before{content:'\\f259'}.fa-stopwatch::before{content:'\\f2f2'}.fa-face-kiss::before{content:'\\f596'}.fa-kiss::before{content:'\\f596'}.fa-bridge-circle-xmark::before{content:'\\e4cb'}.fa-face-grin-tongue::before{content:'\\f589'}.fa-grin-tongue::before{content:'\\f589'}.fa-chess-bishop::before{content:'\\f43a'}.fa-face-grin-wink::before{content:'\\f58c'}.fa-grin-wink::before{content:'\\f58c'}.fa-ear-deaf::before{content:'\\f2a4'}.fa-deaf::before{content:'\\f2a4'}.fa-deafness::before{content:'\\f2a4'}.fa-hard-of-hearing::before{content:'\\f2a4'}.fa-road-circle-check::before{content:'\\e564'}.fa-dice-five::before{content:'\\f523'}.fa-square-rss::before{content:'\\f143'}.fa-rss-square::before{content:'\\f143'}.fa-land-mine-on::before{content:'\\e51b'}.fa-i-cursor::before{content:'\\f246'}.fa-stamp::before{content:'\\f5bf'}.fa-stairs::before{content:'\\e289'}.fa-i::before{content:'\\49'}.fa-hryvnia-sign::before{content:'\\f6f2'}.fa-hryvnia::before{content:'\\f6f2'}.fa-pills::before{content:'\\f484'}.fa-face-grin-wide::before{content:'\\f581'}.fa-grin-alt::before{content:'\\f581'}.fa-tooth::before{content:'\\f5c9'}.fa-v::before{content:'\\56'}.fa-bangladeshi-taka-sign::before{content:'\\e2e6'}.fa-bicycle::before{content:'\\f206'}.fa-staff-snake::before{content:'\\e579'}.fa-rod-asclepius::before{content:'\\e579'}.fa-rod-snake::before{content:'\\e579'}.fa-staff-aesculapius::before{content:'\\e579'}.fa-head-side-cough-slash::before{content:'\\e062'}.fa-truck-medical::before{content:'\\f0f9'}.fa-ambulance::before{content:'\\f0f9'}.fa-wheat-awn-circle-exclamation::before{content:'\\e598'}.fa-snowman::before{content:'\\f7d0'}.fa-mortar-pestle::before{content:'\\f5a7'}.fa-road-barrier::before{content:'\\e562'}.fa-school::before{content:'\\f549'}.fa-igloo::before{content:'\\f7ae'}.fa-joint::before{content:'\\f595'}.fa-angle-right::before{content:'\\f105'}.fa-horse::before{content:'\\f6f0'}.fa-q::before{content:'\\51'}.fa-g::before{content:'\\47'}.fa-notes-medical::before{content:'\\f481'}.fa-temperature-half::before{content:'\\f2c9'}.fa-temperature-2::before{content:'\\f2c9'}.fa-thermometer-2::before{content:'\\f2c9'}.fa-thermometer-half::before{content:'\\f2c9'}.fa-dong-sign::before{content:'\\e169'}.fa-capsules::before{content:'\\f46b'}.fa-poo-storm::before{content:'\\f75a'}.fa-poo-bolt::before{content:'\\f75a'}.fa-face-frown-open::before{content:'\\f57a'}.fa-frown-open::before{content:'\\f57a'}.fa-hand-point-up::before{content:'\\f0a6'}.fa-money-bill::before{content:'\\f0d6'}.fa-bookmark::before{content:'\\f02e'}.fa-align-justify::before{content:'\\f039'}.fa-umbrella-beach::before{content:'\\f5ca'}.fa-helmet-un::before{content:'\\e503'}.fa-bullseye::before{content:'\\f140'}.fa-bacon::before{content:'\\f7e5'}.fa-hand-point-down::before{content:'\\f0a7'}.fa-arrow-up-from-bracket::before{content:'\\e09a'}.fa-folder::before{content:'\\f07b'}.fa-folder-blank::before{content:'\\f07b'}.fa-file-waveform::before{content:'\\f478'}.fa-file-medical-alt::before{content:'\\f478'}.fa-radiation::before{content:'\\f7b9'}.fa-chart-simple::before{content:'\\e473'}.fa-mars-stroke::before{content:'\\f229'}.fa-vial::before{content:'\\f492'}.fa-gauge::before{content:'\\f624'}.fa-dashboard::before{content:'\\f624'}.fa-gauge-med::before{content:'\\f624'}.fa-tachometer-alt-average::before{content:'\\f624'}.fa-wand-magic-sparkles::before{content:'\\e2ca'}.fa-magic-wand-sparkles::before{content:'\\e2ca'}.fa-e::before{content:'\\45'}.fa-pen-clip::before{content:'\\f305'}.fa-pen-alt::before{content:'\\f305'}.fa-bridge-circle-exclamation::before{content:'\\e4ca'}.fa-user::before{content:'\\f007'}.fa-school-circle-check::before{content:'\\e56b'}.fa-dumpster::before{content:'\\f793'}.fa-van-shuttle::before{content:'\\f5b6'}.fa-shuttle-van::before{content:'\\f5b6'}.fa-building-user::before{content:'\\e4da'}.fa-square-caret-left::before{content:'\\f191'}.fa-caret-square-left::before{content:'\\f191'}.fa-highlighter::before{content:'\\f591'}.fa-key::before{content:'\\f084'}.fa-bullhorn::before{content:'\\f0a1'}.fa-globe::before{content:'\\f0ac'}.fa-synagogue::before{content:'\\f69b'}.fa-person-half-dress::before{content:'\\e548'}.fa-road-bridge::before{content:'\\e563'}.fa-location-arrow::before{content:'\\f124'}.fa-c::before{content:'\\43'}.fa-tablet-button::before{content:'\\f10a'}.fa-building-lock::before{content:'\\e4d6'}.fa-pizza-slice::before{content:'\\f818'}.fa-money-bill-wave::before{content:'\\f53a'}.fa-chart-area::before{content:'\\f1fe'}.fa-area-chart::before{content:'\\f1fe'}.fa-house-flag::before{content:'\\e50d'}.fa-person-circle-minus::before{content:'\\e540'}.fa-ban::before{content:'\\f05e'}.fa-cancel::before{content:'\\f05e'}.fa-camera-rotate::before{content:'\\e0d8'}.fa-spray-can-sparkles::before{content:'\\f5d0'}.fa-air-freshener::before{content:'\\f5d0'}.fa-star::before{content:'\\f005'}.fa-repeat::before{content:'\\f363'}.fa-cross::before{content:'\\f654'}.fa-box::before{content:'\\f466'}.fa-venus-mars::before{content:'\\f228'}.fa-arrow-pointer::before{content:'\\f245'}.fa-mouse-pointer::before{content:'\\f245'}.fa-maximize::before{content:'\\f31e'}.fa-expand-arrows-alt::before{content:'\\f31e'}.fa-charging-station::before{content:'\\f5e7'}.fa-shapes::before{content:'\\f61f'}.fa-triangle-circle-square::before{content:'\\f61f'}.fa-shuffle::before{content:'\\f074'}.fa-random::before{content:'\\f074'}.fa-person-running::before{content:'\\f70c'}.fa-running::before{content:'\\f70c'}.fa-mobile-retro::before{content:'\\e527'}.fa-grip-lines-vertical::before{content:'\\f7a5'}.fa-spider::before{content:'\\f717'}.fa-hands-bound::before{content:'\\e4f9'}.fa-file-invoice-dollar::before{content:'\\f571'}.fa-plane-circle-exclamation::before{content:'\\e556'}.fa-x-ray::before{content:'\\f497'}.fa-spell-check::before{content:'\\f891'}.fa-slash::before{content:'\\f715'}.fa-computer-mouse::before{content:'\\f8cc'}.fa-mouse::before{content:'\\f8cc'}.fa-arrow-right-to-bracket::before{content:'\\f090'}.fa-sign-in::before{content:'\\f090'}.fa-shop-slash::before{content:'\\e070'}.fa-store-alt-slash::before{content:'\\e070'}.fa-server::before{content:'\\f233'}.fa-virus-covid-slash::before{content:'\\e4a9'}.fa-shop-lock::before{content:'\\e4a5'}.fa-hourglass-start::before{content:'\\f251'}.fa-hourglass-1::before{content:'\\f251'}.fa-blender-phone::before{content:'\\f6b6'}.fa-building-wheat::before{content:'\\e4db'}.fa-person-breastfeeding::before{content:'\\e53a'}.fa-right-to-bracket::before{content:'\\f2f6'}.fa-sign-in-alt::before{content:'\\f2f6'}.fa-venus::before{content:'\\f221'}.fa-passport::before{content:'\\f5ab'}.fa-thumbtack-slash::before{content:'\\e68f'}.fa-thumb-tack-slash::before{content:'\\e68f'}.fa-heart-pulse::before{content:'\\f21e'}.fa-heartbeat::before{content:'\\f21e'}.fa-people-carry-box::before{content:'\\f4ce'}.fa-people-carry::before{content:'\\f4ce'}.fa-temperature-high::before{content:'\\f769'}.fa-microchip::before{content:'\\f2db'}.fa-crown::before{content:'\\f521'}.fa-weight-hanging::before{content:'\\f5cd'}.fa-xmarks-lines::before{content:'\\e59a'}.fa-file-prescription::before{content:'\\f572'}.fa-weight-scale::before{content:'\\f496'}.fa-weight::before{content:'\\f496'}.fa-user-group::before{content:'\\f500'}.fa-user-friends::before{content:'\\f500'}.fa-arrow-up-a-z::before{content:'\\f15e'}.fa-sort-alpha-up::before{content:'\\f15e'}.fa-chess-knight::before{content:'\\f441'}.fa-face-laugh-squint::before{content:'\\f59b'}.fa-laugh-squint::before{content:'\\f59b'}.fa-wheelchair::before{content:'\\f193'}.fa-circle-arrow-up::before{content:'\\f0aa'}.fa-arrow-circle-up::before{content:'\\f0aa'}.fa-toggle-on::before{content:'\\f205'}.fa-person-walking::before{content:'\\f554'}.fa-walking::before{content:'\\f554'}.fa-l::before{content:'\\4c'}.fa-fire::before{content:'\\f06d'}.fa-bed-pulse::before{content:'\\f487'}.fa-procedures::before{content:'\\f487'}.fa-shuttle-space::before{content:'\\f197'}.fa-space-shuttle::before{content:'\\f197'}.fa-face-laugh::before{content:'\\f599'}.fa-laugh::before{content:'\\f599'}.fa-folder-open::before{content:'\\f07c'}.fa-heart-circle-plus::before{content:'\\e500'}.fa-code-fork::before{content:'\\e13b'}.fa-city::before{content:'\\f64f'}.fa-microphone-lines::before{content:'\\f3c9'}.fa-microphone-alt::before{content:'\\f3c9'}.fa-pepper-hot::before{content:'\\f816'}.fa-unlock::before{content:'\\f09c'}.fa-colon-sign::before{content:'\\e140'}.fa-headset::before{content:'\\f590'}.fa-store-slash::before{content:'\\e071'}.fa-road-circle-xmark::before{content:'\\e566'}.fa-user-minus::before{content:'\\f503'}.fa-mars-stroke-up::before{content:'\\f22a'}.fa-mars-stroke-v::before{content:'\\f22a'}.fa-champagne-glasses::before{content:'\\f79f'}.fa-glass-cheers::before{content:'\\f79f'}.fa-clipboard::before{content:'\\f328'}.fa-house-circle-exclamation::before{content:'\\e50a'}.fa-file-arrow-up::before{content:'\\f574'}.fa-file-upload::before{content:'\\f574'}.fa-wifi::before{content:'\\f1eb'}.fa-wifi-3::before{content:'\\f1eb'}.fa-wifi-strong::before{content:'\\f1eb'}.fa-bath::before{content:'\\f2cd'}.fa-bathtub::before{content:'\\f2cd'}.fa-underline::before{content:'\\f0cd'}.fa-user-pen::before{content:'\\f4ff'}.fa-user-edit::before{content:'\\f4ff'}.fa-signature::before{content:'\\f5b7'}.fa-stroopwafel::before{content:'\\f551'}.fa-bold::before{content:'\\f032'}.fa-anchor-lock::before{content:'\\e4ad'}.fa-building-ngo::before{content:'\\e4d7'}.fa-manat-sign::before{content:'\\e1d5'}.fa-not-equal::before{content:'\\f53e'}.fa-border-top-left::before{content:'\\f853'}.fa-border-style::before{content:'\\f853'}.fa-map-location-dot::before{content:'\\f5a0'}.fa-map-marked-alt::before{content:'\\f5a0'}.fa-jedi::before{content:'\\f669'}.fa-square-poll-vertical::before{content:'\\f681'}.fa-poll::before{content:'\\f681'}.fa-mug-hot::before{content:'\\f7b6'}.fa-car-battery::before{content:'\\f5df'}.fa-battery-car::before{content:'\\f5df'}.fa-gift::before{content:'\\f06b'}.fa-dice-two::before{content:'\\f528'}.fa-chess-queen::before{content:'\\f445'}.fa-glasses::before{content:'\\f530'}.fa-chess-board::before{content:'\\f43c'}.fa-building-circle-check::before{content:'\\e4d2'}.fa-person-chalkboard::before{content:'\\e53d'}.fa-mars-stroke-right::before{content:'\\f22b'}.fa-mars-stroke-h::before{content:'\\f22b'}.fa-hand-back-fist::before{content:'\\f255'}.fa-hand-rock::before{content:'\\f255'}.fa-square-caret-up::before{content:'\\f151'}.fa-caret-square-up::before{content:'\\f151'}.fa-cloud-showers-water::before{content:'\\e4e4'}.fa-chart-bar::before{content:'\\f080'}.fa-bar-chart::before{content:'\\f080'}.fa-hands-bubbles::before{content:'\\e05e'}.fa-hands-wash::before{content:'\\e05e'}.fa-less-than-equal::before{content:'\\f537'}.fa-train::before{content:'\\f238'}.fa-eye-low-vision::before{content:'\\f2a8'}.fa-low-vision::before{content:'\\f2a8'}.fa-crow::before{content:'\\f520'}.fa-sailboat::before{content:'\\e445'}.fa-window-restore::before{content:'\\f2d2'}.fa-square-plus::before{content:'\\f0fe'}.fa-plus-square::before{content:'\\f0fe'}.fa-torii-gate::before{content:'\\f6a1'}.fa-frog::before{content:'\\f52e'}.fa-bucket::before{content:'\\e4cf'}.fa-image::before{content:'\\f03e'}.fa-microphone::before{content:'\\f130'}.fa-cow::before{content:'\\f6c8'}.fa-caret-up::before{content:'\\f0d8'}.fa-screwdriver::before{content:'\\f54a'}.fa-folder-closed::before{content:'\\e185'}.fa-house-tsunami::before{content:'\\e515'}.fa-square-nfi::before{content:'\\e576'}.fa-arrow-up-from-ground-water::before{content:'\\e4b5'}.fa-martini-glass::before{content:'\\f57b'}.fa-glass-martini-alt::before{content:'\\f57b'}.fa-rotate-left::before{content:'\\f2ea'}.fa-rotate-back::before{content:'\\f2ea'}.fa-rotate-backward::before{content:'\\f2ea'}.fa-undo-alt::before{content:'\\f2ea'}.fa-table-columns::before{content:'\\f0db'}.fa-columns::before{content:'\\f0db'}.fa-lemon::before{content:'\\f094'}.fa-head-side-mask::before{content:'\\e063'}.fa-handshake::before{content:'\\f2b5'}.fa-gem::before{content:'\\f3a5'}.fa-dolly::before{content:'\\f472'}.fa-dolly-box::before{content:'\\f472'}.fa-smoking::before{content:'\\f48d'}.fa-minimize::before{content:'\\f78c'}.fa-compress-arrows-alt::before{content:'\\f78c'}.fa-monument::before{content:'\\f5a6'}.fa-snowplow::before{content:'\\f7d2'}.fa-angles-right::before{content:'\\f101'}.fa-angle-double-right::before{content:'\\f101'}.fa-cannabis::before{content:'\\f55f'}.fa-circle-play::before{content:'\\f144'}.fa-play-circle::before{content:'\\f144'}.fa-tablets::before{content:'\\f490'}.fa-ethernet::before{content:'\\f796'}.fa-euro-sign::before{content:'\\f153'}.fa-eur::before{content:'\\f153'}.fa-euro::before{content:'\\f153'}.fa-chair::before{content:'\\f6c0'}.fa-circle-check::before{content:'\\f058'}.fa-check-circle::before{content:'\\f058'}.fa-circle-stop::before{content:'\\f28d'}.fa-stop-circle::before{content:'\\f28d'}.fa-compass-drafting::before{content:'\\f568'}.fa-drafting-compass::before{content:'\\f568'}.fa-plate-wheat::before{content:'\\e55a'}.fa-icicles::before{content:'\\f7ad'}.fa-person-shelter::before{content:'\\e54f'}.fa-neuter::before{content:'\\f22c'}.fa-id-badge::before{content:'\\f2c1'}.fa-marker::before{content:'\\f5a1'}.fa-face-laugh-beam::before{content:'\\f59a'}.fa-laugh-beam::before{content:'\\f59a'}.fa-helicopter-symbol::before{content:'\\e502'}.fa-universal-access::before{content:'\\f29a'}.fa-circle-chevron-up::before{content:'\\f139'}.fa-chevron-circle-up::before{content:'\\f139'}.fa-lari-sign::before{content:'\\e1c8'}.fa-volcano::before{content:'\\f770'}.fa-person-walking-dashed-line-arrow-right::before{content:'\\e553'}.fa-sterling-sign::before{content:'\\f154'}.fa-gbp::before{content:'\\f154'}.fa-pound-sign::before{content:'\\f154'}.fa-viruses::before{content:'\\e076'}.fa-square-person-confined::before{content:'\\e577'}.fa-user-tie::before{content:'\\f508'}.fa-arrow-down-long::before{content:'\\f175'}.fa-long-arrow-down::before{content:'\\f175'}.fa-tent-arrow-down-to-line::before{content:'\\e57e'}.fa-certificate::before{content:'\\f0a3'}.fa-reply-all::before{content:'\\f122'}.fa-mail-reply-all::before{content:'\\f122'}.fa-suitcase::before{content:'\\f0f2'}.fa-person-skating::before{content:'\\f7c5'}.fa-skating::before{content:'\\f7c5'}.fa-filter-circle-dollar::before{content:'\\f662'}.fa-funnel-dollar::before{content:'\\f662'}.fa-camera-retro::before{content:'\\f083'}.fa-circle-arrow-down::before{content:'\\f0ab'}.fa-arrow-circle-down::before{content:'\\f0ab'}.fa-file-import::before{content:'\\f56f'}.fa-arrow-right-to-file::before{content:'\\f56f'}.fa-square-arrow-up-right::before{content:'\\f14c'}.fa-external-link-square::before{content:'\\f14c'}.fa-box-open::before{content:'\\f49e'}.fa-scroll::before{content:'\\f70e'}.fa-spa::before{content:'\\f5bb'}.fa-location-pin-lock::before{content:'\\e51f'}.fa-pause::before{content:'\\f04c'}.fa-hill-avalanche::before{content:'\\e507'}.fa-temperature-empty::before{content:'\\f2cb'}.fa-temperature-0::before{content:'\\f2cb'}.fa-thermometer-0::before{content:'\\f2cb'}.fa-thermometer-empty::before{content:'\\f2cb'}.fa-bomb::before{content:'\\f1e2'}.fa-registered::before{content:'\\f25d'}.fa-address-card::before{content:'\\f2bb'}.fa-contact-card::before{content:'\\f2bb'}.fa-vcard::before{content:'\\f2bb'}.fa-scale-unbalanced-flip::before{content:'\\f516'}.fa-balance-scale-right::before{content:'\\f516'}.fa-subscript::before{content:'\\f12c'}.fa-diamond-turn-right::before{content:'\\f5eb'}.fa-directions::before{content:'\\f5eb'}.fa-burst::before{content:'\\e4dc'}.fa-house-laptop::before{content:'\\e066'}.fa-laptop-house::before{content:'\\e066'}.fa-face-tired::before{content:'\\f5c8'}.fa-tired::before{content:'\\f5c8'}.fa-money-bills::before{content:'\\e1f3'}.fa-smog::before{content:'\\f75f'}.fa-crutch::before{content:'\\f7f7'}.fa-cloud-arrow-up::before{content:'\\f0ee'}.fa-cloud-upload::before{content:'\\f0ee'}.fa-cloud-upload-alt::before{content:'\\f0ee'}.fa-palette::before{content:'\\f53f'}.fa-arrows-turn-right::before{content:'\\e4c0'}.fa-vest::before{content:'\\e085'}.fa-ferry::before{content:'\\e4ea'}.fa-arrows-down-to-people::before{content:'\\e4b9'}.fa-seedling::before{content:'\\f4d8'}.fa-sprout::before{content:'\\f4d8'}.fa-left-right::before{content:'\\f337'}.fa-arrows-alt-h::before{content:'\\f337'}.fa-boxes-packing::before{content:'\\e4c7'}.fa-circle-arrow-left::before{content:'\\f0a8'}.fa-arrow-circle-left::before{content:'\\f0a8'}.fa-group-arrows-rotate::before{content:'\\e4f6'}.fa-bowl-food::before{content:'\\e4c6'}.fa-candy-cane::before{content:'\\f786'}.fa-arrow-down-wide-short::before{content:'\\f160'}.fa-sort-amount-asc::before{content:'\\f160'}.fa-sort-amount-down::before{content:'\\f160'}.fa-cloud-bolt::before{content:'\\f76c'}.fa-thunderstorm::before{content:'\\f76c'}.fa-text-slash::before{content:'\\f87d'}.fa-remove-format::before{content:'\\f87d'}.fa-face-smile-wink::before{content:'\\f4da'}.fa-smile-wink::before{content:'\\f4da'}.fa-file-word::before{content:'\\f1c2'}.fa-file-powerpoint::before{content:'\\f1c4'}.fa-arrows-left-right::before{content:'\\f07e'}.fa-arrows-h::before{content:'\\f07e'}.fa-house-lock::before{content:'\\e510'}.fa-cloud-arrow-down::before{content:'\\f0ed'}.fa-cloud-download::before{content:'\\f0ed'}.fa-cloud-download-alt::before{content:'\\f0ed'}.fa-children::before{content:'\\e4e1'}.fa-chalkboard::before{content:'\\f51b'}.fa-blackboard::before{content:'\\f51b'}.fa-user-large-slash::before{content:'\\f4fa'}.fa-user-alt-slash::before{content:'\\f4fa'}.fa-envelope-open::before{content:'\\f2b6'}.fa-handshake-simple-slash::before{content:'\\e05f'}.fa-handshake-alt-slash::before{content:'\\e05f'}.fa-mattress-pillow::before{content:'\\e525'}.fa-guarani-sign::before{content:'\\e19a'}.fa-arrows-rotate::before{content:'\\f021'}.fa-refresh::before{content:'\\f021'}.fa-sync::before{content:'\\f021'}.fa-fire-extinguisher::before{content:'\\f134'}.fa-cruzeiro-sign::before{content:'\\e152'}.fa-greater-than-equal::before{content:'\\f532'}.fa-shield-halved::before{content:'\\f3ed'}.fa-shield-alt::before{content:'\\f3ed'}.fa-book-atlas::before{content:'\\f558'}.fa-atlas::before{content:'\\f558'}.fa-virus::before{content:'\\e074'}.fa-envelope-circle-check::before{content:'\\e4e8'}.fa-layer-group::before{content:'\\f5fd'}.fa-arrows-to-dot::before{content:'\\e4be'}.fa-archway::before{content:'\\f557'}.fa-heart-circle-check::before{content:'\\e4fd'}.fa-house-chimney-crack::before{content:'\\f6f1'}.fa-house-damage::before{content:'\\f6f1'}.fa-file-zipper::before{content:'\\f1c6'}.fa-file-archive::before{content:'\\f1c6'}.fa-square::before{content:'\\f0c8'}.fa-martini-glass-empty::before{content:'\\f000'}.fa-glass-martini::before{content:'\\f000'}.fa-couch::before{content:'\\f4b8'}.fa-cedi-sign::before{content:'\\e0df'}.fa-italic::before{content:'\\f033'}.fa-table-cells-column-lock::before{content:'\\e678'}.fa-church::before{content:'\\f51d'}.fa-comments-dollar::before{content:'\\f653'}.fa-democrat::before{content:'\\f747'}.fa-z::before{content:'\\5a'}.fa-person-skiing::before{content:'\\f7c9'}.fa-skiing::before{content:'\\f7c9'}.fa-road-lock::before{content:'\\e567'}.fa-a::before{content:'\\41'}.fa-temperature-arrow-down::before{content:'\\e03f'}.fa-temperature-down::before{content:'\\e03f'}.fa-feather-pointed::before{content:'\\f56b'}.fa-feather-alt::before{content:'\\f56b'}.fa-p::before{content:'\\50'}.fa-snowflake::before{content:'\\f2dc'}.fa-newspaper::before{content:'\\f1ea'}.fa-rectangle-ad::before{content:'\\f641'}.fa-ad::before{content:'\\f641'}.fa-circle-arrow-right::before{content:'\\f0a9'}.fa-arrow-circle-right::before{content:'\\f0a9'}.fa-filter-circle-xmark::before{content:'\\e17b'}.fa-locust::before{content:'\\e520'}.fa-sort::before{content:'\\f0dc'}.fa-unsorted::before{content:'\\f0dc'}.fa-list-ol::before{content:'\\f0cb'}.fa-list-1-2::before{content:'\\f0cb'}.fa-list-numeric::before{content:'\\f0cb'}.fa-person-dress-burst::before{content:'\\e544'}.fa-money-check-dollar::before{content:'\\f53d'}.fa-money-check-alt::before{content:'\\f53d'}.fa-vector-square::before{content:'\\f5cb'}.fa-bread-slice::before{content:'\\f7ec'}.fa-language::before{content:'\\f1ab'}.fa-face-kiss-wink-heart::before{content:'\\f598'}.fa-kiss-wink-heart::before{content:'\\f598'}.fa-filter::before{content:'\\f0b0'}.fa-question::before{content:'\\3f'}.fa-file-signature::before{content:'\\f573'}.fa-up-down-left-right::before{content:'\\f0b2'}.fa-arrows-alt::before{content:'\\f0b2'}.fa-house-chimney-user::before{content:'\\e065'}.fa-hand-holding-heart::before{content:'\\f4be'}.fa-puzzle-piece::before{content:'\\f12e'}.fa-money-check::before{content:'\\f53c'}.fa-star-half-stroke::before{content:'\\f5c0'}.fa-star-half-alt::before{content:'\\f5c0'}.fa-code::before{content:'\\f121'}.fa-whiskey-glass::before{content:'\\f7a0'}.fa-glass-whiskey::before{content:'\\f7a0'}.fa-building-circle-exclamation::before{content:'\\e4d3'}.fa-magnifying-glass-chart::before{content:'\\e522'}.fa-arrow-up-right-from-square::before{content:'\\f08e'}.fa-external-link::before{content:'\\f08e'}.fa-cubes-stacked::before{content:'\\e4e6'}.fa-won-sign::before{content:'\\f159'}.fa-krw::before{content:'\\f159'}.fa-won::before{content:'\\f159'}.fa-virus-covid::before{content:'\\e4a8'}.fa-austral-sign::before{content:'\\e0a9'}.fa-f::before{content:'\\46'}.fa-leaf::before{content:'\\f06c'}.fa-road::before{content:'\\f018'}.fa-taxi::before{content:'\\f1ba'}.fa-cab::before{content:'\\f1ba'}.fa-person-circle-plus::before{content:'\\e541'}.fa-chart-pie::before{content:'\\f200'}.fa-pie-chart::before{content:'\\f200'}.fa-bolt-lightning::before{content:'\\e0b7'}.fa-sack-xmark::before{content:'\\e56a'}.fa-file-excel::before{content:'\\f1c3'}.fa-file-contract::before{content:'\\f56c'}.fa-fish-fins::before{content:'\\e4f2'}.fa-building-flag::before{content:'\\e4d5'}.fa-face-grin-beam::before{content:'\\f582'}.fa-grin-beam::before{content:'\\f582'}.fa-object-ungroup::before{content:'\\f248'}.fa-poop::before{content:'\\f619'}.fa-location-pin::before{content:'\\f041'}.fa-map-marker::before{content:'\\f041'}.fa-kaaba::before{content:'\\f66b'}.fa-toilet-paper::before{content:'\\f71e'}.fa-helmet-safety::before{content:'\\f807'}.fa-hard-hat::before{content:'\\f807'}.fa-hat-hard::before{content:'\\f807'}.fa-eject::before{content:'\\f052'}.fa-circle-right::before{content:'\\f35a'}.fa-arrow-alt-circle-right::before{content:'\\f35a'}.fa-plane-circle-check::before{content:'\\e555'}.fa-face-rolling-eyes::before{content:'\\f5a5'}.fa-meh-rolling-eyes::before{content:'\\f5a5'}.fa-object-group::before{content:'\\f247'}.fa-chart-line::before{content:'\\f201'}.fa-line-chart::before{content:'\\f201'}.fa-mask-ventilator::before{content:'\\e524'}.fa-arrow-right::before{content:'\\f061'}.fa-signs-post::before{content:'\\f277'}.fa-map-signs::before{content:'\\f277'}.fa-cash-register::before{content:'\\f788'}.fa-person-circle-question::before{content:'\\e542'}.fa-h::before{content:'\\48'}.fa-tarp::before{content:'\\e57b'}.fa-screwdriver-wrench::before{content:'\\f7d9'}.fa-tools::before{content:'\\f7d9'}.fa-arrows-to-eye::before{content:'\\e4bf'}.fa-plug-circle-bolt::before{content:'\\e55b'}.fa-heart::before{content:'\\f004'}.fa-mars-and-venus::before{content:'\\f224'}.fa-house-user::before{content:'\\e1b0'}.fa-home-user::before{content:'\\e1b0'}.fa-dumpster-fire::before{content:'\\f794'}.fa-house-crack::before{content:'\\e3b1'}.fa-martini-glass-citrus::before{content:'\\f561'}.fa-cocktail::before{content:'\\f561'}.fa-face-surprise::before{content:'\\f5c2'}.fa-surprise::before{content:'\\f5c2'}.fa-bottle-water::before{content:'\\e4c5'}.fa-circle-pause::before{content:'\\f28b'}.fa-pause-circle::before{content:'\\f28b'}.fa-toilet-paper-slash::before{content:'\\e072'}.fa-apple-whole::before{content:'\\f5d1'}.fa-apple-alt::before{content:'\\f5d1'}.fa-kitchen-set::before{content:'\\e51a'}.fa-r::before{content:'\\52'}.fa-temperature-quarter::before{content:'\\f2ca'}.fa-temperature-1::before{content:'\\f2ca'}.fa-thermometer-1::before{content:'\\f2ca'}.fa-thermometer-quarter::before{content:'\\f2ca'}.fa-cube::before{content:'\\f1b2'}.fa-bitcoin-sign::before{content:'\\e0b4'}.fa-shield-dog::before{content:'\\e573'}.fa-solar-panel::before{content:'\\f5ba'}.fa-lock-open::before{content:'\\f3c1'}.fa-elevator::before{content:'\\e16d'}.fa-money-bill-transfer::before{content:'\\e528'}.fa-money-bill-trend-up::before{content:'\\e529'}.fa-house-flood-water-circle-arrow-right::before{content:'\\e50f'}.fa-square-poll-horizontal::before{content:'\\f682'}.fa-poll-h::before{content:'\\f682'}.fa-circle::before{content:'\\f111'}.fa-backward-fast::before{content:'\\f049'}.fa-fast-backward::before{content:'\\f049'}.fa-recycle::before{content:'\\f1b8'}.fa-user-astronaut::before{content:'\\f4fb'}.fa-plane-slash::before{content:'\\e069'}.fa-trademark::before{content:'\\f25c'}.fa-basketball::before{content:'\\f434'}.fa-basketball-ball::before{content:'\\f434'}.fa-satellite-dish::before{content:'\\f7c0'}.fa-circle-up::before{content:'\\f35b'}.fa-arrow-alt-circle-up::before{content:'\\f35b'}.fa-mobile-screen-button::before{content:'\\f3cd'}.fa-mobile-alt::before{content:'\\f3cd'}.fa-volume-high::before{content:'\\f028'}.fa-volume-up::before{content:'\\f028'}.fa-users-rays::before{content:'\\e593'}.fa-wallet::before{content:'\\f555'}.fa-clipboard-check::before{content:'\\f46c'}.fa-file-audio::before{content:'\\f1c7'}.fa-burger::before{content:'\\f805'}.fa-hamburger::before{content:'\\f805'}.fa-wrench::before{content:'\\f0ad'}.fa-bugs::before{content:'\\e4d0'}.fa-rupee-sign::before{content:'\\f156'}.fa-rupee::before{content:'\\f156'}.fa-file-image::before{content:'\\f1c5'}.fa-circle-question::before{content:'\\f059'}.fa-question-circle::before{content:'\\f059'}.fa-plane-departure::before{content:'\\f5b0'}.fa-handshake-slash::before{content:'\\e060'}.fa-book-bookmark::before{content:'\\e0bb'}.fa-code-branch::before{content:'\\f126'}.fa-hat-cowboy::before{content:'\\f8c0'}.fa-bridge::before{content:'\\e4c8'}.fa-phone-flip::before{content:'\\f879'}.fa-phone-alt::before{content:'\\f879'}.fa-truck-front::before{content:'\\e2b7'}.fa-cat::before{content:'\\f6be'}.fa-anchor-circle-exclamation::before{content:'\\e4ab'}.fa-truck-field::before{content:'\\e58d'}.fa-route::before{content:'\\f4d7'}.fa-clipboard-question::before{content:'\\e4e3'}.fa-panorama::before{content:'\\e209'}.fa-comment-medical::before{content:'\\f7f5'}.fa-teeth-open::before{content:'\\f62f'}.fa-file-circle-minus::before{content:'\\e4ed'}.fa-tags::before{content:'\\f02c'}.fa-wine-glass::before{content:'\\f4e3'}.fa-forward-fast::before{content:'\\f050'}.fa-fast-forward::before{content:'\\f050'}.fa-face-meh-blank::before{content:'\\f5a4'}.fa-meh-blank::before{content:'\\f5a4'}.fa-square-parking::before{content:'\\f540'}.fa-parking::before{content:'\\f540'}.fa-house-signal::before{content:'\\e012'}.fa-bars-progress::before{content:'\\f828'}.fa-tasks-alt::before{content:'\\f828'}.fa-faucet-drip::before{content:'\\e006'}.fa-cart-flatbed::before{content:'\\f474'}.fa-dolly-flatbed::before{content:'\\f474'}.fa-ban-smoking::before{content:'\\f54d'}.fa-smoking-ban::before{content:'\\f54d'}.fa-terminal::before{content:'\\f120'}.fa-mobile-button::before{content:'\\f10b'}.fa-house-medical-flag::before{content:'\\e514'}.fa-basket-shopping::before{content:'\\f291'}.fa-shopping-basket::before{content:'\\f291'}.fa-tape::before{content:'\\f4db'}.fa-bus-simple::before{content:'\\f55e'}.fa-bus-alt::before{content:'\\f55e'}.fa-eye::before{content:'\\f06e'}.fa-face-sad-cry::before{content:'\\f5b3'}.fa-sad-cry::before{content:'\\f5b3'}.fa-audio-description::before{content:'\\f29e'}.fa-person-military-to-person::before{content:'\\e54c'}.fa-file-shield::before{content:'\\e4f0'}.fa-user-slash::before{content:'\\f506'}.fa-pen::before{content:'\\f304'}.fa-tower-observation::before{content:'\\e586'}.fa-file-code::before{content:'\\f1c9'}.fa-signal::before{content:'\\f012'}.fa-signal-5::before{content:'\\f012'}.fa-signal-perfect::before{content:'\\f012'}.fa-bus::before{content:'\\f207'}.fa-heart-circle-xmark::before{content:'\\e501'}.fa-house-chimney::before{content:'\\e3af'}.fa-home-lg::before{content:'\\e3af'}.fa-window-maximize::before{content:'\\f2d0'}.fa-face-frown::before{content:'\\f119'}.fa-frown::before{content:'\\f119'}.fa-prescription::before{content:'\\f5b1'}.fa-shop::before{content:'\\f54f'}.fa-store-alt::before{content:'\\f54f'}.fa-floppy-disk::before{content:'\\f0c7'}.fa-save::before{content:'\\f0c7'}.fa-vihara::before{content:'\\f6a7'}.fa-scale-unbalanced::before{content:'\\f515'}.fa-balance-scale-left::before{content:'\\f515'}.fa-sort-up::before{content:'\\f0de'}.fa-sort-asc::before{content:'\\f0de'}.fa-comment-dots::before{content:'\\f4ad'}.fa-commenting::before{content:'\\f4ad'}.fa-plant-wilt::before{content:'\\e5aa'}.fa-diamond::before{content:'\\f219'}.fa-face-grin-squint::before{content:'\\f585'}.fa-grin-squint::before{content:'\\f585'}.fa-hand-holding-dollar::before{content:'\\f4c0'}.fa-hand-holding-usd::before{content:'\\f4c0'}.fa-bacterium::before{content:'\\e05a'}.fa-hand-pointer::before{content:'\\f25a'}.fa-drum-steelpan::before{content:'\\f56a'}.fa-hand-scissors::before{content:'\\f257'}.fa-hands-praying::before{content:'\\f684'}.fa-praying-hands::before{content:'\\f684'}.fa-arrow-rotate-right::before{content:'\\f01e'}.fa-arrow-right-rotate::before{content:'\\f01e'}.fa-arrow-rotate-forward::before{content:'\\f01e'}.fa-redo::before{content:'\\f01e'}.fa-biohazard::before{content:'\\f780'}.fa-location-crosshairs::before{content:'\\f601'}.fa-location::before{content:'\\f601'}.fa-mars-double::before{content:'\\f227'}.fa-child-dress::before{content:'\\e59c'}.fa-users-between-lines::before{content:'\\e591'}.fa-lungs-virus::before{content:'\\e067'}.fa-face-grin-tears::before{content:'\\f588'}.fa-grin-tears::before{content:'\\f588'}.fa-phone::before{content:'\\f095'}.fa-calendar-xmark::before{content:'\\f273'}.fa-calendar-times::before{content:'\\f273'}.fa-child-reaching::before{content:'\\e59d'}.fa-head-side-virus::before{content:'\\e064'}.fa-user-gear::before{content:'\\f4fe'}.fa-user-cog::before{content:'\\f4fe'}.fa-arrow-up-1-9::before{content:'\\f163'}.fa-sort-numeric-up::before{content:'\\f163'}.fa-door-closed::before{content:'\\f52a'}.fa-shield-virus::before{content:'\\e06c'}.fa-dice-six::before{content:'\\f526'}.fa-mosquito-net::before{content:'\\e52c'}.fa-bridge-water::before{content:'\\e4ce'}.fa-person-booth::before{content:'\\f756'}.fa-text-width::before{content:'\\f035'}.fa-hat-wizard::before{content:'\\f6e8'}.fa-pen-fancy::before{content:'\\f5ac'}.fa-person-digging::before{content:'\\f85e'}.fa-digging::before{content:'\\f85e'}.fa-trash::before{content:'\\f1f8'}.fa-gauge-simple::before{content:'\\f629'}.fa-gauge-simple-med::before{content:'\\f629'}.fa-tachometer-average::before{content:'\\f629'}.fa-book-medical::before{content:'\\f7e6'}.fa-poo::before{content:'\\f2fe'}.fa-quote-right::before{content:'\\f10e'}.fa-quote-right-alt::before{content:'\\f10e'}.fa-shirt::before{content:'\\f553'}.fa-t-shirt::before{content:'\\f553'}.fa-tshirt::before{content:'\\f553'}.fa-cubes::before{content:'\\f1b3'}.fa-divide::before{content:'\\f529'}.fa-tenge-sign::before{content:'\\f7d7'}.fa-tenge::before{content:'\\f7d7'}.fa-headphones::before{content:'\\f025'}.fa-hands-holding::before{content:'\\f4c2'}.fa-hands-clapping::before{content:'\\e1a8'}.fa-republican::before{content:'\\f75e'}.fa-arrow-left::before{content:'\\f060'}.fa-person-circle-xmark::before{content:'\\e543'}.fa-ruler::before{content:'\\f545'}.fa-align-left::before{content:'\\f036'}.fa-dice-d6::before{content:'\\f6d1'}.fa-restroom::before{content:'\\f7bd'}.fa-j::before{content:'\\4a'}.fa-users-viewfinder::before{content:'\\e595'}.fa-file-video::before{content:'\\f1c8'}.fa-up-right-from-square::before{content:'\\f35d'}.fa-external-link-alt::before{content:'\\f35d'}.fa-table-cells::before{content:'\\f00a'}.fa-th::before{content:'\\f00a'}.fa-file-pdf::before{content:'\\f1c1'}.fa-book-bible::before{content:'\\f647'}.fa-bible::before{content:'\\f647'}.fa-o::before{content:'\\4f'}.fa-suitcase-medical::before{content:'\\f0fa'}.fa-medkit::before{content:'\\f0fa'}.fa-user-secret::before{content:'\\f21b'}.fa-otter::before{content:'\\f700'}.fa-person-dress::before{content:'\\f182'}.fa-female::before{content:'\\f182'}.fa-comment-dollar::before{content:'\\f651'}.fa-business-time::before{content:'\\f64a'}.fa-briefcase-clock::before{content:'\\f64a'}.fa-table-cells-large::before{content:'\\f009'}.fa-th-large::before{content:'\\f009'}.fa-book-tanakh::before{content:'\\f827'}.fa-tanakh::before{content:'\\f827'}.fa-phone-volume::before{content:'\\f2a0'}.fa-volume-control-phone::before{content:'\\f2a0'}.fa-hat-cowboy-side::before{content:'\\f8c1'}.fa-clipboard-user::before{content:'\\f7f3'}.fa-child::before{content:'\\f1ae'}.fa-lira-sign::before{content:'\\f195'}.fa-satellite::before{content:'\\f7bf'}.fa-plane-lock::before{content:'\\e558'}.fa-tag::before{content:'\\f02b'}.fa-comment::before{content:'\\f075'}.fa-cake-candles::before{content:'\\f1fd'}.fa-birthday-cake::before{content:'\\f1fd'}.fa-cake::before{content:'\\f1fd'}.fa-envelope::before{content:'\\f0e0'}.fa-angles-up::before{content:'\\f102'}.fa-angle-double-up::before{content:'\\f102'}.fa-paperclip::before{content:'\\f0c6'}.fa-arrow-right-to-city::before{content:'\\e4b3'}.fa-ribbon::before{content:'\\f4d6'}.fa-lungs::before{content:'\\f604'}.fa-arrow-up-9-1::before{content:'\\f887'}.fa-sort-numeric-up-alt::before{content:'\\f887'}.fa-litecoin-sign::before{content:'\\e1d3'}.fa-border-none::before{content:'\\f850'}.fa-circle-nodes::before{content:'\\e4e2'}.fa-parachute-box::before{content:'\\f4cd'}.fa-indent::before{content:'\\f03c'}.fa-truck-field-un::before{content:'\\e58e'}.fa-hourglass::before{content:'\\f254'}.fa-hourglass-empty::before{content:'\\f254'}.fa-mountain::before{content:'\\f6fc'}.fa-user-doctor::before{content:'\\f0f0'}.fa-user-md::before{content:'\\f0f0'}.fa-circle-info::before{content:'\\f05a'}.fa-info-circle::before{content:'\\f05a'}.fa-cloud-meatball::before{content:'\\f73b'}.fa-camera::before{content:'\\f030'}.fa-camera-alt::before{content:'\\f030'}.fa-square-virus::before{content:'\\e578'}.fa-meteor::before{content:'\\f753'}.fa-car-on::before{content:'\\e4dd'}.fa-sleigh::before{content:'\\f7cc'}.fa-arrow-down-1-9::before{content:'\\f162'}.fa-sort-numeric-asc::before{content:'\\f162'}.fa-sort-numeric-down::before{content:'\\f162'}.fa-hand-holding-droplet::before{content:'\\f4c1'}.fa-hand-holding-water::before{content:'\\f4c1'}.fa-water::before{content:'\\f773'}.fa-calendar-check::before{content:'\\f274'}.fa-braille::before{content:'\\f2a1'}.fa-prescription-bottle-medical::before{content:'\\f486'}.fa-prescription-bottle-alt::before{content:'\\f486'}.fa-landmark::before{content:'\\f66f'}.fa-truck::before{content:'\\f0d1'}.fa-crosshairs::before{content:'\\f05b'}.fa-person-cane::before{content:'\\e53c'}.fa-tent::before{content:'\\e57d'}.fa-vest-patches::before{content:'\\e086'}.fa-check-double::before{content:'\\f560'}.fa-arrow-down-a-z::before{content:'\\f15d'}.fa-sort-alpha-asc::before{content:'\\f15d'}.fa-sort-alpha-down::before{content:'\\f15d'}.fa-money-bill-wheat::before{content:'\\e52a'}.fa-cookie::before{content:'\\f563'}.fa-arrow-rotate-left::before{content:'\\f0e2'}.fa-arrow-left-rotate::before{content:'\\f0e2'}.fa-arrow-rotate-back::before{content:'\\f0e2'}.fa-arrow-rotate-backward::before{content:'\\f0e2'}.fa-undo::before{content:'\\f0e2'}.fa-hard-drive::before{content:'\\f0a0'}.fa-hdd::before{content:'\\f0a0'}.fa-face-grin-squint-tears::before{content:'\\f586'}.fa-grin-squint-tears::before{content:'\\f586'}.fa-dumbbell::before{content:'\\f44b'}.fa-rectangle-list::before{content:'\\f022'}.fa-list-alt::before{content:'\\f022'}.fa-tarp-droplet::before{content:'\\e57c'}.fa-house-medical-circle-check::before{content:'\\e511'}.fa-person-skiing-nordic::before{content:'\\f7ca'}.fa-skiing-nordic::before{content:'\\f7ca'}.fa-calendar-plus::before{content:'\\f271'}.fa-plane-arrival::before{content:'\\f5af'}.fa-circle-left::before{content:'\\f359'}.fa-arrow-alt-circle-left::before{content:'\\f359'}.fa-train-subway::before{content:'\\f239'}.fa-subway::before{content:'\\f239'}.fa-chart-gantt::before{content:'\\e0e4'}.fa-indian-rupee-sign::before{content:'\\e1bc'}.fa-indian-rupee::before{content:'\\e1bc'}.fa-inr::before{content:'\\e1bc'}.fa-crop-simple::before{content:'\\f565'}.fa-crop-alt::before{content:'\\f565'}.fa-money-bill-1::before{content:'\\f3d1'}.fa-money-bill-alt::before{content:'\\f3d1'}.fa-left-long::before{content:'\\f30a'}.fa-long-arrow-alt-left::before{content:'\\f30a'}.fa-dna::before{content:'\\f471'}.fa-virus-slash::before{content:'\\e075'}.fa-minus::before{content:'\\f068'}.fa-subtract::before{content:'\\f068'}.fa-chess::before{content:'\\f439'}.fa-arrow-left-long::before{content:'\\f177'}.fa-long-arrow-left::before{content:'\\f177'}.fa-plug-circle-check::before{content:'\\e55c'}.fa-street-view::before{content:'\\f21d'}.fa-franc-sign::before{content:'\\e18f'}.fa-volume-off::before{content:'\\f026'}.fa-hands-asl-interpreting::before{content:'\\f2a3'}.fa-american-sign-language-interpreting::before{content:'\\f2a3'}.fa-asl-interpreting::before{content:'\\f2a3'}.fa-hands-american-sign-language-interpreting::before{content:'\\f2a3'}.fa-gear::before{content:'\\f013'}.fa-cog::before{content:'\\f013'}.fa-droplet-slash::before{content:'\\f5c7'}.fa-tint-slash::before{content:'\\f5c7'}.fa-mosque::before{content:'\\f678'}.fa-mosquito::before{content:'\\e52b'}.fa-star-of-david::before{content:'\\f69a'}.fa-person-military-rifle::before{content:'\\e54b'}.fa-cart-shopping::before{content:'\\f07a'}.fa-shopping-cart::before{content:'\\f07a'}.fa-vials::before{content:'\\f493'}.fa-plug-circle-plus::before{content:'\\e55f'}.fa-place-of-worship::before{content:'\\f67f'}.fa-grip-vertical::before{content:'\\f58e'}.fa-arrow-turn-up::before{content:'\\f148'}.fa-level-up::before{content:'\\f148'}.fa-u::before{content:'\\55'}.fa-square-root-variable::before{content:'\\f698'}.fa-square-root-alt::before{content:'\\f698'}.fa-clock::before{content:'\\f017'}.fa-clock-four::before{content:'\\f017'}.fa-backward-step::before{content:'\\f048'}.fa-step-backward::before{content:'\\f048'}.fa-pallet::before{content:'\\f482'}.fa-faucet::before{content:'\\e005'}.fa-baseball-bat-ball::before{content:'\\f432'}.fa-s::before{content:'\\53'}.fa-timeline::before{content:'\\e29c'}.fa-keyboard::before{content:'\\f11c'}.fa-caret-down::before{content:'\\f0d7'}.fa-house-chimney-medical::before{content:'\\f7f2'}.fa-clinic-medical::before{content:'\\f7f2'}.fa-temperature-three-quarters::before{content:'\\f2c8'}.fa-temperature-3::before{content:'\\f2c8'}.fa-thermometer-3::before{content:'\\f2c8'}.fa-thermometer-three-quarters::before{content:'\\f2c8'}.fa-mobile-screen::before{content:'\\f3cf'}.fa-mobile-android-alt::before{content:'\\f3cf'}.fa-plane-up::before{content:'\\e22d'}.fa-piggy-bank::before{content:'\\f4d3'}.fa-battery-half::before{content:'\\f242'}.fa-battery-3::before{content:'\\f242'}.fa-mountain-city::before{content:'\\e52e'}.fa-coins::before{content:'\\f51e'}.fa-khanda::before{content:'\\f66d'}.fa-sliders::before{content:'\\f1de'}.fa-sliders-h::before{content:'\\f1de'}.fa-folder-tree::before{content:'\\f802'}.fa-network-wired::before{content:'\\f6ff'}.fa-map-pin::before{content:'\\f276'}.fa-hamsa::before{content:'\\f665'}.fa-cent-sign::before{content:'\\e3f5'}.fa-flask::before{content:'\\f0c3'}.fa-person-pregnant::before{content:'\\e31e'}.fa-wand-sparkles::before{content:'\\f72b'}.fa-ellipsis-vertical::before{content:'\\f142'}.fa-ellipsis-v::before{content:'\\f142'}.fa-ticket::before{content:'\\f145'}.fa-power-off::before{content:'\\f011'}.fa-right-long::before{content:'\\f30b'}.fa-long-arrow-alt-right::before{content:'\\f30b'}.fa-flag-usa::before{content:'\\f74d'}.fa-laptop-file::before{content:'\\e51d'}.fa-tty::before{content:'\\f1e4'}.fa-teletype::before{content:'\\f1e4'}.fa-diagram-next::before{content:'\\e476'}.fa-person-rifle::before{content:'\\e54e'}.fa-house-medical-circle-exclamation::before{content:'\\e512'}.fa-closed-captioning::before{content:'\\f20a'}.fa-person-hiking::before{content:'\\f6ec'}.fa-hiking::before{content:'\\f6ec'}.fa-venus-double::before{content:'\\f226'}.fa-images::before{content:'\\f302'}.fa-calculator::before{content:'\\f1ec'}.fa-people-pulling::before{content:'\\e535'}.fa-n::before{content:'\\4e'}.fa-cable-car::before{content:'\\f7da'}.fa-tram::before{content:'\\f7da'}.fa-cloud-rain::before{content:'\\f73d'}.fa-building-circle-xmark::before{content:'\\e4d4'}.fa-ship::before{content:'\\f21a'}.fa-arrows-down-to-line::before{content:'\\e4b8'}.fa-download::before{content:'\\f019'}.fa-face-grin::before{content:'\\f580'}.fa-grin::before{content:'\\f580'}.fa-delete-left::before{content:'\\f55a'}.fa-backspace::before{content:'\\f55a'}.fa-eye-dropper::before{content:'\\f1fb'}.fa-eye-dropper-empty::before{content:'\\f1fb'}.fa-eyedropper::before{content:'\\f1fb'}.fa-file-circle-check::before{content:'\\e5a0'}.fa-forward::before{content:'\\f04e'}.fa-mobile::before{content:'\\f3ce'}.fa-mobile-android::before{content:'\\f3ce'}.fa-mobile-phone::before{content:'\\f3ce'}.fa-face-meh::before{content:'\\f11a'}.fa-meh::before{content:'\\f11a'}.fa-align-center::before{content:'\\f037'}.fa-book-skull::before{content:'\\f6b7'}.fa-book-dead::before{content:'\\f6b7'}.fa-id-card::before{content:'\\f2c2'}.fa-drivers-license::before{content:'\\f2c2'}.fa-outdent::before{content:'\\f03b'}.fa-dedent::before{content:'\\f03b'}.fa-heart-circle-exclamation::before{content:'\\e4fe'}.fa-house::before{content:'\\f015'}.fa-home::before{content:'\\f015'}.fa-home-alt::before{content:'\\f015'}.fa-home-lg-alt::before{content:'\\f015'}.fa-calendar-week::before{content:'\\f784'}.fa-laptop-medical::before{content:'\\f812'}.fa-b::before{content:'\\42'}.fa-file-medical::before{content:'\\f477'}.fa-dice-one::before{content:'\\f525'}.fa-kiwi-bird::before{content:'\\f535'}.fa-arrow-right-arrow-left::before{content:'\\f0ec'}.fa-exchange::before{content:'\\f0ec'}.fa-rotate-right::before{content:'\\f2f9'}.fa-redo-alt::before{content:'\\f2f9'}.fa-rotate-forward::before{content:'\\f2f9'}.fa-utensils::before{content:'\\f2e7'}.fa-cutlery::before{content:'\\f2e7'}.fa-arrow-up-wide-short::before{content:'\\f161'}.fa-sort-amount-up::before{content:'\\f161'}.fa-mill-sign::before{content:'\\e1ed'}.fa-bowl-rice::before{content:'\\e2eb'}.fa-skull::before{content:'\\f54c'}.fa-tower-broadcast::before{content:'\\f519'}.fa-broadcast-tower::before{content:'\\f519'}.fa-truck-pickup::before{content:'\\f63c'}.fa-up-long::before{content:'\\f30c'}.fa-long-arrow-alt-up::before{content:'\\f30c'}.fa-stop::before{content:'\\f04d'}.fa-code-merge::before{content:'\\f387'}.fa-upload::before{content:'\\f093'}.fa-hurricane::before{content:'\\f751'}.fa-mound::before{content:'\\e52d'}.fa-toilet-portable::before{content:'\\e583'}.fa-compact-disc::before{content:'\\f51f'}.fa-file-arrow-down::before{content:'\\f56d'}.fa-file-download::before{content:'\\f56d'}.fa-caravan::before{content:'\\f8ff'}.fa-shield-cat::before{content:'\\e572'}.fa-bolt::before{content:'\\f0e7'}.fa-zap::before{content:'\\f0e7'}.fa-glass-water::before{content:'\\e4f4'}.fa-oil-well::before{content:'\\e532'}.fa-vault::before{content:'\\e2c5'}.fa-mars::before{content:'\\f222'}.fa-toilet::before{content:'\\f7d8'}.fa-plane-circle-xmark::before{content:'\\e557'}.fa-yen-sign::before{content:'\\f157'}.fa-cny::before{content:'\\f157'}.fa-jpy::before{content:'\\f157'}.fa-rmb::before{content:'\\f157'}.fa-yen::before{content:'\\f157'}.fa-ruble-sign::before{content:'\\f158'}.fa-rouble::before{content:'\\f158'}.fa-rub::before{content:'\\f158'}.fa-ruble::before{content:'\\f158'}.fa-sun::before{content:'\\f185'}.fa-guitar::before{content:'\\f7a6'}.fa-face-laugh-wink::before{content:'\\f59c'}.fa-laugh-wink::before{content:'\\f59c'}.fa-horse-head::before{content:'\\f7ab'}.fa-bore-hole::before{content:'\\e4c3'}.fa-industry::before{content:'\\f275'}.fa-circle-down::before{content:'\\f358'}.fa-arrow-alt-circle-down::before{content:'\\f358'}.fa-arrows-turn-to-dots::before{content:'\\e4c1'}.fa-florin-sign::before{content:'\\e184'}.fa-arrow-down-short-wide::before{content:'\\f884'}.fa-sort-amount-desc::before{content:'\\f884'}.fa-sort-amount-down-alt::before{content:'\\f884'}.fa-less-than::before{content:'\\3c'}.fa-angle-down::before{content:'\\f107'}.fa-car-tunnel::before{content:'\\e4de'}.fa-head-side-cough::before{content:'\\e061'}.fa-grip-lines::before{content:'\\f7a4'}.fa-thumbs-down::before{content:'\\f165'}.fa-user-lock::before{content:'\\f502'}.fa-arrow-right-long::before{content:'\\f178'}.fa-long-arrow-right::before{content:'\\f178'}.fa-anchor-circle-xmark::before{content:'\\e4ac'}.fa-ellipsis::before{content:'\\f141'}.fa-ellipsis-h::before{content:'\\f141'}.fa-chess-pawn::before{content:'\\f443'}.fa-kit-medical::before{content:'\\f479'}.fa-first-aid::before{content:'\\f479'}.fa-person-through-window::before{content:'\\e5a9'}.fa-toolbox::before{content:'\\f552'}.fa-hands-holding-circle::before{content:'\\e4fb'}.fa-bug::before{content:'\\f188'}.fa-credit-card::before{content:'\\f09d'}.fa-credit-card-alt::before{content:'\\f09d'}.fa-car::before{content:'\\f1b9'}.fa-automobile::before{content:'\\f1b9'}.fa-hand-holding-hand::before{content:'\\e4f7'}.fa-book-open-reader::before{content:'\\f5da'}.fa-book-reader::before{content:'\\f5da'}.fa-mountain-sun::before{content:'\\e52f'}.fa-arrows-left-right-to-line::before{content:'\\e4ba'}.fa-dice-d20::before{content:'\\f6cf'}.fa-truck-droplet::before{content:'\\e58c'}.fa-file-circle-xmark::before{content:'\\e5a1'}.fa-temperature-arrow-up::before{content:'\\e040'}.fa-temperature-up::before{content:'\\e040'}.fa-medal::before{content:'\\f5a2'}.fa-bed::before{content:'\\f236'}.fa-square-h::before{content:'\\f0fd'}.fa-h-square::before{content:'\\f0fd'}.fa-podcast::before{content:'\\f2ce'}.fa-temperature-full::before{content:'\\f2c7'}.fa-temperature-4::before{content:'\\f2c7'}.fa-thermometer-4::before{content:'\\f2c7'}.fa-thermometer-full::before{content:'\\f2c7'}.fa-bell::before{content:'\\f0f3'}.fa-superscript::before{content:'\\f12b'}.fa-plug-circle-xmark::before{content:'\\e560'}.fa-star-of-life::before{content:'\\f621'}.fa-phone-slash::before{content:'\\f3dd'}.fa-paint-roller::before{content:'\\f5aa'}.fa-handshake-angle::before{content:'\\f4c4'}.fa-hands-helping::before{content:'\\f4c4'}.fa-location-dot::before{content:'\\f3c5'}.fa-map-marker-alt::before{content:'\\f3c5'}.fa-file::before{content:'\\f15b'}.fa-greater-than::before{content:'\\3e'}.fa-person-swimming::before{content:'\\f5c4'}.fa-swimmer::before{content:'\\f5c4'}.fa-arrow-down::before{content:'\\f063'}.fa-droplet::before{content:'\\f043'}.fa-tint::before{content:'\\f043'}.fa-eraser::before{content:'\\f12d'}.fa-earth-americas::before{content:'\\f57d'}.fa-earth::before{content:'\\f57d'}.fa-earth-america::before{content:'\\f57d'}.fa-globe-americas::before{content:'\\f57d'}.fa-person-burst::before{content:'\\e53b'}.fa-dove::before{content:'\\f4ba'}.fa-battery-empty::before{content:'\\f244'}.fa-battery-0::before{content:'\\f244'}.fa-socks::before{content:'\\f696'}.fa-inbox::before{content:'\\f01c'}.fa-section::before{content:'\\e447'}.fa-gauge-high::before{content:'\\f625'}.fa-tachometer-alt::before{content:'\\f625'}.fa-tachometer-alt-fast::before{content:'\\f625'}.fa-envelope-open-text::before{content:'\\f658'}.fa-hospital::before{content:'\\f0f8'}.fa-hospital-alt::before{content:'\\f0f8'}.fa-hospital-wide::before{content:'\\f0f8'}.fa-wine-bottle::before{content:'\\f72f'}.fa-chess-rook::before{content:'\\f447'}.fa-bars-staggered::before{content:'\\f550'}.fa-reorder::before{content:'\\f550'}.fa-stream::before{content:'\\f550'}.fa-dharmachakra::before{content:'\\f655'}.fa-hotdog::before{content:'\\f80f'}.fa-person-walking-with-cane::before{content:'\\f29d'}.fa-blind::before{content:'\\f29d'}.fa-drum::before{content:'\\f569'}.fa-ice-cream::before{content:'\\f810'}.fa-heart-circle-bolt::before{content:'\\e4fc'}.fa-fax::before{content:'\\f1ac'}.fa-paragraph::before{content:'\\f1dd'}.fa-check-to-slot::before{content:'\\f772'}.fa-vote-yea::before{content:'\\f772'}.fa-star-half::before{content:'\\f089'}.fa-boxes-stacked::before{content:'\\f468'}.fa-boxes::before{content:'\\f468'}.fa-boxes-alt::before{content:'\\f468'}.fa-link::before{content:'\\f0c1'}.fa-chain::before{content:'\\f0c1'}.fa-ear-listen::before{content:'\\f2a2'}.fa-assistive-listening-systems::before{content:'\\f2a2'}.fa-tree-city::before{content:'\\e587'}.fa-play::before{content:'\\f04b'}.fa-font::before{content:'\\f031'}.fa-table-cells-row-lock::before{content:'\\e67a'}.fa-rupiah-sign::before{content:'\\e23d'}.fa-magnifying-glass::before{content:'\\f002'}.fa-search::before{content:'\\f002'}.fa-table-tennis-paddle-ball::before{content:'\\f45d'}.fa-ping-pong-paddle-ball::before{content:'\\f45d'}.fa-table-tennis::before{content:'\\f45d'}.fa-person-dots-from-line::before{content:'\\f470'}.fa-diagnoses::before{content:'\\f470'}.fa-trash-can-arrow-up::before{content:'\\f82a'}.fa-trash-restore-alt::before{content:'\\f82a'}.fa-naira-sign::before{content:'\\e1f6'}.fa-cart-arrow-down::before{content:'\\f218'}.fa-walkie-talkie::before{content:'\\f8ef'}.fa-file-pen::before{content:'\\f31c'}.fa-file-edit::before{content:'\\f31c'}.fa-receipt::before{content:'\\f543'}.fa-square-pen::before{content:'\\f14b'}.fa-pen-square::before{content:'\\f14b'}.fa-pencil-square::before{content:'\\f14b'}.fa-suitcase-rolling::before{content:'\\f5c1'}.fa-person-circle-exclamation::before{content:'\\e53f'}.fa-chevron-down::before{content:'\\f078'}.fa-battery-full::before{content:'\\f240'}.fa-battery::before{content:'\\f240'}.fa-battery-5::before{content:'\\f240'}.fa-skull-crossbones::before{content:'\\f714'}.fa-code-compare::before{content:'\\e13a'}.fa-list-ul::before{content:'\\f0ca'}.fa-list-dots::before{content:'\\f0ca'}.fa-school-lock::before{content:'\\e56f'}.fa-tower-cell::before{content:'\\e585'}.fa-down-long::before{content:'\\f309'}.fa-long-arrow-alt-down::before{content:'\\f309'}.fa-ranking-star::before{content:'\\e561'}.fa-chess-king::before{content:'\\f43f'}.fa-person-harassing::before{content:'\\e549'}.fa-brazilian-real-sign::before{content:'\\e46c'}.fa-landmark-dome::before{content:'\\f752'}.fa-landmark-alt::before{content:'\\f752'}.fa-arrow-up::before{content:'\\f062'}.fa-tv::before{content:'\\f26c'}.fa-television::before{content:'\\f26c'}.fa-tv-alt::before{content:'\\f26c'}.fa-shrimp::before{content:'\\e448'}.fa-list-check::before{content:'\\f0ae'}.fa-tasks::before{content:'\\f0ae'}.fa-jug-detergent::before{content:'\\e519'}.fa-circle-user::before{content:'\\f2bd'}.fa-user-circle::before{content:'\\f2bd'}.fa-user-shield::before{content:'\\f505'}.fa-wind::before{content:'\\f72e'}.fa-car-burst::before{content:'\\f5e1'}.fa-car-crash::before{content:'\\f5e1'}.fa-y::before{content:'\\59'}.fa-person-snowboarding::before{content:'\\f7ce'}.fa-snowboarding::before{content:'\\f7ce'}.fa-truck-fast::before{content:'\\f48b'}.fa-shipping-fast::before{content:'\\f48b'}.fa-fish::before{content:'\\f578'}.fa-user-graduate::before{content:'\\f501'}.fa-circle-half-stroke::before{content:'\\f042'}.fa-adjust::before{content:'\\f042'}.fa-clapperboard::before{content:'\\e131'}.fa-circle-radiation::before{content:'\\f7ba'}.fa-radiation-alt::before{content:'\\f7ba'}.fa-baseball::before{content:'\\f433'}.fa-baseball-ball::before{content:'\\f433'}.fa-jet-fighter-up::before{content:'\\e518'}.fa-diagram-project::before{content:'\\f542'}.fa-project-diagram::before{content:'\\f542'}.fa-copy::before{content:'\\f0c5'}.fa-volume-xmark::before{content:'\\f6a9'}.fa-volume-mute::before{content:'\\f6a9'}.fa-volume-times::before{content:'\\f6a9'}.fa-hand-sparkles::before{content:'\\e05d'}.fa-grip::before{content:'\\f58d'}.fa-grip-horizontal::before{content:'\\f58d'}.fa-share-from-square::before{content:'\\f14d'}.fa-share-square::before{content:'\\f14d'}.fa-child-combatant::before{content:'\\e4e0'}.fa-child-rifle::before{content:'\\e4e0'}.fa-gun::before{content:'\\e19b'}.fa-square-phone::before{content:'\\f098'}.fa-phone-square::before{content:'\\f098'}.fa-plus::before{content:'\\2b'}.fa-add::before{content:'\\2b'}.fa-expand::before{content:'\\f065'}.fa-computer::before{content:'\\e4e5'}.fa-xmark::before{content:'\\f00d'}.fa-close::before{content:'\\f00d'}.fa-multiply::before{content:'\\f00d'}.fa-remove::before{content:'\\f00d'}.fa-times::before{content:'\\f00d'}.fa-arrows-up-down-left-right::before{content:'\\f047'}.fa-arrows::before{content:'\\f047'}.fa-chalkboard-user::before{content:'\\f51c'}.fa-chalkboard-teacher::before{content:'\\f51c'}.fa-peso-sign::before{content:'\\e222'}.fa-building-shield::before{content:'\\e4d8'}.fa-baby::before{content:'\\f77c'}.fa-users-line::before{content:'\\e592'}.fa-quote-left::before{content:'\\f10d'}.fa-quote-left-alt::before{content:'\\f10d'}.fa-tractor::before{content:'\\f722'}.fa-trash-arrow-up::before{content:'\\f829'}.fa-trash-restore::before{content:'\\f829'}.fa-arrow-down-up-lock::before{content:'\\e4b0'}.fa-lines-leaning::before{content:'\\e51e'}.fa-ruler-combined::before{content:'\\f546'}.fa-copyright::before{content:'\\f1f9'}.fa-equals::before{content:'\\3d'}.fa-blender::before{content:'\\f517'}.fa-teeth::before{content:'\\f62e'}.fa-shekel-sign::before{content:'\\f20b'}.fa-ils::before{content:'\\f20b'}.fa-shekel::before{content:'\\f20b'}.fa-sheqel::before{content:'\\f20b'}.fa-sheqel-sign::before{content:'\\f20b'}.fa-map::before{content:'\\f279'}.fa-rocket::before{content:'\\f135'}.fa-photo-film::before{content:'\\f87c'}.fa-photo-video::before{content:'\\f87c'}.fa-folder-minus::before{content:'\\f65d'}.fa-store::before{content:'\\f54e'}.fa-arrow-trend-up::before{content:'\\e098'}.fa-plug-circle-minus::before{content:'\\e55e'}.fa-sign-hanging::before{content:'\\f4d9'}.fa-sign::before{content:'\\f4d9'}.fa-bezier-curve::before{content:'\\f55b'}.fa-bell-slash::before{content:'\\f1f6'}.fa-tablet::before{content:'\\f3fb'}.fa-tablet-android::before{content:'\\f3fb'}.fa-school-flag::before{content:'\\e56e'}.fa-fill::before{content:'\\f575'}.fa-angle-up::before{content:'\\f106'}.fa-drumstick-bite::before{content:'\\f6d7'}.fa-holly-berry::before{content:'\\f7aa'}.fa-chevron-left::before{content:'\\f053'}.fa-bacteria::before{content:'\\e059'}.fa-hand-lizard::before{content:'\\f258'}.fa-notdef::before{content:'\\e1fe'}.fa-disease::before{content:'\\f7fa'}.fa-briefcase-medical::before{content:'\\f469'}.fa-genderless::before{content:'\\f22d'}.fa-chevron-right::before{content:'\\f054'}.fa-retweet::before{content:'\\f079'}.fa-car-rear::before{content:'\\f5de'}.fa-car-alt::before{content:'\\f5de'}.fa-pump-soap::before{content:'\\e06b'}.fa-video-slash::before{content:'\\f4e2'}.fa-battery-quarter::before{content:'\\f243'}.fa-battery-2::before{content:'\\f243'}.fa-radio::before{content:'\\f8d7'}.fa-baby-carriage::before{content:'\\f77d'}.fa-carriage-baby::before{content:'\\f77d'}.fa-traffic-light::before{content:'\\f637'}.fa-thermometer::before{content:'\\f491'}.fa-vr-cardboard::before{content:'\\f729'}.fa-hand-middle-finger::before{content:'\\f806'}.fa-percent::before{content:'\\25'}.fa-percentage::before{content:'\\25'}.fa-truck-moving::before{content:'\\f4df'}.fa-glass-water-droplet::before{content:'\\e4f5'}.fa-display::before{content:'\\e163'}.fa-face-smile::before{content:'\\f118'}.fa-smile::before{content:'\\f118'}.fa-thumbtack::before{content:'\\f08d'}.fa-thumb-tack::before{content:'\\f08d'}.fa-trophy::before{content:'\\f091'}.fa-person-praying::before{content:'\\f683'}.fa-pray::before{content:'\\f683'}.fa-hammer::before{content:'\\f6e3'}.fa-hand-peace::before{content:'\\f25b'}.fa-rotate::before{content:'\\f2f1'}.fa-sync-alt::before{content:'\\f2f1'}.fa-spinner::before{content:'\\f110'}.fa-robot::before{content:'\\f544'}.fa-peace::before{content:'\\f67c'}.fa-gears::before{content:'\\f085'}.fa-cogs::before{content:'\\f085'}.fa-warehouse::before{content:'\\f494'}.fa-arrow-up-right-dots::before{content:'\\e4b7'}.fa-splotch::before{content:'\\f5bc'}.fa-face-grin-hearts::before{content:'\\f584'}.fa-grin-hearts::before{content:'\\f584'}.fa-dice-four::before{content:'\\f524'}.fa-sim-card::before{content:'\\f7c4'}.fa-transgender::before{content:'\\f225'}.fa-transgender-alt::before{content:'\\f225'}.fa-mercury::before{content:'\\f223'}.fa-arrow-turn-down::before{content:'\\f149'}.fa-level-down::before{content:'\\f149'}.fa-person-falling-burst::before{content:'\\e547'}.fa-award::before{content:'\\f559'}.fa-ticket-simple::before{content:'\\f3ff'}.fa-ticket-alt::before{content:'\\f3ff'}.fa-building::before{content:'\\f1ad'}.fa-angles-left::before{content:'\\f100'}.fa-angle-double-left::before{content:'\\f100'}.fa-qrcode::before{content:'\\f029'}.fa-clock-rotate-left::before{content:'\\f1da'}.fa-history::before{content:'\\f1da'}.fa-face-grin-beam-sweat::before{content:'\\f583'}.fa-grin-beam-sweat::before{content:'\\f583'}.fa-file-export::before{content:'\\f56e'}.fa-arrow-right-from-file::before{content:'\\f56e'}.fa-shield::before{content:'\\f132'}.fa-shield-blank::before{content:'\\f132'}.fa-arrow-up-short-wide::before{content:'\\f885'}.fa-sort-amount-up-alt::before{content:'\\f885'}.fa-house-medical::before{content:'\\e3b2'}.fa-golf-ball-tee::before{content:'\\f450'}.fa-golf-ball::before{content:'\\f450'}.fa-circle-chevron-left::before{content:'\\f137'}.fa-chevron-circle-left::before{content:'\\f137'}.fa-house-chimney-window::before{content:'\\e00d'}.fa-pen-nib::before{content:'\\f5ad'}.fa-tent-arrow-turn-left::before{content:'\\e580'}.fa-tents::before{content:'\\e582'}.fa-wand-magic::before{content:'\\f0d0'}.fa-magic::before{content:'\\f0d0'}.fa-dog::before{content:'\\f6d3'}.fa-carrot::before{content:'\\f787'}.fa-moon::before{content:'\\f186'}.fa-wine-glass-empty::before{content:'\\f5ce'}.fa-wine-glass-alt::before{content:'\\f5ce'}.fa-cheese::before{content:'\\f7ef'}.fa-yin-yang::before{content:'\\f6ad'}.fa-music::before{content:'\\f001'}.fa-code-commit::before{content:'\\f386'}.fa-temperature-low::before{content:'\\f76b'}.fa-person-biking::before{content:'\\f84a'}.fa-biking::before{content:'\\f84a'}.fa-broom::before{content:'\\f51a'}.fa-shield-heart::before{content:'\\e574'}.fa-gopuram::before{content:'\\f664'}.fa-earth-oceania::before{content:'\\e47b'}.fa-globe-oceania::before{content:'\\e47b'}.fa-square-xmark::before{content:'\\f2d3'}.fa-times-square::before{content:'\\f2d3'}.fa-xmark-square::before{content:'\\f2d3'}.fa-hashtag::before{content:'\\23'}.fa-up-right-and-down-left-from-center::before{content:'\\f424'}.fa-expand-alt::before{content:'\\f424'}.fa-oil-can::before{content:'\\f613'}.fa-t::before{content:'\\54'}.fa-hippo::before{content:'\\f6ed'}.fa-chart-column::before{content:'\\e0e3'}.fa-infinity::before{content:'\\f534'}.fa-vial-circle-check::before{content:'\\e596'}.fa-person-arrow-down-to-line::before{content:'\\e538'}.fa-voicemail::before{content:'\\f897'}.fa-fan::before{content:'\\f863'}.fa-person-walking-luggage::before{content:'\\e554'}.fa-up-down::before{content:'\\f338'}.fa-arrows-alt-v::before{content:'\\f338'}.fa-cloud-moon-rain::before{content:'\\f73c'}.fa-calendar::before{content:'\\f133'}.fa-trailer::before{content:'\\e041'}.fa-bahai::before{content:'\\f666'}.fa-haykal::before{content:'\\f666'}.fa-sd-card::before{content:'\\f7c2'}.fa-dragon::before{content:'\\f6d5'}.fa-shoe-prints::before{content:'\\f54b'}.fa-circle-plus::before{content:'\\f055'}.fa-plus-circle::before{content:'\\f055'}.fa-face-grin-tongue-wink::before{content:'\\f58b'}.fa-grin-tongue-wink::before{content:'\\f58b'}.fa-hand-holding::before{content:'\\f4bd'}.fa-plug-circle-exclamation::before{content:'\\e55d'}.fa-link-slash::before{content:'\\f127'}.fa-chain-broken::before{content:'\\f127'}.fa-chain-slash::before{content:'\\f127'}.fa-unlink::before{content:'\\f127'}.fa-clone::before{content:'\\f24d'}.fa-person-walking-arrow-loop-left::before{content:'\\e551'}.fa-arrow-up-z-a::before{content:'\\f882'}.fa-sort-alpha-up-alt::before{content:'\\f882'}.fa-fire-flame-curved::before{content:'\\f7e4'}.fa-fire-alt::before{content:'\\f7e4'}.fa-tornado::before{content:'\\f76f'}.fa-file-circle-plus::before{content:'\\e494'}.fa-book-quran::before{content:'\\f687'}.fa-quran::before{content:'\\f687'}.fa-anchor::before{content:'\\f13d'}.fa-border-all::before{content:'\\f84c'}.fa-face-angry::before{content:'\\f556'}.fa-angry::before{content:'\\f556'}.fa-cookie-bite::before{content:'\\f564'}.fa-arrow-trend-down::before{content:'\\e097'}.fa-rss::before{content:'\\f09e'}.fa-feed::before{content:'\\f09e'}.fa-draw-polygon::before{content:'\\f5ee'}.fa-scale-balanced::before{content:'\\f24e'}.fa-balance-scale::before{content:'\\f24e'}.fa-gauge-simple-high::before{content:'\\f62a'}.fa-tachometer::before{content:'\\f62a'}.fa-tachometer-fast::before{content:'\\f62a'}.fa-shower::before{content:'\\f2cc'}.fa-desktop::before{content:'\\f390'}.fa-desktop-alt::before{content:'\\f390'}.fa-m::before{content:'\\4d'}.fa-table-list::before{content:'\\f00b'}.fa-th-list::before{content:'\\f00b'}.fa-comment-sms::before{content:'\\f7cd'}.fa-sms::before{content:'\\f7cd'}.fa-book::before{content:'\\f02d'}.fa-user-plus::before{content:'\\f234'}.fa-check::before{content:'\\f00c'}.fa-battery-three-quarters::before{content:'\\f241'}.fa-battery-4::before{content:'\\f241'}.fa-house-circle-check::before{content:'\\e509'}.fa-angle-left::before{content:'\\f104'}.fa-diagram-successor::before{content:'\\e47a'}.fa-truck-arrow-right::before{content:'\\e58b'}.fa-arrows-split-up-and-left::before{content:'\\e4bc'}.fa-hand-fist::before{content:'\\f6de'}.fa-fist-raised::before{content:'\\f6de'}.fa-cloud-moon::before{content:'\\f6c3'}.fa-briefcase::before{content:'\\f0b1'}.fa-person-falling::before{content:'\\e546'}.fa-image-portrait::before{content:'\\f3e0'}.fa-portrait::before{content:'\\f3e0'}.fa-user-tag::before{content:'\\f507'}.fa-rug::before{content:'\\e569'}.fa-earth-europe::before{content:'\\f7a2'}.fa-globe-europe::before{content:'\\f7a2'}.fa-cart-flatbed-suitcase::before{content:'\\f59d'}.fa-luggage-cart::before{content:'\\f59d'}.fa-rectangle-xmark::before{content:'\\f410'}.fa-rectangle-times::before{content:'\\f410'}.fa-times-rectangle::before{content:'\\f410'}.fa-window-close::before{content:'\\f410'}.fa-baht-sign::before{content:'\\e0ac'}.fa-book-open::before{content:'\\f518'}.fa-book-journal-whills::before{content:'\\f66a'}.fa-journal-whills::before{content:'\\f66a'}.fa-handcuffs::before{content:'\\e4f8'}.fa-triangle-exclamation::before{content:'\\f071'}.fa-exclamation-triangle::before{content:'\\f071'}.fa-warning::before{content:'\\f071'}.fa-database::before{content:'\\f1c0'}.fa-share::before{content:'\\f064'}.fa-mail-forward::before{content:'\\f064'}.fa-bottle-droplet::before{content:'\\e4c4'}.fa-mask-face::before{content:'\\e1d7'}.fa-hill-rockslide::before{content:'\\e508'}.fa-right-left::before{content:'\\f362'}.fa-exchange-alt::before{content:'\\f362'}.fa-paper-plane::before{content:'\\f1d8'}.fa-road-circle-exclamation::before{content:'\\e565'}.fa-dungeon::before{content:'\\f6d9'}.fa-align-right::before{content:'\\f038'}.fa-money-bill-1-wave::before{content:'\\f53b'}.fa-money-bill-wave-alt::before{content:'\\f53b'}.fa-life-ring::before{content:'\\f1cd'}.fa-hands::before{content:'\\f2a7'}.fa-sign-language::before{content:'\\f2a7'}.fa-signing::before{content:'\\f2a7'}.fa-calendar-day::before{content:'\\f783'}.fa-water-ladder::before{content:'\\f5c5'}.fa-ladder-water::before{content:'\\f5c5'}.fa-swimming-pool::before{content:'\\f5c5'}.fa-arrows-up-down::before{content:'\\f07d'}.fa-arrows-v::before{content:'\\f07d'}.fa-face-grimace::before{content:'\\f57f'}.fa-grimace::before{content:'\\f57f'}.fa-wheelchair-move::before{content:'\\e2ce'}.fa-wheelchair-alt::before{content:'\\e2ce'}.fa-turn-down::before{content:'\\f3be'}.fa-level-down-alt::before{content:'\\f3be'}.fa-person-walking-arrow-right::before{content:'\\e552'}.fa-square-envelope::before{content:'\\f199'}.fa-envelope-square::before{content:'\\f199'}.fa-dice::before{content:'\\f522'}.fa-bowling-ball::before{content:'\\f436'}.fa-brain::before{content:'\\f5dc'}.fa-bandage::before{content:'\\f462'}.fa-band-aid::before{content:'\\f462'}.fa-calendar-minus::before{content:'\\f272'}.fa-circle-xmark::before{content:'\\f057'}.fa-times-circle::before{content:'\\f057'}.fa-xmark-circle::before{content:'\\f057'}.fa-gifts::before{content:'\\f79c'}.fa-hotel::before{content:'\\f594'}.fa-earth-asia::before{content:'\\f57e'}.fa-globe-asia::before{content:'\\f57e'}.fa-id-card-clip::before{content:'\\f47f'}.fa-id-card-alt::before{content:'\\f47f'}.fa-magnifying-glass-plus::before{content:'\\f00e'}.fa-search-plus::before{content:'\\f00e'}.fa-thumbs-up::before{content:'\\f164'}.fa-user-clock::before{content:'\\f4fd'}.fa-hand-dots::before{content:'\\f461'}.fa-allergies::before{content:'\\f461'}.fa-file-invoice::before{content:'\\f570'}.fa-window-minimize::before{content:'\\f2d1'}.fa-mug-saucer::before{content:'\\f0f4'}.fa-coffee::before{content:'\\f0f4'}.fa-brush::before{content:'\\f55d'}.fa-mask::before{content:'\\f6fa'}.fa-magnifying-glass-minus::before{content:'\\f010'}.fa-search-minus::before{content:'\\f010'}.fa-ruler-vertical::before{content:'\\f548'}.fa-user-large::before{content:'\\f406'}.fa-user-alt::before{content:'\\f406'}.fa-train-tram::before{content:'\\e5b4'}.fa-user-nurse::before{content:'\\f82f'}.fa-syringe::before{content:'\\f48e'}.fa-cloud-sun::before{content:'\\f6c4'}.fa-stopwatch-20::before{content:'\\e06f'}.fa-square-full::before{content:'\\f45c'}.fa-magnet::before{content:'\\f076'}.fa-jar::before{content:'\\e516'}.fa-note-sticky::before{content:'\\f249'}.fa-sticky-note::before{content:'\\f249'}.fa-bug-slash::before{content:'\\e490'}.fa-arrow-up-from-water-pump::before{content:'\\e4b6'}.fa-bone::before{content:'\\f5d7'}.fa-table-cells-row-unlock::before{content:'\\e691'}.fa-user-injured::before{content:'\\f728'}.fa-face-sad-tear::before{content:'\\f5b4'}.fa-sad-tear::before{content:'\\f5b4'}.fa-plane::before{content:'\\f072'}.fa-tent-arrows-down::before{content:'\\e581'}.fa-exclamation::before{content:'\\21'}.fa-arrows-spin::before{content:'\\e4bb'}.fa-print::before{content:'\\f02f'}.fa-turkish-lira-sign::before{content:'\\e2bb'}.fa-try::before{content:'\\e2bb'}.fa-turkish-lira::before{content:'\\e2bb'}.fa-dollar-sign::before{content:'\\24'}.fa-dollar::before{content:'\\24'}.fa-usd::before{content:'\\24'}.fa-x::before{content:'\\58'}.fa-magnifying-glass-dollar::before{content:'\\f688'}.fa-search-dollar::before{content:'\\f688'}.fa-users-gear::before{content:'\\f509'}.fa-users-cog::before{content:'\\f509'}.fa-person-military-pointing::before{content:'\\e54a'}.fa-building-columns::before{content:'\\f19c'}.fa-bank::before{content:'\\f19c'}.fa-institution::before{content:'\\f19c'}.fa-museum::before{content:'\\f19c'}.fa-university::before{content:'\\f19c'}.fa-umbrella::before{content:'\\f0e9'}.fa-trowel::before{content:'\\e589'}.fa-d::before{content:'\\44'}.fa-stapler::before{content:'\\e5af'}.fa-masks-theater::before{content:'\\f630'}.fa-theater-masks::before{content:'\\f630'}.fa-kip-sign::before{content:'\\e1c4'}.fa-hand-point-left::before{content:'\\f0a5'}.fa-handshake-simple::before{content:'\\f4c6'}.fa-handshake-alt::before{content:'\\f4c6'}.fa-jet-fighter::before{content:'\\f0fb'}.fa-fighter-jet::before{content:'\\f0fb'}.fa-square-share-nodes::before{content:'\\f1e1'}.fa-share-alt-square::before{content:'\\f1e1'}.fa-barcode::before{content:'\\f02a'}.fa-plus-minus::before{content:'\\e43c'}.fa-video::before{content:'\\f03d'}.fa-video-camera::before{content:'\\f03d'}.fa-graduation-cap::before{content:'\\f19d'}.fa-mortar-board::before{content:'\\f19d'}.fa-hand-holding-medical::before{content:'\\e05c'}.fa-person-circle-check::before{content:'\\e53e'}.fa-turn-up::before{content:'\\f3bf'}.fa-level-up-alt::before{content:'\\f3bf'}.fa-sr-only,.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.fa-sr-only-focusable:not(:focus),.sr-only-focusable:not(:focus){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host,:root{--fa-style-family-brands:'Font Awesome 6 Brands';--fa-font-brands:normal 400 1em/1 'Font Awesome 6 Brands'}@font-face{font-family:'Font Awesome 6 Brands';font-style:normal;font-weight:400;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.ttf) format('truetype')}.fa-brands,.fab{font-weight:400}.fa-monero:before{content:'\\f3d0'}.fa-hooli:before{content:'\\f427'}.fa-yelp:before{content:'\\f1e9'}.fa-cc-visa:before{content:'\\f1f0'}.fa-lastfm:before{content:'\\f202'}.fa-shopware:before{content:'\\f5b5'}.fa-creative-commons-nc:before{content:'\\f4e8'}.fa-aws:before{content:'\\f375'}.fa-redhat:before{content:'\\f7bc'}.fa-yoast:before{content:'\\f2b1'}.fa-cloudflare:before{content:'\\e07d'}.fa-ups:before{content:'\\f7e0'}.fa-pixiv:before{content:'\\e640'}.fa-wpexplorer:before{content:'\\f2de'}.fa-dyalog:before{content:'\\f399'}.fa-bity:before{content:'\\f37a'}.fa-stackpath:before{content:'\\f842'}.fa-buysellads:before{content:'\\f20d'}.fa-first-order:before{content:'\\f2b0'}.fa-modx:before{content:'\\f285'}.fa-guilded:before{content:'\\e07e'}.fa-vnv:before{content:'\\f40b'}.fa-square-js:before{content:'\\f3b9'}.fa-js-square:before{content:'\\f3b9'}.fa-microsoft:before{content:'\\f3ca'}.fa-qq:before{content:'\\f1d6'}.fa-orcid:before{content:'\\f8d2'}.fa-java:before{content:'\\f4e4'}.fa-invision:before{content:'\\f7b0'}.fa-creative-commons-pd-alt:before{content:'\\f4ed'}.fa-centercode:before{content:'\\f380'}.fa-glide-g:before{content:'\\f2a6'}.fa-drupal:before{content:'\\f1a9'}.fa-jxl:before{content:'\\e67b'}.fa-dart-lang:before{content:'\\e693'}.fa-hire-a-helper:before{content:'\\f3b0'}.fa-creative-commons-by:before{content:'\\f4e7'}.fa-unity:before{content:'\\e049'}.fa-whmcs:before{content:'\\f40d'}.fa-rocketchat:before{content:'\\f3e8'}.fa-vk:before{content:'\\f189'}.fa-untappd:before{content:'\\f405'}.fa-mailchimp:before{content:'\\f59e'}.fa-css3-alt:before{content:'\\f38b'}.fa-square-reddit:before{content:'\\f1a2'}.fa-reddit-square:before{content:'\\f1a2'}.fa-vimeo-v:before{content:'\\f27d'}.fa-contao:before{content:'\\f26d'}.fa-square-font-awesome:before{content:'\\e5ad'}.fa-deskpro:before{content:'\\f38f'}.fa-brave:before{content:'\\e63c'}.fa-sistrix:before{content:'\\f3ee'}.fa-square-instagram:before{content:'\\e055'}.fa-instagram-square:before{content:'\\e055'}.fa-battle-net:before{content:'\\f835'}.fa-the-red-yeti:before{content:'\\f69d'}.fa-square-hacker-news:before{content:'\\f3af'}.fa-hacker-news-square:before{content:'\\f3af'}.fa-edge:before{content:'\\f282'}.fa-threads:before{content:'\\e618'}.fa-napster:before{content:'\\f3d2'}.fa-square-snapchat:before{content:'\\f2ad'}.fa-snapchat-square:before{content:'\\f2ad'}.fa-google-plus-g:before{content:'\\f0d5'}.fa-artstation:before{content:'\\f77a'}.fa-markdown:before{content:'\\f60f'}.fa-sourcetree:before{content:'\\f7d3'}.fa-google-plus:before{content:'\\f2b3'}.fa-diaspora:before{content:'\\f791'}.fa-foursquare:before{content:'\\f180'}.fa-stack-overflow:before{content:'\\f16c'}.fa-github-alt:before{content:'\\f113'}.fa-phoenix-squadron:before{content:'\\f511'}.fa-pagelines:before{content:'\\f18c'}.fa-algolia:before{content:'\\f36c'}.fa-red-river:before{content:'\\f3e3'}.fa-creative-commons-sa:before{content:'\\f4ef'}.fa-safari:before{content:'\\f267'}.fa-google:before{content:'\\f1a0'}.fa-square-font-awesome-stroke:before{content:'\\f35c'}.fa-font-awesome-alt:before{content:'\\f35c'}.fa-atlassian:before{content:'\\f77b'}.fa-linkedin-in:before{content:'\\f0e1'}.fa-digital-ocean:before{content:'\\f391'}.fa-nimblr:before{content:'\\f5a8'}.fa-chromecast:before{content:'\\f838'}.fa-evernote:before{content:'\\f839'}.fa-hacker-news:before{content:'\\f1d4'}.fa-creative-commons-sampling:before{content:'\\f4f0'}.fa-adversal:before{content:'\\f36a'}.fa-creative-commons:before{content:'\\f25e'}.fa-watchman-monitoring:before{content:'\\e087'}.fa-fonticons:before{content:'\\f280'}.fa-weixin:before{content:'\\f1d7'}.fa-shirtsinbulk:before{content:'\\f214'}.fa-codepen:before{content:'\\f1cb'}.fa-git-alt:before{content:'\\f841'}.fa-lyft:before{content:'\\f3c3'}.fa-rev:before{content:'\\f5b2'}.fa-windows:before{content:'\\f17a'}.fa-wizards-of-the-coast:before{content:'\\f730'}.fa-square-viadeo:before{content:'\\f2aa'}.fa-viadeo-square:before{content:'\\f2aa'}.fa-meetup:before{content:'\\f2e0'}.fa-centos:before{content:'\\f789'}.fa-adn:before{content:'\\f170'}.fa-cloudsmith:before{content:'\\f384'}.fa-opensuse:before{content:'\\e62b'}.fa-pied-piper-alt:before{content:'\\f1a8'}.fa-square-dribbble:before{content:'\\f397'}.fa-dribbble-square:before{content:'\\f397'}.fa-codiepie:before{content:'\\f284'}.fa-node:before{content:'\\f419'}.fa-mix:before{content:'\\f3cb'}.fa-steam:before{content:'\\f1b6'}.fa-cc-apple-pay:before{content:'\\f416'}.fa-scribd:before{content:'\\f28a'}.fa-debian:before{content:'\\e60b'}.fa-openid:before{content:'\\f19b'}.fa-instalod:before{content:'\\e081'}.fa-expeditedssl:before{content:'\\f23e'}.fa-sellcast:before{content:'\\f2da'}.fa-square-twitter:before{content:'\\f081'}.fa-twitter-square:before{content:'\\f081'}.fa-r-project:before{content:'\\f4f7'}.fa-delicious:before{content:'\\f1a5'}.fa-freebsd:before{content:'\\f3a4'}.fa-vuejs:before{content:'\\f41f'}.fa-accusoft:before{content:'\\f369'}.fa-ioxhost:before{content:'\\f208'}.fa-fonticons-fi:before{content:'\\f3a2'}.fa-app-store:before{content:'\\f36f'}.fa-cc-mastercard:before{content:'\\f1f1'}.fa-itunes-note:before{content:'\\f3b5'}.fa-golang:before{content:'\\e40f'}.fa-kickstarter:before{content:'\\f3bb'}.fa-square-kickstarter:before{content:'\\f3bb'}.fa-grav:before{content:'\\f2d6'}.fa-weibo:before{content:'\\f18a'}.fa-uncharted:before{content:'\\e084'}.fa-firstdraft:before{content:'\\f3a1'}.fa-square-youtube:before{content:'\\f431'}.fa-youtube-square:before{content:'\\f431'}.fa-wikipedia-w:before{content:'\\f266'}.fa-wpressr:before{content:'\\f3e4'}.fa-rendact:before{content:'\\f3e4'}.fa-angellist:before{content:'\\f209'}.fa-galactic-republic:before{content:'\\f50c'}.fa-nfc-directional:before{content:'\\e530'}.fa-skype:before{content:'\\f17e'}.fa-joget:before{content:'\\f3b7'}.fa-fedora:before{content:'\\f798'}.fa-stripe-s:before{content:'\\f42a'}.fa-meta:before{content:'\\e49b'}.fa-laravel:before{content:'\\f3bd'}.fa-hotjar:before{content:'\\f3b1'}.fa-bluetooth-b:before{content:'\\f294'}.fa-square-letterboxd:before{content:'\\e62e'}.fa-sticker-mule:before{content:'\\f3f7'}.fa-creative-commons-zero:before{content:'\\f4f3'}.fa-hips:before{content:'\\f452'}.fa-behance:before{content:'\\f1b4'}.fa-reddit:before{content:'\\f1a1'}.fa-discord:before{content:'\\f392'}.fa-chrome:before{content:'\\f268'}.fa-app-store-ios:before{content:'\\f370'}.fa-cc-discover:before{content:'\\f1f2'}.fa-wpbeginner:before{content:'\\f297'}.fa-confluence:before{content:'\\f78d'}.fa-shoelace:before{content:'\\e60c'}.fa-mdb:before{content:'\\f8ca'}.fa-dochub:before{content:'\\f394'}.fa-accessible-icon:before{content:'\\f368'}.fa-ebay:before{content:'\\f4f4'}.fa-amazon:before{content:'\\f270'}.fa-unsplash:before{content:'\\e07c'}.fa-yarn:before{content:'\\f7e3'}.fa-square-steam:before{content:'\\f1b7'}.fa-steam-square:before{content:'\\f1b7'}.fa-500px:before{content:'\\f26e'}.fa-square-vimeo:before{content:'\\f194'}.fa-vimeo-square:before{content:'\\f194'}.fa-asymmetrik:before{content:'\\f372'}.fa-font-awesome:before{content:'\\f2b4'}.fa-font-awesome-flag:before{content:'\\f2b4'}.fa-font-awesome-logo-full:before{content:'\\f2b4'}.fa-gratipay:before{content:'\\f184'}.fa-apple:before{content:'\\f179'}.fa-hive:before{content:'\\e07f'}.fa-gitkraken:before{content:'\\f3a6'}.fa-keybase:before{content:'\\f4f5'}.fa-apple-pay:before{content:'\\f415'}.fa-padlet:before{content:'\\e4a0'}.fa-amazon-pay:before{content:'\\f42c'}.fa-square-github:before{content:'\\f092'}.fa-github-square:before{content:'\\f092'}.fa-stumbleupon:before{content:'\\f1a4'}.fa-fedex:before{content:'\\f797'}.fa-phoenix-framework:before{content:'\\f3dc'}.fa-shopify:before{content:'\\e057'}.fa-neos:before{content:'\\f612'}.fa-square-threads:before{content:'\\e619'}.fa-hackerrank:before{content:'\\f5f7'}.fa-researchgate:before{content:'\\f4f8'}.fa-swift:before{content:'\\f8e1'}.fa-angular:before{content:'\\f420'}.fa-speakap:before{content:'\\f3f3'}.fa-angrycreative:before{content:'\\f36e'}.fa-y-combinator:before{content:'\\f23b'}.fa-empire:before{content:'\\f1d1'}.fa-envira:before{content:'\\f299'}.fa-google-scholar:before{content:'\\e63b'}.fa-square-gitlab:before{content:'\\e5ae'}.fa-gitlab-square:before{content:'\\e5ae'}.fa-studiovinari:before{content:'\\f3f8'}.fa-pied-piper:before{content:'\\f2ae'}.fa-wordpress:before{content:'\\f19a'}.fa-product-hunt:before{content:'\\f288'}.fa-firefox:before{content:'\\f269'}.fa-linode:before{content:'\\f2b8'}.fa-goodreads:before{content:'\\f3a8'}.fa-square-odnoklassniki:before{content:'\\f264'}.fa-odnoklassniki-square:before{content:'\\f264'}.fa-jsfiddle:before{content:'\\f1cc'}.fa-sith:before{content:'\\f512'}.fa-themeisle:before{content:'\\f2b2'}.fa-page4:before{content:'\\f3d7'}.fa-hashnode:before{content:'\\e499'}.fa-react:before{content:'\\f41b'}.fa-cc-paypal:before{content:'\\f1f4'}.fa-squarespace:before{content:'\\f5be'}.fa-cc-stripe:before{content:'\\f1f5'}.fa-creative-commons-share:before{content:'\\f4f2'}.fa-bitcoin:before{content:'\\f379'}.fa-keycdn:before{content:'\\f3ba'}.fa-opera:before{content:'\\f26a'}.fa-itch-io:before{content:'\\f83a'}.fa-umbraco:before{content:'\\f8e8'}.fa-galactic-senate:before{content:'\\f50d'}.fa-ubuntu:before{content:'\\f7df'}.fa-draft2digital:before{content:'\\f396'}.fa-stripe:before{content:'\\f429'}.fa-houzz:before{content:'\\f27c'}.fa-gg:before{content:'\\f260'}.fa-dhl:before{content:'\\f790'}.fa-square-pinterest:before{content:'\\f0d3'}.fa-pinterest-square:before{content:'\\f0d3'}.fa-xing:before{content:'\\f168'}.fa-blackberry:before{content:'\\f37b'}.fa-creative-commons-pd:before{content:'\\f4ec'}.fa-playstation:before{content:'\\f3df'}.fa-quinscape:before{content:'\\f459'}.fa-less:before{content:'\\f41d'}.fa-blogger-b:before{content:'\\f37d'}.fa-opencart:before{content:'\\f23d'}.fa-vine:before{content:'\\f1ca'}.fa-signal-messenger:before{content:'\\e663'}.fa-paypal:before{content:'\\f1ed'}.fa-gitlab:before{content:'\\f296'}.fa-typo3:before{content:'\\f42b'}.fa-reddit-alien:before{content:'\\f281'}.fa-yahoo:before{content:'\\f19e'}.fa-dailymotion:before{content:'\\e052'}.fa-affiliatetheme:before{content:'\\f36b'}.fa-pied-piper-pp:before{content:'\\f1a7'}.fa-bootstrap:before{content:'\\f836'}.fa-odnoklassniki:before{content:'\\f263'}.fa-nfc-symbol:before{content:'\\e531'}.fa-mintbit:before{content:'\\e62f'}.fa-ethereum:before{content:'\\f42e'}.fa-speaker-deck:before{content:'\\f83c'}.fa-creative-commons-nc-eu:before{content:'\\f4e9'}.fa-patreon:before{content:'\\f3d9'}.fa-avianex:before{content:'\\f374'}.fa-ello:before{content:'\\f5f1'}.fa-gofore:before{content:'\\f3a7'}.fa-bimobject:before{content:'\\f378'}.fa-brave-reverse:before{content:'\\e63d'}.fa-facebook-f:before{content:'\\f39e'}.fa-square-google-plus:before{content:'\\f0d4'}.fa-google-plus-square:before{content:'\\f0d4'}.fa-web-awesome:before{content:'\\e682'}.fa-mandalorian:before{content:'\\f50f'}.fa-first-order-alt:before{content:'\\f50a'}.fa-osi:before{content:'\\f41a'}.fa-google-wallet:before{content:'\\f1ee'}.fa-d-and-d-beyond:before{content:'\\f6ca'}.fa-periscope:before{content:'\\f3da'}.fa-fulcrum:before{content:'\\f50b'}.fa-cloudscale:before{content:'\\f383'}.fa-forumbee:before{content:'\\f211'}.fa-mizuni:before{content:'\\f3cc'}.fa-schlix:before{content:'\\f3ea'}.fa-square-xing:before{content:'\\f169'}.fa-xing-square:before{content:'\\f169'}.fa-bandcamp:before{content:'\\f2d5'}.fa-wpforms:before{content:'\\f298'}.fa-cloudversify:before{content:'\\f385'}.fa-usps:before{content:'\\f7e1'}.fa-megaport:before{content:'\\f5a3'}.fa-magento:before{content:'\\f3c4'}.fa-spotify:before{content:'\\f1bc'}.fa-optin-monster:before{content:'\\f23c'}.fa-fly:before{content:'\\f417'}.fa-aviato:before{content:'\\f421'}.fa-itunes:before{content:'\\f3b4'}.fa-cuttlefish:before{content:'\\f38c'}.fa-blogger:before{content:'\\f37c'}.fa-flickr:before{content:'\\f16e'}.fa-viber:before{content:'\\f409'}.fa-soundcloud:before{content:'\\f1be'}.fa-digg:before{content:'\\f1a6'}.fa-tencent-weibo:before{content:'\\f1d5'}.fa-letterboxd:before{content:'\\e62d'}.fa-symfony:before{content:'\\f83d'}.fa-maxcdn:before{content:'\\f136'}.fa-etsy:before{content:'\\f2d7'}.fa-facebook-messenger:before{content:'\\f39f'}.fa-audible:before{content:'\\f373'}.fa-think-peaks:before{content:'\\f731'}.fa-bilibili:before{content:'\\e3d9'}.fa-erlang:before{content:'\\f39d'}.fa-x-twitter:before{content:'\\e61b'}.fa-cotton-bureau:before{content:'\\f89e'}.fa-dashcube:before{content:'\\f210'}.fa-42-group:before{content:'\\e080'}.fa-innosoft:before{content:'\\e080'}.fa-stack-exchange:before{content:'\\f18d'}.fa-elementor:before{content:'\\f430'}.fa-square-pied-piper:before{content:'\\e01e'}.fa-pied-piper-square:before{content:'\\e01e'}.fa-creative-commons-nd:before{content:'\\f4eb'}.fa-palfed:before{content:'\\f3d8'}.fa-superpowers:before{content:'\\f2dd'}.fa-resolving:before{content:'\\f3e7'}.fa-xbox:before{content:'\\f412'}.fa-square-web-awesome-stroke:before{content:'\\e684'}.fa-searchengin:before{content:'\\f3eb'}.fa-tiktok:before{content:'\\e07b'}.fa-square-facebook:before{content:'\\f082'}.fa-facebook-square:before{content:'\\f082'}.fa-renren:before{content:'\\f18b'}.fa-linux:before{content:'\\f17c'}.fa-glide:before{content:'\\f2a5'}.fa-linkedin:before{content:'\\f08c'}.fa-hubspot:before{content:'\\f3b2'}.fa-deploydog:before{content:'\\f38e'}.fa-twitch:before{content:'\\f1e8'}.fa-flutter:before{content:'\\e694'}.fa-ravelry:before{content:'\\f2d9'}.fa-mixer:before{content:'\\e056'}.fa-square-lastfm:before{content:'\\f203'}.fa-lastfm-square:before{content:'\\f203'}.fa-vimeo:before{content:'\\f40a'}.fa-mendeley:before{content:'\\f7b3'}.fa-uniregistry:before{content:'\\f404'}.fa-figma:before{content:'\\f799'}.fa-creative-commons-remix:before{content:'\\f4ee'}.fa-cc-amazon-pay:before{content:'\\f42d'}.fa-dropbox:before{content:'\\f16b'}.fa-instagram:before{content:'\\f16d'}.fa-cmplid:before{content:'\\e360'}.fa-upwork:before{content:'\\e641'}.fa-facebook:before{content:'\\f09a'}.fa-gripfire:before{content:'\\f3ac'}.fa-jedi-order:before{content:'\\f50e'}.fa-uikit:before{content:'\\f403'}.fa-fort-awesome-alt:before{content:'\\f3a3'}.fa-phabricator:before{content:'\\f3db'}.fa-ussunnah:before{content:'\\f407'}.fa-earlybirds:before{content:'\\f39a'}.fa-trade-federation:before{content:'\\f513'}.fa-autoprefixer:before{content:'\\f41c'}.fa-whatsapp:before{content:'\\f232'}.fa-square-upwork:before{content:'\\e67c'}.fa-slideshare:before{content:'\\f1e7'}.fa-google-play:before{content:'\\f3ab'}.fa-viadeo:before{content:'\\f2a9'}.fa-line:before{content:'\\f3c0'}.fa-google-drive:before{content:'\\f3aa'}.fa-servicestack:before{content:'\\f3ec'}.fa-simplybuilt:before{content:'\\f215'}.fa-bitbucket:before{content:'\\f171'}.fa-imdb:before{content:'\\f2d8'}.fa-deezer:before{content:'\\e077'}.fa-raspberry-pi:before{content:'\\f7bb'}.fa-jira:before{content:'\\f7b1'}.fa-docker:before{content:'\\f395'}.fa-screenpal:before{content:'\\e570'}.fa-bluetooth:before{content:'\\f293'}.fa-gitter:before{content:'\\f426'}.fa-d-and-d:before{content:'\\f38d'}.fa-microblog:before{content:'\\e01a'}.fa-cc-diners-club:before{content:'\\f24c'}.fa-gg-circle:before{content:'\\f261'}.fa-pied-piper-hat:before{content:'\\f4e5'}.fa-kickstarter-k:before{content:'\\f3bc'}.fa-yandex:before{content:'\\f413'}.fa-readme:before{content:'\\f4d5'}.fa-html5:before{content:'\\f13b'}.fa-sellsy:before{content:'\\f213'}.fa-square-web-awesome:before{content:'\\e683'}.fa-sass:before{content:'\\f41e'}.fa-wirsindhandwerk:before{content:'\\e2d0'}.fa-wsh:before{content:'\\e2d0'}.fa-buromobelexperte:before{content:'\\f37f'}.fa-salesforce:before{content:'\\f83b'}.fa-octopus-deploy:before{content:'\\e082'}.fa-medapps:before{content:'\\f3c6'}.fa-ns8:before{content:'\\f3d5'}.fa-pinterest-p:before{content:'\\f231'}.fa-apper:before{content:'\\f371'}.fa-fort-awesome:before{content:'\\f286'}.fa-waze:before{content:'\\f83f'}.fa-bluesky:before{content:'\\e671'}.fa-cc-jcb:before{content:'\\f24b'}.fa-snapchat:before{content:'\\f2ab'}.fa-snapchat-ghost:before{content:'\\f2ab'}.fa-fantasy-flight-games:before{content:'\\f6dc'}.fa-rust:before{content:'\\e07a'}.fa-wix:before{content:'\\f5cf'}.fa-square-behance:before{content:'\\f1b5'}.fa-behance-square:before{content:'\\f1b5'}.fa-supple:before{content:'\\f3f9'}.fa-webflow:before{content:'\\e65c'}.fa-rebel:before{content:'\\f1d0'}.fa-css3:before{content:'\\f13c'}.fa-staylinked:before{content:'\\f3f5'}.fa-kaggle:before{content:'\\f5fa'}.fa-space-awesome:before{content:'\\e5ac'}.fa-deviantart:before{content:'\\f1bd'}.fa-cpanel:before{content:'\\f388'}.fa-goodreads-g:before{content:'\\f3a9'}.fa-square-git:before{content:'\\f1d2'}.fa-git-square:before{content:'\\f1d2'}.fa-square-tumblr:before{content:'\\f174'}.fa-tumblr-square:before{content:'\\f174'}.fa-trello:before{content:'\\f181'}.fa-creative-commons-nc-jp:before{content:'\\f4ea'}.fa-get-pocket:before{content:'\\f265'}.fa-perbyte:before{content:'\\e083'}.fa-grunt:before{content:'\\f3ad'}.fa-weebly:before{content:'\\f5cc'}.fa-connectdevelop:before{content:'\\f20e'}.fa-leanpub:before{content:'\\f212'}.fa-black-tie:before{content:'\\f27e'}.fa-themeco:before{content:'\\f5c6'}.fa-python:before{content:'\\f3e2'}.fa-android:before{content:'\\f17b'}.fa-bots:before{content:'\\e340'}.fa-free-code-camp:before{content:'\\f2c5'}.fa-hornbill:before{content:'\\f592'}.fa-js:before{content:'\\f3b8'}.fa-ideal:before{content:'\\e013'}.fa-git:before{content:'\\f1d3'}.fa-dev:before{content:'\\f6cc'}.fa-sketch:before{content:'\\f7c6'}.fa-yandex-international:before{content:'\\f414'}.fa-cc-amex:before{content:'\\f1f3'}.fa-uber:before{content:'\\f402'}.fa-github:before{content:'\\f09b'}.fa-php:before{content:'\\f457'}.fa-alipay:before{content:'\\f642'}.fa-youtube:before{content:'\\f167'}.fa-skyatlas:before{content:'\\f216'}.fa-firefox-browser:before{content:'\\e007'}.fa-replyd:before{content:'\\f3e6'}.fa-suse:before{content:'\\f7d6'}.fa-jenkins:before{content:'\\f3b6'}.fa-twitter:before{content:'\\f099'}.fa-rockrms:before{content:'\\f3e9'}.fa-pinterest:before{content:'\\f0d2'}.fa-buffer:before{content:'\\f837'}.fa-npm:before{content:'\\f3d4'}.fa-yammer:before{content:'\\f840'}.fa-btc:before{content:'\\f15a'}.fa-dribbble:before{content:'\\f17d'}.fa-stumbleupon-circle:before{content:'\\f1a3'}.fa-internet-explorer:before{content:'\\f26b'}.fa-stubber:before{content:'\\e5c7'}.fa-telegram:before{content:'\\f2c6'}.fa-telegram-plane:before{content:'\\f2c6'}.fa-old-republic:before{content:'\\f510'}.fa-odysee:before{content:'\\e5c6'}.fa-square-whatsapp:before{content:'\\f40c'}.fa-whatsapp-square:before{content:'\\f40c'}.fa-node-js:before{content:'\\f3d3'}.fa-edge-legacy:before{content:'\\e078'}.fa-slack:before{content:'\\f198'}.fa-slack-hash:before{content:'\\f198'}.fa-medrt:before{content:'\\f3c8'}.fa-usb:before{content:'\\f287'}.fa-tumblr:before{content:'\\f173'}.fa-vaadin:before{content:'\\f408'}.fa-quora:before{content:'\\f2c4'}.fa-square-x-twitter:before{content:'\\e61a'}.fa-reacteurope:before{content:'\\f75d'}.fa-medium:before{content:'\\f23a'}.fa-medium-m:before{content:'\\f23a'}.fa-amilia:before{content:'\\f36d'}.fa-mixcloud:before{content:'\\f289'}.fa-flipboard:before{content:'\\f44d'}.fa-viacoin:before{content:'\\f237'}.fa-critical-role:before{content:'\\f6c9'}.fa-sitrox:before{content:'\\e44a'}.fa-discourse:before{content:'\\f393'}.fa-joomla:before{content:'\\f1aa'}.fa-mastodon:before{content:'\\f4f6'}.fa-airbnb:before{content:'\\f834'}.fa-wolf-pack-battalion:before{content:'\\f514'}.fa-buy-n-large:before{content:'\\f8a6'}.fa-gulp:before{content:'\\f3ae'}.fa-creative-commons-sampling-plus:before{content:'\\f4f1'}.fa-strava:before{content:'\\f428'}.fa-ember:before{content:'\\f423'}.fa-canadian-maple-leaf:before{content:'\\f785'}.fa-teamspeak:before{content:'\\f4f9'}.fa-pushed:before{content:'\\f3e1'}.fa-wordpress-simple:before{content:'\\f411'}.fa-nutritionix:before{content:'\\f3d6'}.fa-wodu:before{content:'\\e088'}.fa-google-pay:before{content:'\\e079'}.fa-intercom:before{content:'\\f7af'}.fa-zhihu:before{content:'\\f63f'}.fa-korvue:before{content:'\\f42f'}.fa-pix:before{content:'\\e43a'}.fa-steam-symbol:before{content:'\\f3f6'}:host,:root{--fa-style-family-classic:'Font Awesome 6 Free';--fa-font-regular:normal 400 1em/1 'Font Awesome 6 Free'}@font-face{font-family:'Font Awesome 6 Free';font-style:normal;font-weight:400;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.ttf) format('truetype')}.fa-regular,.far{font-weight:400}:host,:root{--fa-style-family-classic:'Font Awesome 6 Free';--fa-font-solid:normal 900 1em/1 'Font Awesome 6 Free'}@font-face{font-family:'Font Awesome 6 Free';font-style:normal;font-weight:900;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.ttf) format('truetype')}.fa-solid,.fas{font-weight:900}@font-face{font-family:'Font Awesome 5 Brands';font-display:block;font-weight:400;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.ttf) format('truetype')}@font-face{font-family:'Font Awesome 6 Free';font-display:block;font-weight:900;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.ttf) format('truetype')}@font-face{font-family:'Font Awesome 6 Free';font-display:block;font-weight:400;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.ttf) format('truetype')}@font-face{font-family:FontAwesome;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-solid-900.ttf) format('truetype')}@font-face{font-family:FontAwesome;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-brands-400.ttf) format('truetype')}@font-face{font-family:FontAwesome;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-regular-400.ttf) format('truetype');unicode-range:U+F003,U+F006,U+F014,U+F016-F017,U+F01A-F01B,U+F01D,U+F022,U+F03E,U+F044,U+F046,U+F05C-F05D,U+F06E,U+F070,U+F087-F088,U+F08A,U+F094,U+F096-F097,U+F09D,U+F0A0,U+F0A2,U+F0A4-F0A7,U+F0C5,U+F0C7,U+F0E5-F0E6,U+F0EB,U+F0F6-F0F8,U+F10C,U+F114-F115,U+F118-F11A,U+F11C-F11D,U+F133,U+F147,U+F14E,U+F150-F152,U+F185-F186,U+F18E,U+F190-F192,U+F196,U+F1C1-F1C9,U+F1D9,U+F1DB,U+F1E3,U+F1EA,U+F1F7,U+F1F9,U+F20A,U+F247-F248,U+F24A,U+F24D,U+F255-F25B,U+F25D,U+F271-F274,U+F278,U+F27B,U+F28C,U+F28E,U+F29C,U+F2B5,U+F2B7,U+F2BA,U+F2BC,U+F2BE,U+F2C0-F2C1,U+F2C3,U+F2D0,U+F2D2,U+F2D4,U+F2DC}@font-face{font-family:FontAwesome;font-display:block;src:url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-v4compatibility.woff2) format('woff2'),url(node_modules/@fortawesome/fontawesome-free/webfonts/fa-v4compatibility.ttf) format('truetype');unicode-range:U+F041,U+F047,U+F065-F066,U+F07D-F07E,U+F080,U+F08B,U+F08E,U+F090,U+F09A,U+F0AC,U+F0AE,U+F0B2,U+F0D0,U+F0D6,U+F0E4,U+F0EC,U+F10A-F10B,U+F123,U+F13E,U+F148-F149,U+F14C,U+F156,U+F15E,U+F160-F161,U+F163,U+F175-F178,U+F195,U+F1F8,U+F219,U+F27A}`;class Ds extends ys{constructor(){super(...arguments),this.subscriptions=[]}connectedCallback(){this.i18nLanguageChangedCallback_=()=>this.requestUpdate(),V.on("languageChanged",this.i18nLanguageChangedCallback_),super.connectedCallback(),this.subscriptions.push(lo.getConfig().subscribe({next:e=>{e&&this.initConfig(e)}}))}disconnectedCallback(){V.off("languageChanged",this.i18nLanguageChangedCallback_),super.disconnectedCallback(),this.subscriptions.forEach((e=>e.unsubscribe()))}initConfig(e){}}Ds.resetStyle=Ls,Ds.bootstrapStyle=Cs,Ds.fontawesomeStyle=Es,Ds.bootstrapVarStyle=go`body .btn-link,body a{color:var(--link-color)}body .btn-link:hover,body a:hover{color:var(--link-hover-color)}body .btn.focus,body .btn:focus,body .form-control.focus,body .form-control:focus{box-shadow:0 0 0 .2rem var(--input-btn-focus-color);border-color:var(--brand-primary)}body .modal-header{border-color:var(--link-color)}body .table tr td,body .table tr th{border-color:var(--table-border-color)}body .nav-pills .nav-link.active,body .nav-pills .show>.nav-link{background-color:var(--brand-primary)}`,Ds.commonStyle=go`.btn.prime,.form-control{border-radius:0}.btn.prime{background-color:var(--brand-primary);border-color:var(--input-border-focus);color:#fff}.btn.prime.active{box-shadow:inset 0 .37rem .75rem var(--light-box-shadow-color)}.btn.prime.active,.btn.prime:hover{background-color:var(--input-border-focus);border-color:var(--input-border-focus-darken)}.btn-link,a{color:var(--link-color)}.btn-link:hover,a:hover{color:var(--link-hover-color)}`,Ds.styles=[Ds.resetStyle,Ds.bootstrapStyle,Ds.bootstrapVarStyle,Ds.fontawesomeStyle,Ds.commonStyle];const As=Ds;var $s;!function(e){e.ERROR="error",e.INFORMATION="information",e.SUCCESS="success",e.WARNING="warning"}($s||($s={}));const Ps=class{showMessage(e){}show(e){this.getMessageObjects(e).forEach((e=>this.showMessage(e)))}error(e){this.show(this.getMessageObjects(e,$s.ERROR))}info(e){this.show(this.getMessageObjects(e,$s.INFORMATION))}success(e){this.show(this.getMessageObjects(e,$s.SUCCESS))}warn(e){this.show(this.getMessageObjects(e,$s.WARNING))}getMessageObjects(e,t){const n=[],r=$s.INFORMATION;if("string"==typeof e)n.push({msg:e,type:void 0!==t?t:r});else if(Array.isArray(e))e.forEach((i=>{if("string"==typeof e)n.push({msg:i,type:void 0!==t?t:r});else{if("string"==typeof i)throw new Error("Wrong msg type");void 0!==t&&(i.type=t),n.push(i)}}));else{const i=e;void 0!==t&&(i.type=t),void 0===i.type&&(i.type=r),n.push(i)}return n}},Rs="transitionend";function Os(e){let t=!1;return r()(this).one(Is.TRANSITION_END,(()=>{t=!0})),setTimeout((()=>{t||Is.triggerTransitionEnd(this)}),e),this}const Is={TRANSITION_END:"bsTransitionEnd",getUID(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement(e){let t=e.getAttribute("data-target");if(!t||"#"===t){const n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement(e){if(!e)return 0;let t=r()(e).css("transition-duration"),n=r()(e).css("transition-delay");const i=parseFloat(t),o=parseFloat(n);return i||o?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},reflow:e=>e.offsetHeight,triggerTransitionEnd(e){r()(e).trigger(Rs)},supportsTransitionEnd:()=>Boolean(Rs),isElement:e=>(e[0]||e).nodeType,typeCheckConfig(e,t,n){for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=n[i],s=t[i],a=s&&Is.isElement(s)?"element":null==(r=s)?`${r}`:{}.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(`${e.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${o}".`)}var r},findShadowRoot(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Is.findShadowRoot(e.parentNode):null},jQueryDetection(){if(void 0===r())throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");const e=r().fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};Is.jQueryDetection(),r().fn.emulateTransitionEnd=Os,r().event.special[Is.TRANSITION_END]={bindType:Rs,delegateType:Rs,handle(e){if(r()(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};const Fs=Is,Ns="alert",Ys="bs.alert",js=`.${Ys}`,Hs=r().fn[Ns],zs=`close${js}`,Us=`closed${js}`,Ws=`click${js}.data-api`;class Gs{constructor(e){this._element=e}static get VERSION(){return"4.6.2"}close(e){let t=this._element;e&&(t=this._getRootElement(e));this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)}dispose(){r().removeData(this._element,Ys),this._element=null}_getRootElement(e){const t=Fs.getSelectorFromElement(e);let n=!1;return t&&(n=document.querySelector(t)),n||(n=r()(e).closest(".alert")[0]),n}_triggerCloseEvent(e){const t=r().Event(zs);return r()(e).trigger(t),t}_removeElement(e){if(r()(e).removeClass("show"),!r()(e).hasClass("fade"))return void this._destroyElement(e);const t=Fs.getTransitionDurationFromElement(e);r()(e).one(Fs.TRANSITION_END,(t=>this._destroyElement(e,t))).emulateTransitionEnd(t)}_destroyElement(e){r()(e).detach().trigger(Us).remove()}static _jQueryInterface(e){return this.each((function(){const t=r()(this);let n=t.data(Ys);n||(n=new Gs(this),t.data(Ys,n)),"close"===e&&n[e](this)}))}static _handleDismiss(e){return function(t){t&&t.preventDefault(),e.close(this)}}}r()(document).on(Ws,'[data-dismiss="alert"]',Gs._handleDismiss(new Gs)),r().fn[Ns]=Gs._jQueryInterface,r().fn[Ns].Constructor=Gs,r().fn[Ns].noConflict=()=>(r().fn[Ns]=Hs,Gs._jQueryInterface);var qs=i(6932);const Bs=new class extends Ps{constructor(){super();const e=document.createElement("div");e.classList.add("ngeo-notification"),document.body.append(e),this.container_=e,this.cache_={}}notify(e){this.show(e)}clear(){for(const e in this.cache_)this.clearMessageByCacheItem_(this.cache_[parseInt(e,10)])}showMessage(e){const t=e.type;console.assert("string"==typeof t,"Type should be set.");const n=["alert","fade","show"];switch(t){case $s.ERROR:n.push("alert-danger");break;case $s.INFORMATION:n.push("alert-info");break;case $s.SUCCESS:n.push("alert-success");break;case $s.WARNING:n.push("alert-warning")}const r=document.createElement("div");let i;n.forEach((e=>r.classList.add(e))),i=e.target?e.target:this.container_,i.append(r),r.innerHTML=e.msg.normalize("NFD").replace(/([\u0300-\u036f]|[\u003C\u003E])/g,""),r.classList.add("show");const o=void 0!==e.delay?e.delay:7e3,s={el:r},a=qe(r);s.promise=window.setTimeout((()=>{qs(r).alert("close"),delete this.cache_[a]}),o),this.cache_[a]=s}clearMessageByCacheItem_(e){const t=e.el,n=e.promise,r=qe(t);qs(t).alert("close"),clearTimeout(n),delete this.cache_[r]}},Vs=Bs,Xs={touchedByUser:!1};var Ks;!function(e){e.LOGGED_IN="logged in",e.LOGGED_OUT="logged out",e.DISCONNECTED="disconnected",e.READY="ready",e.NOT_INITIALIZED="not initialized"}(Ks||(Ks={}));const Js="Some layers in this link are not accessible to unauthenticated users. Please log in to see whole data.";const Zs=new class{constructor(){this.properties_=new wi(this.getEmptyUserProperties()),this.loginMessage_=new wi(""),this.state_=Ks.NOT_INITIALIZED}getProperties(){return this.properties_}getState(){return this.state_}getLoginMessage(){return this.loginMessage_}setLoginMessage(e){this.loginMessage_.next(e)}setUser(e,t){this.checkUserProperties_(e)&&null!==t&&(this.state_=t,this.properties_.next(e))}getEmptyUserProperties(){return{email:null,is_intranet:null,functionalities:null,is_password_changed:null,roles:null,username:null,display_name:null,otp_key:null,otp_uri:null,two_factor_totp_secret:null}}checkUserProperties_(e){if(null==e)return console.error("New properties of the user must be an object"),!1;let t=!0;return Object.keys(this.getEmptyUserProperties()).forEach((n=>{Object.keys(e).includes(n)||(console.error(`User is missing property ${n}`),t=!1)})),t}},Qs=Zs;var ea=i(772),ta=i.n(ea);const na=Object.prototype.toString;function ra(e){switch(na.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return fa(e,Error)}}function ia(e,t){return na.call(e)===`[object ${t}]`}function oa(e){return ia(e,"ErrorEvent")}function sa(e){return ia(e,"DOMError")}function aa(e){return ia(e,"String")}function la(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ca(e){return null===e||la(e)||"object"!=typeof e&&"function"!=typeof e}function ua(e){return ia(e,"Object")}function ha(e){return"undefined"!=typeof Event&&fa(e,Event)}function da(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function fa(e,t){try{return e instanceof t}catch(e){return!1}}function pa(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function ma(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function ga(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{pa(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function _a(e,t,n=!1){return!!aa(e)&&(ia(t,"RegExp")?t.test(e):!!aa(t)&&(n?e===t:e.includes(t)))}function ya(e,t=[],n=!1){return t.some((t=>_a(e,t,n)))}function ba(e,t,n=250,r,i,o,s){if(!(o.exception&&o.exception.values&&s&&fa(s.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var l,c;a&&(o.exception.values=(l=va(e,t,i,s.originalException,r,o.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=ma(e.value,c)),e)))))}function va(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if(fa(r[i],Error)){wa(s,a);const o=e(t,r[i]),c=l.length;xa(o,i,c,a),l=va(e,t,n,r[i],i,[o,...l],o,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(fa(r,Error)){wa(s,a);const c=e(t,r),u=l.length;xa(c,`errors[${o}]`,u,a),l=va(e,t,n,r,i,[c,...l],c,u)}})),l}function wa(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function xa(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Ma(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const Sa="8.36.0",ka=globalThis;function Ta(e,t,n){const r=n||ka,i=r.__SENTRY__=r.__SENTRY__||{},o=i[Sa]=i[Sa]||{};return o[e]||(o[e]=t())}const La=ka;function Ca(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(c=Ea(n,u),!("html"===c||o>1&&s+i.length*l+c.length>=h));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return"<unknown>"}}function Ea(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(La.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i&&i.length)i.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&aa(e)){const t=e.split(/\s+/);for(const e of t)r.push(`.${e}`)}}const o=["aria-label","type","name","title","alt"];for(const e of o){const t=n.getAttribute(e);t&&r.push(`[${e}="${t}"]`)}return r.join("")}function Da(){try{return La.document.location.href}catch(e){return""}}function Aa(e){if(!La.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const $a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Pa=["debug","info","warn","error","log","assert","trace"],Ra={};function Oa(e){if(!("console"in ka))return e();const t=ka.console,n={},r=Object.keys(Ra);r.forEach((e=>{const r=Ra[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const Ia=Ta("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return $a?Pa.forEach((n=>{t[n]=(...t)=>{e&&Oa((()=>{ka.console[n](`Sentry Logger [${n}]:`,...t)}))}})):Pa.forEach((e=>{t[e]=()=>{}})),t})),Fa=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Na(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function Ya(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ja(e){const t="string"==typeof e?function(e){const t=Fa.exec(e);if(!t)return void Oa((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",o="",s="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return Ya({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}(e):Ya(e);if(t&&function(e){if(!$a)return!0;const{port:t,projectId:n,protocol:r}=e,i=["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Ia.error(`Invalid Sentry Dsn: ${t} missing`),!0)));return!(i||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(Ia.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Ia.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(Ia.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class Ha extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function za(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);"function"==typeof i&&Wa(i,r),e[t]=i}function Ua(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){$a&&Ia.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Wa(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ua(e,"__sentry_original__",t)}catch(e){}}function Ga(e){return e.__sentry_original__}function qa(e){if(ra(e))return{message:e.message,name:e.name,stack:e.stack,...Va(e)};if(ha(e)){const t={type:e.type,target:Ba(e.target),currentTarget:Ba(e.currentTarget),...Va(e)};return"undefined"!=typeof CustomEvent&&fa(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ba(e){try{return t=e,"undefined"!=typeof Element&&fa(t,Element)?Ca(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Va(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Xa(e,t=40){const n=Object.keys(qa(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return ma(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:ma(r,t)}return""}function Ka(e){return Ja(e,new Map)}function Ja(e,t){if(function(e){if(!ua(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.getOwnPropertyNames(e))void 0!==e[n]&&(r[n]=Ja(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(Ja(e,t))})),r}return e}const Za="?",Qa=/\(error: (.*)\)/,el=/captureMessage|captureException/;function tl(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,r=0)=>{const i=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const s=Qa.test(n)?n.replace(Qa,"$1"):n;if(!s.match(/\S*Error: /)){for(const e of t){const t=e(s);if(t){i.push(t);break}}if(i.length>=50+r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(nl(t).function||"")&&t.pop();t.reverse(),el.test(nl(t).function||"")&&(t.pop(),el.test(nl(t).function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||nl(t).filename,function:e.function||Za})))}(i.slice(r))}}function nl(e){return e[e.length-1]||{}}const rl="<anonymous>";function il(e){try{return e&&"function"==typeof e&&e.name||rl}catch(e){return rl}}function ol(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}}const sl={},al={};function ll(e,t){sl[e]=sl[e]||[],sl[e].push(t)}function cl(e,t){al[e]||(t(),al[e]=!0)}function ul(e,t){const n=e&&sl[e];if(n)for(const r of n)try{r(t)}catch(t){$a&&Ia.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${il(r)}\nError:`,t)}}function hl(e){const t="console";ll(t,e),cl(t,dl)}function dl(){"console"in ka&&Pa.forEach((function(e){e in ka.console&&za(ka.console,e,(function(t){return Ra[e]=t,function(...t){ul("console",{args:t,level:e});const n=Ra[e];n&&n.apply(ka.console,t)}}))}))}const fl=ka;function pl(){if(!("fetch"in fl))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function ml(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function gl(){if("string"==typeof EdgeRuntime)return!0;if(!pl())return!1;if(ml(fl.fetch))return!0;let e=!1;const t=fl.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=ml(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){$a&&Ia.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function _l(){return Date.now()/1e3}const yl=function(){const{performance:e}=ka;if(!e||!e.now)return _l;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();let bl;const vl=(()=>{const{performance:e}=ka;if(!e||!e.now)return void(bl="none");const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,a="number"==typeof s?Math.abs(s+n-r):t;return o||a<t?i<=a?(bl="timeOrigin",e.timeOrigin):(bl="navigationStart",s):(bl="dateNow",r)})();function wl(e,t){const n="fetch";ll(n,e),cl(n,(()=>xl(void 0,t)))}function xl(e,t=!1){t&&!gl()||za(ka,"fetch",(function(t){return function(...n){const{method:r,url:i}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:kl(t),method:Sl(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:kl(t),method:Sl(t,"method")?String(t.method).toUpperCase():"GET"}}(n),o={args:n,fetchData:{method:r,url:i},startTimestamp:1e3*yl()};e||ul("fetch",{...o});const s=(new Error).stack;return t.apply(ka,n).then((async t=>(e?e(t):ul("fetch",{...o,endTimestamp:1e3*yl(),response:t}),t)),(e=>{throw ul("fetch",{...o,endTimestamp:1e3*yl(),error:e}),ra(e)&&void 0===e.stack&&(e.stack=s,Ua(e,"framesToPop",1)),e}))}}))}function Ml(e){let t;try{t=e.clone()}catch(e){return}!async function(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout((()=>{n.cancel().then(null,(()=>{}))}),9e4);let o=!0;for(;o;){let e;try{e=setTimeout((()=>{n.cancel().then(null,(()=>{}))}),5e3);const{done:i}=await r.read();clearTimeout(e),i&&(t(),o=!1)}catch(e){o=!1}finally{clearTimeout(e)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,(()=>{}))}}(t,(()=>{ul("fetch-body-resolved",{endTimestamp:1e3*yl(),response:e})}))}function Sl(e,t){return!!e&&"object"==typeof e&&!!e[t]}function kl(e){return"string"==typeof e?e:e?Sl(e,"url")?e.url:e.toString?e.toString():"":""}let Tl=null;function Ll(e){const t="error";ll(t,e),cl(t,Cl)}function Cl(){Tl=ka.onerror,ka.onerror=function(e,t,n,r,i){return ul("error",{column:r,error:i,line:n,msg:e,url:t}),!(!Tl||Tl.__SENTRY_LOADER__)&&Tl.apply(this,arguments)},ka.onerror.__SENTRY_INSTRUMENTED__=!0}let El=null;function Dl(e){const t="unhandledrejection";ll(t,e),cl(t,Al)}function Al(){El=ka.onunhandledrejection,ka.onunhandledrejection=function(e){return ul("unhandledrejection",e),!(El&&!El.__SENTRY_LOADER__)||El.apply(this,arguments)},ka.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function $l(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function Pl(){return"undefined"!=typeof window&&(!$l()||void 0!==ka.process&&"renderer"===ka.process.type)}function Rl(){const e=ka,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Ol(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Il(e){const{message:t,event_id:n}=e;if(t)return t;const r=Ol(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Fl(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function Nl(e,t){const n=Ol(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function Yl(e){if(e&&e.__sentry_captured__)return!0;try{Ua(e,"__sentry_captured__",!0)}catch(e){}return!1}function jl(e){return Array.isArray(e)?e:[e]}function Hl(e,t=100,n=1/0){try{return Ul("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function zl(e,t=3,n=102400){const r=Hl(e,t);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}(r)>n?zl(e,t-1,n):r}function Ul(e,t,n=1/0,r=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[s,a]=o;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const l=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==i.g&&t===i.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(pa(t))return"[VueViewModel]";if(ua(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${il(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return l.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&"function"==typeof u.toJSON)try{return Ul("",u.toJSON(),c-1,r,o)}catch(e){}const h=Array.isArray(t)?[]:{};let d=0;const f=qa(t);for(const e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(d>=r){h[e]="[MaxProperties ~]";break}const t=f[e];h[e]=Ul(e,t,c-1,r,o),d++}return a(t),h}var Wl;function Gl(e){return new Bl((t=>{t(e)}))}function ql(e){return new Bl(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(Wl||(Wl={}));class Bl{constructor(e){Bl.prototype.__init.call(this),Bl.prototype.__init2.call(this),Bl.prototype.__init3.call(this),Bl.prototype.__init4.call(this),this._state=Wl.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Bl(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Bl(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(Wl.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Wl.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===Wl.PENDING&&(da(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Wl.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===Wl.RESOLVED&&e[1](this._value),this._state===Wl.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Vl(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return ql(new Ha("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new Bl(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{Gl(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function Xl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Kl=["fatal","error","warning","log","info","debug"];function Jl(e){return"warn"===e?"warning":Kl.includes(e)?e:"log"}const Zl="baggage",Ql="sentry-",ec=/^sentry-/;function tc(e){const t=function(e){if(!e||!aa(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce(((e,t)=>{const n=rc(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{});return rc(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(ec)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function nc(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===r?i:`${e},${i}`;return o.length>8192?($a&&Ia.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${Ql}${t}`]=n),e)),{}))}function rc(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}const ic=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function oc(e,t){const n=function(e){if(!e)return;const t=e.match(ic);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=tc(t),{traceId:i,parentSpanId:o,parentSampled:s}=n||{};return n?{traceId:i||Rl(),parentSpanId:o||Rl().substring(16),spanId:Rl().substring(16),sampled:s,dsc:r||{}}:{traceId:i||Rl(),spanId:Rl().substring(16)}}function sc(e=Rl(),t=Rl().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ac(e,t=[]){return[e,t]}function lc(e,t){const[n,r]=e;return[n,[...r,t]]}function cc(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function uc(e){return ka.__SENTRY__&&ka.__SENTRY__.encodePolyfill?ka.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function hc(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[uc(r),e]:r.push("string"==typeof e?uc(e):e)}for(const e of n){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Hl(n))}i(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function dc(e){return[{type:"span"},e]}function fc(e){const t="string"==typeof e.data?uc(e.data):e.data;return[Ka({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const pc={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function mc(e){return pc[e]}function gc(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function _c(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Na(r)},...i&&{trace:Ka({...i})}}}function yc(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function bc(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n,,,o]=e.split(":",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))"metric_bucket"===e&&o&&!o.split(";").includes("custom")||(i[e]=r+a);else i.all=r+a}else s?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}function vc(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}function wc(){return{traceId:Rl(),spanId:Rl().substring(16)}}const xc=ka;const Mc="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Sc(){return kc(ka),ka}function kc(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Sa,t[Sa]=t[Sa]||{}}function Tc(e){const t=yl(),n={sid:Rl(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Ka({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&Lc(n,e),n}function Lc(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||yl(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Rl()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}const Cc="_sentrySpan";function Ec(e,t){t?Ua(e,Cc,t):delete e[Cc]}function Dc(e){return e[Cc]}class Ac{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=wc()}clone(){const e=new Ac;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Ec(e,Dc(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Lc(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,[n,r]=t instanceof $c?[t.getScopeData(),t.getRequestSession()]:ua(t)?[e,e.requestSession]:[],{tags:i,extra:o,user:s,contexts:a,level:l,fingerprint:c=[],propagationContext:u}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),l&&(this._level=l),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Ec(this,void 0),this._attachments=[],this._propagationContext=wc(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:_l(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Dc(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:Rl();if(!this._client)return Ia.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:Rl();if(!this._client)return Ia.warn("No client configured on scope - will not capture message!"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Rl();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Ia.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const $c=Ac;class Pc{constructor(e,t){let n,r;n=e||new $c,r=t||new $c,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return da(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Rc(){const e=kc(Sc());return e.stack=e.stack||new Pc(Ta("defaultCurrentScope",(()=>new $c)),Ta("defaultIsolationScope",(()=>new $c)))}function Oc(e){return Rc().withScope(e)}function Ic(e,t){const n=Rc();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function Fc(e){return Rc().withScope((()=>e(Rc().getIsolationScope())))}function Nc(e){const t=kc(e);return t.acs?t.acs:{withIsolationScope:Fc,withScope:Oc,withSetScope:Ic,withSetIsolationScope:(e,t)=>Fc(t),getCurrentScope:()=>Rc().getScope(),getIsolationScope:()=>Rc().getIsolationScope()}}function Yc(){return Nc(Sc()).getCurrentScope()}function jc(){return Nc(Sc()).getIsolationScope()}function Hc(){return Ta("globalScope",(()=>new $c))}function zc(...e){const t=Nc(Sc());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function Uc(){return Yc().getClient()}const Wc="_sentryMetrics";function Gc(e){const t=e[Wc];if(!t)return;const n={};for(const[,[e,r]]of t){(n[e]||(n[e]=[])).push(Ka(r))}return n}const qc="sentry.source",Bc="sentry.sample_rate",Vc="sentry.op",Xc="sentry.origin",Kc="sentry.idle_span_finish_reason",Jc="sentry.measurement_unit",Zc="sentry.measurement_value",Qc="sentry.exclusive_time";function eu(e,t){e.setAttribute("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}function tu(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a}=su(e);return Ka({parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:s,origin:a})}function nu(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=su(e);return Ka({parent_span_id:r,span_id:t,trace_id:n})}function ru(e){const{traceId:t,spanId:n}=e.spanContext();return sc(t,n,au(e))}function iu(e){return"number"==typeof e?ou(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?ou(e.getTime()):yl()}function ou(e){return e>9999999999?e/1e3:e}function su(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:l}=e;return Ka({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:iu(i),timestamp:iu(s)||void 0,status:lu(l),op:r[Vc],origin:r[Xc],_metrics_summary:Gc(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function au(e){const{traceFlags:t}=e.spanContext();return 1===t}function lu(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}const cu="_sentryChildSpans",uu="_sentryRootSpan";function hu(e,t){const n=e[uu]||e;Ua(t,uu,n),e[cu]?e[cu].add(t):Ua(e,cu,new Set([t]))}function du(e){const t=new Set;return function e(n){if(!t.has(n)&&au(n)){t.add(n);const r=n[cu]?Array.from(n[cu]):[];for(const t of r)e(t)}}(e),Array.from(t)}function fu(e){return e[uu]||e}function pu(){const e=Nc(Sc());return e.getActiveSpan?e.getActiveSpan():Dc(Yc())}let mu=!1;function gu(){mu||(mu=!0,Ll(_u),Dl(_u))}function _u(){const e=pu(),t=e&&fu(e);if(t){const e="internal_error";Mc&&Ia.log(`[Tracing] Root span: ${e} -> Global error occured`),t.setStatus({code:2,message:e})}}_u.tag="sentry_tracingErrorCallback";const yu="_sentryScope",bu="_sentryIsolationScope";function vu(e){return{scope:e[yu],isolationScope:e[bu]}}function wu(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Uc(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class xu{constructor(e={}){this._traceId=e.traceId||Rl(),this._spanId=e.spanId||Rl().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}const Mu="production",Su="_frozenDsc";function ku(e,t){Ua(e,Su,t)}function Tu(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Ka({environment:n.environment||Mu,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function Lu(e){const t=Uc();if(!t)return{};const n=Tu(su(e).trace_id||"",t),r=fu(e),i=r[Su];if(i)return i;const o=r.spanContext().traceState,s=o&&o.get("sentry.dsc"),a=s&&tc(s);if(a)return a;const l=su(r),c=l.data||{},u=c[Bc];null!=u&&(n.sample_rate=`${u}`);const h=c[qc],d=l.description;return"url"!==h&&d&&(n.transaction=d),wu()&&(n.sampled=String(au(r))),t.emit("createDsc",n,r),n}function Cu(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;Mc&&Ia.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}function Eu(e){if(!e||0===e.length)return;const t={};return e.forEach((e=>{const n=e.attributes||{},r=n[Jc],i=n[Zc];"string"==typeof r&&"number"==typeof i&&(t[e.name]={value:i,unit:r})})),t}class Du{constructor(e={}){this._traceId=e.traceId||Rl(),this._spanId=e.spanId||Rl().substring(16),this._startTime=e.startTimestamp||yl(),this._attributes={},this.setAttributes({[Xc]:"manual",[Vc]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}updateStartTime(e){this._startTime=iu(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this}end(e){this._endTime||(this._endTime=iu(e),function(e){if(!Mc)return;const{description:t="< unknown name >",op:n="< unknown op >"}=su(e),{spanId:r}=e.spanContext(),i=`[Tracing] Finishing "${n}" ${fu(e)===e?"root ":""}span "${t}" with ID ${r}`;Ia.log(i)}(this),this._onSpanEnded())}getSpanJSON(){return Ka({data:this._attributes,description:this._name,op:this._attributes[Vc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:lu(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Xc],_metrics_summary:Gc(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[Qc],measurements:Eu(this._events),is_segment:this._isStandaloneSpan&&fu(this)===this||void 0,segment_id:this._isStandaloneSpan?fu(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){Mc&&Ia.log("[Tracing] Adding an event to span:",e);const r=Au(t)?t:n||yl(),i=Au(t)?{}:t||{},o={name:e,time:iu(r),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Uc();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===fu(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=Uc();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");t.sendEnvelope(e)}(function(e,t){const n=Lu(e[0]),r=t&&t.getDsn(),i=t&&t.getOptions().tunnel,o={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n},...!!i&&r&&{dsn:Na(r)}},s=t&&t.getOptions().beforeSendSpan,a=s?e=>s(su(e)):e=>su(e),l=[];for(const t of e){const e=a(t);e&&l.push(dc(e))}return ac(o,l)}([this],e)):(Mc&&Ia.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();if(t){(vu(this).scope||Yc()).captureEvent(t)}}_convertSpanToTransaction(){if(!$u(su(this)))return;this._name||(Mc&&Ia.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=vu(this),n=(e||Yc()).getClient()||Uc();if(!0!==this._sampled)return Mc&&Ia.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));const r=du(this).filter((e=>e!==this&&!function(e){return e instanceof Du&&e.isStandaloneSpan()}(e))).map((e=>su(e))).filter($u),i=this._attributes[qc],o={contexts:{trace:tu(this)},spans:r.length>1e3?r.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...Ka({dynamicSamplingContext:Lu(this)})},_metrics_summary:Gc(this),...i&&{transaction_info:{source:i}}},s=Eu(this._events);return s&&Object.keys(s).length&&(Mc&&Ia.log("[Measurements] Adding measurements to transaction event",JSON.stringify(s,void 0,2)),o.measurements=s),o}}function Au(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function $u(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id)}const Pu="__SENTRY_SUPPRESS_TRACING__";function Ru(e){const t=Nu();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Fu(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?t=>zc(e.scope,t):void 0!==i?e=>Ou(i,e):e=>e())((()=>{const t=Yc(),i=ju(t);return e.onlyIfParent&&!i?new xu:Iu({parentSpan:i,spanArguments:n,forceTransaction:r,scope:t})}))}function Ou(e,t){const n=Nu();return n.withActiveSpan?n.withActiveSpan(e,t):zc((n=>(Ec(n,e||void 0),t(n))))}function Iu({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!wu())return new xu;const i=jc();let o;if(e&&!n)o=function(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),o=!t.getScopeData().sdkProcessingMetadata[Pu]&&au(e),s=o?new Du({...n,parentSpanId:r,traceId:i,sampled:o}):new xu({traceId:i});hu(e,s);const a=Uc();a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s));return s}(e,r,t),hu(e,o);else if(e){const n=Lu(e),{traceId:i,spanId:s}=e.spanContext(),a=au(e);o=Yu({traceId:i,parentSpanId:s,...t},r,a),ku(o,n)}else{const{traceId:e,dsc:n,parentSpanId:s,sampled:a}={...i.getPropagationContext(),...r.getPropagationContext()};o=Yu({traceId:e,parentSpanId:s,...t},r,a),n&&ku(o,n)}return function(e){if(!Mc)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=su(e),{spanId:i}=e.spanContext(),o=au(e),s=fu(e),a=s===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:e,description:t}=su(s);c.push(`root ID: ${s.spanContext().spanId}`),e&&c.push(`root op: ${e}`),t&&c.push(`root description: ${t}`)}Ia.log(`${l}\n  ${c.join("\n  ")}`)}(o),function(e,t,n){e&&(Ua(e,bu,n),Ua(e,yu,t))}(o,r,i),o}function Fu(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=iu(e.startTime),delete n.startTime,n}return t}function Nu(){return Nc(Sc())}function Yu(e,t,n){const r=Uc(),i=r&&r.getOptions()||{},{name:o="",attributes:s}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[Pu]?[!1]:function(e,t){if(!wu(e))return[!1];let n;n="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;const r=Cu(n);return void 0===r?(Mc&&Ia.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Mc&&Ia.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Mc&&Ia.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,r])}(i,{name:o,parentSampled:n,attributes:s,transactionContext:{name:o,parentSampled:n}}),c=new Du({...e,attributes:{[qc]:"custom",...e.attributes},sampled:a});return void 0!==l&&c.setAttribute(Bc,l),r&&r.emit("spanStart",c),c}function ju(e){const t=Dc(e);if(!t)return;const n=Uc();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?fu(t):t}const Hu={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function zu(e,t={}){const n=new Map;let r,i=!1,o="externalFinish",s=!t.disableAutoFinish;const a=[],{idleTimeout:l=Hu.idleTimeout,finalTimeout:c=Hu.finalTimeout,childSpanTimeout:u=Hu.childSpanTimeout,beforeSpanEnd:h}=t,d=Uc();if(!d||!wu())return new xu;const f=Yc(),p=pu(),m=function(e){const t=Ru(e);return Ec(Yc(),t),Mc&&Ia.log("[Tracing] Started span is an idle span"),t}(e);function g(){r&&(clearTimeout(r),r=void 0)}function _(e){g(),r=setTimeout((()=>{!i&&0===n.size&&s&&(o="idleTimeout",m.end(e))}),l)}function y(e){r=setTimeout((()=>{!i&&s&&(o="heartbeatFailed",m.end(e))}),u)}function b(e){i=!0,n.clear(),a.forEach((e=>e())),Ec(f,p);const t=su(m),{start_timestamp:r}=t;if(!r)return;(t.data||{})[Kc]||m.setAttribute(Kc,o),Ia.log(`[Tracing] Idle span "${t.op}" finished`);const s=du(m).filter((e=>e!==m));let u=0;s.forEach((t=>{t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),Mc&&Ia.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=su(t),{timestamp:r=0,start_timestamp:i=0}=n,o=i<=e,s=r-i<=(c+l)/1e3;if(Mc){const e=JSON.stringify(t,void 0,2);o?s||Ia.log("[Tracing] Discarding span since it finished after idle span final timeout",e):Ia.log("[Tracing] Discarding span since it happened after idle span was finished",e)}s&&o||(!function(e,t){e[cu]&&e[cu].delete(t)}(m,t),u++)})),u>0&&m.setAttribute("sentry.idle_span_discarded_spans",u)}return m.end=new Proxy(m.end,{apply(e,t,n){h&&h(m);const[r,...i]=n,o=iu(r||yl()),s=du(m).filter((e=>e!==m));if(!s.length)return b(o),Reflect.apply(e,t,[o,...i]);const a=s.map((e=>su(e).timestamp)).filter((e=>!!e)),l=a.length?Math.max(...a):void 0,u=su(m).start_timestamp,d=Math.min(u?u+c/1e3:1/0,Math.max(u||-1/0,Math.min(o,l||1/0)));return b(d),Reflect.apply(e,t,[d,...i])}}),a.push(d.on("spanStart",(e=>{if(i||e===m||su(e).timestamp)return;var t;du(m).includes(e)&&(t=e.spanContext().spanId,g(),n.set(t,!0),y(yl()+u/1e3))}))),a.push(d.on("spanEnd",(e=>{var t;i||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&_(yl()+l/1e3))}))),a.push(d.on("idleSpanEnableAutoFinish",(e=>{e===m&&(s=!0,_(),n.size&&y())}))),t.disableAutoFinish||_(),setTimeout((()=>{i||(m.setStatus({code:2,message:"deadline_exceeded"}),o="finalTimeout",m.end())}),c),m}function Uu(e,t,n,r=0){return new Bl(((i,o)=>{const s=e[r];if(null===t||"function"!=typeof s)i(t);else{const a=s({...t},n);Mc&&s.id&&null===a&&Ia.log(`Event processor "${s.id}" dropped event`),da(a)?a.then((t=>Uu(e,t,n,r+1).then(i))).then(null,o):Uu(e,a,n,r+1).then(i).then(null,o)}}))}function Wu(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t,l=Ka(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Ka(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=Ka(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const h=Ka(o);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts});s&&(e.level=s);a&&"transaction"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:nu(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Lu(t),...e.sdkProcessingMetadata};const n=fu(t),r=su(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?jl(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function Gu(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:h,propagationContext:d,transactionName:f,span:p}=t;qu(e,"extra",n),qu(e,"tags",r),qu(e,"user",i),qu(e,"contexts",o),qu(e,"sdkProcessingMetadata",a),s&&(e.level=s),f&&(e.transactionName=f),p&&(e.span=p),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...d}}function qu(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Bu(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Rl(),timestamp:t.timestamp||_l()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:Mu);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=ma(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=ma(s.value,o));const a=e.request;a&&a.url&&(a.url=ma(a.url,o))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){const n=ka._sentryDebugIds;if(!n)return;let r;const i=Vu.get(t);i?r=i:(r=new Map,Vu.set(t,r));const o=Object.entries(n).reduce(((e,[n,i])=>{let o;const s=r.get(n);s?o=s:(o=t(n),r.set(n,o));for(let t=o.length-1;t>=0;t--){const n=o[t];if(n.filename){e[n.filename]=i;break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=o[e.filename])}))}))}catch(e){}}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new $c;return n.update(t),n}(r,n.captureContext);n.mechanism&&Nl(l,n.mechanism);const h=i?i.getEventProcessors():[],d=Hc().getScopeData();if(o){Gu(d,o.getScopeData())}if(u){Gu(d,u.getScopeData())}const f=[...n.attachments||[],...d.attachments];f.length&&(n.attachments=f),Wu(l,d);return Uu([...h,...d.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})}))}(e),"number"==typeof s&&s>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Hl(e.data,t,n)}})))},...e.user&&{user:Hl(e.user,t,n)},...e.contexts&&{contexts:Hl(e.contexts,t,n)},...e.extra&&{extra:Hl(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Hl(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:Hl(e.data,t,n)}}))));return r}(e,s,a):e)))}const Vu=new WeakMap;function Xu(e){if(e)return function(e){return e instanceof $c||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>Ku.includes(e)))}(e)?{captureContext:e}:e}const Ku=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Ju(e,t){return Yc().captureException(e,Xu(t))}function Zu(e,t){return Yc().captureEvent(e,t)}function Qu(e,t){jc().setTag(e,t)}function eh(e){const t=Uc(),n=jc(),r=Yc(),{release:i,environment:o=Mu}=t&&t.getOptions()||{},{userAgent:s}=ka.navigator||{},a=Tc({release:i,environment:o,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),l=n.getSession();return l&&"ok"===l.status&&Lc(l,{status:"exited"}),th(),n.setSession(a),r.setSession(a),a}function th(){const e=jc(),t=Yc(),n=t.getSession()||e.getSession();n&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),Lc(e,n)}(n),nh(),e.setSession(),t.setSession()}function nh(){const e=jc(),t=Yc(),n=Uc(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function rh(e=!1){e?th():nh()}function ih(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function oh(e,t){return function(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}function sh(e,t,n){return t||`${function(e){return`${ih(e)}${e.projectId}/envelope/`}(e)}?${oh(e,n)}`}const ah=[];function lh(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?jl(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r),o=i.findIndex((e=>"Debug"===e.name));if(o>-1){const[e]=i.splice(o,1);i.push(e)}return i}function ch(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function uh(e,t,n){if(n[t.name])Mc&&Ia.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===ah.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),ah.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}Mc&&Ia.log(`Integration installed: ${t.name}`)}}const hh="Not capturing exception because it's already been captured.";class dh{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=ja(e.dsn):Mc&&Ia.warn("No DSN provided, client will not send events."),this._dsn){const t=sh(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=Rl();if(Yl(e))return Mc&&Ia.log(hh),r;const i={event_id:r,...t};return this._process(this.eventFromException(e,i).then((e=>this._captureEvent(e,i,n)))),i.event_id}captureMessage(e,t,n,r){const i={event_id:Rl(),...n},o=la(e)?e:String(e),s=ca(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(s.then((e=>this._captureEvent(e,i,r)))),i.event_id}captureEvent(e,t,n){const r=Rl();if(t&&t.originalException&&Yl(t.originalException))return Mc&&Ia.log(hh),r;const i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id}captureSession(e){"string"!=typeof e.release?Mc&&Ia.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Lc(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):Gl(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];uh(this,e,this._integrations),t||ch(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const i=gc(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=_c(e,i,r,t);return delete e.sdkProcessingMetadata,ac(s,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=lc(n,fc(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const i=gc(n);return ac({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Na(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,i=`${e}:${t}`;Mc&&Ia.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(Mc&&Ia.error("Error while sending envelope:",e),e))):(Mc&&Ia.error("Transport disabled"),Gl({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&uh(e,t,n)})),n}(this,e),ch(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(Lc(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Bl((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=jc()){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),Bu(i,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:n,spanId:r,parentSpanId:i,dsc:o}=t;e.contexts={trace:Ka({trace_id:n,span_id:r,parent_span_id:i}),...e.contexts};const s=o||Tu(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(Mc){const t=e;"log"===t.logLevel?Ia.log(t.message):Ia.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,o=ph(e),s=fh(e),a=e.type||"error",l=`before send for type \`${a}\``,c=void 0===i?void 0:Cu(i);if(s&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error",e),ql(new Ha(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const u="replay_event"===a?"replay":a,h=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,h).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,e),new Ha("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(fh(n)&&i)return i(n,r);if(ph(n)){if(n.spans&&s){const t=[];for(const r of n.spans){const n=s(r);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(o){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(n,r)}}return n}(this,r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(da(e))return e.then((e=>{if(!ua(e)&&null!==e)throw new Ha(n);return e}),(e=>{throw new Ha(`${t} rejected with ${e}`)}));if(!ua(e)&&null!==e)throw new Ha(n);return e}(i,l)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",u,e),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new Ha(`${l} returned \`null\`, will not send event.`,"log")}const i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const s=r.transaction_info;if(o&&s&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof Ha)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Ha(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){Mc&&Ia.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(Mc&&Ia.log("No outcomes to send"));if(!this._dsn)return void(Mc&&Ia.log("No dsn provided, will not send outcomes"));Mc&&Ia.log("Sending outcomes:",e);const t=function(e,t,n){return ac(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:n||_l(),discarded_events:e}]])}(e,this._options.tunnel&&Na(this._dsn));this.sendEnvelope(t)}}function fh(e){return void 0===e.type}function ph(e){return"transaction"===e.type}function mh(e,t){!0===t.debug&&(Mc?Ia.enable():Oa((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));Yc().update(t.initialScope);const n=new e(t);return function(e){Yc().setClient(e)}(n),n.init(),n}function gh(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function _h(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,n)||function(e,t){if(!t)return!1;return yh(e)===yh(t)}(e,r)}function yh(e){return"/"===e[e.length-1]?e.slice(0,-1):e}const bh=100;function vh(e,t){const n=Uc(),r=jc();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=bh}=n.getOptions();if(o<=0)return;const s={timestamp:_l(),...e},a=i?Oa((()=>i(s,t))):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,o))}let wh;const xh=new WeakMap,Mh=()=>({name:"FunctionToString",setupOnce(){wh=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ga(this),n=xh.has(Uc())&&void 0!==t?t:this;return wh.apply(n,e)}}catch(e){}},setup(e){xh.set(e,!0)}}),Sh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],kh=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const i=r.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Sh],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return Mc&&Ia.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Il(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t}(e).some((e=>ya(e,t)))}(e,t.ignoreErrors))return Mc&&Ia.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Il(e)}`),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))}(e))return Mc&&Ia.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Il(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&ya(n,t)}(e,t.ignoreTransactions))return Mc&&Ia.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Il(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Th(e);return!!n&&ya(n,t)}(e,t.denyUrls))return Mc&&Ia.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Il(e)}.\nUrl: ${Th(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Th(e);return!n||ya(n,t)}(e,t.allowUrls))return Mc&&Ia.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Il(e)}.\nUrl: ${Th(e)}`),!0;return!1}(t,o)?null:t}});function Th(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return Mc&&Ia.error(`Cannot extract url for event ${Il(e)}`),null}}new Map,new Set;const Lh=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Eh(e,t))return!1;if(!Ch(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Dh(t),r=Dh(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Eh(e,t))return!1;if(!Ch(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Mc&&Ia.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function Ch(e,t){let n=ol(e),r=ol(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Eh(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Dh(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Ah(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const o=wu()&&t(e.fetchData.url);if(e.endTimestamp&&o){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){eu(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(n,e),delete r[t]))}const s=Yc(),a=Uc(),{method:l,url:c}=e.fetchData,u=function(e){try{return new URL(e).href}catch(e){return}}(c),h=u?Xl(u).host:void 0,d=!!pu(),f=o&&d?Ru({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":h,[Xc]:i,[Vc]:"http.client"}}):new xu;if(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f,n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,i){const o=jc(),{traceId:s,spanId:a,sampled:l,dsc:c}={...o.getPropagationContext(),...n.getPropagationContext()},u=i?ru(i):sc(s,a,l),h=nc(c||(i?Lu(i):Tu(s,t))),d=r.headers||("undefined"!=typeof Request&&fa(e,Request)?e.headers:void 0);if(d){if("undefined"!=typeof Headers&&fa(d,Headers)){const e=new Headers(d);if(e.set("sentry-trace",u),h){const t=e.get(Zl);if(t){const n=$h(t);e.set(Zl,n?`${n},${h}`:h)}else e.set(Zl,h)}return e}if(Array.isArray(d)){const e=[...d.filter((e=>!(Array.isArray(e)&&"sentry-trace"===e[0]))).map((e=>{if(Array.isArray(e)&&e[0]===Zl&&"string"==typeof e[1]){const[t,n,...r]=e;return[t,$h(n),...r]}return e})),["sentry-trace",u]];return h&&e.push([Zl,h]),e}{const e="baggage"in d?d.baggage:void 0;let t=[];return Array.isArray(e)?t=e.map((e=>"string"==typeof e?$h(e):e)).filter((e=>""===e)):e&&t.push($h(e)),h&&t.push(h),{...d,"sentry-trace":u,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":u,baggage:h}}(t,a,s,n,wu()&&d?f:void 0)}return f}function $h(e){return e.split(",").filter((e=>!e.split("=")[0].startsWith(Ql))).join(",")}const Ph=ka;let Rh=0;function Oh(){return Rh>0}function Ih(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(Ga(e))return e}catch(t){return e}const r=function(){const n=Array.prototype.slice.call(arguments);try{const r=n.map((e=>Ih(e,t)));return e.apply(this,r)}catch(e){throw Rh++,setTimeout((()=>{Rh--})),zc((r=>{r.addEventProcessor((e=>(t.mechanism&&(Fl(e,void 0,void 0),Nl(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),Ju(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}Wa(r,e),Ua(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const Fh="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Nh(e,t){const n=Hh(e,t),r={type:Wh(t),value:Gh(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Yh(e,t,n,r){const i=Uc(),o=i&&i.getOptions().normalizeDepth,s=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),a={__serialized__:zl(t,o)};if(s)return{exception:{values:[Nh(e,s)]},extra:a};const l={exception:{values:[{type:ha(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Vh(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=Hh(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}function jh(e,t){return{exception:{values:[Nh(e,t)]}}}function Hh(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e&&zh.test(e.message))return 1;return 0}(t),i=function(e){if("number"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,i)}catch(e){}return[]}const zh=/Minified React error #\d+;/i;function Uh(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Wh(e){const t=e&&e.name;if(!t&&Uh(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception"}return t}function Gh(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:Uh(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message"}function qh(e,t,n,r,i){let o;if(oa(t)&&t.error){return jh(e,t.error)}if(sa(t)||ia(t,"DOMException")){const i=t;if("stack"in t)o=jh(e,t);else{const t=i.name||(sa(i)?"DOMError":"DOMException"),s=i.message?`${t}: ${i.message}`:t;o=Bh(e,s,n,r),Fl(o,s)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}if(ra(t))return jh(e,t);if(ua(t)||ha(t)){return o=Yh(e,t,n,i),Nl(o,{synthetic:!0}),o}return o=Bh(e,t,n,r),Fl(o,`${t}`,void 0),Nl(o,{synthetic:!0}),o}function Bh(e,t,n,r){const i={};if(r&&n){const r=Hh(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(la(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Vh(e,{isUnhandledRejection:t}){const n=Xa(e),r=t?"promise rejection":"exception";if(oa(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(ha(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class Xh extends dh{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};!function(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:Sa}))),version:Sa}),e._metadata=i}(t,"browser",["browser"],Ph.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&Ph.document&&Ph.document.addEventListener("visibilitychange",(()=>{"hidden"===Ph.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=qh(e,t,n&&n.syntheticException||void 0,r);return Nl(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Gl(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const o=Bh(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Gl(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Fh&&Ia.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Na(r)}},o=function(e){return[{type:"user_report"},e]}(e);return ac(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}}const Kh="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Jh=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i||0),(o||void 0===i)&&(i=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},Zh=ka,Qh=()=>Zh.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ed=()=>{const e=Qh();return e&&e.activationStart||0},td=(e,t)=>{const n=Qh();let r="navigate";n&&(Zh.document&&Zh.document.prerendering||ed()>0?r="prerender":Zh.document&&Zh.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},nd=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},rd=e=>{const t=t=>{("pagehide"===t.type||Zh.document&&"hidden"===Zh.document.visibilityState)&&e(t)};Zh.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},id=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let od=-1;const sd=e=>{"hidden"===Zh.document.visibilityState&&od>-1&&(od="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("visibilitychange",sd,!0),removeEventListener("prerenderingchange",sd,!0))},ad=()=>(Zh.document&&od<0&&(od="hidden"!==Zh.document.visibilityState||Zh.document.prerendering?1/0:0,addEventListener("visibilitychange",sd,!0),addEventListener("prerenderingchange",sd,!0)),{get firstHiddenTime(){return od}}),ld=e=>{Zh.document&&Zh.document.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()},cd=[1800,3e3],ud=[.1,.25],hd=(e,t={})=>{((e,t={})=>{ld((()=>{const n=ad(),r=td("FCP");let i;const o=nd("paint",(e=>{e.forEach((e=>{"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-ed(),0),r.entries.push(e),i(!0)))}))}));o&&(i=Jh(e,r,cd,t.reportAllChanges))}))})(id((()=>{const n=td("CLS",0);let r,i=0,o=[];const s=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=o[0],n=o[o.length-1];i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>n.value&&(n.value=i,n.entries=o,r())},a=nd("layout-shift",s);a&&(r=Jh(e,n,ud,t.reportAllChanges),rd((()=>{s(a.takeRecords()),r(!0)})),setTimeout(r,0))})))},dd=[100,300];let fd=0,pd=1/0,md=0;const gd=e=>{e.forEach((e=>{e.interactionId&&(pd=Math.min(pd,e.interactionId),md=Math.max(md,e.interactionId),fd=md?(md-pd)/7+1:0)}))};let _d;const yd=()=>{"interactionCount"in performance||_d||(_d=nd("event",gd,{type:"event",buffered:!0,durationThreshold:0}))},bd=[200,500],vd=()=>(_d?fd:performance.interactionCount||0)-0,wd=[],xd={},Md=e=>{const t=wd[wd.length-1],n=xd[e.interactionId];if(n||wd.length<10||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};xd[t.id]=t,wd.push(t)}wd.sort(((e,t)=>t.latency-e.latency)),wd.splice(10).forEach((e=>{delete xd[e.id]}))}},Sd=(e,t={})=>{ld((()=>{yd();const n=td("INP");let r;const i=e=>{e.forEach((e=>{if(e.interactionId&&Md(e),"first-input"===e.entryType){!wd.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&Md(e)}}));const t=(()=>{const e=Math.min(wd.length-1,Math.floor(vd()/50));return wd[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},o=nd("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=Jh(e,n,bd,t.reportAllChanges),o&&("PerformanceEventTiming"in Zh&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),rd((()=>{i(o.takeRecords()),n.value<0&&vd()>0&&(n.value=0,n.entries=[]),r(!0)})))}))},kd=[2500,4e3],Td={},Ld=[800,1800],Cd=e=>{Zh.document&&Zh.document.prerendering?ld((()=>Cd(e))):Zh.document&&"complete"!==Zh.document.readyState?addEventListener("load",(()=>Cd(e)),!0):setTimeout(e,0)},Ed={},Dd={};let Ad,$d,Pd,Rd,Od;function Id(e,t=!1){return Bd("cls",e,zd,Ad,t)}function Fd(e,t=!1){return Bd("lcp",e,Wd,Pd,t)}function Nd(e){return Bd("fid",e,Ud,$d)}function Yd(e){return Bd("inp",e,qd,Od)}function jd(e,t){return Vd(e,t),Dd[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);nd(e,(t=>{Hd(e,{entries:t})}),t)}(e),Dd[e]=!0),Xd(e,t)}function Hd(e,t){const n=Ed[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){Kh&&Ia.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${il(r)}\nError:`,t)}}function zd(){return hd((e=>{Hd("cls",{metric:e}),Ad=e}),{reportAllChanges:!0})}function Ud(){return((e,t={})=>{ld((()=>{const n=ad(),r=td("FID");let i;const o=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),i(!0))},s=e=>{e.forEach(o)},a=nd("first-input",s);i=Jh(e,r,dd,t.reportAllChanges),a&&rd(id((()=>{s(a.takeRecords()),a.disconnect()})))}))})((e=>{Hd("fid",{metric:e}),$d=e}))}function Wd(){return((e,t={})=>{ld((()=>{const n=ad(),r=td("LCP");let i;const o=e=>{const t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-ed(),0),r.entries=[t],i())},s=nd("largest-contentful-paint",o);if(s){i=Jh(e,r,kd,t.reportAllChanges);const n=id((()=>{Td[r.id]||(o(s.takeRecords()),s.disconnect(),Td[r.id]=!0,i(!0))}));["keydown","click"].forEach((e=>{Zh.document&&addEventListener(e,(()=>setTimeout(n,0)),!0)})),rd(n)}}))})((e=>{Hd("lcp",{metric:e}),Pd=e}),{reportAllChanges:!0})}function Gd(){return((e,t={})=>{const n=td("TTFB"),r=Jh(e,n,Ld,t.reportAllChanges);Cd((()=>{const e=Qh();if(e){const t=e.responseStart;if(t<=0||t>performance.now())return;n.value=Math.max(t-ed(),0),n.entries=[e],r(!0)}}))})((e=>{Hd("ttfb",{metric:e}),Rd=e}))}function qd(){return Sd((e=>{Hd("inp",{metric:e}),Od=e}))}function Bd(e,t,n,r,i=!1){let o;return Vd(e,t),Dd[e]||(o=n(),Dd[e]=!0),r&&t({metric:r}),Xd(e,t,i?o:void 0)}function Vd(e,t){Ed[e]=Ed[e]||[],Ed[e].push(t)}function Xd(e,t,n){return()=>{n&&n();const r=Ed[e];if(!r)return;const i=r.indexOf(t);-1!==i&&r.splice(i,1)}}function Kd(e){return"number"==typeof e&&isFinite(e)}function Jd(e,t,n,{...r}){const i=su(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),Ou(e,(()=>{const e=Ru({startTime:t,...r});return e&&e.end(n),e}))}function Zd(e){const t=Uc();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:o}=e,{release:s,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),c=l&&l.getReplayId(),u=Yc(),h=u.getUser(),d=void 0!==h?h.email||h.id||h.ip_address:void 0;let f;try{f=u.getScopeData().contexts.profile.profile_id}catch(e){}return Ru({name:n,attributes:{release:s,environment:a,user:d||void 0,profile_id:f||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":Zh.navigator&&Zh.navigator.userAgent,...i},startTime:o,experimental:{standalone:!0}})}function Qd(){return Zh&&Zh.addEventListener&&Zh.performance}function ef(e){return e/1e3}function tf(){let e,t,n=0;if(!function(){try{return vc([PerformanceObserver,"access",e=>e.supportedEntryTypes,"optionalAccess",e=>e.includes,"call",e=>e("layout-shift")])}catch(e){return!1}}())return;let r=!1;function i(){r||(r=!0,t&&function(e,t,n){Kh&&Ia.log(`Sending CLS span (${e})`);const r=ef((vl||0)+(vc([t,"optionalAccess",e=>e.startTime])||0)),i=Yc().getScopeData().transactionName,o=t?Ca(vc([t,"access",e=>e.sources,"access",e=>e[0],"optionalAccess",e=>e.node])):"Layout shift",s=Ka({[Xc]:"auto.http.browser.cls",[Vc]:"ui.webvital.cls",[Qc]:vc([t,"optionalAccess",e=>e.duration])||0,"sentry.pageload.span_id":n}),a=Zd({name:o,transaction:i,attributes:s,startTime:r});vc([a,"optionalAccess",e=>e.addEvent,"call",t=>t("cls",{[Jc]:"",[Zc]:e})]),vc([a,"optionalAccess",e=>e.end,"call",e=>e(r)])}(n,e,t),o())}const o=Id((({metric:t})=>{const r=t.entries[t.entries.length-1];r&&(n=t.value,e=r)}),!0);rd((()=>{i()})),setTimeout((()=>{const e=vc([Uc(),"optionalAccess",e=>e.on,"call",t=>t("startNavigationSpan",(()=>{i(),e&&e()}))]),n=pu(),r=n&&fu(n),o=r&&su(r);o&&"pageload"===o.op&&(t=r.spanContext().spanId)}),0)}let nf,rf,of=0,sf={};function af({recordClsStandaloneSpans:e}){const t=Qd();if(t&&vl){t.mark&&Zh.performance.mark("sentry-tracing-init");const n=Nd((({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=ef(vl),r=ef(t.startTime);Kh&&Ia.log("[Measurements] Adding FID"),sf.fid={value:e.value,unit:"millisecond"},sf["mark.fid"]={value:n+r,unit:"second"}})),r=Fd((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Kh&&Ia.log("[Measurements] Adding LCP"),sf.lcp={value:e.value,unit:"millisecond"},nf=t)}),!0),i=Bd("ttfb",(({metric:e})=>{e.entries[e.entries.length-1]&&(Kh&&Ia.log("[Measurements] Adding TTFB"),sf.ttfb={value:e.value,unit:"millisecond"})}),Gd,Rd),o=e?tf():Id((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Kh&&Ia.log(`[Measurements] Adding CLS ${e.value}`),sf.cls={value:e.value,unit:""},rf=t)}),!0);return()=>{n(),r(),i(),o&&o()}}return()=>{}}function lf(e,t){const n=Qd();if(!n||!Zh.performance.getEntries||!vl)return;Kh&&Ia.log("[Tracing] Adding & adjusting spans using Performance API");const r=ef(vl),i=n.getEntries(),{op:o,start_timestamp:s}=su(e);if(i.slice(of).forEach((t=>{const n=ef(t.startTime),i=ef(Math.max(0,t.duration));if(!("navigation"===o&&s&&r+n<s))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{cf(e,t,r,n)})),cf(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),cf(e,t,"fetch",n,"cache","domainLookupStart"),cf(e,t,"domainLookup",n,"DNS"),function(e,t,n){const r=n+ef(t.requestStart),i=n+ef(t.responseEnd),o=n+ef(t.responseStart);t.responseEnd&&(Jd(e,r,i,{op:"browser.request",name:t.name,attributes:{[Xc]:"auto.ui.browser.metrics"}}),Jd(e,o,i,{op:"browser.response",name:t.name,attributes:{[Xc]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,t,r);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){const o=Qh(),s=ef(o?o.requestStart:0),a=i+Math.max(n,s),l=i+n,c=l+r,u={[Xc]:"auto.resource.browser.metrics"};a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a);Jd(e,a,c,{name:t.name,op:t.entryType,attributes:u})}(e,t,n,i,r);const o=ad(),s=t.startTime<o.firstHiddenTime;"first-paint"===t.name&&s&&(Kh&&Ia.log("[Measurements] Adding FP"),sf.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(Kh&&Ia.log("[Measurements] Adding FCP"),sf.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const s=Xl(n),a={[Xc]:"auto.resource.browser.metrics"};uf(a,t,"transferSize","http.response_transfer_size"),uf(a,t,"encodedBodySize","http.response_content_length"),uf(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop());s.host&&(a["server.address"]=s.host);a["url.same_origin"]=n.includes(Zh.location.origin);const l=o+r,c=l+i;Jd(e,l,c,{name:n.replace(Zh.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}(e,t,t.name,n,i,r)}})),of=Math.max(i.length-1,0),function(e){const t=Zh.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Kd(n.rtt)&&(sf["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Kd(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);Kd(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){const t=Qh();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Kh&&Ia.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(sf);const n=sf["mark.fid"];n&&sf.fid&&(Jd(e,n.value,n.value+ef(sf.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Xc]:"auto.ui.browser.metrics"}}),delete sf["mark.fid"]),"fcp"in sf&&t.recordClsOnPageloadSpan||delete sf.cls,Object.entries(sf).forEach((([e,t])=>{!function(e,t,n,r=pu()){const i=r&&fu(r);i&&i.addEvent(e,{[Zc]:t,[Jc]:n})}(e,t.value,t.unit)})),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",ed()),function(e){nf&&(Kh&&Ia.log("[Measurements] Adding LCP Data"),nf.element&&e.setAttribute("lcp.element",Ca(nf.element)),nf.id&&e.setAttribute("lcp.id",nf.id),nf.url&&e.setAttribute("lcp.url",nf.url.trim().slice(0,200)),e.setAttribute("lcp.size",nf.size));rf&&rf.sources&&(Kh&&Ia.log("[Measurements] Adding CLS Data"),rf.sources.forEach(((t,n)=>e.setAttribute(`cls.source.${n+1}`,Ca(t.node)))))}(e)}nf=void 0,rf=void 0,sf={}}function cf(e,t,n,r,i,o){const s=o?t[o]:t[`${n}End`],a=t[`${n}Start`];a&&s&&Jd(e,r+ef(a),r+ef(s),{op:`browser.${i||n}`,name:t.name,attributes:{[Xc]:"auto.ui.browser.metrics"}})}function uf(e,t,n,r){const i=t[n];null!=i&&i<2147483647&&(e[r]=i)}let hf,df,ff,pf;function mf(e){ll("dom",e),cl("dom",gf)}function gf(){if(!Zh.document)return;const e=ul.bind(null,"dom"),t=_f(e,!0);Zh.document.addEventListener("click",t,!1),Zh.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Zh[t]&&Zh[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(za(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){const r=_f(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(e){}return t.call(this,n,r,i)}})),za(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function _f(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Ua(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ua(r,"_sentryId",Rl());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==df)return!1;try{if(!e.target||e.target._sentryId!==ff)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),df=n.type,ff=r?r._sentryId:void 0}clearTimeout(hf),hf=Zh.setTimeout((()=>{ff=void 0,df=void 0}),1e3)}}function yf(e){const t="history";ll(t,e),cl(t,bf)}function bf(){if(!function(){const e=xc.chrome,t=e&&e.app&&e.app.runtime,n="history"in xc&&!!xc.history.pushState&&!!xc.history.replaceState;return!t&&n}())return;const e=Zh.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=pf,t=String(n);pf=t;ul("history",{from:e,to:t})}return e.apply(this,t)}}Zh.onpopstate=function(...t){const n=Zh.location.href,r=pf;pf=n;if(ul("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},za(Zh.history,"pushState",t),za(Zh.history,"replaceState",t)}const vf={};function wf(e){const t=vf[e];if(t)return t;let n=Zh[e];if(ml(n))return vf[e]=n.bind(Zh);const r=Zh.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){Kh&&Ia.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?vf[e]=n.bind(Zh):n}function xf(e){vf[e]=void 0}function Mf(...e){return wf("setTimeout")(...e)}const Sf="__sentry_xhr_v3__";function kf(e){ll("xhr",e),cl("xhr",Tf)}function Tf(){if(!Zh.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=1e3*yl(),i=aa(n[0])?n[0].toUpperCase():void 0,o=function(e){if(aa(e))return e;try{return e.toString()}catch(e){}return}(n[1]);if(!i||!o)return e.apply(t,n);t[Sf]={method:i,url:o,request_headers:{}},"POST"===i&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const s=()=>{const e=t[Sf];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}ul("xhr",{endTimestamp:1e3*yl(),startTimestamp:r,xhr:t})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(s(),e.apply(t,n))}):t.addEventListener("readystatechange",s),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,o=t[Sf];return o&&aa(r)&&aa(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[Sf];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return ul("xhr",{startTimestamp:1e3*yl(),xhr:t}),e.apply(t,n)}})}const Lf=[],Cf=new Map;function Ef(){if(Qd()&&vl){const e=Yd((({metric:e})=>{if(null==e.value)return;const t=e.entries.find((t=>t.duration===e.value&&Df[t.name]));if(!t)return;const{interactionId:n}=t,r=Df[t.name],i=ef(vl+t.startTime),o=ef(e.value),s=pu(),a=s?fu(s):void 0,l=(null!=n?Cf.get(n):void 0)||a,c=l?su(l).description:Yc().getScopeData().transactionName,u=Zd({name:Ca(t.target),transaction:c,attributes:Ka({[Xc]:"auto.http.browser.inp",[Vc]:`ui.interaction.${r}`,[Qc]:t.duration}),startTime:i});vc([u,"optionalAccess",e=>e.addEvent,"call",t=>t("inp",{[Jc]:"millisecond",[Zc]:e.value})]),vc([u,"optionalAccess",e=>e.end,"call",e=>e(i+o)])}));return()=>{e()}}return()=>{}}const Df={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Af(e,t=wf("fetch")){let n=0,r=0;return function(e,t,n=Vl(e.bufferSize||64)){let r={};return{send:function(i){const o=[];if(cc(i,((t,n)=>{const i=mc(n);if(yc(r,i)){const r=gh(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(t)})),0===o.length)return Gl({});const s=ac(i[0],o),a=t=>{cc(s,((n,r)=>{const i=gh(n,r);e.recordDroppedEvent(t,mc(r),i)}))};return n.add((()=>t({body:hc(s)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Mc&&Ia.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=bc(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Ha)return Mc&&Ia.error("Skipped sending event because buffer is full."),a("queue_overflow"),Gl({});throw e}))},flush:e=>n.drain(e)}}(e,(function(i){const o=i.body.length;n+=o,r++;const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return xf("fetch"),ql("No fetch implementation available");try{return t(e.url,s).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return xf("fetch"),n-=o,r--,ql(e)}}))}function $f(e,t,n,r){const i={filename:e,function:"<anonymous>"===t?Za:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Pf=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Rf=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Of=/\((\S*)(?::(\d+))(?::(\d+))\)/,If=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ff=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Nf=tl(...[[30,e=>{const t=Pf.exec(e);if(t){const[,e,n,r]=t;return $f(e,Za,+n,+r)}const n=Rf.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=Of.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=Yf(n[1]||Za,n[2]);return $f(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=If.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Ff.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Za;return[n,e]=Yf(n,e),$f(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),Yf=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Za,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},jf=1024,Hf=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){t.console&&hl(function(e){return function(t){if(Uc()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Jl(t.level),message:ga(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${ga(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}vh(n,{input:t.args,level:t.level})}}(e)),t.dom&&mf(function(e,t){return function(n){if(Uc()!==e)return;let r,i,o="object"==typeof t?t.serializeAttribute:void 0,s="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>jf&&(Fh&&Ia.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=jf),"string"==typeof o&&(o=[o]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Ca(t,{keyAttrs:o,maxStringLength:s}),i=Aa(t)}catch(e){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};i&&(a.data={"ui.component_name":i}),vh(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&kf(function(e){return function(t){if(Uc()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[Sf];if(!n||!r||!i)return;const{method:o,url:s,status_code:a,body:l}=i,c={method:o,url:s,status_code:a},u={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r};vh({category:"xhr",data:c,type:"http",level:Ma(a)},u)}}(e)),t.fetch&&wl(function(e){return function(t){if(Uc()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){vh({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:n,endTimestamp:r};vh({category:"fetch",data:i,type:"http",level:Ma(i.status_code)},o)}}}(e)),t.history&&yf(function(e){return function(t){if(Uc()!==e)return;let n=t.from,r=t.to;const i=Xl(Ph.location.href);let o=n?Xl(n):void 0;const s=Xl(r);o&&o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),vh({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){Uc()===e&&vh({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Il(t)},{event:t})}}(e))}}};const zf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Uf=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&za(Ph,"setTimeout",Wf),t.setInterval&&za(Ph,"setInterval",Wf),t.requestAnimationFrame&&za(Ph,"requestAnimationFrame",Gf),t.XMLHttpRequest&&"XMLHttpRequest"in Ph&&za(XMLHttpRequest.prototype,"send",qf);const e=t.eventTarget;if(e){(Array.isArray(e)?e:zf).forEach(Bf)}}}};function Wf(e){return function(...t){const n=t[0];return t[0]=Ih(n,{mechanism:{data:{function:il(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Gf(e){return function(t){return e.apply(this,[Ih(t,{mechanism:{data:{function:"requestAnimationFrame",handler:il(e)},handled:!1,type:"instrument"}})])}}function qf(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&za(n,e,(function(t){const n={mechanism:{data:{function:e,handler:il(t)},handled:!1,type:"instrument"}},r=Ga(t);return r&&(n.mechanism.data.handler=il(r)),Ih(t,n)}))})),e.apply(this,t)}}function Bf(e){const t=Ph,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(za(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=Ih(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:il(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Ih(r,{mechanism:{data:{function:"addEventListener",handler:il(r),target:e},handled:!1,type:"instrument"}}),i])}})),za(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,i,r)}})))}const Vf=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){Ll((t=>{const{stackParser:n,attachStacktrace:r}=Kf();if(Uc()!==e||Oh())return;const{msg:i,url:o,line:s,column:a,error:l}=t,c=function(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,h=aa(t)&&t.length>0?t:Da();0===l.length&&l.push({colno:c,filename:h,function:Za,in_app:!0,lineno:u});return e}(qh(n,l||i,void 0,r,!1),o,s,a);c.level="error",Zu(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),Xf("onerror")),t.onunhandledrejection&&(!function(e){Dl((t=>{const{stackParser:n,attachStacktrace:r}=Kf();if(Uc()!==e||Oh())return;const i=function(e){if(ca(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),o=ca(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:qh(n,i,void 0,r,!0);o.level="error",Zu(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),Xf("onunhandledrejection"))}}};function Xf(e){Fh&&Ia.log(`Global Handler attached: ${e}`)}function Kf(){const e=Uc();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Jf=()=>({name:"HttpContext",preprocessEvent(e){if(!Ph.navigator&&!Ph.location&&!Ph.document)return;const t=e.request&&e.request.url||Ph.location&&Ph.location.href,{referrer:n}=Ph.document||{},{userAgent:r}=Ph.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),Zf=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){const o=i.getOptions();ba(Nh,o.stackParser,o.maxValueLength,n,t,e,r)}}};function Qf(e={}){const t=function(e={}){const t={defaultIntegrations:[kh(),Mh(),Uf(),Hf(),Vf(),Zf(),Lh(),Jf()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Ph.SENTRY_RELEASE&&Ph.SENTRY_RELEASE.id?Ph.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e}}(e);if(function(){const e=void 0!==Ph.window&&Ph;if(!e)return!1;const t=e[e.chrome?"chrome":"browser"],n=t&&t.runtime&&t.runtime.id,r=Ph.location&&Ph.location.href||"",i=!!n&&Ph===Ph.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>r.startsWith(`${e}//`))),o=void 0!==e.nw;return!!n&&!i&&!o}())return void Oa((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}));Fh&&(pl()||Ia.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:(r=t.stackParser||Nf,Array.isArray(r)?tl(...r):r),integrations:lh(t),transport:t.transport||Af};var r;const i=mh(Xh,n);return t.autoSessionTracking&&function(){if(void 0===Ph.document)return void(Fh&&Ia.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));eh({ignoreDuration:!0}),rh(),yf((({from:e,to:t})=>{void 0!==e&&e!==t&&(eh({ignoreDuration:!0}),rh())}))}(),i}const ep={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},tp=Ph;async function np(e,t){const n=ep[e],r=tp.Sentry=tp.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const i=r[e];if("function"==typeof i&&!("_isShim"in i))return i;const o=function(e){const t=Uc(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Sa}/${e}.min.js`,r).toString()}(n),s=Ph.document.createElement("script");s.src=o,s.crossOrigin="anonymous",s.referrerPolicy="origin",t&&s.setAttribute("nonce",t);const a=new Promise(((e,t)=>{s.addEventListener("load",(()=>e())),s.addEventListener("error",t)})),l=Ph.document.currentScript,c=Ph.document.body||Ph.document.head||l&&l.parentElement;if(!c)throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);c.appendChild(s);try{await a}catch(t){throw new Error(`Error when loading integration: ${e}`)}const u=r[e];if("function"!=typeof u)throw new Error(`Could not load integration: ${e}`);return u}new WeakMap;const rp=ka,ip="sentryReplaySession",op="Unable to send Replay",sp=15e4,ap=5e3,lp=2e7,cp=36e5;function up(e,t){return null!=e?e:t()}function hp(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}var dp;function fp(e){const t=hp([e,"optionalAccess",e=>e.host]);return Boolean(hp([t,"optionalAccess",e=>e.shadowRoot])===e)}function pp(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function mp(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,gp).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function gp(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=mp(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(dp||(dp={}));class _p{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;return up(hp([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]),(()=>-1))}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function yp({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function bp({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function vp(e){return e.toLowerCase()}function wp(e){return e.toUpperCase()}const xp="__rrweb_original__";function Mp(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?vp(t):null}function Sp(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function kp(e,t){let n;try{n=new URL(e,up(t,(()=>window.location.href)))}catch(e){return null}return up(hp([n.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",e=>e[1]]),(()=>null))}const Tp={};function Lp(e){const t=Tp[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return Tp[e]=r.bind(window)}function Cp(...e){return Lp("setTimeout")(...e)}function Ep(...e){return Lp("clearTimeout")(...e)}let Dp=1;const Ap=new RegExp("[^a-z0-9-_:]");function $p(){return Dp++}let Pp,Rp;const Op=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ip=/^(?:[a-z+]+:)?\/\//i,Fp=/^www\..*/i,Np=/^(data:)([^,]*),(.*)/i;function Yp(e,t){return(e||"").replace(Op,((e,n,r,i,o,s)=>{const a=r||o||s,l=n||i||"";if(!a)return e;if(Ip.test(a)||Fp.test(a))return`url(${l}${a}${l})`;if(Np.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${l})`;const c=t.split("/"),u=a.split("/");c.pop();for(const e of u)"."!==e&&(".."===e?c.pop():c.push(e));return`url(${l}${c.join("/")}${l})`}))}const jp=/^[^ \t\n\r\u000c]+/,Hp=/^[, \t\n\r\u000c]+/;const zp=new WeakMap;function Up(e,t){return t&&""!==t.trim()?Gp(e,t):t}function Wp(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Gp(e,t){let n=zp.get(e);if(n||(n=e.createElement("a"),zp.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function qp(e,t,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Up(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(Hp),!(n>=t.length);){let o=r(jp);if(","===o.slice(-1))o=Up(e,o.substring(0,o.length-1)),i.push(o);else{let r="";o=Up(e,o);let s=!1;for(;;){const e=t.charAt(n);if(""===e){i.push((o+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,i.push((o+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?Yp(r,Gp(e)):"object"===t&&"data"===n?Up(e,r):"function"==typeof o?o(n,r,i):r:Up(e,r):r}function Bp(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Vp(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Vp(e.parentNode,t,n,r+1):-1}function Xp(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}function Kp(e,t,n,r,i,o){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===s)return!1;if("INPUT"===s.tagName){const e=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,l=-1;if(o){if(l=Vp(s,Xp(r,i)),l<0)return!0;a=Vp(s,Xp(t,n),l>=0?l:1/0)}else{if(a=Vp(s,Xp(t,n)),a<0)return!1;l=Vp(s,Xp(r,i),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!o}catch(e){}return!!o}function Jp(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:p={},maskTextFn:m,maskInputFn:g,dataURLOptions:_={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:v,newlyAddedElement:w=!1}=t,x=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:dp.Document,childNodes:[],compatMode:e.compatMode}:{type:dp.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:dp.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:x};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:h,recordCanvas:d,keepIframeSrcFn:f,newlyAddedElement:p=!1,rootId:m,maskAllText:g,maskTextClass:_,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:v}=t,w=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,i,o),x=function(e){if(e instanceof HTMLFormElement)return"form";const t=vp(e.tagName);return Ap.test(t)?"div":t}(e);let M={};const S=e.attributes.length;for(let t=0;t<S;t++){const r=e.attributes[t];r.name&&!Bp(x,r.name,r.value)&&(M[r.name]=qp(n,x,vp(r.name),r.value,e,l))}if("link"===x&&s){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=mp(t)),r&&(delete M.rel,delete M.href,M._cssText=Yp(r,t.href))}if("style"===x&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=mp(e.sheet);t&&(M._cssText=Yp(t,Gp(n)))}if("input"===x||"textarea"===x||"select"===x||"option"===x){const t=e,n=Mp(t),r=Sp(t,wp(x),n),i=t.checked;if("submit"!==n&&"button"!==n&&r){const e=Kp(t,_,b,y,v,yp({type:n,tagName:wp(x),maskInputOptions:a}));M.value=bp({isMasked:e,element:t,value:r,maskInputFn:c})}i&&(M.checked=i)}"option"===x&&(e.selected&&!a.select?M.selected=!0:delete M.selected);if("canvas"===x&&d)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const i=t.getImageData,o=xp in i?i[xp]:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(M.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height;t!==r.toDataURL(u.type,u.quality)&&(M.rr_dataURL=t)}if("img"===x&&h){Pp||(Pp=n.createElement("canvas"),Rp=Pp.getContext("2d"));const t=e,r=t.currentSrc||t.getAttribute("src")||"<unknown-src>",i=t.crossOrigin,o=()=>{t.removeEventListener("load",o);try{Pp.width=t.naturalWidth,Pp.height=t.naturalHeight,Rp.drawImage(t,0,0),M.rr_dataURL=Pp.toDataURL(u.type,u.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o));console.warn(`Cannot inline img src=${r}! Error: ${e}`)}"anonymous"===t.crossOrigin&&(i?M.crossOrigin=i:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==x&&"video"!==x||(M.rr_mediaState=e.paused?"paused":"played",M.rr_mediaCurrentTime=e.currentTime);p||(e.scrollLeft&&(M.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(M.rr_scrollTop=e.scrollTop));if(w){const{width:t,height:n}=e.getBoundingClientRect();M={class:M.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==x||f(M.src)||(w||e.contentDocument||(M.rr_src=M.src),delete M.src);let k;try{customElements.get(x)&&(k=!0)}catch(e){}return{type:dp.Element,tagName:x,attributes:M,childNodes:[],isSVG:Wp(e)||void 0,needBlock:w,rootId:m,isCustom:k}}(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:p,maskInputFn:g,dataURLOptions:_,inlineImages:y,recordCanvas:b,keepIframeSrcFn:v,newlyAddedElement:w,rootId:x,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,h=e.parentNode&&e.parentNode.tagName;let d=e.textContent;const f="STYLE"===h||void 0,p="SCRIPT"===h||void 0,m="TEXTAREA"===h||void 0;if(f&&d){try{e.nextSibling||e.previousSibling||hp([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(d=mp(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}d=Yp(d,Gp(t.doc))}p&&(d="SCRIPT_PLACEHOLDER");const g=Kp(e,r,o,i,s,n);f||p||m||!d||!g||(d=a?a(d,e.parentElement):d.replace(/[\S]/g,"*"));m&&d&&(l.textarea||g)&&(d=c?c(d,e.parentNode):d.replace(/[\S]/g,"*"));if("OPTION"===h&&d){d=bp({isMasked:Kp(e,r,o,i,s,yp({type:null,tagName:h,maskInputOptions:l})),element:e,value:d,maskInputFn:c})}return{type:dp.Text,textContent:d||"",isStyle:f,rootId:u}}(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d,maskTextFn:m,maskInputOptions:p,maskInputFn:g,rootId:x});case e.CDATA_SECTION_NODE:return{type:dp.CDATA,textContent:"",rootId:x};case e.COMMENT_NODE:return{type:dp.Comment,textContent:e.textContent||"",rootId:x};default:return!1}}function Zp(e){return null==e?"":e.toLowerCase()}function Qp(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:d=!1,inlineStylesheet:f=!0,maskInputOptions:p={},maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:b={},inlineImages:v=!1,recordCanvas:w=!1,onSerialize:x,onIframeLoad:M,iframeLoadTimeout:S=5e3,onStylesheetLoad:k,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:L=()=>!1,newlyAddedElement:C=!1}=t;let{preserveWhiteSpace:E=!0}=t;const D=Jp(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,dataURLOptions:b,inlineImages:v,recordCanvas:w,keepIframeSrcFn:L,newlyAddedElement:C});if(!D)return console.warn(e,"not serialized"),null;let A;A=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===dp.Comment)return!0;if(e.type===dp.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===kp(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(Zp(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Zp(e.attributes.name)||"icon"===Zp(e.attributes.rel)||"apple-touch-icon"===Zp(e.attributes.rel)||"shortcut icon"===Zp(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&Zp(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Zp(e.attributes.property).match(/^(og|twitter|fb):/)||Zp(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===Zp(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===Zp(e.attributes.name)||"googlebot"===Zp(e.attributes.name)||"bingbot"===Zp(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===Zp(e.attributes.name)||"generator"===Zp(e.attributes.name)||"framework"===Zp(e.attributes.name)||"publisher"===Zp(e.attributes.name)||"progid"===Zp(e.attributes.name)||Zp(e.attributes.property).match(/^article:/)||Zp(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===Zp(e.attributes.name)||"yandex-verification"===Zp(e.attributes.name)||"csrf-token"===Zp(e.attributes.name)||"p:domain_verify"===Zp(e.attributes.name)||"verify-v1"===Zp(e.attributes.name)||"verification"===Zp(e.attributes.name)||"shopify-checkout-api-token"===Zp(e.attributes.name)))return!0}}return!1}(D,y)&&(E||D.type!==dp.Text||D.isStyle||D.textContent.replace(/^\s+|\s+$/gm,"").length)?$p():-2;const $=Object.assign(D,{id:A});if(r.add(e,$),-2===A)return null;x&&x(e);let P=!d;if($.type===dp.Element){P=P&&!$.needBlock,delete $.needBlock;const t=e.shadowRoot;t&&pp(t)&&($.isShadowHost=!0)}if(($.type===dp.Document||$.type===dp.Element)&&P){y.headWhitespace&&$.type===dp.Element&&"head"===$.tagName&&(E=!1);const t={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:d,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:b,inlineImages:v,recordCanvas:w,preserveWhiteSpace:E,onSerialize:x,onIframeLoad:M,iframeLoadTimeout:S,onStylesheetLoad:k,stylesheetLoadTimeout:T,keepIframeSrcFn:L};for(const n of Array.from(e.childNodes)){const e=Qp(n,t);e&&$.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=Qp(n,t);r&&(pp(e.shadowRoot)&&(r.isShadow=!0),$.childNodes.push(r))}}return e.parentNode&&fp(e.parentNode)&&pp(e.parentNode)&&($.isShadow=!0),$.type===dp.Element&&"iframe"===$.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(e){return}if("complete"!==i){const r=Cp((()=>{o||(t(),o=!0)}),n);return void e.addEventListener("load",(()=>{Ep(r),o=!0,t()}))}const s="about:blank";if(r.location.href!==s||e.src===s||""===e.src)return Cp(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&M){const n=Qp(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:b,inlineImages:v,recordCanvas:w,preserveWhiteSpace:E,onSerialize:x,onIframeLoad:M,iframeLoadTimeout:S,onStylesheetLoad:k,stylesheetLoadTimeout:T,keepIframeSrcFn:L});n&&M(e,n)}}),S),$.type===dp.Element&&"link"===$.tagName&&"string"==typeof $.attributes.rel&&("stylesheet"===$.attributes.rel||"preload"===$.attributes.rel&&"string"==typeof $.attributes.href&&"css"===kp($.attributes.href))&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(e){return}if(r)return;const o=Cp((()=>{i||(t(),i=!0)}),n);e.addEventListener("load",(()=>{Ep(o),i=!0,t()}))}(e,(()=>{if(k){const t=Qp(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:b,inlineImages:v,recordCanvas:w,preserveWhiteSpace:E,onSerialize:x,onIframeLoad:M,iframeLoadTimeout:S,onStylesheetLoad:k,stylesheetLoadTimeout:T,keepIframeSrcFn:L});t&&k(e,t)}}),T),$}function em(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}function tm(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const nm="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let rm={map:{},getId:()=>(console.error(nm),-1),getNode:()=>(console.error(nm),null),removeNodeFromMap(){console.error(nm)},has:()=>(console.error(nm),!1),reset(){console.error(nm)}};function im(e,t,n={}){let r=null,i=0;return function(...o){const s=Date.now();i||!1!==n.leading||(i=s);const a=t-(s-i),l=this;a<=0||a>t?(r&&(!function(...e){Sm("clearTimeout")(...e)}(r),r=null),i=s,e.apply(l,o)):r||!1===n.trailing||(r=km((()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(l,o)}),a))}}function om(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){km((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>om(e,t,o||{},!0)}function sm(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(rm=new Proxy(rm,{get:(e,t,n)=>("map"===t&&console.error(nm),Reflect.get(e,t,n))}));let am=Date.now;function lm(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:em([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||em([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||em([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:em([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||em([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||em([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function cm(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function um(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function hm(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function dm(e,t,n,r,i){if(!e)return!1;const o=hm(e);if(!o)return!1;const s=Xp(t,n);if(!i){const e=r&&o.matches(r);return s(o)&&!e}const a=Vp(o,s);let l=-1;return!(a<0)&&(r&&(l=Vp(o,Xp(null,r))),a>-1&&l<0||a<l)}function fm(e,t){return-2===t.getId(e)}function pm(e,t){if(fp(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||pm(e.parentNode,t))}function mm(e){return Boolean(e.changedTouches)}function gm(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function _m(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function ym(e){return Boolean(em([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(am=()=>(new Date).getTime());class bm{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function vm(e){let t=null;return em([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function wm(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=vm(n);)n=t;return n}(e);return t.contains(n)}function xm(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||wm(e))}const Mm={};function Sm(e){const t=Mm[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return Mm[e]=r.bind(window)}function km(...e){return Sm("setTimeout")(...e)}var Tm=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Tm||{}),Lm=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Lm||{}),Cm=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Cm||{}),Em=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Em||{});function Dm(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}function Am(e){return"__ln"in e}class $m{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=Dm([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Am(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Am(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Pm=(e,t)=>`${e}@${t}`;class Rm{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new $m,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!xm(i))return;const o=fp(i.parentNode)?this.mirror.getId(vm(i)):this.mirror.getId(i.parentNode),s=r(i);if(-1===o||-1===s)return n.addNode(i);const a=Qp(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{gm(e,this.mirror)&&!dm(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),_m(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),ym(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{dm(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:o,nextId:s,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)Im(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||i(e);for(const e of this.addedSet)Fm(this.droppedSet,e)||Im(this.removes,e,this.mirror)?Fm(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let o=null;for(;n.length;){let e=null;if(o){const t=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==t&&-1!==n&&(e=o)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}o=e.previous,n.removeNode(e.value),i(e.value)}const s={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!fm(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;dm(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:Kp(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,hm(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=Mp(t),i=t.tagName;r=Sp(t,i,n);const o=yp({maskInputOptions:this.maskInputOptions,tagName:i,type:n});r=bp({isMasked:Kp(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o),element:t,value:r,maskInputFn:this.maskInputFn})}if(dm(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!Bp(t.tagName,n)&&(i.attributes[n]=qp(this.doc,vp(t.tagName),vp(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),o=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||o!==n.style.getPropertyPriority(e)?i.styleDiff[e]=""===o?r:[r,o]:i._unchangedStyles[e]=[r,o]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(dm(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=fp(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);dm(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||fm(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Om(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||pm(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Pm(n,r)]?Om(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!fp(e.target)||!pp(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(fm(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Pm(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);dm(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),ym(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Om(e,t){e.delete(t),t.childNodes.forEach((t=>Om(e,t)))}function Im(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){const t=n.getId(r);if(e.some((e=>e.id===t)))return!0;r=r.parentNode}return!1}(e,t,n)}function Fm(e,t){return 0!==e.size&&Nm(e,t)}function Nm(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Nm(e,n))}let Ym;function jm(e){Ym=e}function Hm(){Ym=void 0}const zm=e=>{if(!Ym)return e;return(...t)=>{try{return e(...t)}catch(e){if(Ym&&!0===Ym(e))return()=>{};throw e}}};function Um(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}const Wm=[];function Gm(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function qm(e,t){const n=new Rm;Wm.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=Um([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);i&&window[i]&&(r=window[i]);const o=new r(zm((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Bm({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];let c=null;return Object.keys(Cm).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((s=>{let a=vp(s);const u=(t=>s=>{const a=Gm(s);if(dm(a,r,i,o,!0))return;let l=null,u=t;if("pointerType"in s){switch(s.pointerType){case"mouse":l=Em.Mouse;break;case"touch":l=Em.Touch;break;case"pen":l=Em.Pen}l===Em.Touch?Cm[t]===Cm.MouseDown?u="TouchStart":Cm[t]===Cm.MouseUp&&(u="TouchEnd"):Em.Pen}else mm(s)&&(l=Em.Touch);null!==l?(c=l,(u.startsWith("Touch")&&l===Em.Touch||u.startsWith("Mouse")&&l===Em.Mouse)&&(l=null)):Cm[t]===Cm.Click&&(l=c,c=null);const h=mm(s)?s.changedTouches[0]:s;if(!h)return;const d=n.getId(a),{clientX:f,clientY:p}=h;zm(e)({type:Cm[u],id:d,x:f,y:p,...null!==l&&{pointerType:l}})})(s);if(window.PointerEvent)switch(Cm[s]){case Cm.MouseDown:case Cm.MouseUp:a=a.replace("mouse","pointer");break;case Cm.TouchStart:case Cm.TouchEnd:return}l.push(tm(a,u,t))})),zm((()=>{l.forEach((e=>e()))}))}function Vm({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){const a=zm(im(zm((s=>{const a=Gm(s);if(!a||dm(a,r,i,o,!0))return;const l=n.getId(a);if(a===t&&t.defaultView){const n=lm(t.defaultView);e({id:l,x:n.left,y:n.top})}else e({id:l,x:a.scrollLeft,y:a.scrollTop})})),s.scroll||100));return tm("scroll",a,t)}const Xm=["INPUT","TEXTAREA","SELECT"],Km=new WeakMap;function Jm({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:h,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m}){function g(e){let n=Gm(e);const u=e.isTrusted,g=n&&wp(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||Xm.indexOf(g)<0||dm(n,r,i,o,!0))return;const y=n;if(y.classList.contains(s)||a&&y.matches(a))return;const b=Mp(n);let v=Sp(y,g,b),w=!1;const x=yp({maskInputOptions:l,tagName:g,type:b}),M=Kp(n,d,p,f,m,x);"radio"!==b&&"checkbox"!==b||(w=n.checked),v=bp({isMasked:M,element:n,value:v,maskInputFn:c}),_(n,h?{text:v,isChecked:w,userTriggered:u}:{text:v,isChecked:w});const S=n.name;"radio"===b&&S&&w&&t.querySelectorAll(`input[type="radio"][name="${S}"]`).forEach((e=>{if(e!==n){const t=bp({isMasked:M,element:e,value:Sp(e,g,b),maskInputFn:c});_(e,h?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}}))}function _(t,r){const i=Km.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){Km.set(t,r);const i=n.getId(t);zm(e)({...r,id:i})}}const y=("last"===u.input?["change"]:["input","change"]).map((e=>tm(e,zm(g),t))),b=t.defaultView;if(!b)return()=>{y.forEach((e=>e()))};const v=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),w=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return v&&v.set&&y.push(...w.map((e=>om(e[0],e[1],{set(){zm(g)({target:this,isTrusted:!1})}},!1,b)))),zm((()=>{y.forEach((e=>e()))}))}function Zm(e){return function(e,t){if(ng("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||ng("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||ng("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||ng("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Qm(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function eg({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const i="#document"===n.nodeName?Um([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):Um([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),o=Um([i,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(Um([i,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&i&&o?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return Um([o,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=Um([o,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),zm((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))):()=>{}}function tg(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=qm(e,e.doc));const i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const i="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const l=im(zm((t=>{const n=Date.now()-s;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],s=null})),o),c=zm(im(zm((e=>{const t=Gm(e),{clientX:n,clientY:i}=mm(e)?e.changedTouches[0]:e;s||(s=am()),a.push({x:n,y:i,id:r.getId(t),timeOffset:am()-s}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?Lm.Drag:e instanceof MouseEvent?Lm.MouseMove:Lm.TouchMove)})),i,{trailing:!1})),u=[tm("mousemove",c,n),tm("touchmove",c,n),tm("drag",c,n)];return zm((()=>{u.forEach((e=>e()))}))}(e),o=Bm(e),s=Vm(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return tm("resize",zm(im(zm((()=>{const t=cm(),i=um();n===t&&r===i||(e({width:Number(i),height:Number(t)}),n=t,r=i)})),200)),t)}(e,{win:n}),l=Jm(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:s}){const a=zm((s=>im(zm((o=>{const a=Gm(o);if(!a||dm(a,t,n,r,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:h}=a;e({type:s,id:i.getId(a),currentTime:l,volume:c,muted:u,playbackRate:h})})),o.media||500))),l=[tm("play",a(0),s),tm("pause",a(1),s),tm("seeked",a(2),s),tm("volumechange",a(3),s),tm("ratechange",a(4),s)];return zm((()=>{l.forEach((e=>e()))}))}(e);let u=()=>{},h=()=>{},d=()=>{},f=()=>{};e.recordDOM&&(u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:zm(((r,i,o)=>{const[s,a]=o,{id:l,styleId:c}=Qm(i,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:a}]}),r.apply(i,o)}))});const o=r.CSSStyleSheet.prototype.deleteRule;let s,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:zm(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=Qm(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:s}]}),r.apply(i,o)}))}),r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:zm(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=Qm(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replace:s}),r.apply(i,o)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:zm(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=Qm(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replaceSync:s}),r.apply(i,o)}))}));const l={};rg("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(rg("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),rg("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),rg("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach((([r,i])=>{c[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(c[r].insertRule,{apply:zm(((r,i,o)=>{const[s,a]=o,{id:l,styleId:c}=Qm(i.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:[...Zm(i),a||0]}]}),r.apply(i,o)}))}),i.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:zm(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=Qm(i.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:[...Zm(i),s]}]}),r.apply(i,o)}))})})),zm((()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach((([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule}))}))}(e,{win:n}),h=eg(e,e.doc),d=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:zm(((i,s,a)=>{const[l,c,u]=a;if(n.has(l))return o.apply(s,[l,c,u]);const{id:h,styleId:d}=Qm(Um([s,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(h&&-1!==h||d&&-1!==d)&&e({id:h,styleId:d,set:{property:l,value:c,priority:u},index:Zm(s.parentRule)}),i.apply(s,a)}))});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:zm(((i,o,a)=>{const[l]=a;if(n.has(l))return s.apply(o,[l]);const{id:c,styleId:u}=Qm(Um([o,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,remove:{property:l},index:Zm(o.parentRule)}),i.apply(o,a)}))}),zm((()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s}))}(e,{win:n}),e.collectFonts&&(f=function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const s=sm(t.fonts,"add",(function(t){return function(n){return km(zm((()=>{const t=i.get(n);t&&(e(t),i.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(s),zm((()=>{r.forEach((e=>e()))}))}(e)));const p=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:s}=e;let a=!0;const l=zm((()=>{const e=t.getSelection();if(!e||a&&Um([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const s=e.getRangeAt(t),{startContainer:a,startOffset:c,endContainer:u,endOffset:h}=s;dm(a,r,i,o,!0)||dm(u,r,i,o,!0)||l.push({start:n.getId(a),startOffset:c,end:n.getId(u),endOffset:h})}s({ranges:l})}));return l(),tm("selectionchange",l)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;if(!n||!n.customElements)return()=>{};const r=sm(n.customElements,"define",(function(e){return function(n,r,i){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,i])}}));return r}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return zm((()=>{Wm.forEach((e=>e.reset())),Um([r,"optionalAccess",e=>e.disconnect,"call",e=>e()]),i(),o(),s(),a(),l(),c(),u(),h(),d(),f(),p(),m(),g.forEach((e=>e()))}))}function ng(e){return void 0!==window[e]}function rg(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ig{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let s=i.get(t);return s||(s=this.generateIdFn(),i.set(t,s),o.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const i=r.get(t);return i||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function og(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}class sg{constructor(){this.crossOriginIframeMirror=new ig($p),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class ag{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ig($p),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ig(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),og([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Tm.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Tm.IncrementalSnapshot,data:{source:Lm.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Tm.Meta:case Tm.Load:case Tm.DomContentLoaded:return!1;case Tm.Plugin:return t;case Tm.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Tm.IncrementalSnapshot:switch(t.data.source){case Lm.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Lm.Drag:case Lm.TouchMove:case Lm.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Lm.ViewportResize:return!1;case Lm.MediaInteraction:case Lm.MouseInteraction:case Lm.Scroll:case Lm.CanvasMutation:case Lm.Input:return this.replaceIds(t.data,e,["id"]),t;case Lm.StyleSheetRule:case Lm.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Lm.Font:return t;case Lm.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Lm.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),og([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===dp.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class lg{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class cg{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!pp(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=qm({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Vm({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),km((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(eg({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(sm(e.prototype,"attachShadow",(function(e){return function(r){const i=e.call(this,r);return this.shadowRoot&&xm(this)&&n.addShadowRoot(this.shadowRoot,t),i}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class ug{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class hg{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new bm,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:gp(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class dg{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,function(...e){Sm("requestAnimationFrame")(...e)}((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let fg,pg;try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=vc([e,"access",e=>e.contentWindow,"optionalAccess",e=>e.Array,"access",e=>e.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const mg=new _p;function gg(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:h=null,maskTextSelector:d=null,unmaskTextSelector:f=null,inlineStylesheet:p=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:_,maskAttributeFn:y,maskInputFn:b,maskTextFn:v,maxCanvasSize:w=null,packFn:x,sampling:M={},dataURLOptions:S={},mousemoveWait:k,recordDOM:T=!0,recordCanvas:L=!1,recordCrossOriginIframes:C=!1,recordAfter:E=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:D=!1,collectFonts:A=!1,inlineImages:$=!1,plugins:P,keepIframeSrcFn:R=()=>!1,ignoreCSSAttributes:O=new Set([]),errorHandler:I,onMutation:F,getCanvasManager:N}=e;jm(I);const Y=!C||window.parent===window;let j=!1;if(!Y)try{window.parent.document&&(j=!1)}catch(e){j=!0}if(Y&&!t)throw new Error("emit function is required");if(!Y&&!j)return()=>{};void 0!==k&&void 0===M.mousemove&&(M.mousemove=k),mg.reset();const H=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},z=!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===_,headMetaDescKeywords:"all"===_}:_||{};let U;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let W=0;const G=e=>{for(const t of P||[])t.eventProcessor&&(e=t.eventProcessor(e));return x&&!j&&(e=x(e)),e};fg=(e,i)=>{const o=e;if(o.timestamp=am(),!vc([Wm,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||o.type===Tm.FullSnapshot||o.type===Tm.IncrementalSnapshot&&o.data.source===Lm.Mutation||Wm.forEach((e=>e.unfreeze())),Y)vc([t,"optionalCall",e=>e(G(o),i)]);else if(j){const e={type:"rrweb",event:G(o),origin:window.location.origin,isCheckout:i};window.parent.postMessage(e,"*")}if(o.type===Tm.FullSnapshot)U=o,W=0;else if(o.type===Tm.IncrementalSnapshot){if(o.data.source===Lm.Mutation&&o.data.isAttachIframe)return;W++;const e=r&&W>=r,t=n&&U&&o.timestamp-U.timestamp>n;(e||t)&&ee(!0)}};const q=e=>{fg({type:Tm.IncrementalSnapshot,data:{source:Lm.Mutation,...e}})},B=e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.Scroll,...e}}),V=e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.CanvasMutation,...e}}),X=new hg({mutationCb:q,adoptedStyleSheetCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.AdoptedStyleSheet,...e}})}),K="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new sg:new ag({mirror:mg,mutationCb:q,stylesheetManager:X,recordCrossOriginIframes:C,wrappedEmit:fg});for(const e of P||[])e.getMirror&&e.getMirror({nodeMirror:mg,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});const J=new dg,Z=function(e,t){try{return e?e(t):new ug}catch(e){return console.warn("Unable to initialize CanvasManager"),new ug}}(N,{mirror:mg,win:window,mutationCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.CanvasMutation,...e}}),recordCanvas:L,blockClass:i,blockSelector:o,unblockSelector:s,maxCanvasSize:w,sampling:M.canvas,dataURLOptions:S,errorHandler:I}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new lg:new cg({mutationCb:q,scrollCb:B,bypassOptions:{onMutation:F,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:H,dataURLOptions:S,maskAttributeFn:y,maskTextFn:v,maskInputFn:b,recordCanvas:L,inlineImages:$,sampling:M,slimDOMOptions:z,iframeManager:K,stylesheetManager:X,canvasManager:Z,keepIframeSrcFn:R,processedNodeManager:J},mirror:mg}),ee=(e=!1)=>{if(!T)return;fg({type:Tm.Meta,data:{href:window.location.href,width:um(),height:cm()}},e),X.reset(),Q.init(),Wm.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new _p,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:h=!0,inlineImages:d=!1,recordCanvas:f=!1,maskAllInputs:p=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:v,onSerialize:w,onIframeLoad:x,iframeLoadTimeout:M,onStylesheetLoad:S,stylesheetLoadTimeout:k,keepIframeSrcFn:T=()=>!1}=t||{};return Qp(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:h,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:_,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:b,inlineImages:d,recordCanvas:f,preserveWhiteSpace:v,onSerialize:w,onIframeLoad:x,iframeLoadTimeout:M,onStylesheetLoad:S,stylesheetLoadTimeout:k,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:mg,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskAllInputs:H,maskAttributeFn:y,maskInputFn:b,maskTextFn:v,slimDOM:z,dataURLOptions:S,recordCanvas:L,inlineImages:$,onSerialize:e=>{gm(e,mg)&&K.addIframe(e),_m(e,mg)&&X.trackLinkElement(e),ym(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{K.attachIframe(e,t),e.contentWindow&&Z.addWindow(e.contentWindow),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{X.attachLinkElement(e,t)},keepIframeSrcFn:R});if(!t)return console.warn("Failed to snapshot the document");fg({type:Tm.FullSnapshot,data:{node:t,initialOffset:lm(window)}}),Wm.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&X.adoptStyleSheets(document.adoptedStyleSheets,mg.getId(document))};pg=ee;try{const e=[],t=e=>zm(tg)({onMutation:F,mutationCb:q,mousemoveCb:(e,t)=>fg({type:Tm.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.MouseInteraction,...e}}),scrollCb:B,viewportResizeCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.ViewportResize,...e}}),inputCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.Input,...e}}),mediaInteractionCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.MediaInteraction,...e}}),styleSheetRuleCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.StyleSheetRule,...e}}),styleDeclarationCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.StyleDeclaration,...e}}),canvasMutationCb:V,fontCb:e=>fg({type:Tm.IncrementalSnapshot,data:{source:Lm.Font,...e}}),selectionCb:e=>{fg({type:Tm.IncrementalSnapshot,data:{source:Lm.Selection,...e}})},customElementCb:e=>{fg({type:Tm.IncrementalSnapshot,data:{source:Lm.CustomElement,...e}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,maskInputOptions:H,inlineStylesheet:p,sampling:M,recordDOM:T,recordCanvas:L,inlineImages:$,userTriggeredOnInput:D,collectFonts:A,doc:e,maskAttributeFn:y,maskInputFn:b,maskTextFn:v,keepIframeSrcFn:R,blockSelector:o,unblockSelector:s,slimDOMOptions:z,dataURLOptions:S,mirror:mg,iframeManager:K,stylesheetManager:X,shadowDomManager:Q,processedNodeManager:J,canvasManager:Z,ignoreCSSAttributes:O,plugins:vc([P,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>fg({type:Tm.Plugin,data:{plugin:e.name,payload:t}})})))])||[]},{});K.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{ee(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(tm("DOMContentLoaded",(()=>{fg({type:Tm.DomContentLoaded,data:{}}),"DOMContentLoaded"===E&&n()}))),e.push(tm("load",(()=>{fg({type:Tm.Load,data:{}}),"load"===E&&n()}),window))),()=>{e.forEach((e=>e())),J.destroy(),pg=void 0,Hm()}}catch(e){console.warn(e)}}gg.mirror=mg,gg.takeFullSnapshot=function(e){if(!pg)throw new Error("please take full snapshot after start recording");pg(e)};const _g="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,yg=["info","warn","error","log"],bg="[Replay] ";function vg(e,t="info"){vh({category:"console",data:{logger:"replay"},level:t,message:`${bg}${e}`},{level:t})}const wg=function(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=n.captureExceptions,t=n.traceInternals}};return _g?(yg.forEach((e=>{n[e]=(...n)=>{Ia[e](bg,...n),t&&vg(n.join(""),Jl(e))}})),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Ia.error(bg,r),e?Ju(r):t&&vg(r,"error")},n.infoTick=(...e)=>{Ia.info(bg,...e),t&&setTimeout((()=>vg(e[0])),0)}):yg.forEach((e=>{n[e]=()=>{}})),n}();function xg(e){return e>9999999999?e:1e3*e}function Mg(e){return e>9999999999?e/1e3:e}function Sg(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:Tm.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Hl(t,10,1e3)}}),"console"===t.category))))}function kg(e){return e.closest("button,a")||e}function Tg(e){const t=Lg(e);return t&&t instanceof Element?kg(t):t}function Lg(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Cg;function Eg(e){return Cg||(Cg=[],za(rp,"open",(function(e){return function(...t){if(Cg)try{Cg.forEach((e=>e()))}catch(e){}return e.apply(rp,t)}}))),Cg.push(e),()=>{const t=Cg?Cg.indexOf(e):-1;t>-1&&Cg.splice(t,1)}}const Dg=new Set([Lm.Mutation,Lm.StyleSheetRule,Lm.StyleDeclaration,Lm.AdoptedStyleSheet,Lm.CanvasMutation,Lm.Selection,Lm.MediaInteraction]);class Ag{constructor(e,t,n=Sg){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Eg((()=>{this._lastMutation=Pg()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!$g.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Mg(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Mg(e)}registerScroll(e=Date.now()){this._lastScroll=Mg(e)}registerClick(e){const t=kg(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=Pg();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:o,clickBreadcrumb:s}=e;if(i){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",i={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:rp.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:o||1}};this._addBreadcrumbEvent(t,i)}else if(o>1){const e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:rp.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Mf((()=>this._checkClicks()),1e3)}}const $g=["A","BUTTON","INPUT"];function Pg(){return Date.now()/1e3}function Rg(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(Dg.has(n)&&e.registerMutation(t.timestamp),n===Lm.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Lm.MouseInteraction}(t)){const{type:n,id:r}=t.data,i=gg.mirror.getNode(r);i instanceof HTMLElement&&n===Cm.Click&&e.registerClick(i)}}catch(e){}}function Og(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ig;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Ig||(Ig={}));const Fg=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Ng(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(Fg.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Yg=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?Tg(e.event):Lg(e.event),n=Ca(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return Og({category:`ui.${e.name}`,...jg(t,n)})}(t);if(!n)return;const r="click"===t.name,i=r?t.event:void 0;!(r&&e.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,Tg(t.event)),Sg(e,n)};function jg(e,t){const n=gg.mirror.getId(e),r=n&&gg.mirror.getNode(n),i=r&&gg.mirror.getMeta(r),o=i&&function(e){return e.type===Ig.Element}(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map((e=>e.type===Ig.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:Ng(o.attributes)}}:{}}}function Hg(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:s}=e;if(!s||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(s)||!o)return null;const a=t||r||i,l=1===o.length;if(!a&&l)return null;const c=Ca(s,{maxStringLength:200})||"<unknown>",u=jg(s,c);return Og({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o}})}(t);n&&Sg(e,n)}const zg={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:Gg(o),end:Gg(i),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:i}=e,o=Gg(i);return{type:n,name:r,start:o,end:o+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:h,redirectCount:d,startTime:f,transferSize:p,type:m}=e;if(0===i)return null;return{type:`${t}.${m}`,start:Gg(f),end:Gg(o),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:s,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:h,domComplete:o,redirectCount:d}}}};function Ug(e,t){return({metric:n})=>{t.replayPerformanceEntries.push(e(n))}}function Wg(e){const t=zg[e.entryType];return t?t(e):null}function Gg(e){return((vl||rp.performance.timeOrigin)+e)/1e3}function qg(e){const t=e.entries[e.entries.length-1];return Jg(e,"largest-contentful-paint",t&&t.element?[t.element]:void 0)}function Bg(e){return void 0!==e.sources}function Vg(e){const t=[],n=[];for(const r of e.entries)if(Bg(r)){const e=[];for(const t of r.sources)if(t.node){n.push(t.node);const r=gg.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return Jg(e,"cumulative-layout-shift",n,t)}function Xg(e){const t=e.entries[e.entries.length-1];return Jg(e,"first-input-delay",t&&t.target?[t.target]:void 0)}function Kg(e){const t=e.entries[e.entries.length-1];return Jg(e,"interaction-to-next-paint",t&&t.target?[t.target]:void 0)}function Jg(e,t,n,r){const i=e.value,o=e.rating,s=Gg(i);return{type:"web-vital",name:t,start:s,end:s,data:{value:i,size:i,rating:o,nodeIds:n?n.map((e=>gg.mirror.getId(e))):void 0,attributions:r}}}class Zg extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Qg{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>lp)throw new Zg;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?xg(e):null}}class e_{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){_g&&wg.info("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,i)=>{const o=({data:t})=>{const s=t;if(s.method===e&&s.id===n){if(this._worker.removeEventListener("message",o),!s.success)return _g&&wg.error("Error in compression worker: ",s.response),void i(new Error("Error in compression worker"));r(s.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class t_{constructor(e){this._worker=new e_(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=xg(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>lp?Promise.reject(new Zg):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{_g&&wg.exception(e,'Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class n_{constructor(e){this._fallback=new Qg,this._compression=new t_(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void(_g&&wg.exception(e,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n),this._fallback.clear()}catch(e){_g&&wg.exception(e,"Failed to add events when switching buffers.")}}}function r_({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;_g&&wg.info("Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new n_(n)}catch(e){_g&&wg.exception(e,"Failed to create compression worker")}}(t);if(e)return e}return _g&&wg.info("Using simple buffer"),new Qg}function i_(){try{return"sessionStorage"in rp&&!!rp.sessionStorage}catch(e){return!1}}function o_(e){!function(){if(!i_())return;try{rp.sessionStorage.removeItem(ip)}catch(e){}}(),e.session=void 0}function s_(e){return void 0!==e&&Math.random()<e}function a_(e){const t=Date.now();return{id:e.id||Rl(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function l_(e){if(i_())try{rp.sessionStorage.setItem(ip,JSON.stringify(e))}catch(e){}}function c_({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=function(e,t){return s_(e)?"session":!!t&&"buffer"}(e,t),o=a_({sampled:i,previousSessionId:r});return n&&l_(o),o}function u_(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function h_(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return u_(e.started,t,r)||u_(e.lastActivity,n,r)}function d_(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!h_(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function f_({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&function(){if(!i_())return null;try{const e=rp.sessionStorage.getItem(ip);if(!e)return null;const t=JSON.parse(e);return _g&&wg.infoTick("Loading existing session"),a_(t)}catch(e){return null}}();return i?d_(i,{sessionIdleExpire:e,maxReplayDuration:t})?(_g&&wg.infoTick("Session in sessionStorage is expired, creating new one..."),c_(r,{previousSessionId:i.id})):i:(_g&&wg.infoTick("Creating new session"),c_(r,{previousSessionId:n}))}function p_(e,t,n){return!!g_(e,t)&&(m_(e,t,n),!0)}async function m_(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===Tm.Custom}(e))return t(e)}catch(e){return _g&&wg.exception(e,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof Zg?"addEventSizeExceeded":"addEvent";e.handleException(t),await e.stop({reason:n});const r=Uc();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function g_(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=xg(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(_g&&wg.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1))}function __(e){return!e.type}function y_(e){return"transaction"===e.type}function b_(e){return"feedback"===e.type}function v_(e){return(t,n)=>{if(!e.isEnabled()||!__(t)&&!y_(t))return;const r=n&&n.statusCode;!r||r<200||r>=300||(y_(t)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;Mf((async()=>{try{await e.sendBufferedReplayOrFlush()}catch(t){e.handleException(t)}}))}(e,t))}}function w_(e){return t=>{e.isEnabled()&&__(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){Sg(e,Og({category:"replay.hydrate-error",data:{url:Da()}}))}}(e,t)}}function x_(e){const t=Uc();t&&t.on("beforeAddBreadcrumb",(t=>function(e,t){if(!e.isEnabled()||!M_(t))return;const n=function(e){if(!M_(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Og(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>ap?(n=!0,`${e.slice(0,ap)}…`):e;if("object"==typeof e)try{const t=Hl(e,7);return JSON.stringify(t).length>ap?(n=!0,`${JSON.stringify(t,null,2).slice(0,ap)}…`):t}catch(e){}return e}));return Og({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return Og(e)}(t);n&&Sg(e,n)}(e,t)))}function M_(e){return!!e.category}function S_(e){return Object.assign(((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!__(t)&&!y_(t)&&!b_(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(b_(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:Tm.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,n)&&!e.getOptions()._experiments.captureExceptions)return _g&&wg.log("Ignoring error from rrweb internals",t),null;const r=function(e,t){return"buffer"===e.recordingMode&&t.message!==op&&!(!t.exception||t.type)&&s_(e.getOptions().errorSampleRate)}(e,t);return(r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t}),{id:"Replay"})}function k_(e,t){return t.map((({type:t,start:n,end:r,name:i,data:o})=>{const s=e.throttledAddEvent({type:Tm.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof s?Promise.resolve(null):s}))}function T_(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(k_(e,[n]),!1))))}}function L_(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!_g||!e.getOptions()._experiments.traceInternals)&&_h(t,Uc())}(e,t.name)||e.addUpdate((()=>(k_(e,[t]),!0))))}function C_(e){if(!e)return;const t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=I_(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function E_(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function D_(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[I_(e)];if(!e)return[void 0]}catch(t){return _g&&wg.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return _g&&wg.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function A_(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function $_(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:s,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:Ka({method:o,statusCode:s,request:a,response:l})}}function P_(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function R_(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:o}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>sp,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,sp);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=i,o&&o.length>0&&(r._meta={warnings:o}),r}function O_(e,t){return Object.entries(e).reduce(((n,[r,i])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=i),n}),{})}function I_(e){return new URLSearchParams(e).toString()}function F_(e,t){const n=function(e,t=rp.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(rp.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return ya(n,t)}async function N_(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:s,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,h=F_(s,n.networkDetailAllowUrls)&&!F_(s,n.networkDetailDenyUrls),d=h?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return H_(e[0],t);if(2===e.length)return H_(e[1],t);return{}}(n,t):{};if(!e)return R_(i,r,void 0);const o=Y_(n),[s,a]=D_(o),l=R_(i,r,s);if(a)return A_(l,a);return l}(n,t.input,c):P_(c),f=await async function(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&void 0!==i)return P_(i);const o=r?j_(r.headers,n):{};if(!r||!t&&void 0!==i)return R_(o,i,void 0);const[s,a]=await async function(e){const t=function(e){try{return e.clone()}catch(e){_g&&wg.exception(e,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=Mf((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return e instanceof Error&&e.message.indexOf("Timeout")>-1?(_g&&wg.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(_g&&wg.exception(e,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(r),l=function(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const o=e&&e.length&&void 0===n?C_(e):n;return r?R_(i,o,t?e:void 0):P_(o)}catch(e){return _g&&wg.exception(e,"Failed to serialize response body"),R_(i,n,void 0)}}(s,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:o});if(a)return A_(l,a);return l}(h,n,t.response,u);return{startTimestamp:i,endTimestamp:o,url:s,method:a,statusCode:l,request:d,response:f}}(e,t,n),i=$_("resource.fetch",r);L_(n.replay,i)}catch(e){_g&&wg.exception(e,"Failed to capture fetch breadcrumb")}}function Y_(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function j_(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function H_(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?j_(n,t):Array.isArray(n)?{}:O_(n,t):{}}async function z_(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:s,xhr:a}=t,{url:l,method:c,status_code:u=0,request_body_size:h,response_body_size:d}=e.data;if(!l)return null;if(!a||!F_(l,n.networkDetailAllowUrls)||F_(l,n.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:P_(h),response:P_(d)}}const f=a[Sf],p=f?O_(f.request_headers,n.networkRequestHeaders):{},m=O_(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e}),{})}(a),n.networkResponseHeaders),[g,_]=n.networkCaptureBodies?D_(s):[void 0],[y,b]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return _g&&wg.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return _g&&wg.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return _g&&wg.warn("Failed to get xhr response body",...t),[void 0]}(a):[void 0],v=R_(p,h,g),w=R_(m,d,y);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:_?A_(v,_):v,response:b?A_(w,b):w}}(e,t,n),i=$_("resource.xhr",r);L_(n.replay,i)}catch(e){_g&&wg.exception(e,"Failed to capture xhr breadcrumb")}}function U_(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=C_(r),o=n.getResponseHeader("content-length")?E_(n.getResponseHeader("content-length")):function(e,t){try{return C_("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e)}catch(e){return}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o)}function W_(e){const t=Uc();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(U_(t,n),z_(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t){const{input:n,response:r}=t,i=C_(n?Y_(n):void 0),o=r?E_(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o)}(t,n),N_(t,n,e))}catch(e){_g&&wg.exception(e,"Error when enriching network breadcrumb")}}(a,e,t)))}catch(e){}}function G_(e){const t=Uc();mf(Yg(e)),yf(T_(e)),x_(e),W_(e);const n=S_(e);var r;r=n,jc().addEventProcessor(r),t&&(t.on("beforeSendEvent",w_(e)),t.on("afterSendEvent",v_(e)),t.on("createDsc",(t=>{const n=e.getSessionId();if(n&&e.isEnabled()&&"session"===e.recordingMode){e.checkAndHandleExpiredSession()&&(t.replay_id=n)}})),t.on("spanStart",(t=>{e.lastActiveSpan=t})),t.on("spanEnd",(t=>{e.lastActiveSpan=t})),t.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})))}function q_(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function B_(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(_g&&wg.warn("Received replay event after session expired."));const i=r||!t;t=!0,e.clickDetector&&Rg(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!p_(e,n,i))return!0;if(!i)return!1;const t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;p_(e,function(e){const t=e.getOptions();return{type:Tm.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),"buffer"===e.recordingMode&&t&&e.eventBuffer){const n=e.eventBuffer.getEarliestTimestamp();n&&(_g&&wg.info(`Updating session start time to earliest event in buffer to ${new Date(n)}`),t.started=n,e.getOptions().stickySession&&l_(t))}return t&&t.previousSessionId||"session"===e.recordingMode&&e.flush(),!0}))}}async function V_({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:o}){const s=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:u}=r,h=Uc(),d=Yc(),f=h&&h.getTransport(),p=h&&h.getDsn();if(!(h&&f&&p&&o.sampled))return Gl({});const m={type:"replay_event",replay_start_timestamp:u/1e3,timestamp:i/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){const i={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",r,i);const o=await Bu(e.getOptions(),r,i,t,e,jc());if(!o)return null;o.platform=o.platform||"javascript";const s=e.getSdkMetadata(),{name:a,version:l}=s&&s.sdk||{};return o.sdk={...o.sdk,name:a||"sentry.javascript.unknown",version:l||"0.0.0"},o}({scope:d,client:h,replayId:t,event:m});if(!g)return h.recordDroppedEvent("event_processor","replay",m),_g&&wg.info("An event processor returned `null`, will not send event."),Gl({});delete g.sdkProcessingMetadata;const _=function(e,t,n,r){return ac(_c(e,gc(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(g,s,p,h.getOptions().tunnel);let y;try{y=await f.send(_)}catch(e){const t=new Error(op);try{t.cause=e}catch(e){}throw t}if("number"==typeof y.statusCode&&(y.statusCode<200||y.statusCode>=300))throw new X_(y.statusCode);const b=bc({},y);if(yc(b,"replay"))throw new K_(b);return y}class X_ extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class K_ extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function J_(e,t={count:0,interval:5e3}){const{recordingData:n,onError:r}=e;if(n.length)try{return await V_(e),!0}catch(n){if(n instanceof X_||n instanceof K_)throw n;if(function(e,t){jc().setContext(e,t)}("Replays",{_retryCount:t.count}),r&&r(n),t.count>=3){const e=new Error(`${op} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{Mf((async()=>{try{await J_(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const Z_="__THROTTLED";function Q_(e,t,n){const r=new Map;let i=!1;return(...o)=>{const s=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(s),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=i;return i=!0,e?"__SKIPPED":Z_}i=!1;const a=r.get(s)||0;return r.set(s,a+1),e(...o)}}class ey{constructor({options:e,recordingOptions:t}){ey.prototype.__init.call(this),ey.prototype.__init2.call(this),ey.prototype.__init3.call(this),ey.prototype.__init4.call(this),ey.prototype.__init5.call(this),ey.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,i,o;const s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0}function c(){return i&&clearTimeout(i),i=Mf(a,t),s&&void 0===o&&(o=Mf(a,s)),r}return c.cancel=l,c.flush=function(){return void 0!==i||void 0!==o?a():r},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Q_(((e,t)=>function(e,t,n){return g_(e,t)?m_(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(i&&(this.clickDetector=new Ag(this,i)),_g){const t=e._experiments;wg.setConfig({captureExceptions:!!t.captureExceptions,traceInternals:!!t.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(e){_g&&wg.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",_g&&wg.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):_g&&wg.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(_g&&wg.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(_g&&wg.info("Buffering is in progress, call `flush()` to save the replay"));_g&&wg.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=f_({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(_g&&wg.info("Buffering is in progress, call `flush()` to save the replay"));_g&&wg.infoTick("Starting replay in buffer mode");const e=f_({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=gg({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:B_(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{_g&&wg.info("Stopping Replay"+(t?` triggered by ${t}`:"")),function(){const e=Yc().getPropagationContext().dsc;e&&delete e.replay_id;const t=pu();t&&delete Lu(t).replay_id}(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,o_(this)}catch(e){this.handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),_g&&wg.info("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),_g&&wg.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();_g&&wg.info("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&u_(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${rp.location.pathname}${rp.location.hash}${rp.location.search}`,t=`${rp.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===Z_){const e=Og({category:"replay.throttled"});this.addUpdate((()=>!p_(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastActiveSpan||pu(),t=e&&fu(e),n=(t&&su(t).data||{})[qc];if(t&&n&&["route","custom"].includes(n))return su(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=r_({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=f_({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!d_(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{rp.document.addEventListener("visibilitychange",this._handleVisibilityChange),rp.addEventListener("blur",this._handleWindowBlur),rp.addEventListener("focus",this._handleWindowFocus),rp.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(G_(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(jd(e,n))})),r.push(Fd(Ug(qg,e)),Id(Ug(Vg,e)),Nd(Ug(Xg,e)),Yd(Ug(Kg,e))),()=>{r.forEach((e=>e()))}}(this)}_removeListeners(){try{rp.document.removeEventListener("visibilitychange",this._handleVisibilityChange),rp.removeEventListener("blur",this._handleWindowBlur),rp.removeEventListener("focus",this._handleWindowFocus),rp.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===rp.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Og({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Og({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{Hg(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;h_(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):_g&&wg.info("Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:Tm.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){let e=(t=this.performanceEntries,t.map(Wg).filter(Boolean)).concat(this.replayPerformanceEntries);var t;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter((e=>e.start>=t))}return Promise.all(k_(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(k_(e,[q_(rp.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await J_({replayId:e,recordingData:i,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:e=>this.handleException(e)})}catch(e){this.handleException(e),this.stop({reason:"sendReplay"});const t=Uc();if(t){const n=e instanceof K_?"ratelimit_backoff":"send_error";t.recordDroppedEvent(n,"replay")}}}else _g&&wg.error("No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(_g&&wg.error("Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i)return _g&&wg.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());const o=this.eventBuffer;o&&0===this.session.segmentId&&!o.hasCheckout&&_g&&wg.info("Flushing initial segment without checkout.");const s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(e){this.handleException(e)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&l_(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Og({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function ty(e,t){return[...e,...t].join(",")}const ny='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',ry=["content-length","content-type","accept"];let iy=!1;class oy{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:o=!0,workerUrl:s,_experiments:a={},maskAllText:l=!0,maskAllInputs:c=!0,blockAllMedia:u=!0,mutationBreadcrumbLimit:h=750,mutationLimit:d=1e4,slowClickTimeout:f=7e3,slowClickIgnoreSelectors:p=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:_=!0,networkRequestHeaders:y=[],networkResponseHeaders:b=[],mask:v=[],maskAttributes:w=["title","placeholder"],unmask:x=[],block:M=[],unblock:S=[],ignore:k=[],maskFn:T,beforeAddRecordingEvent:L,beforeErrorSampling:C,onError:E}={}){this.name=oy.id;const D=function({mask:e,unmask:t,block:n,unblock:r,ignore:i}){return{maskTextSelector:ty(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:ty(t,[]),blockSelector:ty(n,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:ty(r,[]),ignoreSelector:ty(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:v,unmask:x,block:M,unblock:S,ignore:k});if(this._recordingOptions={maskAllInputs:c,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:T,maskInputFn:T,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return r?i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:w,maskAllText:l,privacyOptions:D,key:e,value:t,el:n}),...D,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,cp),stickySession:i,useCompression:o,workerUrl:s,blockAllMedia:u,maskAllInputs:c,maskAllText:l,mutationBreadcrumbLimit:h,mutationLimit:d,slowClickTimeout:f,slowClickIgnoreSelectors:p,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:_,networkRequestHeaders:sy(y),networkResponseHeaders:sy(b),beforeAddRecordingEvent:L,beforeErrorSampling:C,onError:E,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ny}`:ny),this._isInitialized&&Pl())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return iy}set _isInitialized(e){iy=e}afterAllSetup(e){Pl()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay&&this._replay.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const t=function(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Ka(e)},i=Cu(n.replaysSessionSampleRate),o=Cu(n.replaysOnErrorSampleRate);null==i&&null==o&&Oa((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));null!=i&&(r.sessionSampleRate=i);null!=o&&(r.errorSampleRate=o);return r}(this._initialOptions,e);this._replay=new ey({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(e){}}}function sy(e){return[...ry,...e.map((e=>e.toLowerCase()))]}var ay;oy.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(ay||(ay={}));const ly="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let cy={map:{},getId:()=>(console.error(ly),-1),getNode:()=>(console.error(ly),null),removeNodeFromMap(){console.error(ly)},has:()=>(console.error(ly),!1),reset(){console.error(ly)}};"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(cy=new Proxy(cy,{get:(e,t,n)=>("map"===t&&console.error(ly),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());for(var uy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hy="undefined"==typeof Uint8Array?[]:new Uint8Array(256),dy=0;dy<64;dy++)hy[uy.charCodeAt(dy)]=dy;new Map;const fy=ka,py=fy.document,my=fy.navigator,gy="Report a Bug",_y=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=Uc();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&Yc().setTags(e.tags);const r=function(e,t={},n=Yc()){const{message:r,name:i,email:o,url:s,source:a,associatedEventId:l,tags:c}=e,u={contexts:{feedback:Ka({contact_email:o,name:i,message:r,url:s,source:a,associated_event_id:l})},type:"feedback",level:"info",tags:c},h=n&&n.getClient()||Uc();return h&&h.emit("beforeSendFeedback",u,t),n.captureEvent(u,t)}({source:"api",url:Da(),...e},t);return new Promise(((e,t)=>{const i=setTimeout((()=>t("Unable to determine if Feedback was correctly sent.")),5e3),o=n.on("afterSendEvent",((n,s)=>{if(n.event_id===r)return clearTimeout(i),o(),s&&"number"==typeof s.statusCode&&s.statusCode>=200&&s.statusCode<300&&e(r),s&&"number"==typeof s.statusCode&&0===s.statusCode?t("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):s&&"number"==typeof s.statusCode&&403===s.statusCode?t("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):t("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")}))}))},yy="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function by(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function vy(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}function wy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const i=py.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=t||e||gy,i.appendChild(function(){const e=e=>fy.document.createElementNS("http://www.w3.org/2000/svg",e),t=vy(e("svg"),{width:"20",height:"20",viewBox:"0 0 20 20",fill:"var(--actor-color, var(--foreground))"}),n=vy(e("g"),{clipPath:"url(#clip0_57_80)"}),r=vy(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const i=e("defs"),o=vy(e("clipPath"),{id:"clip0_57_80"}),s=vy(e("rect"),{width:"20",height:"20",fill:"white"});return o.appendChild(s),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(s),t}()),e){const t=py.createElement("span");t.appendChild(py.createTextNode(e)),i.appendChild(t)}const o=function(e){const t=py.createElement("style");return t.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',e&&t.setAttribute("nonce",e),t}(r);return{el:i,appendToDom(){n.appendChild(o),n.appendChild(i)},removeFromDom(){n.removeChild(i),n.removeChild(o)},show(){i.ariaHidden="false"},hide(){i.ariaHidden="true"}}}const xy="rgba(88, 74, 192, 1)",My={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:xy,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Sy={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:xy,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function ky(e){return`\n  --foreground: ${e.foreground};\n  --background: ${e.background};\n  --accent-foreground: ${e.accentForeground};\n  --accent-background: ${e.accentBackground};\n  --success-color: ${e.successColor};\n  --error-color: ${e.errorColor};\n  --border: ${e.border};\n  --box-shadow: ${e.boxShadow};\n  --outline: ${e.outline};\n  --interactive-filter: ${e.interactiveFilter};\n  `}const Ty=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:r="sentry-feedback",autoInject:i=!0,showBranding:o=!0,isEmailRequired:s=!1,isNameRequired:a=!1,showEmail:l=!0,showName:c=!0,enableScreenshot:u=!0,useSentryUser:h={email:"email",name:"username"},tags:d,styleNonce:f,scriptNonce:p,colorScheme:m="system",themeLight:g={},themeDark:_={},addScreenshotButtonLabel:y="Add a screenshot",cancelButtonLabel:b="Cancel",confirmButtonLabel:v="Confirm",emailLabel:w="Email",emailPlaceholder:x="your.email@example.org",formTitle:M="Report a Bug",isRequiredLabel:S="(required)",messageLabel:k="Description",messagePlaceholder:T="What's the bug? What did you expect?",nameLabel:L="Name",namePlaceholder:C="Your Name",removeScreenshotButtonLabel:E="Remove screenshot",submitButtonLabel:D="Send Bug Report",successMessageText:A="Thank you for your report!",triggerLabel:$=gy,triggerAriaLabel:P="",onFormOpen:R,onFormClose:O,onSubmitSuccess:I,onSubmitError:F,onFormSubmitted:N}={})=>{const Y={id:r,autoInject:i,showBranding:o,isEmailRequired:s,isNameRequired:a,showEmail:l,showName:c,enableScreenshot:u,useSentryUser:h,tags:d,styleNonce:f,scriptNonce:p,colorScheme:m,themeDark:_,themeLight:g,triggerLabel:$,triggerAriaLabel:P,cancelButtonLabel:b,submitButtonLabel:D,confirmButtonLabel:v,formTitle:M,emailLabel:w,emailPlaceholder:x,messageLabel:k,messagePlaceholder:T,nameLabel:L,namePlaceholder:C,successMessageText:A,isRequiredLabel:S,addScreenshotButtonLabel:y,removeScreenshotButtonLabel:E,onFormClose:O,onFormOpen:R,onSubmitError:F,onSubmitSuccess:I,onFormSubmitted:N};let j=null,H=[];const z=e=>{if(!j){const t=py.createElement("div");t.id=String(e.id),py.body.appendChild(t),j=t.attachShadow({mode:"open"}),j.appendChild(function({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const i=py.createElement("style");return i.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${"system"!==e?"color-scheme: only light;":""}\n\n  ${ky("dark"===e?{...Sy,...t}:{...My,...n})}\n}\n\n${"system"===e?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${ky({...Sy,...t})}\n  }\n}`:""}\n}\n`,r&&i.setAttribute("nonce",r),i}(e))}return j},U=async(t,n,r)=>{const i=Uc(),o=i&&i.getIntegrationByName(t);if(o)return o;const s=(n&&n()||await e(r,p))();return i&&i.addIntegration(s),s},W=async e=>{const r=e.enableScreenshot&&!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(my.userAgent)||/Macintosh/i.test(my.userAgent)&&my.maxTouchPoints&&my.maxTouchPoints>1||!isSecureContext),[i,o]=await Promise.all([U("FeedbackModal",t,"feedbackModalIntegration"),r?U("FeedbackScreenshot",n,"feedbackScreenshotIntegration"):void 0]);if(!i)throw yy&&Ia.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");r&&!o&&yy&&Ia.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.");const s=i.createDialog({options:{...e,onFormClose:()=>{s&&s.close(),e.onFormClose&&e.onFormClose()},onFormSubmitted:()=>{s&&s.close(),e.onFormSubmitted&&e.onFormSubmitted()}},screenshotIntegration:r?o:void 0,sendFeedback:_y,shadow:z(e)});return s},G=(e,t={})=>{const n=by(Y,t),r="string"==typeof e?py.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)throw yy&&Ia.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let i=null;const o=async()=>{i||(i=await W({...n,onFormSubmitted:()=>{i&&i.removeFromDom(),n.onFormSubmitted&&n.onFormSubmitted()}})),i.appendToDom(),i.open()};r.addEventListener("click",o);const s=()=>{H=H.filter((e=>e!==s)),i&&i.removeFromDom(),i=null,r.removeEventListener("click",o)};return H.push(s),s},q=(e={})=>{const t=by(Y,e),n=z(t),r=wy({triggerLabel:t.triggerLabel,triggerAriaLabel:t.triggerAriaLabel,shadow:n,styleNonce:f});return G(r.el,{...t,onFormOpen(){r.hide()},onFormClose(){r.show()},onFormSubmitted(){r.show()}}),r};return{name:"Feedback",setupOnce(){Pl()&&Y.autoInject&&("loading"===py.readyState?py.addEventListener("DOMContentLoaded",(()=>q().appendToDom())):q().appendToDom())},attachTo:G,createWidget(e={}){const t=q(by(Y,e));return t.appendToDom(),t},createForm:async(e={})=>W(by(Y,e)),remove(){j&&(j.parentElement&&j.parentElement.remove(),j=null),H.forEach((e=>e())),H=[]}}};var Ly,Cy,Ey,Dy,Ay,$y,Py,Ry={},Oy=[],Iy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Fy=Array.isArray;function Ny(e,t){for(var n in t)e[n]=t[n];return e}function Yy(e){var t=e.parentNode;t&&t.removeChild(e)}function jy(e,t,n){var r,i,o,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Ly.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return Hy(e,s,r,i,null)}function Hy(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++Ey:i,__i:-1,__u:0};return null==i&&null!=Cy.vnode&&Cy.vnode(o),o}function zy(e){return e.children}function Uy(e,t){this.props=e,this.context=t}function Wy(e,t){if(null==t)return e.__?Wy(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Wy(e):null}function Gy(e,t,n){var r,i=e.__v,o=i.__e,s=e.__P;if(s)return(r=Ny({},i)).__v=i.__v+1,Cy.vnode&&Cy.vnode(r),nb(s,r,i,e.__n,void 0!==s.ownerSVGElement,32&i.__u?[o]:null,t,null==o?Wy(i):o,!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&qy(r),r}function qy(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return qy(e)}}function By(e){(!e.__d&&(e.__d=!0)&&Dy.push(e)&&!Vy.__r++||Ay!==Cy.debounceRendering)&&((Ay=Cy.debounceRendering)||$y)(Vy)}function Vy(){var e,t,n,r=[],i=[];for(Dy.sort(Py);e=Dy.shift();)e.__d&&(n=Dy.length,t=Gy(e,r,i)||t,0===n||Dy.length>n?(rb(r,t,i),i.length=r.length=0,t=void 0,Dy.sort(Py)):t&&Cy.__c&&Cy.__c(t,Oy));t&&rb(r,t,i),Vy.__r=0}function Xy(e,t,n,r,i,o,s,a,l,c,u){var h,d,f,p,m,g=r&&r.__k||Oy,_=t.length;for(n.__d=l,function(e,t,n){var r,i,o,s,a,l=t.length,c=n.length,u=c,h=0;for(e.__k=[],r=0;r<l;r++)null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?Hy(null,i,null,null,i):Fy(i)?Hy(zy,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?Hy(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,a=Jy(i,n,s=r+h,u),i.__i=a,o=null,-1!==a&&(u--,(o=n[a])&&(o.__u|=131072)),null==o||null===o.__v?(-1==a&&h--,"function"!=typeof i.type&&(i.__u|=65536)):a!==s&&(a===s+1?h++:a>s?u>l-s?h+=a-s:h--:h=a<s&&a==s-1?a-s:0,a!==r+h&&(i.__u|=65536))):(o=n[r])&&null==o.key&&o.__e&&(o.__e==e.__d&&(e.__d=Wy(o)),ob(o,o,!1),n[r]=null,u--);if(u)for(r=0;r<c;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=Wy(o)),ob(o,o))}(n,t,g),l=n.__d,h=0;h<_;h++)null!=(f=n.__k[h])&&"boolean"!=typeof f&&"function"!=typeof f&&(d=-1===f.__i?Ry:g[f.__i]||Ry,f.__i=h,nb(e,f,d,i,o,s,a,l,c,u),p=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&ib(d.ref,null,f),u.push(f.ref,f.__c||p,f)),null==m&&null!=p&&(m=p),65536&f.__u||d.__k===f.__k?l=Ky(f,l,e):"function"==typeof f.type&&void 0!==f.__d?l=f.__d:p&&(l=p.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=m}function Ky(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=Ky(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function Jy(e,t,n,r){var i=e.key,o=e.type,s=n-1,a=n+1,l=t[n];if(null===l||l&&i==l.key&&o===l.type)return n;if(r>(null==l||131072&l.__u?0:1))for(;s>=0||a<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&i==l.key&&o===l.type)return s;s--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a++}}return-1}function Zy(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Iy.test(t)?n:n+"px"}function Qy(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Zy(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Zy(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?tb:eb,o)):e.removeEventListener(t,o?tb:eb,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function eb(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(Cy.event?Cy.event(e):e)}}function tb(e){if(this.l)return this.l[e.type+!0](Cy.event?Cy.event(e):e)}function nb(e,t,n,r,i,o,s,a,l,c){var u,h,d,f,p,m,g,_,y,b,v,w,x,M,S,k=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=t.__e=n.__e]),(u=Cy.__b)&&u(t);e:if("function"==typeof k)try{if(_=t.props,y=(u=k.contextType)&&r[u.__c],b=u?y?y.props.value:u.__:r,n.__c?g=(h=t.__c=n.__c).__=h.__E:("prototype"in k&&k.prototype.render?t.__c=h=new k(_,b):(t.__c=h=new Uy(_,b),h.constructor=k,h.render=sb),y&&y.sub(h),h.props=_,h.state||(h.state={}),h.context=b,h.__n=r,d=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=k.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=Ny({},h.__s)),Ny(h.__s,k.getDerivedStateFromProps(_,h.__s))),f=h.props,p=h.state,h.__v=t,d)null==k.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==k.getDerivedStateFromProps&&_!==f&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(_,b),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(_,h.__s,b)||t.__v===n.__v)){for(t.__v!==n.__v&&(h.props=_,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),v=0;v<h._sb.length;v++)h.__h.push(h._sb[v]);h._sb=[],h.__h.length&&s.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(_,h.__s,b),null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(f,p,m)}))}if(h.context=b,h.props=_,h.__P=e,h.__e=!1,w=Cy.__r,x=0,"prototype"in k&&k.prototype.render){for(h.state=h.__s,h.__d=!1,w&&w(t),u=h.render(h.props,h.state,h.context),M=0;M<h._sb.length;M++)h.__h.push(h._sb[M]);h._sb=[]}else do{h.__d=!1,w&&w(t),u=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++x<25);h.state=h.__s,null!=h.getChildContext&&(r=Ny(Ny({},r),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(m=h.getSnapshotBeforeUpdate(f,p)),Xy(e,Fy(S=null!=u&&u.type===zy&&null==u.key?u.props.children:u)?S:[S],t,n,r,i,o,s,a,l,c),h.base=t.__e,t.__u&=-161,h.__h.length&&s.push(h),g&&(h.__E=h.__=null)}catch(e){t.__v=null,l||null!=o?(t.__e=a,t.__u|=l?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),Cy.__e(e,t,n)}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,o,s,a,l){var c,u,h,d,f,p,m,g=n.props,_=t.props,y=t.type;if("svg"===y&&(i=!0),null!=o)for(c=0;c<o.length;c++)if((f=o[c])&&"setAttribute"in f==!!y&&(y?f.localName===y:3===f.nodeType)){e=f,o[c]=null;break}if(null==e){if(null===y)return document.createTextNode(_);e=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,_.is&&_),o=null,a=!1}if(null===y)g===_||a&&e.data===_||(e.data=_);else{if(o=o&&Ly.call(e.childNodes),g=n.props||Ry,!a&&null!=o)for(g={},c=0;c<e.attributes.length;c++)g[(f=e.attributes[c]).name]=f.value;for(c in g)f=g[c],"children"==c||("dangerouslySetInnerHTML"==c?h=f:"key"===c||c in _||Qy(e,c,null,f,i));for(c in _)f=_[c],"children"==c?d=f:"dangerouslySetInnerHTML"==c?u=f:"value"==c?p=f:"checked"==c?m=f:"key"===c||a&&"function"!=typeof f||g[c]===f||Qy(e,c,f,g[c],i);if(u)a||h&&(u.__html===h.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),Xy(e,Fy(d)?d:[d],t,n,r,i&&"foreignObject"!==y,o,s,o?o[0]:n.__k&&Wy(n,0),a,l),null!=o)for(c=o.length;c--;)null!=o[c]&&Yy(o[c]);a||(c="value",void 0!==p&&(p!==e[c]||"progress"===y&&!p||"option"===y&&p!==g[c])&&Qy(e,c,p,g[c],!1),c="checked",void 0!==m&&m!==e[c]&&Qy(e,c,m,g[c],!1))}return e}(n.__e,t,n,r,i,o,s,l,c);(u=Cy.diffed)&&u(t)}function rb(e,t,n){for(var r=0;r<n.length;r++)ib(n[r],n[++r],n[++r]);Cy.__c&&Cy.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Cy.__e(e,t.__v)}}))}function ib(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Cy.__e(e,n)}}function ob(e,t,n){var r,i;if(Cy.unmount&&Cy.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ib(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Cy.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&ob(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||Yy(e.__e),e.__=e.__e=e.__d=void 0}function sb(e,t,n){return this.constructor(e,n)}Ly=Oy.slice,Cy={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},Ey=0,Uy.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ny({},this.state),"function"==typeof e&&(e=e(Ny({},n),this.props)),e&&Ny(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),By(this))},Uy.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),By(this))},Uy.prototype.render=zy,Dy=[],$y="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Py=function(e,t){return e.__v.__b-t.__v.__b},Vy.__r=0;var ab,lb,cb,ub,hb=0,db=[],fb=[],pb=Cy,mb=pb.__b,gb=pb.__r,_b=pb.diffed,yb=pb.__c,bb=pb.unmount,vb=pb.__;function wb(e,t){pb.__h&&pb.__h(lb,e,hb||t),hb=0;var n=lb.__H||(lb.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:fb}),n.__[e]}function xb(e){return hb=1,Mb(Pb,e)}function Mb(e,t,n){var r=wb(ab++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Pb(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=lb,!lb.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!o||o.call(this,e,t,n);var s=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}})),!(!s&&r.__c.props===e)&&(!o||o.call(this,e,t,n))};lb.u=!0;var o=lb.shouldComponentUpdate,s=lb.componentWillUpdate;lb.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,i(e,t,n),o=r}s&&s.call(this,e,t,n)},lb.shouldComponentUpdate=i}return r.__N||r.__}function Sb(e,t){var n=wb(ab++,4);!pb.__s&&$b(n.__H,t)&&(n.__=e,n.i=t,lb.__h.push(n))}function kb(e,t){var n=wb(ab++,7);return $b(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Tb(e,t){return hb=8,kb((function(){return e}),t)}function Lb(){for(var e;e=db.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Db),e.__H.__h.forEach(Ab),e.__H.__h=[]}catch(t){e.__H.__h=[],pb.__e(t,e.__v)}}pb.__b=function(e){lb=null,mb&&mb(e)},pb.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),vb&&vb(e,t)},pb.__r=function(e){gb&&gb(e),ab=0;var t=(lb=e.__c).__H;t&&(cb===lb?(t.__h=[],lb.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=fb,e.__N=e.i=void 0}))):(t.__h.forEach(Db),t.__h.forEach(Ab),t.__h=[],ab=0)),cb=lb},pb.diffed=function(e){_b&&_b(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==db.push(t)&&ub===pb.requestAnimationFrame||((ub=pb.requestAnimationFrame)||Eb)(Lb)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==fb&&(e.__=e.__V),e.i=void 0,e.__V=fb}))),cb=lb=null},pb.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Db),e.__h=e.__h.filter((function(e){return!e.__||Ab(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],pb.__e(n,e.__v)}})),yb&&yb(e,t)},pb.unmount=function(e){bb&&bb(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Db(e)}catch(e){t=e}})),n.__H=void 0,t&&pb.__e(t,n.__v))};var Cb="function"==typeof requestAnimationFrame;function Eb(e){var t,n=function(){clearTimeout(r),Cb&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Cb&&(t=requestAnimationFrame(n))}function Db(e){var t=lb,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),lb=t}function Ab(e){var t=lb;e.__c=e.__(),lb=t}function $b(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Pb(e,t){return"function"==typeof t?t(e):t}const Rb={__proto__:null,useCallback:Tb,useContext:function(e){var t=lb.context[e.__c],n=wb(ab++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(lb)),t.props.value):e.__},useDebugValue:function(e,t){pb.useDebugValue&&pb.useDebugValue(t?t(e):e)},useEffect:function(e,t){var n=wb(ab++,3);!pb.__s&&$b(n.__H,t)&&(n.__=e,n.i=t,lb.__H.__h.push(n))},useErrorBoundary:function(e){var t=wb(ab++,10),n=xb();return t.__=e,lb.componentDidCatch||(lb.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:function(){var e=wb(ab++,11);if(!e.__){for(var t=lb.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__},useImperativeHandle:function(e,t,n){hb=6,Sb((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))},useLayoutEffect:Sb,useMemo:kb,useReducer:Mb,useRef:function(e){return hb=5,kb((function(){return{current:e}}),[])},useState:xb};function Ob(){const e=e=>py.createElementNS("http://www.w3.org/2000/svg",e),t=vy(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=vy(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}const Ib="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function Fb({options:e}){const t=kb((()=>({__html:Ob().outerHTML})),[]);return jy("h2",{class:"dialog__header",__self:this,__source:{fileName:Ib,lineNumber:16}},e.formTitle,e.showBranding?jy("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t,__self:this,__source:{fileName:Ib,lineNumber:19}}):null)}const Nb="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function Yb(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function jb({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:i,onSubmitSuccess:o,onSubmitError:s,showEmail:a,showName:l,screenshotInput:c}){const{tags:u,addScreenshotButtonLabel:h,removeScreenshotButtonLabel:d,cancelButtonLabel:f,emailLabel:p,emailPlaceholder:m,isEmailRequired:g,isNameRequired:_,messageLabel:y,messagePlaceholder:b,nameLabel:v,namePlaceholder:w,submitButtonLabel:x,isRequiredLabel:M}=e,[S,k]=xb(null),[T,L]=xb(!1),C=c&&c.input,[E,D]=xb(null),A=Tb((e=>{D(e),L(!1)}),[]),$=Tb((e=>{const t=function(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}(e,{emailLabel:p,isEmailRequired:g,isNameRequired:_,messageLabel:y,nameLabel:v});return t.length>0?k(`Please enter in the following required fields: ${t.join(", ")}`):k(null),0===t.length}),[p,g,_,y,v]),P=Tb((async e=>{try{if(e.preventDefault(),!(e.target instanceof HTMLFormElement))return;const t=new FormData(e.target),n=await(c&&T?c.value():void 0),r={name:Yb(t,"name"),email:Yb(t,"email"),message:Yb(t,"message"),attachments:n?[n]:void 0};if(!$(r))return;try{await i({name:r.name,email:r.email,message:r.message,source:"widget",tags:u},{attachments:r.attachments}),o(r)}catch(e){yy&&Ia.error(e),k(e),s(e)}}catch(e){}}),[c&&T,o,s]);return jy("form",{class:"form",onSubmit:P,__self:this,__source:{fileName:Nb,lineNumber:144}},C&&T?jy(C,{onError:A,__self:this,__source:{fileName:Nb,lineNumber:146}}):null,jy("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:Nb,lineNumber:149}},jy("div",{class:"form__top",__self:this,__source:{fileName:Nb,lineNumber:150}},S?jy("div",{class:"form__error-container",__self:this,__source:{fileName:Nb,lineNumber:151}},S):null,l?jy("label",{for:"name",class:"form__label",__self:this,__source:{fileName:Nb,lineNumber:154}},jy(Hb,{label:v,isRequiredLabel:M,isRequired:_,__self:this,__source:{fileName:Nb,lineNumber:155}}),jy("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:w,required:_,type:"text",__self:this,__source:{fileName:Nb,lineNumber:156}})):jy("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden",__self:this,__source:{fileName:Nb,lineNumber:167}}),a?jy("label",{for:"email",class:"form__label",__self:this,__source:{fileName:Nb,lineNumber:171}},jy(Hb,{label:p,isRequiredLabel:M,isRequired:g,__self:this,__source:{fileName:Nb,lineNumber:172}}),jy("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:g,type:"email",__self:this,__source:{fileName:Nb,lineNumber:173}})):jy("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden",__self:this,__source:{fileName:Nb,lineNumber:184}}),jy("label",{for:"message",class:"form__label",__self:this,__source:{fileName:Nb,lineNumber:187}},jy(Hb,{label:y,isRequiredLabel:M,isRequired:!0,__self:this,__source:{fileName:Nb,lineNumber:188}}),jy("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:b,required:!0,rows:5,__self:this,__source:{fileName:Nb,lineNumber:189}})),C?jy("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:Nb,lineNumber:201}},jy("button",{class:"btn btn--default",type:"button",onClick:()=>{D(null),L((e=>!e))},__self:this,__source:{fileName:Nb,lineNumber:202}},T?d:h),E?jy("div",{class:"form__error-container",__self:this,__source:{fileName:Nb,lineNumber:212}},E.message):null):null),jy("div",{class:"btn-group",__self:this,__source:{fileName:Nb,lineNumber:216}},jy("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:Nb,lineNumber:217}},x),jy("button",{class:"btn btn--default",type:"button",onClick:r,__self:this,__source:{fileName:Nb,lineNumber:220}},f))))}function Hb({label:e,isRequired:t,isRequiredLabel:n}){return jy("span",{class:"form__label__text",__self:this,__source:{fileName:Nb,lineNumber:239}},e,t&&jy("span",{class:"form__label__text--required",__self:this,__source:{fileName:Nb,lineNumber:241}},n))}function zb(){const e=e=>fy.document.createElementNS("http://www.w3.org/2000/svg",e),t=vy(e("svg"),{width:"16",height:"17",viewBox:"0 0 16 17",fill:"inherit"}),n=vy(e("g"),{clipPath:"url(#clip0_57_156)"}),r=vy(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=vy(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(i,r);const o=e("defs"),s=vy(e("clipPath"),{id:"clip0_57_156"}),a=vy(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(a),t}const Ub="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function Wb({open:e,onFormSubmitted:t,...n}){const r=n.options,i=kb((()=>({__html:zb().outerHTML})),[]),[o,s]=xb(null),a=Tb((()=>{o&&(clearTimeout(o),s(null)),t()}),[o]),l=Tb((e=>{n.onSubmitSuccess(e),s(setTimeout((()=>{t(),s(null)}),5e3))}),[t]);return jy(zy,{__self:this,__source:{fileName:Ub,lineNumber:48}},o?jy("div",{class:"success__position",onClick:a,__self:this,__source:{fileName:Ub,lineNumber:50}},jy("div",{class:"success__content",__self:this,__source:{fileName:Ub,lineNumber:51}},r.successMessageText,jy("span",{class:"success__icon",dangerouslySetInnerHTML:i,__self:this,__source:{fileName:Ub,lineNumber:53}}))):jy("dialog",{class:"dialog",onClick:r.onFormClose,open:e,__self:this,__source:{fileName:Ub,lineNumber:57}},jy("div",{class:"dialog__position",__self:this,__source:{fileName:Ub,lineNumber:58}},jy("div",{class:"dialog__content",onClick:e=>{e.stopPropagation()},__self:this,__source:{fileName:Ub,lineNumber:59}},jy(Fb,{options:r,__self:this,__source:{fileName:Ub,lineNumber:66}}),jy(jb,{...n,onSubmitSuccess:l,__self:this,__source:{fileName:Ub,lineNumber:67}})))))}const Gb=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const i=r,o=e.useSentryUser,s=function(){const e=Yc().getUser(),t=jc().getUser(),n=Hc().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}(),a=py.createElement("div"),l=function(e){const t=py.createElement("style");return t.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n\n\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  width: var(--form-width, 272px);\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n}\n\n@media (max-width: 600px) {\n  .form__right {\n    width: var(--form-width, 100%);\n  }\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n\n\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n\n",e&&t.setAttribute("nonce",e),t}(e.styleNonce);let c="";const u={get el(){return a},appendToDom(){i.contains(l)||i.contains(a)||(i.appendChild(l),i.appendChild(a))},removeFromDom(){i.removeChild(a),i.removeChild(l),py.body.style.overflow=c},open(){d(!0),e.onFormOpen&&e.onFormOpen(),c=py.body.style.overflow,py.body.style.overflow="hidden"},close(){d(!1),py.body.style.overflow=c}},h=t&&t.createInput({h:jy,hooks:Rb,dialog:u,options:e}),d=t=>{!function(e,t,n){var r,i,o,s;Cy.__&&Cy.__(e,t),i=(r="function"==typeof n)?null:t.__k,o=[],s=[],nb(t,e=(!r&&n||t).__k=jy(zy,null,[e]),i||Ry,Ry,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?Ly.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,s),e.__d=void 0,rb(o,e,s)}(jy(Wb,{options:e,screenshotInput:h,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&s&&s[o.name]||"",defaultEmail:o&&s&&s[o.email]||"",onFormClose:()=>{d(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:t=>{d(!1),e.onSubmitSuccess&&e.onSubmitSuccess(t)},onSubmitError:t=>{e.onSubmitError&&e.onSubmitError(t)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:t,__self:void 0,__source:{fileName:"/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx",lineNumber:67}}),a)};return u}});function qb(e){const t=py.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`\n.editor {\n  padding: 10px;\n  padding-top: 65px;\n  padding-bottom: 65px;\n  flex-grow: 1;\n\n  background-color: ${n};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${n} 8px,\n      ${n} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${r} 15px,\n      ${r} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container canvas {\n  object-fit: contain;\n  position: relative;\n}\n\n.editor__crop-btn-group {\n  padding: 8px;\n  gap: 8px;\n  border-radius: var(--menu-border-radius, 6px);\n  background: var(--button-primary-background, var(--background));\n  width: 175px;\n  position: absolute;\n}\n\n.editor__crop-corner {\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  background: none;\n  border: 3px solid #ffffff;\n}\n\n.editor__crop-corner--top-left {\n  cursor: nwse-resize;\n  border-right: none;\n  border-bottom: none;\n}\n.editor__crop-corner--top-right {\n  cursor: nesw-resize;\n  border-left: none;\n  border-bottom: none;\n}\n.editor__crop-corner--bottom-left {\n  cursor: nesw-resize;\n  border-right: none;\n  border-top: none;\n}\n.editor__crop-corner--bottom-right {\n  cursor: nwse-resize;\n  border-left: none;\n  border-top: none;\n}\n`,e&&t.setAttribute("nonce",e),t}const Bb="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",Vb=33,Xb=fy.devicePixelRatio,Kb=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),Jb=e=>{const t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;let i=t*r,o=t;i>n&&(i=n,o=n/r);const s=(n-i)/2,a=(t-o)/2;return{startX:s,startY:a,endX:i+s,endY:o+a}};function Zb({h:e,hooks:t,imageBuffer:n,dialog:r,options:i}){const o=function({hooks:e}){return function({onBeforeScreenshot:t,onScreenshot:n,onAfterScreenshot:r,onError:i}){e.useEffect((()=>{(async()=>{t();const e=await my.mediaDevices.getDisplayMedia({video:{width:fy.innerWidth*fy.devicePixelRatio,height:fy.innerHeight*fy.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),i=py.createElement("video");await new Promise(((t,r)=>{i.srcObject=e,i.onloadedmetadata=()=>{n(i),e.getTracks().forEach((e=>e.stop())),t()},i.play().catch(r)})),r()})().catch(i)}),[])}}({hooks:t});return function({onError:s}){const a=t.useMemo((()=>({__html:qb(i.styleNonce).innerText})),[]),l=function({h:e}){return function({top:t,left:n,corner:r,onGrabButton:i}){return e("button",{class:`editor__crop-corner editor__crop-corner--${r} `,style:{top:t,left:n},onMouseDown:e=>{e.preventDefault(),i(e,r)},onClick:e=>{e.preventDefault()},__self:this,__source:{fileName:"/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/CropCorner.tsx",lineNumber:22}})}}({h:e}),c=t.useRef(null),u=t.useRef(null),h=t.useRef(null),[d,f]=t.useState({startX:0,startY:0,endX:0,endY:0}),[p,m]=t.useState(!1),[g,_]=t.useState(!1);function y(){const e=h.current,t=Kb(Jb(n));if(e){e.width=t.width*Xb,e.height=t.height*Xb,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`;const n=e.getContext("2d");n&&n.scale(Xb,Xb)}const r=u.current;r&&(r.style.width=`${t.width}px`,r.style.height=`${t.height}px`),f({startX:0,startY:0,endX:t.width,endY:t.height})}function b(e,t){m(!1),_(!0);const n=v(t),r=()=>{py.removeEventListener("mousemove",n),py.removeEventListener("mouseup",r),m(!0),_(!1)};py.addEventListener("mouseup",r),py.addEventListener("mousemove",n)}t.useEffect((()=>{fy.addEventListener("resize",y,!1)}),[]),t.useEffect((()=>{const e=h.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const r=Kb(Jb(n)),i=Kb(d);t.clearRect(0,0,r.width,r.height),t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,0,r.width,r.height),t.clearRect(i.x,i.y,i.width,i.height),t.strokeStyle="#ffffff",t.lineWidth=3,t.strokeRect(i.x+1,i.y+1,i.width-2,i.height-2),t.strokeStyle="#000000",t.lineWidth=1,t.strokeRect(i.x+3,i.y+3,i.width-6,i.height-6)}),[d]);const v=t.useCallback((e=>function(t){if(!h.current)return;const n=h.current,r=n.getBoundingClientRect(),i=t.clientX-r.x,o=t.clientY-r.y;switch(e){case"top-left":f((e=>({...e,startX:Math.min(Math.max(0,i),e.endX-Vb),startY:Math.min(Math.max(0,o),e.endY-Vb)})));break;case"top-right":f((e=>({...e,endX:Math.max(Math.min(i,n.width/Xb),e.startX+Vb),startY:Math.min(Math.max(0,o),e.endY-Vb)})));break;case"bottom-left":f((e=>({...e,startX:Math.min(Math.max(0,i),e.endX-Vb),endY:Math.max(Math.min(o,n.height/Xb),e.startY+Vb)})));break;case"bottom-right":f((e=>({...e,endX:Math.max(Math.min(i,n.width/Xb),e.startX+Vb),endY:Math.max(Math.min(o,n.height/Xb),e.startY+Vb)})))}}),[]),w=t.useRef({initialX:0,initialY:0});return o({onBeforeScreenshot:t.useCallback((()=>{r.el.style.display="none"}),[]),onScreenshot:t.useCallback((e=>{const t=n.getContext("2d");if(!t)throw new Error("Could not get canvas context");n.width=e.videoWidth,n.height=e.videoHeight,n.style.width="100%",n.style.height="100%",t.drawImage(e,0,0)}),[n]),onAfterScreenshot:t.useCallback((()=>{r.el.style.display="block";const e=c.current;e&&e.appendChild(n),y()}),[]),onError:t.useCallback((e=>{r.el.style.display="block",s(e)}),[])}),e("div",{class:"editor",__self:this,__source:{fileName:Bb,lineNumber:315}},e("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:a,__self:this,__source:{fileName:Bb,lineNumber:316}}),e("div",{class:"editor__canvas-container",ref:c,__self:this,__source:{fileName:Bb,lineNumber:317}},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:u,__self:this,__source:{fileName:Bb,lineNumber:318}},e("canvas",{onMouseDown:function(e){if(g)return;w.current={initialX:e.clientX,initialY:e.clientY};const t=e=>{const t=h.current;if(!t)return;const n=e.clientX-w.current.initialX,r=e.clientY-w.current.initialY;f((i=>{const o=Math.max(0,Math.min(i.startX+n,t.width/Xb-(i.endX-i.startX))),s=Math.max(0,Math.min(i.startY+r,t.height/Xb-(i.endY-i.startY))),a=o+(i.endX-i.startX),l=s+(i.endY-i.startY);return w.current.initialX=e.clientX,w.current.initialY=e.clientY,{startX:o,startY:s,endX:a,endY:l}}))},n=()=>{py.removeEventListener("mousemove",t),py.removeEventListener("mouseup",n)};py.addEventListener("mousemove",t),py.addEventListener("mouseup",n)},style:{position:"absolute",cursor:p?"move":"auto"},ref:h,__self:this,__source:{fileName:Bb,lineNumber:319}}),e(l,{left:d.startX-3,top:d.startY-3,onGrabButton:b,corner:"top-left",__self:this,__source:{fileName:Bb,lineNumber:324}}),e(l,{left:d.endX-30+3,top:d.startY-3,onGrabButton:b,corner:"top-right",__self:this,__source:{fileName:Bb,lineNumber:330}}),e(l,{left:d.startX-3,top:d.endY-30+3,onGrabButton:b,corner:"bottom-left",__self:this,__source:{fileName:Bb,lineNumber:336}}),e(l,{left:d.endX-30+3,top:d.endY-30+3,onGrabButton:b,corner:"bottom-right",__self:this,__source:{fileName:Bb,lineNumber:342}}),e("div",{style:{left:Math.max(0,d.endX-191),top:Math.max(0,d.endY+8),display:p?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:Bb,lineNumber:348}},e("button",{onClick:e=>{e.preventDefault(),h.current&&f({startX:0,startY:0,endX:h.current.width/Xb,endY:h.current.height/Xb}),m(!1)},class:"btn btn--default",__self:this,__source:{fileName:Bb,lineNumber:356}},i.cancelButtonLabel),e("button",{onClick:e=>{e.preventDefault(),function(){const e=py.createElement("canvas"),t=Kb(Jb(n)),r=Kb(d);e.width=r.width*Xb,e.height=r.height*Xb;const i=e.getContext("2d");i&&n&&i.drawImage(n,r.x/t.width*n.width,r.y/t.height*n.height,r.width/t.width*n.width,r.height/t.height*n.height,0,0,e.width,e.height);const o=n.getContext("2d");o&&(o.clearRect(0,0,n.width,n.height),n.width=e.width,n.height=e.height,n.style.width=`${r.width}px`,n.style.height=`${r.height}px`,o.drawImage(e,0,0),y())}(),m(!1)},class:"btn btn--primary",__self:this,__source:{fileName:Bb,lineNumber:373}},i.confirmButtonLabel)))))}}const Qb=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const i=py.createElement("canvas");return{input:Zb({h:e,hooks:t,imageBuffer:i,dialog:n,options:r}),value:async()=>{const e=await new Promise((e=>{i.toBlob(e,"image/png")}));if(e){return{data:new Uint8Array(await e.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}});Ty({lazyLoadIntegration:np}),Ty({lazyLoadIntegration:np,getModalIntegration:()=>Gb,getScreenshotIntegration:()=>Qb});const ev=new WeakMap,tv=new Map,nv={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function rv(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:a}={traceFetch:nv.traceFetch,traceXHR:nv.traceXHR,trackFetchStreamPerformance:nv.trackFetchStreamPerformance,...t},l="function"==typeof o?o:e=>!0,c=e=>function(e,t){const n=Ph.location&&Ph.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch(e){return!1}const o=r.origin===i;return t?ya(r.toString(),t)||o&&ya(r.pathname,t):o}{const n=!!e.match(/^\/(?!\/)/);return t?ya(e,t):n}}(e,a),u={};n&&(e.addEventProcessor((e=>("transaction"===e.type&&e.spans&&e.spans.forEach((e=>{if("http.client"===e.op){const t=tv.get(e.span_id);t&&(e.timestamp=t/1e3,tv.delete(e.span_id))}})),e))),i&&function(e){const t="fetch-body-resolved";ll(t,e),cl(t,(()=>xl(Ml)))}((e=>{if(e.response){const t=ev.get(e.response);t&&e.endTimestamp&&tv.set(t,e.endTimestamp)}})),wl((e=>{const t=Ah(e,l,c,u);if(e.response&&e.fetchData.__span&&ev.set(e.response,e.fetchData.__span),t){const n=sv(e.fetchData.url),r=n?Xl(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}s&&t&&iv(t)}))),r&&kf((e=>{const t=function(e,t,n,r){const i=e.xhr,o=i&&i[Sf];if(!i||i.__sentry_own_request__||!o)return;const s=wu()&&t(o.url);if(e.endTimestamp&&s){const e=i.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==o.status_code&&(eu(t,o.status_code),t.end(),delete r[e]))}const a=sv(o.url),l=a?Xl(a).host:void 0,c=!!pu(),u=s&&c?Ru({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":l,[Xc]:"auto.http.browser",[Vc]:"http.client"}}):new xu;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const h=Uc();i.setRequestHeader&&n(o.url)&&h&&function(e,t,n){const r=Yc(),i=jc(),{traceId:o,spanId:s,sampled:a,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&wu()?ru(n):sc(o,s,a),u=nc(l||(n?Lu(n):Tu(o,t)));!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Zl,n)}catch(e){}}(e,c,u)}(i,h,wu()&&c?u:void 0);return u}(e,l,c,u);s&&t&&iv(t)}))}function iv(e){const{url:t}=su(e).data||{};if(!t||"string"!=typeof t)return;const n=jd("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!vl)return r;return[...r,["http.request.redirect_start",ov(e.redirectStart)],["http.request.fetch_start",ov(e.fetchStart)],["http.request.domain_lookup_start",ov(e.domainLookupStart)],["http.request.domain_lookup_end",ov(e.domainLookupEnd)],["http.request.connect_start",ov(e.connectStart)],["http.request.secure_connection_start",ov(e.secureConnectionStart)],["http.request.connection_end",ov(e.connectEnd)],["http.request.request_start",ov(e.requestStart)],["http.request.response_start",ov(e.responseStart)],["http.request.response_end",ov(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function ov(e=0){return((vl||performance.timeOrigin)+e)/1e3}function sv(e){try{return new URL(e,Ph.location.origin).href}catch(e){return}}const av={...Hu,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...nv},lv=(e={})=>{gu();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:o},beforeStartSpan:s,idleTimeout:a,finalTimeout:l,childSpanTimeout:c,markBackgroundSpan:u,traceFetch:h,traceXHR:d,trackFetchStreamPerformance:f,shouldCreateSpanForRequest:p,enableHTTPTimings:m,instrumentPageLoad:g,instrumentNavigation:_}={...av,...e},y=af({recordClsStandaloneSpans:o||!1});t&&Ef(),r&&ka.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function(){const e=new PerformanceObserver((e=>{if(pu())for(const t of e.getEntries()){if(!t.scripts[0])continue;const e=ef(vl+t.startTime),n=ef(t.duration),r={[Xc]:"auto.ui.browser.metrics"},i=t.scripts[0],{invoker:o,invokerType:s,sourceURL:a,sourceFunctionName:l,sourceCharPosition:c}=i;r["browser.script.invoker"]=o,r["browser.script.invoker_type"]=s,a&&(r["code.filepath"]=a),l&&(r["code.function"]=l),-1!==c&&(r["browser.script.source_char_position"]=c);const u=Ru({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:e,attributes:r});u&&u.end(e+n)}}));e.observe({type:"long-animation-frame",buffered:!0})}():n&&jd("longtask",(({entries:e})=>{if(pu())for(const t of e){const e=ef(vl+t.startTime),n=ef(t.duration),r=Ru({name:"Main UI thread blocked",op:"ui.long-task",startTime:e,attributes:{[Xc]:"auto.ui.browser.metrics"}});r&&r.end(e+n)}})),i&&jd("event",(({entries:e})=>{if(pu())for(const t of e)if("click"===t.name){const e=ef(vl+t.startTime),n=ef(t.duration),r={name:Ca(t.target),op:`ui.interaction.${t.name}`,startTime:e,attributes:{[Xc]:"auto.ui.browser.metrics"}},i=Aa(t.target);i&&(r.attributes["ui.component_name"]=i);const o=Ru(r);o&&o.end(e+n)}}));const b={name:void 0,source:void 0};function v(e,t){const n="pageload"===t.op,r=s?s(t):t,i=r.attributes||{};t.name!==r.name&&(i[qc]="custom",r.attributes=i),b.name=r.name,b.source=i[qc];const u=zu(r,{idleTimeout:a,finalTimeout:l,childSpanTimeout:c,disableAutoFinish:n,beforeSpanEnd:e=>{y(),lf(e,{recordClsOnPageloadSpan:!o})}});function h(){["interactive","complete"].includes(Ph.document.readyState)&&e.emit("idleSpanEnableAutoFinish",u)}return n&&Ph.document&&(Ph.document.addEventListener("readystatechange",(()=>{h()})),h()),u}return{name:"BrowserTracing",afterAllSetup(e){let n,r=Ph.location&&Ph.location.href;e.on("startNavigationSpan",(t=>{Uc()===e&&(n&&!su(n).timestamp&&(Fh&&Ia.log(`[Tracing] Finishing current root span with op: ${su(n).op}`),n.end()),n=v(e,{op:"navigation",...t}))})),e.on("startPageLoadSpan",((t,r={})=>{if(Uc()!==e)return;n&&!su(n).timestamp&&(Fh&&Ia.log(`[Tracing] Finishing current root span with op: ${su(n).op}`),n.end());const i=oc(r.sentryTrace||cv("sentry-trace"),r.baggage||cv("baggage"));Yc().setPropagationContext(i),n=v(e,{op:"pageload",...t})})),e.on("spanEnd",(e=>{const t=su(e).op;if(e!==fu(e)||"navigation"!==t&&"pageload"!==t)return;const n=Yc(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:au(e),dsc:r.dsc||Lu(e)})})),Ph.location&&(g&&function(e,t,n){e.emit("startPageLoadSpan",t,n),Yc().setTransactionName(t.name);const r=pu();r&&su(r).op}(e,{name:Ph.location.pathname,startTime:vl?vl/1e3:void 0,attributes:{[qc]:"url",[Xc]:"auto.pageload.browser"}}),_&&yf((({to:t,from:n})=>{void 0===n&&r&&-1!==r.indexOf(t)?r=void 0:n!==t&&(r=void 0,function(e,t){jc().setPropagationContext(wc()),Yc().setPropagationContext(wc()),e.emit("startNavigationSpan",t),Yc().setTransactionName(t.name);const n=pu();n&&su(n).op}(e,{name:Ph.location.pathname,attributes:{[qc]:"url",[Xc]:"auto.navigation.browser"}}))}))),u&&(Ph&&Ph.document?Ph.document.addEventListener("visibilitychange",(()=>{const e=pu();if(!e)return;const t=fu(e);if(Ph.document.hidden&&t){const e="cancelled",{op:n,status:r}=su(t);Fh&&Ia.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus({code:2,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}})):Fh&&Ia.warn("[Tracing] Could not set up background tab detection due to lack of global document")),i&&function(e,t,n,r){let i;const o=()=>{const o="ui.action.click",s=pu(),a=s&&fu(s);if(a){const e=su(a).op;if(["navigation","pageload"].includes(e))return void(Fh&&Ia.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`))}i&&(i.setAttribute(Kc,"interactionInterrupted"),i.end(),i=void 0),r.name?i=zu({name:r.name,op:o,attributes:{[qc]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n}):Fh&&Ia.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`)};Ph.document&&addEventListener("click",o,{once:!1,capture:!0})}(a,l,c,b),t&&function(){const e=({entries:e})=>{const t=pu(),n=t&&fu(t);e.forEach((e=>{if(!function(e){return"duration"in e}(e)||!n)return;const t=e.interactionId;if(null!=t&&!Cf.has(t)){if(Lf.length>10){const e=Lf.shift();Cf.delete(e)}Lf.push(t),Cf.set(t,n)}}))};jd("event",e),jd("first-input",e)}(),rv(e,{traceFetch:h,traceXHR:d,trackFetchStreamPerformance:f,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:p,enableHTTPTimings:m})}}};function cv(e){const t=function(e){return La.document&&La.document.querySelector?La.document.querySelector(e):null}(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}String(0);let uv="",hv="",dv="",fv=Ph.navigator&&Ph.navigator.userAgent||"",pv="";Ph.navigator&&Ph.navigator.language||Ph.navigator&&Ph.navigator.languages&&Ph.navigator.languages[0];const mv=Ph.navigator&&Ph.navigator.userAgentData;(function(e){return"object"==typeof e&&null!==e&&"getHighEntropyValues"in e})(mv)&&mv.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(uv=e.platform||"",dv=e.architecture||"",pv=e.model||"",hv=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];fv=`${t.brand} ${t.version}`}})).catch((e=>{}));new WeakMap;new Map;let gv=e=>e;var _v;!function(e){e.CHANGE_PASSWORD="loginchangepassword",e.IS_LOGGED_IN="loginuser",e.LOGIN="login",e.LOGOUT="logout",e.RESET_PASSWORD="loginresetpassword"}(_v||(_v={}));const yv=new class{constructor(){this.originalUrl=window.location.href,this.baseUrl_=null,this.user_=null,Qs.getProperties().subscribe({next:e=>{this.user_=e}}),this.noReloadRole_=null,lo.getConfig().subscribe({next:e=>{e&&(this.noReloadRole_=e.gmfAuthenticationNoReloadRole,this.baseUrl_=e.authenticationBaseUrl?e.authenticationBaseUrl.replace(/\/$/,""):null,this.baseUrl_&&this.load_())}}),this.verifyConnection_=window.setInterval((()=>{this.checkConnection_()}),6e4)}checkConnection_(){if(this.user_.username&&!1!==this.user_.is_password_changed){const e=`${this.baseUrl_}/${_v.IS_LOGGED_IN}`;fetch(e,{method:"GET",credentials:"include"}).then((e=>e.json())).then((e=>{this.user_.username!==e.username&&this.handleDisconnection()})).catch((e=>{throw new Error(`Error on connection check: ${e.statusText}`)}))}}handleDisconnection(){const e=!!this.noReloadRole_&&this.getRolesNames().includes(this.noReloadRole_);this.resetUser(Ks.DISCONNECTED,e)}load_(){const e=`${this.baseUrl_}/${_v.IS_LOGGED_IN}`;fetch(e,{method:"GET",credentials:"include"}).then((e=>e.json())).then((e=>this.checkUser_(e))).then((e=>this.handleLogin_(!0,e)),(()=>{throw new Error("Login fail.")}))}changePassword(e,t,r,i,o=void 0){const s=`${this.baseUrl_}/${_v.CHANGE_PASSWORD}`,a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:n.param({login:e,oldPassword:t,otp:o,newPassword:r,confirmNewPassword:i})};return fetch(s,a).then((e=>e.json())).then((e=>this.checkUser_(e))).then((e=>this.setUser_(e,Ks.LOGGED_IN)),(()=>{throw new Error("Change password fail.")}))}login(e,t,r=void 0){const i=`${this.baseUrl_}/${_v.LOGIN}`,o={login:e,password:t,referrer_to:Qs.getLoginMessage().value==Js?this.originalUrl:window.location.href};r&&Object.assign(o,{otp:r});const s={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:n.param(o)};return fetch(i,s).then((e=>e.json())).then((e=>this.checkUser_(e))).then((e=>gv(e))).then((e=>this.handleLogin_(!1,e)),(()=>{throw new Error("Login fail.")}))}checkUser_(e){if(!e)return e;return e={...Qs.getEmptyUserProperties(),...e}}logout(){const e=!!this.noReloadRole_&&this.getRolesNames().includes(this.noReloadRole_),t=`${this.baseUrl_}/${_v.LOGOUT}`;return fetch(t,{method:"GET",credentials:"include"}).then((()=>{this.resetUser(Ks.LOGGED_OUT,e)}))}resetPassword(e){const t=`${this.baseUrl_}/${_v.RESET_PASSWORD}`,r={method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.param({login:e})};return fetch(t,r).then((e=>e.json().then((e=>e))))}getUsername(){return this.user_.username||null}getEmail(){return this.user_.email||null}getRolesIds(){return this.user_.roles?this.user_.roles.map((e=>e.id)):[]}getRolesNames(){return this.user_.roles?this.user_.roles.map((e=>e.name)):[]}handleLogin_(e,t){const n=e?Ks.READY:Ks.LOGGED_IN;return this.setUser_(t,n),t}setUser_(e,t){!function(e){jc().setUser(e)}({username:e.username}),Qs.setUser(e,t)}resetUser(e,t){const n=Qs.getEmptyUserProperties();Qs.setUser(n,e),t||this.load_()}},bv=yv;var vv=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let wv=class extends As{constructor(){super(...arguments),this.passwordValidator=null,this.loginInfoMessage="",this.isLoading=!1,this.disconnectedShown=!1,this.resetPasswordShown=!1,this.twoFactorAuth=!1,this.allowPasswordChange=!1,this.allowPasswordReset=!1,this.oidcUserInformationUrl="",this.administratorEmail=void 0,this.changingPassword=!1,this.userMustChangeItsPassword=!1,this.openIdConnectUrl="",this.error=!1,this.otpImage="",this.gmfUser=null,this.customCSS_="",this.changingPasswordUsername_="",this.initialApplicationUrl=window.location.href,this.currentApplicationUrl=window.location.href,this.openIdConnectBaseUrl=""}connectedCallback(){super.connectedCallback(),this.subscriptions.push(Qs.getProperties().subscribe({next:e=>{this.gmfUser=e,this.setOtpImage_(),!1===this.gmfUser.is_password_changed?this.handleUserMustChangeItsPassword_():this.onUserStateUpdate_(Qs.getState())}}),Qs.getLoginMessage().subscribe({next:e=>{this.loginInfoMessage=e,this._updateOpenIdConnectUrl()}})),window.addEventListener("popstate",(()=>{this.currentApplicationUrl=window.location.href,this._updateOpenIdConnectUrl()})),this._updateOpenIdConnectUrl();const e=document.body.querySelector("input[slot=gmf-auth-login]");e&&e.addEventListener("keypress",(e=>{"Enter"==e.key&&this.login(e)}));const t=document.body.querySelector("input[slot=gmf-auth-password]");t&&t.addEventListener("keypress",(e=>{"Enter"==e.key&&this.login(e)}))}_updateOpenIdConnectUrl(){const e=this.loginInfoMessage?this.initialApplicationUrl:this.currentApplicationUrl,t=new URLSearchParams({came_from:e});this.openIdConnectUrl=`${this.openIdConnectBaseUrl}?${t.toString()}`}initConfig(e){this.twoFactorAuth=e.gmfTwoFactorAuth,this.allowPasswordChange=e.gmfAuthenticationConfig.allowPasswordChange,this.allowPasswordReset=e.gmfAuthenticationConfig.allowPasswordReset,this.oidcUserInformationUrl=e.gmfAuthenticationConfig.oidcUserInformationUrl,this.administratorEmail=e.gmfAuthenticationConfig.administratorEmail,this.openIdConnectBaseUrl=e.gmfOidcLoginUrl,e.gmfCustomCSS&&void 0!==e.gmfCustomCSS.authentication&&(this.customCSS_=e.gmfCustomCSS.authentication),this._updateOpenIdConnectUrl()}render(){return es`<style>${mo(this.customCSS_)}</style>${this.gmfUser.is_intranet?es`<div class="form-group"><span>${V.t("You are recognized as an intranet user.")}</span></div>`:""} ${null!==this.gmfUser.username?es`<div><div class="form-group"><span>${V.t("Logged in as")}</span> <strong>${this.gmfUser.display_name||this.gmfUser.username}</strong>.</div>${this.oidcUserInformationUrl?es`<div class="form-group"><span><a href="${this.oidcUserInformationUrl}" target="_blank">${V.t("User information on the OIDC service")}</a></span></div>`:es``} ${this.changingPassword?"":es`<form name="logoutForm" role="form" @submit="${e=>this.logout(e)}"><div class="form-group"><input type="submit" class="form-control btn prime" value="${V.t("Logout")}"></div><div class="form-group"><input ?hidden="${!(this.allowPasswordChange&&"oidc"!==this.gmfUser.login_type)}" type="button" class="form-control btn btn-default" value="${V.t("Change password")}" @click="${()=>this.changingPassword=!0}"></div></form>`}</div>`:""} ${this.loginInfoMessage?es`<div class="alert alert-warning"><span>${this.loginInfoMessage}</span></div>`:""} ${this.disconnectedShown?es`<div class="alert alert-warning">${V.t("You are not logged in any more. The Interface has been reloaded.")}</div>`:""} ${null!==this.gmfUser.username||this.changingPassword?"":"oidc"===this.gmfUser.login_type?es`<a class="btn prime form-control" role="button" href="${this.openIdConnectUrl}">${V.t("Connect")}</a>`:es`<div><form name="loginForm" role="form" @submit="${e=>this.login(e)}"><div class="form-group"><slot name="gmf-auth-login"></slot></div><div class="form-group"><slot name="gmf-auth-password"></slot></div>${this.twoFactorAuth?es`<div class="form-group">${V.t("The following field should be kept empty on first login:")} <input type="text" class="form-control" name="otp" autocomplete="one-time-code" placeholder="${V.t("Authentication code")}"></div>`:""}<div class="form-group"><input type="submit" class="form-control btn prime" value="${V.t("Connect")}"></div>${this.isLoading?es`<div class="login-spinner"><i class="fa-solid fa-spin">${Ts()}</i></div>`:""}<div ?hidden="${!this.allowPasswordReset}" class="form-group"><a @click="${e=>this.resetPassword(e)}" href="">${V.t("Password forgotten?")}</a></div></form>${this.resetPasswordShown?es`<div class="alert alert-info">${this.administratorEmail?V.t("A new password has just been sent to you by e-mail, if you didn't receive it, please ask to the administrator at {{email}}.",{email:this.administratorEmail}):V.t("A new password has just been sent to you by e-mail, if you didn't receive it, please ask to the administrator.")}</div>`:""}</div>`} ${this.changingPassword?es`<div>${this.userMustChangeItsPassword?es`<div class="alert alert-warning">${V.t("You must change your password")}</div>`:""}<form name="changePasswordForm" role="form" @submit="${e=>this.changePassword(e)}"><div class="form-group"><input type="password" class="form-control" name="oldpassword" autocomplete="current-password" aria-describedby="password-constraints" placeholder="${V.t("Old password")}"></div><div class="form-group"><input type="password" class="form-control" name="newpassword" autocomplete="new-password" placeholder="${V.t("New password")}"></div><div class="form-group"><input type="password" class="form-control" name="newpasswordconfirm" autocomplete="new-password" placeholder="${V.t("Confirm new password")}"></div>${this.gmfUser.otp_uri?es`<div class="form-group"><label>${V.t("Two factor authentication QR code:")}</label><div><img src="${this.otpImage}"></div></div>`:""} ${this.gmfUser.two_factor_totp_secret?es`<div class="form-group"><label>${V.t("Two factor authentication key:")}</label> <code>${this.gmfUser.two_factor_totp_secret}</code></div>`:""} ${this.twoFactorAuth?es`<div class="form-group"><input type="text" class="form-control" name="otp" autocomplete="one-time-code" placeholder="${V.t("Authentication code")}"></div>`:""}<div class="form-group"><input type="submit" class="form-control btn prime" value="${V.t("Change password")}"></div><div class="form-group"><input type="button" class="form-control btn btn-default" value="Cancel" @click="${()=>this.changePasswordReset()}"></div></form></div>`:""}<div ?hidden="${!this.error}" class="auth-error help-block"></div>`}setOtpImage_(){this.gmfUser.otp_uri&&(this.otpImage=ta()(this.gmfUser.otp_uri,{margin:2}))}onUserStateUpdate_(e){e===Ks.LOGGED_IN?(this.changingPassword=!1,this.userMustChangeItsPassword=!1):e===Ks.DISCONNECTED&&(this.disconnectedShown=!0)}handleUserMustChangeItsPassword_(){this.changingPasswordUsername_=this.gmfUser.username,this.changingPassword=!0,this.userMustChangeItsPassword=!0}changePassword(e){e.preventDefault();const t=[],n=e.target,r=n.oldpassword.value,i=n.newpassword.value,o=n.newpasswordconfirm.value;let s="";if(this.twoFactorAuth&&(s=n.otp.value),""===r&&t.push(V.t("The old password is required.")),""===i&&t.push(V.t("The new password is required.")),""===o&&t.push(V.t("The password confirmation is required.")),t.length)this.setError_(t);else if(r===i&&t.push(V.t("The old and new passwords are the same.")),i!==o&&t.push(V.t("The passwords don't match.")),this.passwordValidator&&(this.passwordValidator.isPasswordValid(r)||t.push(V.t(this.passwordValidator.notValidMessage))),t.length)this.setError_(t);else{let e;e=this.userMustChangeItsPassword?this.changingPasswordUsername_:this.gmfUser.username,console.assert(!e),bv.changePassword(e,r,i,o,s).then((()=>{this.changePasswordReset(),this.setError_([V.t("Your password has successfully been changed.")],$s.INFORMATION)})).catch((()=>{if(this.renderRoot.querySelector('input[name = "oldpassword"]').value="",this.twoFactorAuth){this.renderRoot.querySelector('input[name = "otp"]').value=""}this.setError_([V.t("Incorrect old password.")])}))}}login(e){e.preventDefault(),this.manualLoginLogout_(),this.isLoading=!0;const t=[],n=this.renderRoot.querySelector("form"),r=document.body.querySelector("input[slot=gmf-auth-login]"),i=document.body.querySelector("input[slot=gmf-auth-password]"),o=r?r.value:"",s=i?i.value:"";""===o&&t.push(V.t("The username is required.")),""===s&&t.push(V.t("The password is required."));let a="";this.twoFactorAuth&&(a=n.otp.value),t.length?(this.isLoading=!1,this.setError_(t)):bv.login(o,s,a).then((()=>{this.cleanForm_(),this.resetError_()})).catch((()=>{this.setError_([V.t("Incorrect credentials or disabled account.")])})).finally((()=>{this.isLoading=!1,n.reset()}))}logout(e){e.preventDefault(),this.manualLoginLogout_(),this.isLoading=!0,bv.logout().then((()=>{this.cleanForm_(),this.resetError_()})).catch((()=>{this.setError_([V.t("Could not log out.")])})).finally((()=>{this.isLoading=!1}))}manualLoginLogout_(){Xs.touchedByUser=!0}resetPassword(e){e.preventDefault(),this.isLoading=!0;const t=document.body.querySelector("input[slot=gmf-auth-login]"),n=t?t.value:"";if(""===n)return this.isLoading=!1,void this.setError_([V.t("Please, input a login...")]);bv.resetPassword(n).then((()=>{this.cleanForm_(),this.resetPasswordShown=!0,this.resetError_()})).catch((()=>{this.setError_([V.t("An error occurred while resetting the password.")])})).finally((()=>{this.isLoading=!1}))}changePasswordReset(){this.cleanForm_(),this.resetError_(),this.changingPassword=!1,this.userMustChangeItsPassword=!1;const e=this.renderRoot.querySelector('input[name = "oldpassword"]'),t=this.renderRoot.querySelector('input[name = "newpassword"]'),n=this.renderRoot.querySelector('input[name = "newpasswordconfirm"]');e.value="",t.value="",n.value="",bv.resetUser(Ks.DISCONNECTED,!0)}setError_(e,t){null==t&&(t=$s.ERROR),this.error&&this.resetError_(),this.error=!0;const n=this.renderRoot.querySelector(".auth-error");e.forEach((e=>{const r={msg:e,target:n};t&&(r.type=t),Vs.notify(r)}))}cleanForm_(){this.renderRoot.querySelector("form").reset();const e=document.body.querySelector("input[slot=gmf-auth-login]");e&&(e.value="");const t=document.body.querySelector("input[slot=gmf-auth-password]");t&&(t.value="")}resetError_(){Vs.clear(),this.error=!1}};wv.styles=[...As.styles,go`[hidden]{display:none!important}.login-spinner{float:left;margin-right:20px}i.fa-spin{fill:#000;width:1.3rem}.btn.btn-default{background-color:var(--map-tools-bg-color);border-color:var(--onhover-color);color:var(--map-tools-color)}.btn.btn-default.active{box-shadow:inset $light-box-shadow var(--light-box-shadow-color)}.btn.btn-default.active,.btn.btn-default:hover{background-color:var(--onhover-color);border-color:var(--onhover-color-darken)}`],vv([Ms({type:Object})],wv.prototype,"passwordValidator",void 0),vv([Ss()],wv.prototype,"loginInfoMessage",void 0),vv([Ss()],wv.prototype,"isLoading",void 0),vv([Ss()],wv.prototype,"disconnectedShown",void 0),vv([Ss()],wv.prototype,"resetPasswordShown",void 0),vv([Ss()],wv.prototype,"twoFactorAuth",void 0),vv([Ss()],wv.prototype,"allowPasswordChange",void 0),vv([Ss()],wv.prototype,"allowPasswordReset",void 0),vv([Ss()],wv.prototype,"oidcUserInformationUrl",void 0),vv([Ss()],wv.prototype,"administratorEmail",void 0),vv([Ss()],wv.prototype,"changingPassword",void 0),vv([Ss()],wv.prototype,"userMustChangeItsPassword",void 0),vv([Ss()],wv.prototype,"openIdConnectUrl",void 0),vv([Ss()],wv.prototype,"error",void 0),vv([Ss()],wv.prototype,"otpImage",void 0),vv([Ss()],wv.prototype,"gmfUser",void 0),vv([Ss()],wv.prototype,"customCSS_",void 0),wv=vv([vs("gmf-auth-form")],wv);class xv extends As{getTitle(e){return es`<div class="gmf-app-tools-content-heading">${e}</div>`}}xv.styles=[...As.styles,go`.gmf-app-tools-content-heading{color:var(--color-light);padding-bottom:var(--app-margin);margin-bottom:var(--app-margin);margin-top:calc(var(--grid-gutter-width)/ 2);border-bottom:.06rem solid;border-bottom-color:var(--color-light);font-size:.8rem}`];const Mv=xv;var Sv=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let kv=class extends Mv{constructor(){super(...arguments),this.postLoading=!1,this.passwordValidator=null,this.customCSS_=""}initConfig(e){e.gmfCustomCSS&&void 0!==e.gmfCustomCSS.authenticationPanel&&(this.customCSS_=e.gmfCustomCSS.authenticationPanel)}render(){const e=this.postLoading?es`<div><i class="fa-solid fa-spin svg-spinner">${Ts()}</i> ${V.t("Loading themes, please wait...")}</div>`:"";return es`<style>${mo(this.customCSS_)}</style>${this.getTitle(V.t("Login"))}<gmf-auth-form .passwordValidator="${this.passwordValidator}"><slot name="gmf-auth-login" slot="gmf-auth-login"></slot><slot name="gmf-auth-password" slot="gmf-auth-password"></slot></gmf-auth-form>${e}`}};kv.styles=[...Mv.styles,go`.svg-spinner{float:left;margin-right:20px}i.fa-spin{fill:#000;width:1.3rem}`],Sv([Ms({type:Boolean})],kv.prototype,"postLoading",void 0),Sv([Ms({type:Object})],kv.prototype,"passwordValidator",void 0),Sv([Ss()],kv.prototype,"customCSS_",void 0),kv=Sv([vs("gmf-auth-panel")],kv);const Tv=new class{constructor(){this.activeToolPanel_=new wi(null),this.activeFooterPanel_=new wi(null),this.filterActive_=new wi(!1),this.activeToolPanelState_=null,this.activeFooterPanelState_=null,this.autoCloseFooterPanel_=!1}getActiveToolPanel(){return this.activeToolPanel_}getActiveFooterPanel(){return this.activeFooterPanel_}getFilterActive(){return this.filterActive_}openToolPanel(e,t){let n=(t=t||{}).state;if(void 0===n)n=this.activeToolPanelState_!=e;else{if(n&&this.activeToolPanelState_==e)return;if(!n&&this.activeToolPanelState_!=e&&!0!==t.noError)throw new Error("You try to close a tool panel that's not open")}this.activeToolPanelState_=n?e:null,this.activeToolPanel_.next(this.activeToolPanelState_),this.autoCloseFooterPanel_&&this.activeFooterPanelState_&&(this.activeFooterPanelState_=null,this.activeFooterPanel_.next(null))}openFooterPanel(e,t){let n=(t=t||{}).state;if(void 0===n)n=this.activeFooterPanelState_!=e;else{if(n&&this.activeFooterPanelState_==e)return;if(!n&&this.activeFooterPanelState_!=e&&!0!==t.noError)throw new Error("You try to close a footer panel that's not open")}this.activeFooterPanelState_=n?e:null,this.activeFooterPanel_.next(this.activeFooterPanelState_),this.autoCloseFooterPanel_=!0===t.autoClose}closeToolPanel(){this.activeToolPanelState_&&this.openToolPanel(this.activeToolPanelState_,{state:!1})}closeFooterPanel(){this.activeFooterPanelState_&&this.openFooterPanel(this.activeFooterPanelState_,{state:!1})}setFilterActive(e){this.filterActive_.next(e)}},Lv=Tv,Cv=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ev={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Dv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Av=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function $v(e,t){const n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Cv.indexOf(n)||Boolean(Dv.test(e.nodeValue)||Av.test(e.nodeValue));const r=t.filter((e=>e instanceof RegExp));for(let e=0,t=r.length;e<t;e++)if(r[e].test(n))return!0;return!1}function Pv(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),o=[].slice.call(r.body.querySelectorAll("*"));for(let e=0,n=o.length;e<n;e++){const n=o[e],r=n.nodeName.toLowerCase();if(-1===i.indexOf(n.nodeName.toLowerCase())){n.parentNode.removeChild(n);continue}const s=[].slice.call(n.attributes),a=[].concat(t["*"]||[],t[r]||[]);s.forEach((e=>{$v(e,a)||n.removeAttribute(e.nodeName)}))}return r.body.innerHTML}var Rv="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Ov=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Rv&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Iv=Rv&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Ov))}};function Fv(e){return e&&"[object Function]"==={}.toString.call(e)}function Nv(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Yv(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function jv(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Nv(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:jv(Yv(e))}function Hv(e){return e&&e.referenceNode?e.referenceNode:e}var zv=Rv&&!(!window.MSInputMethodContext||!document.documentMode),Uv=Rv&&/MSIE 10/.test(navigator.userAgent);function Wv(e){return 11===e?zv:10===e?Uv:zv||Uv}function Gv(e){if(!e)return document.documentElement;for(var t=Wv(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Nv(n,"position")?Gv(n):n:e?e.ownerDocument.documentElement:document.documentElement}function qv(e){return null!==e.parentNode?qv(e.parentNode):e}function Bv(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(i))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&Gv(s.firstElementChild)!==s?Gv(l):l;var c=qv(e);return c.host?Bv(c.host,t):Bv(e,qv(t).host)}function Vv(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function Xv(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function Kv(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Wv(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function Jv(e){var t=e.body,n=e.documentElement,r=Wv(10)&&getComputedStyle(n);return{height:Kv("Height",t,n,r),width:Kv("Width",t,n,r)}}var Zv=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qv=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ew=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function tw(e){return ew({},e,{right:e.left+e.width,bottom:e.top+e.height})}function nw(e){var t={};try{if(Wv(10)){t=e.getBoundingClientRect();var n=Vv(e,"top"),r=Vv(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?Jv(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,a=o.height||e.clientHeight||i.height,l=e.offsetWidth-s,c=e.offsetHeight-a;if(l||c){var u=Nv(e);l-=Xv(u,"x"),c-=Xv(u,"y"),i.width-=l,i.height-=c}return tw(i)}function rw(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Wv(10),i="HTML"===t.nodeName,o=nw(e),s=nw(t),a=jv(e),l=Nv(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=tw({top:o.top-s.top-c,left:o.left-s.left-u,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var d=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);h.top-=c-d,h.bottom-=c-d,h.left-=u-f,h.right-=u-f,h.marginTop=d,h.marginLeft=f}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Vv(t,"top"),i=Vv(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(h,t)),h}function iw(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Nv(e,"position"))return!0;var n=Yv(e);return!!n&&iw(n)}function ow(e){if(!e||!e.parentElement||Wv())return document.documentElement;for(var t=e.parentElement;t&&"none"===Nv(t,"transform");)t=t.parentElement;return t||document.documentElement}function sw(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?ow(e):Bv(e,Hv(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=rw(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:Vv(n),a=t?0:Vv(n,"left");return tw({top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o})}(s,i);else{var a=void 0;"scrollParent"===r?"BODY"===(a=jv(Yv(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var l=rw(a,s,i);if("HTML"!==a.nodeName||iw(s))o=l;else{var c=Jv(e.ownerDocument),u=c.height,h=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}var d="number"==typeof(n=n||0);return o.left+=d?n:n.left||0,o.top+=d?n:n.top||0,o.right-=d?n:n.right||0,o.bottom-=d?n:n.bottom||0,o}function aw(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=sw(n,r,o,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return ew({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function lw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return rw(n,r?ow(t):Bv(t,Hv(n)),r)}function cw(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function uw(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function hw(e,t,n){n=n.split("-")[0];var r=cw(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[s]=t[s]+t[l]/2-r[l]/2,i[a]=n===a?t[a]-r[c]:t[uw(a)],i}function dw(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function fw(e,t,n){var r=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=dw(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n));return r.forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&Fv(n)&&(t.offsets.popper=tw(t.offsets.popper),t.offsets.reference=tw(t.offsets.reference),t=n(t,e))})),t}function pw(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=lw(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=aw(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=hw(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=fw(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function mw(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function gw(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function _w(){return this.state.isDestroyed=!0,mw(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[gw("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function yw(e){var t=e.ownerDocument;return t?t.defaultView:window}function bw(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||bw(jv(o.parentNode),t,n,r),r.push(o)}function vw(e,t,n,r){n.updateBound=r,yw(e).addEventListener("resize",n.updateBound,{passive:!0});var i=jv(e);return bw(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function ww(){this.state.eventsEnabled||(this.state=vw(this.reference,this.options,this.state,this.scheduleUpdate))}function xw(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,yw(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Mw(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Sw(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Mw(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var kw=Rv&&/Firefox/i.test(navigator.userAgent);function Tw(e,t,n){var r=dw(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Lw=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Cw=Lw.slice(3);function Ew(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Cw.indexOf(e),r=Cw.slice(n+1).concat(Cw.slice(0,n));return t?r.reverse():r}var Dw="flip",Aw="clockwise",$w="counterclockwise";function Pw(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(dw(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map((function(e,r){var i=(1===r?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0===s.indexOf("%")){return tw("%p"===s?n:r)[t]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){Mw(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var Rw={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:Qv({},l,o[l]),end:Qv({},l,o[l]+o[c]-s[c])};e.offsets.popper=ew({},s,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return l=Mw(+n)?[+n,0]:Pw(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Gv(e.instance.popper);e.instance.reference===n&&(n=Gv(n));var r=gw("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=sw(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=s,i[r]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,h={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),Qv({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),Qv({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=ew({},u,h[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[a])&&(e.offsets.popper[l]=o(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Tw(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",h=u.toLowerCase(),d=l?"left":"top",f=l?"bottom":"right",p=cw(r)[c];a[f]-p<s[h]&&(e.offsets.popper[h]-=s[h]-(a[f]-p)),a[h]+p>s[f]&&(e.offsets.popper[h]+=a[h]+p-s[f]),e.offsets.popper=tw(e.offsets.popper);var m=a[h]+a[c]/2-p/2,g=Nv(e.instance.popper),_=parseFloat(g["margin"+u]),y=parseFloat(g["border"+u+"Width"]),b=m-e.offsets.popper[h]-_-y;return b=Math.max(Math.min(s[c]-p,b),0),e.arrowElement=r,e.offsets.arrow=(Qv(n={},h,Math.round(b)),Qv(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(mw(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=sw(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=uw(r),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case Dw:s=[r,i];break;case Aw:s=Ew(r);break;case $w:s=Ew(r,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(r!==a||s.length===l+1)return e;r=e.placement.split("-")[0],i=uw(r);var c=e.offsets.popper,u=e.offsets.reference,h=Math.floor,d="left"===r&&h(c.right)>h(u.left)||"right"===r&&h(c.left)<h(u.right)||"top"===r&&h(c.bottom)>h(u.top)||"bottom"===r&&h(c.top)<h(u.bottom),f=h(c.left)<h(n.left),p=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),_="left"===r&&f||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),v=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&g||!y&&"end"===o&&m),w=b||v;(d||_||w)&&(e.flipped=!0,(d||_)&&(r=s[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=ew({},e.offsets.popper,hw(e.instance.popper,e.offsets.reference,e.placement)),e=fw(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),e.placement=uw(t),e.offsets.popper=tw(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Tw(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=dw(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=dw(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=Gv(e.instance.popper),l=nw(a),c={position:i.position},u=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},l=o(i.width),c=o(r.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?u||h||l%2==c%2?o:s:a,f=t?o:a;return{left:d(l%2==1&&c%2==1&&!h&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!kw),h="bottom"===n?"top":"bottom",d="right"===r?"left":"right",f=gw("transform"),p=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,p="right"===d?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&f)c[f]="translate3d("+p+"px, "+m+"px, 0)",c[h]=0,c[d]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,_="right"===d?-1:1;c[h]=m*g,c[d]=p*_,c.willChange=h+", "+d}var y={"x-placement":e.placement};return e.attributes=ew({},y,e.attributes),e.styles=ew({},c,e.styles),e.arrowStyles=ew({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Sw(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Sw(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=lw(i,t,e,n.positionFixed),s=aw(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),Sw(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Ow={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Rw},Iw=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Iv(this.update.bind(this)),this.options=ew({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(ew({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=ew({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return ew({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&Fv(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return Zv(e,[{key:"update",value:function(){return pw.call(this)}},{key:"destroy",value:function(){return _w.call(this)}},{key:"enableEventListeners",value:function(){return ww.call(this)}},{key:"disableEventListeners",value:function(){return xw.call(this)}}]),e}();Iw.Utils=("undefined"!=typeof window?window:i.g).PopperUtils,Iw.placements=Lw,Iw.Defaults=Ow;const Fw=Iw,Nw="tooltip",Yw="bs.tooltip",jw=`.${Yw}`,Hw=r().fn[Nw],zw="bs-tooltip",Uw=new RegExp(`(^|\\s)${zw}\\S+`,"g"),Ww=["sanitize","whiteList","sanitizeFn"],Gw="fade",qw="show",Bw="show",Vw="out",Xw="hover",Kw="focus",Jw={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Zw={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:Ev,popperConfig:null},Qw={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},ex={HIDE:`hide${jw}`,HIDDEN:`hidden${jw}`,SHOW:`show${jw}`,SHOWN:`shown${jw}`,INSERTED:`inserted${jw}`,CLICK:`click${jw}`,FOCUSIN:`focusin${jw}`,FOCUSOUT:`focusout${jw}`,MOUSEENTER:`mouseenter${jw}`,MOUSELEAVE:`mouseleave${jw}`};class tx{constructor(e,t){if(void 0===Fw)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}static get VERSION(){return"4.6.2"}static get Default(){return Zw}static get NAME(){return Nw}static get DATA_KEY(){return Yw}static get Event(){return ex}static get EVENT_KEY(){return jw}static get DefaultType(){return Qw}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const t=this.constructor.DATA_KEY;let n=r()(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),r()(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(r()(this.getTipElement()).hasClass(qw))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),r().removeData(this.element,this.constructor.DATA_KEY),r()(this.element).off(this.constructor.EVENT_KEY),r()(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&r()(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null}show(){if("none"===r()(this.element).css("display"))throw new Error("Please use show on visible elements");const e=r().Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){r()(this.element).trigger(e);const t=Fs.findShadowRoot(this.element),n=r().contains(null!==t?t:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!n)return;const i=this.getTipElement(),o=Fs.getUID(this.constructor.NAME);i.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&r()(i).addClass(Gw);const s="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,a=this._getAttachment(s);this.addAttachmentClass(a);const l=this._getContainer();r()(i).data(this.constructor.DATA_KEY,this),r().contains(this.element.ownerDocument.documentElement,this.tip)||r()(i).appendTo(l),r()(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Fw(this.element,i,this._getPopperConfig(a)),r()(i).addClass(qw),r()(i).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&r()(document.body).children().on("mouseover",null,r().noop);const c=()=>{this.config.animation&&this._fixTransition();const e=this._hoverState;this._hoverState=null,r()(this.element).trigger(this.constructor.Event.SHOWN),e===Vw&&this._leave(null,this)};if(r()(this.tip).hasClass(Gw)){const e=Fs.getTransitionDurationFromElement(this.tip);r()(this.tip).one(Fs.TRANSITION_END,c).emulateTransitionEnd(e)}else c()}}hide(e){const t=this.getTipElement(),n=r().Event(this.constructor.Event.HIDE),i=()=>{this._hoverState!==Bw&&t.parentNode&&t.parentNode.removeChild(t),this._cleanTipClass(),this.element.removeAttribute("aria-describedby"),r()(this.element).trigger(this.constructor.Event.HIDDEN),null!==this._popper&&this._popper.destroy(),e&&e()};if(r()(this.element).trigger(n),!n.isDefaultPrevented()){if(r()(t).removeClass(qw),"ontouchstart"in document.documentElement&&r()(document.body).children().off("mouseover",null,r().noop),this._activeTrigger.click=!1,this._activeTrigger[Kw]=!1,this._activeTrigger[Xw]=!1,r()(this.tip).hasClass(Gw)){const e=Fs.getTransitionDurationFromElement(t);r()(t).one(Fs.TRANSITION_END,i).emulateTransitionEnd(e)}else i();this._hoverState=""}}update(){null!==this._popper&&this._popper.scheduleUpdate()}isWithContent(){return Boolean(this.getTitle())}addAttachmentClass(e){r()(this.getTipElement()).addClass(`${zw}-${e}`)}getTipElement(){return this.tip=this.tip||r()(this.config.template)[0],this.tip}setContent(){const e=this.getTipElement();this.setElementContent(r()(e.querySelectorAll(".tooltip-inner")),this.getTitle()),r()(e).removeClass(`${Gw} ${qw}`)}setElementContent(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Pv(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?r()(t).parent().is(e)||e.empty().append(t):e.text(r()(t).text())}getTitle(){let e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e}_getPopperConfig(e){const t={placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:e=>{e.originalPlacement!==e.placement&&this._handlePopperPlacementChange(e)},onUpdate:e=>this._handlePopperPlacementChange(e)};return{...t,...this.config.popperConfig}}_getOffset(){const e={};return"function"==typeof this.config.offset?e.fn=e=>(e.offsets={...e.offsets,...this.config.offset(e.offsets,this.element)},e):e.offset=this.config.offset,e}_getContainer(){return!1===this.config.container?document.body:Fs.isElement(this.config.container)?r()(this.config.container):r()(document).find(this.config.container)}_getAttachment(e){return Jw[e.toUpperCase()]}_setListeners(){this.config.trigger.split(" ").forEach((e=>{if("click"===e)r()(this.element).on(this.constructor.Event.CLICK,this.config.selector,(e=>this.toggle(e)));else if("manual"!==e){const t=e===Xw?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=e===Xw?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;r()(this.element).on(t,this.config.selector,(e=>this._enter(e))).on(n,this.config.selector,(e=>this._leave(e)))}})),this._hideModalHandler=()=>{this.element&&this.hide()},r()(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config={...this.config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}_enter(e,t){const n=this.constructor.DATA_KEY;(t=t||r()(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),r()(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?Kw:Xw]=!0),r()(t.getTipElement()).hasClass(qw)||t._hoverState===Bw?t._hoverState=Bw:(clearTimeout(t._timeout),t._hoverState=Bw,t.config.delay&&t.config.delay.show?t._timeout=setTimeout((()=>{t._hoverState===Bw&&t.show()}),t.config.delay.show):t.show())}_leave(e,t){const n=this.constructor.DATA_KEY;(t=t||r()(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),r()(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?Kw:Xw]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=Vw,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout((()=>{t._hoverState===Vw&&t.hide()}),t.config.delay.hide):t.hide())}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const t=r()(this.element).data();return Object.keys(t).forEach((e=>{-1!==Ww.indexOf(e)&&delete t[e]})),"number"==typeof(e={...this.constructor.Default,...t,..."object"==typeof e&&e?e:{}}).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),Fs.typeCheckConfig(Nw,e,this.constructor.DefaultType),e.sanitize&&(e.template=Pv(e.template,e.whiteList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};if(this.config)for(const t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e}_cleanTipClass(){const e=r()(this.getTipElement()),t=e.attr("class").match(Uw);null!==t&&t.length&&e.removeClass(t.join(""))}_handlePopperPlacementChange(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))}_fixTransition(){const e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(r()(e).removeClass(Gw),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)}static _jQueryInterface(e){return this.each((function(){const t=r()(this);let n=t.data(Yw);const i="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new tx(this,i),t.data(Yw,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}r().fn[Nw]=tx._jQueryInterface,r().fn[Nw].Constructor=tx,r().fn[Nw].noConflict=()=>(r().fn[Nw]=Hw,tx._jQueryInterface);const nx=tx;var rx=i(6932),ix=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};class ox extends As{constructor(e){super(),this.active_=!1,this.title_=!1,this.subscriptions=[],this.panelName_=e}connectedCallback(){super.connectedCallback(),this.subscriptions.push(Lv.getActiveToolPanel().subscribe({next:e=>{this.active_=e&&e==this.panelName_}}))}activePanels_(e){}click_(){Lv.openToolPanel(this.panelName_)}render(){return es`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${this.title_}"><slot></slot></button>`}firstUpdated(){rx(this.shadowRoot.querySelectorAll("[data-toggle='tooltip']")).tooltip()}}ox.styles=[...As.styles,go`button.btn{margin:0;margin-top:-1px;width:2rem;height:2rem;display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;user-select:none;padding:.25rem .5rem;font-size:.8rem;line-height:1.5;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;background-color:var(--brand-primary);border-radius:0;border:var(--border);border-color:var(--border-color);border-right-width:0;border-left-width:0}button.btn:focus{box-shadow:unset}button:hover{background-color:var(--hover-background-color)}button.active,button:active{box-shadow:none}button.active{background-color:var(--brand-secondary);border-left:.06rem solid;border-left-color:var(--brand-secondary);margin-left:-.06rem}`];const sx=ox;ix([Ss()],ox.prototype,"active_",void 0),ix([Ss()],ox.prototype,"title_",void 0);let ax=class extends ox{connectedCallback(){super.connectedCallback(),this.panelName_=this.panelName}render(){return es`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${this.title}">${this.iconClasses?es`<span class="${this.iconClasses}"></span>`:es`<slot></slot>`}</button>`}};ix([Ms({type:String})],ax.prototype,"panelName",void 0),ix([Ms({type:String})],ax.prototype,"title",void 0),ix([Ms({type:String})],ax.prototype,"iconClasses",void 0),ax=ix([vs("gmf-tool-button")],ax);var lx=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let cx=class extends sx{constructor(){super("auth"),this.login_=!1}connectedCallback(){super.connectedCallback(),this.subscriptions.push(Qs.getProperties().subscribe({next:e=>{this.login_=!!e.username}}))}render(){return es`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${V.t("Login")}"><span class="fa-solid ${this.login_?"fa-user-xmark":"fa-user"}"></span></button>`}};lx([Ss()],cx.prototype,"login_",void 0),cx=lx([vs("gmf-auth-button")],cx);var ux=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let hx=class extends sx{constructor(){super("lidar")}connectedCallback(){super.connectedCallback()}render(){return es`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${V.t("LIDAR profile")}"><span class="fa-solid fa-chart-line"></span></button>`}};hx=ux([vs("gmf-lidar-button")],hx);const dx=new class{constructor(){lo.getConfig().subscribe({next:e=>{e&&(this.pytreeLidarprofileJsonUrl=e.pytreeLidarprofileJsonUrl)}}),this.loaded=!1,this.clientConfig={autoWidth:!0,margin:{left:40,top:10,right:200,bottom:40},pointAttributes:{},pointSum:0,tolerance:5},this.serverConfig=null}initProfileConfig(){const e=`${this.pytreeLidarprofileJsonUrl}/profile/config`;return fetch(e).then((e=>e.json().then((e=>{this.serverConfig={classification_colors:e.classification_colors||null,debug:!!e.debug,default_attribute:e.default_attribute||"",default_color:e.default_color||"",default_point_attribute:e.default_point_attribute||"",default_point_cloud:e.default_point_cloud||"",initialLOD:e.initialLOD||0,max_levels:e.max_levels||null,max_point_number:e.max_point_number||5e4,minLOD:e.minLOD||0,point_attributes:e.point_attributes||null,point_size:e.point_size||0,width:e.width||0};const t=[];for(const e in this.serverConfig.point_attributes)1==this.serverConfig.point_attributes[e].visible&&t.push(this.serverConfig.point_attributes[e]);const n=this.serverConfig.point_attributes[this.serverConfig.default_point_attribute];this.clientConfig.pointAttributes={availableOptions:t,selectedOption:n}}))))}},fx=dx;function px(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mx(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gx(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=px,n=(t,n)=>px(e(t),n),r=(t,n)=>e(t)-n):(t=e===px||e===mx?e:_x,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const s=i(e,t,n,o-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function _x(){return 0}const yx=gx(px),bx=yx.right,vx=(yx.left,gx((function(e){return null===e?NaN:+e})).center,bx);wx(Sx),wx((function(e){const t=Sx(e);return(e,n,r,i,o)=>{t(e,n,(r<<=2)+0,(i<<=2)+0,o<<=2),t(e,n,r+1,i+1,o),t(e,n,r+2,i+2,o),t(e,n,r+3,i+3,o)}}));function wx(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return t;const a=n&&e(n),l=r&&e(r),c=i.slice();return a&&l?(xx(a,c,i,o,s),xx(a,i,c,o,s),xx(a,c,i,o,s),Mx(l,i,c,o,s),Mx(l,c,i,o,s),Mx(l,i,c,o,s)):a?(xx(a,i,c,o,s),xx(a,c,i,o,s),xx(a,i,c,o,s)):l&&(Mx(l,i,c,o,s),Mx(l,c,i,o,s),Mx(l,i,c,o,s)),t}}function xx(e,t,n,r,i){for(let o=0,s=r*i;o<s;)e(t,n,o,o+=r,1)}function Mx(e,t,n,r,i){for(let o=0,s=r*i;o<r;++o)e(t,n,o,o+s,r)}function Sx(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=e*r[i];const l=s*e;for(let e=i,t=i+l;e<t;e+=s)a+=r[Math.min(o,e)];for(let e=i,c=o;e<=c;e+=s)a+=r[Math.min(o,e+l)],n[e]=a/t,a-=r[Math.max(i,e-l)]}}(e);const n=e-t,r=2*e+1;return(e,i,o,s,a)=>{if(!((s-=a)>=o))return;let l=t*i[o];const c=a*t,u=c+a;for(let e=o,t=o+c;e<t;e+=a)l+=i[Math.min(s,e)];for(let t=o,h=s;t<=h;t+=a)l+=i[Math.min(s,t+c)],e[t]=(l+n*(i[Math.max(o,t-u)]+i[Math.min(s,t+u)]))/r,l-=i[Math.max(o,t-c)]}}class kx{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=e+i,s=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);s&&(t[n++]=s),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,n=e[--i],o=t+n,r=n-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=o+n,n==t-o&&(o=t))}return o}}Map;Set;var Tx=Array.prototype;Tx.slice,Tx.map;const Lx=Math.sqrt(50),Cx=Math.sqrt(10),Ex=Math.sqrt(2);function Dx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Lx?10:o>=Cx?5:o>=Ex?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Dx(e,t,2*n):[a,l,c]}function Ax(e,t,n){return Dx(e=+e,t=+t,n=+n)[2]}function $x(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Ax(t,e,n):Ax(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}Px=Math.random;var Px;function Rx(e){return e}var Ox=1e-6;function Ix(e){return"translate("+e+",0)"}function Fx(e){return"translate(0,"+e+")"}function Nx(e){return t=>+e(t)}function Yx(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function jx(){return!this.__axis}function Hx(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",h=1===e||3===e?Ix:Fx;function d(d){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,p=null==i?t.tickFormat?t.tickFormat.apply(t,n):Rx:i,m=Math.max(o,0)+a,g=t.range(),_=+g[0]+l,y=+g[g.length-1]+l,b=(t.bandwidth?Yx:Nx)(t.copy(),l),v=d.selection?d.selection():d,w=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(f,t).order(),M=x.exit(),S=x.enter().append("g").attr("class","tick"),k=x.select("line"),T=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(S),k=k.merge(S.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),T=T.merge(S.append("text").attr("fill","currentColor").attr(u,c*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),d!==v&&(w=w.transition(d),x=x.transition(d),k=k.transition(d),T=T.transition(d),M=M.transition(d).attr("opacity",Ox).attr("transform",(function(e){return isFinite(e=b(e))?h(e+l):this.getAttribute("transform")})),S.attr("opacity",Ox).attr("transform",(function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:b(e))+l)}))),M.remove(),w.attr("d",4===e||2===e?s?"M"+c*s+","+_+"H"+l+"V"+y+"H"+c*s:"M"+l+","+_+"V"+y:s?"M"+_+","+c*s+"V"+l+"H"+y+"V"+c*s:"M"+_+","+l+"H"+y),x.attr("opacity",1).attr("transform",(function(e){return h(b(e)+l)})),k.attr(u+"2",c*o),T.attr(u,c*m).text(p),v.filter(jx).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),v.each((function(){this.__axis=b}))}return d.scale=function(e){return arguments.length?(t=e,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),d):n.slice()},d.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),d):r&&r.slice()},d.tickFormat=function(e){return arguments.length?(i=e,d):i},d.tickSize=function(e){return arguments.length?(o=s=+e,d):o},d.tickSizeInner=function(e){return arguments.length?(o=+e,d):o},d.tickSizeOuter=function(e){return arguments.length?(s=+e,d):s},d.tickPadding=function(e){return arguments.length?(a=+e,d):a},d.offset=function(e){return arguments.length?(l=+e,d):l},d}function zx(e){return Hx(3,e)}function Ux(e){return Hx(4,e)}var Wx={value:()=>{}};function Gx(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new qx(r)}function qx(e){this._=e}function Bx(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Vx(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Wx,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}qx.prototype=Gx.prototype={constructor:qx,on:function(e,t){var n,r=this._,i=function(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}(e+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=i[o]).type)r[n]=Vx(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Vx(r[n],e.name,null);return this}for(;++o<s;)if((n=(e=i[o]).type)&&(n=Bx(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new qx(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const Xx=Gx;var Kx="http://www.w3.org/1999/xhtml";const Jx={svg:"http://www.w3.org/2000/svg",xhtml:Kx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zx(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Jx.hasOwnProperty(t)?{space:Jx[t],local:e}:e}function Qx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Kx&&t.documentElement.namespaceURI===Kx?t.createElement(e):t.createElementNS(n,e)}}function eM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function tM(e){var t=Zx(e);return(t.local?eM:Qx)(t)}function nM(){}function rM(e){return null==e?nM:function(){return this.querySelector(e)}}function iM(){return[]}function oM(e){return null==e?iM:function(){return this.querySelectorAll(e)}}function sM(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function aM(e){return function(){return this.matches(e)}}function lM(e){return function(t){return t.matches(e)}}var cM=Array.prototype.find;function uM(){return this.firstElementChild}var hM=Array.prototype.filter;function dM(){return Array.from(this.children)}function fM(e){return new Array(e.length)}function pM(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function mM(e,t,n,r,i,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new pM(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function gM(e,t,n,r,i,o,s){var a,l,c,u=new Map,h=t.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(f[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new pM(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function _M(e){return e.__data__}function yM(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function bM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function vM(e){return function(){this.removeAttribute(e)}}function wM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xM(e,t){return function(){this.setAttribute(e,t)}}function MM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function SM(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function kM(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function TM(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function LM(e){return function(){this.style.removeProperty(e)}}function CM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function EM(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function DM(e,t){return e.style.getPropertyValue(t)||TM(e).getComputedStyle(e,null).getPropertyValue(t)}function AM(e){return function(){delete this[e]}}function $M(e,t){return function(){this[e]=t}}function PM(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function RM(e){return e.trim().split(/^|\s+/)}function OM(e){return e.classList||new IM(e)}function IM(e){this._node=e,this._names=RM(e.getAttribute("class")||"")}function FM(e,t){for(var n=OM(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function NM(e,t){for(var n=OM(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function YM(e){return function(){FM(this,e)}}function jM(e){return function(){NM(this,e)}}function HM(e,t){return function(){(t.apply(this,arguments)?FM:NM)(this,e)}}function zM(){this.textContent=""}function UM(e){return function(){this.textContent=e}}function WM(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function GM(){this.innerHTML=""}function qM(e){return function(){this.innerHTML=e}}function BM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function VM(){this.nextSibling&&this.parentNode.appendChild(this)}function XM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function KM(){return null}function JM(){var e=this.parentNode;e&&e.removeChild(this)}function ZM(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QM(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eS(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function tS(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function nS(e,t,n){var r=TM(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function rS(e,t){return function(){return nS(this,e,t)}}function iS(e,t){return function(){return nS(this,e,t.apply(this,arguments))}}pM.prototype={constructor:pM,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},IM.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var oS=[null];function sS(e,t){this._groups=e,this._parents=t}function aS(){return new sS([[document.documentElement]],oS)}sS.prototype=aS.prototype={constructor:sS,select:function(e){"function"!=typeof e&&(e=rM(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=t[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new sS(r,this._parents)},selectAll:function(e){e="function"==typeof e?sM(e):oM(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),i.push(s));return new sS(r,i)},selectChild:function(e){return this.select(null==e?uM:function(e){return function(){return cM.call(this.children,e)}}("function"==typeof e?e:lM(e)))},selectChildren:function(e){return this.selectAll(null==e?dM:function(e){return function(){return hM.call(this.children,e)}}("function"==typeof e?e:lM(e)))},filter:function(e){"function"!=typeof e&&(e=aM(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new sS(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,_M);var n=t?gM:mM,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=yM(e.call(u,u&&u.__data__,c,r)),p=f.length,m=a[c]=new Array(p),g=s[c]=new Array(p);n(u,h,m,g,l[c]=new Array(d),f,t);for(var _,y,b=0,v=0;b<p;++b)if(_=m[b]){for(b>=v&&(v=b+1);!(y=g[v])&&++v<p;);_._next=y||null}}return(s=new sS(s,r))._enter=a,s._exit=l,s},enter:function(){return new sS(this._enter||this._groups.map(fM),this._parents)},exit:function(){return new sS(this._exit||this._groups.map(fM),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],h=r[l],d=u.length,f=a[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)a[l]=n[l];return new sS(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=bM);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new sS(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,a=o.length;s<a;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this},attr:function(e,t){var n=Zx(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?wM:vM:"function"==typeof t?n.local?kM:SM:n.local?MM:xM)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?LM:"function"==typeof t?EM:CM)(e,t,null==n?"":n)):DM(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?AM:"function"==typeof t?PM:$M)(e,t)):this.node()[e]},classed:function(e,t){var n=RM(e+"");if(arguments.length<2){for(var r=OM(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?HM:t?YM:jM)(n,t))},text:function(e){return arguments.length?this.each(null==e?zM:("function"==typeof e?WM:UM)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?GM:("function"==typeof e?BM:qM)(e)):this.node().innerHTML},raise:function(){return this.each(VM)},lower:function(){return this.each(XM)},append:function(e){var t="function"==typeof e?e:tM(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:tM(e),r=null==t?KM:"function"==typeof t?t:rM(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(JM)},clone:function(e){return this.select(e?QM:ZM)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?tS:eS,r=0;r<s;++r)this.each(a(o[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?iS:rS)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const lS=aS;function cS(e){return"string"==typeof e?new sS([[document.querySelector(e)]],[document.documentElement]):new sS([[e]],oS)}var uS=0;function hS(){this._="@"+(++uS).toString(36)}function dS(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}hS.prototype=function(){return new hS}.prototype={constructor:hS,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const fS={capture:!0,passive:!1};function pS(e){e.preventDefault(),e.stopImmediatePropagation()}function mS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _S(){}var yS=.7,bS=1/yS,vS="\\s*([+-]?\\d+)\\s*",wS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MS=/^#([0-9a-f]{3,8})$/,SS=new RegExp(`^rgb\\(${vS},${vS},${vS}\\)$`),kS=new RegExp(`^rgb\\(${xS},${xS},${xS}\\)$`),TS=new RegExp(`^rgba\\(${vS},${vS},${vS},${wS}\\)$`),LS=new RegExp(`^rgba\\(${xS},${xS},${xS},${wS}\\)$`),CS=new RegExp(`^hsl\\(${wS},${xS},${xS}\\)$`),ES=new RegExp(`^hsla\\(${wS},${xS},${xS},${wS}\\)$`),DS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function AS(){return this.rgb().formatHex()}function $S(){return this.rgb().formatRgb()}function PS(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?RS(t):3===n?new NS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?OS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?OS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=SS.exec(e))?new NS(t[1],t[2],t[3],1):(t=kS.exec(e))?new NS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=TS.exec(e))?OS(t[1],t[2],t[3],t[4]):(t=LS.exec(e))?OS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=CS.exec(e))?WS(t[1],t[2]/100,t[3]/100,1):(t=ES.exec(e))?WS(t[1],t[2]/100,t[3]/100,t[4]):DS.hasOwnProperty(e)?RS(DS[e]):"transparent"===e?new NS(NaN,NaN,NaN,0):null}function RS(e){return new NS(e>>16&255,e>>8&255,255&e,1)}function OS(e,t,n,r){return r<=0&&(e=t=n=NaN),new NS(e,t,n,r)}function IS(e){return e instanceof _S||(e=PS(e)),e?new NS((e=e.rgb()).r,e.g,e.b,e.opacity):new NS}function FS(e,t,n,r){return 1===arguments.length?IS(e):new NS(e,t,n,null==r?1:r)}function NS(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function YS(){return`#${US(this.r)}${US(this.g)}${US(this.b)}`}function jS(){const e=HS(this.opacity);return`${1===e?"rgb(":"rgba("}${zS(this.r)}, ${zS(this.g)}, ${zS(this.b)}${1===e?")":`, ${e})`}`}function HS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zS(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function US(e){return((e=zS(e))<16?"0":"")+e.toString(16)}function WS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new BS(e,t,n,r)}function GS(e){if(e instanceof BS)return new BS(e.h,e.s,e.l,e.opacity);if(e instanceof _S||(e=PS(e)),!e)return new BS;if(e instanceof BS)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new BS(s,a,l,e.opacity)}function qS(e,t,n,r){return 1===arguments.length?GS(e):new BS(e,t,n,null==r?1:r)}function BS(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function VS(e){return(e=(e||0)%360)<0?e+360:e}function XS(e){return Math.max(0,Math.min(1,e||0))}function KS(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}mS(_S,PS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AS,formatHex:AS,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return GS(this).formatHsl()},formatRgb:$S,toString:$S}),mS(NS,FS,gS(_S,{brighter(e){return e=null==e?bS:Math.pow(bS,e),new NS(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?yS:Math.pow(yS,e),new NS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new NS(zS(this.r),zS(this.g),zS(this.b),HS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YS,formatHex:YS,formatHex8:function(){return`#${US(this.r)}${US(this.g)}${US(this.b)}${US(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:jS,toString:jS})),mS(BS,qS,gS(_S,{brighter(e){return e=null==e?bS:Math.pow(bS,e),new BS(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?yS:Math.pow(yS,e),new BS(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new NS(KS(e>=240?e-240:e+120,i,r),KS(e,i,r),KS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new BS(VS(this.h),XS(this.s),XS(this.l),HS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=HS(this.opacity);return`${1===e?"hsl(":"hsla("}${VS(this.h)}, ${100*XS(this.s)}%, ${100*XS(this.l)}%${1===e?")":`, ${e})`}`}}));const JS=Math.PI/180,ZS=180/Math.PI,QS=.96422,ek=.82521,tk=4/29,nk=6/29,rk=3*nk*nk,ik=nk*nk*nk;function ok(e){if(e instanceof sk)return new sk(e.l,e.a,e.b,e.opacity);if(e instanceof fk)return pk(e);e instanceof NS||(e=IS(e));var t,n,r=uk(e.r),i=uk(e.g),o=uk(e.b),s=ak((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?t=n=s:(t=ak((.4360747*r+.3850649*i+.1430804*o)/QS),n=ak((.0139322*r+.0971045*i+.7141733*o)/ek)),new sk(116*s-16,500*(t-s),200*(s-n),e.opacity)}function sk(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function ak(e){return e>ik?Math.pow(e,1/3):e/rk+tk}function lk(e){return e>nk?e*e*e:rk*(e-tk)}function ck(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function uk(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hk(e){if(e instanceof fk)return new fk(e.h,e.c,e.l,e.opacity);if(e instanceof sk||(e=ok(e)),0===e.a&&0===e.b)return new fk(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ZS;return new fk(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function dk(e,t,n,r){return 1===arguments.length?hk(e):new fk(e,t,n,null==r?1:r)}function fk(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function pk(e){if(isNaN(e.h))return new sk(e.l,0,0,e.opacity);var t=e.h*JS;return new sk(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}mS(sk,(function(e,t,n,r){return 1===arguments.length?ok(e):new sk(e,t,n,null==r?1:r)}),gS(_S,{brighter(e){return new sk(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new sk(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new NS(ck(3.1338561*(t=QS*lk(t))-1.6168667*(e=1*lk(e))-.4906146*(n=ek*lk(n))),ck(-.9787684*t+1.9161415*e+.033454*n),ck(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),mS(fk,dk,gS(_S,{brighter(e){return new fk(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new fk(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return pk(this).rgb()}}));var mk=-.14861,gk=1.78277,_k=-.29227,yk=-.90649,bk=1.97294,vk=-1.7884503806,wk=3.5172982438,xk=-.6557636667999999;function Mk(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Sk)return new Sk(e.h,e.s,e.l,e.opacity);e instanceof NS||(e=IS(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(xk*r+vk*t-wk*n)/(xk+vk-wk),o=r-i,s=(bk*(n-i)-_k*o)/yk,a=Math.sqrt(s*s+o*o)/(bk*i*(1-i)),l=a?Math.atan2(s,o)*ZS-120:NaN;return new Sk(l<0?l+360:l,a,i,e.opacity)}(e):new Sk(e,t,n,null==r?1:r)}function Sk(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function kk(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}mS(Sk,Mk,gS(_S,{brighter(e){return e=null==e?bS:Math.pow(bS,e),new Sk(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?yS:Math.pow(yS,e),new Sk(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*JS,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new NS(255*(t+n*(mk*r+gk*i)),255*(t+n*(_k*r+yk*i)),255*(t+n*(bk*r)),this.opacity)}}));const Tk=e=>()=>e;function Lk(e,t){return function(n){return e+n*t}}function Ck(e,t){var n=t-e;return n?Lk(e,n>180||n<-180?n-360*Math.round(n/360):n):Tk(isNaN(e)?t:e)}function Ek(e){return 1==(e=+e)?Dk:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Tk(isNaN(t)?n:t)}}function Dk(e,t){var n=t-e;return n?Lk(e,n):Tk(isNaN(e)?t:e)}const Ak=function e(t){var n=Ek(t);function r(e,t){var r=n((e=FS(e)).r,(t=FS(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=Dk(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function $k(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=FS(t[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=e(o),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=a(e),r+""}}}var Pk=$k((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return kk((n-r/t)*t,s,i,o,a)}}));$k((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return kk((n-r/t)*t,i,o,s,a)}}));function Rk(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Ok(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=zk(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function Ik(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Fk(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Nk(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=zk(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Yk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jk=new RegExp(Yk.source,"g");function Hk(e,t){var n,r,i,o=Yk.lastIndex=jk.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=Yk.exec(e))&&(r=jk.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Fk(n,r)})),o=jk.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function zk(e,t){var n,r=typeof t;return null==t||"boolean"===r?Tk(t):("number"===r?Fk:"string"===r?(n=PS(t))?(t=n,Ak):Hk:t instanceof PS?Ak:t instanceof Date?Ik:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Rk:Array.isArray(t)?Ok:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Nk:Fk)(e,t)}function Uk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Wk,Gk=180/Math.PI,qk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bk(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Gk,skewX:Math.atan(l)*Gk,scaleX:s,scaleY:a}}function Vk(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var a=[],l=[];return o=e(o),s=e(s),function(e,r,i,o,s,a){if(e!==i||r!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:Fk(e,i)},{i:l-2,x:Fk(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Fk(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,a,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Fk(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,a,l),function(e,t,n,r,o,s){if(e!==n||t!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Fk(e,n)},{i:a-2,x:Fk(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var Xk=Vk((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qk:Bk(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Kk=Vk((function(e){return null==e?qk:(Wk||(Wk=document.createElementNS("http://www.w3.org/2000/svg","g")),Wk.setAttribute("transform",e),(e=Wk.transform.baseVal.consolidate())?Bk((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):qk)}),", ",")",")");function Jk(e){return((e=Math.exp(e))+1/e)/2}const Zk=function e(t,n,r){function i(e,i){var o,s,a=e[0],l=e[1],c=e[2],u=i[0],h=i[1],d=i[2],f=u-a,p=h-l,m=f*f+p*p;if(m<1e-12)s=Math.log(d/c)/t,o=function(e){return[a+e*f,l+e*p,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(m),_=(d*d-c*c+r*m)/(2*c*n*g),y=(d*d-c*c-r*m)/(2*d*n*g),b=Math.log(Math.sqrt(_*_+1)-_),v=Math.log(Math.sqrt(y*y+1)-y);s=(v-b)/t,o=function(e){var r=e*s,i=Jk(b),o=c/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[a+o*f,l+o*p,c*i/Jk(t*r+b)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function Qk(e){return function(t,n){var r=e((t=qS(t)).h,(n=qS(n)).h),i=Dk(t.s,n.s),o=Dk(t.l,n.l),s=Dk(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=s(e),t+""}}}Qk(Ck);Qk(Dk);function eT(e){return function(t,n){var r=e((t=dk(t)).h,(n=dk(n)).h),i=Dk(t.c,n.c),o=Dk(t.l,n.l),s=Dk(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=s(e),t+""}}}eT(Ck);eT(Dk);function tT(e){return function t(n){function r(t,r){var i=e((t=Mk(t)).h,(r=Mk(r)).h),o=Dk(t.s,r.s),s=Dk(t.l,r.l),a=Dk(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=s(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,r.gamma=t,r}(1)}tT(Ck);var nT=tT(Dk);var rT,iT,oT=0,sT=0,aT=0,lT=0,cT=0,uT=0,hT="object"==typeof performance&&performance.now?performance:Date,dT="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fT(){return cT||(dT(pT),cT=hT.now()+uT)}function pT(){cT=0}function mT(){this._call=this._time=this._next=null}function gT(e,t,n){var r=new mT;return r.restart(e,t,n),r}function _T(){cT=(lT=hT.now())+uT,oT=sT=0;try{!function(){fT(),++oT;for(var e,t=rT;t;)(e=cT-t._time)>=0&&t._call.call(void 0,e),t=t._next;--oT}()}finally{oT=0,function(){var e,t,n=rT,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:rT=t);iT=e,bT(r)}(),cT=0}}function yT(){var e=hT.now(),t=e-lT;t>1e3&&(uT-=t,lT=e)}function bT(e){oT||(sT&&(sT=clearTimeout(sT)),e-cT>24?(e<1/0&&(sT=setTimeout(_T,e-hT.now()-uT)),aT&&(aT=clearInterval(aT))):(aT||(lT=hT.now(),aT=setInterval(yT,1e3)),oT=1,dT(_T)))}function vT(e,t,n){var r=new mT;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}mT.prototype=gT.prototype={constructor:mT,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?fT():+n)+(null==t?0:+t),this._next||iT===this||(iT?iT._next=this:rT=this,iT=this),this._call=e,this._time=n,bT()},stop:function(){this._call&&(this._call=null,this._time=1/0,bT())}};var wT=Xx("start","end","cancel","interrupt"),xT=[];function MT(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(o){var c,u,h,d;if(1!==n.state)return l();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return vT(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[c])}if(vT((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=gT(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:wT,tween:xT,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ST(e,t){var n=TT(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function kT(e,t){var n=TT(e,t);if(n.state>3)throw new Error("too late; already running");return n}function TT(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function LT(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}function CT(e,t){var n,r;return function(){var i=kT(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function ET(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=kT(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function DT(e,t,n){var r=e._id;return e.each((function(){var e=kT(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return TT(e,r).value[t]}}function AT(e,t){var n;return("number"==typeof t?Fk:t instanceof PS?Ak:(n=PS(t))?(t=n,Ak):Hk)(e,t)}function $T(e){return function(){this.removeAttribute(e)}}function PT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RT(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function OT(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function IT(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttribute(e)}}function FT(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function NT(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function YT(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function jT(e,t){return function(){ST(this,e).delay=+t.apply(this,arguments)}}function HT(e,t){return t=+t,function(){ST(this,e).delay=t}}function zT(e,t){return function(){kT(this,e).duration=+t.apply(this,arguments)}}function UT(e,t){return t=+t,function(){kT(this,e).duration=t}}var WT=lS.prototype.constructor;function GT(e){return function(){this.style.removeProperty(e)}}var qT=0;function BT(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function VT(){return++qT}var XT=lS.prototype;BT.prototype=function(e){return lS().transition(e)}.prototype={constructor:BT,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=rM(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,MT(h[d],t,n,d,h,TT(a,n)));return new BT(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=oM(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=e.call(l,l.__data__,h,c),p=TT(l,n),m=0,g=f.length;m<g;++m)(d=f[m])&&MT(d,t,n,m,f,p);o.push(f),s.push(l)}return new BT(o,s,t,n)},selectChild:XT.selectChild,selectChildren:XT.selectChildren,filter:function(e){"function"!=typeof e&&(e=aM(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new BT(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<r;++a)s[a]=t[a];return new BT(s,this._parents,this._name,this._id)},selection:function(){return new WT(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=VT(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=TT(s,t);MT(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new BT(r,this._parents,e,n)},call:XT.call,nodes:XT.nodes,node:XT.node,size:XT.size,empty:XT.empty,each:XT.each,on:function(e,t){var n=this._id;return arguments.length<2?TT(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ST:kT;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=Zx(e),r="transform"===n?Kk:AT;return this.attrTween(e,"function"==typeof t?(n.local?FT:IT)(n,r,DT(this,"attr."+e,t)):null==t?(n.local?PT:$T)(n):(n.local?OT:RT)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Zx(e);return this.tween(n,(r.local?NT:YT)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Xk:AT;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=DM(this,e),s=(this.style.removeProperty(e),DM(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,GT(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var s=DM(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=DM(this,e)),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}(e,r,DT(this,"style."+e,t))).each(function(e,t){var n,r,i,o,s="style."+t,a="end."+s;return function(){var l=kT(this,e),c=l.on,u=null==l.value[s]?o||(o=GT(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var s=DM(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(DT(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=TT(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?CT:ET)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?jT:HT)(t,e)):TT(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?zT:UT)(t,e)):TT(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){kT(this,e).ease=t}}(t,e)):TT(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;kT(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};n.each((function(){var n=kT(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:XT[Symbol.iterator]};(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Math.PI;function KT(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}var JT=1.70158,ZT=(function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(JT),function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(JT),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(JT),2*Math.PI),QT=(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ZT);function i(e){return t*KT(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*ZT)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ZT);function i(e){return 1-t*KT(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*ZT)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ZT);function i(e){return((e=2*e-1)<0?t*KT(-e)*Math.sin((r-e)/n):2-t*KT(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*ZT)},i.period=function(n){return e(t,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function eL(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}lS.prototype.interrupt=function(e){return this.each((function(){LT(this,e)}))},lS.prototype.transition=function(e){var t,n;e instanceof BT?(t=e._id,e=e._name):(t=VT(),(n=QT).time=fT(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&MT(s,e,t,c,a,n||eL(s,t));return new BT(r,this._parents,e,t)};const{abs:tL,max:nL,min:rL}=Math;function iL(e){return[+e[0],+e[1]]}function oL(e){return[iL(e[0]),iL(e[1])]}["w","e"].map(sL),["n","s"].map(sL),["n","w","e","s","nw","ne","sw","se"].map(sL);function sL(e){return{type:e}}Math.abs,Math.cos,Math.sin,Math.PI,Math.max;Math.PI;Array.prototype.slice;Array.prototype.slice;function aL(e){return new Float64Array(e)}aL(4),aL(8),aL(12),aL(16),aL(4);aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(8),aL(8),aL(8),aL(4),aL(8),aL(8),aL(8),aL(12);aL(192),aL(192);aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(8),aL(8),aL(8),aL(8),aL(8),aL(8),aL(8),aL(8),aL(8),aL(4),aL(4),aL(4),aL(8),aL(16),aL(16),aL(16),aL(32),aL(32),aL(48),aL(64);aL(1152),aL(1152);aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(4),aL(24),aL(24),aL(24),aL(24),aL(24),aL(24),aL(24),aL(24),aL(24),aL(24),aL(1152),aL(1152),aL(1152),aL(1152),aL(1152),aL(2304),aL(2304),aL(3456),aL(5760),aL(8),aL(8),aL(8),aL(16),aL(24),aL(48),aL(48),aL(96),aL(192),aL(384),aL(384),aL(384),aL(768);aL(96),aL(96),aL(96),aL(1152);Math.pow(2,-52),new Uint32Array(512);Math.PI,Math.pow;var lL={},cL={};function uL(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function hL(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function dL(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function fL(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+dL(-t,6):t>9999?"+"+dL(t,6):dL(t,4))+"-"+dL(e.getUTCMonth()+1,2)+"-"+dL(e.getUTCDate(),2)+(o?"T"+dL(n,2)+":"+dL(r,2)+":"+dL(i,2)+"."+dL(o,3)+"Z":i?"T"+dL(n,2)+":"+dL(r,2)+":"+dL(i,2)+"Z":r||n?"T"+dL(n,2)+":"+dL(r,2)+"Z":"")}function pL(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,s=0,a=0,l=o<=0,c=!1;function u(){if(l)return cL;if(c)return c=!1,lL;var t,r,i=s;if(34===e.charCodeAt(i)){for(;s++<o&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=o?l=!0:10===(r=e.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(s)&&++s),e.slice(i+1,t-1).replace(/""/g,'"')}for(;s<o;){if(10===(r=e.charCodeAt(t=s++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(s)&&++s;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==cL;){for(var h=[];r!==lL&&r!==cL;)h.push(r),r=u();t&&null==(h=t(h,a++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return s(t[e])})).join(e)}))}function o(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?fL(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=uL(e);return function(r,i){return t(n(r),i,e)}}(e,t):uL(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=hL(t)),[n.map(s).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=hL(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:s}}var mL=pL(","),gL=mL.parse,_L=(mL.parseRows,mL.format,mL.formatBody,mL.formatRows,mL.formatRow,mL.formatValue,pL("\t")),yL=_L.parse;_L.parseRows,_L.format,_L.formatBody,_L.formatRows,_L.formatRow,_L.formatValue;new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function bL(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function vL(e,t){return fetch(e,t).then(bL)}function wL(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),vL(t,n).then((function(t){return e(t,r)}))}}wL(gL),wL(yL);function xL(e){return(t,n)=>vL(t,n).then((t=>(new DOMParser).parseFromString(t,e)))}xL("application/xml");xL("text/html"),xL("image/svg+xml");function ML(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,s,a,l,c,u,h,d,f=e._root,p={data:r},m=e._x0,g=e._y0,_=e._x1,y=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((c=t>=(o=(m+_)/2))?m=o:_=o,(u=n>=(s=(g+y)/2))?g=s:y=s,i=f,!(f=f[h=u<<1|c]))return i[h]=p,e;if(a=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===a&&n===l)return p.next=f,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+_)/2))?m=o:_=o,(u=n>=(s=(g+y)/2))?g=s:y=s}while((h=u<<1|c)==(d=(l>=s)<<1|a>=o));return i[d]=f,i[h]=p,e}function SL(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function kL(e){return e[0]}function TL(e){return e[1]}function LL(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function CL(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var EL=function(e,t,n){var r=new LL(null==t?kL:t,null==n?TL:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}.prototype=LL.prototype;EL.copy=function(){var e,t,n=new LL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=CL(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=CL(t));return n},EL.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return ML(this.cover(t,n),t,n,e)},EL.addAll=function(e){var t,n,r,i,o=e.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)ML(this,s[n],a[n],e[n]);return this},EL.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s,a,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(a=(t<r)<<1|e<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},EL.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},EL.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},EL.find=function(e,t,n){var r,i,o,s,a,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new SL(m,u,h,d,f)),null==n?n=1/0:(u=e-n,h=t-n,d=e+n,f=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>d||(o=l.y0)>f||(s=l.x1)<u||(a=l.y1)<h))if(m.length){var g=(i+s)/2,_=(o+a)/2;p.push(new SL(m[3],g,_,s,a),new SL(m[2],i,_,g,a),new SL(m[1],g,o,s,_),new SL(m[0],i,o,g,_)),(c=(t>=_)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),v=y*y+b*b;if(v<n){var w=Math.sqrt(n=v);u=e-w,h=t-w,d=e+w,f=t+w,r=m.data}}return r},EL.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,o,s,a,l,c,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,_=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(a=(p+g)/2))?p=a:g=a,(u=s>=(l=(m+_)/2))?m=l:_=l,t=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,d=h)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},EL.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},EL.root=function(){return this._root},EL.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},EL.visit=function(e){var t,n,r,i,o,s,a=[],l=this._root;for(l&&a.push(new SL(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,s=t.y1)&&l.length){var c=(r+o)/2,u=(i+s)/2;(n=l[3])&&a.push(new SL(n,c,u,o,s)),(n=l[2])&&a.push(new SL(n,r,u,c,s)),(n=l[1])&&a.push(new SL(n,c,i,o,u)),(n=l[0])&&a.push(new SL(n,r,i,c,u))}return this},EL.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new SL(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,s=t.x0,a=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,h=(a+c)/2;(o=i[0])&&n.push(new SL(o,s,a,u,h)),(o=i[1])&&n.push(new SL(o,u,a,l,h)),(o=i[2])&&n.push(new SL(o,s,h,u,c)),(o=i[3])&&n.push(new SL(o,u,h,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},EL.x=function(e){return arguments.length?(this._x=e,this):this._x},EL.y=function(e){return arguments.length?(this._y=e,this):this._y};Math.PI,Math.sqrt(5);function DL(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function AL(e){return(e=DL(Math.abs(e)))?e[1]:NaN}var $L,PL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function RL(e){if(!(t=PL.exec(e)))throw new Error("invalid format: "+e);var t;return new OL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function OL(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function IL(e,t){var n=DL(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}RL.prototype=OL.prototype,OL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const FL={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IL(100*e,t),r:IL,s:function(e,t){var n=DL(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-($L=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+DL(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function NL(e){return e}var YL,jL,HL,zL=Array.prototype.map,UL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function WL(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?NL:(t=zL.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?NL:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(zL.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=RL(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,_=e.trim,y=e.type;"n"===y?(m=!0,y="g"):FL[y]||(void 0===g&&(g=12),_=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===d?o:/[%p]/.test(y)?l:"",w=FL[y],x=/[defgprs%]/.test(y);function M(e){var i,o,l,d=b,M=v;if("c"===y)M=w(e)+M,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),_&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0==+e&&"+"!==h&&(S=!1),d=(S?"("===h?h:c:"-"===h||"("===h?"":h)+d,M=("s"===y?UL[8+$L/3]:"")+M+(S&&"("===h?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){M=(46===l?s+e.slice(i+1):e.slice(i))+M,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var k=d.length+e.length+M.length,T=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=r(T+e,T.length?p-M.length:1/0),T=""),n){case"<":e=d+e+M+T;break;case"=":e=d+T+e+M;break;case"^":e=T.slice(0,k=T.length>>1)+d+e+M+T.slice(k);break;default:e=T+d+e+M}return a(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return e+""},M}return{format:h,formatPrefix:function(e,t){var n=h(((e=RL(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(AL(t)/3))),i=Math.pow(10,-r),o=UL[8+r/3];return function(e){return n(i*e)+o}}}}YL=WL({thousands:",",grouping:[3],currency:["$",""]}),jL=YL.format,HL=YL.formatPrefix;var GL=1e-6,qL=1e-12,BL=Math.PI,VL=BL/2,XL=BL/4,KL=2*BL,JL=BL/180,ZL=Math.abs,QL=Math.atan,eC=Math.atan2,tC=Math.cos,nC=(Math.ceil,Math.exp),rC=(Math.floor,Math.hypot,Math.log),iC=(Math.pow,Math.sin),oC=Math.sign||function(e){return e>0?1:e<0?-1:0},sC=Math.sqrt,aC=Math.tan;function lC(e){return e>1?VL:e<-1?-VL:Math.asin(e)}function cC(){}new kx,new kx;function uC(e){var t=e[0],n=e[1],r=tC(n);return[r*tC(t),r*iC(t),iC(n)]}function hC(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function dC(e){var t=sC(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function fC(e,t){return ZL(e)>BL&&(e-=Math.round(e/KL)*KL),[e,t]}function pC(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function mC(e,t,n,r,i){var o,s,a=[],l=[];if(e.forEach((function(e){if(!(e.length-1<=0)){var t,n,r=e[0],s=e[t];if(function(e,t){return ZL(e[0]-t[0])<GL&&ZL(e[1]-t[1])<GL}(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),0;o<t;++o)i.point(e[o][0],r[1]);return void i.lineEnd()}s[0]+=2e-6}a.push(new pC(r,e,null,!0)),l.push(n.o=new pC(r,null,n,!1)),a.push(new pC(s,e,null,!1)),l.push(n.o=new pC(s,null,n,!0))}})),a.length){for(l.sort(t),gC(a),gC(l),l.length;o<s;++o)l[o].e=!n;for(var c,u,h=a[0];;){for(var d=h,f=!0;d.v;)if(d.n===h)return;d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(c.length;o<s;++o)i.point(c[o][0],u[1]);else r(d.x,d.n.x,1,i);d.n}else{if(f)for(d.p.z,c.length-1;o>=0;--o)i.point(c[o][0],u[1]);else r(d.x,d.p.x,-1,i);d.p}d.o.z}while(!d.v);i.lineEnd()}}}function gC(e){if(e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=e[r],n.p=i;i.n=e[0],n.p=i}}function _C(e){return ZL(e[0])<=BL?e[0]:oC(e[0])*((ZL(e[0])+BL)%KL-BL)}function yC(e,t){var n=_C(t),r=t[1],i=iC(r),o=[iC(n),-tC(n),0],s=0,a=0,l=new kx;1===i?VL+GL:-1===i&&-VL-GL;for(var c=0,u=e.length;c<u;++c)if(e[c].length)for(var h,d,f=h[d-1],p=_C(f),m=f[1]/2+XL,g=iC(m),_=tC(m),y=0;y<d;b){var b=h[y],v=_C(b),w=b[1]/2+XL,x=iC(w),M=tC(w),S=v-p,k=S>=0?1:-1,T=k*S,L=T>BL,C=g*x;if(l.add(eC(C*k*iC(T),_*M+C*tC(T))),L^p>=n^v>=n){var E=hC(uC(f),uC(b));dC(E);var D=hC(o,E);dC(D);var A=(L^S>=0?-1:1)*lC(D[2]);(r>A||r===A&&(E[0]||E[1]))&&(L^S>=0?1:-1)}}return(s<-1e-6||s<GL&&l<-1e-12)^1&a}function bC(e){return e.length>1}function vC(e,t){return(e.x[0]<0?e[1]-VL-GL:VL-e[1])-(t.x[0]<0?t[1]-VL-GL:VL-t[1])}fC.invert=fC;new kx,new kx;new kx;function wC(e){return function(t){var n=new xC;for(var r in e)n[r]=e[r];return n.stream=t,n}}function xC(){}xC.prototype={constructor:xC,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};tC(30*JL);wC({point:function(e,t){this.stream.point(e*JL,t*JL)}});function MC(e){return function(t,n){var r=tC(t),i=tC(n),o=e(r*i);return o===1/0?[2,0]:[o*i*iC(t),o*iC(n)]}}function SC(e){return function(t,n){var r=sC(t*t+n*n),i=e(r),o=iC(i),s=tC(i);return[eC(t*o,r*s),lC(r&&n*o/r)]}}var kC=MC((function(e){return sC(2/(1+e))}));kC.invert=SC((function(e){return 2*lC(e/2)}));var TC=MC((function(e){return(e=function(e){return e>1?0:e<-1?BL:Math.acos(e)}(e))&&e/iC(e)}));function LC(e,t){return[e,rC(aC((VL+t)/2))]}function CC(e,t){return[e,t]}TC.invert=SC((function(e){return e})),LC.invert=function(e,t){return[e,2*QL(nC(t))-VL]},CC.invert=CC;var EC=1.340264,DC=-.081106,AC=893e-6,$C=.003796,PC=sC(3)/2;function RC(e,t){var n=lC(PC*iC(t)),r=n*n,i=r*r*r;return[e*tC(n)/(PC*(EC+3*DC*r+i*(7*AC+9*$C*r))),n*(EC+DC*r+i*(AC+$C*r))]}function OC(e,t){var n=tC(t),r=tC(e)*n;return[n*iC(e)/r,iC(t)/r]}function IC(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function FC(e,t){return[tC(t)*iC(e),iC(t)]}function NC(e,t){var n=tC(t),r=1+tC(e)*n;return[n*iC(e)/r,iC(t)/r]}function YC(e,t){return[rC(aC((VL+t)/2)),-e]}function jC(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function HC(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=UC)):void 0===t&&(t=zC);for(var n,r,i,o,s,a=new qC(e),l=[a];n=l.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)l.push(r=i[o]=new qC(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(GC)}function zC(e){return e.children}function UC(e){return Array.isArray(e)?e[1]:null}function WC(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function GC(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function qC(e){this.data=e,this.depth=this.height=0,this.parent=null}RC.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,s=0;s<12&&(o=(i=(r-=n=(r*(EC+DC*i+o*(AC+$C*i))-t)/(EC+3*DC*i+o*(7*AC+9*$C*i)))*r)*i*i,!(ZL(n)<qL));++s);return[PC*e*(EC+3*DC*i+o*(7*AC+9*$C*i))/tC(r),lC(iC(r)/PC)]},OC.invert=SC(QL),IC.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(ZL(n)>GL&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},FC.invert=SC(lC),NC.invert=SC((function(e){return 2*QL(e)})),YC.invert=function(e,t){return[-t,2*QL(nC(e))-VL]},qC.prototype=HC.prototype={constructor:qC,count:function(){return this.eachAfter(jC)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,s=[o],a=[],l=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return HC(this).eachBefore(WC)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};function BC(e,t,n,r,i){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(r-t)/e.value;++a<l;)(o=s[a]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function VC(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function XC(e,t,n,r,i){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(i-n)/e.value;++a<l;)(o=s[a]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}VC.prototype=Object.create(qC.prototype);var KC=(1+Math.sqrt(5))/2;function JC(e,t,n,r,i,o){for(var s,a,l,c,u,h,d,f,p,m,g,_=[],y=t.children,b=0,v=0,w=y.length,x=t.value;b<w;){l=i-n,c=o-r;do{u=y[v++].value}while(!u&&v<w);for(h=d=u,g=u*u*(m=Math.max(c/l,l/c)/(x*e)),p=Math.max(d/g,g/h);v<w;++v){if(u+=a=y[v].value,a<h&&(h=a),a>d&&(d=a),g=u*u*m,(f=Math.max(d/g,g/h))>p){u-=a;break}p=f}_.push(s={value:u,dice:l<c,children:y.slice(b,v)}),s.dice?BC(s,n,r,i,x?r+=c*u/x:o):XC(s,n,r,x?n+=l*u/x:i,o),x-=u,b=v}return _}(function e(t){function n(e,n,r,i,o){JC(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n})(KC);(function e(t){function n(e,n,r,i,o){if((s=e._squarify)&&s.ratio===t)for(var s,a,l,c,u,h=-1,d=s.length,f=e.value;++h<d;){for(l=(a=s[h]).children,c=a.value=0,u=l.length;c<u;++c)a.value+=l[c].value;a.dice?BC(a,n,r,i,f?r+=(o-r)*a.value/f:o):XC(a,n,r,f?n+=(i-n)*a.value/f:i,o),f-=a.value}else e._squarify=s=JC(t,e,n,r,i,o),s.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n})(KC);const ZC=Math.random,QC=(function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(ZC),function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(ZC),function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(ZC)),eE=(function e(t){var n=QC.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(ZC),function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(ZC)),tE=(function e(t){var n=eE.source(t);function r(e){if(0==(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(ZC),function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(ZC),function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(ZC),function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(ZC),function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(ZC)),nE=function e(t){var n=QC.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,o=1/(3*Math.sqrt(i)),s=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),a=1+o*e}while(a<=0);a*=a*a;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+i*(1-a+Math.log(a)));return i*a*s()*r}}return r.source=e,r}(ZC),rE=function e(t){var n=nE.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(ZC),iE=function e(t){var n=tE.source(t),r=rE.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,o=e,s=t;o*s>16&&o*(1-s)>16;){var a=Math.floor((o+1)*s),l=r(a,o-a+1)();l<=s?(i+=a,o-=a,s=(s-l)/(1-l)):(o=a-1,s/=l)}for(var c=s<.5,u=n(c?s:1-s),h=u(),d=0;h<=o;++d)h+=u();return i+(c?d:o-d)}}return i.source=e,i}(ZC);(function e(t){function n(e,n,r){var i;return 0==(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n})(ZC),function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(ZC),function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(ZC),function e(t){var n=nE.source(t),r=iE.source(t);function i(e){return function(){for(var i=0,o=e;o>16;){var s=Math.floor(.875*o),a=n(s)();if(a>o)return i+r(s-1,o/a)();i+=s,o-=a}for(var l=-Math.log1p(-t()),c=0;l<=o;++c)l-=Math.log1p(-t());return i+c}}return i.source=e,i}(ZC);function oE(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}Symbol("implicit");function sE(e){return+e}var aE=[0,1];function lE(e){return e}function cE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function uE(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=cE(i,r),o=n(s,o)):(r=cE(r,i),o=n(o,s)),function(e){return o(r(e))}}function hE(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=cE(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=vx(e,t,1,r)-1;return o[n](i[n](t))}}function dE(){var e,t,n,r,i,o,s=aE,a=aE,l=zk,c=lE;function u(){var e=Math.min(s.length,a.length);return c!==lE&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?hE:uE,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(a,s.map(e),Fk)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,sE),u()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),l=Uk,u()},h.clamp=function(e){return arguments.length?(c=!!e||lE,u()):c!==lE},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function fE(e,t,n,r){var i,o=$x(e,t,n);switch((r=RL(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(AL(t)/3)))-AL(Math.abs(e)))}(o,s))||(r.precision=i),HL(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,AL(t)-AL(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-AL(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return jL(r)}function pE(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)==(t=+t))return[e];const r=t<e,[i,o,s]=r?Dx(t,e,n):Dx(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let e=0;e<a;++e)l[e]=(o-e)/-s;else for(let e=0;e<a;++e)l[e]=(o-e)*s;else if(s<0)for(let e=0;e<a;++e)l[e]=(i+e)/-s;else for(let e=0;e<a;++e)l[e]=(i+e)*s;return l}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return fE(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=Ax(l,c,n))===r)return o[s]=l,o[a]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function mE(){var e=dE()(lE,lE);return e.copy=function(){return t=e,mE().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},oE.apply(e,arguments),pE(e)}const gE=new Date,_E=new Date;function yE(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;let a;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=n=>yE((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(gE.setTime(+t),_E.setTime(+r),e(gE),e(_E),Math.floor(n(gE,_E))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}const bE=yE((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));bE.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?yE((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):bE:null);bE.range;const vE=1e3,wE=6e4,xE=36e5,ME=864e5,SE=6048e5,kE=2592e6,TE=31536e6,LE=yE((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*vE)}),((e,t)=>(t-e)/vE),(e=>e.getUTCSeconds())),CE=(LE.range,yE((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vE)}),((e,t)=>{e.setTime(+e+t*wE)}),((e,t)=>(t-e)/wE),(e=>e.getMinutes()))),EE=(CE.range,yE((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*wE)}),((e,t)=>(t-e)/wE),(e=>e.getUTCMinutes()))),DE=(EE.range,yE((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vE-e.getMinutes()*wE)}),((e,t)=>{e.setTime(+e+t*xE)}),((e,t)=>(t-e)/xE),(e=>e.getHours()))),AE=(DE.range,yE((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*xE)}),((e,t)=>(t-e)/xE),(e=>e.getUTCHours()))),$E=(AE.range,yE((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wE)/ME),(e=>e.getDate()-1))),PE=($E.range,yE((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/ME),(e=>e.getUTCDate()-1))),RE=(PE.range,yE((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/ME),(e=>Math.floor(e/ME))));RE.range;function OE(e){return yE((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wE)/SE))}const IE=OE(0),FE=OE(1),NE=OE(2),YE=OE(3),jE=OE(4),HE=OE(5),zE=OE(6);IE.range,FE.range,NE.range,YE.range,jE.range,HE.range,zE.range;function UE(e){return yE((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/SE))}const WE=UE(0),GE=UE(1),qE=UE(2),BE=UE(3),VE=UE(4),XE=UE(5),KE=UE(6),JE=(WE.range,GE.range,qE.range,BE.range,VE.range,XE.range,KE.range,yE((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),ZE=(JE.range,yE((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),QE=(ZE.range,yE((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));QE.every=e=>isFinite(e=Math.floor(e))&&e>0?yE((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;QE.range;const eD=yE((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));eD.every=e=>isFinite(e=Math.floor(e))&&e>0?yE((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;eD.range;function tD(e,t,n,r,i,o){const s=[[LE,1,vE],[LE,5,5e3],[LE,15,15e3],[LE,30,3e4],[o,1,wE],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,xE],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,ME],[r,2,1728e5],[n,1,SE],[t,1,kE],[t,3,7776e6],[e,1,TE]];function a(t,n,r){const i=Math.abs(n-t)/r,o=gx((([,,e])=>e)).right(s,i);if(o===s.length)return e.every($x(t/TE,n/TE,r));if(0===o)return bE.every(Math.max($x(t,n,r),1));const[a,l]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:a(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},a]}const[nD,rD]=tD(eD,ZE,WE,RE,AE,EE),[iD,oD]=tD(QE,JE,IE,$E,DE,CE);function sD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lD(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var cD,uD,hD,dD={"-":"",_:" ",0:"0"},fD=/^\s*\d+/,pD=/^%/,mD=/[\\^$*+?|[\]().{}]/g;function gD(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function _D(e){return e.replace(mD,"\\$&")}function yD(e){return new RegExp("^(?:"+e.map(_D).join("|")+")","i")}function bD(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function vD(e,t,n){var r=fD.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function wD(e,t,n){var r=fD.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function MD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function SD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kD(e,t,n){var r=fD.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function TD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LD(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function CD(e,t,n){var r=fD.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function ED(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function DD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function AD(e,t,n){var r=fD.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $D(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function PD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function RD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function OD(e,t,n){var r=fD.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ID(e,t,n){var r=fD.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FD(e,t,n){var r=pD.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ND(e,t,n){var r=fD.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function YD(e,t,n){var r=fD.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function jD(e,t){return gD(e.getDate(),t,2)}function HD(e,t){return gD(e.getHours(),t,2)}function zD(e,t){return gD(e.getHours()%12||12,t,2)}function UD(e,t){return gD(1+$E.count(QE(e),e),t,3)}function WD(e,t){return gD(e.getMilliseconds(),t,3)}function GD(e,t){return WD(e,t)+"000"}function qD(e,t){return gD(e.getMonth()+1,t,2)}function BD(e,t){return gD(e.getMinutes(),t,2)}function VD(e,t){return gD(e.getSeconds(),t,2)}function XD(e){var t=e.getDay();return 0===t?7:t}function KD(e,t){return gD(IE.count(QE(e)-1,e),t,2)}function JD(e){var t=e.getDay();return t>=4||0===t?jE(e):jE.ceil(e)}function ZD(e,t){return e=JD(e),gD(jE.count(QE(e),e)+(4===QE(e).getDay()),t,2)}function QD(e){return e.getDay()}function eA(e,t){return gD(FE.count(QE(e)-1,e),t,2)}function tA(e,t){return gD(e.getFullYear()%100,t,2)}function nA(e,t){return gD((e=JD(e)).getFullYear()%100,t,2)}function rA(e,t){return gD(e.getFullYear()%1e4,t,4)}function iA(e,t){var n=e.getDay();return gD((e=n>=4||0===n?jE(e):jE.ceil(e)).getFullYear()%1e4,t,4)}function oA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gD(t/60|0,"0",2)+gD(t%60,"0",2)}function sA(e,t){return gD(e.getUTCDate(),t,2)}function aA(e,t){return gD(e.getUTCHours(),t,2)}function lA(e,t){return gD(e.getUTCHours()%12||12,t,2)}function cA(e,t){return gD(1+PE.count(eD(e),e),t,3)}function uA(e,t){return gD(e.getUTCMilliseconds(),t,3)}function hA(e,t){return uA(e,t)+"000"}function dA(e,t){return gD(e.getUTCMonth()+1,t,2)}function fA(e,t){return gD(e.getUTCMinutes(),t,2)}function pA(e,t){return gD(e.getUTCSeconds(),t,2)}function mA(e){var t=e.getUTCDay();return 0===t?7:t}function gA(e,t){return gD(WE.count(eD(e)-1,e),t,2)}function _A(e){var t=e.getUTCDay();return t>=4||0===t?VE(e):VE.ceil(e)}function yA(e,t){return e=_A(e),gD(VE.count(eD(e),e)+(4===eD(e).getUTCDay()),t,2)}function bA(e){return e.getUTCDay()}function vA(e,t){return gD(GE.count(eD(e)-1,e),t,2)}function wA(e,t){return gD(e.getUTCFullYear()%100,t,2)}function xA(e,t){return gD((e=_A(e)).getUTCFullYear()%100,t,2)}function MA(e,t){return gD(e.getUTCFullYear()%1e4,t,4)}function SA(e,t){var n=e.getUTCDay();return gD((e=n>=4||0===n?VE(e):VE.ceil(e)).getUTCFullYear()%1e4,t,4)}function kA(){return"+0000"}function TA(){return"%"}function LA(e){return+e}function CA(e){return Math.floor(+e/1e3)}!function(e){cD=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=yD(i),u=bD(i),h=yD(o),d=bD(o),f=yD(s),p=bD(s),m=yD(a),g=bD(a),_=yD(l),y=bD(l),b={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:jD,e:jD,f:GD,g:nA,G:iA,H:HD,I:zD,j:UD,L:WD,m:qD,M:BD,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:LA,s:CA,S:VD,u:XD,U:KD,V:ZD,w:QD,W:eA,x:null,X:null,y:tA,Y:rA,Z:oA,"%":TA},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:sA,e:sA,f:hA,g:xA,G:SA,H:aA,I:lA,j:cA,L:uA,m:dA,M:fA,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:LA,s:CA,S:pA,u:mA,U:gA,V:yA,w:bA,W:vA,x:null,X:null,y:wA,Y:MA,Z:kA,"%":TA},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=_.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:DD,e:DD,f:ID,g:TD,G:kD,H:$D,I:$D,j:AD,L:OD,m:ED,M:PD,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:CD,Q:ND,s:YD,S:RD,u:wD,U:xD,V:MD,w:vD,W:SD,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:TD,Y:kD,Z:LD,"%":FD};function x(e,t){return function(n){var r,i,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(i=dD[r=e.charAt(++a)])?r=e.charAt(++a):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),s.push(r),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function M(e,t){return function(n){var r,i,o=lD(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=aD(lD(o.y,0,1))).getUTCDay(),r=i>4||0===i?GE.ceil(r):GE(r),r=PE.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=sD(lD(o.y,0,1))).getDay(),r=i>4||0===i?FE.ceil(r):FE(r),r=$E.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?aD(lD(o.y,0,1)).getUTCDay():sD(lD(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,aD(o)):sD(o)}}function S(e,t,n,r){for(var i,o,s=0,a=t.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(o=w[i in dD?t.charAt(s++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),v.x=x(n,v),v.X=x(r,v),v.c=x(t,v),{format:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=M(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=M(e+="",!0);return t.toString=function(){return e},t}}}(e),cD.format,cD.parse,uD=cD.utcFormat,hD=cD.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var EA="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||uD(EA);+new Date("2000-01-01T00:00:00.000Z")||hD(EA);function DA(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}DA("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),DA("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),DA("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),DA("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),DA("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),DA("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),DA("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),DA("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),DA("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),DA("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),DA("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");const AA=e=>Pk(e[e.length-1]);AA(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(DA));AA(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(DA));AA(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(DA));AA(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(DA));AA(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(DA));AA(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(DA));AA(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(DA));AA(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(DA));AA(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(DA));AA(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(DA));AA(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(DA));AA(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(DA));AA(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(DA));AA(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(DA));AA(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(DA));AA(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(DA));AA(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(DA));AA(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(DA));AA(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(DA));AA(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(DA));AA(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(DA));AA(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(DA));AA(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(DA));AA(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(DA));AA(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(DA));AA(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(DA));AA(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(DA));nT(Mk(300,.5,0),Mk(-240,.5,1));nT(Mk(-100,.75,.35),Mk(80,1.5,.8)),nT(Mk(260,.75,.35),Mk(80,1.5,.8)),Mk();FS(),Math.PI,Math.PI;function $A(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}$A(DA("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));$A(DA("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$A(DA("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$A(DA("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));Math.abs,Math.atan2;const PA=Math.cos,RA=(Math.max,Math.min,Math.sin),OA=Math.sqrt,IA=Math.PI,FA=2*IA;Array.prototype.slice;function NA(e){this._context=e}NA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};!function(e){function t(t){return new YA(e(t))}t._curve=e}((function(e){return new NA(e)}));function YA(e){this._curve=e}YA.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};OA(3),OA(1/3);const jA=RA(IA/10)/RA(7*IA/10);RA(FA/10),PA(FA/10),OA(3),OA(3),OA(3),OA(12);function HA(){}function zA(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function UA(e){this._context=e}function WA(e){this._context=e}function GA(e){this._context=e}function qA(e,t){this._basis=new UA(e),this._beta=t}UA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},WA.prototype={areaStart:HA,areaEnd:HA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},GA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},qA.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],s=e[n]-i,a=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*s),this._beta*t[l]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};(function e(t){function n(e){return 1===t?new UA(e):new qA(e,t)}return n.beta=function(t){return e(+t)},n})(.85);function BA(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function VA(e,t){this._context=e,this._k=(1-t)/6}VA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:BA(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:BA(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new VA(e,t)}return n.tension=function(t){return e(+t)},n})(0);function XA(e,t){this._context=e,this._k=(1-t)/6}XA.prototype={areaStart:HA,areaEnd:HA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:BA(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new XA(e,t)}return n.tension=function(t){return e(+t)},n})(0);function KA(e,t){this._context=e,this._k=(1-t)/6}KA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:BA(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new KA(e,t)}return n.tension=function(t){return e(+t)},n})(0);function JA(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>1e-12){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function ZA(e,t){this._context=e,this._alpha=t}ZA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:JA(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new ZA(e,t):new VA(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function QA(e,t){this._context=e,this._alpha=t}QA.prototype={areaStart:HA,areaEnd:HA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:JA(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new QA(e,t):new XA(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function e$(e,t){this._context=e,this._alpha=t}e$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:JA(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new e$(e,t):new KA(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function t$(e){this._context=e}function n$(e){return e<0?-1:1}function r$(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(n$(o)+n$(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function i$(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o$(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function s$(e){this._context=e}function a$(e){this._context=new l$(e)}function l$(e){this._context=e}function c$(e){this._context=e}function u$(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function h$(e,t){this._context=e,this._t=t}t$.prototype={areaStart:HA,areaEnd:HA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},s$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o$(this,this._t0,i$(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o$(this,i$(this,n=r$(this,e,t)),n);break;default:o$(this,this._t0,n=r$(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(a$.prototype=Object.create(s$.prototype)).point=function(e,t){s$.prototype.point.call(this,t,e)},l$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},c$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=u$(e),i=u$(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const d$=e=>()=>e;function f$(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function p$(e,t,n){this.k=e,this.x=t,this.y=n}p$.prototype={constructor:p$,scale:function(e){return 1===e?this:new p$(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new p$(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var m$=new p$(1,0,0);function g$(e){e.stopImmediatePropagation()}function _$(e){e.preventDefault(),e.stopImmediatePropagation()}function y$(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function b$(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function v$(){return this.__zoom||m$}function w$(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function x$(){return navigator.maxTouchPoints||"ontouchstart"in this}function M$(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function S$(){var e,t,n,r=y$,i=b$,o=M$,s=w$,a=x$,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=Zk,d=Xx("start","zoom","end"),f=0,p=10;function m(e){e.property("__zoom",v$).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new p$(t,e.x,e.y)}function _(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new p$(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",(function(){v(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,o=arguments,s=v(e,o).event(r),a=i.apply(e,o),l=null==n?y(a):"function"==typeof n?n.apply(e,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,d="function"==typeof t?t.apply(e,o):t,f=h(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=f(e),n=c/t[2];e=new p$(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}}))}function v(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function x(e,...t){if(r.apply(this,arguments)){var n=v(this,t).event(e),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=dS(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],LT(this),n.start()}_$(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",o(_(g(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function M(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=v(this,t,!0).event(e),a=cS(e.view).on("mousemove.zoom",(function(e){if(_$(e),!s.moved){var t=e.clientX-u,n=e.clientY-h;s.moved=t*t+n*n>f}s.event(e).zoom("mouse",o(_(s.that.__zoom,s.mouse[0]=dS(e,i),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(e){a.on("mousemove.zoom mouseup.zoom",null),function(e,t){var n=e.document.documentElement,r=cS(e).on("dragstart.drag",null);t&&(r.on("click.drag",pS,fS),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,s.moved),_$(e),s.event(e).end()}),!0),l=dS(e,i),u=e.clientX,h=e.clientY;!function(e){var t=e.document.documentElement,n=cS(e).on("dragstart.drag",pS,fS);"onselectstart"in t?n.on("selectstart.drag",pS,fS):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(e.view),g$(e),s.mouse=[l,this.__zoom.invert(l)],LT(this),s.start()}}function S(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=dS(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(s),l=n.k*(e.shiftKey?.5:2),h=o(_(g(n,l),s,a),i.apply(this,t),c);_$(e),u>0?cS(this).transition().duration(u).call(b,h,s,e):cS(this).call(m.transform,h,s,e)}}function k(n,...i){if(r.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,h=v(this,i,n.changedTouches.length===u).event(n);for(g$(n),s=0;s<u;++s)l=[l=dS(a=c[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(h.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),500)),LT(this),h.start())}}function T(e,...t){if(this.__zooming){var n,r,i,s,a=v(this,t).event(e),l=e.changedTouches,u=l.length;for(_$(e),n=0;n<u;++n)i=dS(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],d=a.touch0[1],f=a.touch1[0],p=a.touch1[1],m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m,y=(y=p[0]-d[0])*y+(y=p[1]-d[1])*y;r=g(r,Math.sqrt(m/y)),i=[(h[0]+f[0])/2,(h[1]+f[1])/2],s=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(_(r,i,s),a.extent,c))}}function L(e,...r){if(this.__zooming){var i,o,s=v(this,r).event(e),a=e.changedTouches,l=a.length;for(g$(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=dS(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<p)){var c=cS(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",v$),e!==i?b(e,t,n,r):i.interrupt().each((function(){v(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?y(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return o(_(g(r,l),s,a),e,c)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},m.translateTo=function(e,t,n,r,s){m.transform(e,(function(){var e=i.apply(this,arguments),s=this.__zoom,a=null==r?y(e):"function"==typeof r?r.apply(this,arguments):r;return o(m$.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),r,s)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=cS(this.that).datum();d.call(e,this.that,new f$(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:d}),t)}},m.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:d$(+e),m):s},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:d$(!!e),m):r},m.touchable=function(e){return arguments.length?(a="function"==typeof e?e:d$(!!e),m):a},m.extent=function(e){return arguments.length?(i="function"==typeof e?e:d$([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(h=e,m):h},m.on=function(){var e=d.on.apply(d,arguments);return e===d?m:e},m.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,m):Math.sqrt(f)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m}p$.prototype;const k$=class{constructor(e){this.manager_=e,this.pStart_={},this.pEnd_={}}clearMeasure(){this.pStart_={},this.pEnd_={};const e=document.querySelector("#lidar-footer").shadowRoot;if(null===e)return;const t=cS(e.querySelector("#gmf-lidarprofile-container svg.lidar-svg"));t.selectAll("#text_m").remove(),t.selectAll("#start_m").remove(),t.selectAll("#end_m").remove(),t.selectAll("#line_m").remove(),t.on("click",null),t.style("cursor","default")}setMeasureActive(){const e=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container svg.lidar-svg"));e.style("cursor","pointer"),e.on("click",(e=>this.measureHeight(e)))}measureHeight(e){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.plot)throw new Error("Missing manager.plot");const t=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container svg.lidar-svg")),n=t.node(),r=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node(),i=dS(e,n),o=dS(e,r),s=this.manager_.config.clientConfig.margin,a=i[0],l=i[1],c=this.manager_.plot.updateScaleX,u=this.manager_.plot.updateScaleY;if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");const h=this.manager_.utils.getClosestPoint(this.manager_.profilePoints,o[0],o[1],2,this.manager_.plot.updateScaleX,this.manager_.plot.updateScaleY,this.manager_.config.serverConfig.classification_colors);if(this.pStart_.set?this.pEnd_.set||(null!==h?(this.pEnd_.distance=h.distance,this.pEnd_.altitude=h.altitude,this.pEnd_.cx=c(h.distance)+s.left,this.pEnd_.cy=u(h.altitude)+s.top):(this.pEnd_.distance=c.invert(a),this.pEnd_.altitude=u.invert(l),this.pEnd_.cx=a,this.pEnd_.cy=l),this.pEnd_.set=!0,t.append("circle").attr("id","end_m").attr("cx",this.pEnd_.cx).attr("cy",this.pEnd_.cy).attr("r",3).style("fill","red"),t.append("line").attr("id","line_m").attr("x1",this.pStart_.cx).attr("y1",this.pStart_.cy).attr("x2",this.pEnd_.cx).attr("y2",this.pEnd_.cy).attr("stroke-width",2).attr("stroke","red")):(null!==h?(this.pStart_.distance=h.distance,this.pStart_.altitude=h.altitude,this.pStart_.cx=c(h.distance)+s.left,this.pStart_.cy=u(h.altitude)+s.top):(this.pStart_.distance=c.invert(a),this.pStart_.altitude=u.invert(l),this.pStart_.cx=a,this.pStart_.cy=l),this.pStart_.set=!0,t.append("circle").attr("id","start_m").attr("cx",this.pStart_.cx).attr("cy",this.pStart_.cy).attr("r",3).style("fill","red")),this.pStart_.set&&this.pEnd_.set){const e=this.pEnd_.altitude-this.pStart_.altitude,n=this.pEnd_.distance-this.pStart_.distance,r=Math.round(10*Math.sqrt(Math.pow(e,2)+Math.pow(n,2)))/10;isNaN(r)||t.append("text").attr("id","text_m").attr("x",10+(this.pStart_.cx+this.pEnd_.cx)/2).attr("y",(this.pStart_.cy+this.pEnd_.cy)/2).text(`${r} m`).attr("font-family","sans-serif").attr("font-size","14px").style("font-weight","bold").attr("fill","red"),this.pEnd_.set=!1,this.pStart_.set=!1}}};class T$ extends In{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new T$(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(wn(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=bn(e,cn,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;let t;if(Array.isArray(e))t=e;else{_r("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");t=[e]}return function(){return t}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const L$=T$,C$=new Array(6);function E$(e){return A$(e,1,0,0,1,0,0)}function D$(e,t){const n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=t[0],c=t[1],u=t[2],h=t[3],d=t[4],f=t[5];return e[0]=n*l+i*c,e[1]=r*l+o*c,e[2]=n*u+i*h,e[3]=r*u+o*h,e[4]=n*d+i*f+s,e[5]=r*d+o*f+a,e}function A$(e,t,n,r,i,o,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e}function $$(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function P$(e,t,n){return D$(e,A$(C$,t,0,0,n,0,0))}function R$(e,t,n){return D$(e,A$(C$,1,0,0,1,t,n))}function O$(e,t,n,r,i,o,s,a){const l=Math.sin(o),c=Math.cos(o);return e[0]=r*c,e[1]=i*l,e[2]=-r*l,e[3]=i*c,e[4]=s*r*c-a*r*l+t,e[5]=s*i*l+a*i*c+n,e}function I$(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;_r(0!==n,"Transformation matrix cannot be inverted");const i=t[0],o=t[1],s=t[2],a=t[3],l=t[4],c=t[5];return e[0]=a/n,e[1]=-o/n,e[2]=-s/n,e[3]=i/n,e[4]=(s*c-a*l)/n,e[5]=-(i*c-o*l)/n,e}const F$=[1e6,1e6,1e6,1e6,2,2];function N$(e){const t="matrix("+e.map(((e,t)=>Math.round(e*F$[t])/F$[t])).join(", ")+")";return t}const Y$=0,j$=1,H$=2,z$=4,U$=8,W$=16;function G$(e){const t=Q$();for(let n=0,r=e.length;n<r;++n)sP(t,e[n]);return t}function q$(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function B$(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function V$(e,t,n){let r,i;return r=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,i=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0,r*r+i*i}function X$(e,t){return J$(e,t[0],t[1])}function K$(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function J$(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function Z$(e,t){const n=e[0],r=e[1],i=e[2],o=e[3],s=t[0],a=t[1];let l=Y$;return s<n?l|=W$:s>i&&(l|=z$),a<r?l|=U$:a>o&&(l|=H$),l===Y$&&(l=j$),l}function Q$(){return[1/0,1/0,-1/0,-1/0]}function eP(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function tP(e){return eP(1/0,1/0,-1/0,-1/0,e)}function nP(e,t){const n=e[0],r=e[1];return eP(n,r,n,r,t)}function rP(e,t,n,r,i){return aP(tP(i),e,t,n,r)}function iP(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function oP(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function sP(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function aP(e,t,n,r,i){for(;n<r;n+=i)lP(e,t[n],t[n+1]);return e}function lP(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function cP(e,t){let n;return n=t(hP(e)),n||(n=t(dP(e)),n||(n=t(bP(e)),n||(n=t(yP(e)),n||!1)))}function uP(e){let t=0;return xP(e)||(t=vP(e)*gP(e)),t}function hP(e){return[e[0],e[1]]}function dP(e){return[e[2],e[1]]}function fP(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function pP(e,t){let n;if("bottom-left"===t)n=hP(e);else if("bottom-right"===t)n=dP(e);else if("top-left"===t)n=yP(e);else{if("top-right"!==t)throw new Error("Invalid corner");n=bP(e)}return n}function mP(e,t,n,r,i){const[o,s,a,l,c,u,h,d]=function(e,t,n,r){const i=t*r[0]/2,o=t*r[1]/2,s=Math.cos(n),a=Math.sin(n),l=i*s,c=i*a,u=o*s,h=o*a,d=e[0],f=e[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}(e,t,n,r);return eP(Math.min(o,a,c,h),Math.min(s,l,u,d),Math.max(o,a,c,h),Math.max(s,l,u,d),i)}function gP(e){return e[3]-e[1]}function _P(e,t,n){const r=n||[1/0,1/0,-1/0,-1/0];return wP(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):tP(r),r}function yP(e){return[e[0],e[3]]}function bP(e){return[e[2],e[3]]}function vP(e){return e[2]-e[0]}function wP(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function xP(e){return e[2]<e[0]||e[3]<e[1]}function MP(e,t,n,r){if(xP(e))return tP(n);let i=[];if(r>1){const t=e[2]-e[0],n=e[3]-e[1];for(let o=0;o<r;++o)i.push(e[0]+t*o/r,e[1],e[2],e[1]+n*o/r,e[2]-t*o/r,e[3],e[0],e[3]-n*o/r)}else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);const o=[],s=[];for(let e=0,t=i.length;e<t;e+=2)o.push(i[e]),s.push(i[e+1]);return function(e,t,n){return eP(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}(o,s,n)}function SP(e,t){const n=t.getExtent(),r=fP(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const t=vP(n),i=Math.floor((r[0]-n[0])/t)*t;e[0]-=i,e[2]-=i}return e}function kP(e,t,n){if(t.canWrapX()){const r=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[r[0],e[1],r[2],e[3]]];SP(e,t);const i=vP(r);if(vP(e)>i&&!n)return[[r[0],e[1],r[2],e[3]]];if(e[0]<r[0])return[[e[0]+i,e[1],r[2],e[3]],[r[0],e[1],e[2],e[3]]];if(e[2]>r[2])return[[e[0],e[1],r[2],e[3]],[r[0],e[1],e[2]-i,e[3]]]}return[e]}const TP={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};const LP=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||TP[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},CP=6378137,EP=Math.PI*CP,DP=[-EP,-EP,EP,EP],AP=[-180,-85,180,85],$P=CP*Math.log(Math.tan(Math.PI/2));class PP extends LP{constructor(e){super({code:e,units:"m",extent:DP,global:!0,worldExtent:AP,getPointResolution:function(e,t){return e/Math.cosh(t[1]/CP)}})}}const RP=[new PP("EPSG:3857"),new PP("EPSG:102100"),new PP("EPSG:102113"),new PP("EPSG:900913"),new PP("http://www.opengis.net/def/crs/EPSG/0/3857"),new PP("http://www.opengis.net/gml/srs/epsg.xml#3857")];function OP(e,t,n,r){const i=e.length;n=n>1?n:2,r=r??n,void 0===t&&(t=n>2?e.slice():new Array(i));for(let n=0;n<i;n+=r){t[n]=EP*e[n]/180;let r=CP*Math.log(Math.tan(Math.PI*(+e[n+1]+90)/360));r>$P?r=$P:r<-$P&&(r=-$P),t[n+1]=r}return t}function IP(e,t,n,r){const i=e.length;n=n>1?n:2,r=r??n,void 0===t&&(t=n>2?e.slice():new Array(i));for(let n=0;n<i;n+=r)t[n]=180*e[n]/EP,t[n+1]=360*Math.atan(Math.exp(e[n+1]/CP))/Math.PI-90;return t}const FP=[-180,-90,180,90],NP=6378137*Math.PI/180;class YP extends LP{constructor(e,t){super({code:e,units:"degrees",extent:FP,axisOrientation:t,global:!0,metersPerUnit:NP,worldExtent:FP})}}const jP=[new YP("CRS:84"),new YP("EPSG:4326","neu"),new YP("urn:ogc:def:crs:OGC:1.3:CRS84"),new YP("urn:ogc:def:crs:OGC:2:84"),new YP("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new YP("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new YP("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let HP={};let zP={};function UP(e,t,n){const r=e.getCode(),i=t.getCode();r in zP||(zP[r]={}),zP[r][i]=n}function WP(e,t){let n;return e in zP&&t in zP[e]&&(n=zP[e][t]),n}function GP(e,t,n){const r=void 0!==n?e.toFixed(n):""+e;let i=r.indexOf(".");return i=-1===i?r.length:i,i>t?r:new Array(1+t-i).join("0")+r}function qP(e,t){const n=(""+e).split("."),r=(""+t).split(".");for(let e=0;e<Math.max(n.length,r.length);e++){const t=parseInt(n[e]||"0",10),i=parseInt(r[e]||"0",10);if(t>i)return 1;if(i>t)return-1}return 0}function BP(e,t){const n=t.getRadius(),r=t.getCenter(),i=r[0],o=r[1];let s=e[0]-i;const a=e[1]-o;0===s&&0===a&&(s=1);const l=Math.sqrt(s*s+a*a);return[i+n*s/l,o+n*a/l]}function VP(e,t){const n=e[0],r=e[1],i=t[0],o=t[1],s=i[0],a=i[1],l=o[0],c=o[1],u=l-s,h=c-a,d=0===u&&0===h?0:(u*(n-s)+h*(r-a))/(u*u+h*h||0);let f,p;return d<=0?(f=s,p=a):d>=1?(f=l,p=c):(f=s+d*u,p=a+d*h),[f,p]}function XP(e,t){let n=!0;for(let r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function KP(e,t){const n=Math.cos(t),r=Math.sin(t),i=e[0]*n-e[1]*r,o=e[1]*n+e[0]*r;return e[0]=i,e[1]=o,e}function JP(e,t){const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function ZP(e,t){return Math.sqrt(JP(e,t))}function QP(e,t){if(t.canWrapX()){const n=vP(t.getExtent()),r=eR(e,t,n);r&&(e[0]-=r*n)}return e}function eR(e,t,n){const r=t.getExtent();let i=0;return t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(n=n||vP(r),i=Math.floor((e[0]-r[0])/n)),i}const tR=6371008.8;function nR(e,t,n){n=n||tR;const r=ht(e[1]),i=ht(t[1]),o=(i-r)/2,s=ht(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function rR(e,t){let n=0;const r=e.length;let i=e[r-1][0],o=e[r-1][1];for(let t=0;t<r;t++){const r=e[t][0],s=e[t][1];n+=ht(r-i)*(2+Math.sin(ht(o))+Math.sin(ht(s))),i=r,o=s}return n*t*t/2}function iR(e,t){const n=(t=t||{}).radius||tR,r=t.projection||"EPSG:3857",i=e.getType();"GeometryCollection"!==i&&(e=e.clone().transform(r,"EPSG:4326"));let o,s,a,l,c,u,h=0;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(o=e.getCoordinates(),h=Math.abs(rR(o[0],n)),a=1,l=o.length;a<l;++a)h-=Math.abs(rR(o[a],n));break;case"MultiPolygon":for(o=e.getCoordinates(),a=0,l=o.length;a<l;++a)for(s=o[a],h+=Math.abs(rR(s[0],n)),c=1,u=s.length;c<u;++c)h-=Math.abs(rR(s[c],n));break;case"GeometryCollection":{const n=e.getGeometries();for(a=0,l=n.length;a<l;++a)h+=iR(n[a],t);break}default:throw new Error("Unsupported geometry type: "+i)}return h}function oR(e,t,n,r){r=r||tR;const i=ht(e[1]),o=ht(e[0]),s=t/r,a=Math.asin(Math.sin(i)*Math.cos(s)+Math.cos(i)*Math.sin(s)*Math.cos(n));return[ut(o+Math.atan2(Math.sin(n)*Math.sin(s)*Math.cos(i),Math.cos(s)-Math.sin(i)*Math.sin(a))),ut(a)]}const sR={info:1,warn:2,error:3,none:4};let aR=sR.info;function lR(...e){aR>sR.warn||console.warn(...e)}let cR=!0;function uR(e){cR=!(void 0===e||e)}function hR(e,t){if(void 0!==t)for(let n=0,r=e.length;n<r;++n)t[n]=e[n];else t=e.slice();return t}function dR(e,t){if(void 0!==t&&e!==t){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];e=t}return e}function fR(e){!function(e,t){HP[e]=t}(e.getCode(),e),UP(e,e,hR)}function pR(e){return"string"==typeof e?HP[t=e]||HP[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function mR(e,t,n,r){let i;const o=(e=pR(e)).getPointResolutionFunc();if(o){if(i=o(t,n),r&&r!==e.getUnits()){const t=e.getMetersPerUnit();t&&(i=i*t/TP[r])}}else{const o=e.getUnits();if("degrees"==o&&!r||"degrees"==r)i=t;else{const s=wR(e,pR("EPSG:4326"));if(s===dR&&"degrees"!==o)i=t*e.getMetersPerUnit();else{let e=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];e=s(e,e,2);i=(nR(e.slice(0,2),e.slice(2,4))+nR(e.slice(4,6),e.slice(6,8)))/2}const a=r?TP[r]:e.getMetersPerUnit();void 0!==a&&(i/=a)}}return i}function gR(e){!function(e){e.forEach(fR)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&UP(t,e,hR)}))}))}function _R(e,t){return e?"string"==typeof e?pR(e):e:pR(t)}function yR(e){return function(t,n,r,i){const o=t.length;r=void 0!==r?r:2,i=i??r,n=void 0!==n?n:new Array(o);for(let s=0;s<o;s+=i){const o=e(t.slice(s,s+r)),a=o.length;for(let e=0,r=i;e<r;++e)n[s+e]=e>=a?t[s+e]:o[e]}return n}}function bR(e,t,n,r){const i=pR(e),o=pR(t);UP(i,o,yR(n)),UP(o,i,yR(r))}function vR(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return n;return wR(e,t)===hR&&n}function wR(e,t){let n=WP(e.getCode(),t.getCode());return n||(n=dR),n}function xR(e,t){return wR(pR(e),pR(t))}function MR(e,t,n){return xR(t,n)(e,void 0,e.length)}function SR(e,t,n,r){return MP(e,xR(t,n),void 0,r)}let kR=null;function TR(){return kR}function LR(e,t){return kR?MR(e,t,kR):e}function CR(e,t){return kR?MR(e,kR,t):(cR&&!XP(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(cR=!1,lR("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function ER(e,t){return kR?SR(e,t,kR):e}function DR(e,t){return kR?SR(e,kR,t):e}function AR(e,t){if(!kR)return e;const n=pR(t).getMetersPerUnit(),r=kR.getMetersPerUnit();return n&&r?e*n/r:e}function $R(e,t,n){return function(r){let i,o;if(e.canWrapX()){const t=e.getExtent(),s=vP(t);o=eR(r=r.slice(0),e,s),o&&(r[0]=r[0]-o*s),r[0]=at(r[0],t[0],t[2]),r[1]=at(r[1],t[1],t[3]),i=n(r)}else i=n(r);return o&&t.canWrapX()&&(i[0]+=o*vP(t.getExtent())),i}}var PR,RR,OR;function IR(e,t,n,r,i,o,s){o=o||[],s=s||2;let a=0;for(let l=t;l<n;l+=r){const t=e[l],n=e[l+1];o[a++]=i[0]*t+i[2]*n+i[4],o[a++]=i[1]*t+i[3]*n+i[5];for(let t=2;t<s;t++)o[a++]=e[l+t]}return o&&o.length!=a&&(o.length=a),o}function FR(e,t,n,r,i,o,s){s=s||[];const a=Math.cos(i),l=Math.sin(i),c=o[0],u=o[1];let h=0;for(let i=t;i<n;i+=r){const t=e[i]-c,n=e[i+1]-u;s[h++]=c+t*a-n*l,s[h++]=u+t*l+n*a;for(let t=i+2;t<i+r;++t)s[h++]=e[t]}return s&&s.length!=h&&(s.length=h),s}gR(RP),gR(jP),PR=RP,RR=OP,OR=IP,jP.forEach((function(e){PR.forEach((function(t){UP(e,t,RR),UP(t,e,OR)}))}));const NR=[1,0,0,1,0,0];const YR=class extends In{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=rn(((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)}))}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return We()}closestPointXY(e,t,n,r){return We()}containsXY(e,t){const n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return We()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&tP(e),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,e)}rotate(e,t){We()}scale(e,t,n){We()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return We()}getType(){return We()}applyTransform(e){We()}intersectsExtent(e){return We()}translate(e,t){We()}transform(e,t){const n=pR(e),r="tile-pixels"==n.getUnits()?function(e,r,i){const o=n.getExtent(),s=n.getWorldExtent(),a=gP(s)/gP(o);return O$(NR,s[0],s[3],a,-a,0,0,0),IR(e,0,e.length,i,NR,r),xR(n,t)(e,r,i)}:xR(n,t);return this.applyTransform(r),this}};function jR(e){let t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}function HR(e){let t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}const zR=class extends YR{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return rP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return We()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=HR(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){We()}setLayout(e,t,n){let r;if(e)r=HR(e);else{for(let e=0;e<n;++e){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}r=t.length,e=jR(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();FR(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){void 0===t&&(t=e),n||(n=fP(this.getExtent()));const r=this.getFlatCoordinates();if(r){const i=this.getStride();!function(e,t,n,r,i,o,s,a){a=a||[];const l=s[0],c=s[1];let u=0;for(let s=t;s<n;s+=r){const t=e[s]-l,n=e[s+1]-c;a[u++]=l+i*t,a[u++]=c+o*n;for(let t=s+2;t<s+r;++t)a[u++]=e[t]}a&&a.length!=u&&(a.length=u)}(r,0,r.length,i,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();!function(e,t,n,r,i,o,s){s=s||[];let a=0;for(let l=t;l<n;l+=r){s[a++]=e[l]+i,s[a++]=e[l+1]+o;for(let t=l+2;t<l+r;++t)s[a++]=e[t]}s&&s.length!=a&&(s.length=a)}(n,0,n.length,r,e,t,n),this.changed()}}};function UR(e,t,n,r){for(let r=0,i=n.length;r<i;++r)e[t++]=n[r];return t}function WR(e,t,n,r){for(let i=0,o=n.length;i<o;++i){const o=n[i];for(let n=0;n<r;++n)e[t++]=o[n]}return t}function GR(e,t,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=WR(e,t,n[s],r);i[o++]=a,t=a}return i.length=o,i}function qR(e,t,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=GR(e,t,n[s],r,i[o]);0===a.length&&(a[0]=t),i[o++]=a,t=a[a.length-1]}return i.length=o,i}class BR extends zR{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new BR(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const i=this.flatCoordinates,o=ct(e,t,i[0],i[1]);if(o<r){const e=this.stride;for(let t=0;t<e;++t)n[t]=i[t];return n.length=e,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return nP(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return J$(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=UR(this.flatCoordinates,0,e,this.stride),this.changed()}}const VR=BR,XR=class{constructor(e){this.manager_=e,this.scaleX=null,this.updateScaleX=e=>e,this.scaleY=null,this.updateScaleY=e=>e,this.material=null,this.width_=0,this.height_=0,this.previousDomainX=[],this.moved_=!1}drawPoints(e){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");let t=-1;const n=e.distance.length;let r,i;const o=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node().getContext("2d");if(null===o)throw new Error("Missing ctx");const s=this.manager_.config.serverConfig;for(;++t<n;){const n=e.distance[t],a=e.altitude[t],l=e.color_packed[t],c=e.intensity[t],u=e.classification[t];s.classification_colors[u]&&s.classification_colors[u].visible&&(r=this.updateScaleX(n),i=this.updateScaleY(a),o.beginPath(),o.moveTo(r,i),"COLOR_PACKED"==this.material?o.fillStyle=`RGB(${l[0]}, ${l[1]}, ${l[2]})`:"INTENSITY"==this.material?o.fillStyle=`RGB(${c}, ${c}, ${c})`:"CLASSIFICATION"==this.material?o.fillStyle=`RGB(${s.classification_colors[u].color})`:o.fillStyle=s.default_color,o.arc(r,i,s.point_size,0,2*Math.PI,!1),o.fill())}}setupPlot(e,t){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");const n=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")),r=n.node(),i=r.getContext("2d");if(null===i)throw new Error("Missing ctx");i.clearRect(0,0,r.getBoundingClientRect().width,r.getBoundingClientRect().height);const o=this.manager_.config.clientConfig.margin,s=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container")).node(),a=s.getBoundingClientRect().width,l=s.getBoundingClientRect().height;this.width_=a-(o.left+o.right),this.height_=l-(o.top+o.bottom),this.material=this.manager_.config.serverConfig.default_attribute,n.attr("height",this.height_).attr("width",this.width_).style("background-color","black").style("z-index",0).style("position","absolute").style("margin-left",`${o.left.toString()}px`).style("margin-top",`${o.top.toString()}px`);const c=e[1]-e[0],u=t[1]-t[0],h=c/u,d=this.width_/this.height_;let f;if(h<d){const e=c*(d/h);this.scaleX=mE(),this.scaleX.domain([0,e]),this.scaleX.range([0,this.width_]),this.scaleY=mE(),this.scaleY.domain(t),this.scaleY.range([this.height_,0])}else{f=h/d;const n=u*f,r=(t[1]+t[0])/2;this.scaleX=mE(),this.scaleX.domain(e),this.scaleX.range([0,this.width_]),this.scaleY=mE(),this.scaleY.domain([r-n/2,r+n/2]),this.scaleY.range([this.height_,0])}const p=S$().scaleExtent([-10,100]).translateExtent([[0,0],[this.width_,this.height_]]).extent([[0,0],[this.width_,this.height_]]).on("zoom",(e=>this.zoomed(e)));p.on("end",(e=>this.zoomEnd(e))),this.previousDomainX=this.scaleX.domain(),this.updateScaleX=this.scaleX,this.updateScaleY=this.scaleY;const m=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container svg.lidar-svg"));m.call(p).on("dblclick.zoom",null),m.selectAll("*").remove(),m.attr("width",this.width_+o.left).attr("height",this.height_+o.top+o.bottom),m.on("mousemove",(e=>{this.pointHighlight(e)}));const g=zx(this.scaleX),_=Ux(this.scaleY).tickSize(-this.width_);m.select(".y.axis").selectAll("g.tick line").style("stroke","#b7cff7"),m.append("g").attr("class","y axis").call(_),m.append("g").attr("class","x axis").call(g),m.select(".y.axis").attr("transform",`translate(${o.left}, ${o.top})`),m.select(".x.axis").attr("transform",`translate(${o.left}, ${this.height_+o.top})`),m.select(".y.axis").selectAll("g.tick line").style("opacity","0.5").style("stroke","#b7cff7")}zoomEnd(e){if(e.sourceEvent&&!1===this.moved_)return void this.manager_.updateData();this.moved_=!1;const t=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node().getContext("2d");if(null===t)throw new Error("Missing ctx");t.clearRect(0,0,this.width_,this.height_),this.manager_.updateData()}zoomed(e){if(!this.manager_.measure)throw new Error("Missing manager.measure");if(!this.scaleX)throw new Error("Missing scaleX");if(!this.scaleY)throw new Error("Missing scaleY");if(e.sourceEvent&&"mousemove"===e.sourceEvent.type&&(this.moved_=!0,0==e.sourceEvent.movementX&&0==e.sourceEvent.movementY))return;this.manager_.measure.clearMeasure();const t=e.transform,n=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container svg.lidar-svg")),r=zx(this.scaleX),i=Ux(this.scaleY).tickSize(-this.width_),o=t.rescaleX(this.scaleX),s=t.rescaleY(this.scaleY);n.select(".x.axis").call(r.scale(o)),n.select(".y.axis").call(i.scale(s));const a=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node().getContext("2d");if(null===a)throw new Error("Missing ctx");a.clearRect(0,0,this.width_,this.height_),n.select(".y.axis").selectAll("g.tick line").style("opacity","0.5").style("stroke","#b7cff7"),this.updateScaleX=o,this.updateScaleY=s}pointHighlight(e){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");const t=document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container "),n=cS(t.querySelector("svg.lidar-svg")),r=cS(t.querySelector(".lidar-info")),i=this.manager_.config.serverConfig.point_size,o=this.manager_.config.clientConfig.margin,s=this.manager_.config.clientConfig.tolerance||0,a=dS(e,cS(t.querySelector(".lidar-canvas")).node()),l=this.manager_.config.serverConfig.classification_colors;let c,u;const h=this.manager_.utils.getClosestPoint(this.manager_.profilePoints,a[0],a[1],s,this.updateScaleX,this.updateScaleY,l),d=this.manager_.lidarPointHighlight.getSource();if(null!=h){c=this.updateScaleX(h.distance)+o.left,u=this.updateScaleY(h.altitude)+o.top,n.selectAll("#highlightCircle").remove(),n.append("circle").attr("id","highlightCircle").attr("cx",c).attr("cy",u).attr("r",i+1).style("fill","orange");const e=l[h.classification||-1]||{},t=this.getInfoHTML(h,e,1);r.html(t),this.manager_.cartoHighlight.setElement(void 0);const s=document.createElement("div");s.className+="tooltip gmf-tooltip-measure",s.innerHTML=t,this.manager_.cartoHighlight.setElement(s),this.manager_.cartoHighlight.setPosition([h.coords[0],h.coords[1]]),d.clear();const a=new VR([h.coords[0],h.coords[1]]),f=new L$(a);void 0!==e.color&&f.setStyle(new Sr({image:new dr({fill:new pr({color:`rgba(${e.color}, 1)`}),radius:3})})),d.addFeature(f)}else d.clear(),n.select("#highlightCircle").remove(),r.html(""),this.manager_.cartoHighlight.setPosition(void 0)}getInfoHTML(e,t,n){const r=[],i=e.distance,o=e.altitude,s=V.t(t.name),a=e.intensity;if(void 0!==i){const e=V.t("Distance: ");r.push(`${e+this.formatDecimals(i,n)}`)}if(void 0!==o){const e=V.t("Altitude: ");r.push(`${e+this.formatDecimals(o,n)}`)}if(s.length>0){const e=V.t("Classification: ");r.push(`${e+s}`)}if(void 0!==a){const e=V.t("Intensity: ");r.push(`${e+this.formatDecimals(a,0)}`)}return r.join("</br>")}formatDecimals(e,t){return Number((Math.round(100*e)/100).toFixed(t))}changeStyle(e){this.material=e;const t=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lidar-canvas")).node(),n=t.getContext("2d");if(null===n)throw new Error("Missing ctx");n.clearRect(0,0,t.width,t.height),this.drawPoints(this.manager_.profilePoints)}setClassActive(e,t){if(!this.manager_.config)throw new Error("Missing manager.config");if(!this.manager_.config.serverConfig)throw new Error("Missing manager_.config.serverConfig");this.manager_.config.serverConfig.classification_colors=e,this.changeStyle(t)}};function KR(e,t,n,r,i,o,s){const a=e[t],l=e[t+1],c=e[n]-a,u=e[n+1]-l;let h;if(0===c&&0===u)h=t;else{const d=((i-a)*c+(o-l)*u)/(c*c+u*u);if(d>1)h=n;else{if(d>0){for(let i=0;i<r;++i)s[i]=ft(e[t+i],e[n+i],d);return void(s.length=r)}h=t}}for(let t=0;t<r;++t)s[t]=e[h+t];s.length=r}function JR(e,t,n,r,i){let o=e[t],s=e[t+1];for(t+=r;t<n;t+=r){const n=e[t],r=e[t+1],a=ct(o,s,n,r);a>i&&(i=a),o=n,s=r}return i}function ZR(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];i=JR(e,t,s,r,i),t=s}return i}function QR(e,t,n,r,i,o,s,a,l,c,u){if(t==n)return c;let h,d;if(0===i){if(d=ct(s,a,e[t],e[t+1]),d<c){for(h=0;h<r;++h)l[h]=e[t+h];return l.length=r,d}return c}u=u||[NaN,NaN];let f=t+r;for(;f<n;)if(KR(e,f-r,f,r,s,a,u),d=ct(s,a,u[0],u[1]),d<c){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(d)-Math.sqrt(c))/i|0,1);if(o&&(KR(e,n-r,t,r,s,a,u),d=ct(s,a,u[0],u[1]),d<c)){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r}return c}function eO(e,t,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];c=QR(e,t,d,r,i,o,s,a,l,c,u),t=d}return c}function tO(e,t,n,r,i,o,s){const a=(n-t)/r;if(a<3){for(;t<n;t+=r)o[s++]=e[t],o[s++]=e[t+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,n-r];let u=0;for(;c.length>0;){const n=c.pop(),o=c.pop();let s=0;const a=e[o],h=e[o+1],d=e[n],f=e[n+1];for(let t=o+r;t<n;t+=r){const n=lt(e[t],e[t+1],a,h,d,f);n>s&&(u=t,s=n)}s>i&&(l[(u-t)/r]=1,o+r<u&&c.push(o,u),u+r<n&&c.push(u,n))}for(let n=0;n<a;++n)l[n]&&(o[s++]=e[t+n*r],o[s++]=e[t+n*r+1]);return s}function nO(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];s=tO(e,t,c,r,i,o,s),a.push(s),t=c}return s}function rO(e,t){return t*Math.round(e/t)}function iO(e,t,n,r,i,o,s){if(t==n)return s;let a,l,c=rO(e[t],i),u=rO(e[t+1],i);t+=r,o[s++]=c,o[s++]=u;do{if(a=rO(e[t],i),l=rO(e[t+1],i),(t+=r)==n)return o[s++]=a,o[s++]=l,s}while(a==c&&l==u);for(;t<n;){const n=rO(e[t],i),h=rO(e[t+1],i);if(t+=r,n==a&&h==l)continue;const d=a-c,f=l-u,p=n-c,m=h-u;d*m==f*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(f<0&&m<f||f==m||f>0&&m>f)?(a=n,l=h):(o[s++]=a,o[s++]=l,c=a,u=l,a=n,l=h)}return o[s++]=a,o[s++]=l,s}function oO(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];s=iO(e,t,c,r,i,o,s),a.push(s),t=c}return s}function sO(e,t,n,r,i){let o;for(t+=r;t<n;t+=r)if(o=i(e.slice(t-r,t),e.slice(t,t+r)),o)return o;return!1}function aO(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=t;s<n;s+=r)i[o++]=e.slice(s,s+r);return i.length=o,i}function lO(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];i[o++]=aO(e,t,a,r,i[o]),t=a}return i.length=o,i}function cO(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];i[o++]=1===a.length&&a[0]===t?[]:lO(e,t,a,r,i[o]),t=a[a.length-1]}return i.length=o,i}function uO(e,t,n,r,i,o,s){let a,l;const c=(n-t)/r;if(1===c)a=t;else if(2===c)a=t,l=i;else if(0!==c){let o=e[t],s=e[t+1],c=0;const u=[0];for(let i=t+r;i<n;i+=r){const t=e[i],n=e[i+1];c+=Math.sqrt((t-o)*(t-o)+(n-s)*(n-s)),u.push(c),o=t,s=n}const h=i*c,d=function(e,t,n){let r,i;n=n||Bt;let o=0,s=e.length,a=!1;for(;o<s;)r=o+(s-o>>1),i=+n(e[r],t),i<0?o=r+1:(s=r,a=!i);return a?o:~o}(u,h);d<0?(l=(h-u[-d-2])/(u[-d-1]-u[-d-2]),a=t+(-d-2)*r):a=t+d*r}s=s>1?s:2,o=o||new Array(s);for(let t=0;t<s;++t)o[t]=void 0===a?NaN:void 0===l?e[a+t]:ft(e[a+t],e[a+r+t],l);return o}function hO(e,t,n,r,i,o){if(n==t)return null;let s;if(i<e[t+r-1])return o?(s=e.slice(t,t+r),s[r-1]=i,s):null;if(e[n-1]<i)return o?(s=e.slice(n-r,n),s[r-1]=i,s):null;if(i==e[t+r-1])return e.slice(t,t+r);let a=t/r,l=n/r;for(;a<l;){const t=a+l>>1;i<e[(t+1)*r-1]?l=t:a=t+1}const c=e[a*r-1];if(i==c)return e.slice((a-1)*r,(a-1)*r+r);const u=(i-c)/(e[(a+1)*r-1]-c);s=[];for(let t=0;t<r-1;++t)s.push(ft(e[(a-1)*r+t],e[a*r+t],u));return s.push(i),s}function dO(e,t,n,r,i){return!cP(i,(function(i){return!fO(e,t,n,r,i[0],i[1])}))}function fO(e,t,n,r,i,o){let s=0,a=e[n-r],l=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];l<=o?r>o&&(n-a)*(o-l)-(i-a)*(r-l)>0&&s++:r<=o&&(n-a)*(o-l)-(i-a)*(r-l)<0&&s--,a=n,l=r}return 0!==s}function pO(e,t,n,r,i,o){if(0===n.length)return!1;if(!fO(e,t,n[0],r,i,o))return!1;for(let t=1,s=n.length;t<s;++t)if(fO(e,n[t-1],n[t],r,i,o))return!1;return!0}function mO(e,t,n,r,i){const o=aP([1/0,1/0,-1/0,-1/0],e,t,n,r);return!!wP(i,o)&&(!!K$(i,o)||(o[0]>=i[0]&&o[2]<=i[2]||(o[1]>=i[1]&&o[3]<=i[3]||sO(e,t,n,r,(function(e,t){return function(e,t,n){let r=!1;const i=Z$(e,t),o=Z$(e,n);if(i===j$||o===j$)r=!0;else{const s=e[0],a=e[1],l=e[2],c=e[3],u=t[0],h=t[1],d=n[0],f=n[1],p=(f-h)/(d-u);let m,g;o&H$&&!(i&H$)&&(m=d-(f-c)/p,r=m>=s&&m<=l),r||!(o&z$)||i&z$||(g=f-(d-l)*p,r=g>=a&&g<=c),r||!(o&U$)||i&U$||(m=d-(f-a)/p,r=m>=s&&m<=l),r||!(o&W$)||i&W$||(g=f-(d-s)*p,r=g>=a&&g<=c)}return r}(i,e,t)})))))}function gO(e,t,n,r,i){return!!mO(e,t,n,r,i)||(!!fO(e,t,n,r,i[0],i[1])||(!!fO(e,t,n,r,i[0],i[3])||(!!fO(e,t,n,r,i[2],i[1])||!!fO(e,t,n,r,i[2],i[3]))))}function _O(e,t,n,r,i){if(!gO(e,t,n[0],r,i))return!1;if(1===n.length)return!0;for(let t=1,o=n.length;t<o;++t)if(dO(e,n[t-1],n[t],r,i)&&!mO(e,n[t-1],n[t],r,i))return!1;return!0}function yO(e,t,n,r){let i=e[t],o=e[t+1],s=0;for(let a=t+r;a<n;a+=r){const t=e[a],n=e[a+1];s+=Math.sqrt((t-i)*(t-i)+(n-o)*(n-o)),i=t,o=n}return s}class bO extends zR{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){Jt(this.flatCoordinates,e),this.changed()}clone(){const e=new bO(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<V$(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(JR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),QR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,r))}forEachSegment(e){return sO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,hO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return aO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return uO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return yO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=tO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new bO(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return mO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=WR(this.flatCoordinates,0,e,this.stride),this.changed()}}const vO=bO;var wO=i(4213);const xO=class{clipLineByMeasure(e,t,n,r,i){const o=new vO([]);let s=0,a=0;const l=n.getLength(),c=r/l,u=i/l;let h=n.getCoordinates().length-1,d=0;n.forEachSegment(((e,t)=>{d+=1;const l=new vO([e,t]);a+=l.getLength(),r==s?o.appendCoordinate(e):r>s&&r<a&&o.appendCoordinate(n.getCoordinateAt(c)),s>r&&s<i&&o.appendCoordinate(e),i==a?o.appendCoordinate(t):(i>s&&i<a||i>s&&i>a&&d===h)&&o.appendCoordinate(n.getCoordinateAt(u)),s+=l.getLength()}));const f=new L$({geometry:o}),p=new Sr({stroke:new gr({color:"rgba(255,0,0,1)",width:2,lineCap:"square"})});let m=0,g=0;h=o.getCoordinates().length-1;let _=1;o.forEachSegment(((e,t)=>{if(1==_){const n=t[0]-e[0],r=t[1]-e[1];m=Math.atan2(n,r)}if(_==h){const n=t[0]-e[0],r=t[1]-e[1];g=Math.atan2(n,r)}_+=1}));const y=[p],b=o.getLastCoordinate(),v=o.getFirstCoordinate();return y.push(new Sr({geometry:new VR(v),image:new ur({fill:new pr({color:"rgba(255, 0, 0, 1)"}),stroke:new gr({color:"rgba(255,0,0,1)",width:1,lineCap:"square"}),points:3,radius:5,rotation:m,angle:Math.PI/3})}),new Sr({geometry:new VR(b),image:new ur({fill:new pr({color:"rgba(255, 0, 0, 1)"}),stroke:new gr({color:"rgba(255,0,0,1)",width:1,lineCap:"square"}),points:3,radius:5,rotation:g,angle:4*Math.PI/3})})),{clippedLine:o.getCoordinates(),distanceOffset:r,bufferGeom:f,bufferStyle:y}}getNiceLOD(e,t){let n=0,r=0;for(const i in t){const o=parseInt(i,10);e<o&&t[o].max>n&&(n=t[o].max,r=t[o].width)}return{maxLOD:n,width:r}}downloadProfileAsImageFile(e){const t=document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container "),n=cS(t.querySelector("svg.lidar-svg")),r=parseInt(n.attr("width"),10),i=parseInt(n.attr("height"),10),o=e.margin,s=document.createElement("canvas");s.style.display="none",s.width=r,s.height=i;const a=s.getContext("2d");if(!a)throw new Error("Missing ctx");a.fillStyle="white",a.fillRect(0,0,r,i);const l=cS(t.querySelector(".lidar-canvas")).node();a.drawImage(l,o.left,o.top);const c=new Image,u=new XMLSerializer,h=n.node(),d=u.serializeToString(h),f="lidare_profile_for_export_uid";c.id=f,c.src=`data:image/svg+xml;base64,${btoa(d)}`,c.style.setProperty("display","none");const p=document.getElementsByTagName("body")[0];c.onload=()=>{a.drawImage(c,0,0,r,i);const e=document.getElementById(f);if(!e)throw new Error("Missing elImg");p.removeChild(e),s.toBlob((e=>{e||window.alert(V.t("No graph to export in PNG!")),(0,wO.saveAs)(e,"LIDAR_profile.png")}))},p.appendChild(c)}getFlatPointsByDistance(e){const t=[];for(let n=0;n<e.distance.length;n++){const r={distance:e.distance[n],altitude:e.altitude[n],color_packed:e.color_packed[n],intensity:e.intensity[n],classification:e.classification[n],coords:e.coords[n]};t.push(r)}return t.sort(((e,t)=>e.distance-t.distance)),t}getCSVData(e){return e.map((e=>{const t={};for(const n in e){const r=e[n];if("altitude"==n){const r=e?.altitude;t[n]=r?r.toFixed(4):NaN}else t[n]="color_packed"==n?(e.color_packed??[]).join(" "):"coords"==n?(e.coords??[]).join(" "):r}return t}))}arrayMax(e){return e.reduce(((e,t)=>Math.max(e,t)))}arrayMin(e){let t=1/0;for(const n of e)n<t&&(t=n);return t}getPytreeLinestring(e){const t=e.getCoordinates();let n="";for(const e of t){const t=e[0],r=e[1];n+=`{${Math.round(100*t)/100}, ${Math.round(100*r)/100}},`}return n.substr(0,n.length-1)}getClosestPoint(e,t,n,r,i,o,s){const a=e,l=r,c=[],u=[];for(let e=0;e<a.distance.length;e++)if(i(a.distance[e])<t+l&&i(a.distance[e])>t-l&&o(a.altitude[e])<n+l&&o(a.altitude[e])>n-l){const r=Math.sqrt(Math.pow(i(a.distance[e])-t,2)+Math.pow(o(a.altitude[e])-n,2)),l=s[a.classification[e]];l&&1==l.visible&&(u.push({distance:a.distance[e],altitude:a.altitude[e],classification:a.classification[e],color_packed:a.color_packed[e],intensity:a.intensity[e],coords:a.coords[e]}),c.push(r))}let h=null;if(u.length>0){const e=Math.min(...c),t=c.indexOf(e);h=-1!=t?u[t]:u[0]}return h}};function MO(e,t){let n=null;return function(...r){null!==n&&clearTimeout(n),n=window.setTimeout((()=>{n=null,e.apply(this,r)}),t)}}const SO="opacity",kO="visible",TO="extent",LO="zIndex",CO="maxResolution",EO="minResolution",DO="maxZoom",AO="minZoom",$O="source",PO="map";const RO=class extends In{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t[SO]=void 0!==e.opacity?e.opacity:1,_r("number"==typeof t[SO],"Layer opacity must be a number"),t[kO]=void 0===e.visible||e.visible,t[LO]=e.zIndex,t[CO]=void 0!==e.maxResolution?e.maxResolution:1/0,t[EO]=void 0!==e.minResolution?e.minResolution:0,t[AO]=void 0!==e.minZoom?e.minZoom:-1/0,t[DO]=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=at(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return We()}getLayerStatesArray(e){return We()}getExtent(){return this.get(TO)}getMaxResolution(){return this.get(CO)}getMinResolution(){return this.get(EO)}getMinZoom(){return this.get(AO)}getMaxZoom(){return this.get(DO)}getOpacity(){return this.get(SO)}getSourceState(){return We()}getVisible(){return this.get(kO)}getZIndex(){return this.get(LO)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(TO,e)}setMaxResolution(e){this.set(CO,e)}setMinResolution(e){this.set(EO,e)}setMaxZoom(e){this.set(DO,e)}setMinZoom(e){this.set(AO,e)}setOpacity(e){_r("number"==typeof e,"Layer opacity must be a number"),this.set(SO,e)}setVisible(e){this.set(kO,e)}setZIndex(e){this.set(LO,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},OO="prerender",IO="postrender",FO="precompose",NO="postcompose",YO="rendercomplete",jO=0,HO=1,zO={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},UO=256;function WO(e,t,n){return function(r,i,o,s,a){if(!r)return;if(!i&&!t)return r;const l=t?0:o[0]*i,c=t?0:o[1]*i,u=a?a[0]:0,h=a?a[1]:0;let d=e[0]+l/2+u,f=e[2]-l/2+u,p=e[1]+c/2+h,m=e[3]-c/2+h;d>f&&(d=(f+d)/2,f=d),p>m&&(p=(m+p)/2,m=p);let g=at(r[0],d,f),_=at(r[1],p,m);if(s&&n&&i){const e=30*i;g+=-e*Math.log(1+Math.max(0,d-r[0])/e)+e*Math.log(1+Math.max(0,r[0]-f)/e),_+=-e*Math.log(1+Math.max(0,p-r[1])/e)+e*Math.log(1+Math.max(0,r[1]-m)/e)}return[g,_]}}function GO(e){return e}function qO(e,t,n,r){const i=vP(t)/n[0],o=gP(t)/n[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function BO(e,t,n){let r=Math.min(e,t);return r*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/e-1))/50+1),at(r,n/2,2*t)}function VO(e,t,n,r,i){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=r?qO(e,r,a,i):e;return n&&l?BO(o,s,t):at(o,t,s)}}}function XO(e){if(void 0!==e)return 0}function KO(e){if(void 0!==e)return e}function JO(e){return Math.pow(e,3)}function ZO(e){return 1-JO(1-e)}function QO(e){return 3*e*e-2*e*e*e}function eI(e){return e}function tI(e,t,n,r){let i=0;const o=e[n-r],s=e[n-r+1];let a=0,l=0;for(;t<n;t+=r){const n=e[t]-o,r=e[t+1]-s;i+=l*n-a*r,a=n,l=r}return i/2}function nI(e,t,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];i+=tI(e,t,s,r),t=s}return i}class rI extends zR{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new rI(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<V$(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(JR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),QR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return tI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return aO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=tO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new rI(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=WR(this.flatCoordinates,0,e,this.stride),this.changed()}}const iI=rI;function oI(e,t,n,r,i,o,s){let a,l,c,u,h,d,f;const p=i[o+1],m=[];for(let i=0,o=n.length;i<o;++i){const o=n[i];for(u=e[o-r],d=e[o-r+1],a=t;a<o;a+=r)h=e[a],f=e[a+1],(p<=d&&f<=p||d<=p&&p<=f)&&(c=(p-d)/(f-d)*(h-u)+u,m.push(c)),u=h,d=f}let g=NaN,_=-1/0;for(m.sort(Bt),u=m[0],a=1,l=m.length;a<l;++a){h=m[a];const i=Math.abs(h-u);i>_&&(c=(u+h)/2,pO(e,t,n,r,c,p)&&(g=c,_=i)),u=h}return isNaN(g)&&(g=i[o]),s?(s.push(g,p,_),s):[g,p,_]}function sI(e,t,n,r,i){let o=[];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=oI(e,t,a,r,i,2*s,o),t=a[a.length-1]}return o}function aI(e,t,n,r){for(;t<n-r;){for(let i=0;i<r;++i){const o=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=o}t+=r,n-=r}}function lI(e,t,n,r){let i=0,o=e[n-r],s=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];i+=(n-o)*(r+s),o=n,s=r}return 0===i?void 0:i>0}function cI(e,t,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=lI(e,t,s,r);if(0===o){if(i&&a||!i&&!a)return!1}else if(i&&!a||!i&&a)return!1;t=s}return!0}function uI(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(!cI(e,t,s,r,i))return!1;s.length&&(t=s[s.length-1])}return!0}function hI(e,t,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=lI(e,t,s,r);(0===o?i&&a||!i&&!a:i&&!a||!i&&a)&&aI(e,t,s,r),t=s}return t}function dI(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o)t=hI(e,t,n[o],r,i);return t}function fI(e,t){const n=[];let r,i=0,o=0;for(let s=0,a=t.length;s<a;++s){const a=t[s],l=lI(e,i,a,2);if(void 0===r&&(r=l),l===r)n.push(t.slice(o,s+1));else{if(0===n.length)continue;n[n.length-1].push(t[o])}o=s+1,i=a}return n}class pI extends zR{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Jt(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new pI(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<V$(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ZR(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eO(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return pO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return nI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),hI(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,lO(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=fP(this.getExtent());this.flatInteriorPoint_=oI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new VR(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new iI(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=new iI(t.slice(i,s),e);r.push(a),i=s}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;cI(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=hI(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=oO(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new pI(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return _O(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=GR(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const mI=pI;function gI(e){if(xP(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],r=e[2],i=e[3],o=[t,n,t,i,r,i,r,n,t,n];return new pI(o,"XY",[o.length])}function _I(e,t,n){t=t||32;const r=e.getStride(),i=e.getLayout(),o=e.getCenter(),s=r*(t+1),a=new Array(s);for(let e=0;e<s;e+=r){a[e]=0,a[e+1]=0;for(let t=2;t<r;t++)a[e+t]=o[t]}const l=[a.length],c=new pI(a,i,l);return function(e,t,n,r){const i=e.getFlatCoordinates(),o=e.getStride(),s=i.length/o-1,a=r||0;for(let e=0;e<=s;++e){const r=e*o,l=a+2*dt(e,s)*Math.PI/s;i[r]=t[0]+n*Math.cos(l),i[r+1]=t[1]+n*Math.sin(l)}e.changed()}(c,o,e.getRadius(),n),c}function yI(e,t){setTimeout((function(){e(t)}),0)}function bI(e){return!(e.sourceCenter&&e.targetCenter&&!XP(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function vI(e,t,n,r,i){const o=Math.cos(-i);let s=Math.sin(-i),a=e[0]*o-e[1]*s,l=e[1]*o+e[0]*s;a+=(t[0]/2-n[0])*r,l+=(n[1]-t[1]/2)*r,s=-s;return[a*o-l*s,l*o+a*s]}const wI=class extends In{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=_R(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&uR(),e.center&&(e.center=CR(e.center,this.projection_)),e.extent&&(e.extent=DR(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const e in zO)delete t[e];this.setProperties(t,!0);const n=function(e){let t,n,r;const i=28,o=2;let s=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:i;const l=void 0!==e.zoomFactor?e.zoomFactor:o,c=void 0!==e.multiWorld&&e.multiWorld,u=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,h=void 0!==e.showFullExtent&&e.showFullExtent,d=_R(e.projection,"EPSG:3857"),f=d.getExtent();let p=e.constrainOnlyCenter,m=e.extent;c||m||!d.isGlobal()||(p=!1,m=f);if(void 0!==e.resolutions){const i=e.resolutions;n=i[s],r=void 0!==i[a]?i[a]:i[i.length-1],t=e.constrainResolution?function(e,t,n,r){return t=void 0===t||t,function(i,o,s,a){if(void 0!==i){const l=e[0],c=e[e.length-1],u=n?qO(l,n,s,r):l;if(a)return t?BO(i,u,c):at(i,c,u);const h=Math.min(u,i),d=Math.floor(Xt(e,h,o));return e[d]>u&&d<e.length-1?e[d+1]:e[d]}}}(i,u,!p&&m,h):VO(n,r,u,!p&&m,h)}else{const c=(f?Math.max(vP(f),gP(f)):360*TP.degrees/d.getMetersPerUnit())/UO/Math.pow(o,0),g=c/Math.pow(o,i-0);n=e.maxResolution,void 0!==n?s=0:n=c/Math.pow(l,s),r=e.minResolution,void 0===r&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(l,a):c/Math.pow(l,a):g),a=s+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-s),t=e.constrainResolution?function(e,t,n,r,i,o){return r=void 0===r||r,n=void 0!==n?n:0,function(s,a,l,c){if(void 0!==s){const u=i?qO(t,i,l,o):t;if(c)return r?BO(s,u,n):at(s,n,u);const h=1e-9,d=Math.ceil(Math.log(t/u)/Math.log(e)-h),f=-a*(.5-h)+.5,p=Math.min(u,s),m=Math.floor(Math.log(t/p)/Math.log(e)+f),g=Math.max(d,m);return at(t/Math.pow(e,g),n,u)}}}(l,n,r,u,!p&&m,h):VO(n,r,u,!p&&m,h)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=function(e){if(void 0!==e.extent){const t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return WO(e.extent,e.constrainOnlyCenter,t)}const t=_R(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,WO(e,!1,!1)}return GO}(e),i=n.constraint,o=function(e){const t=void 0===e.enableRotation||e.enableRotation;if(t){const t=e.constrainRotation;return void 0===t||!0===t?function(e){const t=void 0===e?ht(5):e;return function(e,n){return n||void 0===e?e:Math.abs(e)<=t?0:e}}():!1===t?KO:"number"==typeof t?function(e){const t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(t):KO}return XO}(e);this.constraints_={center:r,resolution:i,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const i=this.getResolution(),o=i/2*(r[3]-t[3]+t[1]-r[1]),s=i/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let e=0;e<t.length;++e){let n=arguments[e];n.center&&(n=Object.assign({},n),n.center=CR(n.center,this.getProjection())),n.anchor&&(n=Object.assign({},n),n.anchor=CR(n.anchor,this.getProjection())),t[e]=n}this.animateInternal.apply(this,t)}animateInternal(e){let t,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const e=arguments[r];e.center&&this.setCenterInternal(e.center),void 0!==e.zoom?this.setZoom(e.zoom):e.resolution&&this.setResolution(e.resolution),void 0!==e.rotation&&this.setRotation(e.rotation)}if(r===n)return void(t&&yI(t,!0));let i=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;r<n;++r){const e=arguments[r],n={start:i,complete:!1,anchor:e.anchor,duration:void 0!==e.duration?e.duration:1e3,easing:e.easing||QO,callback:t};if(e.center&&(n.sourceCenter=o,n.targetCenter=e.center.slice(),o=n.targetCenter),void 0!==e.zoom?(n.sourceResolution=s,n.targetResolution=this.getResolutionForZoom(e.zoom),s=n.targetResolution):e.resolution&&(n.sourceResolution=s,n.targetResolution=e.resolution,s=n.targetResolution),void 0!==e.rotation){n.sourceRotation=a;const t=dt(e.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+t,a=n.targetRotation}bI(n)?n.complete=!0:i+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(jO,1),this.updateAnimations_()}getAnimating(){return this.hints_[jO]>0}getInteracting(){return this.hints_[HO]>0}cancelAnimations(){let e;this.setHint(jO,-this.hints_[jO]);for(let t=0,n=this.animations_.length;t<n;++t){const n=this.animations_[t];if(n[0].callback&&yI(n[0].callback,!1),!e)for(let t=0,r=n.length;t<r;++t){const r=n[t];if(!r.complete){e=r.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let i=!0;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o.complete)continue;const s=e-o.start;let a=o.duration>0?s/o.duration:1;a>=1?(o.complete=!0,a=1):i=!1;const l=o.easing(a);if(o.sourceCenter){const e=o.sourceCenter[0],t=o.sourceCenter[1],n=o.targetCenter[0],r=o.targetCenter[1];this.nextCenter_=o.targetCenter;const i=e+l*(n-e),s=t+l*(r-t);this.targetCenter_=[i,s]}if(o.sourceResolution&&o.targetResolution){const e=1===l?o.targetResolution:o.sourceResolution+l*(o.targetResolution-o.sourceResolution);if(o.anchor){const t=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(e,0,t,!0);this.targetCenter_=this.calculateCenterZoom(n,o.anchor)}this.nextResolution_=o.targetResolution,this.targetResolution_=e,this.applyTargetState_(!0)}if(void 0!==o.sourceRotation&&void 0!==o.targetRotation){const e=1===l?dt(o.targetRotation+Math.PI,2*Math.PI)-Math.PI:o.sourceRotation+l*(o.targetRotation-o.sourceRotation);if(o.anchor){const t=this.constraints_.rotation(e,!0);this.targetCenter_=this.calculateCenterRotate(t,o.anchor)}this.nextRotation_=o.targetRotation,this.targetRotation_=e}if(this.applyTargetState_(!0),t=!0,!o.complete)break}if(i){this.animations_[n]=null,this.setHint(jO,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const e=r[0].callback;e&&yI(e,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();var i,o;return void 0!==r&&(n=[r[0]-t[0],r[1]-t[1]],KP(n,e-this.getRotation()),o=t,(i=n)[0]+=+o[0],i[1]+=+o[1]),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),i=this.getResolution();if(void 0!==r&&void 0!==i){n=[t[0]-e*(t[0]-r[0])/i,t[1]-e*(t[1]-r[1])/i]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e?LR(e,this.getProjection()):e}getCenterInternal(){return this.get(zO.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return ER(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();_r(t,"The view center is not defined");const n=this.getResolution();_r(void 0!==n,"The view resolution is not defined");const r=this.getRotation();return _r(void 0!==r,"The view rotation is not defined"),mP(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(zO.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(DR(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=vP(e)/t[0],r=gP(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*r)}}getRotation(){return this.get(zO.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/t;return function(e){return Math.log(n/e)/t/i}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const i=this.padding_;if(i){const e=this.getViewportSizeMinusPadding_();r=vI(r,this.getViewportSize_(),[e[0]/2+i[3],e[1]/2+i[0]],t,n)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t,n,r=this.minZoom_||0;if(this.resolutions_){const i=Xt(this.resolutions_,e,1);r=i,t=this.resolutions_[i],n=i==this.resolutions_.length-1?2:t/this.resolutions_[i+1]}else t=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(t/e)/Math.log(n)}getResolutionForZoom(e){if(this.resolutions_?.length){if(1===this.resolutions_.length)return this.resolutions_[0];const t=at(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,at(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(_r(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){_r(!xP(e),"Cannot fit empty extent provided as `geometry`");n=gI(DR(e,this.getProjection()))}else if("Circle"===e.getType()){const t=DR(e.getExtent(),this.getProjection());n=gI(t),n.rotate(this.getRotation(),fP(t))}else{const t=TR();n=t?e.clone().transform(t,this.getProjection()):e}this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),i=e.getFlatCoordinates(),o=e.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let e=0,t=i.length;e<t;e+=o){const t=i[e]*n-i[e+1]*r,o=i[e]*r+i[e+1]*n;s=Math.min(s,t),a=Math.min(a,o),l=Math.max(l,t),c=Math.max(c,o)}return[s,a,l,c]}fitInternal(e,t){let n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());const r=void 0!==t.padding?t.padding:[0,0,0,0],i=void 0!==t.nearest&&t.nearest;let o;o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const s=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(s,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,i?0:1);const l=this.getRotation(),c=Math.sin(l),u=Math.cos(l),h=fP(s);h[0]+=(r[1]-r[3])/2*a,h[1]+=(r[0]-r[2])/2*a;const d=h[0]*u-h[1]*c,f=h[1]*u+h[0]*c,p=this.getConstrainedCenter([d,f],a),m=t.callback?t.callback:nn;void 0!==t.duration?this.animateInternal({resolution:a,center:p,duration:t.duration,easing:t.easing},m):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),yI(m,!0))}centerOn(e,t,n){this.centerOnInternal(CR(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(vI(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let i;const o=this.padding_;if(o&&e){const s=this.getViewportSizeMinusPadding_(-n),a=vI(e,r,[s[0]/2+o[3],s[1]/2+o[0]],t,n);i=[e[0]-a[0],e[1]-a[1]]}return i}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=LR(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&CR(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(i,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=CR(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e?CR(e,this.getProjection()):e)}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),s=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get(zO.ROTATION)!==r&&this.set(zO.ROTATION,r),this.get(zO.RESOLUTION)!==o&&(this.set(zO.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),s&&this.get(zO.CENTER)&&XP(this.get(zO.CENTER),s)||this.set(zO.CENTER,s),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=void 0!==e?e:200;const r=t||0,i=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,r,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,i,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&XP(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:a,resolution:s,duration:e,easing:ZO,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(HO,1)}endInteraction(e,t,n){n=n&&CR(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(HO,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}};function xI(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}const MI=class extends RO{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener($O,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get($O)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(wn(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=bn(e,cn,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;const n=this.getMapInternal();let r;!e&&n&&(e=n.getView()),t=e instanceof wI?{viewState:e.getState(),extent:e.calculateExtent()}:e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),r=t.layerStatesArray?t.layerStatesArray.find((e=>e.layer===this)):this.getLayerState();const i=this.getExtent();return xI(r,t.viewState)&&(!i||wP(i,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];let n=t(e instanceof wI?e.getViewStateAndExtent():e);return Array.isArray(n)||(n=[n]),n}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(PO,e)}getMapInternal(){return this.get(PO)}setMap(e){this.mapPrecomposeKey_&&(wn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(wn(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=bn(e,FO,this.handlePrecompose_,this),this.mapRenderKey_=bn(this,cn,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);_r(!t.some((e=>e.layer===n.layer)),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}setSource(e){this.set($O,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function SI(e,t,n=0,r=e.length-1,i=TI){for(;r>n;){if(r-n>600){const o=r-n+1,s=t-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);SI(e,t,Math.max(n,Math.floor(t-s*l/o+c)),Math.min(r,Math.floor(t+(o-s)*l/o+c)),i)}const o=e[t];let s=n,a=r;for(kI(e,n,t),i(e[r],o)>0&&kI(e,n,r);s<a;){for(kI(e,s,a),s++,a--;i(e[s],o)<0;)s++;for(;i(e[a],o)>0;)a--}0===i(e[n],o)?kI(e,n,a):(a++,kI(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}}function kI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function TI(e,t){return e<t?-1:e>t?1:0}class LI{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!YI(e,t))return n;const r=this.toBBox,i=[];for(;t;){for(let o=0;o<t.children.length;o++){const s=t.children[o],a=t.leaf?r(s):s;YI(e,a)&&(t.leaf?n.push(s):NI(e,a)?this._all(s,n):i.push(s))}t=i.pop()}return n}collides(e){let t=this.data;if(!YI(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const i=t.children[r],o=t.leaf?this.toBBox(i):i;if(YI(e,o)){if(t.leaf||NI(e,o))return!0;n.push(i)}}t=n.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=jI([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),i=[],o=[];let s,a,l;for(;n||i.length;){if(n||(n=i.pop(),a=i[i.length-1],s=o.pop(),l=!0),n.leaf){const r=CI(e,n.children,t);if(-1!==r)return n.children.splice(r,1),i.push(n),this._condense(i),this}l||n.leaf||!NI(n,r)?a?(s++,n=a.children[s],l=!1):n=null:(i.push(n),o.push(s),s=0,a=n,n=n.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const i=n-t+1;let o,s=this._maxEntries;if(i<=s)return o=jI(e.slice(t,n+1)),EI(o,this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),o=jI([]),o.leaf=!1,o.height=r;const a=Math.ceil(i/s),l=a*Math.ceil(Math.sqrt(s));HI(e,t,n,l,this.compareMinX);for(let i=t;i<=n;i+=l){const t=Math.min(i+l-1,n);HI(e,i,t,a,this.compareMinY);for(let n=i;n<=t;n+=a){const i=Math.min(n+a-1,t);o.children.push(this._build(e,n,i,r-1))}}return EI(o,this.toBBox),o}_chooseSubtree(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let o=0;o<t.children.length;o++){const s=t.children[o],a=RI(s),l=II(e,s)-a;l<i?(i=l,r=a<r?a:r,n=s):l===i&&a<r&&(r=a,n=s)}t=n||t.children[0]}return t}_insert(e,t,n){const r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),AI(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)}_split(e,t){const n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const o=this._chooseSplitIndex(n,i,r),s=jI(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,EI(n,this.toBBox),EI(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)}_splitRoot(e,t){this.data=jI([e,t]),this.data.height=e.height+1,this.data.leaf=!1,EI(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,i=1/0,o=1/0;for(let s=t;s<=n-t;s++){const t=DI(e,0,s,this.toBBox),a=DI(e,s,n,this.toBBox),l=FI(t,a),c=RI(t)+RI(a);l<i?(i=l,r=s,o=c<o?c:o):l===i&&c<o&&(o=c,r=s)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:$I,i=e.leaf?this.compareMinY:PI;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const i=this.toBBox,o=DI(e,0,t,i),s=DI(e,n-t,n,i);let a=OI(o)+OI(s);for(let r=t;r<n-t;r++){const t=e.children[r];AI(o,e.leaf?i(t):t),a+=OI(o)}for(let r=n-t-1;r>=t;r--){const t=e.children[r];AI(s,e.leaf?i(t):t),a+=OI(s)}return a}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)AI(t[r],e)}_condense(e){for(let t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children,t.splice(t.indexOf(e[n]),1)):this.clear():EI(e[n],this.toBBox)}}function CI(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function EI(e,t){DI(e,0,e.children.length,t,e)}function DI(e,t,n,r,i){i||(i=jI(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=t;o<n;o++){const t=e.children[o];AI(i,e.leaf?r(t):t)}return i}function AI(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function $I(e,t){return e.minX-t.minX}function PI(e,t){return e.minY-t.minY}function RI(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function OI(e){return e.maxX-e.minX+(e.maxY-e.minY)}function II(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function FI(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function NI(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function YI(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function jI(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function HI(e,t,n,r,i){const o=[t,n];for(;o.length;){if((n=o.pop())-(t=o.pop())<=r)continue;const s=t+Math.ceil((n-t)/r/2)*r;SI(e,s,t,n,i),o.push(t,s,s,n)}}function zI(e,t,n,r){return void 0!==n&&void 0!==r?[n/e,r/t]:void 0!==n?n/e:void 0!==r?r/t:1}class UI extends Ke{constructor(e){const t=void 0!==(e=e||{}).opacity?e.opacity:1,n=void 0!==e.rotation?e.rotation:0,r=void 0!==e.scale?e.scale:1,i=void 0!==e.rotateWithView&&e.rotateWithView;super({opacity:t,rotation:n,scale:r,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:i,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const o=void 0!==e.img?e.img:null;let s,a=e.src;if(_r(!(void 0!==a&&o),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!o||(a=o.src||qe(o)),_r(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),_r(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?s=Ye:void 0!==o&&(s="complete"in o?o.complete?o.src?He:Ye:je:He),this.color_=void 0!==e.color?St(e.color):null,this.iconImage_=Dn(o,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,this.initialOptions_,void 0!==e.width||void 0!==e.height){let t,n;if(e.size)[t,n]=e.size;else{const r=this.getImage(1);if(r.width&&r.height)t=r.width,n=r.height;else if(r instanceof HTMLImageElement){this.initialOptions_=e;const t=()=>{if(this.unlistenImageChange(t),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(zI(n[0],n[1],e.width,e.height))};return void this.listenImageChange(t)}}void 0!==t&&this.setScale(zI(t,n,e.width,e.height))}}clone(){let e,t,n;return this.initialOptions_?(t=this.initialOptions_.width,n=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new UI({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]-t[0]/n[0],e[1]+t[1]/n[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=n[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==He?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==He?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(cn,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(cn,e)}ready(){return this.iconImage_.ready()}}const WI=UI;class GI{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Ve(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new pr({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new GI({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ve(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const qI=GI;let BI=0;const VI=1<<BI++,XI=1<<BI++,KI=1<<BI++,JI=1<<BI++,ZI=1<<BI++,QI=1<<BI++,eF=Math.pow(2,6)-1,tF={[VI]:"boolean",[XI]:"number",[KI]:"string",[JI]:"color",[ZI]:"number[]",[QI]:"size"},nF=Object.keys(tF).map(Number).sort(Bt);function rF(e){const t=[];for(const n of nF)iF(e,n)&&t.push(tF[n]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function iF(e,t){return(e&t)===t}function oF(e,t){return e===t}class sF{constructor(e,t){if(!function(e){return e in tF}(e))throw new Error(`literal expressions must have a specific type, got ${rF(e)}`);this.type=e,this.value=t}}class aF{constructor(e,t,...n){this.type=e,this.operator=t,this.args=n}}function lF(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function cF(e,t,n){switch(typeof e){case"boolean":if(oF(t,KI))return new sF(KI,e?"true":"false");if(!iF(t,VI))throw new Error(`got a boolean, but expected ${rF(t)}`);return new sF(VI,e);case"number":if(oF(t,QI))return new sF(QI,Ve(e));if(oF(t,VI))return new sF(VI,!!e);if(oF(t,KI))return new sF(KI,e.toString());if(!iF(t,XI))throw new Error(`got a number, but expected ${rF(t)}`);return new sF(XI,e);case"string":if(oF(t,JI))return new sF(JI,Mt(e));if(oF(t,VI))return new sF(VI,!!e);if(!iF(t,KI))throw new Error(`got a string, but expected ${rF(t)}`);return new sF(KI,e)}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(0===e.length)throw new Error("empty expression");if("string"==typeof e[0])return function(e,t,n){const r=e[0],i=rN[r];if(!i)throw new Error(`unknown operator: ${r}`);return i(e,t,n)}(e,t,n);for(const t of e)if("number"!=typeof t)throw new Error("expected an array of numbers");if(oF(t,QI)){if(2!==e.length)throw new Error(`expected an array of two values for a size, got ${e.length}`);return new sF(QI,e)}if(oF(t,JI)){if(3===e.length)return new sF(JI,[...e,1]);if(4===e.length)return new sF(JI,e);throw new Error(`expected an array of 3 or 4 values for a color, got ${e.length}`)}if(!iF(t,ZI))throw new Error(`got an array of numbers, but expected ${rF(t)}`);return new sF(ZI,e)}const uF="get",hF="var",dF="concat",fF="geometry-type",pF="line-metric",mF="any",gF="all",_F="!",yF="resolution",bF="zoom",vF="time",wF="==",xF="!=",MF=">",SF=">=",kF="<",TF="<=",LF="*",CF="/",EF="+",DF="-",AF="clamp",$F="%",PF="^",RF="abs",OF="floor",IF="ceil",FF="round",NF="sin",YF="cos",jF="atan",HF="sqrt",zF="match",UF="between",WF="interpolate",GF="coalesce",qF="case",BF="in",VF="number",XF="string",KF="array",JF="color",ZF="id",QF="band",eN="palette",tN="to-string",nN="has",rN={[uF]:uN(sN(1,1/0),iN),[hF]:uN(sN(1,1),(function(e,t,n){const r=e[1];if("string"!=typeof r)throw new Error("expected a string argument for var operation");return n.variables.add(r),[new sF(KI,r)]})),[nN]:uN(sN(1,1/0),iN),[ZF]:uN((function(e,t,n){n.featureId=!0}),oN),[dF]:uN(sN(2,1/0),lN(KI)),[fF]:uN((function(e,t,n){n.geometryType=!0}),oN),[pF]:uN(oN),[yF]:uN(oN),[bF]:uN(oN),[vF]:uN(oN),[mF]:uN(sN(2,1/0),lN(VI)),[gF]:uN(sN(2,1/0),lN(VI)),[_F]:uN(sN(1,1),lN(VI)),[wF]:uN(sN(2,2),lN(eF)),[xF]:uN(sN(2,2),lN(eF)),[MF]:uN(sN(2,2),lN(XI)),[SF]:uN(sN(2,2),lN(XI)),[kF]:uN(sN(2,2),lN(XI)),[TF]:uN(sN(2,2),lN(XI)),[LF]:uN(sN(2,1/0),aN),[GF]:uN(sN(2,1/0),aN),[CF]:uN(sN(2,2),lN(XI)),[EF]:uN(sN(2,1/0),lN(XI)),[DF]:uN(sN(2,2),lN(XI)),[AF]:uN(sN(3,3),lN(XI)),[$F]:uN(sN(2,2),lN(XI)),[PF]:uN(sN(2,2),lN(XI)),[RF]:uN(sN(1,1),lN(XI)),[OF]:uN(sN(1,1),lN(XI)),[IF]:uN(sN(1,1),lN(XI)),[FF]:uN(sN(1,1),lN(XI)),[NF]:uN(sN(1,1),lN(XI)),[YF]:uN(sN(1,1),lN(XI)),[jF]:uN(sN(1,2),lN(XI)),[HF]:uN(sN(1,1),lN(XI)),[zF]:uN(sN(4,1/0),cN,(function(e,t,n){const r=e.length-1,i=KI|XI|VI,o=cF(e[1],i,n),s=cF(e[e.length-1],t,n),a=new Array(r-2);for(let t=0;t<r-2;t+=2){try{const r=cF(e[t+2],o.type,n);a[t]=r}catch(e){throw new Error(`failed to parse argument ${t+1} of match expression: ${e.message}`)}try{const r=cF(e[t+3],s.type,n);a[t+1]=r}catch(e){throw new Error(`failed to parse argument ${t+2} of match expression: ${e.message}`)}}return[o,...a,s]})),[UF]:uN(sN(3,3),lN(XI)),[WF]:uN(sN(6,1/0),cN,(function(e,t,n){const r=e[1];let i;switch(r[0]){case"linear":i=1;break;case"exponential":const e=r[1];if("number"!=typeof e||e<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(e)} instead`);i=e;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(r)}`)}const o=new sF(XI,i);let s;try{s=cF(e[2],XI,n)}catch(e){throw new Error(`failed to parse argument 1 in interpolate expression: ${e.message}`)}const a=new Array(e.length-3);for(let r=0;r<a.length;r+=2){try{const t=cF(e[r+3],XI,n);a[r]=t}catch(e){throw new Error(`failed to parse argument ${r+2} for interpolate expression: ${e.message}`)}try{const i=cF(e[r+4],t,n);a[r+1]=i}catch(e){throw new Error(`failed to parse argument ${r+3} for interpolate expression: ${e.message}`)}}return[o,s,...a]})),[qF]:uN(sN(3,1/0),(function(e,t,n){const r=e[0],i=e.length-1;if(i%2==0)throw new Error(`expected an odd number of arguments for ${r}, got ${i} instead`)}),(function(e,t,n){const r=cF(e[e.length-1],t,n),i=new Array(e.length-1);for(let t=0;t<i.length-1;t+=2){try{const r=cF(e[t+1],VI,n);i[t]=r}catch(e){throw new Error(`failed to parse argument ${t} of case expression: ${e.message}`)}try{const o=cF(e[t+2],r.type,n);i[t+1]=o}catch(e){throw new Error(`failed to parse argument ${t+1} of case expression: ${e.message}`)}}return i[i.length-1]=r,i})),[BF]:uN(sN(2,2),(function(e,t,n){let r,i=e[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');if("string"==typeof i[0]){if("literal"!==i[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=KI}else r=XI;const o=new Array(i.length);for(let e=0;e<o.length;e++)try{const t=cF(i[e],r,n);o[e]=t}catch(t){throw new Error(`failed to parse haystack item ${e} for "in" expression: ${t.message}`)}const s=cF(e[1],r,n);return[s,...o]})),[VF]:uN(sN(1,1/0),lN(eF)),[XF]:uN(sN(1,1/0),lN(eF)),[KF]:uN(sN(1,1/0),lN(XI)),[JF]:uN(sN(1,4),lN(XI)),[QF]:uN(sN(1,3),lN(XI)),[eN]:uN(sN(2,2),(function(e,t,n){let r;try{r=cF(e[1],XI,n)}catch(e){throw new Error(`failed to parse first argument in palette expression: ${e.message}`)}const i=e[2];if(!Array.isArray(i))throw new Error("the second argument of palette must be an array");const o=new Array(i.length);for(let e=0;e<o.length;e++){let t;try{t=cF(i[e],JI,n)}catch(t){throw new Error(`failed to parse color at index ${e} in palette expression: ${t.message}`)}if(!(t instanceof sF))throw new Error(`the palette color at index ${e} must be a literal value`);o[e]=t}return[r,...o]})),[tN]:uN(sN(1,1),lN(VI|XI|KI|JI))};function iN(e,t,n){const r=e.length-1,i=new Array(r);for(let t=0;t<r;++t){const r=e[t+1];switch(typeof r){case"number":i[t]=new sF(XI,r);break;case"string":i[t]=new sF(KI,r);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${r}`)}0===t&&n.properties.add(String(r))}return i}function oN(e,t,n){const r=e[0];if(1!==e.length)throw new Error(`expected no arguments for ${r} operation`);return[]}function sN(e,t){return function(n,r,i){const o=n[0],s=n.length-1;if(e===t){if(s!==e){throw new Error(`expected ${e} argument${1===e?"":"s"} for ${o}, got ${s}`)}}else if(s<e||s>t){throw new Error(`expected ${t===1/0?`${e} or more`:`${e} to ${t}`} arguments for ${o}, got ${s}`)}}}function aN(e,t,n){const r=e.length-1,i=new Array(r);for(let o=0;o<r;++o){const r=cF(e[o+1],t,n);i[o]=r}return i}function lN(e){return function(t,n,r){const i=t.length-1,o=new Array(i);for(let n=0;n<i;++n){const i=cF(t[n+1],e,r);o[n]=i}return o}}function cN(e,t,n){const r=e[0],i=e.length-1;if(i%2==1)throw new Error(`expected an even number of arguments for operation ${r}, got ${i} instead`)}function uN(...e){return function(t,n,r){const i=t[0];let o;for(let i=0;i<e.length;i++){const s=e[i](t,n,r);if(i==e.length-1){if(!s)throw new Error("expected last argument validator to return the parsed args");o=s}}return new aF(n,i,...o)}}function hN(e){if(!e)return"";const t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return hN(e.getGeometries()[0]);default:return""}}function dN(e,t,n){return fN(cF(e,t,n),n)}function fN(e,t){if(e instanceof sF){if(e.type===JI&&"string"==typeof e.value){const t=Mt(e.value);return function(){return t}}return function(){return e.value}}const n=e.operator;switch(n){case VF:case XF:case GF:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=fN(e.args[n],t);switch(n){case GF:return e=>{for(let t=0;t<r;++t){const n=i[t](e);if(null!=n)return n}throw new Error("Expected one of the values to be non-null")};case VF:case XF:return e=>{for(let t=0;t<r;++t){const r=i[t](e);if(typeof r===n)return r}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}(e,t);case uF:case hF:case nN:return function(e){const t=e.args[0],n=t.value;switch(e.operator){case uF:return t=>{const r=e.args;let i=t.properties[n];for(let e=1,t=r.length;e<t;++e){i=i[r[e].value]}return i};case hF:return e=>e.variables[n];case nN:return t=>{const r=e.args;if(!(n in t.properties))return!1;let i=t.properties[n];for(let e=1,t=r.length;e<t;++e){const t=r[e].value;if(!i||!Object.hasOwn(i,t))return!1;i=i[t]}return!0};default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}(e);case ZF:return e=>e.featureId;case fF:return e=>e.geometryType;case dF:{const n=e.args.map((e=>fN(e,t)));return e=>"".concat(...n.map((t=>t(e).toString())))}case yF:return e=>e.resolution;case mF:case gF:case UF:case BF:case _F:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=fN(e.args[n],t);switch(n){case mF:return e=>{for(let t=0;t<r;++t)if(i[t](e))return!0;return!1};case gF:return e=>{for(let t=0;t<r;++t)if(!i[t](e))return!1;return!0};case UF:return e=>{const t=i[0](e),n=i[1](e),r=i[2](e);return t>=n&&t<=r};case BF:return e=>{const t=i[0](e);for(let n=1;n<r;++n)if(t===i[n](e))return!0;return!1};case _F:return e=>!i[0](e);default:throw new Error(`Unsupported logical operator ${n}`)}}(e,t);case wF:case xF:case kF:case TF:case MF:case SF:return function(e,t){const n=e.operator,r=fN(e.args[0],t),i=fN(e.args[1],t);switch(n){case wF:return e=>r(e)===i(e);case xF:return e=>r(e)!==i(e);case kF:return e=>r(e)<i(e);case TF:return e=>r(e)<=i(e);case MF:return e=>r(e)>i(e);case SF:return e=>r(e)>=i(e);default:throw new Error(`Unsupported comparison operator ${n}`)}}(e,t);case LF:case CF:case EF:case DF:case AF:case $F:case PF:case RF:case OF:case IF:case FF:case NF:case YF:case jF:case HF:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=fN(e.args[n],t);switch(n){case LF:return e=>{let t=1;for(let n=0;n<r;++n)t*=i[n](e);return t};case CF:return e=>i[0](e)/i[1](e);case EF:return e=>{let t=0;for(let n=0;n<r;++n)t+=i[n](e);return t};case DF:return e=>i[0](e)-i[1](e);case AF:return e=>{const t=i[0](e),n=i[1](e);if(t<n)return n;const r=i[2](e);return t>r?r:t};case $F:return e=>i[0](e)%i[1](e);case PF:return e=>Math.pow(i[0](e),i[1](e));case RF:return e=>Math.abs(i[0](e));case OF:return e=>Math.floor(i[0](e));case IF:return e=>Math.ceil(i[0](e));case FF:return e=>Math.round(i[0](e));case NF:return e=>Math.sin(i[0](e));case YF:return e=>Math.cos(i[0](e));case jF:return 2===r?e=>Math.atan2(i[0](e),i[1](e)):e=>Math.atan(i[0](e));case HF:return e=>Math.sqrt(i[0](e));default:throw new Error(`Unsupported numeric operator ${n}`)}}(e,t);case qF:return function(e,t){const n=e.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=fN(e.args[i],t);return e=>{for(let t=0;t<n-1;t+=2){if(r[t](e))return r[t+1](e)}return r[n-1](e)}}(e,t);case zF:return function(e,t){const n=e.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=fN(e.args[i],t);return e=>{const t=r[0](e);for(let i=1;i<n;i+=2)if(t===r[i](e))return r[i+1](e);return r[n-1](e)}}(e,t);case WF:return function(e,t){const n=e.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=fN(e.args[i],t);return e=>{const t=r[0](e),i=r[1](e);let o,s;for(let a=2;a<n;a+=2){const n=r[a](e);let l=r[a+1](e);const c=Array.isArray(l);if(c&&(l=wt(l)),n>=i)return 2===a?l:c?mN(t,i,o,s,n,l):pN(t,i,o,s,n,l);o=n,s=l}return s}}(e,t);case tN:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=fN(e.args[n],t);if(n===tN)return t=>{const n=i[0](t);return e.args[0].type===JI?Tt(n):n.toString()};throw new Error(`Unsupported convert operator ${n}`)}(e,t);default:throw new Error(`Unsupported operator ${n}`)}}function pN(e,t,n,r,i,o){const s=i-n;if(0===s)return r;const a=t-n;return r+(1===e?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1))*(o-r)}function mN(e,t,n,r,i,o){if(0===i-n)return r;const s=xt(r),a=xt(o);let l=a[2]-s[2];l>180?l-=360:l<-180&&(l+=360);return kt(function(e){const t=Qe.rgb(nt.xyz(e));return t[3]=e[3],t}([pN(e,t,n,s[0],i,a[0]),pN(e,t,n,s[1],i,a[1]),s[2]+pN(e,t,n,0,i,l),pN(e,t,n,r[3],i,o[3])]))}function gN(e){return!0}function _N(e){const t=lF(),n=function(e,t){const n=e.length,r=new Array(n);for(let i=0;i<n;++i){const n=e[i],o="filter"in n?dN(n.filter,VI,t):gN;let s;if(Array.isArray(n.style)){const e=n.style.length;s=new Array(e);for(let r=0;r<e;++r)s[r]=bN(n.style[r],t)}else s=[bN(n.style,t)];r[i]={filter:o,styles:s}}return function(t){const i=[];let o=!1;for(let s=0;s<n;++s){if((0,r[s].filter)(t)&&(!e[s].else||!o)){o=!0;for(const e of r[s].styles){const n=e(t);n&&i.push(n)}}}return i}}(e,t),r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(e,i){if(r.properties=e.getPropertiesInternal(),r.resolution=i,t.featureId){const t=e.getId();r.featureId=void 0!==t?t:null}return t.geometryType&&(r.geometryType=hN(e.getGeometry())),n(r)}}function yN(e){const t=lF(),n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=bN(e[i],t);const i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(e,s){if(i.properties=e.getPropertiesInternal(),i.resolution=s,t.featureId){const t=e.getId();i.featureId=void 0!==t?t:null}let a=0;for(let e=0;e<n;++e){const t=r[e](i);t&&(o[a]=t,a+=1)}return o.length=a,o}}function bN(e,t){const n=vN(e,"",t),r=wN(e,"",t),i=function(e,t){const n="text-",r=MN(e,n+"value",t);if(!r)return null;const i=vN(e,n,t),o=vN(e,n+"background-",t),s=wN(e,n,t),a=wN(e,n+"background-",t),l=MN(e,n+"font",t),c=xN(e,n+"max-angle",t),u=xN(e,n+"offset-x",t),h=xN(e,n+"offset-y",t),d=SN(e,n+"overflow",t),f=MN(e,n+"placement",t),p=xN(e,n+"repeat",t),m=EN(e,n+"scale",t),g=SN(e,n+"rotate-with-view",t),_=xN(e,n+"rotation",t),y=MN(e,n+"align",t),b=MN(e,n+"justify",t),v=MN(e,n+"baseline",t),w=TN(e,n+"padding",t),x=PN(e,n+"declutter-mode"),M=new qI({declutterMode:x});return function(e){if(M.setText(r(e)),i&&M.setFill(i(e)),o&&M.setBackgroundFill(o(e)),s&&M.setStroke(s(e)),a&&M.setBackgroundStroke(a(e)),l&&M.setFont(l(e)),c&&M.setMaxAngle(c(e)),u&&M.setOffsetX(u(e)),h&&M.setOffsetY(h(e)),d&&M.setOverflow(d(e)),f){const t=f(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");M.setPlacement(t)}if(p&&M.setRepeat(p(e)),m&&M.setScale(m(e)),g&&M.setRotateWithView(g(e)),_&&M.setRotation(_(e)),y){const t=y(e);if("left"!==t&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw new Error("Expected left, right, center, start, or end for text-align");M.setTextAlign(t)}if(b){const t=b(e);if("left"!==t&&"right"!==t&&"center"!==t)throw new Error("Expected left, right, or center for text-justify");M.setJustify(t)}if(v){const t=v(e);if("bottom"!==t&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");M.setTextBaseline(t)}return w&&M.setPadding(w(e)),M}}(e,t),o=function(e,t){if("icon-src"in e)return function(e,t){const n="icon-",r=n+"src",i=ON(e[r],r),o=LN(e,n+"anchor",t),s=EN(e,n+"scale",t),a=xN(e,n+"opacity",t),l=LN(e,n+"displacement",t),c=xN(e,n+"rotation",t),u=SN(e,n+"rotate-with-view",t),h=AN(e,n+"anchor-origin"),d=$N(e,n+"anchor-x-units"),f=$N(e,n+"anchor-y-units"),p=function(e,t){const n=e[t];if(void 0===n)return;return FN(n,t)}(e,n+"color"),m=function(e,t){const n=e[t];if(void 0===n)return;if("string"!=typeof n)throw new Error(`Expected a string for ${t}`);return n}(e,n+"cross-origin"),g=function(e,t){const n=e[t];if(void 0===n)return;return RN(n,t)}(e,n+"offset"),_=AN(e,n+"offset-origin"),y=DN(e,n+"width"),b=DN(e,n+"height"),v=function(e,t){const n=e[t];if(void 0===n)return;if("number"==typeof n)return Ve(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])throw new Error(`Expected a number or size array for ${t}`);return n}(e,n+"size"),w=PN(e,n+"declutter-mode"),x=new WI({src:i,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:p,crossOrigin:m,offset:g,offsetOrigin:_,height:b,width:y,size:v,declutterMode:w});return function(e){return a&&x.setOpacity(a(e)),l&&x.setDisplacement(l(e)),c&&x.setRotation(c(e)),u&&x.setRotateWithView(u(e)),s&&x.setScale(s(e)),o&&x.setAnchor(o(e)),x}}(e,t);if("shape-points"in e)return function(e,t){const n="shape-",r=n+"points",i=n+"radius",o=IN(e[r],r),s=IN(e[i],i),a=vN(e,n,t),l=wN(e,n,t),c=EN(e,n+"scale",t),u=LN(e,n+"displacement",t),h=xN(e,n+"rotation",t),d=SN(e,n+"rotate-with-view",t),f=DN(e,n+"radius2"),p=DN(e,n+"angle"),m=PN(e,n+"declutter-mode"),g=new ur({points:o,radius:s,radius2:f,angle:p,declutterMode:m});return function(e){return a&&g.setFill(a(e)),l&&g.setStroke(l(e)),u&&g.setDisplacement(u(e)),h&&g.setRotation(h(e)),d&&g.setRotateWithView(d(e)),c&&g.setScale(c(e)),g}}(e,t);if("circle-radius"in e)return function(e,t){const n="circle-",r=vN(e,n,t),i=wN(e,n,t),o=xN(e,n+"radius",t),s=EN(e,n+"scale",t),a=LN(e,n+"displacement",t),l=xN(e,n+"rotation",t),c=SN(e,n+"rotate-with-view",t),u=PN(e,n+"declutter-mode"),h=new dr({radius:5,declutterMode:u});return function(e){return o&&h.setRadius(o(e)),r&&h.setFill(r(e)),i&&h.setStroke(i(e)),a&&h.setDisplacement(a(e)),l&&h.setRotation(l(e)),c&&h.setRotateWithView(c(e)),s&&h.setScale(s(e)),h}}(e,t);return null}(e,t),s=xN(e,"z-index",t);if(!(n||r||i||o||an(e)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new Sr;return function(e){let t=!0;if(n){const r=n(e);r&&(t=!1),a.setFill(r)}if(r){const n=r(e);n&&(t=!1),a.setStroke(n)}if(i){const n=i(e);n&&(t=!1),a.setText(n)}if(o){const n=o(e);n&&(t=!1),a.setImage(n)}return s&&a.setZIndex(s(e)),t?null:a}}function vN(e,t,n){let r;if(t+"fill-pattern-src"in e)r=function(e,t,n){const r=MN(e,t+"pattern-src",n),i=CN(e,t+"pattern-offset",n),o=CN(e,t+"pattern-size",n),s=kN(e,t+"color",n);return function(e){return{src:r(e),offset:i&&i(e),size:o&&o(e),color:s&&s(e)}}}(e,t+"fill-",n);else{if("none"===e[t+"fill-color"])return e=>null;r=kN(e,t+"fill-color",n)}if(!r)return null;const i=new pr;return function(e){const t=r(e);return t===yt?null:(i.setColor(t),i)}}function wN(e,t,n){const r=xN(e,t+"stroke-width",n),i=kN(e,t+"stroke-color",n);if(!r&&!i)return null;const o=MN(e,t+"stroke-line-cap",n),s=MN(e,t+"stroke-line-join",n),a=TN(e,t+"stroke-line-dash",n),l=xN(e,t+"stroke-line-dash-offset",n),c=xN(e,t+"stroke-miter-limit",n),u=new gr;return function(e){if(i){const t=i(e);if(t===yt)return null;u.setColor(t)}if(r&&u.setWidth(r(e)),o){const t=o(e);if("butt"!==t&&"round"!==t&&"square"!==t)throw new Error("Expected butt, round, or square line cap");u.setLineCap(t)}if(s){const t=s(e);if("bevel"!==t&&"round"!==t&&"miter"!==t)throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(t)}return a&&u.setLineDash(a(e)),l&&u.setLineDashOffset(l(e)),c&&u.setMiterLimit(c(e)),u}}function xN(e,t,n){if(!(t in e))return;const r=dN(e[t],XI,n);return function(e){return IN(r(e),t)}}function MN(e,t,n){if(!(t in e))return null;const r=dN(e[t],KI,n);return function(e){return ON(r(e),t)}}function SN(e,t,n){if(!(t in e))return null;const r=dN(e[t],VI,n);return function(e){const n=r(e);if("boolean"!=typeof n)throw new Error(`Expected a boolean for ${t}`);return n}}function kN(e,t,n){if(!(t in e))return null;const r=dN(e[t],JI,n);return function(e){return FN(r(e),t)}}function TN(e,t,n){if(!(t in e))return null;const r=dN(e[t],ZI,n);return function(e){return RN(r(e),t)}}function LN(e,t,n){if(!(t in e))return null;const r=dN(e[t],ZI,n);return function(e){const n=RN(r(e),t);if(2!==n.length)throw new Error(`Expected two numbers for ${t}`);return n}}function CN(e,t,n){if(!(t in e))return null;const r=dN(e[t],ZI,n);return function(e){return NN(r(e),t)}}function EN(e,t,n){if(!(t in e))return null;const r=dN(e[t],ZI|XI,n);return function(e){return function(e,t){if("number"==typeof e)return e;return NN(e,t)}(r(e),t)}}function DN(e,t){const n=e[t];if(void 0!==n){if("number"!=typeof n)throw new Error(`Expected a number for ${t}`);return n}}function AN(e,t){const n=e[t];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function $N(e,t){const n=e[t];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${t}`);return n}}function PN(e,t){const n=e[t];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${t}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function RN(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const n=e.length;for(let r=0;r<n;++r)if("number"!=typeof e[r])throw new Error(`Expected an array of numbers for ${t}`);return e}function ON(e,t){if("string"!=typeof e)throw new Error(`Expected a string for ${t}`);return e}function IN(e,t){if("number"!=typeof e)throw new Error(`Expected a number for ${t}`);return e}function FN(e,t){if("string"==typeof e)return e;const n=RN(e,t),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function NN(e,t){const n=RN(e,t);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${t}`);return n}const YN="renderOrder";const jN=class extends MI{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(YN)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const n=this.getDeclutter();n in e.declutter==!1&&(e.declutter[n]=new LI(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(YN,e)}setStyle(e){this.style_=void 0===e?wr:e;const t=function(e){if(void 0===e)return wr;if(!e)return null;if("function"==typeof e)return e;if(e instanceof Sr)return e;if(!Array.isArray(e))return yN([e]);if(0===e.length)return[];const t=e.length,n=e[0];if(n instanceof Sr){const n=new Array(t);for(let r=0;r<t;++r){const t=e[r];if(!(t instanceof Sr))throw new Error("Expected a list of style instances");n[r]=t}return n}if("style"in n){const n=new Array(t);for(let r=0;r<t;++r){const t=e[r];if(!("style"in t))throw new Error("Expected a list of rules with a style property");n[r]=t}return _N(n)}const r=e;return yN(r)}(e);this.styleFunction_=null===e?void 0:br(t),this.changed()}},HN={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},zN=[HN.FILL],UN=[HN.STROKE],WN=[HN.BEGIN_PATH],GN=[HN.CLOSE_PATH],qN=HN;const BN=class{drawCustom(e,t,n,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,n){}drawFeature(e,t,n){}drawGeometryCollection(e,t,n){}drawLineString(e,t,n){}drawMultiLineString(e,t,n){}drawMultiPoint(e,t,n){}drawMultiPolygon(e,t,n){}drawPoint(e,t,n){}drawPolygon(e,t,n){}drawText(e,t,n){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}};const VN=class extends BN{constructor(e,t,n,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))}appendFlatPointCoordinates(e,t){const n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates;let o=i.length;for(let s=0,a=e.length;s<a;s+=t)r[0]=e[s],r[1]=e[s+1],X$(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,n,r,i,o){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();o&&(t+=r);let c=e[t],u=e[t+1];const h=this.tmpCoordinate_;let d,f,p,m=!0;for(d=t+r;d<n;d+=r)h[0]=e[d],h[1]=e[d+1],p=Z$(l,h),p!==f?(m&&(s[a++]=c,s[a++]=u,m=!1),s[a++]=h[0],s[a++]=h[1]):p===j$?(s[a++]=h[0],s[a++]=h[1],m=!1):m=!0,c=h[0],u=h[1],f=p;return(i&&m||d===t+r)&&(s[a++]=c,s[a++]=u),a}drawCustomCoordinates_(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(e,t,s,r,!1,!1);i.push(a),t=s}return t}drawCustom(e,t,n,r,i){this.beginGeometry(e,t,i);const o=e.getType(),s=e.getStride(),a=this.coordinates.length;let l,c,u,h,d;switch(o){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),h=[];const t=e.getEndss();d=0;for(let e=0,n=t.length;e<n;++e){const n=[];d=this.drawCustomCoordinates_(l,d,t[e],s,n),h.push(n)}this.instructions.push([qN.CUSTOM,a,h,e,n,cO,i]),this.hitDetectionInstructions.push([qN.CUSTOM,a,h,e,r||n,cO,i]);break;case"Polygon":case"MultiLineString":u=[],l="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,e.getEnds(),s,u),this.instructions.push([qN.CUSTOM,a,u,e,n,lO,i]),this.hitDetectionInstructions.push([qN.CUSTOM,a,u,e,r||n,lO,i]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([qN.CUSTOM,a,c,e,n,aO,i]),this.hitDetectionInstructions.push([qN.CUSTOM,a,c,e,r||n,aO,i]);break;case"MultiPoint":l=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>a&&(this.instructions.push([qN.CUSTOM,a,c,e,n,aO,i]),this.hitDetectionInstructions.push([qN.CUSTOM,a,c,e,r||n,aO,i]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([qN.CUSTOM,a,c,e,n,void 0,i]),this.hitDetectionInstructions.push([qN.CUSTOM,a,c,e,r||n,void 0,i])}this.endGeometry(t)}beginGeometry(e,t,n){this.beginGeometryInstruction1_=[qN.BEGIN_GEOMETRY,t,0,e,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[qN.BEGIN_GEOMETRY,t,0,e,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let t;e.reverse();const n=e.length;let r,i,o=-1;for(t=0;t<n;++t)r=e[t],i=r[0],i==qN.END_GEOMETRY?o=t:i==qN.BEGIN_GEOMETRY&&(r[2]=t,Kt(this.hitDetectionInstructions,o,t),o=-1)}setFillStrokeStyle(e,t){const n=this.state;if(e){const t=e.getColor();n.fillPatternScale=t&&"object"==typeof t&&"src"in t?this.pixelRatio:1,n.fillStyle=An(t||Gn)}else n.fillStyle=void 0;if(t){const e=t.getColor();n.strokeStyle=An(e||Xn);const r=t.getLineCap();n.lineCap=void 0!==r?r:qn;const i=t.getLineDash();n.lineDash=i?i.slice():Bn;const o=t.getLineDashOffset();n.lineDashOffset=o||0;const s=t.getLineJoin();n.lineJoin=void 0!==s?s:Vn;const a=t.getWidth();n.lineWidth=void 0!==a?a:1;const l=t.getMiterLimit();n.miterLimit=void 0!==l?l:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(e){const t=e.fillStyle,n=[qN.SET_FILL_STYLE,t];return"string"!=typeof t&&n.push(e.fillPatternScale),n}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[qN.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const n=e.fillStyle;"string"==typeof n&&e.currentFillStyle==n||(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}updateStrokeStyle(e,t){const n=e.strokeStyle,r=e.lineCap,i=e.lineDash,o=e.lineDashOffset,s=e.lineJoin,a=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=r||i!=e.currentLineDash&&!Qt(e.currentLineDash,i)||e.currentLineDashOffset!=o||e.currentLineJoin!=s||e.currentLineWidth!=a||e.currentMiterLimit!=l)&&(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=r,e.currentLineDash=i,e.currentLineDashOffset=o,e.currentLineJoin=s,e.currentLineWidth=a,e.currentMiterLimit=l)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[qN.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=B$(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;q$(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};const XN=class extends VN{constructor(e,t,n,r){super(e,t,n,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,n){if(!this.image_||this.maxExtent&&!X$(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,n);const r=e.getFlatCoordinates(),i=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([qN.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([qN.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,n){if(!this.image_)return;this.beginGeometry(e,t,n);const r=e.getFlatCoordinates(),i=[];for(let t=0,n=r.length;t<n;t+=e.getStride())this.maxExtent&&!X$(this.maxExtent,r.slice(t,t+2))||i.push(r[t],r[t+1]);const o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,2);this.instructions.push([qN.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([qN.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const n=e.getAnchor(),r=e.getSize(),i=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}};const KN=class extends VN{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinates_(e,t,n,r){const i=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,r,!1,!1),s=[qN.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n}drawLineString(e,t,n){const r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0===i||void 0===o)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([qN.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bn,0],WN);const s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(UN),this.endGeometry(t)}drawMultiLineString(e,t,n){const r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0===i||void 0===o)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([qN.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bn,0],WN);const s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride();let c=0;for(let e=0,t=s.length;e<t;++e)c=this.drawFlatCoordinates_(a,c,s[e],l);this.hitDetectionInstructions.push(UN),this.endGeometry(t)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(UN),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(UN),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(WN)}};const JN=class extends VN{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinatess_(e,t,n,r){const i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,a=n.length;this.instructions.push(WN),this.hitDetectionInstructions.push(WN);for(let i=0;i<a;++i){const o=n[i],a=this.coordinates.length,l=this.appendFlatLineCoordinates(e,t,o,r,!0,!s),c=[qN.MOVE_TO_LINE_TO,a,l];this.instructions.push(c),this.hitDetectionInstructions.push(c),s&&(this.instructions.push(GN),this.hitDetectionInstructions.push(GN)),t=o}return o&&(this.instructions.push(zN),this.hitDetectionInstructions.push(zN)),s&&(this.instructions.push(UN),this.hitDetectionInstructions.push(UN)),t}drawCircle(e,t,n){const r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([qN.SET_FILL_STYLE,Gn]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([qN.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bn,0]);const s=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const c=[qN.CIRCLE,l];this.instructions.push(WN,c),this.hitDetectionInstructions.push(WN,c),void 0!==r.fillStyle&&(this.instructions.push(zN),this.hitDetectionInstructions.push(zN)),void 0!==r.strokeStyle&&(this.instructions.push(UN),this.hitDetectionInstructions.push(UN)),this.endGeometry(t)}drawPolygon(e,t,n){const r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([qN.SET_FILL_STYLE,Gn]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([qN.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bn,0]);const s=e.getEnds(),a=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(t)}drawMultiPolygon(e,t,n){const r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([qN.SET_FILL_STYLE,Gn]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([qN.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bn,0]);const s=e.getEndss(),a=e.getOrientedFlatCoordinates(),l=e.getStride();let c=0;for(let e=0,t=s.length;e<t;++e)c=this.drawFlatCoordinatess_(a,c,s[e],l);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let n=0,r=t.length;n<r;++n)t[n]=rO(t[n],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}};function ZN(e,t,n,r,i){const o=[];let s=n,a=0,l=t.slice(n,2);for(;a<e&&s+i<r;){const[n,r]=l.slice(-2),c=t[s+i],u=t[s+i+1],h=Math.sqrt((c-n)*(c-n)+(u-r)*(u-r));if(a+=h,a>=e){const t=(e-a+h)/h,d=ft(n,c,t),f=ft(r,u,t);l.push(d,f),o.push(l),l=[d,f],a==e&&(s+=i),a=0}else if(a<e)l.push(t[s+i],t[s+i+1]),s+=i;else{const e=h-a,t=ft(n,c,e/h),d=ft(r,u,e/h);l.push(t,d),o.push(l),l=[t,d],a=0,s+=i}}return a>0&&o.push(l),o}function QN(e,t,n,r,i){let o,s,a,l,c,u,h,d,f,p,m=n,g=n,_=0,y=0,b=n;for(s=n;s<r;s+=i){const n=t[s],r=t[s+1];void 0!==c&&(f=n-c,p=r-u,l=Math.sqrt(f*f+p*p),void 0!==h&&(y+=a,o=Math.acos((h*f+d*p)/(a*l)),o>e&&(y>_&&(_=y,m=b,g=s),y=0,b=s-i)),a=l,h=f,d=p),c=n,u=r}return y+=l,y>_?[b,s]:[m,g]}const eY={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const tY=class extends VN{constructor(e,t,n,r){super(e,t,n,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Gn]={fillStyle:Gn},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,n){const r=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!r&&!i)return;const s=this.coordinates;let a=s.length;const l=e.getType();let c=null,u=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let r=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),u=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||r.push(c[2]/this.resolution),u=3;break;case"MultiPolygon":const t=e.getFlatInteriorPoints();c=[];for(let e=0,n=t.length;e<n;e+=3)o.overflow||r.push(t[e+2]/this.resolution),c.push(t[e],t[e+1]);if(0===c.length)return;u=2}const i=this.appendFlatPointCoordinates(c,u);if(i===a)return;if(r&&(i-a)/2!=c.length/u){let e=a/2;r=r.filter(((t,n)=>{const r=s[2*(e+n)]===c[n*u]&&s[2*(e+n)+1]===c[n*u+1];return r||--e,r}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t,n);let h=o.padding;if(h!=Zn&&(o.scale[0]<0||o.scale[1]<0)){let e=o.padding[0],t=o.padding[1],n=o.padding[2],r=o.padding[3];o.scale[0]<0&&(t=-t,r=-r),o.scale[1]<0&&(e=-e,n=-n),h=[e,t,n,r]}const d=this.pixelRatio;this.instructions.push([qN.DRAW_IMAGE,a,i,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,h==Zn?Zn:h.map((function(e){return e*d})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]);const f=1/d,p=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=Gn,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([qN.DRAW_IMAGE,a,i,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[f,f],NaN,this.declutterMode_,this.declutterImageWithText_,h,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Gn:this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]),o.backgroundFill&&(this.state.fillStyle=p,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}else{if(!wP(this.maxExtent,e.getExtent()))return;let r;if(c=e.getFlatCoordinates(),"LineString"==l)r=[c.length];else if("MultiLineString"==l)r=e.getEnds();else if("Polygon"==l)r=e.getEnds().slice(0,1);else if("MultiPolygon"==l){const t=e.getEndss();r=[];for(let e=0,n=t.length;e<n;++e)r.push(t[e][0])}this.beginGeometry(e,t,n);const i=o.repeat,h=i?void 0:o.textAlign;let d=0;for(let e=0,t=r.length;e<t;++e){let t;t=i?ZN(i*this.resolution,c,d,r[e],u):[c.slice(d,r[e])];for(let n=0,i=t.length;n<i;++n){const i=t[n];let l=0,c=i.length;if(null==h){const e=QN(o.maxAngle,i,0,i.length,2);l=e[0],c=e[1]}for(let e=l;e<c;e+=u)s.push(i[e],i[e+1]);const f=s.length;d=r[e],this.drawChars_(a,f),a=f}}this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const i=this.textKey_;i in this.textStates||(this.textStates[i]={font:t.font,textAlign:t.textAlign||Kn,justify:t.justify,textBaseline:t.textBaseline||Jn,scale:t.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(e,t){const n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=eY[r.textBaseline],c=this.textOffsetY_*a,u=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([qN.DRAW_CHARS,e,t,l,r.overflow,s,r.maxAngle,a,c,i,h*a,u,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([qN.DRAW_CHARS,e,t,l,r.overflow,s?Gn:s,r.maxAngle,a,c,i,h*a,u,o,1/a,this.declutterMode_])}setTextStyle(e,t){let n,r,i;if(e){const t=e.getFill();t?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=An(t.getColor()||Gn)):(r=null,this.textFillState_=r);const o=e.getStroke();if(o){i=this.textStrokeState_,i||(i={},this.textStrokeState_=i);const e=o.getLineDash(),t=o.getLineDashOffset(),n=o.getWidth(),r=o.getMiterLimit();i.lineCap=o.getLineCap()||qn,i.lineDash=e?e.slice():Bn,i.lineDashOffset=void 0===t?0:t,i.lineJoin=o.getLineJoin()||Vn,i.lineWidth=void 0===n?1:n,i.miterLimit=void 0===r?10:r,i.strokeStyle=An(o.getColor()||Xn)}else i=null,this.textStrokeState_=i;n=this.textState_;const s=e.getFont()||Wn;rr(s);const a=e.getScaleArray();n.overflow=e.getOverflow(),n.font=s,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||Jn,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||Zn,n.scale=void 0===a?[1,1]:a;const l=e.getOffsetX(),c=e.getOffsetY(),u=e.getRotateWithView(),h=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===c?0:c,this.textRotateWithView_=void 0!==u&&u,this.textRotation_=void 0===h?0:h,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:qe(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?"string"==typeof r.fillStyle?r.fillStyle:"|"+qe(r.fillStyle):""}else this.text_="";this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},nY={Circle:JN,Default:VN,Image:XN,LineString:KN,Polygon:JN,Text:tY};const rY=class{constructor(e,t,n,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const n=this.buildersByZIndex_[t];for(const r in n){const i=n[r].finish();e[t][r]=i}}return e}getBuilder(e,t){const n=void 0!==e?e.toString():"0";let r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);let i=r[t];if(void 0===i){i=new(0,nY[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=i}return i}};const iY=class extends Rn{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return We()}getData(e){return null}prepareFrame(e){return We()}renderFrame(e,t){return We()}forEachFeatureAtCoordinate(e,t,n,r,i){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;t.getState()!==He&&t.getState()!==ze||this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=He&&t!=ze&&e.addEventListener(cn,this.boundHandleImageChange_),t==Ye&&(e.load(),t=e.getState()),t==He}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}};const oY=class extends qt{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}};const sY=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Yt(),{get:(e,t)=>{if("function"==typeof Yt()[t])return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,n),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach((t=>{for(let n=0,r=t.length;n<r;++n){const r=t[n];if("function"==typeof r){r(e);continue}const i=t[++n];if("function"==typeof e[r])e[r](...i);else{if("function"==typeof i){e[r]=i(e);continue}e[r]=i}}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},aY=[];let lY=null;const cY=class extends iY{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,n){let r;lY||(lY=Ft(1,1,void 0,{willReadFrequently:!0})),lY.clearRect(0,0,1,1);try{lY.drawImage(e,t,n,1,1,0,0,1,1),r=lY.getImageData(0,0,1,1).data}catch(e){return lY=null,null}return r}getBackground(e){let t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let i,o;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&Qt(St(e.style.backgroundColor),St(n)))){const t=e.firstElementChild;t instanceof HTMLCanvasElement&&(o=t.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){i=document.createElement("div"),i.className=r;let e=i.style;e.position="absolute",e.width="100%",e.height="100%",o=Ft();const t=o.canvas;i.appendChild(t),e=t.style,e.position="absolute",e.left="0",e.transformOrigin="top left",this.container=i,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=yP(n),i=bP(n),o=dP(n),s=hP(n);$$(t.coordinateToPixelTransform,r),$$(t.coordinateToPixelTransform,i),$$(t.coordinateToPixelTransform,o),$$(t.coordinateToPixelTransform,s);const a=this.inversePixelTransform;$$(a,r),$$(a,i),$$(a,o),$$(a,s),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()}prepareContainer(e,t){const n=e.extent,r=e.viewState.resolution,i=e.viewState.rotation,o=e.pixelRatio,s=Math.round(vP(n)/r*o),a=Math.round(gP(n)/r*o);O$(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,i,-s/2,-a/2),I$(this.inversePixelTransform,this.pixelTransform);const l=N$(this.pixelTransform);if(this.useContainer(t,l,this.getBackground(e)),!this.containerReused){const e=this.context.canvas;e.width!=s||e.height!=a?(e.width=s,e.height=a):this.context.clearRect(0,0,s,a),l!==e.style.transform&&(e.style.transform=l)}}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const i=new oY(e,this.inversePixelTransform,n,t);r.dispatchEvent(i)}}preRender(e,t){this.frameState=t,t.declutter||this.dispatchRenderEvent_(OO,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(IO,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new sY),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(OO,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(IO,this.context,e))}getRenderTransform(e,t,n,r,i,o,s){const a=i/2,l=o/2,c=r/t,u=-c,h=-e[0]+s,d=-e[1];return O$(this.tempTransform,a,l,c,u,-n,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}};function uY(e,t,n,r,i,o,s,a,l,c,u,h){let d=e[t],f=e[t+1],p=0,m=0,g=0,_=0;function y(){p=d,m=f,d=e[t+=r],f=e[t+1],_+=g,g=Math.sqrt((d-p)*(d-p)+(f-m)*(f-m))}do{y()}while(t<n-r&&_+g<o);let b=0===g?0:(o-_)/g;const v=ft(p,d,b),w=ft(m,f,b),x=t-r,M=_,S=o+a*l(c,i,u);for(;t<n-r&&_+g<S;)y();b=0===g?0:(S-_)/g;const k=ft(p,d,b),T=ft(m,f,b);let L;if(h){const e=[v,w,k,T];FR(e,0,4,2,h,e,e),L=e[0]>e[2]}else L=v>k;const C=Math.PI,E=[],D=x+r===t;let A;if(g=0,_=M,d=e[t=x],f=e[t+1],D){y(),A=Math.atan2(f-m,d-p),L&&(A+=A>0?-C:C);const e=(k+v)/2,t=(T+w)/2;return E[0]=[e,t,(S-o)/2,A,i],E}for(let e=0,h=(i=i.replace(/\n/g," ")).length;e<h;){y();let v=Math.atan2(f-m,d-p);if(L&&(v+=v>0?-C:C),void 0!==A){let e=v-A;if(e+=e>C?-2*C:e<-C?2*C:0,Math.abs(e)>s)return null}A=v;const w=e;let x=0;for(;e<h;++e){const s=a*l(c,i[L?h-e-1:e],u);if(t+r<n&&_+g<o+x+s/2)break;x+=s}if(e===w)continue;const M=L?i.substring(h-w,h-e):i.substring(w,e);b=0===g?0:(o+x/2-_)/g;const S=ft(p,d,b),k=ft(m,f,b);E.push([S,k,x/2,v,M]),o+=x}return E}const hY=[1/0,1/0,-1/0,-1/0],dY=[],fY=[],pY=[],mY=[];function gY(e){return e[3].declutterBox}const _Y=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function yY(e,t){return"start"===t?t=_Y.test(e)?"right":"left":"end"===t&&(t=_Y.test(e)?"left":"right"),eY[t]}function bY(e,t,n){return n>0&&e.push("\n",""),e.push(t,""),e}const vY=class{constructor(e,t,n,r,i){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=i?new sY:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,n,r){const i=e+t+n+r;if(this.labels_[i])return this.labels_[i];const o=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,a=this.textStates[t],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],u=a.justify?eY[a.justify]:yY(Array.isArray(e)?e[0]:e,a.textAlign||Kn),h=r&&o.lineWidth?o.lineWidth:0,d=Array.isArray(e)?e:String(e).split("\n").reduce(bY,[]),{width:f,height:p,widths:m,heights:g,lineWidths:_}=function(e,t){const n=[],r=[],i=[];let o=0,s=0,a=0,l=0;for(let c=0,u=t.length;c<=u;c+=2){const h=t[c];if("\n"===h||c===u){o=Math.max(o,s),i.push(s),s=0,a+=l,l=0;continue}const d=t[c+1]||e.font,f=sr(d,h);n.push(f),s+=f;const p=ir(d);r.push(p),l=Math.max(l,p)}return{width:o,height:a,widths:n,heights:r,lineWidths:i}}(a,d),y=f+h,b=[],v=(y+2)*c[0],w=(p+h)*c[1],x={width:v<0?Math.floor(v):Math.ceil(v),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:b};1==c[0]&&1==c[1]||b.push("scale",c),r&&(b.push("strokeStyle",o.strokeStyle),b.push("lineWidth",h),b.push("lineCap",o.lineCap),b.push("lineJoin",o.lineJoin),b.push("miterLimit",o.miterLimit),b.push("setLineDash",[o.lineDash]),b.push("lineDashOffset",o.lineDashOffset)),n&&b.push("fillStyle",s.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");const M=.5-u;let S=u*y+M*h;const k=[],T=[];let L,C=0,E=0,D=0,A=0;for(let e=0,t=d.length;e<t;e+=2){const t=d[e];if("\n"===t){E+=C,C=0,S=u*y+M*h,++A;continue}const i=d[e+1]||a.font;i!==L&&(r&&k.push("font",i),n&&T.push("font",i),L=i),C=Math.max(C,g[D]);const o=[t,S+M*m[D]+u*(m[D]-_[A]),.5*(h+C)+E];S+=m[D],r&&k.push("strokeText",o),n&&T.push("fillText",o),++D}return Array.prototype.push.apply(b,k),Array.prototype.push.apply(b,T),this.labels_[i]=x,x}replayTextBackground_(e,t,n,r,i,o,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,r,i,o,s,a,l,c,u,h,d,f,p,m){let g=n-(s*=h[0]),_=r-(a*=h[1]);const y=i+l>e?e-l:i,b=o+c>t?t-c:o,v=f[3]+y*h[0]+f[1],w=f[0]+b*h[1]+f[2],x=g-f[3],M=_-f[0];let S;return(p||0!==u)&&(dY[0]=x,mY[0]=x,dY[1]=M,fY[1]=M,fY[0]=x+v,pY[0]=fY[0],pY[1]=M+w,mY[1]=pY[1]),0!==u?(S=O$([1,0,0,1,0,0],n,r,1,1,u,-n,-r),$$(S,dY),$$(S,fY),$$(S,pY),$$(S,mY),eP(Math.min(dY[0],fY[0],pY[0],mY[0]),Math.min(dY[1],fY[1],pY[1],mY[1]),Math.max(dY[0],fY[0],pY[0],mY[0]),Math.max(dY[1],fY[1],pY[1],mY[1]),hY)):eP(Math.min(x,x+v),Math.min(M,M+w),Math.max(x,x+v),Math.max(M,M+w),hY),d&&(g=Math.round(g),_=Math.round(_)),{drawImageX:g,drawImageY:_,drawImageW:y,drawImageH:b,originX:l,originY:c,declutterBox:{minX:hY[0],minY:hY[1],maxX:hY[2],maxY:hY[3],value:m},canvasTransform:S,scale:h}}replayImageOrLabel_(e,t,n,r,i,o,s){const a=!(!o&&!s),l=r.declutterBox,c=s?s[2]*r.scale[0]/2:0;return l.minX-c<=t[0]&&l.maxX+c>=0&&l.minY-c<=t[1]&&l.maxY+c>=0&&(a&&this.replayTextBackground_(e,dY,fY,pY,mY,o,s),lr(e,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const n=$$(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),1!==t&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,n,r){const i=this.textStates[t],o=this.createLabel(e,t,r,n),s=this.strokeStates[n],a=this.pixelRatio,l=yY(Array.isArray(e)?e[0]:e,i.textAlign||Kn),c=eY[i.textBaseline||Jn],u=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*i.scale[0])+2*(.5-l)*u,anchorY:c*o.height/a+2*(.5-c)*u}}execute_(e,t,n,r,i,o,s,a){const l=this.zIndexContext_;let c;var u,h;this.pixelCoordinates_&&Qt(n,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=IR(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),u=this.renderedTransform_,h=n,u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5]);let d=0;const f=r.length;let p,m,g,_,y,b,v,w,x,M,S,k,T,L=0,C=0,E=0,D=null,A=null;const $=this.coordinateCache_,P=this.viewRotation_,R=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,O={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:P},I=this.instructions!=r||this.overlaps?0:200;let F,N,Y,j;for(;d<f;){const n=r[d];switch(n[0]){case qN.BEGIN_GEOMETRY:F=n[1],j=n[3],F.getGeometry()?void 0===s||wP(s,j.getExtent())?++d:d=n[2]+1:d=n[2],l&&(l.zIndex=n[4]);break;case qN.BEGIN_PATH:C>I&&(this.fill_(e),C=0),E>I&&(e.stroke(),E=0),C||E||(e.beginPath(),y=NaN,b=NaN),++d;break;case qN.CIRCLE:L=n[1];const r=c[L],u=c[L+1],h=c[L+2]-r,f=c[L+3]-u,H=Math.sqrt(h*h+f*f);e.moveTo(r+H,u),e.arc(r,u,H,0,2*Math.PI,!0),++d;break;case qN.CLOSE_PATH:e.closePath(),++d;break;case qN.CUSTOM:L=n[1],p=n[2];const z=n[3],U=n[4],W=n[5];O.geometry=z,O.feature=F,d in $||($[d]=[]);const G=$[d];W?W(c,L,p,2,G):(G[0]=c[L],G[1]=c[L+1],G.length=2),l&&(l.zIndex=n[6]),U(G,O),++d;break;case qN.DRAW_IMAGE:L=n[1],p=n[2],x=n[3],m=n[4],g=n[5];let q=n[6];const B=n[7],V=n[8],X=n[9],K=n[10];let J=n[11];const Z=n[12];let Q=n[13];_=n[14]||"declutter";const ee=n[15];if(!x&&n.length>=20){M=n[19],S=n[20],k=n[21],T=n[22];const e=this.drawLabelWithPointPlacement_(M,S,k,T);x=e.label,n[3]=x;const t=n[23];m=(e.anchorX-t)*this.pixelRatio,n[4]=m;const r=n[24];g=(e.anchorY-r)*this.pixelRatio,n[5]=g,q=x.height,n[6]=q,Q=x.width,n[13]=Q}let te,ne,re,ie;n.length>25&&(te=n[25]),n.length>17?(ne=n[16],re=n[17],ie=n[18]):(ne=Zn,re=!1,ie=!1),K&&R?J+=P:K||R||(J-=P);let oe=0;for(;L<p;L+=2){if(te&&te[oe++]<Q/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(x.width,x.height,c[L],c[L+1],Q,q,m,g,V,X,J,Z,i,ne,re||ie,F),r=[e,t,x,n,B,re?D:null,ie?A:null];if(a){let e,t,i,o,s;if(ee){const n=p-L;if(!ee[n]){ee[n]={args:r,declutterMode:_};continue}const o=ee[n];e=o.args,t=o.declutterMode,delete ee[n],i=gY(e)}if(!e||"declutter"===t&&a.collides(i)||(o=!0),"declutter"===_&&a.collides(n.declutterBox)||(s=!0),"declutter"===t&&"declutter"===_){const e=o&&s;o=e,s=e}o&&("none"!==t&&a.insert(i),this.replayImageOrLabel_.apply(this,e)),s&&("none"!==_&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,r))}else this.replayImageOrLabel_.apply(this,r)}++d;break;case qN.DRAW_CHARS:const se=n[1],ae=n[2],le=n[3],ce=n[4];T=n[5];const ue=n[6],he=n[7],de=n[8];k=n[9];const fe=n[10];M=n[11],S=n[12];const pe=[n[13],n[13]];_=n[14]||"declutter";const me=this.textStates[S],ge=me.font,_e=[me.scale[0]*he,me.scale[1]*he];let ye;ge in this.widths_?ye=this.widths_[ge]:(ye={},this.widths_[ge]=ye);const be=yO(c,se,ae,2),ve=Math.abs(_e[0])*ar(ge,M,ye);if(ce||ve<=be){const n=uY(c,se,ae,2,M,(be-ve)*yY(M,this.textStates[S].textAlign),ue,Math.abs(_e[0]),ar,ge,ye,R?0:this.viewRotation_);e:if(n){const r=[];let i,o,s,l,c;if(k)for(i=0,o=n.length;i<o;++i){c=n[i],s=c[4],l=this.createLabel(s,S,"",k),m=c[2]+(_e[0]<0?-fe:fe),g=le*l.height+2*(.5-le)*fe*_e[1]/_e[0]-de;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,m,g,0,0,c[3],pe,!1,Zn,!1,F);if(a&&"declutter"===_&&a.collides(o.declutterBox))break e;r.push([e,t,l,o,1,null,null])}if(T)for(i=0,o=n.length;i<o;++i){c=n[i],s=c[4],l=this.createLabel(s,S,T,""),m=c[2],g=le*l.height-de;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,m,g,0,0,c[3],pe,!1,Zn,!1,F);if(a&&"declutter"===_&&a.collides(o.declutterBox))break e;r.push([e,t,l,o,1,null,null])}a&&"none"!==_&&a.load(r.map(gY));for(let e=0,t=r.length;e<t;++e)this.replayImageOrLabel_.apply(this,r[e])}}++d;break;case qN.END_GEOMETRY:if(void 0!==o){F=n[1];const e=o(F,j,_);if(e)return e}++d;break;case qN.FILL:I?C++:this.fill_(e),++d;break;case qN.MOVE_TO_LINE_TO:for(L=n[1],p=n[2],N=c[L],Y=c[L+1],e.moveTo(N,Y),y=N+.5|0,b=Y+.5|0,L+=2;L<p;L+=2)N=c[L],Y=c[L+1],v=N+.5|0,w=Y+.5|0,L!=p-2&&v===y&&w===b||(e.lineTo(N,Y),y=v,b=w);++d;break;case qN.SET_FILL_STYLE:D=n,this.alignAndScaleFill_=n[2],C&&(this.fill_(e),C=0,E&&(e.stroke(),E=0)),e.fillStyle=n[1],++d;break;case qN.SET_STROKE_STYLE:A=n,E&&(e.stroke(),E=0),this.setStrokeStyle_(e,n),++d;break;case qN.STROKE:I?E++:e.stroke(),++d;break;default:++d}}C&&this.fill_(e),E&&e.stroke()}execute(e,t,n,r,i,o){this.viewRotation_=r,this.execute_(e,t,n,this.instructions,i,void 0,void 0,o)}executeHitDetection(e,t,n,r,i){return this.viewRotation_=n,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,i)}},wY=["Polygon","Circle","LineString","Image","Text","Default"],xY=["Image","Text"],MY=wY.filter((e=>!xY.includes(e)));const SY={};const kY=class{constructor(e,t,n,r,i,o,s){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(i,s)}clip(e,t){const n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}createExecutors_(e,t){for(const n in e){let r=this.executorsByZIndex_[n];void 0===r&&(r={},this.executorsByZIndex_[n]=r);const i=e[n];for(const e in i){const n=i[e];r[e]=new vY(this.resolution_,this.pixelRatio_,this.overlaps_,n,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const n=this.executorsByZIndex_[t];for(let t=0,r=e.length;t<r;++t)if(e[t]in n)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,r,i,o){const s=2*(r=Math.round(r))+1,a=O$(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Ft(s,s,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;let u;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(u=[1/0,1/0,-1/0,-1/0],sP(u,e),q$(u,t*(this.renderBuffer_+r),u));const h=function(e){if(void 0!==SY[e])return SY[e];const t=2*e+1,n=e*e,r=new Array(n+1);for(let i=0;i<=e;++i)for(let o=0;o<=e;++o){const s=i*i+o*o;if(s>n)break;let a=r[s];a||(a=[],r[s]=a),a.push(4*((e+i)*t+(e+o))+3),i>0&&a.push(4*((e-i)*t+(e+o))+3),o>0&&(a.push(4*((e+i)*t+(e-o))+3),i>0&&a.push(4*((e-i)*t+(e-o))+3))}const i=[];for(let e=0,t=r.length;e<t;++e)r[e]&&i.push(...r[e]);return SY[e]=i,i}(r);let d;function f(e,t,n){const a=c.getImageData(0,0,s,s).data;for(let l=0,u=h.length;l<u;l++)if(a[h[l]]>0){if(!o||"none"===n||"Image"!==d&&"Text"!==d||o.includes(e)){const n=(h[l]-3)/4,o=r-n%s,a=r-(n/s|0),c=i(e,t,o*o+a*a);if(c)return c}c.clearRect(0,0,s,s);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);let m,g,_,y,b;for(p.sort(Bt),m=p.length-1;m>=0;--m){const e=p[m].toString();for(_=this.executorsByZIndex_[e],g=wY.length-1;g>=0;--g)if(d=wY[g],y=_[d],void 0!==y&&(b=y.executeHitDetection(c,a,n,f,u),b))return b}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const n=t[0],r=t[1],i=t[2],o=t[3],s=[n,r,n,o,i,o,i,r];return IR(s,0,8,2,e,s),s}isEmpty(){return an(this.executorsByZIndex_)}execute(e,t,n,r,i,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(Bt),o=o||wY;const l=wY.length;let c,u,h,d,f;for(s&&a.reverse(),c=0,u=a.length;c<u;++c){const u=a[c].toString();for(f=this.executorsByZIndex_[u],h=0,d=o.length;h<d;++h){const u=o[h],d=f[u];if(void 0!==d){const o=null===s?void 0:d.getZIndexContext(),f=o?o.getContext():e,p=this.maxExtent_&&"Image"!==u&&"Text"!==u;if(p&&(f.save(),this.clip(f,n)),o&&"Text"!==u&&"Image"!==u?o.pushFunction((e=>d.execute(e,t,n,r,i,s))):d.execute(f,t,n,r,i,s),p&&f.restore(),o){o.offset();const e=a[c]*l+h;this.deferredZIndexContexts_[e]||(this.deferredZIndexContexts_[e]=[]),this.deferredZIndexContexts_[e].push(o)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Bt);for(let n=0,r=t.length;n<r;++n)e[t[n]].forEach((e=>{e.draw(this.renderedContext_),e.clear()})),e[t[n]].length=0}};const TY=class extends BN{constructor(e,t,n,r,i,o,s){super(),this.context_=e,this.pixelRatio_=t,this.extent_=n,this.transform_=r,this.transformRotation_=r?pt(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=i,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,n,r){if(!this.image_)return;const i=IR(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let e=0,t=i.length;e<t;e+=2){const t=i[e]-this.imageAnchorX_,n=i[e+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const e=t+this.imageAnchorX_,r=n+this.imageAnchorY_;O$(s,e,r,1,1,l,-e,-r),o.save(),o.transform.apply(o,s),o.translate(e,r),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,n,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(e,t,n,r){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const i=IR(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);t<n;t+=r){const e=i[t]+this.textOffsetX_,n=i[t+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(e-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,e,n),this.textFillState_&&o.fillText(this.text_,e,n))}}moveToLineTo_(e,t,n,r,i){const o=this.context_,s=IR(e,t,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;i&&(a-=2);for(let e=2;e<a;e+=2)o.lineTo(s[e],s[e+1]);return i&&o.closePath(),n}drawRings_(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t=this.moveToLineTo_(e,t,n[i],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),wP(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function(e,t,n){const r=e.getFlatCoordinates();if(!r)return null;const i=e.getStride();return IR(r,0,r.length,i,t,n)}(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],r=t[3]-t[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){const n=t.getGeometryFunction()(e);n&&(this.setStyle(t),this.drawGeometry(n))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let e=0,n=t.length;e<n;++e)this.drawGeometry(t[e])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),wP(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(wP(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();let r=0;const i=e.getEnds(),o=e.getStride();t.beginPath();for(let e=0,t=i.length;e<t;++e)r=this.moveToLineTo_(n,r,i[e],o,!1);t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),wP(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),wP(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getOrientedFlatCoordinates();let r=0;const i=e.getEndss(),o=e.getStride();t.beginPath();for(let e=0,t=i.length;e<t;++e){const t=i[e];r=this.drawRings_(n,r,t,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),Qt(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,n=this.contextTextState_,r=e.textAlign?e.textAlign:Kn;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=r&&(n.textAlign=r,t.textAlign=r),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const t=e.getColor();this.fillState_={fillStyle:An(t||Gn)}}else this.fillState_=null;if(t){const e=t.getColor(),n=t.getLineCap(),r=t.getLineDash(),i=t.getLineDashOffset(),o=t.getLineJoin(),s=t.getWidth(),a=t.getMiterLimit(),l=r||Bn;this.strokeState_={lineCap:void 0!==n?n:qn,lineDash:1===this.pixelRatio_?l:l.map((e=>e*this.pixelRatio_)),lineDashOffset:(i||0)*this.pixelRatio_,lineJoin:void 0!==o?o:Vn,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:An(e||Xn)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize()))return void(this.image_=null);const n=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),i=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}setTextStyle(e){if(e){const t=e.getFill();if(t){const e=t.getColor();this.textFillState_={fillStyle:An(e||Gn)}}else this.textFillState_=null;const n=e.getStroke();if(n){const e=n.getColor(),t=n.getLineCap(),r=n.getLineDash(),i=n.getLineDashOffset(),o=n.getLineJoin(),s=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t?t:qn,lineDash:r||Bn,lineDashOffset:i||0,lineJoin:void 0!==o?o:Vn,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:An(e||Xn)}}else this.textStrokeState_=null;const r=e.getFont(),i=e.getOffsetX(),o=e.getOffsetY(),s=e.getRotateWithView(),a=e.getRotation(),l=e.getScaleArray(),c=e.getText(),u=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:void 0!==r?r:Wn,textAlign:void 0!==u?u:Kn,textBaseline:void 0!==h?h:Jn},this.text_=void 0!==c?Array.isArray(c)?c.reduce(((e,t,n)=>e+(n%2?" ":t)),""):c:"",this.textOffsetX_=void 0!==i?this.pixelRatio_*i:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},LY=.5;function CY(e,t,n,r,i,o,s,a,l){const c=l?ER(i,l):i,u=Ft(e[0]*LY,e[1]*LY);u.imageSmoothingEnabled=!1;const h=u.canvas,d=new TY(u,LY,i,null,s,a,l?wR(TR(),l):null),f=n.length,p=Math.floor(16777215/f),m={};for(let e=1;e<=f;++e){const t=n[e-1],i=t.getStyleFunction()||r;if(!i)continue;let s=i(t,o);if(!s)continue;Array.isArray(s)||(s=[s]);const a=(e*p).toString(16).padStart(7,"#00000");for(let e=0,n=s.length;e<n;++e){const n=s[e],r=n.getGeometryFunction()(t);if(!r||!wP(c,r.getExtent()))continue;const i=n.clone(),o=i.getFill();o&&o.setColor(a);const l=i.getStroke();l&&(l.setColor(a),l.setLineDash(null)),i.setText(void 0);const u=n.getImage();if(u){const e=u.getImageSize();if(!e)continue;const t=Ft(e[0],e[1],void 0,{alpha:!1}),n=t.canvas;t.fillStyle=a,t.fillRect(0,0,n.width,n.height),i.setImage(new WI({img:n,anchor:u.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:u.getOrigin(),opacity:1,size:u.getSize(),scale:u.getScale(),rotation:u.getRotation(),rotateWithView:u.getRotateWithView()}))}const h=i.getZIndex()||0;let d=m[h];d||(d={},m[h]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const f=r.getType();if("GeometryCollection"===f){const e=r.getGeometriesArrayRecursive();for(let t=0,n=e.length;t<n;++t){const n=e[t];d[n.getType().replace("Multi","")].push(n,i)}}else d[f.replace("Multi","")].push(r,i)}}const g=Object.keys(m).map(Number).sort(Bt);for(let e=0,n=g.length;e<n;++e){const n=m[g[e]];for(const e in n){const r=n[e];for(let e=0,n=r.length;e<n;e+=2){d.setStyle(r[e+1]);for(let n=0,i=t.length;n<i;++n)d.setTransform(t[n]),d.drawGeometry(r[e])}}}return u.getImageData(0,0,h.width,h.height)}function EY(e,t,n){const r=[];if(n){const i=Math.floor(Math.round(e[0])*LY),o=Math.floor(Math.round(e[1])*LY),s=4*(at(i,0,n.width-1)+at(o,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],c=n.data[s+2]+256*(l+256*a),u=Math.floor(16777215/t.length);c&&c%u==0&&r.push(t[c/u-1])}return r}const DY={Point:function(e,t,n,r,i,o){const s=n.getImage(),a=n.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=He)return;const o=e.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,c),o.drawPoint(t,r,i)}if(l){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a,c),o.drawText(t,r,i)}},LineString:function(e,t,n,r,i){const o=n.getStroke();if(o){const s=e.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(t,r,i)}const s=n.getText();if(s&&s.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r,i)}},Polygon:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const a=e.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(t,r,i)}const a=n.getText();if(a&&a.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,r,i)}},MultiPoint:function(e,t,n,r,i,o){const s=n.getImage(),a=s&&0!==s.getOpacity(),l=n.getText(),c=l&&l.getText(),u=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=He)return;const o=e.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,u),o.drawMultiPoint(t,r,i)}if(c){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(l,u),o.drawText(t,r,i)}},MultiLineString:function(e,t,n,r,i){const o=n.getStroke();if(o){const s=e.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(t,r,i)}const s=n.getText();if(s&&s.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r,i)}},MultiPolygon:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(s||o){const a=e.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(t,r,i)}const a=n.getText();if(a&&a.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,r,i)}},GeometryCollection:function(e,t,n,r,i,o){const s=t.getGeometriesArray();let a,l;for(a=0,l=s.length;a<l;++a){(0,DY[s[a].getType()])(e,s[a],n,r,i,o)}},Circle:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const a=e.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(t,r,i)}const a=n.getText();if(a&&a.getText()){const i=e.getBuilder(n.getZIndex(),"Text");i.setTextStyle(a),i.drawText(t,r)}}};function AY(e,t){return parseInt(qe(e),10)-parseInt(qe(t),10)}function $Y(e,t){const n=PY(e,t);return n*n}function PY(e,t){return.5*e/t}function RY(e,t,n,r,i,o,s,a){const l=[],c=n.getImage();if(c){let e=!0;const t=c.getImageState();t==He||t==ze?e=!1:t==Ye&&c.load(),e&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const h=l.length>0;return h&&Promise.all(l).then((()=>i(null))),function(e,t,n,r,i,o,s){const a=n.getGeometryFunction()(t);if(!a)return;const l=a.simplifyTransformed(r,i),c=n.getRenderer();if(c)OY(e,l,n,t,s);else{(0,DY[l.getType()])(e,l,n,t,s,o)}}(e,t,n,r,o,s,a),h}function OY(e,t,n,r,i){if("GeometryCollection"==t.getType()){const o=t.getGeometries();for(let t=0,s=o.length;t<s;++t)OY(e,o[t],n,r,i);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer(),i)}const IY=class extends cY{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,n){const r=t.extent,i=t.viewState,o=i.center,s=i.resolution,a=i.projection,l=i.rotation,c=a.getExtent(),u=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),d=t.pixelRatio,f=t.viewHints,p=!(f[jO]||f[HO]),m=this.context,g=Math.round(vP(r)/s*d),_=Math.round(gP(r)/s*d),y=u.getWrapX()&&a.canWrapX(),b=y?vP(c):null,v=y?Math.ceil((r[2]-c[2])/b)+1:1;let w=y?Math.floor((r[0]-c[0])/b):0;do{let r=this.getRenderTransform(o,s,0,d,g,_,w*b);t.declutter&&(r=r.slice(0)),e.execute(m,[m.canvas.width,m.canvas.height],r,l,p,void 0===n?wY:n?xY:MY,n?h&&t.declutter[h]:void 0)}while(++w<v)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=Ft(this.context.canvas.width,this.context.canvas.height,aY))}resetDrawContext_(){if(1!==this.opacity_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,jt(this.context),aY.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex];this.opacity_=n.opacity;const r=e.viewState;this.prepareContainer(e,t);const i=this.context,o=this.replayGroup_;let s=o&&!o.isEmpty();if(!s){if(!(this.getLayer().hasListener(OO)||this.getLayer().hasListener(IO)))return null}this.setDrawContext_(),this.preRender(i,e);const a=r.projection;if(this.clipped_=!1,s&&n.extent&&this.clipping){const t=DR(n.extent,a);s=wP(t,e.extent),this.clipped_=s&&!K$(t,e.extent),this.clipped_&&this.clipUnrotated(i,e,t)}return s&&this.renderWorlds(o,e,!this.getLayer().getDeclutter()&&void 0),!e.declutter&&this.clipped_&&i.restore(),this.postRender(i,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise((t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const e=this.frameState.size.slice(),t=this.renderedCenter_,n=this.renderedResolution_,r=this.renderedRotation_,i=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=e[0]*LY,c=e[1]*LY;a.push(this.getRenderTransform(t,n,r,LY,l,c,0).slice());const u=s.getSource(),h=i.getExtent();if(u.getWrapX()&&i.canWrapX()&&!K$(h,o)){let e=o[0];const i=vP(h);let s,u=0;for(;e<h[0];)--u,s=i*u,a.push(this.getRenderTransform(t,n,r,LY,l,c,s).slice()),e+=i;for(u=0,e=o[2];e>h[2];)++u,s=i*u,a.push(this.getRenderTransform(t,n,r,LY,l,c,s).slice()),e-=i}const d=TR();this.hitDetectionImageData_=CY(e,a,this.renderedFeatures_,s.getStyleFunction(),o,n,r,$Y(n,this.renderedPixelRatio_),d?i:null)}t(EY(e,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(e,t,n,r,i){if(!this.replayGroup_)return;const o=t.viewState.resolution,s=t.viewState.rotation,a=this.getLayer(),l={},c=function(e,t,n){const o=qe(e),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,i.splice(i.lastIndexOf(s),1),r(e,a,t);s.geometry=t,s.distanceSq=n}}else{if(0===n)return l[o]=!0,r(e,a,t);i.push(l[o]={feature:e,layer:a,geometry:t,distanceSq:n,callback:r})}};let u;const h=[this.replayGroup_],d=this.getLayer().getDeclutter();return h.some((r=>u=r.forEachFeatureAtCoordinate(e,o,s,n,c,d&&t.declutter[d]?t.declutter[d].all().map((e=>e.value)):null))),u}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const r=e.viewHints[jO],i=e.viewHints[HO],o=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!s&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=e.extent,l=e.viewState,c=l.projection,u=l.resolution,h=e.pixelRatio,d=t.getRevision(),f=t.getRenderBuffer();let p=t.getRenderOrder();void 0===p&&(p=AY);const m=l.center.slice(),g=q$(a,f*u),_=g.slice(),y=[g.slice()],b=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!K$(b,e.extent)){const e=vP(b),t=Math.max(vP(g)/2,e);g[0]=b[0]-t,g[2]=b[2]+t,QP(m,c);const n=SP(y[0],c);n[0]<b[0]&&n[2]<b[2]?y.push([n[0]+e,n[1],n[2]+e,n[3]]):n[0]>b[0]&&n[2]>b[2]&&y.push([n[0]-e,n[1],n[2]-e,n[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!e.declutter&&K$(this.wrappedRenderedExtent_,g))return Qt(this.renderedExtent_,_)||(this.hitDetectionImageData_=null,this.renderedExtent_=_),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const v=new rY(PY(u,h),g,u,h),w=TR();let x;if(w){for(let e=0,t=y.length;e<t;++e){const t=ER(y[e],c);n.loadFeatures(t,AR(u,c),w)}x=wR(w,c)}else for(let e=0,t=y.length;e<t;++e)n.loadFeatures(y[e],u,c);const M=$Y(u,h);let S=!0;const k=(e,n)=>{let r;const i=e.getStyleFunction()||t.getStyleFunction();if(i&&(r=i(e,u)),r){const t=this.renderFeature(e,M,r,v,x,this.getLayer().getDeclutter(),n);S=S&&!t}},T=ER(g,c),L=n.getFeaturesInExtent(T);p&&L.sort(p);for(let e=0,t=L.length;e<t;++e)k(L[e],e);this.renderedFeatures_=L,this.ready=S;const C=v.finish(),E=new kY(g,u,h,n.getOverlaps(),C,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=_,this.wrappedRenderedExtent_=g,this.renderedCenter_=m,this.renderedProjection_=c,this.renderedPixelRatio_=h,this.replayGroup_=E,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,r,i,o,s){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,c=n.length;l<c;++l)a=RY(r,e,n[l],t,this.boundHandleStyleImageChange_,i,o,s)||a;else a=RY(r,e,n,t,this.boundHandleStyleImageChange_,i,o,s);return a}};const FY=class extends jN{constructor(e){super(e)}createRenderer(){return new IY(this)}},NY="postrender",YY="movestart",jY="moveend",HY="loadstart",zY="loadend",UY="element",WY="map",GY="offset",qY="position",BY="positioning";const VY=class extends In{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(UY,this.handleElementChanged),this.addChangeListener(WY,this.handleMapChanged),this.addChangeListener(GY,this.handleOffsetChanged),this.addChangeListener(qY,this.handlePositionChanged),this.addChangeListener(BY,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(UY)}getId(){return this.id}getMap(){return this.get(WY)||null}getOffset(){return this.get(GY)}getPosition(){return this.get(qY)}getPositioning(){return this.get(BY)}handleElementChanged(){Wt(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),wn(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=bn(e,NY,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(UY,e)}setMap(e){this.set(WY,e)}setOffset(e){this.set(GY,e)}setPosition(e){this.set(qY,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(qY))return;const n=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),i=this.getRect(r,[Ht(r),zt(r)]),o=void 0===(e=e||{}).margin?20:e.margin;if(!K$(n,i)){const r=i[0]-n[0],s=n[2]-i[2],a=i[1]-n[1],l=n[3]-i[3],c=[0,0];if(r<0?c[0]=r-o:s<0&&(c[0]=Math.abs(s)+o),a<0?c[1]=a-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){const n=t.getView().getCenterInternal(),r=t.getPixelFromCoordinateInternal(n);if(!r)return;const i=[r[0]+c[0],r[1]+c[1]],o=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(i),duration:o.duration,easing:o.easing})}}}getRect(e,t){const n=e.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+t[0],i+t[1]]}setPositioning(e){this.set(BY,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const n=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(n,r)}updateRenderedPosition(e,t){const n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);let o="0%",s="0%";"bottom-right"==i||"center-right"==i||"top-right"==i?o="-100%":"bottom-center"!=i&&"center-center"!=i&&"top-center"!=i||(o="-50%"),"bottom-left"==i||"bottom-center"==i||"bottom-right"==i?s="-100%":"center-left"!=i&&"center-center"!=i&&"center-right"!=i||(s="-50%");const a=`translate(${o}, ${s}) translate(${Math.round(e[0]+r[0])+"px"}, ${Math.round(e[1]+r[1])+"px"})`;this.rendered.transform_!=a&&(this.rendered.transform_=a,n.transform=a)}getOptions(){return this.options}},XY="add",KY="remove",JY="length";class ZY extends qt{constructor(e,t,n){super(e),this.element=t,this.index=n}}const QY=class extends In{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let e=0,t=this.array_.length;e<t;++e)this.assertUnique_(this.array_[e],e);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(JY)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new ZY(XY,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ZY(KY,t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new ZY(KY,n,e)),this.dispatchEvent(new ZY(XY,t,e))}updateLength_(){this.set(JY,this.array_.length)}assertUnique_(e,t){for(let n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}};const ej=class{constructor(e){this.rbush_=new LI(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[qe(t)]=n}load(e,t){const n=new Array(t.length);for(let r=0,i=t.length;r<i;r++){const i=e[r],o=t[r],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:o};n[r]=s,this.items_[qe(o)]=s}this.rbush_.load(n)}remove(e){const t=qe(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}update(e,t){const n=this.items_[qe(t)];iP([n.minX,n.minY,n.maxX,n.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map((function(e){return e.value}))}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let r=0,i=e.length;r<i;r++)if(n=t(e[r]),n)return n;return n}isEmpty(){return an(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return eP(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}};class tj extends zR{constructor(e,t,n){super(),void 0!==n&&void 0===t?this.setFlatCoordinates(n,e):(t=t||0,this.setCenterAndRadius(e,t,n))}clone(){const e=new tj(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const i=this.flatCoordinates,o=e-i[0],s=t-i[1],a=o*o+s*s;if(a<r){if(0===a)for(let e=0;e<this.stride;++e)n[e]=i[e];else{const e=this.getRadius()/Math.sqrt(a);n[0]=i[0]+e*o,n[1]=i[1]+e*s;for(let e=2;e<this.stride;++e)n[e]=i[e]}return n.length=this.stride,a}return r}containsXY(e,t){const n=this.flatCoordinates,r=e-n[0],i=t-n[1];return r*r+i*i<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,n=t[this.stride]-t[0];return eP(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){if(wP(e,this.getExtent())){const t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]||(e[1]<=t[1]&&e[3]>=t[1]||cP(e,this.intersectsCoordinate.bind(this)))}return!1}setCenter(e){const t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],r=e.slice();r[t]=r[0]+n;for(let n=1;n<t;++n)r[t+n]=e[n];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let i=UR(r,0,e,this.stride);r[i++]=r[0]+t;for(let e=1,t=this.stride;e<t;++e)r[i++]=r[e];r.length=i,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const n=this.getCenter(),r=this.getStride();this.setCenter(FR(n,0,n.length,r,e,t,n)),this.changed()}}tj.prototype.transform;const nj=tj;class rj extends YR{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(wn),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,n=e.length;t<n;++t)this.changeEventsKeys_.push(bn(e[t],cn,this.changed,this))}clone(){const e=new rj(ij(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,n,r){if(r<V$(this.getExtent(),e,t))return r;const i=this.geometries_;for(let o=0,s=i.length;o<s;++o)r=i[o].closestPointXY(e,t,n,r);return r}containsXY(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].containsXY(e,t))return!0;return!1}computeExtent(e){tP(e);const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)oP(e,t[n].getExtent());return e}getGeometries(){return ij(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let r=!1;for(let i=0,o=n.length;i<o;++i){const o=n[i],s=o.getSimplifiedGeometry(e);t.push(s),s!==o&&(r=!0)}if(r){return new rj(t)}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].rotate(e,t);this.changed()}scale(e,t,n){n||(n=fP(this.getExtent()));const r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(ij(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)t[n].applyTransform(e);this.changed()}translate(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function ij(e){return e.map((e=>e.clone()))}const oj=rj;class sj extends zR{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{const t=e,n=[],r=[];for(let e=0,i=t.length;e<i;++e){Jt(n,t[e].getFlatCoordinates()),r.push(n.length)}const i=0===t.length?this.getLayout():t[0].getLayout();this.setFlatCoordinates(i,n),this.ends_=r}}appendLineString(e){Jt(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new sj(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<V$(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ZR(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eO(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,r))}getCoordinateAtM(e,t,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,n=void 0!==n&&n,function(e,t,n,r,i,o,s){if(s)return hO(e,t,n[n.length-1],r,i,o);let a;if(i<e[r-1])return o?(a=e.slice(0,r),a[r-1]=i,a):null;if(e[e.length-1]<i)return o?(a=e.slice(e.length-r),a[r-1]=i,a):null;for(let o=0,s=n.length;o<s;++o){const s=n[o];if(t!=s){if(i<e[t+r-1])return null;if(i<=e[s-1])return hO(e,t,s,r,i,!1);t=s}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return lO(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new vO(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,r=[];let i=0;for(let o=0,s=t.length;o<s;++o){const s=t[o],a=new vO(e.slice(i,s),n);r.push(a),i=s}return r}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const r=this.ends_,i=this.stride;for(let o=0,s=r.length;o<s;++o){const s=r[o];Jt(e,uO(t,n,s,i,.5)),n=s}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=nO(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new sj(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){if(mO(e,t,n[o],r,i))return!0;t=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=GR(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const aj=sj;class lj extends zR{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){Jt(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new lj(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){if(r<V$(this.getExtent(),e,t))return r;const i=this.flatCoordinates,o=this.stride;for(let s=0,a=i.length;s<a;s+=o){const a=ct(e,t,i[s],i[s+1]);if(a<r){r=a;for(let e=0;e<o;++e)n[e]=i[s+e];n.length=o}}return r}getCoordinates(){return aO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new VR(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,r=[];for(let i=0,o=e.length;i<o;i+=n){const o=new VR(e.slice(i,i+n),t);r.push(o)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let r=0,i=t.length;r<i;r+=n){if(J$(e,t[r],t[r+1]))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=WR(this.flatCoordinates,0,e,this.stride),this.changed()}}const cj=lj;function uj(e,t,n,r){const i=[];let o=[1/0,1/0,-1/0,-1/0];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=rP(e,t,a[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=a[a.length-1]}return i}class hj extends zR{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const r=e,i=[],o=[];for(let e=0,t=r.length;e<t;++e){const t=r[e],n=i.length,s=t.getEnds();for(let e=0,t=s.length;e<t;++e)s[e]+=n;Jt(i,t.getFlatCoordinates()),o.push(s)}t=0===r.length?this.getLayout():r[0].getLayout(),e=i,n=o}void 0!==t&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){const n=this.flatCoordinates.length;Jt(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let e=0,r=t.length;e<r;++e)t[e]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const n=new hj(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,r){return r<V$(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];i=ZR(e,t,s,r,i),t=s[s.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(e,t,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];c=eO(e,t,d,r,i,o,s,a,l,c,u),t=d[d.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return function(e,t,n,r,i,o){if(0===n.length)return!1;for(let s=0,a=n.length;s<a;++s){const a=n[s];if(pO(e,t,a,r,i,o))return!0;t=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return function(e,t,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];i+=nI(e,t,s,r),t=s[s.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),dI(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,cO(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=uj(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=sI(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new cj(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;uI(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=dI(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=function(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l],u=[];s=oO(e,t,c,r,i,o,s,u),a.push(u),t=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new hj(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const n=this.endss_[e-1];t=n[n.length-1]}const n=this.endss_[e].slice(),r=n[n.length-1];if(0!==t)for(let e=0,r=n.length;e<r;++e)n[e]-=t;return new mI(this.flatCoordinates.slice(t,r),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,r=[];let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o].slice(),a=s[s.length-1];if(0!==i)for(let e=0,t=s.length;e<t;++e)s[e]-=i;const l=new mI(t.slice(i,a),e,s);r.push(l),i=a}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(_O(e,t,s,r,i))return!0;t=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=qR(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const e=n[n.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}}const dj=hj,fj=[1,0,0,1,0,0];class pj{constructor(e,t,n,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=i,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?nP(this.flatCoordinates_):rP(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=fP(this.getExtent());this.flatInteriorPoints_=oI(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=fI(this.flatCoordinates_,this.ends_),t=uj(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=sI(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=uO(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let r=0,i=n.length;r<i;++r){const i=n[r],o=uO(e,t,i,2,.5);Jt(this.flatMidpoints_,o),t=i}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=pR(e)).getExtent(),n=e.getWorldExtent();if(t&&n){const e=gP(n)/gP(t);O$(fj,n[0],n[3],e,-e,0,0,0),IR(this.flatCoordinates_,0,this.flatCoordinates_.length,2,fj,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new pj(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=rn(((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const n=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":n.length=tO(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,n,0),r=[n.length];break;case"MultiLineString":r=[],n.length=nO(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,n,0,r);break;case"Polygon":r=[],n.length=oO(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),n,0,r)}return r&&(this.simplifiedGeometry_=new pj(this.type_,n,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_})),this}}pj.prototype.getFlatCoordinates=pj.prototype.getOrientedFlatCoordinates;const mj=pj;function gj(e){return e?"function"==typeof e?e:(Array.isArray(e)||(e=[e]),t=>e):null}const _j=class extends In{constructor(e){super(),this.projection=pR(e.projection),this.attributions_=gj(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise((function(e,n){t.viewResolver=e,t.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=gj(e),this.changed()}setState(e){this.state_=e,this.changed()}},yj="addfeature",bj="changefeature",vj="clear",wj="removefeature",xj="featuresloadstart",Mj="featuresloadend",Sj="featuresloaderror";function kj(e,t){return[[-1/0,-1/0,1/0,1/0]]}let Tj=!1;function Lj(e,t,n,r,i,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof e?e(n,r,i):e,!0),"arraybuffer"==t.getType()&&(a.responseType="arraybuffer"),a.withCredentials=Tj,a.onload=function(e){if(!a.status||a.status>=200&&a.status<300){const e=t.getType();try{let r;"text"==e||"json"==e?r=a.responseText:"xml"==e?r=a.responseXML||a.responseText:"arraybuffer"==e&&(r=a.response),r?o(t.readFeatures(r,{extent:n,featureProjection:i}),t.readProjection(r)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function Cj(e,t){return function(n,r,i,o,s){const a=this;Lj(e,t,n,r,i,(function(e,t){a.addFeatures(e),void 0!==o&&o(e)}),s||nn)}}class Ej extends qt{constructor(e,t,n){super(e),this.feature=t,this.features=n}}const Dj=class extends _j{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=nn,this.format_=e.format||null,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(_r(this.format_,"`format` must be set when `url` is set"),this.loader_=Cj(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:kj;const t=void 0===e.useSpatialIndex||e.useSpatialIndex;let n,r;this.featuresRtree_=t?new ej:null,this.loadedExtentsRtree_=new ej,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(n=e.features,r=n.getArray()),t||void 0!==n||(n=new QY(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=qe(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const t=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Ej(yj,e))}setupChangeEvents_(e,t){t instanceof mj||(this.featureChangeKeys_[e]=[bn(t,cn,this.handleFeatureChange_,this),bn(t,$n,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(void 0!==t.getId()){const e=String(t.getId());if(e in this.idIndex_)if(t instanceof mj){const r=this.idIndex_[e];r instanceof mj?Array.isArray(r)?r.push(t):this.idIndex_[e]=[r,t]:n=!1}else n=!1;else this.idIndex_[e]=t}return n&&(_r(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],r=[];for(let t=0,r=e.length;t<r;t++){const r=e[t],i=qe(r);this.addToIndex_(i,r)&&n.push(r)}for(let e=0,i=n.length;e<i;e++){const i=n[e],o=qe(i);this.setupChangeEvents_(o,i);const s=i.getGeometry();if(s){const e=s.getExtent();t.push(e),r.push(i)}else this.nullGeometryFeatures_[o]=i}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(yj))for(let e=0,t=n.length;e<t;e++)this.dispatchEvent(new Ej(yj,n[e]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(yj,(function(n){t||(t=!0,e.push(n.feature),t=!1)})),this.addEventListener(wj,(function(n){t||(t=!0,e.remove(n.feature),t=!1)})),e.addEventListener(XY,(e=>{t||(t=!0,this.addFeature(e.element),t=!1)})),e.addEventListener(KY,(e=>{t||(t=!0,this.removeFeature(e.element),t=!1)})),this.featuresCollection_=e}clear(e){if(e){for(const e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(wn)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const e=e=>{this.removeFeatureInternal(e)};this.featuresRtree_.forEach(e);for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Ej(vj);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,(function(n){const r=n.getGeometry();if(r instanceof mj||r.intersectsCoordinate(e))return t(n)}))}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,(function(n){const r=n.getGeometry();if(r instanceof mj||r.intersectsExtent(e)){const e=t(n);if(e)return e}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),an(this.nullGeometryFeatures_)||Jt(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=kP(e,t);return[].concat(...n.map((e=>this.featuresRtree_.getInExtent(e))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],r=e[1];let i=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return t=t||en,this.featuresRtree_.forEachInExtent(a,(function(e){if(t(e)){const t=e.getGeometry(),l=s;if(s=t instanceof mj?0:t.closestPointXY(n,r,o,s),s<l){i=e;const t=Math.sqrt(s);a[0]=n-t,a[1]=r-t,a[2]=n+t,a[3]=r+t}}})),i}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=qe(t),r=t.getGeometry();if(r){const e=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);const i=t.getId();if(void 0!==i){const e=i.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Ej(bj,t))}hasFeature(e){const t=e.getId();return void 0!==t?t in this.idIndex_:qe(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&an(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,n){const r=this.loadedExtentsRtree_,i=this.strategy_(e,t,n);for(let e=0,o=i.length;e<o;++e){const o=i[e],s=r.forEachInExtent(o,(function(e){return K$(e.extent,o)}));s||(++this.loadingExtentsCount_,this.dispatchEvent(new Ej(xj)),this.loader_.call(this,o,t,n,(e=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ej(Mj,void 0,e))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ej(Sj))})),r.insert(o,{extent:o.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let n;t.forEachInExtent(e,(function(t){if(iP(t.extent,e))return n=t,!0})),n&&t.remove(n)}removeFeatures(e){let t=!1;for(let n=0,r=e.length;n<r;++n)t=this.removeFeatureInternal(e[n])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=qe(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);const n=this.featureChangeKeys_[t];n?.forEach(wn),delete this.featureChangeKeys_[t];const r=e.getId();if(void 0!==r){const t=r.toString(),n=this.idIndex_[t];n===e?delete this.idIndex_[t]:Array.isArray(n)&&(n.splice(n.indexOf(e),1),1===n.length&&(this.idIndex_[t]=n[0]))}return delete this.uidIndex_[t],this.hasListener(wj)&&this.dispatchEvent(new Ej(wj,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){_r(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Cj(e,this.format_))}};const Aj=new class{constructor(){this.debouncer=MO((()=>this.updateData_()),200),this.promise_=null,this.plot=null,this.measure=null,this.config=null,this.map_=null,this.cartoHighlight=new VY({offset:[0,-15],positioning:"bottom-center"}),this.lidarPointHighlight=new FY({className:"canvas2d",source:new Dj({}),style:new Sr({image:new dr({fill:new pr({color:"rgba(0, 0, 255, 1)"}),radius:3})})}),this.lidarBuffer=new FY({className:"canvas2d",source:new Dj({})}),this.profilePoints=this.getEmptyProfilePoints_(),this.isPlotSetup_=!1,this.line_=null,this.utils=new xO}init(e,t){this.config=e,this.plot=new XR(this),this.measure=new k$(this),this.setMap(t)}clearBuffer(){this.lidarBuffer&&this.lidarBuffer.getSource().clear()}setLine(e){this.line_=e}setMap(e){this.map_=e,this.cartoHighlight.setMap(e),this.lidarPointHighlight.setMap(e),this.lidarBuffer.setMap(e)}getEmptyProfilePoints_(){return{distance:[],altitude:[],color_packed:[],intensity:[],classification:[],coords:[]}}getProfileByLOD(e,t,n,r){if(!this.config)throw new Error("Missing config");if(!this.plot)throw new Error("Missing plot");if(!this.line_)throw new Error("Missing line");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");this.profilePoints=this.getEmptyProfilePoints_(),n&&(this.isPlotSetup_=!1);const i=document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container");cS(i.querySelector(".lidar-error")).style("visibility","hidden");let o,s=this.utils.getPytreeLinestring(this.line_);const a=this.config.serverConfig.max_levels;if(0==t)o=this.utils.getNiceLOD(this.line_.getLength(),a);else{const t=this.plot.updateScaleX.domain();s="";for(const t of e)s+=`{${t[0]},${t[1]}},`;s=s.substr(0,s.length-1),o=this.utils.getNiceLOD(t[1]-t[0],a)}let l=!1;cS(i.querySelector(".lod-info")).html(""),this.config.clientConfig.pointSum=0;let c=0;c=this.config.clientConfig.autoWidth?o.width:this.config.serverConfig.width;const u=V.t("Profile width: ");cS(i.querySelector(".width-info")).html(`${u} ${c}m`);for(let e=0;e<o.maxLOD;e++)0==e?(this.queryPytree_(r,this.config.serverConfig.initialLOD,e,s,t,l,c,n),e+=this.config.serverConfig.initialLOD-1):(e<o.maxLOD-1||(l=!0),this.queryPytree_(r+e,r+e+1,e,s,t,l,c,!1))}queryPytree_(e,t,n,r,i,o,s,a){if(!this.config)throw new Error("Missing config");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");const l=cS(document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container .lod-info"));if(this.config.serverConfig.debug){let n=l.html();n+=`${V.t("Loading LOD: ")} ${e}-${t}..<br>`,l.html(n)}const c=this.config.serverConfig.default_point_cloud,u=`${this.config.pytreeLidarprofileJsonUrl}/profile/get?minLOD=${e}&maxLOD=${t}&width=${s}&coordinates=${r}&pointCloud=${c}&attributes=`;fetch(u,{method:"GET",headers:{"Content-Type":"text/plain; charset=x-user-defined"},responseType:"arraybuffer"}).then((e=>e.arrayBuffer())).then((r=>{if(!this.config)throw new Error("Missing config");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");if(this.config.serverConfig.debug){let n=l.html();const r=V.t("LOD: "),i=V.t("loaded");n+=`${r} ${e}-${t} ${i}<br>`,l.html(n)}this.processBuffer_(r,n,i,o,a)})).catch((e=>{throw new Error(`Error on pytree query: ${e.message}`)}))}processBuffer_(e,t,n,r,i){if(!this.config)throw new Error("Missing config");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");if(!this.plot)throw new Error("Missing plot");if(!this.line_)throw new Error("Missing line");const o=document.querySelector("#lidar-footer").shadowRoot.querySelector("#gmf-lidarprofile-container"),s=cS(o.querySelector(".lidar-error")),a=new Int32Array(e,0,4)[0],l=new Uint8Array(e,4,a);let c="";for(const e of l)c+=String.fromCharCode(e);try{JSON.parse(c)}catch(e){if(!this.isPlotSetup_){const e=cS(o.querySelector(".lidar-canvas")),t=e.node(),n=t.getContext("2d");if(null===n)throw new Error("Missing ctx");n.clearRect(0,0,t.getBoundingClientRect().width,t.getBoundingClientRect().height),e.selectAll("*").remove();const r=this.getHTMLError_();s.style("visibility","visible"),s.html(r)}return}s.style("visibility","hidden");const u=JSON.parse(c);this.config.clientConfig.pointSum+=u.points,this.config.clientConfig.pointSum>this.config.serverConfig.max_point_number&&console.warn("Number of points is higher than Pytree configuration max value !");const h=u.pointAttributes,d=[];for(const e of h)null!=this.config.serverConfig.point_attributes[e]&&d.push(this.config.serverConfig.point_attributes[e]);const f=u.scale;if(u.points<3)return;const p=this.getEmptyProfilePoints_(),m=u.bytesPerPoint,g=e.slice(4+a);for(let e=0;e<u.points;e++){const t=new DataView(g,m*e,m);let r=0;for(const e of d){if("POSITION_PROJECTED_PROFILE"==e.value){const e=t.getUint32(r,!0)*f;p.distance.push(Math.round(100*(n+e))/100),this.profilePoints.distance.push(Math.round(100*(n+e))/100)}else if("CLASSIFICATION"==e.value){const e=t.getUint8(r);p.classification.push(e),this.profilePoints.classification.push(e)}else if("INTENSITY"==e.value){const e=t.getUint8(r);p.intensity.push(e),this.profilePoints.intensity.push(e)}else if("COLOR_PACKED"==e.value){const e=t.getUint8(r),n=t.getUint8(r+1),i=t.getUint8(r+2);p.color_packed.push([e,n,i]),this.profilePoints.color_packed.push([e,n,i])}else if("POSITION_CARTESIAN"==e.value){const e=u.boundingBox.lx;if("number"!=typeof e)throw new Error("Wrong lx type");const n=u.boundingBox.ly;if("number"!=typeof n)throw new Error("Wrong ly type");const i=u.boundingBox.lz;if("number"!=typeof i)throw new Error("Wrong lz type");const o=t.getInt32(r,!0)*f+e,s=t.getInt32(r+4,!0)*f+n,a=t.getInt32(r+8,!0)*f+i;p.coords.push([o,s]),p.altitude.push(a),this.profilePoints.altitude.push(a),this.profilePoints.coords.push([o,s])}r+=e.bytes}}const _=[0,this.line_.getLength()],y=[this.utils.arrayMin(p.altitude),this.utils.arrayMax(p.altitude)];(0==t&&i||!this.isPlotSetup_)&&(this.plot.setupPlot(_,y),this.isPlotSetup_=!0),this.plot.drawPoints(p)}getHTMLError_(){return`\n      <div class="lidarprofile-error">\n      <p class="bold">${V.t("LIDAR profile service error")}</p>\n      <p>${V.t("It might be offline")}</p>\n      <p>${V.t("Or did you attempt to draw a profile outside data extent?")}</p>\n      <p>${V.t("Or did you attempt to draw such a small profile that no point was returned?")}</p>\n    `}updateData(){this.debouncer()}updateData_(){if(!this.config)throw new Error("Missing config");if(!this.config.serverConfig)throw new Error("Missing config.serverConfig");if(!this.plot)throw new Error("Missing plot");if(!this.line_)throw new Error("Missing line");const e=this.plot.updateScaleX.domain();let t=this.map_?this.map_.getView().getResolution():0;t=t||0;const n=this.utils.clipLineByMeasure(this.config,t,this.line_,e[0],e[1]),r=this.lidarBuffer.getSource();r.clear(),r.addFeature(n.bufferGeom),this.lidarBuffer.setStyle(n.bufferStyle);const i=e[1]-e[0],o=this.utils.getNiceLOD(i,this.config.serverConfig.max_levels);Math.abs(e[0]-this.plot.previousDomainX[0])<.2&&Math.abs(e[1]-this.plot.previousDomainX[1])<.2||o.maxLOD<=this.config.serverConfig.initialLOD?this.plot.drawPoints(this.profilePoints):this.getProfileByLOD(n.clippedLine,n.distanceOffset,!1,0),this.plot.previousDomainX=e}},$j=Aj,Pj={SINGLECLICK:"singleclick",CLICK:dn,DBLCLICK:fn,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};function Rj(e){const t=arguments;return function(e){let n=!0;for(let r=0,i=t.length;r<i&&(n=n&&t[r](e),n);++r);return n}}const Oj=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Ij=function(e){const t=e.map.getTargetElement(),n=t.getRootNode();return!(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")||function(e){const t=e.map.getTargetElement(),n=t.getRootNode(),r=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(r):t.contains(r)}(e)},Fj=en,Nj=function(e){const t=e.originalEvent;return 0==t.button&&!(Dt&&At&&t.ctrlKey)},Yj=tn,jj=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Hj=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},zj=function(e){const t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},Uj=function(e){const t=e.originalEvent;return _r(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},Wj=function(e){const t=e.originalEvent;return _r(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button},Gj="webglcontextlost",qj="webglcontextrestored";const Bj=class{constructor(e){this.gl_=e.webGlContext;const t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer(),this.depthBuffer_=t.createRenderbuffer();const n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,e.vertexShader||"\n  precision mediump float;\n\n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n\n  uniform vec2 u_screenSize;\n\n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),t.compileShader(n);const r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,e.fragmentShader||"\n  precision mediump float;\n\n  uniform sampler2D u_image;\n  uniform float u_opacity;\n\n  varying vec2 v_texCoord;\n\n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"),t.compileShader(r),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,n),t.attachShader(this.renderTargetProgram_,r),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach((n=>{this.uniforms_.push({value:e.uniforms[n],location:t.getUniformLocation(this.renderTargetProgram_,n)})}))}getRenderTargetTexture(){return this.renderTargetTexture_}getGL(){return this.gl_}init(e){const t=this.getGL(),n=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.bindRenderbuffer(t.RENDERBUFFER,this.getDepthBuffer()),t.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;const e=0,r=t.RGBA,i=0,o=t.RGBA,s=t.UNSIGNED_BYTE,a=null;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,e,r,n[0],n[1],i,o,s,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n[0],n[1]),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthBuffer_)}}apply(e,t,n,r){const i=this.getGL(),o=e.size;if(i.bindFramebuffer(i.FRAMEBUFFER,t?t.getFrameBuffer():null),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.renderTargetTexture_),!t){const t=qe(i.canvas);if(!e.renderTargets[t]){const n=i.getContextAttributes();n&&n.preserveDrawingBuffer&&(i.clearColor(0,0,0,0),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)),e.renderTargets[t]=!0}}i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.bindBuffer(i.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),i.useProgram(this.renderTargetProgram_),i.enableVertexAttribArray(this.renderTargetAttribLocation_),i.vertexAttribPointer(this.renderTargetAttribLocation_,2,i.FLOAT,!1,0,0),i.uniform2f(this.renderTargetUniformLocation_,o[0],o[1]),i.uniform1i(this.renderTargetTextureLocation_,0);const s=e.layerStatesArray[e.layerIndex].opacity;i.uniform1f(this.renderTargetOpacityLocation_,s),this.applyUniforms(e),n&&n(i,e),i.drawArrays(i.TRIANGLES,0,6),r&&r(i,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){const t=this.getGL();let n,r=1;this.uniforms_.forEach((function(i){if(n="function"==typeof i.value?i.value(e):i.value,n instanceof HTMLCanvasElement||n instanceof ImageData)i.texture||(i.texture=t.createTexture()),t.activeTexture(t[`TEXTURE${r}`]),t.bindTexture(t.TEXTURE_2D,i.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n instanceof ImageData?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,n.width,n.height,0,t.UNSIGNED_BYTE,new Uint8Array(n.data)):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.uniform1i(i.location,r++);else if(Array.isArray(n))switch(n.length){case 2:return void t.uniform2f(i.location,n[0],n[1]);case 3:return void t.uniform3f(i.location,n[0],n[1],n[2]);case 4:return void t.uniform4f(i.location,n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&t.uniform1f(i.location,n)}))}},Vj=34962,Xj=34963,Kj=35044,Jj=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Zj(e,t){t=Object.assign({preserveDrawingBuffer:!0,antialias:!Et},t);const n=Jj.length;for(let r=0;r<n;++r)try{const n=e.getContext(Jj[r],t);if(n)return n}catch(e){}return null}function Qj(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}const eH="u_time",tH="u_zoom",nH="u_resolution",rH="u_rotation",iH="u_viewportSizePx",oH="u_pixelRatio",sH="u_hitDetection",aH=5121,lH=5123,cH=5125,uH=5126,hH={};function dH(e){return"shared/"+e}let fH=0;function pH(e){switch(e){case aH:return Uint8Array.BYTES_PER_ELEMENT;case lH:return Uint16Array.BYTES_PER_ELEMENT;case cH:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}const mH=class extends Gt{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?dH(e.canvasCacheKey):function(){const e="unique/"+fH;return fH+=1,e}(),this.gl_=function(e){let t=hH[e];if(!t){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0",t={users:0,context:Zj(n)},hH[e]=t}return t.users+=1,t.context}(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const t=this.gl_.canvas;t.addEventListener(Gj,this.boundHandleWebGLContextLost_),t.addEventListener(qj,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=[1,0,0,1,0,0],this.offsetScaleMatrix_=[1,0,0,1,0,0],this.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map((e=>new Bj({webGlContext:this.gl_,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms}))):[new Bj({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(const t in e)this.uniforms_.push({name:t,value:e[t]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_===dH(e)}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];const t=this.gl_.getExtension(e);return this.extensionCache_[e]=t,t}bindBuffer(e){const t=this.gl_,n=qe(e);let r=this.bufferCache_[n];if(!r){r={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[n]=r}t.bindBuffer(e.getType(),r.webGlBuffer)}flushBufferData(e){const t=this.gl_;this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){const t=qe(e);delete this.bufferCache_[t]}disposeInternal(){const e=this.gl_.canvas;e.removeEventListener(Gj,this.boundHandleWebGLContextLost_),e.removeEventListener(qj,this.boundHandleWebGLContextRestored_),function(e){const t=hH[e];if(!t)return;if(t.users-=1,t.users>0)return;const n=t.context,r=n.getExtension("WEBGL_lose_context");r&&r.loseContext();const i=n.canvas;i.width=1,i.height=1,delete hH[e]}(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,t,n){const r=this.gl_,i=this.getCanvas(),o=e.size,s=e.pixelRatio;i.width===o[0]*s&&i.height===o[1]*s||(i.width=o[0]*s,i.height=o[1]*s,i.style.width=o[0]+"px",i.style.height=o[1]+"px");for(let t=this.postProcessPasses_.length-1;t>=0;t--)this.postProcessPasses_[t].init(e);r.bindTexture(r.TEXTURE_2D,null),r.clearColor(0,0,0,0),r.depthRange(0,1),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,t?r.ZERO:r.ONE_MINUS_SRC_ALPHA),n?(r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL)):r.disable(r.DEPTH_TEST)}bindFrameBuffer(e,t){const n=this.getGL();n.bindFramebuffer(n.FRAMEBUFFER,e),t&&n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0)}bindInitialFrameBuffer(){const e=this.getGL(),t=this.postProcessPasses_[0].getFrameBuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);const n=this.postProcessPasses_[0].getRenderTargetTexture();e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}bindTexture(e,t,n){const r=this.gl_;r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,e),r.uniform1i(this.getUniformLocation(n),t)}bindAttribute(e,t,n){const r=this.getGL();this.bindBuffer(e);const i=this.getAttributeLocation(t);r.enableVertexAttribArray(i),r.vertexAttribPointer(i,n,r.FLOAT,!1,0,0)}prepareDrawToRenderTarget(e,t,n,r){const i=this.gl_,o=t.getSize();i.bindFramebuffer(i.FRAMEBUFFER,t.getFramebuffer()),i.bindRenderbuffer(i.RENDERBUFFER,t.getDepthbuffer()),i.viewport(0,0,o[0],o[1]),i.bindTexture(i.TEXTURE_2D,t.getTexture()),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),r?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}drawElements(e,t){const n=this.gl_;this.getExtension("OES_element_index_uint");const r=n.UNSIGNED_INT,i=t-e,o=4*e;n.drawElements(n.TRIANGLES,i,r,o)}finalizeDraw(e,t,n){for(let r=0,i=this.postProcessPasses_.length;r<i;r++)r===i-1?this.postProcessPasses_[r].apply(e,null,t,n):this.postProcessPasses_[r].apply(e,this.postProcessPasses_[r+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){const t=e.size,n=e.viewState.rotation,r=e.pixelRatio;this.setUniformFloatValue(eH,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(tH,e.viewState.zoom),this.setUniformFloatValue(nH,e.viewState.resolution),this.setUniformFloatValue(oH,r),this.setUniformFloatVec2(iH,[t[0],t[1]]),this.setUniformFloatValue(rH,n)}applyHitDetectionUniform(e){const t=this.getUniformLocation(sH);this.getGL().uniform1i(t,e?1:0),e&&this.setUniformFloatValue(oH,.5)}applyUniforms(e){const t=this.gl_;let n,r=0;this.uniforms_.forEach((i=>{if(n="function"==typeof i.value?i.value(e):i.value,n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof ImageData||n instanceof WebGLTexture){n instanceof WebGLTexture&&!i.texture?(i.prevValue=void 0,i.texture=n):i.texture||(i.prevValue=void 0,i.texture=t.createTexture()),this.bindTexture(i.texture,r,i.name),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);const e=!(n instanceof HTMLImageElement)||n.complete;n instanceof WebGLTexture||!e||i.prevValue===n||(i.prevValue=n,t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),r++}else if(Array.isArray(n)&&6===n.length)this.setUniformMatrixValue(i.name,Qj(this.tmpMat4_,n));else if(Array.isArray(n)&&n.length<=4)switch(n.length){case 2:return void t.uniform2f(this.getUniformLocation(i.name),n[0],n[1]);case 3:return void t.uniform3f(this.getUniformLocation(i.name),n[0],n[1],n[2]);case 4:return void t.uniform4f(this.getUniformLocation(i.name),n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&t.uniform1f(this.getUniformLocation(i.name),n)}))}useProgram(e,t){this.gl_.useProgram(e),this.currentProgram_=e,t&&(this.applyFrameState(t),this.applyUniforms(t))}compileShader(e,t){const n=this.gl_,r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}getProgram(e,t){const n=this.gl_,r=this.compileShader(e,n.FRAGMENT_SHADER),i=this.compileShader(t,n.VERTEX_SHADER),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getShaderParameter(r,n.COMPILE_STATUS)){const e=`Fragment shader compilation failed: ${n.getShaderInfoLog(r)}`;throw new Error(e)}if(n.deleteShader(r),!n.getShaderParameter(i,n.COMPILE_STATUS)){const e=`Vertex shader compilation failed: ${n.getShaderInfoLog(i)}`;throw new Error(e)}if(n.deleteShader(i),!n.getProgramParameter(o,n.LINK_STATUS)){const e=`GL program linking failed: ${n.getProgramInfoLog(o)}`;throw new Error(e)}return o}getUniformLocation(e){const t=qe(this.currentProgram_);return void 0===this.uniformLocationsByProgram_[t]&&(this.uniformLocationsByProgram_[t]={}),void 0===this.uniformLocationsByProgram_[t][e]&&(this.uniformLocationsByProgram_[t][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[t][e]}getAttributeLocation(e){const t=qe(this.currentProgram_);return void 0===this.attribLocationsByProgram_[t]&&(this.attribLocationsByProgram_[t]={}),void 0===this.attribLocationsByProgram_[t][e]&&(this.attribLocationsByProgram_[t][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[t][e]}makeProjectionTransform(e,t){const n=e.size,r=e.viewState.rotation,i=e.viewState.resolution,o=e.viewState.center;return O$(t,0,0,2/(i*n[0]),2/(i*n[1]),-r,-o[0],-o[1]),t}setUniformFloatValue(e,t){this.gl_.uniform1f(this.getUniformLocation(e),t)}setUniformFloatVec2(e,t){this.gl_.uniform2fv(this.getUniformLocation(e),t)}setUniformFloatVec4(e,t){this.gl_.uniform4fv(this.getUniformLocation(e),t)}setUniformMatrixValue(e,t){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,t)}enableAttributeArray_(e,t,n,r,i){const o=this.getAttributeLocation(e);o<0||(this.gl_.enableVertexAttribArray(o),this.gl_.vertexAttribPointer(o,t,n,!1,r,i))}enableAttributes(e){const t=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];t+=r.size*pH(r.type)}return t}(e);let n=0;for(let r=0;r<e.length;r++){const i=e[r];this.enableAttributeArray_(i.name,i.size,i.type||5126,t,n),n+=i.size*pH(i.type)}}handleWebGLContextLost(e){sn(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,t,n,r){const i=this.gl_;n=n||i.createTexture();const o=r?i.NEAREST:i.LINEAR;i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const s=i.RGBA,a=i.RGBA,l=i.UNSIGNED_BYTE;return t instanceof Uint8Array?i.texImage2D(i.TEXTURE_2D,0,s,e[0],e[1],0,a,l,t):t?i.texImage2D(i.TEXTURE_2D,0,s,a,l,t):i.texImage2D(i.TEXTURE_2D,0,s,e[0],e[1],0,a,l,null),n}},gH="preload",_H="useInterimTilesOnError";const yH=class extends MI{constructor(e){e=e||{};const t=Object.assign({},e),n=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(gH)}setPreload(e){this.set(gH,e)}getUseInterimTilesOnError(){return this.get(_H)}setUseInterimTilesOnError(e){this.set(_H,e)}getData(e){return super.getData(e)}},bH=0,vH=1,wH=2,xH=3,MH=4;const SH=class extends ln{constructor(e,t,n){super(),n=n||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(cn)}release(){this.state===xH&&this.setState(MH)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==xH&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){We()}getAlpha(e,t){if(!this.transition_)return 1;let n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;const r=t-n+1e3/60;return r>=this.transition_?1:JO(r/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}};function kH(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}function TH(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e instanceof DataView?e:null}const LH=new Error("disposed");let CH=null;const EH=[256,256];const DH=class extends SH{constructor(e){const t=bH;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=kH(this.data_);return e?[e.width,e.height]:EH}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==bH&&this.state!==xH)return;this.state=vH,this.changed();const e=this;this.loader_().then((function(t){e.data_=t,e.state=wH,e.changed()})).catch((function(t){e.error_=t,e.state=xH,e.changed()}))}disposeInternal(){this.controller_&&(this.controller_.abort(LH),this.controller_=null),super.disposeInternal()}};const AH=class{constructor(e,t,n,r,i,o){this.sourceProj_=e,this.targetProj_=t;let s={};const a=xR(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){const t=e[0]+"/"+e[1];return s[t]||(s[t]=a(e)),s[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&vP(r)>=vP(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?vP(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?vP(this.targetProj_.getExtent()):null;const l=yP(n),c=bP(n),u=dP(n),h=hP(n),d=this.transformInv_(l),f=this.transformInv_(c),p=this.transformInv_(u),m=this.transformInv_(h),g=10+(o?Math.max(0,Math.ceil(Math.log2(uP(n)/(o*o*256*256)))):0);if(this.addQuad_(l,c,u,h,d,f,p,m,g),this.wrapsXInSource_){let e=1/0;this.triangles_.forEach((function(t,n,r){e=Math.min(e,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((t=>{if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2){const n=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];n[0][0]-e>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-e>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-e>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const r=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-r<this.sourceWorldWidth_/2&&(t.source=n)}}))}s={}}addTriangle_(e,t,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[e,t,n]})}addQuad_(e,t,n,r,i,o,s,a,l){const c=G$([i,o,s,a]),u=this.sourceWorldWidth_?vP(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1;let f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){f=vP(G$([e,t,n,r]))/this.targetWorldWidth_>.25||f}!d&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!wP(c,this.maxSourceExtent_))return;let p=0;if(!(f||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)f=!0;else if(p=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!f){const t=[(e[0]+n[0])/2,(e[1]+n[1])/2],r=this.transformInv_(t);let o;if(d){o=(dt(i[0],h)+dt(s[0],h))/2-dt(r[0],h)}else o=(i[0]+s[0])/2-r[0];const a=(i[1]+s[1])/2-r[1];f=o*o+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const c=[(t[0]+n[0])/2,(t[1]+n[1])/2],u=this.transformInv_(c),h=[(r[0]+e[0])/2,(r[1]+e[1])/2],d=this.transformInv_(h);this.addQuad_(e,t,c,h,i,o,u,d,l-1),this.addQuad_(h,c,n,r,d,u,s,a,l-1)}else{const c=[(e[0]+t[0])/2,(e[1]+t[1])/2],u=this.transformInv_(c),h=[(n[0]+r[0])/2,(n[1]+r[1])/2],d=this.transformInv_(h);this.addQuad_(e,c,h,r,i,u,d,a,l-1),this.addQuad_(c,t,n,h,u,o,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&p||this.addTriangle_(e,n,r,i,s,a),14&p||this.addTriangle_(e,n,t,i,s,o),p&&(13&p||this.addTriangle_(t,r,e,o,a,i),7&p||this.addTriangle_(t,r,n,o,a,s))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(t,n,r){const i=t.source;sP(e,i[0]),sP(e,i[1]),sP(e,i[2])})),e}getTriangles(){return this.triangles_}};let $H;const PH=[];function RH(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function OH(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function IH(e,t,n,r){const i=MR(n,t,e);let o=mR(t,r,n);const s=t.getMetersPerUnit();void 0!==s&&(o*=s);const a=e.getMetersPerUnit();void 0!==a&&(o/=a);const l=e.getExtent();if(!l||X$(l,i)){const t=mR(e,o,i)/o;isFinite(t)&&t>0&&(o/=t)}return o}function FH(e,t,n,r){const i=fP(n);let o=IH(e,t,i,r);return(!isFinite(o)||o<=0)&&cP(n,(function(n){return o=IH(e,t,n,r),isFinite(o)&&o>0})),o}function NH(e,t,n,r,i,o,s,a,l,c,u,h,d,f){const p=Ft(Math.round(n*e),Math.round(n*t),PH);if(h||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function m(e){return Math.round(e*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";const g=[1/0,1/0,-1/0,-1/0];let _;l.forEach((function(e,t,n){oP(g,e.extent)}));const y=n/r,b=(h?1:1+Math.pow(2,-24))/y;if(!d||1!==l.length||0!==c){if(_=Ft(Math.round(vP(g)*y),Math.round(gP(g)*y),PH),h||(_.imageSmoothingEnabled=!1),i&&f){const e=(i[0]-g[0])*y,t=-(i[3]-g[3])*y,n=vP(i)*y,r=gP(i)*y;_.rect(e,t,n,r),_.clip()}l.forEach((function(e,t,n){if(e.image.width>0&&e.image.height>0){if(e.clipExtent){_.save();const t=(e.clipExtent[0]-g[0])*y,n=-(e.clipExtent[3]-g[3])*y,r=vP(e.clipExtent)*y,i=gP(e.clipExtent)*y;_.rect(h?t:Math.round(t),h?n:Math.round(n),h?r:Math.round(t+r)-Math.round(t),h?i:Math.round(n+i)-Math.round(n)),_.clip()}const t=(e.extent[0]-g[0])*y,n=-(e.extent[3]-g[3])*y,r=vP(e.extent)*y,i=gP(e.extent)*y;_.drawImage(e.image,c,c,e.image.width-2*c,e.image.height-2*c,h?t:Math.round(t),h?n:Math.round(n),h?r:Math.round(t+r)-Math.round(t),h?i:Math.round(n+i)-Math.round(n)),e.clipExtent&&_.restore()}}))}const v=yP(s);return a.getTriangles().forEach((function(e,t,n){const r=e.source,i=e.target;let s=r[0][0],a=r[0][1],c=r[1][0],u=r[1][1],d=r[2][0],f=r[2][1];const y=m((i[0][0]-v[0])/o),w=m(-(i[0][1]-v[1])/o),x=m((i[1][0]-v[0])/o),M=m(-(i[1][1]-v[1])/o),S=m((i[2][0]-v[0])/o),k=m(-(i[2][1]-v[1])/o),T=s,L=a;s=0,a=0,c-=T,u-=L,d-=T,f-=L;const C=function(e){const t=e.length;for(let n=0;n<t;n++){let r=n,i=Math.abs(e[n][n]);for(let o=n+1;o<t;o++){const t=Math.abs(e[o][n]);t>i&&(i=t,r=o)}if(0===i)return null;const o=e[r];e[r]=e[n],e[n]=o;for(let r=n+1;r<t;r++){const i=-e[r][n]/e[n][n];for(let o=n;o<t+1;o++)n==o?e[r][o]=0:e[r][o]+=i*e[n][o]}}const n=new Array(t);for(let r=t-1;r>=0;r--){n[r]=e[r][t]/e[r][r];for(let i=r-1;i>=0;i--)e[i][t]-=e[i][r]*n[r]}return n}([[c,u,0,0,x-y],[d,f,0,0,S-y],[0,0,c,u,M-w],[0,0,d,f,k-w]]);if(!C)return;if(p.save(),p.beginPath(),function(){if(void 0===$H){const e=Ft(6,6,PH);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",RH(e,4,5,4,0),RH(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;$H=OH(t,0)||OH(t,4)||OH(t,8),jt(e),PH.push(e.canvas)}return $H}()||!h){p.moveTo(x,M);const e=4,t=y-x,n=w-M;for(let r=0;r<e;r++)p.lineTo(x+m((r+1)*t/e),M+m(r*n/(e-1))),r!=e-1&&p.lineTo(x+m((r+1)*t/e),M+m((r+1)*n/(e-1)));p.lineTo(S,k)}else p.moveTo(x,M),p.lineTo(y,w),p.lineTo(S,k);let E;if(p.clip(),p.transform(C[0],C[2],C[1],C[3],y,w),p.translate(g[0]-T,g[3]-L),_)E=_.canvas,p.scale(b,-b);else{const e=l[0],t=e.extent;E=e.image,p.scale(vP(t)/E.width,-gP(t)/E.height)}p.drawImage(E,0,0),p.restore()})),_&&(jt(_),PH.push(_.canvas)),u&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(e,t,n){const r=e.target,i=(r[0][0]-v[0])/o,s=-(r[0][1]-v[1])/o,a=(r[1][0]-v[0])/o,l=-(r[1][1]-v[1])/o,c=(r[2][0]-v[0])/o,u=-(r[2][1]-v[1])/o;p.beginPath(),p.moveTo(a,l),p.lineTo(i,s),p.lineTo(c,u),p.closePath(),p.stroke()})),p.restore()),p.canvas}const YH=class extends DH{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const t=e.sourceProj,n=t.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=t.canWrapX()?r?_P(n,r):n:r;const i=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent();let s=this.sourceTileGrid_.getExtent();const a=o?_P(i,o):i;if(0===uP(a))return void(this.state=MH);n&&(s=s?_P(s,n):n);const l=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),c=e.targetProj,u=FH(t,c,a,l);if(!isFinite(u)||u<=0)return void(this.state=MH);const h=void 0!==e.errorThreshold?e.errorThreshold:.5;if(this.triangulation_=new AH(t,c,a,s,u*h,l),0===this.triangulation_.getTriangles().length)return void(this.state=MH);this.sourceZ_=this.sourceTileGrid_.getZForResolution(u);let d=this.triangulation_.calculateSourceExtent();if(s&&(t.canWrapX()?(d[1]=at(d[1],s[1],s[3]),d[3]=at(d[3],s[1],s[3])):d=_P(d,s)),uP(d)){let r=0,i=0;t.canWrapX()&&(r=vP(n),i=Math.floor((d[0]-n[0])/r));kP(d.slice(),t,!0).forEach((t=>{const n=this.sourceTileGrid_.getTileRangeForExtentAndZ(t,this.sourceZ_),o=e.getTileFunction;for(let e=n.minX;e<=n.maxX;e++)for(let t=n.minY;t<=n.maxY;t++){const n=o(this.sourceZ_,e,t,this.pixelRatio_);if(n){const e=i*r;this.sourceTiles_.push({tile:n,offset:e})}}++i})),0===this.sourceTiles_.length&&(this.state=MH)}else this.state=MH}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let t=!1;if(this.sourceTiles_.forEach((n=>{const r=n.tile;if(!r||r.getState()!==wH)return;const i=r.getSize(),o=this.gutter_;let s;const a=TH(r.getData());a?s=a:(t=!0,s=function(e){CH||(CH=Ft(e.width,e.height,void 0,{willReadFrequently:!0}));const t=CH.canvas,n=e.width;t.width!==n&&(t.width=n);const r=e.height;return t.height!==r&&(t.height=r),CH.clearRect(0,0,n,r),CH.drawImage(e,0,0),CH.getImageData(0,0,n,r).data}(kH(r.getData())));const l=[i[0]+2*o,i[1]+2*o],c=s instanceof Float32Array,u=l[0]*l[1],h=c?Float32Array:Uint8ClampedArray,d=new h(s.buffer),f=h.BYTES_PER_ELEMENT,p=f*d.length/u,m=d.byteLength/l[1],g=Math.floor(m/f/l[0]),_=u*g;let y=d;if(d.length!==_){y=new h(_);let e=0,t=0;const n=l[0]*g;for(let r=0;r<l[1];++r){for(let r=0;r<n;++r)y[e++]=d[t+r];t+=m/f}}const b=this.sourceTileGrid_.getTileCoordExtent(r.tileCoord);b[0]+=n.offset,b[2]+=n.offset;const v=this.clipExtent_?.slice();v&&(v[0]+=n.offset,v[2]+=n.offset),e.push({extent:b,clipExtent:v,data:new Uint8ClampedArray(y.buffer),dataType:h,bytesPerPixel:p,pixelSize:l})})),this.sourceTiles_.length=0,0===e.length)return this.state=xH,void this.changed();const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i="number"==typeof r?r:r[0],o="number"==typeof r?r:r[1],s=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let c,u;const h=e[0].bytesPerPixel;for(let t=Math.ceil(h/3)-1;t>=0;--t){const n=[];for(let r=0,i=e.length;r<i;++r){const i=e[r],o=i.data,s=i.pixelSize,a=s[0],l=s[1],c=Ft(a,l,PH),u=c.createImageData(a,l),d=u.data;let f=3*t;for(let e=0,t=d.length;e<t;e+=4)d[e]=o[f],d[e+1]=o[f+1],d[e+2]=o[f+2],d[e+3]=255,f+=h;c.putImageData(u,0,0),n.push({extent:i.extent,clipExtent:i.clipExtent,image:c.canvas})}const r=NH(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,n,this.gutter_,!1,!1,!1);for(let e=0,t=n.length;e<t;++e){const t=n[e].image.getContext("2d");jt(t),PH.push(t.canvas)}const d=r.getContext("2d"),f=d.getImageData(0,0,r.width,r.height);jt(d),PH.push(r),c||(u=new Uint8ClampedArray(h*f.width*f.height),c=new e[0].dataType(u.buffer));const p=f.data;let m=3*t;for(let e=0,t=p.length;e<t;e+=4)255===p[e+3]?(u[m]=p[e],u[m+1]=p[e+1],u[m+2]=p[e+2]):(u[m]=0,u[m+1]=0,u[m+2]=0),m+=h}if(t){const e=Ft(i,o),t=new ImageData(c,i);e.putImageData(t,0,0),this.reprojData_=e.canvas}else this.reprojData_=c;this.reprojSize_=[Math.round(i*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=wH,this.changed()}load(){if(this.state!==bH&&this.state!==xH)return;this.state=vH,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:t})=>{const n=t.getState();if(n!==bH&&n!==vH)return;e++;const r=bn(t,cn,(()=>{const n=t.getState();n!=wH&&n!=xH&&n!=MH||(wn(r),e--,0===e&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(r)})),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:e}){e.getState()==bH&&e.load()}))}unlistenSources_(){this.sourcesListenerKeys_.forEach(wn),this.sourcesListenerKeys_=null}};const jH=class extends SH{constructor(e,t,n,r,i,o,s,a,l,c,u,h){super(i,bH,h),this.renderEdges_=void 0!==u&&u,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||i,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const d=r.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const m=f?_P(d,f):d;if(0===uP(m))return void(this.state=MH);const g=e.getExtent();g&&(p=p?_P(p,g):g);const _=r.getResolution(this.wrappedTileCoord_[0]),y=FH(e,n,m,_);if(!isFinite(y)||y<=0)return void(this.state=MH);const b=void 0!==c?c:.5;if(this.triangulation_=new AH(e,n,m,p,y*b,_),0===this.triangulation_.getTriangles().length)return void(this.state=MH);this.sourceZ_=t.getZForResolution(y);let v=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(v[1]=at(v[1],p[1],p[3]),v[3]=at(v[3],p[1],p[3])):v=_P(v,p)),uP(v)){let n=0,r=0;e.canWrapX()&&(n=vP(g),r=Math.floor((v[0]-g[0])/n));kP(v.slice(),e,!0).forEach((e=>{const i=t.getTileRangeForExtentAndZ(e,this.sourceZ_);for(let e=i.minX;e<=i.maxX;e++)for(let t=i.minY;t<=i.maxY;t++){const i=l(this.sourceZ_,e,t,s);if(i){const e=r*n;this.sourceTiles_.push({tile:i,offset:e})}}++r})),0===this.sourceTiles_.length&&(this.state=MH)}else this.state=MH}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach((t=>{const n=t.tile;if(n&&n.getState()==wH){const r=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);r[0]+=t.offset,r[2]+=t.offset;const i=this.clipExtent_?.slice();i&&(i[0]+=t.offset,i[2]+=t.offset),e.push({extent:r,clipExtent:i,image:n.getImage()})}})),this.sourceTiles_.length=0,0===e.length)this.state=xH;else{const t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=NH(r,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=wH}this.changed()}load(){if(this.state==bH){this.state=vH,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:t})=>{const n=t.getState();if(n==bH||n==vH){e++;const n=bn(t,cn,(r=>{const i=t.getState();i!=wH&&i!=xH&&i!=MH||(wn(n),e--,0===e&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(n)}})),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:e},t,n){e.getState()==bH&&e.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(wn),this.sourcesListenerKeys_=null}release(){this.canvas_&&(jt(this.canvas_.getContext("2d")),PH.push(this.canvas_),this.canvas_=null),super.release()}};const HH=class extends SH{constructor(e,t,n,r,i,o){super(e,t,o),this.crossOrigin_=r,this.src_=n,this.key=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=i}getImage(){return this.image_}setImage(e){this.image_=e,this.state=wH,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=xH,this.unlistenImage_(),this.image_=function(){const e=Ft(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=wH:this.state=MH,this.unlistenImage_(),this.changed()}load(){this.state==xH&&(this.state=bH,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==bH&&(this.state=vH,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,t,n){const r=e;let i=!0,o=!1,s=!1;const a=[vn(r,gn,(function(){s=!0,o||t()}))];return r.src&&Rt?(o=!0,r.decode().then((function(){i&&t()})).catch((function(e){i&&(s?t():n())}))):a.push(vn(r,un,n)),function(){i=!1,a.forEach(wn)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};const zH=class extends ln{constructor(e){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter=e.gutter||0,this.helper=e.helper,this.loaded=!1,this.ready=!1}setTile(e){if(e!==this.tile)if(this.tile&&this.tile.removeEventListener(cn,this.handleTileChange_),this.tile=e,this.loaded=e.getState()===wH,this.loaded)this.uploadTile();else{if(e instanceof HH){const t=e.getImage();t instanceof Image&&!t.crossOrigin&&(t.crossOrigin="anonymous")}e.addEventListener(cn,this.handleTileChange_)}}uploadTile(){We()}setReady(){this.ready=!0,this.dispatchEvent(cn)}handleTileChange_(){this.tile.getState()===wH&&(this.loaded=!0,this.uploadTile())}setHelper(e){this.helper=e,this.helper&&this.loaded&&this.uploadTile()}disposeInternal(){this.setHelper(null),this.tile.removeEventListener(cn,this.handleTileChange_)}},UH=Kj;function WH(e){switch(e){case Vj:return Float32Array;case Xj:return Uint32Array;default:return Float32Array}}const GH=class{constructor(e,t){this.array_=null,this.type_=e,_r(e===Vj||e===Xj,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=void 0!==t?t:UH}ofSize(e){return this.array_=new(WH(this.type_))(e),this}fromArray(e){return this.array_=WH(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(WH(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}setArray(e){const t=WH(this.type_);if(!(e instanceof t))throw new Error(`Expected ${t}`);this.array_=e}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}};function qH(e,t,n){const r=n?e.LINEAR:e.NEAREST;e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r)}function BH(e,t,n,r,i,o){const s=e.getGL();let a,l;if(n instanceof Float32Array){a=s.FLOAT,e.getExtension("OES_texture_float");l=null!==e.getExtension("OES_texture_float_linear")}else a=s.UNSIGNED_BYTE,l=!0;qH(s,t,o&&l);const c=n.byteLength/r[1];let u,h=1;switch(c%8==0?h=8:c%4==0?h=4:c%2==0&&(h=2),i){case 1:u=s.LUMINANCE;break;case 2:u=s.LUMINANCE_ALPHA;break;case 3:u=s.RGB;break;case 4:u=s.RGBA;break;default:throw new Error(`Unsupported number of bands: ${i}`)}const d=s.getParameter(s.UNPACK_ALIGNMENT);s.pixelStorei(s.UNPACK_ALIGNMENT,h),s.texImage2D(s.TEXTURE_2D,0,u,r[0],r[1],0,u,a,n),s.pixelStorei(s.UNPACK_ALIGNMENT,d)}let VH=null;const XH=class extends zH{constructor(e){super(e),this.textures=[],this.renderSize_=Ve(e.grid.getTileSize(e.tile.tileCoord[0])),this.bandCount=NaN;const t=new GH(Vj,Kj);t.fromArray([0,1,1,1,1,0,0,0]),this.helper.flushBufferData(t),this.coords=t,this.setTile(e.tile)}setHelper(e){const t=this.helper?.getGL();if(t){this.helper.deleteBuffer(this.coords);for(let e=0;e<this.textures.length;++e)t.deleteTexture(this.textures[e])}super.setHelper(e),e&&e.flushBufferData(this.coords)}uploadTile(){const e=this.helper,t=e.getGL(),n=this.tile;let r;this.textures.length=0,r=n instanceof HH||n instanceof jH?n.getImage():n.getData();const i=kH(r);if(i){const e=t.createTexture();return this.textures.push(e),this.bandCount=4,function(e,t,n,r){qH(e,t,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}(t,e,i,n.interpolate),void this.setReady()}r=TH(r);const o=n.getSize(),s=[o[0]+2*this.gutter,o[1]+2*this.gutter],a=r instanceof Float32Array,l=s[0]*s[1],c=a?Float32Array:Uint8Array,u=c.BYTES_PER_ELEMENT,h=r.byteLength/s[1];this.bandCount=Math.floor(h/u/s[0]);const d=Math.ceil(this.bandCount/4);if(1===d){const i=t.createTexture();return this.textures.push(i),BH(e,i,r,s,this.bandCount,n.interpolate),void this.setReady()}const f=new Array(d);for(let e=0;e<d;++e){const n=t.createTexture();this.textures.push(n);const r=e<d-1?4:(this.bandCount-1)%4+1;f[e]=new c(l*r)}let p=0,m=0;const g=s[0]*this.bandCount;for(let e=0;e<s[1];++e){for(let e=0;e<g;++e){const t=r[m+e],n=Math.floor(p/this.bandCount),i=e%this.bandCount,o=f[Math.floor(i/4)];o[n*(o.length/l)+i%4]=t,++p}m+=h/u}for(let t=0;t<d;++t){const r=this.textures[t],i=f[t];BH(e,r,i,s,i.length/l,n.interpolate)}this.setReady()}getImagePixelData_(e,t,n){const r=this.gutter,i=this.renderSize_[0],o=this.renderSize_[1];VH||(VH=Ft(1,1,void 0,{willReadFrequently:!0})),VH.clearRect(0,0,1,1);const s=e.width-2*r,a=e.height-2*r,l=r+Math.floor(s*(t/i)),c=r+Math.floor(a*(n/o));let u;try{VH.drawImage(e,l,c,1,1,0,0,1,1),u=VH.getImageData(0,0,1,1).data}catch(e){return VH=null,null}return u}getArrayPixelData_(e,t,n,r){const i=this.gutter,o=this.renderSize_[0],s=this.renderSize_[1],a=t[0],l=t[1],c=a+2*i,u=l+2*i,h=i+Math.floor(a*(n/o)),d=i+Math.floor(l*(r/s));if(e instanceof DataView){const t=e.byteLength/(c*u),n=t*(d*c+h),r=e.buffer.slice(n,n+t);return new DataView(r)}const f=this.bandCount*(d*c+h);return e.slice(f,f+this.bandCount)}getPixelData(e,t){if(!this.loaded)return null;if(this.tile instanceof DH){const n=this.tile.getData(),r=TH(n);if(r){const n=this.tile.getSize();return this.getArrayPixelData_(r,n,e,t)}return this.getImagePixelData_(kH(n),e,t)}return this.getImagePixelData_(this.tile.getImage(),e,t)}};const KH=class{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();){const e=this.pop();e instanceof Gt&&e.dispose()}}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const n=this.entries_[e];return _r(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(e){const t=this.entries_[e];return _r(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t,n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e}getValues(){const e=new Array(this.count_);let t,n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){_r(!(e in this.entries_),"Tried to set a value for a key that is used already");const n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}setSize(e){this.highWaterMark=e}};class JH{constructor(e,t,n,r){this.minX=e,this.maxX=t,this.minY=n,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function ZH(e,t,n,r,i){return void 0!==i?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new JH(e,t,n,r)}const QH=JH;class ez extends iY{constructor(e,t){super(e),t=t||{},this.inversePixelTransform_=[1,0,0,1,0,0],this.postProcesses_=t.postProcesses,this.uniforms_=t.uniforms,this.helper,this.onMapChanged_=()=>{this.clearCache(),this.removeHelper()},e.addChangeListener(PO,this.onMapChanged_),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,t){const n=this.getLayer();if(n.hasListener(FO)){const r=new oY(FO,void 0,t,e);n.dispatchEvent(r)}}dispatchPostComposeEvent(e,t){const n=this.getLayer();if(n.hasListener(NO)){const r=new oY(NO,void 0,t,e);n.dispatchEvent(r)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let t,n=!0,r=-1;for(let i=0,o=e.layerStatesArray.length;i<o;i++){const o=e.layerStatesArray[i].layer,s=o.getRenderer();if(!(s instanceof ez)){n=!0;continue}const a=o.getClassName();if((n||a!==t)&&(r+=1,n=!1),t=a,s===this)break}const i="map/"+e.mapId+"/group/"+r;this.helper&&this.helper.canvasCacheKeyMatches(i)&&!this.helper.needsToBeRecreated()||(this.removeHelper(),this.helper=new mH({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:i}),t&&(this.helper.getCanvas().className=t),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}clearCache(){}disposeInternal(){this.clearCache(),this.removeHelper(),this.getLayer()?.removeChangeListener(PO,this.onMapChanged_),super.disposeInternal()}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){O$(this.inversePixelTransform_,0,0,n.pixelRatio,-n.pixelRatio,0,0,-n.size[1]);const i=new oY(e,this.inversePixelTransform_,n,t);r.dispatchEvent(i)}}preRender(e,t){this.dispatchRenderEvent_(OO,e,t)}postRender(e,t){this.dispatchRenderEvent_(IO,e,t)}}const tz=ez;function nz(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function rz(e,t,n){return e+"/"+t+"/"+n}function iz(e){return rz(e[0],e[1],e[2])}function oz(e){return function(e,t,n){return(t<<e)+n}(e[0],e[1],e[2])}function sz(e){return 1/(e+2)}function az(e,t){return e.tileIds.has(qe(t))}function lz(e,t,n){const r=e.representationsByZ;n in r||(r[n]=new Set),r[n].add(t),e.tileIds.add(qe(t.tile))}function cz(e,t){const n=e.layerStatesArray[e.layerIndex];n.extent&&(t=_P(t,DR(n.extent,e.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const n=r.getTileGridForProjection(e.viewState.projection).getExtent();n&&(t=_P(t,n))}return t}function uz(e,t){return`${e.getKey()},${iz(t)}`}const hz=class extends tz{constructor(e,t){super(e,{uniforms:t.uniforms,postProcesses:t.postProcesses}),this.renderComplete=!1,this.tileTransform_=[1,0,0,1,0,0],this.tempMat4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.tempTileRange_=new QH(0,0,0,0),this.tempTileCoord_=nz(0,0,0),this.tempSize_=[0,0];const n=void 0!==t.cacheSize?t.cacheSize:512;this.tileRepresentationCache=new KH(n),this.frameState=null,this.renderedProjection_=void 0}reset(e){super.reset({uniforms:e.uniforms})}prepareFrameInternal(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.clearCache(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const t=this.getLayer().getRenderSource();return!!t&&(!xP(cz(e,e.extent))&&"ready"===t.getState())}createTileRepresentation(e){return We()}enqueueTiles(e,t,n,r,i){const o=e.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getGutterForProjection(o.projection),u=qe(a);u in e.wantedTiles||(e.wantedTiles[u]={});const h=e.wantedTiles[u],d=this.tileRepresentationCache,f=s.getMapInternal(),p=Math.max(n-i,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection));for(let i=n;i>=p;--i){const n=l.getTileRangeForExtentAndZ(t,i,this.tempTileRange_),s=l.getResolution(i);for(let t=n.minX;t<=n.maxX;++t)for(let f=n.minY;f<=n.maxY;++f){const n=nz(i,t,f,this.tempTileCoord_),p=uz(a,n);let m,g;if(d.containsKey(p)&&(m=d.get(p),g=m.tile),!(m&&m.tile.key===a.getKey()||(g=a.getTile(i,t,f,e.pixelRatio,o.projection),g)))continue;if(az(r,g))continue;m?m.setTile(g):(m=this.createTileRepresentation({tile:g,grid:l,helper:this.helper,gutter:c}),d.set(p,m)),lz(r,m,i);const _=g.getKey();h[_]=!0,g.getState()===bH&&(e.tileQueue.isKeyQueued(_)||e.tileQueue.enqueue([g,u,l.getTileCoordCenter(n),s]))}}}beforeTilesRender(e,t){this.helper.prepareDraw(this.frameState,!t,!0)}beforeTilesMaskRender(e){return!1}renderTile(e,t,n,r,i,o,s,a,l,c,u){}renderTileMask(e,t,n,r){}drawTile_(e,t,n,r,i,o,s){if(!t.ready)return;const a=t.tile.tileCoord,l=iz(a),c=l in o?o[l]:1,u=s.getResolution(n),h=Ve(s.getTileSize(n),this.tempSize_),d=s.getOrigin(n),f=s.getTileCoordExtent(a),p=c<1?-1:sz(n);c<1&&(e.animate=!0);const m=e.viewState,g=m.center[0],_=m.center[1],y=h[0]+2*r,b=h[1]+2*r,v=y/b,w=(g-d[0])/(h[0]*u),x=(d[1]-_)/(h[1]*u),M=m.resolution/u,S=a[1],k=a[2];E$(this.tileTransform_),P$(this.tileTransform_,2/(e.size[0]*M/y),-2/(e.size[1]*M/y)),function(e,t){const n=Math.cos(t),r=Math.sin(t);D$(e,A$(C$,n,r,-r,n,0,0))}(this.tileTransform_,m.rotation),P$(this.tileTransform_,1,1/v),R$(this.tileTransform_,(h[0]*(S-w)-r)/y,(h[1]*(k-x)-r)/b),this.renderTile(t,this.tileTransform_,e,i,u,h,d,f,p,r,c)}renderFrame(e){this.frameState=e,this.renderComplete=!0;const t=this.helper.getGL();this.preRender(t,e);const n=e.viewState,r=this.getLayer(),i=r.getRenderSource(),o=i.getTileGridForProjection(n.projection),s=i.getGutterForProjection(n.projection),a=cz(e,e.extent),l=o.getZForResolution(n.resolution,i.zDirection),c={tileIds:new Set,representationsByZ:{}},u=r.getPreload();if(e.nextExtent){const t=o.getZForResolution(n.nextResolution,i.zDirection),r=cz(e,e.nextExtent);this.enqueueTiles(e,r,t,c,u)}this.enqueueTiles(e,a,l,c,0),u>0&&setTimeout((()=>{this.enqueueTiles(e,a,l-1,c,u-1)}),0);const h={},d=qe(this),f=e.time;let p=!1;const m=c.representationsByZ;if(l in m)for(const e of m[l]){const t=e.tile;if((t instanceof jH||t instanceof YH)&&t.getState()===MH)continue;const n=t.tileCoord;if(e.ready){const e=t.getAlpha(d,f);if(1===e){t.endTransition(d);continue}p=!0;h[iz(n)]=e}this.renderComplete=!1;if(this.findAltTiles_(o,n,l+1,c))continue;const r=o.getMinZoom();for(let e=l-1;e>=r;--e){if(this.findAltTiles_(o,n,e,c))break}}const g=Object.keys(m).map(Number).sort(Vt);if(this.beforeTilesMaskRender(e))for(let e=0,t=g.length;e<t;++e){const t=g[e];for(const e of m[t]){const n=e.tile.tileCoord;if(iz(n)in h)continue;const r=o.getTileCoordExtent(n);this.renderTileMask(e,t,r,sz(t))}}this.beforeTilesRender(e,p);for(let t=0,n=g.length;t<n;++t){const n=g[t];for(const t of m[n]){iz(t.tile.tileCoord)in h||this.drawTile_(e,t,n,s,a,h,o)}}if(l in m)for(const t of m[l]){iz(t.tile.tileCoord)in h&&this.drawTile_(e,t,l,s,a,h,o)}this.beforeFinalize(e),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const _=this.helper.getCanvas(),y=this.tileRepresentationCache;for(;y.canExpireCache();){y.pop().dispose()}return this.postRender(t,e),_}beforeFinalize(e){}findAltTiles_(e,t,n,r){const i=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!i)return!1;let o=!0;const s=this.tileRepresentationCache,a=this.getLayer().getRenderSource();for(let e=i.minX;e<=i.maxX;++e)for(let t=i.minY;t<=i.maxY;++t){const i=uz(a,[n,e,t]);let l=!1;if(s.containsKey(i)){const e=s.get(i);e.ready&&!az(r,e.tile)&&(lz(r,e,n),l=!0)}l||(o=!1)}return o}clearCache(){super.clearCache();const e=this.tileRepresentationCache;e.forEach((e=>e.dispose())),e.clear()}afterHelperCreated(){super.afterHelperCreated(),this.tileRepresentationCache.forEach((e=>e.setHelper(this.helper)))}disposeInternal(){super.disposeInternal(),delete this.frameState}},dz={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},fz="a_textureCoord",pz=[{name:fz,size:2,type:uH}];const mz=class extends hz{constructor(e,t){super(e,t),this.program_,this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.indices_=new GH(Xj,Kj),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=t.paletteTextures||[]}reset(e){if(super.reset(e),this.helper){const e=this.helper.getGL();for(const t of this.paletteTextures_)t.delete(e)}if(this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.paletteTextures_=e.paletteTextures||[],this.helper){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);const e=this.helper.getGL();for(const t of this.paletteTextures_)t.getTexture(e)}}afterHelperCreated(){super.afterHelperCreated();const e=this.helper.getGL();for(const t of this.paletteTextures_)t.getTexture(e);this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}removeHelper(){if(this.helper){const e=this.helper.getGL();for(const t of this.paletteTextures_)t.delete(e)}super.removeHelper()}createTileRepresentation(e){return new XH(e)}beforeTilesRender(e,t){super.beforeTilesRender(e,t),this.helper.useProgram(this.program_,e)}renderTile(e,t,n,r,i,o,s,a,l,c,u){const h=this.helper.getGL();this.helper.bindBuffer(e.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(pz);let d=0;for(;d<e.textures.length;){const t=`${dz.TILE_TEXTURE_ARRAY}[${d}]`;this.helper.bindTexture(e.textures[d],d,t),++d}for(let e=0;e<this.paletteTextures_.length;++e){const t=this.paletteTextures_[e],n=t.getTexture(h);this.helper.bindTexture(n,d,t.name),++d}const f=n.viewState,p=o[0]+2*c,m=o[1]+2*c,g=e.tile.tileCoord,_=g[1],y=g[2];this.helper.setUniformMatrixValue(dz.TILE_TRANSFORM,Qj(this.tempMat4,t)),this.helper.setUniformFloatValue(dz.TRANSITION_ALPHA,u),this.helper.setUniformFloatValue(dz.DEPTH,l);let b=r;c>0&&(b=a,_P(b,r,b)),this.helper.setUniformFloatVec4(dz.RENDER_EXTENT,b),this.helper.setUniformFloatValue(dz.RESOLUTION,f.resolution),this.helper.setUniformFloatValue(dz.ZOOM,f.zoom),this.helper.setUniformFloatValue(dz.TEXTURE_PIXEL_WIDTH,p),this.helper.setUniformFloatValue(dz.TEXTURE_PIXEL_HEIGHT,m),this.helper.setUniformFloatValue(dz.TEXTURE_RESOLUTION,i),this.helper.setUniformFloatValue(dz.TEXTURE_ORIGIN_X,s[0]+_*o[0]*i-c*i),this.helper.setUniformFloatValue(dz.TEXTURE_ORIGIN_Y,s[1]-y*o[1]*i+c*i),this.helper.drawElements(0,this.indices_.getSize())}getData(e){if(!this.helper.getGL())return null;const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=$$(t.pixelToCoordinateTransform,e.slice()),i=t.viewState,o=n.getExtent();if(o&&!X$(DR(o,i.projection),r))return null;const s=n.getSources(G$([r]),i.resolution);let a,l,c;for(a=s.length-1;a>=0;--a)if(l=s[a],"ready"===l.getState()){if(c=l.getTileGridForProjection(i.projection),l.getWrapX())break;const e=c.getExtent();if(!e||X$(e,r))break}if(a<0)return null;const u=this.tileRepresentationCache;for(let e=c.getZForResolution(i.resolution);e>=c.getMinZoom();--e){const t=c.getTileCoordForCoordAndZ(r,e),n=uz(l,t);if(!u.containsKey(n))continue;const i=u.get(n),o=i.tile;if((o instanceof jH||o instanceof YH)&&o.getState()===MH)return null;if(!i.loaded)continue;const s=c.getOrigin(e),a=Ve(c.getTileSize(e)),h=c.getResolution(e),d=(r[0]-s[0])/h-t[1]*a[0],f=(s[1]-r[1])/h-t[2]*a[1];return i.getPixelData(d,f)}return null}disposeInternal(){const e=this.helper;if(e){const t=e.getGL();for(const e of this.paletteTextures_)e.delete(t);this.paletteTextures_.length=0,t.deleteProgram(this.program_),delete this.program_,e.deleteBuffer(this.indices_)}super.disposeInternal(),delete this.indices_}};const gz=class{constructor(e,t){this.name=e,this.data=t,this.texture_=null}getTexture(e){if(!this.texture_){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_}delete(e){this.texture_&&e.deleteTexture(this.texture_),this.texture_=null}};function _z(e){const t=e.toString();return t.includes(".")?t:t+".0"}function yz(e){if(e.length<2||e.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${e.length}(${e.map(_z).join(", ")})`}const bz={};let vz=0;function wz(e){return e in bz||(bz[e]=vz++),bz[e]}function xz(e){return"u_var_"+e}const Mz="getBandValue",Sz="u_paletteTextures";function kz(e){return(t,n,r)=>{const i=n.args.length,o=new Array(i);for(let e=0;e<i;++e)o[e]=Lz(n.args[e],r,t);return e(o,t)}}const Tz={[uF]:(e,t)=>{const n=t.args[0].value;n in e.properties||(e.properties[n]={name:n,type:t.type});return(e.inFragmentShader?"v_prop_":"a_prop_")+n},[fF]:(e,t,n)=>{const r="geometryType";r in e.properties||(e.properties[r]={name:r,type:KI,evaluator:e=>hN(e.getGeometry())});return(e.inFragmentShader?"v_prop_":"a_prop_")+r},[pF]:()=>"currentLineMetric",[hF]:(e,t)=>{const n=t.args[0].value;return n in e.variables||(e.variables[n]={name:n,type:t.type}),xz(n)},[yF]:()=>"u_resolution",[bF]:()=>"u_zoom",[vF]:()=>"u_time",[mF]:kz((e=>`(${e.join(" || ")})`)),[gF]:kz((e=>`(${e.join(" && ")})`)),[_F]:kz((([e])=>`(!${e})`)),[wF]:kz((([e,t])=>`(${e} == ${t})`)),[xF]:kz((([e,t])=>`(${e} != ${t})`)),[MF]:kz((([e,t])=>`(${e} > ${t})`)),[SF]:kz((([e,t])=>`(${e} >= ${t})`)),[kF]:kz((([e,t])=>`(${e} < ${t})`)),[TF]:kz((([e,t])=>`(${e} <= ${t})`)),[LF]:kz((e=>`(${e.join(" * ")})`)),[CF]:kz((([e,t])=>`(${e} / ${t})`)),[EF]:kz((e=>`(${e.join(" + ")})`)),[DF]:kz((([e,t])=>`(${e} - ${t})`)),[AF]:kz((([e,t,n])=>`clamp(${e}, ${t}, ${n})`)),[$F]:kz((([e,t])=>`mod(${e}, ${t})`)),[PF]:kz((([e,t])=>`pow(${e}, ${t})`)),[RF]:kz((([e])=>`abs(${e})`)),[OF]:kz((([e])=>`floor(${e})`)),[IF]:kz((([e])=>`ceil(${e})`)),[FF]:kz((([e])=>`floor(${e} + 0.5)`)),[NF]:kz((([e])=>`sin(${e})`)),[YF]:kz((([e])=>`cos(${e})`)),[jF]:kz((([e,t])=>void 0!==t?`atan(${e}, ${t})`:`atan(${e})`)),[HF]:kz((([e])=>`sqrt(${e})`)),[zF]:kz((e=>{const t=e[0],n=e[e.length-1];let r=null;for(let i=e.length-3;i>=1;i-=2){r=`(${t} == ${e[i]} ? ${e[i+1]} : ${r||n})`}return r})),[UF]:kz((([e,t,n])=>`(${e} >= ${t} && ${e} <= ${n})`)),[WF]:kz((([e,t,...n])=>{let r="";for(let i=0;i<n.length-2;i+=2){const o=n[i],s=r||n[i+1],a=n[i+2],l=n[i+3];let c;c=e===_z(1)?`(${t} - ${o}) / (${a} - ${o})`:`(pow(${e}, (${t} - ${o})) - 1.0) / (pow(${e}, (${a} - ${o})) - 1.0)`,r=`mix(${s}, ${l}, clamp(${c}, 0.0, 1.0))`}return r})),[qF]:kz((e=>{const t=e[e.length-1];let n=null;for(let r=e.length-3;r>=0;r-=2){n=`(${e[r]} ? ${e[r+1]} : ${n||t})`}return n})),[BF]:kz((([e,...t],n)=>{const r=function(e,t){return`operator_${e}_${Object.keys(t.functions).length}`}("in",n),i=[];for(let e=0;e<t.length;e+=1)i.push(`  if (inputValue == ${t[e]}) { return true; }`);return n.functions[r]=`bool ${r}(float inputValue) {\n${i.join("\n")}\n  return false;\n}`,`${r}(${e})`})),[KF]:kz((e=>`vec${e.length}(${e.join(", ")})`)),[JF]:kz((e=>{if(1===e.length)return`vec4(vec3(${e[0]} / 255.0), 1.0)`;if(2===e.length)return`vec4(vec3(${e[0]} / 255.0), ${e[1]})`;const t=e.slice(0,3).map((e=>`${e} / 255.0`));if(3===e.length)return`vec4(${t.join(", ")}, 1.0)`;const n=e[3];return`vec4(${t.join(", ")}, ${n})`})),[QF]:kz((([e,t,n],r)=>{if(!(Mz in r.functions)){let e="";const t=r.bandCount||1;for(let n=0;n<t;n++){const r=Math.floor(n/4);let i=n%4;n===t-1&&1===i&&(i=3);e+=`  if (band == ${n+1}.0) {\n    return texture2D(${`${dz.TILE_TEXTURE_ARRAY}[${r}]`}, v_textureCoord + vec2(dx, dy))[${i}];\n  }\n`}r.functions[Mz]=`float getBandValue(float band, float xOffset, float yOffset) {\n  float dx = xOffset / ${dz.TEXTURE_PIXEL_WIDTH};\n  float dy = yOffset / ${dz.TEXTURE_PIXEL_HEIGHT};\n${e}\n}`}return`${Mz}(${e}, ${t??"0.0"}, ${n??"0.0"})`})),[eN]:(e,t)=>{const[n,...r]=t.args,i=r.length,o=new Uint8Array(4*i);for(let e=0;e<r.length;e++){const t=St(r[e].value),n=4*e;o[n]=t[0],o[n+1]=t[1],o[n+2]=t[2],o[n+3]=255*t[3]}e.paletteTextures||(e.paletteTextures=[]);const s=`${Sz}[${e.paletteTextures.length}]`,a=new gz(s,o);e.paletteTextures.push(a);return`texture2D(${s}, vec2((${Lz(n,XI,e)} + 0.5) / ${i}.0, 0.5))`}};function Lz(e,t,n){if(e instanceof aF){const r=Tz[e.operator];if(void 0===r)throw new Error(`No compiler defined for this operator: ${JSON.stringify(e.operator)}`);return r(n,e,t)}if((e.type&XI)>0)return _z(e.value);if((e.type&VI)>0)return e.value.toString();if((e.type&KI)>0)return function(e){return _z(wz(e))}(e.value.toString());if((e.type&JI)>0)return function(e){const t=St(e),n=t.length>3?t[3]:1;return yz([t[0]/255,t[1]/255,t[2]/255,n])}(e.value);if((e.type&ZI)>0)return yz(e.value);if((e.type&QI)>0)return function(e){return yz(Ve(e))}(e.value);throw new Error(`Unexpected expression ${e.value} (expected type ${rF(t)})`)}function Cz(e,t,n){return function(e,t,n,r){return Lz(cF(e,t,n),t,r)}(t,n,lF(),e)}function Ez(e,t){const n=`\n    attribute vec2 ${fz};\n    uniform mat4 ${dz.TILE_TRANSFORM};\n    uniform float ${dz.TEXTURE_PIXEL_WIDTH};\n    uniform float ${dz.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${dz.TEXTURE_RESOLUTION};\n    uniform float ${dz.TEXTURE_ORIGIN_X};\n    uniform float ${dz.TEXTURE_ORIGIN_Y};\n    uniform float ${dz.DEPTH};\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord = ${fz};\n      v_mapCoord = vec2(\n        ${dz.TEXTURE_ORIGIN_X} + ${dz.TEXTURE_RESOLUTION} * ${dz.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],\n        ${dz.TEXTURE_ORIGIN_Y} - ${dz.TEXTURE_RESOLUTION} * ${dz.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]\n      );\n      gl_Position = ${dz.TILE_TRANSFORM} * vec4(${fz}, ${dz.DEPTH}, 1.0);\n    }\n  `,r={inFragmentShader:!1,variables:{},properties:{},functions:{},bandCount:0,style:{},inFragmentShader:!0,bandCount:t,style:e},i=[];if(void 0!==e.color){const t=Cz(r,e.color,JI);i.push(`color = ${t};`)}if(void 0!==e.contrast){const t=Cz(r,e.contrast,XI);i.push(`color.rgb = clamp((${t} + 1.0) * color.rgb - (${t} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(void 0!==e.exposure){const t=Cz(r,e.exposure,XI);i.push(`color.rgb = clamp((${t} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(void 0!==e.saturation){const t=Cz(r,e.saturation,XI);i.push(`\n      float saturation = ${t} + 1.0;\n      float sr = (1.0 - saturation) * 0.2126;\n      float sg = (1.0 - saturation) * 0.7152;\n      float sb = (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix = mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    `)}if(void 0!==e.gamma){const t=Cz(r,e.gamma,XI);i.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${t}));`)}if(void 0!==e.brightness){const t=Cz(r,e.brightness,XI);i.push(`color.rgb = clamp(color.rgb + ${t}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}const o={},s=Object.keys(r.variables).length;if(s>1&&!e.variables)throw new Error(`Missing variables in style (expected ${r.variables})`);for(let t=0;t<s;++t){const n=r.variables[Object.keys(r.variables)[t]];if(!(n.name in e.variables))throw new Error(`Missing '${n.name}' in style variables`);o[xz(n.name)]=function(){let t=e.variables[n.name];return"string"==typeof t&&(t=wz(t)),void 0!==t?t:-9999999}}const a=Object.keys(o).map((function(e){return`uniform float ${e};`})),l=Math.ceil(t/4);a.push(`uniform sampler2D ${dz.TILE_TEXTURE_ARRAY}[${l}];`),r.paletteTextures&&a.push(`uniform sampler2D ${Sz}[${r.paletteTextures.length}];`);const c=Object.keys(r.functions).map((function(e){return r.functions[e]}));return{vertexShader:n,fragmentShader:`\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ${dz.RENDER_EXTENT};\n    uniform float ${dz.TRANSITION_ALPHA};\n    uniform float ${dz.TEXTURE_PIXEL_WIDTH};\n    uniform float ${dz.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${dz.RESOLUTION};\n    uniform float ${dz.ZOOM};\n\n    ${a.join("\n")}\n\n    ${c.join("\n")}\n\n    void main() {\n      if (\n        v_mapCoord[0] < ${dz.RENDER_EXTENT}[0] ||\n        v_mapCoord[1] < ${dz.RENDER_EXTENT}[1] ||\n        v_mapCoord[0] > ${dz.RENDER_EXTENT}[2] ||\n        v_mapCoord[1] > ${dz.RENDER_EXTENT}[3]\n      ) {\n        discard;\n      }\n\n      vec4 color = texture2D(${dz.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);\n\n      ${i.join("\n")}\n\n      gl_FragColor = color;\n      gl_FragColor.rgb *= gl_FragColor.a;\n      gl_FragColor *= ${dz.TRANSITION_ALPHA};\n    }`,uniforms:o,paletteTextures:r.paletteTextures}}class Dz extends yH{constructor(e){const t=(e=e?Object.assign({},e):{}).style||{};delete e.style,super(e),this.sources_=e.sources,this.renderedSource_=null,this.renderedResolution_=NaN,this.style_=t,this.styleVariables_=this.style_.variables||{},this.addChangeListener($O,this.handleSourceUpdate_)}getSources(e,t){const n=this.getSource();return this.sources_?"function"==typeof this.sources_?this.sources_(e,t):this.sources_:n?[n]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const e=this.getRenderSource();return e?e.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache();const e=this.getSource();if(e)if("loading"===e.getState()){const t=()=>{"ready"===e.getState()&&(e.removeEventListener("change",t),this.setStyle(this.style_))};e.addEventListener("change",t)}else this.setStyle(this.style_)}getSourceBandCount_(){const e=Number.MAX_SAFE_INTEGER,t=this.getSources([-e,-e,e,e],e);return t&&t.length&&"bandCount"in t[0]?t[0].bandCount:4}createRenderer(){const e=Ez(this.style_,this.getSourceBandCount_());return new mz(this,{vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,cacheSize:this.getCacheSize(),paletteTextures:e.paletteTextures})}renderSources(e,t){const n=this.getRenderer();let r;for(let i=0,o=t.length;i<o;++i)this.renderedSource_=t[i],n.prepareFrame(e)&&(r=n.renderFrame(e));return r}render(e,t){this.rendered=!0;const n=e.viewState,r=this.getSources(e.extent,n.resolution);let i=!0;for(let e=0,t=r.length;e<t;++e){const t=r[e],n=t.getState();if("loading"==n){const e=()=>{"ready"==t.getState()&&(t.removeEventListener("change",e),this.changed())};t.addEventListener("change",e)}i=i&&"ready"==n}const o=this.renderSources(e,r);if(this.getRenderer().renderComplete&&i)return this.renderedResolution_=n.resolution,o;if(this.renderedResolution_>.5*n.resolution){const t=this.getSources(e.extent,this.renderedResolution_).filter((e=>!r.includes(e)));if(t.length>0)return this.renderSources(e,t)}return o}setStyle(e){if(this.styleVariables_=e.variables||{},this.style_=e,this.hasRenderer()){const e=Ez(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,paletteTextures:e.paletteTextures}),this.changed()}}updateStyleVariables(e){Object.assign(this.styleVariables_,e),this.changed()}}Dz.prototype.dispose;const Az=Dz;function $z(e,t,n,r){return`${e},${rz(t,n,r)}`}function Pz(e,t,n){if(!(n in e))return e[n]=new Set([t]),!0;const r=e[n],i=r.has(t);return i||r.add(t),!i}function Rz(e,t,n){const r=e[n];return!!r&&r.delete(t)}function Oz(e,t){const n=e.layerStatesArray[e.layerIndex];n.extent&&(t=_P(t,DR(n.extent,e.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const n=r.getTileGridForProjection(e.viewState.projection).getExtent();n&&(t=_P(t,n))}return t}const Iz=class extends cY{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=[1/0,1/0,-1/0,-1/0],this.tempTileRange_=new QH(0,0,0,0),this.tempTileCoord_=nz(0,0,0);const n=void 0!==t.cacheSize?t.cacheSize:512;this.tileCache_=new KH(n),this.renderedProjection_=void 0,this.maxStaleKeys=.5*n}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,n,r){const i=this.tileCache_,o=this.getLayer().getSource(),s=$z(o.getKey(),e,t,n);let a;if(i.containsKey(s))a=i.get(s);else{if(a=o.getTile(e,t,n,r.pixelRatio,r.viewState.projection),!a)return null;i.set(s,a)}return a}getTile(e,t,n,r){const i=this.getOrCreateTile(e,t,n,r);return i||null}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=$$(t.pixelToCoordinateTransform,e.slice()),i=n.getExtent();if(i&&!X$(i,r))return null;const o=t.viewState,s=n.getRenderSource(),a=s.getTileGridForProjection(o.projection),l=s.getTilePixelRatio(t.pixelRatio);for(let e=a.getZForResolution(o.resolution);e>=a.getMinZoom();--e){const n=a.getTileCoordForCoordAndZ(r,e),i=this.getTile(e,n[1],n[2],t);if(!i||i.getState()!==wH)continue;const c=a.getOrigin(e),u=Ve(a.getTileSize(e)),h=a.getResolution(e);let d;if(i instanceof HH||i instanceof jH)d=i.getImage();else{if(!(i instanceof DH))continue;if(d=kH(i.getData()),!d)continue}const f=Math.floor(l*((r[0]-c[0])/h-n[1]*u[0])),p=Math.floor(l*((c[1]-r[1])/h-n[2]*u[1])),m=Math.round(l*s.getGutterForProjection(o.projection));return this.getImageData(d,f+m,p+m)}return null}prepareFrame(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.tileCache_.clear(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const n=t.getRevision();return this.renderedRevision_?this.renderedRevision_!==n&&(this.renderedRevision_=n,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=n,!0}enqueueTiles(e,t,n,r,i){const o=e.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=qe(a);c in e.wantedTiles||(e.wantedTiles[c]={});const u=e.wantedTiles[c],h=s.getMapInternal(),d=Math.max(n-i,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection));for(let i=n;i>=d;--i){const n=l.getTileRangeForExtentAndZ(t,i,this.tempTileRange_),o=l.getResolution(i);for(let t=n.minX;t<=n.maxX;++t)for(let s=n.minY;s<=n.maxY;++s){const n=this.getTile(i,t,s,e);if(!n)continue;if(!Pz(r,n,i))continue;const a=n.getKey();if(u[a]=!0,n.getState()===bH&&!e.tileQueue.isKeyQueued(a)){const r=nz(i,t,s,this.tempTileCoord_);e.tileQueue.enqueue([n,c,l.getTileCoordCenter(r),o])}}}}findStaleTile_(e,t){const n=this.tileCache_,r=e[0],i=e[1],o=e[2],s=this.getStaleKeys();for(let e=0;e<s.length;++e){const a=$z(s[e],r,i,o);if(n.containsKey(a)){const e=n.get(a);if(e.getState()===wH)return e.endTransition(qe(this)),Pz(t,e,r),!0}}return!1}findAltTiles_(e,t,n,r){const i=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!i)return!1;let o=!0;const s=this.tileCache_,a=this.getLayer().getRenderSource().getKey();for(let e=i.minX;e<=i.maxX;++e)for(let t=i.minY;t<=i.maxY;++t){const i=$z(a,n,e,t);let l=!1;if(s.containsKey(i)){const e=s.get(i);e.getState()===wH&&(Pz(r,e,n),l=!0)}l||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;const n=e.layerStatesArray[e.layerIndex],r=e.viewState,i=r.projection,o=r.resolution,s=r.center,a=e.pixelRatio,l=this.getLayer(),c=l.getSource(),u=c.getRevision(),h=c.getTileGridForProjection(i),d=h.getZForResolution(o,c.zDirection),f=h.getResolution(d),p=c.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==p&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=p):this.renderedSourceKey_=p;let m=e.extent;const g=c.getTilePixelRatio(a);this.prepareContainer(e,t);const _=this.context.canvas.width,y=this.context.canvas.height,b=n.extent&&DR(n.extent,i);b&&(m=_P(m,DR(n.extent,i)));const v=f*_/2/g,w=f*y/2/g,x=[s[0]-v,s[1]-w,s[0]+v,s[1]+w],M={};this.renderedTiles.length=0;const S=l.getPreload();if(e.nextExtent){const t=h.getZForResolution(r.nextResolution,c.zDirection),n=Oz(e,e.nextExtent);this.enqueueTiles(e,n,t,M,S)}const k=Oz(e,m);if(this.enqueueTiles(e,k,d,M,0),S>0&&setTimeout((()=>{this.enqueueTiles(e,k,d-1,M,S-1)}),0),!(d in M))return this.container;const T=qe(this),L=e.time;for(const t of M[d]){const n=t.getState();if((t instanceof jH||t instanceof YH)&&n===MH)continue;const r=t.tileCoord;if(n===wH){if(1===t.getAlpha(T,L)){t.endTransition(T);continue}}this.renderComplete=!1;if(this.findStaleTile_(r,M)){Rz(M,t,d),e.animate=!0;continue}if(this.findAltTiles_(h,r,d+1,M))continue;const i=h.getMinZoom();for(let e=d-1;e>=i;--e){if(this.findAltTiles_(h,r,e,M))break}}const C=f/o*a/g,E=this.getRenderContext(e);O$(this.tempTransform,_/2,y/2,C,C,0,-_/2,-y/2),n.extent&&this.clipUnrotated(E,e,b),c.getInterpolate()||(E.imageSmoothingEnabled=!1),this.preRender(E,e);const D=Object.keys(M).map(Number);let A;D.sort(Bt);const $=[],P=[];for(let t=D.length-1;t>=0;--t){const n=D[t],r=c.getTilePixelSize(n,a,i),o=h.getResolution(n)/f,s=r[0]*o*C,l=r[1]*o*C,u=h.getTileCoordForCoordAndZ(yP(x),n),d=h.getTileCoordExtent(u),p=$$(this.tempTransform,[g*(d[0]-x[0])/f,g*(x[3]-d[3])/f]),m=g*c.getGutterForProjection(i);for(const t of M[n]){if(t.getState()!==wH)continue;const r=t.tileCoord,i=u[1]-r[1],o=Math.round(p[0]-(i-1)*s),a=u[2]-r[2],h=Math.round(p[1]-(a-1)*l),d=Math.round(p[0]-i*s),f=Math.round(p[1]-a*l),g=o-d,_=h-f,y=1===D.length;let b=!1;A=[d,f,d+g,f,d+g,f+_,d,f+_];for(let e=0,t=$.length;e<t;++e)if(!y&&n<P[e]){const t=$[e];wP([d,f,d+g,f+_],[t[0],t[3],t[4],t[7]])&&(b||(E.save(),b=!0),E.beginPath(),E.moveTo(A[0],A[1]),E.lineTo(A[2],A[3]),E.lineTo(A[4],A[5]),E.lineTo(A[6],A[7]),E.moveTo(t[6],t[7]),E.lineTo(t[4],t[5]),E.lineTo(t[2],t[3]),E.lineTo(t[0],t[1]),E.clip())}$.push(A),P.push(n),this.drawTile(t,e,d,f,g,_,m,y),b&&E.restore(),this.renderedTiles.unshift(t),this.updateUsedTiles(e.usedTiles,c,t)}}this.renderedRevision=u,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!iP(this.renderedExtent_,x),this.renderedExtent_=x,this.renderedPixelRatio=a,this.renderedProjection=i,this.postRender(this.context,e),n.extent&&E.restore(),E.imageSmoothingEnabled=!0;return e.postRenderFunctions.push(((e,t)=>{const n=qe(c),r=t.wantedTiles[n],i=r?Object.keys(r).length:0;this.updateCacheSize(i),this.tileCache_.expireCache()})),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*e)}drawTile(e,t,n,r,i,o,s,a){let l;if(e instanceof DH){if(l=kH(e.getData()),!l)throw new Error("Rendering array data is not yet supported")}else l=this.getTileImage(e);if(!l)return;const c=this.getRenderContext(t),u=qe(this),h=t.layerStatesArray[t.layerIndex],d=h.opacity*(a?e.getAlpha(u,t.time):1),f=d!==c.globalAlpha;f&&(c.save(),c.globalAlpha=d),c.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,r,i,o),f&&c.restore(),d!==h.opacity?t.animate=!0:a&&e.endTransition(u)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,n){const r=qe(t);r in e||(e[r]={}),e[r][n.getKey()]=!0}};const Fz=class extends yH{constructor(e){super(e)}createRenderer(){return new Iz(this,{cacheSize:this.getCacheSize()})}};let Nz;const Yz=e=>(()=>{if(void 0!==Nz)return Nz;try{const e=new mH,t=e.getGL();if(t instanceof WebGLRenderingContext){const n=t.createShader(t.VERTEX_SHADER);e.compileShader(n,t.VERTEX_SHADER),Nz=!0}else Nz=!1}catch(e){Nz=!1,console.error(e)}return Nz||console.error("WebGL is not supported on this browser. The portal could be slower and some functions could not work as expected."),Nz})()?new Az(e):new Fz(e);function jz(e){return!!e&&((At?e.metaKey:e.ctrlKey)||"Control"===e.key)}function Hz(e){return!e.altKey&&jz(e)&&!e.shiftKey}function zz(e){return!e.altKey&&!jz(e)&&e.shiftKey}function Uz(e){return 1==e.length?`0${e}`:e}function Wz(e){const t=e[0],n=e[1],r=e[2];if(t!=(255&t)||n!=(255&n)||r!=(255&r))throw new Error(`"(${t},${n},${r})" is not a valid RGB color`);return`#${Uz(t.toString(16))}${Uz(n.toString(16))}${Uz(r.toString(16))}`}function Gz(e){const t={};if(e){const n=e.substring(1).split("&");for(const e of n){const n=e.indexOf("=");if(n>=0){const r=e.substring(0,n),i=e.substring(n+1);try{t[decodeURIComponent(r)]=decodeURIComponent(i)}catch(e){console.error(`Malformed parameter: ${r}=${i}`)}}else t[e]=""}}return t}function qz(e){const t=[];for(const n in e){const r=e[n];t.push(`${encodeURIComponent(n)}=${encodeURIComponent(r)}`)}return t.join("&")}function Bz(e,t,n){const r=void 0===n||navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?"text/plain;charset=utf-8":n,i=new Blob([new Uint8Array([239,187,191]),e],{type:r});(0,wO.saveAs)(i,t)}const Vz=new class{constructor(){this.subscriptions=[],this.subscriptions.push(lo.getConfig().subscribe({next:e=>{e&&(this.encoding_=e.ngeoCsvEncoding,this.extension_=e.ngeoCsvExtension,this.includeHeader_=e.ngeoCsvIncludeHeader,this.quote_=e.ngeoCsvQuote,this.separator_=e.ngeoCsvSeparator)}}))}generateCsv(e,t){if(0==e.length||0==t.length)return"";const n=t.map((e=>0!==Object.keys(V.options).length?V.t(e.name):e.name)),r=this.getRow_(n),i=e.map((e=>{const n=t.map((t=>e[t.name]));return this.getRow_(n)}));return this.includeHeader_?r+i.join(""):i.join("")}getRow_(e){const t=new RegExp(this.quote_,"g"),n=this.quote_+this.quote_;return`${e.map((e=>{if(null!=e){const r=`${e}`;return`${this.quote_}${r.replace(t,n)}${this.quote_}`}return""})).join(this.separator_)}\n`}startDownload(e,t,n){Bz(this.generateCsv(e,t),n,`text/csv;charset=${this.encoding_}`)}},Xz=Vz,Kz="active";const Jz=class extends qt{constructor(e,t,n){super(e),this.map=t,this.frameState=void 0!==n?n:null}};const Zz=class extends Jz{constructor(e,t,n,r,i,o){super(e,t,i),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}};function Qz(e,t,n,r){const i=e.getZoom();if(void 0===i)return;const o=e.getConstrainedZoom(i+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:ZO})}const eU=class extends In{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Kz)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Kz,e)}setMap(e){this.map_=e}};function tU(e){const t=e.length;let n=0,r=0;for(let i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return{clientX:n/t,clientY:r/t}}const nU=class extends eU{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Pj.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Pj.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(e.type==Pj.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==Pj.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}},rU="drawstart",iU="drawend",oU="drawabort";class sU extends qt{constructor(e,t){super(e),this.feature=t}}function aU(e,t){return ct(e[0],e[1],t[0],t[1])}function lU(e,t){const n=e.length;return t<0?e[t+n]:t>=n?e[t-n]:e[t]}function cU(e,t,n){let r,i;t<n?(r=t,i=n):(r=n,i=t);const o=Math.ceil(r),s=Math.floor(i);if(o>s){return aU(mU(e,r),mU(e,i))}let a=0;if(r<o){a+=aU(mU(e,r),lU(e,o))}if(s<i){a+=aU(lU(e,s),mU(e,i))}for(let t=o;t<s-1;++t){a+=aU(lU(e,t),lU(e,t+1))}return a}function uU(e,t,n){if(t instanceof vO)dU(e,t.getCoordinates(),!1,n);else if(t instanceof aj){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t)dU(e,r[t],!1,n)}else if(t instanceof mI){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t)dU(e,r[t],!0,n)}else if(t instanceof dj){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t){const i=r[t];for(let t=0,r=i.length;t<r;++t)dU(e,i[t],!0,n)}}else if(t instanceof oj){const r=t.getGeometries();for(let t=0;t<r.length;++t)uU(e,r[t],n)}else;}const hU={index:-1,endIndex:NaN};function dU(e,t,n,r){const i=e[0],o=e[1];for(let e=0,s=t.length-1;e<s;++e){const s=pU(i,o,t[e],t[e+1]);if(0===s.squaredDistance){const i=e+s.along;return void r.push({coordinates:t,ring:n,startIndex:i,endIndex:i})}}}const fU={along:0,squaredDistance:0};function pU(e,t,n,r){const i=n[0],o=n[1],s=r[0]-i,a=r[1]-o;let l=0,c=i,u=o;return 0===s&&0===a||(l=at(((e-i)*s+(t-o)*a)/(s*s+a*a),0,1),c+=s*l,u+=a*l),fU.along=l,fU.squaredDistance=pt(ct(e,t,c,u),10),fU}function mU(e,t){const n=e.length;let r=Math.floor(t);const i=t-r;r>=n?r-=n:r<0&&(r+=n);let o=r+1;o>=n&&(o-=n);const s=e[r],a=s[0],l=s[1],c=e[o];return[a+(c[0]-a)*i,l+(c[1]-l)*i]}function gU(){const e=xr();return function(t,n){return e[t.getGeometry().getType()]}}const _U=class extends nU{constructor(e){const t=e;t.stopDown||(t.stopDown=tn),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(e){switch(e){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+e)}}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:en,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let n=e.geometryFunction;if(!n){const e=this.mode_;if("Circle"===e)n=(e,t,n)=>{const r=t||new nj([NaN,NaN]),i=CR(e[0],n),o=JP(i,CR(e[e.length-1],n));r.setCenterAndRadius(i,Math.sqrt(o),this.geometryLayout_);const s=TR();return s&&r.transform(n,s),r};else{let t;"Point"===e?t=VR:"LineString"===e?t=vO:"Polygon"===e&&(t=mI),n=(n,r,i)=>(r?"Polygon"===e?n[0].length?r.setCoordinates([n[0].concat([n[0][0]])],this.geometryLayout_):r.setCoordinates([],this.geometryLayout_):r.setCoordinates(n,this.geometryLayout_):r=new t(n,this.geometryLayout_),r)}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new FY({source:new Dj({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:gU(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:jj,this.freehandCondition_,e.freehand?this.freehandCondition_=Fj:this.freehandCondition_=e.freehandCondition?e.freehandCondition:Hj,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(Kz,this.updateState_)}setTrace(e){let t;t=e?!0===e?Fj:e:Yj,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===hn&&e.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(e);let t=e.type===Pj.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===Pj.POINTERDRAG){Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===Pj.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===Pj.POINTERDOWN?n=!1:t&&this.getPointerCount()<2?(n=e.type===Pj.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===Pj.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===Pj.DBLCLICK&&(n=!1),super.handleEvent(e)&&n}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((()=>{this.handlePointerMove_(new Zz(Pj.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active)return void this.deactivateTrace_();const t=this.getMap(),n=G$([t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_])]),r=this.traceSource_.getFeaturesInExtent(n);if(0===r.length)return;const i=function(e,t){const n=[];for(let r=0;r<t.length;++r)uU(e,t[r].getGeometry(),n);return n}(e.coordinate,r);i.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:i,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const n=e.startIndex<=e.endIndex;n===e.startIndex<=t?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let n=0;if(e<t){const r=Math.ceil(e);let i=Math.floor(t);i===t&&(i-=1),n=i-r+1}else{const r=Math.floor(e);let i=Math.ceil(t);i===t&&(i+=1),n=r-i+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(e,t,n){if(t===n)return;const r=[];if(t<n){const i=Math.ceil(t);let o=Math.floor(n);o===n&&(o-=1);for(let t=i;t<=o;++t)r.push(lU(e.coordinates,t))}else{const i=Math.floor(t);let o=Math.ceil(n);o===n&&(o+=1);for(let t=i;t>=o;--t)r.push(lU(e.coordinates,t))}r.length&&this.appendCoordinates(r)}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(-1===t.targetIndex&&ZP(t.startPx,e.pixel)<this.snapTolerance_)return;const n=function(e,t,n,r){const i=e[0],o=e[1];let s=1/0,a=-1,l=NaN;for(let e=0;e<t.targets.length;++e){const n=t.targets[e],r=n.coordinates;let c,u=1/0;for(let e=0;e<r.length-1;++e){const t=pU(i,o,r[e],r[e+1]);t.squaredDistance<u&&(u=t.squaredDistance,c=e+t.along)}u<s&&(s=u,n.ring&&t.targetIndex===e&&(n.endIndex>n.startIndex?c<n.startIndex&&(c+=r.length):n.endIndex<n.startIndex&&c>n.startIndex&&(c-=r.length)),l=c,a=e)}const c=t.targets[a];let u=c.ring;if(t.targetIndex===a&&u){const e=mU(c.coordinates,l);ZP(n.getPixelFromCoordinate(e),t.startPx)>r&&(u=!1)}if(u){const e=c.coordinates,t=e.length,n=c.startIndex,r=l;if(n<r){const i=cU(e,n,r);cU(e,n,r-t)<i&&(l-=t)}else{const i=cU(e,n,r);cU(e,n,r+t)<i&&(l+=t)}}return hU.index=a,hU.endIndex=l,hU}(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==n.index){if(-1!==t.targetIndex){const e=t.targets[t.targetIndex];this.removeTracedCoordinates_(e.startIndex,e.endIndex)}const e=t.targets[n.index];this.addTracedCoordinates_(e,e.startIndex,n.endIndex)}else{const e=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(e,n.endIndex)}t.targetIndex=n.index;const r=t.targets[t.targetIndex];r.endIndex=n.endIndex;const i=mU(r.coordinates,r.endIndex),o=this.getMap().getPixelFromCoordinate(i);e.coordinate=i,e.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(e){let t=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const n=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const r=!this.finishCoordinate_;r&&this.startDrawing_(e.coordinate),!r&&this.freehand_?this.finishDrawing():this.freehand_||r&&"Point"!==this.mode_||(this.atFinish_(e.pixel,n)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,n=e.pixel,r=t[0]-n[0],i=t[1]-n[1],o=r*r+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(e),this.modifyDrawing_(e.coordinate)):this.createOrUpdateSketchPoint_(e.coordinate.slice())}atFinish_(e,t){let n=!1;if(this.sketchFeature_){let r=!1,i=[this.finishCoordinate_];const o=this.mode_;if("Point"===o)n=!0;else if("Circle"===o)n=2===this.sketchCoords_.length;else if("LineString"===o)r=!t&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===o){const e=this.sketchCoords_;r=e[0].length>this.minPoints_,i=[e[0][0],e[0][e[0].length-2]],i=t?[e[0][0]]:[e[0][0],e[0][e[0].length-2]]}if(r){const t=this.getMap();for(let r=0,o=i.length;r<o;r++){const o=i[r],s=t.getPixelFromCoordinate(o),a=e[0]-s[0],l=e[1]-s[1],c=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(a*a+l*l)<=c,n){this.finishCoordinate_=o;break}}}}return n}createOrUpdateSketchPoint_(e){if(this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(e)}else this.sketchPoint_=new L$(new VR(e)),this.updateSketchFeatures_()}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new L$);const t=e.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),n.changed()):(n=new vO(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(e){const t=this.getMap().getView().getProjection(),n=HR(this.geometryLayout_);for(;e.length<n;)e.push(0);this.finishCoordinate_=e,"Point"===this.mode_?this.sketchCoords_=e.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new L$(new vO(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new L$,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new sU(rU,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),n=this.sketchFeature_.getGeometry(),r=t.getView().getProjection(),i=HR(this.geometryLayout_);let o,s;for(;e.length<i;)e.push(0);if("Point"===this.mode_?s=this.sketchCoords_:"Polygon"===this.mode_?(o=this.sketchCoords_[0],s=o[o.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(o=this.sketchCoords_,s=o[o.length-1]),s[0]=e[0],s[1]=e[1],this.geometryFunction_(this.sketchCoords_,n,r),this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(e)}if("Polygon"===n.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let r,i;const o=this.mode_;return"LineString"===o||"Circle"===o?(this.finishCoordinate_=e.slice(),i=this.sketchCoords_,i.length>=this.maxPoints_&&(this.freehand_?i.pop():r=!0),i.push(e.slice()),this.geometryFunction_(i,t,n)):"Polygon"===o&&(i=this.sketchCoords_[0],i.length>=this.maxPoints_&&(this.freehand_?i.pop():r=!0),i.push(e.slice()),r&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,t,n)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),r?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;for(let i=0;i<e;++i){let e;if("LineString"===r||"Circle"===r){if(e=this.sketchCoords_,e.splice(-2,1),e.length>=2){this.finishCoordinate_=e[e.length-2].slice();const t=this.finishCoordinate_.slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}this.geometryFunction_(e,t,n),"Polygon"===t.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if("Polygon"===r){e=this.sketchCoords_[0],e.splice(-2,1);const r=this.sketchLine_.getGeometry();if(e.length>=2){const t=e[e.length-2].slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}r.setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t,n)}if(1===e.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return null;let t=this.sketchCoords_;const n=e.getGeometry(),r=this.getMap().getView().getProjection();return"LineString"===this.mode_?(t.pop(),this.geometryFunction_(t,n,r)):"Polygon"===this.mode_&&(t[0].pop(),this.geometryFunction_(t,n,r),t=n.getCoordinates()),"MultiPoint"===this.type_?e.setGeometry(new cj([t])):"MultiLineString"===this.type_?e.setGeometry(new aj([t])):"MultiPolygon"===this.type_&&e.setGeometry(new dj([t])),this.dispatchEvent(new sU(iU,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new sU(oU,e))}appendCoordinates(e){const t=this.mode_,n=!this.sketchFeature_;let r;if(n&&this.startDrawing_(e[0]),"LineString"===t||"Circle"===t)r=this.sketchCoords_;else{if("Polygon"!==t)return;r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&r.shift(),r.pop();for(let t=0;t<e.length;t++)this.addToDrawing_(e[t]);const i=e[e.length-1];this.sketchFeature_=this.addToDrawing_(i),this.modifyDrawing_(i)}extend(e){const t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new L$(new VR(n)),this.updateSketchFeatures_(),this.dispatchEvent(new sU(rU,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing(),this.overlay_.setMap(t?e:null)}};class yU{constructor(e,t){this.manager_=e,this.index_=t,this.listenerKeys_=[]}addFeature(e){this.manager_.addFeature(e,this.index_)}removeFeature(e){this.manager_.removeFeature(e,this.index_)}isEmpty(){return this.manager_.isEmpty(this.index_)}clear(){this.manager_.clear(this.index_)}setFeatures(e){this.clear(),this.listenerKeys_.forEach(wn),null!==e&&(e.forEach((e=>{this.addFeature(e)})),this.listenerKeys_.push(bn(e,"add",(e=>this.handleFeatureAdd_(e)))),this.listenerKeys_.push(bn(e,"remove",(e=>this.handleFeatureRemove_(e)))))}setStyle(e){this.manager_.setStyle(e,this.index_)}handleFeatureAdd_(e){if(e instanceof ZY){const t=e.element;this.addFeature(t)}}handleFeatureRemove_(e){if(e instanceof ZY){const t=e.element;this.removeFeature(t)}}}const bU=new class{constructor(){this.featureUidToGroupIndex_={},this.groups_=[],this.source_=new Dj({useSpatialIndex:!1}),this.layer_=new FY({className:"canvas2d",source:this.source_,style:this.styleFunction_.bind(this),updateWhileAnimating:!0,updateWhileInteracting:!0})}isEmpty(e){return console.assert(e>=0),console.assert(e<this.groups_.length),an(this.groups_[e].features)}addFeature(e,t){console.assert(t>=0),console.assert(t<this.groups_.length);const n=qe(e).toString();this.featureUidToGroupIndex_[n]=t,this.groups_[t].features[n]=e,this.source_.addFeature(e)}removeFeature(e,t){console.assert(t>=0),console.assert(t<this.groups_.length);const n=qe(e).toString();delete this.featureUidToGroupIndex_[n],delete this.groups_[t].features[n],this.source_.removeFeature(e)}clear(e){console.assert(e>=0),console.assert(e<this.groups_.length);const t=this.groups_[e];for(const n in t.features)this.removeFeature(t.features[n],e);console.assert(an(t.features))}getLayer(){return this.layer_}getFeatureOverlay(){const e=this.groups_.length;return this.groups_.push({styleFunction:wr,features:{}}),new yU(this,e)}init(e){this.layer_.setMap(e)}setStyle(e,t){console.assert(t>=0),console.assert(t<this.groups_.length),this.groups_[t].styleFunction=null===e?wr:br(e)}styleFunction_(e,t){const n=qe(e).toString();console.assert(n in this.featureUidToGroupIndex_);const r=this.featureUidToGroupIndex_[n];return this.groups_[r].styleFunction(e,t)}},vU=bU;class wU extends qt{constructor(e,t){super(e),this.layer=t}}const xU="layers";class MU extends RO{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(xU,this.handleLayersChanged_),n?Array.isArray(n)?n=new QY(n.slice(),{unique:!0}):_r("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new QY(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(wn),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(bn(e,XY,this.handleLayersAdd_,this),bn(e,KY,this.handleLayersRemove_,this));for(const e in this.listenerKeys_)this.listenerKeys_[e].forEach(wn);sn(this.listenerKeys_);const t=e.getArray();for(let e=0,n=t.length;e<n;e++){const n=t[e];this.registerLayerListeners_(n),this.dispatchEvent(new wU("addlayer",n))}this.changed()}registerLayerListeners_(e){const t=[bn(e,$n,this.handleLayerChange_,this),bn(e,cn,this.handleLayerChange_,this)];e instanceof MU&&t.push(bn(e,"addlayer",this.handleLayerGroupAdd_,this),bn(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[qe(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new wU("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new wU("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new wU("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=qe(t);this.listenerKeys_[n].forEach(wn),delete this.listenerKeys_[n],this.dispatchEvent(new wU("removelayer",t)),this.changed()}getLayers(){return this.get(xU)}setLayers(e){const t=this.getLayers();if(t){const e=t.getArray();for(let t=0,n=e.length;t<n;++t)this.dispatchEvent(new wU("removelayer",e[t]))}this.set(xU,e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}getLayerStatesArray(e){const t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));const r=this.getLayerState();let i=r.zIndex;e||void 0!==r.zIndex||(i=0);for(let e=n,o=t.length;e<o;e++){const n=t[e];n.opacity*=r.opacity,n.visible=n.visible&&r.visible,n.maxResolution=Math.min(n.maxResolution,r.maxResolution),n.minResolution=Math.max(n.minResolution,r.minResolution),n.minZoom=Math.max(n.minZoom,r.minZoom),n.maxZoom=Math.min(n.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==n.extent?n.extent=_P(n.extent,r.extent):n.extent=r.extent),void 0===n.zIndex&&(n.zIndex=i)}return t}getSourceState(){return"ready"}}const SU=MU;function kU(e){return Array.isArray(e)?Math.min(...e):e}const TU=class extends Sn{constructor(e,t,n,r,i,o,s){let a=e.getExtent();a&&e.canWrapX()&&(a=a.slice(),a[0]=-1/0,a[2]=1/0);let l=t.getExtent();l&&t.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);const c=l?_P(n,l):n,u=IH(e,t,fP(c),r),h=new AH(e,t,c,a,.5*u,r),d=h.calculateSourceExtent(),f=xP(d)?null:o(d,u,i),p=f?Ye:Ue,m=f?f.getPixelRatio():1;super(n,r,m,p),this.targetProj_=t,this.maxSourceExtent_=a,this.triangulation_=h,this.targetResolution_=r,this.targetExtent_=n,this.sourceImage_=f,this.sourcePixelRatio_=m,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==je&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==He){const e=vP(this.targetExtent_)/this.targetResolution_,t=gP(this.targetExtent_)/this.targetResolution_;this.canvas_=NH(e,t,this.sourcePixelRatio_,kU(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==Ye){this.state=je,this.changed();const e=this.sourceImage_.getState();e==He||e==ze?this.reproject_():(this.sourceListenerKey_=bn(this.sourceImage_,cn,(e=>{const t=this.sourceImage_.getState();t!=He&&t!=ze||(this.unlistenSource_(),this.reproject_())})),this.sourceImage_.load())}}unlistenSource_(){wn(this.sourceListenerKey_),this.sourceListenerKey_=null}},LU="imageloadstart",CU="imageloadend",EU="imageloaderror";class DU extends qt{constructor(e,t){super(e),this.image=t}}function AU(e,t){e.getImage().src=t}function $U(e,t,n,r){const i=t/n,o=fP(e),s=_t(vP(e)/i,4),a=_t(gP(e)/i,4);return mP(o,i,0,[s+2*_t((r-1)*s/2,4),a+2*_t((r-1)*a/2,4)])}const PU=class extends _j{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:void 0===e.interpolate||e.interpolate}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!e.loader&&0===e.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){e=t[Xt(t,e,0)]}return e}getImage(e,t,n,r){const i=this.getProjection();if(!i||!r||vR(i,r))return i&&(r=i),this.getImageInternal(e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&vR(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&iP(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new TU(i,r,e,t,n,((e,t,n)=>this.getImageInternal(e,t,n,i)),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,r){if(this.loader){const i=$U(e,t,n,1),o=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&K$(this.wantedExtent_,i)||K$(this.image.getExtent(),i))&&(this.wantedResolution_&&kU(this.wantedResolution_)===o||kU(this.image.getResolution())===o)))return this.image;this.wantedProjection_=r,this.wantedExtent_=i,this.wantedResolution_=o,this.image=new Sn(i,o,n,this.loader),this.image.addEventListener(cn,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case je:this.loading=!0,n=LU;break;case He:this.loading=!1,n=CU;break;case ze:this.loading=!1,n=EU;break;default:return}this.hasListener(n)&&this.dispatchEvent(new DU(n,t))}},RU=[0,0,0];const OU=class{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,_r(function(e,t,n){const r=t||Bt;return e.every((function(t,i){if(0===i)return!0;const o=r(e[i-1],t);return!(o>0||n&&0===o)}))}(this.resolutions_,((e,t)=>t-e),!0),"`resolutions` must be sorted in descending order"),!e.origins)for(let e=0,n=this.resolutions_.length-1;e<n;++e)if(t){if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}else t=this.resolutions_[e]/this.resolutions_[e+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,_r(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;void 0===n||this.origin_||this.origins_||(this.origin_=yP(n)),_r(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,_r(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:UO,_r(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(((e,t)=>{const r=new QH(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(n){const e=this.getTileRangeForExtentAndZ(n,t);r.minX=Math.max(e.minX,r.minX),r.maxX=Math.min(e.maxX,r.maxX),r.minY=Math.max(e.minY,r.minY),r.maxY=Math.min(e.maxY,r.maxY)}return r})):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const r=this.getTileRangeForExtentAndZ(e,t);for(let e=r.minX,i=r.maxX;e<=i;++e)for(let i=r.minY,o=r.maxY;i<=o;++i)n([t,e,i])}forEachTileCoordParentTileRange(e,t,n,r){let i,o,s,a=null,l=e[0]-1;for(2===this.zoomFactor_?(o=e[1],s=e[2]):a=this.getTileCoordExtent(e,r);l>=this.minZoom;){if(void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),i=ZH(o,o,s,s,n)):i=this.getTileRangeForExtentAndZ(a,l,n),t(l,i))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*e[1],r=2*e[2];return ZH(n,n+1,r,r+1,t)}const r=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],i=e[1],o=e[2];if(t===r)return ZH(i,o,i,o,n);if(this.zoomFactor_){const e=Math.pow(this.zoomFactor_,t-r),s=Math.floor(i*e),a=Math.floor(o*e);if(t<r)return ZH(s,s,a,a,n);return ZH(s,Math.floor(e*(i+1))-1,a,Math.floor(e*(o+1))-1,n)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,RU);const r=RU[1],i=RU[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,RU);return ZH(r,RU[1],i,RU[2],n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=Ve(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Ve(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*i[0]*r,s=n[1]-(e[2]+1)*i[1]*r;return eP(o,s,o+i[0]*r,s+i[1]*r,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,r,i){const o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=Ve(this.getTileSize(o),this.tmpSize_);let c=s*(e-a[0])/n/l[0],u=s*(a[1]-t)/n/l[1];return r?(c=_t(c,5)-1,u=_t(u,5)-1):(c=gt(c,5),u=gt(u,5)),nz(o,c,u,i)}getTileCoordForXYAndZ_(e,t,n,r,i){const o=this.getOrigin(n),s=this.getResolution(n),a=Ve(this.getTileSize(n),this.tmpSize_);let l=(e-o[0])/s/a[0],c=(o[1]-t)/s/a[1];return r?(l=_t(l,5)-1,c=_t(c,5)-1):(l=gt(l,5),c=gt(c,5)),nz(n,l,c,i)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){return at(Xt(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return gO(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n}};class IU extends OU{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function FU(e){let t=e.getDefaultTileGrid();return t||(t=function(e,t,n,r){const i=jU(e);return function(e,t,n,r){r=void 0!==r?r:"top-left";const i=YU(e,t,n);return new OU({extent:e,origin:pP(e,r),resolutions:i,tileSize:n})}(i,t,n,r)}(e),e.setDefaultTileGrid(t)),t}function NU(e){const t=e||{},n=t.extent||pR("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:YU(n,t.maxZoom,t.tileSize,t.maxResolution)};return new OU(r)}function YU(e,t,n,r){t=void 0!==t?t:42,n=Ve(void 0!==n?n:UO);const i=gP(e),o=vP(e);r=r>0?r:Math.max(o/n[0],i/n[1]);const s=t+1,a=new Array(s);for(let e=0;e<s;++e)a[e]=r/Math.pow(2,e);return a}function jU(e){let t=(e=pR(e)).getExtent();if(!t){const n=180*TP.degrees/e.getMetersPerUnit();t=eP(-n,-n,n,n)}return t}class HU extends qt{constructor(e,t){super(e),this.tile=t}}const zU=class extends _j{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;const t=[256,256];this.tileGrid&&Ve(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||qe(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,r,i){return We()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:FU(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(t),o=Ve(r.getTileSize(e),this.tmpSize);return 1==i?o:function(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}(o,i,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=void 0!==t?t:this.getProjection();const n=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function(e,t,n){const r=t[0],i=e.getTileCoordCenter(t),o=jU(n);if(!X$(o,i)){const t=vP(o),n=Math.ceil((o[0]-i[0])/t);return i[0]+=t*n,e.getTileCoordForCoordAndZ(i,r)}return t}(n,e,t)),function(e,t){const n=e[0],r=e[1],i=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return!o||o.containsXY(r,i)}(e,n)?e:null}clear(){}refresh(){this.clear(),super.refresh()}};const UU=new class{constructor(){this.line_=new wi(null)}getLine(){return this.line_}setLine(e){this.line_.next(e)}};const WU=new class{constructor(){this.map_=new wi(null)}getMap(){return this.map_}setMap(e){this.map_.next(e)}};const GU=new class{constructor(){this.map_=null,this.line=null,this.features_=new QY;const e=vU.getFeatureOverlay();e.setFeatures(this.features_);const t=new Sr({stroke:new gr({color:"#ffcc33",width:2})});var n;e.setStyle(t),this.interaction=new _U({type:"LineString",features:this.features_}),n=this.interaction,console.assert(n instanceof eU),Object.defineProperty(n,"active",{get:()=>n.getActive(),set:e=>{n.setActive(e)}}),this.subscriptions=[],this.subscriptions.push(UU.getLine().subscribe({next:e=>{e?this.line=e:this.clear_()}})),this.subscriptions.push(WU.getMap().subscribe({next:e=>{e&&(this.map_=e)}})),this.subscriptions.push(Lv.getActiveToolPanel().subscribe({next:e=>{this.active="lidar"===e,this.active?(this.map_.addInteraction(this.interaction),this.initInteraction(),this.interaction.setActive(this.active)):(this.map_&&this.map_.removeInteraction(this.interaction),this.clear_())}}))}initInteraction(){this.interaction.on("drawstart",(()=>{this.features_.clear()})),this.interaction.on("drawend",(e=>{this.line=e.feature.getGeometry(),setTimeout((()=>{this.interaction.setActive(!1),UU.setLine(this.line)}),0)}))}clear_(){this.features_.clear(),this.line=null}};var qU=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let BU=class extends Mv{constructor(){super(...arguments),this.customCSS_="",this.profileConfig_=null,this.profile=null,this.ready=!1,this.active=!1,this.map=null,this.drawlineClass="",this.line=null,this.classifications=[],this.availablePointAttributes=[]}connectedCallback(){this.initSubscribe(),super.connectedCallback()}initSubscribe(){this.profile=$j,this.profileConfig_=fx,this.subscriptions.push(UU.getLine().subscribe({next:e=>{this.line=e,e?(this.drawlineClass="",this.update_()):this.clearAll()}})),this.subscriptions.push(WU.getMap().subscribe({next:e=>{e&&(this.map=e,this.profile.init(this.profileConfig_,this.map))}})),this.subscriptions.push(Lv.getActiveToolPanel().subscribe({next:e=>{this.active="lidar"===e,this.active?(this.drawlineClass="active",this.updateEventsListening_(this.active)):UU.setLine(null)}}))}initConfig(e){e.gmfCustomCSS&&void 0!==e.gmfCustomCSS.lidarPanel&&(this.customCSS_=e.gmfCustomCSS.lidarPanel)}render(){return es`<style>${mo(this.customCSS_)}</style>${this.getTitle(V.t("LIDAR profile"))}<div class="lidar-panel" gmf-drawprofileline><p><button class="btn btn-default ${this.drawlineClass}" @click="${()=>this.toggleDrawLine()}">${V.t("Draw LIDAR profile line")}</button></p><p>${GU.interaction.getActive()?es`<em class="text-muted small">${V.t("Draw a line on the map to display the corresponding LIDAR profile. Use double-click to finish the drawing.")}</em>`:es``}</p>${this.ready?es`${this.line?es`<div><button class="btn btn-default" @click="${()=>this.csvExport()}">${V.t("CSV export")}</button> <button class="btn btn-default" @click="${()=>this.pngExport()}">${V.t("PNG export")}</button> <button class="btn btn-default" @click="${()=>this.resetPlot()}" data-toggle="tooltip" data-placement="left" data-original-title="${V.t("Reset profile")}"><span class="fa-solid fa-arrows-rotate"></span></button></div><hr><button class="btn btn-default" @click="${()=>this.setMeasureActive()}" data-toggle="tooltip" data-placement="left" data-original-title="${V.t("Take measure on the graph")}">${V.t("Take measure")}</button> <button class="btn btn-default" @click="${()=>this.clearMeasure()}" data-toggle="tooltip" data-placement="left" data-original-title="${V.t("Clear measure")}"><span class="fa-solid fa-eraser"></span></button>`:""}<div><hr><p>${V.t("Material")}</p><select id="select-attributes" @change="${()=>this.selectPointAttribute()}">${Object.entries(this.availablePointAttributes).map((([e,t])=>es`<option value="${e}">${t.name}</option>`))}</select></div><hr><p>${V.t("Classes")}</p>${Object.entries(this.classifications).map((([e,t])=>es`<div><input type="checkbox" id="${t.name}" .checked="${!!t.visible}" @click="${()=>this.toggleVisibility(t,e)}"> <label for="${t.name}">${t.name}</label></div>`))}`:es`<p>${V.t("Initializing, please wait...")}</p>`}</div>`}toggleDrawLine(){this.drawlineClass="";const e=GU.interaction.getActive();e||(this.drawlineClass="active"),GU.interaction.setActive(!e)}toggleVisibility(e,t){e.visible=0===e.visible?1:0,this.setClassification(e,parseInt(t))}selectPointAttribute(){const e=this.renderRoot.querySelector("#select-attributes").value;Object.entries(this.availablePointAttributes).map((([t,n])=>{t===e&&this.setSelectedPointAttribute(n)}))}initConfigAndActivateTool_(){this.profileConfig_.initProfileConfig().then((()=>{this.ready=!0,this.classifications=this.getClassification(),this.availablePointAttributes=this.getAvailablePointAttributes()})).catch((e=>{throw new Error(`Error getting profile config: ${e}`)}))}updateEventsListening_(e){!0===e?this.ready||this.initConfigAndActivateTool_():this.clearAll()}update_(){if(this.profile.clearBuffer(),!this.profileConfig_.serverConfig)throw new Error("Missing profileConfig_.serverConfig");Lv.openFooterPanel("lidar",{state:!0}),this.profile.setLine(this.line),this.profile.getProfileByLOD([],0,!0,this.profileConfig_.serverConfig.minLOD)}clearAll(){this.line=null,this.profile.setLine(null),this.profile.cartoHighlight.setPosition(void 0),this.profile.measure&&this.clearMeasure(),this.resetPlot()}setMeasureActive(){if(!this.profile.measure)throw new Error("Missing profile.measure");this.profile.measure.clearMeasure(),this.profile.measure.setMeasureActive()}clearMeasure(){if(!this.profile.measure)throw new Error("Missing profile.measure");this.profile.measure.clearMeasure()}resetPlot(){this.profile.clearBuffer(),this.line&&this.profile.getProfileByLOD([],0,!0,0)}getAvailablePointAttributes(){return this.profileConfig_.clientConfig.pointAttributes.availableOptions}setSelectedPointAttribute(e){this.profileConfig_.clientConfig.pointAttributes.selectedOption=e,this.profile.plot.changeStyle(e.value)}getClassification(){if(!this.profileConfig_.serverConfig)throw new Error("Missing profileConfig_.serverConfig");return this.profileConfig_.serverConfig.classification_colors}setClassification(e,t){if(!this.profile.plot)throw new Error("Missing profile.plot");if(!this.profileConfig_.serverConfig)throw new Error("Missing profileConfig_.serverConfig");this.profileConfig_.serverConfig.classification_colors[t].visible=e.visible,this.line&&this.profile.plot.setClassActive(this.profileConfig_.serverConfig.classification_colors,this.profileConfig_.serverConfig.default_attribute)}csvExport(){if(this.line){const e=this.profile.utils.getFlatPointsByDistance(this.profile.profilePoints)||[],t=this.profile.utils.getCSVData(e),n=Object.keys(e[0]).map((e=>({name:e})));Xz.startDownload(t,n,"LIDAR_profile.csv")}}pngExport(){this.line&&this.profile.utils.downloadProfileAsImageFile(this.profileConfig_.clientConfig)}};BU.styles=[...Mv.styles,go`.btn.btn-default{background-color:var(--map-tools-bg-color);border-color:var(--onhover-color);color:var(--map-tools-color)}.btn.btn-default.active{box-shadow:inset 0 .37rem .75rem var(--light-box-shadow-color)}.btn.btn-default.active,.btn.btn-default:hover{background-color:var(--onhover-color);border-color:var(--onhover-color-darken)}`],qU([Ss()],BU.prototype,"customCSS_",void 0),qU([Ss()],BU.prototype,"profileConfig_",void 0),qU([Ss()],BU.prototype,"profile",void 0),qU([Ss()],BU.prototype,"ready",void 0),qU([Ss()],BU.prototype,"active",void 0),qU([Ss()],BU.prototype,"map",void 0),qU([Ss()],BU.prototype,"drawlineClass",void 0),qU([Ss()],BU.prototype,"line",void 0),qU([Ss()],BU.prototype,"classifications",void 0),qU([Ss()],BU.prototype,"availablePointAttributes",void 0),BU=qU([vs("gmf-lidar-panel")],BU);const VU=1;class XU{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const KU=(e=>(...t)=>({_$litDirective$:e,values:t}))(class extends XU{constructor(e){if(super(e),e.type!==VU||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const n=e.element.classList;for(const e of this.st)e in t||(n.remove(e),this.st.delete(e));for(const e in t){const r=!!t[e];r===this.st.has(e)||this.nt?.has(e)||(r?(n.add(e),this.st.add(e)):(n.remove(e),this.st.delete(e)))}return ns}});var JU=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let ZU=class extends As{constructor(){super(...arguments),this.customCSS_="",this.open=!1}connectedCallback(){this.subscriptions.push(UU.getLine().subscribe({next:e=>{this.open=!!e,e||Lv.closeFooterPanel()}})),super.connectedCallback()}initConfig(e){e.gmfCustomCSS&&void 0!==e.gmfCustomCSS.lidarFooter&&(this.customCSS_=e.gmfCustomCSS.lidarFooter)}render(){return es`<style>${mo(this.customCSS_)}</style><div id="gmf-lidarprofile-container" class="${KU({panel:!0,hidden:!this.open})}"><div class="lidarprofile"><div class="lidar-error"></div><canvas class="lidar-canvas"></canvas><svg class="lidar-svg" style="fill:#ff0;position:absolute;z-index:1"></svg></div><div class="lidar-legend"><div class="width-info"></div><div class="lod-info"></div><div class="lidar-info"></div></div><div class="close" @click="${()=>this.closePanel()}">×</div></div>`}closePanel(){UU.setLine(null),Lv.closeFooterPanel()}};ZU.styles=[...As.styles,go`.hidden{display:none!important}#gmf-lidarprofile-container{position:relative;overflow:hidden;padding:var(--app-margin);border-top:solid .06rem #000;background-color:#fff;height:var(--lidarprofile-height);display:flex}#gmf-lidarprofile-container .lidarprofile{width:calc(100% - var(--profile-legend-width));background-color:#f5f5f5}#gmf-lidarprofile-container .lidar-legend{list-style-type:none;width:var(--profile-legend-width);padding:var(--app-margin)}#gmf-lidarprofile-container .close{height:.62rem;cursor:pointer}#gmf-lidarprofile-container .lidar-error{visibility:hidden;position:absolute;z-index:10;margin:var(--app-margin);padding-left:6.25rem;padding-top:6.25rem;width:calc(100% - 3.12rem - var(--profile-legend-width));height:calc(var(--lidarprofile-height) - 3.12rem);font-size:1.5em;opacity:1;background:#e1f1f7;color:#4b717f}#gmf-lidarprofile-container .lod-info{max-height:6.25rem;overflow-y:auto}.gmf-lidarprofile-automatic-width{color:gray}.gmf-lidarprofile-chart-active main{height:calc(100% - var(--lidarprofile-height))}.gmf-tooltip-measure{font-weight:700}`],JU([Ss()],ZU.prototype,"customCSS_",void 0),JU([Ss()],ZU.prototype,"open",void 0),ZU=JU([vs("gmf-lidar-footer")],ZU);const QU=function(e){const n=r()("meta[name=interface]")[0].getAttribute("content"),i=r()("meta[name=dynamicUrl]")[0].getAttribute("content"),o=r()("meta[name=appName]")[0],s=o?o.getAttribute("content"):`App${n}`,a=document.location&&document.location.search||"",l=`${i}?interface=${n}&query=${encodeURIComponent(a)}&path=${encodeURIComponent(document.location.pathname)}`;r().ajax(l,{dataType:"json",xhrFields:{withCredentials:!1}}).fail(((e,t)=>{window.alert(`Failed to get the dynamic: ${t}`)})).done((n=>{if(n.doRedirect){!!window.matchMedia&&window.matchMedia("(max-width: 1024px)")&&"ontouchstart"in window&&(window.location.href=n.redirectUrl)}if("gmfCustomJavascriptUrl"in n.constants){const e=n.constants.gmfCustomJavascriptUrl;(Array.isArray(e)?e:[e]).forEach((e=>{!function(e){const t=document.createElement("script");t.src=e,t.crossOrigin="anonymous",t.type="module",document.body.append(t)}(e)}))}if("gmfCustomStylesheetUrl"in n.constants){const e=n.constants.gmfCustomStylesheetUrl;(Array.isArray(e)?e:[e]).forEach((e=>{!function(e){const t=document.createElement("link");t.href=e,t.rel="stylesheet",t.crossOrigin="anonymous",document.head.append(t)}(e)}))}lo.setConfig(n.constants);for(const t in n.constants)e.constant(t,n.constants[t]);!function(e){const t=e.gmfI18nextConfiguration||{};V.use(be).use(Ne).init(t).catch((e=>{console.error(`Unable to initialize the i18next: ${e}`)}));const n=K().init(V);V.on("languageChanged",(e=>{document.documentElement.lang=e,n("[data-i18n]")}))}(n.constants),t().bootstrap(document,[s])})).catch((e=>{window.alert(`Failed to get the dynamic: ${e}`)}))};const eW=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=L$,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?pR(t.dataProjection):this.readProjection(e);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=pR(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return We()}readFeature(e,t){return We()}readFeatures(e,t){return We()}readGeometry(e,t){return We()}readProjection(e){return We()}writeFeature(e,t){return We()}writeFeatures(e,t){return We()}writeGeometry(e,t){return We()}};function tW(e,t,n){const r=n?pR(n.featureProjection):null,i=n?pR(n.dataProjection):null;let o=e;if(r&&i&&!vR(r,i)){t&&(o=e.clone());const n=t?r:i,s=t?i:r;"tile-pixels"===n.getUnits()?o.transform(n,s):o.applyTransform(xR(n,s))}if(t&&n&&void 0!==n.decimals){const t=Math.pow(10,n.decimals),r=function(e){for(let n=0,r=e.length;n<r;++n)e[n]=Math.round(e[n]*t)/t;return e};o===e&&(o=e.clone()),o.applyTransform(r)}return o}function nW(e,t){const n=t?pR(t.featureProjection):null,r=t?pR(t.dataProjection):null;return n&&r&&!vR(n,r)?SR(e,r,n):e}const rW={Point:VR,LineString:vO,Polygon:mI,MultiPoint:cj,MultiLineString:aj,MultiPolygon:dj};function iW(e,t){const n=e.geometry;if(!n)return[];if(Array.isArray(n))return n.map((t=>iW({...e,geometry:t}))).flat();const r="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const i=n.layout.length;return tW(new mj(r,"Polygon"===r?function(e,t,n){return Array.isArray(t[0])?(uI(e,0,t,n)||dI(e=e.slice(),0,t,n),e):(cI(e,0,t,n)||hI(e=e.slice(),0,t,n),e)}(n.flatCoordinates,n.ends,i):n.flatCoordinates,n.ends?.flat(),i,e.properties||{},e.id).enableSimplifyTransformed(),!1,t)}function oW(e,t){if(!e)return null;if(Array.isArray(e)){const n=e.map((e=>oW(e,t)));return new oj(n)}return tW(new(0,rW[e.type])(e.flatCoordinates,e.layout,e.ends),!1,t)}const sW=4294967296,aW=1/sW,lW="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");class cW{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const n=this.readVarint(),r=n>>3,i=this.pos;this.type=7&n,e(r,t,this),this.pos===i&&this.skip(n)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*sW;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*sW;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,r;return r=t[this.pos++],n=127&r,r<128?n:(r=t[this.pos++],n|=(127&r)<<7,r<128?n:(r=t[this.pos++],n|=(127&r)<<14,r<128?n:(r=t[this.pos++],n|=(127&r)<<21,r<128?n:(r=t[this.pos],n|=(15&r)<<28,function(e,t,n){const r=n.buf;let i,o;if(o=r[n.pos++],i=(112&o)>>4,o<128)return uW(e,i,t);if(o=r[n.pos++],i|=(127&o)<<3,o<128)return uW(e,i,t);if(o=r[n.pos++],i|=(127&o)<<10,o<128)return uW(e,i,t);if(o=r[n.pos++],i|=(127&o)<<17,o<128)return uW(e,i,t);if(o=r[n.pos++],i|=(127&o)<<24,o<128)return uW(e,i,t);if(o=r[n.pos++],i|=(1&o)<<31,o<128)return uW(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(n,e,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2==1?(e+1)/-2:e/2}readBoolean(){return Boolean(this.readVarint())}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&lW?lW.decode(this.buf.subarray(t,e)):function(e,t,n){let r="",i=t;for(;i<n;){const t=e[i];let o,s,a,l=null,c=t>239?4:t>223?3:t>191?2:1;if(i+c>n)break;1===c?t<128&&(l=t):2===c?(o=e[i+1],128==(192&o)&&(l=(31&t)<<6|63&o,l<=127&&(l=null))):3===c?(o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&t)<<12|(63&o)<<6|63&s,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&t)<<18|(63&o)<<12|(63&s)<<6|63&a,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return 2===this.type?this.readVarint()+this.pos:this.pos+1}skip(e){const t=7&e;if(0===t)for(;this.buf[this.pos++]>127;);else if(2===t)this.pos=this.readVarint()+this.pos;else if(5===t)this.pos+=4;else{if(1!==t)throw new Error(`Unimplemented type: ${t}`);this.pos+=8}}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const e=new Uint8Array(t);e.set(this.buf),this.buf=e,this.dataView=new DataView(e.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*aW),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*aW),!0),this.pos+=8}writeVarint(e){(e=+e||0)>268435455||e<0?function(e,t){let n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){const n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))}writeSVarint(e){this.writeVarint(e<0?2*-e-1:2*e)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(4*e.length),this.pos++;const t=this.pos;this.pos=function(e,t,n){for(let r,i,o=0;o<t.length;o++){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);const n=this.pos-t;n>=128&&hW(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const r=this.pos-n;r>=128&&hW(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,n){this.writeTag(e,2),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,dW,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,fW,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,gW,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,pW,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,mW,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,_W,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,yW,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,bW,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,vW,t)}writeBytesField(e,t){this.writeTag(e,2),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,5),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,5),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,1),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,1),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,0),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,0),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,2),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,5),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,1),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function uW(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function hW(e,t,n){const r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(let t=n.pos-1;t>=e;t--)n.buf[t+r]=n.buf[t]}function dW(e,t){for(let n=0;n<e.length;n++)t.writeVarint(e[n])}function fW(e,t){for(let n=0;n<e.length;n++)t.writeSVarint(e[n])}function pW(e,t){for(let n=0;n<e.length;n++)t.writeFloat(e[n])}function mW(e,t){for(let n=0;n<e.length;n++)t.writeDouble(e[n])}function gW(e,t){for(let n=0;n<e.length;n++)t.writeBoolean(e[n])}function _W(e,t){for(let n=0;n<e.length;n++)t.writeFixed32(e[n])}function yW(e,t){for(let n=0;n<e.length;n++)t.writeSFixed32(e[n])}function bW(e,t){for(let n=0;n<e.length;n++)t.writeFixed64(e[n])}function vW(e,t){for(let n=0;n<e.length;n++)t.writeSFixed64(e[n])}function wW(e,t,n){if(3===e){const e={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(xW,e,r),e.length=e.features.length,e.length&&(t[e.name]=e)}}function xW(e,t,n){if(15===e)t.version=n.readVarint();else if(1===e)t.name=n.readString();else if(5===e)t.extent=n.readVarint();else if(2===e)t.features.push(n.pos);else if(3===e)t.keys.push(n.readString());else if(4===e){let r=null;const i=n.readVarint()+n.pos;for(;n.pos<i;)r=1===(e=n.readVarint()>>3)?n.readString():2===e?n.readFloat():3===e?n.readDouble():4===e?n.readVarint64():5===e?n.readVarint():6===e?n.readSVarint():7===e?n.readBoolean():null;t.values.push(r)}}function MW(e,t,n){if(1==e)t.id=n.readVarint();else if(2==e){const e=n.readVarint()+n.pos;for(;n.pos<e;){const e=t.layer.keys[n.readVarint()],r=t.layer.values[n.readVarint()];t.properties[e]=r}}else 3==e?t.type=n.readVarint():4==e&&(t.geometry=n.pos)}function SW(e,t,n){e.pos=t.features[n];const r=e.readVarint()+e.pos,i={layer:t,type:0,properties:{}};return e.readFields(MW,i,r),i}const kW=class extends eW{constructor(e){super(),e=e||{},this.dataProjection=new LP({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:mj,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,n,r){e.pos=t.geometry;const i=e.readVarint()+e.pos;let o=1,s=0,a=0,l=0,c=0,u=0;for(;e.pos<i;){if(!s){const t=e.readVarint();o=7&t,s=t>>3}if(s--,1===o||2===o)a+=e.readSVarint(),l+=e.readSVarint(),1===o&&c>u&&(r.push(c),u=c),n.push(a,l),c+=2;else{if(7!==o)throw new Error("Invalid command found in the PBF");c>u&&(n.push(n[u],n[u+1]),c+=2)}}c>u&&(r.push(c),u=c)}createFeature_(e,t,n){const r=t.type;if(0===r)return null;let i;const o=t.properties;let s;this.idProperty_?(s=o[this.idProperty_],delete o[this.idProperty_]):s=t.id,o[this.layerName_]=t.layer.name;const a=[],l=[];this.readRawGeometry_(e,t,a,l);const c=function(e,t){let n;1===e?n=1===t?"Point":"MultiPoint":2===e?n=1===t?"LineString":"MultiLineString":3===e&&(n="Polygon");return n}(r,l.length);if(this.featureClass===mj)i=new this.featureClass(c,a,l,2,o,s),i.transform(n.dataProjection);else{let e;if("Polygon"==c){const t=fI(a,l);e=t.length>1?new dj(a,"XY",t):new mI(a,"XY",l)}else e="Point"===c?new VR(a,"XY"):"LineString"===c?new vO(a,"XY"):"MultiPoint"===c?new cj(a,"XY"):"MultiLineString"===c?new aj(a,"XY",l):null;i=new(0,this.featureClass),this.geometryName_&&i.setGeometryName(this.geometryName_);const t=tW(e,!1,n);i.setGeometry(t),void 0!==s&&i.setId(s),i.setProperties(o,!0)}return i}getType(){return"arraybuffer"}readFeatures(e,t){const n=this.layers_,r=pR((t=this.adaptOptions(t)).dataProjection);r.setWorldExtent(t.extent),t.dataProjection=r;const i=new cW(e),o=i.readFields(wW,{}),s=[];for(const e in o){if(n&&!n.includes(e))continue;const a=o[e],l=a?[0,0,a.extent,a.extent]:null;r.setExtent(l);for(let e=0,n=a.length;e<n;++e){const n=SW(i,a,e),r=this.createFeature_(i,n,t);null!==r&&s.push(r)}}return s}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}},TW="http://www.w3.org/2001/XMLSchema-instance";function LW(e,t){return XW().createElementNS(e,t)}function CW(e,t){return EW(e,t,[]).join("")}function EW(e,t,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else{let r;for(r=e.firstChild;r;r=r.nextSibling)EW(r,t,n)}return n}function DW(e){return"documentElement"in e}function AW(e){return(new DOMParser).parseFromString(e,"application/xml")}function $W(e,t){return function(n,r){const i=e.call(t??this,n,r);if(void 0!==i){Jt(r[r.length-1],i)}}}function PW(e,t){return function(n,r){const i=e.call(t??this,n,r);if(void 0!==i){r[r.length-1].push(i)}}}function RW(e,t){return function(n,r){const i=e.call(t??this,n,r);void 0!==i&&(r[r.length-1]=i)}}function OW(e,t,n){return function(r,i){const o=e.call(n??this,r,i);if(void 0!==o){const e=i[i.length-1],n=void 0!==t?t:r.localName;let s;n in e?s=e[n]:(s=[],e[n]=s),s.push(o)}}}function IW(e,t,n){return function(r,i){const o=e.call(n??this,r,i);if(void 0!==o){i[i.length-1][void 0!==t?t:r.localName]=o}}}function FW(e,t){return function(n,r,i){e.call(t??this,n,r,i);i[i.length-1].node.appendChild(n)}}function NW(e,t){let n,r;return function(t,i,o){if(void 0===n){n={};const i={};i[t.localName]=e,n[t.namespaceURI]=i,r=YW(t.localName)}GW(n,r,i,o)}}function YW(e,t){return function(n,r,i){const o=r[r.length-1].node;let s=e;void 0===s&&(s=i);return LW(void 0!==t?t:o.namespaceURI,s)}}const jW=YW();function HW(e,t){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=e[t[i]];return r}function zW(e,t,n){let r,i;for(n=void 0!==n?n:{},r=0,i=e.length;r<i;++r)n[e[r]]=t;return n}function UW(e,t,n,r){let i;for(i=t.firstElementChild;i;i=i.nextElementSibling){const t=e[i.namespaceURI];if(void 0!==t){const e=t[i.localName];void 0!==e&&e.call(r,i,n)}}}function WW(e,t,n,r,i){return r.push(e),UW(t,n,r,i),r.pop()}function GW(e,t,n,r,i,o){const s=(void 0!==i?i:n).length;let a,l;for(let c=0;c<s;++c)a=n[c],void 0!==a&&(l=t.call(o,a,r,void 0!==i?i[c]:void 0),void 0!==l&&e[l.namespaceURI][l.localName].call(o,l,a,r))}function qW(e,t,n,r,i,o,s){return i.push(e),GW(t,n,r,i,o,s),i.pop()}let BW,VW;function XW(){return void 0===VW&&"undefined"!=typeof document&&(VW=document.implementation.createDocument("","",null)),VW}const KW=class{read(e){if(!e)return null;if("string"==typeof e){const t=AW(e);return this.readFromDocument(t)}return DW(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}readFromNode(e){We()}};function JW(e){return e.getAttributeNS("http://www.w3.org/1999/xlink","href")}function ZW(e){return QW(CW(e,!1))}function QW(e){const t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return void 0!==t[1]||!1}function eG(e){const t=CW(e,!1),n=Date.parse(t);return isNaN(n)?void 0:n/1e3}function tG(e){return nG(CW(e,!1))}function nG(e){const t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function rG(e){return iG(CW(e,!1))}function iG(e){const t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function oG(e){return CW(e,!1).trim()}function sG(e,t){cG(e,t?"1":"0")}function aG(e,t){const n=t.toPrecision();e.appendChild(XW().createTextNode(n))}function lG(e,t){const n=t.toString();e.appendChild(XW().createTextNode(n))}function cG(e,t){e.appendChild(XW().createTextNode(t))}const uG=[null,"http://www.opengis.net/ows/1.1"],hG=zW(uG,{ServiceIdentification:IW((function(e,t){return WW({},MG,e,t)})),ServiceProvider:IW((function(e,t){return WW({},SG,e,t)})),OperationsMetadata:IW((function(e,t){return WW({},bG,e,t)}))});const dG=zW(uG,{DeliveryPoint:IW(oG),City:IW(oG),AdministrativeArea:IW(oG),PostalCode:IW(oG),Country:IW(oG),ElectronicMailAddress:IW(oG)}),fG=zW(uG,{Value:OW((function(e,t){return oG(e)}))}),pG=zW(uG,{AllowedValues:IW((function(e,t){return WW({},fG,e,t)}))}),mG=zW(uG,{Phone:IW((function(e,t){return WW({},vG,e,t)})),Address:IW((function(e,t){return WW({},dG,e,t)}))}),gG=zW(uG,{HTTP:IW((function(e,t){return WW({},_G,e,t)}))}),_G=zW(uG,{Get:OW((function(e,t){const n=JW(e);if(!n)return;return WW({href:n},wG,e,t)})),Post:void 0}),yG=zW(uG,{DCP:IW((function(e,t){return WW({},gG,e,t)}))}),bG=zW(uG,{Operation:function(e,t){const n=e.getAttribute("name"),r=WW({},yG,e,t);if(!r)return;const i=t[t.length-1];i[n]=r}}),vG=zW(uG,{Voice:IW(oG),Facsimile:IW(oG)}),wG=zW(uG,{Constraint:OW((function(e,t){const n=e.getAttribute("name");if(!n)return;return WW({name:n},pG,e,t)}))}),xG=zW(uG,{IndividualName:IW(oG),PositionName:IW(oG),ContactInfo:IW((function(e,t){return WW({},mG,e,t)}))}),MG=zW(uG,{Abstract:IW(oG),AccessConstraints:IW(oG),Fees:IW(oG),Title:IW(oG),ServiceTypeVersion:IW(oG),ServiceType:IW(oG)}),SG=zW(uG,{ProviderName:IW(oG),ProviderSite:IW(JW),ServiceContact:IW((function(e,t){return WW({},xG,e,t)}))});const kG=class extends KW{constructor(){super()}readFromNode(e){const t=WW({},hG,e,[]);return t||null}},TG=[null,"http://www.opengis.net/wmts/1.0"],LG=[null,"http://www.opengis.net/ows/1.1"],CG=zW(TG,{Contents:IW((function(e,t){return WW({},EG,e,t)}))});const EG=zW(TG,{Layer:OW((function(e,t){return WW({},DG,e,t)})),TileMatrixSet:OW((function(e,t){return WW({},FG,e,t)}))}),DG=zW(TG,{Style:OW((function(e,t){const n=WW({},AG,e,t);if(!n)return;const r="true"===e.getAttribute("isDefault");return n.isDefault=r,n})),Format:OW(oG),TileMatrixSetLink:OW((function(e,t){return WW({},$G,e,t)})),Dimension:OW((function(e,t){return WW({},OG,e,t)})),ResourceURL:OW((function(e,t){const n=e.getAttribute("format"),r=e.getAttribute("template"),i=e.getAttribute("resourceType"),o={};n&&(o.format=n);r&&(o.template=r);i&&(o.resourceType=i);return o}))},zW(LG,{Title:IW(oG),Abstract:IW(oG),WGS84BoundingBox:IW(YG),BoundingBox:OW((function(e,t){const n=e.getAttribute("crs"),r=WW([],IG,e,t);if(2!=r.length)return;return{extent:G$(r),crs:n}})),Identifier:IW(oG)})),AG=zW(TG,{LegendURL:OW((function(e,t){const n={};return n.format=e.getAttribute("format"),n.href=JW(e),n}))},zW(LG,{Title:IW(oG),Identifier:IW(oG)})),$G=zW(TG,{TileMatrixSet:IW(oG),TileMatrixSetLimits:IW((function(e,t){return WW([],PG,e,t)}))}),PG=zW(TG,{TileMatrixLimits:PW((function(e,t){return WW({},RG,e,t)}))}),RG=zW(TG,{TileMatrix:IW(oG),MinTileRow:IW(rG),MaxTileRow:IW(rG),MinTileCol:IW(rG),MaxTileCol:IW(rG)}),OG=zW(TG,{Default:IW(oG),Value:OW(oG)},zW(LG,{Identifier:IW(oG)})),IG=zW(LG,{LowerCorner:PW(jG),UpperCorner:PW(jG)}),FG=zW(TG,{WellKnownScaleSet:IW(oG),TileMatrix:OW((function(e,t){return WW({},NG,e,t)}))},zW(LG,{SupportedCRS:IW(oG),Identifier:IW(oG),BoundingBox:IW(YG)})),NG=zW(TG,{TopLeftCorner:IW(jG),ScaleDenominator:IW(tG),TileWidth:IW(rG),TileHeight:IW(rG),MatrixWidth:IW(rG),MatrixHeight:IW(rG)},zW(LG,{Identifier:IW(oG)}));function YG(e,t){const n=WW([],IG,e,t);if(2==n.length)return G$(n)}function jG(e,t){const n=oG(e).split(/\s+/);if(!n||2!=n.length)return;const r=+n[0],i=+n[1];return isNaN(r)||isNaN(i)?void 0:[r,i]}const HG=class extends KW{constructor(){super(),this.owsParser_=new kG}readFromNode(e){let t=e.getAttribute("version");t&&(t=t.trim());let n=this.owsParser_.readFromNode(e);return n?(n.version=t,n=WW(n,CG,e,[]),n||null):null}};const zG=class extends MI{constructor(e){super(e=e||{})}};const UG=class extends cY{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,r=e.viewState,i=r.resolution,o=this.getLayer().getSource(),s=e.viewHints;let a=e.extent;if(void 0!==t.extent&&(a=_P(a,DR(t.extent,r.projection))),!s[jO]&&!s[HO]&&!xP(a))if(o){const e=r.projection,t=o.getImage(a,i,n,e);t&&(this.loadImage(t)?this.image=t:t.getState()===Ue&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=$$(t.pixelToCoordinateTransform,e.slice()),i=n.getExtent();if(i&&!X$(i,r))return null;const o=this.image.getExtent(),s=this.image.getImage(),a=vP(o),l=Math.floor(s.width*((r[0]-o[0])/a));if(l<0||l>=s.width)return null;const c=gP(o),u=Math.floor(s.height*((o[3]-r[1])/c));return u<0||u>=s.height?null:this.getImageData(s,l,u)}renderFrame(e,t){const n=this.image,r=n.getExtent(),i=n.getResolution(),[o,s]=Array.isArray(i)?i:[i,i],a=n.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,u=e.viewState,h=u.center,d=u.resolution,f=c*o/(d*a),p=c*s/(d*a);this.prepareContainer(e,t);const m=this.context.canvas.width,g=this.context.canvas.height,_=this.getRenderContext(e);let y=!1,b=!0;if(l.extent){const t=DR(l.extent,u.projection);b=wP(t,e.extent),y=b&&!K$(t,e.extent),y&&this.clipUnrotated(_,e,t)}const v=n.getImage(),w=O$(this.tempTransform,m/2,g/2,f,p,0,a*(r[0]-h[0])/o,a*(h[1]-r[3])/s);this.renderedResolution=s*c/a;const x=v.width*w[0],M=v.height*w[3];if(this.getLayer().getSource().getInterpolate()||(_.imageSmoothingEnabled=!1),this.preRender(_,e),b&&x>=.5&&M>=.5){const e=w[4],t=w[5],n=l.opacity;1!==n&&(_.save(),_.globalAlpha=n),_.drawImage(v,0,0,+v.width,+v.height,e,t,x,M),1!==n&&_.restore()}return this.postRender(this.context,e),y&&_.restore(),_.imageSmoothingEnabled=!0,this.container}};const WG=class extends zG{constructor(e){super(e)}createRenderer(){return new UG(this)}getData(e){return super.getData(e)}},GG={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},qG={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};const BG=class extends Iz{constructor(e,t){super(e,t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=[1,0,0,1,0,0],this.tileClipContexts_=null}drawTile(e,t,n,r,i,o,s,a){this.updateExecutorGroup_(e,t.pixelRatio,t.viewState.projection),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,t),super.drawTile(e,t,n,r,i,o,s,a)}getTile(e,t,n,r){const i=this.getOrCreateTile(e,t,n,r);if(!i)return null;const o=r.viewState.resolution,s=r.viewHints;return!!(s[jO]||s[HO])&&i.wantedResolution||(i.wantedResolution=o),i}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,n){const r=this.getLayer(),i=r.getRevision(),o=r.getRenderOrder()||null,s=e.wantedResolution,a=e.getReplayState(r);if(!a.dirty&&a.renderedResolution===s&&a.renderedRevision==i&&a.renderedRenderOrder==o)return;const l=r.getSource(),c=!!r.getDeclutter(),u=l.getTileGrid(),h=l.getTileGridForProjection(n).getTileCoordExtent(e.wrappedTileCoord),d=l.getSourceTiles(t,n,e),f=qe(r);delete e.hitDetectionImageData[f],e.executorGroups[f]=[],a.dirty=!1;for(let n=0,i=d.length;n<i;++n){const i=d[n];if(i.getState()!=wH)continue;const p=i.tileCoord,m=u.getTileCoordExtent(p),g=_P(h,m),_=q$(g,r.getRenderBuffer()*s,this.tempExtent),y=iP(m,g)?null:_,b=new rY(0,g,s,t),v=$Y(s,t),w=function(e,t){let n;const i=e.getStyleFunction()||r.getStyleFunction();if(i&&(n=i(e,s)),n){const r=this.renderFeature(e,v,n,b,c,t);a.dirty=a.dirty||r}},x=i.getFeatures();o&&o!==a.renderedRenderOrder&&x.sort(o);for(let e=0,t=x.length;e<t;++e){const t=x[e];y&&!wP(y,t.getGeometry().getExtent())||w.call(this,t,e)}const M=b.finish(),S="vector"!==r.getRenderMode()&&c&&1===d.length?null:g,k=new kY(S,s,t,l.getOverlaps(),M,r.getRenderBuffer(),!0);e.executorGroups[f].push(k)}a.renderedRevision=i,a.renderedRenderOrder=o,a.renderedResolution=s}forEachFeatureAtCoordinate(e,t,n,r,i){const o=t.viewState.resolution,s=t.viewState.rotation;n=null==n?0:n;const a=this.getLayer(),l=a.getSource().getTileGridForProjection(t.viewState.projection),c=G$([e]);q$(c,o*n,c);const u={},h=function(e,t,n){let o=e.getId();void 0===o&&(o=qe(e));const s=u[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return u[o]=!0,i.splice(i.lastIndexOf(s),1),r(e,a,t);s.geometry=t,s.distanceSq=n}}else{if(0===n)return u[o]=!0,r(e,a,t);i.push(u[o]={feature:e,layer:a,geometry:t,distanceSq:n,callback:r})}},d=this.renderedTiles;let f;for(let r=0,i=d.length;!f&&r<i;++r){const i=d[r];if(!wP(l.getTileCoordExtent(i.wrappedTileCoord),c))continue;const u=qe(a),p=[i.executorGroups[u]],m=a.getDeclutter();p.some((r=>{const i=m?t.declutter[m].all().map((e=>e.value)):null;for(let t=0,a=r.length;t<a;++t){const a=r[t];if(f=a.forEachFeatureAtCoordinate(e,o,s,n,h,i),f)return!0}}))}return f}getFeatures(e){return new Promise(((t,n)=>{const r=this.getLayer(),i=qe(r),o=r.getSource(),s=this.renderedProjection,a=s.getExtent(),l=this.renderedResolution,c=o.getTileGridForProjection(s),u=$$(this.renderedPixelToCoordinateTransform_,e.slice()),h=c.getTileCoordForCoordAndResolution(u,l);let d;for(let e=0,t=this.renderedTiles.length;e<t;++e)if(h.toString()===this.renderedTiles[e].tileCoord.toString()){if(d=this.renderedTiles[e],d.getState()===wH){const e=c.getTileCoordExtent(d.tileCoord);o.getWrapX()&&s.canWrapX()&&!K$(a,e)&&QP(u,s);break}d=void 0}if(!d||d.loadingSourceTiles>0)return void t([]);const f=yP(c.getTileCoordExtent(d.wrappedTileCoord)),p=[(u[0]-f[0])/l,(f[1]-u[1])/l],m=d.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]);let g=d.hitDetectionImageData[i];if(!g){const e=Ve(c.getTileSize(c.getZForResolution(l,o.zDirection))),t=this.renderedRotation_;g=CY(e,[this.getRenderTransform(c.getTileCoordCenter(d.wrappedTileCoord),l,0,LY,e[0]*LY,e[1]*LY,0)],m,r.getStyleFunction(),c.getTileCoordExtent(d.wrappedTileCoord),d.getReplayState(r).renderedResolution,t),d.hitDetectionImageData[i]=g}t(EY(p,m,g))}))}getFeaturesInExtent(e){const t=[],n=this.getTileCache();if(0===n.getCount())return t;const r=this.getLayer().getSource().getTileGridForProjection(this.frameState.viewState.projection),i=r.getZForResolution(this.renderedResolution),o={};return n.forEach((n=>{if(n.tileCoord[0]!==i||n.getState()!==wH)return;const s=n.getSourceTiles();for(let n=0,i=s.length;n<i;++n){const i=s[n],a=i.getKey();if(a in o)continue;o[a]=!0;const l=i.tileCoord;if(wP(e,r.getTileCoordExtent(l))){const n=i.getFeatures();if(n)for(let r=0,i=n.length;r<i;++r){const i=n[r],o=i.getGeometry();wP(e,o.getExtent())&&t.push(i)}}}})),t}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,t){const n=this.context,r=n.globalAlpha;n.globalAlpha=t.opacity;const i=e.viewHints,o=!(i[jO]||i[HO]),s=this.renderedTiles;for(let t=0,n=s.length;t<n;++t){const n=s[t],r=n.executorGroups[qe(this.getLayer())],i=this.getLayer().getDeclutter();if(r)for(let t=r.length-1;t>=0;--t)r[t].execute(this.context,[this.context.canvas.width,this.context.canvas.height],this.getTileRenderTransform(n,e),e.viewState.rotation,o,xY,i?e.declutter[i]:void 0)}n.globalAlpha=r}renderDeferredInternal(e){const t=this.renderedTiles.reduce(((e,t,n)=>(t.executorGroups[qe(this.getLayer())].forEach((t=>e.push({executorGroup:t,index:n}))),e)),[]),n=t.map((({executorGroup:e})=>e.getDeferredZIndexContexts())),r={};for(let e=0,n=t.length;e<n;++e){const n=t[e].executorGroup.getDeferredZIndexContexts();for(const e in n)r[e]=!0}Object.keys(r).sort(Bt).map(Number).forEach((e=>{n.forEach(((n,r)=>{n[e]&&(n[e].forEach((e=>{const{executorGroup:n,index:i}=t[r],o=n.getRenderedContext(),s=o.globalAlpha;o.globalAlpha=this.renderedOpacity_;const a=this.tileClipContexts_[i];a&&a.draw(o),e.draw(o),a&&o.restore(),o.globalAlpha=s,e.clear()})),n[e].length=0)}))}))}getTileRenderTransform(e,t){const n=t.pixelRatio,r=t.viewState,i=r.center,o=r.resolution,s=r.rotation,a=t.size,l=Math.round(a[0]*n),c=Math.round(a[1]*n),u=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),h=e.tileCoord,d=u.getTileCoordExtent(e.wrappedTileCoord),f=u.getTileCoordExtent(h,this.tempExtent)[0]-d[0];return D$(P$(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(i,o,s,n,l,c,f))}postRender(e,t){const n=t.viewHints,r=!(n[jO]||n[HO]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation,this.renderedOpacity_=t.layerStatesArray[t.layerIndex].opacity;const i=this.getLayer(),o=i.getRenderMode(),s=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const a=i.getDeclutter(),l=a?qG[o].filter((e=>!xY.includes(e))):qG[o],c=t.viewState,u=c.rotation,h=i.getSource(),d=h.getTileGridForProjection(c.projection).getZForResolution(c.resolution,h.zDirection),f=this.renderedTiles,p=[],m=[],g=[];let _=!0;for(let n=f.length-1;n>=0;--n){const o=f[n];_=_&&!o.getReplayState(i).dirty;const s=o.executorGroups[qe(i)].filter((e=>e.hasExecutors(l)));if(0===s.length)continue;const c=this.getTileRenderTransform(o,t),h=o.tileCoord[0];let y=!1;const b=s[0].getClipCoords(c);let v,w=e;if(b){v=new sY,w=v.getContext();for(let e=0,t=p.length;e<t;++e)if(d!==h&&h<m[e]){const t=p[e];wP([b[0],b[3],b[4],b[7]],[t[0],t[3],t[4],t[7]])&&(y||(w.save(),y=!0),w.beginPath(),w.moveTo(b[0],b[1]),w.lineTo(b[2],b[3]),w.lineTo(b[4],b[5]),w.lineTo(b[6],b[7]),w.moveTo(t[6],t[7]),w.lineTo(t[4],t[5]),w.lineTo(t[2],t[3]),w.lineTo(t[0],t[1]),w.clip())}p.push(b),m.push(h)}for(let n=0,i=s.length;n<i;++n){s[n].execute(e,[e.canvas.width,e.canvas.height],c,u,r,l,t.declutter?.[a])}y&&(w===e?w.restore():g[n]=v)}e.globalAlpha=s,this.ready=_,this.tileClipContexts_=g,t.declutter||this.renderDeferredInternal(t),super.postRender(e,t)}renderFeature(e,t,n,r,i,o){if(!n)return!1;let s=!1;if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)s=RY(r,e,n[a],t,this.boundHandleStyleImageChange_,void 0,i,o)||s;else s=RY(r,e,n,t,this.boundHandleStyleImageChange_,void 0,i,o);return s}tileImageNeedsRender_(e){const t=this.getLayer();if("vector"===t.getRenderMode())return!1;const n=e.getReplayState(t),r=t.getRevision(),i=e.wantedResolution;return n.renderedTileResolution!==i||n.renderedTileRevision!==r}renderTileImage_(e,t){const n=this.getLayer(),r=e.getReplayState(n),i=n.getRevision(),o=e.executorGroups[qe(n)];r.renderedTileRevision=i;const s=e.wrappedTileCoord,a=s[0],l=n.getSource();let c=t.pixelRatio;const u=t.viewState.projection,h=l.getTileGridForProjection(u),d=h.getResolution(e.tileCoord[0]),f=t.pixelRatio/e.wantedResolution*d,p=h.getResolution(a),m=e.getContext();c=Math.round(Math.max(c,f/c));const g=l.getTilePixelSize(a,c,u);m.canvas.width=g[0],m.canvas.height=g[1];const _=c/f;if(1!==_){const e=E$(this.tmpTransform_);P$(e,_,_),m.setTransform.apply(m,e)}const y=h.getTileCoordExtent(s,this.tempExtent),b=f/p,v=E$(this.tmpTransform_);P$(v,b,-b),R$(v,-y[0],-y[3]);for(let e=0,t=o.length;e<t;++e){o[e].execute(m,[m.canvas.width*_,m.canvas.height*_],v,0,!0,GG[n.getRenderMode()],null)}r.renderedTileResolution=e.wantedResolution}};const VG=class extends jN{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload;const n=void 0===e.cacheSize?0:e.cacheSize;delete e.cacheSize,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n;const r=e.renderMode||"hybrid";_r("hybrid"==r||"vector"==r,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new BG(this,{cacheSize:this.cacheSize_})}getFeatures(e){return super.getFeatures(e)}getFeaturesInExtent(e){return this.getRenderer().getFeaturesInExtent(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(gH)}getUseInterimTilesOnError(){return this.get(_H)}setPreload(e){this.set(gH,e)}setUseInterimTilesOnError(e){this.set(_H,e)}};function XG(e,t){const n=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&n.push(e+"="+encodeURIComponent(t[e]))}));const r=n.join("&");return e=e.replace(/[?&]$/,""),(e+=e.includes("?")?"&":"?")+r}const KG=/\{z\}/g,JG=/\{x\}/g,ZG=/\{y\}/g,QG=/\{-y\}/g;function eq(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let o;for(o=r;o<=i;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)t.push(e.replace(n[0],i.toString()));return t}return t.push(e),t}const tq="1.3.0",nq=[101,101];function rq(e,t,n,r,i){i.WIDTH=n[0],i.HEIGHT=n[1];const o=r.getAxisOrientation(),s=qP(i.VERSION,"1.3")>=0;i[s?"CRS":"SRS"]=r.getCode();const a=s&&o.startsWith("ne")?[t[1],t[0],t[3],t[2]]:t;return i.BBOX=a.join(","),XG(e,i)}function iq(e,t,n,r,i,o,s){o=Object.assign({REQUEST:"GetMap"},o);const a=t/n,l=[mt(vP(e)/a,4),mt(gP(e)/a,4)];if(1!=n)switch(s){case"geoserver":const e=90*n+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+e:o.FORMAT_OPTIONS="dpi:"+e;break;case"mapserver":o.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":o.DPI=90*n;break;default:throw new Error("Unknown `serverType` configured")}return rq(i,e,l,r,o)}function oq(e,t){return Object.assign({REQUEST:t,SERVICE:"WMS",VERSION:tq,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},e)}const sq=class extends PU{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:AU,this.params_=Object.assign({},e.params),this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,n,r){const i=pR(n),o=this.getProjection();o&&o!==i&&(t=IH(o,i,e,t),e=MR(e,i,o));return function(e,t,n){if(void 0===e.url)return;const r=pR(e.projection||"EPSG:3857"),i=mP(t,n,0,nq),o={QUERY_LAYERS:e.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(o,oq(e.params,"GetFeatureInfo"),e.params);const s=gt((t[0]-i[0])/n,4),a=gt((i[3]-t[1])/n,4),l=qP(o.VERSION,"1.3")>=0;return o[l?"I":"X"]=s,o[l?"J":"Y"]=a,rq(e.url,i,nq,r,o)}({url:this.url_,params:{...this.params_,...r},projection:o||i},e,t)}getLegendUrl(e,t){return function(e,t){if(void 0===e.url)return;const n={SERVICE:"WMS",VERSION:tq,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0!==t){const r=pR(e.projection||"EPSG:3857").getMetersPerUnit()||1,i=28e-5;n.SCALE=t*r/i}if(Object.assign(n,e.params),void 0!==e.params&&void 0===n.LAYER){const e=n.LAYERS;if(Array.isArray(e)&&1===e.length)return;n.LAYER=e}return XG(e.url,n)}({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,n,r){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===r||(this.loaderProjection_=r,this.loader=function(e){const t=void 0===e.hidpi||e.hidpi,n=pR(e.projection||"EPSG:3857"),r=e.ratio||1.5,i=e.load||Mn,o=e.crossOrigin??null;return(s,a,l)=>{s=$U(s,a,l,r),1==l||t&&void 0!==e.serverType||(l=1);const c=iq(s,a,l,n,e.url,oq(e.params,"GetMap"),e.serverType),u=new Image;return u.crossOrigin=o,i(u,c).then((e=>({image:e,extent:s,pixelRatio:l})))}}({crossOrigin:this.crossOrigin_,params:this.params_,projection:r,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(e,t)=>(this.image.setImage(e),this.imageLoadFunction_(this.image,t),Mn(e))})),super.getImageInternal(e,t,n,r))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}},aq="tileloadstart",lq="tileloadend",cq="tileloaderror";function uq(e,t){return function(n,r,i){if(!n)return;let o;const s=n[0];if(t){const e=t.getFullTileRange(s);e&&(o=e.getHeight()-1)}return function(e,t,n,r,i){return e.replace(KG,t.toString()).replace(JG,n.toString()).replace(ZG,r.toString()).replace(QG,(function(){if(void 0===i)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-r).toString()}))}(e,s,n[1],n[2],o)}}function hq(e,t){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=uq(e[i],t);return dq(r)}function dq(e){return 1===e.length?e[0]:function(t,n,r){if(!t)return;const i=dt(oz(t),e.length);return e[i](t,n,r)}}class fq extends zU{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===fq.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=qe(t),r=t.getState();let i;r==vH?(this.tileLoadingKeys_[n]=!0,i=aq):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],i=r==xH?cq:r==wH?lq:void 0),null!=i&&this.dispatchEvent(new HU(i,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,void 0!==t?this.setKey(t):this.changed()}setUrl(e){const t=eq(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(hq(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}}const pq=fq;function mq(e,t){e.getImage().src=t}const gq=class extends pq{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:mq,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:HH,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!vR(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||vR(t,e)))return this.tileGrid;const n=qe(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=FU(e)),this.tileGridForProjection[n]}createTile_(e,t,n,r,i,o){const s=[e,t,n],a=this.getTileCoordForTileUrlFunction(s,i),l=a?this.tileUrlFunction(a,r,i):void 0,c=new this.tileClass(s,void 0!==l?bH:MH,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(cn,this.handleTileChange.bind(this)),c}getTile(e,t,n,r,i){const o=this.getProjection();if(!o||!i||vR(o,i))return this.getTileInternal(e,t,n,r,o||i);const s=[e,t,n],a=this.getKey(),l=this.getTileGridForProjection(o),c=this.getTileGridForProjection(i),u=this.getTileCoordForTileUrlFunction(s,i),h=new jH(o,l,i,c,s,u,this.getTilePixelRatio(r),this.getGutter(),((e,t,n,r)=>this.getTileInternal(e,t,n,r,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return h.key=a,h}getTileInternal(e,t,n,r,i){const o=this.getKey();return this.createTile_(e,t,n,r,i,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const n=pR(e);if(n){const e=qe(n);e in this.tileGridForProjection||(this.tileGridForProjection[e]=t)}}};const _q=class extends gq{constructor(e){e=e||{};const t=Object.assign({},e.params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=[1/0,1/0,-1/0,-1/0],this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,n,r){const i=pR(n),o=this.getProjection()||i;let s=this.getTileGrid();s||(s=this.getTileGridForProjection(o));const a=MR(e,i,o),l=IH(o,i,e,t),c=s.getZForResolution(l,this.zDirection),u=s.getResolution(c),h=s.getTileCoordForCoordAndZ(a,c);if(s.getResolutions().length<=h[0])return;let d=s.getTileCoordExtent(h,this.tmpExtent_);const f=this.gutter_;0!==f&&(d=q$(d,u*f,d));const p={QUERY_LAYERS:this.params_.LAYERS};Object.assign(p,oq(this.params_,"GetFeatureInfo"),r);const m=Math.floor((a[0]-d[0])/u),g=Math.floor((d[3]-a[1])/u);return p[this.v13_?"I":"X"]=m,p[this.v13_?"J":"Y"]=g,this.getRequestUrl_(h,d,1,o||i,p)}getLegendUrl(e,t){if(void 0===this.urls[0])return;const n={SERVICE:"WMS",VERSION:tq,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){const e=this.params_.LAYERS;if(!(!Array.isArray(e)||1===e.length))return;n.LAYER=e}if(void 0!==e){const t=this.getProjection()?this.getProjection().getMetersPerUnit():1,r=28e-5;n.SCALE=e*t/r}return Object.assign(n,t),XG(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,n,r,i){const o=this.urls;if(!o)return;let s;if(1==o.length)s=o[0];else{s=o[dt(oz(e),o.length)]}return iq(t,(this.tileGrid||this.getTileGridForProjection(r)).getResolution(e[0]),n,r,s,i,this.serverType_)}getTilePixelRatio(e){return this.hidpi_&&void 0!==this.serverType_?e:1}getKeyForParams_(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const e=this.params_.VERSION||tq;this.v13_=qP(e,"1.3")>=0}tileUrlFunction(e,t,n){let r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),r.getResolutions().length<=e[0])return;1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);const i=r.getResolution(e[0]);let o=r.getTileCoordExtent(e,this.tmpExtent_);const s=this.gutter_;0!==s&&(o=q$(o,i*s,o));const a=Object.assign({},oq(this.params_,"GetMap"));return this.getRequestUrl_(e,o,t,n,a)}};const yq=class extends SH{constructor(e,t,n,r,i,o){super(e,t,o),this.extent=null,this.format_=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=i,this.url_=n,this.key=n}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==bH&&(this.setState(vH),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(xH)}setFeatures(e){this.features_=e,this.setState(wH)}setLoader(e){this.loader_=e}},bq=[];const vq=class extends SH{constructor(e,t,n,r,i){super(e,t,{transition:0}),this.context_=null,this.executorGroups=[],this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.removeSourceTiles_=i,this.wrappedTileCoord=n}getContext(){return this.context_||(this.context_=Ft(1,1,bq)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=qe(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(jt(this.context_),bq.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}};const wq=class extends pq{constructor(e){const t=e.projection||"EPSG:3857",n=e.extent||jU(t),r=e.tileGrid||NU({extent:n,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:xq,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=null==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:yq,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,n){if(n.getState()===bH){n.setState(vH);const r=n.wrappedTileCoord,i=this.getTileGridForProjection(t),o=i.getTileCoordExtent(r),s=r[0],a=i.getResolution(s);q$(o,-a,o);const l=this.tileGrid,c=l.getExtent();c&&_P(o,c,o);const u=l.getZForResolution(a,this.zDirection);l.forEachTileCoord(o,u,(r=>{const i=this.tileUrlFunction(r,e,t);this.sourceTiles_[i]||(this.sourceTiles_[i]=new this.tileClass(r,i?bH:MH,i,this.format_,this.tileLoadFunction));const o=this.sourceTiles_[i];n.sourceTiles.push(o),this.tileKeysBySourceTileUrl_[i]||(this.tileKeysBySourceTileUrl_[i]=[]),this.tileKeysBySourceTileUrl_[i].push(n.getKey());const s=o.getState();if(s<wH){const e=t=>{this.handleTileChange(t);const r=o.getState();if(r===wH||r===xH){const t=o.getKey();t in n.errorTileKeys?o.getState()===wH&&delete n.errorTileKeys[t]:n.loadingSourceTiles--,r===xH?n.errorTileKeys[t]=!0:o.removeEventListener(cn,e),0===n.loadingSourceTiles&&n.setState(an(n.errorTileKeys)?wH:xH)}};o.addEventListener(cn,e),n.loadingSourceTiles++}s===bH&&(o.extent=l.getTileCoordExtent(r),o.projection=t,o.resolution=l.getResolution(r[0]),o.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((e=>e.getState()===xH))?xH:wH)}return n.sourceTiles}removeSourceTiles(e){const t=e.sourceTiles;for(let e=0,n=t.length;e<n;++e){const n=t[e].getTileUrl(),r=this.getKey();if(!this.tileKeysBySourceTileUrl_[n])return;const i=this.tileKeysBySourceTileUrl_[n][r];-1!==i&&(this.tileKeysBySourceTileUrl_[n].splice(i,1),0===this.tileKeysBySourceTileUrl_[n].length&&(delete this.tileKeysBySourceTileUrl_[n],delete this.sourceTiles_[n]))}}getTile(e,t,n,r,i){const o=[e,t,n];let s=this.getTileCoordForTileUrlFunction(o,i);const a=this.getTileGrid().getExtent(),l=this.getTileGridForProjection(i);if(s&&a){const t=l.getTileCoordExtent(s);q$(t,-l.getResolution(e),t),wP(a,t)||(s=null)}let c=!0;if(null!==s){const t=this.tileGrid,n=l.getResolution(e),o=t.getZForResolution(n,1),a=l.getTileCoordExtent(s);q$(a,-n,a),t.forEachTileCoord(a,o,(e=>{c=c&&!this.tileUrlFunction(e,r,i)}))}const u=new vq(o,c?MH:bH,s,this.getSourceTiles.bind(this,r,i),this.removeSourceTiles.bind(this));return u.key=this.getKey(),u}getTileGridForProjection(e){const t=e.getCode();let n=this.tileGrids_[t];if(!n){const e=this.tileGrid,r=e.getResolutions().slice(),i=r.map((function(t,n){return e.getOrigin(n)})),o=r.map((function(t,n){return e.getTileSize(n)})),s=43;for(let e=r.length;e<s;++e)r.push(r[e-1]/2),i.push(i[e-1]),o.push(o[e-1]);n=new OU({extent:e.getExtent(),origins:i,resolutions:r,tileSizes:o}),this.tileGrids_[t]=n}return n}getTilePixelRatio(e){return e}getTilePixelSize(e,t,n){const r=Ve(this.getTileGridForProjection(n).getTileSize(e),this.tmpSize);return[Math.round(r[0]*t),Math.round(r[1]*t)]}};function xq(e,t){e.setLoader((function(n,r,i){Lj(t,e.getFormat(),n,r,i,e.onLoad.bind(e),e.onError.bind(e))}))}const Mq=class extends gq{constructor(e){const t=void 0!==e.requestEncoding?e.requestEncoding:"KVP",n=e.tileGrid;let r=e.urls;void 0===r&&void 0!==e.url&&(r=eq(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:r,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=t,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=dq(r.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const t=e.join("\n");this.setTileUrlFunction(dq(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const t in this.dimensions_)e.push(t+"-"+this.dimensions_[t]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const t=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==t&&Object.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e="KVP"==t?XG(e,n):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in n?n[t.toLowerCase()]:e}));const r=this.tileGrid,i=this.dimensions_;return function(n,o,s){if(!n)return;const a={TileMatrix:r.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object.assign(a,i);let l=e;return l="KVP"==t?XG(l,a):l.replace(/\{(\w+?)\}/g,(function(e,t){return a[t]})),l}}};function Sq(e,t){const n=e.Contents.Layer,r=n?.find((function(e){return e.Identifier==t.layer}));if(!r)return null;const i=e.Contents.TileMatrixSet;let o;o=r.TileMatrixSetLink.length>1?"projection"in t?r.TileMatrixSetLink.findIndex((function(e){const n=i.find((function(t){return t.Identifier==e.TileMatrixSet})).SupportedCRS,r=pR(n),o=pR(t.projection);return r&&o?vR(r,o):n==t.projection})):r.TileMatrixSetLink.findIndex((function(e){return e.TileMatrixSet==t.matrixSet})):0,o<0&&(o=0);const s=r.TileMatrixSetLink[o].TileMatrixSet,a=r.TileMatrixSetLink[o].TileMatrixSetLimits;let l=r.Format[0];"format"in t&&(l=t.format),o=r.Style.findIndex((function(e){return"style"in t?e.Title==t.style:e.isDefault})),o<0&&(o=0);const c=r.Style[o].Identifier,u={};"Dimension"in r&&r.Dimension.forEach((function(e,t,n){const r=e.Identifier;let i=e.Default;void 0===i&&(i=e.Value[0]),u[r]=i}));const h=e.Contents.TileMatrixSet.find((function(e){return e.Identifier==s}));let d;const f=h.SupportedCRS;if(f&&(d=pR(f)),"projection"in t){const e=pR(t.projection);e&&(d&&!vR(e,d)||(d=e))}let p=!1;const m=d.getAxisOrientation().startsWith("ne");let g=h.TileMatrix[0],_={MinTileCol:0,MinTileRow:0,MaxTileCol:g.MatrixWidth-1,MaxTileRow:g.MatrixHeight-1};if(a){_=a[a.length-1];const e=h.TileMatrix.find((e=>e.Identifier===_.TileMatrix||h.Identifier+":"+e.Identifier===_.TileMatrix));e&&(g=e)}const y=28e-5*g.ScaleDenominator/d.getMetersPerUnit(),b=m?[g.TopLeftCorner[1],g.TopLeftCorner[0]]:g.TopLeftCorner,v=g.TileWidth*y,w=g.TileHeight*y;let x=h.BoundingBox;x&&m&&(x=[x[1],x[0],x[3],x[2]]);let M=[b[0]+v*_.MinTileCol,b[1]-w*(1+_.MaxTileRow),b[0]+v*(1+_.MaxTileCol),b[1]-w*_.MinTileRow];if(void 0!==x&&!K$(x,M)){const e=r.WGS84BoundingBox,t=pR("EPSG:4326").getExtent();if(M=x,e)p=e[0]===t[0]&&e[2]===t[2];else{const e=SR(x,h.SupportedCRS,"EPSG:4326");p=e[0]-1e-10<=t[0]&&e[2]+1e-10>=t[2]}}const S=function(e,t,n){const r=[],i=[],o=[],s=[],a=[];n=void 0!==n?n:[];const l="TileMatrix",c="Identifier",u="ScaleDenominator",h="TopLeftCorner",d=pR(e.SupportedCRS),f=d.getMetersPerUnit(),p=d.getAxisOrientation().startsWith("ne");return e[l].sort((function(e,t){return t[u]-e[u]})),e[l].forEach((function(t){let d;if(d=!(n.length>0)||n.find((function(n){return t[c]==n[l]||!t[c].includes(":")&&e[c]+":"+t[c]===n[l]})),d){i.push(t[c]);const e=28e-5*t[u]/f,n=t.TileWidth,l=t.TileHeight;p?o.push([t[h][1],t[h][0]]):o.push(t[h]),r.push(e),s.push(n==l?n:[n,l]),a.push([t.MatrixWidth,t.MatrixHeight])}})),new IU({extent:t,origins:o,resolutions:r,matrixIds:i,tileSizes:s,sizes:a})}(h,M,a),k=[];let T=t.requestEncoding;if(T=void 0!==T?T:"","OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata){const t=e.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let e=0,n=t.length;e<n;++e)if(t[e].Constraint){const n=t[e].Constraint.find((function(e){return"GetEncoding"==e.name})).AllowedValues.Value;if(""===T&&(T=n[0]),"KVP"!==T)break;n.includes("KVP")&&k.push(t[e].href)}else t[e].href&&(T="KVP",k.push(t[e].href))}return 0===k.length&&(T="REST",r.ResourceURL.forEach((function(e){"tile"===e.resourceType&&(l=e.format,k.push(e.template))}))),{urls:k,layer:t.layer,matrixSet:s,format:l,projection:d,requestEncoding:T,tileGrid:S,style:c,dimensions:u,wrapX:p,crossOrigin:t.crossOrigin}}const kq="accuracy",Tq="accuracyGeometry",Lq="altitude",Cq="altitudeAccuracy",Eq="heading",Dq="position",Aq="projection",$q="speed",Pq="tracking",Rq="trackingOptions",Oq="error";class Iq extends qt{constructor(e){super(Oq),this.code=e.code,this.message=e.message}}const Fq=class extends In{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.position_=null,this.transform_=dR,this.watchId_=void 0,this.addChangeListener(Aq,this.handleProjectionChanged_),this.addChangeListener(Pq,this.handleTrackingChanged_),void 0!==e.projection&&this.setProjection(e.projection),void 0!==e.trackingOptions&&this.setTrackingOptions(e.trackingOptions),this.setTracking(void 0!==e.tracking&&e.tracking)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const e=this.getProjection();e&&(this.transform_=wR(pR("EPSG:4326"),e),this.position_&&this.set(Dq,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const e=this.getTracking();e&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):e||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(e){const t=e.coords;this.set(kq,t.accuracy),this.set(Lq,null===t.altitude?void 0:t.altitude),this.set(Cq,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(Eq,null===t.heading?void 0:ht(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];const n=this.transform_(this.position_);this.set(Dq,n.slice()),this.set($q,null===t.speed?void 0:t.speed);const r=function(e,t,n,r){n=n||32;const i=[];for(let o=0;o<n;++o)Jt(i,oR(e,t,2*Math.PI*o/n,r));return i.push(i[0],i[1]),new pI(i,"XY",[i.length])}(this.position_,t.accuracy);r.applyTransform(this.transform_),this.set(Tq,r),this.changed()}positionError_(e){this.dispatchEvent(new Iq(e))}getAccuracy(){return this.get(kq)}getAccuracyGeometry(){return this.get(Tq)||null}getAltitude(){return this.get(Lq)}getAltitudeAccuracy(){return this.get(Cq)}getHeading(){return this.get(Eq)}getPosition(){return this.get(Dq)}getProjection(){return this.get(Aq)}getSpeed(){return this.get($q)}getTracking(){return this.get(Pq)}getTrackingOptions(){return this.get(Rq)}setProjection(e){this.set(Aq,pR(e))}setTracking(e){this.set(Pq,e)}setTrackingOptions(e){this.set(Rq,e)}};new gr({color:"rgba(0,0,0,0.2)"});const Nq=class extends Sn{constructor(e,t,n,r,i){super(e,t,n,void 0!==i?Ye:He),this.loader_=void 0!==i?i:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=ze):this.state=He,this.changed()}load(){this.state==Ye&&(this.state=je,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}};const Yq=class{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const r=this.points_[t+2]-this.points_[n+2];if(r<1e3/60)return!1;const i=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}};function jq(e,t){Ln.expire()}const Hq=class extends Gt{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){We()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;O$(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),I$(r,n)}forEachFeatureAtCoordinate(e,t,n,r,i,o,s,a){let l;const c=t.viewState;function u(e,t,n,r){return i.call(o,t,e?n:null,r)}const h=c.projection,d=QP(e.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){const e=vP(h.getExtent());f.push([-e,0],[e,0])}const p=t.layerStatesArray,m=p.length,g=[],_=[];for(let r=0;r<f.length;r++)for(let i=m-1;i>=0;--i){const o=p[i],h=o.layer;if(h.hasRenderer()&&xI(o,c)&&s.call(a,h)){const i=h.getRenderer(),s=h.getSource();if(i&&s){const a=s.getWrapX()?d:e,c=u.bind(null,o.managed);_[0]=a[0]+f[r][0],_[1]=a[1]+f[r][1],l=i.forEachFeatureAtCoordinate(_,t,n,c,g)}if(l)return l}}if(0===g.length)return;const y=1/g.length;return g.forEach(((e,t)=>e.distanceSq+=t*y)),g.sort(((e,t)=>e.distanceSq-t.distanceSq)),g.some((e=>l=e.callback(e.feature,e.layer,e.geometry))),l}hasFeatureAtCoordinate(e,t,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,r,en,this,i,o)}getMap(){return this.map_}renderFrame(e){We()}scheduleExpireIconCache(e){Ln.canExpireCache()&&e.postRenderFunctions.push(jq)}};const zq=class extends Hq{constructor(e){super(e),this.fontChangeListenerKey_=bn(Qn,$n,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Nn+" ol-layers";const n=e.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const r=new oY(e,void 0,t);n.dispatchEvent(r)}}disposeInternal(){wn(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent(FO,e);const t=e.layerStatesArray.sort(((e,t)=>e.zIndex-t.zIndex));t.some((e=>e.layer instanceof jN&&e.layer.getDeclutter()))&&(e.declutter={});const n=e.viewState;this.children_.length=0;const r=[];let i=null;for(let o=0,s=t.length;o<s;++o){const s=t[o];e.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!xI(s,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(e,i);c&&(c!==i&&(this.children_.push(c),i=c),r.push(s))}this.declutter(e,r),function(e,t){const n=e.childNodes;for(let r=0;;++r){const i=n[r],o=t[r];if(!i&&!o)break;i!==o&&(i?o?e.insertBefore(o,i):(e.removeChild(i),--r):e.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(NO,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let n=t.length-1;n>=0;--n){const r=t[n],i=r.layer;i.getDeclutter()&&i.renderDeclutter(e,r)}t.forEach((t=>t.layer.renderDeferred(e)))}}},Uq="pointermove",Wq="pointerdown",Gq="pointerout";const qq=class extends ln{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=bn(n,Wq,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=bn(n,Uq,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(_n,this.boundHandleTouchMove_,!!It&&{passive:!1})}emulateClick_(e){let t=new Zz(Pj.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Zz(Pj.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const t=new Zz(Pj.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}),250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==Pj.POINTERUP||t.type==Pj.POINTERCANCEL){delete this.trackedTouches_[n];for(const e in this.trackedTouches_)if(this.trackedTouches_[e].target!==t.target){delete this.trackedTouches_[e];break}}else t.type!=Pj.POINTERDOWN&&t.type!=Pj.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Zz(Pj.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(wn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new Zz(Pj.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const e=this.map_.getOwnerDocument();this.dragListenerKeys_.push(bn(e,Pj.POINTERMOVE,this.handlePointerMove_,this),bn(e,Pj.POINTERUP,this.handlePointerUp_,this),bn(this.element_,Pj.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push(bn(this.element_.getRootNode(),Pj.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Zz(Pj.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Zz(Pj.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(wn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(_n,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(wn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(wn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Bq="layergroup",Vq="size",Xq="target",Kq="view",Jq=1/0;const Zq=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,sn(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(n);return delete this.queuedElements_[r],n}enqueue(e){_r(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=Jq&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,r=t.length,i=t[e],o=n[e],s=e;for(;e<r>>1;){const i=this.getLeftChildIndex_(e),o=this.getRightChildIndex_(e),s=o<r&&n[o]<n[i]?o:i;t[e]=t[s],n[e]=n[s],e=s}t[e]=i,n[e]=o,this.siftDown_(s,e)}siftDown_(e,t){const n=this.elements_,r=this.priorities_,i=n[t],o=r[t];for(;t>e;){const e=this.getParentIndex_(t);if(!(r[e]>o))break;n[t]=n[e],r[t]=r[e],t=e}n[t]=i,r[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let r=0;const i=t.length;let o,s,a;for(s=0;s<i;++s)o=t[s],a=e(o),a==Jq?delete this.queuedElements_[this.keyFunction_(o)]:(n[r]=a,t[r++]=o);t.length=r,n.length=r,this.heapify_()}};const Qq=class extends Zq{constructor(e,t){super((function(t){return e.apply(null,t)}),(function(e){return e[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);if(t){e[0].addEventListener(cn,this.boundHandleTileChange_)}return t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===wH||n===xH||n===MH){n!==xH&&t.removeEventListener(cn,this.boundHandleTileChange_);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;){const e=this.dequeue()[0],t=e.getKey();e.getState()!==bH||t in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[t]=!0,++this.tilesLoading_,++n,e.load())}}};const eB=class extends In{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let e=0,t=this.listenerKeys.length;e<t;++e)wn(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=e,e){(this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==nn&&this.listenerKeys.push(bn(e,NY,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}};const tB=class extends eB{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=void 0!==e.className?e.className:"ol-attribution",n=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.expandClassName?e.expandClassName:t+"-expand",i=void 0!==e.collapseLabel?e.collapseLabel:"›",o=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i,this.collapseLabel_.className=o):this.collapseLabel_=i;const s=void 0!==e.label?e.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=r):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(dn,this.handleClick_.bind(this),!1);const l=t+" "+Nn+" "+Yn+(this.collapsed_&&this.collapsible_?" "+jn:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),n=new Set(t.flatMap((t=>t.getAttributions(e))));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach((e=>n.add(e))):n.add(this.attributions_)),!this.overrideCollapsible_){const e=!t.some((e=>!1===e.getSource()?.getAttributionsCollapsible()));this.setCollapsible(e)}return Array.from(n)}async updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=await Promise.all(this.collectSourceAttributions_(e).map((e=>on((()=>e))))),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Qt(t,this.renderedAttributions_)){Wt(this.ulElement_);for(let e=0,n=t.length;e<n;++e){const n=document.createElement("li");n.innerHTML=t[e],this.ulElement_.appendChild(n)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(jn),this.collapsed_?Ut(this.collapseLabel_,this.label_):Ut(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}};const nB=class extends eB{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",n=void 0!==e.label?e.label:"⇧",r=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const i=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.label_),o.addEventListener(dn,this.handleClick_.bind(this),!1);const s=t+" "+Nn+" "+Yn,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Fn)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:ZO}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const e="rotate("+n+"rad)";if(this.autoHide_){const e=this.element.classList.contains(Fn);e||0!==n?e&&0!==n&&this.element.classList.remove(Fn):this.element.classList.add(Fn)}this.label_.style.transform=e}this.rotation_=n}};const rB=class extends eB{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",n=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",i=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",s=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",l=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener(dn,this.handleClick_.bind(this,n),!1);const u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof s?document.createTextNode(s):s),u.addEventListener(dn,this.handleClick_.bind(this,-n),!1);const h=t+" "+Nn+" "+Yn,d=this.element;d.className=h,d.appendChild(c),d.appendChild(u),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const n=t.getZoom();if(void 0!==n){const r=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:r,duration:this.duration_,easing:ZO})):t.setZoom(r)}}};const iB=class extends eU{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==Pj.DBLCLICK){const n=e.originalEvent,r=e.map,i=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_;Qz(r.getView(),o,i,this.duration_),n.preventDefault(),t=!0}return!t}};const oB=class extends nU{constructor(e){super({stopDown:tn}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Rj(jj,Wj);this.condition_=e.onFocusOnly?Rj(Ij,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,r=t.getEventPixel(tU(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const t=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],n=e.map.getView();!function(e,t){e[0]*=t,e[1]*=t}(t,n.getResolution()),KP(t,n.getRotation()),n.adjustCenterInternal(t)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const e=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),i=n.getCenterInternal(),o=t.getPixelFromCoordinateInternal(i),s=t.getCoordinateFromPixelInternal([o[0]-e*Math.cos(r),o[1]-e*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:ZO})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};const sB=class extends nU{constructor(e){e=e||{},super({stopDown:tn}),this.condition_=e.condition?e.condition:Oj,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!Uj(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===XO)return;const r=t.getSize(),i=e.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){const e=o-this.lastAngle_;n.adjustRotationInternal(-e)}this.lastAngle_=o}handleUpEvent(e){if(!Uj(e))return!0;return e.map.getView().endInteraction(this.duration_),!1}handleDownEvent(e){if(!Uj(e))return!1;if(Nj(e)&&this.condition_(e)){return e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}};const aB=class extends Gt{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+n,r.top=Math.min(e[1],t[1])+n,r.width=Math.abs(t[0]-e[0])+n,r.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new mI([n])}getGeometry(){return this.geometry_}},lB="boxstart",cB="boxdrag",uB="boxend",hB="boxcancel";class dB extends qt{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}const fB=class extends nU{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new aB(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??Nj,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const r=n[0]-t[0],i=n[1]-t[1];return r*r+i*i>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new dB(cB,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new dB(t?uB:hB,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new dB(lB,e.coordinate,e)),!0)}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new dB(hB,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new dB(hB,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}};const pB=class extends fB{constructor(e){super({condition:(e=e||{}).condition?e.condition:Hj,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const t=this.getMap().getView();let n=this.getGeometry();if(this.out_){const e=t.rotatedExtentForGeometry(n),r=t.getResolutionForExtentInternal(e),i=t.getResolution()/r;n=n.clone(),n.scale(i*i)}t.fitInternal(n,{duration:this.duration_,easing:ZO})}},mB="ArrowLeft",gB="ArrowUp",_B="ArrowRight",yB="ArrowDown";const bB=class extends eU{constructor(e){super(),e=e||{},this.defaultCondition_=function(e){return jj(e)&&zj(e)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==pn){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&(r==yB||r==mB||r==_B||r==gB)){const i=e.map.getView(),o=i.getResolution()*this.pixelDelta_;let s=0,a=0;r==yB?a=-o:r==mB?s=-o:r==_B?s=o:a=o;const l=[s,a];KP(l,i.getRotation()),function(e,t,n){const r=e.getCenterInternal();if(r){const i=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:eI,center:e.getConstrainedCenter(i)})}}(i,l,this.duration_),n.preventDefault(),t=!0}}return!t}};const vB=class extends eU{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(e){return!function(e){const t=e.originalEvent;return At?t.metaKey:t.ctrlKey}(e)&&zj(e)},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==pn||e.type==mn){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&("+"===r||"-"===r)){const i=e.map,o="+"===r?this.delta_:-this.delta_;Qz(i.getView(),o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}};const wB=class extends eU{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:Fj;this.condition_=e.onFocusOnly?Rj(Ij,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e))return!0;if(e.type!==yn)return!0;const t=e.map,n=e.originalEvent;let r;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel),e.type==yn&&(r=n.deltaY,Ct&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=$t),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),0===r)return!1;this.lastDelta_=r;const i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const o=t.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=i,!1;this.totalDelta_+=r;const s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-at(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Qz(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}};const xB=class extends nU{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=tn),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){const e=i-this.lastAngle_;this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=e}this.lastAngle_=i;const o=e.map,s=o.getView();s.getConstraints().rotation!==XO&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(tU(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){if(this.targetPointers.length<2){return e.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};const MB=class extends nU{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=tn),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,s=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;const a=e.map,l=a.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(tU(this.targetPointers))),a.render(),l.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};function SB(e){e=e||{};const t=new QY,n=new Yq(-.005,.05,100);(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new sB);(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new iB({delta:e.zoomDelta,duration:e.zoomDuration}));(void 0===e.dragPan||e.dragPan)&&t.push(new oB({onFocusOnly:e.onFocusOnly,kinetic:n}));(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new xB);(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new MB({duration:e.zoomDuration}));(void 0===e.keyboard||e.keyboard)&&(t.push(new bB),t.push(new vB({delta:e.zoomDelta,duration:e.zoomDuration})));(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new wB({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));return(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new pB({duration:e.zoomDuration})),t}function kB(e){e instanceof MI?e.setMapInternal(null):e instanceof SU&&e.getLayers().forEach(kB)}function TB(e,t){if(e instanceof MI)e.setMapInternal(t);else if(e instanceof SU){const n=e.getLayers().getArray();for(let e=0,r=n.length;e<r;++e)TB(n[e],t)}}const LB=class extends In{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=function(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},r=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new SU({layers:e.layers});let i,o,s;n[Bq]=r,n[Xq]=e.target,n[Kq]=e.view instanceof wI?e.view:new wI,void 0!==e.controls&&(Array.isArray(e.controls)?i=new QY(e.controls.slice()):(_r("function"==typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),i=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?o=new QY(e.interactions.slice()):(_r("function"==typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?s=new QY(e.overlays.slice()):(_r("function"==typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new QY;return{controls:i,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:$t,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=t.controls||function(e){e=e||{};const t=new QY;return(void 0===e.zoom||e.zoom)&&t.push(new rB(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new nB(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new tB(e.attributionOptions)),t}(),this.interactions=t.interactions||SB({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Qq(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Bq,this.handleLayerGroupChanged_),this.addChangeListener(Kq,this.handleViewChanged_),this.addChangeListener(Vq,this.handleSizeChanged_),this.addChangeListener(Xq,this.handleTargetChanged_),this.setProperties(t.values);const n=this;!e.view||e.view instanceof wI||e.view.then((function(e){n.setView(new wI(e))})),this.controls.addEventListener(XY,(e=>{e.element.setMap(this)})),this.controls.addEventListener(KY,(e=>{e.element.setMap(null)})),this.interactions.addEventListener(XY,(e=>{e.element.setMap(this)})),this.interactions.addEventListener(KY,(e=>{e.element.setMap(null)})),this.overlays_.addEventListener(XY,(e=>{this.addOverlayInternal_(e.element)})),this.overlays_.addEventListener(KY,(e=>{const t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)})),this.controls.forEach((e=>{e.setMap(this)})),this.interactions.forEach((e=>{e.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){TB(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:en,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,s,t,null,o,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n}getAllLayers(){const e=[];return function t(n){n.forEach((function(n){n instanceof SU?t(n.getLayers()):e.push(n)}))}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:en,i=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),n=this.getSize(),r=t.width/n[0],i=t.height/n[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-t.left)/r,(o.clientY-t.top)/i]}getTarget(){return this.get(Xq)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return LR(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?$$(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Bq)}setLayers(e){const t=this.getLayerGroup();if(e instanceof QY)return void t.setLayers(e);const n=t.getLayers();n.clear(),n.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const n=e[t];if(!n.visible)continue;const r=n.layer.getRenderer();if(r&&!r.ready)return!0;const i=n.layer.getSource();if(i&&i.loading)return!0}return!1}getPixelFromCoordinate(e){const t=CR(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?$$(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Vq)}getView(){return this.get(Kq)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,r){return function(e,t,n,r,i){if(!e||!(n in e.wantedTiles))return Jq;if(!e.wantedTiles[n][t.getKey()])return Jq;const o=e.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,e,t,n,r)}handleBrowserEvent(e,t){t=t||e.type;const n=new Zz(t,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,n=t.type;if(n===Wq||n===yn||n===pn){const e=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():e,r=t.target,i=n instanceof ShadowRoot?n.host===r?n.host.ownerDocument:n:n===e?e.documentElement:n;if(this.overlayContainerStopEvent_.contains(r)||!i.contains(r))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const t=this.getInteractions().getArray().slice();for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.getMap()!==this||!r.getActive()||!this.getTargetElement())continue;if(!r.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let n=this.maxTilesLoading_,r=n;if(e){const t=e.viewHints;if(t[jO]||t[HO]){const t=Date.now()-e.time>8;n=t?0:8,r=t?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,r))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(YO)&&this.renderer_.dispatchRenderEvent(YO,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Jz(zY,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Jz(HY,this,e))));const n=this.postRenderFunctions_;for(let t=0,r=n.length;t<r;++t)n[t](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)wn(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(hn,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(yn,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new zq(this)),this.mapBrowserEventHandler_=new qq(this,this.moveTolerance_);for(const e in Pj)this.mapBrowserEventHandler_.addEventListener(Pj[e],this.handleMapBrowserEvent.bind(this));let e;if(this.viewport_.addEventListener(hn,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(yn,this.boundHandleBrowserEvent_,!!It&&{passive:!1}),this.keyboardEventTarget_)e=this.keyboardEventTarget_;else{const n=t.getRootNode();e=n instanceof ShadowRoot?n.host:t}this.targetChangeHandlerKeys_=[bn(e,pn,this.handleBrowserEvent,this),bn(e,mn,this.handleBrowserEvent,this)];const n=t.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(wn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(wn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=bn(e,$n,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=bn(e,cn,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(wn),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new wU("addlayer",e)),this.layerGroupPropertyListenerKeys_=[bn(e,$n,this.render,this),bn(e,cn,this.render,this),bn(e,"addlayer",this.handleLayerAdd_,this),bn(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){kB(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),r=this.frameState_;let i=null;if(void 0!==t&&Be(t)&&n&&n.isDef()){const r=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:mP(o.center,o.resolution,o.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:r,wantedTiles:{},mapId:qe(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const e=isNaN(o.nextRotation)?o.rotation:o.nextRotation;i.nextExtent=mP(o.nextCenter,o.nextResolution,e,t)}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r){(!this.previousExtent_||!xP(this.previousExtent_)&&!iP(i.extent,this.previousExtent_))&&(this.dispatchEvent(new Jz(YY,this,r)),this.previousExtent_=tP(this.previousExtent_))}this.previousExtent_&&!i.viewHints[jO]&&!i.viewHints[HO]&&!iP(i.extent,this.previousExtent_)&&(this.dispatchEvent(new Jz(jY,this,i)),B$(i.extent,this.previousExtent_))}this.dispatchEvent(new Jz(NY,this,i)),this.renderComplete_=(this.hasListener(HY)||this.hasListener(zY)||this.hasListener(YO))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new wU("removelayer",t)),this.set(Bq,e)}setSize(e){this.set(Vq,e)}setTarget(e){this.set(Xq,e)}setView(e){if(!e||e instanceof wI)return void this.set(Kq,e);this.set(Kq,new wI);const t=this;e.then((function(e){t.setView(new wI(e))}))}updateSize(){const e=this.getTargetElement();let t;if(e){const n=getComputedStyle(e),r=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||(t=[Math.max(0,r),Math.max(0,i)],!Be(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&lR("No map visible because the map container's width or height are 0."))}const n=this.getSize();!t||n&&Qt(t,n)||(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function CB(e){if("string"==typeof e){const t=JSON.parse(e);return t||null}return null!==e?e:null}const EB=class extends eW{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(CB(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(CB(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return We()}readFeaturesFromObject(e,t){return We()}readGeometry(e,t){return this.readGeometryFromObject(CB(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return We()}readProjection(e){return this.readProjectionFromObject(CB(e))}readProjectionFromObject(e){return We()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return We()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return We()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return We()}};function DB(e,t){if(!e)return null;let n;switch(e.type){case"Point":n=function(e){const t=e.coordinates;return{type:"Point",flatCoordinates:t,layout:jR(t.length)}}(e);break;case"LineString":n=function(e){const t=e.coordinates,n=t.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:jR(t[0]?.length||2)}}(e);break;case"Polygon":n=function(e){const t=e.coordinates,n=[],r=t[0]?.[0]?.length,i=GR(n,0,t,r);return{type:"Polygon",flatCoordinates:n,ends:i,layout:jR(r)}}(e);break;case"MultiPoint":n=function(e){const t=e.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:jR(t[0]?.length||2)}}(e);break;case"MultiLineString":n=function(e){const t=e.coordinates,n=t[0]?.[0]?.length||2,r=[],i=GR(r,0,t,n);return{type:"MultiLineString",flatCoordinates:r,ends:i,layout:jR(n)}}(e);break;case"MultiPolygon":n=function(e){const t=e.coordinates,n=[],r=t[0]?.[0]?.[0].length||2,i=qR(n,0,t,r);return{type:"MultiPolygon",flatCoordinates:n,ends:i,layout:jR(r)}}(e);break;case"GeometryCollection":n=function(e,t){const n=e.geometries.map((function(e){return DB(e,t)}));return n}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return n}function AB(e,t){const n=(e=tW(e,!0,t)).getType();let r;switch(n){case"Point":r=function(e){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":r=function(e){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":r=function(e,t){let n;t&&(n=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"MultiPoint":r=function(e){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":r=function(e){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":r=function(e,t){let n;t&&(n=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"GeometryCollection":r=function(e,t){t=Object.assign({},t),delete t.featureProjection;const n=e.getGeometriesArray().map((function(e){return AB(e,t)}));return{type:"GeometryCollection",geometries:n}}(e,t);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}const $B=class extends EB{constructor(e){e=e||{},super(),this.dataProjection=pR(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=pR(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;n="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const r=DB(n.geometry,t);if(this.featureClass===mj)return iW({geometry:r,id:n.id,properties:n.properties},t);const i=new L$;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&i.setGeometryName(n.geometry_name),i.setGeometry(oW(r,t)),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i}readFeaturesFromObject(e,t){let n=null;if("FeatureCollection"===e.type){n=[];const r=e.features;for(let e=0,i=r.length;e<i;++e){const i=this.readFeatureFromObject(r[e],t);i&&n.push(i)}}else n=[this.readFeatureFromObject(e,t)];return n.flat()}readGeometryFromObject(e,t){return function(e,t){const n=DB(e,t);return oW(n,t)}(e,t)}readProjectionFromObject(e){const t=e.crs;let n;if(t)if("name"==t.type)n=pR(t.properties.name);else{if("EPSG"!==t.type)throw new Error("Unknown SRS type");n=pR("EPSG:"+t.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},r=e.getId();if(void 0!==r&&(n.id=r),!e.hasProperties())return n;const i=e.getProperties(),o=e.getGeometry();return o&&(n.geometry=AB(o,t),delete i[e.getGeometryName()]),an(i)||(n.properties=i),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let r=0,i=e.length;r<i;++r)n.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return AB(e,this.adaptOptions(t))}};function PB(e){return function(t){const n=t.buffers,r=t.meta,i=t.imageOps,o=t.width,s=t.height,a=n.length,l=n[0].byteLength;if(i){const t=new Array(a);for(let e=0;e<a;++e)t[e]=new ImageData(new Uint8ClampedArray(n[e]),o,s);return e(t,r).data.buffer}const c=new Uint8ClampedArray(l),u=new Array(a),h=new Array(a);for(let e=0;e<a;++e)u[e]=new Uint8ClampedArray(n[e]),h[e]=[0,0,0,0];for(let t=0;t<l;t+=4){for(let e=0;e<a;++e){const n=u[e];h[e][0]=n[t],h[e][1]=n[t+1],h[e][2]=n[t+2],h[e][3]=n[t+3]}const n=e(h,r);c[t]=n[0],c[t+1]=n[1],c[t+2]=n[2],c[t+3]=n[3]}return c.buffer}}function RB(e,t){const n=Object.keys(e.lib||{}).map((function(t){return"const "+t+" = "+e.lib[t].toString()+";"})).concat(["const __minion__ = ("+PB.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),r=new Worker("undefined"==typeof Blob?"data:text/javascript;base64,"+Buffer.from(n.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(n,{type:"text/javascript"})));return r.addEventListener("message",t),r}class OB extends Gt{constructor(e){let t;super(),this.imageOps_=!!e.imageOps,t=0===e.threads?0:this.imageOps_?1:e.threads||1;const n=new Array(t);if(t)for(let r=0;r<t;++r)n[r]=RB(e,this.onWorkerMessage_.bind(this,r));else n[0]=function(e,t){const n=PB(e.operation);let r=!1;return{postMessage:function(e){setTimeout((function(){r||t({data:{buffer:n(e),meta:e.meta}})}),0)},terminate:function(){r=!0}}}(e,this.onWorkerMessage_.bind(this,0));this.workers_=n,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,n){this.enqueue_({inputs:e,meta:t,callback:n}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||0===this.queue_.length)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,n=e.inputs[0].height,r=e.inputs.map((function(e){return e.data.buffer})),i=this.workers_.length;if(this.running_=i,1===i)return void this.workers_[0].postMessage({buffers:r,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},r);const o=e.inputs[0].data.length,s=4*Math.ceil(o/4/i);for(let o=0;o<i;++o){const i=o*s,a=[];for(let e=0,t=r.length;e<t;++e)a.push(r[e].slice(i,i+s));this.workers_[o].postMessage({buffers:a,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},a)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,0===this.running_&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let n,r;if(1===t)n=new Uint8ClampedArray(this.dataLookup_[0].buffer),r=this.dataLookup_[0].meta;else{const i=e.inputs[0].data.length;n=new Uint8ClampedArray(i),r=new Array(t);const o=4*Math.ceil(i/4/t);for(let e=0;e<t;++e){const t=this.dataLookup_[e].buffer,i=e*o;n.set(new Uint8ClampedArray(t),i),r[e]=this.dataLookup_[e].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(n,e.inputs[0].width,e.inputs[0].height),r),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const IB="beforeoperations",FB="afteroperations";class NB extends qt{constructor(e,t,n){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=n}}class YB extends PU{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=void 0!==e.operationType?e.operationType:"pixel",this.threads_=void 0!==e.threads?e.threads:1,this.layers_=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=zB(e[r]);return n}(e.sources);const t=this.changed.bind(this);for(let e=0,n=this.layers_.length;e<n;++e)this.layers_[e].addEventListener(cn,t);var n;this.useResolutions_=null!==e.resolutions,this.tileQueue_=new Qq((function(){return 1}),this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:(n=this.layers_,n.map((function(e){return e.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:qe(this),renderTargets:{}},this.setAttributions((function(t){const n=[];for(let r=0,i=e.sources.length;r<i;++r){const i=e.sources[r],o=i instanceof _j?i:i.getSource();if(!o)continue;const s=o.getAttributions()?.(t);"string"==typeof s?n.push(s):void 0!==s&&n.push(...s)}return n})),void 0!==e.operation&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new OB({operation:e,imageOps:"image"===this.operationType_,queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,n){const r=Object.assign({},this.frameState_);r.viewState=Object.assign({},r.viewState);const i=fP(e);r.size[0]=Math.ceil(vP(e)/t),r.size[1]=Math.ceil(gP(e)/t),r.extent=[i[0]-r.size[0]*t/2,i[1]-r.size[1]*t/2,i[0]+r.size[0]*t/2,i[1]+r.size[1]*t/2],r.time=Date.now();const o=r.viewState;return o.center=i,o.projection=n,o.resolution=t,r}allSourcesReady_(){let e,t=!0;for(let n=0,r=this.layers_.length;n<r;++n)if(e=this.layers_[n].getSource(),!e||"ready"!==e.getState()){t=!1;break}return t}getImage(e,t,n,r){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const i=this.updateFrameState_(e,t,r);if(this.requestedFrameState_=i,this.renderedImageCanvas_){const e=this.renderedImageCanvas_.getResolution(),n=this.renderedImageCanvas_.getExtent();t===e&&iP(i.extent,n)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),i.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,n=new Array(t);for(let r=0;r<t;++r){e.layerIndex=r,e.renderTargets={};const t=HB(this.layers_[r],e);if(!t)return;n[r]=t}const r={};this.dispatchEvent(new NB(IB,e,r)),this.processor_.process(n,r,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,n,r){if(t||!n)return;const i=e.extent,o=e.viewState.resolution;if(o!==this.requestedFrameState_.viewState.resolution||!iP(i,this.requestedFrameState_.extent))return;let s;if(this.renderedImageCanvas_)s=this.renderedImageCanvas_.getImage().getContext("2d");else{s=Ft(Math.round(vP(i)/o),Math.round(gP(i)/o)),this.renderedImageCanvas_=new Nq(i,o,1,s.canvas)}s.putImageData(n,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new NB(FB,e,r))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let n=0,r=this.layers_.length;n<r;++n){if(t=this.layers_[n].getSource().getResolutions(e),t)break}return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}YB.prototype.dispose;let jB=null;function HB(e,t){const n=e.getRenderer();if(!n)throw new Error("Unsupported layer type: "+e);if(!n.prepareFrame(t))return null;const r=t.size[0],i=t.size[1];if(0===r||0===i)return null;const o=n.renderFrame(t,null);let s;if(o instanceof HTMLCanvasElement)s=o;else{if(o&&(s=o.firstElementChild),!(s instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+s);if(s.width===r&&s.height===i){return s.getContext("2d").getImageData(0,0,r,i)}}if(jB){const e=jB.canvas;e.width!==r||e.height!==i?jB=Ft(r,i,void 0,{willReadFrequently:!0}):jB.clearRect(0,0,r,i)}else jB=Ft(r,i,void 0,{willReadFrequently:!0});return jB.drawImage(s,0,0,r,i),jB.getImageData(0,0,r,i)}function zB(e){let t;return e instanceof _j?e instanceof zU?t=new Fz({source:e}):e instanceof PU&&(t=new WG({source:e})):t=e,t}Error;Error;function UB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var WB,GB={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function qB(e){return(e=Math.round(e))<0?0:e>255?255:e}function BB(e){return e<0?0:e>1?1:e}function VB(e){return"%"===e[e.length-1]?qB(parseFloat(e)/100*255):qB(parseInt(e))}function XB(e){return"%"===e[e.length-1]?BB(parseFloat(e)/100):BB(parseFloat(e))}function KB(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{WB={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in GB)return GB[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var o=n.substr(0,r),s=n.substr(r+1,i-(r+1)).split(","),a=1;switch(o){case"rgba":if(4!==s.length)return null;a=XB(s.pop());case"rgb":return 3!==s.length?null:[VB(s[0]),VB(s[1]),VB(s[2]),a];case"hsla":if(4!==s.length)return null;a=XB(s.pop());case"hsl":if(3!==s.length)return null;var l=(parseFloat(s[0])%360+360)%360/360,c=XB(s[1]),u=XB(s[2]),h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h;return[qB(255*KB(d,h,l+1/3)),qB(255*KB(d,h,l)),qB(255*KB(d,h,l-1/3)),a];default:return null}}return null}}catch(uo){}class JB{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof JB)return e;if("string"!=typeof e)return;const t=WB(e);return t?new JB(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}toArray01(){const{r:e,g:t,b:n,a:r}=this;return 0===r?[0,0,0,0]:[e/r,t/r,n/r,r]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:r}=this;return[e,t,n,r]}}JB.black=new JB(0,0,0,1),JB.white=new JB(1,1,1,1),JB.transparent=new JB(0,0,0,0),JB.red=new JB(1,0,0,1),JB.blue=new JB(0,0,1,1);var ZB=JB;function QB(e){return"object"==typeof e?["literal",e]:e}function eV(e,t){let n=e.stops;if(!n)return function(e,t){const n=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",n]:n;if("enum"===t.type)return["match",n,Object.keys(t.values),n,e.default];{const r=["color"===t.type?"to-color":t.type,n,QB(e.default)];return"array"===t.type&&r.splice(1,0,t.value,t.length||null),r}}(e,t);const r=n&&"object"==typeof n[0][0],i=r||void 0!==e.property,o=r||!i;return n=n.map((e=>!i&&t.tokens&&"string"==typeof e[1]?[e[0],aV(e[1])]:[e[0],QB(e[1])])),r?function(e,t,n){const r={},i={},o=[];for(let t=0;t<n.length;t++){const s=n[t],a=s[0].zoom;void 0===r[a]&&(r[a]={zoom:a,type:e.type,property:e.property,default:e.default},i[a]=[],o.push(a)),i[a].push([s[0].value,s[1]])}const s=sV({},t);if("exponential"===s){const n=[tV(e),["linear"],["zoom"]];for(const e of o){oV(n,e,rV(r[e],t,i[e]),!1)}return n}{const e=["step",["zoom"]];for(const n of o){oV(e,n,rV(r[n],t,i[n]),!0)}return iV(e),e}}(e,t,n):o?function(e,t,n,r=["zoom"]){const i=sV(e,t);let o,s=!1;if("interval"===i)o=["step",r],s=!0;else{if("exponential"!==i)throw new Error(`Unknown zoom function type "${i}"`);{const t=void 0!==e.base?e.base:1;o=[tV(e),1===t?["linear"]:["exponential",t],r]}}for(const e of n)oV(o,e[0],e[1],s);return iV(o),o}(e,t,n):rV(e,t,n)}function tV(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function nV(e,t){const n=QB(function(e,t){return void 0!==e?e:void 0!==t?t:void 0}(e.default,t.default));return void 0===n&&"resolvedImage"===t.type?"":n}function rV(e,t,n){const r=sV(e,t),i=["get",e.property];if("categorical"===r&&"boolean"==typeof n[0][0]){const r=["case"];for(const e of n)r.push(["==",i,e[0]],e[1]);return r.push(nV(e,t)),r}if("categorical"===r){const r=["match",i];for(const e of n)oV(r,e[0],e[1],!1);return r.push(nV(e,t)),r}if("interval"===r){const t=["step",["number",i]];for(const e of n)oV(t,e[0],e[1],!0);return iV(t),void 0===e.default?t:["case",["==",["typeof",i],"number"],t,QB(e.default)]}if("exponential"===r){const t=void 0!==e.base?e.base:1,r=[tV(e),1===t?["linear"]:["exponential",t],["number",i]];for(const e of n)oV(r,e[0],e[1],!1);return void 0===e.default?r:["case",["==",["typeof",i],"number"],r,QB(e.default)]}throw new Error(`Unknown property function type ${r}`)}function iV(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function oV(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&2===e.length||e.push(t),e.push(n))}function sV(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function aV(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(e);null!==i;i=n.exec(e)){const o=e.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(1===t.length)return e;if(r<e.length)t.push(e.slice(r));else if(2===t.length)return["to-string",t[1]];return t}class lV extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var cV=lV;class uV{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new uV(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var hV=uV;const dV={kind:"null"},fV={kind:"number"},pV={kind:"string"},mV={kind:"boolean"},gV={kind:"color"},_V={kind:"object"},yV={kind:"value"},bV={kind:"collator"},vV={kind:"formatted"},wV={kind:"resolvedImage"};function xV(e,t){return{kind:"array",itemType:e,N:t}}function MV(e){if("array"===e.kind){const t=MV(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const SV=[dV,fV,pV,mV,gV,vV,_V,xV(yV),wV];function kV(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!kV(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of SV)if(!kV(e,t))return null}return`Expected ${MV(e)} but found ${MV(t)} instead.`}function TV(e,t){return t.some((t=>t.kind===e.kind))}function LV(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}class CV{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class EV{constructor(e,t,n,r,i){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i}}class DV{constructor(e){this.sections=e}static fromString(e){return new DV([new EV(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof DV?e:DV.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class AV{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new AV({name:e,available:!1}):null}serialize(){return["image",this.name]}}function $V(e,t,n,r){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255)){return`Invalid rgba value [${("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`}function PV(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ZB)return!0;if(e instanceof CV)return!0;if(e instanceof DV)return!0;if(e instanceof AV)return!0;if(Array.isArray(e)){for(const t of e)if(!PV(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!PV(e[t]))return!1;return!0}return!1}function RV(e){if(null===e)return dV;if("string"==typeof e)return pV;if("boolean"==typeof e)return mV;if("number"==typeof e)return fV;if(e instanceof ZB)return gV;if(e instanceof CV)return bV;if(e instanceof DV)return vV;if(e instanceof AV)return wV;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=RV(t);if(n){if(n===e)continue;n=yV;break}n=e}return xV(n||yV,t)}return _V}function OV(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof ZB||e instanceof DV||e instanceof AV?e.toString():JSON.stringify(e)}class IV{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!PV(e[1]))return t.error("invalid value");const n=e[1];let r=RV(n);const i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new IV(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ZB?["rgba"].concat(this.value.toArray()):this.value instanceof DV?this.value.serialize():this.value}}var FV=IV;var NV=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const YV={string:pV,number:fV,boolean:mV,object:_V};class jV{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,r=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in YV)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=YV[n],r++}else i=yV;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=xV(i,o)}else n=YV[i];const o=[];for(;r<e.length;r++){const n=t.parse(e[r],r,yV);if(!n)return null;o.push(n)}return new jV(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!kV(this.type,RV(n)))return n;if(t===this.args.length-1)throw new NV(`Expected value to be of type ${MV(this.type)}, but found ${MV(RV(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((e=>e.serialize())))}}var HV=jV;class zV{constructor(e){this.type=vV,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const r=[];let i=!1;for(let n=1;n<=e.length-1;++n){const o=e[n];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,fV),!e))return null;let n=null;if(o["text-font"]&&(n=t.parse(o["text-font"],1,xV(pV)),!n))return null;let s=null;if(o["text-color"]&&(s=t.parse(o["text-color"],1,gV),!s))return null;const a=r[r.length-1];a.scale=e,a.font=n,a.textColor=s}else{const o=t.parse(e[n],1,yV);if(!o)return null;const s=o.type.kind;if("string"!==s&&"value"!==s&&"null"!==s&&"resolvedImage"!==s)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:o,scale:null,font:null,textColor:null})}}return new zV(r)}evaluate(e){return new DV(this.sections.map((t=>{const n=t.content.evaluate(e);return RV(n)===wV?new EV("",n,null,null,null):new EV(OV(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class UV{constructor(e){this.type=wV,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,pV);return n?new UV(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=AV.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const WV={"to-boolean":mV,"to-color":gV,"to-number":fV,"to-string":pV};class GV{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const r=WV[n],i=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],n,yV);if(!r)return null;i.push(r)}return new GV(r,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof ZB)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:$V(t[0],t[1],t[2],t[3]),!n))return new ZB(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new NV(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new NV(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?DV.fromString(OV(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?AV.fromString(OV(this.args[0].evaluate(e))):OV(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new zV([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new UV(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize())})),e}}var qV=GV;const BV=["Unknown","Point","LineString","Polygon"];var VV=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?BV[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:r}=this.featureTileCoord,i=n*t-e[0],o=r*t-e[1];return this.featureDistanceData.bearing[0]*i+this.featureDistanceData.bearing[1]*o}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=ZB.parse(e)),t}};class XV{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const n=e[0],r=XV.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=o.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let a=null;for(const[r,o]of s){a=new SX(t.registry,t.path,null,t.scope);const s=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],i=Array.isArray(r)?r[t-1]:r.type,o=a.parse(n,1+s.length,i);if(!o){l=!0;break}s.push(o)}if(!l)if(Array.isArray(r)&&r.length!==s.length)a.error(`Expected ${r.length} arguments, but found ${s.length} instead.`);else{for(let e=0;e<s.length;e++){const t=Array.isArray(r)?r[e]:r.type,n=s[e];a.concat(e+1).checkSubtype(t,n.type)}if(0===a.errors.length)return new XV(n,i,o,s)}}if(1===s.length)t.errors.push(...a.errors);else{const n=(s.length?s:o).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(MV).join(", ")})`:`(${MV(t.type)}...)`;var t})).join(" | "),r=[];for(let n=1;n<e.length;n++){const i=t.parse(e[n],1+r.length);if(!i)return null;r.push(MV(i.type))}t.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){XV.definitions=t;for(const n in t)e[n]=XV}}var KV=XV;class JV{constructor(e,t,n){this.type=bV,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,mV);if(!r)return null;const i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,mV);if(!i)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,pV),!o)?null:new JV(r,i,o)}evaluate(e){return new CV(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const ZV=8192;function QV(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function eX(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function tX(e,t){const n=(180+e[0])/360;const r=(i=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360);var i;const o=Math.pow(2,t.z);return[Math.round(n*o*ZV),Math.round(r*o*ZV)]}function nX(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],s=e[1]-n[1];return r*s-o*i==0&&r*o<=0&&i*s<=0}function rX(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function iX(e,t){let n=!1;for(let r=0,i=t.length;r<i;r++){const i=t[r];for(let t=0,r=i.length;t<r-1;t++){if(nX(e,i[t],i[t+1]))return!1;rX(e,i[t],i[t+1])&&(n=!n)}}return n}function oX(e,t){for(let n=0;n<t.length;n++)if(iX(e,t[n]))return!0;return!1}function sX(e,t,n,r){const i=e[0]-n[0],o=e[1]-n[1],s=t[0]-n[0],a=t[1]-n[1],l=r[0]-n[0],c=r[1]-n[1],u=i*c-l*o,h=s*c-l*a;return u>0&&h<0||u<0&&h>0}function aX(e,t,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];return 0!=(s=o)[0]*(a=i)[1]-s[1]*a[0]&&!(!sX(e,t,n,r)||!sX(n,r,e,t));var s,a}function lX(e,t,n){for(const r of n)for(let n=0;n<r.length-1;++n)if(aX(e,t,r[n],r[n+1]))return!0;return!1}function cX(e,t){for(let n=0;n<e.length;++n)if(!iX(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(lX(e[n],e[n+1],t))return!1;return!0}function uX(e,t){for(let n=0;n<t.length;n++)if(cX(e,t[n]))return!0;return!1}function hX(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let r=0;r<e[i].length;r++){const s=tX(e[i][r],n);QV(t,s),o.push(s)}r.push(o)}return r}function dX(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=hX(e[i],t,n);r.push(o)}return r}function fX(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const t=.5*r;let i=e[0]-n[0]>t?-r:n[0]-e[0]>t?r:0;0===i&&(i=e[0]-n[2]>t?-r:n[2]-e[0]>t?r:0),e[0]+=i}QV(t,e)}function pX(e,t,n,r){const i=Math.pow(2,r.z)*ZV,o=[r.x*ZV,r.y*ZV],s=[];if(!e)return s;for(const r of e)for(const e of r){const r=[e.x+o[0],e.y+o[1]];fX(r,t,n,i),s.push(r)}return s}function mX(e,t,n,r){const i=Math.pow(2,r.z)*ZV,o=[r.x*ZV,r.y*ZV],s=[];if(!e)return s;for(const n of e){const e=[];for(const r of n){const n=[r.x+o[0],r.y+o[1]];QV(t,n),e.push(n)}s.push(e)}if(t[2]-t[0]<=i/2){!function(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}(t);for(const e of s)for(const r of e)fX(r,t,n,i)}return s}class gX{constructor(e,t){this.type=mV,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(PV(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new gX(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new gX(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new gX(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){const o=hX(t.coordinates,r,i),s=pX(e.geometry(),n,r,i);if(!eX(n,r))return!1;for(const e of s)if(!iX(e,o))return!1}if("MultiPolygon"===t.type){const o=dX(t.coordinates,r,i),s=pX(e.geometry(),n,r,i);if(!eX(n,r))return!1;for(const e of s)if(!oX(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){const o=hX(t.coordinates,r,i),s=mX(e.geometry(),n,r,i);if(!eX(n,r))return!1;for(const e of s)if(!cX(e,o))return!1}if("MultiPolygon"===t.type){const o=dX(t.coordinates,r,i),s=mX(e.geometry(),n,r,i);if(!eX(n,r))return!1;for(const e of s)if(!uX(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var _X=gX;function yX(e){if(e instanceof KV){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof _X)return!1;let t=!0;return e.eachChild((e=>{t&&!yX(e)&&(t=!1)})),t}function bX(e){if(e instanceof KV&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!bX(e)&&(t=!1)})),t}function vX(e,t){if(e instanceof KV&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!vX(e,t)&&(n=!1)})),n}class wX{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new wX(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var xX=wX;class MX{constructor(e,t=[],n,r=new hV,i=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=r,this.errors=i,this.expectedType=n}parse(e,t,n,r,i={}){return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}_parse(e,t){function n(e,t,n){return"assert"===n?new HV(t,[e]):"coerce"===n?new qV(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[r];if(i){let r=i.parse(e,this);if(!r)return null;if(this.expectedType){const e=this.expectedType,i=r.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(e,i))return null}else r=n(r,e,t.typeAnnotation||"coerce");else r=n(r,e,t.typeAnnotation||"assert")}if(!(r instanceof FV)&&"resolvedImage"!==r.type.kind&&kX(r)){const e=new VV;try{r=new FV(r.type,r.evaluate(e))}catch(e){return this.error(e.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new MX(this.registry,r,t||null,i,this.errors)}error(e,...t){const n=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new cV(n,e))}checkSubtype(e,t){const n=kV(e,t);return n&&this.error(n),n}}var SX=MX;function kX(e){if(e instanceof xX)return kX(e.boundExpression);if(e instanceof KV&&"error"===e.name)return!1;if(e instanceof JV)return!1;if(e instanceof _X)return!1;const t=e instanceof qV||e instanceof HV;let n=!0;return e.eachChild((e=>{n=t?n&&kX(e):n&&e instanceof FV})),!!n&&(yX(e)&&vX(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]))}function TX(e,t){const n=e.length-1;let r,i,o=0,s=n,a=0;for(;o<=s;)if(a=Math.floor((o+s)/2),r=e[a],i=e[a+1],r<=t){if(a===n||t<i)return a;o=a+1}else{if(!(r>t))throw new NV("Input is not a number.");s=a-1}return 0}class LX{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,fV);if(!n)return null;const r=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let n=1;n<e.length;n+=2){const o=1===n?-1/0:e[n],s=e[n+1],a=n,l=n+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',a);const c=t.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([o,c])}return new LX(i,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);return n[TX(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var CX=LX,EX=DX;function DX(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}DX.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},DX.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},DX.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},DX.prototype.solveCurveX=function(e,t){var n,r,i,o,s;for(void 0===t&&(t=1e-6),i=e,s=0;s<8;s++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var a=this.sampleCurveDerivativeX(i);if(Math.abs(a)<1e-6)break;i-=o/a}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},DX.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var AX=UB(EX);function $X(e,t,n){return e*(1-n)+t*n}var PX=Object.freeze({__proto__:null,number:$X,color:function(e,t,n){return new ZB($X(e.r,t.r,n),$X(e.g,t.g,n),$X(e.b,t.b,n),$X(e.a,t.a,n))},array:function(e,t,n){return e.map(((e,r)=>$X(e,t[r],n)))}});const RX=.95047,OX=1.08883,IX=4/29,FX=6/29,NX=3*FX*FX,YX=Math.PI/180,jX=180/Math.PI;function HX(e){return e>.008856451679035631?Math.pow(e,1/3):e/NX+IX}function zX(e){return e>FX?e*e*e:NX*(e-IX)}function UX(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function WX(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function GX(e){const t=WX(e.r),n=WX(e.g),r=WX(e.b),i=HX((.4124564*t+.3575761*n+.1804375*r)/RX),o=HX((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-HX((.0193339*t+.119192*n+.9503041*r)/OX)),alpha:e.a}}function qX(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*zX(t),n=RX*zX(n),r=OX*zX(r),new ZB(UX(3.2404542*n-1.5371385*t-.4985314*r),UX(-.969266*n+1.8760108*t+.041556*r),UX(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function BX(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}const VX={forward:GX,reverse:qX,interpolate:function(e,t,n){return{l:$X(e.l,t.l,n),a:$X(e.a,t.a,n),b:$X(e.b,t.b,n),alpha:$X(e.alpha,t.alpha,n)}}},XX={forward:function(e){const{l:t,a:n,b:r}=GX(e),i=Math.atan2(r,n)*jX;return{h:i<0?i+360:i,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}},reverse:function(e){const t=e.h*YX,n=e.c;return qX({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:BX(e.h,t.h,n),c:$X(e.c,t.c,n),l:$X(e.l,t.l,n),alpha:$X(e.alpha,t.alpha,n)}}};class KX{constructor(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,n,r){let i=0;if("exponential"===e.name)i=JX(t,e.base,n,r);else if("linear"===e.name)i=JX(t,1,n,r);else if("cubic-bezier"===e.name){const o=e.controlPoints;i=new AX(o[0],o[1],o[2],o[3]).solve(JX(t,1,n,r))}return i}static parse(e,t){let[n,r,i,...o]=e;if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const e=r[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:e}}else{if("cubic-bezier"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,fV),!i)return null;const s=[];let a=null;"interpolate-hcl"===n||"interpolate-lab"===n?a=gV:t.expectedType&&"value"!==t.expectedType.kind&&(a=t.expectedType);for(let e=0;e<o.length;e+=2){const n=o[e],r=o[e+1],i=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(s.length&&s[s.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(r,l,a);if(!c)return null;a=a||c.type,s.push([n,c])}return"number"===a.kind||"color"===a.kind||"array"===a.kind&&"number"===a.itemType.kind&&"number"==typeof a.N?new KX(a,n,r,i,s):t.error(`Type ${MV(a)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);const o=TX(t,r),s=t[o],a=t[o+1],l=KX.interpolationFactor(this.interpolation,r,s,a),c=n[o].evaluate(e),u=n[o+1].evaluate(e);return"interpolate"===this.operator?PX[this.type.kind.toLowerCase()](c,u,l):"interpolate-hcl"===this.operator?XX.reverse(XX.interpolate(XX.forward(c),XX.forward(u),l)):VX.reverse(VX.interpolate(VX.forward(c),VX.forward(u),l))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function JX(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}var ZX=KX;class QX{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&"value"!==r.kind&&(n=r);const i=[];for(const r of e.slice(1)){const e=t.parse(r,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,i.push(e)}const o=r&&i.some((e=>kV(r,e.type)));return new QX(o?yV:n,i)}evaluate(e){let t,n=null,r=0;for(const i of this.args){if(r++,n=i.evaluate(e),n&&n instanceof AV&&!n.available&&(t||(t=n),n=null,r===this.args.length))return t;if(null!==n)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=["coalesce"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var eK=QX;class tK{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new tK(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var nK=tK;class rK{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,fV),r=t.parse(e[2],2,xV(t.expectedType||yV));if(!n||!r)return null;const i=r.type;return new rK(i.itemType,n,r)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new NV(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new NV(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new NV(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var iK=rK;class oK{constructor(e,t){this.type=mV,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,yV),r=t.parse(e[2],2,yV);return n&&r?TV(n.type,[mV,pV,fV,dV,yV])?new oK(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${MV(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!LV(t,["boolean","string","number","null"]))throw new NV(`Expected first argument to be of type boolean, string, number or null, but found ${MV(RV(t))} instead.`);if(!LV(n,["string","array"]))throw new NV(`Expected second argument to be of type array or string, but found ${MV(RV(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var sK=oK;class aK{constructor(e,t,n){this.type=fV,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,yV),r=t.parse(e[2],2,yV);if(!n||!r)return null;if(!TV(n.type,[mV,pV,fV,dV,yV]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${MV(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,fV);return i?new aK(n,r,i):null}return new aK(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!LV(t,["boolean","string","number","null"]))throw new NV(`Expected first argument to be of type boolean, string, number or null, but found ${MV(RV(t))} instead.`);if(!LV(n,["string","array"]))throw new NV(`Expected second argument to be of type array or string, but found ${MV(RV(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var lK=aK;class cK{constructor(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const i={},o=[];for(let s=2;s<e.length-1;s+=2){let a=e[s];const l=e[s+1];Array.isArray(a)||(a=[a]);const c=t.concat(s);if(0===a.length)return c.error("Expected at least one branch label.");for(const e of a){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,RV(e)))return null}else n=RV(e);if(void 0!==i[String(e)])return c.error("Branch labels must be unique.");i[String(e)]=o.length}const u=t.parse(l,s,r);if(!u)return null;r=r||u.type,o.push(u)}const s=t.parse(e[1],1,yV);if(!s)return null;const a=t.parse(e[e.length-1],e.length-1,r);return a?"value"!==s.type.kind&&t.concat(1).checkSubtype(n,s.type)?null:new cK(n,r,s,i,o,a):null}evaluate(e){const t=this.input.evaluate(e);return(RV(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],r={};for(const e of t){const t=r[this.cases[e]];void 0===t?(r[this.cases[e]]=n.length,n.push([this.cases[e],[e]])):n[t][1].push(e)}const i=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,r]of n)1===r.length?e.push(i(r[0])):e.push(r.map(i)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var uK=cK;class hK{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r=[];for(let i=1;i<e.length-1;i+=2){const o=t.parse(e[i],i,mV);if(!o)return null;const s=t.parse(e[i+1],i+1,n);if(!s)return null;r.push([o,s]),n=n||s.type}const i=t.parse(e[e.length-1],e.length-1,n);return i?new hK(n,r,i):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var dK=hK;class fK{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,yV),r=t.parse(e[2],2,fV);if(!n||!r)return null;if(!TV(n.type,[xV(yV),pV,yV]))return t.error(`Expected first argument to be of type array or string, but found ${MV(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,fV);return i?new fK(n.type,n,r,i):null}return new fK(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!LV(t,["string","array"]))throw new NV(`Expected first argument to be of type array or string, but found ${MV(RV(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var pK=fK;function mK(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function gK(e,t,n,r){return 0===r.compare(t,n)}function _K(e,t,n){const r="=="!==e&&"!="!==e;return class i{constructor(e,t,n){this.type=mV,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,yV);if(!o)return null;if(!mK(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${MV(o.type)}'.`);let s=t.parse(e[2],2,yV);if(!s)return null;if(!mK(n,s.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${MV(s.type)}'.`);if(o.type.kind!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return t.error(`Cannot compare types '${MV(o.type)}' and '${MV(s.type)}'.`);r&&("value"===o.type.kind&&"value"!==s.type.kind?o=new HV(s.type,[o]):"value"!==o.type.kind&&"value"===s.type.kind&&(s=new HV(o.type,[s])));let a=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return t.error("Cannot use collator to compare non-string types.");if(a=t.parse(e[3],3,bV),!a)return null}return new i(o,s,a)}evaluate(i){const o=this.lhs.evaluate(i),s=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){const t=RV(o),n=RV(s);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new NV(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=RV(o),n=RV(s);if("string"!==e.kind||"string"!==n.kind)return t(i,o,s)}return this.collator?n(i,o,s,this.collator.evaluate(i)):t(i,o,s)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize())})),t}}}const yK=_K("==",(function(e,t,n){return t===n}),gK),bK=_K("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!gK(0,t,n,r)})),vK=_K("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),wK=_K(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),xK=_K("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),MK=_K(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0}));class SK{constructor(e,t,n,r,i,o){this.type=pV,this.number=e,this.locale=t,this.currency=n,this.unit=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,fV);if(!n)return null;const r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let i=null;if(r.locale&&(i=t.parse(r.locale,1,pV),!i))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,pV),!o))return null;let s=null;if(r.unit&&(s=t.parse(r.unit,1,pV),!s))return null;let a=null;if(r["min-fraction-digits"]&&(a=t.parse(r["min-fraction-digits"],1,fV),!a))return null;let l=null;return r["max-fraction-digits"]&&(l=t.parse(r["max-fraction-digits"],1,fV),!l)?null:new SK(n,i,o,s,a,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class kK{constructor(e){this.type=fV,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${MV(n.type)} instead.`):new kK(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new NV(`Expected value to be of type string or array, but found ${MV(RV(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild((t=>{e.push(t.serialize())})),e}}const TK={"==":yK,"!=":bK,">":wK,"<":vK,">=":MK,"<=":xK,array:HV,at:iK,boolean:HV,case:dK,coalesce:eK,collator:JV,format:zV,image:UV,in:sK,"index-of":lK,interpolate:ZX,"interpolate-hcl":ZX,"interpolate-lab":ZX,length:kK,let:nK,literal:FV,match:uK,number:HV,"number-format":SK,object:HV,slice:pK,step:CX,string:HV,"to-boolean":qV,"to-color":qV,"to-number":qV,"to-string":qV,var:xX,within:_X};function LK(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,s=$V(t,n,r,o);if(s)throw new NV(s);return new ZB(t/255*o,n/255*o,r/255*o,o)}function CK(e,t){return e in t}function EK(e,t){const n=t[e];return void 0===n?null:n}function DK(e){return{type:e}}KV.register(TK,{error:[{kind:"error"},[pV],(e,[t])=>{throw new NV(t.evaluate(e))}],typeof:[pV,[yV],(e,[t])=>MV(RV(t.evaluate(e)))],"to-rgba":[xV(fV,4),[gV],(e,[t])=>t.evaluate(e).toArray()],rgb:[gV,[fV,fV,fV],LK],rgba:[gV,[fV,fV,fV,fV],LK],has:{type:mV,overloads:[[[pV],(e,[t])=>CK(t.evaluate(e),e.properties())],[[pV,_V],(e,[t,n])=>CK(t.evaluate(e),n.evaluate(e))]]},get:{type:yV,overloads:[[[pV],(e,[t])=>EK(t.evaluate(e),e.properties())],[[pV,_V],(e,[t,n])=>EK(t.evaluate(e),n.evaluate(e))]]},"feature-state":[yV,[pV],(e,[t])=>EK(t.evaluate(e),e.featureState||{})],properties:[_V,[],e=>e.properties()],"geometry-type":[pV,[],e=>e.geometryType()],id:[yV,[],e=>e.id()],zoom:[fV,[],e=>e.globals.zoom],pitch:[fV,[],e=>e.globals.pitch||0],"distance-from-center":[fV,[],e=>e.distanceFromCenter()],"heatmap-density":[fV,[],e=>e.globals.heatmapDensity||0],"line-progress":[fV,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[fV,[],e=>e.globals.skyRadialProgress||0],accumulated:[yV,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[fV,DK(fV),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[fV,DK(fV),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:fV,overloads:[[[fV,fV],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[fV],(e,[t])=>-t.evaluate(e)]]},"/":[fV,[fV,fV],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[fV,[fV,fV],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[fV,[],()=>Math.LN2],pi:[fV,[],()=>Math.PI],e:[fV,[],()=>Math.E],"^":[fV,[fV,fV],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[fV,[fV],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[fV,[fV],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[fV,[fV],(e,[t])=>Math.log(t.evaluate(e))],log2:[fV,[fV],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[fV,[fV],(e,[t])=>Math.sin(t.evaluate(e))],cos:[fV,[fV],(e,[t])=>Math.cos(t.evaluate(e))],tan:[fV,[fV],(e,[t])=>Math.tan(t.evaluate(e))],asin:[fV,[fV],(e,[t])=>Math.asin(t.evaluate(e))],acos:[fV,[fV],(e,[t])=>Math.acos(t.evaluate(e))],atan:[fV,[fV],(e,[t])=>Math.atan(t.evaluate(e))],min:[fV,DK(fV),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[fV,DK(fV),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[fV,[fV],(e,[t])=>Math.abs(t.evaluate(e))],round:[fV,[fV],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[fV,[fV],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[fV,[fV],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[mV,[pV,yV],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[mV,[yV],(e,[t])=>e.id()===t.value],"filter-type-==":[mV,[pV],(e,[t])=>e.geometryType()===t.value],"filter-<":[mV,[pV,yV],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[mV,[yV],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[mV,[pV,yV],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[mV,[yV],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[mV,[pV,yV],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[mV,[yV],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[mV,[pV,yV],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[mV,[yV],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[mV,[yV],(e,[t])=>t.value in e.properties()],"filter-has-id":[mV,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[mV,[xV(pV)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[mV,[xV(yV)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[mV,[pV,xV(yV)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[mV,[pV,xV(yV)],(e,[t,n])=>function(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:mV,overloads:[[[mV,mV],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[DK(mV),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:mV,overloads:[[[mV,mV],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[DK(mV),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[mV,[mV],(e,[t])=>!t.evaluate(e)],"is-supported-script":[mV,[pV],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[pV,[pV],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[pV,[pV],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[pV,DK(yV),(e,t)=>t.map((t=>OV(t.evaluate(e)))).join("")],"resolved-locale":[pV,[bV],(e,[t])=>t.evaluate(e).resolvedLocale()]});var AK=TK;function $K(e){return{result:"success",value:e}}function PK(e){return{result:"error",value:e}}function RK(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}class OK{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new VV,this._defaultValue=t?function(e){return"color"===e.type&&(RK(e.default)||Array.isArray(e.default))?new ZB(0,0,0,0):"color"===e.type?ZB.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,i,o,s,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,i,o,s,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new NV(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function IK(e,t){const n=new SX(AK,[],t?function(e){const t={color:gV,string:pV,number:fV,enum:pV,boolean:mV,formatted:vV,resolvedImage:wV};if("array"===e.type)return xV(t[e.value]||yV,e.length);return t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?$K(new OK(r,t)):PK(n.errors)}class FK{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!bX(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}}class NK{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!bX(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}interpolationFactor(e,t,n){return this.interpolationType?ZX.interpolationFactor(this.interpolationType,e,t,n):0}}function YK(e,t){if("error"===(e=IK(e,t)).result)return e;const n=e.value.expression,r=yX(n);if(!r&&!function(e){return"data-driven"===e["property-type"]}(t))return PK([new cV("","data expressions not supported")]);const i=vX(n,["zoom","pitch","distance-from-center"]);if(!i&&!function(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}(t))return PK([new cV("","zoom expressions not supported")]);const o=jK(n);if(!o&&!i)return PK([new cV("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof cV)return PK([o]);if(o instanceof ZX&&!function(e){return!!e.expression&&e.expression.interpolated}(t))return PK([new cV("",'"interpolate" expressions cannot be used with this property')]);if(!o)return $K(new FK(r?"constant":"source",e.value));const s=o instanceof ZX?o.interpolation:void 0;return $K(new NK(r?"camera":"composite",e.value,o.labels,s))}function jK(e){let t=null;if(e instanceof nK)t=jK(e.result);else if(e instanceof eK){for(const n of e.args)if(t=jK(n),t)break}else(e instanceof CX||e instanceof ZX)&&e.input instanceof KV&&"zoom"===e.input.name&&(t=e);return t instanceof cV||e.eachChild((e=>{const n=jK(e);n instanceof cV?t=n:!t&&n?t=new cV("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new cV("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function HK(e){if(Array.isArray(e))return e.map(HK);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=HK(e[n]);return t}return function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}(e)}var zK={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function UK(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!UK(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function WK(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};UK(e)||(e=JK(e));const n=e;let r=!0;try{r=function(e){if(!BK(e))return e;let t=HK(e);return qK(t),t=GK(t),t}(n)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const i=zK[`filter_${t}`],o=IK(r,i);let s=null;if("error"===o.result)throw new Error(o.value.map((e=>`${e.key}: ${e.message}`)).join(", "));s=(e,t,n)=>o.value.evaluate(e,t,{},n);let a=null,l=null;if(r!==n){const e=IK(n,i);if("error"===e.result)throw new Error(e.value.map((e=>`${e.key}: ${e.message}`)).join(", "));a=(t,n,r,i,o)=>e.value.evaluate(t,n,{},r,void 0,void 0,i,o),l=!yX(e.value.expression)}return{filter:s,dynamicFilter:a||void 0,needGeometry:KK(r),needFeature:!!l}}function GK(e){if(!Array.isArray(e))return e;const t=function(e){if(VK.has(e[0]))for(let t=1;t<e.length;t++){if(BK(e[t]))return!0}return e}(e);return!0===t?t:t.map((e=>GK(e)))}function qK(e){let t=!1;const n=[];if("case"===e[0]){for(let r=1;r<e.length-1;r+=2)t=t||BK(e[r]),n.push(e[r+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||BK(e[1]);for(let t=2;t<e.length-1;t+=2)n.push(e[t+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||BK(e[1]);for(let t=1;t<e.length-1;t+=2)n.push(e[t+1])}t&&(e.length=0,e.push("any",...n));for(let t=1;t<e.length;t++)qK(e[t])}function BK(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let t=1;t<e.length;t++){if(BK(e[t]))return!0}return!1}const VK=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function XK(e,t){return e<t?-1:e>t?1:0}function KK(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(KK(e[t]))return!0;return!1}function JK(e){if(!e)return!0;const t=e[0];if(e.length<=1)return"any"!==t;const n="=="===t?ZK(e[1],e[2],"=="):"!="===t?tJ(ZK(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?ZK(e[1],e[2],t):"any"===t?function(e){return["any"].concat(e.map(JK))}(e.slice(1)):"all"===t?["all"].concat(e.slice(1).map(JK)):"none"===t?["all"].concat(e.slice(1).map(JK).map(tJ)):"in"===t?QK(e[1],e.slice(2)):"!in"===t?tJ(QK(e[1],e.slice(2))):"has"===t?eJ(e[1]):"!has"===t?tJ(eJ(e[1])):"within"!==t||e;return n}function ZK(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function QK(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(XK)]]:["filter-in-small",e,["literal",t]]}}function eJ(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function tJ(e){return["!",e]}var nJ=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function rJ(e,t){const n={};for(const t in e)"ref"!==t&&(n[t]=e[t]);return nJ.forEach((e=>{e in t&&(n[e]=t[e])})),n}function iJ(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=rJ(e[n],t[e[n].ref]));return e}var oJ={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},sJ=" ",aJ=/(italic|oblique)$/i,lJ={},cJ=function(e,t,n){var r=lJ[e];if(!r){Array.isArray(e)||(e=[e]);for(var i,o,s=400,a="normal",l=[],c=0,u=e.length;c<u;++c){var h=e[c].split(" "),d=h[h.length-1].toLowerCase();for(var f in"normal"==d||"italic"==d||"oblique"==d?(a=o?a:d,o=!0,h.pop(),d=h[h.length-1].toLowerCase()):aJ.test(d)&&(d=d.replace(aJ,""),a=o?a:h[h.length-1].replace(d,""),o=!0),oJ){var p=h.length>1?h[h.length-2].toLowerCase():"";if(d==f||d==f.replace("-","")||p+"-"+d==f){s=i?s:oJ[f],h.pop(),p&&f.startsWith(p)&&h.pop();break}}i||"number"!=typeof d||(s=d,i=!0);var m=h.join(sJ).replace("Klokantech Noto Sans","Noto Sans");-1!==m.indexOf(sJ)&&(m='"'+m+'"'),l.push(m)}r=lJ[e]=[a,s,l]}return r[0]+sJ+r[1]+sJ+t+"px"+(n?"/"+n:"")+sJ+r[2]},uJ=UB(cJ);const hJ={},dJ={};let fJ=0;function pJ(e){return e.id||(e.id=fJ++),e.id}function mJ(e,t){return pJ(e)+"."+qe(t)}function gJ(e){let t=hJ[e.id];return t||(t={},hJ[pJ(e)]=t),t}function _J(e){let t=dJ[e.id];return t||(t={},dJ[pJ(e)]=t),t}function yJ(e){return e*Math.PI/180}const bJ=function(){const e=[];for(let t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function vJ(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);const n=document.createElement("canvas");return n.width=e,n.height=t,n}function wJ(e,t){let n=0;const r=t.length;for(;n<r;++n){if(t[n]<e&&n+1<r){const r=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(r)}}return r-1}function xJ(e,t,n,r){const i=[2*n*t.pixelRatio+t.width,2*n*t.pixelRatio+t.height],o=vJ(i[0],i[1]),s=o.getContext("2d");s.drawImage(e,t.x,t.y,t.width,t.height,n*t.pixelRatio,n*t.pixelRatio,t.width,t.height);const a=s.getImageData(0,0,i[0],i[1]);s.globalCompositeOperation="destination-over",s.fillStyle=`rgba(${255*r.r},${255*r.g},${255*r.b},${r.a})`;const l=a.data;for(let e=0,r=a.width;e<r;++e)for(let i=0,o=a.height;i<o;++i){l[4*(i*r+e)+3]>0&&s.arc(e,i,n*t.pixelRatio,0,2*Math.PI)}return s.fill(),o}function MJ(e,t,n){const r=Math.max(0,Math.min(1,(n-e)/(t-e)));return r*r*(3-2*r)}function SJ(e,t,n){const r=vJ(t.width,t.height),i=r.getContext("2d");i.drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const o=i.getImageData(0,0,t.width,t.height),s=o.data;for(let e=0,t=o.width;e<t;++e)for(let r=0,i=o.height;r<i;++r){const i=4*(r*t+e),o=.75,a=.1,l=MJ(o-a,o+a,s[i+3]/255);l>0?(s[i+0]=Math.round(255*n.r*l),s[i+1]=Math.round(255*n.g*l),s[i+2]=Math.round(255*n.b*l),s[i+3]=Math.round(255*l)):s[i+3]=0}return i.putImageData(o,0,0),r}const kJ=Array(256).join(" ");function TJ(e,t){if(t>=.05){let n="";const r=e.split("\n"),i=kJ.slice(0,Math.round(t/.1));for(let e=0,t=r.length;e<t;++e)e>0&&(n+="\n"),n+=r[e].split("").join(i);return n}return e}let LJ;function CJ(){return LJ||(LJ=vJ(1,1).getContext("2d")),LJ}function EJ(e,t){return CJ().measureText(e).width+(e.length-1)*t}const DJ={};function AJ(e,t,n,r){if(-1!==e.indexOf("\n")){const i=e.split("\n"),o=[];for(let e=0,s=i.length;e<s;++e)o.push(AJ(i[e],t,n,r));return o.join("\n")}const i=n+","+t+","+e+","+r;let o=DJ[i];if(!o){const s=e.split(" ");if(s.length>1){const e=CJ();e.font=t;const i=e.measureText("M").width*n;let a="";const l=[];for(let e=0,t=s.length;e<t;++e){const t=s[e],n=a+(a?" ":"")+t;EJ(n,r)<=i?a=n:(a&&l.push(a),a=t)}a&&l.push(a);for(let e=0,t=l.length;e<t&&t>1;++e){const n=l[e];if(EJ(n,r)<.35*i){const i=e>0?EJ(l[e-1],r):1/0,o=e<t-1?EJ(l[e+1],r):1/0;l.splice(e,1),t-=1,i<o?(l[e-1]+=" "+n,e-=1):l[e]=n+" "+l[e]}}for(let e=0,t=l.length-1;e<t;++e){const n=l[e],o=l[e+1];if(EJ(n,r)>.7*i&&EJ(o,r)<.6*i){const s=n.split(" "),a=s.pop();EJ(a,r)<.2*i&&(l[e]=s.join(" "),l[e+1]=a+" "+o),t-=1}}o=l.join("\n")}else o=e;o=TJ(o,r),DJ[i]=o}return o}const $J={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},PJ={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},RJ={},OJ={zoom:0};let IJ,FJ;function NJ(e,t,n,r,i,o,s){const a=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[a]||(o[a]={});const l=o[a];if(!l[n]){let r=(e[t]||RJ)[n];const i=zK[`${t}_${e.type}`][n];void 0===r&&(r=i.default);let o=(c=r,Array.isArray(c)&&c.length>0&&"string"==typeof c[0]&&c[0]in AK);if(!o&&RK(r)&&(r=eV(r,i),o=!0),o){const e=function(e,t){const n=YK(e,t);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return n.value}(r,i);l[n]=e.evaluate.bind(e)}else"color"==i.type&&(r=ZB.parse(r)),l[n]=function(){return r}}var c;return OJ.zoom=r,l[n](OJ,i,s)}function YJ(e,t,n,r,i){if(!NJ(e,"layout",`${r}-allow-overlap`,t,n,i))return"declutter";return NJ(e,"layout",`${r}-ignore-placement`,t,n,i)?"none":"obstacle"}function jJ(e,t,n,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=WK(t).filter),OJ.zoom=r,i[e](OJ,n)}let HJ=!1;function zJ(e,t){if(e){if(!HJ&&(0===e.a||0===t))return;const n=e.a;return t=void 0===t?1:t,0===n?"transparent":"rgba("+Math.round(255*e.r/n)+","+Math.round(255*e.g/n)+","+Math.round(255*e.b/n)+","+n*t+")"}return e}const UJ=/\{[^{}}]*\}/g;function WJ(e,t){return e.replace(UJ,(function(e){return t[e.slice(1,-1)]||""}))}let GJ=!1;const qJ={};function BJ(e,t,n,r=bJ,i=void 0,o=void 0,s=void 0,a=void 0){if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");let l,c,u;if(qJ[mJ(t,e)]=Array.from(arguments),o)if("undefined"!=typeof Image){const t=new Image;let n;on((()=>o)).then((e=>{e instanceof Request?fetch(e).then((e=>e.blob())).then((e=>{n=URL.createObjectURL(e),t.src=n})).catch((()=>{})):(t.crossOrigin="anonymous",t.src=e,n&&URL.revokeObjectURL(n))})),t.onload=function(){l=t,c=[t.width,t.height],e.changed(),t.onload=null}}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const e=self;e.postMessage({action:"loadImage",src:o}),e.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===o&&(l=e.data.image,c=[l.width,l.height])}))}const h=iJ(t.layers),d={},f=[],p={},m={},g=gJ(t),_=_J(t);let y;for(let e=0,r=h.length;e<r;++e){const r=h[e],i=r.id;if("string"==typeof n&&r.source==n||Array.isArray(n)&&-1!==n.indexOf(i)){const n=r["source-layer"];if(y){if(r.source!==y)throw new Error(`Layer "${i}" does not use source "${y}`)}else{y=r.source;const e=t.sources[y];if(!e)throw new Error(`Source "${y}" is not defined`);const n=e.type;if("vector"!==n&&"geojson"!==n)throw new Error(`Source "${y}" is not of type "vector" or "geojson", but "${n}"`)}let o=d[n];o||(o=[],d[n]=o),o.push({layer:r,index:e}),f.push(i)}}const b=new gr,v=new pr,w=[],x=function(n,o,h){const f=n.getProperties(),y=d[f.layer];if(!y)return;let x=r.indexOf(o);-1==x&&(x=wJ(o,r));const M=$J[n.getGeometry().getType()],S={id:n.getId(),properties:f,type:M},k=e.get("mapbox-featurestate")[n.getId()];let T,L=-1;for(let r=0,d=y.length;r<d;++r){const d=y[r],C=d.layer,E=C.id;if(void 0!==h&&h!==E)continue;const D=C.layout||RJ,A=C.paint||RJ;if("none"===D.visibility||"minzoom"in C&&x<C.minzoom||"maxzoom"in C&&x>=C.maxzoom)continue;const $=C.filter;if(!$||jJ(E,$,S,x,_)){let r,h,_,y,E,$;T=C;const P=d.index;if(3==M&&("fill"==C.type||"fill-extrusion"==C.type))if(h=NJ(C,"paint",C.type+"-opacity",x,S,g,k),C.type+"-pattern"in A){const e=NJ(C,"paint",C.type+"-pattern",x,S,g,k);if(e){const t="string"==typeof e?WJ(e,f):e.toString();if(l&&i&&i[t]){++L,$=w[L],$&&$.getFill()&&!$.getStroke()&&!$.getText()||($=new Sr({fill:new pr}),w[L]=$),_=$.getFill(),$.setZIndex(P);const e=t+"."+h;let n=m[e];if(!n){const r=i[t],o=vJ(r.width,r.height),s=o.getContext("2d");s.globalAlpha=h,s.drawImage(l,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n=s.createPattern(o,"repeat"),m[e]=n}_.setColor(n)}}}else r=zJ(NJ(C,"paint",C.type+"-color",x,S,g,k),h),C.type+"-outline-color"in A&&(E=zJ(NJ(C,"paint",C.type+"-outline-color",x,S,g,k),h)),E||(E=r),(r||E)&&(++L,$=w[L],(!$||r&&!$.getFill()||!r&&$.getFill()||E&&!$.getStroke()||!E&&$.getStroke()||$.getText())&&($=new Sr({fill:r?new pr:void 0,stroke:E?new gr:void 0}),w[L]=$),r&&(_=$.getFill(),_.setColor(r)),E&&(y=$.getStroke(),y.setColor(E),y.setWidth(.5)),$.setZIndex(P));if(1!=M&&"line"==C.type){r="line-pattern"in A?void 0:zJ(NJ(C,"paint","line-color",x,S,g,k),NJ(C,"paint","line-opacity",x,S,g,k));const e=NJ(C,"paint","line-width",x,S,g,k);r&&e>0&&(++L,$=w[L],$&&$.getStroke()&&!$.getFill()&&!$.getText()||($=new Sr({stroke:new gr}),w[L]=$),y=$.getStroke(),y.setLineCap(NJ(C,"layout","line-cap",x,S,g,k)),y.setLineJoin(NJ(C,"layout","line-join",x,S,g,k)),y.setMiterLimit(NJ(C,"layout","line-miter-limit",x,S,g,k)),y.setColor(r),y.setWidth(e),y.setLineDash(A["line-dasharray"]?NJ(C,"paint","line-dasharray",x,S,g,k).map((function(t){return t*e})):null),$.setZIndex(P))}let R,O,I,F,N,Y,j,H,z,U=!1,W=null,G=0;if((1==M||2==M)&&"icon-image"in D){const t=NJ(C,"layout","icon-image",x,S,g,k);if(t){let r;R="string"==typeof t?WJ(t,f):t.toString();const s=a?a(e,R):void 0;if(l&&i&&i[R]||s){const e=NJ(C,"layout","icon-rotation-alignment",x,S,g,k);if(2==M){const t=n.getGeometry();if(t.getFlatMidpoint||t.getFlatMidpoints){const n=t.getExtent();if(Math.sqrt(Math.max(Math.pow((n[2]-n[0])/o,2),Math.pow((n[3]-n[1])/o,2)))>150){const n="MultiLineString"===t.getType()?t.getFlatMidpoints():t.getFlatMidpoint();FJ||(IJ=[NaN,NaN],FJ=new mj("Point",IJ,[],2,{},void 0)),r=FJ,IJ[0]=n[0],IJ[1]=n[1];if("line"===NJ(C,"layout","symbol-placement",x,S,g,k)&&"map"===e){const e=t.getStride(),r=t.getFlatCoordinates();for(let t=0,i=r.length-e;t<i;t+=e){const i=r[t],o=r[t+1],s=r[t+e],a=r[t+e+1],l=Math.min(i,s),c=Math.max(i,s),u=n[0],h=(a-o)*(u-i)-(s-i)*(n[1]-o);if(Math.abs(h)<.001&&u<=c&&u>=l){G=Math.atan2(o-a,s-i);break}}}}}}if(2!==M||r){const t=NJ(C,"layout","icon-size",x,S,g,k),n=void 0!==A["icon-color"]?NJ(C,"paint","icon-color",x,S,g,k):null;if(!n||0!==n.a){const r=NJ(C,"paint","icon-halo-color",x,S,g,k),o=NJ(C,"paint","icon-halo-width",x,S,g,k);let a=`${R}.${t}.${o}.${r}`;if(null!==n&&(a+=`.${n}`),O=p[a],!O){const h=YJ(C,x,S,"icon",g);let d;"icon-offset"in D&&(d=NJ(C,"layout","icon-offset",x,S,g,k).slice(0),d[0]*=t,d[1]*=-t);let f=n?[255*n.r,255*n.g,255*n.b,n.a]:void 0;if(s){const n={color:f,rotateWithView:"map"===e,displacement:d,declutterMode:h,scale:t};"string"==typeof s?n.src=s:(n.img=s,n.imgSize=[s.width,s.height]),O=new WI(n)}else{const s=i[R];let a,p,m;o?s.sdf?(a=xJ(SJ(l,s,n||[0,0,0,1]),{x:0,y:0,width:s.width,height:s.height,pixelRatio:s.pixelRatio},o,r),f=void 0):a=xJ(l,s,o,r):(s.sdf?(u||(u=SJ(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1,a:1})),a=u):a=l,p=[s.width,s.height],m=[s.x,s.y]),O=new WI({color:f,img:a,imgSize:c,size:p,offset:m,rotateWithView:"map"===e,scale:t/s.pixelRatio,displacement:d,declutterMode:h})}p[a]=O}}O&&(++L,$=w[L],$&&$.getImage()&&!$.getFill()&&!$.getStroke()||($=new Sr,w[L]=$),$.setGeometry(r),O.setRotation(G+yJ(NJ(C,"layout","icon-rotate",x,S,g,k))),O.setOpacity(NJ(C,"paint","icon-opacity",x,S,g,k)),O.setAnchor(PJ[NJ(C,"layout","icon-anchor",x,S,g,k)]),$.setImage(O),W=$.getText(),$.setText(void 0),$.setZIndex(P),U=!0,I=!1)}else I=!0}}}if(1==M&&"circle"===C.type){++L,$=w[L],$&&$.getImage()&&!$.getFill()&&!$.getStroke()||($=new Sr,w[L]=$);const e="circle-radius"in A?NJ(C,"paint","circle-radius",x,S,g,k):5,t=zJ(NJ(C,"paint","circle-stroke-color",x,S,g,k),NJ(C,"paint","circle-stroke-opacity",x,S,g,k)),n=NJ(C,"paint","circle-translate",x,S,g,k),r=zJ(NJ(C,"paint","circle-color",x,S,g,k),NJ(C,"paint","circle-opacity",x,S,g,k)),i=NJ(C,"paint","circle-stroke-width",x,S,g,k),o=e+"."+t+"."+r+"."+i+"."+n[0]+"."+n[1];O=p[o],O||(O=new dr({radius:e,displacement:[n[0],-n[1]],stroke:t&&i>0?new gr({width:i,color:t}):void 0,fill:r?new pr({color:r}):void 0,declutterMode:"none"}),p[o]=O),$.setImage(O),W=$.getText(),$.setText(void 0),$.setGeometry(void 0),$.setZIndex(P),U=!0}if("text-field"in D){j=Math.round(NJ(C,"layout","text-size",x,S,g,k));const e=NJ(C,"layout","text-font",x,S,g,k);Y=NJ(C,"layout","text-line-height",x,S,g,k),N=uJ(s?s(e,t.metadata?t.metadata["ol:webfonts"]:void 0):e,j,Y),N.includes("sans-serif")||(N+=",sans-serif"),H=NJ(C,"layout","text-letter-spacing",x,S,g,k),z=NJ(C,"layout","text-max-width",x,S,g,k);const n=NJ(C,"layout","text-field",x,S,g,k);F="object"==typeof n&&n.sections?1===n.sections.length?n.toString():n.sections.reduce(((t,n,r)=>{const i=n.fontStack?n.fontStack.split(","):e,o=uJ(s?s(i):i,j*(n.scale||1),Y);let a=n.text;if("\n"===a)return t.push("\n",""),t;if(2==M)return t.push(TJ(a,H),o),t;a=AJ(a,o,z,H).split("\n");for(let e=0,n=a.length;e<n;++e)e>0&&t.push("\n",""),t.push(a[e],o);return t}),[]):WJ(n,f).trim(),h=NJ(C,"paint","text-opacity",x,S,g,k)}if(F&&h&&!I){U||(++L,$=w[L],$&&$.getText()&&!$.getFill()&&!$.getStroke()||($=new Sr,w[L]=$),$.setImage(void 0),$.setGeometry(void 0));const e=YJ(C,x,S,"text",g);$.getText()||$.setText(W),W=$.getText(),(!W||"getDeclutterMode"in W&&W.getDeclutterMode()!==e)&&(W=new qI({padding:[2,2,2,2],declutterMode:e}),$.setText(W));const t=NJ(C,"layout","text-transform",x,S,g,k);"uppercase"==t?F=Array.isArray(F)?F.map(((e,t)=>t%2?e:e.toUpperCase())):F.toUpperCase():"lowercase"==t&&(F=Array.isArray(F)?F.map(((e,t)=>t%2?e:e.toLowerCase())):F.toLowerCase());const n=Array.isArray(F)?F:2==M?TJ(F,H):AJ(F,N,z,H);if(W.setText(n),W.setFont(N),W.setRotation(yJ(NJ(C,"layout","text-rotate",x,S,g,k))),"function"==typeof W.setKeepUpright){const e=NJ(C,"layout","text-keep-upright",x,S,g,k);W.setKeepUpright(e)}const r=NJ(C,"layout","text-anchor",x,S,g,k),i=U||1==M?"point":NJ(C,"layout","symbol-placement",x,S,g,k);let o;if("line-center"===i?(W.setPlacement("line"),o="center"):W.setPlacement(i),"line"===i&&"function"==typeof W.setRepeat){const e=NJ(C,"layout","symbol-spacing",x,S,g,k);W.setRepeat(2*e)}W.setOverflow("point"===i);let s=NJ(C,"paint","text-halo-width",x,S,g,k);const a=NJ(C,"layout","text-offset",x,S,g,k),l=NJ(C,"paint","text-translate",x,S,g,k);let c=0,u=0;if("point"==i){o="center",-1!==r.indexOf("left")?(o="left",u=s):-1!==r.indexOf("right")&&(o="right",u=-s);const e=NJ(C,"layout","text-rotation-alignment",x,S,g,k);W.setRotateWithView("map"==e)}else W.setMaxAngle(yJ(NJ(C,"layout","text-max-angle",x,S,g,k))*F.length/n.length),W.setRotateWithView(!1);W.setTextAlign(o);let d="middle";0==r.indexOf("bottom")?(d="bottom",c=-s-.5*(Y-1)*j):0==r.indexOf("top")&&(d="top",c=s+.5*(Y-1)*j),W.setTextBaseline(d);const f=NJ(C,"layout","text-justify",x,S,g,k);W.setJustify("auto"===f?void 0:f),W.setOffsetX(a[0]*j+u+l[0]),W.setOffsetY(a[1]*j+c+l[1]),v.setColor(zJ(NJ(C,"paint","text-color",x,S,g,k),h)),W.setFill(v);const p=zJ(NJ(C,"paint","text-halo-color",x,S,g,k),h);if(p&&s>0){b.setColor(p),s*=2;const e=.5*j;b.setWidth(s<=e?s:e),W.setStroke(b)}else W.setStroke(void 0);const m=NJ(C,"layout","text-padding",x,S,g,k),_=W.getPadding();m!==_[0]&&(_[0]=m,_[1]=m,_[2]=m,_[3]=m),$.setZIndex(P)}}}return L>-1?(w.length=L+1,GJ&&("set"in n?n.set("mapbox-layer",T):n.getProperties()["mapbox-layer"]=T),w):void 0};return e.setStyle(x),e.set("mapbox-source",y),e.set("mapbox-layers",f),e.set("mapbox-featurestate",e.get("mapbox-featurestate")||{}),x}function VJ(e,t){let n=!1;return e.includes(t)||(e.push(t),n=!0),n}const XJ=class{constructor(e){this.inRange=!1!==e.inRange,this.visible=!0===e.visible,this.attributes=e.attributes||null,this.id_=e.id,this.identifierAttribute_=e.identifierAttribute,this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.name_=e.name}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e}get id(){return this.id_}get identifierAttribute(){return this.identifierAttribute_}get maxResolution(){return this.maxResolution_}get minResolution(){return this.minResolution_}get name(){return this.name_}get queryable(){return!1}get supportsDynamicInRange(){return null!==this.maxResolution||null!==this.minResolution}},KJ="&&",JJ="!",ZJ="||";const QJ=class extends $B{constructor(e){const t=e||{};super(e),this.layers_=t.layers?t.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeaturesFromObject(e,t){const n=[];let r=null;if("FeatureCollection"===e.type){r=e.features}else r=[e];for(let e=0,i=r.length;e<i;++e){const i=r[e].layerName;this.layers_&&!this.layers_.includes(i)||n.push(this.readFeatureFromObject(r[e],t))}return n}},eZ="boolean",tZ="date",nZ="datetime",rZ="time",iZ="geometry",oZ="number",sZ="select",aZ="text";const lZ=class extends eW{constructor(){super(),this.xmlSerializer_=(void 0===BW&&"undefined"!=typeof XMLSerializer&&(BW=new XMLSerializer),BW)}getType(){return"xml"}readFeature(e,t){if(!e)return null;if("string"==typeof e){const n=AW(e);return this.readFeatureFromDocument(n,t)}return DW(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){const n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if("string"==typeof e){const n=AW(e);return this.readFeaturesFromDocument(n,t)}return DW(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){const n=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Jt(n,this.readFeaturesFromNode(r,t));return n}readFeaturesFromNode(e,t){return We()}readGeometry(e,t){if(!e)return null;if("string"==typeof e){const n=AW(e);return this.readGeometryFromDocument(n,t)}return DW(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if("string"==typeof e){const t=AW(e);return this.readProjectionFromDocument(t)}return DW(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){const n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(e,t){return null}writeFeatures(e,t){const n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){const n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(e,t){return null}},cZ="http://www.opengis.net/gml",uZ=/^\s*$/;class hZ extends lZ{constructor(e){super(),e=e||{},this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:PW(this.readFeaturesInternal),featureMembers:RW(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(e,t){const n=e.localName;let r=null;if("FeatureCollection"==n)r=WW([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==n||"featureMember"==n||"member"==n){const i=t[0];let o=i.featureType,s=i.featureNS;const a="p",l="p0";if(!o&&e.childNodes){o=[],s={};for(let t=0,n=e.childNodes.length;t<n;++t){const n=e.childNodes[t];if(1===n.nodeType){const e=n.nodeName.split(":").pop();if(!o.includes(e)){let t="",r=0;const i=n.namespaceURI;for(const e in s){if(s[e]===i){t=e;break}++r}t||(t=a+r,s[t]=i),o.push(t+":"+e)}}}"featureMember"!=n&&(i.featureType=o,i.featureNS=s)}if("string"==typeof s){const e=s;s={},s[l]=e}const c={},u=Array.isArray(o)?o:[o];for(const e in s){const t={};for(let r=0,i=u.length;r<i;++r){(u[r].includes(":")?u[r].split(":")[0]:l)===e&&(t[u[r].split(":").pop()]="featureMembers"==n?PW(this.readFeatureElement,this):RW(this.readFeatureElement,this))}c[s[e]]=t}r=WW("featureMember"==n||"member"==n?void 0:[],c,e,t)}return null===r&&(r=[]),r}readGeometryOrExtent(e,t){const n=t[0];return n.srsName=e.firstElementChild.getAttribute("srsName"),n.srsDimension=e.firstElementChild.getAttribute("srsDimension"),WW(null,this.GEOMETRY_PARSERS,e,t,this)}readExtentElement(e,t){const n=t[0],r=this.readGeometryOrExtent(e,t);return r?nW(r,n):void 0}readGeometryElement(e,t){const n=t[0],r=this.readGeometryOrExtent(e,t);return r?tW(r,!1,n):void 0}readFeatureElementInternal(e,t,n){let r;const i={};for(let o=e.firstElementChild;o;o=o.nextElementSibling){let e;const s=o.localName;0===o.childNodes.length||1===o.childNodes.length&&(3===o.firstChild.nodeType||4===o.firstChild.nodeType)?(e=CW(o,!1),uZ.test(e)&&(e=void 0)):(n&&(e="boundedBy"===s?this.readExtentElement(o,t):this.readGeometryElement(o,t)),e?"boundedBy"!==s&&(r=s):e=this.readFeatureElementInternal(o,t,!1));const a=o.attributes.length;if(a>0&&!(e instanceof YR)){e={_content_:e};for(let t=0;t<a;t++){e[o.attributes[t].name]=o.attributes[t].value}}i[s]?(i[s]instanceof Array||(i[s]=[i[s]]),i[s].push(e)):i[s]=e}if(!n)return i;const o=new L$(i);r&&o.setGeometryName(r);const s=e.getAttribute("fid")||function(e,t,n){return e.getAttributeNS(t,n)||""}(e,this.namespace,"id");return s&&o.setId(s),o}readFeatureElement(e,t){return this.readFeatureElementInternal(e,t,!0)}readPoint(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new VR(n,"XYZ")}readMultiPoint(e,t){const n=WW([],this.MULTIPOINT_PARSERS,e,t,this);if(n)return new cj(n)}readMultiLineString(e,t){const n=WW([],this.MULTILINESTRING_PARSERS,e,t,this);if(n)return new aj(n)}readMultiPolygon(e,t){const n=WW([],this.MULTIPOLYGON_PARSERS,e,t,this);if(n)return new dj(n)}pointMemberParser(e,t){UW(this.POINTMEMBER_PARSERS,e,t,this)}lineStringMemberParser(e,t){UW(this.LINESTRINGMEMBER_PARSERS,e,t,this)}polygonMemberParser(e,t){UW(this.POLYGONMEMBER_PARSERS,e,t,this)}readLineString(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n){return new vO(n,"XYZ")}}readFlatLinearRing(e,t){const n=WW(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);if(n)return n}readLinearRing(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new iI(n,"XYZ")}readPolygon(e,t){const n=WW([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this);if(n&&n[0]){const e=n[0],t=[e.length];let r,i;for(r=1,i=n.length;r<i;++r)Jt(e,n[r]),t.push(e.length);return new mI(e,"XYZ",t)}}readFlatCoordinatesFromNode(e,t){return WW(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}readGeometryFromNode(e,t){const n=this.readGeometryElement(e,[this.getReadOptions(e,t||{})]);return n||null}readFeaturesFromNode(e,t){const n={featureType:this.featureType,featureNS:this.featureNS};n&&Object.assign(n,this.getReadOptions(e,t));return this.readFeaturesInternal(e,[n])||[]}readProjectionFromNode(e){return pR(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))}}hZ.prototype.namespace=cZ,hZ.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},hZ.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},hZ.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},hZ.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:PW(hZ.prototype.pointMemberParser),pointMembers:PW(hZ.prototype.pointMemberParser)}},hZ.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:PW(hZ.prototype.lineStringMemberParser),lineStringMembers:PW(hZ.prototype.lineStringMemberParser)}},hZ.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:PW(hZ.prototype.polygonMemberParser),polygonMembers:PW(hZ.prototype.polygonMemberParser)}},hZ.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:PW(hZ.prototype.readFlatCoordinatesFromNode)}},hZ.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:PW(hZ.prototype.readLineString)}},hZ.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:PW(hZ.prototype.readPolygon)}},hZ.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:RW(hZ.prototype.readFlatLinearRing)}};const dZ=hZ,fZ=cZ+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",pZ={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class mZ extends dZ{constructor(e){super(e=e||{}),this.FEATURE_COLLECTION_PARSERS[cZ].featureMember=PW(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:fZ}readFlatCoordinates(e,t){const n=CW(e,!1).replace(/^\s*|\s*$/g,""),r=t[0].srsName;let i="enu";if(r){const e=pR(r);e&&(i=e.getAxisOrientation())}const o=n.trim().split(/\s+/),s=[];for(let e=0,t=o.length;e<t;e++){const t=o[e].split(/,+/),n=parseFloat(t[0]),r=parseFloat(t[1]),a=3===t.length?parseFloat(t[2]):0;i.startsWith("en")?s.push(n,r,a):s.push(r,n,a)}return s}readBox(e,t){const n=WW([null],this.BOX_PARSERS_,e,t,this);return eP(n[1][0],n[1][1],n[1][3],n[1][4])}innerBoundaryIsParser(e,t){const n=WW(void 0,this.RING_PARSERS,e,t,this);if(n){t[t.length-1].push(n)}}outerBoundaryIsParser(e,t){const n=WW(void 0,this.RING_PARSERS,e,t,this);if(n){t[t.length-1][0]=n}}GEOMETRY_NODE_FACTORY_(e,t,n){const r=t[t.length-1],i=r.multiSurface,o=r.surface,s=r.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===o?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve"),LW("http://www.opengis.net/gml",n)}writeFeatureElement(e,t,n){const r=t.getId();r&&e.setAttribute("fid",r);const i=n[n.length-1],o=i.featureNS,s=t.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const a=[],l=[];if(t.hasProperties()){const e=t.getProperties();for(const t in e){const n=e[t];null!=n&&(a.push(t),l.push(n),t==s||"function"==typeof n.getSimplifiedGeometry?t in i.serializers[o]||(i.serializers[o][t]=FW(this.writeGeometryElement,this)):t in i.serializers[o]||(i.serializers[o][t]=FW(cG)))}}const c=Object.assign({},i);c.node=e,qW(c,i.serializers,YW(void 0,o),l,n,a)}writeCurveOrLineString(e,t,n){const r=n[n.length-1].srsName;if("LineStringSegment"!==e.nodeName&&r&&e.setAttribute("srsName",r),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){const r=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(r),this.writeCoordinates_(r,t,n)}else if("Curve"===e.nodeName){const r=LW(e.namespaceURI,"segments");e.appendChild(r),this.writeCurveSegments_(r,t,n)}}writeLineStringOrCurveMember(e,t,n){const r=this.GEOMETRY_NODE_FACTORY_(t,n);r&&(e.appendChild(r),this.writeCurveOrLineString(r,t,n))}writeMultiCurveOrLineString(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.curve;o&&e.setAttribute("srsName",o);const a=t.getLineStrings();qW({node:e,hasZ:i,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeGeometryElement(e,t,n){const r=n[n.length-1],i=Object.assign({},r);let o;i.node=e,o=Array.isArray(t)?nW(t,r):tW(t,!0,r),qW(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],n,void 0,this)}createCoordinatesNode_(e){const t=LW(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}writeCoordinates_(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=t.getCoordinates(),a=s.length,l=new Array(a);for(let e=0;e<a;++e){const t=s[e];l[e]=this.getCoords_(t,o,i)}cG(e,l.join(" "))}writeCurveSegments_(e,t,n){const r=LW(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString(r,t,n)}writeSurfaceOrPolygon(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;if("PolygonPatch"!==e.nodeName&&o&&e.setAttribute("srsName",o),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){const r=t.getLinearRings();qW({node:e,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,r,n,void 0,this)}else if("Surface"===e.nodeName){const r=LW(e.namespaceURI,"patches");e.appendChild(r),this.writeSurfacePatches_(r,t,n)}}RING_NODE_FACTORY_(e,t,n){const r=t[t.length-1],i=r.node,o=r.exteriorWritten;return void 0===o&&(r.exteriorWritten=!0),LW(i.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,t,n){const r=LW(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon(r,t,n)}writeRing(e,t,n){const r=LW(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing(r,t,n)}getCoords_(e,t,n){let r=(t?pR(t).getAxisOrientation():"enu").startsWith("en")?e[0]+","+e[1]:e[1]+","+e[0];if(n){r+=","+(e[2]||0)}return r}writePoint(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;o&&e.setAttribute("srsName",o);const s=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(s);const a=t.getCoordinates();cG(s,this.getCoords_(a,o,i))}writeMultiPoint(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;o&&e.setAttribute("srsName",o);const s=t.getPoints();qW({node:e,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS,YW("pointMember"),s,n,void 0,this)}writePointMember(e,t,n){const r=LW(e.namespaceURI,"Point");e.appendChild(r),this.writePoint(r,t,n)}writeLinearRing(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(i),this.writeCoordinates_(i,t,n)}writeMultiSurfaceOrPolygon(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.surface;o&&e.setAttribute("srsName",o);const a=t.getPolygons();qW({node:e,hasZ:i,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeSurfaceOrPolygonMember(e,t,n){const r=this.GEOMETRY_NODE_FACTORY_(t,n);r&&(e.appendChild(r),this.writeSurfaceOrPolygon(r,t,n))}writeEnvelope(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=[t[0]+" "+t[1],t[2]+" "+t[3]];qW({node:e},this.ENVELOPE_SERIALIZERS,jW,i,n,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const r=t[t.length-1].node;return LW("http://www.opengis.net/gml",pZ[r.nodeName])}}mZ.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:RW(mZ.prototype.readFlatCoordinates)}},mZ.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:mZ.prototype.innerBoundaryIsParser,outerBoundaryIs:mZ.prototype.outerBoundaryIsParser}},mZ.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:PW(mZ.prototype.readFlatCoordinates)}},mZ.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:RW(dZ.prototype.readPoint),MultiPoint:RW(dZ.prototype.readMultiPoint),LineString:RW(dZ.prototype.readLineString),MultiLineString:RW(dZ.prototype.readMultiLineString),LinearRing:RW(dZ.prototype.readLinearRing),Polygon:RW(dZ.prototype.readPolygon),MultiPolygon:RW(dZ.prototype.readMultiPolygon),Box:RW(mZ.prototype.readBox)}},mZ.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:FW(mZ.prototype.writeCurveOrLineString),MultiCurve:FW(mZ.prototype.writeMultiCurveOrLineString),Point:FW(mZ.prototype.writePoint),MultiPoint:FW(mZ.prototype.writeMultiPoint),LineString:FW(mZ.prototype.writeCurveOrLineString),MultiLineString:FW(mZ.prototype.writeMultiCurveOrLineString),LinearRing:FW(mZ.prototype.writeLinearRing),Polygon:FW(mZ.prototype.writeSurfaceOrPolygon),MultiPolygon:FW(mZ.prototype.writeMultiSurfaceOrPolygon),Surface:FW(mZ.prototype.writeSurfaceOrPolygon),MultiSurface:FW(mZ.prototype.writeMultiSurfaceOrPolygon),Envelope:FW(mZ.prototype.writeEnvelope)}},mZ.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:FW(mZ.prototype.writeLineStringOrCurveMember),curveMember:FW(mZ.prototype.writeLineStringOrCurveMember)}},mZ.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:FW(mZ.prototype.writeRing),innerBoundaryIs:FW(mZ.prototype.writeRing)}},mZ.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:FW(mZ.prototype.writePointMember)}},mZ.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:FW(mZ.prototype.writeSurfaceOrPolygonMember),polygonMember:FW(mZ.prototype.writeSurfaceOrPolygonMember)}},mZ.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:FW(cG),upperCorner:FW(cG)}};const gZ=mZ,_Z=cZ+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",yZ={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class bZ extends dZ{constructor(e){super(e=e||{}),this.surface_=void 0!==e.surface&&e.surface,this.curve_=void 0!==e.curve&&e.curve,this.multiCurve_=void 0===e.multiCurve||e.multiCurve,this.multiSurface_=void 0===e.multiSurface||e.multiSurface,this.schemaLocation=e.schemaLocation?e.schemaLocation:_Z,this.hasZ=void 0!==e.hasZ&&e.hasZ}readMultiCurve(e,t){const n=WW([],this.MULTICURVE_PARSERS,e,t,this);if(n){return new aj(n)}}readFlatCurveRing(e,t){const n=WW([],this.MULTICURVE_PARSERS,e,t,this),r=[];for(let e=0,t=n.length;e<t;++e)Jt(r,n[e].getFlatCoordinates());return r}readMultiSurface(e,t){const n=WW([],this.MULTISURFACE_PARSERS,e,t,this);if(n)return new dj(n)}curveMemberParser(e,t){UW(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){UW(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return WW([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return WW([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return WW([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return WW([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){const n=WW(void 0,this.RING_PARSERS,e,t,this);if(n){t[t.length-1].push(n)}}exteriorParser(e,t){const n=WW(void 0,this.RING_PARSERS,e,t,this);if(n){t[t.length-1][0]=n}}readSurface(e,t){const n=WW([null],this.SURFACE_PARSERS,e,t,this);if(n&&n[0]){const e=n[0],t=[e.length];let r,i;for(r=1,i=n.length;r<i;++r)Jt(e,n[r]),t.push(e.length);return new mI(e,"XYZ",t)}}readCurve(e,t){const n=WW([null],this.CURVE_PARSERS,e,t,this);if(n){return new vO(n,"XYZ")}}readEnvelope(e,t){const n=WW([null],this.ENVELOPE_PARSERS,e,t,this);return eP(n[1][0],n[1][1],n[2][0],n[2][1])}readFlatPos(e,t){let n=CW(e,!1);const r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];let o;for(;o=r.exec(n);)i.push(parseFloat(o[1])),n=n.substr(o[0].length);if(""!==n)return;const s=t[0].srsName;if("neu"===(s?pR(s).getAxisOrientation():"enu"))for(let e=0,t=i.length;e<t;e+=3){const t=i[e],n=i[e+1];i[e]=n,i[e+1]=t}const a=i.length;return 2==a&&i.push(0),0!==a?i:void 0}readFlatPosList(e,t){const n=CW(e,!1).replace(/^\s*|\s*$/g,""),r=t[0],i=r.srsName,o=r.srsDimension,s=i?pR(i).getAxisOrientation():"enu",a=n.split(/\s+/);let l=2;e.getAttribute("srsDimension")?l=iG(e.getAttribute("srsDimension")):e.getAttribute("dimension")?l=iG(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?l=iG(e.parentNode.getAttribute("srsDimension")):o&&(l=iG(o));const c=s.startsWith("en");let u,h,d;const f=[];for(let e=0,t=a.length;e<t;e+=l)u=parseFloat(a[e]),h=parseFloat(a[e+1]),d=3===l?parseFloat(a[e+2]):0,c?f.push(u,h,d):f.push(h,u,d);return f}writePos_(e,t,n){const r=n[n.length-1],i=r.hasZ,o=i?"3":"2";e.setAttribute("srsDimension",o);const s=r.srsName,a=s?pR(s).getAxisOrientation():"enu",l=t.getCoordinates();let c=a.startsWith("en")?l[0]+" "+l[1]:l[1]+" "+l[0];if(i){c+=" "+(l[2]||0)}cG(e,c)}getCoords_(e,t,n){let r=(t?pR(t).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];if(n){r+=" "+(e[2]||0)}return r}writePosList_(e,t,n){const r=n[n.length-1],i=r.hasZ,o=i?"3":"2";e.setAttribute("srsDimension",o);const s=r.srsName,a=t.getCoordinates(),l=a.length,c=new Array(l);let u;for(let e=0;e<l;++e)u=a[e],c[e]=this.getCoords_(u,s,i);cG(e,c.join(" "))}writePoint(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=LW(e.namespaceURI,"pos");e.appendChild(i),this.writePos_(i,t,n)}writeEnvelope(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=[t[0]+" "+t[1],t[2]+" "+t[3]];qW({node:e},this.ENVELOPE_SERIALIZERS,jW,i,n,["lowerCorner","upperCorner"],this)}writeLinearRing(e,t,n){const r=n[n.length-1].srsName;r&&e.setAttribute("srsName",r);const i=LW(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,t,n)}RING_NODE_FACTORY_(e,t,n){const r=t[t.length-1],i=r.node,o=r.exteriorWritten;return void 0===o&&(r.exteriorWritten=!0),LW(i.namespaceURI,void 0!==o?"interior":"exterior")}writeSurfaceOrPolygon(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName;if("PolygonPatch"!==e.nodeName&&o&&e.setAttribute("srsName",o),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){const r=t.getLinearRings();qW({node:e,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,r,n,void 0,this)}else if("Surface"===e.nodeName){const r=LW(e.namespaceURI,"patches");e.appendChild(r),this.writeSurfacePatches_(r,t,n)}}writeCurveOrLineString(e,t,n){const r=n[n.length-1].srsName;if("LineStringSegment"!==e.nodeName&&r&&e.setAttribute("srsName",r),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){const r=LW(e.namespaceURI,"posList");e.appendChild(r),this.writePosList_(r,t,n)}else if("Curve"===e.nodeName){const r=LW(e.namespaceURI,"segments");e.appendChild(r),this.writeCurveSegments_(r,t,n)}}writeMultiSurfaceOrPolygon(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.surface;o&&e.setAttribute("srsName",o);const a=t.getPolygons();qW({node:e,hasZ:i,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeMultiPoint(e,t,n){const r=n[n.length-1],i=r.srsName,o=r.hasZ;i&&e.setAttribute("srsName",i);const s=t.getPoints();qW({node:e,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS,YW("pointMember"),s,n,void 0,this)}writeMultiCurveOrLineString(e,t,n){const r=n[n.length-1],i=r.hasZ,o=r.srsName,s=r.curve;o&&e.setAttribute("srsName",o);const a=t.getLineStrings();qW({node:e,hasZ:i,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeRing(e,t,n){const r=LW(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing(r,t,n)}writeSurfaceOrPolygonMember(e,t,n){const r=this.GEOMETRY_NODE_FACTORY_(t,n);r&&(e.appendChild(r),this.writeSurfaceOrPolygon(r,t,n))}writePointMember(e,t,n){const r=LW(e.namespaceURI,"Point");e.appendChild(r),this.writePoint(r,t,n)}writeLineStringOrCurveMember(e,t,n){const r=this.GEOMETRY_NODE_FACTORY_(t,n);r&&(e.appendChild(r),this.writeCurveOrLineString(r,t,n))}writeSurfacePatches_(e,t,n){const r=LW(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon(r,t,n)}writeCurveSegments_(e,t,n){const r=LW(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString(r,t,n)}writeGeometryElement(e,t,n){const r=n[n.length-1],i=Object.assign({},r);let o;i.node=e,o=Array.isArray(t)?nW(t,r):tW(t,!0,r),qW(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],n,void 0,this)}writeFeatureElement(e,t,n){const r=t.getId();r&&e.setAttribute("fid",r);const i=n[n.length-1],o=i.featureNS,s=t.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const a=[],l=[];if(t.hasProperties()){const e=t.getProperties();for(const t in e){const n=e[t];null!=n&&(a.push(t),l.push(n),t==s||"function"==typeof n.getSimplifiedGeometry?t in i.serializers[o]||(i.serializers[o][t]=FW(this.writeGeometryElement,this)):t in i.serializers[o]||(i.serializers[o][t]=FW(cG)))}}const c=Object.assign({},i);c.node=e,qW(c,i.serializers,YW(void 0,o),l,n,a)}writeFeatureMembers_(e,t,n){const r=n[n.length-1],i=r.featureType,o=r.featureNS,s={};s[o]={},s[o][i]=FW(this.writeFeatureElement,this);const a=Object.assign({},r);a.node=e,qW(a,s,YW(i,o),t,n)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const r=t[t.length-1].node;return LW(this.namespace,yZ[r.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,n){const r=t[t.length-1],i=r.multiSurface,o=r.surface,s=r.curve,a=r.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===o?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===a&&(n="MultiCurve"),LW(this.namespace,n)}writeGeometryNode(e,t){t=this.adaptOptions(t);const n=LW(this.namespace,"geom"),r={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(r,t),this.writeGeometryElement(n,e,[r]),n}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=LW(this.namespace,"featureMembers");n.setAttributeNS(TW,"xsi:schemaLocation",this.schemaLocation);const r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(r,t),this.writeFeatureMembers_(n,e,[r]),n}}bZ.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:RW(bZ.prototype.readFlatPos),posList:RW(bZ.prototype.readFlatPosList),coordinates:RW(gZ.prototype.readFlatCoordinates)}},bZ.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:bZ.prototype.interiorParser,exterior:bZ.prototype.exteriorParser}},bZ.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:RW(dZ.prototype.readPoint),MultiPoint:RW(dZ.prototype.readMultiPoint),LineString:RW(dZ.prototype.readLineString),MultiLineString:RW(dZ.prototype.readMultiLineString),LinearRing:RW(dZ.prototype.readLinearRing),Polygon:RW(dZ.prototype.readPolygon),MultiPolygon:RW(dZ.prototype.readMultiPolygon),Surface:RW(bZ.prototype.readSurface),MultiSurface:RW(bZ.prototype.readMultiSurface),Curve:RW(bZ.prototype.readCurve),MultiCurve:RW(bZ.prototype.readMultiCurve),Envelope:RW(bZ.prototype.readEnvelope)}},bZ.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:PW(bZ.prototype.curveMemberParser),curveMembers:PW(bZ.prototype.curveMemberParser)}},bZ.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:PW(bZ.prototype.surfaceMemberParser),surfaceMembers:PW(bZ.prototype.surfaceMemberParser)}},bZ.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:PW(dZ.prototype.readLineString),Curve:PW(bZ.prototype.readCurve)}},bZ.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:PW(dZ.prototype.readPolygon),Surface:PW(bZ.prototype.readSurface)}},bZ.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:RW(bZ.prototype.readPatch)}},bZ.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:RW(bZ.prototype.readSegment)}},bZ.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:PW(bZ.prototype.readFlatPosList),upperCorner:PW(bZ.prototype.readFlatPosList)}},bZ.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:RW(bZ.prototype.readPolygonPatch)}},bZ.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:$W(bZ.prototype.readLineStringSegment)}},dZ.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:RW(dZ.prototype.readFlatLinearRing),Ring:RW(bZ.prototype.readFlatCurveRing)}},bZ.prototype.writeFeatures,bZ.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:FW(bZ.prototype.writeRing),interior:FW(bZ.prototype.writeRing)}},bZ.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:FW(cG),upperCorner:FW(cG)}},bZ.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:FW(bZ.prototype.writeSurfaceOrPolygonMember),polygonMember:FW(bZ.prototype.writeSurfaceOrPolygonMember)}},bZ.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:FW(bZ.prototype.writePointMember)}},bZ.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:FW(bZ.prototype.writeLineStringOrCurveMember),curveMember:FW(bZ.prototype.writeLineStringOrCurveMember)}},bZ.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:FW(bZ.prototype.writeCurveOrLineString),MultiCurve:FW(bZ.prototype.writeMultiCurveOrLineString),Point:FW(bZ.prototype.writePoint),MultiPoint:FW(bZ.prototype.writeMultiPoint),LineString:FW(bZ.prototype.writeCurveOrLineString),MultiLineString:FW(bZ.prototype.writeMultiCurveOrLineString),LinearRing:FW(bZ.prototype.writeLinearRing),Polygon:FW(bZ.prototype.writeSurfaceOrPolygon),MultiPolygon:FW(bZ.prototype.writeMultiSurfaceOrPolygon),Surface:FW(bZ.prototype.writeSurfaceOrPolygon),MultiSurface:FW(bZ.prototype.writeMultiSurfaceOrPolygon),Envelope:FW(bZ.prototype.writeEnvelope)}};const vZ=bZ;class wZ extends vZ{constructor(e){super(e=e||{}),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(e,t,n){const r=n[n.length-1];n[n.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},r),super.writeGeometryElement(e,t,n)}}wZ.prototype.namespace="http://www.opengis.net/gml/3.2",wZ.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:RW(vZ.prototype.readFlatPos),posList:RW(vZ.prototype.readFlatPosList),coordinates:RW(gZ.prototype.readFlatCoordinates)}},wZ.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:vZ.prototype.interiorParser,exterior:vZ.prototype.exteriorParser}},wZ.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:RW(dZ.prototype.readPoint),MultiPoint:RW(dZ.prototype.readMultiPoint),LineString:RW(dZ.prototype.readLineString),MultiLineString:RW(dZ.prototype.readMultiLineString),LinearRing:RW(dZ.prototype.readLinearRing),Polygon:RW(dZ.prototype.readPolygon),MultiPolygon:RW(dZ.prototype.readMultiPolygon),Surface:RW(wZ.prototype.readSurface),MultiSurface:RW(vZ.prototype.readMultiSurface),Curve:RW(wZ.prototype.readCurve),MultiCurve:RW(vZ.prototype.readMultiCurve),Envelope:RW(wZ.prototype.readEnvelope)}},wZ.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:PW(vZ.prototype.curveMemberParser),curveMembers:PW(vZ.prototype.curveMemberParser)}},wZ.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:PW(vZ.prototype.surfaceMemberParser),surfaceMembers:PW(vZ.prototype.surfaceMemberParser)}},wZ.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:PW(dZ.prototype.readLineString),Curve:PW(vZ.prototype.readCurve)}},wZ.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:PW(dZ.prototype.readPolygon),Surface:PW(vZ.prototype.readSurface)}},wZ.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:RW(vZ.prototype.readPatch)}},wZ.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:RW(vZ.prototype.readSegment)}},wZ.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:PW(vZ.prototype.readFlatPosList),upperCorner:PW(vZ.prototype.readFlatPosList)}},wZ.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:RW(vZ.prototype.readPolygonPatch)}},wZ.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:$W(vZ.prototype.readLineStringSegment)}},wZ.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:PW(dZ.prototype.pointMemberParser),pointMembers:PW(dZ.prototype.pointMemberParser)}},wZ.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:PW(dZ.prototype.lineStringMemberParser),lineStringMembers:PW(dZ.prototype.lineStringMemberParser)}},wZ.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:PW(dZ.prototype.polygonMemberParser),polygonMembers:PW(dZ.prototype.polygonMemberParser)}},wZ.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:PW(dZ.prototype.readFlatCoordinatesFromNode)}},wZ.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:PW(dZ.prototype.readLineString)}},wZ.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:PW(dZ.prototype.readPolygon)}},wZ.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:RW(dZ.prototype.readFlatLinearRing),Ring:RW(wZ.prototype.readFlatCurveRing)}},wZ.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:FW(vZ.prototype.writeRing),interior:FW(vZ.prototype.writeRing)}},wZ.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:FW(cG),upperCorner:FW(cG)}},wZ.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:FW(vZ.prototype.writeSurfaceOrPolygonMember),polygonMember:FW(vZ.prototype.writeSurfaceOrPolygonMember)}},wZ.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:FW(vZ.prototype.writePointMember)}},wZ.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:FW(vZ.prototype.writeLineStringOrCurveMember),curveMember:FW(vZ.prototype.writeLineStringOrCurveMember)}},wZ.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:FW(vZ.prototype.writeCurveOrLineString),MultiCurve:FW(vZ.prototype.writeMultiCurveOrLineString),Point:FW(wZ.prototype.writePoint),MultiPoint:FW(vZ.prototype.writeMultiPoint),LineString:FW(vZ.prototype.writeCurveOrLineString),MultiLineString:FW(vZ.prototype.writeMultiCurveOrLineString),LinearRing:FW(vZ.prototype.writeLinearRing),Polygon:FW(vZ.prototype.writeSurfaceOrPolygon),MultiPolygon:FW(vZ.prototype.writeMultiSurfaceOrPolygon),Surface:FW(vZ.prototype.writeSurfaceOrPolygon),MultiSurface:FW(vZ.prototype.writeMultiSurfaceOrPolygon),Envelope:FW(vZ.prototype.writeEnvelope)}};const xZ=wZ;const MZ=class{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}};const SZ=class extends MZ{constructor(e,t){super(e),this.conditions=t,_r(this.conditions.length>=2,"At least 2 conditions are required")}};const kZ=class extends SZ{constructor(e){super("And",Array.prototype.slice.call(arguments))}};const TZ=class extends MZ{constructor(e,t,n){if(super("BBOX"),this.geometryName=e,this.extent=t,4!==t.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=n}};const LZ=class extends MZ{constructor(e,t,n,r){super(e),this.geometryName=t||"the_geom",this.geometry=n,this.srsName=r}};const CZ=class extends LZ{constructor(e,t,n){super("Contains",e,t,n)}};const EZ=class extends MZ{constructor(e,t){super(e),this.propertyName=t}};const DZ=class extends EZ{constructor(e,t,n){super("During",e),this.begin=t,this.end=n}};const AZ=class extends EZ{constructor(e,t,n,r){super(e,t),this.expression=n,this.matchCase=r}};const $Z=class extends AZ{constructor(e,t,n){super("PropertyIsEqualTo",e,t,n)}};const PZ=class extends AZ{constructor(e,t){super("PropertyIsGreaterThan",e,t)}};const RZ=class extends AZ{constructor(e,t){super("PropertyIsGreaterThanOrEqualTo",e,t)}};const OZ=class extends LZ{constructor(e,t,n){super("Intersects",e,t,n)}};const IZ=class extends EZ{constructor(e,t,n){super("PropertyIsBetween",e),this.lowerBoundary=t,this.upperBoundary=n}};const FZ=class extends EZ{constructor(e,t,n,r,i,o){super("PropertyIsLike",e),this.pattern=t,this.wildCard=void 0!==n?n:"*",this.singleChar=void 0!==r?r:".",this.escapeChar=void 0!==i?i:"!",this.matchCase=o}};const NZ=class extends AZ{constructor(e,t){super("PropertyIsLessThan",e,t)}};const YZ=class extends AZ{constructor(e,t){super("PropertyIsLessThanOrEqualTo",e,t)}};const jZ=class extends MZ{constructor(e){super("Not"),this.condition=e}};const HZ=class extends AZ{constructor(e,t,n){super("PropertyIsNotEqualTo",e,t,n)}};const zZ=class extends SZ{constructor(e){super("Or",Array.prototype.slice.call(arguments))}};const UZ=class extends LZ{constructor(e,t,n){super("Within",e,t,n)}};function WZ(e){const t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(kZ,t))}function GZ(e){const t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(zZ,t))}function qZ(e,t,n){return new OZ(e,t,n)}function BZ(e,t,n){return new $Z(e,t,n)}function VZ(e,t,n){return new DZ(e,t,n)}const XZ={"http://www.opengis.net/gml":{boundedBy:IW(dZ.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:PW(dZ.prototype.readFeaturesInternal)}},KZ={"http://www.opengis.net/wfs":{totalInserted:IW(rG),totalUpdated:IW(rG),totalDeleted:IW(rG)},"http://www.opengis.net/wfs/2.0":{totalInserted:IW(rG),totalUpdated:IW(rG),totalDeleted:IW(rG)}},JZ={"http://www.opengis.net/wfs":{TransactionSummary:IW(lQ,"transactionSummary"),InsertResults:IW(dQ,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:IW(lQ,"transactionSummary"),InsertResults:IW(dQ,"insertIds")}},ZZ={"http://www.opengis.net/wfs":{PropertyName:FW(cG)},"http://www.opengis.net/wfs/2.0":{PropertyName:FW(cG)}},QZ={"http://www.opengis.net/wfs":{Insert:FW(fQ),Update:FW(_Q),Delete:FW(gQ),Property:FW(yQ),Native:FW(bQ)},"http://www.opengis.net/wfs/2.0":{Insert:FW(fQ),Update:FW(_Q),Delete:FW(gQ),Property:FW(yQ),Native:FW(bQ)}},eQ="feature",tQ="http://www.w3.org/2000/xmlns/",nQ={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},rQ={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},iQ={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},oQ={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},sQ={"2.0.0":xZ,"1.1.0":vZ,"1.0.0":gZ};function aQ(e,t,n,r){qW(r,QZ,YW(e),t,n)}function lQ(e,t){return WW({},KZ,e,t)}const cQ={"http://www.opengis.net/ogc":{FeatureId:PW((function(e,t){return e.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:PW((function(e,t){return e.getAttribute("fid")}))}};function uQ(e,t){UW(cQ,e,t)}const hQ={"http://www.opengis.net/wfs":{Feature:uQ},"http://www.opengis.net/wfs/2.0":{Feature:uQ}};function dQ(e,t){return WW([],hQ,e,t)}function fQ(e,t,n){const r=n[n.length-1],i=r.featureType,o=r.featureNS,s=r.gmlVersion,a=LW(o,i);e.appendChild(a),2===s?gZ.prototype.writeFeatureElement(a,t,n):3===s?vZ.prototype.writeFeatureElement(a,t,n):xZ.prototype.writeFeatureElement(a,t,n)}function pQ(e,t,n){const r=n[n.length-1].version,i=nQ[r],o=LW(i,"Filter"),s=LW(i,"FeatureId");o.appendChild(s),s.setAttribute("fid",t),e.appendChild(o)}function mQ(e,t){const n=(e=e||eQ)+":";return t.startsWith(n)?t:n+t}function gQ(e,t,n){const r=n[n.length-1];_r(void 0!==t.getId(),"Features must have an id set");const i=r.featureType,o=r.featurePrefix,s=r.featureNS,a=mQ(o,i);e.setAttribute("typeName",a),e.setAttributeNS(tQ,"xmlns:"+o,s);const l=t.getId();void 0!==l&&pQ(e,l,n)}function _Q(e,t,n){const r=n[n.length-1];_r(void 0!==t.getId(),"Features must have an id set");const i=r.version,o=r.featureType,s=r.featurePrefix,a=r.featureNS,l=mQ(s,o),c=t.getGeometryName();e.setAttribute("typeName",l),e.setAttributeNS(tQ,"xmlns:"+s,a);const u=t.getId();if(void 0!==u){const o=t.getKeys(),s=[];for(let e=0,n=o.length;e<n;e++){const n=t.get(o[e]);if(void 0!==n){let t=o[e];n&&"function"==typeof n.getSimplifiedGeometry&&(t=c),s.push({name:t,value:n})}}qW({version:i,gmlVersion:r.gmlVersion,node:e,hasZ:r.hasZ,srsName:r.srsName},QZ,YW("Property"),s,n),pQ(e,u,n)}}function yQ(e,t,n){const r=n[n.length-1],i=r.version,o=rQ[i],s=LW(o,"2.0.0"===i?"ValueReference":"Name"),a=r.gmlVersion;if(e.appendChild(s),cG(s,t.name),void 0!==t.value&&null!==t.value){const r=LW(o,"Value");e.appendChild(r),t.value&&"function"==typeof t.value.getSimplifiedGeometry?2===a?gZ.prototype.writeGeometryElement(r,t.value,n):3===a?vZ.prototype.writeGeometryElement(r,t.value,n):xZ.prototype.writeGeometryElement(r,t.value,n):cG(r,t.value)}}function bQ(e,t,n){t.vendorId&&e.setAttribute("vendorId",t.vendorId),void 0!==t.safeToIgnore&&e.setAttribute("safeToIgnore",String(t.safeToIgnore)),void 0!==t.value&&cG(e,t.value)}const vQ={"http://www.opengis.net/wfs":{Query:FW(wQ)},"http://www.opengis.net/wfs/2.0":{Query:FW(wQ)},"http://www.opengis.net/ogc":{During:FW(TQ),And:FW(LQ),Or:FW(LQ),Not:FW(CQ),BBOX:FW(MQ),Contains:FW(SQ),Intersects:FW(SQ),Within:FW(SQ),DWithin:FW(kQ),PropertyIsEqualTo:FW(EQ),PropertyIsNotEqualTo:FW(EQ),PropertyIsLessThan:FW(EQ),PropertyIsLessThanOrEqualTo:FW(EQ),PropertyIsGreaterThan:FW(EQ),PropertyIsGreaterThanOrEqualTo:FW(EQ),PropertyIsNull:FW(DQ),PropertyIsBetween:FW(AQ),PropertyIsLike:FW($Q)},"http://www.opengis.net/fes/2.0":{During:FW(TQ),And:FW(LQ),Or:FW(LQ),Not:FW(CQ),BBOX:FW(MQ),Contains:FW(SQ),Disjoint:FW(SQ),Intersects:FW(SQ),ResourceId:FW((function(e,t,n){e.setAttribute("rid",t.rid)})),Within:FW(SQ),DWithin:FW(kQ),PropertyIsEqualTo:FW(EQ),PropertyIsNotEqualTo:FW(EQ),PropertyIsLessThan:FW(EQ),PropertyIsLessThanOrEqualTo:FW(EQ),PropertyIsGreaterThan:FW(EQ),PropertyIsGreaterThanOrEqualTo:FW(EQ),PropertyIsNull:FW(DQ),PropertyIsBetween:FW(AQ),PropertyIsLike:FW($Q)}};function wQ(e,t,n){const r=n[n.length-1],i=r.version,o=r.featurePrefix,s=r.featureNS,a=r.propertyNames,l=r.srsName;let c,u;c=o?mQ(o,t):t,u="2.0.0"===i?"typeNames":"typeName",e.setAttribute(u,c),l&&e.setAttribute("srsName",l),s&&e.setAttributeNS(tQ,"xmlns:"+o,s);const h=Object.assign({},r);h.node=e,qW(h,ZZ,YW("PropertyName"),a,n);const d=r.filter;if(d){const t=LW(NQ(i),"Filter");e.appendChild(t),xQ(t,d,n)}}function xQ(e,t,n){const r=n[n.length-1],i={node:e};Object.assign(i,{context:r}),qW(i,vQ,YW(t.getTagName()),[t],n)}function MQ(e,t,n){const r=n[n.length-1],i=r.context.version;r.srsName=t.srsName;const o=sQ[i];OQ(i,e,t.geometryName),o.prototype.writeGeometryElement(e,t.extent,n)}function SQ(e,t,n){const r=n[n.length-1],i=r.context.version;r.srsName=t.srsName;const o=sQ[i];OQ(i,e,t.geometryName),o.prototype.writeGeometryElement(e,t.geometry,n)}function kQ(e,t,n){const r=n[n.length-1].context.version;SQ(e,t,n);const i=LW(NQ(r),"Distance");cG(i,t.distance.toString()),"2.0.0"===r?i.setAttribute("uom",t.unit):i.setAttribute("units",t.unit),e.appendChild(i)}function TQ(e,t,n){const r=n[n.length-1].context.version;PQ(iQ[r],"ValueReference",e,t.propertyName);const i=LW(cZ,"TimePeriod");e.appendChild(i);const o=LW(cZ,"begin");i.appendChild(o),IQ(o,t.begin);const s=LW(cZ,"end");i.appendChild(s),IQ(s,t.end)}function LQ(e,t,n){const r=n[n.length-1].context,i={node:e};Object.assign(i,{context:r});const o=t.conditions;for(let e=0,t=o.length;e<t;++e){const t=o[e];qW(i,vQ,YW(t.getTagName()),[t],n)}}function CQ(e,t,n){const r=n[n.length-1].context,i={node:e};Object.assign(i,{context:r});const o=t.condition;qW(i,vQ,YW(o.getTagName()),[o],n)}function EQ(e,t,n){const r=n[n.length-1].context.version;void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),OQ(r,e,t.propertyName),RQ(r,e,""+t.expression)}function DQ(e,t,n){OQ(n[n.length-1].context.version,e,t.propertyName)}function AQ(e,t,n){const r=n[n.length-1].context.version,i=NQ(r);OQ(r,e,t.propertyName);const o=LW(i,"LowerBoundary");e.appendChild(o),RQ(r,o,""+t.lowerBoundary);const s=LW(i,"UpperBoundary");e.appendChild(s),RQ(r,s,""+t.upperBoundary)}function $Q(e,t,n){const r=n[n.length-1].context.version;e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),OQ(r,e,t.propertyName),RQ(r,e,""+t.pattern)}function PQ(e,t,n,r){const i=LW(e,t);cG(i,r),n.appendChild(i)}function RQ(e,t,n){PQ(NQ(e),"Literal",t,n)}function OQ(e,t,n){"2.0.0"===e?PQ(iQ[e],"ValueReference",t,n):PQ(nQ[e],"PropertyName",t,n)}function IQ(e,t){const n=LW(cZ,"TimeInstant");e.appendChild(n);const r=LW(cZ,"timePosition");n.appendChild(r),cG(r,t)}function FQ(e,t,n){const r=n[n.length-1],i=Object.assign({},r);i.node=e,qW(i,vQ,YW("Query"),t,n)}function NQ(e){let t;return t="2.0.0"===e?iQ[e]:nQ[e],t}const YQ=class extends lZ{constructor(e){super(),e=e||{},this.version_=e.version?e.version:"1.1.0",this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new sQ[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:oQ[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,t){const n={node:e};Object.assign(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(n,this.getReadOptions(e,t||{}));const r=[n];let i;i="2.0.0"===this.version_?XZ:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let o=WW([],i,e,r,this.gmlFormat_);return o||(o=[]),o}readTransactionResponse(e){if(e){if("string"==typeof e){const t=AW(e);return this.readTransactionResponseFromDocument(t)}return DW(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if("string"==typeof e){const t=AW(e);return this.readFeatureCollectionMetadataFromDocument(t)}return DW(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)}readFeatureCollectionMetadataFromNode(e){const t={},n=iG(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=n,WW(t,XZ,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)}readTransactionResponseFromNode(e){return WW({},JZ,e,[])}writeGetFeature(e){const t=LW(rQ[this.version_],"GetFeature");t.setAttribute("service","WFS"),t.setAttribute("version",this.version_),e.handle&&t.setAttribute("handle",e.handle),e.outputFormat&&t.setAttribute("outputFormat",e.outputFormat),void 0!==e.maxFeatures&&t.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&t.setAttribute("resultType",e.resultType),void 0!==e.startIndex&&t.setAttribute("startIndex",String(e.startIndex)),void 0!==e.count&&t.setAttribute("count",String(e.count)),void 0!==e.viewParams&&t.setAttribute("viewParams",e.viewParams),t.setAttributeNS(TW,"xsi:schemaLocation",this.schemaLocation_);const n={node:t};if(Object.assign(n,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),_r(Array.isArray(e.featureTypes),"`options.featureTypes` must be an Array"),"string"==typeof e.featureTypes[0]){let r=e.filter;e.bbox&&(_r(e.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),r=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,r)),Object.assign(n,{geometryName:e.geometryName,filter:r}),FQ(t,e.featureTypes,[n])}else e.featureTypes.forEach((r=>{const i=this.combineBboxAndFilter(r.geometryName,r.bbox,e.srsName,e.filter);Object.assign(n,{geometryName:r.geometryName,filter:i}),FQ(t,[r.name],[n])}));return t}combineBboxAndFilter(e,t,n,r){const i=function(e,t,n){return new TZ(e,t,n)}(e,t,n);return r?WZ(r,i):i}writeTransaction(e,t,n,r){const i=[],o=r.version?r.version:this.version_,s=LW(rQ[o],"Transaction");let a;s.setAttribute("service","WFS"),s.setAttribute("version",o),r&&(a=r.gmlOptions?r.gmlOptions:{},r.handle&&s.setAttribute("handle",r.handle)),s.setAttributeNS(TW,"xsi:schemaLocation",oQ[o]);const l=function(e,t,n,r){const i=r.featurePrefix?r.featurePrefix:eQ;let o;"1.0.0"===n?o=2:"1.1.0"===n?o=3:"2.0.0"===n&&(o=3.2);const s=Object.assign({node:e},{version:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:i,gmlVersion:o,hasZ:r.hasZ,srsName:r.srsName},t);return s}(s,a,o,r);return e&&aQ("Insert",e,i,l),t&&aQ("Update",t,i,l),n&&aQ("Delete",n,i,l),r.nativeElements&&aQ("Native",r.nativeElements,i,l),s}readProjectionFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(let t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){const e=[{}];return this.gmlFormat_.readGeometryElement(t,e),pR(e.pop().srsName)}return null}};const jQ=class extends lZ{constructor(e){super(),e=e||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new gZ,this.layers_=e.layers?e.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeatures_(e,t){e.setAttribute("namespaceURI",this.featureNS_);const n=e.localName;let r=[];if(0===e.childNodes.length)return r;if("msGMLOutput"==n)for(let n=0,i=e.childNodes.length;n<i;n++){const i=e.childNodes[n];if(i.nodeType!==Node.ELEMENT_NODE)continue;const o=i,s=t[0],a="_layer",l=o.localName.replace(a,"");if(this.layers_&&!this.layers_.includes(l))continue;const c=l+"_feature";s.featureType=c,s.featureNS=this.featureNS_;const u={};u[c]=PW(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const h=zW([s.featureNS,null],u);o.setAttribute("namespaceURI",this.featureNS_);const d=WW([],h,o,t,this.gmlFormat_);d&&Jt(r,d)}if("FeatureCollection"==n){const t=WW([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);t&&(r=t)}return r}readFeaturesFromNode(e,t){const n={};return t&&Object.assign(n,this.getReadOptions(e,t)),this.readFeatures_(e,[n])}},HQ="arcgis",zQ="mapserver",UQ="qgisserver",WQ="WMS",GQ="WMTS",qQ="feature",BQ="GML2",VQ="GML3",XQ="application/geojson",KQ="application/geo+json",JQ="application/vnd.ogc.gml",ZQ="geom";function QQ(e){let t;return t=/(wmts)/i.test(e)?GQ:WQ,t}const e0="range",t0="day",n0="month",r0="second",i0=class extends XJ{constructor(e){let t;super(e),this.dimensionsConfig=e.dimensionsConfig||null,this.dimensionsFiltersConfig=e.dimensionsFiltersConfig||null,this.filterCondition_=e.filterCondition||KJ,this.filterRules=e.filterRules||null,this.filtrable=e.filtrable||null,this.copyable_=!0===e.copyable,this.dimensions_=e.dimensions||null,this.geometryName_=ZQ,this.ogcImageType_=e.ogcImageType||"image/png",this.wmsLayers_=e.wmsLayers||null,this.wfsLayers_=e.wfsLayers||null,this.ogcServerType_=e.ogcServerType||zQ,this.ogcType_=e.ogcType||WQ,this.ogcAttributes_=e.ogcAttributes,this.queryIconPosition_=e.queryIconPosition,this.snappable_=!0===e.snappable,this.snappingToEdges_=!1!==e.snappingToEdges,this.snappingToVertice_=!1!==e.snappingToVertice,this.snappingTolerance_=void 0!==e.snappingTolerance?e.snappingTolerance:10,this.timeAttributeName_=e.timeAttributeName,this.timeLowerValue=e.timeLowerValue,this.timeProperty_=void 0!==e.timeProperty?e.timeProperty:null,this.timeUpperValue=e.timeUpperValue,this.wfsFeatureNS_=e.wfsFeatureNS,this.wfsFeaturePrefix_=e.wfsFeaturePrefix||qQ,this.wfsOutputFormat_=e.wfsOutputFormat||VQ,this.wfsUrl_=e.wfsUrl,t=e.wmsInfoFormat?e.wmsInfoFormat:this.ogcServerType_===HQ?XQ:JQ,this.wmsInfoFormat_=t,this.wmsIsSingleTile_=!0===e.wmsIsSingleTile,this.wmsUrl_=e.wmsUrl,this.wmtsLayer_=e.wmtsLayer,this.wmtsUrl_=e.wmtsUrl,this.gmfLayer_=e.gmfLayer;const n=[],r=[];if(this.queryable){const e=this.wfsLayers||[];for(const t of e)t.queryable&&(n.push(t.name),r.push(t.name));const t=this.wmsLayers||[];for(const e of t)e.queryable&&VJ(r,e.name)}let i=null;if(this.supportsWFS&&n.length){let e;if(this.wfsOutputFormat_===VQ)e=new vZ;else{if(this.wfsOutputFormat_!==BQ)throw new Error("Unknown GML output version");e=new gZ}i=new YQ({featureNS:this.wfsFeatureNS,featureType:n,gmlFormat:e})}this.wfsFormat_=i;let o=null;this.supportsWMS&&r.length&&(this.wmsInfoFormat===JQ?o=new jQ({layers:r}):this.wmsInfoFormat!==XQ&&this.wmsInfoFormat!==KQ||(o=new QJ({layers:r}))),this.wmsFormat_=o}get dimensions(){return this.dimensions_}get filterCondition(){return this.filterCondition_}set filterCondition(e){this.filterCondition_=e}get timeRangeValue(){let e=null;const t=this.timeLowerValue,n=this.timeUpperValue;return(t||0===t)&&(e={start:t},(n||0===n)&&(e.end=n)),e}set timeRangeValue(e){e?(this.timeUpperValue=e.end,this.timeLowerValue=e.start):(this.timeUpperValue=void 0,this.timeLowerValue=void 0)}setAttributes(e){super.setAttributes(e),this.updateGeometryNameFromAttributes_()}get copyable(){return this.copyable_}geometryName(e){let t=null;if(e&&this.ogcAttributes_){const n=this.ogcAttributes_[e];for(const e in n)if("http://www.opengis.net/gml"==n[e].namespace){t=e;break}}return t||(t=this.geometryName_),t}get ogcImageType(){return this.ogcImageType_}get wmsLayers(){return this.wmsLayers_}get wfsLayers(){return this.wfsLayers_}get ogcServerType(){return this.ogcServerType_}get ogcType(){return this.ogcType_}get queryIconPosition(){return this.queryIconPosition_}get snappable(){return this.snappable_}get snappingToEdges(){return this.snappingToEdges_}get snappingToVertice(){return this.snappingToVertice_}get snappingTolerance(){return this.snappingTolerance_}get timeAttributeName(){return this.timeAttributeName_}get timeProperty(){return this.timeProperty_}get wfsFeatureNS(){return this.wfsFeatureNS_}get wfsFeaturePrefix(){return this.wfsFeaturePrefix_}get wfsOutputFormat(){return this.wfsOutputFormat_}get wfsUrl(){return this.wfsUrl_}get wmsInfoFormat(){return this.wmsInfoFormat_}get wmsIsSingleTile(){return this.wmsIsSingleTile_}get wmsUrl(){return this.wmsUrl_}get wmtsLayer(){return this.wmtsLayer_}get wmtsUrl(){return this.wmtsUrl_}get gmfLayer(){return this.gmfLayer_}get activeDimensions(){const e={},t=this.dimensions_||{},n=this.dimensionsConfig||{};for(const r in n){const i=n[r];if(null===i){const n=t[r];null!=n&&(e[r]=n)}else e[r]=i}return e}get combinableForWFS(){return null===this.filterRules&&null===this.timeRangeValue}get combinableForWMS(){return null===this.filterRules&&null===this.timeRangeValue}get ogcAttributesWFS(){const e=[];for(const t of this.wfsLayers_)t.queryable&&e.push(t.name);return this.getCommonOGCAttributes_(e)}get ogcAttributesWMS(){const e=[];for(const t of this.wmsLayers_)t.queryable&&e.push(t.name);return this.getCommonOGCAttributes_(e)}get queryable(){let e=!1;if(this.supportsWFS&&this.wfsLayers)for(const t of this.wfsLayers)if(!0===t.queryable){e=!0;break}return this.supportsWMS&&this.wmsLayers&&this.wmsLayers.length>0&&(e=!0),e}get supportsWFS(){return void 0!==this.wfsUrl}get supportsAttributes(){return null!==this.attributes||this.supportsWFS&&null!==this.wfsLayers&&1===this.wfsLayers.length&&!0===this.wfsLayers[0].queryable}get supportsWMS(){return void 0!==this.wmsUrl}get supportsWMTS(){return void 0!==this.wmtsUrl}get wfsFormat(){return this.wfsFormat_}get wmsFormat(){return this.wmsFormat_}combinableWithDataSourceForWFS(e){return this.combinableForWFS&&e.combinableForWFS&&this.supportsWFS&&e.supportsWFS&&this.queryable&&e.queryable&&this.wfsUrl===e.wfsUrl&&this.haveTheSameActiveDimensions(e)&&this.haveTheSameActiveDimensionsFilters(e)}combinableWithDataSourceForWMS(e){return this.combinableForWMS&&e.combinableForWMS&&this.supportsWMS&&e.supportsWMS&&this.queryable&&e.queryable&&this.wmsUrl===e.wmsUrl&&this.haveTheSameActiveDimensions(e)}isAnyOGCLayerInRange(e,t=!1){return!!this.getInRangeWFSLayerNames(e,t).length}getWMSLayerNames(e=!1){const t=[];if(this.wmsLayers)for(const n of this.wmsLayers)(!e||n.queryable&&!1!==n.getData)&&t.push(n.name);return t}getInRangeWFSLayerNames(e,t=!1){const n=[];if(this.wfsLayers)for(const r of this.wfsLayers){const i=r.maxResolution,o=r.minResolution;(void 0===o||e>=o)&&(void 0===i||e<=i)&&(!t||r.queryable&&!1!==r.getData)&&n.push(r.name)}return n}getWFSLayerNames(e=!1){const t=[];if(this.wfsLayers)for(const n of this.wfsLayers)(!e||n.queryable&&!1!==n.getData)&&t.push(n.name);return t}getFiltrableWFSLayerName(){if(!this.filtrable)throw new Error("Missing filtrable");return this.getWFSLayerNames(!0)[0]}updateGeometryNameFromAttributes_(){if(this.attributes)for(const e of this.attributes)if(e.type===iZ){this.geometryName_=e.name;break}}haveTheSameActiveDimensions(e){let t=!0;const n=this.activeDimensions,r=e.activeDimensions;for(const e in n)if(n[e]!==r[e]){t=!1;break}if(t)for(const e in r)if(r[e]!==n[e]){t=!1;break}return t}haveTheSameActiveDimensionsFilters(e){const t=this.dimensionsFiltersConfig||{},n=e.dimensionsFiltersConfig||{},r=r=>{const i=t[r],o=n[r];if(void 0===i||void 0===o)return!1;if(i.field!=o.field)return!1;return(null!==i.value?i.value:this.dimensions[r])==(null!==o.value?o.value:e.dimensions[r])};for(const e in this.dimensionsFiltersConfig)if(!r(e))return!1;for(const t in e.dimensionsFiltersConfig)if(!r(t))return!1;return!0}getCommonOGCAttributes_(e){const t=this.ogcAttributes_;if(!t||!e.length)return null;const n=[];for(const r of e){const e=t[r];e&&n.push(e)}if(!n.length)return null;const r={},i=n.shift();for(const e in i){const t=i[e];let o=!0;for(const t of n)if(!t[e]){o=!1;break}o&&(r[e]=t)}return r}};function o0(e,t,n){this.$q_=e,this.$http_=t,this.tilesPreloadingLimit_=null===n?1/0:n}o0.$inject=["$q","$http","ngeoTilesPreloadingLimit"];const s0="layerNodeName",a0="dataSourceId",l0="groupName";o0.prototype.copyProperties=function(e,t,n){const r=e.getProperties();if(n){const e=n,i=Object.keys(r);for(const n of i)e.includes(n)||t.set(n,r[n])}else t.setProperties(r)},o0.prototype.createBasicWMSLayer=function(e,t,n,r,i,o,s,a,l){const c={FORMAT:n,LAYERS:t};let u;i&&(c.TIME=i),r&&(c.SERVERTYPE=r,u=r.replace(UQ,"qgis"));const h=Object.assign({},a,{url:e,params:c,serverType:u,crossOrigin:s});"mapserver"!=r&&"geoserver"!=r&&"carmentaserver"!=r&&"qgis"!=r&&(h.hidpi=!1);const d=new sq(h);if(o&&d.updateParams(o),!o||!o.STYLES){c.STYLES="";let e=t.split(",").length;for(;e>1;)c.STYLES.concat(","),e--}const f=Object.assign({},l,{source:d});return new WG(f)},o0.prototype.createBasicWMSLayerFromDataSource=function(e,t){const n=e.wmsUrl;if(void 0===n)throw new Error("Missing url");const r=e.getWMSLayerNames().join(","),i=e.ogcServerType,o=e.ogcImageType,s=this.createBasicWMSLayer(n,r,o,i,void 0,void 0,t);return s.setVisible(e.visible),s.set("querySourceIds",[e.id]),s.set(a0,e.id),s},o0.prototype.fixResolution_=function(e){return e&&(e*=1.0000001),e},o0.prototype.createWMTSLayerFromCapabilitites=function(e,t,n,r,i,o,s,a){s=this.fixResolution_(s);const l=new HG,c={preload:this.tilesPreloadingLimit_,minResolution:o,maxResolution:s,className:"canvas3d"},u=Yz(c),h=this.$q_;return this.$http_.get(e,{cache:!0}).then((o=>{let s;if(o.data&&(s=l.read(o.data)),s){const o=Object.assign({},i,Sq(s,{matrixSet:n,crossOrigin:"anonymous",layer:t})),l=new Mq(o);r&&!an(r)&&l.updateDimensions(r),u.setSource(l);const c=s.Contents.Layer.find((e=>e.Identifier==t));return c?(u.set("capabilitiesStyles",c.Style),void 0!==a&&u.setOpacity(a),h.resolve(u)):h.reject(`Layer ${t} not available in WMTS capabilities from ${e}`)}return h.reject(`Failed to get WMTS capabilities from ${e}`)}))},o0.prototype.createWMTSLayerFromCapabilititesObj=function(e,t,n){const r=Sq(e,{crossOrigin:"anonymous",layer:t.Identifier,className:"canvas3d"});console.assert(r);const i=new Mq(r);n&&!an(n)&&i.updateDimensions(n);const o=Yz({preload:1/0,source:i,className:"canvas3d"});return o.set("capabilitiesStyles",t.Style),o},o0.prototype.createBasicVectorTilesLayer=function(e,t,n,r,i,o,s,a){s=this.fixResolution_(s);const l=new kW,c=new VG({declutter:!0,minResolution:o,maxResolution:s,source:new wq({format:l,projection:r,tileGrid:i,url:e})});return BJ(c,t,n),void 0!==a&&c.setOpacity(a),c},o0.prototype.createBasicGroup=function(e){const t=new SU;return e&&t.setLayers(e),t},o0.prototype.getGroupFromMap=function(e,t){let n;return e.getLayerGroup().getLayers().getArray().some((e=>e.get(l0)===t&&(n=e,!0))),n||(n=this.createBasicGroup(),n.set(l0,t),e.addLayer(n)),n},o0.prototype.getFlatLayers=function(e){if(e instanceof SU){const t=e.getLayers().getArray();if(!t.some((e=>e instanceof SU)))return t.slice()}return this.getFlatLayers_(e,[],void 0)},o0.prototype.getFlatLayers_=function(e,t,n){const r=e.getOpacity();if(void 0!==n?n*=r:n=r,e instanceof SU){e.getLayers().forEach((e=>{this.getFlatLayers_(e,t,n)}))}else e instanceof MI&&(t.includes(e)||(e.set("inheritedOpacity",n,!0),t.push(e)));return t},o0.prototype.getLayerByNodeName=function(e,t){let n=null;return t.some((t=>{if(t.get(s0)===e)n=t;else if(t instanceof SU){const r=t.getLayers().getArray();n=this.getLayerByNodeName(e,r)}return!!n})),n},o0.prototype.getWMTSLegendURL=function(e){let t;const n=e.get("capabilitiesStyles");if(void 0!==n){const e=n[0].legendURL;void 0!==e&&(t=e[0].href)}return t},o0.prototype.getWMSLegendURL=function(e,t,n,r,i,o,s,a,l,c,u){if(!e)return;const h={FORMAT:"image/png",TRANSPARENT:!0,SERVICE:"WMS",VERSION:"1.1.1",REQUEST:"GetLegendGraphic",LAYER:t};return void 0!==n&&(h.SCALE=n),void 0!==r&&(h.RULE=r,void 0!==i&&(h.WIDTH=i),void 0!==o&&(h.HEIGHT=o)),"qgis"==s&&(null!=a&&(h.DPI=a),null!=l&&null!=c&&null!=n&&null!=a&&null==r&&(h.BBOX=l.join(","),h.SRS=c,h.SRCWIDTH=Math.round((l[2]-l[0])/n*39.37*a),h.SRCHEIGHT=Math.round((l[3]-l[1])/n*39.37*a),delete h.SCALE)),u&&Object.assign(h,u),XG(e,h)},o0.prototype.isLayerVisible=function(e,t){if(!e.getVisible())return!1;const n=t.getView().getResolution();if(void 0===n)throw new Error("Missing resolution");return n>e.getMinResolution()&&n<e.getMaxResolution()},o0.prototype.refreshWMSLayer=function(e){const t=e.getSource();console.assert(t instanceof sq||t instanceof _q);const n=t,r=n.getParams();r.random=Math.random(),n.updateParams(r)},o0.prototype.setZIndexToFirstLevelChildren=function(e,t){if(e instanceof SU){e.getLayers().forEach((e=>e.setZIndex(t)))}},o0.prototype.updateWMSLayerState=function(e,t,n){if(t.length<=0)e.setVisible(!1);else{e.setVisible(!0);const r=e.getSource();if(!(r instanceof sq))throw new Error("Wrong source type");n?r.updateParams({LAYERS:t,TIME:n}):r.updateParams({LAYERS:t})}},o0.prototype.getQuerySourceIds=function(e){return e.get("querySourceIds")};const c0=t().module("ngeoLayerHelper",[]);c0.service("ngeoLayerHelper",o0);const u0=c0;class h0 extends ln{constructor(e,t,n,r,i,o,s,a,l,c){super(),this.addBlankBackgroundLayer_=!0,void 0!==o.addBlankBackgroundLayer&&(this.addBlankBackgroundLayer_=o.addBlankBackgroundLayer),this.$q_=n,this.$http_=e,this.treeUrl_=s,this.gmfVectorTilesUrl_=a,this.gmfVectorTilesOptions_=l,this.gmfWMSSourceOptions_=c,this.ngeoLocation_=null,t.has("ngeoLocation")&&(this.ngeoLocation_=t.get("ngeoLocation")),this.layerHelper_=r,this.gettextCatalog=i,this.deferred_=n.defer(),this.promise_=this.deferred_.promise,this.loaded=!1,this.bgLayerPromise_=null}getBgLayers(){return this.bgLayerPromise_||(this.bgLayerPromise_=this.promise_.then(this.bgLayerPromiseSuccessFn_.bind(this)).then((e=>{const t=[];if(this.addBlankBackgroundLayer_){const e=this.getBgBlankLayer_();t.push(e)}return e.forEach((e=>{e&&t.push(e)})),t}))),this.bgLayerPromise_}getLayerGroupIds_(e,t){t.push(qe(e));(e.children||[]).forEach((e=>{this.getLayerGroupIds_(e,t)}))}setLayerProperties_(e,t){t.set("label",e.name),t.set("metadata",e.metadata),t.set("dimensions",e.dimensions);const n=[];return this.getLayerGroupIds_(e,n),t.set("querySourceIds",n),t.set(a0,e.id),t}layerLayerCreationFn_(e,t){if("WMTS"===t.type){const e=t;return this.layerLayerWMTSCreationFn_(e)}if("WMS"===t.type){const n=t;return this.layerLayerWMSCreationFn_(e,n)}if("VectorTiles"===t.type){const e=t;return this.layerLayerVectorTilesCreationFn_(e)}throw new Error(`Unsupported type: ${t.type}`)}layerLayerWMTSCreationFn_(e){if(!e.url)throw new Error("Layer URL is required");const t=b0(e),n=y0(e);return this.layerHelper_.createWMTSLayerFromCapabilitites(e.url,e.layer||"",e.matrixSet,e.dimensions,e.metadata.customOpenLayersOptions,t,n,e.metadata.opacity).then(this.setLayerProperties_.bind(this,e)).then(null,(t=>{let n=`Unable to build layer "${e.layer}" from WMTSCapabilities: ${e.url}\n`;return n+=`OpenLayers error is "${t.message}`,console.error(n),this.$q_.resolve(void 0)}))}layerLayerWMSCreationFn_(e,t){if(!t.ogcServer)throw new Error("Missing gmfLayerWMS.ogcServer");const n=e[t.ogcServer];if(!n)throw new Error("Missing server");if(!n.url)throw new Error("Missing server.url");if(!n.imageType)throw new Error("Missing server.imageType");const r={STYLES:t.style};if(t.dimensions)for(const[e,n]of Object.entries(t.dimensions))null!==n&&(r[e]=n);return this.setLayerProperties_(t,this.layerHelper_.createBasicWMSLayer(n.url,t.layers||"",n.imageType,n.type,void 0,r,n.credential?"use-credentials":"anonymous",Object.assign({},this.gmfWMSSourceOptions_,t.metadata.customOpenLayersOptions)))}layerLayerVectorTilesCreationFn_(e){const t=this.$q_.defer(),n=t.promise,r=e.name,i=b0(e),o=y0(e),s=this.gmfVectorTilesOptions_.tileGrid;return s&&s.resolutions?(this.$http_.get(e.style).then((n=>{const s=`${this.gmfVectorTilesUrl_}/${r}/{z}/{x}/{y}.pbf`,a=new OU(this.gmfVectorTilesOptions_.tileGrid),l=this.layerHelper_.createBasicVectorTilesLayer(s,n.data,r,this.gmfVectorTilesOptions_.projection,a,i,o,e.metadata.opacity);t.resolve(this.setLayerProperties_(e,l))}),(e=>{t.reject(e)})),n):null}layerGroupCreationFn_(e,t){const n=t.children.map((e=>e)).reverse().map((t=>this.layerLayerCreationFn_(e,t)));return this.$q_.all(n).then((e=>{let n;e&&(e=e.filter((e=>e)),n=new QY(e));const r=this.layerHelper_.createBasicGroup(n);return this.setLayerProperties_(t,r),r}))}bgLayerPromiseSuccessFn_(e){const t=e.background_layers.map((t=>{const n=t,r=t;return["WMS","WMTS","VectorTiles"].includes(n.type)?this.layerLayerCreationFn_(e.ogcServers,n):r.children?this.layerGroupCreationFn_(e.ogcServers,r):void 0}));return this.$q_.all(t)}getBgBlankLayer_(){this.gettextCatalog.getString("blank");const e=new FY({className:"canvas2d",source:new Dj});return e.set("label","blank"),e.set("metadata",{thumbnail:""}),e}getThemeObject(e){return this.promise_.then((t=>p0(t.themes,e)))}getThemesObject(){return this.promise_.then((e=>e.themes))}getBackgroundLayersObject(){if(null===this.promise_)throw new Error("Missing promise");return this.promise_.then((e=>e.background_layers))}getOgcServersObject(){if(null===this.promise_)throw new Error("Missing promise");return this.promise_.then((e=>e.ogcServers))}hasEditableLayers(){if(null===this.promise_)throw new Error("Missing promise");return this.promise_.then(this.hasEditableLayers_.bind(this))}hasEditableLayers_(e){return e.themes.some((e=>e.children.some(this.hasNodeEditableLayers_.bind(this))))}hasNodeEditableLayers_(e){const t=e;if(e.editable)return!0;let n=!1;const r=t.children;return r&&r.length&&(n=r.some(this.hasNodeEditableLayers_.bind(this))),n}loadThemes(e){if(!this.treeUrl_)throw new Error("gmfTreeUrl should be defined.");this.loaded&&(this.deferred_=this.$q_.defer(),this.promise_=this.deferred_.promise,this.bgLayerPromise_=null,this.loaded=!1),this.$http_.get(this.treeUrl_,{params:void 0!==e?{role:e}:{},cache:!1,withCredentials:!0}).then((e=>{if(0!=e.data.errors.length){const t=`The themes contain some errors:\n${e.data.errors.join("\n")}`;console.warn(t),null!==this.ngeoLocation_&&this.ngeoLocation_.hasParam("debug")&&window.alert(t)}Object.values(e.data.ogcServers).forEach((e=>{e.geometryName=e.geometryName||"geometry"})),this.deferred_.resolve(e.data),this.dispatchEvent("change"),this.loaded=!0}),(e=>{this.deferred_.reject(e)}))}}function d0(e,t){for(let n=0,r=e.length;n<r;n++){const r=e[n];for(let e=0,n=r.children.length;e<n;e++){const n=r.children[e],i=[];if(m0(n,i),f0(i,t))return n}}return null}function f0(e,t){return e.find((e=>e.name===t))}function p0(e,t){return f0(e,t)}function m0(e,t){const n=e.children;if(void 0!==n){t.push(e);for(const e of n)m0(e,t)}}function g0(e,t){const n=e.children;if(void 0!==n)for(const e of n)g0(e,t);else t.push(e)}function _0(e){const t=e.metadata&&void 0!==e.metadata.snappingConfig?e.metadata.snappingConfig:null;return t&&void 0===t.activated&&(t.activated=!0),t}function y0(e){const t=e.metadata;let n=e.maxResolutionHint;return void 0===n&&void 0!==t&&(n=t.maxResolution),n}function b0(e){const t=e.metadata;let n=e.minResolutionHint;return void 0===n&&void 0!==t&&(n=t.minResolution),n}h0.$inject=["$http","$injector","$q","ngeoLayerHelper","gettextCatalog","gmfThemesOptions","gmfTreeUrl","gmfVectorTilesUrl","gmfVectorTilesOptions","gmfWMSSourceOptions"];const v0="VectorTiles",w0="WMTS",x0="WMS",M0=t().module("gmfThemes",[u0.name]);M0.service("gmfThemes",h0);const S0=M0,k0=class extends qt{constructor(e,t={}){super(e),this.detail=t}},T0="background";class L0 extends Rn{constructor(e){super(),this.mapUids_={},this.ngeoLayerHelper_=e}get(e){return qe(e).toString()in this.mapUids_?this.ngeoLayerHelper_.getGroupFromMap(e,T0).getLayers().item(0):null}set(e,t){const n=qe(e).toString(),r=this.get(e);null!==t&&(t.setZIndex(-200),this.ngeoLayerHelper_.setZIndexToFirstLevelChildren(t,-200));const i=this.ngeoLayerHelper_.getGroupFromMap(e,T0);null!==r?(console.assert(n in this.mapUids_),null!==t?i.getLayers().setAt(0,t):(i.getLayers().removeAt(0),delete this.mapUids_[n])):null!==t&&(i.getLayers().insertAt(0,t),this.mapUids_[n]=!0);const o=new k0("change",{current:t,previous:r});return this.dispatchEvent(o),r}getOpacityBgLayer(e){return qe(e).toString()in this.mapUids_?this.ngeoLayerHelper_.getGroupFromMap(e,T0).getLayers().item(1):null}setOpacityBgLayer(e,t){const n=this.ngeoLayerHelper_.getGroupFromMap(e,T0),r=this.getOpacityBgLayer(e);if(r){const e=n.getLayers().remove(r);t.setOpacity(e?e.getOpacity():0),t.setVisible(!e||e.getVisible())}t.setZIndex(-100),this.ngeoLayerHelper_.setZIndexToFirstLevelChildren(t,-100);-1===n.getLayers().getArray().indexOf(t)&&n.getLayers().push(t)}updateDimensions(e,t){const n=this.get(e);if(n){let e=[n];n instanceof SU&&(e=n.getLayers().getArray()),e.forEach((e=>{if(e instanceof MI){let n=!1;const r={};for(const i in e.get("dimensions")){const e=t[i];void 0!==e&&(r[i]=e,n=!0)}if(n){const t=e.getSource();t instanceof Mq?(t.updateDimensions(r),t.refresh()):(t instanceof _q||t instanceof sq)&&(t.updateParams(r),t.refresh())}}}))}}}L0.$inject=["ngeoLayerHelper"];const C0=t().module("ngeoBackgroundLayerMgr",[u0.name]);C0.service("ngeoBackgroundLayerMgr",L0);const E0=C0;P0.$inject=["$scope","ngeoBackgroundLayerMgr","gmfThemes","gmfBackgroundLayerSelectorOptions"];const D0=t().module("gmfBackgroundlayerselector",[S0.name,E0.name]);function A0(e,t,n){return n(e,t)}D0.value("gmfBackgroundlayerselectorTemplateUrl",((e,t)=>{const n=t.gmfBackgroundlayerselectorTemplateurl;return void 0!==n?n:"gmf/backgroundlayerselector"})),D0.run(["$templateCache",e=>{e.put("gmf/backgroundlayerselector",'<ul class="gmf-backgroundlayerselector">\n  <li\n    ng-repeat="layer in ctrl.bgLayers"\n    ng-click="ctrl.setLayer(layer)"\n    ng-class="{\'gmf-backgroundlayerselector-active\': ctrl.bgLayer == layer, \'gmf-backgroundlayerselector-disabled\': ctrl.opacityLayer == layer}"\n  >\n    <img class="gmf-thumb" ng-src="{{::layer.get(\'metadata\')[\'thumbnail\']}}" />\n    <span class="gmf-text">{{layer.get("label") | translate}}</span>\n    <span ng-class="{\'gmf-backgroundlayerselector-opacity-check\': ctrl.opacityLayer == layer}"></span>\n  </li>\n\n  <input\n    ng-if="ctrl.opacityLayer"\n    class="input-action gmf-backgroundlayerselector-opacity-slider"\n    name="bg-layer-opacity"\n    type="range"\n    min="0"\n    max="1"\n    step="0.01"\n    ng-model="ctrl.getSetBgLayerOpacity"\n    ng-model-options="{getterSetter: true}"\n  />\n</ul>')}]),A0.$inject=["$element","$attrs","gmfBackgroundlayerselectorTemplateUrl"];const $0={controller:"GmfBackgroundlayerselectorController as ctrl",bindings:{map:"=gmfBackgroundlayerselectorMap",select:"&?gmfBackgroundlayerselectorSelect"},templateUrl:A0};function P0(e,t,n,r){this.map=null,this.options=r,this.select=null,this.bgLayer=null,this.bgLayers=null,this.opacityLayer=null,this.gmfThemes_=n,this.listenerKeys_=[],this.listenerKeys_.push(bn(n,"change",this.handleThemesChange_,this)),this.backgroundLayerMgr_=t,this.listenerKeys_.push(bn(this.backgroundLayerMgr_,"change",(e=>{this.bgLayer=e.detail.current}))),e.$on("$destroy",this.handleDestroy_.bind(this))}D0.component("gmfBackgroundlayerselector",$0),P0.prototype.$onInit=function(){this.handleThemesChange_()},P0.prototype.handleThemesChange_=function(){this.gmfThemes_.getBgLayers().then((e=>{if(this.bgLayers=e,void 0!==this.options.opacityLayer){const t=e.find((e=>e.get("label")===this.options.opacityLayer));if(void 0!==t){this.setOpacityBgLayer(t),this.bgLayers=this.bgLayers.slice();const e=this.bgLayers.findIndex((e=>e===this.opacityLayer));this.bgLayers.splice(e,1),this.bgLayers.push(t)}}}))},P0.prototype.getSetBgLayerOpacity=function(e){if(!this.opacityLayer)throw new Error("Missing opacityLayer");return void 0!==e&&(this.opacityLayer.setOpacity(e),this.opacityLayer.setVisible(0!==e),this.bgLayer.setVisible(1!==e)),this.opacityLayer.getOpacity()},P0.prototype.setLayer=function(e,t){Xs.touchedByUser=!0;const n=this.opacityLayer?this.opacityLayer.getOpacity():0;this.bgLayer=e,this.backgroundLayerMgr_.set(this.map,e),e.setVisible(1!==n),this.opacityLayer&&(this.opacityLayer.setVisible(0!==n),this.opacityLayer.setOpacity(n)),!t&&this.select&&this.select()},P0.prototype.setOpacityBgLayer=function(e){const t=this.opacityLayer?this.opacityLayer.getOpacity():0;e.setOpacity(t),this.opacityLayer=e,this.opacityLayer.setVisible(0!==t),this.bgLayer&&this.bgLayer.setVisible(1!==t),this.backgroundLayerMgr_.setOpacityBgLayer(this.map,e)},P0.prototype.handleDestroy_=function(){this.listenerKeys_.forEach(wn),this.listenerKeys_.length=0},D0.controller("GmfBackgroundlayerselectorController",P0);const R0=D0;class O0{constructor(){this.collection_=new QY,this.map_=null,this.listenerKeys_=[],bn(this.collection_,"add",this.handleDataSourcesAdd_,this)}set map(e){this.map_!==e&&(this.map_&&this.unbindMap_(this.map_),this.map_=e,e&&this.bindMap_(e))}get collection(){return this.collection_}bindMap_(e){const t=e.getView();this.listenerKeys_.push(bn(t,"change:resolution",this.handleViewResolutionChange_,this));const n=t.getResolution();if(void 0===n)throw new Error("Missing resolution");this.syncDataSourcesToResolution_(n)}unbindMap_(e){this.listenerKeys_.forEach(wn),this.listenerKeys_=[]}handleViewResolutionChange_(e){const t=e.target;if(t instanceof wI){const e=t.getResolution();if(void 0===e)throw new Error("Missing resolution");this.syncDataSourcesToResolution_(e)}}syncDataSourcesToResolution_(e){this.collection_.forEach((t=>{this.syncDataSourceToResolution_(t,e)}))}syncDataSourceToResolution_(e,t){if(!e.supportsDynamicInRange)return;const n=e.maxResolution,r=e.minResolution,i=(null==r||t>=r)&&(null==n||t<=n);e.inRange=i}handleDataSourcesAdd_(e){if(e instanceof ZY){const t=e.element;if(this.map_){const e=this.map_.getView().getResolution();if(void 0===e)throw new Error("Missing resolution");this.syncDataSourceToResolution_(t,e)}}}}O0.$inject=[];const I0=t().module("ngeoDataSources",[]);I0.service("ngeoDataSources",O0);const F0=I0;function N0(e,t){return/gml:((Multi)?(Point|Line|Polygon|Curve|Surface|Geometry)).*/.exec(t)&&(e.type=iZ,/^gml:Point/.exec(t)?e.geomType="Point":/^gml:LineString|^gml:Curve/.exec(t)?e.geomType="LineString":/^gml:Polygon|^gml:Surface/.exec(t)?e.geomType="Polygon":/^gml:MultiPoint/.exec(t)?e.geomType="MultiPoint":/^gml:MultiLineString|^gml:MultiCurve/.exec(t)?e.geomType="MultiLineString":/^gml:MultiPolygon|^gml:MultiSurface/.exec(t)&&(e.geomType="MultiPolygon")),!!e.type&&!!e.geomType}const Y0="float",j0="integer";const H0=class{read(e){return e.map((e=>this.readFromComplexTypeElement_(e)))}setAttributeType(e,t){"gml:TimeInstantType"===t||"dateTime"===t?e.type=nZ:"date"===t?e.type=tZ:"time"===t?e.type=rZ:"decimal"===t||"double"===t?(e.type=oZ,e.numType=Y0):"int"===t||"integer"===t||"long"===t?(e.type=oZ,e.numType=j0):e.type="boolean"===t?eZ:aZ}readFromComplexTypeElement_(e){const t={name:e.name,alias:e.alias||null,required:"0"!=e.minOccurs},n=e.type;return N0(t,n)||this.setAttributeType(t,n),t}};class z0 extends EZ{constructor(e,t,n){super("PropertyIsBetween",e),this.lowerBoundary=t,this.upperBoundary=n}}K0.$inject=["gettextCatalog"],X0.$inject=["$sce","ngeoStringToHtmlReplacements"],V0.$inject=["$sce"],B0.$inject=["$filter"],q0.$inject=["$filter"],G0.$inject=["$locale"],W0.$inject=["$filter"];const U0=t().module("ngeoAngularFilters",[]);function W0(e){const t=e("ngeoNumber"),n=function(e,n){void 0===n&&(n=2);const r=t(e,n);return r?`1 : ${r}`:""};return n.$stateful=!0,n}function G0(e){const t=e.NUMBER_FORMATS;return function(e,n,r){const i=r?"":t.GROUP_SEP,o=t.DECIMAL_SEP;if(void 0===n&&(n=3),e===1/0)return"∞";if(e===-1/0)return"-∞";if(0===e)return"0";if(null==e)return"";if(isNaN(e)||!isFinite(e))return console.info("ngeoNumber: could not format number "+e),"";const s=e<0;e=Math.abs(e);const a=n-Math.floor(Math.log(e)/Math.log(10))-1,l=Math.pow(10,a);e=Math.round(e*l);let c="";const u=Math.floor(e/l);if(a>0){let t=`${e}`;for(;t.length<a;)t=`0${t}`;for(c=t.substring(t.length-a);c.endsWith("0");)c=c.substring(0,c.length-1)}const h=[];let d=`${u}`;for(;d.length>3;){const e=d.length-3;h.unshift(d.substring(e)),d=d.substring(0,e)}return h.unshift(d),(s?"-":"")+h.join(i)+(0===c.length?"":o+c)}}function q0(e){const t=e("ngeoNumber"),n=["","k","M","G","T","P"],r=["","Ki","Mi","Gi","Ti","Pi"];return function(e,i,o,s){void 0===i&&(i="");const a=1-.1**(s||3)*.5;let l=1e3,c=n;"square"===o?l=1e6:"binary"===o&&(l=1024,c=r);let u=0;const h=c.length-1;for(;e>=l*a&&u<h;)e/=l,u++;const d=c[u]+i,f=0==d.length?"":" ";return t(e,s)+f+d}}function B0(e){return function(t,n,r){const i=r||"{x} {y}",o=t[0],s=t[1],a=0|parseInt(n,10),l=e("number")(o,a),c=e("number")(s,a);return i.replace("{x}",l).replace("{y}",c)}}function V0(e){return function(t){return null!=t?e.trustAsHtml(`${t}`):e.trustAsHtml("&nbsp;")}}function X0(e,t){return function(n){if(null!=n){if("string"==typeof n){for(const e of t)if(void 0===e.compiled_expression&&(e.compiled_expression=new RegExp(e.expression,e.flags)),e.compiled_expression.exec(n)){n=e.template.replace(/\$1/g,n);break}return e.trustAsHtml(`${n}`)}return e.trustAsHtml(`${n}`)}return e.trustAsHtml("&nbsp;")}}function K0(e){const t=Object.freeze({SECONDS:Symbol("seconds"),MINUTES:Symbol("minutes"),HOURS:Symbol("hours"),DAYS:Symbol("days")}),n=function(n,r){let i="";switch(r){case t.SECONDS:i=e.getPlural(n,"second","seconds");break;case t.MINUTES:i=e.getPlural(n,"minute","minutes");break;case t.HOURS:i=e.getPlural(n,"hour","hours");break;case t.DAYS:i=e.getPlural(n,"day","days")}return`${n} ${i}`};return function(e){let r;if((e=Math.round(e))<60)return n(e,t.SECONDS);let i=e%60;return(e=Math.floor(e/60))<60?(r=n(e,t.MINUTES),i>0&&(r+=` ${n(i,t.SECONDS)}`),r):(i=e%60,(e=Math.floor(e/60))<24?(r=n(e,t.HOURS),i>0&&(r+=` ${n(i,t.MINUTES)}`),r):(i=e%24,e=Math.floor(e/24),r=n(e,t.DAYS),i>0&&(r+=` ${n(i,t.HOURS)}`),r))}}U0.filter("ngeoScalify",W0),U0.filter("ngeoNumber",G0),U0.filter("ngeoUnitPrefix",q0),U0.filter("ngeoNumberCoordinates",B0),U0.filter("ngeoDMSCoordinates",(function(){const e=function(e,t,n){const r=dt(e+180,360)-180,i=Math.abs(3600*r),o=i%60;return`${Math.floor(i/3600)}° ${GP(Math.floor(i/60%60),2)}′ ${GP(o,2,n)}″ ${t.charAt(r<0?1:0)}`};return function(t,n,r){const i=0|parseInt(n,10),o=r||"{x} {y}",s=e(t[0],"EW",i),a=e(t[1],"NS",i);return o.replace("{x}",s).replace("{y}",a)}})),U0.filter("ngeoTrustHtml",V0),U0.filter("ngeoTrustHtmlAuto",X0),U0.filter("ngeoDuration",K0);U0.filter("removeCDATA",(function(){return function(e){if(e&&e.replace)return e.replace(/<!\[CDATA\[(.*)\]\]>/,"$1")}}));const J0=U0,Z0="a",Q0="c",e1="l",t1="r",n1="t",r1="n",i1="b",o1="o",s1="z",a1="m",l1="s",c1="k",u1="d",h1="p",d1="Circle",f1="LineString",p1="MultiLineString",m1="MultiPoint",g1="MultiPolygon",_1="Point",y1="Polygon",b1="Rectangle",v1="Text";function w1(e,t,n,r,i=!1){let o;if(i){const n=e.clone().transform(t,"EPSG:4326");o=Math.abs(iR(n,{projection:"EPSG:4326"}))}else o=e.getArea();return r(o,"m²","square",n)}function x1(e,t,n,r,i=!1){let o=0;if(i){const n=e.getCoordinates();for(let e=0,r=n.length-1;e<r;++e){o+=nR(MR(n[e],t,"EPSG:4326"),MR(n[e+1],t,"EPSG:4326"))}}else o=e.getLength();return r(o,"m","unit",n)}function M1(e,t,n){const r=function(e){const t=e.getCoordinates(),n=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return(n>0?1:-1)*Math.acos(r/Math.sqrt(n*n+r*r))*180/Math.PI%360}(e);return`${n(r,t)}°`}function S1(e,t,n,r,i,o){let s=M1(e,n,o);return s+=`, ${x1(e,t,r,i)}`,s}const k1=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],T1={rte:n2,trk:r2,wpt:i2},L1=zW(k1,{rte:PW(n2),trk:PW(r2),wpt:PW(i2)}),C1=zW(k1,{text:IW(oG,"linkText"),type:IW(oG,"linkType")}),E1=zW(k1,{name:IW(oG),email:function(e,t){const n=t[t.length-1],r=e.getAttribute("id"),i=e.getAttribute("domain");null!==r&&null!==i&&(n.email=`${r}@${i}`)},link:e2}),D1=zW(k1,{name:IW(oG),desc:IW(oG),author:IW((function(e,t){const n=WW({},E1,e,t);if(n)return n;return})),copyright:IW((function(e,t){const n=WW({},A1,e,t);if(n){const t=e.getAttribute("author");return null!==t&&(n.author=t),n}return})),link:e2,time:IW(eG),keywords:IW(oG),bounds:function(e,t){const n=t[t.length-1],r=e.getAttribute("minlat"),i=e.getAttribute("minlon"),o=e.getAttribute("maxlat"),s=e.getAttribute("maxlon");null!==i&&null!==r&&null!==s&&null!==o&&(n.bounds=[[parseFloat(i),parseFloat(r)],[parseFloat(s),parseFloat(o)]])},extensions:t2}),A1=zW(k1,{year:IW(rG),license:IW(oG)}),$1=zW(k1,{rte:FW((function(e,t,n){const r=n[0],i=t.getProperties(),o={node:e};o.properties=i;const s=t.getGeometry();if("LineString"==s.getType()){const e=tW(s,!0,r);o.geometryLayout=e.getLayout(),i.rtept=e.getCoordinates()}const a=n[n.length-1].node,l=H1[a.namespaceURI],c=HW(i,l);qW(o,z1,jW,c,n,l)})),trk:FW((function(e,t,n){const r=n[0],i=t.getProperties(),o={node:e};o.properties=i;const s=t.getGeometry();if("MultiLineString"==s.getType()){const e=tW(s,!0,r);i.trkseg=e.getLineStrings()}const a=n[n.length-1].node,l=W1[a.namespaceURI],c=HW(i,l);qW(o,G1,jW,c,n,l)})),wpt:FW((function(e,t,n){const r=n[0],i=n[n.length-1];i.properties=t.getProperties();const o=t.getGeometry();if("Point"==o.getType()){const t=tW(o,!0,r);i.geometryLayout=t.getLayout(),s2(e,t.getCoordinates(),n)}}))});const P1=zW(k1,{name:IW(oG),cmt:IW(oG),desc:IW(oG),src:IW(oG),link:e2,number:IW(rG),extensions:t2,type:IW(oG),rtept:function(e,t){const n=WW({},R1,e,t);if(n){const r=t[t.length-1];Z1(r.flatCoordinates,r.layoutOptions,e,n)}}}),R1=zW(k1,{ele:IW(tG),time:IW(eG)}),O1=zW(k1,{name:IW(oG),cmt:IW(oG),desc:IW(oG),src:IW(oG),link:e2,number:IW(rG),type:IW(oG),extensions:t2,trkseg:function(e,t){const n=t[t.length-1];UW(I1,e,t);const r=n.flatCoordinates;n.ends.push(r.length)}}),I1=zW(k1,{trkpt:function(e,t){const n=WW({},F1,e,t);if(n){const r=t[t.length-1];Z1(r.flatCoordinates,r.layoutOptions,e,n)}}}),F1=zW(k1,{ele:IW(tG),time:IW(eG)}),N1=zW(k1,{ele:IW(tG),time:IW(eG),magvar:IW(tG),geoidheight:IW(tG),name:IW(oG),cmt:IW(oG),desc:IW(oG),src:IW(oG),link:e2,sym:IW(oG),type:IW(oG),fix:IW(oG),sat:IW(rG),hdop:IW(tG),vdop:IW(tG),pdop:IW(tG),ageofdgpsdata:IW(tG),dgpsid:IW(rG),extensions:t2}),Y1=["text","type"],j1=zW(k1,{text:FW(cG),type:FW(cG)}),H1=zW(k1,["name","cmt","desc","src","link","number","type","rtept"]),z1=zW(k1,{name:FW(cG),cmt:FW(cG),desc:FW(cG),src:FW(cG),link:FW(o2),number:FW(lG),type:FW(cG),rtept:NW(FW(s2))}),U1=zW(k1,["ele","time"]),W1=zW(k1,["name","cmt","desc","src","link","number","type","trkseg"]),G1=zW(k1,{name:FW(cG),cmt:FW(cG),desc:FW(cG),src:FW(cG),link:FW(o2),number:FW(lG),type:FW(cG),trkseg:NW(FW((function(e,t,n){const r={node:e};r.geometryLayout=t.getLayout(),r.properties={},qW(r,B1,q1,t.getCoordinates(),n)})))}),q1=YW("trkpt"),B1=zW(k1,{trkpt:FW(s2)}),V1=zW(k1,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),X1=zW(k1,{ele:FW(aG),time:FW((function(e,t){const n=new Date(1e3*t),r=n.getUTCFullYear()+"-"+GP(n.getUTCMonth()+1,2)+"-"+GP(n.getUTCDate(),2)+"T"+GP(n.getUTCHours(),2)+":"+GP(n.getUTCMinutes(),2)+":"+GP(n.getUTCSeconds(),2)+"Z";e.appendChild(XW().createTextNode(r))})),magvar:FW(aG),geoidheight:FW(aG),name:FW(cG),cmt:FW(cG),desc:FW(cG),src:FW(cG),link:FW(o2),sym:FW(cG),type:FW(cG),fix:FW(cG),sat:FW(lG),hdop:FW(aG),vdop:FW(aG),pdop:FW(aG),ageofdgpsdata:FW(aG),dgpsid:FW(lG)}),K1={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function J1(e,t,n){const r=e.getGeometry();if(r){const e=K1[r.getType()];if(e){return LW(t[t.length-1].node.namespaceURI,e)}}}function Z1(e,t,n,r){return e.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in r?(e.push(r.ele),delete r.ele,t.hasZ=!0):e.push(0),"time"in r?(e.push(r.time),delete r.time,t.hasM=!0):e.push(0),e}function Q1(e,t,n){let r="XY",i=2;if(e.hasZ&&e.hasM?(r="XYZM",i=4):e.hasZ?(r="XYZ",i=3):e.hasM&&(r="XYM",i=3),4!==i){for(let n=0,r=t.length/4;n<r;n++)t[n*i]=t[4*n],t[n*i+1]=t[4*n+1],e.hasZ&&(t[n*i+2]=t[4*n+2]),e.hasM&&(t[n*i+2]=t[4*n+3]);if(t.length=t.length/4*i,n)for(let e=0,t=n.length;e<t;e++)n[e]=n[e]/4*i}return r}function e2(e,t){const n=t[t.length-1],r=e.getAttribute("href");null!==r&&(n.link=r),UW(C1,e,t)}function t2(e,t){t[t.length-1].extensionsNode_=e}function n2(e,t){const n=t[0],r=WW({flatCoordinates:[],layoutOptions:{}},P1,e,t);if(!r)return;const i=r.flatCoordinates;delete r.flatCoordinates;const o=r.layoutOptions;delete r.layoutOptions;const s=Q1(o,i),a=new vO(i,s);tW(a,!1,n);const l=new L$(a);return l.setProperties(r,!0),l}function r2(e,t){const n=t[0],r=WW({flatCoordinates:[],ends:[],layoutOptions:{}},O1,e,t);if(!r)return;const i=r.flatCoordinates;delete r.flatCoordinates;const o=r.ends;delete r.ends;const s=r.layoutOptions;delete r.layoutOptions;const a=Q1(s,i,o),l=new aj(i,a,o);tW(l,!1,n);const c=new L$(l);return c.setProperties(r,!0),c}function i2(e,t){const n=t[0],r=WW({},N1,e,t);if(!r)return;const i={},o=Z1([],i,e,r),s=Q1(i,o),a=new VR(o,s);tW(a,!1,n);const l=new L$(a);return l.setProperties(r,!0),l}function o2(e,t,n){e.setAttribute("href",t);const r=n[n.length-1].properties,i=[r.linkText,r.linkType];qW({node:e},j1,jW,i,n,Y1)}function s2(e,t,n){const r=n[n.length-1],i=r.node.namespaceURI,o=r.properties;e.setAttributeNS(null,"lat",String(t[1])),e.setAttributeNS(null,"lon",String(t[0]));switch(r.geometryLayout){case"XYZM":0!==t[3]&&(o.time=t[3]);case"XYZ":0!==t[2]&&(o.ele=t[2]);break;case"XYM":0!==t[2]&&(o.time=t[2])}const s="rtept"==e.nodeName?U1[i]:V1[i],a=HW(o,s);qW({node:e,properties:o},X1,jW,a,n,s)}const a2=class extends lZ{constructor(e){super(),e=e||{},this.dataProjection=pR("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let t=0,n=e.length;t<n;++t){const n=e[t];if(this.readExtensions_){const e=n.get("extensionsNode_")||null;this.readExtensions_(n,e)}n.set("extensionsNode_",void 0)}}readMetadata(e){return e?"string"==typeof e?this.readMetadataFromDocument(AW(e)):DW(e)?this.readMetadataFromDocument(e):this.readMetadataFromNode(e):null}readMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType===Node.ELEMENT_NODE){const e=this.readMetadataFromNode(t);if(e)return e}return null}readMetadataFromNode(e){if(!k1.includes(e.namespaceURI))return null;for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(k1.includes(t.namespaceURI)&&"metadata"===t.localName)return WW({},D1,t,[]);return null}readFeatureFromNode(e,t){if(!k1.includes(e.namespaceURI))return null;const n=T1[e.localName];if(!n)return null;const r=n(e,[this.getReadOptions(e,t)]);return r?(this.handleReadExtensions_([r]),r):null}readFeaturesFromNode(e,t){if(!k1.includes(e.namespaceURI))return[];if("gpx"==e.localName){const n=WW([],L1,e,[this.getReadOptions(e,t)]);return n?(this.handleReadExtensions_(n),n):[]}return[]}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=LW("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",TW),n.setAttributeNS(TW,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),qW({node:n},$1,J1,e,[t]),n}},l2=["http://www.google.com/kml/ext/2.2"],c2=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],u2={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},h2=zW(c2,{ExtendedData:p5,Region:m5,MultiGeometry:IW(o5,"geometry"),LineString:IW(n5,"geometry"),LinearRing:IW(r5,"geometry"),Point:IW(s5,"geometry"),Polygon:IW(l5,"geometry"),Style:IW(u5),StyleMap:function(e,t){const n=z2.call(this,e,t);if(!n)return;const r=t[t.length-1];if(Array.isArray(n))r.Style=n;else{if("string"!=typeof n)throw new Error("`styleMapValue` has an unknown type");r.styleUrl=n}},address:IW(oG),description:IW(oG),name:IW(oG),open:IW(ZW),phoneNumber:IW(oG),styleUrl:IW(Y2),visibility:IW(ZW)},zW(l2,{MultiTrack:IW((function(e,t){const n=WW([],X2,e,t);if(!n)return;return new aj(n)}),"geometry"),Track:IW(J2,"geometry")})),d2=zW(c2,{ExtendedData:p5,Region:m5,Link:function(e,t){UW(f2,e,t)},address:IW(oG),description:IW(oG),name:IW(oG),open:IW(ZW),phoneNumber:IW(oG),visibility:IW(ZW)}),f2=zW(c2,{href:IW(N2)}),p2=zW(c2,{Altitude:IW(tG),Longitude:IW(tG),Latitude:IW(tG),Tilt:IW(tG),AltitudeMode:IW(oG),Heading:IW(tG),Roll:IW(tG)}),m2=zW(c2,{LatLonAltBox:function(e,t){const n=WW({},y5,e,t);if(!n)return;const r=t[t.length-1],i=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=i,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)},Lod:function(e,t){const n=WW({},b5,e,t);if(!n)return;const r=t[t.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)}}),g2=zW(c2,["Document","Placemark"]),_2=zW(c2,{Document:FW((function(e,t,n){const r={node:e};qW(r,S5,k5,t,n,void 0,this)})),Placemark:FW(X5)});let y2,b2,v2,w2,x2,M2,S2=null;let k2,T2=null;let L2,C2=null;let E2=null;let D2=null;let A2,$2=null;function P2(e){return 32/Math.min(e[0],e[1])}function R2(e){return e}function O2(e,t,n){return Array.isArray(e)?e:"string"==typeof e?O2(n[e],t,n):t}function I2(e){const t=CW(e,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(n){const e=n[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}}function F2(e){let t=CW(e,!1);const n=[];t=t.replace(/\s*,\s*/g,",");const r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let i;for(;i=r.exec(t);){const e=parseFloat(i[1]),r=parseFloat(i[2]),o=i[3]?parseFloat(i[3]):0;n.push(e,r,o),t=t.substr(i[0].length)}if(""===t)return n}function N2(e){const t=CW(e,!1).trim();let n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){return new URL(t,n).href}return t}function Y2(e){const t=CW(e,!1).trim().replace(/^(?!.*#)/,"#");let n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){return new URL(t,n).href}return t}function j2(e){return tG(e)}const H2=zW(c2,{Pair:function(e,t){const n=WW({},g5,e,t,this);if(!n)return;const r=n.key;if(r&&"normal"==r){const e=n.styleUrl;e&&(t[t.length-1]=e);const r=n.Style;r&&(t[t.length-1]=r)}}});function z2(e,t){return WW(void 0,H2,e,t,this)}const U2=zW(c2,{Icon:IW((function(e,t){const n=WW({},Z2,e,t);if(n)return n;return null})),color:IW(I2),heading:IW(tG),hotSpot:IW((function(e){const t=e.getAttribute("xunits"),n=e.getAttribute("yunits");let r;return r="insetPixels"!==t?"insetPixels"!==n?"bottom-left":"top-left":"insetPixels"!==n?"bottom-right":"top-right",{x:parseFloat(e.getAttribute("x")),xunits:u2[t],y:parseFloat(e.getAttribute("y")),yunits:u2[n],origin:r}})),scale:IW(j2)});const W2=zW(c2,{color:IW(I2),scale:IW(j2)});const G2=zW(c2,{color:IW(I2),width:IW(tG)});const q2=zW(c2,{color:IW(I2),fill:IW(ZW),outline:IW(ZW)});const B2=zW(c2,{coordinates:RW(F2)});function V2(e,t){return WW(null,B2,e,t)}const X2=zW(l2,{Track:PW(J2)});const K2=zW(c2,{when:function(e,t){const n=t[t.length-1].whens,r=CW(e,!1),i=Date.parse(r);n.push(isNaN(i)?0:i)}},zW(l2,{coord:function(e,t){const n=t[t.length-1].coordinates,r=CW(e,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(i){const e=parseFloat(i[1]),t=parseFloat(i[2]),r=parseFloat(i[3]);n.push([e,t,r])}else n.push([])}}));function J2(e,t){const n=WW({coordinates:[],whens:[]},K2,e,t);if(!n)return;const r=[],i=n.coordinates,o=n.whens;for(let e=0,t=Math.min(i.length,o.length);e<t;++e)3==i[e].length&&r.push(i[e][0],i[e][1],i[e][2],o[e]);return new vO(r,"XYZM")}const Z2=zW(c2,{href:IW(N2)},zW(l2,{x:IW(tG),y:IW(tG),w:IW(tG),h:IW(tG)}));const Q2=zW(c2,{coordinates:RW(F2)});function e5(e,t){return WW(null,Q2,e,t)}const t5=zW(c2,{extrude:IW(ZW),tessellate:IW(ZW),altitudeMode:IW(oG)});function n5(e,t){const n=WW({},t5,e,t),r=e5(e,t);if(r){const e=new vO(r,"XYZ");return e.setProperties(n,!0),e}}function r5(e,t){const n=WW({},t5,e,t),r=e5(e,t);if(r){const e=new mI(r,"XYZ",[r.length]);return e.setProperties(n,!0),e}}const i5=zW(c2,{LineString:PW(n5),LinearRing:PW(r5),MultiGeometry:PW(o5),Point:PW(s5),Polygon:PW(l5)});function o5(e,t){const n=WW([],i5,e,t);if(!n)return null;if(0===n.length)return new oj(n);let r,i=!0;const o=n[0].getType();let s;for(let e=1,t=n.length;e<t;++e)if(s=n[e],s.getType()!=o){i=!1;break}if(i){let e,t;if("Point"==o){const i=n[0];e=i.getLayout(),t=i.getFlatCoordinates();for(let e=1,r=n.length;e<r;++e)s=n[e],Jt(t,s.getFlatCoordinates());r=new cj(t,e),h5(r,n)}else if("LineString"==o)r=new aj(n),h5(r,n);else if("Polygon"==o)r=new dj(n),h5(r,n);else{if("GeometryCollection"!=o&&!o.startsWith("Multi"))throw new Error("Unknown geometry type found");r=new oj(n)}}else r=new oj(n);return r}function s5(e,t){const n=WW({},t5,e,t),r=e5(e,t);if(r){const e=new VR(r,"XYZ");return e.setProperties(n,!0),e}}const a5=zW(c2,{innerBoundaryIs:function(e,t){const n=WW([],v5,e,t);if(n.length>0){t[t.length-1].push(...n)}},outerBoundaryIs:function(e,t){const n=WW(void 0,w5,e,t);if(n){t[t.length-1][0]=n}}});function l5(e,t){const n=WW({},t5,e,t),r=WW([null],a5,e,t);if(r&&r[0]){const e=r[0],t=[e.length];for(let n=1,i=r.length;n<i;++n)Jt(e,r[n]),t.push(e.length);const i=new mI(e,"XYZ",t);return i.setProperties(n,!0),i}}const c5=zW(c2,{IconStyle:function(e,t){const n=WW({},U2,e,t);if(!n)return;const r=t[t.length-1],i="Icon"in n?n.Icon:{},o=!("Icon"in n)||Object.keys(i).length>0;let s;const a=i.href;let l,c,u;a?s=a:o&&(s=M2);let h="bottom-left";const d=n.hotSpot;let f;d?(l=[d.x,d.y],c=d.xunits,u=d.yunits,h=d.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(s)&&(s.includes("pushpin")?(l=b2,c=v2,u=w2):s.includes("arrow-reverse")?(l=[54,42],c=v2,u=w2):s.includes("paddle")&&(l=[32,1],c=v2,u=w2));const p=i.x,m=i.y;let g;void 0!==p&&void 0!==m&&(f=[p,m]);const _=i.w,y=i.h;let b;void 0!==_&&void 0!==y&&(g=[_,y]);const v=n.heading;void 0!==v&&(b=ht(v));const w=n.scale,x=n.color;if(o){s==M2&&(g=x2);const e=new WI({anchor:l,anchorOrigin:h,anchorXUnits:c,anchorYUnits:u,crossOrigin:this.crossOrigin_,offset:f,offsetOrigin:"bottom-left",rotation:b,scale:w,size:g,src:this.iconUrlFunction_(s),color:x}),t=e.getScaleArray()[0],n=e.getSize();if(null===n){const n=e.getImageState();if(n===Ye||n===je){const r=function(){const n=e.getImageState();if(n!==Ye&&n!==je){const n=e.getSize();if(n&&2==n.length){const r=P2(n);e.setScale(t*r)}e.unlistenImageChange(r)}};e.listenImageChange(r),n===Ye&&e.load()}}else if(2==n.length){const r=P2(n);e.setScale(t*r)}r.imageStyle=e}else r.imageStyle=k2},LabelStyle:function(e,t){const n=WW({},W2,e,t);if(!n)return;const r=t[t.length-1],i=new qI({fill:new pr({color:"color"in n?n.color:y2}),scale:n.scale});r.textStyle=i},LineStyle:function(e,t){const n=WW({},G2,e,t);if(!n)return;const r=t[t.length-1],i=new gr({color:"color"in n?n.color:y2,width:"width"in n?n.width:1});r.strokeStyle=i},PolyStyle:function(e,t){const n=WW({},q2,e,t);if(!n)return;const r=t[t.length-1],i=new pr({color:"color"in n?n.color:y2});r.fillStyle=i;const o=n.fill;void 0!==o&&(r.fill=o);const s=n.outline;void 0!==s&&(r.outline=s)}});function u5(e,t){const n=WW({},c5,e,t,this);if(!n)return null;let r="fillStyle"in n?n.fillStyle:S2;const i=n.fill;let o;void 0===i||i||(r=null),"imageStyle"in n?n.imageStyle!=k2&&(o=n.imageStyle):o=T2;const s="textStyle"in n?n.textStyle:E2,a="strokeStyle"in n?n.strokeStyle:C2,l=n.outline;return void 0===l||l?[new Sr({fill:r,image:o,stroke:a,text:s,zIndex:void 0})]:[new Sr({geometry:function(e){const t=e.getGeometry(),n=t.getType();if("GeometryCollection"===n){return new oj(t.getGeometriesArrayRecursive().filter((function(e){const t=e.getType();return"Polygon"!==t&&"MultiPolygon"!==t})))}if("Polygon"!==n&&"MultiPolygon"!==n)return t},fill:r,image:o,stroke:a,text:s,zIndex:void 0}),new Sr({geometry:function(e){const t=e.getGeometry(),n=t.getType();if("GeometryCollection"===n){return new oj(t.getGeometriesArrayRecursive().filter((function(e){const t=e.getType();return"Polygon"===t||"MultiPolygon"===t})))}if("Polygon"===n||"MultiPolygon"===n)return t},fill:r,stroke:null,zIndex:void 0})]}function h5(e,t){const n=t.length,r=new Array(t.length),i=new Array(t.length),o=new Array(t.length);let s,a,l;s=!1,a=!1,l=!1;for(let e=0;e<n;++e){const n=t[e];r[e]=n.get("extrude"),i[e]=n.get("tessellate"),o[e]=n.get("altitudeMode"),s=s||void 0!==r[e],a=a||void 0!==i[e],l=l||o[e]}s&&e.set("extrude",r),a&&e.set("tessellate",i),l&&e.set("altitudeMode",o)}const d5=zW(c2,{displayName:IW(oG),value:IW(oG)});const f5=zW(c2,{Data:function(e,t){const n=e.getAttribute("name");UW(d5,e,t);const r=t[t.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:null!==n?r[n]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value},SchemaData:function(e,t){UW(_5,e,t)}});function p5(e,t){UW(f5,e,t)}function m5(e,t){UW(m2,e,t)}const g5=zW(c2,{Style:IW(u5),key:IW(oG),styleUrl:IW(Y2)});const _5=zW(c2,{SimpleData:function(e,t){const n=e.getAttribute("name");if(null!==n){const r=oG(e);t[t.length-1][n]=r}}});const y5=zW(c2,{altitudeMode:IW(oG),minAltitude:IW(tG),maxAltitude:IW(tG),north:IW(tG),south:IW(tG),east:IW(tG),west:IW(tG)});const b5=zW(c2,{minLodPixels:IW(tG),maxLodPixels:IW(tG),minFadeExtent:IW(tG),maxFadeExtent:IW(tG)});const v5=zW(c2,{LinearRing:PW(V2)});const w5=zW(c2,{LinearRing:RW(V2)});function x5(e,t){const n=St(t),r=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(let e=0;e<4;++e){const t=Math.floor(r[e]).toString(16);r[e]=1==t.length?"0"+t:t}cG(e,r.join(""))}const M5=zW(c2,{Data:FW((function(e,t,n){e.setAttribute("name",t.name);const r={node:e},i=t.value;"object"==typeof i?(null!==i&&i.displayName&&qW(r,M5,jW,[i.displayName],n,["displayName"]),null!==i&&i.value&&qW(r,M5,jW,[i.value],n,["value"])):qW(r,M5,jW,[i],n,["value"])})),value:FW((function(e,t){cG(e,t)})),displayName:FW((function(e,t){!function(e,t){e.appendChild(XW().createCDATASection(t))}(e,t)}))});const S5=zW(c2,{Placemark:FW(X5)}),k5=function(e,t,n){return LW(t[t.length-1].node.namespaceURI,"Placemark")};const T5=YW("Data");const L5=zW(c2,["href"],zW(l2,["x","y","w","h"])),C5=zW(c2,{href:FW(cG)},zW(l2,{x:FW(aG),y:FW(aG),w:FW(aG),h:FW(aG)})),E5=function(e,t,n){return LW(l2[0],"gx:"+n)};const D5=zW(c2,["scale","heading","Icon","color","hotSpot"]),A5=zW(c2,{Icon:FW((function(e,t,n){const r={node:e},i=n[n.length-1].node;let o=L5[i.namespaceURI],s=HW(t,o);qW(r,C5,jW,s,n,o),o=L5[l2[0]],s=HW(t,o),qW(r,C5,E5,s,n,o)})),color:FW(x5),heading:FW(aG),hotSpot:FW((function(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)})),scale:FW(o3)});const $5=zW(c2,["color","scale"]),P5=zW(c2,{color:FW(x5),scale:FW(o3)});const R5=zW(c2,["color","width"]),O5=zW(c2,{color:FW(x5),width:FW(aG)});const I5={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},F5=function(e,t,n){if(e){return LW(t[t.length-1].node.namespaceURI,I5[e.getType()])}},N5=YW("Point"),Y5=YW("LineString"),j5=YW("LinearRing"),H5=YW("Polygon"),z5=zW(c2,{LineString:FW(Z5),Point:FW(Z5),Polygon:FW(r3),GeometryCollection:FW(U5)});function U5(e,t,n){const r={node:e},i=t.getType();let o,s=[];if("GeometryCollection"===i)t.getGeometriesArrayRecursive().forEach((function(e){const t=e.getType();if("MultiPoint"===t)s=s.concat(e.getPoints());else if("MultiLineString"===t)s=s.concat(e.getLineStrings());else if("MultiPolygon"===t)s=s.concat(e.getPolygons());else{if("Point"!==t&&"LineString"!==t&&"Polygon"!==t)throw new Error("Unknown geometry type");s.push(e)}})),o=F5;else if("MultiPoint"===i)s=t.getPoints(),o=N5;else if("MultiLineString"===i)s=t.getLineStrings(),o=Y5;else{if("MultiPolygon"!==i)throw new Error("Unknown geometry type");s=t.getPolygons(),o=H5}qW(r,z5,o,s,n)}const W5=zW(c2,{LinearRing:FW(Z5)});function G5(e,t,n){qW({node:e},W5,j5,[t],n)}const q5=zW(c2,{ExtendedData:FW((function(e,t,n){const r={node:e},i=t.names,o=t.values,s=i.length;for(let e=0;e<s;e++)qW(r,M5,T5,[{name:i[e],value:o[e]}],n)})),MultiGeometry:FW(U5),LineString:FW(Z5),LinearRing:FW(Z5),Point:FW(Z5),Polygon:FW(r3),Style:FW((function(e,t,n){const r={node:e},i={};if(t.pointStyles.length){const e=t.pointStyles[0].getText();e&&(i.LabelStyle=e);const n=t.pointStyles[0].getImage();n&&"function"==typeof n.getSrc&&(i.IconStyle=n)}if(t.lineStyles.length){const e=t.lineStyles[0].getStroke();e&&(i.LineStyle=e)}if(t.polyStyles.length){const e=t.polyStyles[0].getStroke();e&&!i.LineStyle&&(i.LineStyle=e),i.PolyStyle=t.polyStyles[0]}const o=n[n.length-1].node,s=s3[o.namespaceURI],a=HW(i,s);qW(r,a3,jW,a,n,s)})),address:FW(cG),description:FW(cG),name:FW(cG),open:FW(sG),phoneNumber:FW(cG),styleUrl:FW(cG),visibility:FW(sG)}),B5=zW(c2,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),V5=YW("ExtendedData");function X5(e,t,n){const r={node:e};t.getId()&&e.setAttribute("id",t.getId());const i=t.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[t.getGeometryName()]=1;const s=Object.keys(i||{}).sort().filter((function(e){return!o[e]})),a=t.getStyleFunction();if(a){const e=a(t,0);if(e){const n=Array.isArray(e)?e:[e];let r=n;if(t.getGeometry()&&(r=n.filter((function(e){const n=e.getGeometryFunction()(t);if(n){const e=n.getType();return"GeometryCollection"===e?n.getGeometriesArrayRecursive().filter((function(e){const t=e.getType();return"Point"===t||"MultiPoint"===t})).length:"Point"===e||"MultiPoint"===e}}))),this.writeStyles_){let e=n,o=n;t.getGeometry()&&(e=n.filter((function(e){const n=e.getGeometryFunction()(t);if(n){const e=n.getType();return"GeometryCollection"===e?n.getGeometriesArrayRecursive().filter((function(e){const t=e.getType();return"LineString"===t||"MultiLineString"===t})).length:"LineString"===e||"MultiLineString"===e}})),o=n.filter((function(e){const n=e.getGeometryFunction()(t);if(n){const e=n.getType();return"GeometryCollection"===e?n.getGeometriesArrayRecursive().filter((function(e){const t=e.getType();return"Polygon"===t||"MultiPolygon"===t})).length:"Polygon"===e||"MultiPolygon"===e}}))),i.Style={pointStyles:r,lineStyles:e,polyStyles:o}}if(r.length&&void 0===i.name){const e=r[0].getText();e&&(i.name=e.getText())}}}const l=n[n.length-1].node,c=B5[l.namespaceURI],u=HW(i,c);if(qW(r,q5,jW,u,n,c),s.length>0){const e=HW(i,s);qW(r,q5,V5,[{names:s,values:e}],n)}const h=n[0];let d=t.getGeometry();d&&(d=tW(d,!0,h)),qW(r,q5,F5,[d],n)}const K5=zW(c2,["extrude","tessellate","altitudeMode","coordinates"]),J5=zW(c2,{extrude:FW(sG),tessellate:FW(sG),altitudeMode:FW(cG),coordinates:FW((function(e,t,n){const r=n[n.length-1],i=r.layout,o=r.stride;let s;if("XY"==i||"XYM"==i)s=2;else{if("XYZ"!=i&&"XYZM"!=i)throw new Error("Invalid geometry layout");s=3}const a=t.length;let l="";if(a>0){l+=t[0];for(let e=1;e<s;++e)l+=","+t[e];for(let e=o;e<a;e+=o){l+=" "+t[e];for(let n=1;n<s;++n)l+=","+t[e+n]}}cG(e,l)}))});function Z5(e,t,n){const r=t.getFlatCoordinates(),i={node:e};i.layout=t.getLayout(),i.stride=t.getStride();const o=t.getProperties();o.coordinates=r;const s=n[n.length-1].node,a=K5[s.namespaceURI],l=HW(o,a);qW(i,J5,jW,l,n,a)}const Q5=zW(c2,["color","fill","outline"]),e3=zW(c2,{outerBoundaryIs:FW(G5),innerBoundaryIs:FW(G5)}),t3=YW("innerBoundaryIs"),n3=YW("outerBoundaryIs");function r3(e,t,n){const r=t.getLinearRings(),i=r.shift(),o={node:e};qW(o,e3,t3,r,n),qW(o,e3,n3,[i],n)}const i3=zW(c2,{color:FW(x5),fill:FW(sG),outline:FW(sG)});function o3(e,t){aG(e,Math.round(1e6*t)/1e6)}const s3=zW(c2,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),a3=zW(c2,{IconStyle:FW((function(e,t,n){const r={node:e},i={},o=t.getSrc(),s=t.getSize(),a=t.getImageSize(),l={href:o};if(s){l.w=s[0],l.h=s[1];const e=t.getAnchor(),n=t.getOrigin();if(n&&a&&0!==n[0]&&n[1]!==s[1]&&(l.x=n[0],l.y=a[1]-(n[1]+s[1])),e&&(e[0]!==s[0]/2||e[1]!==s[1]/2)){const t={x:e[0],xunits:"pixels",y:s[1]-e[1],yunits:"pixels"};i.hotSpot=t}}i.Icon=l;let c=t.getScaleArray()[0],u=s;if(null===u&&(u=x2),2==u.length){c/=P2(u)}1!==c&&(i.scale=c);const h=t.getRotation();0!==h&&(i.heading=h);const d=t.getColor();d&&(i.color=d);const f=n[n.length-1].node,p=D5[f.namespaceURI],m=HW(i,p);qW(r,A5,jW,m,n,p)})),LabelStyle:FW((function(e,t,n){const r={node:e},i={},o=t.getFill();o&&(i.color=o.getColor());const s=t.getScale();s&&1!==s&&(i.scale=s);const a=n[n.length-1].node,l=$5[a.namespaceURI],c=HW(i,l);qW(r,P5,jW,c,n,l)})),LineStyle:FW((function(e,t,n){const r={node:e},i={color:t.getColor(),width:Number(t.getWidth())||1},o=n[n.length-1].node,s=R5[o.namespaceURI],a=HW(i,s);qW(r,O5,jW,a,n,s)})),PolyStyle:FW((function(e,t,n){const r={node:e},i=t.getFill(),o=t.getStroke(),s={color:i?i.getColor():void 0,fill:!!i&&void 0,outline:!!o&&void 0},a=n[n.length-1].node,l=Q5[a.namespaceURI],c=HW(s,l);qW(r,i3,jW,c,n,l)}))});const l3=class extends lZ{constructor(e){super(),e=e||{},$2||(y2=[255,255,255,1],S2=new pr({color:y2}),b2=[20,2],v2="pixels",w2="pixels",x2=[64,64],M2="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",T2=new WI({anchor:b2,anchorOrigin:"bottom-left",anchorXUnits:v2,anchorYUnits:w2,crossOrigin:"anonymous",rotation:0,scale:P2(x2),size:x2,src:M2}),k2="NO_IMAGE",C2=new gr({color:y2,width:1}),L2=new gr({color:[51,51,51,1],width:2}),E2=new qI({font:"bold 16px Helvetica",fill:S2,stroke:L2,scale:.8}),D2=new Sr({fill:S2,image:T2,text:E2,stroke:C2,zIndex:0}),$2=[D2]),this.dataProjection=pR("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:$2,this.extractStyles_=void 0===e.extractStyles||e.extractStyles,this.writeStyles_=void 0===e.writeStyles||e.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===e.showPointNames||e.showPointNames,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:R2,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,t){const n=WW([],zW(c2,{Document:$W(this.readDocumentOrFolder_,this),Folder:$W(this.readDocumentOrFolder_,this),Placemark:PW(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),e,t,this);if(n)return n}readPlacemark_(e,t){const n=WW({geometry:null},h2,e,t,this);if(!n)return;const r=new L$,i=e.getAttribute("id");null!==i&&r.setId(i);const o=t[0],s=n.geometry;if(s&&tW(s,!1,o),r.setGeometry(s),delete n.geometry,this.extractStyles_){const e=function(e,t,n,r,i){return function(o,s){let a=i,l="",c=[];if(a){const e=o.getGeometry();if(e)if(e instanceof oj)c=e.getGeometriesArrayRecursive().filter((function(e){const t=e.getType();return"Point"===t||"MultiPoint"===t})),a=c.length>0;else{const t=e.getType();a="Point"===t||"MultiPoint"===t}}a&&(l=o.get("name"),a=a&&!!l,a&&/&[^&]+;/.test(l)&&(A2||(A2=document.createElement("textarea")),A2.innerHTML=l,l=A2.value));let u=n;if(e?u=e:t&&(u=O2(t,n,r)),a){const e=function(e,t){const n=[0,0];let r="start";const i=e.getImage();if(i){const e=i.getSize();if(e&&2==e.length){const t=i.getScaleArray(),o=i.getAnchor();n[0]=t[0]*(e[0]-o[0]),n[1]=t[1]*(e[1]/2-o[1]),r="left"}}let o=e.getText();o?(o=o.clone(),o.setFont(o.getFont()||E2.getFont()),o.setScale(o.getScale()||E2.getScale()),o.setFill(o.getFill()||E2.getFill()),o.setStroke(o.getStroke()||L2)):o=E2.clone();o.setText(t),o.setOffsetX(n[0]),o.setOffsetY(n[1]),o.setTextAlign(r);const s=new Sr({image:i,text:o});return s}(u[0],l);if(c.length>0){e.setGeometry(new oj(c));return[e,new Sr({geometry:u[0].getGeometry(),image:null,fill:u[0].getFill(),stroke:u[0].getStroke(),text:null})].concat(u.slice(1))}return e}return u}}(n.Style,n.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(e)}return delete n.Style,r.setProperties(n,!0),r}readSharedStyle_(e,t){const n=e.getAttribute("id");if(null!==n){const r=u5.call(this,e,t);if(r){let t,i=e.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i){t=new URL("#"+n,i).href}else t="#"+n;this.sharedStyles_[t]=r}}}readSharedStyleMap_(e,t){const n=e.getAttribute("id");if(null===n)return;const r=z2.call(this,e,t);if(!r)return;let i,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){i=new URL("#"+n,o).href}else i="#"+n;this.sharedStyles_[i]=r}readFeatureFromNode(e,t){if(!c2.includes(e.namespaceURI))return null;const n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n||null}readFeaturesFromNode(e,t){if(!c2.includes(e.namespaceURI))return[];let n;const r=e.localName;if("Document"==r||"Folder"==r)return n=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),n||[];if("Placemark"==r){const n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n?[n]:[]}if("kml"==r){n=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling){const e=this.readFeaturesFromNode(r,t);e&&Jt(n,e)}return n}return[]}readName(e){if(e){if("string"==typeof e){const t=AW(e);return this.readNameFromDocument(t)}return DW(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){const e=this.readNameFromNode(t);if(e)return e}}readNameFromNode(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(c2.includes(t.namespaceURI)&&"name"==t.localName)return oG(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){const e=t.localName;if(c2.includes(t.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)){const e=this.readNameFromNode(t);if(e)return e}}}readNetworkLinks(e){const t=[];if("string"==typeof e){const n=AW(e);Jt(t,this.readNetworkLinksFromDocument(n))}else DW(e)?Jt(t,this.readNetworkLinksFromDocument(e)):Jt(t,this.readNetworkLinksFromNode(e));return t}readNetworkLinksFromDocument(e){const t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Jt(t,this.readNetworkLinksFromNode(n));return t}readNetworkLinksFromNode(e){const t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(c2.includes(n.namespaceURI)&&"NetworkLink"==n.localName){const e=WW({},d2,n,[]);t.push(e)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){const e=n.localName;!c2.includes(n.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Jt(t,this.readNetworkLinksFromNode(n))}return t}readRegion(e){const t=[];if("string"==typeof e){const n=AW(e);Jt(t,this.readRegionFromDocument(n))}else DW(e)?Jt(t,this.readRegionFromDocument(e)):Jt(t,this.readRegionFromNode(e));return t}readRegionFromDocument(e){const t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Jt(t,this.readRegionFromNode(n));return t}readRegionFromNode(e){const t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(c2.includes(n.namespaceURI)&&"Region"==n.localName){const e=WW({},m2,n,[]);t.push(e)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){const e=n.localName;!c2.includes(n.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Jt(t,this.readRegionFromNode(n))}return t}readCamera(e){const t=[];if("string"==typeof e){const n=AW(e);Jt(t,this.readCameraFromDocument(n))}else DW(e)?Jt(t,this.readCameraFromDocument(e)):Jt(t,this.readCameraFromNode(e));return t}readCameraFromDocument(e){const t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType===Node.ELEMENT_NODE&&Jt(t,this.readCameraFromNode(n));return t}readCameraFromNode(e){const t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(c2.includes(n.namespaceURI)&&"Camera"===n.localName){const e=WW({},p2,n,[]);t.push(e)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){const e=n.localName;!c2.includes(n.namespaceURI)||"Document"!==e&&"Folder"!==e&&"Placemark"!==e&&"kml"!==e||Jt(t,this.readCameraFromNode(n))}return t}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=LW(c2[4],"kml"),r="http://www.w3.org/2000/xmlns/";n.setAttributeNS(r,"xmlns:gx",l2[0]),n.setAttributeNS(r,"xmlns:xsi",TW),n.setAttributeNS(TW,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");const i={node:n},o={};e.length>1?o.Document=e:1==e.length&&(o.Placemark=e[0]);const s=g2[n.namespaceURI],a=HW(o,s);return qW(i,_2,jW,a,[t],s,this),n}};f3.$inject=["$filter","ngeoMeasurePrecision","ngeoMeasureDecimals","ngeoMeasureSpherical","ngeoPointfilter"];const c3="GPX",u3="KML",h3={NONE:"none",FORWARD:"forward",BACKWARD:"backward",BOTH:"both"},d3={FIRST:"first",LAST:"last",EVERY:"every"};function f3(e,t,n,r,i){if(this.$filter_=e,this.decimals_=n,this.precision_=t,this.spherical=r,this.numberFormat_=e("number"),this.unitPrefixFormat_=e("ngeoUnitPrefix"),this.ngeoNumberCoordinates_=e("ngeoNumberCoordinates"),this.pointFilterFn_=null,this.pointFilterArgs_=[],i){const e=i.split(":"),t=e.shift(),n=this.$filter_(t);console.assert("function"==typeof n),this.pointFilterFn_=n,this.pointFilterArgs_=e}else this.pointFilterFn_=null;this.projection_=null}function p3(e){const t=e.getProperties();delete t.boundedBy,delete t[e.getGeometryName()],delete t.ngeo_feature_type_;for(const e in t){const n=t[e];"object"==typeof n&&("true"==n["xsi:nil"]?t[e]=void 0:n._content_&&(t[e]=n._content_))}return t}f3.prototype.setProjection=function(e){this.projection_=e},f3.prototype.setStyle=function(e,t){const n=this.getStyle(e);t&&(this.supportsVertex_(e)&&n.push(this.getVertexStyle()),n.unshift(this.getHaloStyle_(e))),e.setStyle(n)},f3.prototype.getStyle=function(e){let t,n;switch(this.getType(e)){case f1:t=this.getLineStringStyle_(e);break;case _1:t=this.getPointStyle_(e);break;case d1:case y1:case b1:t=this.getPolygonStyle_(e);break;case v1:t=this.getTextStyle_(e)}if(!t)throw new Error("Missing style");return n=t instanceof Array?t:[t],n},f3.prototype.getLineStringStyle_=function(e){const t=this.getStrokeProperty(e),n=this.getShowLabelProperty(e),r=this.getShowMeasureProperty(e),i=this.getRGBAColorProperty(e),o=this.getArrowDirectionProperty(e),s=this.getArrowPositionProperty(e),a=[new Sr({stroke:new gr({color:i,width:t})})];o!==h3.NONE&&a.push(...this.getArrowLineStyles_(e,o,s,i));const l=[];if(r&&l.push(this.getMeasure(e)),n&&l.push(this.getNameProperty(e)),n||r){const e=l.join("\n");a.push(new Sr({text:this.createTextStyle_({propertyName:"",name:"",text:e})}))}return a},f3.prototype.getArrowLineStyles_=function(e,t,n,r){const i=e.getGeometry(),o=[],s=(e,n)=>{const i=n[0]-e[0],s=n[1]-e[1],a=Math.atan2(s,i),l=(e,t)=>new Sr({geometry:new VR(e),text:new qI({fill:new pr({color:r}),font:'900 20px "Font Awesome 6 Free"',stroke:new gr({width:1,color:r}),text:"",rotateWithView:!0,rotation:t?Math.PI-a:-a})});t!==h3.FORWARD&&t!==h3.BOTH||o.push(l(n,!1)),t!==h3.BACKWARD&&t!==h3.BOTH||o.push(l(e,!0))};let a=null;return i.forEachSegment(((e,t)=>{n!==d3.FIRST?n!==d3.LAST?s(e,t):a=[[...e],[...t]]:null===a&&(a=[[...e],[...t]])})),a&&s(a[0],a[1]),o},f3.prototype.getPointStyle_=function(e){const t=this.getSizeProperty(e),n=this.getRGBAColorProperty(e),r=this.getShowLabelProperty(e),i=this.getShowMeasureProperty(e),o=[new Sr({image:new dr({radius:t,fill:new pr({color:n})})})],s=[];if(i&&s.push(this.getMeasure(e)),r&&s.push(this.getNameProperty(e)),r||i){const e=s.join("\n"),n=10,r=1.3;o.push(new Sr({text:this.createTextStyle_({propertyName:"",name:"",text:e,size:n,offsetY:-(t+n/2*s.length*r+4)})}))}return o},f3.prototype.optNumber=function(e,t){const n=e.get(t);return void 0!==n?"string"==typeof n?+n:n:void 0},f3.prototype.getNumber=function(e,t){const n=e.get(t);return"string"==typeof n?+n:n},f3.prototype.getPolygonStyle_=function(e){const t=this.getStrokeProperty(e),n=this.getOpacityProperty(e),r=this.getRGBAColorProperty(e),i=this.getShowLabelProperty(e),o=this.getShowMeasureProperty(e),s=r.slice();s[3]=n;const a=this.optNumber(e,s1),l=[new Sr({fill:new pr({color:s}),stroke:new gr({color:r,width:t})})];if(o||i)if(o&&void 0!==a){if(!this.projection_)throw new Error("Missing projection");const n=this.getRadiusLine(e,a),o=x1(n,this.projection_,this.precision_,this.unitPrefixFormat_);l.push(new Sr({geometry:n,fill:new pr({color:s}),stroke:new gr({color:r,width:t}),text:this.createTextStyle_({propertyName:"",name:"",text:o,angle:(a%180+180)%180-90})})),l.push(new Sr({geometry:new VR(n.getLastCoordinate()),text:this.createTextStyle_({propertyName:"",name:"",text:`${this.numberFormat_(a,this.decimals_)}°`,size:10,offsetX:20*Math.cos((a-90)*Math.PI/180),offsetY:20*Math.sin((a-90)*Math.PI/180)})})),i&&l.push(new Sr({text:this.createTextStyle_({propertyName:"",name:"",text:this.getNameProperty(e),offsetY:-8,exceedLength:!0})}))}else{const t=[];if(o&&t.push(this.getMeasure(e)),i&&t.push(this.getNameProperty(e)),i||o){const e=t.join("\n");l.push(new Sr({text:this.createTextStyle_({propertyName:"",name:"",text:e,exceedLength:!0})}))}}return l},f3.prototype.getTextStyle_=function(e){return new Sr({text:this.createTextStyle_({propertyName:"",name:"",rotateWithView:!0,text:this.getNameProperty(e),size:this.getSizeProperty(e),angle:this.getAngleProperty(e),color:this.getRGBAColorProperty(e),width:this.getStrokeProperty(e)})})},f3.prototype.createEditingStyles=function(e){const t=[255,255,255,1],n=[0,153,255,1],r=[],i=e.getGeometry();if(!i)throw new Error("Missing geom");const o=i.getType();return"Point"===o?r.push(new Sr({image:new dr({radius:6,fill:new pr({color:n}),stroke:new gr({color:t,width:1.5})}),zIndex:1/0})):("LineString"===o?(r.push(new Sr({stroke:new gr({color:t,width:5})})),r.push(new Sr({stroke:new gr({color:n,width:3})}))):r.push(new Sr({stroke:new gr({color:n,width:1.5}),fill:new pr({color:[255,255,255,.5]})})),r.push(this.getVertexStyle(!0))),r},f3.prototype.createNoEditingSelectionStyles=function(e){const t=[255,255,255,1],n=[128,128,128,.7],r=[],i=e.getGeometry();if(!i)throw new Error("Missing geom");const o=i.getType();return"Point"===o||"MultiPoint"===o?r.push(new Sr({image:new dr({radius:8,fill:new pr({color:n}),stroke:new gr({color:t,width:1})}),zIndex:1/0})):"LineString"===o||"MultiLineString"===o?(r.push(new Sr({stroke:new gr({color:t,width:4})})),r.push(new Sr({stroke:new gr({color:n,width:2})}))):r.push(new Sr({stroke:new gr({color:n,width:1}),fill:new pr({color:[255,255,255,.5]})})),r},f3.prototype.getVertexInfoAtCoordinate=function(e,t,n){let r=null;if(this.supportsVertexRemoval_(e)){const i=6*n;let o=null,s=null,a=null,l=-1;const c=e.getGeometry();if(c instanceof vO?(o=c.getCoordinates(),l=2):c instanceof mI?(s=c.getCoordinates(),l=4):c instanceof aj?(s=c.getCoordinates(),l=2):c instanceof dj&&(a=c.getCoordinates(),l=4),o){const e=this.getCoordinateIndexThatHitsAt_(o,t,l,i);-1!==e&&(r=[e])}else if(s){const e=s.length;for(let n=0;n<e;n++){const e=this.getCoordinateIndexThatHitsAt_(s[n],t,l,i);if(-1!==e){r=[n,e];break}}}else if(a){const e=a.length;for(let n=0;n<e;n++){const e=a[n],o=e.length;for(let s=0;s<o;s++){const o=this.getCoordinateIndexThatHitsAt_(e[s],t,l,i);if(-1!==o){r=[n,s,o];break}}if(r)break}}}return r},f3.prototype.getCoordinateIndexThatHitsAt_=function(e,t,n,r){let i=-1;const o=e.length;if(o>n)for(let n=0;n<o;n++){if(X$(q$(nP(e[n]),r),t)){i=n;break}}return i},f3.prototype.getVertexStyle=function(e){const t=void 0===e||e,n={image:new ur({radius:6,points:4,angle:Math.PI/4,fill:new pr({color:[255,255,255,.5]}),stroke:new gr({color:[0,0,0,1]})})};return t&&(n.geometry=function(e){const t=e.getGeometry();if(!(t instanceof zR))return;if("Point"==t.getType())return;let n,r=[],i=[];if(t instanceof vO?i=t.getCoordinates():t instanceof aj?r=t.getCoordinates():t instanceof mI?i=t.getCoordinates()[0]:t instanceof dj&&(n=t.getCoordinates()),n)for(let e=0,t=n.length;e<t;e++)r=r.concat(n[e]);for(let e=0,t=r.length;e<t;e++)i=i.concat(r[e]);return i.length?new cj(i):t}),new Sr(n)},f3.prototype.removeVertex=function(e,t){let n=!1;const r=e.getGeometry();if(!(r instanceof zR))throw new Error("Wrong geometry type");if(r instanceof vO){const e=r.getCoordinates(),i=t[0];e.length>2&&(e.splice(i,1),n=!0),n&&r.setCoordinates(e)}else if(r instanceof mI){const e=r.getCoordinates(),i=t[0],o=t[1],s=e[i];s.length>4&&(s.splice(o,1),n=!0,0===o&&(s.pop(),s.push(s[0]))),n&&r.setCoordinates(e)}else if(r instanceof aj){const e=r.getCoordinates(),i=t[0],o=t[1],s=e[i];s.length>2&&(s.splice(o,1),n=!0),n&&r.setCoordinates(e)}else if(r instanceof dj){const e=r.getCoordinates(),i=t[0],o=t[1],s=t[2],a=e[i][o];a.length>4&&(a.splice(s,1),n=!0,0===s&&(a.pop(),a.push(a[0]))),n&&r.setCoordinates(e)}},f3.prototype.supportsVertex_=function(e){const t=[f1,p1,g1,y1,b1],n=this.getType(e);return t.includes(n)},f3.prototype.supportsVertexRemoval_=function(e){const t=[f1,p1,g1,y1],n=this.getType(e);return t.includes(n)},f3.prototype.getHaloStyle_=function(e){let t;switch(this.getType(e)){case _1:const n=this.getSizeProperty(e);t=new Sr({image:new dr({radius:n+3,fill:new pr({color:[255,255,255,1]})})});break;case f1:case d1:case y1:case b1:const r=this.getStrokeProperty(e);t=new Sr({stroke:new gr({color:[255,255,255,1],width:r+6})});break;case v1:t=new Sr({text:this.createTextStyle_({propertyName:"",name:"",rotateWithView:!0,text:this.getNameProperty(e),size:this.getSizeProperty(e),angle:this.getAngleProperty(e),width:9})})}if(!t)throw new Error("Missing style");return t},f3.prototype.getAngleProperty=function(e){const t=+e.get(Z0);return console.assert("number"==typeof t),t},f3.prototype.getColorProperty=function(e){return e.get(Q0)},f3.prototype.getRGBAColorProperty=function(e){const t=this.getColorProperty(e);return"string"!=typeof t?null:Mt(t)},f3.prototype.getNameProperty=function(e){const t=e.get(r1);return console.assert("string"==typeof t),t},f3.prototype.getOpacityProperty=function(e){return this.getNumber(e,o1)},f3.prototype.getShowMeasureProperty=function(e){let t=e.get(a1);return void 0===t?t=!1:"string"==typeof t&&(t="true"===t),t},f3.prototype.getShowLabelProperty=function(e){let t=e.get(i1);return void 0===t?t=!1:"string"==typeof t&&(t="true"===t),t},f3.prototype.getShowArrowsProperty=function(e){const t=e.get(u1);return void 0!==t&&t!==h3.NONE},f3.prototype.getSizeProperty=function(e){return this.getNumber(e,l1)},f3.prototype.getStrokeProperty=function(e){return this.getNumber(e,c1)},f3.prototype.getArrowDirectionProperty=function(e){const t=e.get(u1);return Object.values(h3).includes(t)?t:h3.NONE},f3.prototype.getArrowPositionProperty=function(e){const t=e.get(h1);return Object.values(d3).includes(t)?t:d3.FIRST},f3.prototype.export=function(e,t){switch(t){case c3:this.exportGPX(e);break;case u3:this.exportKML(e)}},f3.prototype.exportGPX=function(e){const t=new a2;this.export_(e,t,"export.gpx","application/gpx+xml")},f3.prototype.exportKML=function(e){const t=new l3;this.export_(e,t,"export.kml","application/vnd.google-earth.kml+xml")},f3.prototype.export_=function(e,t,n,r){const i=void 0!==r?r:"text/plain",o=[];let s;e.forEach((e=>{s=new L$(e.getProperties()),this.setStyle(s,!1),o.push(s)}));const a=this.projection_?{dataProjection:"EPSG:4326",featureProjection:this.projection_}:{},l=t.writeFeatures(o,a);"string"==typeof l?Bz(l,n,`${i};charset=utf-8`):console.error("Unsupported type: "+typeof l)},f3.prototype.createTextStyle_=function(e){const t=e;if(e.angle){const n=(void 0!==e.angle?e.angle:0)*Math.PI/180;t.rotation=n,delete e.angle}return t.overflow=!0,t.font=["normal",`${e.size||10}pt`,"Arial"].join(" "),e.color&&(t.fill=new pr({color:e.color||[0,0,0,1]}),delete e.color),t.stroke=new gr({color:[255,255,255,1],width:e.width||3}),delete e.width,new qI(t)},f3.prototype.getMeasure=function(e){if(!this.projection_)throw new Error("Missing projection");const t=e.getGeometry();if(!t)throw new Error("Missing geometry");let n="";if(t instanceof mI)if(this.getType(e)===d1){const t=this.optNumber(e,s1);if("number"!=typeof t)throw new Error("Missing azimut");n=S1(this.getRadiusLine(e,t),this.projection_,this.decimals_,this.precision_,this.unitPrefixFormat_,this.numberFormat_)}else n=w1(t,this.projection_,this.precision_,this.unitPrefixFormat_,this.spherical);else if(t instanceof vO)n=x1(t,this.projection_,this.precision_,this.unitPrefixFormat_,this.spherical);else if(t instanceof VR)if(null===this.pointFilterFn_)n=function(e,t,n,r){return n(e.getCoordinates(),t,r)}(t,this.decimals_,this.ngeoNumberCoordinates_);else{const e=t.getCoordinates();n=this.pointFilterArgs_.length>1?this.pointFilterFn_(e,this.pointFilterArgs_[0],this.pointFilterArgs_[1]).join(", "):this.pointFilterFn_(e,this.pointFilterArgs_[0]).join(", ")}return n},f3.prototype.getType=function(e){const t=e.getGeometry();let n;if(console.assert(t,"Geometry should be thruthy"),t instanceof VR?n=e.get(n1)?v1:_1:t instanceof cj?n=m1:t instanceof mI?n=e.get(e1)?d1:e.get(t1)?b1:y1:t instanceof dj?n=g1:t instanceof vO?n=f1:t instanceof aj&&(n=p1),!n)throw new Error("Missing type");return n},f3.prototype.fitMapToFeature=function(e,t,n){const r=void 0!==n?n:250,i=t.getSize();if(!Array.isArray(i))throw new Error("Missing size");const o=t.getView(),s=o.calculateExtent(i),a=e.getGeometry();if(!a)throw new Error("Missing geometry");const l=a.intersectsExtent(s),c=o.getCenter();if(!Array.isArray(c))throw new Error("Missing mapCenter");const u=a.getExtent();if(l){if(!(a instanceof VR)){const e=o.getResolutionForExtent(u),t=o.getZoomForResolution(e);if(!t)throw new Error("Missing featureZoom");const n=Math.floor(t),i=o.getZoom();if(!i)throw new Error("Missing zoom");n<i&&o.animate({center:c,duration:r},{center:c,duration:r,zoom:n})}}else{const e=gP(u),t=vP(u),n=gP(s),l=vP(s);if(n>=e&&l>=t){let e;e=a instanceof vO?a.getCoordinateAt(.5):a instanceof mI?a.getInteriorPoint().getCoordinates():a instanceof VR?a.getCoordinates():fP(a.getExtent()),o.animate({center:c,duration:r},{center:e,duration:r})}else o.fit(u,{duration:r,size:i})}},f3.prototype.getRadiusLine=function(e,t){const n=e.getGeometry();if(!n)throw new Error("Missing geometry");const r=n.getExtent(),i=(r[3]-r[1])/2,o=fP(n.getExtent()),s=Math.cos((t-90)*Math.PI/180)*i,a=-Math.sin((t-90)*Math.PI/180)*i,l=[s+o[0],a+o[1]];return new vO([o,l])},f3.prototype.getNonSpatialProperties=function(e){const t=e.getGeometryName(),n={},r=e.getProperties();for(const e in r)e!==t&&(n[e]=r[e]);return n},f3.prototype.clearNonSpatialProperties=function(e){const t=e.getGeometryName(),n=e.getProperties();for(const r in n)r!==t&&e.set(r,void 0)},f3.prototype.findFeatureIndexByFid=function(e,t){let n=-1;for(let r=0,i=e.length;r<i;r++)if(e[r].getId()==t){n=r;break}return n};const m3=t().module("ngeoFeatureHelper",[J0.name]);m3.service("ngeoFeatureHelper",f3);const g3=m3;function _3(){}_3.prototype.createDate=function(e,t=null){return null!==e&&null!=e?new Date(e):t},_3.prototype.getTime=function(e,t=null){return e?e.getTime():t},_3.prototype.getOptions=function(e){const t=this.createDate(e.minValue),n=this.createDate(e.maxValue),r=this.createDate(e.minDefValue,t),i=this.createDate(e.maxDefValue,n);if(!r)throw new Error("Missing minDefaultDate");if(!i)throw new Error("Missing maxDefaultDate");const o=this.getTime(t),s=this.getTime(n),a=this.getTime(r),l=this.getTime(i);if(!a)throw new Error("Missing minDefaultTime");let c=a;if("range"===e.mode){if(!l)throw new Error("Missing maxDefaultTime");c=[a,l]}return{minDate:o,maxDate:s,values:c}},_3.prototype.getUTCDate=function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())};const y3=t().module("ngeoTime",[]);y3.service("ngeoTime",_3);const b3=y3;class v3 extends _3{constructor(e,t){super(),this.$filter_=e,this.gettextCatalog_=t}formatTimeValue(e,t,n,r){const i=new Date(e),o=r?"UTC":void 0;let s="yyyy",a="yyyy-MM",l="yyyy-MM-dd",c=null;if(!n){const e=this.gettextCatalog_;s=e.getString("yyyy"),a=e.getString("M/yyyy"),l=e.getString("M/d/yyyy"),c=e.getString("M/d/yyyy HH:MM:ss")}switch(t){case"year":return this.$filter_("date")(i,s,o);case"month":return this.$filter_("date")(i,a,o);case"day":return this.$filter_("date")(i,l,o);case"second":return c?this.$filter_("date")(i,c,o):i.toISOString().replace(/\.\d{3}/,"");default:return i.toISOString().replace(/\.\d{3}/,"")}}formatWMSTimeParam(e,t,n){return console.assert(void 0!==e.resolution),"range"===e.mode?(console.assert(void 0!==t.end),`${this.formatTimeValue(t.start,e.resolution,!0,n)}/${this.formatTimeValue(t.end,e.resolution,!0,n)}`):this.formatTimeValue(t.start,e.resolution,!0,n)}}v3.$inject=["$filter","gettextCatalog"];const w3=t().module("ngeoWMSTime",[b3.name]);w3.service("ngeoWMSTime",v3);const x3=w3,M3={BETWEEN:"..",EQUAL_TO:"=",GREATER_THAN:">",GREATER_THAN_OR_EQUAL_TO:">=",LESSER_THAN:"<",LESSER_THAN_OR_EQUAL_TO:"<=",LIKE:"~",NOT_EQUAL_TO:"!="},S3={CONTAINS:"contains",INTERSECTS:"intersects",WITHIN:"within"},k3={BEGINS:"time_start",DURING:"time_during",ENDS:"time_end",EQUALS:"time_equal"};class T3{constructor(e){this.active=!0===e.active,this.literal_=void 0!==e.literal?e.literal:null,this.lowerBoundary=void 0!==e.lowerBoundary?e.lowerBoundary:null,this.operator=e.operator||null,this.upperBoundary=void 0!==e.upperBoundary?e.upperBoundary:null,this.isCustom_=!1!==e.isCustom,this.name_=e.name,this.operators_=e.operators||null,this.propertyName_=e.propertyName,this.type_=e.type,this.listenerKeys=[]}get literal(){return this.literal_}set literal(e){this.literal_=e}get isCustom(){return this.isCustom_}get name(){return this.name_}get operators(){return this.operators_}get propertyName(){return this.propertyName_}get type(){return this.type_}get value(){let e=null;const t=this.literal,n=this.lowerBoundary,r=this.operator,i=this.propertyName,o=this.upperBoundary;return r&&(r===M3.BETWEEN||r===k3.DURING?null!==n&&null!==o&&(e={operator:r,lowerBoundary:n,propertyName:i,upperBoundary:o}):null!==t&&(e={literal:t,operator:r,propertyName:i})),e}reset(){null!==this.literal&&(this.literal=null),null!==this.lowerBoundary&&(this.lowerBoundary=null),null!==this.upperBoundary&&(this.upperBoundary=null)}destroy(){this.listenerKeys.forEach(wn),this.listenerKeys.length=0}}const L3=class extends T3{constructor(e){e.type=e.type||tZ,super(e)}},C3=class extends T3{constructor(e){e.type=iZ,super(e);const t=e.featureProperties||{};this.feature_=new L$(t),this.format_=new $B,this.updatingLiteral_=!1,this.updatingGeometry_=!1,this.geometryChangeListenerKey_=null,this.listenerKeys.push(bn(this.feature_,`change:${this.feature.getGeometryName()}`,this.handleFeatureGeometryChange_,this)),this.setGeometryFromLiteral_()}get feature(){return this.feature_}get literal(){return this.literal_}set literal(e){this.updatingLiteral_=!0,this.literal_=e,this.updatingGeometry_||this.setGeometryFromLiteral_(),this.registerGeometryChange_(),this.updatingLiteral_=!1}get geometry(){return this.feature_.getGeometry()||null}set geometry(e){this.feature_.setGeometry(e||void 0)}handleFeatureGeometryChange_(){if(this.updatingLiteral_)return;this.updatingGeometry_=!0;const e=this.feature_.getGeometry();if(e){const t=this.format_.writeGeometry(e);"string"==typeof t?this.literal_=t:console.error("Unsupported type: "+typeof t)}else this.literal_=null;this.registerGeometryChange_(),this.updatingGeometry_=!1}handleGeometryChange_(e){const t=e.target;this.updatingGeometry_=!0;const n=this.format_.writeGeometry(t);"string"==typeof n?this.literal_=n:console.error("Unsupported type: "+typeof n),this.updatingGeometry_=!1}setGeometryFromLiteral_(){let e=null;if(this.literal){const t=`${this.literal}`;e=this.format_.readGeometry(t)}this.geometry=e}registerGeometryChange_(){null!==this.geometryChangeListenerKey_&&(wn(this.geometryChangeListenerKey_),this.geometryChangeListenerKey_=null);const e=this.feature_.getGeometry();e&&(this.geometryChangeListenerKey_=bn(e,"change",this.handleGeometryChange_,this))}},E3=class extends T3{constructor(e){e.operator=M3.EQUAL_TO,e.type=sZ,super(e),this.choices_=e.choices}get choices(){return this.choices_}get selectedChoices(){let e;return e=this.literal?this.literal:[],e}},D3=class extends T3{constructor(e){e.operator=e.operator||M3.LIKE,e.type=aZ,super(e)}};var A3=i(5093),$3=i.n(A3);class P3{constructor(e,t,n){this.gettextCatalog_=e,this.ngeoFeatureHelper_=t,this.ngeoWMSTime_=n}createRulesFromAttributes(e,t){const n=[];for(const r of e)n.push(this.createRuleFromAttribute(r,t));return n}createRuleFromAttribute(e,t){let n;const r=!0===t,i=this.gettextCatalog_.getString(e.name);switch(e.type){case tZ:case nZ:n=new L3(r?{name:i,operator:k3.EQUALS,operators:[k3.EQUALS,k3.BEGINS,k3.ENDS],propertyName:e.name,type:e.type}:{name:i,operator:k3.DURING,propertyName:e.name,type:e.type});break;case iZ:n=new C3({name:i,operator:S3.INTERSECTS,operators:[S3.CONTAINS,S3.INTERSECTS,S3.WITHIN],propertyName:e.name,type:e.type});break;case oZ:n=new T3(r?{name:i,operator:M3.EQUAL_TO,operators:[M3.EQUAL_TO,M3.GREATER_THAN,M3.GREATER_THAN_OR_EQUAL_TO,M3.LESSER_THAN,M3.LESSER_THAN_OR_EQUAL_TO,M3.NOT_EQUAL_TO],propertyName:e.name,type:oZ}:{name:i,operator:M3.BETWEEN,propertyName:e.name,type:oZ});break;case sZ:n=new E3({choices:e.choices,name:i,propertyName:e.name});break;default:n=new D3(r?{text:"",name:i,operator:M3.LIKE,operators:[M3.LIKE,M3.EQUAL_TO,M3.NOT_EQUAL_TO],propertyName:e.name}:{text:"",name:i,operator:M3.LIKE,propertyName:e.name})}return n}createRules(e){const t=[];for(const n of e)t.push(this.createRule(n));return t}createRule(e){let t;switch(e.expression&&(e.literal=e.expression),e.type){case tZ:case nZ:t=new L3(e);break;case iZ:t=new C3(e);break;case sZ:if(e.expression){const t=e.expression;e.literal=t.split(",")}const n=e;console.assert(n.choices),t=new E3(n);break;default:t=new D3(e)}return t}cloneRule(e){const t={isCustom:e.isCustom,name:e.name,propertyName:e.propertyName,type:e.type},n=e.literal;let r;if(null!==n&&(t.literal=n),null!==e.lowerBoundary&&(t.lowerBoundary=e.lowerBoundary),e.operator&&(t.operator=e.operator),e.operators&&(t.operators=e.operators.slice(0)),null!==e.upperBoundary&&(t.upperBoundary=e.upperBoundary),e instanceof L3)r=new L3(t);else if(e instanceof C3)r=new C3(t),r.feature.setProperties(this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature));else if(e instanceof E3){const n=t;n.choices=e.choices.slice(0),r=new E3(n)}else if(e instanceof D3){r=new D3(t)}else r=new T3(t);return r}extendRule(e,t){t.literal!==e.literal&&(t.literal=e.literal),t.lowerBoundary!==e.lowerBoundary&&(t.lowerBoundary=e.lowerBoundary),t.operator!==e.operator&&(t.operator=e.operator),t.upperBoundary!==e.upperBoundary&&(t.upperBoundary=e.upperBoundary),e instanceof C3&&t instanceof C3&&(this.ngeoFeatureHelper_.clearNonSpatialProperties(t.feature),t.feature.setProperties(this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature)))}serializeRules(e){return e.map((e=>this.serializeRule(e)))}serializeRule(e){const t={name:e.name,propertyName:e.propertyName,type:e.type};if(null!==e.literal&&(t.literal=e.literal),null!==e.lowerBoundary&&(t.lowerBoundary=e.lowerBoundary),null!==e.operator&&(t.operator=e.operator),null!==e.operators&&(t.operators=e.operators.slice(0)),null!==e.upperBoundary&&(t.upperBoundary=e.upperBoundary),e instanceof C3){t.featureProperties=this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature)}if(e instanceof E3){t.choices=e.choices}return t}createFilter(e){const t=e.dataSource;let n=null;if(e.filter)n=e.filter;else{const r=e.filterRules||t.filterRules,i=[];if(r&&r.length)for(const n of r){const r=this.createFilterFromRule_(n,t,e.srsName);r&&i.push(r)}const o=t.filterCondition;1===i.length?n=i[0]:i.length>=2&&(o===KJ?n=WZ.apply(null,i):o!==ZJ&&o!==JJ||(n=GZ.apply(null,i))),n&&o===JJ&&(n=function(e){return new jZ(e)}(n))}if(e.incTime){const e=this.createTimeFilterFromDataSource_(t);n=this.joinFilters(n,e)}if(e.incDimensions){const e=this.createDimensionsFilterFromDataSource_(t);n=this.joinFilters(n,e)}return n}createFilterString(e){let t=null;const n=this.createFilter(e);if(n){const e=function(e,t){const n=LW(NQ(t=t||"1.1.0"),"Filter"),r={node:n};return Object.assign(r,{version:t,filter:e}),xQ(n,e,[r]),n}(n,"1.1.0");t=(new XMLSerializer).serializeToString(e)}return t}joinFilters(e,t){let n=null;return e&&t?n=WZ.apply(null,[e,t]):e?n=e:t&&(n=t),n}createFilterFromRule_(e,t,n){let r=null;const i=e.value;if(!i)return null;const o=i.literal,s=i.lowerBoundary,a=i.operator,l=i.propertyName,c=i.upperBoundary,u=M3,h=S3,d=k3,f=[h.CONTAINS,h.INTERSECTS,h.WITHIN],p=[u.GREATER_THAN,u.GREATER_THAN_OR_EQUAL_TO,u.LESSER_THAN,u.LESSER_THAN_OR_EQUAL_TO];if(e instanceof L3){let e,n;a===d.DURING?(e=$3()(s).format("YYYY-MM-DD"),n=$3()(c).format("YYYY-MM-DD")):a===d.EQUALS?(e=$3()(o).format("YYYY-MM-DD"),n=e):a===d.BEGINS?(e=$3()(o).format("YYYY-MM-DD"),n=$3()(o).add(100,"years").format("YYYY-MM-DD")):a===d.ENDS&&(e="1800-01-01",n=$3()(o).format("YYYY-MM-DD")),e&&n&&(r="qgisserver"==t.ogcServerType?function(e,t,n){return new z0(e,t,n)}(l,e,n):VZ(l,e,n))}else if(e instanceof E3){const t=e.selectedChoices;if(1===t.length)r=BZ(l,t[0]);else if(t.length>=2){const e=[];for(const n of t)e.push(BZ(l,n));r=GZ.apply(null,e)}}else if(f.includes(a)){const i=t.getFiltrableWFSLayerName(),o=t.geometryName(i?i[0]:null);if(e instanceof C3){const t=e.geometry;if(!t)throw new Error("Missing geometry");if(null===o)throw new Error("Missing geometryName");a===h.CONTAINS?r=function(e,t,n){return new CZ(e,t,n)}(o,t,n):a===h.INTERSECTS?r=qZ(o,t,n):a===h.WITHIN&&(r=function(e,t,n){return new UZ(e,t,n)}(o,t,n))}}else if(p.includes(a)){if("number"!=typeof o)throw new Error("Wrong literal type");a===u.GREATER_THAN?r=function(e,t){return new PZ(e,t)}(l,o):a===u.GREATER_THAN_OR_EQUAL_TO?r=function(e,t){return new RZ(e,t)}(l,o):a===u.LESSER_THAN?r=function(e,t){return new NZ(e,t)}(l,o):a===u.LESSER_THAN_OR_EQUAL_TO&&(r=function(e,t){return new YZ(e,t)}(l,o))}else if(a===u.BETWEEN)r=function(e,t,n){return new IZ(e,t,n)}(l,s,c);else if(a===u.EQUAL_TO)r=BZ(l,o);else if(a===u.LIKE){r=function(e,t,n,r,i,o){return new FZ(e,t,n,r,i,o)}(l,`*${String(o).replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*")}*`,"*",".","!",!1)}else a===u.NOT_EQUAL_TO&&(r=function(e,t,n){return new HZ(e,t,n)}(l,o));return r}createDimensionsFilterFromDataSource_(e){const t=e.dimensionsFiltersConfig||{},n=e.dimensions,r=[];for(const e in t){let i=t[e].value;if(null===i){const t=n[e];null!=t&&(i=t)}null!==i&&r.push(BZ(t[e].field,i,!0))}return 1===r.length?r[0]:r.length>=2?WZ.apply(null,r):null}createTimeFilterFromDataSource_(e){let t=null;const n=e.timeRangeValue,r=e.timeProperty,i=e.timeAttributeName;if(n&&r&&i)if(void 0!==n.end){const e=this.ngeoWMSTime_.formatWMSTimeParam(r,n).split("/");t=VZ(i,e[0],e[1])}else{const e=r.resolution||"seconds",o=this.ngeoWMSTime_.formatWMSTimeParam(r,n);let s;switch(e){case"year":s=$3()(o).add(1,"years").subtract(1,"seconds");break;case"month":s=$3()(o).add(1,"months").subtract(1,"seconds");break;case"day":s=$3()(o).add(1,"days").subtract(1,"seconds")}if(s){t=VZ(i,$3()(o).utc().format("YYYY-MM-DD HH:mm:ss"),s.utc().format("YYYY-MM-DD HH:mm:ss"))}}return t}}P3.$inject=["gettextCatalog","ngeoFeatureHelper","ngeoWMSTime"];const R3=t().module("ngeoRuleHelper",[g3.name,x3.name]);R3.service("ngeoRuleHelper",P3);const O3=R3,I3=[null,"http://www.w3.org/2001/XMLSchema"];function F3(e,t){return zW(e,t)}const N3=F3(I3,{element:OW(W3),complexType:OW((function(e,t){const n=e.getAttribute("name"),r=WW({name:n},Y3,e,t);return r.complexContent=r.complexContent.extension.sequence.element,r}))}),Y3=F3(I3,{complexContent:IW((function(e,t){return WW({},j3,e,t)}))}),j3=F3(I3,{extension:IW((function(e,t){return WW({},H3,e,t)}))}),H3=F3(I3,{sequence:IW((function(e,t){return WW({},z3,e,t)}))}),z3=F3(I3,{element:OW(W3)});class U3 extends KW{}function W3(e,t){const n={};for(let t=0,r=e.attributes.length;t<r;t++){const r=e.attributes.item(t);if(!r)throw new Error("Missing attribute");n[r.name]=r.value}if(1===t.length){const e=n.type.split(":").pop();if(!e)throw new Error("Missing attribute");n.type=e}return n}U3.prototype.read,U3.prototype.readFromDocument=function(e){let t;for(t=e.firstChild;t;t=t.nextSibling)if(t&&t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},U3.prototype.readFromNode=function(e){let t={};return t=WW(t,N3,e,[]),t};const G3=U3,q3=[null,"http://www.opengis.net/wms"];function B3(e){return qP(e[0].version,"1.3")>=0}const V3=zW(q3,{Service:IW((function(e,t){return WW({},B3(t)?e6:Q3,e,t)})),Capability:IW((function(e,t){return WW({},B3(t)?J3:K3,e,t)}))}),X3={Request:IW((function(e,t){return WW({},u6,e,t)})),Exception:IW((function(e,t){return WW([],i6,e,t)})),Layer:IW((function(e,t){const n=WW({},B3(t)?a6:s6,e,t);if(void 0===n.Layer)return Object.assign(n,y6(e,t));return n}))},K3=zW(q3,{...X3,UserDefinedSymbolization:IW((function(e,t){return{SupportSLD:!!QW(e.getAttribute("UserDefinedSymbolization")),UserLayer:!!QW(e.getAttribute("UserLayer")),UserStyle:!!QW(e.getAttribute("UserStyle")),RemoteWFS:!!QW(e.getAttribute("RemoteWFS"))}}))}),J3=zW(q3,X3);const Z3={Name:IW(oG),Title:IW(oG),Abstract:IW(oG),KeywordList:IW(x6),OnlineResource:IW(JW),ContactInformation:IW((function(e,t){return WW({},t6,e,t)})),Fees:IW(oG),AccessConstraints:IW(oG)},Q3=zW(q3,Z3),e6=zW(q3,{...Z3,LayerLimit:IW(rG),MaxWidth:IW(rG),MaxHeight:IW(rG)}),t6=zW(q3,{ContactPersonPrimary:IW((function(e,t){return WW({},n6,e,t)})),ContactPosition:IW(oG),ContactAddress:IW((function(e,t){return WW({},r6,e,t)})),ContactVoiceTelephone:IW(oG),ContactFacsimileTelephone:IW(oG),ContactElectronicMailAddress:IW(oG)}),n6=zW(q3,{ContactPerson:IW(oG),ContactOrganization:IW(oG)}),r6=zW(q3,{AddressType:IW(oG),Address:IW(oG),City:IW(oG),StateOrProvince:IW(oG),PostCode:IW(oG),Country:IW(oG)}),i6=zW(q3,{Format:PW(oG)}),o6={Name:IW(oG),Title:IW(oG),Abstract:IW(oG),KeywordList:IW(x6),BoundingBox:OW(_6),Dimension:OW((function(e,t){const n={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol")};B3(t)&&Object.assign(n,{default:e.getAttribute("default"),multipleValues:QW(e.getAttribute("multipleValues")),nearestValue:QW(e.getAttribute("nearestValue")),current:QW(e.getAttribute("current")),values:oG(e)});return n})),Attribution:IW((function(e,t){return WW({},l6,e,t)})),AuthorityURL:OW((function(e,t){const n=b6(e,t);if(n)return n.name=e.getAttribute("name"),n;return})),Identifier:OW(oG),MetadataURL:OW((function(e,t){const n=b6(e,t);if(n)return n.type=e.getAttribute("type"),n;return})),DataURL:OW(b6),FeatureListURL:OW(b6),Style:OW((function(e,t){return WW({},p6,e,t)})),Layer:OW(y6)},s6=zW(q3,{...o6,SRS:OW(oG),Extent:IW((function(e,t){return{name:e.getAttribute("name"),default:e.getAttribute("default"),nearestValue:QW(e.getAttribute("nearestValue"))}})),ScaleHint:OW((function(e,t){return{min:nG(e.getAttribute("min")),max:nG(e.getAttribute("max"))}})),LatLonBoundingBox:IW(((e,t)=>_6(e,t,!1))),Layer:OW(y6)}),a6=zW(q3,{...o6,CRS:OW(oG),EX_GeographicBoundingBox:IW((function(e,t){const n=WW({},c6,e,t);if(!n)return;const r=n.westBoundLongitude,i=n.southBoundLatitude,o=n.eastBoundLongitude,s=n.northBoundLatitude;if(void 0===r||void 0===i||void 0===o||void 0===s)return;return[r,i,o,s]})),MinScaleDenominator:IW(tG),MaxScaleDenominator:IW(tG),Layer:OW(y6)}),l6=zW(q3,{Title:IW(oG),OnlineResource:IW(JW),LogoURL:IW(w6)}),c6=zW(q3,{westBoundLongitude:IW(tG),eastBoundLongitude:IW(tG),southBoundLatitude:IW(tG),northBoundLatitude:IW(tG)}),u6=zW(q3,{GetCapabilities:IW(v6),GetMap:IW(v6),GetFeatureInfo:IW(v6)}),h6=zW(q3,{Format:OW(oG),DCPType:OW((function(e,t){return WW({},d6,e,t)}))}),d6=zW(q3,{HTTP:IW((function(e,t){return WW({},f6,e,t)}))}),f6=zW(q3,{Get:IW(b6),Post:IW(b6)}),p6=zW(q3,{Name:IW(oG),Title:IW(oG),Abstract:IW(oG),LegendURL:OW(w6),StyleSheetURL:IW(b6),StyleURL:IW(b6)}),m6=zW(q3,{Format:IW(oG),OnlineResource:IW(JW)}),g6=zW(q3,{Keyword:PW(oG)});function _6(e,t,n=!0){const r={extent:[nG(e.getAttribute("minx")),nG(e.getAttribute("miny")),nG(e.getAttribute("maxx")),nG(e.getAttribute("maxy"))],res:[nG(e.getAttribute("resx")),nG(e.getAttribute("resy"))]};return n?(B3(t)?r.crs=e.getAttribute("CRS"):r.srs=e.getAttribute("SRS"),r):r}function y6(e,t){const n=B3(t),r=t[t.length-1],i=WW({},n?a6:s6,e,t);if(!i)return;let o=QW(e.getAttribute("queryable"));void 0===o&&(o=r.queryable),i.queryable=void 0!==o&&o;let s=iG(e.getAttribute("cascaded"));void 0===s&&(s=r.cascaded),i.cascaded=s;let a=QW(e.getAttribute("opaque"));void 0===a&&(a=r.opaque),i.opaque=void 0!==a&&a;let l=QW(e.getAttribute("noSubsets"));void 0===l&&(l=r.noSubsets),i.noSubsets=void 0!==l&&l;let c=nG(e.getAttribute("fixedWidth"));c||(c=r.fixedWidth),i.fixedWidth=c;let u=nG(e.getAttribute("fixedHeight"));u||(u=r.fixedHeight),i.fixedHeight=u;const h=["Style","AuthorityURL"];n?h.push("CRS"):h.push("SRS","Dimension"),h.forEach((function(e){if(e in r){const t=i[e]||[];i[e]=t.concat(r[e])}}));const d=["BoundingBox","Attribution"];return n?d.push("Dimension","EX_GeographicBoundingBox","MinScaleDenominator","MaxScaleDenominator"):d.push("LatLonBoundingBox","ScaleHint","Extent"),d.forEach((function(e){if(!(e in i)){const t=r[e];i[e]=t}})),i}function b6(e,t){return WW({},m6,e,t)}function v6(e,t){return WW({},h6,e,t)}function w6(e,t){const n=b6(e,t);if(n){const t=[iG(e.getAttribute("width")),iG(e.getAttribute("height"))];return n.size=t,n}}function x6(e,t){return WW([],g6,e,t)}const M6=class extends KW{constructor(){super(),this.version=void 0}readFromNode(e){this.version=e.getAttribute("version").trim();const t=WW({version:this.version},V3,e,[]);return t||null}};class S6{constructor(e,t,n,r){this.http_=e,this.q_=t,this.ngeoRuleHelper_=n,this.ngeoWMSTime_=r,this.requestCancelers_=[],this.wmsGetCapabilitiesPromises_={},this.wmtsGetCapabilitiesPromises_={}}issue(e){const t=[],n=e.map;let r;if(this.cancelStillRunningRequests_(),e.queryableDataSources)r=e.queryableDataSources;else{const t=e.dataSources;console.assert(t,"DataSources should be set"),r=this.getQueryableDataSources(t,n)}const i=this.getCombinableWFSDataSources_(r.wfs);t.push(this.issueCombinedWFS_(i,e));if(e.coordinate){const n=this.getCombinableWMSDataSources_(r.wms);t.push(this.issueCombinedWMS_(n,e))}return this.q_.all(t).then(k6)}getQueryableDataSources(e,t){const n={wfs:[],wms:[]},r=t.getView().getResolution();if(void 0===r)throw new Error("Missing resolution");for(const t of e)this.isDataSourceQueryable_(t,r)&&t instanceof i0&&(t.supportsWFS?n.wfs.push(t):n.wms.push(t));return n}wfsDescribeFeatureType(e){if(!e.supportsAttributes)throw new Error("The data source must support WFS, have a single OGCLayer that\n      is queryable in order to issue WFS DescribeFeatureType requests");if(!e.wfsUrl)throw new Error("Missing WFS URL");const t=e.getWFSLayerNames(),n=XG(e.wfsUrl,{REQUEST:"DescribeFeatureType",SERVICE:"WFS",VERSION:"2.0.0",TYPENAME:t});return this.http_.get(n).then((e=>(new G3).read(e.data)))}wmsFindLayerCapability(e,t){let n=null;for(const r of e){if(r.Name===t){n=r;break}if(r.Layer&&(n=this.wmsFindLayerCapability(r.Layer,t),n))break}return n}wmsGetCapabilities(e,t){const n=!1!==t,r=XG(e,{REQUEST:"GetCapabilities",SERVICE:"WMS",VERSION:"1.3.0"});let i;if(n&&this.wmsGetCapabilitiesPromises_[e]?n&&this.wmsGetCapabilitiesPromises_[e]&&(i=this.wmsGetCapabilitiesPromises_[e]):i=this.http_.get(r).then((e=>(new M6).read(e.data))),!i)throw new Error("Missing promise");return n&&!this.wmsGetCapabilitiesPromises_[e]&&(this.wmsGetCapabilitiesPromises_[e]=i),i}wmtsFindLayerCapability(e,t){let n=null;for(const r of e)if(r.Identifier===t){n=r;break}return n}wmtsGetCapabilities(e,t){const n=!1!==t;let r;if(n&&this.wmtsGetCapabilitiesPromises_[e]?n&&this.wmtsGetCapabilitiesPromises_[e]&&(r=this.wmtsGetCapabilitiesPromises_[e]):r=this.http_.get(e).then((e=>(new HG).read(e.data))),!r)throw new Error("Missing promise");return n&&!this.wmtsGetCapabilitiesPromises_[e]&&(this.wmtsGetCapabilitiesPromises_[e]=r),r}handleWFSQueryResult_(e,t,n,r,i){const o={};let s=new YQ;e.length>0&&"GML2"===e[0].wfsOutputFormat&&(s=new YQ({version:"1.0.0"}));const a=s.readFeatures(i.data).length,l=n>0?n>a:t<=a,c=[];for(const t of e){const e=t.id;c.push(t.name);const s=t instanceof i0?this.readAndTypeFeatures_(t,i.data,r):[];this.setUniqueIds_(s,t.id),o[e]={features:s,featuresCount:a,tooManyFeatures:l,totalFeatureCount:n}}return Object.values(o).forEach((function(e,t){e.featuresCount=a,e.tooManyFeatures=l,e.requestPartners=c})),o}handleQueryResult_(e,t,n,r){const i={};for(const o of e){const e=o.id;if("number"==typeof r){const n=[],s=!0,a=r;this.setUniqueIds_(n,o.id),i[e]={features:n,featuresCount:t,tooManyFeatures:s,totalFeatureCount:a}}else{const s=o instanceof i0?this.readAndTypeFeatures_(o,r.data,n):[];this.setUniqueIds_(s,o.id),i[e]={features:s,featuresCount:t}}}return i}readAndTypeFeatures_(e,t,n){const r=[];let i;const o=this.getSetOlFormatTypes_(e,n).slice();return o.forEach((o=>{if(this.getSetOlFormatTypes_(e,n,[o]),n){if(!e.wfsFormat)throw new Error("Missing wfsFormat");i=e.wfsFormat.readFeatures(t)}else{if(!e.wmsFormat)throw new Error("Missing wmsFormat");i=e.wmsFormat.readFeatures(t)}i.length>0&&i.forEach((e=>{e.set("ngeo_feature_type_",o),r.push(e)}))})),this.getSetOlFormatTypes_(e,n,o),r}getSetOlFormatTypes_(e,t,n){let r;if(t){if(!e.wfsFormat)throw new Error("Missing wfsFormat");n&&e.wfsFormat.setFeatureType(n),r=e.wfsFormat.getFeatureType()}else{if(!e.wmsFormat)throw new Error("Missing wmsFormat");n&&e.wmsFormat.setLayers(n),r=e.wmsFormat.getLayers()}return r?Array.isArray(r)?r:[r]:[]}issueCombinedWFS_(e,t){const n=[],r=t.limit,i=t.map.getView(),o=i.getResolution(),s=i.getProjection().getCode();if(void 0===o)throw new Error("Missing resolution");let a;const l=t.coordinate;if(l){const e=t.tolerance;console.assert(e),a=q$(nP(l),e*o)}else a=t.extent;const c=new YQ,u=new XMLSerializer;let h=!1;for(const i of e){let e=null,d=[];const f=[];let p=null;const m={};t.bboxAsGETParam&&a&&(m.bbox=a.join(","));for(const n of i){const r=n.getInRangeWFSLayerNames(o,!0),c=n.geometryName(r[0]);if(!e){const t=n.wfsFeatureNS,r=n.wfsFeaturePrefix,i=n.wfsOutputFormat;if(!c)throw new Error("Missing geometryName");e={bbox:a,featureNS:t,featurePrefix:r,geometryName:c,outputFormat:i,srsName:s,featureTypes:[]},p=n.wfsUrl,Object.assign(m,n.activeDimensions)}d=d.concat(r);let u=null;if(t.filter?u=this.ngeoRuleHelper_.createFilter({dataSource:n,filter:t.filter,incDimensions:!0,incTime:!0}):(n.filterRules&&n.filterRules.length||n.timeRangeValue||n.dimensionsFiltersConfig&&Object.keys(n.dimensionsFiltersConfig).length>0)&&(console.assert(1===i.length||!(n.timeRangeValue||n.filterRules&&n.filterRules.length),"A data source having filterRules or timeRangeValue should issue\n            a single query, alone."),u=this.ngeoRuleHelper_.createFilter({dataSource:n,incDimensions:!0,incTime:!0,srsName:s})),t.geometry){const e=qZ(c,t.geometry,s);u=this.ngeoRuleHelper_.joinFilters(u,e)}if(u&&(e.filter=u),l){let e;n.queryIconPosition&&(h=!0,e=this.makeBboxWithQueryIconPosition_(n.queryIconPosition,o,l),console.assert(null!==e,"Bad queryIconPosition values"),e=oP(e,a)),r.forEach((t=>{f.push({geometryName:c,name:t,bbox:e||a})}))}}if(!e)throw new Error("Missing getFeatureCommonOptions");if(h?(e.featureTypes=f,delete e.bbox,delete e.geometryName):e.featureTypes=d,!p)throw new Error("Missing url");const g=this.registerCanceler_(),_=new Promise(((n,o)=>{const s=t=>{if(!i[0].wfsFormat)throw new Error("Missing wfsFormat");let o=-1;if(void 0!==t){const e=i[0].wfsFormat.readFeatureCollectionMetadata(t.data);if(!e)throw new Error("Missing metadata");o=e.numberOfFeatures}const s=Object.assign({maxFeatures:r},e),a=c.writeGetFeature(s),l=u.serializeToString(a);if("string"!=typeof p)throw new Error("Wrong URL type");this.http_.post(p,l,{params:m,headers:{"Content-Type":"text/xml; charset=UTF-8"},timeout:g.promise}).then((e=>{const t=this.handleWFSQueryResult_(i,r,o,!0,e);n(t)}))};if(t.queryCountFirst){const t=Object.assign({resultType:"hits"},e),n=c.writeGetFeature(t),r=u.serializeToString(n);this.http_.post(p,r,{params:m,headers:{"Content-Type":"text/xml; charset=UTF-8"},timeout:g.promise}).then((e=>{s(e)}))}else s()}));n.push(_)}return Promise.all(n).then(k6)}makeBboxWithQueryIconPosition_(e,t,n){const r=nP(n),i=e.map((e=>e*t)),o=i.length;if(!o||o>4)return null;if(1===o)return q$(r,i[0]);const s=[i[0],i[1],2===o?i[0]:i[2],4===o?i[3]:i[1]];return[r[0]-s[1],r[1]-s[0],r[2]+s[3],r[3]+s[2]]}issueCombinedWMS_(e,t){const n=[],r=t.limit,i=t.map,o=i.getView(),s=o.getResolution(),a=o.getProjection().getCode();if(void 0===s)throw new Error("Missing resolution");const l=t.coordinate;if(!l)throw new Error("Missing coordinate");for(const t of e){let e,o,c=[],u=!1;const h={};let d=null,f=null;for(const n of t)o||(o=n.wmsInfoFormat,e=n.wmsUrl),c=c.concat(n.getWMSLayerNames(!0)),u||(Object.assign(h,n.activeDimensions),u=!0),n.filterRules&&n.filterRules.length&&(console.assert(1===t.length),f=n.getFiltrableWFSLayerName(),d=this.ngeoRuleHelper_.createFilterString({dataSource:n,srsName:a})),n.timeRangeValue&&n.timeProperty&&(console.assert(1===t.length),h.TIME=this.ngeoWMSTime_.formatWMSTimeParam(n.timeProperty,n.timeRangeValue));if(h.LAYERS=c,h.QUERY_LAYERS=c,d&&f){let e=null;if(1===c.length)e=d;else{const t=[];for(let e=0,n=c.length;e<n;e++)c[e]===f?t.push(`(${d})`):t.push("()");e=t.join("")}h.FILTER=e}if(!e)throw new Error("Missing url");const p=new sq({params:h,url:e,projection:i.getView().getProjection()}).getFeatureInfoUrl(l,s,a,{FEATURE_COUNT:r,INFO_FORMAT:o});if(!p)throw new Error("Missing wmsGetFeatureInfoUrl");const m=this.registerCanceler_();n.push(this.http_.get(p,{timeout:m.promise}).then(this.handleQueryResult_.bind(this,t,r,!1)))}return this.q_.all(n).then(k6)}getCombinableWFSDataSources_(e){const t=[],n=[];for(const r of e)if(r.combinableForWFS){let e=!1;for(const n of t)r.combinableWithDataSourceForWFS(n[0])&&(n.push(r),e=!0);e||t.push([r])}else n.push([r]);return t.concat(n)}getCombinableWMSDataSources_(e){const t=[],n=[];for(const r of e)if(r.combinableForWMS){let e=!1;for(const n of t)r.combinableWithDataSourceForWMS(n[0])&&(n.push(r),e=!0);e||t.push([r])}else n.push([r]);return t.concat(n)}isDataSourceQueryable_(e,t){let n=e.visible&&e.inRange&&e.queryable;if(n&&e instanceof i0&&e.supportsWFS){n=e.isAnyOGCLayerInRange(t,!0)}return n}setUniqueIds_(e,t){e.forEach((e=>{if(void 0!==e.getId()){const n=`${t}_${e.getId()}`;e.setId(n)}}))}registerCanceler_(){const e=this.q_.defer();return this.requestCancelers_.push(e),e}cancelStillRunningRequests_(){for(const e of this.requestCancelers_)e.resolve();this.requestCancelers_.length=0}}function k6(e){const t={};for(const n of e)for(const e in n){const r=Number(e);t[r]=n[r]}return t}S6.$inject=["$http","$q","ngeoRuleHelper","ngeoWMSTime"];const T6=t().module("ngeoQuerent",[O3.name,x3.name]);T6.service("ngeoQuerent",S6);const L6=T6;class C6{constructor(e,t){this.http_=e,this.baseUrl_=t,this.promises_={}}getAttributeValues(e,t){const n=`${e.id}_${t}`,r=e.name;if(!this.promises_[n]){const e=`${this.baseUrl_}/${r}/values/${t}`;this.promises_[n]=this.http_.get(e).then((e=>e.data.items))}return this.promises_[n]}}C6.$inject=["$http","gmfLayersUrl"];const E6=t().module("gmfEnumerateAttribute",[]);E6.service("gmfEnumerateAttribute",C6);const D6=E6;class A6{constructor(e,t,n,r){this.q_=e,this.collection_=t.collection,this.ngeoQuerent_=n,this.gmfEnumerateAttribute_=r,this.cache_={},bn(this.collection_,"add",this.handleDataSourcesAdd_,this),bn(this.collection_,"remove",this.handleDataSourcesRemove_,this),this.collection_.forEach(this.registerDataSource_.bind(this))}get collection(){return this.collection_}getDataSource(e){return this.cache_[e]||null}getDataSourceAttributes(e){const t=this.q_.defer();if(e.attributes)t.resolve(e.attributes);else{const n=this.createDataSourceAttributesFromOGCAttributes_(e);n?(e.setAttributes(n),t.resolve(n)):e.supportsAttributes&&this.ngeoQuerent_.wfsDescribeFeatureType(e).then((n=>{const r=e.getWFSLayerNames()[0];console.assert("string"==typeof r,"The data source should have only one ogcLayer.");const i=n;for(const n of i.element)if(n.name===r)for(const r of i.complexType)if(r.name==n.type){const n=r.complexContent,i=(new H0).read(n);e.setAttributes(i),t.resolve(i);break}}))}return t.promise}registerDataSource_(e){this.cache_[e.id]=e}unregisterDataSource_(e){delete this.cache_[e.id]}handleDataSourcesAdd_(e){if(e instanceof ZY){const t=e.element;console.assert(t instanceof XJ),this.registerDataSource_(t)}}handleDataSourcesRemove_(e){if(e instanceof ZY){const t=e.element;this.unregisterDataSource_(t)}}createDataSourceAttributesFromOGCAttributes_(e){let t=null;const n=new H0,r=e.ogcAttributesWFS;if(r){t=[];for(const e in r){const i=r[e],o=i.alias,s="0"!=i.minOccurs,a=i.type,l={alias:o,name:e,required:s};N0(l,`gml:${a}`)||n.setAttributeType(l,a.toLowerCase()),t.push(l)}}return t}prepareFiltrableDataSource(e){const t=this.q_.defer();return this.getDataSourceAttributes(e).then((n=>{const r=e.gmfLayer.metadata?e.gmfLayer.metadata.enumeratedAttributes:void 0;if(r&&r.length){const i=[];for(const t of n)!r.includes(t.name)||t.type===sZ||t.choices&&t.choices.length||i.push(this.gmfEnumerateAttribute_.getAttributeValues(e,t.name).then((e=>{const n=e.map((e=>e.value));t.type=sZ,t.choices=n})));return this.q_.all(i).then((()=>{t.resolve(e)}))}t.resolve(e)})),t.promise}}A6.$inject=["$q","ngeoDataSources","ngeoQuerent","gmfEnumerateAttribute"];const $6=t().module("gmfDataSourcesHelper",[F0.name,L6.name,D6.name]);$6.service("gmfDataSourcesHelper",A6);const P6=$6,R6=t().module("gmfDataSourceBeingFiltered",[]);R6.value("gmfDataSourceBeingFiltered",{dataSource:null});const O6=R6,I6="data",F6={BG_LAYER:"baselayer_ref",BG_LAYER_OPACITY:"baselayer_opacity",EXTERNAL_DATASOURCES_NAMES:"eds_n",EXTERNAL_DATASOURCES_URLS:"eds_u",FEATURES:"rl_features",MAP_CROSSHAIR:"map_crosshair",MAP_SWIPE:"map_swipe",MAP_SWIPE_VALUE:"map_swipe_value",MAP_TOOLTIP:"map_tooltip",MAP_X:"map_x",MAP_Y:"map_y",MAP_Z:"map_zoom",TREE_GROUPS:"tree_groups",WFS_LAYER:"wfs_layer",WFS_NGROUPS:"wfs_ngroups",WFS_SHOW_FEATURES:"wfs_showFeatures"};function N6(e,t,n){this.isValidFileSize=function(e){return e<=2e7},this.isWmsGetCap=function(e){return/<(WMT_MS_Capabilities|WMS_Capabilities)/.test(e)},this.isWmtsGetCap=function(e){return e.includes("<Capabilities")},this.isKml=function(e){return e.includes("<kml")&&e.includes("</kml>")},this.isGpx=function(e){return e.includes("<gpx")&&e.includes("</gpx>")};let r,i=null;this.read=function(t){const r=e.defer();return i&&i.readyState===FileReader.LOADING&&i.abort(),i=new FileReader,i.onload=function(e){const t=e.target;if(!(t instanceof FileReader))throw new Error("Wrong target type");r.resolve(t.result)},i.onerror=function(e){const t=e.target;if(!(t instanceof FileReader))throw new Error("Wrong target type");const i=t.error;if(!i)throw new Error("Missing error");console.error("Reading file failed: ",i),r.reject({message:20==i.code?n("Operation canceled"):n("Read failed"),reason:i.message})},i.onprogress=function(e){r.notify(e)},i.readAsText(t),r.promise},this.load=function(i,o){r&&r.resolve(),r=o||e.defer();const s=e.defer();return t.get(i,{timeout:r.promise}).then((e=>{s.resolve(e.data)}),(e=>{console.error("Uploading file failed: ",e),s.reject({message:n("Upload failed"),reason:e})})),s.promise}}N6.$inject=["$q","$http","gettext"];const Y6=t().module("ngeoFile",[]);Y6.service("ngeoFile",N6);const j6=Y6,H6=class extends XJ{constructor(e){super(e),this.featuresCollection_=e.features||new QY,this.source_=new Dj({features:this.featuresCollection_,wrapX:!1}),this.layer_=new FY({className:"canvas2d",source:this.source_})}get features(){return this.featuresCollection_.getArray()}get featuresCollection(){return this.featuresCollection_}get layer(){return this.layer_}get extent(){return this.source_.getExtent()}},z6="indeterminate",U6="off",W6="on";const G6=class{constructor(e){this.dataSourcesCollection_=new QY(e.dataSources),this.title_=e.title}destroy(){this.dataSourcesCollection_.clear()}get dataSources(){return this.dataSourcesCollection_.getArray()}get dataSourcesCollection(){return this.dataSourcesCollection_}get title(){return this.title_}get visibilityState(){let e;for(const t of this.dataSources){if(void 0===e)e=this.getDataSourceState(t);else{this.getDataSourceState(t)!==e&&(e=z6)}if(e===z6)break}if("string"!=typeof e)throw new Error("missing state");return e}getDataSourceState(e){return e.visible?W6:U6}addDataSource(e){this.dataSourcesCollection_.push(e)}removeDataSource(e){this.dataSourcesCollection_.remove(e)}toggleVisibilityState(){const e=this.visibilityState!==W6;for(const t of this.dataSources)t.visible!==e&&(t.visible=e)}},q6=class extends G6{constructor(e){super(e);const t=e.injector;this.rootScope_=t.get("$rootScope"),this.unregister_={}}addDataSource(e){if(super.addDataSource(e),!(e instanceof H6))throw new Error("Wrong datasource type");this.registerDataSource_(e)}registerDataSource_(e){this.unregister_[e.id]=this.rootScope_.$watch((()=>e.visible),this.handleDataSourceVisibleChange_.bind(this,e))}handleDataSourceVisibleChange_(e,t,n){void 0!==t&&e.layer.setVisible(t)}removeDataSource(e){if(super.removeDataSource(e),this.unregister_.hasOwnProperty(e.id)){if(!(e instanceof H6))throw new Error("Wrong datasource type");this.unregisterDataSource_(e)}}unregisterDataSource_(e){this.unregister_[e.id](),delete this.unregister_[e.id]}},B6=t().module("gmfDatasourceFileGroup",[]);B6.value("gmfDatasourceFileGroup",{fileGroup:null});const V6=B6;const X6=class extends i0{constructor(e,t){super(e),this.legend_=t}get legend(){return this.legend_}},K6=class extends G6{constructor(e){super(e),this.url_=e.url}get url(){return this.url_}},J6=class extends K6{constructor(e,t){super(e);const n=e.injector;this.layer_=null,this.ngeoLayerHelper_=t,this.rootScope_=n.get("$rootScope"),this.wmsDataSourceUnregister_={},this.init_()}init_(){if(!this.dataSources.length)throw new Error("Missing dataSources");for(const e of this.dataSources)e instanceof i0&&this.registerDataSource_(e)}destroy(){for(const e of this.dataSources)e instanceof i0&&this.unregisterDataSource_(e);super.destroy()}get layer(){if(!this.layer_)throw new Error("Missing layer");return this.layer_}addDataSource(e){if(super.addDataSource(e),!(e instanceof i0))throw new Error("Wrong datasource type");this.registerDataSource_(e)}registerDataSource_(e){const t=e.id;this.wmsDataSourceUnregister_[t]=this.rootScope_.$watch((()=>e.visible),this.handleDataSourceVisibleChange_.bind(this)),this.layer_?(this.layer_.get("querySourceIds").push(t),this.updateLayer_()):this.layer_=this.ngeoLayerHelper_.createBasicWMSLayerFromDataSource(e)}handleDataSourceVisibleChange_(e,t){void 0!==e&&e!==t&&this.updateLayer_()}updateLayer_(){const e=this.layer;let t=[];for(const e of this.dataSources)e instanceof i0&&e.visible&&(t=t.concat(e.getWMSLayerNames()));this.ngeoLayerHelper_.updateWMSLayerState(e,t.join(","))}removeDataSource(e){super.removeDataSource(e),e instanceof i0&&this.unregisterDataSource_(e)}unregisterDataSource_(e){const t=e.id,n=this.layer;(0,this.wmsDataSourceUnregister_[t])(),delete this.wmsDataSourceUnregister_[t],Zt(this.dataSources,e);const r=this.ngeoLayerHelper_.getQuerySourceIds(n);r&&Zt(r,t),this.dataSources.length&&this.updateLayer_()}};class Z6{constructor(e,t,n,r,i,o,s,a){this.injector_=t,this.q_=n,this.rootScope_=r,this.dataSources_=o.collection,this.ngeoFile_=s,this.ngeoLayerHelper_=a,this.extDataSources_={},this.files_={},this.map_=null,this.fileGroup_=new q6({dataSources:[],injector:this.injector_,title:e.getString("Local files")}),i.fileGroup=this.fileGroup_,this.wmsGroupsCollection_=new QY,this.wmtsGroupsCollection_=new QY,this.wmtsCache_={},bn(this.dataSources_,"remove",this.handleDataSourcesRemove_,this)}get fileGroup(){return this.fileGroup_}addWMSGroup_(e){this.wmsGroupsCollection.push(e)}removeWMSGroup_(e){this.wmsGroupsCollection.remove(e)}getWMSGroup(e){let t=null;for(const n of this.wmsGroups)if(n.url===e){t=n;break}return t}get wmsGroups(){return this.wmsGroupsCollection_.getArray()}get wmsGroupsCollection(){return this.wmsGroupsCollection_}addWMTSGroup_(e){this.wmtsGroupsCollection.push(e)}removeWMTSGroup_(e){this.wmtsGroupsCollection.remove(e)}getWMTSGroup(e){let t=null;for(const n of this.wmtsGroups)if(n.url===e){t=n;break}return t}get wmtsGroups(){return this.wmtsGroupsCollection_.getArray()}get wmtsGroupsCollection(){return this.wmtsGroupsCollection_}isExternalDataSource(e){return!!this.extDataSources_[e.id]}get layerGroup(){if(!this.map_)throw new Error("Missing map");return this.ngeoLayerHelper_.getGroupFromMap(this.map_,"external")}set map(e){this.map_=e}addLayer_(e){this.layerGroup.getLayers().push(e)}removeLayer_(e){this.layerGroup.getLayers().remove(e)}createAndAddDataSourceFromWMSCapability(e,t,n){const r=Q6(e),i=t.Service,o=t.Capability.Request,s=o.GetMap.DCPType.find((e=>e.hasOwnProperty("HTTP"))),a=void 0!==s?s.HTTP.Get.OnlineResource:n,l=n||a;let c;if(this.extDataSources_[r])c=this.extDataSources_[r];else{const t=o.GetMap.Format,n="image/png",i=t.includes(n)?n:t[0],s=o.GetFeatureInfo.Format;let u=s.includes(JQ)?JQ:void 0;void 0===u&&(u=s.includes(XQ)?XQ:void 0),void 0===u&&(u=s.includes(KQ)?KQ:void 0);const h=!0===e.queryable&&void 0!==u,d={id:r,name:e.Title,ogcImageType:i,wmsLayers:[{name:e.Name,queryable:h}],ogcType:WQ,visible:!0,wmsUrl:a};u&&(d.wmsInfoFormat=u);const f={title:e.Title,url:l,name:e.Name};c=new X6(d,f),this.extDataSources_[r]=c}let u=this.getWMSGroup(a);u?u.dataSources.includes(c)||(u.addDataSource(c),this.dataSources_.push(c)):(u=new J6({dataSources:[c],injector:this.injector_,title:i.Title,url:a},this.ngeoLayerHelper_),this.addLayer_(u.layer),this.addWMSGroup_(u),this.dataSources_.push(c))}createAndAddDataSourceFromWMTSCapability(e,t,n){const r=Q6(e);if(this.wmtsCache_[r])return;let i;if(this.extDataSources_[r])i=this.extDataSources_[r];else{const t=e.Title,o=e.Identifier;i=new i0({id:r,name:t,ogcType:GQ,visible:!0,wmtsLayer:o,wmtsUrl:n}),this.extDataSources_[r]=i}let o=this.getWMTSGroup(n);o||(o=new K6({dataSources:[],title:t.ServiceIdentification.Title,url:n}),this.addWMTSGroup_(o)),o.addDataSource(i);const s=this.ngeoLayerHelper_.createWMTSLayerFromCapabilititesObj(t,e);this.addLayer_(s),this.dataSources_.push(i),this.wmtsCache_[r]={layerObj:s,unregister:this.rootScope_.$watch((()=>i.visible),this.handleWMTSDataSourceVisibleChange_.bind(this,s))}}createAndAddDataSourceFromFile(e,t){this.getFileDataSource_(e).then((e=>{let n=!0;const r=this.fileGroup_;if(xP(e.extent))n=!1;else{if(!this.map_)throw new Error("Missing map");if(r.dataSources.includes(e))return;this.addLayer_(e.layer),r.addDataSource(e),this.map_.getView().fit(e.extent),this.dataSources_.push(e)}t&&t(n)}),(n=>{console.error(`Failed to load file: ${e.name}`),t&&t(!1)}))}getFileDataSource_(e){const t=this.q_.defer();if(this.files_[e.name])t.resolve(this.files_[e.name]);else{const n=this.ngeoFile_;n.read(e).then((r=>{if(!this.map_)throw new Error("Missing map");let i;const o={featureProjection:this.map_.getView().getProjection()};if(n.isKml(r)?i=(new l3).readFeatures(r,o):n.isGpx(r)&&(i=(new a2).readFeatures(r,o)),i){const n=Q6(e),r=new H6({features:new QY(i),id:n,name:e.name,visible:!0});this.files_[e.name]=r,this.extDataSources_[n]=r,t.resolve(r)}else t.reject()}))}return t.promise}handleWMTSDataSourceVisibleChange_(e,t,n){void 0!==t&&t!==n&&e.setVisible(t)}handleDataSourcesRemove_(e){if(e instanceof ZY){const t=e.element;this.extDataSources_[t.id]===t&&(t instanceof H6?this.removeFileDataSource_(t):t instanceof i0&&this.removeOGCDataSource_(t))}}removeFileDataSource_(e){this.removeLayer_(e.layer),this.fileGroup_.removeDataSource(e)}removeOGCDataSource_(e){if(e.ogcType===WQ){if(!e.wmsUrl)throw new Error("Missing dataSource.wmsUrl");const t=this.getWMSGroup(e.wmsUrl);t&&t.dataSources.includes(e)&&(t.removeDataSource(e),t.dataSources.length||(this.removeLayer_(t.layer),t.destroy(),this.removeWMSGroup_(t)))}else if(e.ogcType===GQ){if(!e.wmtsUrl)throw new Error("Missing dataSource.wmsUrl");const t=this.getWMTSGroup(e.wmtsUrl);if(t&&t.dataSources.includes(e)){t.removeDataSource(e);const n=e.id;this.removeLayer_(this.wmtsCache_[n].layerObj),this.wmtsCache_[n].unregister(),delete this.wmtsCache_[n],t.dataSources.length||(t.destroy(),this.removeWMTSGroup_(t))}}}isEmpty(){return 0==this.wmsGroupsCollection_.getLength()&&0==this.wmtsGroupsCollection_.getLength()&&0==this.fileGroup_.dataSourcesCollection.getLength()}removeAll(){for(const e of this.dataSources_.getArray())this.extDataSources_[e.id]===e&&(e instanceof H6?this.removeFileDataSource_(e):e instanceof i0&&this.removeOGCDataSource_(e))}}function Q6(e){return Number(qe(e))+1e6}Z6.$inject=["gettextCatalog","$injector","$q","$rootScope","gmfDatasourceFileGroup","ngeoDataSources","ngeoFile","ngeoLayerHelper"];const e4=t().module("gmfExternalDataSourcesManager",[V6.name,u0.name,j6.name,F0.name]);e4.service("gmfExternalDataSourcesManager",Z6);const t4=e4;class n4{constructor(e){this.gmfDataSourcesHelper_=e}describe(e){e.ogcServerType===UQ&&e.wfsUrl_&&1==e.getWFSLayerNames().length&&!e.attributes&&this.gmfDataSourcesHelper_.getDataSourceAttributes(e)}}n4.$inject=["gmfDataSourcesHelper"];const r4=t().module("gmfDatasourceWFSAliases",[P6.name]);r4.service("gmfWFSAliases",n4);const i4=r4;function o4(e,t,n){const r=void 0===n.gmfLayertreeNodeNotroot;this.isRoot=r;const i=n.gmfLayertreeNode;let o;this.rootScope_=t,this.properties={},this.state_="off",r?e.$watch(i,((e,t)=>{this.node=e})):o=e.$eval(i),this.node=o;const s=n.gmfLayertreeNodeMap,a=e.$eval(s);console.assert(void 0!==a),this.parent=e.$parent.layertreeCtrl,this.children=[],this.parent&&this.parent.children.push(this),e.$on("$destroy",(()=>{if(this.parent){const e=this.parent.children.indexOf(this);console.assert(e>=0),this.parent.children.splice(e,1)}})),this.uid=qe(this),this.depth=r?0:this.parent.depth+1,e.uid=this.uid,e.depth=this.depth,this.map=a;let l=n.gmfLayertreeNodeNodelayer;if(void 0===l){const t=n.gmfLayertreeNodeNodelayerexpr,r=e.$eval(t);console.assert("string"==typeof r),l=r}if(console.assert(void 0!==l),this.nodelayerExpr=l,this.layer=null,!r){const t=e.$eval(l,{treeCtrl:this})||null;t&&(console.assert(t instanceof MI||t instanceof SU),this.layer=t)}var c;this.dataSource_=null,this.layer&&(!function(e,t){let n,r=[],i=[];const o=function e(t){let n=t.get("load_count");const r=t.get("parent_group");t.set("load_count",++n,!0),r&&e(r)},s=function e(t){let n=t.get("load_count");const r=t.get("parent_group");t.set("load_count",--n,!0),r&&e(r)};if(e.set("load_count",0,!0),e instanceof SU&&e.getLayers().on("add",(t=>{t.element.set("parent_group",e)})),e instanceof MI){if(n=e.getSource(),null===n)return;n instanceof zU?(r=["tileloadstart"],i=["tileloadend","tileloaderror"]):n instanceof PU?(r=["imageloadstart"],i=["imageloadend","imageloaderror"]):console.assert(!1,"unsupported source type"),n.on(r,(()=>{o(e),t.$applyAsync()})),n.on(i,(()=>{s(e),t.$applyAsync()}))}Object.defineProperty(e,"loading",{configurable:!0,get:()=>e.get("load_count")>0})}(this.layer,e),c=this.layer,console.assert(c instanceof RO),Object.defineProperty(c,"visible",{configurable:!0,get:()=>c.getVisible(),set:e=>{c.setVisible(e)}}),Object.defineProperty(c,"opacity",{configurable:!0,get:()=>c.getOpacity(),set:e=>{c.setOpacity(e)}}),bn(this.layer,"change:opacity",(e=>{this.rootScope_.$broadcast("ngeo-layertree-opacity",this)})));let u=n.gmfLayertreeNodeListeners;if(void 0===u){const t=n.gmfLayertreeNodeListenersexpr;u=e.$eval(t)}void 0!==u&&console.assert("string"==typeof u),this.listenersExpr=u,u&&e.$eval(u,{treeScope:e,treeCtrl:this}),e.layertreeCtrl=this}function s4(e){let t=e;for(;!t.parent.isRoot;)t=t.parent;return t}o4.$inject=["$scope","$rootScope","$attrs"],o4.prototype.getState=function(){return this.state_},o4.prototype.setState=function(e,t){if(e===this.state_)return;this.setStateInternal_(e),this.parent&&this.parent.refreshState(this,t);const n=this.isRoot?this.children:[s4(this)];(void 0===t||t)&&(n.forEach((e=>{this.rootScope_.$broadcast("ngeo-layertree-state",this,e)})),this.rootScope_.$broadcast("ngeo-disclaimer-state"))},o4.prototype.setStateInternal_=function(e){if(this.state_="on"===e?"on":"off","on"===this.state_&&this.node.metadata&&this.node.metadata.exclusiveGroup){let e;for(const t of this.children)e?t.setStateInternal_("off"):(e=t,t.setStateInternal_("on"))}else this.children.forEach((e=>{e.setStateInternal_(this.state_)}))},o4.prototype.refreshState=function(e,t){if(this.node.children&&e&&"off"!==e.getState()&&this.node.metadata&&this.node.metadata.exclusiveGroup){const n=e;this.children.forEach((e=>{e!==n&&e.setState("off",t)}))}const n=this.getCalculateState();this.state_!==n&&(this.state_=n,this.parent&&this.parent.refreshState(this,t))},o4.prototype.getCalculateState=function(){if(void 0===this.node.children)return this.state_;let e,t="";return this.children.some((n=>(t=n.getState(),e&&e!==t?(t="indeterminate",!0):(e=t,!1)))),t},o4.prototype.getSetActive=function(e){const t=this.layer,n=this.map;if(t)return void 0===e?n.getLayers().getArray().includes(t):void(e?n.addLayer(t):n.removeLayer(t))},o4.prototype.getDataSource=function(){return this.dataSource_},o4.prototype.setDataSource=function(e){this.dataSource_=e};const a4="STOP",l4="SKIP",c4="DESCEND";o4.prototype.traverseDepthFirst=function(e){switch(e(this)||c4){case a4:return!0;case l4:return!1;case c4:for(const t of this.children){if(t.traverseDepthFirst(e))return!0}return!1;default:throw new Error("Unhandled case")}};const u4=t().module("ngeoLayertreeController",[]);u4.controller("ngeoLayertreeController",o4);const h4=u4;function d4(e,t,n,r,i){this.layerHelper_=t,this.ngeoWMSTime_=n,this.gmfWMSSourceOptions_=i,this.ogcServersObject_=null,r.getOgcServersObject().then((e=>{this.ogcServersObject_=e})),e.$on("ngeo-layertree-state",((e,t,n)=>{this.sync_(n)}))}function f4(e){let t=e,n=null;for(;!t.isRoot&&null===n;)t.layer&&(n=t.layer),t=t.parent;if(!n)throw new Error("Missing layer");return n}d4.$inject=["$rootScope","ngeoLayerHelper","ngeoWMSTime","gmfThemes","gmfWMSSourceOptions"],d4.prototype.createLayer=function(e,t,n,r){let i=null;const o=e.node,s=e.parent.node;return void 0!==o.children&&o.mixed?i=this.createGroup_(e,t,n,r):void 0===o.children&&s.mixed?i=this.createLeafInAMixedGroup_(e,t):void 0===o.children?this.initGmfLayerInANotMixedGroup_(e,t):1!==e.depth||o.mixed||(i=this.createGroup_(e,t,n,r)),i&&e.node.metadata.opacity&&i.setOpacity(e.node.metadata.opacity),i},d4.prototype.sync_=function(e){e.traverseDepthFirst((e=>{const t=e.node;if(e.layer&&!t.mixed)return this.updateLayerState_(e.layer,e),c4}))},d4.prototype.updateLayerState_=function(e,t){const n=t.node,r=t.node,i="on"===t.getState();if("WMTS"===r.type)e.setVisible(i);else if(n.mixed||1!==t.depth){if(!(e instanceof WG))throw new Error("Wrong dataSource type");e.setVisible(i)}else{if(!(e instanceof WG))throw new Error("Wrong dataSource type");const n=[],r=[];t.traverseDepthFirst((e=>{if(void 0===e.node.children&&"on"===e.getState()){const t=e.node;n.push(t.layers);const i=void 0!==t.style?t.style:"";return r.push(i),c4}})),0===n.length&&e.setVisible(!1),e.getSource().updateParams({LAYERS:n.reverse().join(","),STYLES:r.reverse().join(",")}),0!==n.length&&e.setVisible(!0)}},d4.prototype.createGroup_=function(e,t,n,r){const i=e.node;let o=null;const s=e.parent.isRoot;let a=!0;if(void 0!==i.metadata.printNativeAngle&&(a=i.metadata.printNativeAngle),s){o=this.createLayerFromGroup_(e,!!i.mixed);const t=r||0;n.getLayers().insertAt(t,o)}else{if(!this.isOneParentNotMixed_(e)){o=this.createLayerFromGroup_(e,!0);const t=f4(e.parent);if(!(t instanceof SU))throw new Error("Wrong layerGroup type");t.getLayers().insertAt(0,o)}}if(!o)throw new Error("Missing layer");return o.set("printNativeAngle",a),o},d4.prototype.createLayerFromGroup_=function(e,t){let n;const r=e.node;if(t)n=this.layerHelper_.createBasicGroup();else{if(!this.ogcServersObject_)throw new Error("Missing ogcServersObject");const t=this.getTimeParam_(e),i=this.ogcServersObject_[r.ogcServer||""];if(!i)throw new Error("Missing ogcServer");if(!i.url)throw new Error("Missing ogcServer.url");if(!i.type)throw new Error("Missing ogcServer.type");if(!i.imageType)throw new Error("Missing ogcServer.imageType");n=this.layerHelper_.createBasicWMSLayer(i.url,"",i.imageType,i.type,t,void 0,i.credential?"use-credentials":"anonymous",this.gmfWMSSourceOptions_),n.set(a0,r.id);let o=!1;e.traverseDepthFirst((e=>{if(this.updateLayerReferences_(e.node,n),e.node.metadata.isChecked)return e.setState("on",!1),this.updateLayerState_(n,e),o=!0,c4})),n.setVisible(o)}return n.set(s0,r.name),n},d4.prototype.createLeafInAMixedGroup_=function(e,t){const n=e.node;let r;if("WMTS"===n.type)r=this.createWMTSLayer_(n);else{if(!this.ogcServersObject_)throw new Error("Missing ogcServersObject");const t=n,i=this.getTimeParam_(e),o=this.ogcServersObject_[t.ogcServer];if(!o)throw new Error("Missing ogcServer");if(!o.url)throw new Error("Missing ogcServer.url");if(!o.type)throw new Error("Missing ogcServer.type");if(!o.imageType)throw new Error("Missing ogcServer.imageType");if(!t.layers)throw new Error("Missing gmfLayerWMS.layers");const s={STYLES:t.style};r=this.layerHelper_.createBasicWMSLayer(o.url,t.layers,o.imageType,o.type,i,s,o.credential?"use-credentials":"anonymous",this.gmfWMSSourceOptions_)}r.set(a0,n.id),r.set(s0,n.name),r.set("layerIsLeaf",!0),this.updateLayerReferences_(n,r);const i=!0===n.metadata.isChecked;i&&e.setState("on",!1),r.setVisible(i);return f4(e.parent).getLayers().insertAt(0,r),r},d4.prototype.initGmfLayerInANotMixedGroup_=function(e,t){const n=e.node,r=this.getFirstLevelGroupCtrl_(e);if(!r)throw new Error("Missing firstLevelGroup");const i=r.layer;if(!(i instanceof WG))throw new Error("Wrong layer type");if(!(i instanceof WG))throw new Error("Wrong dataSource type");this.updateLayerReferences_(n,i),n.metadata.isChecked?(e.setState("on",!1),this.updateLayerState_(i,r)):e.parent.refreshState()},d4.prototype.createWMTSLayer_=function(e){const t=Yz();if(!e.url)throw new Error("Missing gmfLayerWMTS.url");if(!e.layer)throw new Error("Missing gmfLayerWMTS.layer");const n=b0(e),r=y0(e);return this.layerHelper_.createWMTSLayerFromCapabilitites(e.url,e.layer,e.matrixSet,e.dimensions,void 0,n,r,e.metadata.opacity).then((e=>{this.layerHelper_.copyProperties(e,t,["visible","opacity"])})),t},d4.prototype.updateLayerReferences_=function(e,t){const n=qe(e),r=t.get("querySourceIds")||[];r.push(n),t.set("querySourceIds",r);const i=e.metadata.disclaimer;if(i){const n=t.get("disclaimers")||{};let r="all";"layers"in e&&(r=e.layers),n[r]=i,t.set("disclaimers",n)}},d4.prototype.getTimeParam_=function(e){let t,n;const r=e.node;if(r.time?t=r.time:r.children&&e.traverseDepthFirst((e=>{const n=e.node;if(void 0===n.children&&n.time)return t=n.time,a4})),t){const e=this.ngeoWMSTime_.getOptions(t),r=e.values,i=e.values;n=this.ngeoWMSTime_.formatWMSTimeParam(t,{start:i[0]||r,end:i[1]})}return n},d4.prototype.isOneParentNotMixed_=function(e){let t=e.parent,n=!1;do{n=!1===t.node.mixed,t=t.parent}while(t.parent&&!n);return n},d4.prototype.getFirstLevelGroupCtrl_=function(e){let t=e;for(;!t.parent.isRoot;)t=t.parent;return t};const p4=t().module("gmfSyncLayertreeMap",[S0.name,h4.name,x3.name]);p4.service("gmfSyncLayertreeMap",d4);const m4=p4;function g4(e,t){this.history_=t,this.schema_=e.protocol.substring(0,e.protocol.length-1),this.domain_=e.hostname,this.port_=e.port?parseInt(e.port,10):void 0,this.path_=e.pathname,this.queryData_=Gz(e.search),this.fragment_=Gz(e.hash)}function _4(e,t){try{e.replaceState(null,"",t),window.dispatchEvent(new PopStateEvent("popstate",{state:t}))}catch(e){}}function y4(e,t){const n=t.history,r=new g4(t.location,t.history);let i=r.getUriString();return e.$watch((()=>{const t=r.getUriString();i!==t&&e.$evalAsync((()=>{i=t,void 0!==n&&void 0!==n.replaceState&&_4(n,t),e.$broadcast("ngeoLocationChange")}))})),r}y4.$inject=["$rootScope","$window"],g4.prototype.getPath=function(){return this.path_},g4.prototype.getUriString=function(){const e=[];this.schema_&&e.push(this.schema_,":"),(this.domain_||"file"===this.schema_)&&(e.push("//"),e.push(this.domain_),void 0!==this.port_&&e.push(":",String(this.port_))),this.path_&&(this.domain_&&!this.path_.startsWith("/")&&e.push("/"),e.push(this.path_));const t=qz(this.queryData_);t.length>0&&e.push("?",t);const n=qz(this.fragment_);return n.length>0&&e.push("#",n),e.join("")},g4.prototype.hasParam=function(e){return e in this.queryData_},g4.prototype.hasFragmentParam=function(e){return e in this.fragment_},g4.prototype.getParam=function(e){return this.queryData_[e]},g4.prototype.getFragmentParam=function(e){return this.fragment_[e]},g4.prototype.getParamAsInt=function(e){const t=this.getParam(e);if(void 0===t)return;console.assert("string"==typeof t);const n=parseInt(t,10);return isNaN(n)?void 0:n},g4.prototype.getParamAsFloat=function(e){const t=this.getParam(e);if(void 0===t)return;console.assert("string"==typeof t);const n=parseFloat(t);return isNaN(n)?void 0:n},g4.prototype.getFragmentParamAsInt=function(e){const t=this.getFragmentParam(e);if(void 0===t)return;console.assert("string"==typeof t);const n=parseInt(t,10);return isNaN(n)?void 0:n},g4.prototype.getParamKeys=function(){const e=[];for(const t in this.queryData_)e.push(t);return e},g4.prototype.getFragmentParamKeys=function(){const e=[];for(const t in this.fragment_)e.push(t);return e},g4.prototype.getParamKeysWithPrefix=function(e){const t=[];for(const n in this.queryData_)n.startsWith(e)&&t.push(n);return t},g4.prototype.getFragmentParamKeysWithPrefix=function(e){const t=[];for(const n in this.fragment_)n.startsWith(e)&&t.push(n);return t},g4.prototype.updateParams=function(e){for(const t in e)this.queryData_[t]=e[t]},g4.prototype.updateFragmentParams=function(e){for(const t in e)this.fragment_[t]=e[t]},g4.prototype.deleteParam=function(e){delete this.queryData_[e]},g4.prototype.deleteFragmentParam=function(e){delete this.fragment_[e]},g4.prototype.refresh=function(){_4(this.history_,this.getUriString())},g4.prototype.setPath=function(e){this.path_=e};const b4=t().module("ngeoLocation",[]);b4.factory("ngeoLocation",y4);const v4=b4;class w4{constructor(e,t){this.initialState={},this.ngeoLocation=e,this.usedKeyRegexp=[];for(const e of t)this.usedKeyRegexp.push(RegExp(e));this.useLocalStorage_=!1,this.setUseLocalStorage(!1);const n=e.getParamKeys().filter((e=>"debug"!=e&&"no_redirect"!=e));if(0===n.length){if(this.useLocalStorage_)for(const e in window.localStorage)console.assert(e),this.usedKeyRegexp.some((t=>{if(t.exec(e)){const t=window.localStorage[e];return this.initialState[e]=void 0!==t||null!==t?t:"",!0}return!1}))}else n.forEach((e=>{this.usedKeyRegexp.some((t=>{if(t.exec(e)){const t=this.ngeoLocation.getParam(e);if(void 0!==t)return this.initialState[e]=t,!0}return!1}))}))}setUseLocalStorage(e){if(this.useLocalStorage_=e,this.useLocalStorage_)try{"localStorage"in window?(window.localStorage.test="",delete window.localStorage.test):this.useLocalStorage_=!1}catch(e){console.error(e),this.useLocalStorage_=!1}return this.useLocalStorage_}getInitialStringValue(e){return this.initialState[e]}getInitialNumberValue(e){const t=this.initialState[e];if(void 0!==t)return parseFloat(t)}getInitialBooleanValue(e){const t=this.initialState[e];if(void 0!==t)return"true"===t}updateState(e){if(this.ngeoLocation.updateParams(e),this.useLocalStorage_)for(const t in e){console.assert(t);const n=e[t];console.assert(void 0!==n),window.localStorage[t]=n}}deleteParam(e){this.ngeoLocation.deleteParam(e),this.useLocalStorage_&&delete window.localStorage[e]}}w4.$inject=["ngeoLocation","ngeoUsedKeyRegexp"];const x4=t().module("ngeoStateManager",[v4.name]);x4.service("ngeoStateManager",w4);const M4=x4;var S4=i(6932);function k4(e,t,n,r,i,o,s){this.rootScope_=e,this.$timeout_=t,this.$injector_=n,this.gettextCatalog_=r,this.layerHelper_=i,this.gmfThemes_=o,this.root={children:[]},this.rootCtrl=null,this.numberOfGroupsToAddInThisDigestLoop=0,this.groupsToAddInThisDigestLoop_=[],this.promiseForGroupsToAddInThisDigestLoop_=null,this.ngeoStateManager_=s,this.initialLevelFirstGroups_=void 0,this.ogcServers_=null,bn(this.gmfThemes_,"change",this.handleThemesChange_,this)}k4.$inject=["$rootScope","$timeout","$injector","gettextCatalog","ngeoLayerHelper","gmfThemes","ngeoStateManager"],k4.prototype.handleThemesChange_=function(){this.gmfThemes_.getOgcServersObject().then((e=>{this.ogcServers_=e})),this.rootCtrl&&this.rootCtrl.children&&this.gmfThemes_.getThemesObject().then((e=>{this.refreshFirstLevelGroups_(e)}))},k4.prototype.setFirstLevelGroups=function(e){return this.parseTreeNodes(this.root),this.rootScope_.$broadcast("ngeo-pre-empty-layertree"),this.root.children.length=0,this.rootScope_.$broadcast("ngeo-post-empty-layertree"),this.ngeoStateManager_.deleteParam(F6.TREE_GROUPS),this.addFirstLevelGroups(e)},k4.prototype.addFirstLevelGroups=function(e,t,n){const r=[];return e.slice().reverse().forEach((e=>{this.addFirstLevelGroup_(e)||r.push(e)})),r.length>0&&!n&&this.notifyCantAddGroups_(r),0===r.length},k4.prototype.addSecondLevelGroups=function(e,t,n,r){const i=[];return e.slice().reverse().forEach((e=>{this.addFirstLevelGroup_(e)||i.push(e),e.children.forEach((e=>{let n=e.name===t;this.setSearchedChild(e,n)})),setTimeout((()=>{const t=this.getTreeCtrlByNodeId(e.id);this.rootScope_.$broadcast("ngeo-layertree-state",t,t)}),0)})),i.length>0&&!r&&this.notifyCantAddGroups_(i),0===i.length},k4.prototype.setSearchedChild=function(e,t){e.children?e.children.forEach((e=>{this.setSearchedChild(e,t)})):e.metadata.isChecked=t},k4.prototype.setInitialFirstLevelGroups=function(e){this.initialLevelFirstGroups_=e},k4.prototype.parseTreeNodes=function(e){const t=e;t.children&&t.children.forEach((e=>{this.parseTreeNodes(e)})),t.popupId&&this.removePopup_(t)},k4.prototype.removePopup_=function(e){const t=e.popupId;S4(`#${t}`).remove(),delete e.popupId},k4.prototype.reorderChild_=function(e,t,n){e.splice(n,0,e.splice(t,1)[0])},k4.prototype.updateTreeGroupsState_=function(e,t){const n={};n[F6.TREE_GROUPS]=e.map((e=>e.name)).join(","),this.ngeoStateManager_.updateState(n),this.$injector_.has("gmfPermalink")&&this.$injector_.get("gmfPermalink").cleanParams(t)},k4.prototype.addFirstLevelGroup_=function(e){let t=!1;const n=e.id;return this.root.children.some((e=>n===e.id&&(t=!0,!0)),this),this.groupsToAddInThisDigestLoop_.some((e=>n===e.id&&(t=!0,!0)),this),!t&&(this.groupsToAddInThisDigestLoop_.push(e),this.numberOfGroupsToAddInThisDigestLoop=0,null!==this.promiseForGroupsToAddInThisDigestLoop_&&this.$timeout_.cancel(this.promiseForGroupsToAddInThisDigestLoop_),this.promiseForGroupsToAddInThisDigestLoop_=this.$timeout_((()=>{this.numberOfGroupsToAddInThisDigestLoop=this.groupsToAddInThisDigestLoop_.length,this.groupsToAddInThisDigestLoop_.forEach((e=>{this.root.children.unshift(e),this.root.children.forEach(((e,t)=>{if(void 0!==this.initialLevelFirstGroups_){const n=this.initialLevelFirstGroups_.findIndex((t=>t.id===e.id));-1!==n&&n!==t&&this.reorderChild_(this.root.children,t,n)}}))})),this.initialLevelFirstGroups_=void 0,this.updateTreeGroupsState_(this.root.children,[]),this.groupsToAddInThisDigestLoop_.length=0,this.promiseForGroupsToAddInThisDigestLoop_=null})),!0)},k4.prototype.addGroupByName=function(e,t){this.gmfThemes_.getThemesObject().then((n=>{const r=d0(n,e);r&&(r.name===e?this.addFirstLevelGroups([r],t,!1):this.addSecondLevelGroups([r],e,t,!1))}))},k4.prototype.addGroupByLayerName=function(e,t,n){this.gmfThemes_.getThemesObject().then((r=>{const i=function(e,t){for(let n=0,r=e.length;n<r;n++){const r=e[n];for(let e=0,n=r.children.length;e<n;e++){const n=r.children[e],i=[];if(g0(n,i),f0(i,t))return n}}return null}(r,e);if(i){const r=this.addFirstLevelGroups([i],t,n);this.$timeout_((()=>{const t=this.getTreeCtrlByNodeId(i.id);if(!t)return void console.warn("Tree controller not found, unable to add the group");let n=null;t.traverseDepthFirst((t=>{if(t.node.name===e)return n=t,a4})),r&&t.setState("off"),n instanceof o4&&n.setState("on")}))}}))},k4.prototype.removeGroup=function(e){const t=this.root.children;let n=0,r=!1;if(t.some((t=>t.name===e.name?r=!0:(n++,!1))),r){const e=t.splice(n,1);this.updateTreeGroupsState_(t,e)}},k4.prototype.removeAll=function(){for(;this.root.children.length;)this.removeGroup(this.root.children[0])},k4.prototype.cloneGroupNode_=function(e,t){const n=Object.assign({},e);return this.toggleNodeCheck_(n,t),n},k4.prototype.toggleNodeCheck_=function(e,t){const n=e;n.children&&n.children.forEach((e=>{const n=e;n.children?this.toggleNodeCheck_(n,t):e.metadata&&(e.metadata.isChecked=t.includes(e.name))}))},k4.prototype.notifyCantAddGroups_=function(e){const t=[],n=this.gettextCatalog_;e.forEach((e=>{t.push(n.getString(e.name))}));const r=t.length<2?n.getString("group is already loaded."):n.getString("groups are already loaded.");Vs.notify({msg:`${t.join(", ")} ${r}`,type:$s.INFORMATION})},k4.prototype.getTreeCtrlByNodeId=function(e){let t=null;return this.rootCtrl&&this.rootCtrl.traverseDepthFirst&&this.rootCtrl.traverseDepthFirst((n=>n.node.id===e?(t=n,a4):c4)),t},k4.prototype.getOgcServer=function(e){if(!this.ogcServers_)throw new Error("Missing ogcServers");if(e.parent.node.mixed){const t=e.node;if(!t.ogcServer)throw new Error("Missing gmfLayerWMS.ogcServer");return this.ogcServers_[t.ogcServer]}{let t=e;for(;!t.parent.isRoot;)t=t.parent;const n=t.node;if(!n.ogcServer)throw new Error("Missing gmfGroup.ogcServer");return this.ogcServers_[n.ogcServer]}},k4.prototype.refreshFirstLevelGroups_=function(e){if(!this.rootCtrl)throw new Error("Missing rootCtrl");const t={};this.rootCtrl.children.forEach((e=>{const n=e.node.name;t[n]=this.getFirstLevelGroupFullState_(e)}));const n=[];this.root.children.forEach((t=>{const r=t.name,i=d0(e,r);i&&n.push(i)})),this.setFirstLevelGroups(n),this.$timeout_((()=>{this.rootCtrl.children.forEach((e=>{const n=e.node.name;this.setFirstLevelGroupFullState_(e,t[n])})),this.updateTreeGroupsState_(this.root.children,[])}))},k4.prototype.getFirstLevelGroupFullState_=function(e){const t={};let n,r,i;if(e.children.forEach((e=>{t[e.node.name]=this.getFirstLevelGroupFullState_(e)})),e.children.length>0){const t=S4(`#gmf-layertree-layer-group-${e.uid}`);t&&(r=t.hasClass("show"))}else{n=e.getState(),n="on"===n||"off"!==n&&void 0;const t=S4(`#gmf-layertree-node-${e.uid}-legend`);t&&(i=t.hasClass("show"))}return{children:t,isChecked:n,isExpanded:r,isLegendExpanded:i}},k4.prototype.setFirstLevelGroupFullState_=function(e,t){if(void 0!==t){if(e.children.length>0){const n=S4(`#gmf-layertree-layer-group-${e.uid}`);n&&(t.isExpanded?n.addClass("show"):n.removeClass("show"))}else{!0===t.isChecked?e.setState("on"):!1===t.isChecked&&e.setState("off");const n=S4(`#gmf-layertree-node-${e.uid}-legend`);t.isLegendExpanded?n.addClass("show"):n.removeClass("show")}e.children.forEach((e=>{this.setFirstLevelGroupFullState_(e,t.children[e.node.name])}))}};const T4=t().module("gmfTreeManager",[S0.name,h4.name,M4.name]);T4.service("gmfTreeManager",k4);const L4=T4;class C4{constructor(e,t,n,r,i,o,s,a,l,c,u,h){this.q_=e,this.rootScope_=t,this.timeout_=n,this.gmfThemes_=i,this.gmfTreeManager_=o,this.ngeoBackgroundLayerMgr_=s,this.ngeoDataSources_=a,this.dataSources_=a.collection,this.ngeoLayerHelper_=l,this.ngeoRuleHelper_=c,this.ngeoWMSTime_=u,this.gmfWFSAliases_=h,this.dataSourcesCache_={},this.dimensions_,this.dimensionsWatcherUnregister=null,this.treeCtrlCache_={},this.treeCtrlsUnregister_=null,this.gmfDatasourceOptions=r.has("gmfDatasourceOptions")?r.get("gmfDatasourceOptions"):{},bn(this.ngeoBackgroundLayerMgr_,"change",this.handleNgeoBackgroundLayerChange_,this),bn(this.gmfThemes_,"change",this.handleThemesChange_,this)}setDatasourceMap(e){this.ngeoDataSources_.map=e}getDatasource(e){return this.dataSourcesCache_[e]}setDimensions(e){this.dimensionsWatcherUnregister&&this.dimensionsWatcherUnregister(),this.dimensions_=e,this.dimensionsWatcherUnregister=this.rootScope_.$watch((()=>this.dimensions_),this.handleDimensionsChange_.bind(this),!0),this.handleDimensionsChange_()}handleDimensionsChange_(){const e=[],t=[],n=this.dataSources_.getArray();for(const r of n)if(r instanceof i0&&r.dimensionsFiltersConfig)for(const n in r.dimensionsFiltersConfig)if(null===r.dimensionsFiltersConfig[n].value){const n=this.getDataSourceLayer_(r);if(null==n)return;const i=qe(n);t.includes(i)||(e.push(n),t.push(i))}e.forEach(this.updateLayerFilter_.bind(this))}handleThemesChange_(){this.clearDataSources_(),this.treeCtrlsUnregister_&&this.treeCtrlsUnregister_(),this.clearTreeCtrlCache_(),this.gmfThemes_.getOgcServersObject().then((e=>{const t=this.gmfThemes_.getThemesObject().then((t=>{for(const n of t)for(const t of n.children)this.createDataSource_(t,t,e)})),n=this.gmfThemes_.getBackgroundLayersObject().then((t=>{for(const n of t)this.createDataSource_(null,n,e)}));this.q_.all([t,n]).then((()=>{this.treeCtrlsUnregister_=this.rootScope_.$watchCollection((()=>{if(this.gmfTreeManager_.rootCtrl)return this.gmfTreeManager_.rootCtrl.children}),this.handleTreeManagerRootChildrenChange_.bind(this))}))}))}handleTreeManagerRootChildrenChange_(e){this.timeout_((()=>{if(!e)return;const t=[],n=e=>{e.node.children||t.push(e)};for(let t=0,r=e.length;t<r;t++)e[t].traverseDepthFirst(n);for(let e=0,n=t.length;e<n;e++){const n=t[e];this.getTreeCtrlCacheItem_(n)||this.addTreeCtrlToCache_(n)}const r=this.treeCtrlCache_;for(const e in this.treeCtrlCache_){const n=r[e];t.includes(n.treeCtrl)||this.removeTreeCtrlCacheItem_(n)}}))}clearDataSources_(){const e=this.dataSources_.getArray();for(let t=e.length-1,n=0;t>=n;t--)this.dataSourcesCache_[e[t].id]&&this.dataSources_.remove(e[t]);sn(this.dataSourcesCache_)}createDataSource_(e,t,n){const r=t.children;if(r){for(const t of r)this.createDataSource_(e,t,n);return}const i=t,o=Number(qe(i));if(this.dataSourcesCache_[o])return;const s=i.metadata,a=i.type;let l,c,u,h,d,f,p,m,g=0,_=0;if(a===w0||a===v0){g=void 0!==s.maxQueryResolution?s.maxQueryResolution:s.maxResolution,_=void 0!==s.minQueryResolution?s.minQueryResolution:s.minResolution;const e=s.queryLayers||s.wmsLayers;e&&(h=e.split(",").map((e=>({name:e,queryable:!0}))),d=e.split(",").map((e=>({maxResolution:g,minResolution:_,name:e,queryable:!0})))),s.ogcServer&&n[s.ogcServer]&&(m=s.ogcServer,p=n[s.ogcServer])}if(a===w0){const e=i;l=e.layer,c=e.url,u=e.imageType}else if(a===x0){const t=i;g=t.maxResolutionHint,_=t.minResolutionHint;let r=!1;for(const e of t.childLayers)if(e.queryable){r=!0;break}const o=s.queryLayers?s.queryLayers.split(","):null;h=t.layers.split(",").map((e=>{const t={name:e,queryable:r};return o&&!o.includes(e)&&(t.getData=!1),t})),d=t.childLayers.map((e=>{const t={maxResolution:e.maxResolutionHint,minResolution:e.minResolutionHint,name:e.name,queryable:e.queryable};return o&&!o.includes(e.name)&&(t.getData=!1),t})),m=!e||e.mixed?t.ogcServer:e.ogcServer,p=n[m],u=p.imageType,t.time?f=t.time:e&&e.time&&(f=e.time)}const y=p?p.type:void 0,b=p?p.namespace:void 0,v=p?p.isSingleTile:void 0,w=p&&p.wfsSupport?p.urlWfs:void 0,x=p?p.url:void 0;let M=VQ;y===UQ&&(M=BQ);const S=!!s.snappingConfig,k=s.snappingConfig?s.snappingConfig.tolerance:void 0,T=s.snappingConfig?s.snappingConfig.edge:void 0,L=s.snappingConfig?s.snappingConfig.vertex:void 0,C=this.dimensions_,E=t.dimensions||(null===e?{}:e.dimensions),D=i.dimensionsFilters;let A,$;if(f){const e=this.ngeoWMSTime_.getOptions(f).values;Array.isArray(e)?(A=e[0],$=e[1]):A=e}const P=s.copyable,R=s.identifierAttributeField,O=i.name,I=s.queryIconPosition,F=s.timeAttribute,N=!0===s.isChecked,Y={copyable:P,dimensionsConfig:E,dimensionsFiltersConfig:D,gmfLayer:i,id:o,identifierAttribute:R,name:O,ogcType:a,ogcAttributes:p?p.attributes:null,queryIconPosition:I,snappable:S,timeAttributeName:F,visible:N,wfsOutputFormat:M};C&&(Y.dimensions=C),g&&(Y.maxResolution=g),_&&(Y.minResolution=_),u&&(Y.ogcImageType=u),y&&(Y.ogcServerType=y),k&&(Y.snappingTolerance=k),T&&(Y.snappingToEdges=T),L&&(Y.snappingToVertice=L),A&&(Y.timeLowerValue=A),f&&(Y.timeProperty=f),$&&(Y.timeUpperValue=$),b&&(Y.wfsFeatureNS=b),d&&(Y.wfsLayers=d),w&&(Y.wfsUrl=w),v&&(Y.wmsIsSingleTile=v),h&&(Y.wmsLayers=h),x&&(Y.wmsUrl=x),l&&(Y.wmtsLayer=l),c&&(Y.wmtsUrl=c),y===HQ&&(this.gmfDatasourceOptions.ogcServersSpecific&&this.gmfDatasourceOptions.ogcServersSpecific[m]&&this.gmfDatasourceOptions.ogcServersSpecific[m].arcgisWMSInfoFormat?Y.wmsInfoFormat=this.gmfDatasourceOptions.ogcServersSpecific[m].arcgisWMSInfoFormat:this.gmfDatasourceOptions.arcgisWMSInfoFormat&&(Y.wmsInfoFormat=this.gmfDatasourceOptions.arcgisWMSInfoFormat)),this.dataSourcesCache_[o]=new i0(Y)}addTreeCtrlToCache_(e){const t=qe(e.node),n=this.dataSourcesCache_[t];if(!n)throw new Error("Missing dataSource");e.setDataSource(n);const r=this.rootScope_.$watch((()=>e.getState()),this.handleTreeCtrlStateChange_.bind(this,e)),i=this.rootScope_.$watch((()=>{const e=null!==n.filterRules,t=n.visible;return e&&t}),this.handleDataSourceFilterRulesChange_.bind(this,n));let o,s,a;n.timeProperty&&n.ogcType===WQ&&(o=this.rootScope_.$watch((()=>n.timeLowerValue),this.handleDataSourceTimeValueChange_.bind(this,n)),"range"===n.timeProperty.mode&&(s=this.rootScope_.$watch((()=>n.timeUpperValue),this.handleDataSourceTimeValueChange_.bind(this,n))),a=f4(e)),this.treeCtrlCache_[t]={filterRulesWatcherUnregister:i,stateWatcherUnregister:r,timeLowerValueWatcherUnregister:o,timeUpperValueWatcherUnregister:s,treeCtrl:e,wmsLayer:a},this.dataSources_.push(n),this.gmfWFSAliases_.describe(n)}removeTreeCtrlCacheItem_(e){const t=e.treeCtrl.getDataSource();if(!t)throw new Error("DataSource should be set");this.dataSources_.remove(t),e.treeCtrl.setDataSource(null),e.filterRulesWatcherUnregister(),e.stateWatcherUnregister(),e.timeLowerValueWatcherUnregister&&e.timeLowerValueWatcherUnregister(),e.timeUpperValueWatcherUnregister&&e.timeUpperValueWatcherUnregister(),delete this.treeCtrlCache_[qe(e.treeCtrl.node)]}clearTreeCtrlCache_(){for(const e in this.treeCtrlCache_)this.removeTreeCtrlCacheItem_(this.treeCtrlCache_[e])}handleTreeCtrlStateChange_(e,t){const n=e.getDataSource();if(!n)throw new Error("DataSource should be set");const r="on"===t;n.visible=r;const i=this.getDataSourceLayer_(n);null!=i&&this.updateLayerFilter_(i)}getTreeCtrlCacheItem_(e){return this.treeCtrlCache_[qe(e.node)]||null}getDataSourceLayer_(e){if(!(e instanceof i0)||null==e.gmfLayer)return;const t=qe(e.gmfLayer);if(null==t)return;const n=this.treeCtrlCache_[t];if(null==n)return;return f4(n.treeCtrl)}updateLayerFilter_(e){if(!(e instanceof WG||e instanceof Az||e instanceof Fz))return;const t=e.getSource();if(!(t instanceof sq||t instanceof _q))return;const n=t.getParams().LAYERS.split(",");if(!n.length)throw new Error("Missing layersList");const r="FILTER",i=[];let o=!1;for(const t of n){let n="()";const r=this.dataSources_.getArray();for(const i of r){const r=this.getDataSourceLayer_(i);if(null==r)continue;if(!(i instanceof i0))throw new Error("Wrong dataSource type");const s=i.gmfLayer;if(qe(r)==qe(e)&&e.get("querySourceIds").includes(String(i.id))&&s.layers.split(",").includes(t)){const e=qe(i.gmfLayer),t=this.treeCtrlCache_[e];if(!t)throw new Error("Missing item");const r=t.treeCtrl.map.getView().getProjection().getCode();if(!(i instanceof i0))throw new Error("Wrong datasource");const s=i.visible?this.ngeoRuleHelper_.createFilterString({dataSource:i,projCode:r,incDimensions:!0}):null;s&&(n=`(${s})`,o=!0)}}i.push(n)}t.updateParams({[r]:o?i.join(""):null})}handleDataSourceFilterRulesChange_(e){if(!0!==e.filtrable||e.ogcType!==WQ)return;const t=this.getDataSourceLayer_(e);void 0!==t&&this.updateLayerFilter_(t)}handleDataSourceTimeValueChange_(e){const t=qe(e.gmfLayer),n=this.treeCtrlCache_[t];if(!n)throw new Error("Missing item");const r=n.wmsLayer,i=r.getSource(),o=e.timeProperty;let s;const a=e.timeRangeValue;if(a){if(!o)throw new Error("Missing timeProperty");s=this.ngeoWMSTime_.formatWMSTimeParam(o,a)}i.getParams().TIME!==s&&this.ngeoLayerHelper_.updateWMSLayerState(r,i.getParams().LAYERS,s)}handleNgeoBackgroundLayerChange_(e){const t=e,n=t.detail.previous,r=t.detail.current,i=this.dataSourcesCache_;if(n){const e=n.get("querySourceIds");if(Array.isArray(e))for(const t of e){const e=i[t];e&&(e.visible=!1,this.dataSources_.remove(e))}}if(r){const e=r.get("querySourceIds");if(Array.isArray(e))for(const t of e){const e=i[t];e&&(e.visible=!0,this.dataSources_.push(e))}}}}C4.$inject=["$q","$rootScope","$timeout","$injector","gmfThemes","gmfTreeManager","ngeoBackgroundLayerMgr","ngeoDataSources","ngeoLayerHelper","ngeoRuleHelper","ngeoWMSTime","gmfWFSAliases"];const E4=t().module("gmfDataSourcesManager",[i4.name,m4.name,L4.name,S0.name,O3.name,F0.name,E0.name,u0.name,x3.name]);E4.service("gmfDataSourcesManager",C4);const D4=E4,A4=t().module("ngeoDatasourceModule",[F0.name,O6.name,t4.name,V6.name,P6.name,D4.name,i4.name]);i(6415);P4.$inject=["ngeoPopupTemplateUrl"];const $4=t().module("ngeoPopup",["ngSanitize"]);function P4(e){return{restrict:"A",templateUrl:e,link:(e,t,n)=>{t.addClass("popover"),e.close=function(e){e&&(e.stopPropagation(),e.preventDefault()),t.addClass("hidden")},e.$watch("open",((e,n)=>{t.css("display",e?"block":"none")}))}}}$4.value("ngeoPopupTemplateUrl",((e,t)=>{const n=t.ngeoPopupTemplateurl;return void 0!==n?n:"ngeo/message/popupcomponent"})),$4.run(["$templateCache",e=>{e.put("ngeo/message/popupcomponent",'<h4 class="popover-title ngeo-popup-title">\n  <span ng-bind-html="title"></span>\n  <button type="button" class="close" ng-click="open = false">&times;</button>\n</h4>\n<div class="popover-body" ng-bind-html="content"></div>')}]),$4.directive("ngeoPopup",P4);const R4=$4;function O4(e,n,r,i){this.scope=n.$new(!0),this.scope.$watch((()=>this.scope.open),(e=>{!e&&this.autoDestroy_&&this.timeout_((()=>{this.destroy()}))})),this.sce_=r,this.timeout_=i,this.element_=t().element("<div ngeo-popup></div>"),this.autoDestroy_=!1,e(this.element_)(this.scope),t().element(document.body).append(this.element_)}function I4(e,t,n,r){return function(){return new O4(e,t,n,r)}}I4.$inject=["$compile","$rootScope","$sce","$timeout"],O4.prototype.getOpen=function(){return this.scope.open},O4.prototype.setOpen=function(e){this.scope.open=e},O4.prototype.destroy=function(){this.scope.$destroy(),this.element_.remove()},O4.prototype.setTitle=function(e){const t=this.sce_.trustAsHtml(e);this.scope.title=t},O4.prototype.setContent=function(e,t){this.scope.content=t?this.sce_.trustAsHtml(e):e},O4.prototype.setUrl=function(e){const t=this.sce_.trustAsHtml(`<iframe src="${e}" width="100%" height="100%"></iframe>`);this.setContent(t)},O4.prototype.setWidth=function(e){this.element_.width(e)},O4.prototype.setHeight=function(e){this.element_.height(e)},O4.prototype.setSize=function(e,t){this.setWidth(e),this.setHeight(t)},O4.prototype.setAutoDestroy=function(e){this.autoDestroy_=e},O4.prototype.addClass=function(e){this.element_.addClass(e)},O4.prototype.open=function(e){e.url?this.setUrl(e.url):e.content?this.setContent(e.content):console.assert(!1,'ngeo.message.Popup options requirest "url" or "content".'),void 0!==e.autoDestroy&&this.setAutoDestroy(e.autoDestroy),void 0!==e.cls&&this.addClass(e.cls),void 0!==e.height&&this.setHeight(e.height),void 0!==e.title&&this.setTitle(e.title),void 0!==e.width&&this.setWidth(e.width),this.setOpen(!0)};const F4=t().module("ngeoCreatePopup",[R4.name]);F4.factory("ngeoCreatePopup",I4);const N4=F4,Y4="error",j4="information",H4="success",z4="warning",U4=class{showMessage(e){}show(e){this.getMessageObjects(e).forEach((e=>this.showMessage(e)))}error(e){this.show(this.getMessageObjects(e,Y4))}info(e){this.show(this.getMessageObjects(e,j4))}success(e){this.show(this.getMessageObjects(e,H4))}warn(e){this.show(this.getMessageObjects(e,z4))}getMessageObjects(e,t){const n=[],r=j4;if("string"==typeof e)n.push({msg:e,type:void 0!==t?t:r});else if(Array.isArray(e))e.forEach((i=>{if("string"==typeof e)n.push({msg:i,type:void 0!==t?t:r});else{if("string"==typeof i)throw new Error("Wrong msg type");void 0!==t&&(i.type=t),n.push(i)}}));else{const i=e;void 0!==t&&(i.type=t),void 0===i.type&&(i.type=r),n.push(i)}return n}};class W4 extends U4{constructor(e,n,r){super(),this.sce_=e,this.gettextCatalog_=n,this.createPopup_=r;const i=t().element('<div class="ngeo-disclaimer"></div>');t().element(document.body).append(i),this.container_=i,this.messages_={},this.messagesConsumerCount_={},this.uids_={},this.validMessages_=[],this.closedMessages_=[]}alert(e){this.show(e)}close(e){this.getMessageObjects(e).forEach((e=>this.closeMessage_(e)))}showMessage(e){const n=this.gettextCatalog_,r=e.type;console.assert("string"==typeof r,"Type should be set.");const i=this.getMessageUid_(e);if(!(this.uids_[i]||this.isClosedMessage_(i)&&this.isValidMessage_(i)))if(this.validMessages_=this.validMessages_.filter((e=>e!==i)),this.validMessages_.push(i),this.uids_[i]=!0,!0===e.popup){const t=this.createPopup_(),n=this.sce_.trustAsHtml(e.msg);t.open({autoDestroy:!0,content:n,title:"&nbsp;"}),t.scope.$watch("open",(t=>{t||this.closeMessage_(e)})),this.messages_[i]=t}else{const o=this.getCompatibleMessageUid_(e);if(this.messages_[o])return void this.messagesConsumerCount_[o]++;const s=["alert","fade","alert-dismissible","show"];switch(r){case Y4:s.push("alert-danger");break;case j4:s.push("alert-info");break;case H4:s.push("alert-success");break;case z4:s.push("alert-warning")}const a=t().element(`<div role="alert" class="${s.join(" ")}"></div>`),l=t().element(`<button type="button" class="close" data-dismiss="alert" aria-label="${n.getString("Close")}"><span aria-hidden="true" class="fa-solid fa-xmark"></span></button>`),c=t().element("<span />").html(e.msg);let u;a.append(l).append(c),l.on("click",(()=>this.closedMessages_.push(i))),u=e.target?t().element(e.target):this.container_,u.append(a),a.addClass("show"),a.on("closed.bs.alert",(()=>{this.closeMessage_(e,!0)})),this.messages_[o]=a,this.messagesConsumerCount_[o]=1}}getMessageUid_(e){return`${e.msg}-${e.type}-${e.layerUid}`}getCompatibleMessageUid_(e){return`${e.msg}-${e.type}`}isClosedMessage_(e){return!!this.closedMessages_.find((t=>t===e))}isValidMessage_(e){return!!this.validMessages_.find((t=>t===e))}closeMessage_(e,t=!1){const n=this.getMessageUid_(e);if(!this.uids_[n])return void(this.isClosedMessage_(n)&&this.isValidMessage_(n)&&(this.closedMessages_=this.closedMessages_.filter((e=>e!==n)),this.validMessages_=this.validMessages_.filter((e=>e!==n))));delete this.uids_[n];const r=this.getCompatibleMessageUid_(e);if(t?this.messagesConsumerCount_[r]=0:this.messagesConsumerCount_[r]--,this.messagesConsumerCount_[r]>0)return;const i=this.messages_[r];if(i instanceof O4){const e=i;e.getOpen()&&e.setOpen(!1)}else if(i){const e=i;e.hasClass("show")&&e.alert("close")}else console.log(`No disclaimer found for '${e.msg}'.`);delete this.messages_[r],delete this.messagesConsumerCount_[r]}}W4.$inject=["$sce","gettextCatalog","ngeoCreatePopup"];const G4=t().module("ngeoDisclaimer",[N4.name]);G4.service("ngeoDisclaimer",W4);const q4=G4;function B4(){this.listenerKeys_={}}B4.prototype.addListenerKey=function(e,t){this.listenerKeys_[e]||this.initListenerKey_(e),this.listenerKeys_[e].push(t)},B4.prototype.clearListenerKey=function(e){this.initListenerKey_(e)},B4.prototype.initListenerKey_=function(e){this.listenerKeys_[e]?this.listenerKeys_[e].length&&(this.listenerKeys_[e].forEach(wn),this.listenerKeys_[e].length=0):this.listenerKeys_[e]=[]};const V4=t().module("ngeoEventHelper",[]);V4.service("ngeoEventHelper",B4);const X4=V4;J4.$inject=["$element","$sce","$timeout","$rootScope","gettextCatalog","ngeoDisclaimer","ngeoEventHelper","ngeoLayerHelper","gmfDisclaimerOptions"];const K4=t().module("gmfDisclaimer",["ngSanitize",u0.name,q4.name,X4.name]);function J4(e,t,n,r,i,o,s,a,l){this.options=l,this.map=null,this.visibility=!1,this.msg,this.msgs_=[],this.sce_=t,this.timeout_=n,this.rootScope_=r,this.gettextCatalog_=i,this.element_=e,this.disclaimer_=o,this.eventHelper_=s,this.ngeoLayerHelper_=a,this.dataLayerGroup_=null}J4.prototype.$onInit=function(){if(!this.map)throw new Error("Missing map");this.dataLayerGroup_=this.ngeoLayerHelper_.getGroupFromMap(this.map,I6),this.registerLayer_(this.dataLayerGroup_),this.rootScope_.$on("ngeo-pre-empty-layertree",(()=>{for(const e of this.map.getAllLayers())this.closeAll_(e)}))},J4.prototype.handleLayersAdd_=function(e){e instanceof ZY&&this.timeout_((()=>{const t=e.element;if(!(t instanceof RO))throw new Error("Wrong layer type");this.registerLayer_(t)}))},J4.prototype.handleLayersRemove_=function(e){if(e instanceof ZY){const t=e.element;if(!(t instanceof RO))throw new Error("Wrong layer type");this.unregisterLayer_(t)}},J4.prototype.registerLayer_=function(e){const t=qe(e);e instanceof SU?(this.eventHelper_.addListenerKey(t,bn(e.getLayers(),"add",this.handleLayersAdd_,this)),this.eventHelper_.addListenerKey(t,bn(e.getLayers(),"remove",this.handleLayersRemove_,this)),e.getLayers().forEach((e=>{this.registerLayer_(e)}))):this.options.layerVisibility||void 0===this.options.layerVisibility?(e.getVisible()&&this.map.getAllLayers().includes(e)?this.update_(e):this.closeAll_(e),this.rootScope_.$on("ngeo-disclaimer-state",(()=>{e.getVisible()&&this.map.getAllLayers().includes(e)?this.update_(e):this.closeAll_(e)}))):this.showAll_(e)},J4.prototype.unregisterLayer_=function(e){const t=qe(e);e instanceof SU?(this.eventHelper_.clearListenerKey(t),e.getLayers().forEach((e=>this.unregisterLayer_(e)))):this.closeAll_(e)},J4.prototype.$onDestroy=function(){if(!this.dataLayerGroup_)throw new Error("Missing dataLayerGroup");this.unregisterLayer_(this.dataLayerGroup_)},J4.prototype.showDisclaimerMessage_=function(e,t){if(t=this.gettextCatalog_.getString(t),this.options.external)this.msgs_.includes(t)||this.msgs_.push(t),this.msg=`${this.sce_.trustAsHtml(this.msgs_.join("<br />"))}`,this.visibility=!0;else{const n={msg:t,layerUid:e,target:this.element_,type:$s.WARNING};this.options.popup&&(n.popup=this.options.popup),this.disclaimer_.alert(n)}},J4.prototype.closeAll_=function(e){const t=e.get("disclaimers");if(t){const n=qe(e);for(const e in t){const r=`${n}-${e}`;this.closeDisclaimerMessage_(r,t[e])}}},J4.prototype.showAll_=function(e){const t=e.get("disclaimers");if(!t)return;const n=qe(e);for(const e in t){const r=`${n}-${e}`;this.showDisclaimerMessage_(r,t[e])}},J4.prototype.update_=function(e){const t=e.get("disclaimers");if(t)if("all"in t)console.assert(1===Object.keys(t).length),this.showAll_(e);else{const n=e.getSource();if(n.getParams){const r=n.getParams().LAYERS,i=qe(e);for(const e in t){const n=`${i}-${e}`;-1!==r.indexOf(e)?this.showDisclaimerMessage_(n,t[e]):this.closeDisclaimerMessage_(n,t[e])}}}},J4.prototype.closeDisclaimerMessage_=function(e,t){if(t=this.gettextCatalog_.getString(t),this.options.external)this.visibility=!1,this.msgs_.length=0,this.msg="";else{const n={msg:t,layerUid:e,target:this.element_,type:$s.WARNING};this.options.popup&&(n.popup=this.options.popup),this.disclaimer_.close(n)}};const Z4={controller:J4,bindings:{map:"=gmfDisclaimerMap",visibility:"=?gmfDisclaimerExternalVisibility",msg:"=?gmfDisclaimerExternalMsg"}};K4.component("gmfDisclaimer",Z4);const Q4=K4,e8="collapse",t8="bs.collapse",n8=`.${t8}`,r8=r().fn[e8],i8="show",o8="collapse",s8="collapsing",a8="collapsed",l8="width",c8=`show${n8}`,u8=`shown${n8}`,h8=`hide${n8}`,d8=`hidden${n8}`,f8=`click${n8}.data-api`,p8='[data-toggle="collapse"]',m8={toggle:!0,parent:""},g8={toggle:"boolean",parent:"(string|element)"};class _8{constructor(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll(`[data-toggle="collapse"][href="#${e.id}"],[data-toggle="collapse"][data-target="#${e.id}"]`));const n=[].slice.call(document.querySelectorAll(p8));for(let t=0,r=n.length;t<r;t++){const r=n[t],i=Fs.getSelectorFromElement(r),o=[].slice.call(document.querySelectorAll(i)).filter((t=>t===e));null!==i&&o.length>0&&(this._selector=i,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get VERSION(){return"4.6.2"}static get Default(){return m8}toggle(){r()(this._element).hasClass(i8)?this.hide():this.show()}show(){if(this._isTransitioning||r()(this._element).hasClass(i8))return;let e,t;if(this._parent&&(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((e=>"string"==typeof this._config.parent?e.getAttribute("data-parent")===this._config.parent:e.classList.contains(o8))),0===e.length&&(e=null)),e&&(t=r()(e).not(this._selector).data(t8),t&&t._isTransitioning))return;const n=r().Event(c8);if(r()(this._element).trigger(n),n.isDefaultPrevented())return;e&&(_8._jQueryInterface.call(r()(e).not(this._selector),"hide"),t||r()(e).data(t8,null));const i=this._getDimension();r()(this._element).removeClass(o8).addClass(s8),this._element.style[i]=0,this._triggerArray.length&&r()(this._triggerArray).removeClass(a8).attr("aria-expanded",!0),this.setTransitioning(!0);const o=`scroll${i[0].toUpperCase()+i.slice(1)}`,s=Fs.getTransitionDurationFromElement(this._element);r()(this._element).one(Fs.TRANSITION_END,(()=>{r()(this._element).removeClass(s8).addClass(`${o8} ${i8}`),this._element.style[i]="",this.setTransitioning(!1),r()(this._element).trigger(u8)})).emulateTransitionEnd(s),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!r()(this._element).hasClass(i8))return;const e=r().Event(h8);if(r()(this._element).trigger(e),e.isDefaultPrevented())return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Fs.reflow(this._element),r()(this._element).addClass(s8).removeClass(`${o8} ${i8}`);const n=this._triggerArray.length;if(n>0)for(let e=0;e<n;e++){const t=this._triggerArray[e],n=Fs.getSelectorFromElement(t);if(null!==n){r()([].slice.call(document.querySelectorAll(n))).hasClass(i8)||r()(t).addClass(a8).attr("aria-expanded",!1)}}this.setTransitioning(!0);this._element.style[t]="";const i=Fs.getTransitionDurationFromElement(this._element);r()(this._element).one(Fs.TRANSITION_END,(()=>{this.setTransitioning(!1),r()(this._element).removeClass(s8).addClass(o8).trigger(d8)})).emulateTransitionEnd(i)}setTransitioning(e){this._isTransitioning=e}dispose(){r().removeData(this._element,t8),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}_getConfig(e){return(e={...m8,...e}).toggle=Boolean(e.toggle),Fs.typeCheckConfig(e8,e,g8),e}_getDimension(){return r()(this._element).hasClass(l8)?l8:"height"}_getParent(){let e;Fs.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);const t=`[data-toggle="collapse"][data-parent="${this._config.parent}"]`,n=[].slice.call(e.querySelectorAll(t));return r()(n).each(((e,t)=>{this._addAriaAndCollapsedClass(_8._getTargetFromElement(t),[t])})),e}_addAriaAndCollapsedClass(e,t){const n=r()(e).hasClass(i8);t.length&&r()(t).toggleClass(a8,!n).attr("aria-expanded",n)}static _getTargetFromElement(e){const t=Fs.getSelectorFromElement(e);return t?document.querySelector(t):null}static _jQueryInterface(e){return this.each((function(){const t=r()(this);let n=t.data(t8);const i={...m8,...t.data(),..."object"==typeof e&&e?e:{}};if(!n&&i.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(i.toggle=!1),n||(n=new _8(this,i),t.data(t8,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}r()(document).on(f8,p8,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();const t=r()(this),n=Fs.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));r()(i).each((function(){const e=r()(this),n=e.data(t8)?"toggle":t.data();_8._jQueryInterface.call(e,n)}))})),r().fn[e8]=_8._jQueryInterface,r().fn[e8].Constructor=_8,r().fn[e8].noConflict=()=>(r().fn[e8]=r8,_8._jQueryInterface);b8.$inject=["gmfLayertreeNodeTemplateUrl"];const y8=t().module("gmfLayertreeNode",[h4.name]);function b8(e){return{restrict:"A",scope:!0,templateUrl:e,controller:o4}}y8.value("gmfLayertreeNodeTemplateUrl",((e,t)=>{const n=t.gmfLayertreeNodeTemplateurl;return void 0!==n?n:"gmf/layertree/layertreeNode"})),y8.run(["$templateCache",e=>{e.put("gmf/layertree/layertreeNode",'<span ng-if="::!layertreeCtrl.isRoot">{{::layertreeCtrl.node.name}}</span>\n<input\n  type="checkbox"\n  ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children"\n  ng-model="layertreeCtrl.getSetActive"\n  ng-model-options="{getterSetter: true}"\n/>\n<ul ng-if="::layertreeCtrl.node.children">\n  <li\n    ng-repeat="node in ::layertreeCtrl.node.children"\n    gmf-layertree-node="::node"\n    gmf-layertree-node-notroot\n    gmf-layertree-node-map="layertreeCtrl.map"\n    gmf-layertree-node-nodelayer="layertreeCtrl.nodelayerExpr"\n    gmf-layertree-node-listenersexpr="layertreeCtrl.listenersExpr"\n  ></li>\n</ul>')}]),y8.directive("gmfLayertreeNode",b8);const v8=y8,w8=t().module("gmfLayerBeingSwipe",[]);w8.value("gmfLayerBeingSwipe",{layer:null,swipeValue:null});const x8=w8;S8.$inject=["$rootScope","gmfThemes","gmfTreeManagerModeFlush","gmfTreeManager","ngeoStateManager"];const M8="gmf-thememanager-theme_name_set";function S8(e,t,n,r,i){this.$rootScope_=e,this.gmfThemes_=t,this.modeFlush=n,this.gmfTreeManager_=r,this.ngeoStateManager_=i,this.themeName_=""}S8.prototype.addTheme=function(e,t){this.modeFlush?(this.ngeoStateManager_.updateState({theme:e.name}),this.setThemeName(e.name),this.gmfTreeManager_.setFirstLevelGroups(e.children)):this.gmfTreeManager_.addFirstLevelGroups(e.children,!1,t)},S8.prototype.getThemeName=function(){return this.themeName_},S8.prototype.isLoading=function(){return!this.gmfThemes_.loaded},S8.prototype.updateCurrentTheme=function(e,t,n,r){this.gmfThemes_.getThemesObject().then((i=>{if(!e&&this.modeFlush){const e=p0(i,t);e&&(this.gmfTreeManager_.setInitialFirstLevelGroups(e.children),r&&this.gmfTreeManager_.addFirstLevelGroups(e.children,!1,n))}if(e){const t=p0(i,e);t&&this.addTheme(t,!0)}else this.setThemeName(t)}))},S8.prototype.setThemeName=function(e,t){this.themeName_=e,t||this.$rootScope_.$emit(M8,e)},S8.prototype.removeAll=function(){this.gmfTreeManager_.removeAll()};const k8=t().module("gmfThemeManager",[L4.name,S0.name,M4.name]);k8.service("gmfThemeManager",S8);const T8=k8;var L8=i(6932);const C8=class extends VY{constructor(e={}){const t=e.element?e.element:document.createElement("div");e.element=document.createElement("div"),super(e);const n=document.createElement("div");n.className="close",n.innerHTML="&times;",n.addEventListener("click",this.close.bind(this)),this.contentEl_=document.createElement("div"),this.contentEl_.append(n,t)}close(){const e=this.getMap();e&&e.removeOverlay(this)}setMap(e){const t=this.getElement();if(!t)throw new Error("Missing element");if(this.getMap()&&L8(t).popover("dispose"),super.setMap(e),e){const e=this.contentEl_;window.setTimeout((()=>{L8(t).popover({container:t.parentElement,placement:"top",content:e,html:!0}),L8(t).popover("show")}),0)}}},E8=t().module("ngeoFeatures",[]);E8.value("ngeoFeatures",new QY);const D8=E8,A8="LineString",$8="Point",P8="Polygon";function R8(e){return"string"==typeof e?e:""}const O8=class extends eW{constructor(){super()}getType(){return"text"}readFeature(e,t){return this.readFeatureFromText(R8(e),this.adaptOptions(t))}readFeatureFromText(e,t){return We()}readFeatures(e,t){return this.readFeaturesFromText(R8(e),this.adaptOptions(t))}readFeaturesFromText(e,t){return We()}readGeometry(e,t){return this.readGeometryFromText(R8(e),this.adaptOptions(t))}readGeometryFromText(e,t){return We()}readProjection(e){return this.readProjectionFromText(R8(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,t){return this.writeFeatureText(e,this.adaptOptions(t))}writeFeatureText(e,t){return We()}writeFeatures(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))}writeFeaturesText(e,t){return We()}writeGeometry(e,t){return this.writeGeometryText(e,this.adaptOptions(t))}writeGeometryText(e,t){return We()}};let I8={};const F8={LineString:A8,Point:$8,Polygon:P8,MultiLineString:A8,MultiPoint:$8,MultiPolygon:P8},N8=".-_!*ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghjkmnpqrstuvwxyz",Y8={P:function(e){console.assert(e.startsWith("P(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);const t=this.decodeCoordinates_(e);return new cj(t,"XY")},L:function(e){console.assert(e.startsWith("L(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);let t=[];const n=[],r=e.split("'");for(let e=0,i=r.length;e<i;++e)t=this.decodeCoordinates_(r[e],t),n[e]=t.length;return new aj(t,"XY",n)},A:function(e){console.assert(e.startsWith("A(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);let t=[];const n=[],r=e.split(")(");for(let e=0,i=r.length;e<i;++e){const i=r[e].split("'");n[e]=[];const o=n[e];for(let e=0,n=i.length;e<n;++e){t=this.decodeCoordinates_(i[e],t);let n=t.length;0===e?(t[n++]=t[0],t[n++]=t[1]):(t[n++]=t[o[e-1]],t[n++]=t[o[e-1]+1]),o[e]=n}}return new dj(t,"XY",n)},l:function(e){console.assert(e.startsWith("l(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);const t=this.decodeCoordinates_(e);return new vO(t,"XY")},p:function(e){console.assert(e.startsWith("p(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);const t=this.decodeCoordinates_(e);return console.assert(2===t.length),new VR(t,"XY")},a:function(e){console.assert(e.startsWith("a(")),console.assert(e.endsWith(")")),e=e.substring(2,e.length-1);let t=[];const n=[],r=e.split("'");for(let e=0,i=r.length;e<i;++e){t=this.decodeCoordinates_(r[e],t);let i=t.length;0===e?(t[i++]=t[0],t[i++]=t[1]):(t[i++]=t[n[e-1]],t[i++]=t[n[e-1]+1]),n[e]=i}return new mI(t,"XY",n)}},j8={MultiLineString:function(e){if(e instanceof aj){const t=e.getEnds(),n=t.length,r=e.getFlatCoordinates(),i=e.getStride();let o=0;const s=["L("];for(let e=0;e<n;++e){const n=t[e],a=this.encodeCoordinates_(r,i,o,n);0!==e&&s.push("'"),s.push(a),o=n}return s.push(")"),s.join("")}return null},MultiPoint:function(e){if(e instanceof cj){const t=e.getFlatCoordinates(),n=e.getStride(),r=t.length;return`P(${this.encodeCoordinates_(t,n,0,r)})`}return null},MultiPolygon:function(e){if(e instanceof dj){const t=e.getFlatCoordinates(),n=e.getStride(),r=e.getEndss(),i=r.length;let o=0;const s=["A"];for(let e=0;e<i;++e){const i=r[e];s.push("("),o=Z8.call(this,t,n,o,i,s),s.push(")")}return s.join("")}throw new Error("Wrong geometry type")},LineString:function(e){if(e instanceof vO){const t=e.getFlatCoordinates(),n=e.getStride(),r=t.length;return`l(${this.encodeCoordinates_(t,n,0,r)})`}return null},Point:function(e){if(e instanceof VR){const t=e.getFlatCoordinates(),n=e.getStride(),r=t.length;return`p(${this.encodeCoordinates_(t,n,0,r)})`}return null},Polygon:function(e){if(e instanceof mI){const t=e.getFlatCoordinates(),n=e.getStride(),r=e.getEnds(),i=0,o=["a("];return Z8.call(this,t,n,i,r,o),o.push(")"),o.join("")}return null}};const H8=class extends O8{constructor(e){super();const t=e||{};this.accuracy_=t.accuracy||.1,this.encodeStyles_=t.encodeStyles||!0,this.propertiesFunction_=t.properties||z8,this.setStyle_=void 0===t.setStyle||t.setStyle,this.prevX_=0,this.prevY_=0,I8=t.propertiesType||{},this.defaultValues_=t.defaultValues||{}}decodeCoordinates_(e,t){const n=e.length;let r=0;const i=void 0!==t?t:[];let o=i.length;for(;r<n;){let t,n=0,s=0;do{t=N8.indexOf(e.charAt(r++)),s|=(31&t)<<n,n+=5}while(t>=32);const a=1&s?~(s>>1):s>>1;this.prevX_+=a,n=0,s=0;do{t=N8.indexOf(e.charAt(r++)),s|=(31&t)<<n,n+=5}while(t>=32);const l=1&s?~(s>>1):s>>1;this.prevY_+=l,i[o++]=this.prevX_*this.accuracy_,i[o++]=this.prevY_*this.accuracy_}return i}encodeCoordinates_(e,t,n,r){let i="";for(let o=n;o<r;o+=t){let t=e[o],n=e[o+1];t=Math.floor(t/this.accuracy_),n=Math.floor(n/this.accuracy_);const r=t-this.prevX_,s=n-this.prevY_;this.prevX_=t,this.prevY_=n,i+=U8(r)+U8(s)}return i}readFeatureFromText(e,t){console.assert(e.length>2),console.assert("("===e[1]),console.assert(e.endsWith(")"));let n=e.indexOf("~");const r=n>=0?`${e.substring(0,n)})`:e,i=this.readGeometryFromText(r,t),o=new L$(i);if(n>=0){const t=e.substring(n+1,e.length-1);n=t.indexOf("~");const r=n>=0?t.substring(0,n):t;if(""!=r){const e=r.split("'");for(const t of e){const e=decodeURIComponent(t).split("*");console.assert(2===e.length);let n=e[0];const r=e[1];!this.setStyle_&&I8[n]&&(n=I8[n]),o.set(n,K8(n,r))}}if(n>=0){const e=t.substring(n+1);this.setStyle_?function(e,t){if(""==e)return;const n=J8(e,t),r=n.fillColor,i=n.fontSize,o=n.fontColor,s=n.pointRadius,a=n.strokeColor,l=n.strokeWidth;let c=null;void 0!==r&&(c=new pr({color:r}));let u=null;if(void 0!==a&&void 0!==l){if("number"!=typeof l)throw new Error("Missing strokeWidth");u=new gr({color:a,width:l})}let h=null;if(void 0!==s){if("number"!=typeof s)throw new Error("Missing pointRadius");const e={radius:s};c&&(e.fill=c),u&&(e.stroke=u),h=new dr(e),c=null,u=null}let d=null;void 0!==i&&void 0!==o&&(d=new qI({font:`${i} sans-serif`,fill:new pr({color:o})}));const f={};c&&(f.fill=c);u&&(f.stroke=u);h&&(f.image=h);d&&(f.text=d);const p=new Sr(f);t.setStyle(p)}(e,o):function(e,t){const n=J8(e,t),r=t.getGeometry();r instanceof VR?n.isLabel||n[n1]?(delete n.strokeColor,delete n.fillColor):(delete n.fontColor,delete n.fontSize):(delete n.fontColor,r instanceof vO&&(delete n.fillColor,delete n.fillOpacity));if(n.fontSize){const e=n.fontSize;if("string"!=typeof e)throw new Error("Wrong fontSizeStr type");let t=parseFloat(e);e.includes("px")&&(t=Math.round(t/1.333333)),n.fontSize=t}const i={};for(const e in n){const t=n[e];I8[e]?i[I8[e]]=t:i[e]=t}t.setProperties(i)}(e,o)}}return o}readFeaturesFromText(e,t){console.assert(e.startsWith("F")),this.prevX_=0,this.prevY_=0;const n=[];for(e=e.substring(1);e.length>0;){const r=e.indexOf(")");console.assert(r>=0);const i=this.readFeatureFromText(e.substring(0,r+1),t);n.push(i),e=e.substring(r+1)}return n.forEach((e=>{for(const t in this.defaultValues_){const n=I8[t];void 0===e.get(n)&&e.set(n,this.defaultValues_[t].call(null,e))}})),n}readGeometryFromText(e,t){const n=Y8[e[0]];return console.assert(void 0!==n),n.call(this,e)}writeFeatureText(e,t){const n=[];let r="";const i=e.getGeometry();i&&(r=this.writeGeometryText(i,t)),r.length>0&&(console.assert(r.endsWith(")")),r=r.substring(0,r.length-1),n.push(r));const o=[],s=this.propertiesFunction_(e);for(const t in s){const n=s[t];if(null!=n&&t!==e.getGeometryName()){0!==o.length&&o.push("'");const e=encodeURIComponent(`${t.replace(/[()'*]/g,"_")}*${n.toString().replace(/[()'*]/g,"_")}`);o.push(e)}}if(o.length>0&&(n.push("~"),Array.prototype.push.apply(n,o)),this.encodeStyles_){const t=e.getStyleFunction();if(void 0!==t){let r=t(e,0);if(r){const e=[];if(r=Array.isArray(r)?r:[r],!i)throw new Error("Missing geometry");!function(e,t,n){const r=F8[t];console.assert(void 0!==r);for(const t of e){const e=t.getFill(),i=t.getImage(),o=t.getStroke(),s=t.getText();r==P8?null!==e&&q8(e,o,n):r==A8?null!==o&&W8(o,n):r==$8&&null!==i&&G8(i,n),null!==s&&X8(s,n)}}(r,i.getType(),e),e.length>0&&(n.push("~"),Array.prototype.push.apply(n,e))}}}return n.push(")"),n.join("")}writeFeaturesText(e,t){this.prevX_=0,this.prevY_=0;const n=[];if(e.length>0){n.push("F");for(let r=0,i=e.length;r<i;++r)n.push(this.writeFeatureText(e[r],t))}return n.join("")}writeGeometryText(e,t){const n=j8[e.getType()];console.assert(void 0!==n);const r=tW(e,!0,t);if(!(r instanceof YR))throw new Error("Missing transformedGeometry");const i=n.call(this,r);if(!i)throw new Error("Missing encodedGeometry");return i}};function z8(e){return e.getProperties()}function U8(e){let t=e<<1;return e<0&&(t=~t),function(e){let t="";for(;e>=32;)t+=N8.charAt(32|31&e),e>>=5;return t+=N8.charAt(e),t}(t)}function W8(e,t){V8(e,t)}function G8(e,t){if(e instanceof dr){const n=e.getRadius();t.length>0&&t.push("'"),t.push(encodeURIComponent(`pointRadius*${n}`));const r=e.getFill();null!==r&&B8(r,t);const i=e.getStroke();null!==i&&V8(i,t)}}function q8(e,t,n){B8(e,n),null!==t&&V8(t,n)}function B8(e,t,n="fillColor"){const r=e.getColor();let i;if(null!==r){if(Array.isArray(r))i=Wz(r);else{if("string"!=typeof r)throw new Error("Unsupported color");i=Wz(St(r))}t.length>0&&t.push("'"),t.push(encodeURIComponent(`${n}*${i}`))}}function V8(e,t){const n=e.getColor();if(null!==n&&Array.isArray(n)){const e=Wz(n);t.length>0&&t.push("'"),t.push(encodeURIComponent(`strokeColor*${e}`))}const r=e.getWidth();void 0!==r&&(t.length>0&&t.push("'"),t.push(encodeURIComponent(`strokeWidth*${r}`)))}function X8(e,t){const n=e.getFont();if(void 0!==n){const e=n.split(" ");e.length>=3&&(t.length>0&&t.push("'"),t.push(encodeURIComponent(`fontSize*${e[1]}`)))}const r=e.getFill();null!==r&&B8(r,t,"fontColor")}function K8(e,t){const n=[e1,t1,n1,a1,i1,"isCircle","isRectangle","isLabel","showMeasure","showLabel"];return[Z0,o1,l1,c1,"pointRadius","strokeWidth"].includes(e)?+t:n.includes(e)?"true"===t:t}function J8(e,t){const n=e.split("'"),r={};for(const e of n){const t=decodeURIComponent(e).split("*");console.assert(2===t.length);const n=t[0],i=t[1];r[n]=K8(n,i)}return r}function Z8(e,t,n,r,i){const o=r.length;for(let s=0;s<o;++s){const o=r[s]-t,a=this.encodeCoordinates_(e,t,n,o);0!==s&&i.push("'"),i.push(a),n=r[s]}return n}t7.$inject=["$timeout"];const Q8=t().module("ngeoDebounce",[]);function e7(e,t,n,r){let i=null;return function(...o){null!==i&&r.cancel(i),i=r((()=>{i=null,e.apply(this,o)}),t,n)}}function t7(e){const t=e7;return(n,r,i)=>t(n,r,i,e)}Q8.factory("ngeoDebounce",t7);const n7=Q8,r7=t().module("ngeoStatemanagerModule",[v4.name,M4.name]);function i7(e){if(e instanceof Sr)return e;if(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(i7(n));return t}{const t={};Object.assign(t,e);const n=e;if(n.fill&&(t.fill=new pr(n.fill)),n.stroke&&(t.stroke=new gr(n.stroke)),n.circle){const e={};Object.assign(e,n.circle),n.circle.fill&&(e.fill=new pr(n.circle.fill)),n.circle.stroke&&(e.stroke=new gr(n.circle.stroke)),t.image=new dr(e),delete t.circle}else if(n.regularShape){const e={};Object.assign(e,n.regularShape),n.regularShape.fill&&(e.fill=new pr(n.regularShape.fill)),n.regularShape.stroke&&(e.stroke=new gr(n.regularShape.stroke)),n.regularShape.angle&&(n.regularShape.angle=n.regularShape.angle/180*Math.PI),n.regularShape.rotation&&(n.regularShape.rotation=n.regularShape.angle/180*Math.PI),t.image=new ur(e),delete t.regularShape}return new Sr(t)}}return wr}var o7=i(6932);c7.$inject=["$q","$timeout","$rootScope","$injector","ngeoDebounce","gettextCatalog","ngeoEventHelper","ngeoStateManager","ngeoLocation","gmfLayerBeingSwipe","gmfPermalinkOptions","gmfDataSourcesManager","ngeoWMSTime"];const s7=",",a7=";",l7={DIMENSIONS:"dim_",TREE_ENABLE:"tree_enable_",TREE_GROUP_LAYERS:"tree_group_layers_",TREE_GROUP_OPACITY:"tree_group_opacity_",TREE_OPACITY:"tree_opacity_",TREE_TIME:"tree_time_",WFS:"wfs_"};function c7(e,t,n,r,i,o,s,a,l,c,u,h,d){if(this.q_=e,this.rootScope_=n,this.$timeout_=t,this.mapViewPropertyChangeEventKey_=null,this.ngeoDebounce_=i,this.ngeoEventHelper_=s,this.ngeoStateManager_=a,this.gmfDataSourcesManager_=h,this.ngeoWMSTime_=d,this.ngeoFeatures_=r.has("ngeoFeatures")?r.get("ngeoFeatures"):null,this.ngeoBackgroundLayerMgr_=r.has("ngeoBackgroundLayerMgr")?r.get("ngeoBackgroundLayerMgr"):null,this.gmfLayerBeingSwipe_=c,this.featureOverlay_=vU.getFeatureOverlay(),this.featureHelper_=r.has("ngeoFeatureHelper")?r.get("ngeoFeatureHelper"):null,this.ngeoQuerent_=r.has("ngeoQuerent")?r.get("ngeoQuerent"):null,!0===u.useLocalStorage&&this.ngeoStateManager_.setUseLocalStorage(!0),this.crosshairEnabledByDefault_=!!u.crosshairEnabledByDefault,this.pointRecenterZoom_=u.pointRecenterZoom,this.gmfExternalDataSourcesManager_=r.has("gmfExternalDataSourcesManager")?r.get("gmfExternalDataSourcesManager"):null,this.gmfThemes_=r.has("gmfThemes")?r.get("gmfThemes"):null,this.gmfObjectEditingManager_=r.has("gmfObjectEditingManager")?r.get("gmfObjectEditingManager"):null,this.gmfThemeManager_=r.has("gmfThemeManager")?r.get("gmfThemeManager"):null,this.defaultTheme_=r.has("defaultTheme")?r.get("defaultTheme"):void 0,this.gmfTreeManager_=r.has("gmfTreeManager")?r.get("gmfTreeManager"):null,this.ngeoLocation_=l,this.ngeoWfsPermalink_=r.has("ngeoWfsPermalink")?r.get("ngeoWfsPermalink"):null,this.gmfUser=null,Qs.getProperties().subscribe({next:e=>this.gmfUser=e}),this.map_=null,this.ngeoAutoProjection_=r.has("ngeoAutoProjection")?r.get("ngeoAutoProjection"):null,this.listenerKeys_=[],this.sourceProjections_=null,void 0!==u.projectionCodes&&this.ngeoAutoProjection_){const e=this.ngeoAutoProjection_.getProjectionList(u.projectionCodes);e.length>0&&(this.sourceProjections_=e)}this.crosshairFeature_=null,this.crosshairStyle_=i7(u.crosshairStyle),this.mapTooltip_=null,this.featureHashFormat_=new H8({setStyle:!1,encodeStyles:!1,propertiesType:{fillColor:Q0,fillOpacity:o1,fontColor:Q0,fontSize:l1,isBox:t1,isCircle:e1,isLabel:n1,name:r1,pointRadius:l1,showLabel:i1,showMeasure:a1,strokeColor:Q0,strokeWidth:c1},defaultValues:{name:e=>{const t=e.getGeometry();if(!t)throw new Error("Missing geometry");return o.getString(t.getType())},fillOpacity:()=>.5,showLabel:()=>!1,showMeasure:()=>!1}}),this.ngeoBackgroundLayerMgr_&&bn(this.ngeoBackgroundLayerMgr_,"change",this.handleBackgroundLayerManagerChange_,this),this.rootScope_.$on("ngeo-layertree-state",((e,t,n)=>{const r={};if(n.node.mixed){const e=t.getState();if("on"!==e&&"off"!==e)throw new Error("Wrong state");const n="on"===e;t.traverseDepthFirst((e=>{const t=e.node;if(void 0===t.children){const i=`${l7.TREE_ENABLE}${e.node.name}`;!0===t.metadata.isChecked!==n?r[i]=`${n}`:this.ngeoStateManager_.deleteParam(i)}}))}else{const e=[];n.traverseDepthFirst((t=>{void 0===t.node.children&&"on"===t.getState()&&e.push(t.node.name)})),r[`${l7.TREE_GROUP_LAYERS}${n.node.name}`]=e.join(",")}this.ngeoStateManager_.updateState(r)})),this.rootScope_.$on("ngeo-layertree-opacity",((e,t)=>{const n={},r=t.layer.getOpacity();n[`${t.parent.node.mixed?l7.TREE_OPACITY:l7.TREE_GROUP_OPACITY}${t.node.name}`]=r,this.ngeoStateManager_.updateState(n)}));const f=this.getFeatures();this.ngeoFeatures_&&(f.forEach((e=>{this.featureHelper_&&this.featureHelper_.setStyle(e),this.addNgeoFeature_(e)})),this.ngeoFeatures_.extend(f),bn(this.ngeoFeatures_,"add",this.handleNgeoFeaturesAdd_,this),bn(this.ngeoFeatures_,"remove",this.handleNgeoFeaturesRemove_,this)),this.featureHelper_&&this.rootScope_.$on("$localeChangeSuccess",(()=>{f.forEach((e=>{if(!this.featureHelper_)throw new Error("Missing featureHelper");this.featureHelper_.setStyle(e)}))})),this.gmfThemeManager_&&this.rootScope_.$on(M8,((e,t)=>{this.setThemeInUrl_(t)})),this.rootScope_.$watch((()=>this.gmfLayerBeingSwipe_.layer),this.handleLayerBeingSwipeChange_.bind(this)),this.rootScope_.$watch((()=>this.gmfLayerBeingSwipe_.swipeValue),this.handleMapSwipeValue_.bind(this)),this.setExternalDataSourcesStatePromise_=null,this.ngeoQuerent_&&this.gmfExternalDataSourcesManager_&&this.initExternalDataSources_().then((()=>{if(!this.gmfExternalDataSourcesManager_)throw new Error("Missing gmfExternalDataSourcesManager");bn(this.gmfExternalDataSourcesManager_.wmsGroupsCollection,"add",this.handleExternalDSGroupCollectionAdd_,this),bn(this.gmfExternalDataSourcesManager_.wmsGroupsCollection,"remove",this.handleExternalDSGroupCollectionRemove_,this),bn(this.gmfExternalDataSourcesManager_.wmtsGroupsCollection,"add",this.handleExternalDSGroupCollectionAdd_,this),bn(this.gmfExternalDataSourcesManager_.wmtsGroupsCollection,"remove",this.handleExternalDSGroupCollectionRemove_,this);for(const e of this.gmfExternalDataSourcesManager_.wmsGroups)this.registerExternalDSGroup_(e);for(const e of this.gmfExternalDataSourcesManager_.wmtsGroups)this.registerExternalDSGroup_(e)})).catch((e=>console.error(e))),this.initLayers_()}c7.prototype.handleLayerBeingSwipeChange_=function(e,t){if(e!==t)if(e){const t={},n=this.gmfLayerBeingSwipe_.swipeValue;null===n&&(this.gmfLayerBeingSwipe_.swipeValue=.5);const r=e.get("dataSourceId");t[F6.MAP_SWIPE]=r,t[F6.MAP_SWIPE_VALUE]=`${n}`,this.ngeoStateManager_.updateState(t)}else this.ngeoStateManager_.deleteParam(F6.MAP_SWIPE),this.ngeoStateManager_.deleteParam(F6.MAP_SWIPE_VALUE)},c7.prototype.handleMapSwipeValue_=function(){const e=this.gmfLayerBeingSwipe_.swipeValue,t={};e&&(t[F6.MAP_SWIPE_VALUE]=`${e}`,this.ngeoStateManager_.updateState(t))},c7.prototype.getMapCenter=function(){const e=this.ngeoStateManager_.getInitialNumberValue(F6.MAP_X),t=this.ngeoStateManager_.getInitialNumberValue(F6.MAP_Y);if(void 0!==e&&void 0!==t&&!isNaN(e)&&!isNaN(t)){const n=[e,t];if(null!==this.sourceProjections_&&this.ngeoAutoProjection_){if(!this.map_)throw new Error("Missing map");const e=this.map_.getView().getProjection(),t=this.ngeoAutoProjection_.tryProjectionsWithInversion(n,e.getExtent(),e,this.sourceProjections_);if(t)return t}return n}return null},c7.prototype.getMapZoom=function(){const e=this.ngeoStateManager_.getInitialNumberValue(F6.MAP_Z);return void 0!==e&&isNaN(e)?void 0:e},c7.prototype.getMapCrosshair=function(){const e=this.ngeoStateManager_.getInitialBooleanValue(F6.MAP_CROSSHAIR);return void 0===e?this.crosshairEnabledByDefault_:e},c7.prototype.setMapCrosshair=function(e){if(!this.map_)throw new Error("Missing map");if(!this.featureOverlay_)throw new Error("Missing featureOverlay");let t;if(t=e||this.map_.getView().getCenter(),!Array.isArray(t))throw new Error("Wrong crosshairCoordinate");this.crosshairFeature_&&this.featureOverlay_.removeFeature(this.crosshairFeature_),this.crosshairFeature_=new L$(new VR(t)),this.crosshairFeature_.setStyle(this.crosshairStyle_),this.featureOverlay_.addFeature(this.crosshairFeature_)},c7.prototype.getMapTooltip=function(){return this.ngeoStateManager_.getInitialStringValue(F6.MAP_TOOLTIP)},c7.prototype.setMapTooltip=function(e,t){if(!this.map_)throw new Error("Missing map");let n;if(t)n=t;else{const e=this.map_.getView().getCenter();if(!e)throw new Error("Missing center");n=e}if(!Array.isArray(n))throw new Error("Wrong tooltipPosition type");const r=o7("<div/>",{class:"gmf-permalink-tooltip",text:e})[0];null!==this.mapTooltip_&&this.map_.removeOverlay(this.mapTooltip_),this.mapTooltip_=new C8({element:r,position:n}),this.map_.addOverlay(this.mapTooltip_)},c7.prototype.getFeatures=function(){const e=this.ngeoStateManager_.getInitialStringValue(F6.FEATURES);return void 0!==e&&""!==e?this.featureHashFormat_.readFeatures(e):[]},c7.prototype.setDimensions=function(e){const t=this.ngeoLocation_.getParamKeysWithPrefix(l7.DIMENSIONS);for(const n of t){const t=this.ngeoLocation_.getParam(n);if(!t)throw new Error("Missing value");e[n.slice(l7.DIMENSIONS.length)]=t}this.rootScope_.$watchCollection((()=>e),(e=>{const t={};for(const n in e)t[l7.DIMENSIONS+n]=e[n];this.ngeoLocation_.updateParams(t)}))},c7.prototype.setMap=function(e){e!==this.map_&&(this.map_&&(this.unregisterMap_(),this.map_=null),e&&(this.map_=e,this.gmfObjectEditingManager_?this.gmfObjectEditingManager_.getFeature().then((t=>{this.registerMap_(e,t)})):this.registerMap_(e,null)))},c7.prototype.registerMap_=function(e,t){const n=e.getView();let r,i;const o=null!=t?t.getGeometry():void 0;if(o){const t=e.getSize();if(!t)throw new Error("Missing size");let r;(o instanceof VR||o instanceof cj)&&(r=this.pointRecenterZoom_);const i={size:t};r&&(i.maxZoom=r),n.fit(o.getExtent(),i)}else i=this.getMapZoom(),void 0!==i&&n.setZoom(i),r=this.getMapCenter(),r&&n.setCenter([...r]);this.mapViewPropertyChangeEventKey_=bn(n,"propertychange",this.ngeoDebounce_((()=>{const e=n.getCenter();if(!e)throw new Error("Missing center");const t=n.getZoom(),r={};r[F6.MAP_X]=`${Math.round(e[0])}`,r[F6.MAP_Y]=`${Math.round(e[1])}`,r[F6.MAP_Z]=`${t}`,this.ngeoStateManager_.updateState(r)}),300,!0),this),this.getMapCrosshair()&&this.featureOverlay_&&this.setMapCrosshair(r);const s=this.getMapTooltip();s&&this.setMapTooltip(s,r);const a=this.getWfsPermalinkData_();null!==a&&this.ngeoWfsPermalink_&&this.ngeoWfsPermalink_.issue(a,e,i)},c7.prototype.unregisterMap_=function(){if(!this.mapViewPropertyChangeEventKey_)throw new Error("Missing mapViewPropertyChangeEventKey");wn(this.mapViewPropertyChangeEventKey_),this.mapViewPropertyChangeEventKey_=null},c7.prototype.getBackgroundLayer=function(e){const t=this.ngeoStateManager_.getInitialStringValue(F6.BG_LAYER);if(void 0!==t)for(const n of e)if(n.get("label")===t)return n;return null},c7.prototype.getBackgroundLayerOpacity=function(){const e=this.ngeoStateManager_.getInitialNumberValue(F6.BG_LAYER_OPACITY);return void 0===e?null:e/100},c7.prototype.handleBackgroundLayerManagerChange_=function(){if(!this.map_||!this.ngeoBackgroundLayerMgr_)return;const e=this.ngeoBackgroundLayerMgr_.get(this.map_);if(!e)throw new Error("Missing layer");const t=e.get("label");if("string"!=typeof t)throw new Error("Wrong layerName type");const n={};n[F6.BG_LAYER]=t,this.ngeoStateManager_.updateState(n);const r=this.ngeoBackgroundLayerMgr_.getOpacityBgLayer(this.map_);if(r){const e=this.getBackgroundLayerOpacity();if(null!==e)r.setOpacity(e);else{const e=r.getOpacity(),t={};t[F6.BG_LAYER_OPACITY]=""+100*e,this.ngeoStateManager_.updateState(t)}bn(r,"change:opacity",(()=>{const e=r.getOpacity(),t={};t[F6.BG_LAYER_OPACITY]=""+100*e,this.ngeoStateManager_.updateState(t)}))}},c7.prototype.refreshFirstLevelGroups=function(){if(!this.gmfTreeManager_)return;if(!this.gmfTreeManager_.rootCtrl)throw new Error("Missing gmfTreeManager_.rootCtrl");const e=this.gmfTreeManager_.rootCtrl.node.children,t=e?e.map((e=>e.name)):[],n={};n[F6.TREE_GROUPS]=t.join(","),this.ngeoStateManager_.updateState(n)},c7.prototype.refreshLayerTime=function(e,t){const n={},r=`${l7.TREE_TIME}${e.node.name}`,i=e.node,o=this.ngeoWMSTime_.formatWMSTimeParam(i.time,t);n[r]=o,this.ngeoStateManager_.updateState(n)},c7.prototype.themeInUrl_=function(e){const t=e.indexOf("theme");return-1!=t&&t==e.length-2},c7.prototype.setThemeInUrl_=function(e){const t=this.ngeoLocation_.getPath();if(!t)throw new Error("Missing path");if(e){const n=t.split("/");if(n.length<=1)throw new Error("Wrong pathElements");""===n[n.length-1]&&n.splice(n.length-1),this.themeInUrl_(n)?n[n.length-1]=e:n.push("theme",e),this.ngeoLocation_.setPath(n.join("/"))}},c7.prototype.defaultThemeName=function(){const e=this.ngeoLocation_.getPath();if(!e)throw new Error("Missing path");const t=e.split("/");if(this.themeInUrl_(t))return decodeURI(t[t.length-1]);const n=this.ngeoStateManager_.getInitialStringValue("theme");if(n)return n;const r=this.defaultThemeNameFromFunctionalities();return null!==r?r:this.defaultTheme_?this.defaultTheme_:null},c7.prototype.defaultThemeNameFromFunctionalities=function(){if(!this.gmfUser)return null;const e=this.gmfUser.functionalities;if(e&&"default_theme"in e){const t=e.default_theme;if(t.length>0)return t[0]}return null},c7.prototype.initLayers_=function(){const e=window.location.href;let t=!1;this.gmfThemes_&&this.gmfThemes_.getThemesObject().then((n=>{const r=this.ngeoLocation_.getParamKeys().filter((e=>!(!e.startsWith(l7.TREE_ENABLE)||"true"!==this.ngeoLocation_.getParam(e)))),i=this.defaultThemeName();this.gmfThemeManager_&&this.gmfThemeManager_.setThemeName(this.gmfThemeManager_.modeFlush?i:"");let o,s=[];const a=this.ngeoLocation_.getParam(F6.TREE_GROUPS);void 0===a?(o=p0(n,i),o&&(s=o.children)):a.split(",").forEach((e=>{const r=d0(n,e);r?s.push(r):t=!0})),this.gmfTreeManager_&&this.gmfTreeManager_.setFirstLevelGroups(s),this.$timeout_((()=>{const n=[];if(!this.gmfTreeManager_||!this.gmfTreeManager_.rootCtrl)return void(t&&this.gmfUser&&null===this.gmfUser.roles&&(this.rootScope_.$broadcast("authenticationrequired",{url:e}),Qs.setLoginMessage(Js)));const i=this.ngeoStateManager_.getInitialNumberValue(F6.MAP_SWIPE),o=this.ngeoStateManager_.getInitialNumberValue(F6.MAP_SWIPE_VALUE);this.gmfTreeManager_.rootCtrl.traverseDepthFirst((e=>{if(e.isRoot)return;const r=e.node,s=e.parent.node,a=this.ngeoStateManager_.getInitialNumberValue(s.mixed?`${l7.TREE_OPACITY}${e.node.name}`:`${l7.TREE_GROUP_OPACITY}${e.node.name}`);e.layer&&(void 0!==a&&e.layer.setOpacity(a),null!=i&&e.layer.get("dataSourceId")===i&&(null!=o&&(this.gmfLayerBeingSwipe_.swipeValue=o),this.gmfLayerBeingSwipe_.layer=e.layer));const l=e.node;if(l&&l.time&&this.setNodeTime_(e),e.parent.node&&s.mixed&&null==r.children){const t=`${l7.TREE_ENABLE}${e.node.name}`;n.push(t);const r=this.ngeoStateManager_.getInitialBooleanValue(t);void 0!==r&&e.setState(r?"on":"off",!1)}else if(!r.mixed&&1==e.depth){const n=this.ngeoStateManager_.getInitialStringValue(`${l7.TREE_GROUP_LAYERS}${e.node.name}`);if(void 0!==n){const r=""==n?[]:n.split(","),i=e=>{if(void 0===e.node.children){const t=r.includes(e.node.name);t&&r.splice(r.indexOf(e.node.name),1),e.setState(t?"on":"off",!1)}};e.traverseDepthFirst(i),r.length>0&&(t=!0)}}}));this.gmfTreeManager_.rootCtrl.children.forEach((e=>{e.traverseDepthFirst((t=>{if("indeterminate"!==t.getState())return this.rootScope_.$broadcast("ngeo-layertree-state",t,e),a4}))}));for(const e of r)n.includes(e)||(t=!0);t&&this.gmfUser&&null===this.gmfUser.roles&&(this.rootScope_.$broadcast("authenticationrequired",{url:e}),Qs.setLoginMessage(Js))})).catch((e=>console.error(e)))})).catch((e=>console.error(e)))},c7.prototype.handleNgeoFeaturesAdd_=function(e){if(e instanceof ZY){const t=e.element;if(!(t instanceof L$))throw new Error("Wrong feature type");this.addNgeoFeature_(t)}},c7.prototype.handleNgeoFeaturesRemove_=function(e){if(e instanceof ZY){const t=e.element;if(!(t instanceof L$))throw new Error("Wrong feature type");this.removeNgeoFeature_(t)}},c7.prototype.addNgeoFeature_=function(e){const t=qe(e);this.ngeoEventHelper_.addListenerKey(t,bn(e,"change",this.ngeoDebounce_(this.handleNgeoFeaturesChange_,250,!0),this))},c7.prototype.removeNgeoFeature_=function(e){const t=qe(e);this.ngeoEventHelper_.clearListenerKey(t),this.handleNgeoFeaturesChange_()},c7.prototype.handleNgeoFeaturesChange_=function(){if(!this.ngeoFeatures_)return;const e=this.ngeoFeatures_.getArray(),t=this.featureHashFormat_.writeFeatures(e),n={};"string"==typeof t?n[F6.FEATURES]=t:console.error("Unsupported type: "+typeof t),this.ngeoStateManager_.updateState(n)},c7.prototype.getWfsPermalinkData_=function(){const e=this.ngeoLocation_.getParam(F6.WFS_LAYER);if(!e)return null;const t=this.ngeoLocation_.getParamAsInt(F6.WFS_NGROUPS),n=this.ngeoLocation_.getParamKeysWithPrefix(l7.WFS),r=[];let i;if(void 0===t)i=this.createFilterGroup_(l7.WFS,n),null!==i&&r.push(i);else for(let e=0;e<t;e++)i=this.createFilterGroup_(`${l7.WFS}${e}_`,n),null!==i&&r.push(i);if(0==r.length)return null;const o=this.ngeoLocation_.getParam(F6.WFS_SHOW_FEATURES);return{wfsType:e,showFeatures:!("0"===o||"false"===o),filterGroups:r}},c7.prototype.createFilterGroup_=function(e,t){const n=[];return t.forEach((t=>{if(t==F6.WFS_LAYER||t==F6.WFS_SHOW_FEATURES||t==F6.WFS_NGROUPS||!t.startsWith(e))return;const r=this.ngeoLocation_.getParam(t);if(!r)return;const i=r.split(","),o={property:t.replace(e,""),condition:i};n.push(o)})),n.length>0?{filters:n}:null},c7.prototype.initExternalDataSources_=function(){if(!this.ngeoQuerent_)throw new Error("Missing ngeoQuerent");if(!this.gmfExternalDataSourcesManager_)throw new Error("Missing gmfExternalDataSourcesManager");const e=this.ngeoQuerent_,t=this.gmfExternalDataSourcesManager_,n=[],r=this.ngeoStateManager_.getInitialStringValue(F6.EXTERNAL_DATASOURCES_NAMES),i=this.ngeoStateManager_.getInitialStringValue(F6.EXTERNAL_DATASOURCES_URLS);if(r&&i){const t=r.split(s7),o=i.split(s7);for(let r=0,i=o.length;r<i;r++){const i=t[r];if(!i)break;const s=i.split(a7),a=o[r],l=QQ(a),c=this.q_.defer();n.push(c.promise),l===WQ?e.wmsGetCapabilities(a).then((e=>{c.resolve({capabilities:e,groupLayerNames:s,serviceType:l,url:a})}),(()=>{c.reject({groupLayerNames:s,serviceType:l,url:a})})):l===GQ?e.wmtsGetCapabilities(a).then((e=>{c.resolve({capabilities:e,groupLayerNames:s,serviceType:l,url:a})}),(()=>{c.reject({groupLayerNames:s,serviceType:l,url:a})})):c.reject({groupLayerNames:s,serviceType:l,url:a})}}return this.q_.all(n).then((n=>{for(const r of n)if(r.serviceType===WQ)for(const n of r.groupLayerNames){const i=e.wmsFindLayerCapability(r.capabilities.Capability.Layer.Layer,n);i&&t.createAndAddDataSourceFromWMSCapability(i,r.capabilities,r.url)}else if(r.serviceType===GQ)for(const n of r.groupLayerNames){const i=e.wmtsFindLayerCapability(r.capabilities.Contents.Layer,n);i&&t.createAndAddDataSourceFromWMTSCapability(i,r.capabilities,r.url)}}),(e=>{}))},c7.prototype.handleExternalDSGroupCollectionAdd_=function(e){if(e instanceof ZY){const t=e.element;if(!(t instanceof G6))throw new Error("Wrong group type");this.registerExternalDSGroup_(t),this.setExternalDataSourcesState_()}},c7.prototype.registerExternalDSGroup_=function(e){this.listenerKeys_.push(bn(e.dataSourcesCollection,"add",this.setExternalDataSourcesState_,this),bn(e.dataSourcesCollection,"remove",this.setExternalDataSourcesState_,this))},c7.prototype.containsLayerName=function(e,t){if(e instanceof SU){for(const n of e.getLayers().getArray()){if(!n)throw new Error("Missing layer");if(this.containsLayerName(n,t))return!0}return!1}return e.get(s0)==t},c7.prototype.handleExternalDSGroupCollectionRemove_=function(e){if(e instanceof ZY){const t=e.element;if(!(t instanceof G6))throw new Error("Wrong group type");this.unregisterExternalDSGroup_(t),this.setExternalDataSourcesState_()}},c7.prototype.unregisterExternalDSGroup_=function(e){this.listenerKeys_.forEach(wn)},c7.prototype.setExternalDataSourcesState_=function(){this.setExternalDataSourcesStatePromise_&&this.$timeout_.cancel(this.setExternalDataSourcesStatePromise_),this.setExternalDataSourcesStatePromise_=this.$timeout_((()=>{if(!this.gmfExternalDataSourcesManager_)throw new Error("Missing gmfExternalDataSourcesManager");const e=[],t=[];for(const n of this.gmfExternalDataSourcesManager_.wmsGroups){t.push(n.url);const r=[];for(const e of n.dataSources)if(e instanceof i0){const t=e.getWFSLayerNames()[0];r.push(t)}e.push(r.join(a7))}for(const n of this.gmfExternalDataSourcesManager_.wmtsGroups){t.push(n.url);const r=[];for(const e of n.dataSources){if(!e.wmtsLayer)throw new Error("Missing wmtsDataSource.wmtsLayer");r.push(e.wmtsLayer)}e.push(r.join(a7))}this.ngeoStateManager_.updateState({[F6.EXTERNAL_DATASOURCES_NAMES]:e.join(s7),[F6.EXTERNAL_DATASOURCES_URLS]:t.join(s7)}),this.setExternalDataSourcesStatePromise_=null}))},c7.prototype.cleanParams=function(e){const t=this.ngeoLocation_.getParamKeys();for(const n of t){if(n.startsWith(l7.TREE_GROUP_LAYERS)){const t=n.substring(l7.TREE_GROUP_LAYERS.length);for(const r of e)if(r.name==t){this.ngeoStateManager_.deleteParam(n);break}}if(n.startsWith(l7.TREE_GROUP_OPACITY)){const t=n.substring(l7.TREE_GROUP_OPACITY.length);for(const r of e)if(r.name==t){this.ngeoStateManager_.deleteParam(n);break}}}this.$timeout_((()=>{if(!this.map_)return;const e=this.map_.getLayerGroup();if(!e)throw new Error("Missing layer");for(const n of t){if(n.startsWith(l7.TREE_ENABLE)){const t=n.substring(l7.TREE_ENABLE.length);this.containsLayerName(e,t)||this.ngeoStateManager_.deleteParam(n)}if(n.startsWith(l7.TREE_OPACITY)){const t=n.substring(l7.TREE_OPACITY.length);this.containsLayerName(e,t)||this.ngeoStateManager_.deleteParam(n)}}})).catch((e=>console.error(e)))},c7.prototype.setNodeTime_=function(e){const t=this.ngeoStateManager_.getInitialStringValue(`${l7.TREE_TIME}${e.node.name}`);if(t){const n=t.split("/"),r=e.node;r.time.minDefValue=n[0],r.time.maxDefValue=n[1];const i=this.gmfDataSourcesManager_.getDatasource(qe(e.node));if(i){if(!(i instanceof i0))throw new Error("Wrong dataSource type");i.timeLowerValue=new Date(n[0]).getTime(),i.timeUpperValue=new Date(n[1]).getTime()}else e.children&&e.children.forEach((e=>{const t=this.gmfDataSourcesManager_.getDatasource(qe(e.node));t&&(t.timeLowerValue=new Date(n[0]).getTime(),t.timeUpperValue=new Date(n[1]).getTime())}))}};const u7=t().module("gmfPermalink",[T8.name,S0.name,D4.name,D8.name,x8.name,h4.name,n7.name,X4.name,r7.name]);u7.service("gmfPermalink",c7),function(){const e=[];for(const t in l7)e.push(new RegExp(`${l7[t]}.*`));for(const t in F6)e.push(new RegExp(l7[t]));M4.value("ngeoUsedKeyRegexp",e)}();const h7=u7,d7='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="1em" height="1em"><path d="M19.984 6.256 10 1.264.016 6.256 10 11.248zM10 2.921l6.67 3.335L10 9.591 3.33 6.256zM17.984 9l2 .999L10 14.992.016 10l2-1L10 12.992Zm0 3.743 2 1L10 18.736.016 13.744l2-1L10 16.736Z"/></svg>',f7=`<div class="gmf-layertree-group gmf-layertree-depth-1 {{$ctrl.group.visibilityState}}">\n  <a\n    data-toggle="collapse"\n    href="#gmf-layertree-layer-group-{{::$ctrl.getGroupUid()}}"\n    aria-expanded="true"\n    class="fa-solid gmf-layertree-expand-node fa-fw"\n  >\n  </a>\n\n  <a class="fa-solid fa-fw gmf-layertree-state" href ng-click="$ctrl.toggle()"\n    >${d7}</a>\n\n  <a class="gmf-layertree-name" href ng-click="$ctrl.toggle()">\n    <span>{{$ctrl.group.title | translate}}</span>\n  </a>\n\n  <span class="gmf-layertree-right-buttons">\n    <a href="" ng-click="$ctrl.remove()">\n      <span class="fa-solid fa-trash"></span>\n    </a>\n  </span>\n</div>\n\n<ul id="gmf-layertree-layer-group-{{::$ctrl.getGroupUid()}}" class="collapse in show">\n  <li\n    class="gmf-layertree-node gmf-layertree-depth-2"\n    ng-class="[dataSource.visible ? 'on' : 'off']"\n    ng-repeat="dataSource in $ctrl.group.dataSources"\n  >\n    <div class="gmf-layertree-leaf">\n      <a\n        href\n        ng-click="$ctrl.toggleDataSource(dataSource)"\n        class="gmf-layertree-layer-icon gmf-layertree-no-layer-icon"\n      >\n      </a>\n      <a class="gmf-layertree-name" href ng-click="$ctrl.toggleDataSource(dataSource)">\n        <span>{{dataSource.name | translate}}</span>\n      </a>\n\n      <span class="gmf-layertree-right-buttons">\n        <a href="" ng-click="$ctrl.removeDataSource(dataSource)">\n          <span class="fa-solid fa-trash"></span>\n        </a>\n        <a class="gmf-layertree-node-menu-btn" href="" ng-if="ctrl.getLegendUrl(dataSource.legend)">\n          <span class="fa-solid fa-gear"></span>\n        </a>\n        <span ngeo-popover ng-if="$ctrl.getLegendUrl(dataSource.legend)" ngeo-popover-dismiss=".content">\n          <span ngeo-popover-anchor class="extra-actions fa-solid fa-gear" id="popup-id-{{dataSource.id}}"> </span>\n\n          <div ngeo-popover-content>\n            <ul>\n              <li ng-if="$ctrl.getLegendUrl(dataSource.legend)">\n                <i class="fa-solid fa-table-list fa-fw"></i>\n                <a\n                  ng-click="$ctrl.toggleNodeLegend(dataSource.id + 'legend'); popoverCtrl.dismissPopover()"\n                  href=""\n                >\n                  {{'Show/hide legend'|translate}}\n                </a>\n              </li>\n            </ul>\n          </div>\n        </span>\n      </span>\n    </div>\n    <div id="{{dataSource.id + 'legend'}}" class="gmf-layertree-legend">\n      <a\n        title="{{'Hide legend'|translate}}"\n        ng-click="$ctrl.toggleNodeLegend(dataSource.id + 'legend')"\n        href=""\n      >\n        {{'Hide legend'|translate}}\n      </a>\n      <div ng-if="$ctrl.getLegendUrl(dataSource.legend)" class="gmf-imported-legend">\n        <div class="gmf-legend-image">\n          <img ng-src="{{$ctrl.getLegendUrl(dataSource.legend)}}" />\n        </div>\n      </div>\n    </div>\n  </li>\n</ul>`,p7=t().module("gmfLayertreeDatasourceGroupTreeComponent",[F0.name,u0.name]);function m7(e,t){return t(e)}p7.run(["$templateCache",e=>{e.put("gmf/layertree/datasourceGroupTreeComponent",f7)}]),p7.value("gmfLayertreeDatasourceGroupTreeTemplateUrl",(e=>{const t=e.gmfLayertreeDatasourceGroupTreeTemplateUrl;return void 0!==t?t:"gmf/layertree/datasourceGroupTreeComponent"})),m7.$inject=["$attrs","gmfLayertreeDatasourceGroupTreeTemplateUrl"];class g7{constructor(e,t,n){this.group=null,this.scope_=e,this.dataSources_=t.collection,this.layerHelper_=n,this.getScale=null}getGroupUid(){return`datasourcegrouptree-${qe(this.group)}`}toggle(){if(!this.group)throw new Error("Missing group");this.group.toggleVisibilityState()}toggleDataSource(e){e.visible=!e.visible,e.visible?this.setLegendVisibility(!0,e.id.toString()+"legend"):this.setLegendVisibility(!1,e.id.toString()+"legend")}remove(){if(!this.group)throw new Error("Missing group");for(let e=this.group.dataSources.length-1,t=0;e>=t;e--)this.dataSources_.remove(this.group.dataSources[e])}removeDataSource(e){this.dataSources_.remove(e)}toggleNodeLegend(e){const t=document.getElementById(e);t&&t.classList.toggle("show")}getLegendUrl(e){return e?this.layerHelper_.getWMSLegendURL(e.url,e.name,this.getScale()):null}setLegendVisibility(e,t){const n=document.getElementById(t);n&&(e?n.classList.remove("off"):n.classList.add("off"))}}g7.$inject=["$scope","ngeoDataSources","ngeoLayerHelper"],p7.component("gmfDatasourcegrouptree",{bindings:{group:"<",getScale:"&"},controller:g7,templateUrl:m7});const _7=p7;const y7=function(e,t,n,r,i){const o=r.$watchCollection((()=>e),(()=>{let r,o,s;if(n)for(r=e.length-1,s=0;r>=0;--r)i(e[r])&&(t[s++]=e[r]);else for(r=0,o=e.length,s=0;r<o;++r)i(e[r])&&(t[s++]=e[r]);t.length=s})),s=r.$watchCollection((()=>t),(()=>{let r,o,s;if(n){for(r=0,o=e.length,s=t.length-1;r<o;++r)i(e[r])&&(e[r]=t[s--]);console.assert(-1==s)}else{for(r=0,o=e.length,s=0;r<o;++r)i(e[r])&&(e[r]=t[s++]);console.assert(s==t.length)}}));return function(){o(),s()}};var b7=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};class v7 extends ys{set time(e){this._time!==e&&(this._time=e,e&&(this.getCorrectTimeObject(),this.setupMinMaxDefaultValues(),setTimeout((()=>this.emitChangeEvent()),100)))}get time(){return this._time}setupMinMaxDefaultValues(){this.dateStart=+new Date(this.timeProp.minDefValue??this.timeProp.minValue),this.dateEnd=+new Date(this.timeProp.maxDefValue??this.timeProp.maxValue),this.updateTime(this.dateStart,this.dateEnd)}onDateStartSelected(e){const t=e.target;this.updateTime(+new Date(t.value)),this.emitChangeEvent()}onDateEndSelected(e){const t=e.target;this.updateTime(this.dateStart,+new Date(t.value)),this.emitChangeEvent()}updateTime(e,t){this.dateStart=e,t&&(this.dateEnd=t)}emitChangeEvent(){const e={start:this.dateStart};this.isTimeRange()&&(e.end=this.dateEnd);const t=new CustomEvent("change",{bubbles:!0,composed:!0,detail:e});this.dispatchEvent(t)}getCorrectTimeObject(){this.timeProp={...this.time},this.time.minValue&&(this.timeProp.minValue=this.asIsoDateString(this.time.minValue)),this.time.maxValue&&(this.timeProp.maxValue=this.asIsoDateString(this.time.maxValue)),this.timeProp.minDefValue&&(this.timeProp.minDefValue=this.asIsoDateString(this.time.minDefValue)),this.time.maxDefValue&&(this.timeProp.maxDefValue=this.asIsoDateString(this.time.maxDefValue))}asIsoDateString(e){return new Date(e).toISOString().slice(0,10)}isTimeRange(){return this.timeProp.mode===e0}}b7([Ms({type:Object})],v7.prototype,"time",null),b7([Ss()],v7.prototype,"timeProp",void 0),b7([Ss()],v7.prototype,"dateStart",void 0),b7([Ss()],v7.prototype,"dateEnd",void 0);var w7=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let x7=class extends v7{constructor(){super(...arguments),this.isInitialRendering=!0,this.onSliderRelease=MO((()=>{this.emitChangeEvent()}),300),this.getLimitedArray=e=>Array(Math.min(e,1e4)).fill(null)}render(){if(!this.timeProp||!this.datesSteps)return es``;this.isInitialRendering&&this.isTimeRange()&&setTimeout((()=>this.fillColor()),100),this.isInitialRendering=!1;const e=es`<input class="slider-start" type="range" .min="0" .max="${this.datesSteps.length-1}" .value="${this.sliderStart}" step="1" @input="${e=>this.onDateStartMoved(e)}">`,t=es`<div class="date-start">${this.getLocalDate(this.dateStart)}</div>`;let n=null,r=null;return this.isTimeRange()&&(n=es`<input class="slider-end" type="range" .min="0" .max="${this.datesSteps.length-1}" .value="${this.sliderEnd}" step="1" @input="${e=>this.onDateEndMoved(e)}">`,r=es`<div class="date-end">${this.getLocalDate(this.dateEnd)}</div>`),es`<style>${mo(v7.styles)}</style><div class="container"><div class="slider-track">${e} ${n?es`${n}`:es``}</div><div class="dates-txt">${t} ${r?es`${r}`:es``}</div></div>`}setupMinMaxDefaultValues(){this.datesSteps=this.computeDatesSteps();const e=+new Date(this.timeProp.minDefValue??this.timeProp.minValue),t=+new Date(this.timeProp.maxDefValue??this.timeProp.maxValue),n=this.findNearestValue(e,this.datesSteps),r=this.findNearestValue(t,this.datesSteps);this.sliderStart=this.datesSteps.indexOf(n),this.sliderEnd=this.datesSteps.indexOf(r),this.updateTime(e,t),this.onSliderRelease()}findNearestValue(e,t){return t.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t),0)}onDateStartSelected(e){const t=e.target,n=parseInt(t.value);this.sliderStart=n,this.updateTime(this.datesSteps[n]),this.onSliderRelease()}onDateEndSelected(e){const t=e.target,n=parseInt(t.value);this.sliderEnd=n,this.updateTime(this.datesSteps[this.sliderStart],this.datesSteps[n]),this.onSliderRelease()}onDateStartMoved(e){this.onDateMoved(!0,e)}onDateEndMoved(e){this.onDateMoved(!1,e)}getLocalDate(e){const t={year:"numeric"};return this.timeProp.resolution===r0&&(t.hour="numeric",t.day="numeric",t.month="numeric"),this.timeProp.resolution===t0?(t.day="numeric",t.month="numeric"):this.timeProp.resolution===n0&&(t.month="numeric"),new Date(e).toLocaleDateString(void 0,t)}computeDatesSteps(){if(this.timeProp.values)return this.computeDatesStepsFromValues();const e=+new Date(this.timeProp.minValue),t=+new Date(this.timeProp.maxValue);if(!this.timeProp.interval&&4!==this.time.interval.length)return console.error("No valid time interval provided."),[e,t];const n=this.timeProp.interval[3];if(n>0)return this.computeDatesStepsForSeconds(e,t,n);const r=this.timeProp.interval[2];if(r>0)return this.computeDatesStepsForDays(e,t,r);const i=this.timeProp.interval[1];if(i>0)return this.computeDatesStepsForMonth(e,t,i);const o=this.timeProp.interval[0];return this.computeDatesStepsForYear(e,t,o)}computeDatesStepsFromValues(){return this.timeProp.values.map((e=>+new Date(e)))}computeDatesStepsForSeconds(e,t,n){const r=t-e,i=Math.ceil(r/(1e3*n)),o=this.getLimitedArray(i).map(((t,n)=>{const r=new Date(e);return r.setSeconds(r.getSeconds()+1e3*n),+r}));return o.push(+new Date(this.timeProp.maxValue)),o}computeDatesStepsForDays(e,t,n){const r=t-e,i=Math.ceil(r/(864e5*n)),o=this.getLimitedArray(i).map(((t,n)=>{const r=new Date(e);return r.setDate(r.getDate()+n),+r}));return o.push(+new Date(this.timeProp.maxValue)),o}computeDatesStepsForMonth(e,t,n){let r=this.getMonthDiff(new Date(e),new Date(t));r=r>0?r:1,r=Math.ceil(r/n);const i=this.getLimitedArray(r).map(((t,n)=>{const r=new Date(e);return r.setMonth(r.getMonth()+n),+r}));return i.push(+new Date(this.timeProp.maxValue)),i}computeDatesStepsForYear(e,t,n){let r=this.getYearDiff(new Date(e),new Date(t));r=r>0?r:1,r=Math.ceil(r/n);const i=this.getLimitedArray(r).map(((t,n)=>{const r=new Date(e);return r.setFullYear(r.getFullYear()+n),+r}));return i.push(+new Date(this.timeProp.maxValue)),i}getMonthDiff(e,t){let n=12*(t.getFullYear()-e.getFullYear());return n-=e.getMonth(),n+=t.getMonth(),n<=0?0:n}getYearDiff(e,t){return t.getFullYear()-e.getFullYear()}onDateMoved(e,t){if(!this.isTimeRange())return void this.onDateStartSelected(t);const n=this.shadowRoot.querySelector(".slider-start"),r=this.shadowRoot.querySelector(".slider-end");parseInt(r.value)-parseInt(n.value)<=0&&(e?n.value=""+(parseInt(r.value)-0):r.value=`${parseInt(n.value)+0}`),e?this.onDateStartSelected(t):this.onDateEndSelected(t),this.fillColor()}fillColor(){const e=this.shadowRoot.querySelector(".slider-track"),t=this.datesSteps.length-1,n=this.sliderStart/t*100,r=this.sliderEnd/t*100;e.style.background=`linear-gradient(to right, var(--brand-secondary) ${n}% , var(--brand-primary) ${n}% , var(--brand-primary) ${r}%, var(--brand-secondary) ${r}%)`}};x7.styles=[go`.container{position:relative;width:100%;height:3rem}input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;outline:0;position:absolute;margin:auto;top:0;bottom:0;background-color:transparent;pointer-events:none}.slider-track{width:100%;height:5px;position:absolute;margin:.5rem 0;top:0;bottom:0;border-radius:5px;background:linear-gradient(to right,var(--brand-secondary) 0,var(--brand-primary) 0,var(--brand-primary) 100%,var(--brand-secondary) 100%)}input[type=range]::-webkit-slider-runnable-track{-webkit-appearance:none;height:5px}input[type=range]::-moz-range-track{-moz-appearance:none;height:5px}input[type=range]::-ms-track{appearance:none;height:5px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:1.2em;width:.4em;background-color:var(--main-bg-color);border:solid 1px var(--btn-default-border);cursor:pointer;margin-top:-.3rem;pointer-events:auto;border-radius:2px}input[type=range]::-moz-range-thumb{-webkit-appearance:none;height:1.2em;width:.4em;cursor:pointer;border-radius:2px;background-color:var(--main-bg-color);border:solid 1px var(--btn-default-border);pointer-events:auto}input[type=range]::-ms-thumb{appearance:none;height:1.2em;width:.4em;cursor:pointer;border-radius:2px;background-color:var(--main-bg-color);border:solid 1px var(--btn-default-border);pointer-events:auto}input[type=range]:active::-webkit-slider-thumb{background-color:#fff;border:1px solid var(--brand-secondary)}.dates-txt{position:relative;display:flex;justify-content:space-between;top:2rem}`],w7([Ss()],x7.prototype,"sliderStart",void 0),w7([Ss()],x7.prototype,"sliderEnd",void 0),x7=w7([vs("gmf-timeslider")],x7);var M7,S7=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let k7=M7=class extends v7{render(){if(!this.timeProp)return es``;const e=this.isTimeRange()?"From:":"Date:",t={nsSeparator:"#"},n=es`<span>${V.t(e,t)}</span> <input class="datepicker-start" type="date" .min="${this.timeProp.minValue}" .max="${this.getDateMax()}" .value="${this.timeProp.minDefValue??this.timeProp.minValue}" @change="${e=>this.onDateStartSelected(e)}">`;let r=null;return this.isTimeRange()&&(r=es`<span>${V.t("To:",t)}</span> <input class="datepicker-end" type="date" .min="${this.getDateMin()}" .max="${this.timeProp.maxValue}" .value="${this.timeProp.maxDefValue??this.timeProp.maxValue}" @change="${e=>this.onDateEndSelected(e)}">`),es`<style>${mo(M7.styles)}</style><div><span>${n}</span> ${r?es`<span>${r}</span>`:es``}</div>`}getDateMin(){if(!this.isTimeRange())return this.timeProp.minValue;const e=this.shadowRoot.querySelector(".datepicker-start");return e?e.value:this.timeProp.minValue}getDateMax(){if(!this.isTimeRange())return this.timeProp.maxValue;const e=this.shadowRoot.querySelector(".datepicker-end");return e?e.value:this.timeProp.maxValue}};k7.styles=[go`input[type=date]{font-size:80%}`],k7=M7=S7([vs("gmf-datepicker")],k7);const T7=t().module("ngeoEvent",[]);T7.directive("ngeoEvent",(()=>({restrict:"A",scope:{model:"=ngeoEventModel",on:"<ngeoEventOn",cb:"&ngeoEventCb"},link:function(e,t){const n=`${e.on}`,r=e.cb;n?r?t[0].addEventListener(n,(t=>{const n=t;e.$apply((()=>{e.model=n.detail})),e.$apply((()=>{r()}))})):console.error('Missing callback, did you forget the callback "cb" attribute?'):console.error('Missing event name, did you forget the quotes around the "on" attribute?')}})));const L7=T7,C7='<svg\n        xmlns="http://www.w3.org/2000/svg"\n        aria-hidden="true"\n        class="svg-inline--fa-solid fa-sort fa-w-10"\n        data-icon="sort"\n        data-prefix="fas"\n        viewBox="0 0 16 16"\n        width="1em"\n        height="1em"\n      >\n        <path\n          d="M9.286 12.783V3.217c0-.86 1.041-1.29 1.648-.683l4.783 4.783a.96.96 0 0 1 0 1.362l-4.783 4.787c-.607.607-1.648.177-1.648-.683M5.066 2.534.283 7.317a.96.96 0 0 0 0 1.362l4.783 4.787c.607.607 1.648.177 1.648-.683V3.217c0-.86-1.041-1.29-1.648-.683"\n          style="fill: currentColor; stroke-width: 0.04019091"\n        /></svg>',E7=`<div class="gmf-layertree-root-tools" ng-if="layertreeCtrl.isRoot">\n  <a\n    href\n    ng-if="gmfLayertreeCtrl.nodesCount() > 0 || !gmfLayertreeCtrl.gmfExternalDataSourcesManager.isEmpty()"\n    ng-click="gmfLayertreeCtrl.removeAllNodes()"\n  >\n    <span class="fa-solid fa-trash"></span> {{'Clear all' | translate}}\n  </a>\n</div>\n<div\n  ng-if="::!layertreeCtrl.isRoot"\n  id="gmf-layertree-node-{{::layertreeCtrl.uid}}"\n  ng-class="[layertreeCtrl.node.children ? 'gmf-layertree-group' : 'gmf-layertree-leaf', 'gmf-layertree-depth-' + layertreeCtrl.depth, gmfLayertreeCtrl.getResolutionStyle(layertreeCtrl.node), gmfLayertreeCtrl.getNodeState(layertreeCtrl), 'gmf-layertree-node-' + layertreeCtrl.node.id]"\n>\n  <div\n    class="ngeo-sortable-handle"\n    ng-show="layertreeCtrl.depth === 1 && layertreeCtrl.parent.children.length > 1"\n  >\n    <i class="gmf-layertree-sortable-handle-icon fa-solid fa-ellipsis-vertical"></i>\n  </div>\n\n  <a\n    ng-if="::layertreeCtrl.node.children"\n    data-toggle="collapse"\n    href="#gmf-layertree-layer-group-{{::layertreeCtrl.uid}}"\n    aria-expanded="{{::layertreeCtrl.node.metadata.isExpanded}}"\n    class="fa-solid gmf-layertree-expand-node fa-fw"\n  >\n  </a>\n\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="::!layertreeCtrl.node.children && gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl)"\n    class="gmf-layertree-layer-icon"\n  >\n    <div>\n      \x3c!--This div is required for flex issues with IE11--\x3e\n      <img\n        ng-if="::(legendIconUrl=gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl))"\n        ng-src="{{::legendIconUrl}}"\n        loading="lazy"\n      />\n    </div>\n  </a>\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="::!layertreeCtrl.node.children && !gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl)"\n    class="gmf-layertree-layer-icon gmf-layertree-no-layer-icon"\n    ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="1em" height="1em">\n      <path\n        d="M6.458 9.63c-1.521.01-2.925-1.246-3.072-2.758-.156-1.27.533-2.603 1.689-3.162.984-.506 2.248-.454 3.16.184.962.642 1.542 1.84 1.371 2.998-.14 1.121-.921 2.14-1.986 2.53-.369.143-.765.217-1.162.209m-.024-1.102c.997.052 1.949-.748 2.075-1.736.123-.849-.344-1.756-1.124-2.12-.811-.395-1.892-.181-2.453.538-.607.722-.619 1.88.011 2.592.366.433.921.715 1.491.726"\n      /></svg></a>\n\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="layertreeCtrl.node.children && layertreeCtrl.layer.loading"\n    class="fa-solid fa-fw custom-spinner-generic fa-spin"\n    >${ks("1rem")}</a>\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="layertreeCtrl.node.children && !layertreeCtrl.layer.loading"\n    class="gmf-layertree-state gmf-not-intermediate"\n    >${d7}</a>\n  <a\n    href\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    ng-if="layertreeCtrl.node.children && !layertreeCtrl.layer.loading"\n    class="gmf-layertree-state gmf-intermediate"\n    ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="1em" height="1em">\n      <path\n        d="m6.513.614-6.5 3.25 6.5 3.25 6.5-3.25zm0 1.078 4.342 2.172-4.342 2.172L2.17 3.864zm5.198 6.396 1.302.65-6.5 3.25-6.5-3.25 1.302-.65 5.198 2.6ZM1.315 5.65l-1.302.651 2.114 1.057 1.3-.65Zm10.396 0L9.599 6.708l1.302.651 2.112-1.058ZM8.127 7.443l-1.614.807-1.136-.568-1.302.65 2.438 1.22 2.437-1.22-1.3-.65Z"\n      /></svg></a>\n\n  <a\n    href\n    data-sentry="id:{{layertreeCtrl.node.id}}"\n    ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)"\n    class="gmf-layertree-name"\n  >\n    {{layertreeCtrl.node.name | translate}}\n    <i\n      ng-if="gmfLayertreeCtrl.gmfLayerBeingSwipe.layer && gmfLayertreeCtrl.gmfLayerBeingSwipe.layer === layertreeCtrl.layer"\n      >${C7}</i>\n\n    <i\n      class="gmf-layertree-zoom"\n      data-toggle="tooltip"\n      data-placement="top"\n      data-title="{{'Not visible at current scale. Click to zoom.'|translate}}"\n      ng-click="::gmfLayertreeCtrl.zoomToResolution(layertreeCtrl); $event.preventDefault(); $event.stopPropagation();"\n      ng-if="gmfLayertreeCtrl.getNodeState(layertreeCtrl) == 'on'"\n      ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="1em" height="1em">\n        <path\n          d="M5.111 0q-1.04.002-1.99.407a5.1 5.1 0 0 0-1.625 1.089c-.458.457-.82.994-1.09 1.626A5.05 5.05 0 0 0 0 5.112C0 5.802.138 6.468.407 7.1a5.1 5.1 0 0 0 1.089 1.627c.457.457.994.82 1.626 1.089a5.05 5.05 0 0 0 1.99.406c1.064 0 2.022-.3 2.889-.9l2.497 2.483a.86.86 0 0 0 .654.276q.377 0 .653-.276a.9.9 0 0 0 .276-.653.88.88 0 0 0-.261-.654L9.322 8.001c.324-.468.563-.956.712-1.481-.003-.034-.015-.07-.015-.102 0-.104.037-.211.058-.32h-.334c-.417 0-.941-.247-1.205-.551-.065-.075-.135-.154-.189-.247a3.1 3.1 0 0 1-.944 2.105q-.953.956-2.294.959c-.895 0-1.657-.322-2.294-.959s-.958-1.399-.958-2.294.321-1.657.958-2.294 1.399-.959 2.294-.958q1.341.002 2.294.958c.315.315.567.653.726 1.03.024-.378.18-.769.407-1.03a1.8 1.8 0 0 1 .857-.508 5 5 0 0 0-.668-.813A5.1 5.1 0 0 0 7.1.406 5.05 5.05 0 0 0 5.111 0M15 4.182q0 .21-.143.353l-2.524 2.524q-.152.143-.353.143-.198 0-.35-.143l-.29-.291q-.147-.148-.147-.353t.147-.353l1.136-1.136h-2.73q-.2 0-.327-.145-.126-.146-.126-.351v-.496q0-.206.126-.351.126-.146.328-.146h2.729l-1.136-1.14q-.147-.139-.147-.348 0-.21.147-.35l.29-.29q.148-.147.35-.147.205 0 .353.147l2.524 2.524q.143.136.143.349"\n        /></svg></i>\n\n    <span\n      ngeo-popover\n      ngeo-popover-dismiss=".content"\n      ng-if="gmfLayertreeCtrl.getNodeState(layertreeCtrl) !== 'off' && layertreeCtrl.node.time && layertreeCtrl.node.time.mode !== 'disabled'"\n    >\n      <span\n        ngeo-popover-anchor\n        class="fa-regular fa-clock"\n        ng-click="$event.preventDefault(); $event.stopPropagation()"\n        data-toggle="tooltip"\n        data-placement="top"\n        title="{{'Click to enter a period.'|translate}}"\n      >\n      </span>\n\n      <div ngeo-popover-content>\n        <gmf-datepicker\n          ng-if="::layertreeCtrl.node.time.widget === 'datepicker'"\n          ngeo-event\n          ngeo-event-on="'change'"\n          ngeo-event-model="time"\n          ngeo-event-cb="gmfLayertreeCtrl.updateTimeData(layertreeCtrl, time)"\n          ng-prop-time="layertreeCtrl.node.time">\n        </gmf-datepicker>\n\n        <gmf-timeslider\n          ng-if="::layertreeCtrl.node.time.widget === 'slider'"\n          ngeo-event\n          ngeo-event-on="'change'"\n          ngeo-event-model="time"\n          ngeo-event-cb="gmfLayertreeCtrl.updateTimeData(layertreeCtrl, time)"\n          ng-prop-time="layertreeCtrl.node.time">\n        </gmf-timeslider>\n      </div>\n    </span>\n\n    <span\n      class="fa-solid fa-pen-to-square"\n      data-toggle="tooltip"\n      data-placement="right"\n      title="{{'Currently editing this layer'|translate}}"\n      ng-if="layertreeCtrl.properties.editing"\n    >\n    </span>\n\n    <span\n      class="fa-solid fa-magnet"\n      ng-if="layertreeCtrl.node.metadata.snappingConfig"\n      ng-class="gmfLayertreeCtrl.isSnappingActivated(layertreeCtrl) ? 'on' : 'off'"\n      ng-click="gmfLayertreeCtrl.toggleSnapping(layertreeCtrl); $event.preventDefault(); $event.stopPropagation();"\n      data-toggle="tooltip"\n      data-placement="top"\n      data-title="{{'Click to toggle snapping.'|translate}}"\n    >\n    </span>\n  </a>\n\n  <span class="gmf-layertree-right-buttons">\n    <a href="" ng-if="::layertreeCtrl.depth == 1" ng-click="gmfLayertreeCtrl.removeNode(layertreeCtrl.node)">\n      <span class="fa-solid fa-trash"></span>\n    </a>\n\n    <a\n      class="gmf-layertree-node-menu-btn"\n      href=""\n      ng-if="::gmfLayertreeCtrl.supportsCustomization(layertreeCtrl)"\n      ng-click="::gmfLayertreeCtrl.toggleNodeMenu('#gmf-layertree-node-menu-' + layertreeCtrl.uid)"\n    >\n      <span class="fa-solid fa-gear"></span>\n    </a>\n\n    <span\n      ngeo-popover\n      ng-if="::(layertreeCtrl.depth === 1 && !layertreeCtrl.node.mixed) || (layertreeCtrl.depth > 1 && layertreeCtrl.parent.node.mixed && !layertreeCtrl.node.children) || (gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend) || layertreeCtrl.getDataSource().filtrable"\n      ngeo-popover-dismiss=".content"\n      ng-click="::gmfLayertreeCtrl.tagPopup(layertreeCtrl.node)"\n    >\n      <span ngeo-popover-anchor class="extra-actions fa-solid fa-gear" id="popup-id-{{layertreeCtrl.node.ol_uid}}">\n      </span>\n\n      <div ngeo-popover-content>\n        <ul>\n          <li ng-if="::gmfLayertreeCtrl.supportsOpacityChange(layertreeCtrl)">\n            <i class="fa-solid fa-droplet fa-fw"></i>\n            <span>{{'Opacity'|translate}}</span>\n            <input\n              class="input-action"\n              type="range"\n              min="0"\n              max="1"\n              step="0.01"\n              ng-model="layertreeCtrl.layer.opacity"\n            />\n          </li>\n\n          <li\n            ng-if="::gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend"\n          >\n            <i class="fa-solid fa-table-list fa-fw"></i>\n            <a\n              ng-click="::gmfLayertreeCtrl.toggleNodeLegend('#gmf-layertree-node-' + layertreeCtrl.uid + '-legend'); popoverCtrl.dismissPopover()"\n              href=""\n            >\n              {{'Show/hide legend'|translate}}\n            </a>\n          </li>\n\n          <li ng-if="::gmfLayertreeCtrl.supportsOpacityChange(layertreeCtrl)">\n            <i\n              >${C7}</i>\n            <a\n              ng-click="::gmfLayertreeCtrl.toggleSwipeLayer(layertreeCtrl); popoverCtrl.dismissPopover()"\n              href=""\n              ng-model="layertreeCtrl.layer"\n            >\n              {{'Swipe with this layer'| translate}}\n            </a>\n          </li>\n\n          <li ng-if="gmfLayertreeCtrl.isFiltrable(layertreeCtrl)">\n            <i class="fa-solid fa-filter fa-fw"></i>\n            <a ng-click="gmfLayertreeCtrl.toggleFiltrableDataSource(layertreeCtrl.getDataSource())" href="">\n              {{'Filter'|translate}}\n            </a>\n          </li>\n\n          <li\n            class="more-options-info"\n            ng-if="::gmfLayertreeCtrl.getFirstParentWithLayerFunctions(layertreeCtrl) !== null"\n          >\n            <span>{{'More options at the group level'|translate}}</span>\n          </li>\n        </ul>\n      </div>\n    </span>\n\n    <span class="gmf-layertree-metadata" ng-if="::layertreeCtrl.node.metadata.metadataUrl">\n      <span ng-if="::gmfLayertreeCtrl.options.openLinksInNewWindow === true">\n        <a\n          title="{{'More information'|translate}}"\n          href="{{::layertreeCtrl.node.metadata.metadataUrl}}"\n          target="blank_"\n        >\n        </a>\n      </span>\n\n      <span ng-if="::gmfLayertreeCtrl.options.openLinksInNewWindow !== true">\n        <a\n          title="{{'More information'|translate}}"\n          href=""\n          ng-click="gmfLayertreeCtrl.displayMetadata(layertreeCtrl)"\n        >\n        </a>\n      </span>\n    </span>\n  </span>\n</div>\n\n<div\n  class="gmf-layertree-node-menu d-none"\n  id="gmf-layertree-node-menu-{{::layertreeCtrl.uid}}"\n  ng-class="'gmf-layertree-node-menu-' + layertreeCtrl.node.id"\n  ng-if="::gmfLayertreeCtrl.supportsCustomization(layertreeCtrl)"\n>\n  <div\n    class="more-options-info"\n    ng-if="::gmfLayertreeCtrl.getFirstParentWithLayerFunctions(layertreeCtrl) !== null"\n  >\n    <span>{{'More options at the group level'|translate}}</span>\n  </div>\n\n  <div ng-if="::gmfLayertreeCtrl.supportsOpacityChange(layertreeCtrl)">\n    <i class="fa-solid fa-droplet fa-fw"></i>\n    <span>{{'Opacity'|translate}}</span>\n    <input\n      class="input-action"\n      type="range"\n      min="0"\n      max="1"\n      step="0.01"\n      ng-model="layertreeCtrl.layer.opacity"\n    />\n  </div>\n\n  <a\n    class="gmf-layertree-node-menu-togglelegend"\n    ng-if="::gmfLayertreeCtrl.supportsLegend(layertreeCtrl)"\n    ng-click="::gmfLayertreeCtrl.toggleNodeLegend('#gmf-layertree-node-' + layertreeCtrl.uid + '-legend')"\n    href=""\n  >\n    <span class="fa-solid fa-table-list"> </span>\n    {{'Show/hide legend'|translate}}\n  </a>\n</div>\n<div\n  ng-if="::!layertreeCtrl.isRoot && gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend"\n  id="gmf-layertree-node-{{::layertreeCtrl.uid}}-legend"\n  class="gmf-layertree-legend"\n  ng-class="[gmfLayertreeCtrl.getNodeState(layertreeCtrl), layertreeCtrl.node.metadata.isLegendExpanded ? 'show' : '']"\n>\n  <a\n    title="{{'Hide legend'|translate}}"\n    ng-click="::gmfLayertreeCtrl.toggleNodeLegend('#gmf-layertree-node-' + layertreeCtrl.uid + '-legend')"\n    href=""\n  >\n    {{'Hide legend'|translate}}\n  </a>\n  <div ng-if="gmfLayertreeCtrl.isNodeLegendVisible('#gmf-layertree-node-' + layertreeCtrl.uid + '-legend')">\n    <div ng-repeat="(title, url) in gmfLayertreeCtrl.getLegendsObject(layertreeCtrl)">\n      <p ng-if="gmfLayertreeCtrl.getNumberOfLegendsObject(layertreeCtrl) > 1">{{title|translate}}</p>\n      <img ng-src="{{url}}" />\n    </div>\n  </div>\n</div>\n\n<ul\n  class="gmf-layertree-root-external-datasources"\n  ng-if="layertreeCtrl.isRoot && (gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmsGroups.length || gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmtsGroups.length || gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup.dataSources.length)"\n>\n  <gmf-datasourcegrouptree\n    class="gmf-layertree-node gmf-layertree-depth-1"\n    ng-repeat="wmtsGroup in gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmtsGroups"\n    group="wmtsGroup"\n  >\n  </gmf-datasourcegrouptree>\n  <gmf-datasourcegrouptree\n    class="gmf-layertree-node gmf-layertree-depth-1"\n    ng-repeat="wmsGroup in gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmsGroups"\n    group="wmsGroup"\n    get-scale="gmfLayertreeCtrl.getScale_()"\n  >\n  </gmf-datasourcegrouptree>\n  <gmf-datasourcegrouptree\n    class="gmf-layertree-node gmf-layertree-depth-1"\n    ng-if="gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup.dataSources.length"\n    group="gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup"\n  >\n  </gmf-datasourcegrouptree>\n</ul>\n\n<ul\n  id="gmf-layertree-layer-group-{{::layertreeCtrl.uid}}"\n  ng-if="::layertreeCtrl.node.children"\n  ng-class="{collapse: !(layertreeCtrl.isRoot || gmfLayertreeCtrl.options.isExpanded), show: layertreeCtrl.node.metadata.isExpanded}"\n  ngeo-sortable="::layertreeCtrl.isRoot && layertreeCtrl.node.children"\n  ngeo-sortable-options="{handleClassName: 'ngeo-sortable-handle', draggerClassName: 'gmf-layertree-dragger', placeholderClassName : 'gmf-layertree-curr-drag-item'}"\n  ngeo-sortable-callback="::gmfLayertreeCtrl.afterReorder"\n  ngeo-sortable-callback-ctx="::gmfLayertreeCtrl"\n>\n  <li\n    class="gmf-layertree-node"\n    ng-repeat="node in layertreeCtrl.node.children"\n    ng-class="'gmf-layertree-depth-' + layertreeCtrl.depth"\n    gmf-layertree-node="node"\n    gmf-layertree-node-notroot\n    gmf-layertree-node-map="layertreeCtrl.map"\n    gmf-layertree-node-nodelayerexpr="layertreeCtrl.nodelayerExpr"\n    gmf-layertree-node-listenersexpr="layertreeCtrl.listenersExpr"\n  ></li>\n</ul>`;var D7=i(6932);R7.$inject=["$element","$scope","ngeoLayerHelper","gmfLayerBeingSwipe","gmfDataSourceBeingFiltered","gmfExternalDataSourcesManager","gmfPermalink","gmfTreeManager","gmfSyncLayertreeMap","ngeoWMSTime","gmfThemes","$timeout","gmfLayerTreeOptions"];const A7=t().module("gmfLayertreeComponent",[O6.name,t4.name,h7.name,_7.name,m4.name,L4.name,S0.name,v8.name,h4.name,u0.name,x3.name,L7.name,x8.name]);function $7(e,t,n){return n(e,t)}A7.value("gmfLayertreeNodeTemplateUrl",((e,t)=>"gmf/layertree")),A7.run(["$templateCache",e=>{e.put("gmf/layertree",E7)}]),A7.value("gmfLayertreeTemplate",((e,t)=>'<div gmf-layertree-node="gmfLayertreeCtrl.root" gmf-layertree-node-map="gmfLayertreeCtrl.map" gmf-layertree-node-nodelayer="gmfLayertreeCtrl.getLayer(treeCtrl)" gmf-layertree-node-listeners="gmfLayertreeCtrl.listeners(treeScope, treeCtrl)" gmf-layertree-node-templateurl="gmf/layertree"></div>')),$7.$inject=["$element","$attrs","gmfLayertreeTemplate"];const P7={controller:"GmfLayertreeController as gmfLayertreeCtrl",bindings:{map:"=gmfLayertreeMap",dimensions:"=?gmfLayertreeDimensions"},template:$7};function R7(e,t,n,r,i,o,s,a,l,c,u,h,d){this.options=d,this.map,this.dimensions=null,this.scope_=t,this.layerHelper_=n,this.gmfLayerBeingSwipe=r,this.gmfDataSourceBeingFiltered=i,this.gmfExternalDataSourcesManager=o,this.gmfPermalink_=s,this.gmfTreeManager_=a;const f=a.root;if(!f)throw new Error("Missing root");this.root=f,this.gmfSyncLayertreeMap_=l,this.ngeoWMSTime_=c,this.groupNodeStates_={},this.dataLayerGroup_=null,this.layers=[],this.gmfThemes_=u,this.$timeout_=h,e.on("shown.bs.collapse",(()=>{this.scope_.$apply()}))}A7.component("gmfLayertree",P7),R7.prototype.$onInit=function(){this.dataLayerGroup_=this.layerHelper_.getGroupFromMap(this.map,I6),y7(this.dataLayerGroup_.getLayers().getArray(),this.layers,!0,this.scope_,(()=>!0)),this.scope_.$watchCollection((()=>this.layers),(()=>{this.map.render(),this.gmfLayerBeingSwipe.layer&&!this.layers.includes(this.gmfLayerBeingSwipe.layer)&&(this.gmfLayerBeingSwipe.layer=null)})),this.scope_.$watchCollection((()=>{if(this.gmfTreeManager_.rootCtrl)return this.dimensions}),(e=>{if(e){if(!this.gmfTreeManager_.rootCtrl)throw new Error("Missing gmfTreeManager_.rootCtrl");this.updateDimensions_(this.gmfTreeManager_.rootCtrl)}}))},R7.prototype.updateDimensions_=function(e){e.traverseDepthFirst((e=>{if(e.node.dimensions){const t=e.layer;if(!(t instanceof MI))throw new Error("Wrong feature type");return this.updateLayerDimensions_(t,e.node),c4}}))},R7.prototype.updateLayerDimensions_=function(e,t){if(this.dimensions&&t.dimensions){const n={};for(const e in t.dimensions)if(null===t.dimensions[e]){const t=this.dimensions[e];void 0!==t&&(n[e]=t)}else n[e]=t.dimensions[e];if(!an(n)){const r=e.getSource();r instanceof Mq?r.updateDimensions(n):r instanceof _q||r instanceof sq?r.updateParams(n):e.once("change:source",(()=>{if(!(e instanceof MI))throw new Error("Wrong feature type");this.updateLayerDimensions_(e,t)}))}}},R7.prototype.getLayer=function(e){if(!this.dataLayerGroup_)throw new Error("Missing dataLayerGroup");let t;e.parent.isRoot&&(this.gmfTreeManager_.rootCtrl=e.parent,t=this.gmfTreeManager_.root.children.length-this.gmfTreeManager_.numberOfGroupsToAddInThisDigestLoop||0);const n=this.gmfSyncLayertreeMap_.createLayer(e,this.map,this.dataLayerGroup_,t);if(n instanceof MI){const t=e.node;this.updateLayerDimensions_(n,t)}return n},R7.prototype.listeners=function(e,t){if(!this.dataLayerGroup_)throw new Error("Missing dataLayerGroup");const n=this.dataLayerGroup_;e.$on("$destroy",(()=>{t.layer&&n.getLayers().remove(t.layer)}))},R7.prototype.toggleActive=function(e){const t=e.getState();e.node.metadata&&e.node.metadata.exclusiveGroup?e.setState("off"===t?"on":"off"):e.setState("on"===t?"off":"on")},R7.prototype.getNodeState=function(e){return e.getState()},R7.prototype.updateTimeData=function(e,t){this.updateWMSTimeLayerState(e,t),this.gmfPermalink_.refreshLayerTime(e,t)},R7.prototype.updateWMSTimeLayerState=function(e,t){if(!t)return;const n=e.getDataSource();if(n){if(!(n instanceof i0))throw new Error("Wrong dataSource type");n.timeRangeValue=t}else if(e.children)for(let n=0,r=e.children.length;n<r;n++)this.updateWMSTimeLayerState(e.children[n],t)},R7.prototype.getLegendIconURL=function(e){const t=e.node.metadata.iconUrl;if(void 0!==t)return t;if(void 0!==e.node.children)return;const n=e.node;if("WMS"!==n.type)return;const r=n,i=r.metadata.legendRule;if(void 0===i)return;const o=r.layers.split(",")[0],s=this.gmfTreeManager_.getOgcServer(e);return this.layerHelper_.getWMSLegendURL(s.url,o,void 0,i,this.options.layerIcon?this.options.layerIcon.width:void 0,this.options.layerIcon?this.options.layerIcon.height:void 0)},R7.prototype.getLegendsObject=function(e){const t={};if(void 0!==e.node.children)return null;const n=e.node,r=n.name;if(n.metadata.legendImage)return t[r]=n.metadata.legendImage,t;const i=e.layer;if("WMTS"===n.type){if(!(i instanceof Az||i instanceof Fz))throw new Error("Wrong layer");const e=this.layerHelper_.getWMTSLegendURL(i);return void 0!==e&&(t[r]=e),e?t:null}{const r=n.layers,i=this.gmfTreeManager_.getOgcServer(e),o=this.getScale_();let s;return s=i.type===UQ?[r]:r.split(","),s.forEach((e=>{const n=this.layerHelper_.getWMSLegendURL(i.url,e,o);if(!n)throw new Error("Missing wmtsLegendURL");t[e]=n})),t}},R7.prototype.getNumberOfLegendsObject=function(e){const t=this.getLegendsObject(e);return t?Object.keys(t).length:0},R7.prototype.getScale_=function(){const e=this.map.getView(),t=e.getResolution();if(void 0===t)throw new Error("Missing resolution");const n=e.getProjection().getMetersPerUnit();if(!n)throw new Error("Missing mpu");return t*n*39.37*(25.4/.28)},R7.prototype.isSnappingActivated=function(e){if(void 0!==e.properties.snapping){if("boolean"!=typeof e.properties.snapping)throw new Error("Wrong snappingActive type");return e.properties.snapping}const t=_0(e.node);return null!==t&&t.activated},R7.prototype.toggleSnapping=function(e){e.properties.snapping=!this.isSnappingActivated(e)},R7.prototype.displayMetadata=function(e){const t=e.node,n=t.metadata.metadataUrl;if(void 0!==n){const e=window.gmfx;e.openIframePopup&&e.openIframePopup(n,t.name,void 0,void 0,!1)}},R7.prototype.afterReorder=function(){if(!this.gmfTreeManager_.rootCtrl)throw new Error("Missing gmfTreeManager_.rootCtrl");const e=this.gmfTreeManager_.rootCtrl.node.children,t=this.gmfTreeManager_.rootCtrl.children,n=[];e.forEach((e=>{t.some((t=>t.node===e&&(n.push(t),!1)))})),this.gmfTreeManager_.rootCtrl.children=n,this.layers.length=0,this.gmfTreeManager_.rootCtrl.children.forEach((e=>{if(!(e.layer instanceof RO))throw new Error("Wrong child.layer");this.layers.push(e.layer)})),this.gmfPermalink_.refreshFirstLevelGroups()},R7.prototype.tagPopup=function(e){const t=qe(e),n=D7(`#popup-id-${t}`).attr("aria-describedby");e.popupId?delete e.popupId:e.popupId=n},R7.prototype.removeNode=function(e){this.gmfTreeManager_.parseTreeNodes(e),this.gmfTreeManager_.removeGroup(e)},R7.prototype.removeAllNodes=function(){this.gmfTreeManager_.parseTreeNodes(this.root),this.gmfTreeManager_.removeAll(),this.gmfExternalDataSourcesManager.removeAll()},R7.prototype.nodesCount=function(){return this.gmfTreeManager_.root.children.length},R7.prototype.getResolutionStyle=function(e){const t=this.map.getView().getResolution();if(void 0===t)throw new Error("Missing resolution");const n=b0(e);if(void 0!==n&&t<n)return"out-of-resolution";const r=y0(e);return void 0!==r&&t>r?"out-of-resolution":void 0},R7.prototype.zoomToResolution=function(e){const t=e.node,n=this.map.getView(),r=n.getResolution();if(void 0===r)throw new Error("Missing resolution");const i=b0(t),o=n.getConstraints().resolution,s=this.map.getSize();if(void 0===s)throw new Error("Missing size");if(void 0!==i&&r<i)n.setResolution(o(i,1,s,void 0));else{const e=y0(t);void 0!==e&&r>e&&n.setResolution(o(e,-1,s,void 0))}},R7.prototype.toggleSwipeLayer=function(e){e.layer?this.gmfLayerBeingSwipe.layer===e.layer?(this.gmfLayerBeingSwipe.layer=null,this.map.render()):(this.gmfLayerBeingSwipe.layer=null,this.$timeout_((()=>{this.gmfLayerBeingSwipe.layer=e.layer,this.map.render()}),0)):console.error("No layer")},R7.prototype.toggleNodeLegend=function(e){const t=document.querySelector(e);t&&t.classList.toggle("show")},R7.prototype.toggleNodeMenu=function(e){const t=document.querySelector(e);t&&t.classList.toggle("d-none")},R7.prototype.toggleFiltrableDataSource=function(e){this.gmfDataSourceBeingFiltered.dataSource=null,this.$timeout_((()=>{this.gmfDataSourceBeingFiltered.dataSource=e}),0)},R7.prototype.isNodeLegendVisible=function(e){return D7(e).is(":visible")},R7.prototype.supportsCustomization=function(e){return!e.isRoot&&(this.supportsLegend(e)||this.supportsOpacityChange(e))},R7.prototype.supportsLegend=function(e){const t=e.node;return!!t.metadata&&!!t.metadata.legend&&!!this.getLegendsObject(e)},R7.prototype.supportsOpacityChange=function(e){const t=e.node,n=e.parent?e.parent.node:void 0;return!!e.layer&&(1===e.depth&&!t.mixed||e.depth>1&&n.mixed&&(!t.children||t.children&&!t.mixed))},R7.prototype.isFiltrable=function(e){const t=e.getDataSource();return!!t&&t.filtrable},R7.prototype.getFirstParentWithLayerFunctions=function(e){const t=e.parent;return t?this.supportsOpacityChange(t)||this.isFiltrable(t)?t:this.getFirstParentWithLayerFunctions(t):null},A7.controller("GmfLayertreeController",R7);const O7=A7,I7=t().module("ngeoLayertreeModule",[v8.name,O7.name,_7.name,m4.name,L4.name]);var F7=i(6932);const N7=t().module("ngeoRecenter",[]);N7.directive("ngeoRecenter",(function(){return{restrict:"A",link:(e,n,r)=>{const i=r.ngeoRecenterMap,o=e.$eval(i);function s(t){const n=t.attr("ngeo-extent");if(void 0!==n){const t=o.getSize();if(void 0===t)throw new Error("Missing size");o.getView().fit(e.$eval(n),{size:t})}const r=t.attr("ngeo-zoom");void 0!==r&&o.getView().setZoom(e.$eval(r))}n.on("click","*",(function(e){s(t().element(F7(this)))}));n.on({change:e=>{const n=e.target.options[e.target.selectedIndex];s(t().element(n))}})}}}));const Y7=N7;H7.$inject=["$window"];const j7=t().module("ngeoResizemap",[]);function H7(e){return{restrict:"A",link:(t,n,r)=>{const i=r.ngeoResizemap,o=t.$eval(i);console.assert(o instanceof LB);const s=r.ngeoResizemapState;let a,l;console.assert(void 0!==s);const c=()=>{o.updateSize(),o.renderSync(),Date.now()-a<1e3&&(l=e.requestAnimationFrame(c))};n.on("transitionend",(()=>{o.updateSize(),o.renderSync()})),t.$watch(s,((t,n)=>{t!=n&&(a=Date.now(),e.cancelAnimationFrame(l),l=e.requestAnimationFrame(c))}))}}}j7.directive("ngeoResizemap",H7);const z7=j7,U7="dropdown",W7="bs.dropdown",G7=`.${W7}`,q7=".data-api",B7=r().fn[U7],V7=new RegExp("38|40|27"),X7="disabled",K7="show",J7="dropdown-menu-right",Z7=`hide${G7}`,Q7=`hidden${G7}`,e9=`show${G7}`,t9=`shown${G7}`,n9=`click${G7}`,r9=`click${G7}${q7}`,i9=`keydown${G7}${q7}`,o9=`keyup${G7}${q7}`,s9='[data-toggle="dropdown"]',a9=".dropdown-menu",l9={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},c9={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"};class u9{constructor(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}static get VERSION(){return"4.6.2"}static get Default(){return l9}static get DefaultType(){return c9}toggle(){if(this._element.disabled||r()(this._element).hasClass(X7))return;const e=r()(this._menu).hasClass(K7);u9._clearMenus(),e||this.show(!0)}show(e=!1){if(this._element.disabled||r()(this._element).hasClass(X7)||r()(this._menu).hasClass(K7))return;const t={relatedTarget:this._element},n=r().Event(e9,t),i=u9._getParentFromElement(this._element);if(r()(i).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===Fw)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=i:Fs.isElement(this._config.reference)&&(e=this._config.reference,void 0!==this._config.reference.jquery&&(e=this._config.reference[0])),"scrollParent"!==this._config.boundary&&r()(i).addClass("position-static"),this._popper=new Fw(e,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===r()(i).closest(".navbar-nav").length&&r()(document.body).children().on("mouseover",null,r().noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),r()(this._menu).toggleClass(K7),r()(i).toggleClass(K7).trigger(r().Event(t9,t))}}hide(){if(this._element.disabled||r()(this._element).hasClass(X7)||!r()(this._menu).hasClass(K7))return;const e={relatedTarget:this._element},t=r().Event(Z7,e),n=u9._getParentFromElement(this._element);r()(n).trigger(t),t.isDefaultPrevented()||(this._popper&&this._popper.destroy(),r()(this._menu).toggleClass(K7),r()(n).toggleClass(K7).trigger(r().Event(Q7,e)))}dispose(){r().removeData(this._element,W7),r()(this._element).off(G7),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}_addEventListeners(){r()(this._element).on(n9,(e=>{e.preventDefault(),e.stopPropagation(),this.toggle()}))}_getConfig(e){return e={...this.constructor.Default,...r()(this._element).data(),...e},Fs.typeCheckConfig(U7,e,this.constructor.DefaultType),e}_getMenuElement(){if(!this._menu){const e=u9._getParentFromElement(this._element);e&&(this._menu=e.querySelector(a9))}return this._menu}_getPlacement(){const e=r()(this._element.parentNode);let t="bottom-start";return e.hasClass("dropup")?t=r()(this._menu).hasClass(J7)?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":r()(this._menu).hasClass(J7)&&(t="bottom-end"),t}_detectNavbar(){return r()(this._element).closest(".navbar").length>0}_getOffset(){const e={};return"function"==typeof this._config.offset?e.fn=e=>(e.offsets={...e.offsets,...this._config.offset(e.offsets,this._element)},e):e.offset=this._config.offset,e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),{...e,...this._config.popperConfig}}static _jQueryInterface(e){return this.each((function(){let t=r()(this).data(W7);if(t||(t=new u9(this,"object"==typeof e?e:null),r()(this).data(W7,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static _clearMenus(e){if(e&&(3===e.which||"keyup"===e.type&&9!==e.which))return;const t=[].slice.call(document.querySelectorAll(s9));for(let n=0,i=t.length;n<i;n++){const i=u9._getParentFromElement(t[n]),o=r()(t[n]).data(W7),s={relatedTarget:t[n]};if(e&&"click"===e.type&&(s.clickEvent=e),!o)continue;const a=o._menu;if(!r()(i).hasClass(K7))continue;if(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&r().contains(i,e.target))continue;const l=r().Event(Z7,s);r()(i).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&r()(document.body).children().off("mouseover",null,r().noop),t[n].setAttribute("aria-expanded","false"),o._popper&&o._popper.destroy(),r()(a).removeClass(K7),r()(i).removeClass(K7).trigger(r().Event(Q7,s)))}}static _getParentFromElement(e){let t;const n=Fs.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode}static _dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||r()(e.target).closest(a9).length):!V7.test(e.which))return;if(this.disabled||r()(this).hasClass(X7))return;const t=u9._getParentFromElement(this),n=r()(t).hasClass(K7);if(!n&&27===e.which)return;if(e.preventDefault(),e.stopPropagation(),!n||27===e.which||32===e.which)return 27===e.which&&r()(t.querySelector(s9)).trigger("focus"),void r()(this).trigger("click");const i=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((e=>r()(e).is(":visible")));if(0===i.length)return;let o=i.indexOf(e.target);38===e.which&&o>0&&o--,40===e.which&&o<i.length-1&&o++,o<0&&(o=0),i[o].focus()}}r()(document).on(i9,s9,u9._dataApiKeydownHandler).on(i9,a9,u9._dataApiKeydownHandler).on(`${r9} ${o9}`,u9._clearMenus).on(r9,s9,(function(e){e.preventDefault(),e.stopPropagation(),u9._jQueryInterface.call(r()(this),"toggle")})).on(r9,".dropdown form",(e=>{e.stopPropagation()})),r().fn[U7]=u9._jQueryInterface,r().fn[U7].Constructor=u9,r().fn[U7].noConflict=()=>(r().fn[U7]=B7,u9._jQueryInterface);const h9=t().module("ngeoScaleselector",[]);h9.value("ngeoScaleselectorTemplateUrl",((e,t)=>{const n=t.ngeoScaleselectorTemplateurl;return void 0!==n?n:"ngeo/map/scaleselector"})),h9.run(["$templateCache",e=>{e.put("ngeo/map/scaleselector",'<div class="btn-group btn-block" ng-class="::{\'dropup\': scaleselectorCtrl.options.dropup}">\n  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n    <span ng-bind-html="scaleselectorCtrl.currentScale | ngeoScalify | ngeoTrustHtml"></span>\n  </button>\n  <ul class="dropdown-menu btn-block" role="menu">\n    <li ng-repeat="zoomLevel in ::scaleselectorCtrl.getZooms()">\n      <a\n        href\n        ng-click="scaleselectorCtrl.changeZoom(zoomLevel)"\n        ng-bind-html="scaleselectorCtrl.getScale(zoomLevel) | ngeoScalify | ngeoTrustHtml"\n      >\n      </a>\n    </li>\n  </ul>\n</div>')}]);const d9=function(e){return{restrict:"A",scope:!0,controller:"NgeoScaleselectorController",templateUrl:e}};d9.$inject=["ngeoScaleselectorTemplateUrl"],d9.$inject=["ngeoScaleselectorTemplateUrl"],h9.directive("ngeoScaleselector",d9);class f9{constructor(e,t,n){this.scales=n.values;const r=t.ngeoScaleselectorMap;this.map_=e.$eval(r),console.assert(this.map_ instanceof LB),this.options=n,this.$scope_=e,this.resolutionChangeKey_=null,this.currentScale=void 0;const i=this.map_.getView();if(this.scales)for(let e=i.getMinZoom();e<=i.getMaxZoom();e++){const t=Math.round(39.37*i.getResolutionForZoom(e)*96),n=this.scales[e];null==n?(console.warn(`Missing scale for zoom '${e}', set it to real calculated scale '${t}'.`),this.scales[e]=t):Math.exp(Math.abs(Math.log(t/n)))>1.5&&console.warn(`Big difference between configured scale '${n}' for zoom '${e}' and real calculated scale '${t}'.`)}else{this.scales=[];for(let e=i.getMinZoom();e<=i.getMaxZoom();e++)this.scales[e]=Math.round(39.37*i.getResolutionForZoom(e)*96)}const o=this.map_.getView().getZoom();void 0!==o&&(this.currentScale=this.getScale(o)),bn(this.map_,"change:view",this.handleViewChange_,this),this.registerResolutionChangeListener_(),e.scaleselectorCtrl=this}getZooms(){return Object.keys(this.scales).map(Number)}getScale(e){if(void 0===e)return;let t=this.scales[e];if(void 0!==t)return t;const n=Math.floor(e),r=this.scales[n];return t=r-(r-this.scales[n+1])*(e-n),isNaN(t)?void 0:Math.round(t)}changeZoom(e){this.map_.getView().setZoom(e)}handleResolutionChange_(e){const t=this.map_.getView(),n=this.getScale(t.getZoom());void 0!==n&&this.$scope_.$applyAsync((()=>{this.currentScale=n}))}handleViewChange_(e){this.registerResolutionChangeListener_(),this.handleResolutionChange_(null)}registerResolutionChangeListener_(){null!==this.resolutionChangeKey_&&wn(this.resolutionChangeKey_);const e=this.map_.getView();this.resolutionChangeKey_=bn(e,"change:resolution",this.handleResolutionChange_,this)}}f9.$inject=["$scope","$attrs","ngeoScaleSelectorOptions"],h9.controller("NgeoScaleselectorController",f9);const p9=h9,m9="projection",g9="coordinateFormat";const _9=class extends eB{constructor(e){e=e||{};const t=document.createElement("div");t.className=void 0!==e.className?e.className:"ol-mouse-position",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un,this.addChangeListener(m9,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=void 0!==e.placeholder,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==e.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(g9)}getProjection(){return this.get(m9)}handleMouseMove(e){const t=this.getMap();this.updateHTML_(t.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){const t=e.getViewport();this.listenerKeys.push(bn(t,Uq,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(bn(t,Gq,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set(g9,e)}setProjection(e){this.set(m9,pR(e))}updateHTML_(e){let t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){const e=this.getProjection();this.transform_=e?wR(this.mapProjection_,e):dR}const n=this.getMap().getCoordinateFromPixelInternal(e);if(n){const e=TR();if(e&&(this.transform_=wR(this.mapProjection_,e)),this.transform_(n,n),this.wrapX_){QP(n,e||this.getProjection()||this.mapProjection_)}const r=this.getCoordinateFormat();t=r?r(n):n.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)}render(e){const t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}};w9.$inject=["$element","$filter","$scope","gettextCatalog","gmfMousePositionOptions"];const y9=t().module("gmfMapMouseposition",[J0.name]);function b9(e,t){return t(e)}y9.run(["$templateCache",e=>{e.put("gmf/map/mousepositionComponent",'<div class="btn-group dropup">\n  <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n    <span class="gmf-mouseposition-control-target"></span>\n  </button>\n  <ul class="dropdown-menu dropdown-menu-right" role="menu">\n    <li class="dropdown-header" translate>Coordinate systems</li>\n    <li ng-repeat="projitem in ::ctrl.projections">\n      <a href ng-click="ctrl.setProjection(projitem)">\n        <span class="fa-solid fa-fw" ng-class="{\'fa-check\': ctrl.projection == projitem}"></span>\n        {{::projitem.label}}\n      </a>\n    </li>\n  </ul>\n</div>')}]),y9.value("gmfMapMousepositionTemplateUrl",(e=>{const t=e.gmfMapMousepositionTemplateUrl;return void 0!==t?t:"gmf/map/mousepositionComponent"})),b9.$inject=["$attrs","gmfMapMousepositionTemplateUrl"];const v9={controller:"gmfMousepositionController as ctrl",bindings:{map:"<gmfMousepositionMap"},templateUrl:b9};function w9(e,t,n,r,i){this.options_=i,this.map=null,this.projections=this.options_.projections,this.projection=null,this.$scope_=n,this.gettextCatalog_=r,this.$element_=e,this.$filter_=t,this.control_=null}y9.component("gmfMouseposition",v9),w9.prototype.$onInit=function(){this.$scope_.$on("gettextLanguageChanged",(()=>{this.initOlControl_()})),this.initOlControl_()},w9.prototype.initOlControl_=function(){if(!this.map)throw new Error("Missing map");null!==this.control_&&this.map.removeControl(this.control_);const e=this.gettextCatalog_;this.control_=new _9({className:"gmf-mouseposition-control",coordinateFormat:e=>{if(!this.projection)throw new Error("Missing projection");const t=this.projection.filter.split(":"),n=t.shift();if(!n)throw new Error("Missing shiftedFilterAndArgs");const r=this.$filter_(n);if("function"!=typeof r)throw new Error("Wrong filter type");const i=t;return i.unshift(e),r.apply(this,i)},target:this.$element_.find(".gmf-mouseposition-control-target").get(0),placeholder:e.getString("Coordinates")}),this.setProjection(this.projections[0]),this.map.addControl(this.control_)},w9.prototype.setProjection=function(e){if(!this.control_)throw new Error("Missing control");this.control_.setProjection(e.code),this.projection=e},y9.controller("gmfMousepositionController",w9);const x9=y9;var M9=i(6932);function S9(e,t){this.$http_=e,this.gmfShortenerCreateUrl_=t}S9.$inject=["$http","gmfShortenerCreateUrl"],S9.prototype.getShortUrl=function(e){const t={url:e};return this.gmfShortenerCreateUrl_?this.postShortUrl_(t):{data:{short_url:e},status:200}},S9.prototype.sendShortUrl=function(e,t,n){const r={url:e,email:t};return n&&(r.message=n),this.postShortUrl_(r)},S9.prototype.postShortUrl_=function(e){return this.$http_.post(this.gmfShortenerCreateUrl_,M9.param(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})};const k9=t().module("gmfShareService",[]);k9.service("gmfShareService",S9);const T9=k9,L9=`<div class="modal-header ui-draggable-handle">\n  <h4 class="modal-title" translate>Share this map</h4>\n  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n  </button>\n</div>\n<div class="modal-body">\n  <form role="form" name="gmfShareForm" novalidate>\n    <div class="form-group">\n      <label for="gmfShareInputShortLink-{{::$ctrl.uid}}" translate>Permalink</label>\n      <input\n        type="text"\n        class="form-control"\n        id="gmfShareInputShortLink-{{::$ctrl.uid}}"\n        onclick="this.select()"\n        ng-model="$ctrl.shortLink"\n        readonly="True"\n      />\n      <p class="help-block" translate>Copy this link to share it.</p>\n      <p class="text-danger" ng-if="$ctrl.showLengthWarning">\n        <span class="fa-solid fa-triangle-exclamation"></span>\n        \x3c!-- prettier-ignore --\x3e\n        {{'You have a lot of drawn elements in this map. The above link may not be correctly supported by some browsers.' | translate}}\n      </p>\n      <p class="text-danger" ng-if="$ctrl.errorOnGetShortUrl">\n        <span class="fa-solid fa-exclamation"></span>\n        {{'Error, cannot get the shortened URL.' | translate}}\n      </p>\n    </div>\n    <hr ng-if="::$ctrl.options.enableEmail !== false" />\n    <div class="gmf-share-email" ng-if="::$ctrl.options.enableEmail !== false">\n      <div class="form-group">\n        <label for="gmfShareInputEmail-{{::$ctrl.uid}}" translate>Send this link to</label>\n        <input\n          type="email"\n          class="form-control"\n          name="inputEmail"\n          id="gmfShareInputEmail-{{::$ctrl.uid}}"\n          placeholder="E-mail"\n          ng-model="$ctrl.email"\n          required\n        />\n        <span ng-show="gmfShareForm.$submitted || gmfShareForm.inputEmail.$touched">\n          <span\n            class="text-danger"\n            ng-show="gmfShareForm.inputEmail.$error.email || gmfShareForm.inputEmail.$error.required"\n          >\n            <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>\n            {{'Invalid email.' | translate}}</span\n          >\n        </span>\n      </div>\n      <div class="form-group">\n        <textarea\n          class="form-control"\n          ng-attr-placeholder="{{'Message (optional)' | translate }}"\n          ng-model="$ctrl.message"\n        ></textarea>\n      </div>\n      <span class="text-default" ng-if="!$ctrl.isFinishedState">\n        <i class="fa-solid custom-spinner-generic fa-spin"\n          >${ks("1rem")}</i>\n      </span>\n      <span class="text-success" ng-if="$ctrl.successfullySent">\n        <i class="fa-solid fa-check" aria-hidden="true"></i>\n        {{ 'Link successfully sent.' | translate }}\n      </span>\n      <span class="text-danger" ng-if="$ctrl.errorOnsend">\n        <i class="fa-solid fa-exclamation" aria-hidden="true"></i>\n        {{ 'Error, the link has not been sent.' | translate }}\n      </span>\n    </div>\n    <div class="text-right">\n      <button type="button" class="btn btn-default" data-dismiss="modal" translate>Close</button>\n      <button\n        ng-if="::$ctrl.options.enableEmail !== false"\n        type="submit"\n        class="btn prime"\n        ng-click="$ctrl.sendShortUrl()"\n        ng-disabled="!gmfShareForm.$valid"\n        translate\n      >\n        Send\n      </button>\n    </div>\n  </form>\n</div>`,C9=t().module("gmfPermalinkShareComponent",[T9.name,v4.name]);function E9(e,t){return t(e)}C9.run(["$templateCache",e=>{e.put("gmf/permalink/shareComponent",L9)}]),C9.value("gmfPermalinkShareTemplateUrl",(e=>{const t=e.gmfPermalinkShareTemplateUrl;return void 0!==t?t:"gmf/permalink/shareComponent"})),E9.$inject=["$attrs","gmfPermalinkShareTemplateUrl"];const D9={controller:"GmfShareController",templateUrl:E9};C9.component("gmfShare",D9);class A9{constructor(e,t,n,r,i,o){this.options=o,this.uid=qe(this),this.$scope_=e,this.gmfShareService_=n,this.$q_=r,this.ngeoLocation_=t,this.shortLink="",this.email="",this.message="",this.permalink_=this.ngeoLocation_.getUriString();const s=t.getPath();if(!s)throw new Error("Missing path");this.showLengthWarning=this.permalink_.length>2083||s.length>2048,this.successfullySent=!1,this.errorOnsend=!1,this.isFinishedState=!0,this.errorOnGetShortUrl=!1,this.getShortUrl()}getShortUrl(){this.$q_.when(this.gmfShareService_.getShortUrl(this.permalink_)).then((e=>{this.shortLink=e.data.short_url,this.errorOnGetShortUrl=!1}),(e=>{this.shortLink=this.permalink_,this.errorOnGetShortUrl=!0}))}sendShortUrl(){this.errorOnsend=!1,this.successfullySent=!1,this.isFinishedState=!1,this.$scope_.gmfShareForm.$valid&&this.$q_.when(this.gmfShareService_.sendShortUrl(this.permalink_,this.email,this.message)).then((e=>{this.successfullySent=!0,this.isFinishedState=!0}),(e=>{this.errorOnsend=!0,this.isFinishedState=!0}))}}A9.$inject=["$scope","ngeoLocation","gmfShareService","$q","$attrs","gmfShareOptions"],C9.controller("GmfShareController",A9);const $9=C9,P9=t().module("gmfPermalinkModule",[h7.name,T9.name,$9.name]),R9="snap";class O9 extends qt{constructor(e,t){super(e),this.vertex=t.vertex,this.vertexPixel=t.vertexPixel,this.feature=t.feature,this.segment=t.segment}}function I9(e){return e.feature?e.feature:e.element?e.element:null}const F9=[];const N9=class extends nU{constructor(e){const t=e=e||{};t.handleDownEvent||(t.handleDownEvent=en),t.stopDown||(t.stopDown=tn),super(t),this.on,this.once,this.un,this.source_=e.source?e.source:null,this.vertex_=void 0===e.vertex||e.vertex,this.edge_=void 0===e.edge||e.edge,this.features_=e.features?e.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.rBush_=new ej,this.GEOMETRY_SEGMENTERS_={Point:this.segmentPointGeometry_.bind(this),LineString:this.segmentLineStringGeometry_.bind(this),LinearRing:this.segmentLineStringGeometry_.bind(this),Polygon:this.segmentPolygonGeometry_.bind(this),MultiPoint:this.segmentMultiPointGeometry_.bind(this),MultiLineString:this.segmentMultiLineStringGeometry_.bind(this),MultiPolygon:this.segmentMultiPolygonGeometry_.bind(this),GeometryCollection:this.segmentGeometryCollectionGeometry_.bind(this),Circle:this.segmentCircleGeometry_.bind(this)}}addFeature(e,t){t=void 0===t||t;const n=qe(e),r=e.getGeometry();if(r){const t=this.GEOMETRY_SEGMENTERS_[r.getType()];if(t){this.indexedFeaturesExtents_[n]=r.getExtent([1/0,1/0,-1/0,-1/0]);const i=[];if(t(i,r),1===i.length)this.rBush_.insert(G$(i[0]),{feature:e,segment:i[0]});else if(i.length>1){const t=i.map((e=>G$(e))),n=i.map((t=>({feature:e,segment:t})));this.rBush_.load(t,n)}}}t&&(this.featureChangeListenerKeys_[n]=bn(e,cn,this.handleFeatureChange_,this))}getFeatures_(){let e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e}handleEvent(e){const t=this.snapTo(e.pixel,e.coordinate,e.map);return t&&(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel,this.dispatchEvent(new O9(R9,{vertex:e.coordinate,vertexPixel:e.pixel,feature:t.feature,segment:t.segment}))),super.handleEvent(e)}handleFeatureAdd_(e){const t=I9(e);t&&this.addFeature(t)}handleFeatureRemove_(e){const t=I9(e);t&&this.removeFeature(t)}handleFeatureChange_(e){const t=e.target;if(this.handlingDownUpSequence){const e=qe(t);e in this.pendingFeatures_||(this.pendingFeatures_[e]=t)}else this.updateFeature_(t)}handleUpEvent(e){const t=Object.values(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}removeFeature(e,t){const n=void 0===t||t,r=qe(e),i=this.indexedFeaturesExtents_[r];if(i){const t=this.rBush_,n=[];t.forEachInExtent(i,(function(t){e===t.feature&&n.push(t)}));for(let e=n.length-1;e>=0;--e)t.remove(n[e])}n&&(wn(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])}setMap(e){const t=this.getMap(),n=this.featuresListenerKeys_,r=this.getFeatures_();t&&(n.forEach(wn),n.length=0,this.rBush_.clear(),Object.values(this.featureChangeListenerKeys_).forEach(wn),this.featureChangeListenerKeys_={}),super.setMap(e),e&&(this.features_?n.push(bn(this.features_,XY,this.handleFeatureAdd_,this),bn(this.features_,KY,this.handleFeatureRemove_,this)):this.source_&&n.push(bn(this.source_,yj,this.handleFeatureAdd_,this),bn(this.source_,wj,this.handleFeatureRemove_,this)),r.forEach((e=>this.addFeature(e))))}snapTo(e,t,n){const r=n.getView().getProjection(),i=CR(t,r),o=ER(q$(G$([i]),n.getView().getResolution()*this.pixelTolerance_),r),s=this.rBush_.getInExtent(o),a=s.length;if(0===a)return null;let l,c,u=1/0,h=null;const d=this.pixelTolerance_*this.pixelTolerance_,f=()=>{if(l){const t=n.getPixelFromCoordinate(l);if(JP(e,t)<=d)return{vertex:l,vertexPixel:[Math.round(t[0]),Math.round(t[1])],feature:c,segment:h}}return null};if(this.vertex_){for(let e=0;e<a;++e){const t=s[e];"Circle"!==t.feature.getGeometry().getType()&&t.segment.forEach((e=>{const n=CR(e,r),o=JP(i,n);o<u&&(l=e,u=o,c=t.feature)}))}const e=f();if(e)return e}if(this.edge_){for(let e=0;e<a;++e){let t=null;const n=s[e];if("Circle"===n.feature.getGeometry().getType()){let e=n.feature.getGeometry();const o=TR();o&&(e=e.clone().transform(o,r)),t=BP(i,e)}else{const[e,o]=n.segment;o&&(F9[0]=CR(e,r),F9[1]=CR(o,r),t=VP(i,F9))}if(t){const e=JP(i,t);e<u&&(l=LR(t,r),h="Circle"===n.feature.getGeometry().getType()?null:n.segment,u=e,c=n.feature)}}const e=f();if(e)return e}return null}updateFeature_(e){this.removeFeature(e,!1),this.addFeature(e,!1)}segmentCircleGeometry_(e,t){const n=this.getMap().getView().getProjection();let r=t;const i=TR();i&&(r=r.clone().transform(i,n));const o=_I(r);i&&o.transform(n,i);const s=o.getCoordinates()[0];for(let t=0,n=s.length-1;t<n;++t)e.push(s.slice(t,t+2))}segmentGeometryCollectionGeometry_(e,t){const n=t.getGeometriesArray();for(let t=0;t<n.length;++t){const r=this.GEOMETRY_SEGMENTERS_[n[t].getType()];r&&r(e,n[t])}}segmentLineStringGeometry_(e,t){const n=t.getCoordinates();for(let t=0,r=n.length-1;t<r;++t)e.push(n.slice(t,t+2))}segmentMultiLineStringGeometry_(e,t){const n=t.getCoordinates();for(let t=0,r=n.length;t<r;++t){const r=n[t];for(let t=0,n=r.length-1;t<n;++t)e.push(r.slice(t,t+2))}}segmentMultiPointGeometry_(e,t){t.getCoordinates().forEach((t=>{e.push([t])}))}segmentMultiPolygonGeometry_(e,t){const n=t.getCoordinates();for(let t=0,r=n.length;t<r;++t){const r=n[t];for(let t=0,n=r.length;t<n;++t){const n=r[t];for(let t=0,r=n.length-1;t<r;++t)e.push(n.slice(t,t+2))}}}segmentPointGeometry_(e,t){e.push([t.getCoordinates()])}segmentPolygonGeometry_(e,t){const n=t.getCoordinates();for(let t=0,r=n.length;t<r;++t){const r=n[t];for(let t=0,n=r.length-1;t<n;++t)e.push(r.slice(t,t+2))}}};j9.$inject=["$http","$q","$rootScope","$injector","$timeout","gmfDatasourceFileGroup","gmfSnappingConfig","gmfThemes","gmfTreeManager","ngeoFeatures","gmfSnappingOptions"];class Y9 extends N9{constructor(e){super(e),document.body.addEventListener("keydown",(e=>{this.setActive(17!==e.keyCode)})),document.body.addEventListener("keyup",(()=>{this.setActive(!0)}))}}function j9(e,t,n,r,i,o,s,a,l,c,u){this.http_=e,this.q_=t,this.rootScope_=n,this.timeout_=i,this.injector_=r,this.gmfDatasourceFileGroup_=o,this.gmfSnappingConfig_=s,this.gmfSnappingOptions_=u,this.gmfThemes_=a,this.gmfTreeManager_=l,this.ngeoFeatures_=c,this.cache_={},this.cacheFileDataSource_={},this.listenerKeys_=[],this.map_=null,this.mapViewChangePromise_=null,this.ngeoFeaturesSnapInteraction_=new Y9({edge:s.edge,features:c,pixelTolerance:s.tolerance,vertex:s.vertex}),this.ogcServers_=null,this.ngeoSnappingSource_=this.injector_.has("ngeoSnappingSource")?this.injector_.get("ngeoSnappingSource"):void 0}j9.prototype.ensureSnapInteractionsOnTop=function(){if(!this.map_)throw new Error("Missing map");const e=this.map_;let t;for(const n in this.cache_)if(t=this.cache_[n],t.active){if(!t.interaction)throw new Error("Missing item.interaction");e.removeInteraction(t.interaction),e.addInteraction(t.interaction)}for(const n in this.cacheFileDataSource_)if(t=this.cacheFileDataSource_[n],t.active){if(!t.interaction)throw new Error("Missing item.interaction");e.removeInteraction(t.interaction),e.addInteraction(t.interaction)}e.removeInteraction(this.ngeoFeaturesSnapInteraction_),e.addInteraction(this.ngeoFeaturesSnapInteraction_)},j9.prototype.setMap=function(e){const t=this.listenerKeys_;if(this.map_){if(!this.treeCtrlsUnregister_)throw new Error("Missing treeCtrlsUnregister");this.treeCtrlsUnregister_(),this.unregisterAllTreeCtrl_(),t.forEach(wn),t.length=0,this.map_.removeInteraction(this.ngeoFeaturesSnapInteraction_)}if(this.map_=e,e){this.treeCtrlsUnregister_=this.rootScope_.$watchCollection((()=>{if(this.gmfTreeManager_.rootCtrl)return this.gmfTreeManager_.rootCtrl.children}),(e=>{this.timeout_((()=>{if(e){if(!this.gmfTreeManager_.rootCtrl)throw new Error("Missing gmfTreeManager_.rootCtrl");this.unregisterAllTreeCtrl_(),this.gmfTreeManager_.rootCtrl.traverseDepthFirst(this.registerTreeCtrl_.bind(this))}}),0)})),t.push(bn(this.gmfThemes_,"change",this.handleThemesChange_,this),bn(e,"moveend",this.handleMapMoveEnd_,this));const n=this.gmfDatasourceFileGroup_.fileGroup;n&&t.push(bn(n.dataSourcesCollection,"add",this.handleFileGroupDataSourcesCollectionAdd_,this),bn(n.dataSourcesCollection,"remove",this.handleFileGroupDataSourcesCollectionRemove_,this)),e.addInteraction(this.ngeoFeaturesSnapInteraction_)}},j9.prototype.handleThemesChange_=function(){this.ogcServers_=null,this.gmfThemes_.getOgcServersObject().then((e=>{this.ogcServers_=e}))},j9.prototype.registerTreeCtrl_=function(e){let t=e.node;if(t.children)return;t=e.node;const n=_0(t),r=this.gmfSnappingOptions_.maxFeatures||50;if(n){const t=this.getWFSConfig_(e);if(t){const i=qe(e),o=this.rootScope_.$watch((()=>this.isSnappingActiveForTreeCtrl_(e)),this.handleTreeCtrlStateChange_.bind(this,e)),s=this.getOGCServer_(e);if(!s)throw new Error("Missing ogcServer");this.cache_[i]={active:!1,featureNS:s.wfsFeatureNS,featurePrefix:"feature",features:new QY,interaction:null,maxFeatures:r,requestDeferred:null,snappingConfig:n,treeCtrl:e,wfsConfig:t,stateWatcherUnregister:o},this.handleTreeCtrlStateChange_(e,this.isSnappingActiveForTreeCtrl_(e))}}},j9.prototype.unregisterAllTreeCtrl_=function(){for(const e in this.cache_){const t=this.cache_[e];t&&(t.stateWatcherUnregister(),this.deactivateItem_(t),delete this.cache_[e])}},j9.prototype.getOGCServer_=function(e){const t=e.node;if(t.type!==x0)return null;const n=t;let r;if(e.parent.node.mixed)r=n.ogcServer;else{r=s4(e).node.ogcServer}if(!r)return null;if(!this.ogcServers_)throw new Error("Missing ogcServers");return this.ogcServers_[r]},j9.prototype.getWFSConfig_=function(e){if(null===this.ogcServers_)return null;const t=e.node;if(t.type!==x0)return null;const n=t,r=[];for(let e=0,t=n.childLayers.length;e<t;e++)n.childLayers[e].queryable&&r.push(n.childLayers[e].name);if(!r.length)return null;const i=this.getOGCServer_(e);if(!i||!i.wfsSupport)return null;const o=i.urlWfs;if(!o)throw new Error("Missing urlWfs");return{featureTypes:r.join(","),url:o}},j9.prototype.isSnappingActiveForTreeCtrl_=function(e){if("on"!==e.getState())return!1;if(void 0!==e.properties.snapping){if("boolean"!=typeof e.properties.snapping)throw new Error("Wrong snappingActive type");return e.properties.snapping}const t=_0(e.node);return null!==t&&t.activated},j9.prototype.handleTreeCtrlStateChange_=function(e,t){const n=qe(e),r=this.cache_[n];t?this.activateItem_(r):this.deactivateItem_(r)},j9.prototype.activateItem_=function(e){if(!this.map_)throw new Error("Missing map");if(e.active)return;const t=this.map_,n=new Y9({edge:e.snappingConfig.edge,features:e.features,pixelTolerance:e.snappingConfig.tolerance,vertex:e.snappingConfig.vertex});t.addInteraction(n),e.interaction=n,e.active=!0,this.loadItemFeatures_(e)},j9.prototype.deactivateItem_=function(e){if(!this.map_)throw new Error("Missing map");if(!e.active)return;const t=this.map_,n=e.interaction;if(!n)throw new Error("Missing interaction");t.removeInteraction(n),e.interaction=null,e.features.clear(),e.requestDeferred&&(e.requestDeferred.resolve(),e.requestDeferred=null),e.active=!1,this.refreshSnappingSource_()},j9.prototype.loadAllItems_=function(){let e;this.mapViewChangePromise_=null;for(const t in this.cache_)e=this.cache_[t],e.active&&this.loadItemFeatures_(e)},j9.prototype.refresh=function(){this.loadAllItems_()},j9.prototype.loadItemFeatures_=function(e){if(!this.map_)throw new Error("Missing map");e.requestDeferred&&e.requestDeferred.resolve();const t=this.map_,n=t.getView(),r=t.getSize();if(!r)throw new Error("Missing size");const i=n.calculateExtent(r),o=n.getProjection().getCode(),s=e.wfsConfig.featureTypes.split(","),a={srsName:o,featureNS:e.featureNS,featurePrefix:e.featurePrefix,featureTypes:s,outputFormat:"GML3",bbox:i,geometryName:ZQ,maxFeatures:e.maxFeatures},l=new YQ,c=new XMLSerializer,u=l.writeGetFeature(a),h=c.serializeToString(u),d=e.wfsConfig.url;e.requestDeferred=this.q_.defer();this.http_.post(d,h,{timeout:e.requestDeferred.promise,headers:{"Content-Type":"text/xml"}}).then((t=>{e.requestDeferred=null,e.features.clear();const n=(new YQ).readFeatures(t.data);n&&(e.features.extend(n),this.refreshSnappingSource_())})).catch((e=>{"abort"===e.xhrStatus?console.error("WFS request aborted."):console.error(e)}))},j9.prototype.handleMapMoveEnd_=function(){this.mapViewChangePromise_&&this.timeout_.cancel(this.mapViewChangePromise_),this.mapViewChangePromise_=this.timeout_(this.loadAllItems_.bind(this),400)},j9.prototype.refreshSnappingSource_=function(){if(void 0!==this.ngeoSnappingSource_){this.ngeoSnappingSource_.clear();for(const e in this.cache_){const t=this.cache_[e];if(void 0===t.features)throw new Error("Missing features");t.active&&this.ngeoSnappingSource_.addFeatures(t.features.getArray())}}},j9.prototype.handleFileGroupDataSourcesCollectionAdd_=function(e){if(!(e instanceof ZY))return;const t=e.element;if(!(t instanceof H6))return;const n=t.featuresCollection,r=this.gmfSnappingConfig_,i=new Y9({edge:r.edge,features:n,pixelTolerance:r.tolerance,vertex:r.vertex}),o=this.rootScope_.$watch((()=>t.visible),this.handleFileDataSourceVisibleChange_.bind(this,t)),s=qe(t);this.cacheFileDataSource_[s]={active:!1,fileDataSource:t,interaction:i,visibleWatcherUnregister:o},this.handleFileDataSourceVisibleChange_(t)},j9.prototype.handleFileGroupDataSourcesCollectionRemove_=function(e){if(!(e instanceof ZY))return;const t=e.element;if(!(t instanceof H6))return;const n=qe(t);if(!this.cacheFileDataSource_[n])return;const r=this.cacheFileDataSource_[n],i=this.map_;r.visibleWatcherUnregister(),r.active&&i.removeInteraction(r.interaction),delete this.cacheFileDataSource_[n]},j9.prototype.handleFileDataSourceVisibleChange_=function(e){const t=qe(e),n=this.cacheFileDataSource_[t],r=e.visible;if(n.active===r)return;n.active=r;const i=this.map_;r?i.addInteraction(n.interaction):i.removeInteraction(n.interaction)};const H9=t().module("gmfSnapping",[V6.name,L4.name,S0.name,h4.name]);H9.service("gmfSnapping",j9);const z9=H9;W9.$inject=["gmfPermalink","gmfSnapping","$injector","$element"];const U9=t().module("gmfMapComponent",[P9.name,z9.name]);function W9(e,t,n,r){this.map=null,this.gmfPermalink_=e,this.gmfSnapping_=t,this.$element_=r}U9.directive("gmfMap",(function(){return{scope:{map:"<gmfMapMap"},controller:"GmfMapController as ctrl",bindToController:!0}})),W9.prototype.$onInit=function(){if(!this.map)throw new Error("Missing map");vU.init(this.map),this.gmfPermalink_.setMap(this.map),this.gmfSnapping_.setMap(this.map),this.map.setTarget(this.$element_[0]),window.overlayMgr=vU},U9.controller("GmfMapController",W9);const G9=U9,q9=t().module("ngeoMapModule",[E0.name,Y7.name,z7.name,p9.name,x9.name,G9.name]);function B9(e,t){this.data=e,this.columnDefs=t,this.selectedRows={}}function V9(e){return`${qe(e)}`}B9.prototype.isRowSelected=function(e){return!!this.selectedRows[V9(e)]},B9.prototype.getSelectedCount=function(){return Object.keys(this.selectedRows).length},B9.prototype.getSelectedRows=function(){if(!this.data)throw new Error("Missing data");return this.data.filter((e=>this.isRowSelected(e)))},B9.prototype.selectRow=function(e){const t=V9(e);this.selectedRows[t]=e},B9.prototype.toggleRow=function(e){const t=V9(e);this.isRowSelected(e)?delete this.selectedRows[t]:this.selectedRows[t]=e},B9.prototype.selectAll=function(){if(!this.data)throw new Error("Missing data");this.data.forEach((e=>{this.selectRow(e)}))},B9.prototype.unselectAll=function(){for(const e in this.selectedRows)delete this.selectedRows[e]},B9.prototype.invertSelection=function(){if(!this.data)throw new Error("Missing data");this.data.forEach((e=>{this.toggleRow(e)}))};const X9=B9;i(6204),i(4996);Q9.$inject=["$scope"];const K9=t().module("ngeoGrid",[J0.name,"floatThead"]);function J9(e,t){return t(e)}K9.run(["$templateCache",e=>{e.put("ngeo/grid",'<div class="ngeo-grid-table-container">\n  <table\n    float-thead="$ctrl.floatTheadConfig"\n    ng-model="$ctrl.configuration.data"\n    class="table table-bordered table-striped table-hover"\n  >\n    <thead class="table-header">\n      <tr>\n        <th\n          ng-repeat="columnDefs in $ctrl.configuration.columnDefs"\n          ng-click="$ctrl.sort(columnDefs.name)"\n          ng-bind-html="columnDefs.name | ngeoTrustHtml | translate"\n        >\n          <i ng-show="$ctrl.sortedBy !== columnDefs.name" class="fa-solid fa-fw"></i>\n          <i\n            ng-show="$ctrl.sortedBy === columnDefs.name && $ctrl.sortAscending === true"\n            class="fa-solid fa-caret-up"\n          ></i>\n          <i\n            ng-show="$ctrl.sortedBy === columnDefs.name && $ctrl.sortAscending === false"\n            class="fa-solid fa-caret-down"\n          ></i>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        ng-repeat="attributes in $ctrl.configuration.data"\n        ng-class="[\'row-\' + $ctrl.configuration.getRowUid(attributes), $ctrl.configuration.isRowSelected(attributes) ? \'ngeo-grid-active\': \'\']"\n        ng-click="$ctrl.clickRow(attributes, $event)"\n        ng-mousedown="$ctrl.preventTextSelection($event)"\n      >\n        <td\n          ng-repeat="columnDefs in $ctrl.configuration.columnDefs"\n          ng-bind-html="attributes[columnDefs.name] | removeCDATA | ngeoTrustHtmlAuto"\n        ></td>\n      </tr>\n    </tbody>\n  </table>\n</div>')}]),K9.value("ngeoGridTemplateUrl",(e=>{const t=e.ngeoGridTemplateurl;return void 0!==t?t:"ngeo/grid"})),J9.$inject=["$attrs","ngeoGridTemplateUrl"];const Z9={controller:Q9,bindings:{configuration:"=ngeoGridConfiguration"},templateUrl:J9};function Q9(e){this.scope_=e,this.configuration=null,this.selectedRows={},this.sortedBy="",this.sortAscending=!0,this.floatTheadConfig={scrollContainer:function(e){return e.closest(".ngeo-grid-table-container")}}}K9.component("ngeoGrid",Z9),Q9.prototype.$onInit=function(){if(!this.configuration)throw new Error("Missing configuration");this.selectedRows=this.configuration.selectedRows},Q9.prototype.sort=function(e){if(!this.configuration)throw new Error("Missing configuration");if(!this.configuration.data)throw new Error("Missing configuration.data");this.sortAscending=this.sortedBy!==e||!this.sortAscending,this.sortedBy=e;const t=this.sortAscending?1:-1;this.configuration.data.sort(((n,r)=>n[e]?r[e]?n[e]>r[e]?t:-t:-1:1))},Q9.prototype.clickRow=function(e,t){const n=zz(t),r=Hz(t);this.clickRow_(e,n,r)},Q9.prototype.clickRow_=function(e,t,n){if(!this.configuration)throw new Error("Missing configuration");if(t&&!n)this.selectRange_(e);else if(!t&&n)this.configuration.toggleRow(e);else{const t=this.configuration.isRowSelected(e);this.configuration.unselectAll(),t||this.configuration.selectRow(e)}},Q9.prototype.selectRange_=function(e){if(!this.configuration)throw new Error("Missing configuration");if(!this.configuration.data)throw new Error("Missing configuration.data");const t=V9(e),n=this.configuration.data;if(this.configuration.isRowSelected(e))return;let r=0;const i=[];for(let e=0;e<n.length;e++){const o=n[e];t===V9(o)?r=e:this.configuration.isRowSelected(o)&&i.push(e)}0==i.length&&this.configuration.selectRow(e);let o=1/0,s=i[0];for(const e of i){const t=e,n=Math.abs(t-r);o>n&&(o=n,s=t)}const a=r>s?r:s;for(let e=r<s?r:s;e<=a;e++)this.configuration.selectRow(n[e])},Q9.prototype.preventTextSelection=function(e){const t=zz(e),n=Hz(e);(t||n)&&e.preventDefault()},K9.controller("ngeoGridController",Q9);const eee=K9,tee="add",nee="remove",ree="replace";class iee{constructor(e,t,n,r,i,o){const s=o;this.dataSources_=e.collection,this.featureHelper_=n,this.gmfDataSourcesHelper_=t,this.ngeoQuerent_=r,this.result_=i,this.limit_=void 0!==s.limit?s.limit:50,this.queryCountFirst_=void 0===s.queryCountFirst||s.queryCountFirst,this.tolerance_,matchMedia("(pointer: coarse)").matches?this.tolerance_=void 0!==s.toleranceTouch?s.toleranceTouch:10:this.tolerance_=void 0!==s.tolerance?s.tolerance:3,this.bboxAsGETParam_=s.bboxAsGETParam||!1,this.dataSourceNames_={},this.cleared_=!1}issue(e){const t=e.action?e.action:ree;let n;this.clear(t!==ree),void 0===e.dataSources&&void 0===e.queryableDataSources&&(n=this.ngeoQuerent_.getQueryableDataSources(this.dataSources_.getArray(),e.map));const r=void 0!==e.limit?e.limit:this.limit_;return Object.assign(e,{queryableDataSources:n,limit:r,tolerance:this.tolerance_,bboxAsGETParam:this.bboxAsGETParam_,queryCountFirst:this.queryCountFirst_}),this.result_.pending=!0,this.ngeoQuerent_.issue(e).then(this.handleResult_.bind(this,t))}clear(e=!1){if(!this.cleared_){this.result_.total=0;for(const t of this.result_.sources)e?this.result_.total+=t.features.length:(t.features.length=0,delete t.totalFeatureCount),t.pending=!1,t.tooManyResults=!1;e||(this.result_.sources.length=0),this.result_.pending=!1,this.cleared_=!0}}handleResult_(e,t){let n=e===ree?0:this.result_.total;for(const r in t){const i=Number(r),o=this.gmfDataSourcesHelper_.getDataSource(i);if(!o)throw new Error("Missing dataSource");let s=o.name;console.assert(o);const a=t[i],l=a.features,c=a.featuresCount,u=!0===a.tooManyFeatures,h=a.totalFeatureCount,d=a.requestPartners,f={};l.forEach((e=>{const t=e.get("ngeo_feature_type_");if(f[t]||(f[t]=[]),o.attributes&&o.attributes.length){const t=e.getProperties(),n={};o.attributes.forEach((r=>{r.alias?(n[r.alias]=t[r.name],e.unset(r.name,!0)):n[r.name]=t[r.name]})),e.setProperties(n,!0)}f[t].push(e)}));for(const t in f){s=t||s;const r=f[t];let a=!1;if(e===ree)a=!0;else{let t;for(const e of this.result_.sources)if(e.id===i&&e.label===s){t=e;break}if(t)for(const i of r){const r=this.featureHelper_.findFeatureIndexByFid(t.features,`${i.getId()}`);-1===r?e===tee&&(t.features.push(i),n+=1):e===nee&&(t.features.splice(r,1),n-=1)}else e===tee&&(a=!0)}a&&(this.result_.sources.push({features:r,id:i,label:s,featuresCount:c,pending:!1,tooManyResults:u,totalFeatureCount:h,identifierAttributeField:o.identifierAttribute,requestPartners:d}),n+=l.length)}}this.result_.total=n,this.result_.pending=!1,this.cleared_=!1}}iee.$inject=["ngeoDataSources","gmfDataSourcesHelper","ngeoFeatureHelper","ngeoQuerent","ngeoQueryResult","ngeoQueryOptions"];const oee=t().module("ngeoMapQuerent",[F0.name,P6.name,L6.name,g3.name]);oee.service("ngeoMapQuerent",iee),oee.value("ngeoQueryResult",{sources:[],total:0,pending:!1});const see=oee,aee=`<div class="gmf-displayquerygrid panel" ng-show="ctrl.active">\n  <div class="close" ng-click="ctrl.clear()">&times;</div>\n\n  <ul class="nav nav-pills" role="tablist">\n    <li\n      class="nav-item"\n      ng-repeat="gridSource in ctrl.getGridSources() track by gridSource.source.label"\n      role="presentation"\n      ng-click="ctrl.selectTab(gridSource)"\n    >\n      <a\n        class="nav-link"\n        href="#{{ctrl.escapeValue(gridSource.source.label)}}"\n        ng-class="{'active' : ctrl.isSelected(gridSource)}"\n        data-target="#{{ctrl.escapeValue(gridSource.source.label)}}"\n        aria-controls="{{ctrl.escapeValue(gridSource.source.label)}}"\n        role="tab"\n        data-toggle="tab"\n      >\n        <span> {{gridSource.source.label | translate}} ({{gridSource.source.features.length}}) </span>\n      </a>\n    </li>\n  </ul>\n\n  <div class="tab-content">\n    <div\n      ng-repeat="gridSource in ctrl.getGridSources() track by gridSource.source.label"\n      role="tabpanel"\n      class="tab-pane"\n      ng-class="{'active' : ctrl.isSelected(gridSource)}"\n      id="{{ctrl.escapeValue(gridSource.source.label)}}"\n    >\n      <ngeo-grid ngeo-grid-configuration="gridSource.configuration"> </ngeo-grid>\n    </div>\n    <div class="container-fluid">\n      <div\n        ng-show="!ctrl.pending && ctrl.getActiveGridSource() && ctrl.getActiveGridSource().configuration !== null"\n        class="row"\n      >\n        <div class="col-md-5 my-auto">\n          <span ng-if="ctrl.hasOneWithTooManyResults_()" class="gmf-query-grid-too-many text-warning"\n            ><span ng-if="ctrl.sumOfAvailableResults >= 0">{{'Only' | translate}} {{ctrl.sumOfFeatures}} {{'of' | translate}} {{ctrl.sumOfAvailableResults}}\n            {{'results displayed, as the maximum number is reached. Please refine your query.' | translate\n            }}</span\n          ><span ng-if="ctrl.sumOfAvailableResults < 0">{{'One of the queries returns the maximum number of results, but probably not all the  results are displayed. Please refine your query.' | translate}}\n          </span\n          ></span\n          >\n        </div>\n        <div class="col-md-7" class="pull-right">\n          <ul class="nav justify-content-end">\n            <li class="ng-hide" ng-show="ctrl.isOneSelected()">\n              <div class="btn btn-sm ng-binding">\n                {{ctrl.getSelectedRowCount()}} <span translate>selected element(s)</span>\n              </div>\n            </li>\n\n            <li ng-show="ctrl.isOneSelected()" class="ng-hide">\n              <button\n                class="btn btn-link btn-sm"\n                title="{{'Zoom to selection' | translate}}"\n                ng-click="ctrl.zoomToSelection()"\n              >\n                <i class="fa-solid fa-magnifying-glass-plus"></i> <span translate>Zoom to</span>\n              </button>\n            </li>\n\n            <li ng-show="ctrl.isOneSelected()" class="ng-hide">\n              <button\n                class="btn btn-link btn-sm"\n                title="{{'Export selection as CSV' | translate}}"\n                ng-click="ctrl.downloadCsv()"\n              >\n                <i class="fa-solid fa-download"></i> <span translate>Export as CSV</span>\n              </button>\n            </li>\n\n            <li class="dropdown">\n              <button\n                type="button"\n                class="dropup btn btn-default btn-sm dropdown-toggle"\n                data-toggle="dropdown"\n                aria-haspopup="true"\n                aria-expanded="false"\n              >\n                <span translate>Select</span>\n              </button>\n              <ul class="dropdown-menu" aria-labelledby="dLabel">\n                <li>\n                  <a href="" ng-click="ctrl.selectAll()" translate>All</a>\n                </li>\n\n                <li>\n                  <a href="" ng-click="ctrl.unselectAll()" translate>None</a>\n                </li>\n\n                <li>\n                  <a href="" ng-click="ctrl.invertSelection()" translate>Reverse selection</a>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="ctrl.pending" class="spinner-grid">\n      <i class="fa-solid fa-spin"\n        >${ks("3rem")}</i>\n    </div>\n  </div>\n</div>`;hee.$inject=["$scope","ngeoQueryResult","ngeoMapQuerent","$timeout","ngeoQueryOptions","gmfCsvFilename","$element","gmfDisplayQueryGridOptions"];const lee=t().module("gmfQueryGridComponent",[eee.name,see.name]);function cee(e,t,n){return n(e,t)}lee.value("gmfDisplayquerygridTemplateUrl",((e,t)=>{const n=t.gmfDisplayquerygridTemplateurl;return void 0!==n?n:"gmf/query/gridComponent"})),lee.run(["$templateCache",e=>{e.put("gmf/query/gridComponent",aee)}]),cee.$inject=["$element","$attrs","gmfDisplayquerygridTemplateUrl"];const uee={controller:"GmfDisplayquerygridController as ctrl",bindings:{active:"=?gmfDisplayquerygridActive",getMapFn:"&gmfDisplayquerygridMap"},templateUrl:cee};function hee(e,t,n,r,i,o,s,a){this.options=a,this.$scope_=e,this.$timeout_=r,this.ngeoQueryResult=t,this.ngeoMapQuerent_=n,this.ngeoCsvDownload_=Xz,this.$element_=s,this.maxResults=void 0!==i.limit?i.limit:50,this.active=!1,this.pending=!1,this.gridSources={},this.loadedGridSources=[],this.selectedTab=null,this.featuresForSources_={},this.features_=new QY,this.highlightFeatures_=new QY,this.filename_=o,this.map_=null,this.sumOfFeatures=0,this.sumOfAvailableResults=0,this.$scope_.$watchCollection((()=>t),((e,n)=>{t.pending&&(this.active=!0,this.pending=!0,Lv.openFooterPanel("queryresult",{state:!0,noError:!0})),e!==n&&this.updateData_()})),this.unregisterSelectWatcher_=null,this.getMapFn=null}lee.component("gmfDisplayquerygrid",uee),hee.prototype.$onInit=function(){if(!this.getMapFn)throw new Error("Missing getMapFn");const e=vU.getFeatureOverlay();e.setFeatures(this.features_),e.setStyle(i7(this.options.featuresStyle));const t=vU.getFeatureOverlay();t.setFeatures(this.highlightFeatures_);const n=i7(this.options.selectedFeatureStyle);t.setStyle(n);const r=this.getMapFn;if(r){const e=r();if(!(e instanceof LB))throw new Error("Wrong map type");this.map_=e}},hee.prototype.getGridSources=function(){return this.loadedGridSources.map((e=>this.gridSources[e]))},hee.prototype.updateData_=function(){if((this.ngeoQueryResult.pending||0===this.ngeoQueryResult.total)&&!this.hasOneWithTooManyResults_()){const e=this.active;return this.clear(),void(e&&(this.active=this.ngeoQueryResult.pending,Lv.openFooterPanel("queryresult",{state:this.active,noError:!0}),this.pending=this.ngeoQueryResult.pending))}this.sumOfAvailableResults=0,this.sumOfFeatures=0;const e=[];this.ngeoQueryResult.sources.forEach((t=>{e.includes(t.label)||(this.sumOfFeatures+=t.features.length),t.requestPartners&&t.requestPartners.some((t=>e.includes(t)))||(t.totalFeatureCount<0||this.sumOfAvailableResults<0?this.sumOfAvailableResults=-1:this.sumOfAvailableResults+=t.totalFeatureCount),e.push(t.label)})),this.active=!0,Lv.openFooterPanel("queryresult",{state:!0}),this.pending=!1;let t=this.ngeoQueryResult.sources;if(Object.keys(this.options.mergeTabs||{}).length>0&&(t=this.getMergedSources_(t)),t.forEach((e=>{if(e.tooManyResults&&0===e.features.length)this.makeGrid_(null,e);else{e.id=this.escapeValue(e.id);e.features.length>0&&this.collectData_(e)}})),0===this.loadedGridSources.length)return this.active=!1,void Lv.openFooterPanel("queryresult",{state:!1,noError:!0});null!==this.selectedTab&&`${this.selectedTab}`in this.gridSources||this.$timeout_((()=>{const e=this.loadedGridSources[0];this.selectTab(this.gridSources[e])}),0)},hee.prototype.hasOneWithTooManyResults_=function(){return this.ngeoQueryResult.sources.some((e=>e.tooManyResults))},hee.prototype.escapeValue=function(e){if("number"==typeof e)return e;{const t=/[-[\]/{}()*+?.\\^$ |]/g;return null!==e.match(t)?e.replace(t,"_"):e}},hee.prototype.isSelected=function(e){return this.selectedTab===e.source.label},hee.prototype.getMergedSources_=function(e){const t=[],n={};e.forEach((e=>{null===this.getMergedSource_(e,n)&&t.push(e)}));for(const e in n)t.push(n[e]);return t},hee.prototype.getMergedSource_=function(e,t){let n=null;for(const t in this.options.mergeTabs||{}){if(this.options.mergeTabs[t].some((t=>t==e.label))){n=t;break}}if(null===n)return null;let r,i=!0;return n in t?(r=t[n],e.requestPartners&&(i=!e.requestPartners.some((e=>r.mergeComposants.includes(e)))),r.mergeComposants.push(e.label)):(r={features:[],id:n,label:n,featuresCount:0,pending:!1,tooManyResults:!1,mergeComposants:[e.label]},t[n]=r),e.features.forEach((e=>{r.features.push(e)})),r.tooManyResults=r.tooManyResults||e.tooManyResults,i&&(void 0!==e.totalFeatureCount&&(r.totalFeatureCount=void 0!==r.totalFeatureCount?r.totalFeatureCount+e.totalFeatureCount:e.totalFeatureCount),r.featuresCount+=e.featuresCount),r},hee.prototype.collectData_=function(e){const t=e.features,n=[],r=[],i={};let o,s;if(t.forEach((e=>{o=e.getProperties(),void 0!==o&&(s=e.getGeometryName(),r.includes(s)||r.push(s),n.push(o),i[V9(o)]=e)})),this.cleanProperties_(n,r),n.length>0){this.makeGrid_(n,e)&&(this.featuresForSources_[`${e.label}`]=i)}},hee.prototype.cleanProperties_=function(e,t){e.forEach((e=>{t.forEach((t=>{delete e[t]})),delete e.boundedBy,delete e.ngeo_feature_type_})),!0===this.options.removeEmptyColumns&&this.removeEmptyColumnsFn_(e)},hee.prototype.removeEmptyColumnsFn_=function(e){const t=[];let n,r,i;for(r in e[0])for(n=0;n<e.length;n++)if(void 0!==e[n][r]){t.push(r);break}e.forEach((e=>{for(r in i=[],e)t.includes(r)||i.push(r);i.forEach((t=>{delete e[t]}))}))},hee.prototype.makeGrid_=function(e,t){const n=`${t.label}`;let r=null;return(null===e||(r=this.getGridConfiguration_(e),null!==r))&&(this.loadedGridSources.includes(n)||this.loadedGridSources.push(n),this.gridSources[n]={source:t},r&&(this.gridSources[n].configuration=r),!0)},hee.prototype.getGridConfiguration_=function(e){if(!e.length)throw new Error("Missing data");const t={};Object.assign(t,e[0]),delete t.ol_uid;const n=Object.keys(t),r=[];return n.forEach((e=>{r.push({name:e})})),r.length>0?new X9(e,r):null},hee.prototype.getActiveGridSource=function(){return null===this.selectedTab?null:this.gridSources[`${this.selectedTab}`]},hee.prototype.clear=function(){this.active=!1,Lv.openFooterPanel("queryresult",{state:!1,noError:!0}),this.pending=!1,this.gridSources={},this.loadedGridSources=[],this.selectedTab=null,this.tooManyResults=!1,this.features_.clear(),this.highlightFeatures_.clear(),this.ngeoMapQuerent_.clear(),this.featuresForSources_={},this.unregisterSelectWatcher_&&this.unregisterSelectWatcher_()},hee.prototype.selectTab=function(e){const t=e.source;this.selectedTab=t.label,this.unregisterSelectWatcher_&&(this.unregisterSelectWatcher_(),this.unregisterSelectWatcher_=null),void 0!==e.configuration&&(this.unregisterSelectWatcher_=this.$scope_.$watchCollection((()=>e.configuration.selectedRows),((e,t)=>{Object.keys(e)!==Object.keys(t)&&this.onSelectionChanged_()}))),this.updateFeatures_(e),this.reflowGrid_()},hee.prototype.reflowGrid_=function(){const e=this.escapeValue(this.selectedTab||""),t=this.$element_.find(`div.tab-pane#${e}`);t.removeClass("active").addClass("active"),this.$timeout_((()=>{t.find("div.ngeo-grid-table-container table").trigger("reflow")}))},hee.prototype.onSelectionChanged_=function(){if(null===this.selectedTab)return;const e=this.gridSources[`${this.selectedTab}`];this.updateFeatures_(e)},hee.prototype.updateFeatures_=function(e){if(this.features_.clear(),this.highlightFeatures_.clear(),!e.configuration)return;const t=`${e.source.label}`,n=this.featuresForSources_[t],r=e.configuration.selectedRows;for(const e in n){const t=n[e];e in r?this.highlightFeatures_.push(t):this.features_.push(t)}},hee.prototype.isOneSelected=function(){const e=this.getActiveGridSource();return null!==e&&null!==e.configuration&&e.configuration.getSelectedCount()>0},hee.prototype.getSelectedRowCount=function(){const e=this.getActiveGridSource();return null===e||null===e.configuration?0:e.configuration.getSelectedCount()},hee.prototype.selectAll=function(){const e=this.getActiveGridSource();null!==e&&e.configuration.selectAll()},hee.prototype.unselectAll=function(){const e=this.getActiveGridSource();null!==e&&e.configuration.unselectAll()},hee.prototype.invertSelection=function(){const e=this.getActiveGridSource();null!==e&&e.configuration.invertSelection()},hee.prototype.zoomToSelection=function(){if(!this.map_)throw new Error("Missing map");if(null!==this.getActiveGridSource()){const e=[1/0,1/0,-1/0,-1/0];this.highlightFeatures_.forEach((t=>{const n=t.getGeometry();if(!n)throw new Error("Missing geometry");oP(e,n.getExtent())}));const t=this.map_.getSize();if(!t)throw new Error("Missing size");this.map_.getView().fit(e,{size:t,maxZoom:this.options.maxRecenterZoom})}},hee.prototype.downloadCsv=function(){const e=this.getActiveGridSource();if(null!==e){const t=e.configuration.columnDefs;if(!t)throw new Error("Missing columnDefs");const n=e.configuration.getSelectedRows();this.ngeoCsvDownload_.startDownload(n,t,this.filename_)}},lee.controller("GmfDisplayquerygridController",hee);const dee=lee,fee=t().module("ngeoMiscSwipe",[]);function pee(e,n,r){fee.directive(e,["$parse","$verticalSwipe",function(i,o){return function(s,a,l){const c=i(l[e]);let u,h;const d=["touch"];t().isDefined(l.ngeoSwipeDisableMouse)&&d.push("mouse"),o.bind(a,{start:function(e,t){u=e,h=!0},cancel:function(e){h=!1},end:function(e,t){(function(e){if(!u)return!1;const t=(e.y-u.y)*n,r=Math.abs(e.x-u.x);return h&&r<75&&t>0&&t>30&&r/t<.3})(e)&&s.$apply((()=>{a.triggerHandler(r),c(s,{$event:t})}))}},d)}}])}fee.factory("$verticalSwipe",[function(){const e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function n(e){let t;const n=e.originalEvent;return t=n.changedTouches&&n.changedTouches.length>0?n.changedTouches[0]:e.originalEvent,{x:t.clientX,y:t.clientY}}function r(n,r){const i=[];return t().forEach(n,(t=>{const n=e[t][r];n&&i.push(n)})),i.join(" ")}return{bind(e,t,i){let o,s,a,l,c=!1;i=i||["mouse","touch","pointer"],e.on(r(i,"start"),(e=>{a=n(e),c=!0,o=0,s=0,l=a,t.start&&t.start(a,e)}));const u=r(i,"cancel");u&&e.on(u,(e=>{c=!1,t.cancel&&t.cancel(e)})),e.on(r(i,"move"),(e=>{if(!c)return;if(!a)return;const r=n(e);return o+=Math.abs(r.x-l.x),s+=Math.abs(r.y-l.y),l=r,o<10&&s<10?void 0:o>s?(c=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(r,e)))})),e.on(r(i,"end"),(e=>{c&&(c=!1,t.end&&t.end(n(e),e))}))}}}]),pee("ngeoSwipeDown",1,"swipedown"),pee("ngeoSwipeUp",-1,"swipeup");const mee=fee;i(6652),i(6751);const gee=`<div class="spinner-window" ng-if="ctrl.isLoading">\n  <i class="fa-solid fa-spin"\n    >${ks("3rem")}</i>\n</div>\n\n<div\n  class="gmf-displayquerywindow"\n  ng-class="{'desktop': ctrl.desktop, 'mobile': !ctrl.desktop}"\n  ng-show="ctrl.open"\n>\n  <button\n    class="collapse-button"\n    type="button"\n    ng-show="::!ctrl.desktop"\n    ngeo-swipe-up="ctrl.collapsed = false"\n    ngeo-swipe-down="ctrl.collapsed = true"\n    ngeo-swipe-disable-mouse\n    ng-click="ctrl.collapsed = !ctrl.collapsed"\n    ng-class="[ctrl.collapsed ? 'collapse-button-up' : 'collapse-button-down']"\n  ></button>\n\n  <div\n    class="windowcontainer"\n    ng-swipe-disable-mouse\n    ng-swipe-left="ctrl.next()"\n    ng-swipe-right="ctrl.previous()"\n  >\n    <button type="button" class="btn fa-solid fa-xmark close" ng-click="ctrl.close()"></button>\n\n    <div\n      class="animation-container"\n      ng-class="[ctrl.collapsed ? '' : 'animation-container-detailed', ctrl.isNext ? 'next' : 'previous']"\n    >\n      <div ng-animate-swap="ctrl.animate" class="slide-animation gmf-animatable">\n        <div class="header ui-draggable-handle">\n          <p class="title">{{ctrl.source.label | translate}}</p>\n          <p class="subtitle">{{ctrl.getFeatureValues()[ctrl.source.identifierAttributeField]}}</p>\n        </div>\n\n        <div class="details">\n          <table>\n            <tr\n              ng-repeat="(key, value) in ctrl.getFeatureValues()"\n              ng-if="value !== undefined || ctrl.options.displayNullAttributes == true"\n            >\n              <td class="details-key" ng-bind-html="key | translate | ngeoTrustHtml"></td>\n              <td class="details-value" ng-bind-html="value | removeCDATA | ngeoTrustHtmlAuto"></td>\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n\n    <div class="navigate">\n      <div class="placeholder">\n        <button\n          type="button"\n          class="previous btn"\n          ng-disabled="ctrl.isFirst()"\n          ng-show="ctrl.getResultLength() > 1"\n          ng-click="ctrl.previous()"\n        >\n          <span ng-show="::ctrl.desktop">{{'Prev.' | translate}}</span>\n        </button>\n      </div>\n\n      <div class="results">\n        <span ng-show="::!ctrl.desktop">{{'Result' | translate}}</span>\n        <span>{{ctrl.currentResult + 1}}</span>\n        <span>/</span>\n        <span>{{ctrl.getResultLength()}}</span>\n\n        <div ng-show="::ctrl.desktop" class="dropup">\n          <button\n            type="button"\n            class="btn btn-default dropdown-toggle"\n            data-toggle="dropdown"\n            aria-expanded="false"\n          >\n            <span class="fa-solid fa-filter"></span>\n          </button>\n\n          <ul class="dropdown-menu dropdown-menu-right" role="menu">\n            <li>\n              <a href="#" ng-click="ctrl.setSelectedSource(null)">\n                <i class="fa-solid fa-fw" ng-class="{'fa-check': ctrl.selectedSource === null}"> </i>\n                <span>{{'All layers' | translate}} ({{ctrl.ngeoQueryResult.total}})</span>\n              </a>\n            </li>\n\n            <li role="separator" class="divider"></li>\n\n            <li\n              ng-repeat-start="source in ctrl.ngeoQueryResult.sources"\n              ng-repeat-end\n              ng-class="{'disabled': source.features.length <= 0}"\n            >\n              <a href="#" ng-click="ctrl.setSelectedSource(source)">\n                <i class="fa-solid fa-fw" ng-class="{'fa-check': ctrl.selectedSource === source}"> </i>\n                <span>{{source.label | translate}} ({{source.features.length}})</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <div ng-show="::ctrl.desktop" class="dropup">\n          <button\n            type="button"\n            class="btn btn-default dropdown-toggle"\n            data-toggle="dropdown"\n            aria-expanded="false"\n          >\n            <span class="fa-solid fa-download"></span>\n          </button>\n\n          <ul class="dropdown-menu dropdown-menu-right" role="menu">\n            <li\n              ng-repeat-start="source in ctrl.ngeoQueryResult.sources"\n              ng-repeat-end\n              ng-class="{'disabled': source.features.length <= 0}"\n            >\n              <a href="#" ng-click="ctrl.downloadCSV(source)">\n                <span>{{'Export' | translate}} {{source.label | translate}}</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="placeholder">\n        <button\n          type="button"\n          class="next btn"\n          ng-disabled="ctrl.isLast()"\n          ng-show="ctrl.getResultLength() > 1"\n          ng-click="ctrl.next()"\n        >\n          <span ng-show="::ctrl.desktop">{{'Next' | translate}}</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>`;vee.$inject=["$element","$scope","ngeoQueryResult","ngeoMapQuerent","gmfCsvFilename","gmfDisplayQueryWindowOptions"];const _ee=t().module("gmfQueryWindowComponent",[g3.name,mee.name,see.name,"ngAnimate","ngTouch"]);function yee(e,t,n){return n(e,t)}_ee.config(["$animateProvider",function(e){e.classNameFilter(/gmf-animatable/)}]),_ee.value("gmfDisplayquerywindowTemplateUrl",((e,t)=>{const n=t.gmfDisplayquerywindowTemplateurl;return void 0!==n?n:"gmf/query/windowComponent"})),_ee.run(["$templateCache",e=>{e.put("gmf/query/windowComponent",gee)}]),yee.$inject=["$element","$attrs","gmfDisplayquerywindowTemplateUrl"];const bee={controller:"GmfDisplayquerywindowController as ctrl",bindings:{draggableContainment:"<?gmfDisplayquerywindowDraggableContainment",desktop:"=gmfDisplayquerywindowDesktop"},templateUrl:yee};function vee(e,t,n,r,i,o){this.options=o,this.draggableContainment="",this.desktop=!1,this.collapsed=!1,this.ngeoQueryResult={sources:[],total:0,pending:!1},this.ngeoMapQuerent_=r,this.ngeoCsvDownload_=Xz,this.filename_=i,this.selectedSource=null,this.features_=new QY,this.highlightFeatures_=new QY,this.source=null,this.feature=null,this.currentResult=-1,this.isNext=!0,this.animate=0,this.open=!1,this.element_=e,this.isLoading=!1,t.$watchCollection((()=>n),((e,t)=>{this.isLoading=e.pending,this.updateQueryResult_(e),e.total>0?this.show():t!==e&&(this.open=!1,this.clear())}))}_ee.component("gmfDisplayquerywindow",bee),vee.prototype.$onInit=function(){void 0!==this.options.collapsed&&(this.collapsed=this.options.collapsed),this.draggableContainment=this.draggableContainment||"document";const e=vU.getFeatureOverlay();e.setFeatures(this.features_),e.setStyle(i7(this.options.featuresStyle));const t=vU.getFeatureOverlay();t.setFeatures(this.highlightFeatures_),t.setStyle(i7(this.options.selectedFeatureStyle));const n=this.element_.find(".gmf-displayquerywindow .windowcontainer");this.desktop&&(n.draggable({handle:".header",containment:this.draggableContainment}),n.resizable({handles:"all",minHeight:240,minWidth:270}))},vee.prototype.show=function(){this.clear(),this.updateFeatures_()},vee.prototype.updateFeatures_=function(){this.setCurrentResult_(0,!1),null!==this.source&&(this.collectFeatures_(),this.highlightCurrentFeature_(),this.open=!0)},vee.prototype.setCurrentResult_=function(e,t){let n=!1;if(e!==this.currentResult){let r,i,o;const s=this.feature,a=this.ngeoQueryResult.sources;for(this.currentResult=e,r=0;r<a.length;r++)if(i=a[r],null===this.selectedSource||this.selectedSource===i){if(o=i.features,!(e>=o.length)){this.source=i,this.feature=i.features[e],n=!0;break}e-=o.length}t&&this.highlightCurrentFeature_(s||void 0)}return n},vee.prototype.previous=function(){let e=this.currentResult-1;e<0&&(e=this.getResultLength()-1);this.setCurrentResult_(e,!0)&&this.animate_(!1)},vee.prototype.next=function(){let e=this.currentResult+1;e>this.getResultLength()-1&&(e=0);this.setCurrentResult_(e,!0)&&this.animate_(!0)},vee.prototype.updateQueryResult_=function(e){this.ngeoQueryResult.total=0,this.ngeoQueryResult.sources.length=0;for(const t of e.sources)t.features=t.features.filter((e=>{if(!e)throw new Error("Missing feature");return!an(p3(e))})),this.ngeoQueryResult.sources.push(t),this.ngeoQueryResult.total+=t.features.length},vee.prototype.getResultLength=function(){return null===this.selectedSource?this.ngeoQueryResult.total:this.selectedSource.features.length},vee.prototype.isFirst=function(){return 0==this.currentResult},vee.prototype.isLast=function(){return this.currentResult==this.getResultLength()-1},vee.prototype.getFeatureValues=function(){return this.feature?p3(this.feature):null},vee.prototype.animate_=function(e){this.isNext=e,this.animate++},vee.prototype.collectFeatures_=function(){const e=this.ngeoQueryResult.sources;this.features_.clear();for(const t of e){if(null!==this.selectedSource&&this.selectedSource!==t)continue;const e=t.features;for(const t of e)this.features_.push(t)}},vee.prototype.highlightCurrentFeature_=function(e){if(!this.feature)throw new Error("Missing feature");this.highlightFeatures_.clear(),this.features_.remove(this.feature),this.highlightFeatures_.push(this.feature),void 0!==e&&this.features_.push(e)},vee.prototype.close=function(){this.open=!1,this.clear(),this.ngeoMapQuerent_.clear()},vee.prototype.clear=function(){this.feature=null,this.source=null,this.currentResult=-1,this.features_.clear(),this.highlightFeatures_.clear(),this.selectedSource=null},vee.prototype.setSelectedSource=function(e){null!==e&&e.features.length<=0||(this.clear(),this.selectedSource=e,this.updateFeatures_())},vee.prototype.downloadCSV=function(e){const t=this.getCSVData_(e),n=this.getCSVHeaderDefinition_(t);n&&this.ngeoCsvDownload_.startDownload(t,n,this.filename_)},vee.prototype.getCSVData_=function(e){if(e&&!(e.features.length<=0))return e.features.map((e=>p3(e)))},vee.prototype.getCSVHeaderDefinition_=function(e){if(!e)return;const t=new Set;e.forEach((e=>{Object.keys(e).filter((t=>void 0!==e[t])).forEach((e=>t.add(e)))}));const n=[];return t.forEach((e=>n.push({name:e}))),n},_ee.controller("GmfDisplayquerywindowController",vee);const wee=_ee,xee=t().module("gmfQueryExtraModule",[dee.name,wee.name]);const Mee=t().module("ngeoSearchDirective",[]);Mee.directive("ngeoSearch",(function(){return{restrict:"A",link:(e,t,n)=>{const r=n.ngeoSearch,i=e.$eval(r),o=n.ngeoSearchDatasets,s=e.$eval(o);t.typeahead(i,s);const a=n.ngeoSearchListeners,l=function(e){let t;t=void 0===e?{open(){},close(){},cursorchange(){},datasetsempty(){},select(){},autocomplete(){},change(){}}:{open:void 0!==e.open?e.open:()=>{},close:void 0!==e.close?e.close:()=>{},cursorchange:void 0!==e.cursorchange?e.cursorchange:()=>{},datasetsempty:void 0!==e.datasetsempty?e.datasetsempty:()=>{},select:void 0!==e.select?e.select:()=>{},autocomplete:void 0!==e.autocomplete?e.autocomplete:()=>{},change:void 0!==e.change?e.change:()=>{}};return t}(e.$eval(a));t.on("typeahead:open",(()=>{e.$apply((()=>{l.open()}))})),t.on("typeahead:close",(()=>{e.$apply((()=>{l.close()}))})),t.on("typeahead:cursorchange",((t,n,r)=>{e.$apply((()=>{l.cursorchange(t,n,r)}))})),t.on("typeahead:select",((t,n,r)=>{e.$apply((()=>{l.select(t,n,r)}))})),t.on("typeahead:autocomplete",((t,n,r)=>{e.$apply((()=>{l.autocomplete(t,n,r)}))})),t.on("typeahead:asyncreceive",((n,r,i)=>{e.$apply((()=>{const e=t.data("tt-typeahead").menu._allDatasetsEmpty();l.datasetsempty(n,i,e)}))})),t.on("typeahead:change",(n=>{e.$apply((()=>{const e=t.data("tt-typeahead").input.query;l.change(n,e)}))})),t.on("typeahead:asyncrequest",(()=>{t.parent().addClass("search-loading")})),t.on("typeahead:asynccancel typeahead:asyncreceive",(()=>{setTimeout((()=>{t.parent().removeClass("search-loading")}),50)}))}}}));const See=Mee;const kee=t().module("ngeoSearchCreategeojsonbloodhound",[]);kee.value("ngeoSearchCreateGeoJSONBloodhound",(function(e,t,n,r,i,o){const s=new $B,a={remote:{url:e,prepare:(e,t)=>(t.url&&(t.url=t.url.replace("%QUERY",e)),t),transform(e){let i=e;return void 0!==t&&(i={type:"FeatureCollection",features:i.features.filter(t)}),s.readFeatures(i,{featureProjection:n,dataProjection:r})}},datumTokenizer:e=>[],queryTokenizer:Bloodhound.tokenizers.whitespace},l=Object.assign({},i||{datumTokenizer:e=>[],queryTokenizer:Bloodhound.tokenizers.whitespace}),c=Object.assign({},o||{});return l.remote&&(Object.assign(c,l.remote),delete l.remote),Object.assign(a,l),Object.assign(a.remote,c),new Bloodhound(a)}));const Tee=kee;const Lee=t().module("ngeoCreateLocationSearchBloodhound",[]);Lee.value("ngeoCreateLocationSearchBloodhound",(function(e){const t=e||{},n=pR("EPSG:21781"),r=t.targetProjection,i={remote:{url:"https://api3.geo.admin.ch/rest/services/api/SearchServer?type=locations&searchText=%QUERY",prepare:(e,n)=>(n.url&&(n.url=n.url.replace("%QUERY",e),void 0!==t.limit&&(n.url+=`&limit=${t.limit}`),void 0!==t.origins&&(n.url+=`&origins=${t.origins}`)),void 0!==t.prepare?t.prepare(e,n):n),transform:e=>{const t=e;if(Array.isArray(t))throw new Error("Wrong parsedResponse type");const i=t.results.map((e=>{const t=e.attrs,i=new VR([t.y,t.x]);let o=(e=>{const t=/BOX\((.*?) (.*?),(.*?) (.*?)\)/g.exec(e);return null!==t?[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])]:null})(t.geom_st_box2d);void 0!==r&&(i.transform(n,r),null!==o&&(o=SR(o,n,r))),t.geometry=i,t.bbox=o;const s=t.label;t.label_no_html=(e=>e.replace(/<\/?[ib]>/g,""))(s),t.label_simple=(e=>{const t=/<b>(.*?)<\/b>/g.exec(e);return null!==t?t[1]:e})(s);const a=new L$(t);return a.setId(t.featureId),a}));return i}},datumTokenizer:e=>[],queryTokenizer:Bloodhound.tokenizers.whitespace},o=Object.assign({},t.options||{datumTokenizer:e=>[],queryTokenizer:Bloodhound.tokenizers.whitespace}),s=Object.assign({},t.remoteOptions||{});return o.remote&&(Object.assign(s,o.remote),delete o.remote),Object.assign(i,o),Object.assign(i.remote,s),new Bloodhound(i)}));const Cee=Lee;function Eee(e,t){this.$http_=e,this.url_=t;const n=this.url_.split("?");this.baseUrl_=n[0];const r=2==n.length?`?${n[1]}`:"";this.defaultParams_=Gz(r)}Eee.$inject=["$http","fulltextsearchUrl"],Eee.prototype.search=function(e,t){const n=Object.assign({},this.defaultParams_,t);n.query=e;const r=`${this.baseUrl_}?${qz(n)}`;return new Promise(((e,t)=>{this.$http_.get(r).then((t=>e(t.data))).catch(t)}))};const Dee=t().module("gmfSearchFulltextSearch",[]);Dee.service("gmfSearchFulltextSearch",Eee);const Aee=Dee;function $ee(){}$ee.prototype.stringToCoordinates=function(e){const t=/([\d.']+)[\s,]+([\d.']+)/.exec(e);if(t){const e=parseFloat(t[1].replace(/'/g,"")),n=parseFloat(t[2].replace(/'/g,""));if(!isNaN(e)&&!isNaN(n))return[e,n]}return null},$ee.prototype.getProjectionList=function(e){let t,n;const r=[];return e.forEach((e=>{t=e.toUpperCase(),"EPSG:"!=t.substr(0,5)&&(t=`EPSG:${t}`),n=pR(t),null!==n?r.push(n):console.error(`The projection ${t} is not defined in ol.proj.`)})),r},$ee.prototype.tryProjections=function(e,t,n,r){let i=null;return void 0===r&&(r=[n]),r.some((r=>{try{if(i=MR(e,r,n),X$(t,i))return!0}catch(e){}return i=null,!1})),i},$ee.prototype.tryProjectionsWithInversion=function(e,t,n,r){let i=this.tryProjections(e,t,n,r);return null===i&&(i=this.tryProjections(e.reverse(),t,n,r)),i};const Pee=t().module("ngeoAutoProjection",[]);Pee.service("ngeoAutoProjection",$ee);const Ree=Pee;Iee.$inject=["ngeoColorpickerTemplateUrl"];const Oee=t().module("ngeoColorpicker",[]);function Iee(e){return{restrict:"A",scope:{colors:"<?ngeoColorpicker",color:"=?ngeoColorpickerColor"},controller:"NgeoColorpickerController as ctrl",bindToController:!0,templateUrl:e}}Oee.value("ngeoColorpickerTemplateUrl",((e,t)=>{const n=t.ngeoColorpickerTemplateurl;return void 0!==n?n:"ngeo/misc/colorpickerComponent"})),Oee.run(["$templateCache",e=>{e.put("ngeo/misc/colorpickerComponent",'<table class="ngeo-colorpicker-palette">\n  <tr ng-repeat="colors in ::ctrl.colors">\n    <td\n      ng-repeat="color in ::colors"\n      ng-click="ctrl.setColor(color)"\n      ng-class="{\'ngeo-colorpicker-selected\': color == ctrl.color}"\n    >\n      <div ng-style="::{\'background-color\': color}"></div>\n    </td>\n  </tr>\n</table>')}]),Oee.directive("ngeoColorpicker",Iee);const Fee=[["#F4EB37","#CDDC39","#62AF44","#009D57","#0BA9CC","#4186F0","#3F5BA9","#7C3592","#A61B4A","#DB4436","#F8971B","#F4B400","#795046"],["#F9F7A6","#E6EEA3","#B7DBAB","#7CCFA9","#93D7E8","#9FC3FF","#A7B5D7","#C6A4CF","#D698AD","#EE9C96","#FAD199","#FFDD5E","#B29189"],["#ffffff","#CCCCCC","#777","#000000"]];function Nee(){this.colors=this.colors||Fee,this.color}Nee.prototype.setColor=function(e){this.color=e},Oee.controller("NgeoColorpickerController",Nee);const Yee=Oee,jee="popover",Hee="bs.popover",zee=`.${Hee}`,Uee=r().fn[jee],Wee="bs-popover",Gee=new RegExp(`(^|\\s)${Wee}\\S+`,"g"),qee={...nx.Default,placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Bee={...nx.DefaultType,content:"(string|element|function)"},Vee={HIDE:`hide${zee}`,HIDDEN:`hidden${zee}`,SHOW:`show${zee}`,SHOWN:`shown${zee}`,INSERTED:`inserted${zee}`,CLICK:`click${zee}`,FOCUSIN:`focusin${zee}`,FOCUSOUT:`focusout${zee}`,MOUSEENTER:`mouseenter${zee}`,MOUSELEAVE:`mouseleave${zee}`};class Xee extends nx{static get VERSION(){return"4.6.2"}static get Default(){return qee}static get NAME(){return jee}static get DATA_KEY(){return Hee}static get Event(){return Vee}static get EVENT_KEY(){return zee}static get DefaultType(){return Bee}isWithContent(){return this.getTitle()||this._getContent()}addAttachmentClass(e){r()(this.getTipElement()).addClass(`${Wee}-${e}`)}getTipElement(){return this.tip=this.tip||r()(this.config.template)[0],this.tip}setContent(){const e=r()(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());let t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")}_getContent(){return this.element.getAttribute("data-content")||this.config.content}_cleanTipClass(){const e=r()(this.getTipElement()),t=e.attr("class").match(Gee);null!==t&&t.length>0&&e.removeClass(t.join(""))}static _jQueryInterface(e){return this.each((function(){let t=r()(this).data(Hee);const n="object"==typeof e?e:null;if((t||!/dispose|hide/.test(e))&&(t||(t=new Xee(this,n),r()(this).data(Hee,t)),"string"==typeof e)){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}r().fn[jee]=Xee._jQueryInterface,r().fn[jee].Constructor=Xee,r().fn[jee].noConflict=()=>(r().fn[jee]=Uee,Xee._jQueryInterface);var Kee=i(6932);Zee.$inject=["$scope"];const Jee=t().module("ngeoPopover",[]);function Zee(e){this.shown=!1,this.anchorElm=null,this.bodyElm=null;const t=e=>{if(!this.anchorElm)throw new Error("Missing anchorElm");if(!this.bodyElm)throw new Error("Missing bodyElm");this.anchorElm[0]!==e.target&&this.bodyElm.parent()[0]!==e.target&&0===this.bodyElm.parent().find(e.target).length&&this.shown&&this.dismissPopover()};document.body.addEventListener("click",t),e.$on("$destroy",(()=>{document.body.removeEventListener("click",t)}))}Zee.prototype.dismissPopover=function(){if(!this.anchorElm)throw new Error("Missing anchorElm");this.shown=!1,this.anchorElm.popover("hide")},Jee.controller("NgeoPopoverController",Zee),Jee.directive("ngeoPopover",(function(){return{restrict:"A",scope:!0,controller:"NgeoPopoverController as popoverCtrl",link:(e,t,n,r)=>{if(!r)throw new Error("Missing ngeoPopoverCtrl");r.anchorElm.on("inserted.bs.popover",(()=>{r.bodyElm.show(),r.shown=!0})),r.anchorElm.popover({container:"body",html:!0,content:r.bodyElm,boundary:"viewport",placement:n.ngeoPopoverPlacement||"right"}),n.ngeoPopoverDismiss&&Kee(n.ngeoPopoverDismiss).on("scroll",(()=>{r.dismissPopover()})),e.$on("$destroy",(()=>{r.anchorElm.popover("dispose"),r.anchorElm.unbind("inserted.bs.popover"),r.anchorElm.unbind("hidden.bs.popover")}))}}})),Jee.directive("ngeoPopoverAnchor",(function(){return{restrict:"A",require:"^^ngeoPopover",link:(e,t,n,r)=>{if(!r)throw new Error("Missing ngeoPopoverCtrl");r.anchorElm=t}}})),Jee.directive("ngeoPopoverContent",(function(){return{restrict:"A",require:"^^ngeoPopover",link:(e,t,n,r)=>{if(!r)throw new Error("Missing ngeoPopoverCtrl");r.bodyElm=t,t.hide()}}}));const Qee=Jee;var ete=i(6932);const tte=t().module("gmfSearch",[L4.name,Aee.name,S0.name,Ree.name,Yee.name,Qee.name]);function nte(e,t,n){return n(e,t)}tte.run(["$templateCache",e=>{e.put("gmf/search",'<div class="gmf-search">\n  <input\n    type="text"\n    ng-attr-placeholder="{{$ctrl.placeholder|translate}}"\n    class="form-control"\n    ng-model="$ctrl.inputValue"\n    ngeo-search="$ctrl.options"\n    ngeo-search-datasets="$ctrl.datasets"\n    ngeo-search-listeners="$ctrl.listeners"\n  />\n  <span\n    class="gmf-clear-button ng-hide"\n    ng-hide="!$ctrl.clearButton || $ctrl.inputValue == \'\' && $ctrl.featureOverlay_.isEmpty()"\n    ng-click="$ctrl.onClearButton()"\n  >\n  </span>\n</div>\n<span ng-if="$ctrl.options.colorChooser">\n  <span ng-show="$ctrl.displayColorPicker" ngeo-popover ngeo-popover-placement="bottom">\n    <button\n      class="gmf-color-button fa-solid fa-droplet"\n      ngeo-popover-anchor\n      data-original-title="{{\'Change the color of the search result\'|translate}}"\n    ></button>\n    <div ngeo-popover-content>\n      <div ngeo-colorpicker ngeo-colorpicker-color="$ctrl.color"></div>\n    </div>\n  </span>\n</span>')}]),nte.$inject=["$element","$attrs","gmfSearchTemplateUrl"];const rte={bindings:{inputValue:"=?gmfSearchInputValue",map:"<gmfSearchMap",typeaheadOptions:"<?gmfSearchOptions",additionalListeners:"<gmfSearchListeners",onInitCallback:"<?gmfSearchOnInit",searchActionCallback:"&?gmfSearchAction",optionsName:"<?gmfSearchOptionsName"},controller:"gmfSearchController",templateUrl:nte};tte.value("gmfSearchTemplateUrl",(function(e,t){const n=t.gmfSearchTemplateurl;return void 0!==n?n:"gmf/search"})),tte.component("gmfSearch",rte);class ite{constructor(e,t,n,r,i,o,s,a,l,c,u,h,d,f,p){if(this.options=d,this.groups=f,this.fulltextsearchUrl=p,this.element_=e,this.scope_=t,this.compile_=n,this.timeout_=r,this.injector_=i,this.gettextCatalog_=o,this.gmfThemes_=l,this.gmfTreeManager_=c,this.fullTextSearch_=u,this.ngeoSearchCreateGeoJSONBloodhound_=a,this.ngeoLocation_=h,this.ngeoAutoProjection_=s,this.map=null,this.onInitCallback=null,this.searchActionCallback,this.coordinatesProjectionsInstances_=[],this.featureOverlay_=vU.getFeatureOverlay(),this.typeaheadOptions={highlight:!0},this.datasets=[],this.inputValue="",this.color="",this.displayColorPicker=!1,this.listeners=null,this.additionalListeners={},this.clearButton=!1!==this.options.clearButton,this.optionsName=null,this.clearButton||this.element_.find("input").on("focus blur",(()=>{this.clear()})),this.featureOverlay_.setStyle(this.getSearchStyle_.bind(this)),this.scope_.$watch((()=>this.color),this.setStyleColor.bind(this)),this.ngeoLocation_){const e=this.ngeoLocation_.getParam("search");if(e){let t,n=1;this.ngeoLocation_.getParam("search-select-index")&&(n=parseInt(this.ngeoLocation_.getParam("search-select-index")||"",10)),this.ngeoLocation_.getParam("search-maxzoom")?t=parseInt(this.ngeoLocation_.getParam("search-maxzoom")||"",10):this.ngeoLocation_.getParam("map_zoom")&&(t=parseInt(this.ngeoLocation_.getParam("map_zoom")||"",10)),this.fulltextsearch_(e,n,t)}}}$onInit(){const e=this.optionsName||"gmfSearchOptions",t=this.gettextCatalog_;this.options=this.injector_.get(e),this.placeholder=this.options.placeholder||"Search…",t.getString("Search…"),this.coordinatesProjectionsInstances_=void 0===this.options.coordinatesProjections?[this.map.getView().getProjection()]:this.ngeoAutoProjection_.getProjectionList(this.options.coordinatesProjections),this.typeaheadOptions&&Object.assign(this.options,this.typeaheadOptions),this.initDatasets_(),this.listeners=this.mergeListeners_(this.additionalListeners,{select:this.select_.bind(this),change:this.handleChange_.bind(this),close:this.close_.bind(this),datasetsempty:this.datasetsempty_.bind(this)}),this.onInitCallback&&this.onInitCallback()}mergeListeners_(e,t){return void 0===e?t:{open:e.open,close:void 0===e.close?t.close:function(){t.close(),e.close()},change:e.change,cursorchange:e.cursorchange,datasetsempty:e.datasetsempty,select:void 0===e.select?t.select:function(n,r,i){t.select(n,r,i),e.select(n,r,i)},autocomplete:e.autocomplete}}initDatasets_(){const e=this.gettextCatalog_;for(const t of this.options.datasources||[]){const n=void 0!==t.groupValues?t.groupValues:this.groups,r=t.groupActions||[],i=[];0===n.length?i.push({title:"",filter:this.filterLayername_()}):n.forEach((e=>{i.push({title:e,filter:this.filterLayername_(e)})})),r.forEach((t=>{i.push({title:e.getString(t.title),filter:this.filterAction_(t.action)})})),i.forEach((e=>{this.datasets.push(this.createDataset_({bloodhoundOptions:t.bloodhoundOptions,datasetTitle:e.title,labelKey:t.labelKey,projection:t.projection,typeaheadDatasetOptions:t.typeaheadDatasetOptions,url:t.url||this.fulltextsearchUrl},e.filter))}))}this.datasets.push({source:this.createSearchCoordinates_(this.map.getView()),name:"coordinates",display:"label",templates:{header:()=>`<div class="gmf-search-header" translate>${e.getString("Recenter to")}</div>`,suggestion:e=>{let t=`<p class="gmf-search-label">${e.label}</p>`;return t=`<div class="gmf-search-datum">${t}</div>`,t}}})}createDataset_(e,t){const n=this.gettextCatalog_,r=this.scope_,i=this.compile_,o={limit:1/0,source:this.createAndInitBloodhound_(e,t).ttAdapter(),display:t=>t.get(e.labelKey),templates:{header:()=>{if(e.datasetTitle){return`<div class="gmf-search-header">${n.getString(e.datasetTitle)}</div>`}return""},suggestion:t=>{const n=r.$new(!0);n.feature=t;let o=`<p class="gmf-search-label" translate>${t.get(e.labelKey)}</p>`;return o+=`<p class="gmf-search-group" translate>${t.get("layer_name")||e.datasetTitle}</p>`,o=`<div class="gmf-search-datum">${o}</div>`,i(o)(n).html()}}};return e.typeaheadDatasetOptions&&Object.assign(o,e.typeaheadDatasetOptions),o}filterAction_(e){return function(t){const n=t.properties||{};return!!n.actions&&(!n.layer_name&&n.actions.some((t=>t.action===e)))}}filterLayername_(e){return function(t){const n=(t.properties||{}).layer_name;return void 0!==n&&(void 0===e||n===e)}}createAndInitBloodhound_(e,t){if(!this.map)throw new Error("Missing map");const n=this.map.getView().getProjection().getCode(),r=this.getBloodhoudRemoteOptions_(),i=this.ngeoSearchCreateGeoJSONBloodhound_(e.url,t,pR(n),pR(e.projection),e.bloodhoundOptions,r);return i.initialize(),i}getBloodhoudRemoteOptions_(){const e=this.gettextCatalog_;return{rateLimitWait:null==this.options.delay?50:this.options.delay,prepare:(t,n)=>{const r=n.url;if(!r)throw new Error("Missing URL");const i=e.getCurrentLanguage();return n.xhrFields={withCredentials:!0},n.url=XG(r,{query:t,lang:i}),n}}}createSearchCoordinates_(e){const t=e.getProjection(),n=t.getExtent();return(e,r)=>{const i=[],o=this.ngeoAutoProjection_.stringToCoordinates(e);if(null===o)return;const s=this.ngeoAutoProjection_.tryProjectionsWithInversion(o,n,t,this.coordinatesProjectionsInstances_.map((e=>e.getCode())));null!==s&&(i.push({label:o.join(" "),position:s,tt_source:"coordinates"}),r(i))}}getSearchStyle_(e,t){if(!e)throw new Error("Missing feature");const n=i7(this.options.styles[e.get("layer_name")]||this.options.styles.default);if(this.color){const e=St(this.color),t=n.getStroke(),r=t.getColor(),i=e.slice();i[3]=r[3],t&&t.setColor(i);const o=n.getFill(),s=o.getColor(),a=e.slice();a[3]=s[3],o&&o.setColor(a);let l=n.getImage();if(l){const e=l,t=e.getStroke();t&&t.setColor(i);const r=e.getFill();r&&r.setColor(a),l=l.clone(),n.setImage(l)}}return n}setStyleColor(e){e&&(this.color=e,vU.getLayer().changed())}setTTDropdownVisibility_(){if(this.clearButton){const e=this.element_.find(".twitter-typeahead .tt-menu");this.inputValue?e.show():e.hide()}}onClearButton(){this.featureOverlay_.clear(),this.clear(),this.displayColorPicker=!1}clear(){const e=this.element_.find(".twitter-typeahead"),t=e.children(".tt-menu"),n=e.children("input");this.inputValue="",ete(n[1]).typeahead("val",""),t.children(".tt-dataset").empty(),this.setTTDropdownVisibility_()}blur(){const e=this.element_.find(".twitter-typeahead").children("input");this.timeout_((()=>{ete(e[1]).blur()}))}select_(e,t,n){if(!this.map)throw new Error("Missing map");if("coordinates"===t.tt_source){const e=t,n=new VR(e.position);this.featureOverlay_.clear(),this.featureOverlay_.addFeature(new L$({geometry:n,layer_name:"gmfCoordinatesLayerName",name:"SearchFeature"})),this.map.getView().setCenter(e.position),this.leaveSearch_()}else{if(!(t instanceof L$))throw new Error("Wrong suggestion type");this.selectFromGMF_(e,t,n)}}selectFromGMF_(e,t,n){if(!this.map)throw new Error("Missing map");const r=t.get("actions"),i=t.getGeometry();if(r)for(let e=0,t=r.length;e<t;e++){const t=r[e],n=t.action,o=t.data;if("add_theme"==n)this.gmfThemes_.getThemesObject().then((e=>{const t=p0(e,o);t&&(Xs.touchedByUser=!0,this.gmfTreeManager_.addFirstLevelGroups(t.children))}));else if("add_group"==n)this.gmfTreeManager_.addGroupByName(o,!0);else if("add_layer"==n){let e;if(this.options.datasources[0].groupActions.forEach((t=>{if("add_layer"===t.action)return e=!0,!0})),e){const e=!!i;this.gmfTreeManager_.addGroupByLayerName(o,!0,e)}}else this.searchActionCallback&&this.searchActionCallback(t)}const o=this.map.getSize();if(i instanceof YR&&o){const e=this.map.getView();this.featureOverlay_.clear(),t.set("name","SearchFeature"),this.featureOverlay_.addFeature(t),this.displayColorPicker=!0;const n="GeometryCollection"===i.getType()?i.getExtent():i;e.fit(n,{size:o,maxZoom:this.options.maxZoom||16})}this.leaveSearch_()}leaveSearch_(){this.clearButton||this.clear(),this.blur()}close_(){this.clearButton||this.setTTDropdownVisibility_()}datasetsempty_(e,t,n){this.clearButton||(this.featureOverlay_.clear(),this.displayColorPicker=!1);const r=this.element_.find(".twitter-typeahead .tt-menu"),i=r.children(".gmf-search-no-results");if(0==i.length){const e=this.gettextCatalog_.getString("No result found"),t=ete(`<div class="gmf-search-no-results" translate>${e}</div>`);r.append(t)}n?(i.show(),r.addClass("gmf-search-no-results")):(r.removeClass("gmf-search-no-results"),i.hide())}fulltextsearch_(e,t,n){t<1&&(t=1),this.fullTextSearch_.search(e,{limit:`${t}`}).then((e=>{if(!this.map)throw new Error("Missing map");if(e&&e.features[t-1]){const r=(new $B).readFeature(e.features[t-1]);r.set("name","SearchFeature"),this.featureOverlay_.addFeature(r);const i={};void 0!==n&&(i.maxZoom=n,i.size=this.map.getSize()||null);const o=r.getGeometry();if(!o)throw new Error("Missing geometry");this.map.getView().fit(o.getExtent(),i),this.inputValue=r.get("label")}}))}handleChange_(e,t){t||this.datasetsempty_(e,t,!1)}}ite.$inject=["$element","$scope","$compile","$timeout","$injector","gettextCatalog","ngeoAutoProjection","ngeoSearchCreateGeoJSONBloodhound","gmfThemes","gmfTreeManager","gmfSearchFulltextSearch","ngeoLocation","gmfSearchOptions","gmfSearchGroups","fulltextsearchUrl"],tte.controller("gmfSearchController",ite);const ote=tte,ste=t().module("ngeoSearchModule",[See.name,Tee.name,Cee.name,ote.name,Aee.name]);ute.$inject=["$scope","gmfThemeManager","gmfThemes"];const ate=t().module("gmfThemeSelectorComponent",[T8.name,S0.name]);function lte(e,t){return t(e)}ate.run(["$templateCache",e=>{e.put("gmf/theme/selectorComponent",'<ul class="gmf-theme-selector">\n  <li\n    ng-repeat="theme in $ctrl.themes"\n    ng-click="$ctrl.setTheme(theme)"\n    ng-class="{\'gmf-theme-selector-active\': $ctrl.gmfThemeManager.getThemeName() == theme.name}"\n  >\n    <img class="gmf-thumb" ng-src="{{::theme.icon}}" />\n    <span class="gmf-text">{{theme.name | translate}}</span>\n  </li>\n</ul>')}]),ate.value("gmfThemeSelectorTemplateUrl",(e=>{const t=e.gmfThemeSelectorTemplateUrl;return void 0!==t?t:"gmf/theme/selectorComponent"})),lte.$inject=["$attrs","gmfThemeSelectorTemplateUrl"];const cte={bindings:{filter:"<gmfThemeselectorFilter"},controller:"gmfThemeselectorController",templateUrl:lte};function ute(e,t,n){this.gmfThemeManager=t,this.gmfThemes_=n,this.themes=[],this.filter=e=>{},this.listenerKeys_=[],this.listenerKeys_.push(bn(this.gmfThemes_,"change",this.setThemes_,this)),e.$on("$destroy",this.handleDestroy_.bind(this))}ate.component("gmfThemeselector",cte),ute.prototype.setThemes_=function(){this.gmfThemes_.getThemesObject().then((e=>{this.themes=this.filter?e.filter(this.filter):e}))},ute.prototype.setTheme=function(e,t){Xs.touchedByUser=!0,e&&this.gmfThemeManager.addTheme(e,t)},ute.prototype.handleDestroy_=function(){this.listenerKeys_.forEach(wn),this.listenerKeys_.length=0},ate.controller("gmfThemeselectorController",ute);const hte=ate,dte=t().module("gmfThemeModule",[hte.name,T8.name,S0.name]);function fte(e){return fte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fte(e)}var pte=/^\s+/,mte=/\s+$/;function gte(e,t){if(t=t||{},(e=e||"")instanceof gte)return e;if(!(this instanceof gte))return new gte(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;"string"==typeof e&&(e=function(e){e=e.replace(pte,"").replace(mte,"").toLowerCase();var t,n=!1;if(Pte[e])e=Pte[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=qte.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=qte.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=qte.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=qte.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=qte.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=qte.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=qte.hex8.exec(e))return{r:Nte(t[1]),g:Nte(t[2]),b:Nte(t[3]),a:zte(t[4]),format:n?"name":"hex8"};if(t=qte.hex6.exec(e))return{r:Nte(t[1]),g:Nte(t[2]),b:Nte(t[3]),format:n?"name":"hex"};if(t=qte.hex4.exec(e))return{r:Nte(t[1]+""+t[1]),g:Nte(t[2]+""+t[2]),b:Nte(t[3]+""+t[3]),a:zte(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=qte.hex3.exec(e))return{r:Nte(t[1]+""+t[1]),g:Nte(t[2]+""+t[2]),b:Nte(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==fte(e)&&(Bte(e.r)&&Bte(e.g)&&Bte(e.b)?(t=function(e,t,n){return{r:255*Ite(e,255),g:255*Ite(t,255),b:255*Ite(n,255)}}(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):Bte(e.h)&&Bte(e.s)&&Bte(e.v)?(r=jte(e.s),i=jte(e.v),t=function(e,t,n){e=6*Ite(e,360),t=Ite(t,100),n=Ite(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],h=[o,o,a,n,n,s][l];return{r:255*c,g:255*u,b:255*h}}(e.h,r,i),s=!0,a="hsv"):Bte(e.h)&&Bte(e.s)&&Bte(e.l)&&(r=jte(e.s),o=jte(e.l),t=function(e,t,n){var r,i,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=Ite(e,360),t=Ite(t,100),n=Ite(n,100),0===t)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=Ote(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function _te(e,t,n){e=Ite(e,255),t=Ite(t,255),n=Ite(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function yte(e,t,n){e=Ite(e,255),t=Ite(t,255),n=Ite(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function bte(e,t,n,r){var i=[Yte(Math.round(e).toString(16)),Yte(Math.round(t).toString(16)),Yte(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function vte(e,t,n,r){return[Yte(Hte(r)),Yte(Math.round(e).toString(16)),Yte(Math.round(t).toString(16)),Yte(Math.round(n).toString(16))].join("")}function wte(e,t){t=0===t?0:t||10;var n=gte(e).toHsl();return n.s-=t/100,n.s=Fte(n.s),gte(n)}function xte(e,t){t=0===t?0:t||10;var n=gte(e).toHsl();return n.s+=t/100,n.s=Fte(n.s),gte(n)}function Mte(e){return gte(e).desaturate(100)}function Ste(e,t){t=0===t?0:t||10;var n=gte(e).toHsl();return n.l+=t/100,n.l=Fte(n.l),gte(n)}function kte(e,t){t=0===t?0:t||10;var n=gte(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),gte(n)}function Tte(e,t){t=0===t?0:t||10;var n=gte(e).toHsl();return n.l-=t/100,n.l=Fte(n.l),gte(n)}function Lte(e,t){var n=gte(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,gte(n)}function Cte(e){var t=gte(e).toHsl();return t.h=(t.h+180)%360,gte(t)}function Ete(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=gte(e).toHsl(),r=[gte(e)],i=360/t,o=1;o<t;o++)r.push(gte({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Dte(e){var t=gte(e).toHsl(),n=t.h;return[gte(e),gte({h:(n+72)%360,s:t.s,l:t.l}),gte({h:(n+216)%360,s:t.s,l:t.l})]}function Ate(e,t,n){t=t||6,n=n||30;var r=gte(e).toHsl(),i=360/n,o=[gte(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(gte(r));return o}function $te(e,t){t=t||6;for(var n=gte(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(gte({h:r,s:i,v:o})),o=(o+a)%1;return s}gte.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=Ote(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=yte(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=yte(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=_te(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=_te(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return bte(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[Yte(Math.round(e).toString(16)),Yte(Math.round(t).toString(16)),Yte(Math.round(n).toString(16)),Yte(Hte(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Ite(this._r,255))+"%",g:Math.round(100*Ite(this._g,255))+"%",b:Math.round(100*Ite(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*Ite(this._r,255))+"%, "+Math.round(100*Ite(this._g,255))+"%, "+Math.round(100*Ite(this._b,255))+"%)":"rgba("+Math.round(100*Ite(this._r,255))+"%, "+Math.round(100*Ite(this._g,255))+"%, "+Math.round(100*Ite(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Rte[bte(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+vte(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=gte(e);n="#"+vte(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return gte(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Ste,arguments)},brighten:function(){return this._applyModification(kte,arguments)},darken:function(){return this._applyModification(Tte,arguments)},desaturate:function(){return this._applyModification(wte,arguments)},saturate:function(){return this._applyModification(xte,arguments)},greyscale:function(){return this._applyModification(Mte,arguments)},spin:function(){return this._applyModification(Lte,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(Ate,arguments)},complement:function(){return this._applyCombination(Cte,arguments)},monochromatic:function(){return this._applyCombination($te,arguments)},splitcomplement:function(){return this._applyCombination(Dte,arguments)},triad:function(){return this._applyCombination(Ete,[3])},tetrad:function(){return this._applyCombination(Ete,[4])}},gte.fromRatio=function(e,t){if("object"==fte(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:jte(e[r]));e=n}return gte(e,t)},gte.equals=function(e,t){return!(!e||!t)&&gte(e).toRgbString()==gte(t).toRgbString()},gte.random=function(){return gte.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},gte.mix=function(e,t,n){n=0===n?0:n||50;var r=gte(e).toRgb(),i=gte(t).toRgb(),o=n/100;return gte({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},gte.readability=function(e,t){var n=gte(e),r=gte(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},gte.isReadable=function(e,t,n){var r,i,o=gte.readability(e,t);switch(i=!1,r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},gte.mostReadable=function(e,t,n){var r,i,o,s,a=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=gte.readability(e,t[c]))>l&&(l=r,a=gte(t[c]));return gte.isReadable(e,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,gte.mostReadable(e,["#fff","#000"],n))};var Pte=gte.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Rte=gte.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Pte);function Ote(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ite(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Fte(e){return Math.min(1,Math.max(0,e))}function Nte(e){return parseInt(e,16)}function Yte(e){return 1==e.length?"0"+e:""+e}function jte(e){return e<=1&&(e=100*e+"%"),e}function Hte(e){return Math.round(255*parseFloat(e)).toString(16)}function zte(e){return Nte(e)/255}var Ute,Wte,Gte,qte=(Wte="[\\s|\\(]+("+(Ute="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Ute+")[,|\\s]+("+Ute+")\\s*\\)?",Gte="[\\s|\\(]+("+Ute+")[,|\\s]+("+Ute+")[,|\\s]+("+Ute+")[,|\\s]+("+Ute+")\\s*\\)?",{CSS_UNIT:new RegExp(Ute),rgb:new RegExp("rgb"+Wte),rgba:new RegExp("rgba"+Gte),hsl:new RegExp("hsl"+Wte),hsla:new RegExp("hsla"+Gte),hsv:new RegExp("hsv"+Wte),hsva:new RegExp("hsva"+Gte),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Bte(e){return!!qte.CSS_UNIT.exec(e)}const Vte=t().module("ngeoMessageDisplaywindowComponent",["ngSanitize"]);function Xte(e,t){return t(e)}Vte.run(["$templateCache",e=>{e.put("ngeo/message/displaywindowComponent",'<div class="ngeo-displaywindow" ng-show="$ctrl.open" title="">\n  <div class="windowcontainer" ng-style="$ctrl.style">\n    <button type="button" class="btn fa-xmark close" ng-click="$ctrl.close()"></button>\n\n    <div class="animation-container">\n      <div class="slide-animation">\n        <div class="header ui-draggable-handle" ng-if="$ctrl.title !== null">\n          <p class="title">{{$ctrl.title | translate}}</p>\n        </div>\n        <div class="details content" ng-if="$ctrl.content" ng-bind-html="$ctrl.content"></div>\n        <div class="details iframe" ng-if="$ctrl.url !== null">\n          <iframe\n            frameborder="0"\n            type="text/html"\n            height="100%"\n            width="100%"\n            ng-src="{{ $ctrl.urlTrusted }}"\n          ></iframe>\n        </div>\n        <div class="content-template-container"></div>\n      </div>\n    </div>\n  </div>\n</div>')}]),Vte.value("ngeoMessageDisplaywindowTemplateUrl",(e=>{const t=e.ngeoMessageDisplaywindowTemplateUrl;return void 0!==t?t:"ngeo/message/displaywindowComponent"})),Xte.$inject=["$attrs","ngeoMessageDisplaywindowTemplateUrl"];class Kte{constructor(e,t,n,r){this.clearOnClose,this.content,this.contentTemplate,this.contentScope,this.draggable,this.draggableContainment,this.desktop,this.height,this.open,this.resizable,this.title,this.url,this.width,this.element_=e,this.sce_=t,this.scope_=n,this.compile_=r}$onInit(){if(this.clearOnClose=!1!==this.clearOnClose,this.content=this.content||null,this.contentTemplate=this.contentTemplate||null,this.contentScope=this.contentScope||null,this.desktop=!1!==this.desktop,this.draggableContainment=this.draggableContainment||"document",this.open=!0===this.open,this.height=this.height||"240px",this.width=this.width||"240px",this.containingElement=null,"string"==typeof this.draggableContainment)if("document"!==this.draggableContainment){let e=String(this.draggableContainment);e.startsWith(".")&&(e=e.substring(1)),this.containingElement=document.getElementsByClassName(e)[0]}else this.containingElement=document.documentElement;else this.containingElement=this.draggableContainment;this.draggable=void 0!==this.draggable?this.draggable:this.desktop,this.resizable=void 0!==this.resizable?this.resizable:this.desktop,this.draggable&&this.element_.find(".ngeo-displaywindow .windowcontainer").draggable({containment:this.draggableContainment,handle:"div.header"}),this.resizable&&this.element_.find(".ngeo-displaywindow .windowcontainer").resizable({minHeight:240,minWidth:240,resize:(e,t)=>{this.height=`${t.size.height}px`,this.width=`${t.size.width}px`}}),this.contentTemplate&&this.updateContentTemplate_(),this.scope_.$watch((()=>this.contentTemplate),(()=>this.updateContentTemplate_()))}updateContentTemplate_(){if(!this.contentTemplate)return;const e=this.contentScope||this.scope_,t=this.compile_(this.contentTemplate)(e),n=this.element_.find(".ngeo-displaywindow .windowcontainer .animation-container .content-template-container");n.empty(),n.append(t)}close(){this.open=!1,this.clearOnClose&&this.clear_()}get style(){return this.maxWidth=this.containingElement.clientWidth-20,this.maxHeight=this.containingElement.clientHeight-20,{height:this.height,width:this.width,"max-width":this.maxWidth.toString()+"px","max-height":this.maxHeight.toString()+"px"}}get urlTrusted(){if(this.url)return this.sce_.trustAsResourceUrl(this.url)}clear_(){this.content=null,this.title=null,this.url=null}}Kte.$inject=["$element","$sce","$scope","$compile"];const Jte={bindings:{clearOnClose:"<?",content:"=?",contentTemplate:"=?",contentScope:"<?",desktop:"<?",draggable:"<?",draggableContainment:"<?",height:"=?",open:"=?",resizable:"<?",title:"=?",url:"=?",width:"=?"},controller:Kte,templateUrl:Xte};Vte.component("ngeoDisplaywindow",Jte);const Zte=Vte;nne.$inject=["$parse"],ene.$inject=["$parse"];const Qte=t().module("ngeoBtnComponent",[]);function ene(e){return{restrict:"A",controller:"ngeoBtnGroupController",link:(t,n,r,i)=>{if(!i)throw new Error("Missing controller");const o=e(r.ngeoBtnGroupActive).assign;o&&t.$watch((()=>i.buttons_.some((e=>!0===e(t)))),(e=>{o(t,e)}))}}}Qte.directive("ngeoBtnGroup",ene);class tne{constructor(e){this.buttons_=[],this.scope_=e}activate(e){this.buttons_.forEach(((t,n)=>{n!=e&&t.assign(this.scope_,!1)}))}addButton(e){return this.buttons_.push(e),this.buttons_.length-1}}function nne(e){return{require:["?^ngeoBtnGroup","ngModel"],restrict:"A",link:(t,n,r,i)=>{if(!i)throw new Error("Missing ctrls");const o=i[0],s=i[1];let a=-1;const l=e(r.ngModel),c=l.assign;void 0===l(t)&&c(t,!1),null!==o&&(a=o.addButton(l)),n.on("click",(()=>{t.$apply((()=>{s.$setViewValue(!s.$viewValue),s.$render()}))})),s.$render=function(){s.$viewValue&&null!==o&&o.activate(a),n.toggleClass("active",s.$viewValue)}}}}tne.$inject=["$scope"],Qte.controller("ngeoBtnGroupController",tne),Qte.directive("ngeoBtn",nne);const rne=Qte,ine=t().module("ngeoControl",[]);ine.directive("ngeoControl",(function(){return{restrict:"A",link:(e,t,n)=>{const r=e.$eval(n.ngeoControl);console.assert(r instanceof eB);const i=e.$eval(n.ngeoControlMap);console.assert(i instanceof LB),r.setTarget(t[0]),i.addControl(r)}}}));const one=ine;ane.$inject=["$window"];const sne=t().module("ngeoFilereader",[]);function ane(e){return{restrict:"A",scope:{fileContent:"=ngeoFilereader",supported:"=?ngeoFilereaderSupported"},link:(t,n)=>{const r="FileReader"in e;if(t.supported=r,!r)return;n.on({change:n=>{const r=new e.FileReader;r.onload=function(e){const n=e.target;t.$apply((()=>{t.fileContent=n.result}))};const i=n.target.files;if(!i)throw new Error("Missing files");r.readAsText(i[0])}})}}}sne.directive("ngeoFilereader",ane);const lne=sne;var cne=i(6932);hne.$inject=["$timeout"];const une=t().module("ngeoSortable",[]);function hne(e){return{restrict:"A",link:(n,r,i)=>{const o=n.$eval(i.ngeoSortable)||[];console.assert(Array.isArray(o)),n.$watchCollection((()=>o),(()=>{o.length&&e(c,0)}));const s=function(e){let t;const n="ngeo-sortable-handle";void 0===e?t={handleClassName:n}:(void 0===e.handleClassName&&(e.handleClassName=n),t=e);return t}(n.$eval(i.ngeoSortableOptions)),a=n.$eval(i.ngeoSortableCallback),l=n.$eval(i.ngeoSortableCallbackCtx);function c(){const e=r.children();for(let n=0;n<e.length;++n)t().element(e[n]).data("idx",n);const i=cne(r);i.data("ui-sortable")&&(i.off("sortupdate"),i.sortable("destroy"));const c={axis:"y",classes:{"ui-sortable-helper":s.draggerClassName}};s.handleClassName&&(c.handle=`.${s.handleClassName}`),s.placeholderClassName&&(c.placeholder=s.placeholderClassName,c.forcePlaceholderSize=!0),i.sortable(c),i.on("sortupdate",((e,t)=>{const i=cne(t.item[0]).data("idx"),s=t.item.index();cne(t.item[0]).data("idx",s),n.$apply((()=>{o.splice(s,0,o.splice(i,1)[0])})),a instanceof Function&&a.apply(l,[r,o])}))}}}}une.directive("ngeoSortable",hne);const dne=une;function fne(e){this.groups_={},this.scope_=e}fne.$inject=["$rootScope"],fne.prototype.registerTool=function(e,t,n){this.groups_[e]||(this.groups_[e]=[]);const r=this.scope_.$watch(t.getActive,((n,r)=>{n!==r&&(n?this.deactivateTools_(e,t):this.activateDefault_(e))}));this.groups_[e].push({tool:t,defaultTool:n||!1,unlisten:r})},fne.prototype.unregisterTool=function(e,t){const n=this.groups_[e];if(n)for(let e=0;e<n.length;e++)if(n[e].tool==t){n[e].unlisten(),n.splice(e,1);break}},fne.prototype.unregisterGroup=function(e){const t=this.groups_[e];if(t){for(const e of t)e.unlisten();delete this.groups_[e]}},fne.prototype.activateTool=function(e){e.setActive(!0)},fne.prototype.deactivateTool=function(e){e.setActive(!1)},fne.prototype.deactivateTools_=function(e,t){const n=this.groups_[e];for(const e of n)t!=e.tool&&e.tool.setActive(!1)},fne.prototype.activateDefault_=function(e){const t=this.groups_[e];let n=null,r=!1;for(const e of t)r=r||e.tool.getActive(),e.defaultTool&&(n=e.tool);r||null===n||n.setActive(!0)};const pne=t().module("ngeoToolActivateMgr",[]);pne.service("ngeoToolActivateMgr",fne);const mne=pne,gne=t().module("ngeoMiscExtraModule",[Ree.name,rne.name,one.name,n7.name,X4.name,g3.name,j6.name,lne.name,J0.name,dne.name,b3.name,mne.name,x3.name]);function _ne(e,t){this.getActive=function(){return e[t]},this.setActive=function(n){e[t]=n}}const yne="click",bne="drawbox",vne="drawpolygon";class wne{constructor(e){this.keyActionAdd_="a",this.keyActionRemove_="x",this.keysAction_=[this.keyActionAdd_,this.keyActionRemove_],this.action_=ree,this.pending_=!1,this.wasPending_=!1,this.previousAction_=null,this.mode_=yne,this.previousMode_=null,this.activeActionKey_=null,this.rootScope_=e,bn(document,"keydown",this.handleKeyDown_,this),bn(document,"keyup",this.handleKeyUp_,this),setInterval(this.checkPageFocus_.bind(this),200)}get action(){return this.action_}set action(e){this.action_=e}get mode(){return this.mode_}set mode(e){this.mode_=e}get pending(){return this.pending_}set pending(e){this.pending_=e,!e&&this.wasPending_&&this.previousMode_&&(this.wasPending_=!1,this.mode=this.previousMode_,this.previousMode_=null)}handleKeyDown_(e){if(!(e instanceof KeyboardEvent))return;if(this.pending)return;const t=e.key;let n=!1;if(this.keysAction_.includes(t)&&!this.previousAction_){let e;switch(this.previousAction_=this.action,t){case this.keyActionAdd_:e=tee;break;case this.keyActionRemove_:e=nee}e&&(this.action=e,this.activeActionKey_=t,n=!0)}else jz(e)&&!this.previousMode_?(this.previousMode_=this.mode,this.mode=bne,n=!0):jz(e)||this.keysAction_.includes(t)||!this.previousMode_||(n=this.reset_());n&&this.rootScope_.$apply()}handleKeyUp_(e){if(!(e instanceof KeyboardEvent))return;let t=!1;jz(e)&&this.previousMode_&&(t=this.reset_());const n=e.key;this.activeActionKey_===n&&this.previousAction_&&(this.action=this.previousAction_,this.previousAction_=null,this.activeActionKey_=null,t=!0),t&&this.rootScope_.$apply()}checkPageFocus_(){!document.hasFocus()&&this.previousMode_&&this.reset_()&&this.rootScope_.$apply()}reset_(){return this.pending?(this.wasPending_=!0,!1):(this.mode=this.previousMode_,this.previousMode_=null,!0)}}wne.$inject=["$rootScope"];const xne=t().module("ngeoQueryModeSelector",[]);xne.service("ngeoQueryModeSelector",wne);const Mne=xne,Sne=t().module("ngeoQuery",[Mne.name,see.name]);class kne{constructor(e,t,n,r){this.active,this.autoclear,this.map,this.ngeoMapQuerent_=e,this.ngeoQueryModeSelector_=t,this.ngeoQueryOptions_=r,this.scope_=n,this.vectorSource_=new Dj({wrapX:!1}),this.vectorLayer_=new FY({className:"canvas2d",source:this.vectorSource_}),this.drawBoxInteraction_=new _U({condition:Fj,geometryFunction:function(e,t,n){const r=G$([e[0],e[e.length-1]].map((function(e){return CR(e,n)}))),i=[[hP(r),dP(r),bP(r),yP(r),hP(r)]];t?t.setCoordinates(i):t=new mI(i);const o=TR();return o&&t.transform(n,o),t},source:this.vectorSource_,stopClick:!0,type:"Circle"}),this.drawPolygonInteraction_=new _U({condition:Fj,source:this.vectorSource_,stopClick:!0,type:"Polygon"}),this.listenerKeys_=[],this.mode_=null,n.$watch((()=>this.active),this.handleActiveChange_.bind(this)),n.$watch((()=>{let e=null;return this.active&&(e=this.ngeoQueryModeSelector_.mode),e}),this.enableMode_.bind(this))}$onInit(){this.autoclear=!!this.autoclear}$onDestroy(){this.enableMode_(null)}enableMode_(e){if(this.disableMode_(),e){switch(e){case yne:this.listenerKeys_.push(bn(this.map,"singleclick",this.handleMapClick_,this)),this.ngeoQueryOptions_.cursorHover&&this.listenerKeys_.push(bn(this.map,"pointermove",this.handleMapPointerMove_,this));break;case bne:this.map.addLayer(this.vectorLayer_),this.map.addInteraction(this.drawBoxInteraction_),this.listenerKeys_.push(bn(this.drawBoxInteraction_,"drawend",this.handleDrawBoxInteractionDrawEnd_,this));break;case vne:this.map.addLayer(this.vectorLayer_),this.map.addInteraction(this.drawPolygonInteraction_),this.listenerKeys_.push(bn(this.drawPolygonInteraction_,"drawend",this.handleDrawPolygonInteractionDrawEnd_,this))}this.mode_=e}}disableMode_(){if(this.mode_){switch(this.mode_){case yne:this.ngeoQueryOptions_.cursorHover&&(this.map.getTargetElement().style.cursor="");break;case bne:this.vectorSource_.clear(),this.map.removeLayer(this.vectorLayer_),this.map.removeInteraction(this.drawBoxInteraction_);break;case vne:this.vectorSource_.clear(),this.map.removeLayer(this.vectorLayer_),this.map.removeInteraction(this.drawPolygonInteraction_)}!function(e){for(const t of e)wn(t);e.length=0}(this.listenerKeys_),this.mode_=null}}getLimitOption_(){return this.ngeoQueryOptions_&&this.ngeoQueryOptions_.limit?this.ngeoQueryOptions_.limit:void 0}handleActiveChange_(e){e||this.autoclear&&this.ngeoMapQuerent_.clear()}handleDrawBoxInteractionDrawEnd_(e){const t=e.feature,n=this.ngeoQueryModeSelector_.action,r=t.getGeometry().getExtent(),i=this.getLimitOption_(),o=this.map;this.ngeoQueryModeSelector_.pending=!0,this.ngeoMapQuerent_.issue({action:n,extent:r,limit:i,map:o}).then((()=>{})).catch((()=>{})).then((()=>{this.vectorSource_.clear(),this.ngeoQueryModeSelector_.pending=!1}))}handleDrawPolygonInteractionDrawEnd_(e){const t=e.feature,n=this.ngeoQueryModeSelector_.action,r=t.getGeometry(),i=this.getLimitOption_(),o=this.map;this.ngeoQueryModeSelector_.pending=!0,this.ngeoMapQuerent_.issue({action:n,geometry:r,limit:i,map:o}).then((()=>{})).catch((()=>{})).then((()=>{this.vectorSource_.clear(),this.ngeoQueryModeSelector_.pending=!1}))}handleMapClick_(e){if(!e.originalEvent)return;const t=this.ngeoQueryModeSelector_.action,n=e.coordinate,r=this.map;this.ngeoQueryModeSelector_.pending=!0,this.ngeoMapQuerent_.issue({action:t,coordinate:n,map:r}).then((()=>{})).catch((()=>{})).then((()=>{this.ngeoQueryModeSelector_.pending=!1}))}handleMapPointerMove_(e){if(!e.originalEvent||e.dragging)return!1;let t=!1;this.map.getAllLayers().forEach((n=>{n.get("visible")&&n.get("querySourceIds")&&(n instanceof WG||n instanceof Fz)&&n.getData(e.pixel)&&(t=!0)})),this.map.getTargetElement().style.cursor=t?"pointer":""}}kne.$inject=["ngeoMapQuerent","ngeoQueryModeSelector","$scope","ngeoQueryOptions"],Sne.component("ngeoQuery",{bindings:{active:"=",autoclear:"=?",map:"<"},controller:kne});const Tne=Sne;function Lne(e,t,n,r,i){const o=r;this.url_=t,this.maxFeatures_=void 0!==o.maxFeatures?o.maxFeatures:50,this._gmfFitOptions=i,this.wfsTypes_={},console.assert(Array.isArray(o.wfsTypes),"wfsTypes is not correctly set"),o.wfsTypes.forEach((e=>{this.wfsTypes_[e.featureType]=e})),this.defaultFeatureNS_=o.defaultFeatureNS,this.defaultFeaturePrefix_=o.defaultFeaturePrefix,this.pointRecenterZoom_=o.pointRecenterZoom,this.$http_=e,this.result_=n}Lne.$inject=["$http","ngeoPermalinkOgcserverUrl","ngeoQueryResult","ngeoWfsPermalinkOptions","gmfFitOptions"],Lne.prototype.clear=function(){this.clearResult_()},Lne.prototype.issue=function(e,t,n=void 0){console.assert(this.url_,"url is not set. to use the wfs permalink service, set the value `ngeoWfsPermalinkOptions`"),this.clearResult_();const r=e.wfsType;if(!this.wfsTypes_.hasOwnProperty(r))return;const i=this.wfsTypes_[r],o=this.createFilters_(e.filterGroups);null!==o&&this.issueRequest_(i,o,t,e.showFeatures,n)},Lne.prototype.issueRequest_=function(e,t,n,r,i=void 0){const o=new YQ,s=o.writeGetFeature({srsName:n.getView().getProjection().getCode(),featureNS:void 0!==e.featureNS?e.featureNS:this.defaultFeatureNS_,featurePrefix:void 0!==e.featurePrefix?e.featurePrefix:this.defaultFeaturePrefix_,featureTypes:[e.featureType],outputFormat:"GML3",filter:t,maxFeatures:this.maxFeatures_}),a=(new XMLSerializer).serializeToString(s);this.$http_.post(this.url_,a,{headers:{"Content-Type":"text/xml; charset=UTF-8"}}).then((t=>{const s=o.readFeatures(t.data);if(0!=s.length&&(setTimeout((()=>{const e=n.getSize();if(void 0!==e){const t={size:e,maxZoom:void 0===i?this.pointRecenterZoom_:i,padding:[50,50,50,50]};Object.apply(t,this._gmfFitOptions),n.getView().fit(this.getExtent_(s),t)}})),r)){const t={features:s,id:e.featureType,identifierAttributeField:e.label,label:e.featureType,pending:!1};this.result_.sources.push(t),this.result_.total=s.length}}))},Lne.prototype.getExtent_=function(e){return e.reduce(((e,t)=>{if(t instanceof L$){const n=t.getGeometry();return n?oP(e,n.getExtent()):e}}),[1/0,1/0,-1/0,-1/0])},Lne.prototype.createFilters_=function(e){if(0==e.length)return null;const t=e.map((function(e){const t=e.filters.map((e=>{const t=e.condition;return Array.isArray(t)?Lne.or_(t.map((t=>BZ(e.property,t)))):BZ(e.property,t)}));return Lne.and_(t)}));return t?Lne.or_(t):null},Lne.and_=function(e){return Lne.joinFilters_(e,WZ)},Lne.or_=function(e){return Lne.joinFilters_(e,GZ)},Lne.joinFilters_=function(e,t){return e.reduce(((e,n)=>null===e?n:(console.assert(null!==n),t(e,n))))},Lne.prototype.clearResult_=function(){this.result_.total=0,this.result_.sources.forEach((e=>{e.features.length=0}))};const Cne=t().module("ngeoWfsPermalink",[]);Cne.service("ngeoWfsPermalink",Lne);const Ene=Cne;$ne.$inject=["$scope","$element","gettextCatalog","ngeoGeolocationOptions"];const Dne=t().module("ngeoGeolocation",[]),Ane="geolocation-error";function $ne(e,t,n,r){this.options=r,t.on("click",this.toggleTracking.bind(this)),this.$scope_=e,this.gettextCatalog_=n,this.map,this.loading}Dne.directive("ngeoGeolocation",(function(){return{restrict:"A",scope:{map:"<ngeoGeolocationMap",loading:"=ngeoGeolocationLoading"},controller:"ngeoGeolocationController",bindToController:!0}})),$ne.prototype.$onInit=function(){if(!(this.map instanceof LB))throw new Error("Wrong map type");this.featureOverlay_=vU.getFeatureOverlay(),this.geolocation_=new Fq({projection:this.map.getView().getProjection(),trackingOptions:{enableHighAccuracy:!0}}),this.options.autoRotate&&this.autoRotateListener();const e=this.gettextCatalog_;this.geolocation_.on("error",(t=>{let n;switch(this.untrack_(),t.code){case 1:n=e.getString("User denied the request for Geolocation.");break;case 2:n=e.getString("Location information is unavailable.");break;case 3:n=e.getString("The request to get user location timed out.");break;default:n=e.getString("Geolocation: An unknown error occurred.")}Vs.error(n),this.$scope_.$emit(Ane,t)})),this.positionFeature_=new L$({name:"GeolocationPositionFeature"}),this.positionFeature_.setStyle(i7(this.options.positionFeatureStyle)),this.accuracyFeature_=new L$({name:"GeolocationAccuracyFeature"}),this.accuracyFeature_.setStyle(i7(this.options.accuracyFeatureStyle)),this.follow_=!1,this.viewChangedByMe_=!1,bn(this.geolocation_,"change:accuracyGeometry",(e=>{const t=this.geolocation_.getAccuracyGeometry();if(!t)throw new Error("Missing geometry");this.accuracyFeature_.setGeometry(t),this.setPosition_()})),bn(this.geolocation_,"change:position",(()=>{this.setPosition_()}));const t=this.map.getView();bn(t,"change:center",this.handleViewChange_,this),bn(t,"change:resolution",this.handleViewChange_,this),this.options.atLoadingTime&&void 0!==this.loading&&this.$scope_.$watch((()=>this.loading),(e=>{!1===e&&this.toggleTracking()}))},$ne.prototype.toggleTracking=function(){if(this.geolocation_.getTracking()){const e=this.geolocation_.getPosition();if(void 0===e)return this.untrack_(),void this.$scope_.$emit(Ane,null);const t=this.map.getView(),n=t.getCenter();if(!n)throw new Error("Missing center");(Math.abs(e[0]-n[0])+Math.abs(e[1]-n[1]))/t.getResolution()<2?this.untrack_():(t.setCenter(e),this.untrack_(),this.track_())}else this.track_()},$ne.prototype.track_=function(){this.featureOverlay_.addFeature(this.positionFeature_),this.featureOverlay_.addFeature(this.accuracyFeature_),this.follow_=!0,this.geolocation_.setTracking(!0)},$ne.prototype.untrack_=function(){this.featureOverlay_.clear(),this.follow_=!1,this.geolocation_.setTracking(!1),Vs.clear()},$ne.prototype.setPosition_=function(){const e=this.map.getView(),t=this.geolocation_.getPosition();if(void 0===t)throw new Error("Missing position");const n=new VR(t);this.positionFeature_.setGeometry(n);const r=this.accuracyFeature_.getGeometry();if(this.follow_){if(this.viewChangedByMe_=!0,this.options.zoom||0===this.options.zoom)e.setCenter(t),e.setZoom(this.options.zoom);else if(r instanceof mI){const t=this.map.getSize();if(void 0===t)throw new Error("Missing size");e.fit(r,{size:t})}this.viewChangedByMe_=!1}},$ne.prototype.handleViewChange_=function(e){this.follow_&&!this.viewChangedByMe_&&(this.follow_=!1)},$ne.prototype.autoRotateListener=function(){let e=0;window.hasOwnProperty("ondeviceorientationabsolute")?window.addEventListener("deviceorientationabsolute",(t=>{if(!(t instanceof DeviceOrientationEvent))throw new Error("Wrong event type");null!==t.alpha&&(e=this.handleRotate_(t.alpha,e))}),!0):window.hasOwnProperty("ondeviceorientation")?window.addEventListener("deviceorientation",(t=>{if(t.webkitCompassHeading)e=this.handleRotate_(-t.webkitCompassHeading,e);else{if(!t.alpha)throw new Error("Missing evt.alpha");e=this.handleRotate_(t.alpha-270,e)}}),!0):console.error("Orientation is not supported on this device")},$ne.prototype.handleRotate_=function(e,t){if(this.geolocation_.getTracking()&&Math.abs(e-t)>.2){const n=(t=e)*Math.PI/180;this.map.getView().animate({rotation:n,duration:350,easing:eI})}return t},Dne.controller("ngeoGeolocationController",$ne);const Pne=Dne;let Rne=null;function One(e){Rne=e;const t=Object.keys(e.defs),n=t.length;let r,i;for(r=0;r<n;++r){const n=t[r];if(!pR(n)){const t=e.defs(n);let r=t.units;r||"longlat"!==t.projName||(r="degrees"),fR(new LP({code:n,axisOrientation:t.axis,metersPerUnit:t.to_meter,units:r}))}}for(r=0;r<n;++r){const o=t[r],s=pR(o);for(i=0;i<n;++i){const n=t[i],r=pR(n);if(!WP(o,n))if(e.defs[o]===e.defs[n])gR([s,r]);else{const t=e(o,n);bR(s,r,$R(s,r,t.forward),$R(r,s,t.inverse))}}}}var Ine=6378137,Fne=.0066943799901413165,Nne=484813681109536e-20,Yne=Math.PI/2,jne=1e-10,Hne=.017453292519943295,zne=57.29577951308232,Une=Math.PI/4,Wne=2*Math.PI,Gne=3.14159265359,qne={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const Bne={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var Vne=/[\s_\-\/\(\)]/g;function Xne(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),i=t.toLowerCase().replace(Vne,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(Vne,"")===i)return e[n]}function Kne(e){var t,n,r,i={},o=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e}),{}),s={proj:"projName",datum:"datumCode",rf:function(e){i.rf=parseFloat(e)},lat_0:function(e){i.lat0=e*Hne},lat_1:function(e){i.lat1=e*Hne},lat_2:function(e){i.lat2=e*Hne},lat_ts:function(e){i.lat_ts=e*Hne},lon_0:function(e){i.long0=e*Hne},lon_1:function(e){i.long1=e*Hne},lon_2:function(e){i.long2=e*Hne},alpha:function(e){i.alpha=parseFloat(e)*Hne},gamma:function(e){i.rectified_grid_angle=parseFloat(e)},lonc:function(e){i.longc=e*Hne},x_0:function(e){i.x0=parseFloat(e)},y_0:function(e){i.y0=parseFloat(e)},k_0:function(e){i.k0=parseFloat(e)},k:function(e){i.k0=parseFloat(e)},a:function(e){i.a=parseFloat(e)},b:function(e){i.b=parseFloat(e)},r:function(e){i.a=i.b=parseFloat(e)},r_a:function(){i.R_A=!0},zone:function(e){i.zone=parseInt(e,10)},south:function(){i.utmSouth=!0},towgs84:function(e){i.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){i.to_meter=parseFloat(e)},units:function(e){i.units=e;var t=Xne(Bne,e);t&&(i.to_meter=t.to_meter)},from_greenwich:function(e){i.from_greenwich=e*Hne},pm:function(e){var t=Xne(qne,e);i.from_greenwich=(t||parseFloat(e))*Hne},nadgrids:function(e){"@null"===e?i.datumCode="none":i.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(i.axis=e)},approx:function(){i.approx=!0}};for(t in o)n=o[t],t in s?"function"==typeof(r=s[t])?r(n):i[r]=n:i[t]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}const Jne=function(e){var t=new ire(e);return t.output()};var Zne=1,Qne=/\s/,ere=/[A-Za-z]/,tre=/[A-Za-z84_]/,nre=/[,\]]/,rre=/[\d\.E\-\+]/;function ire(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Zne}function ore(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce((function(e,t){return sre(t,e),e}),r);t&&(e[t]=i)}function sre(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void sre(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var r;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&sre(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&sre(e[3],t[n]));case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":return e[0]=["name",e[0]],void ore(t,n,e);case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":return e[0]=["name",e[0]],ore(t,n,e),void(t[n].type=n);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return sre(e,t[n]);return ore(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}ire.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;Qne.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Zne:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},ire.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(nre.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},ire.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Zne)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Zne,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},ire.prototype.number=function(e){if(!rre.test(e)){if(nre.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},ire.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},ire.prototype.keyword=function(e){if(tre.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=Zne)}if(!nre.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},ire.prototype.neutral=function(e){if(ere.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(rre.test(e))return this.word=e,void(this.state=3);if(!nre.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},ire.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var are=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function lre(e){return.017453292519943295*e}function cre(e){for(var t=Object.keys(e),n=0,r=t.length;n<r;++n){var i=t[n];-1!==are.indexOf(i)&&ure(e[i]),"object"==typeof e[i]&&cre(e[i])}}function ure(e){if(e.AUTHORITY){var t=Object.keys(e.AUTHORITY)[0];t&&t in e.AUTHORITY&&(e.title=t+":"+e.AUTHORITY[t])}if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var n="",r=0,i=e.AXIS.length;r<i;++r){var o=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?n+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?n+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?n+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(n+="w")}2===n.length&&(n+="u"),3===n.length&&(e.axis=n)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;function a(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_1949"===e.datumCode&&(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"belge_1972"===e.datumCode&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",lre],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",lre],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",lre],["lat0","latitude_of_origin",lre],["lat0","standard_parallel_1",lre],["lat1","standard_parallel_1",lre],["lat2","standard_parallel_2",lre],["azimuth","Azimuth"],["alpha","azimuth",lre],["srsCode","name"]].forEach((function(t){return function(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}(e,t)})),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName?!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=lre(e.lat0>0?90:-90)):(e.lat0=lre(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function hre(e){var t=Jne(e),n=t[0],r={};return sre(t,r),cre(r),r[n]}function dre(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?dre[e]=Kne(arguments[1]):dre[e]=hre(arguments[1]):dre[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?dre.apply(t,e):dre(e)}));if("string"==typeof e){if(e in dre)return dre[e]}else"EPSG"in e?dre["EPSG:"+e.EPSG]=e:"ESRI"in e?dre["ESRI:"+e.ESRI]=e:"IAU2000"in e?dre["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var t=0;t<=60;++t)e("EPSG:"+(32600+t),"+proj=utm +zone="+t+" +datum=WGS84 +units=m"),e("EPSG:"+(32700+t),"+proj=utm +zone="+t+" +south +datum=WGS84 +units=m");e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(dre);const fre=dre;var pre=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var mre=["3857","900913","3785","102113"];const gre=function(e){if(!function(e){return"string"==typeof e}(e))return e;if(function(e){return e in fre}(e))return fre[e];if(function(e){return pre.some((function(t){return e.indexOf(t)>-1}))}(e)){var t=hre(e);if(function(e){var t=Xne(e,"authority");if(t){var n=Xne(t,"epsg");return n&&mre.indexOf(n)>-1}}(t))return fre["EPSG:3857"];var n=function(e){var t=Xne(e,"extension");if(t)return Xne(t,"proj4")}(t);return n?Kne(n):t}return function(e){return"+"===e[0]}(e)?Kne(e):void 0};function _re(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e}function yre(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function bre(e){return e<0?-1:1}function vre(e){return Math.abs(e)<=Gne?e:e-bre(e)*Wne}function wre(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Yne-t))/r}function xre(e,t){for(var n,r,i=.5*e,o=Yne-2*Math.atan(t),s=0;s<=15;s++)if(n=e*Math.sin(o),o+=r=Yne-2*Math.atan(t*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999}const Mre={init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=yre(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,n,r=e.x,i=e.y;if(i*zne>90&&i*zne<-90&&r*zne>180&&r*zne<-180)return null;if(Math.abs(Math.abs(i)-Yne)<=jne)return null;if(this.sphere)t=this.x0+this.a*this.k0*vre(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(Une+.5*i));else{var o=Math.sin(i),s=wre(this.e,i,o);t=this.x0+this.a*this.k0*vre(r-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=Yne-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=xre(this.e,o)))return null}return t=vre(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]};function Sre(e){return e}var kre=[Mre,{init:function(){},forward:Sre,inverse:Sre,names:["longlat","identity"]}],Tre={},Lre=[];function Cre(e,t){var n=Lre.length;return e.names?(Lre[n]=e,e.names.forEach((function(e){Tre[e.toLowerCase()]=n})),this):(console.log(t),!0)}const Ere={start:function(){kre.forEach(Cre)},add:Cre,get:function(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==Tre[t]&&Lre[Tre[t]]?Lre[Tre[t]]:void 0}};var Dre={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Are=Dre.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Dre.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var $re={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},militargeographische_institut:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var Pre in $re){var Rre=$re[Pre];$re[Rre.datumName]=Rre}const Ore=$re;const Ire=function(e,t,n,r,i,o,s){var a={};return a.datum_type=void 0===e||"none"===e?5:4,t&&(a.datum_params=t.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=1),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=2,a.datum_params[3]*=Nne,a.datum_params[4]*=Nne,a.datum_params[5]*=Nne,a.datum_params[6]=a.datum_params[6]/1e6+1))),s&&(a.datum_type=3,a.grids=s),a.a=n,a.b=r,a.es=i,a.ep2=o,a};var Fre={};function Nre(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:Fre[e]||null,isNull:!1}}function Yre(e){return e/3600*Math.PI/180}function jre(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function Hre(e){return e.map((function(e){return[Yre(e.longitudeShift),Yre(e.latitudeShift)]}))}function zre(e,t,n){return{name:jre(e,t+8,t+16).trim(),parent:jre(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function Ure(e,t,n,r){for(var i=t+176,o=[],s=0;s<n.gridNodeCount;s++){var a={latitudeShift:e.getFloat32(i+16*s,r),longitudeShift:e.getFloat32(i+16*s+4,r),latitudeAccuracy:e.getFloat32(i+16*s+8,r),longitudeAccuracy:e.getFloat32(i+16*s+12,r)};o.push(a)}return o}function Wre(e,t){if(!(this instanceof Wre))return new Wre(e);t=t||function(e){if(e)throw e};var n=gre(e);if("object"==typeof n){var r=Wre.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=Xne(Ore,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=function(e,t,n,r,i){if(!e){var o=Xne(Dre,r);o||(o=Are),e=o.a,t=o.b,n=o.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<jne)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(e,t,n,r){var i=e*e,o=t*t,s=(i-o)/i,a=0;return r?(i=(e*=1-s*(.16666666666666666+s*(.04722222222222222+.022156084656084655*s)))*e,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(i-o)/o}}(o.a,o.b,o.rf,n.R_A),a=function(e){return void 0===e?null:e.split(",").map(Nre)}(n.nadgrids),l=n.datum||Ire(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2,a);_re(this,n),_re(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),t(null,this)}else t("Could not get projection name from: "+e)}else t("Could not parse to valid json: "+e)}Wre.projections=Ere,Wre.projections.start();const Gre=Wre;function qre(e,t,n){var r,i,o,s,a=e.x,l=e.y,c=e.z?e.z:0;if(l<-Yne&&l>-1.001*Yne)l=-Yne;else if(l>Yne&&l<1.001*Yne)l=Yne;else{if(l<-Yne)return{x:-1/0,y:-1/0,z:e.z};if(l>Yne)return{x:1/0,y:1/0,z:e.z}}return a>Math.PI&&(a-=2*Math.PI),i=Math.sin(l),s=Math.cos(l),o=i*i,{x:((r=n/Math.sqrt(1-t*o))+c)*s*Math.cos(a),y:(r+c)*s*Math.sin(a),z:(r*(1-t)+c)*i}}function Bre(e,t,n,r){var i,o,s,a,l,c,u,h,d,f,p,m,g,_,y,b=1e-12,v=e.x,w=e.y,x=e.z?e.z:0;if(i=Math.sqrt(v*v+w*w),o=Math.sqrt(v*v+w*w+x*x),i/n<b){if(_=0,o/n<b)return y=-r,{x:e.x,y:e.y,z:e.z}}else _=Math.atan2(w,v);s=x/o,h=(a=i/o)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*a*a)),d=s*l,g=0;do{g++,c=t*(u=n/Math.sqrt(1-t*d*d))/(u+(y=i*h+x*d-u*(1-t*d*d))),m=(p=s*(l=1/Math.sqrt(1-c*(2-c)*a*a)))*h-(f=a*(1-c)*l)*d,h=f,d=p}while(m*m>1e-24&&g<30);return{x:_,y:Math.atan(p/Math.abs(f)),z:y}}function Vre(e){return 1===e||2===e}function Xre(e,t,n){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(1===e.datum_type?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:2!==e.datum_type||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return n;if(5===e.datum_type||5===t.datum_type)return n;var r=e.a,i=e.es;if(3===e.datum_type){if(0!==Kre(e,!1,n))return;r=Ine,i=Fne}var o=t.a,s=t.b,a=t.es;if(3===t.datum_type&&(o=Ine,s=6356752.314,a=Fne),i===a&&r===o&&!Vre(e.datum_type)&&!Vre(t.datum_type))return n;if((n=qre(n,i,r),Vre(e.datum_type)&&(n=function(e,t,n){if(1===t)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(2===t){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-s*e.z)+i,z:c*(-a*e.x+s*e.y+e.z)+o}}}(n,e.datum_type,e.datum_params)),Vre(t.datum_type)&&(n=function(e,t,n){if(1===t)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(2===t){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=(e.x-r)/c,h=(e.y-i)/c,d=(e.z-o)/c;return{x:u+l*h-a*d,y:-l*u+h+s*d,z:a*u-s*h+d}}}(n,t.datum_type,t.datum_params)),n=Bre(n,a,o,s),3===t.datum_type)&&0!==Kre(t,!0,n))return;return n}function Kre(e,t,n){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},o=[];e:for(var s=0;s<e.grids.length;s++){var a=e.grids[s];if(o.push(a.name),a.isNull){i=r;break}if(a.mandatory,null!==a.grid)for(var l=a.grid.subgrids,c=0,u=l.length;c<u;c++){var h=l[c],d=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,f=h.ll[0]-d,p=h.ll[1]-d,m=h.ll[0]+(h.lim[0]-1)*h.del[0]+d,g=h.ll[1]+(h.lim[1]-1)*h.del[1]+d;if(!(p>r.y||f>r.x||g<r.y||m<r.x)&&(i=Jre(r,t,h),!isNaN(i.x)))break e}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*zne+" "+r.y*zne+" tried: '"+o+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function Jre(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var i={x:e.x,y:e.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=vre(i.x-Math.PI)+Math.PI;var o=Zre(i,n);if(t){if(isNaN(o.x))return r;o.x=i.x-o.x,o.y=i.y-o.y;var s,a,l=9;do{if(a=Zre(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:i.x-(a.x+o.x),y:i.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(l--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=vre(o.x+n.ll[0]),r.y=o.y+n.ll[1]}else isNaN(o.x)||(r.x=e.x+o.x,r.y=e.y+o.y);return r}function Zre(e,t){var n,r={x:e.x/t.del[0],y:e.y/t.del[1]},i=Math.floor(r.x),o=Math.floor(r.y),s=r.x-1*i,a=r.y-1*o,l={x:Number.NaN,y:Number.NaN};if(i<0||i>=t.lim[0])return l;if(o<0||o>=t.lim[1])return l;n=o*t.lim[0]+i;var c=t.cvs[n][0],u=t.cvs[n][1];n++;var h=t.cvs[n][0],d=t.cvs[n][1];n+=t.lim[0];var f=t.cvs[n][0],p=t.cvs[n][1];n--;var m=t.cvs[n][0],g=t.cvs[n][1],_=s*a,y=s*(1-a),b=(1-s)*(1-a),v=(1-s)*a;return l.x=b*c+y*h+v*m+_*f,l.y=b*u+y*d+v*g+_*p,l}function Qre(e,t,n){var r,i,o,s=n.x,a=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!t||2!==o||void 0!==n.z)switch(0===o?(r=s,i=-1!=="ew".indexOf(e.axis[o])?"x":"y"):1===o?(r=a,i=-1!=="ns".indexOf(e.axis[o])?"y":"x"):(r=l,i="z"),e.axis[o]){case"e":case"n":c[i]=r;break;case"w":case"s":c[i]=-r;break;case"u":void 0!==n[i]&&(c.z=r);break;case"d":void 0!==n[i]&&(c.z=-r);break;default:return null}return c}function eie(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function tie(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function nie(e,t,n,r){var i,o=void 0!==(n=Array.isArray(n)?eie(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(function(e){tie(e.x),tie(e.y)}(n),e.datum&&t.datum&&function(e,t){return(1===e.datum.datum_type||2===e.datum.datum_type||3===e.datum.datum_type)&&"WGS84"!==t.datumCode||(1===t.datum.datum_type||2===t.datum.datum_type||3===t.datum.datum_type)&&"WGS84"!==e.datumCode}(e,t)&&(n=nie(e,i=new Gre("WGS84"),n,r),e=i),r&&"enu"!==e.axis&&(n=Qre(e,!1,n)),"longlat"===e.projName)n={x:n.x*Hne,y:n.y*Hne,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=Xre(e.datum,t.datum,n))return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*zne,y:n.y*zne,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&"enu"!==t.axis?Qre(t,!0,n):(n&&!o&&delete n.z,n)}var rie=Gre("WGS84");function iie(e,t,n,r){var i,o,s;return Array.isArray(n)?(i=nie(e,t,n,r)||{x:NaN,y:NaN},n.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.slice(3)):[i.x,i.y,n[2]].concat(n.slice(3)):[i.x,i.y].concat(n.slice(2)):[i.x,i.y]):(o=nie(e,t,n,r),2===(s=Object.keys(n)).length||s.forEach((function(r){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;o[r]=n[r]})),o)}function oie(e){return e instanceof Gre?e:e.oProj?e.oProj:Gre(e)}const sie=function(e,t,n){e=oie(e);var r,i=!1;return void 0===t?(t=e,e=rie,i=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,t=e,e=rie,i=!0),t=oie(t),n?iie(e,t,n):(r={forward:function(n,r){return iie(e,t,n,r)},inverse:function(n,r){return iie(t,e,n,r)}},i&&(r.oProj=t),r)};var aie="AJSAJS",lie="AFAFAF",cie=65,uie=73,hie=79,die=86,fie=90;const pie={forward:mie,inverse:function(e){var t=bie(xie(e.toUpperCase()));if(t.lat&&t.lon)return[t.lon,t.lat,t.lon,t.lat];return[t.left,t.bottom,t.right,t.top]},toPoint:gie};function mie(e,t){return t=t||5,function(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+(i=e.easting,o=e.northing,s=e.zoneNumber,a=wie(s),l=Math.floor(i/1e5),c=Math.floor(o/1e5)%20,function(e,t,n){var r=n-1,i=aie.charCodeAt(r),o=lie.charCodeAt(r),s=i+e-1,a=o+t,l=!1;return s>fie&&(s=s-fie+cie-1,l=!0),(s===uie||i<uie&&s>uie||(s>uie||i<uie)&&l)&&s++,(s===hie||i<hie&&s>hie||(s>hie||i<hie)&&l)&&++s===uie&&s++,s>fie&&(s=s-fie+cie-1),a>die?(a=a-die+cie-1,l=!0):l=!1,(a===uie||o<uie&&a>uie||(a>uie||o<uie)&&l)&&a++,(a===hie||o<hie&&a>hie||(a>hie||o<hie)&&l)&&++a===uie&&a++,a>die&&(a=a-die+cie-1),String.fromCharCode(s)+String.fromCharCode(a)}(l,c,a))+n.substr(n.length-5,t)+r.substr(r.length-5,t);var i,o,s,a,l,c}(function(e){var t,n,r,i,o,s,a,l,c=e.lat,u=e.lon,h=6378137,d=.00669438,f=.9996,p=_ie(c),m=_ie(u);l=Math.floor((u+180)/6)+1,180===u&&(l=60);c>=56&&c<64&&u>=3&&u<12&&(l=32);c>=72&&c<84&&(u>=0&&u<9?l=31:u>=9&&u<21?l=33:u>=21&&u<33?l=35:u>=33&&u<42&&(l=37));a=_ie(6*(l-1)-180+3),t=d/(1-d),n=h/Math.sqrt(1-d*Math.sin(p)*Math.sin(p)),r=Math.tan(p)*Math.tan(p),i=t*Math.cos(p)*Math.cos(p),o=Math.cos(p)*(m-a),s=h*((1-d/4-3*d*d/64-5*d*d*d/256)*p-(3*d/8+3*d*d/32+45*d*d*d/1024)*Math.sin(2*p)+(15*d*d/256+45*d*d*d/1024)*Math.sin(4*p)-35*d*d*d/3072*Math.sin(6*p));var g=f*n*(o+(1-r+i)*o*o*o/6+(5-18*r+r*r+72*i-58*t)*o*o*o*o*o/120)+5e5,_=f*(s+n*Math.tan(p)*(o*o/2+(5-r+9*i+4*i*i)*o*o*o*o/24+(61-58*r+r*r+600*i-330*t)*o*o*o*o*o*o/720));c<0&&(_+=1e7);return{northing:Math.round(_),easting:Math.round(g),zoneNumber:l,zoneLetter:vie(c)}}({lat:e[1],lon:e[0]}),t)}function gie(e){var t=bie(xie(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function _ie(e){return e*(Math.PI/180)}function yie(e){return e/Math.PI*180}function bie(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var o,s,a,l,c,u,h,d,f,p=.9996,m=6378137,g=.00669438,_=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),y=n-5e5,b=t;r<"N"&&(b-=1e7),h=6*(i-1)-180+3,o=.006739496752268451,f=(d=b/p/6367449.145945056)+(3*_/2-27*_*_*_/32)*Math.sin(2*d)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*d)+151*_*_*_/96*Math.sin(6*d),s=m/Math.sqrt(1-g*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),l=o*Math.cos(f)*Math.cos(f),c=.99330562*m/Math.pow(1-g*Math.sin(f)*Math.sin(f),1.5),u=y/(s*p);var v=f-s*Math.tan(f)/c*(u*u/2-(5+3*a+10*l-4*l*l-9*o)*u*u*u*u/24+(61+90*a+298*l+45*a*a-1.6983531815716497-3*l*l)*u*u*u*u*u*u/720);v=yie(v);var w,x=(u-(1+2*a+l)*u*u*u/6+(5-2*l+28*a-3*l*l+8*o+24*a*a)*u*u*u*u*u/120)/Math.cos(f);if(x=h+yie(x),e.accuracy){var M=bie({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});w={top:M.lat,right:M.lon,bottom:v,left:x}}else w={lat:v,lon:x};return w}function vie(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function wie(e){var t=e%6;return 0===t&&(t=6),t}function xie(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,i="",o=0;!/[A-Z]/.test(t=e.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,o++}var s=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(o,o+=2);for(var l=wie(s),c=function(e,t){var n=aie.charCodeAt(t-1),r=1e5,i=!1;for(;n!==e.charCodeAt(0);){if(++n===uie&&n++,n===hie&&n++,n>fie){if(i)throw"Bad character: "+e;n=cie,i=!0}r+=1e5}return r}(r.charAt(0),l),u=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=lie.charCodeAt(t-1),r=0,i=!1;for(;n!==e.charCodeAt(0);){if(++n===uie&&n++,n===hie&&n++,n>die){if(i)throw"Bad character: "+e;n=cie,i=!0}r+=1e5}return r}(r.charAt(1),l);u<Mie(a);)u+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var d,f,p,m=h/2,g=0,_=0;return m>0&&(d=1e5/Math.pow(10,m),f=e.substring(o,o+m),g=parseFloat(f)*d,p=e.substring(o+m),_=parseFloat(p)*d),{easting:g+c,northing:_+u,zoneLetter:a,zoneNumber:s,accuracy:d}}function Mie(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Sie(e,t,n){if(!(this instanceof Sie))return new Sie(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Sie.fromMGRS=function(e){return new Sie(gie(e))},Sie.prototype.toMGRS=function(e){return mie([this.x,this.y],e)};const kie=Sie;var Tie=.046875,Lie=.01953125,Cie=.01068115234375;function Eie(e){var t=[];t[0]=1-e*(.25+e*(Tie+e*(Lie+e*Cie))),t[1]=e*(.75-e*(Tie+e*(Lie+e*Cie)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),n*=e,t[3]=n*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t}function Die(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}function Aie(e,t,n){for(var r=1/(1-t),i=e,o=20;o;--o){var s=Math.sin(i),a=1-t*s*s;if(i-=a=(Die(i,s,Math.cos(i),n)-e)*(a*Math.sqrt(a))*r,Math.abs(a)<jne)return i}return i}const $ie={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Eie(this.es),this.ml0=Die(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,n,r,i=e.x,o=e.y,s=vre(i-this.long0),a=Math.sin(o),l=Math.cos(o);if(this.es){var c=l*s,u=Math.pow(c,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),f=Math.abs(l)>jne?Math.tan(o):0,p=Math.pow(f,2),m=Math.pow(p,2);t=1-this.es*Math.pow(a,2),c/=Math.sqrt(t);var g=Die(o,a,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-p+h+u/20*(5-18*p+m+14*h-58*p*h+u/42*(61+179*m-m*p-479*p)))))+this.x0,r=this.a*(this.k0*(g-this.ml0+a*s*c/2*(1+u/12*(5-p+9*h+4*d+u/30*(61+m-58*p+270*h-330*p*h+u/56*(1385+543*m-m*p-3111*p))))))+this.y0}else{var _=l*Math.sin(s);if(Math.abs(Math.abs(_)-1)<jne)return 93;if(n=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,r=l*Math.cos(s)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(r))>=1){if(_-1>jne)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e},inverse:function(e){var t,n,r,i,o=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(n=Aie(t=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<Yne){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>jne?Math.tan(n):0,u=this.ep2*Math.pow(l,2),h=Math.pow(u,2),d=Math.pow(c,2),f=Math.pow(d,2);t=1-this.es*Math.pow(a,2);var p=o*Math.sqrt(t)/this.k0,m=Math.pow(p,2);r=n-(t*=c)*m/(1-this.es)*.5*(1-m/12*(5+3*d-9*u*d+u-4*h-m/30*(61+90*d-252*u*d+45*f+46*u-m/56*(1385+3633*d+4095*f+1574*f*d)))),i=vre(this.long0+p*(1-m/6*(1+2*d+u-m/20*(5+28*d+24*f+8*u*d+6*u-m/42*(61+662*d+1320*f+720*f*d))))/l)}else r=Yne*bre(s),i=0;else{var g=Math.exp(o/this.k0),_=.5*(g-1/g),y=this.lat0+s/this.k0,b=Math.cos(y);t=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(_,2))),r=Math.asin(t),s<0&&(r=-r),i=0===_&&0===b?0:vre(Math.atan2(_,b)+this.long0)}return e.x=i,e.y=r,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Pie(e){var t=Math.exp(e);return t=(t-1/t)/2}function Rie(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function Oie(e){var t=Math.abs(e);return t=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}(t*(1+t/(Rie(1,t)+1))),e<0?-t:t}function Iie(e,t){for(var n,r=2*Math.cos(2*t),i=e.length-1,o=e[i],s=0;--i>=0;)n=r*o-s+e[i],s=o,o=n;return t+n*Math.sin(2*t)}function Fie(e,t,n){for(var r,i,o=Math.sin(t),s=Math.cos(t),a=Pie(n),l=function(e){var t=Math.exp(e);return(t+1/t)/2}(n),c=2*s*l,u=-2*o*a,h=e.length-1,d=e[h],f=0,p=0,m=0;--h>=0;)r=p,i=f,d=c*(p=d)-r-u*(f=m)+e[h],m=u*p-i+c*f;return[(c=o*l)*d-(u=s*a)*m,c*m+u*d]}const Nie={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&($ie.init.apply(this),this.forward=$ie.forward,this.inverse=$ie.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=Iie(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(e,t){for(var n,r=2*Math.cos(t),i=e.length-1,o=e[i],s=0;--i>=0;)n=r*o-s+e[i],s=o,o=n;return Math.sin(t)*n}(this.gtu,2*r))},forward:function(e){var t=vre(e.x-this.long0),n=e.y;n=Iie(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(t),s=Math.cos(t);n=Math.atan2(r,s*i),t=Math.atan2(o*i,Rie(r,i*s)),t=Oie(Math.tan(t));var a,l,c=Fie(this.gtu,2*n,2*t);return n+=c[0],t+=c[1],Math.abs(t)<=2.623395162778?(a=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),e.x=a,e.y=l,e},inverse:function(e){var t,n,r=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=Fie(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Pie(r));var s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r);i=Math.atan2(s*c,Rie(l,c*a)),t=vre((r=Math.atan2(l,c*a))+this.long0),n=Iie(this.cgb,i)}else t=1/0,n=1/0;return e.x=t,e.y=n,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]};const Yie={init:function(){var e=function(e,t){if(void 0===e){if((e=Math.floor(30*(vre(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Hne,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Nie.init.apply(this),this.forward=Nie.forward,this.inverse=Nie.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function jie(e,t){return Math.pow((1-e)/(1+e),t)}const Hie={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Une)/(Math.pow(Math.tan(.5*this.lat0+Une),this.C)*jie(this.e*e,this.ratexp))},forward:function(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Une),this.C)*jie(this.e*Math.sin(n),this.ratexp))-Yne,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+Une)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(r*jie(this.e*Math.sin(e.y),-.5*this.e))-Yne,!(Math.abs(n-e.y)<1e-14));--i)e.y=n;return i?(e.x=t,e.y=n,e):null},names:["gauss"]};const zie={init:function(){Hie.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,n,r,i;return e.x=vre(e.x-this.long0),Hie.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,n,r,i,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=Rie(e.x,e.y)){var s=2*Math.atan2(o,this.R2);t=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/o),r=Math.atan2(e.x*t,o*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,Hie.inverse.apply(this,[e]),e.x=vre(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};const Uie={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=jne&&(this.k0=.5*(1+bre(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=jne&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=jne&&Math.abs(Math.cos(this.lat_ts))>jne&&(this.k0=.5*this.cons*yre(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/wre(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=yre(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Yne,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,n,r,i,o,s,a=e.x,l=e.y,c=Math.sin(l),u=Math.cos(l),h=vre(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=jne&&Math.abs(l+this.lat0)<=jne?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(h)),e.x=this.a*t*u*Math.sin(h)+this.x0,e.y=this.a*t*(this.coslat0*c-this.sinlat0*u*Math.cos(h))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,c,this.e))-Yne,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=jne?(o=wre(this.e,l*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,e.x=this.x0+s*Math.sin(a-this.long0),e.y=this.y0-this.con*s*Math.cos(a-this.long0),e):(Math.abs(this.sinlat0)<jne?(t=2*this.a*this.k0/(1+i*Math.cos(h)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),e.x=t*i*Math.sin(h)+this.x0,e))},inverse:function(e){var t,n,r,i,o;e.x-=this.x0,e.y-=this.y0;var s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return t=this.long0,n=this.lat0,s<=jne?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/s),t=Math.abs(this.coslat0)<jne?this.lat0>0?vre(this.long0+Math.atan2(e.x,-1*e.y)):vre(this.long0+Math.atan2(e.x,e.y)):vre(this.long0+Math.atan2(e.x*Math.sin(a),s*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=jne){if(s<=jne)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*xre(this.e,r),t=this.con*vre(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,s<=jne?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/s),t=vre(this.long0+Math.atan2(e.x*Math.sin(i),s*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*xre(this.e,Math.tan(.5*(Yne+o)));return e.x=t,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function(e,t,n){return t*=n,Math.tan(.5*(Yne+e))*Math.pow((1-t)/(1+t),.5*n)}};const Wie={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(t,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+o*t)/(1-o*t));this.K=s-this.alpha*a+this.alpha*o/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*s+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,l=0,c=o,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e},names:["somerc"]};var Gie=1e-7;const qie={init:function(){var e,t,n,r,i,o,s,a,l,c,u,h=0,d=0,f=0,p=0,m=0,g=0,_=0;this.no_off=function(e){var t="object"==typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(t)}(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),y&&(_=this.alpha),b&&(h=this.rectified_grid_angle*Hne),y||b)d=this.longc;else if(f=this.long1,m=this.lat1,p=this.long2,g=this.lat2,Math.abs(m-g)<=Gie||(e=Math.abs(m))<=Gie||Math.abs(e-Yne)<=Gie||Math.abs(Math.abs(this.lat0)-Yne)<=Gie||Math.abs(Math.abs(g)-Yne)<=Gie)throw new Error;var v=1-this.es;t=Math.sqrt(v),Math.abs(this.lat0)>jne?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/v),this.A=this.B*this.k0*t/e,(i=(r=this.B*t/(n*Math.sqrt(e)))*r-1)<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(wre(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=i=1),y||b?(y?(u=Math.asin(Math.sin(_)/r),b||(h=_)):(u=h,_=Math.asin(r*Math.sin(u))),this.lam0=d-Math.asin(.5*(i-1/i)*Math.tan(u))/this.B):(o=Math.pow(wre(this.e,m,Math.sin(m)),this.B),s=Math.pow(wre(this.e,g,Math.sin(g)),this.B),i=this.E/o,l=(s-o)/(s+o),c=((c=this.E*this.E)-s*o)/(c+s*o),(e=f-p)<-Math.pi?p-=Wne:e>Math.pi&&(p+=Wne),this.lam0=vre(.5*(f+p)-Math.atan(c*Math.tan(.5*this.B*(f-p))/l)/this.B),u=Math.atan(2*Math.sin(this.B*vre(f-this.lam0))/(i-1/i)),h=_=Math.asin(r*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(Une-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Une+i))},forward:function(e){var t,n,r,i,o,s,a,l,c={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-Yne)>jne){if(t=.5*((o=this.E/Math.pow(wre(this.e,e.y,Math.sin(e.y)),this.B))-(s=1/o)),n=.5*(o+s),i=Math.sin(this.B*e.x),r=(t*this.singam-i*this.cosgam)/n,Math.abs(Math.abs(r)-1)<jne)throw new Error;l=.5*this.ArB*Math.log((1-r)/(1+r)),s=Math.cos(this.B*e.x),a=Math.abs(s)<Gie?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+i*this.singam,s)}else l=e.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*e.y;return this.no_rot?(c.x=a,c.y=l):(a-=this.u_0,c.x=l*this.cosrot+a*this.sinrot,c.y=a*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(e){var t,n,r,i,o,s,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=.5*((r=Math.exp(-this.BrA*n))-1/r),o=.5*(r+1/r),a=((s=Math.sin(this.BrA*t))*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(a)-1)<jne)l.x=0,l.y=a<0?-Yne:Yne;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=xre(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};const Bie={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<jne)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=yre(this.e,t,n),i=wre(this.e,this.lat1,t),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=yre(this.e,o,s),l=wre(this.e,this.lat2,o),c=wre(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>jne?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=jne&&(n=bre(n)*(Yne-2e-10));var r,i,o=Math.abs(Math.abs(n)-Yne);if(o>jne)r=wre(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var s=this.ns*vre(t-this.long0);return e.x=this.k0*(i*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,e},inverse:function(e){var t,n,r,i,o,s=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+a*a),n=1):(t=-Math.sqrt(s*s+a*a),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*s,n*a)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(i=xre(this.e,r)))return null}else i=-Yne;return o=vre(l/this.ns+this.long0),e.x=o,e.y=i,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};const Vie={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,n,r,i,o,s,a,l=e.x,c=e.y,u=vre(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=a*Math.cos(s)/1,e.x=a*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,n,r,i,o,s,a,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),i=Math.atan2(e.y,e.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,s=t,a=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-e.y)<1e-10&&(a=1),s=e.y,c+=1}while(0===a&&c<15);return c>=15?null:e},names:["Krovak","krovak"]};function Xie(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Kie(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Jie(e){return.375*e*(1+.25*e*(1+.46875*e))}function Zie(e){return.05859375*e*e*(1+.75*e)}function Qie(e){return e*e*e*(35/3072)}function eoe(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function toe(e){return Math.abs(e)<Yne?e:e-bre(e)*Math.PI}function noe(e,t,n,r,i){var o,s;o=e/t;for(var a=0;a<15;a++)if(o+=s=(e-(t*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(t-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}const roe={init:function(){this.sphere||(this.e0=Kie(this.es),this.e1=Jie(this.es),this.e2=Zie(this.es),this.e3=Qie(this.es),this.ml0=this.a*Xie(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,n,r=e.x,i=e.y;if(r=vre(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=eoe(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,h=this.es*s*s/(1-this.es);t=a*c*(1-u*l*(1/6-(8-l+8*h)*u/120)),n=this.a*Xie(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*o/s*u*(.5+(5-l+6*h)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var o=i+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var s=noe(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Yne)<=jne)return e.x=this.long0,e.y=Yne,i<0&&(e.y*=-1),e;var a=eoe(this.a,this.e,Math.sin(s)),l=a*a*a/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),u=r*this.a/a,h=u*u;t=s-a*Math.tan(s)/l*u*u*(.5-(1+3*c)*u*u/24),n=u*(1-h*(c/3+(1+3*c)*c*h/15))/Math.cos(s)}return e.x=vre(n+this.long0),e.y=toe(t),e},names:["Cassini","Cassini_Soldner","cass"]};function ioe(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t}var ooe=.3333333333333333,soe=.17222222222222222,aoe=.10257936507936508,loe=.06388888888888888,coe=.0664021164021164,uoe=.016415012942191543;const hoe={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-Yne)<jne?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<jne?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=ioe(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,n=[];return n[0]=e*ooe,t=e*e,n[0]+=t*soe,n[1]=t*loe,t*=e,n[0]+=t*aoe,n[1]+=t*coe,n[2]=t*uoe,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=ioe(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,n,r,i,o,s,a,l,c,u,h=e.x,d=e.y;if(h=vre(h-this.long0),this.sphere){if(o=Math.sin(d),u=Math.cos(d),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*o+this.cosph0*u*r)<=jne)return null;t=(n=Math.sqrt(2/n))*u*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(d+this.lat0)<jne)return null;n=Une-.5*d,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(h),i=Math.sin(h),o=Math.sin(d),s=ioe(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=Yne+d,s=this.qp-s;break;case this.S_POLE:c=d-Yne,s=this.qp+s}if(Math.abs(c)<jne)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*l*r):(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(t=(c=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?c:-c)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,s,a,l=e.x/this.a,c=e.y/this.a;if(this.sphere){var u,h=0,d=0;if((n=.5*(u=Math.sqrt(l*l+c*c)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(u)<=jne?0:Math.asin(c*d/u),l*=d,c=h*u;break;case this.OBLIQ:n=Math.abs(u)<=jne?this.lat0:Math.asin(h*this.sinph0+c*d*this.cosph0/u),l*=d*this.cosph0,c=(h-Math.sin(n)*this.sinph0)*u;break;case this.N_POLE:c=-c,n=Yne-n;break;case this.S_POLE:n-=Yne}t=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,c):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,c*=this.dd,(s=Math.sqrt(l*l+c*c))<jne)return e.x=this.long0,e.y=this.lat0,e;i=2*Math.asin(.5*s/this.rq),r=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(a=r*this.sinb1+c*i*this.cosb1/s,o=this.qp*a,c=s*this.cosb1*r-c*this.sinb1*i):(a=c*i/s,o=this.qp*a,c=s*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(o=l*l+c*c))return e.x=this.long0,e.y=this.lat0,e;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}t=Math.atan2(l,c),n=function(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}(Math.asin(a),this.apa)}return e.x=vre(this.long0+t),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function doe(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}const foe={init:function(){Math.abs(this.lat1+this.lat2)<jne||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=yre(this.e3,this.sin_po,this.cos_po),this.qs1=ioe(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=yre(this.e3,this.sin_po,this.cos_po),this.qs2=ioe(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ioe(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>jne?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=ioe(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*vre(t-this.long0),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return e.x=s,e.y=a,e},inverse:function(e){var t,n,r,i,o,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=vre(i/this.ns0+this.long0),e.x=o,e.y=s,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var n,r,i,o,s=doe(.5*t);if(e<jne)return s;for(var a=e*e,l=1;l<=25;l++)if(s+=o=.5*(i=1-(r=e*(n=Math.sin(s)))*r)*i/Math.cos(s)*(t/(1-a)-n/i+.5/e*Math.log((1-r)/(1+r))),Math.abs(o)<=1e-7)return s;return null}};const poe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,n,r,i,o,s,a,l=e.x,c=e.y;return r=vre(l-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),(o=this.sin_p14*t+this.cos_p14*n*i)>0||Math.abs(o)<=jne?(s=this.x0+1*this.a*n*Math.sin(r)/o,a=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*i)/o):(s=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=s,e.y=a,e},inverse:function(e){var t,n,r,i,o,s;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),s=doe((r=Math.cos(i))*this.sin_p14+e.y*n*this.cos_p14/t),o=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),o=vre(this.long0+o)):(s=this.phic0,o=0),e.x=o,e.y=s,e},names:["gnom"]};const moe={init:function(){this.sphere||(this.k0=yre(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,n,r=e.x,i=e.y,o=vre(r-this.long0);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=ioe(this.e,Math.sin(i));t=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return e.x=t,e.y=n,e},inverse:function(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=vre(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*Yne:Yne;for(var r,i,o,s,a=Math.asin(.5*t),l=0;l<30;l++)if(i=Math.sin(a),o=Math.cos(a),s=e*i,a+=r=Math.pow(1-s*s,2)/(2*o)*(t/(1-e*e)-i/(1-s*s)+.5/e*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return a;return NaN}(this.e,2*e.y*this.k0/this.a),t=vre(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e},names:["cea"]};const goe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,n=e.y,r=vre(t-this.long0),i=toe(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e},inverse:function(e){var t=e.x,n=e.y;return e.x=vre(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=toe(this.lat0+(n-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};const _oe={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kie(this.es),this.e1=Jie(this.es),this.e2=Zie(this.es),this.e3=Qie(this.es),this.ml0=this.a*Xie(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,n,r,i=e.x,o=e.y,s=vre(i-this.long0);if(r=s*Math.sin(o),this.sphere)Math.abs(o)<=jne?(t=this.a*s,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(o),n=this.a*(toe(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=jne)t=this.a*s,n=-1*this.ml0;else{var a=eoe(this.a,this.e,Math.sin(o))/Math.tan(o);t=a*Math.sin(r),n=this.a*Xie(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){var t,n,r,i,o,s,a,l,c;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=jne)t=vre(r/this.a+this.long0),n=0;else{var u;for(s=this.lat0+i/this.a,a=r*r/this.a/this.a+s*s,l=s,o=20;o;--o)if(l+=c=-1*(s*(l*(u=Math.tan(l))+1)-l-.5*(l*l+a)*u)/((l-s)/u-1),Math.abs(c)<=jne){n=l;break}t=vre(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=jne)n=0,t=vre(this.long0+r/this.a);else{var h,d,f,p,m;for(s=(this.ml0+i)/this.a,a=r*r/this.a/this.a+s*s,l=s,o=20;o;--o)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*Xie(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(s*(h*(p=d/this.a)+1)-p-.5*h*(p*p+a))/(this.es*Math.sin(2*l)*(p*p+a-2*s*p)/(4*h)+(s-p)*(h*f-2/Math.sin(2*l))-f),Math.abs(c)<=jne){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=vre(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return e.x=t,e.y=n,e},names:["Polyconic","poly"]};const yoe={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,n=e.x,r=e.y-this.lat0,i=n-this.long0,o=r/Nne*1e-5,s=i,a=1,l=0;for(t=1;t<=10;t++)a*=o,l+=this.A[t]*a;var c,u=l,h=s,d=1,f=0,p=0,m=0;for(t=1;t<=6;t++)c=f*u+d*h,d=d*u-f*h,f=c,p=p+this.B_re[t]*d-this.B_im[t]*f,m=m+this.B_im[t]*d+this.B_re[t]*f;return e.x=m*this.a+this.x0,e.y=p*this.a+this.y0,e},inverse:function(e){var t,n,r=e.x,i=e.y,o=r-this.x0,s=(i-this.y0)/this.a,a=o/this.a,l=1,c=0,u=0,h=0;for(t=1;t<=6;t++)n=c*s+l*a,l=l*s-c*a,c=n,u=u+this.C_re[t]*l-this.C_im[t]*c,h=h+this.C_im[t]*l+this.C_re[t]*c;for(var d=0;d<this.iterations;d++){var f,p=u,m=h,g=s,_=a;for(t=2;t<=6;t++)f=m*u+p*h,p=p*u-m*h,m=f,g+=(t-1)*(this.B_re[t]*p-this.B_im[t]*m),_+=(t-1)*(this.B_im[t]*p+this.B_re[t]*m);p=1,m=0;var y=this.B_re[1],b=this.B_im[1];for(t=2;t<=6;t++)f=m*u+p*h,p=p*u-m*h,m=f,y+=t*(this.B_re[t]*p-this.B_im[t]*m),b+=t*(this.B_im[t]*p+this.B_re[t]*m);var v=y*y+b*b;u=(g*y+_*b)/v,h=(_*y-g*b)/v}var w=u,x=h,M=1,S=0;for(t=1;t<=9;t++)M*=w,S+=this.D[t]*M;var k=this.lat0+S*Nne*1e5,T=this.long0+x;return e.x=T,e.y=k,e},names:["New_Zealand_Map_Grid","nzmg"]};const boe={init:function(){},forward:function(e){var t=e.x,n=e.y,r=vre(t-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=o,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=vre(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e},names:["Miller_Cylindrical","mill"]};const voe={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Eie(this.es)},forward:function(e){var t,n,r=e.x,i=e.y;if(r=vre(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=20;s;--s){var a=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<jne)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);n=this.a*Die(i,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r;return e.x-=this.x0,n=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,n/=this.C_x*(this.m+Math.cos(t)),this.m?t=doe((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=doe(Math.sin(t)/this.n)),n=vre(n+this.long0),t=toe(t)):(t=Aie(e.y/this.a,this.es,this.en),(r=Math.abs(t))<Yne?(r=Math.sin(t),n=vre(this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(t)))):r-jne<Yne&&(n=this.long0)),e.x=n,e.y=t,e},names:["Sinusoidal","sinu"]};const woe={init:function(){},forward:function(e){for(var t=e.x,n=e.y,r=vre(t-this.long0),i=n,o=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<jne)break}i/=2,Math.PI/2-Math.abs(n)<jne&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=a,e.y=l,e},inverse:function(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=vre(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e},names:["Mollweide","moll"]};const xoe={init:function(){Math.abs(this.lat1+this.lat2)<jne||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kie(this.es),this.e1=Jie(this.es),this.e2=Zie(this.es),this.e3=Qie(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=yre(this.e,this.sinphi,this.cosphi),this.ml1=Xie(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<jne?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=yre(this.e,this.sinphi,this.cosphi),this.ml2=Xie(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Xie(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=Xie(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var o=this.ns*vre(n-this.long0),s=this.x0+t*Math.sin(o),a=this.y0+this.rh-t*Math.cos(o);return e.x=s,e.y=a,e},inverse:function(e){var t,n,r,i;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;return 0!==n&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere?(i=vre(this.long0+o/this.ns),r=toe(this.g-n/this.a),e.x=i,e.y=r,e):(r=noe(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),i=vre(this.long0+o/this.ns),e.x=i,e.y=r,e)},names:["Equidistant_Conic","eqdc"]};const Moe={init:function(){this.R=this.a},forward:function(e){var t,n,r=e.x,i=e.y,o=vre(r-this.long0);Math.abs(i)<=jne&&(t=this.x0+this.R*o,n=this.y0);var s=doe(2*Math.abs(i/Math.PI));(Math.abs(o)<=jne||Math.abs(Math.abs(i)-Yne)<=jne)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),l=a*a,c=Math.sin(s),u=Math.cos(s),h=u/(c+u-1),d=h*h,f=h*(2/c-1),p=f*f,m=Math.PI*this.R*(a*(h-p)+Math.sqrt(l*(h-p)*(h-p)-(p+l)*(d-p)))/(p+l);o<0&&(m=-m),t=this.x0+m;var g=l+h;return m=Math.PI*this.R*(f*g-a*Math.sqrt((p+l)*(l+1)-g*g))/(p+l),n=i>=0?this.y0+m:this.y0-m,e.x=t,e.y=n,e},inverse:function(e){var t,n,r,i,o,s,a,l,c,u,h,d;return e.x-=this.x0,e.y-=this.y0,h=Math.PI*this.R,o=(r=e.x/h)*r+(i=e.y/h)*i,h=3*(i*i/(l=-2*(s=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(a=s-2*i*i+r*r)*a*a/l/l/l-9*s*a/l/l)/27)/(c=(s-a*a/3/l)/l)/(u=2*Math.sqrt(-c/3)),Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=e.y>=0?(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI:-(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI,t=Math.abs(r)<jne?this.long0:vre(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),e.x=t,e.y=n,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};const Soe={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,n,r,i,o,s,a,l,c,u,h,d,f,p,m,g,_,y,b,v,w,x,M=e.x,S=e.y,k=Math.sin(e.y),T=Math.cos(e.y),L=vre(M-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=jne?(e.x=this.x0+this.a*(Yne-S)*Math.sin(L),e.y=this.y0-this.a*(Yne-S)*Math.cos(L),e):Math.abs(this.sin_p12+1)<=jne?(e.x=this.x0+this.a*(Yne+S)*Math.sin(L),e.y=this.y0+this.a*(Yne+S)*Math.cos(L),e):(y=this.sin_p12*k+this.cos_p12*T*Math.cos(L),_=(g=Math.acos(y))?g/Math.sin(g):1,e.x=this.x0+this.a*_*T*Math.sin(L),e.y=this.y0+this.a*_*(this.cos_p12*k-this.sin_p12*T*Math.cos(L)),e):(t=Kie(this.es),n=Jie(this.es),r=Zie(this.es),i=Qie(this.es),Math.abs(this.sin_p12-1)<=jne?(o=this.a*Xie(t,n,r,i,Yne),s=this.a*Xie(t,n,r,i,S),e.x=this.x0+(o-s)*Math.sin(L),e.y=this.y0-(o-s)*Math.cos(L),e):Math.abs(this.sin_p12+1)<=jne?(o=this.a*Xie(t,n,r,i,Yne),s=this.a*Xie(t,n,r,i,S),e.x=this.x0+(o+s)*Math.sin(L),e.y=this.y0+(o+s)*Math.cos(L),e):(a=k/T,l=eoe(this.a,this.e,this.sin_p12),c=eoe(this.a,this.e,k),u=Math.atan((1-this.es)*a+this.es*l*this.sin_p12/(c*T)),b=0===(h=Math.atan2(Math.sin(L),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(L)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(h)-Math.PI)<=jne?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(L)*Math.cos(u)/Math.sin(h)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),g=l*b*(1-(v=b*b)*(m=(f=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*f)*(1-m)/6+(w=v*b)/8*(p=d*f)*(1-2*m)+(x=w*b)/120*(m*(4-7*m)-3*d*d*(1-7*m))-x*b/48*p),e.x=this.x0+g*Math.sin(h),e.y=this.y0+g*Math.cos(h),e))},inverse:function(e){var t,n,r,i,o,s,a,l,c,u,h,d,f,p,m,g,_,y,b,v,w,x,M;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*Yne*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=jne?s=this.lat0:(s=doe(i*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-Yne,o=Math.abs(a)<=jne?this.lat0>=0?vre(this.long0+Math.atan2(e.x,-e.y)):vre(this.long0-Math.atan2(-e.x,e.y)):vre(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=o,e.y=s,e}return l=Kie(this.es),c=Jie(this.es),u=Zie(this.es),h=Qie(this.es),Math.abs(this.sin_p12-1)<=jne?(s=noe(((d=this.a*Xie(l,c,u,h,Yne))-(t=Math.sqrt(e.x*e.x+e.y*e.y)))/this.a,l,c,u,h),o=vre(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=s,e):Math.abs(this.sin_p12+1)<=jne?(d=this.a*Xie(l,c,u,h,Yne),s=noe(((t=Math.sqrt(e.x*e.x+e.y*e.y))-d)/this.a,l,c,u,h),o=vre(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=s,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),f=eoe(this.a,this.e,this.sin_p12),g=Math.cos(m),y=-(_=this.e*this.cos_p12*g)*_/(1-this.es),b=3*this.es*(1-y)*this.sin_p12*this.cos_p12*g/(1-this.es),x=1-y*(w=(v=t/f)-y*(1+y)*Math.pow(v,3)/6-b*(1+3*y)*Math.pow(v,4)/24)*w/2-v*w*w*w/6,p=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*g),o=vre(this.long0+Math.asin(Math.sin(m)*Math.sin(w)/Math.cos(p))),M=Math.sin(p),s=Math.atan2((M-this.es*x*this.sin_p12)*Math.tan(p),M*(1-this.es)),e.x=o,e.y=s,e)},names:["Azimuthal_Equidistant","aeqd"]};const koe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,n,r,i,o,s,a,l=e.x,c=e.y;return r=vre(l-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),((o=this.sin_p14*t+this.cos_p14*n*i)>0||Math.abs(o)<=jne)&&(s=1*this.a*n*Math.sin(r),a=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*i)),e.x=s,e.y=a,e},inverse:function(e){var t,n,r,i,o,s,a;return e.x-=this.x0,e.y-=this.y0,n=doe((t=Math.sqrt(e.x*e.x+e.y*e.y))/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=jne?(a=this.lat0,e.x=s,e.y=a,e):(a=doe(i*this.sin_p14+e.y*r*this.cos_p14/t),o=Math.abs(this.lat0)-Yne,Math.abs(o)<=jne?(s=this.lat0>=0?vre(this.long0+Math.atan2(e.x,-e.y)):vre(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=a,e):(s=vre(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=s,e.y=a,e))},names:["ortho"]};var Toe=1,Loe=2,Coe=3,Eoe=4,Doe=5,Aoe=6,$oe=1,Poe=2,Roe=3,Ooe=4;function Ioe(e,t,n,r){var i;return e<jne?(r.value=$oe,i=0):(i=Math.atan2(t,n),Math.abs(i)<=Une?r.value=$oe:i>Une&&i<=Yne+Une?(r.value=Poe,i-=Yne):i>Yne+Une||i<=-(Yne+Une)?(r.value=Roe,i=i>=0?i-Gne:i+Gne):(r.value=Ooe,i+=Yne)),i}function Foe(e,t){var n=e+t;return n<-Gne?n+=Wne:n>+Gne&&(n-=Wne),n}const Noe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Yne-Une/2?this.face=Doe:this.lat0<=-(Yne-Une/2)?this.face=Aoe:Math.abs(this.long0)<=Une?this.face=Toe:Math.abs(this.long0)<=Yne+Une?this.face=this.long0>0?Loe:Eoe:this.face=Coe,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,n,r,i,o,s,a={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===Doe)i=Yne-t,n>=Une&&n<=Yne+Une?(l.value=$oe,r=n-Yne):n>Yne+Une||n<=-(Yne+Une)?(l.value=Poe,r=n>0?n-Gne:n+Gne):n>-(Yne+Une)&&n<=-Une?(l.value=Roe,r=n+Yne):(l.value=Ooe,r=n);else if(this.face===Aoe)i=Yne+t,n>=Une&&n<=Yne+Une?(l.value=$oe,r=-n+Yne):n<Une&&n>=-Une?(l.value=Poe,r=-n):n<-Une&&n>=-(Yne+Une)?(l.value=Roe,r=-n-Yne):(l.value=Ooe,r=n>0?-n+Gne:-n-Gne);else{var c,u,h,d,f,p;this.face===Loe?n=Foe(n,+Yne):this.face===Coe?n=Foe(n,+Gne):this.face===Eoe&&(n=Foe(n,-Yne)),d=Math.sin(t),f=Math.cos(t),p=Math.sin(n),c=f*Math.cos(n),u=f*p,h=d,this.face===Toe?r=Ioe(i=Math.acos(c),h,u,l):this.face===Loe?r=Ioe(i=Math.acos(u),h,-c,l):this.face===Coe?r=Ioe(i=Math.acos(-c),h,-u,l):this.face===Eoe?r=Ioe(i=Math.acos(-u),h,c,l):(i=r=0,l.value=$oe)}return s=Math.atan(12/Gne*(r+Math.acos(Math.sin(r)*Math.cos(Une))-Yne)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Poe?s+=Yne:l.value===Roe?s+=Gne:l.value===Ooe&&(s+=1.5*Gne),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,e.x=a.x,e.y=a.y,e},inverse:function(e){var t,n,r,i,o,s,a,l,c,u,h,d,f={lam:0,phi:0},p={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?p.value=$oe:e.y>=0&&e.y>=Math.abs(e.x)?(p.value=Poe,t-=Yne):e.x<0&&-e.x>=Math.abs(e.y)?(p.value=Roe,t=t<0?t+Gne:t-Gne):(p.value=Ooe,t+=Yne),c=Gne/12*Math.tan(t),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(r=Math.cos(t))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===Doe)l=Math.acos(a),f.phi=Yne-l,p.value===$oe?f.lam=s+Yne:p.value===Poe?f.lam=s<0?s+Gne:s-Gne:p.value===Roe?f.lam=s-Yne:f.lam=s;else if(this.face===Aoe)l=Math.acos(a),f.phi=l-Yne,p.value===$oe?f.lam=-s+Yne:p.value===Poe?f.lam=-s:p.value===Roe?f.lam=-s-Yne:f.lam=s<0?-s-Gne:-s+Gne;else{var m,g,_;c=(m=a)*m,g=(c+=(_=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*_)>=1?0:Math.sqrt(1-c),p.value===Poe?(c=g,g=-_,_=c):p.value===Roe?(g=-g,_=-_):p.value===Ooe&&(c=g,g=_,_=-c),this.face===Loe?(c=m,m=-g,g=c):this.face===Coe?(m=-m,g=-g):this.face===Eoe&&(c=m,m=g,g=-c),f.phi=Math.acos(-_)-Yne,f.lam=Math.atan2(g,m),this.face===Loe?f.lam=Foe(f.lam,-Yne):this.face===Coe?f.lam=Foe(f.lam,-Gne):this.face===Eoe&&(f.lam=Foe(f.lam,+Yne))}return 0!==this.es&&(u=f.phi<0?1:0,h=Math.tan(f.phi),d=this.b/Math.sqrt(h*h+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),u&&(f.phi=-f.phi)),f.lam+=this.long0,e.x=f.lam,e.y=f.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var Yoe=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],joe=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Hoe=.8487,zoe=1.3523,Uoe=zne/5,Woe=1/Uoe,Goe=18,qoe=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))};const Boe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=vre(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*Uoe);r<0?r=0:r>=Goe&&(r=17);var i={x:qoe(Yoe[r],n=zne*(n-Woe*r))*t,y:qoe(joe[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*Hoe+this.x0,i.y=i.y*this.a*zoe+this.y0,i},inverse:function(e){var t={x:(e.x-this.x0)/(this.a*Hoe),y:Math.abs(e.y-this.y0)/(this.a*zoe)};if(t.y>=1)t.x/=Yoe[18][0],t.y=e.y<0?-Yne:Yne;else{var n=Math.floor(t.y*Goe);for(n<0?n=0:n>=Goe&&(n=17);;)if(joe[n][0]>t.y)--n;else{if(!(joe[n+1][0]<=t.y))break;++n}var r=joe[n],i=5*(t.y-r[0])/(joe[n+1][0]-r[0]);i=function(e,t,n,r){for(var i=t;r;--r){var o=e(i);if(i-=o,Math.abs(o)<n)break}return i}((function(e){return(qoe(r,e)-t.y)/function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])}(r,e)}),i,jne,100),t.x/=qoe(Yoe[n],i),t.y=(5*n+i)*Hne,e.y<0&&(t.y=-t.y)}return t.x=vre(t.x+this.long0),t},names:["Robinson","robin"]};const Voe={init:function(){this.name="geocent"},forward:function(e){return qre(e,this.es,this.a)},inverse:function(e){return Bre(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var Xoe=0,Koe=1,Joe=2,Zoe=3,Qoe={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const ese={init:function(){if(Object.keys(Qoe).forEach(function(e){if(void 0===this[e])this[e]=Qoe[e].def;else{if(Qoe[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);Qoe[e].num&&(this[e]=parseFloat(this[e]))}Qoe[e].degrees&&(this[e]=this[e]*Hne)}.bind(this)),Math.abs(Math.abs(this.lat0)-Yne)<jne?this.mode=this.lat0<0?Koe:Xoe:Math.abs(this.lat0)<jne?this.mode=Joe:(this.mode=Zoe,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,n,r,i,o=Math.sin(e.y),s=Math.cos(e.y),a=Math.cos(e.x);switch(this.mode){case Zoe:n=this.sinph0*o+this.cosph0*s*a;break;case Joe:n=s*a;break;case Koe:n=-o;break;case Xoe:n=o}switch(t=(n=this.pn1/(this.p-n))*s*Math.sin(e.x),this.mode){case Zoe:n*=this.cosph0*o-this.sinph0*s*a;break;case Joe:n*=o;break;case Xoe:n*=-s*a;break;case Koe:n*=s*a}return i=1/((r=n*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*i,n=r*i,e.x=t*this.a,e.y=n*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,n,r,i={x:e.x,y:e.y};r=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*r,n=this.pn1*e.y*this.cw*r,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var o=Rie(e.x,e.y);if(Math.abs(o)<jne)i.x=0,i.y=e.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case Zoe:i.y=Math.asin(s*this.sinph0+e.y*a*this.cosph0/o),e.y=(s-this.sinph0*Math.sin(i.y))*o,e.x*=a*this.cosph0;break;case Joe:i.y=Math.asin(e.y*a/o),e.y=s*o,e.x*=a;break;case Xoe:i.y=Math.asin(s),e.y=-e.y;break;case Koe:i.y=-Math.asin(s)}i.x=Math.atan2(e.x,e.y)}return e.x=i.x+this.long0,e.y=i.y,e},names:["Tilted_Perspective","tpers"]};const tse={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(e){var t,n,r,i,o=e.x,s=e.y;if(o-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/Rie(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(o)*Math.cos(s),r=a*Math.sin(o)*Math.cos(s),i=a*Math.sin(s),(this.radius_g-n)*n-r*r-i*i*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/Rie(i,t)),e.y=this.radius_g_1*Math.atan(i/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(i/Rie(r,t)))}else"sphere"===this.shape&&(t=Math.cos(s),n=Math.cos(o)*t,r=Math.sin(o)*t,i=Math.sin(s),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/Rie(i,t)),e.y=this.radius_g_1*Math.atan(i/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(i/Rie(r,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e},inverse:function(e){var t,n,r,i,o=-1,s=0,a=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),s=Math.tan(e.x/this.radius_g_1)*Rie(1,a)):(s=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Rie(1,s));var l=a/this.radius_p;if(t=s*s+l*l+o*o,(r=(n=2*this.radius_g*o)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=(-n-Math.sqrt(r))/(2*t),o=this.radius_g+i*o,s*=i,a*=i,e.x=Math.atan2(s,o),e.y=Math.atan(a*Math.cos(e.x)/o),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),s=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+s*s)),t=s*s+a*a+o*o,(r=(n=2*this.radius_g*o)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=(-n-Math.sqrt(r))/(2*t),o=this.radius_g+i*o,s*=i,a*=i,e.x=Math.atan2(s,o),e.y=Math.atan(a*Math.cos(e.x)/o)}return e.x=e.x+this.long0,e},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var nse=1.340264,rse=-.081106,ise=893e-6,ose=.003796,sse=Math.sqrt(3)/2;const ase={init:function(){this.es=0,this.long0=void 0!==this.long0?this.long0:0},forward:function(e){var t=vre(e.x-this.long0),n=e.y,r=Math.asin(sse*Math.sin(n)),i=r*r,o=i*i*i;return e.x=t*Math.cos(r)/(sse*(nse+3*rse*i+o*(7*ise+.034164*i))),e.y=r*(nse+rse*i+o*(ise+ose*i)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t,n,r,i,o=e.y;for(i=0;i<12&&(o-=r=(o*(nse+rse*(t=o*o)+(n=t*t*t)*(ise+ose*t))-e.y)/(nse+3*rse*t+n*(7*ise+.034164*t)),!(Math.abs(r)<1e-9));++i);return n=(t=o*o)*t*t,e.x=sse*e.x*(nse+3*rse*t+n*(7*ise+.034164*t))/Math.cos(o),e.y=Math.asin(Math.sin(o)/sse),e.x=vre(e.x+this.long0),e},names:["eqearth","Equal Earth","Equal_Earth"]};var lse=1e-10;function cse(e){var t,n,r,i=vre(e.x-(this.long0||0)),o=e.y;return t=this.am1+this.m1-Die(o,n=Math.sin(o),r=Math.cos(o),this.en),n=r*i/(t*Math.sqrt(1-this.es*n*n)),e.x=t*Math.sin(n),e.y=this.am1-t*Math.cos(n),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function use(e){var t,n,r,i;if(e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a,n=Rie(e.x,e.y=this.am1-e.y),i=Aie(this.am1+this.m1-n,this.es,this.en),(t=Math.abs(i))<Yne)t=Math.sin(i),r=n*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(i);else{if(!(Math.abs(t-Yne)<=lse))throw new Error;r=0}return e.x=vre(r+(this.long0||0)),e.y=toe(i),e}function hse(e){var t,n,r=vre(e.x-(this.long0||0)),i=e.y;return n=this.cphi1+this.phi1-i,Math.abs(n)>lse?(e.x=n*Math.sin(t=r*Math.cos(i)/n),e.y=this.cphi1-n*Math.cos(t)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function dse(e){var t,n;e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var r=Rie(e.x,e.y=this.cphi1-e.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>Yne)throw new Error;return t=Math.abs(Math.abs(n)-Yne)<=lse?0:r*Math.atan2(e.x,e.y)/Math.cos(n),e.x=vre(t+(this.long0||0)),e.y=toe(n),e}const fse={init:function(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<lse)throw new Error;this.es?(this.en=Eie(this.es),this.m1=Die(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=use,this.forward=cse):(Math.abs(this.phi1)+lse>=Yne?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=dse,this.forward=hse)},names:["bonne","Bonne (Werner lat_1=90)"]};sie.defaultDatum="WGS84",sie.Proj=Gre,sie.WGS84=new sie.Proj("WGS84"),sie.Point=kie,sie.toPoint=eie,sie.defs=fre,sie.nadgrid=function(e,t){var n=new DataView(t),r=function(e){var t=e.getInt32(8,!1);if(11===t)return!1;t=e.getInt32(8,!0),11!==t&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(n),i=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:jre(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(n,r),o=function(e,t,n){for(var r=176,i=[],o=0;o<t.nSubgrids;o++){var s=zre(e,r,n),a=Ure(e,r,s,n),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[Yre(s.lowerLongitude),Yre(s.lowerLatitude)],del:[Yre(s.longitudeInterval),Yre(s.latitudeInterval)],lim:[l,c],count:s.gridNodeCount,cvs:Hre(a)}),r+=176+16*s.gridNodeCount}return i}(n,i,r),s={header:i,subgrids:o};return Fre[e]=s,s},sie.transform=nie,sie.mgrs=pie,sie.version="__VERSION__",function(e){e.Proj.projections.add($ie),e.Proj.projections.add(Nie),e.Proj.projections.add(Yie),e.Proj.projections.add(zie),e.Proj.projections.add(Uie),e.Proj.projections.add(Wie),e.Proj.projections.add(qie),e.Proj.projections.add(Bie),e.Proj.projections.add(Vie),e.Proj.projections.add(roe),e.Proj.projections.add(hoe),e.Proj.projections.add(foe),e.Proj.projections.add(poe),e.Proj.projections.add(moe),e.Proj.projections.add(goe),e.Proj.projections.add(_oe),e.Proj.projections.add(yoe),e.Proj.projections.add(boe),e.Proj.projections.add(voe),e.Proj.projections.add(woe),e.Proj.projections.add(xoe),e.Proj.projections.add(Moe),e.Proj.projections.add(Soe),e.Proj.projections.add(koe),e.Proj.projections.add(Noe),e.Proj.projections.add(Boe),e.Proj.projections.add(Voe),e.Proj.projections.add(ese),e.Proj.projections.add(tse),e.Proj.projections.add(ase),e.Proj.projections.add(fse)}(sie);const pse=sie;function mse(e,t){pse.defs(e,t.definition.join(" ").trim());const n=/^EPSG:(\d+)$/.exec(e);null!==n&&pse.defs("http://www.opengis.net/gml/srs/epsg.xml#"+n[1],pse.defs(e)),One(pse);const r=pR(e);return r.setExtent(t.extent),r}const gse="units",_se=[1,2,5],yse=25.4/.28;const bse=class extends eB{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+Nn,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(gse,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(gse)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(gse,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=e.center,n=e.projection,r=this.getUnits(),i="degrees"==r?"degrees":"m";let o=mR(n,e.resolution,t,i);const s=this.minWidth_*(this.dpi_||yse)/yse,a=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||yse)/yse:void 0;let l=s*o,c="";if("degrees"==r){const e=TP.degrees;l*=e,l<e/60?(c="″",o*=3600):l<e?(c="′",o*=60):c="°"}else if("imperial"==r)l<.9144?(c="in",o/=.0254):l<1609.344?(c="ft",o/=.3048):(c="mi",o/=1609.344);else if("nautical"==r)o/=1852,c="NM";else if("metric"==r)l<1e-6?(c="nm",o*=1e9):l<.001?(c="μm",o*=1e6):l<1?(c="mm",o*=1e3):l<1e3?c="m":(c="km",o/=1e3);else{if("us"!=r)throw new Error("Invalid units");l<.9144?(c="in",o*=39.37):l<1609.344?(c="ft",o/=.30480061):(c="mi",o/=1609.3472)}let u,h,d,f,p,m,g=3*Math.floor(Math.log(s*o)/Math.log(10));for(;;){d=Math.floor(g/3);const e=Math.pow(10,d);if(u=_se[(g%3+3)%3]*e,h=Math.round(u/o),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==a&&h>=a){u=f,h=p,d=m;break}if(h>=s)break;f=u,p=h,m=d,++g}const _=this.scaleBar_?this.createScaleBar(h,u,c):u.toFixed(d<0?-d:0)+" "+c;this.renderedHTML_!=_&&(this.innerElement_.innerHTML=_,this.renderedHTML_=_),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,n){const r=this.getScaleForResolution(),i=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),o=this.scaleBarSteps_,s=e/o,a=[this.createMarker("absolute")];for(let r=0;r<o;++r){const i=r%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${i}" style="width: ${s}px;"></div>`+this.createMarker("relative")+(r%2==0||2===o?this.createStepText(r,e,!1,t,n):"")+"</div>")}a.push(this.createStepText(o,e,!0,t,n));return(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+i+"</div>":"")+a.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,n,r,i){const o=(0===e?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+i);return`<div class="ol-scale-step-text" style="margin-left: ${0===e?-3:t/this.scaleBarSteps_*-1}px;text-align: ${0===e?"left":"center"};min-width: ${0===e?0:t/this.scaleBarSteps_*2}px;left: ${n?t+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){return mR(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||yse)}render(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}};function vse(e,t,n){if(function(e){for(const t in e)mse(t,e[t])}(t.get("gmfProjectionsOptions")),this.options=t.get("gmfOptions"),this.options.cssVars){const e=function(e){const t={};if(e["brand-primary"]){const n=gte(e["brand-primary"]),r=gte({h:n.toHsl().h,s:.25,l:.5});t["link-color"]=r.toHexString(),t["link-hover-color"]=r.clone().darken(15).toHexString();const i=n.clone().darken(15);t["input-border-focus"]=i.toHexString(),t["input-border-focus-darken"]=i.clone().darken(15).toHexString(),t["border-color"]=i.toHexString(),t["table-border-color"]=i.toHexString(),t["hover-background-color"]=n.clone().lighten(15).toHexString();const o=n.clone();o.setAlpha(.25),t["input-btn-focus-color"]=o.toRgbString()}if(e["brand-secondary"]){const n=gte(e["brand-secondary"]);t["brand-secondary-dark"]=n.clone().darken(15).toHexString()}return Object.assign(t,e),t}(this.options.cssVars),t=document.documentElement.style;for(const n in e)t.setProperty(`--${n}`,e[n])}const r=document.getElementById("scaleline"),i=new wI(this.options.view),o=i.getConstraints(),s=o.center,a=(e,t)=>e>0?e%t:t+e%t;o.center=(e,t,n,r,i)=>{const o=s(e,t,n,r,i);if(!r){const e=this.options.wmtsTopLeft||[0,0],r=a((o[0]-e[1])/t-n[0]/2+.5,1)-.5,i=a((e[0]-o[1])/t-n[1]/2+.5,1)-.5;o[0]-=r*t,o[1]+=i*t}return o},this.originalViewSetHint=i.setHint,this.fixCenterOnGrid(i);const l=new LB(Object.assign({layers:[],view:i,controls:this.options.mapControls||[new bse({target:r,dpi:96}),new rB(this.options.controlZoom||{target:n?void 0:"ol-zoom-control",zoomInTipLabel:"",zoomOutTipLabel:""}),new nB({label:Mse(),tipLabel:""})],interactions:this.options.mapInteractions||SB(this.options.interationDefaults||(n?{}:{dragPan:!1}))},this.options.map));if(l.updateViewportSize_=function(){const e=this.getView();if(e){let t;const n=getComputedStyle(this.viewport_);n.width&&n.height&&(t=[Math.round(parseFloat(n.width)),Math.round(parseFloat(n.height))]),e.setViewportSize(t)}},n||l.addInteraction(new oB({condition:wse})),WU.setMap(l),window.map=l,this.ngeoLocation=t.get("ngeoLocation"),this.ngeoLocation.hasParam("debug")&&(window.injector=t),this.map=l,!(this.map instanceof LB))throw new Error("Wrong map type");const c=t.get("ngeoFeatures");this.drawFeatureLayer=vU.getFeatureOverlay(),this.drawFeatureLayer.setFeatures(c);t.get("ngeoFeatureHelper").setProjection(this.map.getView().getProjection()),this.gmfThemeManager=t.get("gmfThemeManager"),this.gmfTreeManager_=t.get("gmfTreeManager"),this.gmfThemes=t.get("gmfThemes"),this.loading=!0,this.gmfThemes.getThemesObject().finally((()=>{this.loading=!1})),this.postLoading=!1,this.permalink_=t.get("gmfPermalink"),this.hasEditableLayers=!1,this.updateHasEditableLayers_=()=>{this.gmfThemes.hasEditableLayers().then((e=>{this.hasEditableLayers=e}))},this.loginRedirectUrl=null,this.searchListeners={select:function(e,t,n){if(void 0!==t.get){const e=t.get("params")||{};for(const t in e)this.dimensions[t]=e[t].toString()}}.bind(this)},e.$on("authenticationrequired",((t,n)=>{this.loginRedirectUrl=n.url,this.loginActive=!0;const r=e.$watch((()=>this.loginActive),(()=>{this.loginActive||(this.loginRedirectUrl=null,r())}))})),this.hasPrivateLayers=!1,Qs.getLoginMessage().subscribe({next:e=>{this.hasPrivateLayers=e==Js}});const u=()=>{if(this.loginRedirectUrl)return void(window.location.href=this.loginRedirectUrl);const e=bv.getRolesIds().join(","),t=this.gmfUser.functionalities;t&&t.filterable_layers&&t.filterable_layers.length>0&&(this.filterSelectorEnabled=!0),this.gmfThemes.getThemesObject().then((e=>{t&&t.open_panel&&"layer_filter"===t.open_panel[0]&&(this.filterSelectorActive=!0)}));const n=this.gmfThemeManager.getThemeName();if(this.gmfThemes.loadThemes(e),Qs.getState()!==Ks.READY){const e=this.permalink_.defaultThemeNameFromFunctionalities();this.gmfThemeManager.updateCurrentTheme(e,n,!0,this.hasPrivateLayers)}this.setDefaultBackground_(null),this.updateHasEditableLayers_()};this.gmfUser=null,Qs.getProperties().subscribe({next:e=>{const t=Qs.getState();t!==Ks.DISCONNECTED||!1!==this.gmfUser.is_password_changed?(this.gmfUser=e,t!==Ks.NOT_INITIALIZED&&(t===Ks.DISCONNECTED&&(this.loginActive=!0),!1!==this.gmfUser.is_password_changed&&u())):this.gmfUser=e}}),this.dimensions={},this.permalink_.setDimensions(this.dimensions);const h=t.get("gmfDataSourcesManager");if(h.setDatasourceMap(this.map),h.setDimensions(this.dimensions),t.has("gmfDefaultDimensions")){const e=t.get("gmfDefaultDimensions");for(const t in e)void 0===this.dimensions[t]&&(this.dimensions[t]=e[t])}this.backgroundLayerMgr_=t.get("ngeoBackgroundLayerMgr"),e.$watchCollection((()=>this.dimensions),(()=>{this.backgroundLayerMgr_.updateDimensions(this.map,this.dimensions)})),this.backgroundLayerMgr_.on("change",(()=>{this.backgroundLayerMgr_.updateDimensions(this.map,this.dimensions)})),this.filterSelectorEnabled=!1,this.queryActive=!0,this.ngeoMapQuerent_=t.get("ngeoMapQuerent"),this.stateManager=t.get("ngeoStateManager"),this.tmhDynamicLocale=t.get("tmhDynamicLocale"),this.$scope=e,this.lang="",this.defaultLang=t.get("defaultLang"),this.langUrls=t.get("langUrls"),this.gettextCatalog=t.get("gettextCatalog"),this.initLanguage(),this.mapToolsGroup="mapTools";vU.init(this.map);const d=t.get("ngeoToolActivateMgr"),f=new _ne(this,"queryActive");d.registerTool(this.mapToolsGroup,f,!0),e.$root.$on(M8,((e,t)=>{this.gmfThemes.getThemeObject(t).then((e=>{this.setDefaultBackground_(e)}))}));const p=(e,t,n,r)=>{this.displaywindowTitle=e,this.displaywindowOpen=!0,t&&(this.displaywindowWidth=`${t}px`),n&&(this.displaywindowHeight=`${n}px`),!1!==r&&this.$scope.$apply()},m=window.gmfx||{};window.gmfx=m,m.openIframePopup=(e,t,n,r,i)=>{this.displaywindowUrl=e,p(t,n,r,i)},m.openTextPopup=(e,t,n,r,i)=>{this.displaywindowContent=e,p(t,n,r,i)},this.manageResize=!1,this.resizeTransition;const g=window.cgxp||{};if(window.cgxp=g,g.tools=window.cgxp.tools||{},g.tools.openInfoWindow=function(e,t,n,r,i){m.openIframePopup(e,t,n,r,i)},this.displaywindowContent=null,this.displaywindowDraggableContainment=".gmf-map",this.displaywindowHeight="50vh",this.displaywindowOpen=!1,this.displaywindowTitle=null,this.displaywindowUrl=null,this.displaywindowWidth="50vw",t.has("sentryOptions")){const e=t.get("sentryOptions");if(e.dsn){e.integrations=[lv()];const n=e.tags||[];delete e.tags,Object.assign(e,{beforeBreadcrumb:Sse}),Qf(e),t.has("interface")&&!n.interface&&Qu("interface",t.get("interface"));for(const e in n)Qu(e,n[e])}}}function wse(e){return jj(e)&&2!==e.originalEvent.button}function xse(e,t){return t&&t.length>0?e.find((e=>e.get("label")===t[0])):null}function Mse(){const e=document.createElement("span");e.className="fa-solid fa-location-arrow",e.style.transform="rotate(-0.82rad)",e.style.fontSize="1.3em";const t=document.createElement("span");return t.appendChild(e),t}function Sse(e,t){if("ui.click"===e.category){const n=t.event.target;if(n){const t=n.dataset.sentry;t&&(e.message=`${e.message} | ${t}`)}}}vse.$inject=["$scope","$injector","mobile"],vse.prototype.fixCenterOnGrid=function(e){const t=MO(((e,t,n)=>{t===jO&&-1===n&&e.setCenter(e.getCenter())}),50);e.setHint=(n,r)=>{this.originalViewSetHint.call(e,n,r),t(e,n,r)}},vse.prototype.switchLanguage=function(e){if(!(e in this.langUrls))throw new Error("Missing lang URL");this.gettextCatalog.setCurrentLanguage(e),this.gettextCatalog.loadRemote(this.langUrls[e]),this.tmhDynamicLocale.set(e),this.lang=e},vse.prototype.initLanguage=function(){this.$scope.$watch((()=>this.lang),(e=>{this.stateManager.updateState({lang:e})}));const e=function(e){let t=window.navigator.languages||[window.navigator.language];return t=t.map((e=>e.substring(0,2))),t=t.filter(((e,t,n)=>n.indexOf(e)==t)),t.filter((t=>e.includes(t)))[0]}(Object.keys(this.langUrls)),t=this.stateManager.getInitialStringValue("lang");return void 0!==t&&t in this.langUrls?void this.switchLanguage(t):void 0!==e&&e in this.langUrls?void this.switchLanguage(e):void this.switchLanguage(this.defaultLang)},vse.prototype.setDefaultBackground_=function(e){this.gmfThemes.getBgLayers().then((t=>{let n;if(Xs.touchedByUser||(n=this.permalink_.getBackgroundLayer(t)),!n&&this.gmfUser.functionalities&&(n=xse(t,this.gmfUser.functionalities.default_basemap)),!n&&e&&(n=xse(t,e.functionalities.default_basemap)),n||(n=t[t.length>1?1:0]),!n)throw new Error("Missing layer");this.backgroundLayerMgr_.set(this.map,n)}))};const kse=t().module("GmfAbstractAppControllerModule",["gettext","tmh.dynamicLocale",R0.name,A4.name,Q4.name,I7.name,q9.name,xee.name,ste.name,dte.name,Zte.name,gne.name,g3.name,see.name,Tne.name,r7.name,Ene.name,Pne.name,G9.name]);kse.controller("AbstractController",vse),kse.value("ngeoExportFeatureFormats",[u3,c3]),kse.config(["tmhDynamicLocaleProvider","angularLocaleScript",function(e,t){e.localeLocationPattern(t)}]),QU(kse);const Tse=kse;class Lse extends vse{constructor(e,t){super(e,t,!1)}}Lse.$inject=["$scope","$injector"];const Cse=t().module("GmfAbstractAPIControllerModule",[Tse.name,z7.name]);Cse.controller("AbstractAPIController",Lse);const Ese=Cse,Dse=t().module("app",[]);Dse.config(["$compileProvider",function(e){"debug"in Gz(window.location.search)||e.debugInfoEnabled(!1)}]),Dse.run(["$injector",e=>{}]);const Ase=Dse;const $se=t().module("Appiframe_api",[Ase.name,Ese.name]);$se.controller("IframeAPIController",class extends Lse{})})()})();
//# sourceMappingURL=iframe_api-3e09ac.js.map