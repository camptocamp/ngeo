/*! For license information please see canvas-Desktop-stories.fd7a1195.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkngeo=self.webpackChunkngeo||[]).push([[316],{"./src/canvas/Desktop.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FooterAutoClose:()=>FooterAutoClose,FooterOpen:()=>FooterOpen,InfoBarOpen:()=>InfoBarOpen,PanelsClosed:()=>PanelsClosed,ToolOpen:()=>ToolOpen,default:()=>Desktop_stories});var BaseElement=__webpack_require__("./srcapi/elements/BaseElement.ts"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),panels=__webpack_require__("./srcapi/store/panels.ts"),__decorate=(__webpack_require__("./node_modules/jquery/dist/jquery-exposed.js"),__webpack_require__("./node_modules/bootstrap/js/src/tooltip.js"),function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r});class ToolButtonElement extends BaseElement.A{constructor(panelName){super(),this.active_=!1,this.title_=!1,this.subscriptions=[],this.panelName_=panelName}connectedCallback(){super.connectedCallback(),this.subscriptions.push(panels.A.getActiveToolPanel().subscribe({next:panel=>{this.active_=panel&&panel==this.panelName_}}))}activePanels_(panels){}click_(){panels.A.openToolPanel(this.panelName_)}render(){return lit.qy`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${this.title_}"><slot></slot></button>`}firstUpdated(){$(this.shadowRoot.querySelectorAll("[data-toggle='tooltip']")).tooltip()}}ToolButtonElement.styles=[...BaseElement.A.styles,lit.AH`button.btn{margin:0;margin-top:-1px;width:2rem;height:2rem;display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;user-select:none;padding:.25rem .5rem;font-size:.8rem;line-height:1.5;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;background-color:var(--brand-primary);border-radius:0;border:var(--border);border-color:var(--border-color);border-right-width:0;border-left-width:0}button.btn:focus{box-shadow:unset}button:hover{background-color:var(--hover-background-color)}button.active,button:active{box-shadow:none}button.active{background-color:var(--brand-secondary);border-left:.06rem solid;border-left-color:var(--brand-secondary);margin-left:-.06rem}`];const elements_ToolButtonElement=ToolButtonElement;__decorate([(0,decorators.wk)()],ToolButtonElement.prototype,"active_",void 0),__decorate([(0,decorators.wk)()],ToolButtonElement.prototype,"title_",void 0);let ToolButtonDefault=class ToolButtonDefault extends ToolButtonElement{connectedCallback(){super.connectedCallback(),this.panelName_=this.panelName}render(){return lit.qy`<button @click="${()=>this.click_()}" class="btn btn-default ${this.active_?"active":""}" data-toggle="tooltip" data-placement="left" data-original-title="${this.title}">${this.iconClasses?lit.qy`<span class="${this.iconClasses}"></span>`:lit.qy`<slot></slot>`}</button>`}};__decorate([(0,decorators.MZ)({type:String})],ToolButtonDefault.prototype,"panelName",void 0),__decorate([(0,decorators.MZ)({type:String})],ToolButtonDefault.prototype,"title",void 0),__decorate([(0,decorators.MZ)({type:String})],ToolButtonDefault.prototype,"iconClasses",void 0),ToolButtonDefault=__decorate([(0,decorators.EM)("gmf-tool-button")],ToolButtonDefault);var lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js");const directive_t_ATTRIBUTE=1;class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const class_map_e=(t=class extends i{constructor(t){if(super(t),t.type!==directive_t_ATTRIBUTE||"class"!==t.name||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((s=>t[s])).join(" ")+" "}update(s,[i]){if(void 0===this.st){this.st=new Set,void 0!==s.strings&&(this.nt=new Set(s.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in i)i[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(i)}const r=s.element.classList;for(const t of this.st)t in i||(r.remove(t),this.st.delete(t));for(const t in i){const s=!!i[t];s===this.st.has(t)||this.nt?.has(t)||(s?(r.add(t),this.st.add(t)):(r.remove(t),this.st.delete(t)))}return lit_html.c0}},(...e)=>({_$litDirective$:t,values:e}));var t,i18next=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),map=__webpack_require__("./srcapi/store/map.ts"),DesktopElement_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let GmfDesktopCanvas=class GmfDesktopCanvas extends BaseElement.A{constructor(){super(...arguments),this.toolPanel_=null,this.footerPanel_=null,this.showDatapanel_=!0,this.showInfobar_=!1,this.customCSS_="",this.minDatapanelWidth_=320,this.minToolpanelWidth_=280,this.toolsPanelWidth_={},this.onMouseDown=(panelResizeEvent,separator,leftElement,rightElement)=>event=>{panelResizeEvent={event,offsetLeft:separator.offsetLeft,separator,leftElement,rightElement,leftWidth:leftElement.offsetWidth,rightWidth:rightElement.offsetWidth},event.preventDefault(),document.onmousemove=this.onMouseMove(panelResizeEvent),document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null}},this.onMouseMove=panelResizeEvent=>event=>{if(event.preventDefault(),!this.showDatapanel_)return;let deltaX=event.clientX-panelResizeEvent.event.clientX;if("gmf-app-data-panel"===panelResizeEvent.leftElement.id){deltaX=Math.min(Math.max(deltaX,this.minDatapanelWidth_-panelResizeEvent.leftWidth),panelResizeEvent.rightWidth);const newLeftWidth=`${panelResizeEvent.leftWidth+deltaX}px`;document.documentElement.style.setProperty("--left-panel-width",newLeftWidth)}else if("gmf-app-tools-content"===panelResizeEvent.rightElement.id){const styles=getComputedStyle(document.documentElement);let minToolpanelWidth=parseFloat(styles.getPropertyValue(`--right-panel-width-${this.toolPanel_}`));minToolpanelWidth?minToolpanelWidth*=parseFloat(styles.fontSize):minToolpanelWidth=this.minToolpanelWidth_,deltaX=Math.max(-panelResizeEvent.leftWidth,Math.min(deltaX,panelResizeEvent.rightWidth-minToolpanelWidth)),panelResizeEvent.separator.style.left=`${panelResizeEvent.offsetLeft+deltaX}px`;const newRightWidth=panelResizeEvent.rightWidth-deltaX+"px";document.documentElement.style.setProperty("--current-right-panel-width",newRightWidth),this.toolsPanelWidth_[this.toolPanel_]=newRightWidth}return event}}connectedCallback(){super.connectedCallback(),this.subscriptions.push(map.A.getMap().subscribe({next:map=>{map&&(this.map_=map)}})),this.subscriptions.push(panels.A.getActiveToolPanel().subscribe({next:panel=>{const styles=getComputedStyle(document.documentElement);let width=this.toolsPanelWidth_[panel];width||(width=styles.getPropertyValue(`--right-panel-width-${panel}`)),width||(width=styles.getPropertyValue("--right-panel-width")),width||(width="17.5rem"),document.documentElement.style.setProperty("--current-right-panel-width",width),this.toolPanel_=panel}})),this.subscriptions.push(panels.A.getActiveFooterPanel().subscribe({next:panel=>{let height="0";if(panel){const styles=getComputedStyle(document.documentElement);height=styles.getPropertyValue(`--footer-panel-height-${panel}`),height||(height=styles.getPropertyValue("--footer-panel-height")),height||(height="15.62rem")}document.documentElement.style.setProperty("--current-footer-panel-height",height),this.footerPanel_=panel}})),this.resizeObserver_=new ResizeObserver((()=>{this.map_&&(this.map_.updateSize(),this.map_.renderSync())}));const desktopCanvas=document.querySelector("gmf-desktop-canvas").shadowRoot;desktopCanvas.addEventListener("mousedown",(event=>{this.resizeDataPanel(event,desktopCanvas)})),desktopCanvas.addEventListener("mousedown",(event=>{this.resizeToolPanel(event,desktopCanvas)}))}disconnectedCallback(){super.disconnectedCallback(),this.mapElement_&&this.resizeObserver_.disconnect()}initConfig(configuration){configuration.gmfOptions&&void 0!==configuration.gmfOptions.showInfobar&&(this.showInfobar_=configuration.gmfOptions.showInfobar),configuration.gmfCustomCSS&&void 0!==configuration.gmfCustomCSS.desktopCanvas&&(this.customCSS_=configuration.gmfCustomCSS.desktopCanvas),this.toggleBackgroundSelector()}toggleShowInfobar_(){this.showInfobar_=!this.showInfobar_,this.toggleBackgroundSelector()}toggleBackgroundSelector(){this.showInfobar_?document.documentElement.style.setProperty("--current-infobar-height","var(--infobar-height)"):document.documentElement.style.setProperty("--current-infobar-height","0")}toggleShowDatapanel_(){if(this.showDatapanel_=!this.showDatapanel_,this.showDatapanel_)document.documentElement.style.setProperty("--left-panel-width",this.datapanelWidth_),document.documentElement.style.setProperty("--current-left-panel-separator-width","var(--panel-separator-width)"),document.documentElement.style.setProperty("--current-left-panel-border-width","var(--border)");else{const styles=getComputedStyle(document.documentElement);this.datapanelWidth_=styles.getPropertyValue("--left-panel-width"),document.documentElement.style.setProperty("--left-panel-width","0"),document.documentElement.style.setProperty("--current-left-panel-separator-width","0"),document.documentElement.style.setProperty("--current-left-panel-border-width","0")}}resizeDataPanel(event,desktopCanvas){const separator=desktopCanvas.getElementById("gmf-app-panel-separator-container"),leftElement=desktopCanvas.getElementById("gmf-app-data-panel"),rightElement=desktopCanvas.getElementById("gmf-app-map");return separator.onmousedown=this.onMouseDown(undefined,separator,leftElement,rightElement),event}resizeToolPanel(event,desktopCanvas){const separator=desktopCanvas.getElementById("gmf-app-tool-panel-separator"),leftElement=desktopCanvas.getElementById("gmf-app-map"),rightElement=desktopCanvas.getElementById("gmf-app-tools-content");return separator.onmousedown=this.onMouseDown(undefined,separator,leftElement,rightElement),event}render(){return lit.qy`<style>${(0,lit.iz)(this.customCSS_)}</style><header><slot name="header"></slot></header><main class="${class_map_e({"gmf-footer-active":!!this.footerPanel_})}"><div class="gmf-app-desktop-splitter"><div id="gmf-app-data-panel" class="gmf-app-data-panel ui-resizable" ngeo-resizemap="mainCtrl.map" ngeo-resizemap-state="mainCtrl.dataPanelActive"><slot name="data"></slot></div><div id="gmf-app-panel-separator-container"><div class="gmf-app-data-panel-toggle-btn btn prime btn-sm" @click="${()=>this.toggleShowDatapanel_()}"><span class="${this.showDatapanel_?"fa-solid fa-angles-left gmf-app-data-panel-collapse-btn":"fa-solid fa-angles-right gmf-app-data-panel-expand-btn"}"></span></div><div id="gmf-app-data-panel-separator" class="ui-resizable-e"></div></div><div class="gmf-app-map-container"><div id="gmf-app-map"><slot name="map"></slot></div><div class="gmf-app-footer ${class_map_e({"gmf-app-active":!!this.showInfobar_})}"><button class="btn fa-solid gmf-app-map-info ${this.showInfobar_?"fa-angles-down":"fa-angles-up"}" @click="${()=>this.toggleShowInfobar_()}"></button><slot name="infobar-left"></slot><div class="pull-right"><slot name="infobar-right"></slot></div><div class="footer"><slot name="infobar-footer"></slot></div></div></div><slot name="modal"></slot><div class="gmf-app-tools" ngeo-resizemap="mainCtrl.map" ngeo-resizemap-state="mainCtrl.toolsActive"><div class="gmf-app-bar"><div class="btn-group-vertical"><slot name="tool-button"></slot></div><br><br><span data-toggle="tooltip" data-placement="left" data-original-title="${i18next.Ay.t("Share this map")}"><div class="container-fluid"><slot name="tool-button-separate"></slot></div></span></div><div id="gmf-app-tool-panel-separator" class="ui-resizable-w ${this.toolPanel_?`gmf-app-tools-content-${this.toolPanel_}`:"hide"}"><div class="gmf-app-tools-content-toggle-btn btn prime btn-sm" @click="${()=>panels.A.closeToolPanel()}"><span class="fa-solid fa-angles-right gmf-app-tools-content-collapse-btn"></span></div></div><div id="gmf-app-tools-content" class="container-fluid ${class_map_e({hide:!this.toolPanel_})}"><div class="row"><div class="col-sm-12"><a class="btn close" @click="${()=>panels.A.closeToolPanel()}">×</a><slot name="tool-panel-${this.toolPanel_}"></slot></div></div></div></div></div></main><footer><slot name="footer-${this.footerPanel_}"></slot></footer>`}updated(){this.mapElementQuery_!=this.mapElement_&&(this.resizeObserver_.disconnect(),this.resizeObserver_.observe(this.mapElementQuery_),this.mapElement_=this.mapElementQuery_),this.map_&&(this.map_.updateSize(),this.map_.renderSync())}};GmfDesktopCanvas.styles=[...BaseElement.A.styles,lit.AH`.pull-right{float:right}.hide{display:none}.btn{font-size:.8rem;line-height:1.5}button.btn:focus{box-shadow:unset}.btn.close{z-index:1}footer{position:relative;z-index:3}.ui-resizable-helper{border:2px;border-color:var(--brand-secondary-dark);background-color:var(--brand-secondary);opacity:.4}.gmf-app-desktop-splitter{width:100%;height:100%;display:flex}.ui-resizable-e{height:100%;background-color:var(--brand-secondary-dark);cursor:ew-resize;z-index:3;border-left:var(--current-left-panel-border-width);border-left-color:var(--border-color);border-right:var(--current-left-panel-border-width);border-right-color:var(--border-color)}#gmf-app-data-panel{display:block;float:left;background-color:var(--brand-secondary);width:var(--left-panel-width);height:100%;display:flex;flex-flow:column;flex-shrink:0;padding:0}.gmf-app-data-panel-collapse-btn{display:block}.gmf-app-data-panel-expand-btn{display:block}.gmf-app-data-panel-toggle-btn{height:calc(1.5 * var(--icon-font-size));padding:.5rem .1rem;position:absolute;top:calc(50% - var(--icon-font-size));cursor:pointer;z-index:5}#gmf-app-panel-separator-container{width:var(--current-left-panel-separator-width);position:relative;flex-shrink:0}#gmf-app-data-panel-separator{width:var(--current-left-panel-separator-width);float:left;position:absolute}#gmf-app-tool-panel-separator{float:right}.ui-resizable-w{width:7px;background-color:var(--brand-secondary-dark);cursor:ew-resize;z-index:3;border-left:var(--border);border-left-color:var(--border-color);border-right:var(--border);border-right-color:var(--border-color)}.gmf-app-map-container{width:100%;height:100%;overflow:hidden;position:relative;display:block;border-top:.06rem solid;border-top-color:var(--btn-default-border)}.gmf-app-map-container .gmf-app-footer{padding:var(--padding-small-vertical);position:absolute;z-index:2;bottom:calc(var(--infobar-height) * -1);max-height:var(--infobar-height);min-height:var(--infobar-height);background-color:var(--main-bg-color-09);width:100%;margin-bottom:0;transition:.2s ease-out all;border-top:var(--border);border-top-color:var(--border-color)}.gmf-app-footer.gmf-app-active{bottom:0}.gmf-app-footer>div{display:inline-block}.gmf-app-footer>div.footer{display:block}.gmf-app-footer button.gmf-app-map-info{position:absolute;bottom:calc(var(--infobar-height) - 1px);border-top-left-radius:var(--border-radius-base);border-top-right-radius:var(--border-radius-base);border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:var(--main-bg-color-08);padding:0;left:50%;width:var(--width);margin-left:calc(var(--width)/ -2);border-bottom:none;border:var(--border);border-color:var(--border-color);font-weight:900}#gmf-app-map{transition:.2s ease-out all;bottom:0;position:absolute;height:100%;width:100%}.gmf-app-tools{float:right;background-color:var(--brand-secondary);left:0!important;display:flex;width:fit-content}#gmf-app-tools-content{min-width:var(--current-right-panel-width);padding:0 0;transition:margin-right .2s ease,width 1ms ease;height:100%;flex-grow:1;order:1;width:var(--current-right-panel-width);left:0!important}#gmf-app-tools-content .row{padding:0 var(--app-margin)}#gmf-app-tools-content .close{font-size:1.2rem;padding:0;position:absolute;top:.6rem;right:1rem}#gmf-app-tool-panel-separator .gmf-app-tools-content-toggle-btn{height:1.5 * var(--icon-font-size)!important;right:10px;padding:.5rem .1rem;position:relative;top:calc(50% - var(--icon-font-size));cursor:pointer;z-index:5}#gmf-app-tool-panel-separator .ui-resizable-w{background-color:var(--brand-secondary-dark);cursor:ew-resize;left:5px;border-left:var(--border);border-left-color:var(--border-color);border-right:var(--border);border-right-color:var(--border-color)}#gmf-app-tool-panel-separator .gmf-app-tools-content-collapse-btn{display:block}#gmf-app-tool-panel-separator .gmf-app-tools-content-expand-btn{display:none}#gmf-app-tools-content>div{height:100%;margin-right:calc(var(--app-margin) * -1);margin-left:calc(var(--app-margin) * -1)}#gmf-app-tools-content>div>div{height:100%;overflow-x:hidden;overflow-y:auto}#gmf-app-tools-content.gmf-app-active{margin-right:0}#gmf-app-tools-content .profile-panel button{width:100%}#gmf-app-tools-content .widget-scene-canvas{width:100%!important}.gmf-app-tools .gmf-app-bar{background-color:var(--brand-primary);border-left:var(--border);border-left-color:var(--border-color);order:2;height:100%;position:relative;z-index:2;flex-shrink:0;padding-top:1px}.gmf-app-tools .gmf-app-bar .btn-group-vertical{width:100%}.gmf-app-tools .gmf-app-bar .container-fluid{padding:0}.gmf-app-data-panel,.gmf-app-tools{height:100%;position:relative}header{height:var(--header-height)}main{height:calc(100% - var(--header-height))}main.gmf-footer-active{height:calc(100% - var(--header-height) - var(--current-footer-panel-height))}footer{height:12.5rem}`],DesktopElement_decorate([(0,decorators.wk)()],GmfDesktopCanvas.prototype,"toolPanel_",void 0),DesktopElement_decorate([(0,decorators.wk)()],GmfDesktopCanvas.prototype,"footerPanel_",void 0),DesktopElement_decorate([(0,decorators.wk)()],GmfDesktopCanvas.prototype,"showDatapanel_",void 0),DesktopElement_decorate([(0,decorators.wk)()],GmfDesktopCanvas.prototype,"showInfobar_",void 0),DesktopElement_decorate([(0,decorators.wk)()],GmfDesktopCanvas.prototype,"customCSS_",void 0),DesktopElement_decorate([(0,decorators.P)("#gmf-app-map")],GmfDesktopCanvas.prototype,"mapElementQuery_",void 0),GmfDesktopCanvas=DesktopElement_decorate([(0,decorators.EM)("gmf-desktop-canvas")],GmfDesktopCanvas);var ToolPanelElement=__webpack_require__("./srcapi/elements/ToolPanelElement.ts"),config=__webpack_require__("./srcapi/store/config.ts"),Desktop_stories_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const Desktop_stories={title:"Desktop canvas",component:"gmf-desktop-canvas"};function Template(args){return args.tool_panel?panels.A.openToolPanel(args.tool_panel,{state:!0}):panels.A.closeToolPanel(),args.footer_panel?panels.A.openFooterPanel(args.footer_panel,{state:!0,autoClose:args.auto_close_footer_panel}):panels.A.closeFooterPanel(),config.Ay.setConfig({gmfOptions:{showInfobar:args.show_info_bar}}),["<style>",":root {","  --infobar-height: 3.5rem;","  --right-panel-width-2: 20rem;","}","</style>",'<gmf-desktop-canvas style="height: 25rem; display: block;">','<p slot="header">header</p>','<p slot="data">data 1</p>','<p slot="data">data 1</p>','<p slot="map">map 1</p>','<p slot="map">map 2</p>','<gmf-tool-button slot="tool-button" panelName="1">',"  <span>",'    <i class="fa-solid fa-arrow-pointer"></i>',"  </span>","</gmf-tool-button>",'<gmf-tool-panel slot="tool-panel-1" panelName="Title 1"><div>content 1</div></gmf-tool-panel>','<gmf-tool-button slot="tool-button" iconClasses="fa-solid fa-print" panelName="2"></gmf-tool-button>','<gmf-tool-panel slot="tool-panel-2" panelName="Title 2"><div>content 2</div></gmf-tool-panel>','<gmf-button-3 slot="tool-button-separate" iconClasses="fa-solid fa-paintbrush" panelName="3"></gmf-button-3>','<gmf-tool-panel slot="tool-panel-3" panelName="Title 3"><div>content 3</div></gmf-tool-panel>','<p slot="footer-3">panel 3</p>','<span slot="infobar-left">left</span>','<span slot="infobar-right">right</span>','<span slot="infobar-footer">footer</span>',"</gmf-desktop-canvas>"].join("\n")}let ToolButton3=class ToolButton3 extends ToolButtonDefault{constructor(){super("3")}};ToolButton3.styles=[...elements_ToolButtonElement.styles,lit.AH`button.btn{border:none;line-height:1}`],ToolButton3=Desktop_stories_decorate([(0,decorators.EM)("gmf-button-3")],ToolButton3);let ToolPanelDefault=class ToolPanelDefault extends ToolPanelElement.A{render(){return lit.qy`${this.getTitle(this.panelName)}<slot></slot>`}};Desktop_stories_decorate([(0,decorators.MZ)({type:String})],ToolPanelDefault.prototype,"panelName",void 0),ToolPanelDefault=Desktop_stories_decorate([(0,decorators.EM)("gmf-tool-panel")],ToolPanelDefault);const defaultProperties={tool_panel:"",footer_panel:"",auto_close_footer_panel:!1,show_info_bar:!1},PanelsClosed=Template.bind({});PanelsClosed.args={...defaultProperties};const ToolOpen=Template.bind({});ToolOpen.args={...defaultProperties},ToolOpen.args.tool_panel="1";const FooterOpen=Template.bind({});FooterOpen.args={...defaultProperties},FooterOpen.args.footer_panel="3";const FooterAutoClose=Template.bind({});FooterAutoClose.args={...defaultProperties},FooterAutoClose.args.footer_panel="3",FooterAutoClose.args.autoclose_footer_panel=!0;const InfoBarOpen=Template.bind({});InfoBarOpen.args={...defaultProperties},InfoBarOpen.args.show_info_bar=!0},"./srcapi/store/map.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");const __WEBPACK_DEFAULT_EXPORT__=new class MapModel{constructor(){this.map_=new rxjs__WEBPACK_IMPORTED_MODULE_0__.t(null)}getMap(){return this.map_}setMap(map){this.map_.next(map)}}},"./srcapi/store/panels.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");const __WEBPACK_DEFAULT_EXPORT__=new class PanelsModel{constructor(){this.activeToolPanel_=new rxjs__WEBPACK_IMPORTED_MODULE_0__.t(null),this.activeFooterPanel_=new rxjs__WEBPACK_IMPORTED_MODULE_0__.t(null),this.filterActive_=new rxjs__WEBPACK_IMPORTED_MODULE_0__.t(!1),this.activeToolPanelState_=null,this.activeFooterPanelState_=null,this.autoCloseFooterPanel_=!1}getActiveToolPanel(){return this.activeToolPanel_}getActiveFooterPanel(){return this.activeFooterPanel_}getFilterActive(){return this.filterActive_}openToolPanel(panel,options){let state=(options=options||{}).state;if(void 0===state)state=this.activeToolPanelState_!=panel;else{if(state&&this.activeToolPanelState_==panel)return;if(!state&&this.activeToolPanelState_!=panel&&!0!==options.noError)throw new Error("You try to close a tool panel that's not open")}this.activeToolPanelState_=state?panel:null,this.activeToolPanel_.next(this.activeToolPanelState_),this.autoCloseFooterPanel_&&this.activeFooterPanelState_&&(this.activeFooterPanelState_=null,this.activeFooterPanel_.next(null))}openFooterPanel(panel,options){let state=(options=options||{}).state;if(void 0===state)state=this.activeFooterPanelState_!=panel;else{if(state&&this.activeFooterPanelState_==panel)return;if(!state&&this.activeFooterPanelState_!=panel&&!0!==options.noError)throw new Error("You try to close a footer panel that's not open")}this.activeFooterPanelState_=state?panel:null,this.activeFooterPanel_.next(this.activeFooterPanelState_),this.autoCloseFooterPanel_=!0===options.autoClose}closeToolPanel(){this.activeToolPanelState_&&this.openToolPanel(this.activeToolPanelState_,{state:!1})}closeFooterPanel(){this.activeFooterPanelState_&&this.openFooterPanel(this.activeFooterPanelState_,{state:!1})}setFilterActive(active){this.filterActive_.next(active)}}}}]);